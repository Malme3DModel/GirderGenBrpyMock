var pfe=Math.pow;(self.webpackChunkthreeTest=self.webpackChunkthreeTest||[]).push([[179],{743:(Q,ue,b)=>{"use strict";var L={};b.r(L),b.d(L,{Decoder:()=>O3,Encoder:()=>zwe,PacketType:()=>Ho,protocol:()=>Vwe});var M={};function T(n){return"function"==typeof n}function R(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}b.r(M),b.d(M,{CONTEXTMENU_ITEMS_ADD_COMMENT:()=>fj,CONTEXTMENU_ITEMS_ALIGNMENT:()=>vj,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:()=>xj,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:()=>_j,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:()=>wj,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:()=>yj,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:()=>Sj,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:()=>bj,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:()=>Mj,CONTEXTMENU_ITEMS_BORDERS:()=>Cj,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:()=>Rj,CONTEXTMENU_ITEMS_BORDERS_LEFT:()=>Dj,CONTEXTMENU_ITEMS_BORDERS_RIGHT:()=>Tj,CONTEXTMENU_ITEMS_BORDERS_TOP:()=>Ej,CONTEXTMENU_ITEMS_CLEAR_COLUMN:()=>sj,CONTEXTMENU_ITEMS_COPY:()=>aj,CONTEXTMENU_ITEMS_CUT:()=>lj,CONTEXTMENU_ITEMS_EDIT_COMMENT:()=>pj,CONTEXTMENU_ITEMS_FREEZE_COLUMN:()=>uj,CONTEXTMENU_ITEMS_HIDE_COLUMN:()=>Lj,CONTEXTMENU_ITEMS_HIDE_ROW:()=>Ij,CONTEXTMENU_ITEMS_INSERT_LEFT:()=>QU,CONTEXTMENU_ITEMS_INSERT_RIGHT:()=>ej,CONTEXTMENU_ITEMS_MERGE_CELLS:()=>dj,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:()=>kj,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:()=>Oj,CONTEXTMENU_ITEMS_NO_ITEMS:()=>ZU,CONTEXTMENU_ITEMS_READ_ONLY:()=>oj,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:()=>gj,CONTEXTMENU_ITEMS_REDO:()=>ij,CONTEXTMENU_ITEMS_REMOVE_BORDERS:()=>Aj,CONTEXTMENU_ITEMS_REMOVE_COLUMN:()=>nj,CONTEXTMENU_ITEMS_REMOVE_COMMENT:()=>mj,CONTEXTMENU_ITEMS_REMOVE_ROW:()=>tj,CONTEXTMENU_ITEMS_ROW_ABOVE:()=>qU,CONTEXTMENU_ITEMS_ROW_BELOW:()=>JU,CONTEXTMENU_ITEMS_SHOW_COLUMN:()=>Pj,CONTEXTMENU_ITEMS_SHOW_ROW:()=>Nj,CONTEXTMENU_ITEMS_UNDO:()=>rj,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:()=>cj,CONTEXTMENU_ITEMS_UNMERGE_CELLS:()=>hj,CONTEXT_MENU_ITEMS_NAMESPACE:()=>Xi,FILTERS_BUTTONS_CANCEL:()=>u4,FILTERS_BUTTONS_CLEAR:()=>a4,FILTERS_BUTTONS_OK:()=>l4,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:()=>c4,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:()=>h4,FILTERS_BUTTONS_PLACEHOLDER_VALUE:()=>d4,FILTERS_BUTTONS_SELECT_ALL:()=>s4,FILTERS_CONDITIONS_AFTER:()=>qj,FILTERS_CONDITIONS_BEFORE:()=>Jj,FILTERS_CONDITIONS_BEGINS_WITH:()=>zj,FILTERS_CONDITIONS_BETWEEN:()=>Kj,FILTERS_CONDITIONS_BY_VALUE:()=>GHe,FILTERS_CONDITIONS_CONTAINS:()=>jj,FILTERS_CONDITIONS_EMPTY:()=>Fj,FILTERS_CONDITIONS_ENDS_WITH:()=>Uj,FILTERS_CONDITIONS_EQUAL:()=>Bj,FILTERS_CONDITIONS_GREATER_THAN:()=>Yj,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:()=>Gj,FILTERS_CONDITIONS_LESS_THAN:()=>$j,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:()=>Xj,FILTERS_CONDITIONS_NAMESPACE:()=>oa,FILTERS_CONDITIONS_NONE:()=>IP,FILTERS_CONDITIONS_NOT_BETWEEN:()=>Zj,FILTERS_CONDITIONS_NOT_CONTAIN:()=>Wj,FILTERS_CONDITIONS_NOT_EMPTY:()=>Hj,FILTERS_CONDITIONS_NOT_EQUAL:()=>Vj,FILTERS_CONDITIONS_TODAY:()=>Qj,FILTERS_CONDITIONS_TOMORROW:()=>e4,FILTERS_CONDITIONS_YESTERDAY:()=>t4,FILTERS_DIVS_FILTER_BY_CONDITION:()=>n4,FILTERS_DIVS_FILTER_BY_VALUE:()=>r4,FILTERS_LABELS_CONJUNCTION:()=>o4,FILTERS_LABELS_DISJUNCTION:()=>NP,FILTERS_NAMESPACE:()=>Gu,FILTERS_VALUES_BLANK_CELLS:()=>FP});const A=R(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function N(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class F{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(o){e=o instanceof A?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{oe(o)}catch(s){e=null!=e?e:[],s instanceof A?e=[...e,...s.errors]:e.push(s)}}if(e)throw new A(e)}}add(e){var t;if(e&&e!==this)if(this.closed)oe(e);else{if(e instanceof F){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&N(t,e)}remove(e){const{_finalizers:t}=this;t&&N(t,e),e instanceof F&&e._removeParent(this)}}F.EMPTY=(()=>{const n=new F;return n.closed=!0,n})();const Y=F.EMPTY;function te(n){return n instanceof F||n&&"closed"in n&&T(n.remove)&&T(n.add)&&T(n.unsubscribe)}function oe(n){T(n)?n():n.unsubscribe()}const ae={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fe={setTimeout(n,e,...t){const{delegate:r}=fe;return null!=r&&r.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=fe;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function me(n){fe.setTimeout(()=>{const{onUnhandledError:e}=ae;if(!e)throw n;e(n)})}function K(){}const ce=De("C",void 0,void 0);function De(n,e,t){return{kind:n,value:e,error:t}}let Ue=null;function rt(n){if(ae.useDeprecatedSynchronousErrorHandling){const e=!Ue;if(e&&(Ue={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ue;if(Ue=null,t)throw r}}else n()}class Oe extends F{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,te(e)&&e.add(this)):this.destination=Kt}static create(e,t,r){return new vt(e,t,r)}next(e){this.isStopped?Wt(function Fe(n){return De("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Wt(function Te(n){return De("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wt(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function ct(n,e){return Ke.call(n,e)}class nt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Pt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Pt(r)}else Pt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Pt(t)}}}class vt extends Oe{constructor(e,t,r){let i;if(super(),T(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let o;this&&ae.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ct(e.next,o),error:e.error&&ct(e.error,o),complete:e.complete&&ct(e.complete,o)}):i=e}this.destination=new nt(i)}}function Pt(n){ae.useDeprecatedSynchronousErrorHandling?function Ye(n){ae.useDeprecatedSynchronousErrorHandling&&Ue&&(Ue.errorThrown=!0,Ue.error=n)}(n):me(n)}function Wt(n,e){const{onStoppedNotification:t}=ae;t&&fe.setTimeout(()=>t(n,e))}const Kt={closed:!0,next:K,error:function Ft(n){throw n},complete:K},Zt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Nt(n){return n}function ge(n){return 0===n.length?Nt:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let dt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function bn(n){return n&&n instanceof Oe||function Yt(n){return n&&T(n.next)&&T(n.error)&&T(n.complete)}(n)&&te(n)}(t)?t:new vt(t,r,i);return rt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Rt(r))((i,o)=>{const s=new vt({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Zt](){return this}pipe(...t){return ge(t)(this)}toPromise(t){return new(t=Rt(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Rt(n){var e;return null!==(e=null!=n?n:ae.Promise)&&void 0!==e?e:Promise}const Mn=R(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ht=(()=>{class n extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Zn(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Mn}next(t){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Y:(this.currentObservers=null,o.push(t),new F(()=>{this.currentObservers=null,N(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new dt;return t.source=this,t}}return n.create=(e,t)=>new Zn(e,t),n})();class Zn extends Ht{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Y}}function Un(n){return T(null==n?void 0:n.lift)}function Wn(n){return e=>{if(Un(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function In(n,e,t,r,i){return new Mr(n,e,t,r,i)}class Mr extends Oe{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Rn(n,e){return Wn((t,r)=>{let i=0;t.subscribe(In(r,o=>{r.next(n.call(e,o,i++))}))})}function Ct(n){return this instanceof Ct?(this.v=n,this):new Ct(n)}function qt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(y){return new Promise(function(w,S){o.push([g,y,w,S])>1||a(g,y)})})}function a(g,y){try{!function u(g){g.value instanceof Ct?Promise.resolve(g.value.v).then(c,h):p(o[0][2],g)}(r[g](y))}catch(w){p(o[0][3],w)}}function c(g){a("next",g)}function h(g){a("throw",g)}function p(g,y){g(y),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Sn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function qe(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}const Xl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function qi(n){return T(null==n?void 0:n.then)}function la(n){return T(n[Zt])}function ua(n){return Symbol.asyncIterator&&T(null==n?void 0:n[Symbol.asyncIterator])}function Ao(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ji=function ms(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Kl(n){return T(null==n?void 0:n[Ji])}function yu(n){return qt(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ct(t.read());if(i)return yield Ct(void 0);yield yield Ct(r)}}finally{t.releaseLock()}})}function Zl(n){return T(null==n?void 0:n.getReader)}function gs(n){if(n instanceof dt)return n;if(null!=n){if(la(n))return function mg(n){return new dt(e=>{const t=n[Zt]();if(T(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Xl(n))return function kc(n){return new dt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(qi(n))return function Ra(n){return new dt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,me)})}(n);if(ua(n))return dh(n);if(Kl(n))return function Qn(n){return new dt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Zl(n))return function ec(n){return dh(yu(n))}(n)}throw Ao(n)}function dh(n){return new dt(e=>{(function Ko(n,e){var t,r,i,o;return function He(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(h){try{c(r.next(h))}catch(p){s(p)}}function u(h){try{c(r.throw(h))}catch(p){s(p)}}function c(h){h.done?o(h.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Sn(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function fl(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function $o(n,e,t=1/0){return T(e)?$o((r,i)=>Rn((o,s)=>e(r,o,i,s))(gs(n(r,i))),t):("number"==typeof e&&(t=e),Wn((r,i)=>function So(n,e,t,r,i,o,s,a){const u=[];let c=0,h=0,p=!1;const g=()=>{p&&!u.length&&!c&&e.complete()},y=S=>c<r?w(S):u.push(S),w=S=>{o&&e.next(S),c++;let C=!1;gs(t(S,h++)).subscribe(In(e,P=>{null==i||i(P),o?y(P):e.next(P)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;u.length&&c<r;){const P=u.shift();s?fl(e,s,()=>w(P)):w(P)}g()}catch(P){e.error(P)}}))};return n.subscribe(In(e,y,()=>{p=!0,g()})),()=>{null==a||a()}}(r,i,n,t)))}function Oo(n=1/0){return $o(Nt,n)}const xo=new dt(n=>n.complete());function Ri(n){return n&&T(n.schedule)}function Vs(n){return n[n.length-1]}function Ka(n){return T(Vs(n))?n.pop():void 0}function Za(n){return Ri(Vs(n))?n.pop():void 0}function fh(n,e=0){return Wn((t,r)=>{t.subscribe(In(r,i=>fl(r,n,()=>r.next(i),e),()=>fl(r,n,()=>r.complete(),e),i=>fl(r,n,()=>r.error(i),e)))})}function _u(n,e=0){return Wn((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function nc(n,e){if(!n)throw new Error("Iterable cannot be null");return new dt(t=>{fl(t,e,()=>{const r=n[Symbol.asyncIterator]();fl(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Qo(n,e){return e?function ff(n,e){if(null!=n){if(la(n))return function ko(n,e){return gs(n).pipe(_u(e),fh(e))}(n,e);if(Xl(n))return function ph(n,e){return new dt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(qi(n))return function tc(n,e){return gs(n).pipe(_u(e),fh(e))}(n,e);if(ua(n))return nc(n,e);if(Kl(n))return function bu(n,e){return new dt(t=>{let r;return fl(t,e,()=>{r=n[Ji](),fl(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>T(null==r?void 0:r.return)&&r.return()})}(n,e);if(Zl(n))return function mh(n,e){return nc(yu(n),e)}(n,e)}throw Ao(n)}(n,e):gs(n)}function Lc(...n){const e=Za(n),t=function hh(n,e){return"number"==typeof Vs(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?gs(r[0]):Oo(t)(Qo(r,e)):xo}function gh(n={}){const{connector:e=(()=>new Ht),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,h=!1,p=!1;const g=()=>{null==a||a.unsubscribe(),a=void 0},y=()=>{g(),s=u=void 0,h=p=!1},w=()=>{const S=s;y(),null==S||S.unsubscribe()};return Wn((S,C)=>{c++,!p&&!h&&g();const P=u=null!=u?u:e();C.add(()=>{c--,0===c&&!p&&!h&&(a=rc(w,i))}),P.subscribe(C),!s&&c>0&&(s=new vt({next:B=>P.next(B),error:B=>{p=!0,g(),a=rc(y,t,B),P.error(B)},complete:()=>{h=!0,g(),a=rc(y,r),P.complete()}}),gs(S).subscribe(s))})(o)}}function rc(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new vt({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function ro(n){for(let e in n)if(n[e]===ro)return e;throw Error("Could not find renamed property on target object.")}function ql(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Lo(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Lo).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function vh(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const wp=ro({__forward_ref__:ro});function Qi(n){return n.__forward_ref__=Qi,n.toString=function(){return Lo(this())},n}function zr(n){return Pc(n)?n():n}function Pc(n){return"function"==typeof n&&n.hasOwnProperty(wp)&&n.__forward_ref__===Qi}class sn extends Error{constructor(e,t){super(function ml(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Qr(n){return"string"==typeof n?n:null==n?"":String(n)}function Jl(n,e){throw new sn(-201,!1)}function qs(n,e){null==n&&function Ui(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function fn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ni(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pr(n){return Et(n,Ms)||Et(n,vs)}function Et(n,e){return n.hasOwnProperty(e)?n[e]:null}function ji(n){return n&&(n.hasOwnProperty(Ss)||n.hasOwnProperty(Sd))?n[Ss]:null}const Ms=ro({\u0275prov:ro}),Ss=ro({\u0275inj:ro}),vs=ro({ngInjectableDef:ro}),Sd=ro({ngInjectorDef:ro});var dr=(()=>((dr=dr||{})[dr.Default=0]="Default",dr[dr.Host=1]="Host",dr[dr.Self=2]="Self",dr[dr.SkipSelf=4]="SkipSelf",dr[dr.Optional=8]="Optional",dr))();let xd;function zs(n){const e=xd;return xd=n,e}function es(n,e,t){const r=Pr(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&dr.Optional?null:void 0!==e?e:void Jl(Lo(n))}function qa(n){return{toString:n}.toString()}var Mu=(()=>((Mu=Mu||{})[Mu.OnPush=0]="OnPush",Mu[Mu.Default=1]="Default",Mu))(),Su=(()=>{return(n=Su||(Su={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Su;var n})();const Po=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),mf={},Wi=[],bg=ro({\u0275cmp:ro}),Rp=ro({\u0275dir:ro}),Py=ro({\u0275pipe:ro}),Vw=ro({\u0275mod:ro}),ic=ro({\u0275fac:ro}),eu=ro({__NG_ELEMENT_ID__:ro});let Nc=0;function Ci(n){return qa(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Mu.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Wi,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Su.Emulated,id:"c"+Nc++,styles:n.styles||Wi,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=Uw(n.inputs,r),i.outputs=Uw(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(zw).filter(Iy):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(ys).filter(Iy):null,i})}function zw(n){return Yi(n)||Io(n)}function Iy(n){return null!==n}function mi(n){return qa(()=>({type:n.type,bootstrap:n.bootstrap||Wi,declarations:n.declarations||Wi,imports:n.imports||Wi,exports:n.exports||Wi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Uw(n,e){if(null==n)return mf;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const kn=Ci;function Yi(n){return n[bg]||null}function Io(n){return n[Rp]||null}function ys(n){return n[Py]||null}function Dr(n,e){const t=n[Vw]||null;if(!t&&!0===e)throw new Error(`Type ${Lo(n)} does not have '\u0275mod' property.`);return t}function ka(n){return Array.isArray(n)&&"object"==typeof n[1]}function yl(n){return Array.isArray(n)&&!0===n[1]}function ac(n){return 0!=(8&n.flags)}function vf(n){return 2==(2&n.flags)}function Mh(n){return 1==(1&n.flags)}function Bl(n){return null!==n.template}function Ed(n){return 0!=(256&n[2])}function Rd(n,e){return n.hasOwnProperty(ic)?n[ic]:null}class eC{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ws(){return Zr}function Zr(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mg),By}function By(){const n=iu(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===mf)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Mg(n,e,t,r){const i=iu(n)||function Eu(n,e){return n[Gw]=e}(n,{previous:mf,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],u=s[a];o[a]=new eC(u&&u.currentValue,e,s===mf),n[r]=e}Ws.ngInherit=!0;const Gw="__ngSimpleChanges__";function iu(n){return n[Gw]||null}function os(n){for(;Array.isArray(n);)n=n[0];return n}function zo(n,e){return os(e[n])}function ca(n,e){return os(e[n.index])}function xh(n,e){return n.data[e]}function Ja(n,e){const t=e[n];return ka(t)?t:t[0]}function xg(n){return 4==(4&n[2])}function hr(n){return 64==(64&n[2])}function vo(n,e){return null==e?null:n[e]}function Op(n){n[18]=0}function qr(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const oi={lFrame:Fp(null),bindingsEnabled:!0};function Od(){return oi.bindingsEnabled}function mn(){return oi.lFrame.lView}function lo(){return oi.lFrame.tView}function _l(n){return oi.lFrame.contextLView=n,n[8]}function da(n){return oi.lFrame.contextLView=null,n}function Js(){let n=zl();for(;null!==n&&64===n.type;)n=n.parent;return n}function zl(){return oi.lFrame.currentTNode}function Qa(n,e){const t=oi.lFrame;t.currentTNode=n,t.isParent=e}function el(){return oi.lFrame.isParent}function jc(){oi.lFrame.isParent=!1}function bl(){return oi.lFrame.bindingIndex++}function Eg(n,e){const t=oi.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mf(e)}function Mf(n){oi.lFrame.currentDirectiveIndex=n}function Ul(n){const e=oi.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Sf(){return oi.lFrame.currentQueryIndex}function xf(n){oi.lFrame.currentQueryIndex=n}function Wy(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Np(n,e,t){if(t&dr.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&dr.Host||(i=Wy(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=oi.lFrame=$w();return r.currentTNode=e,r.lView=n,!0}function ln(n){const e=$w(),t=n[1];oi.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function $w(){const n=oi.lFrame,e=null===n?null:n.child;return null===e?Fp(n):e}function Fp(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Gc(){const n=oi.lFrame;return oi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Gi=Gc;function ks(){const n=Gc();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tl(){return oi.lFrame.selectedIndex}function Ls(n){oi.lFrame.selectedIndex=n}function Uo(){const n=oi.lFrame;return xh(n.tView,n.selectedIndex)}function ss(){oi.lFrame.currentNamespace="svg"}function $c(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=h&&(n.destroyHooks||(n.destroyHooks=[])).push(t,h)}}function uc(n,e,t){Hp(n,e,3,t)}function Rh(n,e,t,r){(3&n[2])===t&&Hp(n,e,t,r)}function kd(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Hp(n,e,t,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<o||-1==o)&&(nC(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function nC(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class jl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Ag(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];Kw(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Xw(n){return 3===n||4===n||6===n}function Kw(n){return 64===n.charCodeAt(0)}function cc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Zw(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Zw(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function qw(n){return-1!==n}function Ef(n){return 32767&n}function Tf(n,e){let t=function aC(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Xy=!0;function Og(n){const e=Xy;return Xy=n,e}let lC=0;const hc={};function Vp(n,e){const t=zp(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Ky(r.data,n),Ky(e,null),Ky(r.blueprint,null));const i=Xc(n,e),o=n.injectorIndex;if(qw(i)){const s=Ef(i),a=Tf(i,e),u=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Ky(n,e){n.push(0,0,0,0,0,0,0,0,e)}function zp(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Xc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=ER(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Ah(n,e,t){!function uC(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(eu)&&(r=t[eu]),null==r&&(r=t[eu]=lC++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function E(n,e,t){if(t&dr.Optional)return n;Jl()}function I(n,e,t,r){if(t&dr.Optional&&void 0===r&&(r=null),0==(t&(dr.Self|dr.Host))){const i=n[9],o=zs(void 0);try{return i?i.get(e,r,t&dr.Optional):es(e,r,t&dr.Optional)}finally{zs(o)}}return E(r,0,t)}function q(n,e,t,r=dr.Default,i){if(null!==n){if(1024&e[2]){const s=function QN(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=le(o,s,t,r|dr.Self,hc);if(a!==hc)return a;let u=o.parent;if(!u){const c=s[21];if(c){const h=c.get(t,hc,r);if(h!==hc)return h}u=ER(s),s=s[15]}o=u}return i}(n,e,t,r,hc);if(s!==hc)return s}const o=le(n,e,t,r,hc);if(o!==hc)return o}return I(e,t,r,i)}function le(n,e,t,r,i){const o=function Wr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(eu)?n[eu]:void 0;return"number"==typeof e?e>=0?255&e:Kc:e}(t);if("function"==typeof o){if(!Np(e,n,r))return r&dr.Host?E(i,0,r):I(e,t,r,i);try{const s=o(r);if(null!=s||r&dr.Optional)return s;Jl()}finally{Gi()}}else if("number"==typeof o){let s=null,a=zp(n,e),u=-1,c=r&dr.Host?e[16][6]:null;for((-1===a||r&dr.SkipSelf)&&(u=-1===a?Xc(n,e):e[a+8],-1!==u&&jo(r,!1)?(s=e[1],a=Ef(u),e=Tf(u,e)):a=-1);-1!==a;){const h=e[1];if(Ni(o,a,h.data)){const p=ve(a,e,t,s,r,c);if(p!==hc)return p}u=e[a+8],-1!==u&&jo(r,e[1].data[a+8]===c)&&Ni(o,a,e)?(s=h,a=Ef(u),e=Tf(u,e)):a=-1}}return i}function ve(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],h=ht(a,s,t,null==r?vf(a)&&Xy:r!=s&&0!=(3&a.type),i&dr.Host&&o===a);return null!==h?Qt(e,s,h,a):hc}function ht(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,h=o>>20,g=i?a+h:n.directiveEnd;for(let y=r?a:a+h;y<g;y++){const w=s[y];if(y<u&&t===w||y>=u&&w.type===t)return y}if(i){const y=s[u];if(y&&Bl(y)&&y.type===t)return u}return null}function Qt(n,e,t,r){let i=n[t];const o=e.data;if(function rC(n){return n instanceof jl}(i)){const s=i;s.resolving&&function wd(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new sn(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Bi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Qr(n)}(o[t]));const a=Og(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?zs(s.injectImpl):null;Np(n,r,dr.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Dg(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Zr(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==u&&zs(u),Og(a),s.resolving=!1,Gi()}}return i}function Ni(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function jo(n,e){return!(n&dr.Self||n&dr.Host&&e)}class $s{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return q(this._tNode,this._lView,e,r,t)}}function Kc(){return new $s(Js(),mn())}function Fi(n){return qa(()=>{const e=n.prototype.constructor,t=e[ic]||cC(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[ic]||cC(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function cC(n){return Pc(n)?()=>{const e=cC(zr(n));return e&&e()}:Rd(n)}function ER(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Oh(n){return function po(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Xw(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Js(),n)}const Lg="__parameters__";function Ig(n,e,t){return qa(()=>{const r=function dC(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,h){const p=u.hasOwnProperty(Lg)?u[Lg]:Object.defineProperty(u,Lg,{value:[]})[Lg];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Dn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=fn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Du(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Du(r,e)):e!==n&&e.push(r)}return e}function kh(n,e){n.forEach(t=>Array.isArray(t)?kh(t,e):e(t))}function RR(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Jw(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Jy(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Au(n,e,t){let r=Ng(n,e);return r>=0?n[1|r]=t:(r=~r,function r2(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function fC(n,e){const t=Ng(n,e);if(t>=0)return n[1|t]}function Ng(n,e){return function OR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Qy={},mC="__NG_DI_FLAG__",e0="ngTempTokenPath",h2=/\n/gm,kR="__source";let e_;function Fg(n){const e=e_;return e_=n,e}function p2(n,e=dr.Default){if(void 0===e_)throw new sn(-203,!1);return null===e_?es(n,void 0,e):e_.get(n,e&dr.Optional?null:void 0,e)}function gt(n,e=dr.Default){return(function Tp(){return xd}()||p2)(zr(n),e)}function _s(n,e=dr.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),gt(n,e)}function gC(n){const e=[];for(let t=0;t<n.length;t++){const r=zr(n[t]);if(Array.isArray(r)){if(0===r.length)throw new sn(900,!1);let i,o=dr.Default;for(let s=0;s<r.length;s++){const a=r[s],u=m2(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(gt(i,o))}else e.push(gt(r))}return e}function t_(n,e){return n[mC]=e,n.prototype[mC]=e,n}function m2(n){return n[mC]}const Rf=t_(Ig("Optional"),8),Hg=t_(Ig("SkipSelf"),4);let yC,Vg;function zg(n){var e;return(null===(e=function o0(){if(void 0===Vg&&(Vg=null,Po.trustedTypes))try{Vg=Po.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Vg}())||void 0===e?void 0:e.createHTML(n))||n}class Pa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ou extends Pa{getTypeName(){return"HTML"}}class zR extends Pa{getTypeName(){return"Style"}}class D2 extends Pa{getTypeName(){return"Script"}}class A2 extends Pa{getTypeName(){return"URL"}}class O2 extends Pa{getTypeName(){return"ResourceURL"}}function ku(n){return n instanceof Pa?n.changingThisBreaksApplicationSecurity:n}function Ld(n,e){const t=function k2(n){return n instanceof Pa&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class H2{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(zg(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class B2{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=zg(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=zg(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const s=t.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const z2=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,U2=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function o_(n){return(n=String(n)).match(z2)||n.match(U2)?n:"unsafe:"+n}function Pd(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function s_(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const WR=Pd("area,br,col,hr,img,wbr"),YR=Pd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),GR=Pd("rp,rt"),wC=s_(WR,s_(YR,Pd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),s_(GR,Pd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),s_(GR,YR)),MC=Pd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SC=Pd("srcset"),xC=s_(MC,SC,Pd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),CC=Pd("script,style,template");class $R{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!wC.hasOwnProperty(t))return this.sanitizedSomething=!0,!CC.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!xC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;MC[a]&&(u=o_(u)),SC[a]&&(n=u,u=(n=String(n)).split(",").map(e=>o_(e.trim())).join(", ")),this.buf.push(" ",s,'="',EC(u),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();wC.hasOwnProperty(t)&&!WR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(EC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const W2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Df=/([^\#-~ |!])/g;function EC(n){return n.replace(/&/g,"&amp;").replace(W2,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Df,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let a0;function XR(n,e){let t=null;try{a0=a0||function UR(n){const e=new B2(n);return function V2(){try{return!!(new window.DOMParser).parseFromString(zg(""),"text/html")}catch(n){return!1}}()?new H2(e):e}(n);let r=e?String(e):"";t=a0.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=a0.getInertBodyElement(r)}while(r!==o);return zg((new $R).sanitizeChildren(l0(t)||t))}finally{if(t){const r=l0(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function l0(n){return"content"in n&&function KR(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var yo=(()=>((yo=yo||{})[yo.NONE=0]="NONE",yo[yo.HTML=1]="HTML",yo[yo.STYLE=2]="STYLE",yo[yo.SCRIPT=3]="SCRIPT",yo[yo.URL=4]="URL",yo[yo.RESOURCE_URL=5]="RESOURCE_URL",yo))();const RC=new Dn("ENVIRONMENT_INITIALIZER"),DC=new Dn("INJECTOR",-1),eD=new Dn("INJECTOR_DEF_TYPES");class AC{get(e,t=Qy){if(t===Qy){const r=new Error(`NullInjectorError: No provider for ${Lo(e)}!`);throw r.name="NullInjectorError",r}return t}}function tD(...n){return{\u0275providers:nD(0,n)}}function nD(n,...e){const t=[],r=new Set;let i;return kh(e,o=>{const s=o;OC(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&rD(i,t),t}function rD(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];kh(i,o=>{e.push(o)})}}function OC(n,e,t,r){if(!(n=zr(n)))return!1;let i=null,o=ji(n);const s=!o&&Yi(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=ji(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)OC(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{kh(o.imports,h=>{OC(h,e,t,r)&&(c||(c=[]),c.push(h))})}finally{}void 0!==c&&rD(c,e)}if(!a){const c=Rd(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Wi},{provide:eD,useValue:i,multi:!0},{provide:RC,useValue:()=>gt(i),multi:!0})}const u=o.providers;null==u||a||kh(u,h=>{e.push(h)})}}return i!==n&&void 0!==n.providers}const K2=ro({provide:String,useValue:ro});function kC(n){return null!==n&&"object"==typeof n&&K2 in n}function jp(n){return"function"==typeof n}const LC=new Dn("Set Injector scope."),u0={},Z2={};let PC;function c0(){return void 0===PC&&(PC=new AC),PC}class Af{}class IC extends Af{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jg(e,s=>this.processProvider(s)),this.records.set(DC,Ug(void 0,this)),i.has("environment")&&this.records.set(Af,Ug(void 0,this));const o=this.records.get(LC);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(eD.multi,Wi,dr.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Fg(this),r=zs(void 0);try{return e()}finally{Fg(t),zs(r)}}get(e,t=Qy,r=dr.Default){this.assertNotDestroyed();const i=Fg(this),o=zs(void 0);try{if(!(r&dr.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function J2(n){return"function"==typeof n||"object"==typeof n&&n instanceof Dn}(e)&&Pr(e);a=u&&this.injectableDefInScope(u)?Ug(NC(e),u0):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&dr.Self?c0():this.parent).get(e,t=r&dr.Optional&&t===Qy?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[e0]=s[e0]||[]).unshift(Lo(e)),i)throw s;return function g2(n,e,t,r){const i=n[e0];throw e[kR]&&i.unshift(e[kR]),n.message=function v2(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Lo(e);if(Array.isArray(e))i=e.map(Lo).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Lo(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(h2,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[e0]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{zs(o),Fg(i)}}resolveInjectorInitializers(){const e=Fg(this),t=zs(void 0);try{const r=this.get(RC.multi,Wi,dr.Self);for(const i of r)i()}finally{Fg(e),zs(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Lo(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new sn(205,!1)}processProvider(e){let t=jp(e=zr(e))?e:zr(e&&e.provide);const r=function h0(n){return kC(n)?Ug(void 0,n.useValue):Ug(aD(n),u0)}(e);if(jp(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ug(void 0,u0,!0),i.factory=()=>gC(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===u0&&(t.value=Z2,t.value=t.factory()),"object"==typeof t.value&&t.value&&function q2(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=zr(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function NC(n){const e=Pr(n),t=null!==e?e.factory:Rd(n);if(null!==t)return t;if(n instanceof Dn)throw new sn(204,!1);if(n instanceof Function)return function d0(n){const e=n.length;if(e>0)throw Jy(e,"?"),new sn(204,!1);const t=function yn(n){const e=n&&(n[Ms]||n[vs]);if(e){const t=function Jn(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new sn(204,!1)}function aD(n,e,t){let r;if(jp(n)){const i=zr(n);return Rd(i)||NC(i)}if(kC(n))r=()=>zr(n.useValue);else if(function oD(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...gC(n.deps||[]));else if(function iD(n){return!(!n||!n.useExisting)}(n))r=()=>gt(zr(n.useExisting));else{const i=zr(n&&(n.useClass||n.provide));if(!function lD(n){return!!n.deps}(n))return Rd(i)||NC(i);r=()=>new i(...gC(n.deps))}return r}function Ug(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function uD(n){return!!n.\u0275providers}function jg(n,e){for(const t of n)Array.isArray(t)?jg(t,e):uD(t)?jg(t.\u0275providers,e):e(t)}class Wg{}class ns{resolveComponentFactory(e){throw function cD(n){const e=Error(`No component factory found for ${Lo(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Of=(()=>{class n{}return n.NULL=new ns,n})();function u_(){return Id(Js(),mn())}function Id(n,e){return new wi(ca(n,e))}let wi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=u_,n})();function au(n){return n instanceof wi?n.nativeElement:n}class pc{}let mc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Gg(){const n=mn(),t=Ja(Js().index,n);return(ka(t)?t:n)[11]}(),n})(),c_=(()=>{class n{}return n.\u0275prov=fn({token:n,providedIn:"root",factory:()=>null}),n})();class gc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const $g=new gc("14.1.3"),kf={};function Yp(n){return n.ngOriginalError}class Nd{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Yp(e);for(;t&&Yp(t);)t=Yp(t);return t||null}}const b0=new Map;let vD=0;const Lh="__ngContext__";function il(n,e){ka(e)?(n[Lh]=e[20],function WC(n){b0.set(n[20],n)}(e)):n[Lh]=e}function Gp(n){const e=n[Lh];return"number"==typeof e?function m_(n){return b0.get(n)||null}(e):e||null}function Kg(n){const e=Gp(n);return e?ka(e)?e:e.lView:null}const C0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Po))();function Ph(n){return n.ownerDocument.defaultView}function qc(n){return n instanceof Function?n():n}var lu=(()=>((lu=lu||{})[lu.Important=1]="Important",lu[lu.DashCase=2]="DashCase",lu))();function KC(n,e){return undefined(n,e)}function g_(n){const e=n[3];return yl(e)?e[3]:e}function ZC(n){return A0(n[13])}function qC(n){return A0(n[4])}function A0(n){for(;null!==n&&!yl(n);)n=n[4];return n}function Jc(n,e,t,r,i){if(null!=r){let o,s=!1;yl(r)?o=r:ka(r)&&(s=!0,r=r[0]);const a=os(r);0===n&&null!==t?null==i?ED(e,t,a):Xp(e,t,a,i||null,!0):1===n&&null!==t?Xp(e,t,a,i||null,!0):2===n?function Ml(n,e,t){const r=Hd(n,e);r&&function N0(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function B0(n,e,t,r,i){const o=t[7];o!==os(t)&&Jc(e,n,r,o,i);for(let a=10;a<t.length;a++){const u=t[a];Bd(u[1],u,n,e,r,o)}}(e,n,o,t,i)}}function k0(n,e,t){return n.createElement(e,t)}function QC(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,qr(i,-1)),t.splice(r,1)}function $p(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&QC(i,r),e>0&&(n[t-1][4]=r[4]);const o=Jw(n,10+e);!function L0(n,e){Bd(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function I0(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Bd(n,e,t,3,null,null),function v_(n){let e=n[13];if(!e)return eE(n[1],n);for(;e;){let t=null;if(ka(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)ka(e)&&eE(e[1],e),e=e[3];null===e&&(e=n),ka(e)&&eE(e[1],e),t=e&&e[4]}e=t}}(e)}}function eE(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function CD(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof jl)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function Fh(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):os(e[s]),u=r[i=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&yl(e[3])){t!==e[3]&&QC(t,e);const r=e[19];null!==r&&r.detachView(n)}!function Zc(n){b0.delete(n[20])}(e)}}function tE(n,e,t){return function Fd(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Su.None||i===Su.Emulated)return null}return ca(r,t)}(n,e.parent,t)}function Xp(n,e,t,r,i){n.insertBefore(e,t,r,i)}function ED(n,e,t){n.appendChild(e,t)}function y_(n,e,t,r,i){null!==r?Xp(n,e,t,r,i):ED(n,e,t)}function Hd(n,e){return n.parentNode(e)}function Jg(n,e,t){return Qg(n,e,t)}let Qg=function TD(n,e,t){return 40&n.type?ca(n,t):null};function Kp(n,e,t,r){const i=tE(n,r,e),o=e[11],a=Jg(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)y_(o,i,t[u],a,!1);else y_(o,i,t,a,!1)}function Zp(n,e){if(null!==e){const t=e.type;if(3&t)return ca(e,n);if(4&t)return w_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Zp(n,r);{const i=n[e.index];return yl(i)?w_(-1,i):os(i)}}if(32&t)return KC(e,n)()||os(n[e.index]);{const r=b_(n,e);return null!==r?Array.isArray(r)?r[0]:Zp(g_(n[16]),r):Zp(n,e.next)}}return null}function b_(n,e){return null!==e?n[16][6].projection[e.projection]:null}function w_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Zp(r,i)}return e[7]}function M_(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&il(os(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)M_(n,e,t.child,r,i,o,!1),Jc(e,n,i,a,o);else if(32&u){const c=KC(t,r);let h;for(;h=c();)Jc(e,n,i,h,o);Jc(e,n,i,a,o)}else 16&u?Hh(n,e,r,t,i,o):Jc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Bd(n,e,t,r,i,o){M_(t,r,n.firstChild,e,i,o,!1)}function Hh(n,e,t,r,i,o){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Jc(e,n,i,u[c],o);else M_(n,e,u,s[3],i,o,!0)}function V0(n,e,t){n.setAttribute(e,"style",t)}function S_(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function z0(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const DD="ng-template";function bs(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==z0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function uu(n){return 4===n.type&&n.value!==DD}function U0(n,e,t){return e===(4!==n.type||t?n.value:DD)}function x_(n,e,t){let r=4;const i=n.attrs||[],o=function C_(n){for(let e=0;e<n.length;e++)if(Xw(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!U0(n,u,t)||""===u&&1===e.length){if(cu(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!bs(n.attrs,c,t)){if(cu(r))return!1;s=!0}continue}const p=Qc(8&r?"class":u,i,uu(n),t);if(-1===p){if(cu(r))return!1;s=!0;continue}if(""!==c){let g;g=p>o?"":i[p+1].toLowerCase();const y=8&r?g:null;if(y&&-1!==z0(y,c,0)||2&r&&c!==g){if(cu(r))return!1;s=!0}}}}else{if(!s&&!cu(r)&&!cu(u))return!1;if(s&&cu(u))continue;s=!1,r=u|1&r}}return cu(r)||s}function cu(n){return 0==(1&n)}function Qc(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function j0(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Lf(n,e,t=!1){for(let r=0;r<e.length;r++)if(x_(n,e[r],t))return!0;return!1}function tv(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Pf(n,e){return n?":not("+e.trim()+")":e}function E_(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!cu(s)&&(e+=Pf(o,i),i=""),r=s,o=o||!cu(r);t++}return""!==i&&(e+=Pf(o,i)),e}const Ai={};function kr(n){W0(lo(),mn(),tl()+n,!1)}function W0(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&uc(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Rh(e,o,0,t)}Ls(t)}function R_(n,e=null,t=null,r){const i=Sl(n,e,t,r);return i.resolveInjectorInitializers(),i}function Sl(n,e=null,t=null,r,i=new Set){const o=[t||Wi,tD(n)];return r=r||("object"==typeof n?void 0:Lo(n)),new IC(o,e||c0(),r||null,i)}let Cs=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return R_({name:""},r,t,"");{const o=null!==(i=t.name)&&void 0!==i?i:"";return R_({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=Qy,n.NULL=new AC,n.\u0275prov=fn({token:n,providedIn:"any",factory:()=>gt(DC)}),n.__NG_ELEMENT_ID__=-1,n})();function ke(n,e=dr.Default){const t=mn();return null===t?gt(n,e):q(Js(),t,zr(n),e)}function iv(){throw new Error("invalid")}function O_(n,e){return n<<17|e<<2}function Iu(n){return n>>17&32767}function L_(n){return 2|n}function Ud(n){return(131068&n)>>2}function P_(n,e){return-131069&n|e<<2}function eM(n){return 1|n}function qD(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];xf(i),s.contentQueries(2,e[o],o)}}}function oM(n,e,t,r,i,o,s,a,u,c,h){const p=e.blueprint.slice();return p[0]=i,p[2]=76|r,(null!==h||n&&1024&n[2])&&(p[2]|=1024),Op(p),p[3]=p[15]=n,p[8]=t,p[10]=s||n&&n[10],p[11]=a||n&&n[11],p[12]=u||n&&n[12]||null,p[9]=c||n&&n[9]||null,p[6]=o,p[20]=function yD(){return vD++}(),p[21]=h,p[16]=2==e.type?n[16]:p,p}function uv(n,e,t,r,i){let o=n.data[e];if(null===o)o=function vE(n,e,t,r,i){const o=zl(),s=el(),u=n.data[e]=function CF(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(n,e,t,r,i),function jy(){return oi.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Eh(){const n=oi.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Qa(o,!0),o}function cv(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function sM(n,e,t){ln(e);try{const r=n.viewQuery;null!==r&&Ff(1,r,t);const i=n.template;null!==i&&ol(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qD(n,e),n.staticViewQueries&&Ff(2,n.viewQuery,t);const o=n.components;null!==o&&function xF(n,e){for(let t=0;t<e.length;t++)AF(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,ks()}}function F_(n,e,t,r){const i=e[2];if(128!=(128&i)){ln(e);try{Op(e),function Yc(n){return oi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&ol(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&uc(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Rh(e,c,0,null),kd(e,0)}if(function Qs(n){for(let e=ZC(n);null!==e;e=qC(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&qr(o,1),i[2]|=512}}}(e),function DF(n){for(let e=ZC(n);null!==e;e=qC(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];hr(r)&&F_(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&qD(n,e),s){const c=n.contentCheckHooks;null!==c&&uc(e,c)}else{const c=n.contentHooks;null!==c&&Rh(e,c,1),kd(e,1)}!function mE(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ls(~i);else{const o=i,s=t[++r],a=t[++r];Eg(s,o),a(2,e[o])}}}finally{Ls(-1)}}(n,e);const a=n.components;null!==a&&function gE(n,e){for(let t=0;t<e.length;t++)dM(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Ff(2,u,r),s){const c=n.viewCheckHooks;null!==c&&uc(e,c)}else{const c=n.viewHooks;null!==c&&Rh(e,c,2),kd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,qr(e[3],-1))}finally{ks()}}}function JD(n,e,t,r){const i=e[10],s=xg(e);try{!s&&i.begin&&i.begin(),s&&sM(n,e,r),F_(n,e,t,r)}finally{!s&&i.end&&i.end()}}function ol(n,e,t,r,i){const o=tl(),s=2&r;try{Ls(-1),s&&e.length>22&&W0(n,e,22,!1),t(r,i)}finally{Ls(o)}}function yE(n,e,t){if(ac(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function _E(n,e,t){!Od()||(function SE(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||Vp(t,e),il(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=Bl(u);c&&TF(e,t,u);const h=Qt(e,n,a,t);il(h,e),null!==s&&uA(0,a-i,h,u,0,s),c&&(Ja(t.index,e)[8]=h)}}(n,e,t,ca(t,e)),128==(128&t.flags)&&function iA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function Tg(){return oi.lFrame.currentDirectiveIndex}();try{Ls(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];Mf(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&xE(u,c)}}finally{Ls(-1),Mf(s)}}(n,e,t))}function aM(n,e,t=ca){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function H_(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=B_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function B_(n,e,t,r,i,o,s,a,u,c){const h=22+r,p=h+i,g=function bE(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ai);return t}(h,p),y="function"==typeof c?c():c;return g[1]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function lM(n,e,t,r){const i=DE(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&AE(n).push(r,i.length-1))}function tA(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function wE(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const h=i[c],p=h.inputs,g=null===o||uu(e)?null:RF(p,o);s.push(g),a=tA(p,c,a),u=tA(h.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=u}function hu(n,e,t,r,i,o,s,a){const u=ca(e,t);let h,c=e.inputs;!a&&null!=c&&(h=c[r])?(zh(n,t,h,r,i),vf(e)&&V_(t,e.index)):3&e.type&&(r=function dv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}function V_(n,e){const t=Ja(e,n);16&t[2]||(t[2]|=32)}function ME(n,e,t,r){let i=!1;if(Od()){const o=function EF(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Lf(t,s.selectors,!1)&&(i||(i=[]),Ah(Vp(t,e),n,s.type),Bl(s)?(oA(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,lA(t,n.data.length,o.length);for(let h=0;h<o.length;h++){const p=o[h];p.providersResolver&&p.providersResolver(p)}let a=!1,u=!1,c=cv(n,e,o.length,null);for(let h=0;h<o.length;h++){const p=o[h];t.mergedAttrs=cc(t.mergedAttrs,p.hostAttrs),CE(n,t,e,c,p),aA(c,p,s),null!==p.contentQueries&&(t.flags|=8),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=128);const g=p.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),c++}wE(n,t)}s&&function sA(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new sn(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=cc(t.mergedAttrs,t.attrs),i}function Vh(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function cM(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function xE(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function oA(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function aA(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Bl(e)&&(t[""]=n)}}function lA(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function CE(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Rd(i.type)),s=new jl(o,Bl(i),ke);n.blueprint[r]=s,t[r]=s,Vh(n,e,0,r,cv(n,t,i.hostVars,Ai),i)}function TF(n,e,t){const r=ca(e,n),i=H_(t),o=n[10],s=z_(n,oM(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}function td(n,e,t,r,i,o){const s=ca(n,e);!function hv(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Qr(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function uA(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const c=s[u++],h=s[u++],p=s[u++];null!==a?r.setInput(t,p,c,h):t[h]=p}}}function RF(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Ps(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function dM(n,e){const t=Ja(e,n);if(hr(t)){const r=t[1];48&t[2]?F_(r,t,r.template,t[8]):t[5]>0&&hM(t)}}function hM(n){for(let r=ZC(n);null!==r;r=qC(r))for(let i=10;i<r.length;i++){const o=r[i];if(hr(o))if(512&o[2]){const s=o[1];F_(s,o,s.template,o[8])}else o[5]>0&&hM(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Ja(t[r],n);hr(i)&&i[5]>0&&hM(i)}}function AF(n,e){const t=Ja(e,n),r=t[1];(function OF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),sM(r,t,t[8])}function z_(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function fv(n){for(;n;){n[2]|=32;const e=g_(n);if(Ed(n)&&!e)return n;n=e}return null}function RE(n){!function cA(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Kg(t);if(null!==r){const i=r[1];JD(i,r,i.template,t)}}}(n[8])}function Ff(n,e,t){xf(0),e(n,t)}const jd=(()=>Promise.resolve(null))();function DE(n){return n[7]||(n[7]=[])}function AE(n){return n.cleanup||(n.cleanup=[])}function nm(n,e,t){return(null===n||Bl(n))&&(t=function ts(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function nd(n,e){const t=n[9],r=t?t.get(Nd,null):null;r&&r.handleError(e)}function zh(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],u=e[s],c=n.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function pv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=vh(i,a):2==o&&(r=vh(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Hf(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(os(o)),yl(o))for(let a=10;a<o.length;a++){const u=o[a],c=u[1].firstChild;null!==c&&Hf(u[1],u,c,r)}const s=t.type;if(8&s)Hf(n,e,t.child,r);else if(32&s){const a=KC(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=b_(e,t);if(Array.isArray(a))r.push(...a);else{const u=g_(e[16]);Hf(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class mv{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Hf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(yl(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&($p(e,r),Jw(t,r))}this._attachedToViewContainer=!1}I0(this._lView[1],this._lView)}onDestroy(e){lM(this._lView[1],this._lView,null,e)}markForCheck(){fv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function fM(n,e,t){const r=e[10];r.begin&&r.begin();try{F_(n,e,n.template,t)}catch(i){throw nd(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new sn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oF(n,e){Bd(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new sn(902,!1);this._appRef=e}}class pM extends mv{constructor(e){super(e),this._view=e}detectChanges(){RE(this._view)}checkNoChanges(){}get context(){return null}}class mM extends Of{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Yi(e);return new vv(t,this.ngModule)}}function gM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class gv{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,kf,r);return i!==kf||t===kf?i:this.parentInjector.get(e,t,r)}}class vv extends Wg{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function T_(n){return n.map(E_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return gM(this.componentDef.inputs)}get outputs(){return gM(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Af?i:null==i?void 0:i.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new gv(e,o):e,a=s.get(pc,null);if(null===a)throw new sn(407,!1);const u=s.get(c_,null),c=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function eA(n,e,t){return n.selectRootElement(e,t===Su.ShadowDom)}(c,r,this.componentDef.encapsulation):k0(a.createRenderer(null,this.componentDef),h,function rm(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),g=this.componentDef.onPush?288:272,y=function LF(n,e){return{components:[],scheduler:n||C0,clean:jd,playerHandler:e||null,flags:0}}(),w=B_(0,null,null,1,0,null,null,null,null,null),S=oM(null,w,y,g,null,null,a,c,u,s,null);let C,P;ln(S);try{const B=function hA(n,e,t,r,i,o){const s=t[1];t[22]=n;const u=uv(s,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(pv(u,c,!0),null!==n&&(Ag(i,n,c),null!==u.classes&&S_(i,n,u.classes),null!==u.styles&&V0(i,n,u.styles)));const h=r.createRenderer(n,e),p=oM(t,H_(e),null,e.onPush?32:16,t[22],u,r,h,o||null,null,null);return s.firstCreatePass&&(Ah(Vp(u,t),s,e.type),oA(s,u),lA(u,t.length,1)),z_(t,p),t[22]=p}(p,this.componentDef,S,a,c);if(p)if(r)Ag(c,p,["ng-version",$g.full]);else{const{attrs:z,classes:j}=function aF(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!cu(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);z&&Ag(c,p,z),j&&j.length>0&&S_(c,p,j.join(" "))}if(P=xh(w,22),void 0!==t){const z=P.projection=[];for(let j=0;j<this.ngContentSelectors.length;j++){const G=t[j];z.push(null!=G?Array.from(G):null)}}C=function vM(n,e,t,r,i){const o=t[1],s=function rA(n,e,t){const r=Js();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),CE(n,r,e,cv(n,e,1,null),t),wE(n,r));const i=Qt(e,n,r.directiveStart,r);il(i,e);const o=ca(r,e);return o&&il(o,e),i}(o,t,e);if(r.components.push(s),n[8]=s,null!==i)for(const u of i)u(s,e);if(e.contentQueries){const u=Js();e.contentQueries(1,s,u.directiveStart)}const a=Js();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ls(a.index),Vh(t[1],a,0,a.directiveStart,a.directiveEnd,e),xE(e,s)),s}(B,this.componentDef,S,y,[fA]),sM(w,S,null)}finally{ks()}return new kF(this.componentType,C,Id(P,S),S,P)}}class kF extends class Wp{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new pM(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;zh(o[1],o,i,e,t),V_(o,this._tNode.index)}}get injector(){return new $s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function fA(){const n=Js();$c(mn()[1],n)}function pr(n){let e=function yM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Bl(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new sn(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=OE(n.inputs),s.declaredInputs=OE(n.declaredInputs),s.outputs=OE(n.outputs);const a=i.hostBindings;a&&HF(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&NF(n,u),c&&FF(n,c),ql(n.inputs,i.inputs),ql(n.declaredInputs,i.declaredInputs),ql(n.outputs,i.outputs),Bl(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===pr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function IF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=cc(i.hostAttrs,t=cc(t,i.hostAttrs))}}(r)}function OE(n){return n===mf?{}:n===Wi?[]:n}function NF(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function FF(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function HF(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let _M=null;function im(){if(!_M){const n=Po.Symbol;if(n&&n.iterator)_M=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(_M=r)}}}return _M}function U_(n){return!!kE(n)&&(Array.isArray(n)||!(n instanceof Map)&&im()in n)}function kE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function xl(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function qo(n,e,t,r){const i=mn();return xl(i,bl(),e)&&(lo(),td(Uo(),i,n,e,t,r)),qo}function O(n,e,t,r,i,o,s,a){const u=mn(),c=lo(),h=n+22,p=c.firstCreatePass?function k(n,e,t,r,i,o,s,a,u){const c=e.consts,h=uv(e,n,4,s||null,vo(c,a));ME(e,t,h,vo(c,u)),$c(e,h);const p=h.tViews=B_(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,c,u,e,t,r,i,o,s):c.data[h];Qa(p,!1);const g=u[11].createComment("");Kp(c,u,g,p),il(g,u),z_(u,u[h]=Ps(g,u,g,p)),Mh(p)&&_E(c,u,p),null!=s&&aM(u,p,a)}function H(n){return function Ad(n,e){return n[e]}(function Vr(){return oi.lFrame.contextLView}(),22+n)}function V(n,e,t){const r=mn();return xl(r,bl(),e)&&hu(lo(),Uo(),r,n,e,r[11],t,!1),V}function W(n,e,t,r,i){const s=i?"class":"style";zh(n,t,e.inputs[s],s,r)}function ee(n,e,t,r){const i=mn(),o=lo(),s=22+n,a=i[11],u=i[s]=k0(a,e,function Th(){return oi.lFrame.currentNamespace}()),c=o.firstCreatePass?function J(n,e,t,r,i,o,s){const a=e.consts,c=uv(e,n,2,i,vo(a,o));return ME(e,t,c,vo(a,s)),null!==c.attrs&&pv(c,c.attrs,!1),null!==c.mergedAttrs&&pv(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];Qa(c,!0);const h=c.mergedAttrs;null!==h&&Ag(a,u,h);const p=c.classes;null!==p&&S_(a,u,p);const g=c.styles;return null!==g&&V0(a,u,g),64!=(64&c.flags)&&Kp(o,i,u,c),0===function kp(){return oi.lFrame.elementDepthCount}()&&il(u,i),function Ch(){oi.lFrame.elementDepthCount++}(),Mh(c)&&(_E(o,i,c),yE(o,c,i)),null!==r&&aM(i,c),ee}function se(){let n=Js();el()?jc():(n=n.parent,Qa(n,!1));const e=n;!function Lp(){oi.lFrame.elementDepthCount--}();const t=lo();return t.firstCreatePass&&($c(t,n),ac(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function oC(n){return 0!=(16&n.flags)}(e)&&W(t,e,mn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function sC(n){return 0!=(32&n.flags)}(e)&&W(t,e,mn(),e.stylesWithoutHost,!1),se}function ie(n,e,t,r){return ee(n,e,t,r),se(),ie}function Re(n,e,t){const r=mn(),i=lo(),o=n+22,s=i.firstCreatePass?function X(n,e,t,r,i){const o=e.consts,s=vo(o,r),a=uv(e,n,8,"ng-container",s);return null!==s&&pv(a,s,!0),ME(e,t,a,vo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];Qa(s,!0);const a=r[o]=r[11].createComment("");return Kp(i,r,a,s),il(a,r),Mh(s)&&(_E(i,r,s),yE(i,s,r)),null!=t&&aM(r,s),Re}function xe(){let n=Js();const e=lo();return el()?jc():(n=n.parent,Qa(n,!1)),e.firstCreatePass&&($c(e,n),ac(n)&&e.queries.elementEnd(n)),xe}function Me(){return mn()}function tt(n){return!!n&&"function"==typeof n.then}const wt=function At(n){return!!n&&"function"==typeof n.subscribe};function st(n,e,t,r){const i=mn(),o=lo(),s=Js();return zt(o,i,i[11],s,n,e,0,r),st}function Ut(n,e){const t=Js(),r=mn(),i=lo();return zt(i,r,nm(Ul(i.data),t,r),t,n,e),Ut}function zt(n,e,t,r,i,o,s,a){const u=Mh(r),h=n.firstCreatePass&&AE(n),p=e[8],g=DE(e);let y=!0;if(3&r.type||a){const C=ca(r,e),P=a?a(C):C,B=g.length,z=a?G=>a(os(G[r.index])):r.index;let j=null;if(!a&&u&&(j=function en(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,y=!1;else{o=jt(r,e,p,o,!1);const G=t.listen(P,i,o);g.push(o,G),h&&h.push(i,z,B,B+1)}}else o=jt(r,e,p,o,!1);const w=r.outputs;let S;if(y&&null!==w&&(S=w[i])){const C=S.length;if(C)for(let P=0;P<C;P+=2){const re=e[S[P]][S[P+1]].subscribe(o),pe=g.length;g.push(o,re),h&&h.push(i,r.index,pe,-(pe+1))}}}function Tt(n,e,t,r){try{return!1!==t(r)}catch(i){return nd(n,i),!1}}function jt(n,e,t,r,i){return function o(s){if(s===Function)return r;fv(2&n.flags?Ja(n.index,e):e);let u=Tt(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Tt(e,0,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Gt(n=1){return function Yy(n){return(oi.lFrame.contextLView=function Gy(n,e){for(;n>0;)e=e[15],n--;return e}(n,oi.lFrame.contextLView))[8]}(n)}function Fn(n,e){let t=null;const r=function rE(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Lf(n,o,!0):tv(r,o))return i}else t=i}return t}function Gn(n){const e=mn()[16][6];if(!e.projection){const r=e.projection=Jy(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?Fn(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function $n(n,e=0,t){const r=mn(),i=lo(),o=uv(i,22+n,16,null,t||null);null===o.projection&&(o.projection=e),jc(),64!=(64&o.flags)&&function Vd(n,e,t){Hh(e[11],0,e,t,tE(n,t,e),Jg(t.parent||e[6],t,e))}(i,r,o)}function Kn(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Iu(o):Ud(o),u=!1;for(;0!==a&&(!1===u||s);){const h=n[a+1];rr(n[a],e)&&(u=!0,n[a+1]=r?eM(h):L_(h)),a=r?Iu(h):Ud(h)}u&&(n[t+1]=r?L_(o):eM(o))}function rr(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ng(n,e)>=0}function Nr(n,e,t){return yc(n,e,t,!1),Nr}function Vi(n,e){return yc(n,e,null,!0),Vi}function yc(n,e,t,r){const i=mn(),o=lo(),s=function Ru(n){const e=oi.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function _A(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[tl()],s=function wM(n,e){return e>=n.expandoStartIndex}(n,t);(function uo(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function W_(n,e,t,r){const i=Ul(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Tv(t=id(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=id(i,n,e,t,r),null===o){let u=function bA(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ud(r))return n[Iu(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=id(null,n,e,u[1],r),u=Tv(u,e.attrs,r),function wA(n,e,t,r){n[Iu(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function MA(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Tv(r,n[o].hostAttrs,t);return Tv(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function Wo(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Iu(s),u=Ud(s);n[r]=t;let h,c=!1;if(Array.isArray(t)){const p=t;h=p[1],(null===h||Ng(p,h)>0)&&(c=!0)}else h=t;if(i)if(0!==u){const g=Iu(n[a+1]);n[r+1]=O_(g,a),0!==g&&(n[g+1]=P_(n[g+1],r)),n[a+1]=function k_(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=O_(a,0),0!==a&&(n[a+1]=P_(n[a+1],r)),a=r;else n[r+1]=O_(u,0),0===a?a=r:n[u+1]=P_(n[u+1],r),u=r;c&&(n[r+1]=L_(n[r+1])),Kn(n,h,r,!0),Kn(n,h,r,!1),function Ln(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ng(o,e)>=0&&(t[r+1]=eM(t[r+1]))}(e,h,n,r,o),s=O_(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==Ai&&xl(i,s,e)&&function rn(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1];an(function ov(n){return 1==(1&n)}(c)?Jt(u,e,t,i,Ud(c),s):void 0)||(an(o)||function dE(n){return 2==(2&n)}(c)&&(o=Jt(u,null,t,i,a,s)),function nE(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:lu.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=lu.Important),n.setStyle(t,r,i,o))}}(r,s,zo(tl(),t),i,o))}(o,o.data[tl()],i,i[11],n,i[s+1]=function ir(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Lo(ku(n)))),n}(e,t),r,s)}function id(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Tv(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Tv(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Au(n,s,!!t||e[++o]))}return void 0===n?null:n}function Jt(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),h=c?u[1]:u,p=null===h;let g=t[i+1];g===Ai&&(g=p?Wi:void 0);let y=p?fC(g,r):h===r?g:void 0;if(c&&!an(y)&&(y=fC(u,r)),an(y)&&(a=y,s))return a;const w=n[i+1];i=s?Iu(w):Ud(w)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=fC(u,r))}return a}function an(n){return void 0!==n}function En(n,e=""){const t=mn(),r=lo(),i=n+22,o=r.firstCreatePass?uv(r,i,1,e,null):r.data[i],s=t[i]=function JC(n,e){return n.createText(e)}(t[11],e);Kp(r,t,s,o),Qa(o,!1)}function Ur(n,e,t){const r=mn(),i=function _v(n,e,t,r){return xl(n,bl(),t)?e+Qr(t)+r:Ai}(r,n,e,t);return i!==Ai&&function Uh(n,e,t){const r=zo(e,n);!function xs(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,tl(),i),Ur}function MM(n,e,t){const r=mn();return xl(r,bl(),e)&&hu(lo(),Uo(),r,n,e,r[11],t,!0),MM}function GF(n,e,t){const r=mn();if(xl(r,bl(),e)){const o=lo(),s=Uo();hu(o,s,r,n,e,nm(Ul(o.data),s,r),t,!0)}return GF}const xM="en-US";let n9=xM;function KF(n,e,t,r,i){if(n=zr(n),Array.isArray(n))for(let o=0;o<n.length;o++)KF(n[o],e,t,r,i);else{const o=lo(),s=mn();let a=jp(n)?n:zr(n.provide),u=aD(n);const c=Js(),h=1048575&c.providerIndexes,p=c.directiveStart,g=c.providerIndexes>>20;if(jp(n)||!n.multi){const y=new jl(u,i,ke),w=qF(a,e,i?h:h+g,p);-1===w?(Ah(Vp(c,s),o,a),ZF(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),s.push(y)):(t[w]=y,s[w]=y)}else{const y=qF(a,e,h+g,p),w=qF(a,e,h,h+g),S=y>=0&&t[y],C=w>=0&&t[w];if(i&&!C||!i&&!S){Ah(Vp(c,s),o,a);const P=function Tpe(n,e,t,r,i){const o=new jl(n,t,ke);return o.multi=[],o.index=e,o.componentProviders=0,T9(o,i,r&&!t),o}(i?Epe:Cpe,t.length,i,r,u);!i&&C&&(t[w].providerFactory=P),ZF(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(P),s.push(P)}else ZF(o,n,y>-1?y:w,T9(t[i?w:y],u,!i&&r));!i&&r&&C&&t[w].componentProviders++}}}function ZF(n,e,t,r){const i=jp(e),o=function sD(n){return!!n.useClass}(e);if(i||o){const u=(o?zr(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const h=c.indexOf(t);-1===h?c.push(t,[r,u]):c[h+1].push(r,u)}else c.push(t,u)}}}function T9(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function qF(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Cpe(n,e,t,r){return JF(this.multi,[])}function Epe(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Qt(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),JF(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],JF(i,o);return o}function JF(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Li(n,e=[]){return t=>{t.providersResolver=(r,i)=>function xpe(n,e,t){const r=lo();if(r.firstCreatePass){const i=Bl(n);KF(t,r.data,r.blueprint,i,!0),KF(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class X_{}class R9{}class D9 extends X_{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mM(this);const r=Dr(e);this._bootstrapComponents=qc(r.bootstrap),this._r3Injector=Sl(e,t,[{provide:X_,useValue:this},{provide:Of,useValue:this.componentFactoryResolver}],Lo(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class QF extends R9{constructor(e){super(),this.moduleType=e}create(e){return new D9(this.moduleType,e)}}class Dpe extends X_{constructor(e,t,r){super(),this.componentFactoryResolver=new mM(this),this.instance=null;const i=new IC([...e,{provide:X_,useValue:this},{provide:Of,useValue:this.componentFactoryResolver}],t||c0(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function RA(n,e,t=null){return new Dpe(n,e,t).injector}function N9(n,e,t,r){return function F9(n,e,t,r,i,o){const s=e+t;return xl(n,s,i)?function Wd(n,e,t){return n[e]=t}(n,s+1,o?r.call(o,i):r(i)):function HE(n,e){const t=n[e];return t===Ai?void 0:t}(n,s+1)}(mn(),function va(){const n=oi.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function tH(n){return e=>{setTimeout(n,void 0,e)}}const _o=class nme extends Ht{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,o,s;let a=e,u=t||(()=>null),c=r;if(e&&"object"==typeof e){const p=e;a=null===(i=p.next)||void 0===i?void 0:i.bind(p),u=null===(o=p.error)||void 0===o?void 0:o.bind(p),c=null===(s=p.complete)||void 0===s?void 0:s.bind(p)}this.__isAsync&&(u=tH(u),a&&(a=tH(a)),c&&(c=tH(c)));const h=super.subscribe({next:a,error:u,complete:c});return e instanceof F&&e.add(h),h}};function rme(){return this._results[im()]()}class EM{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=im(),r=EM.prototype;r[t]||(r[t]=rme)}get changes(){return this._changes||(this._changes=new _o)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Du(e);(this._changesDetected=!function t2(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let sl=(()=>{class n{}return n.__NG_ELEMENT_ID__=sme,n})();const ime=sl,ome=class extends ime{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=oM(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),sM(r,i,e),new mv(i)}};function sme(){return DA(Js(),mn())}function DA(n,e){return 4&n.type?new ome(e,n,Id(n,e)):null}let Cl=(()=>{class n{}return n.__NG_ELEMENT_ID__=ame,n})();function ame(){return W9(Js(),mn())}const lme=Cl,U9=class extends lme{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Id(this._hostTNode,this._hostLView)}get injector(){return new $s(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xc(this._hostTNode,this._hostLView);if(qw(e)){const t=Tf(e,this._hostLView),r=Ef(e);return new $s(t[1].data[r+8],t)}return new $s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=j9(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function qy(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const u=s?e:new vv(Yi(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const g=(s?c:this.parentInjector).get(Af,null);g&&(o=g)}const h=u.create(c,i,void 0,o);return this.insert(h.hostView,a),h}insert(e,t){const r=e._lView,i=r[1];if(function Uc(n){return yl(n[3])}(r)){const h=this.indexOf(e);if(-1!==h)this.detach(h);else{const p=r[3],g=new U9(p,p[6],p[3]);g.detach(g.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function sF(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],RR(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function xD(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=w_(o,s),u=r[11],c=Hd(u,s[7]);return null!==c&&function P0(n,e,t,r,i,o){r[0]=i,r[6]=e,Bd(n,r,t,1,i,o)}(i,s[6],u,r,c,a),e.attachToViewContainerRef(),RR(nH(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=j9(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=$p(this._lContainer,t);r&&(Jw(nH(this._lContainer),t),I0(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=$p(this._lContainer,t);return r&&null!=Jw(nH(this._lContainer),t)?new mv(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function j9(n){return n[8]}function nH(n){return n[8]||(n[8]=[])}function W9(n,e){let t;const r=e[n.index];if(yl(r))t=r;else{let i;if(8&n.type)i=os(r);else{const o=e[11];i=o.createComment("");const s=ca(n,e);Xp(o,Hd(o,s),i,function H0(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=Ps(r,e,i,n),z_(e,t)}return new U9(t,n,e)}class rH{constructor(e){this.queryList=e,this.matches=null}clone(){return new rH(this.queryList)}setDirty(){this.queryList.setDirty()}}class iH{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new iH(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==K9(e,t).matches&&this.queries[t].setDirty()}}class Y9{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class oH{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new oH(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class sH{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new sH(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,dme(t,o)),this.matchTNodeWithReadOption(e,t,ht(t,e,o,!1,!1))}else r===sl?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ht(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===wi||i===Cl||i===sl&&4&t.type)this.addMatch(t.index,-2);else{const o=ht(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function dme(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function fme(n,e,t,r){return-1===t?function hme(n,e){return 11&n.type?Id(n,e):4&n.type?DA(n,e):null}(e,n):-2===t?function pme(n,e,t){return t===wi?Id(e,n):t===sl?DA(e,n):t===Cl?W9(e,n):void 0}(n,e,r):Qt(n,n[1],t,e)}function G9(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:fme(e,o[c],s[u+1],t.metadata.read))}i.matches=a}return i.matches}function aH(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=G9(n,e,i,t);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],h=e[-u];for(let p=10;p<h.length;p++){const g=h[p];g[17]===g[3]&&aH(g[1],g,c,r)}if(null!==h[9]){const p=h[9];for(let g=0;g<p.length;g++){const y=p[g];aH(y[1],y,c,r)}}}}}return r}function Eo(n){const e=mn(),t=lo(),r=Sf();xf(r+1);const i=K9(t,r);if(n.dirty&&xg(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?aH(t,e,r,[]):G9(t,e,i,r);n.reset(o,au),n.notifyOnChanges()}return!0}return!1}function El(n,e,t){const r=lo();r.firstCreatePass&&(X9(r,new Y9(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),$9(r,mn(),e)}function al(n,e,t,r){const i=lo();if(i.firstCreatePass){const o=Js();X9(i,new Y9(e,t,r),o.index),function gme(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}$9(i,mn(),t)}function To(){return function mme(n,e){return n[19].queries[e].queryList}(mn(),Sf())}function $9(n,e,t){const r=new EM(4==(4&t));lM(n,e,r,r.destroy),null===e[19]&&(e[19]=new iH),e[19].queries.push(new rH(r))}function X9(n,e,t){null===n.queries&&(n.queries=new oH),n.queries.track(new sH(e,t))}function K9(n,e){return n.queries.getByIndex(e)}function OA(...n){}const kA=new Dn("Application Initializer");let LA=(()=>{class n{constructor(t){this.appInits=t,this.resolve=OA,this.reject=OA,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(tt(o))t.push(o);else if(wt(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(gt(kA,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zE=new Dn("AppId",{providedIn:"root",factory:function p7(){return`${hH()}${hH()}${hH()}`}});function hH(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const m7=new Dn("Platform Initializer"),PA=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),g7=new Dn("appBootstrapListener"),Bf=new Dn("AnimationModuleType");let Fme=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Vf=new Dn("LocaleId",{providedIn:"root",factory:()=>_s(Vf,dr.Optional|dr.SkipSelf)||function Hme(){return"undefined"!=typeof $localize&&$localize.locale||xM}()});class Vme{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let fH=(()=>{class n{compileModuleSync(t){return new QF(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=qc(Dr(t).declarations).reduce((s,a)=>{const u=Yi(a);return u&&s.push(new vv(u)),s},[]);return new Vme(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jme=(()=>Promise.resolve(0))();function pH(n){"undefined"==typeof Zone?jme.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Si{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _o(!1),this.onMicrotaskEmpty=new _o(!1),this.onStable=new _o(!1),this.onError=new _o(!1),"undefined"==typeof Zone)throw new sn(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Wme(){let n=Po.requestAnimationFrame,e=Po.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function $me(n){const e=()=>{!function Gme(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Po,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,gH(n),n.isCheckStableRunning=!0,mH(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),gH(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return _7(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),b7(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return _7(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),b7(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,gH(n),mH(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Si.isInAngularZone())throw new sn(909,!1)}static assertNotInAngularZone(){if(Si.isInAngularZone())throw new sn(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Yme,OA,OA);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Yme={};function mH(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gH(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function _7(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function b7(n){n._nesting--,mH(n)}class Xme{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _o,this.onMicrotaskEmpty=new _o,this.onStable=new _o,this.onError=new _o}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const w7=new Dn(""),IA=new Dn("");let UE,vH=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,UE||(function Kme(n){UE=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Si.assertNotInAngularZone(),pH(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pH(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(gt(Si),gt(yH),gt(IA))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),yH=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){var i;return null!==(i=null==UE?void 0:UE.findTestabilityInTree(this,t,r))&&void 0!==i?i:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),zf=null;const M7=new Dn("AllowMultipleToken"),_H=new Dn("PlatformDestroyListeners");class S7{constructor(e,t){this.name=e,this.token=t}}function C7(n,e,t=[]){const r=`Platform: ${e}`,i=new Dn(r);return(o=[])=>{let s=bH();if(!s||s.injector.get(M7,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function Jme(n){if(zf&&!zf.get(M7,!1))throw new sn(400,!1);zf=n;const e=n.get(T7);(function x7(n){const e=n.get(m7,null);e&&e.forEach(t=>t())})(n)}(function E7(n=[],e){return Cs.create({name:e,providers:[{provide:LC,useValue:"platform"},{provide:_H,useValue:new Set([()=>zf=null])},...n]})}(a,r))}return function ege(n){const e=bH();if(!e)throw new sn(401,!1);return e}()}}function bH(){var n;return null!==(n=null==zf?void 0:zf.get(T7))&&void 0!==n?n:null}let T7=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function tge(n,e){let t;return t="noop"===n?new Xme:("zone.js"===n?void 0:n)||new Si(e),t}(null==r?void 0:r.ngZone,function R7(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Si,useValue:i}];return i.run(()=>{const s=Cs.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(Nd,null);if(!u)throw new sn(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:h=>{u.handleError(h)}});a.onDestroy(()=>{NA(this._modules,a),c.unsubscribe()})}),function D7(n,e,t){try{const r=t();return tt(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(LA);return c.runInitializers(),c.donePromise.then(()=>(function r9(n){qs(n,"Expected localeId to be defined"),"string"==typeof n&&(n9=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Vf,xM)||xM),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=A7({},r);return function Zme(n,e,t){const r=new QF(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(AM);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new sn(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new sn(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(_H,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(gt(Cs))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function A7(n,e){return Array.isArray(e)?e.reduce(A7,n):Object.assign(Object.assign({},n),e)}let AM=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new dt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new dt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Si.assertNotInAngularZone(),pH(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Si.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=Lc(o,s.pipe(gh()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Wg;if(!this._injector.get(LA).done)throw!i&&function RM(n){const e=Yi(n)||Io(n)||ys(n);return null!==e&&e.standalone}(t),new sn(405,false);let s;s=i?t:this._injector.get(Of).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function qme(n){return n.isBoundToModule}(s)?void 0:this._injector.get(X_),c=s.create(Cs.NULL,[],r||s.selector,a),h=c.location.nativeElement,p=c.injector.get(w7,null);return null==p||p.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),NA(this.components,c),null==p||p.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new sn(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;NA(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(g7,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>NA(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new sn(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(gt(Si),gt(Af),gt(Nd))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let k7=!0,Hu=(()=>{class n{}return n.__NG_ELEMENT_ID__=ige,n})();function ige(n){return function oge(n,e,t){if(vf(n)&&!t){const r=Ja(n.index,e);return new mv(r,r)}return 47&n.type?new mv(e[16],e):null}(Js(),mn(),16==(16&n))}class F7{constructor(){}supports(e){return U_(e)}create(e){return new dge(e)}}const cge=(n,e)=>e;class dge{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cge}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<B7(r,i,o)?t:r,a=B7(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,h=u-i;if(c!=h){for(let g=0;g<c;g++){const y=g<o.length?o[g]:o[g]=0,w=y+g;h<=w&&w<c&&(o[g]=y+1)}o[s.previousIndex]=h-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!U_(e))throw new sn(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function jF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[im()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new hge(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new H7),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new H7),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class hge{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fge{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class H7{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new fge,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function B7(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class V7{constructor(){}supports(e){return e instanceof Map||kE(e)}create(){return new pge}}class pge{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||kE(e)))throw new sn(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new mge(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class mge{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function z7(){return new am([new F7])}let am=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||z7()),deps:[[n,new Hg,new Rf]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new sn(901,!1)}}return n.\u0275prov=fn({token:n,providedIn:"root",factory:z7}),n})();function U7(){return new jE([new V7])}let jE=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||U7()),deps:[[n,new Hg,new Rf]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new sn(901,!1)}}return n.\u0275prov=fn({token:n,providedIn:"root",factory:U7}),n})();const yge=C7(null,"core",[]);let _ge=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(gt(AM))},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({}),n})();let BA=null;function Uf(){return BA}const Pi=new Dn("DocumentToken");let CH=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:function(){return function Sge(){return gt(j7)}()},providedIn:"platform"}),n})();const xge=new Dn("Location Initialized");let j7=(()=>{class n extends CH{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Uf().getBaseHref(this._doc)}onPopState(t){const r=Uf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Uf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){W7()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){W7()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi))},n.\u0275prov=fn({token:n,factory:function(){return function Cge(){return new j7(gt(Pi))}()},providedIn:"platform"}),n})();function W7(){return!!window.history.pushState}function EH(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Y7(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function um(n){return n&&"?"!==n[0]?"?"+n:n}let Z_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:function(){return _s($7)},providedIn:"root"}),n})();const G7=new Dn("appBaseHref");let $7=(()=>{class n extends Z_{constructor(t,r){var i,o,s;super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=null!==(s=null!==(i=null!=r?r:this._platformLocation.getBaseHrefFromDOM())&&void 0!==i?i:null===(o=_s(Pi).location)||void 0===o?void 0:o.origin)&&void 0!==s?s:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return EH(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+um(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+um(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+um(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(gt(CH),gt(G7,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ege=(()=>{class n extends Z_{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=EH(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+um(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+um(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(gt(CH),gt(G7,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),WE=(()=>{class n{constructor(t){this._subject=new _o,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Y7(X7(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+um(r))}normalize(t){return n.stripTrailingSlash(function Rge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,X7(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+um(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+um(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._locationStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{var r;const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=um,n.joinWithSlash=EH,n.stripTrailingSlash=Y7,n.\u0275fac=function(t){return new(t||n)(gt(Z_))},n.\u0275prov=fn({token:n,factory:function(){return function Tge(){return new WE(gt(Z_))}()},providedIn:"root"}),n})();function X7(n){return n.replace(/\/index.html$/,"")}function r$(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let i$=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(U_(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Lo(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(ke(am),ke(jE),ke(wi),ke(mc))},n.\u0275dir=kn({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class hve{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let NH=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new hve(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),a$(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{a$(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ke(Cl),ke(sl),ke(am))},n.\u0275dir=kn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function a$(n,e){n.context.$implicit=e.item}let $E=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new pve,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){l$("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){l$("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ke(Cl),ke(sl))},n.\u0275dir=kn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class pve{constructor(){this.$implicit=null,this.ngIf=null}}function l$(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Lo(e)}'.`)}class FH{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let KA=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=kn({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),u$=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new FH(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(ke(Cl),ke(sl),ke(KA,9))},n.\u0275dir=kn({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({}),n})();const f$="browser";let jve=(()=>{class n{}return n.\u0275prov=fn({token:n,providedIn:"root",factory:()=>new Wve(gt(Pi),window)}),n})();class Wve{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Yve(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=p$(this.window.history)||p$(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function p$(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class m${}class VH extends class Gve extends class Mge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function wge(n){BA||(BA=n)}(new VH)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $ve(){return XE=XE||document.querySelector("base"),XE?XE.getAttribute("href"):null}();return null==t?null:function Xve(n){ZA=ZA||document.createElement("a"),ZA.setAttribute("href",n);const e=ZA.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){XE=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return r$(document.cookie,e)}}let ZA,XE=null;const g$=new Dn("TRANSITION_ID"),Zve=[{provide:kA,useFactory:function Kve(n,e,t){return()=>{t.get(LA).donePromise.then(()=>{const r=Uf(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[g$,Pi,Cs],multi:!0}];let Jve=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const qA=new Dn("EventManagerPlugins");let JA=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(gt(qA),gt(Si))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();class v${constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Uf().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let y$=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),KE=(()=>{class n extends y${constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(_$),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(_$))}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();function _$(n){Uf().remove(n)}const zH={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},UH=/%COMP%/g;function QA(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?QA(n,i,t):(i=i.replace(UH,n),t.push(i))}return t}function M$(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let eO=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new jH(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Su.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new iye(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Su.ShadowDom:return new oye(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=QA(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(gt(JA),gt(KE),gt(zE))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();class jH{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(zH[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(x$(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(x$(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=zH[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=zH[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(lu.DashCase|lu.Important)?e.style.setProperty(t,r,i&lu.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&lu.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,M$(r)):this.eventManager.addEventListener(e,t,M$(r))}}function x$(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class iye extends jH{constructor(e,t,r,i){super(e),this.component=r;const o=QA(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function tye(n){return"_ngcontent-%COMP%".replace(UH,n)}(i+"-"+r.id),this.hostAttr=function nye(n){return"_nghost-%COMP%".replace(UH,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class oye extends jH{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=QA(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let sye=(()=>{class n extends v${constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const C$=["alt","control","meta","shift"],lye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E$={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},uye={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let cye=(()=>{class n extends v${constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Uf().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(C$.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function dye(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&E$.hasOwnProperty(e)&&(e=E$[e]))}return lye[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),C$.forEach(o=>{o!=i&&(0,uye[o])(t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const mye=C7(yge,"browser",[{provide:PA,useValue:f$},{provide:m7,useValue:function hye(){VH.makeCurrent()},multi:!0},{provide:Pi,useFactory:function pye(){return function E2(n){yC=n}(document),document},deps:[]}]),R$=new Dn(""),D$=[{provide:IA,useClass:class qve{addToWindow(e){Po.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Po.getAllAngularTestabilities=()=>e.getAllTestabilities(),Po.getAllAngularRootElements=()=>e.getAllRootElements(),Po.frameworkStabilizers||(Po.frameworkStabilizers=[]),Po.frameworkStabilizers.push(r=>{const i=Po.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Uf().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},deps:[]},{provide:w7,useClass:vH,deps:[Si,yH,IA]},{provide:vH,useClass:vH,deps:[Si,yH,IA]}],A$=[{provide:LC,useValue:"root"},{provide:Nd,useFactory:function fye(){return new Nd},deps:[]},{provide:qA,useClass:sye,multi:!0,deps:[Pi,Si,PA]},{provide:qA,useClass:cye,multi:!0,deps:[Pi]},{provide:eO,useClass:eO,deps:[JA,KE,zE]},{provide:pc,useExisting:eO},{provide:y$,useExisting:KE},{provide:KE,useClass:KE,deps:[Pi]},{provide:JA,useClass:JA,deps:[qA,Si]},{provide:m$,useClass:Jve,deps:[]},[]];let O$=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:zE,useValue:t.appId},{provide:g$,useExisting:zE},Zve]}}}return n.\u0275fac=function(t){return new(t||n)(gt(R$,12))},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({providers:[...A$,...D$],imports:[q_,_ge]}),n})(),k$=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi))},n.\u0275prov=fn({token:n,factory:function(t){let r=null;return r=t?new t:function vye(){return new k$(gt(Pi))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let GH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:function(t){let r=null;return r=t?new(t||n):gt(I$),r},providedIn:"root"}),n})(),I$=(()=>{class n extends GH{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case yo.NONE:return r;case yo.HTML:return Ld(r,"HTML")?ku(r):XR(this._doc,String(r)).toString();case yo.STYLE:return Ld(r,"Style")?ku(r):r;case yo.SCRIPT:if(Ld(r,"Script"))return ku(r);throw new Error("unsafe value used in a script context");case yo.URL:return Ld(r,"URL")?ku(r):o_(String(r));case yo.RESOURCE_URL:if(Ld(r,"ResourceURL"))return ku(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function L2(n){return new Ou(n)}(t)}bypassSecurityTrustStyle(t){return function P2(n){return new zR(n)}(t)}bypassSecurityTrustScript(t){return function I2(n){return new D2(n)}(t)}bypassSecurityTrustUrl(t){return function N2(n){return new A2(n)}(t)}bypassSecurityTrustResourceUrl(t){return function F2(n){return new O2(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi))},n.\u0275prov=fn({token:n,factory:function(t){let r=null;return r=t?new t:function xye(n){return new I$(n.get(Pi))}(gt(Cs)),r},providedIn:"root"}),n})();function Fr(...n){return Qo(n,Za(n))}class od extends Ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const tO=R(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Cye}=Array,{getPrototypeOf:Eye,prototype:Tye,keys:Rye}=Object;function N$(n){if(1===n.length){const e=n[0];if(Cye(e))return{args:e,keys:null};if(function Dye(n){return n&&"object"==typeof n&&Eye(n)===Tye}(e)){const t=Rye(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Aye}=Array;function $H(n){return Rn(e=>function Oye(n,e){return Aye(e)?n(...e):n(e)}(n,e))}function F$(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function XH(...n){const e=Za(n),t=Ka(n),{args:r,keys:i}=N$(n);if(0===r.length)return Qo([],e);const o=new dt(function kye(n,e,t=Nt){return r=>{H$(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)H$(e,()=>{const c=Qo(n[u],e);let h=!1;c.subscribe(In(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>F$(i,s):Nt));return t?o.pipe($H(t)):o}function H$(n,e,t){n?fl(t,n,e):e()}function ZE(...n){return function Lye(){return Oo(1)}()(Qo(n,Za(n)))}function nO(n){return new dt(e=>{gs(n()).subscribe(e)})}function OM(n,e){const t=T(n)?n:()=>n,r=i=>i.error(t());return new dt(e?i=>e.schedule(r,0,i):r)}function KH(){return Wn((n,e)=>{let t=null;n._refCount++;const r=In(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ZH extends dt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Un(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new F;const t=this.getSubject();e.add(this.source.subscribe(In(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=F.EMPTY)}return e}refCount(){return KH()(this)}}function Kd(n,e){return Wn((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(In(r,u=>{null==i||i.unsubscribe();let c=0;const h=o++;gs(n(u,h)).subscribe(i=In(r,p=>r.next(e?e(u,p,h,c++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ul(n){return n<=0?()=>xo:Wn((e,t)=>{let r=0;e.subscribe(In(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function dm(...n){const e=Za(n);return Wn((t,r)=>{(e?ZE(n,t,e):ZE(n,t)).subscribe(r)})}function Ha(n,e){return Wn((t,r)=>{let i=0;t.subscribe(In(r,o=>n.call(e,o,i++)&&r.next(o)))})}function rO(n){return Wn((e,t)=>{let r=!1;e.subscribe(In(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function B$(n=Pye){return Wn((e,t)=>{let r=!1;e.subscribe(In(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Pye(){return new tO}function Av(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ha((i,o)=>n(i,o,r)):Nt,ul(1),t?rO(e):B$(()=>new tO))}function Ov(n,e){return T(e)?$o(n,e,1):$o(n,1)}function Ba(n,e,t){const r=T(n)||e||t?{next:n,error:e,complete:t}:n;return r?Wn((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(In(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Nt}function hm(n){return Wn((e,t)=>{let o,r=null,i=!1;r=e.subscribe(In(t,void 0,void 0,s=>{o=gs(n(s,hm(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Iye(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(In(s,h=>{const p=c++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function V$(n,e){return Wn(Iye(n,e,arguments.length>=2,!0))}function qH(n){return n<=0?()=>xo:Wn((e,t)=>{let r=[];e.subscribe(In(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function z$(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ha((i,o)=>n(i,o,r)):Nt,qH(1),t?rO(e):B$(()=>new tO))}function U$(n){return Rn(()=>n)}function iO(n){return Wn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const co="primary";class Fye{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function kM(n){return new Fye(n)}function Hye(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function jf(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!j$(n[i],e[i]))return!1;return!0}function j$(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function W$(n){return Array.prototype.concat.apply([],n)}function Y$(n){return n.length>0?n[n.length-1]:null}function Wl(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fm(n){return wt(n)?n:tt(n)?Qo(Promise.resolve(n)):Fr(n)}const zye={exact:function X$(n,e,t){if(!Q_(n.segments,e.segments)||!oO(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!X$(n.children[r],e.children[r],t))return!1;return!0},subset:K$},G$={exact:function Uye(n,e){return jf(n,e)},subset:function jye(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>j$(n[t],e[t]))},ignored:()=>!0};function $$(n,e,t){return zye[t.paths](n.root,e.root,t.matrixParams)&&G$[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function K$(n,e,t){return Z$(n,e,e.segments,t)}function Z$(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Q_(i,t)||e.hasChildren()||!oO(i,t,r))}if(n.segments.length===t.length){if(!Q_(n.segments,t)||!oO(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!K$(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Q_(n.segments,i)&&oO(n.segments,i,r)&&n.children[co])&&Z$(n.children[co],e,o,r)}}function oO(n,e,t){return e.every((r,i)=>G$[t](n[i].parameters,r.parameters))}class J_{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kM(this.queryParams)),this._queryParamMap}toString(){return Gye.serialize(this)}}class mo{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Wl(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sO(this)}}class qE{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=kM(this.parameters)),this._parameterMap}toString(){return eX(this)}}function Q_(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let q$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:function(){return new QH},providedIn:"root"}),n})();class QH{parse(e){const t=new t_e(e);return new J_(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${JE(e.root,!0)}`,r=function Kye(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${aO(t)}=${aO(i)}`).join("&"):`${aO(t)}=${aO(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function $ye(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Gye=new QH;function sO(n){return n.segments.map(e=>eX(e)).join("/")}function JE(n,e){if(!n.hasChildren())return sO(n);if(e){const t=n.children[co]?JE(n.children[co],!1):"",r=[];return Wl(n.children,(i,o)=>{o!==co&&r.push(`${o}:${JE(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Yye(n,e){let t=[];return Wl(n.children,(r,i)=>{i===co&&(t=t.concat(e(r,i)))}),Wl(n.children,(r,i)=>{i!==co&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===co?[JE(n.children[co],!1)]:[`${i}:${JE(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[co]?`${sO(n)}/${t[0]}`:`${sO(n)}/(${t.join("//")})`}}function J$(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function aO(n){return J$(n).replace(/%3B/gi,";")}function e3(n){return J$(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lO(n){return decodeURIComponent(n)}function Q$(n){return lO(n.replace(/\+/g,"%20"))}function eX(n){return`${e3(n.path)}${function Xye(n){return Object.keys(n).map(e=>`;${e3(e)}=${e3(n[e])}`).join("")}(n.parameters)}`}const Zye=/^[^\/()?;=#]+/;function uO(n){const e=n.match(Zye);return e?e[0]:""}const qye=/^[^=?&#]+/,Qye=/^[^&#]+/;class t_e{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mo([],{}):new mo([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[co]=new mo(e,t)),r}parseSegment(){const e=uO(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new sn(4009,!1);return this.capture(e),new qE(lO(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=uO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=uO(this.remaining);i&&(r=i,this.capture(r))}e[lO(t)]=lO(r)}parseQueryParam(e){const t=function Jye(n){const e=n.match(qye);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function e_e(n){const e=n.match(Qye);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=Q$(t),o=Q$(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uO(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new sn(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=co);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[co]:new mo([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new sn(4011,!1)}}function t3(n){return n.segments.length>0?new mo([],{[co]:n}):n}function cO(n){const e={};for(const r of Object.keys(n.children)){const o=cO(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function n_e(n){if(1===n.numberOfChildren&&n.children[co]){const e=n.children[co];return new mo(n.segments.concat(e.segments),e.children)}return n}(new mo(n.segments,e))}function eb(n){return n instanceof J_}function o_e(n,e,t,r,i){var o;if(0===t.length)return LM(e.root,e.root,e.root,r,i);const a=function rX(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new nX(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Wl(o.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new nX(t,e,r)}(t);return a.toRoot()?LM(e.root,e.root,new mo([],{}),r,i):function u(h){var p;const g=function a_e(n,e,t,r){if(n.isAbsolute)return new PM(e.root,!0,0);if(-1===r)return new PM(t,t===e.root,0);return function iX(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new sn(4005,!1);i=r.segments.length}return new PM(r,!1,i-o)}(t,r+(QE(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,null===(p=n.snapshot)||void 0===p?void 0:p._urlSegment,h),y=g.processChildren?tT(g.segmentGroup,g.index,a.commands):r3(g.segmentGroup,g.index,a.commands);return LM(e.root,g.segmentGroup,y,r,i)}(null===(o=n.snapshot)||void 0===o?void 0:o._lastPathIndex)}function QE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function eT(n){return"object"==typeof n&&null!=n&&n.outlets}function LM(n,e,t,r,i){let s,o={};r&&Wl(r,(u,c)=>{o[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=n===e?t:tX(n,e,t);const a=t3(cO(s));return new J_(a,o,i)}function tX(n,e,t){const r={};return Wl(n.children,(i,o)=>{r[o]=i===e?t:tX(i,e,t)}),new mo(n.segments,r)}class nX{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&QE(r[0]))throw new sn(4003,!1);const i=r.find(eT);if(i&&i!==Y$(r))throw new sn(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class PM{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function r3(n,e,t){if(n||(n=new mo([],{})),0===n.segments.length&&n.hasChildren())return tT(n,e,t);const r=function u_e(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(eT(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!sX(u,c,s))return o;r+=2}else{if(!sX(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new mo(n.segments.slice(0,r.pathIndex),{});return o.children[co]=new mo(n.segments.slice(r.pathIndex),n.children),tT(o,0,i)}return r.match&&0===i.length?new mo(n.segments,{}):r.match&&!n.hasChildren()?o3(n,e,t):r.match?tT(n,0,i):o3(n,e,t)}function tT(n,e,t){if(0===t.length)return new mo(n.segments,{});{const r=function l_e(n){return eT(n[0])?n[0].outlets:{[co]:n}}(t),i={};return Wl(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=r3(n.children[s],e,o))}),Wl(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new mo(n.segments,i)}}function o3(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(eT(o)){const u=c_e(o.outlets);return new mo(r,u)}if(0===i&&QE(t[0])){r.push(new qE(n.segments[e].path,oX(t[0]))),i++;continue}const s=eT(o)?o.outlets[co]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&QE(a)?(r.push(new qE(s,oX(a))),i+=2):(r.push(new qE(s,{})),i++)}return new mo(r,{})}function c_e(n){const e={};return Wl(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=o3(new mo([],{}),0,t))}),e}function oX(n){const e={};return Wl(n,(t,r)=>e[r]=`${t}`),e}function sX(n,e,t){return n==t.path&&jf(e,t.parameters)}class pm{constructor(e,t){this.id=e,this.url=t}}class s3 extends pm{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tb extends pm{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dO extends pm{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class aX extends pm{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class d_e extends pm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h_e extends pm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f_e extends pm{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class p_e extends pm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m_e extends pm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g_e{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class v_e{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class y_e{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class __e{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b_e{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w_e{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lX{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class uX{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=a3(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=a3(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=l3(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return l3(e,this._root).map(t=>t.value)}}function a3(n,e){if(n===e.value)return e;for(const t of e.children){const r=a3(n,t);if(r)return r}return null}function l3(n,e){if(n===e.value)return[e];for(const t of e.children){const r=l3(n,t);if(r.length)return r.unshift(e),r}return[]}class mm{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function IM(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class cX extends uX{constructor(e,t){super(e),this.snapshot=t,u3(this,e)}toString(){return this.snapshot.toString()}}function dX(n,e){const t=function S_e(n,e){const s=new hO([],{},{},"",{},co,e,null,n.root,-1,{});return new fX("",new mm(s,[]))}(n,e),r=new od([new qE("",{})]),i=new od({}),o=new od({}),s=new od({}),a=new od(""),u=new NM(r,i,s,a,o,co,e,t.root);return u.snapshot=t.root,new cX(new mm(u,[]),t)}class NM{constructor(e,t,r,i,o,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Rn(e=>kM(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Rn(e=>kM(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hX(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function x_e(n){return n.reduce((e,t)=>{var r;return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),e.resolve),null===(r=t.routeConfig)||void 0===r?void 0:r.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(r))}class hO{constructor(e,t,r,i,o,s,a,u,c,h,p,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=h,this._correctedLastPathIndex=null!=g?g:h,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kM(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kM(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fX extends uX{constructor(e,t){super(t),this.url=e,u3(this,t)}toString(){return pX(this._root)}}function u3(n,e){e.value._routerState=n,e.children.forEach(t=>u3(n,t))}function pX(n){const e=n.children.length>0?` { ${n.children.map(pX).join(", ")} } `:"";return`${n.value}${e}`}function c3(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jf(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),jf(e.params,t.params)||n.params.next(t.params),function Bye(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jf(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),jf(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function d3(n,e){const t=jf(n.params,e.params)&&function Wye(n,e){return Q_(n,e)&&n.every((t,r)=>jf(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||d3(n.parent,e.parent))}function nT(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function E_e(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nT(n,r,i);return nT(n,r)})}(n,e,t);return new mm(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nT(n,a)),s}}const r=function T_e(n){return new NM(new od(n.url),new od(n.params),new od(n.queryParams),new od(n.fragment),new od(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>nT(n,o));return new mm(r,i)}}const h3="ngNavigationCancelingError";function mX(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=eb(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gX(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function gX(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[h3]=!0,r.cancellationCode=e,t&&(r.url=t),r}function vX(n){return yX(n)&&eb(n.url)}function yX(n){return n&&n[h3]}class R_e{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new rT,this.attachRef=null}}let rT=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new R_e,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fO=!1;let _X=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new _o,this.deactivateEvents=new _o,this.attachEvents=new _o,this.detachEvents=new _o,this.name=i||co,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new sn(4012,fO);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new sn(4012,fO);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new sn(4012,fO);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new sn(4013,fO);this._activatedRoute=t;const i=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new D_e(t,a,i.injector);if(r&&function A_e(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:null!=r?r:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(ke(rT),ke(Cl),Oh("name"),ke(Hu),ke(Af))},n.\u0275dir=kn({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class D_e{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===NM?this.route:e===rT?this.childContexts:this.parent.get(e,t)}}let bX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ci({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&ie(0,"router-outlet")},dependencies:[_X],encapsulation:2}),n})();function wX(n,e){var t;return n.providers&&!n._injector&&(n._injector=RA(n.providers,e,`Route: ${n.path}`)),null!==(t=n._injector)&&void 0!==t?t:e}function p3(n){const e=n.children&&n.children.map(p3),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==co&&(t.component=bX),t}function Zd(n){return n.outlet||co}function MX(n,e){const t=n.filter(r=>Zd(r)===e);return t.push(...n.filter(r=>Zd(r)!==e)),t}function SX(n){var e;if(!n)return null;if(null!==(e=n.routeConfig)&&void 0!==e&&e._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const r=t.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class I_e{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),c3(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=IM(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Wl(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=IM(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=IM(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=IM(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new w_e(o.value.snapshot))}),e.children.length&&this.forwardEvent(new __e(e.value.snapshot))}activateRoutes(e,t,r){var i;const o=e.value,s=t?t.value:null;if(c3(o),o===s)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const u=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),c3(u.route.value),this.activateChildRoutes(e,null,a.children)}else{const u=SX(o.snapshot),c=null!==(i=null==u?void 0:u.get(Of))&&void 0!==i?i:null;a.attachRef=null,a.route=o,a.resolver=c,a.injector=u,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class xX{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class pO{constructor(e,t){this.component=e,this.route=t}}function N_e(n,e,t){const r=n._root;return iT(r,e?e._root:null,t,[r.value])}function mO(n,e,t){const r=SX(e);return(null!=r?r:t).get(n)}function iT(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=IM(e);return n.children.forEach(s=>{(function H_e(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function B_e(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Q_(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Q_(n.url,e.url)||!jf(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!d3(n,e)||!jf(n.queryParams,e.queryParams);default:return!d3(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xX(r)):(o.data=s.data,o._resolvedData=s._resolvedData),iT(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pO(a.outlet.component,s))}else s&&oT(e,a,i),i.canActivateChecks.push(new xX(r)),iT(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Wl(o,(s,a)=>oT(s,t.getContext(a),i)),i}function oT(n,e,t){const r=IM(n),i=n.value;Wl(r,(o,s)=>{oT(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new pO(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function sT(n){return"function"==typeof n}function m3(n){return n instanceof tO||"EmptyError"===(null==n?void 0:n.name)}const gO=Symbol("INITIAL_VALUE");function FM(){return Kd(n=>XH(n.map(e=>e.pipe(ul(1),dm(gO)))).pipe(Rn(e=>{for(const t of e)if(!0!==t){if(t===gO)return gO;if(!1===t||t instanceof J_)return t}return!0}),Ha(e=>e!==gO),ul(1)))}function CX(n){return function Ne(...n){return ge(n)}(Ba(e=>{if(eb(e))throw mX(0,e)}),Rn(e=>!0===e))}const g3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EX(n,e,t,r,i){const o=v3(n,e,t);return o.matched?function nbe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Fr(i.map(s=>{const a=n.get(s),u=function Y_e(n){return n&&sT(n.canMatch)}(a)?a.canMatch(e,t):a(e,t);return fm(u)})).pipe(FM(),CX()):Fr(!0)}(r=wX(e,r),e,t).pipe(Rn(s=>!0===s?o:Object.assign({},g3))):Fr(o)}function v3(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},g3):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Hye)(t,n,e);if(!o)return Object.assign({},g3);const s={};Wl(o.posParams,(u,c)=>{s[c]=u.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function vO(n,e,t,r,i="corrected"){if(t.length>0&&function obe(n,e,t){return t.some(r=>yO(n,e,r)&&Zd(r)!==co)}(n,t,r)){const s=new mo(e,function ibe(n,e,t,r){const i={};i[co]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Zd(o)!==co){const s=new mo([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[Zd(o)]=s}return i}(n,e,r,new mo(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function sbe(n,e,t){return t.some(r=>yO(n,e,r))}(n,t,r)){const s=new mo(n.segments,function rbe(n,e,t,r,i,o){const s={};for(const a of r)if(yO(n,t,a)&&!i[Zd(a)]){const u=new mo([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[Zd(a)]=u}return Object.assign(Object.assign({},i),s)}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new mo(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function yO(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function TX(n,e,t,r){return!!(Zd(n)===r||r!==co&&yO(e,t,n))&&("**"===n.path||v3(e,n,t).matched)}function RX(n,e,t){return 0===e.length&&!n.children[t]}const _O=!1;class bO{constructor(e){this.segmentGroup=e||null}}class DX{constructor(e){this.urlTree=e}}function aT(n){return OM(new bO(n))}function AX(n){return OM(new DX(n))}class cbe{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=vO(this.urlTree.root,[],[],this.config).segmentGroup,t=new mo(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,co).pipe(Rn(o=>this.createUrlTree(cO(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hm(o=>{if(o instanceof DX)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof bO?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,co).pipe(Rn(i=>this.createUrlTree(cO(i),e.queryParams,e.fragment))).pipe(hm(i=>{throw i instanceof bO?this.noMatchError(i):i}))}noMatchError(e){return new sn(4002,_O)}createUrlTree(e,t,r){const i=t3(e);return new J_(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Rn(o=>new mo([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Qo(i).pipe(Ov(o=>{const s=r.children[o],a=MX(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(Rn(u=>({segment:u,outlet:o})))}),V$((o,s)=>(o[s.outlet]=s.segment,o),{}),z$())}expandSegment(e,t,r,i,o,s){return Qo(r).pipe(Ov(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(hm(c=>{if(c instanceof bO)return Fr(null);throw c}))),Av(a=>!!a),hm((a,u)=>{if(m3(a))return RX(t,i,o)?Fr(new mo([],{})):aT(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return TX(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):aT(t):aT(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?AX(o):this.lineralizeSegments(r,o).pipe($o(s=>{const a=new mo(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:h}=v3(t,i,o);if(!a)return aT(t);const p=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?AX(p):this.lineralizeSegments(i,p).pipe($o(g=>this.expandSegment(e,t,r,g.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=wX(r,e),r.loadChildren?(r._loadedRoutes?Fr({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Rn(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new mo(i,{})))):Fr(new mo(i,{}))):EX(t,r,i,e).pipe(Kd(({matched:s,consumedSegments:a,remainingSegments:u})=>{var c;return s?(e=null!==(c=r._injector)&&void 0!==c?c:e,this.getChildConfig(e,r,i).pipe($o(p=>{var g;const y=null!==(g=p.injector)&&void 0!==g?g:e,w=p.routes,{segmentGroup:S,slicedSegments:C}=vO(t,a,u,w),P=new mo(S.segments,S.children);if(0===C.length&&P.hasChildren())return this.expandChildren(y,w,P).pipe(Rn(G=>new mo(a,G)));if(0===w.length&&0===C.length)return Fr(new mo(a,{}));const B=Zd(r)===o;return this.expandSegment(y,P,w,C,B?co:o,!0).pipe(Rn(j=>new mo(a.concat(j.segments),j.children)))}))):aT(t)}))}getChildConfig(e,t,r){return t.children?Fr({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Fr({routes:t._loadedRoutes,injector:t._loadedInjector}):function tbe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Fr(!0):Fr(i.map(s=>{const a=n.get(s),u=function z_e(n){return n&&sT(n.canLoad)}(a)?a.canLoad(e,t):a(e,t);return fm(u)})).pipe(FM(),CX())}(e,t,r).pipe($o(i=>i?this.configLoader.loadChildren(e,t).pipe(Ba(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function lbe(n){return OM(gX(_O,3))}())):Fr({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Fr(r);if(i.numberOfChildren>1||!i.children[co])return OM(new sn(4e3,_O));i=i.children[co]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new J_(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Wl(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Wl(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,i)}),new mo(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new sn(4001,_O);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class hbe{}class mbe{constructor(e,t,r,i,o,s,a,u){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=vO(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,co).pipe(Rn(t=>{if(null===t)return null;const r=new hO([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},co,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new mm(r,t),o=new fX(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=hX(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Qo(Object.keys(r.children)).pipe(Ov(i=>{const o=r.children[i],s=MX(t,i);return this.processSegmentGroup(e,s,o,i)}),V$((i,o)=>i&&o?(i.push(...o),i):null),function Nye(n,e=!1){return Wn((t,r)=>{let i=0;t.subscribe(In(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),rO(null),z$(),Rn(i=>{if(null===i)return null;const o=OX(i);return function gbe(n){n.sort((e,t)=>e.value.outlet===co?-1:t.value.outlet===co?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return Qo(t).pipe(Ov(s=>{var a;return this.processSegmentAgainstRoute(null!==(a=s._injector)&&void 0!==a?a:e,s,r,i,o)}),Av(s=>!!s),hm(s=>{if(m3(s))return RX(r,i,o)?Fr([]):Fr(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){var s,a;if(t.redirectTo||!TX(t,r,i,o))return Fr(null);let u;if("**"===t.path){const c=i.length>0?Y$(i).parameters:{},h=LX(r)+i.length;u=Fr({snapshot:new hO(i,c,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,IX(t),Zd(t),null!==(a=null!==(s=t.component)&&void 0!==s?s:t._loadedComponent)&&void 0!==a?a:null,t,kX(r),h,NX(t),h),consumedSegments:[],remainingSegments:[]})}else u=EX(r,t,i,e).pipe(Rn(({matched:c,consumedSegments:h,remainingSegments:p,parameters:g})=>{var y,w;if(!c)return null;const S=LX(r)+h.length;return{snapshot:new hO(h,g,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,IX(t),Zd(t),null!==(w=null!==(y=t.component)&&void 0!==y?y:t._loadedComponent)&&void 0!==w?w:null,t,kX(r),S,NX(t),S),consumedSegments:h,remainingSegments:p}}));return u.pipe(Kd(c=>{var h,p;if(null===c)return Fr(null);const{snapshot:g,consumedSegments:y,remainingSegments:w}=c;e=null!==(h=t._injector)&&void 0!==h?h:e;const S=null!==(p=t._loadedInjector)&&void 0!==p?p:e,C=function vbe(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:P,slicedSegments:B}=vO(r,y,w,C.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);if(0===B.length&&P.hasChildren())return this.processChildren(S,C,P).pipe(Rn(j=>null===j?null:[new mm(g,j)]));if(0===C.length&&0===B.length)return Fr([new mm(g,[])]);const z=Zd(t)===o;return this.processSegment(S,C,P,B,z?co:o).pipe(Rn(j=>null===j?null:[new mm(g,j)]))}))}}function ybe(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function OX(n){const e=[],t=new Set;for(const r of n){if(!ybe(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=OX(r.children);e.push(new mm(r.value,i))}return e.filter(r=>!t.has(r))}function kX(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function LX(n){var e,t;let r=n,i=null!==(e=r._segmentIndexShift)&&void 0!==e?e:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=null!==(t=r._segmentIndexShift)&&void 0!==t?t:0;return i-1}function IX(n){return n.data||{}}function NX(n){return n.resolve||{}}const y3=Symbol("RouteTitle");function FX(n){return"string"==typeof n.title||null===n.title}function _3(n){return Kd(e=>{const t=n(e);return t?Qo(t).pipe(Rn(()=>e)):Fr(e)})}let HX=(()=>{class n{buildTitle(t){var r;let i,o=t.root;for(;void 0!==o;)i=null!==(r=this.getResolvedTitleForRoute(o))&&void 0!==r?r:i,o=o.children.find(s=>s.outlet===co);return i}getResolvedTitleForRoute(t){return t.data[y3]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:function(){return _s(BX)},providedIn:"root"}),n})(),BX=(()=>{class n extends HX{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(gt(k$))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ebe{}class Rbe extends class Tbe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const b3=new Dn("",{providedIn:"root",factory:()=>({})}),w3=new Dn("ROUTES");let M3=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Fr(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=fm(t.loadComponent()).pipe(Ba(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),iO(()=>{this.componentLoaders.delete(t)})),i=new ZH(r,()=>new Ht).pipe(KH());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Fr({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Rn(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,h=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=W$(u.get(w3,[],dr.Self|dr.Optional)));return{routes:c.map(p3),injector:u}}),iO(()=>{this.childrenLoaders.delete(r)})),s=new ZH(o,()=>new Ht).pipe(KH());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return fm(t()).pipe($o(r=>r instanceof R9||Array.isArray(r)?Fr(r):Qo(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(gt(Cs),gt(fH))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Abe{}class Obe{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function kbe(n){throw n}function Lbe(n,e,t){return e.parse("/")}const Pbe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ibe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function zX(){var n,e;const t=_s(q$),r=_s(rT),i=_s(WE),o=_s(Cs),s=_s(fH),a=null!==(n=_s(w3,{optional:!0}))&&void 0!==n?n:[],u=null!==(e=_s(b3,{optional:!0}))&&void 0!==e?e:{},c=_s(BX),h=_s(HX,{optional:!0}),p=_s(Abe,{optional:!0}),g=_s(Ebe,{optional:!0}),y=new Bu(null,t,r,i,o,s,W$(a));return p&&(y.urlHandlingStrategy=p),g&&(y.routeReuseStrategy=g),y.titleStrategy=null!=h?h:c,function Nbe(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,y),y}let Bu=(()=>{class n{constructor(t,r,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ht,this.errorHandler=kbe,this.malformedUriErrorHandler=Lbe,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Fr(void 0),this.urlHandlingStrategy=new Obe,this.routeReuseStrategy=new Rbe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(M3),this.configLoader.onLoadEndListener=g=>this.triggerEvent(new v_e(g)),this.configLoader.onLoadStartListener=g=>this.triggerEvent(new g_e(g)),this.ngModule=s.get(X_),this.console=s.get(Fme);const p=s.get(Si);this.isNgZoneEnabled=p instanceof Si&&Si.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function Vye(){return new J_(new mo([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=dX(this.currentUrlTree,this.rootComponentType),this.transitions=new od({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ha(i=>0!==i.id),Rn(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Kd(i=>{let o=!1,s=!1;return Fr(i).pipe(Ba(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Kd(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return UX(a.source)&&(this.browserUrlTree=a.extractedUrl),Fr(a).pipe(Kd(p=>{const g=this.transitions.getValue();return r.next(new s3(p.id,this.serializeUrl(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions.getValue()?xo:Promise.resolve(p)}),function dbe(n,e,t,r){return Kd(i=>function ube(n,e,t,r,i){return new cbe(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Rn(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ba(p=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:p.urlAfterRedirects}),i.urlAfterRedirects=p.urlAfterRedirects}),function bbe(n,e,t,r,i,o){return $o(s=>function pbe(n,e,t,r,i,o,s="emptyOnly",a="legacy"){return new mbe(n,e,t,r,i,s,a,o).recognize().pipe(Kd(u=>null===u?function fbe(n){return new dt(e=>e.error(n))}(new hbe):Fr(u)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(Rn(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Ba(p=>{if(i.targetSnapshot=p.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!p.extras.skipLocationChange){const y=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl);this.setBrowserUrl(y,p)}this.browserUrlTree=p.urlAfterRedirects}const g=new d_e(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);r.next(g)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:g,extractedUrl:y,source:w,restoredState:S,extras:C}=a,P=new s3(g,this.serializeUrl(y),w,S);r.next(P);const B=dX(y,this.rootComponentType).snapshot;return Fr(i=Object.assign(Object.assign({},a),{targetSnapshot:B,urlAfterRedirects:y,extras:Object.assign(Object.assign({},C),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),xo}),Ba(a=>{const u=new h_e(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Rn(a=>i=Object.assign(Object.assign({},a),{guards:N_e(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function $_e(n,e){return $o(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Fr(Object.assign(Object.assign({},t),{guardsResult:!0})):function X_e(n,e,t,r){return Qo(n).pipe($o(i=>function ebe(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Fr(o.map(a=>{const u=mO(a,e,i);return fm(function W_e(n){return n&&sT(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):u(n,e,t,r)).pipe(Av())})).pipe(FM()):Fr(!0)}(i.component,i.route,t,e,r)),Av(i=>!0!==i,!0))}(s,r,i,n).pipe($o(a=>a&&function V_e(n){return"boolean"==typeof n}(a)?function K_e(n,e,t,r){return Qo(e).pipe(Ov(i=>ZE(function q_e(n,e){return null!==n&&e&&e(new y_e(n)),Fr(!0)}(i.route.parent,r),function Z_e(n,e){return null!==n&&e&&e(new b_e(n)),Fr(!0)}(i.route,r),function Q_e(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function F_e(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>nO(()=>Fr(s.guards.map(u=>{const c=mO(u,s.node,t);return fm(function j_e(n){return n&&sT(n.canActivateChild)}(c)?c.canActivateChild(r,n):c(r,n)).pipe(Av())})).pipe(FM())));return Fr(o).pipe(FM())}(n,i.path,t),function J_e(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Fr(!0);const i=r.map(o=>nO(()=>{const s=mO(o,e,t);return fm(function U_e(n){return n&&sT(n.canActivate)}(s)?s.canActivate(e,n):s(e,n)).pipe(Av())}));return Fr(i).pipe(FM())}(n,i.route,t))),Av(i=>!0!==i,!0))}(r,o,n,e):Fr(a)),Rn(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ba(a=>{if(i.guardsResult=a.guardsResult,eb(a.guardsResult))throw mX(0,a.guardsResult);const u=new f_e(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Ha(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),_3(a=>{if(a.guards.canActivateChecks.length)return Fr(a).pipe(Ba(u=>{const c=new p_e(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Kd(u=>{let c=!1;return Fr(u).pipe(function wbe(n,e){return $o(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Fr(t);let o=0;return Qo(i).pipe(Ov(s=>function Mbe(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==(null==i?void 0:i.title)&&!FX(i)&&(o[y3]=i.title),function Sbe(n,e,t,r){const i=function xbe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Fr({});const o={};return Qo(i).pipe($o(s=>function Cbe(n,e,t,r){const i=mO(n,e,r);return fm(i.resolve?i.resolve(e,t):i(e,t))}(n[s],e,t,r).pipe(Av(),Ba(a=>{o[s]=a}))),qH(1),U$(o),hm(s=>m3(s)?xo:OM(s)))}(o,n,e,r).pipe(Rn(s=>(n._resolvedData=s,n.data=hX(n,t).resolve,i&&FX(i)&&(n.data[y3]=i.title),null)))}(s.route,r,n,e)),Ba(()=>o++),qH(1),$o(s=>o===i.length?Fr(t):xo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ba({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),Ba(u=>{const c=new m_e(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),_3(a=>{const u=c=>{var h;const p=[];(null===(h=c.routeConfig)||void 0===h?void 0:h.loadComponent)&&!c.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ba(g=>{c.component=g}),Rn(()=>{})));for(const g of c.children)p.push(...u(g));return p};return XH(u(a.targetSnapshot.root)).pipe(rO(),ul(1))}),_3(()=>this.afterPreactivation()),Rn(a=>{const u=function C_e(n,e,t){const r=nT(n,e._root,t?t._root:void 0);return new cX(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i=Object.assign(Object.assign({},a),{targetRouterState:u})}),Ba(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Rn(r=>(new I_e(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ba({next(){o=!0},complete(){o=!0}}),iO(()=>{var a;o||s||this.cancelNavigationTransition(i,"",1),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),hm(a=>{var u;if(s=!0,yX(a)){vX(a)||(this.navigated=!0,this.restoreHistory(i,!0));const c=new dO(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(c),vX(a)){const h=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),p={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||UX(i.source)};this.scheduleNavigation(h,"imperative",null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new aX(i.id,this.serializeUrl(i.extractedUrl),a,null!==(u=i.targetSnapshot)&&void 0!==u?u:void 0);r.next(c);try{i.resolve(this.errorHandler(a))}catch(h){i.reject(h)}}return xo}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=null!==(i=t.state)&&void 0!==i&&i.navigationId?t.state:null;if(s){const u=Object.assign({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(p3),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,h=u?this.currentUrlTree.fragment:s;let p=null;switch(a){case"merge":p=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}return null!==p&&(p=this.removeEmptyProps(p)),o_e(c,this.currentUrlTree,t,p,null!=h?h:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=eb(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Fbe(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new sn(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Pbe):!1===r?Object.assign({},Ibe):r,eb(t))return $$(this.currentUrlTree,t,i);const o=this.parseUrl(t);return $$(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{var r;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new tb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){var a,u;if(this.disposed)return Promise.resolve(!1);let c,h,p;s?(c=s.resolve,h=s.reject,p=s.promise):p=new Promise((w,S)=>{c=w,h=S});const g=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):y=0,this.setTransition({id:g,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:c,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new dO(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){iv()},n.\u0275prov=fn({token:n,factory:function(){return zX()},providedIn:"root"}),n})();function UX(n){return"imperative"!==n}class jX{}let WX=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ha(t=>t instanceof tb),Ov(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){var i,o,s;const a=[];for(const u of r){u.providers&&!u._injector&&(u._injector=RA(u.providers,t,`Route: ${u.path}`));const c=null!==(i=u._injector)&&void 0!==i?i:t,h=null!==(o=u._loadedInjector)&&void 0!==o?o:c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?a.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&a.push(this.processRoutes(h,null!==(s=u.children)&&void 0!==s?s:u._loadedRoutes))}return Qo(a).pipe(Oo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Fr(null);const o=i.pipe($o(s=>{var a;return null===s?Fr(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:t,s.routes))}));return r.loadComponent&&!r._loadedComponent?Qo([o,this.loader.loadComponent(r)]).pipe(Oo()):o})}}return n.\u0275fac=function(t){return new(t||n)(gt(Bu),gt(fH),gt(Af),gt(jX),gt(M3))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const YX=new Dn("");let Vbe=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof s3?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lX&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new lX(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){iv()},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const GX=new Dn("ROUTER_FORROOT_GUARD"),$X=new Dn(""),zbe=[WE,{provide:q$,useClass:QH},{provide:Bu,useFactory:zX},rT,{provide:NM,useFactory:function Ube(n){return n.routerState.root},deps:[Bu]},M3];function jbe(){return new S7("Router",Bu)}let XX=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[zbe,[],KX(t),{provide:GX,useFactory:$be,deps:[[Bu,new Rf,new Hg]]},{provide:b3,useValue:r||{}},null!=r&&r.useHash?{provide:Z_,useClass:Ege}:{provide:Z_,useClass:$7},{provide:YX,useFactory:()=>{const n=_s(Bu),e=_s(jve),t=_s(b3);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Vbe(n,e,t)}},null!=r&&r.preloadingStrategy?ewe(r.preloadingStrategy):[],{provide:S7,multi:!0,useFactory:jbe},null!=r&&r.initialNavigation?Kbe(r):[],[{provide:ZX,useFactory:Xbe},{provide:g7,multi:!0,useExisting:ZX}]]}}static forChild(t){return{ngModule:n,providers:[KX(t)]}}}return n.\u0275fac=function(t){return new(t||n)(gt(GX,8))},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({}),n})();function $be(n){return"guarded"}function KX(n){return[{provide:w3,multi:!0,useValue:n}]}function Xbe(){const n=_s(Cs);return e=>{var t,r;const i=n.get(AM);if(e!==i.components[0])return;const o=n.get(Bu),s=n.get(qX);1===n.get(C3)&&o.initialNavigation(),null===(t=n.get($X,null,dr.Optional))||void 0===t||t.setUpPreloading(),null===(r=n.get(YX,null,dr.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.next(),s.complete()}}const ZX=new Dn("");function Kbe(n){return["disabled"===n.initialNavigation?[{provide:kA,multi:!0,useFactory:()=>{const n=_s(Bu);return()=>{n.setUpLocationChangeListener()}}},{provide:C3,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:C3,useValue:0},{provide:kA,multi:!0,deps:[Cs],useFactory:n=>{const e=n.get(xge,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(i=>{const o=n.get(Bu),s=n.get(qX);(function r(i){n.get(Bu).events.pipe(Ha(s=>s instanceof tb||s instanceof dO||s instanceof aX),Rn(s=>s instanceof tb||s instanceof dO&&(0===s.code||1===s.code)&&null),Ha(s=>null!==s),ul(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),o.afterPreactivation=()=>(i(!0),t||s.closed?Fr(void 0):s),o.initialNavigation()}))}}]:[]]}const qX=new Dn("",{factory:()=>new Ht}),C3=new Dn("",{providedIn:"root",factory:()=>1});function ewe(n){return[WX,{provide:$X,useExisting:WX},{provide:jX,useExisting:n}]}const twe=[];let nwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[XX.forRoot(twe),XX]}),n})();const Wf=Object.create(null);Wf.open="0",Wf.close="1",Wf.ping="2",Wf.pong="3",Wf.message="4",Wf.upgrade="5",Wf.noop="6";const SO=Object.create(null);Object.keys(Wf).forEach(n=>{SO[Wf[n]]=n});const rwe={type:"error",data:"parser error"},iwe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),owe="function"==typeof ArrayBuffer,JX=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+r)},t.readAsDataURL(n)},QX=({type:n,data:e},t,r)=>iwe&&e instanceof Blob?t?r(e):JX(e,r):owe&&(e instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer)(e))?t?r(e):JX(new Blob([e]),r):r(Wf[n]+(e||"")),HM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lT="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<HM.length;n++)lT[HM.charCodeAt(n)]=n;const uwe="function"==typeof ArrayBuffer,dwe=(n,e)=>{if(uwe){const t=(n=>{let r,o,s,a,u,e=.75*n.length,t=n.length,i=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const c=new ArrayBuffer(e),h=new Uint8Array(c);for(r=0;r<t;r+=4)o=lT[n.charCodeAt(r)],s=lT[n.charCodeAt(r+1)],a=lT[n.charCodeAt(r+2)],u=lT[n.charCodeAt(r+3)],h[i++]=o<<2|s>>4,h[i++]=(15&s)<<4|a>>2,h[i++]=(3&a)<<6|63&u;return c})(n);return eK(t,e)}return{base64:!0,data:n}},eK=(n,e)=>"blob"===e&&n instanceof ArrayBuffer?new Blob([n]):n,tK=(n,e)=>{if("string"!=typeof n)return{type:"message",data:eK(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:dwe(n.substring(1),e)}:SO[t]?n.length>1?{type:SO[t],data:n.substring(1)}:{type:SO[t]}:rwe},nK=String.fromCharCode(30);function Va(n){if(n)return function pwe(n){for(var e in Va.prototype)n[e]=Va.prototype[e];return n}(n)}Va.prototype.on=Va.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Va.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Va.prototype.off=Va.prototype.removeListener=Va.prototype.removeAllListeners=Va.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if((r=t[i])===e||r.fn===e){t.splice(i,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},Va.prototype.emitReserved=Va.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){r=0;for(var i=(t=t.slice(0)).length;r<i;++r)t[r].apply(this,e)}return this},Va.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Va.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Lv="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function iK(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const mwe=setTimeout,gwe=clearTimeout;function xO(n,e){e.useNativeTimers?(n.setTimeoutFn=mwe.bind(Lv),n.clearTimeoutFn=gwe.bind(Lv)):(n.setTimeoutFn=setTimeout.bind(Lv),n.clearTimeoutFn=clearTimeout.bind(Lv))}function ywe(n){return"string"==typeof n?function _we(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}class bwe extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class oK extends Va{constructor(e){super(),this.writable=!1,xO(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new bwe(e,t,r)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=tK(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const sK="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),aK={};let uK,lK=0,Pv=0;function cK(n){let e="";do{e=sK[n%64]+e,n=Math.floor(n/64)}while(n>0);return e}function dK(){const n=cK(+new Date);return n!==uK?(lK=0,uK=n):n+"."+cK(lK++)}for(;Pv<64;Pv++)aK[sK[Pv]]=Pv;function hK(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}let fK=!1;try{fK="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){}const Mwe=fK;function pK(n){const e=n.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||Mwe))return new XMLHttpRequest}catch(t){}if(!e)try{return new(Lv[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function Swe(){}const xwe=null!=new pK({xdomain:!1}).responseType;let EO=(()=>{class n extends Va{constructor(t,r){super(),xO(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.async=!1!==r.async,this.data=void 0!==r.data?r.data:null,this.create()}create(){const t=iK(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const r=this.xhr=new pK(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof r.status?r.status:0)},0))},r.send(this.data)}catch(i){return void this.setTimeoutFn(()=>{this.onError(i)},0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(null!=this.xhr){if(this.xhr.onreadystatechange=Swe,t)try{this.xhr.abort()}catch(r){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();function mK(){for(let n in EO.requests)EO.requests.hasOwnProperty(n)&&EO.requests[n].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",mK):"function"==typeof addEventListener&&addEventListener("onpagehide"in Lv?"pagehide":"unload",mK,!1));const gK="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),TO=Lv.WebSocket||Lv.MozWebSocket,vK="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Rwe={websocket:class Twe extends oK{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=vK?{}:iK(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=vK?new TO(e,t,r):t?new TO(e,t):new TO(e)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=t===e.length-1;QX(e[t],this.supportsBinary,o=>{try{this.ws.send(o)}catch(a){}i&&gK(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=dK()),this.supportsBinary||(e.b64=1);const i=hK(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!TO}},polling:class Cwe extends oK{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const r="https:"===location.protocol;let i=location.port;i||(i=r?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}this.supportsBinary=xwe&&!(e&&e.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split(nK),r=[];for(let i=0;i<t.length;i++){const o=tK(t[i],e);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((o,s)=>{QX(o,!1,a=>{r[s]=a,++i===t&&e(r.join(nK))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=dK()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const i=hK(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new EO(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}},Dwe=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Awe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function T3(n){const e=n,t=n.indexOf("["),r=n.indexOf("]");-1!=t&&-1!=r&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=Dwe.exec(n||""),o={},s=14;for(;s--;)o[Awe[s]]=i[s]||"";return-1!=t&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function Owe(n,e){const r=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&r.splice(0,1),"/"==e.slice(-1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function kwe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}(0,o.query),o}let yK=(()=>{class n extends Va{constructor(t,r={}){super(),t&&"object"==typeof t&&(r=t,t=null),t?(t=T3(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=T3(r.host).host),xO(this,r),this.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=r.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function wwe(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts.transportOptions[t],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Rwe[t](i)}open(){let t;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(r){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),i=!1;n.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",g=>{if(!i)if("pong"===g.type&&"probe"===g.data){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(p(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=r.name,this.emitReserved("upgradeError",y)}}))};function s(){i||(i=!0,p(),r.close(),r=null)}const a=g=>{const y=new Error("probe error: "+g);y.transport=r.name,s(),this.emitReserved("upgradeError",y)};function u(){a("transport closed")}function c(){a("socket closed")}function h(g){r&&g.name!==r.name&&s()}const p=()=>{r.removeListener("open",o),r.removeListener("error",a),r.removeListener("close",u),this.off("close",c),this.off("upgrading",h)};r.once("open",o),r.once("error",a),r.once("close",u),this.once("close",c),this.once("upgrading",h),r.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let t=0;const r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=ywe(o)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(t,r,i){return this.sendPacket("message",t,r,i),this}send(t,r,i){return this.sendPacket("message",t,r,i),this}sendPacket(t,r,i,o){if("function"==typeof r&&(o=r,r=void 0),"function"==typeof i&&(o=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const r=[];let i=0;const o=t.length;for(;i<o;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}return n.protocol=4,n})();const Pwe="function"==typeof ArrayBuffer,_K=Object.prototype.toString,Nwe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===_K.call(Blob),Fwe="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===_K.call(File);function R3(n){return Pwe&&(n instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer)(n))||Nwe&&n instanceof Blob||Fwe&&n instanceof File}function RO(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(RO(n[t]))return!0;return!1}if(R3(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return RO(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&RO(n[t]))return!0;return!1}function Hwe(n){const e=[],r=n;return r.data=D3(n.data,e),r.attachments=e.length,{packet:r,buffers:e}}function D3(n,e){if(!n)return n;if(R3(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=D3(n[r],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=D3(n[r],e));return t}return n}function Bwe(n,e){return n.data=A3(n.data,e),n.attachments=void 0,n}function A3(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=A3(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=A3(n[t],e));return n}const Vwe=5;var Ho=(()=>{return(n=Ho||(Ho={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",Ho;var n})();class zwe{constructor(e){this.replacer=e}encode(e){return e.type!==Ho.EVENT&&e.type!==Ho.ACK||!RO(e)?[this.encodeAsString(e)]:(e.type=e.type===Ho.EVENT?Ho.BINARY_EVENT:Ho.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return(e.type===Ho.BINARY_EVENT||e.type===Ho.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Hwe(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}class O3 extends Va{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e),t.type===Ho.BINARY_EVENT||t.type===Ho.BINARY_ACK?(this.reconstructor=new Uwe(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!R3(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===Ho[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Ho.BINARY_EVENT||r.type===Ho.BINARY_ACK){const o=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(o,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(t+1)){const o=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(o,t)}else r.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const o=t+1;for(;++t;){const s=e.charAt(t);if(null==s||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){const o=this.tryParse(e.substr(t));if(!O3.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Ho.CONNECT:return"object"==typeof t;case Ho.DISCONNECT:return void 0===t;case Ho.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Ho.EVENT:case Ho.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Ho.ACK:case Ho.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Uwe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Bwe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Gh(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const jwe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bK extends Va{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Gh(e,"open",this.onopen.bind(this)),Gh(e,"packet",this.onpacket.bind(this)),Gh(e,"error",this.onerror.bind(this)),Gh(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(jwe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');t.unshift(e);const r={type:Ho.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const s=this.ids++,a=t.pop();this._registerAckCallback(s,a),r.id=s}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(void 0===r)return void(this.acks[e]=t);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...o])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this.packet({type:Ho.CONNECT,data:e})}):this.packet({type:Ho.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ho.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ho.EVENT:case Ho.BINARY_EVENT:this.onevent(e);break;case Ho.ACK:case Ho.BINARY_ACK:this.onack(e);break;case Ho.DISCONNECT:this.ondisconnect();break;case Ho.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:Ho.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ho.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function BM(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}BM.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=0==(1&Math.floor(10*e))?n-t:n+t}return 0|Math.min(n,this.max)},BM.prototype.reset=function(){this.attempts=0},BM.prototype.setMin=function(n){this.ms=n},BM.prototype.setMax=function(n){this.max=n},BM.prototype.setJitter=function(n){this.jitter=n};class k3 extends Va{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,xO(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new BM({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||L;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new yK(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Gh(t,"open",function(){r.onopen(),e&&e()}),o=Gh(t,"error",s=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",s),e?e(s):r.maybeReconnectOnOpen()});if(!1!==this._timeout){const s=this._timeout;0===s&&i();const a=this.setTimeoutFn(()=>{i(),t.close(),t.emit("error",new Error("timeout"))},s);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Gh(e,"ping",this.onping.bind(this)),Gh(e,"data",this.ondata.bind(this)),Gh(e,"error",this.onerror.bind(this)),Gh(e,"close",this.onclose.bind(this)),Gh(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){gK(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new bK(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const uT={};function DO(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function Lwe(n,e="",t){let r=n;t=t||"undefined"!=typeof location&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=void 0!==t?t.protocol+"//"+n:"https://"+n),r=T3(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}(n,(e=e||{}).path||"/socket.io"),r=t.source,i=t.id;let u;return e.forceNew||e["force new connection"]||!1===e.multiplex||uT[i]&&t.path in uT[i].nsps?u=new k3(r,e):(uT[i]||(uT[i]=new k3(r,e)),u=uT[i]),t.query&&!e.query&&(e.query=t.queryKey),u.socket(t.path,e)}Object.assign(DO,{Manager:k3,Socket:bK,io:DO,connect:DO});let L3,wK=(()=>{class n{constructor(){this.comments=[{user:!1,content:"\u3054\u8cea\u554f\u306f\u3054\u3056\u3044\u307e\u3059\u304b\uff1f"}]}setupSocketConnection(){console.log("setupSocketConnection:","https://intense-plains-31465.herokuapp.com/"),this.socket=DO("https://intense-plains-31465.herokuapp.com/"),this.socket.on("HelpDesk->Customer",t=>{null!=t&&0!==t.trim().length&&(this.comments.push({user:!1,content:t}),console.log("receive a message from HelpDesk:",t))})}sendMessage(t){null!=t&&0!==t.trim().length&&(this.socket.emit("Customer->HelpDesk",t),this.comments.push({user:!0,content:t}),console.log("send a message to HelpDesk: ",t))}disconnect(){this.socket&&(this.socket.disconnect(),console.log("disconnect"))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{L3="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){L3=!1}let cT,nb,P3,wc=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Uve(n){return n===f$}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!L3)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(gt(PA))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zM(n){return function Wwe(){if(null==cT&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>cT=!0}))}finally{cT=cT||!1}return cT}()?n:!!n.capture}function Ywe(){if(null==nb){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return nb=!1,nb;if("scrollBehavior"in document.documentElement.style)nb=!0;else{const n=Element.prototype.scrollTo;nb=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return nb}function SK(n){if(function Gwe(){if(null==P3){const n="undefined"!=typeof document?document.head:null;P3=!(!n||!n.createShadowRoot&&!n.attachShadow)}return P3}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function I3(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function rb(n){return n.composedPath?n.composedPath()[0]:n.target}function N3(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class F3{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class H3 extends F3{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class B3 extends F3{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class $we extends F3{constructor(e){super(),this.element=e instanceof wi?e.nativeElement:e}}class V3{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof H3?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof B3?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof $we?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Xwe extends V3{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,u=this._document.createComment("dom-portal");a.parentNode.insertBefore(u,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Cs.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let z3=(()=>{class n extends V3{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new _o,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=r.createComponent(o,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(ke(Of),ke(Cl),ke(Pi))},n.\u0275dir=kn({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[pr]}),n})(),dT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({}),n})();function ib(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class s0e extends F{constructor(e,t){super()}schedule(e,t=0){return this}}const NO={setInterval(n,e,...t){const{delegate:r}=NO;return null!=r&&r.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=NO;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class j3 extends s0e{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return NO.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&NO.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,N(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const DK={now:()=>(DK.delegate||Date).now(),delegate:void 0};class hT{constructor(e,t=hT.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}hT.now=DK.now;class W3 extends hT{constructor(e,t=hT.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const FO=new W3(j3),a0e=FO;function Y3(n,e=FO){return Wn((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function u(){const c=s+n,h=e.now();if(h<c)return i=this.schedule(void 0,c-h),void r.add(i);a()}t.subscribe(In(r,c=>{o=c,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function AK(n){return Ha((e,t)=>n<=t)}function u0e(n,e){return n===e}function Vu(n){return Wn((e,t)=>{gs(n).subscribe(In(t,()=>t.complete(),K)),!t.closed&&e.subscribe(t)})}function wa(n){return null!=n&&"false"!=`${n}`}function Yf(n,e=0){return function c0e(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function HO(n){return Array.isArray(n)?n:[n]}function za(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ob(n){return n instanceof wi?n.nativeElement:n}let OK=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d0e=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=ob(t);return new dt(i=>{const s=this._observeElement(r).subscribe(i);return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Ht,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(gt(OK))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h0e=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new _o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=wa(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Yf(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Y3(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(ke(d0e),ke(wi),ke(Si))},n.\u0275dir=kn({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),G3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({providers:[OK]}),n})();const kK=new Set;let UM,f0e=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):m0e}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function p0e(n){if(!kK.has(n))try{UM||(UM=document.createElement("style"),UM.setAttribute("type","text/css"),document.head.appendChild(UM)),UM.sheet&&(UM.sheet.insertRule(`@media ${n} {body{ }}`,0),kK.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(gt(wc))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function m0e(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let g0e=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ht}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return LK(HO(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=XH(LK(HO(t)).map(s=>this._registerQuery(s).observable));return o=ZE(o.pipe(ul(1)),o.pipe(AK(1),Y3(0))),o.pipe(Rn(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:c})=>{a.matches=a.matches||u,a.breakpoints[c]=u}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new dt(s=>{const a=u=>this._zone.run(()=>s.next(u));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(dm(r),Rn(({matches:s})=>({query:t,matches:s})),Vu(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(gt(f0e),gt(Si))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LK(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class NK extends class _0e{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ht,this._typeaheadSubscription=F.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ht,this.change=new Ht,e instanceof EM&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ba(t=>this._pressedLetters.push(t)),Y3(e),Ha(()=>this._pressedLetters.length>0),Rn(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,s=r[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||ib(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof EM?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let BO=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function w0e(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function b0e(n){try{return n.frameElement}catch(e){return null}}(function D0e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===HK(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=HK(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function T0e(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function R0e(n){return!function S0e(n){return function C0e(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function M0e(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function x0e(n){return function E0e(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||FK(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(gt(wc))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FK(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function HK(n){if(!FK(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class A0e{constructor(e,t,r,i,o=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ul(1)).subscribe(e)}}let $3=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new A0e(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(gt(BO),gt(Si),gt(Pi))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X3(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function K3(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const O0e=new Dn("cdk-input-modality-detector-options"),k0e={ignoreKeys:[18,17,224,91,16]},jM=zM({passive:!0,capture:!0});let L0e=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new od(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,u;null!==(u=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)&&void 0!==u&&u.some(c=>c===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=rb(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(X3(s)?"keyboard":"mouse"),this._mostRecentTarget=rb(s))},this._onTouchstart=s=>{K3(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=rb(s))},this._options=Object.assign(Object.assign({},k0e),o),this.modalityDetected=this._modality.pipe(AK(1)),this.modalityChanged=this.modalityDetected.pipe(function l0e(n,e=Nt){return n=null!=n?n:u0e,Wn((t,r)=>{let i,o=!0;t.subscribe(In(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,jM),i.addEventListener("mousedown",this._onMousedown,jM),i.addEventListener("touchstart",this._onTouchstart,jM)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jM),document.removeEventListener("mousedown",this._onMousedown,jM),document.removeEventListener("touchstart",this._onTouchstart,jM))}}return n.\u0275fac=function(t){return new(t||n)(gt(wc),gt(Si),gt(Pi),gt(O0e,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I0e=new Dn("cdk-focus-monitor-default-options"),VO=zM({passive:!0,capture:!0});let gm=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ht,this._rootNodeFocusAndBlurListener=a=>{for(let c=rb(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(t,r=!1){const i=ob(t);if(!this._platform.isBrowser||1!==i.nodeType)return Fr(null);const o=SK(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new Ht,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=ob(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=ob(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,u])=>this._originChanged(a,r,u)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!(null==t||!t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=rb(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,VO),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,VO)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Vu(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,VO),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,VO),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(gt(Si),gt(wc),gt(L0e),gt(Pi,8),gt(I0e,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VK="cdk-high-contrast-black-on-white",zK="cdk-high-contrast-white-on-black",Z3="cdk-high-contrast-active";let UK=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=_s(g0e).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Z3,VK,zK),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Z3,VK):2===r&&t.add(Z3,zK)}}}return n.\u0275fac=function(t){return new(t||n)(gt(wc),gt(Pi))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jK=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(gt(UK))},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[G3]}),n})();const N0e=["addListener","removeListener"],F0e=["addEventListener","removeEventListener"],H0e=["on","off"];function q3(n,e,t,r){if(T(t)&&(r=t,t=void 0),r)return q3(n,e,t).pipe($H(r));const[i,o]=function z0e(n){return T(n.addEventListener)&&T(n.removeEventListener)}(n)?F0e.map(s=>a=>n[s](e,a,t)):function B0e(n){return T(n.addListener)&&T(n.removeListener)}(n)?N0e.map(WK(n,e)):function V0e(n){return T(n.on)&&T(n.off)}(n)?H0e.map(WK(n,e)):[];if(!i&&Xl(n))return $o(s=>q3(s,e,t))(gs(n));if(!i)throw new TypeError("Invalid event target");return new dt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function WK(n,e){return t=>r=>n[t](e,r)}const fT={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=fT;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new F(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=fT;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=fT;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class j0e extends W3{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class U0e extends j3{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=fT.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(fT.cancelAnimationFrame(t),e._scheduled=void 0)}});let J3,Y0e=1;const zO={};function YK(n){return n in zO&&(delete zO[n],!0)}const G0e={setImmediate(n){const e=Y0e++;return zO[e]=!0,J3||(J3=Promise.resolve()),J3.then(()=>YK(e)&&n()),e},clearImmediate(n){YK(n)}},{setImmediate:$0e,clearImmediate:X0e}=G0e,UO={setImmediate(...n){const{delegate:e}=UO;return((null==e?void 0:e.setImmediate)||$0e)(...n)},clearImmediate(n){const{delegate:e}=UO;return((null==e?void 0:e.clearImmediate)||X0e)(n)},delegate:void 0},Q3=new class Z0e extends W3{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class K0e extends j3{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=UO.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(UO.clearImmediate(t),e._scheduled=void 0)}});function GK(n=0,e,t=a0e){let r=-1;return null!=e&&(Ri(e)?t=e:r=e),new dt(i=>{let o=function J0e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function $K(n,e=FO){return function q0e(n){return Wn((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,r){r=!1;const c=i;i=null,t.next(c)}s&&t.complete()},u=()=>{o=null,s&&t.complete()};e.subscribe(In(t,c=>{r=!0,i=c,o||gs(n(c)).subscribe(o=In(t,a,u))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>GK(n,e))}const Q0e=new Dn("cdk-dir-doc",{providedIn:"root",factory:function eMe(){return _s(Pi)}}),tMe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let WM=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new _o,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function nMe(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?tMe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(gt(Q0e,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({}),n})(),iMe=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ht,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new dt(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe($K(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Fr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ha(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ob(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>q3(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(gt(Si),gt(wc),gt(Pi,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jO=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ht,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe($K(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(gt(wc),gt(Si),gt(Pi,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({}),n})(),eB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[pT,mT,pT,mT]}),n})();const XK=Ywe();class sMe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=za(-this._previousScrollPosition.left),e.style.top=za(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),XK&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XK&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class aMe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class KK{enable(){}disable(){}attach(){}}function tB(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function ZK(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class lMe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();tB(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let uMe=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new KK,this.close=s=>new aMe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new sMe(this._viewportRuler,this._document),this.reposition=s=>new lMe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(gt(iMe),gt(jO),gt(Si),gt(Pi))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nB{constructor(e){if(this.scrollStrategy=new KK,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class cMe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class gT{constructor(e,t,r,i,o,s,a,u,c,h=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=u,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new Ht,this._attachments=new Ht,this._detachments=new Ht,this._locationChanges=F.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new Ht,this._outsidePointerEvents=new Ht,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ul(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof(null==t?void 0:t.onDestroy)&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=za(this._config.width),e.height=za(this._config.height),e.minWidth=za(this._config.minWidth),e.minHeight=za(this._config.minHeight),e.maxWidth=za(this._config.maxWidth),e.maxHeight=za(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),this._animationsDisabled||"undefined"==typeof requestAnimationFrame?this._backdropElement.classList.add(e):this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})})}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=HO(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Vu(Lc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let WO=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||N3()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),N3()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi),gt(wc))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qK="cdk-overlay-connected-position-bounding-box",dMe=/([A-Za-z%]+)$/;class hMe{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ht,this._resizeSubscription=F.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(qK),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let u=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(u,t,a),h=this._getOverlayFit(c,t,r,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,u);this._canFitWithFlexibleDimensions(h,c,r)?o.push({position:a,origin:u,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(u,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:c,originPoint:u,position:a,overlayRect:t})}if(o.length){let a=null,u=-1;for(const c of o){const h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>u&&(u=h,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qK),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?s:a}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=QK(t);let{x:s,y:a}=e,u=this._getOffset(i,"x"),c=this._getOffset(i,"y");u&&(s+=u),c&&(a+=c);let g=0-a,y=a+o.height-r.height,w=this._subtractOverflows(o.width,0-s,s+o.width-r.width),S=this._subtractOverflows(o.height,g,y),C=w*S;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:S===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=JK(this._overlayRef.getConfig().minHeight),a=JK(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=o;return(e.fitsInViewportVertically||null!=s&&s<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=QK(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),u=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0);let h=0,p=0;return h=i.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,p=i.height<=o.height?u||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new cMe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,h,p,g;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const y=Math.min(r.bottom-e.y+r.top,e.y),w=this._lastBoundingBoxSize.height;o=2*y,s=e.y-y,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)g=r.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)p=e.x,h=r.right-e.x;else{const y=Math.min(r.right-e.x+r.left,e.x),w=this._lastBoundingBoxSize.width;h=2*y,p=e.x-y,h>w&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-w/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=za(r.height),i.top=za(r.top),i.bottom=za(r.bottom),i.width=za(r.width),i.left=za(r.left),i.right=za(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=za(o)),s&&(i.maxWidth=za(s))}this._lastBoundingBoxSize=r,sb(this._boundingBox.style,i)}_resetBoundingBoxStyles(){sb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const h=this._viewportRuler.getViewportScrollPosition();sb(r,this._getExactOverlayY(t,e,h)),sb(r,this._getExactOverlayX(t,e,h))}else r.position="static";let a="",u=this._getOffset(t,"x"),c=this._getOffset(t,"y");u&&(a+=`translateX(${u}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=za(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=za(s.maxWidth):o&&(r.maxWidth="")),sb(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=za(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=za(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ZK(e,r),isOriginOutsideView:tB(e,r),isOverlayClipped:ZK(t,r),isOverlayOutsideView:tB(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&HO(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof wi)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function sb(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function JK(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(dMe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function QK(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const eZ="cdk-global-overlay-wrapper";class fMe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(eZ),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,u=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let y="",w="",S="";u?S="flex-start":"center"===h?(S="center",g?w=p:y=p):g?"left"===h||"end"===h?(S="flex-end",y=p):("right"===h||"start"===h)&&(S="flex-start",w=p):"left"===h||"start"===h?(S="flex-start",y=p):("right"===h||"end"===h)&&(S="flex-end",w=p),e.position=this._cssPosition,e.marginLeft=u?"0":y,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":w,t.justifyContent=S,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(eZ),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let pMe=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new fMe}flexibleConnectedTo(t){return new hMe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(gt(jO),gt(Pi),gt(wc),gt(WO))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tZ=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mMe=(()=>{class n extends tZ{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi),gt(Si,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gMe=(()=>{class n extends tZ{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=rb(o)},this._clickListener=o=>{const s=rb(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let c=u.length-1;c>-1;c--){const h=u[c];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi),gt(wc),gt(Si,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vMe=0,Iv=(()=>{class n{constructor(t,r,i,o,s,a,u,c,h,p,g,y){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=u,this._document=c,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new nB(t);return s.direction=s.direction||this._directionality.value,new gT(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+vMe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(AM)),new Xwe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(gt(uMe),gt(WO),gt(Of),gt(pMe),gt(mMe),gt(Cs),gt(Si),gt(Pi),gt(WM),gt(WE),gt(gMe),gt(Bf,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const bMe={provide:new Dn("cdk-connected-overlay-scroll-strategy"),deps:[Iv],useFactory:function _Me(n){return()=>n.scrollStrategies.reposition()}};let rB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({providers:[Iv,bMe],imports:[pT,dT,eB,eB]}),n})();function wMe(n,e){}class YO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let nZ=(()=>{class n extends V3{constructor(t,r,i,o,s,a,u,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=u,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=h=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),p},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=I3(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=I3();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=I3())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke($3),ke(Pi,8),ke(YO),ke(BO),ke(Si),ke(gT),ke(gm))},n.\u0275cmp=Ci({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&El(z3,7),2&t){let i;Eo(i=To())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&qo("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[pr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&O(0,wMe,0,0,"ng-template",0)},dependencies:[z3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class iB{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ht,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!ib(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=(null==t?void 0:t.focusOrigin)||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const rZ=new Dn("DialogScrollStrategy"),MMe=new Dn("DialogData"),SMe=new Dn("DefaultDialogConfig"),CMe={provide:rZ,deps:[Iv],useFactory:function xMe(n){return()=>n.scrollStrategies.block()}};let EMe=0,iZ=(()=>{class n{constructor(t,r,i,o,s,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ht,this._afterOpenedAtThisLevel=new Ht,this._ariaHiddenElements=new Map,this.afterAllClosed=nO(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(dm(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,r){const i=this._defaultOptions||new YO;(r=Object.assign(Object.assign({},i),r)).id=r.id||"cdk-dialog-"+EMe++,r.id&&this.getDialogById(r.id);const o=this._getOverlayConfig(r),s=this._overlay.create(o),a=new iB(s,r),u=this._attachContainer(s,a,r);return a.containerInstance=u,this._attachDialogContent(t,a,u,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){oB(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){oB(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),oB(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new nB({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){var o;const s=i.injector||(null===(o=i.viewContainerRef)||void 0===o?void 0:o.injector),a=[{provide:YO,useValue:i},{provide:iB,useValue:r},{provide:gT,useValue:t}];let u;i.container?"function"==typeof i.container?u=i.container:(u=i.container.type,a.push(...i.container.providers(i))):u=nZ;const c=new H3(u,i.viewContainerRef,Cs.create({parent:s||this._injector,providers:a}),i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,o){if(t instanceof sl){const s=this._createInjector(o,r,i,void 0);let a={$implicit:o.data,dialogRef:r};o.templateContext&&(a=Object.assign(Object.assign({},a),"function"==typeof o.templateContext?o.templateContext():o.templateContext)),i.attachTemplatePortal(new B3(t,null,a,s))}else{const s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new H3(t,o.viewContainerRef,s,o.componentFactoryResolver));r.componentInstance=a.instance}}_createInjector(t,r,i,o){var s;const a=t.injector||(null===(s=t.viewContainerRef)||void 0===s?void 0:s.injector),u=[{provide:MMe,useValue:t.data},{provide:iB,useValue:r}];return t.providers&&("function"==typeof t.providers?u.push(...t.providers(r,t,i)):u.push(...t.providers)),t.direction&&(!a||!a.get(WM,null,dr.Optional))&&u.push({provide:WM,useValue:{value:t.direction,change:Fr()}}),Cs.create({parent:a||o,providers:u})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const o=r[i];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(gt(Iv),gt(Cs),gt(SMe,8),gt(n,12),gt(WO),gt(rZ))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();function oB(n,e){let t=n.length;for(;t--;)e(n[t])}let oZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({providers:[iZ,CMe],imports:[rB,dT,jK,dT]}),n})();const RMe=new Dn("mat-sanity-checks",{providedIn:"root",factory:function TMe(){return!0}});let Ro=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!N3()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(gt(UK),gt(RMe,8),gt(Pi))},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[pT,pT]}),n})();function GO(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=wa(e)}}}function YM(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function vT(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=wa(e)}}}function cZ(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Yf(t):this.defaultTabIndex}}}let AMe=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OMe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=kn({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function yT(n,e,t){n.nativeElement.classList.toggle(e,t)}let dZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[Ro,Ro]}),n})();class LMe{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const hZ={enterDuration:225,exitDuration:150},sB=zM({passive:!0}),fZ=["mousedown","touchstart"],pZ=["mouseup","mouseleave","touchend","touchcancel"];class IMe{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ob(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},hZ),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function NMe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,u=t-i.top,c=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=u-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=r.color&&(h.style.backgroundColor=r.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),y=p.transitionDuration,w="none"===p.transitionProperty||"0s"===y||"0s, 0s"===y,S=new LMe(this,h,r,w);h.style.transform="scale3d(1, 1, 1)",S.state=0,r.persistent||(this._mostRecentTransientRipple=S);let C=null;return!w&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const P=()=>this._finishRippleTransition(S),B=()=>this._destroyRipple(S);h.addEventListener("transitionend",P),h.addEventListener("transitioncancel",B),C={onTransitionEnd:P,onTransitionCancel:B}}),this._activeRipples.set(S,C),(w||!c)&&this._finishRippleTransition(S),S}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r=Object.assign(Object.assign({},hZ),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ob(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(fZ))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(pZ),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){var t;const r=null!==(t=this._activeRipples.get(e))&&void 0!==t?t:null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==r&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=X3(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!K3(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,sB)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(fZ.forEach(e=>{this._triggerElement.removeEventListener(e,this,sB)}),this._pointerUpEventsRegistered&&pZ.forEach(e=>{this._triggerElement.removeEventListener(e,this,sB)}))}}const FMe=new Dn("mat-ripple-global-options");let GM=(()=>{class n{constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new IMe(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(Si),ke(wc),ke(FMe,8),ke(Bf,8))},n.\u0275dir=kn({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Vi("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),$O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[Ro,Ro]}),n})(),HMe=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(ke(Bf,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&Vi("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),mZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[Ro]}),n})();class gZ{}const vm="*";function $M(n,e){return{type:7,name:n,definitions:e,options:{}}}function Gf(n,e=null){return{type:4,styles:e,timings:n}}function XO(n,e=null){return{type:3,steps:n,options:e}}function vZ(n,e=null){return{type:2,steps:n,options:e}}function Yl(n){return{type:6,styles:n,offset:null}}function ym(n,e,t){return{type:0,name:n,styles:e,options:t}}function $f(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function KO(n=null){return{type:9,options:n}}function ZO(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function yZ(n){Promise.resolve(null).then(n)}class _T{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yZ(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class _Z{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?yZ(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function VMe(n,e){}const XM={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},zMe={dialogContainer:$M("dialogContainer",[ym("void, exit",Yl({opacity:0,transform:"scale(0.7)"})),ym("enter",Yl({transform:"none"})),$f("* => enter",XO([Gf("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Yl({transform:"none",opacity:1})),ZO("@*",KO(),{optional:!0})]),XM),$f("* => void, * => exit",XO([Gf("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Yl({opacity:0})),ZO("@*",KO(),{optional:!0})]),XM)])};class qO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=XM.params.enterAnimationDuration,this.exitAnimationDuration=XM.params.exitAnimationDuration}}let UMe=(()=>{class n extends nZ{constructor(t,r,i,o,s,a,u,c){super(t,r,i,o,s,a,u,c),this._animationStateChanged=new _o}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke($3),ke(Pi,8),ke(qO),ke(BO),ke(Si),ke(gT),ke(gm))},n.\u0275cmp=Ci({type:n,selectors:[["ng-component"]],features:[pr],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),jMe=(()=>{class n extends UMe{constructor(t,r,i,o,s,a,u,c,h){super(t,r,i,o,s,a,u,h),this._changeDetectorRef=c,this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?this._openAnimationDone(r):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||XM.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||XM.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke($3),ke(Pi,8),ke(qO),ke(BO),ke(Si),ke(gT),ke(Hu),ke(gm))},n.\u0275cmp=Ci({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,r){1&t&&Ut("@dialogContainer.start",function(o){return r._onAnimationStart(o)})("@dialogContainer.done",function(o){return r._onAnimationDone(o)}),2&t&&(MM("id",r._config.id),qo("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),GF("@dialogContainer",r._getAnimationState()))},features:[pr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&O(0,VMe,0,0,"ng-template",0)},dependencies:[z3],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[zMe.dialogContainer]}}),n})();class sd{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Ht,this._beforeClosed=new Ht,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Ha(i=>"opened"===i.state),ul(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Ha(i=>"closed"===i.state),ul(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Lc(this.backdropClick(),this.keydownEvents().pipe(Ha(i=>27===i.keyCode&&!this.disableClose&&!ib(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),bZ(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ha(t=>"closing"===t.state),ul(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function bZ(n,e,t){return n._closeInteractionType=e,n.close(t)}const WMe=new Dn("MatDialogData"),YMe=new Dn("mat-dialog-default-options"),wZ=new Dn("mat-dialog-scroll-strategy"),$Me={provide:wZ,deps:[Iv],useFactory:function GMe(n){return()=>n.scrollStrategies.block()}};let XMe=0,KMe=(()=>{class n{constructor(t,r,i,o,s,a,u,c,h,p){this._overlay=t,this._defaultOptions=i,this._parentDialog=o,this._dialogRefConstructor=u,this._dialogContainerType=c,this._dialogDataToken=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ht,this._afterOpenedAtThisLevel=new Ht,this._idPrefix="mat-dialog-",this.afterAllClosed=nO(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(dm(void 0))),this._scrollStrategy=a,this._dialog=r.get(iZ)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){let i;(r=Object.assign(Object.assign({},this._defaultOptions||new qO),r)).id=r.id||`${this._idPrefix}${XMe++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,Object.assign(Object.assign({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:qO,useValue:r},{provide:YO,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(s,a,u)=>(i=new this._dialogRefConstructor(s,r,u),i.updatePosition(null==r?void 0:r.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){iv()},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),bT=(()=>{class n extends KMe{constructor(t,r,i,o,s,a,u,c){super(t,r,o,a,u,s,sd,jMe,WMe,c)}}return n.\u0275fac=function(t){return new(t||n)(gt(Iv),gt(Cs),gt(WE,8),gt(YMe,8),gt(wZ),gt(n,12),gt(WO),gt(Bf,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),ZMe=0,Xf=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=MZ(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){bZ(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(ke(sd,8),ke(wi),ke(bT))},n.\u0275dir=kn({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&st("click",function(o){return r._onButtonClick(o)}),2&t&&qo("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Ws]}),n})(),Kf=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+ZMe++}ngOnInit(){this._dialogRef||(this._dialogRef=MZ(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(ke(sd,8),ke(wi),ke(bT))},n.\u0275dir=kn({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&MM("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),_m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=kn({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Zf=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=kn({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,r){2&t&&Vi("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),n})();function MZ(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let qMe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({providers:[bT,$Me],imports:[oZ,rB,dT,Ro,Ro]}),n})();const JMe=["mat-button",""],QMe=["*"],tSe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],nSe=YM(GO(vT(class{constructor(n){this._elementRef=n}})));let $h=(()=>{class n extends nSe{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of tSe)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(gm),ke(Bf,8))},n.\u0275cmp=Ci({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&El(GM,5),2&t){let i;Eo(i=To())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(qo("disabled",r.disabled||null),Vi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[pr],attrs:JMe,ngContentSelectors:QMe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(Gn(),ee(0,"span",0),$n(1),se(),ie(2,"span",1)(3,"span",2)),2&t&&(kr(2),Vi("mat-button-ripple-round",r.isRoundButton||r.isIconButton),V("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[GM],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),rSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[$O,Ro,Ro]}),n})();function iSe(n,e){if(1&n&&(Re(0),ee(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),En(5),se()()()(),ie(6,"div",18),xe()),2&n){const t=Gt().$implicit;kr(5),Ur(" ",t.content," ")}}function oSe(n,e){if(1&n&&(Re(0),ee(1,"div",19)(2,"div",15)(3,"div",16)(4,"div",17),En(5),se()()()(),ie(6,"div",18),xe()),2&n){const t=Gt().$implicit;kr(5),Ur(" ",t.content," ")}}function sSe(n,e){if(1&n&&(Re(0),O(1,iSe,7,1,"ng-container",13),O(2,oSe,7,1,"ng-container",13),xe()),2&n){const t=e.$implicit;kr(1),V("ngIf",!t.user),kr(1),V("ngIf",t.user)}}let aSe=(()=>{class n{constructor(t,r){this.socketService=t,this.dialogRef=r}ngOnInit(){this.socketService.setupSocketConnection()}ngOnDestroy(){this.socketService.disconnect()}sendMessage(t){this.socketService.sendMessage(t)}}return n.\u0275fac=function(t){return new(t||n)(ke(wK),ke(sd))},n.\u0275cmp=Ci({type:n,selectors:[["app-chat"]],decls:17,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["id","your_container"],["id","bms_messages_container"],["id","bms_messages"],[4,"ngFor","ngForOf"],["id","bms_send"],["id","bms_send_message",3,"keydown.enter"],["send_message",""],["id","bms_send_btn",3,"click"],["send_btn",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],[4,"ngIf"],[1,"bms_message","bms_left"],[1,"bms_message_box"],[1,"bms_message_content"],[1,"bms_message_text"],[1,"bms_clear"],[1,"bms_message","bms_right"]],template:function(t,r){if(1&t){const i=Me();ee(0,"h3",0),En(1,"\u3042\u306a\u305f\u306f\u30e6\u30fc\u30b6\u30fc1\u3067\u3059"),se(),ee(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),O(6,sSe,3,2,"ng-container",5),se(),ee(7,"div",6)(8,"textarea",7,8),st("keydown.enter",function(){_l(i);const s=H(9);return r.sendMessage(s.value),da(s.value="")}),En(10,"                "),se(),ee(11,"div",9,10),st("click",function(){_l(i);const s=H(9);return r.sendMessage(s.value),da(s.value="")}),En(13," \u9001\u4fe1 "),se()()()()(),ee(14,"div",11)(15,"button",12),En(16,"\u9589\u3058\u308b"),se()()}2&t&&(kr(6),V("ngForOf",r.socketService.comments))},dependencies:[NH,$E,$h,Xf,Kf,_m,Zf],styles:['@charset "UTF-8";#your_container[_ngcontent-%COMP%]{height:70%;width:100%}#bms_messages_container[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#eee}#bms_messages[_ngcontent-%COMP%]{overflow:auto;height:100%;border-right:1px solid #ddd;border-left:1px solid #ddd;background-color:#eee;box-shadow:0 2px 2px #0003 inset}.bms_message[_ngcontent-%COMP%]{margin:0;padding:0 14px;font-size:16px;word-wrap:break-word;white-space:normal}.bms_message_box[_ngcontent-%COMP%]{margin-top:20px;max-width:100%;font-size:16px}.bms_message_content[_ngcontent-%COMP%]{padding:20px}.bms_left[_ngcontent-%COMP%]{float:left;line-height:1.3em}.bms_left[_ngcontent-%COMP%]   .bms_message_box[_ngcontent-%COMP%]{color:#333;background:#fff;border:2px solid #13178e;border-radius:30px 30px 30px 0;margin-right:50px}.bms_right[_ngcontent-%COMP%]{float:right;line-height:1.3em}.bms_right[_ngcontent-%COMP%]   .bms_message_box[_ngcontent-%COMP%]{color:#fff;background:#13178e;border:2px solid #13178e;border-radius:30px 30px 0;margin-left:50px}.bms_clear[_ngcontent-%COMP%]{clear:both}#bms_send[_ngcontent-%COMP%]{background-color:#eee;border-right:1px solid #ddd;border-left:1px solid #ddd;border-bottom:1px solid #ddd;height:48px;padding:4px}#bms_send_message[_ngcontent-%COMP%]{width:calc(100% - 75px);line-height:16px;height:48px;padding:14px 6px 0;border:1px solid #ccc;border-radius:4px;text-align:left;box-shadow:2px 2px 4px #0003 inset;box-sizing:border-box}#bms_send_btn[_ngcontent-%COMP%]{width:72px;height:48px;font-size:16px;line-height:3em;float:right;color:#fff;font-weight:700;background:#bcbcbc;text-align:center;border:1px solid #bbb;border-radius:4px;box-sizing:border-box}#bms_send_btn[_ngcontent-%COMP%]:hover{background:#13178e;cursor:pointer}']}),n})();var lSe=b(1670);const Mc=1001,cl=1003,Ua=1006,cb=1009,db=1014,Fv=1015,ST=1016,QM=1020,Xh=1023,hb=1026,eS=1027,fb=3e3,fa=3001,wm="srgb",pb="srgb-linear";class iS{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const o=i.indexOf(t);-1!==o&&i.splice(o,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const r=this._listeners[e.type];if(void 0!==r){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const pu=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],mb=Math.PI/180,xT=180/Math.PI;function ad(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(pu[255&n]+pu[n>>8&255]+pu[n>>16&255]+pu[n>>24&255]+"-"+pu[255&e]+pu[e>>8&255]+"-"+pu[e>>16&15|64]+pu[e>>24&255]+"-"+pu[63&t|128]+pu[t>>8&255]+"-"+pu[t>>16&255]+pu[t>>24&255]+pu[255&r]+pu[r>>8&255]+pu[r>>16&255]+pu[r>>24&255]).toLowerCase()}function Ma(n,e,t){return Math.max(e,Math.min(t,n))}function CT(n,e,t){return(1-t)*n+t*e}function SB(n){return 0==(n&n-1)&&0!==n}function sk(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}class Cn{constructor(e=0,t=0){Cn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Sc{constructor(){Sc.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,u,c){const h=this.elements;return h[0]=e,h[1]=i,h[2]=a,h[3]=t,h[4]=o,h[5]=u,h[6]=r,h[7]=s,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[3],u=r[6],c=r[1],h=r[4],p=r[7],g=r[2],y=r[5],w=r[8],S=i[0],C=i[3],P=i[6],B=i[1],z=i[4],j=i[7],G=i[2],re=i[5],pe=i[8];return o[0]=s*S+a*B+u*G,o[3]=s*C+a*z+u*re,o[6]=s*P+a*j+u*pe,o[1]=c*S+h*B+p*G,o[4]=c*C+h*z+p*re,o[7]=c*P+h*j+p*pe,o[2]=g*S+y*B+w*G,o[5]=g*C+y*z+w*re,o[8]=g*P+y*j+w*pe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],h=e[8];return t*s*h-t*a*c-r*o*h+r*a*u+i*o*c-i*s*u}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],h=e[8],p=h*s-a*c,g=a*u-h*o,y=c*o-s*u,w=t*p+r*g+i*y;if(0===w)return this.set(0,0,0,0,0,0,0,0,0);const S=1/w;return e[0]=p*S,e[1]=(i*c-h*r)*S,e[2]=(a*r-i*s)*S,e[3]=g*S,e[4]=(h*t-i*u)*S,e[5]=(i*o-a*t)*S,e[6]=y*S,e[7]=(r*u-c*t)*S,e[8]=(s*t-r*o)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,s,a){const u=Math.cos(o),c=Math.sin(o);return this.set(r*u,r*c,-r*(u*s+c*a)+s+e,-i*c,i*u,-i*(-c*s+u*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],s=i[3],a=i[6],u=i[1],c=i[4],h=i[7];return i[0]=t*o+r*u,i[3]=t*s+r*c,i[6]=t*a+r*h,i[1]=-r*o+t*u,i[4]=-r*s+t*c,i[7]=-r*a+t*h,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function oq(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}function ET(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function gb(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function ak(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const xB={[wm]:{[pb]:gb},[pb]:{[wm]:ak}},Kh={legacyMode:!0,get workingColorSpace(){return pb},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(xB[e]&&void 0!==xB[e][t]){const r=xB[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},sq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},dl={r:0,g:0,b:0},Zh={h:0,s:0,l:0},lk={h:0,s:0,l:0};function CB(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}function uk(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let sS,Rr=(()=>{class n{constructor(t,r,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===r&&void 0===i?this.set(t):this.setRGB(t,r,i)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,r=wm){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Kh.toWorkingColorSpace(this,r),this}setRGB(t,r,i,o=pb){return this.r=t,this.g=r,this.b=i,Kh.toWorkingColorSpace(this,o),this}setHSL(t,r,i,o=pb){if(t=function MB(n,e){return(n%e+e)%e}(t,1),r=Ma(r,0,1),i=Ma(i,0,1),0===r)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+r):i+r-i*r,a=2*i-s;this.r=CB(a,s,t+1/3),this.g=CB(a,s,t),this.b=CB(a,s,t-1/3)}return Kh.toWorkingColorSpace(this,o),this}setStyle(t,r=wm){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let o;if(o=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let s;const u=o[2];switch(o[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Kh.toWorkingColorSpace(this,r),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Kh.toWorkingColorSpace(this,r),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u)){const c=parseFloat(s[1])/360,h=parseInt(s[2],10)/100,p=parseInt(s[3],10)/100;return i(s[4]),this.setHSL(c,h,p,r)}}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=o[1],a=s.length;if(3===a)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Kh.toWorkingColorSpace(this,r),this;if(6===a)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Kh.toWorkingColorSpace(this,r),this}return t&&t.length>0?this.setColorName(t,r):this}setColorName(t,r=wm){const i=sq[t.toLowerCase()];return void 0!==i?this.setHex(i,r):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=gb(t.r),this.g=gb(t.g),this.b=gb(t.b),this}copyLinearToSRGB(t){return this.r=ak(t.r),this.g=ak(t.g),this.b=ak(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=wm){return Kh.fromWorkingColorSpace(uk(this,dl),t),Ma(255*dl.r,0,255)<<16^Ma(255*dl.g,0,255)<<8^Ma(255*dl.b,0,255)<<0}getHexString(t=wm){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,r=pb){Kh.fromWorkingColorSpace(uk(this,dl),r);const i=dl.r,o=dl.g,s=dl.b,a=Math.max(i,o,s),u=Math.min(i,o,s);let c,h;const p=(u+a)/2;if(u===a)c=0,h=0;else{const g=a-u;switch(h=p<=.5?g/(a+u):g/(2-a-u),a){case i:c=(o-s)/g+(o<s?6:0);break;case o:c=(s-i)/g+2;break;case s:c=(i-o)/g+4}c/=6}return t.h=c,t.s=h,t.l=p,t}getRGB(t,r=pb){return Kh.fromWorkingColorSpace(uk(this,dl),r),t.r=dl.r,t.g=dl.g,t.b=dl.b,t}getStyle(t=wm){return Kh.fromWorkingColorSpace(uk(this,dl),t),t!==wm?`color(${t} ${dl.r} ${dl.g} ${dl.b})`:`rgb(${255*dl.r|0},${255*dl.g|0},${255*dl.b|0})`}offsetHSL(t,r,i){return this.getHSL(Zh),Zh.h+=t,Zh.s+=r,Zh.l+=i,this.setHSL(Zh.h,Zh.s,Zh.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this}lerpColors(t,r,i){return this.r=t.r+(r.r-t.r)*i,this.g=t.g+(r.g-t.g)*i,this.b=t.b+(r.b-t.b)*i,this}lerpHSL(t,r){this.getHSL(Zh),t.getHSL(lk);const i=CT(Zh.h,lk.h,r),o=CT(Zh.s,lk.s,r),s=CT(Zh.l,lk.l,r);return this.setHSL(i,o,s),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,r=0){return this.r=t[r],this.g=t[r+1],this.b=t[r+2],this}toArray(t=[],r=0){return t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t}fromBufferAttribute(t,r){return this.r=t.getX(r),this.g=t.getY(r),this.b=t.getZ(r),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return n.NAMES=sq,n})();class aq{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===sS&&(sS=ET("canvas")),sS.width=e.width,sS.height=e.height;const r=sS.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=sS}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=ET("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=255*gb(o[s]/255);return r.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t[r]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*gb(t[r]/255)):gb(t[r]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class aS{constructor(e=null){this.isSource=!0,this.uuid=ad(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(null!==i){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)o.push(EB(i[s].isDataTexture?i[s].image:i[s]))}else o=EB(i);r.url=o}return t||(e.images[this.uuid]=r),r}}function EB(n){return"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap?aq.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Sxe=0,Hv=(()=>{class n extends iS{constructor(t=n.DEFAULT_IMAGE,r=n.DEFAULT_MAPPING,i=Mc,o=Mc,s=Ua,a=1008,u=Xh,c=cb,h=1,p=fb){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Sxe++}),this.uuid=ad(),this.name="",this.source=new aS(t),this.mipmaps=[],this.mapping=r,this.wrapS=i,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=h,this.format=u,this.internalFormat=null,this.type=c,this.offset=new Cn(0,0),this.repeat=new Cn(1,1),this.center=new Cn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Sc,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),r||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Mc:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Mc:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n})();class us{constructor(e=0,t=0,r=0,i=1){us.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o;const u=e.elements,c=u[0],h=u[4],p=u[8],g=u[1],y=u[5],w=u[9],S=u[2],C=u[6],P=u[10];if(Math.abs(h-g)<.01&&Math.abs(p-S)<.01&&Math.abs(w-C)<.01){if(Math.abs(h+g)<.1&&Math.abs(p+S)<.1&&Math.abs(w+C)<.1&&Math.abs(c+y+P-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const z=(c+1)/2,j=(y+1)/2,G=(P+1)/2,re=(h+g)/4,pe=(p+S)/4,ne=(w+C)/4;return z>j&&z>G?z<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(z),i=re/r,o=pe/r):j>G?j<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(j),r=re/i,o=ne/i):G<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(G),r=pe/o,i=ne/o),this.set(r,i,o,t),this}let B=Math.sqrt((C-w)*(C-w)+(p-S)*(p-S)+(g-h)*(g-h));return Math.abs(B)<.001&&(B=1),this.x=(C-w)/B,this.y=(p-S)/B,this.z=(g-h)/B,this.w=Math.acos((c+y+P-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vb extends iS{constructor(e,t,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new us(0,0,e,t),this.scissorTest=!1,this.viewport=new us(0,0,e,t),this.texture=new Hv({width:e,height:t,depth:1},r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.internalFormat=void 0!==r.internalFormat?r.internalFormat:null,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:Ua,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null,this.samples=void 0!==r.samples?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new aS(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class TB extends Hv{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=cl,this.minFilter=cl,this.wrapR=Mc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class lq extends Hv{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=cl,this.minFilter=cl,this.wrapR=Mc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ld{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,o,s,a){let u=r[i+0],c=r[i+1],h=r[i+2],p=r[i+3];const g=o[s+0],y=o[s+1],w=o[s+2],S=o[s+3];if(0===a)return e[t+0]=u,e[t+1]=c,e[t+2]=h,void(e[t+3]=p);if(1===a)return e[t+0]=g,e[t+1]=y,e[t+2]=w,void(e[t+3]=S);if(p!==S||u!==g||c!==y||h!==w){let C=1-a;const P=u*g+c*y+h*w+p*S,B=P>=0?1:-1,z=1-P*P;if(z>Number.EPSILON){const G=Math.sqrt(z),re=Math.atan2(G,P*B);C=Math.sin(C*re)/G,a=Math.sin(a*re)/G}const j=a*B;if(u=u*C+g*j,c=c*C+y*j,h=h*C+w*j,p=p*C+S*j,C===1-a){const G=1/Math.sqrt(u*u+c*c+h*h+p*p);u*=G,c*=G,h*=G,p*=G}}e[t]=u,e[t+1]=c,e[t+2]=h,e[t+3]=p}static multiplyQuaternionsFlat(e,t,r,i,o,s){const a=r[i],u=r[i+1],c=r[i+2],h=r[i+3],p=o[s],g=o[s+1],y=o[s+2],w=o[s+3];return e[t]=a*w+h*p+u*y-c*g,e[t+1]=u*w+h*g+c*p-a*y,e[t+2]=c*w+h*y+a*g-u*p,e[t+3]=h*w-a*p-u*g-c*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,u=Math.sin,c=a(r/2),h=a(i/2),p=a(o/2),g=u(r/2),y=u(i/2),w=u(o/2);switch(s){case"XYZ":this._x=g*h*p+c*y*w,this._y=c*y*p-g*h*w,this._z=c*h*w+g*y*p,this._w=c*h*p-g*y*w;break;case"YXZ":this._x=g*h*p+c*y*w,this._y=c*y*p-g*h*w,this._z=c*h*w-g*y*p,this._w=c*h*p+g*y*w;break;case"ZXY":this._x=g*h*p-c*y*w,this._y=c*y*p+g*h*w,this._z=c*h*w+g*y*p,this._w=c*h*p-g*y*w;break;case"ZYX":this._x=g*h*p-c*y*w,this._y=c*y*p+g*h*w,this._z=c*h*w-g*y*p,this._w=c*h*p+g*y*w;break;case"YZX":this._x=g*h*p+c*y*w,this._y=c*y*p+g*h*w,this._z=c*h*w-g*y*p,this._w=c*h*p-g*y*w;break;case"XZY":this._x=g*h*p-c*y*w,this._y=c*y*p-g*h*w,this._z=c*h*w+g*y*p,this._w=c*h*p+g*y*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],o=t[8],s=t[1],a=t[5],u=t[9],c=t[2],h=t[6],p=t[10],g=r+a+p;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(h-u)*y,this._y=(o-c)*y,this._z=(s-i)*y}else if(r>a&&r>p){const y=2*Math.sqrt(1+r-a-p);this._w=(h-u)/y,this._x=.25*y,this._y=(i+s)/y,this._z=(o+c)/y}else if(a>p){const y=2*Math.sqrt(1+a-r-p);this._w=(o-c)/y,this._x=(i+s)/y,this._y=.25*y,this._z=(u+h)/y}else{const y=2*Math.sqrt(1+p-r-a);this._w=(s-i)/y,this._x=(o+c)/y,this._y=(u+h)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ma(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,o=e._z,s=e._w,a=t._x,u=t._y,c=t._z,h=t._w;return this._x=r*h+s*a+i*c-o*u,this._y=i*h+s*u+o*a-r*c,this._z=o*h+s*c+r*u-i*a,this._w=s*h-r*a-i*u-o*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const u=1-a*a;if(u<=Number.EPSILON){const y=1-t;return this._w=y*s+t*this._w,this._x=y*r+t*this._x,this._y=y*i+t*this._y,this._z=y*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(u),h=Math.atan2(c,a),p=Math.sin((1-t)*h)/c,g=Math.sin(t*h)/c;return this._w=s*p+this._w*g,this._x=r*p+this._x*g,this._y=i*p+this._y*g,this._z=o*p+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(o),r*Math.cos(o),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Be{constructor(e=0,t=0,r=0){Be.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(uq.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(uq.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,u=e.w,c=u*t+s*i-a*r,h=u*r+a*t-o*i,p=u*i+o*r-s*t,g=-o*t-s*r-a*i;return this.x=c*u+g*-o+h*-a-p*-s,this.y=h*u+g*-s+p*-o-c*-a,this.z=p*u+g*-a+c*-s-h*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,o=e.z,s=t.x,a=t.y,u=t.z;return this.x=i*u-o*a,this.y=o*s-r*u,this.z=r*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return RB.copy(this).projectOnVector(e),this.sub(RB)}reflect(e){return this.sub(RB.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Ma(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,r=Math.sqrt(1-pfe(e,2));return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const RB=new Be,uq=new ld;class lS{constructor(e=new Be(1/0,1/0,1/0),t=new Be(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let u=0,c=e.length;u<c;u+=3){const h=e[u],p=e[u+1],g=e[u+2];h<t&&(t=h),p<r&&(r=p),g<i&&(i=g),h>o&&(o=h),p>s&&(s=p),g>a&&(a=g)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let u=0,c=e.count;u<c;u++){const h=e.getX(u),p=e.getY(u),g=e.getZ(u);h<t&&(t=h),p<r&&(r=p),g<i&&(i=g),h>o&&(o=h),p>s&&(s=p),g>a&&(a=g)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=yb.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r)if(t&&null!=r.attributes&&void 0!==r.attributes.position){const o=r.attributes.position;for(let s=0,a=o.count;s<a;s++)yb.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(yb)}else null===r.boundingBox&&r.computeBoundingBox(),DB.copy(r.boundingBox),DB.applyMatrix4(e.matrixWorld),this.union(DB);const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,yb),yb.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(TT),ck.subVectors(this.max,TT),uS.subVectors(e.a,TT),cS.subVectors(e.b,TT),dS.subVectors(e.c,TT),Bv.subVectors(cS,uS),Vv.subVectors(dS,cS),_b.subVectors(uS,dS);let t=[0,-Bv.z,Bv.y,0,-Vv.z,Vv.y,0,-_b.z,_b.y,Bv.z,0,-Bv.x,Vv.z,0,-Vv.x,_b.z,0,-_b.x,-Bv.y,Bv.x,0,-Vv.y,Vv.x,0,-_b.y,_b.x,0];return!(!AB(t,uS,cS,dS,ck)||(t=[1,0,0,0,1,0,0,0,1],!AB(t,uS,cS,dS,ck)))&&(dk.crossVectors(Bv,Vv),t=[dk.x,dk.y,dk.z],AB(t,uS,cS,dS,ck))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return yb.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(yb).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Mm[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mm[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mm[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mm[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mm[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mm[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mm[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mm[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mm)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Mm=[new Be,new Be,new Be,new Be,new Be,new Be,new Be,new Be],yb=new Be,DB=new lS,uS=new Be,cS=new Be,dS=new Be,Bv=new Be,Vv=new Be,_b=new Be,TT=new Be,ck=new Be,dk=new Be,bb=new Be;function AB(n,e,t,r,i){for(let o=0,s=n.length-3;o<=s;o+=3){bb.fromArray(n,o);const a=i.x*Math.abs(bb.x)+i.y*Math.abs(bb.y)+i.z*Math.abs(bb.z),u=e.dot(bb),c=t.dot(bb),h=r.dot(bb);if(Math.max(-Math.max(u,c,h),Math.min(u,c,h))>a)return!1}return!0}const xxe=new lS,cq=new Be,hk=new Be,OB=new Be;class hS{constructor(e=new Be,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):xxe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){OB.subVectors(e,this.center);const t=OB.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=.5*(r-this.radius);this.center.add(OB.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return!0===this.center.equals(e.center)?hk.set(0,0,1).multiplyScalar(e.radius):hk.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(cq.copy(e.center).add(hk)),this.expandByPoint(cq.copy(e.center).sub(hk)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Sm=new Be,kB=new Be,fk=new Be,zv=new Be,LB=new Be,pk=new Be,PB=new Be;class mk{constructor(e=new Be,t=new Be(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Sm)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Sm.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Sm.copy(this.direction).multiplyScalar(t).add(this.origin),Sm.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){kB.copy(e).add(t).multiplyScalar(.5),fk.copy(t).sub(e).normalize(),zv.copy(this.origin).sub(kB);const o=.5*e.distanceTo(t),s=-this.direction.dot(fk),a=zv.dot(this.direction),u=-zv.dot(fk),c=zv.lengthSq(),h=Math.abs(1-s*s);let p,g,y,w;if(h>0)if(p=s*u-a,g=s*a-u,w=o*h,p>=0)if(g>=-w)if(g<=w){const S=1/h;p*=S,g*=S,y=p*(p+s*g+2*a)+g*(s*p+g+2*u)+c}else g=o,p=Math.max(0,-(s*g+a)),y=-p*p+g*(g+2*u)+c;else g=-o,p=Math.max(0,-(s*g+a)),y=-p*p+g*(g+2*u)+c;else g<=-w?(p=Math.max(0,-(-s*o+a)),g=p>0?-o:Math.min(Math.max(-o,-u),o),y=-p*p+g*(g+2*u)+c):g<=w?(p=0,g=Math.min(Math.max(-o,-u),o),y=g*(g+2*u)+c):(p=Math.max(0,-(s*o+a)),g=p>0?o:Math.min(Math.max(-o,-u),o),y=-p*p+g*(g+2*u)+c);else g=s>0?-o:o,p=Math.max(0,-(s*g+a)),y=-p*p+g*(g+2*u)+c;return r&&r.copy(this.direction).multiplyScalar(p).add(this.origin),i&&i.copy(fk).multiplyScalar(g).add(kB),y}intersectSphere(e,t){Sm.subVectors(e.center,this.origin);const r=Sm.dot(this.direction),i=Sm.dot(Sm)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,u=r+s;return a<0&&u<0?null:this.at(a<0?u:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,s,a,u;const c=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,g=this.origin;return c>=0?(r=(e.min.x-g.x)*c,i=(e.max.x-g.x)*c):(r=(e.max.x-g.x)*c,i=(e.min.x-g.x)*c),h>=0?(o=(e.min.y-g.y)*h,s=(e.max.y-g.y)*h):(o=(e.max.y-g.y)*h,s=(e.min.y-g.y)*h),r>s||o>i||((o>r||r!=r)&&(r=o),(s<i||i!=i)&&(i=s),p>=0?(a=(e.min.z-g.z)*p,u=(e.max.z-g.z)*p):(a=(e.max.z-g.z)*p,u=(e.min.z-g.z)*p),r>u||a>i)||((a>r||r!=r)&&(r=a),(u<i||i!=i)&&(i=u),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,Sm)}intersectTriangle(e,t,r,i,o){LB.subVectors(t,e),pk.subVectors(r,e),PB.crossVectors(LB,pk);let a,s=this.direction.dot(PB);if(s>0){if(i)return null;a=1}else{if(!(s<0))return null;a=-1,s=-s}zv.subVectors(this.origin,e);const u=a*this.direction.dot(pk.crossVectors(zv,pk));if(u<0)return null;const c=a*this.direction.dot(LB.cross(zv));if(c<0||u+c>s)return null;const h=-a*zv.dot(PB);return h<0?null:this.at(h/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class so{constructor(){so.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,u,c,h,p,g,y,w,S,C){const P=this.elements;return P[0]=e,P[4]=t,P[8]=r,P[12]=i,P[1]=o,P[5]=s,P[9]=a,P[13]=u,P[2]=c,P[6]=h,P[10]=p,P[14]=g,P[3]=y,P[7]=w,P[11]=S,P[15]=C,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new so).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/fS.setFromMatrixColumn(e,0).length(),o=1/fS.setFromMatrixColumn(e,1).length(),s=1/fS.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),u=Math.cos(i),c=Math.sin(i),h=Math.cos(o),p=Math.sin(o);if("XYZ"===e.order){const g=s*h,y=s*p,w=a*h,S=a*p;t[0]=u*h,t[4]=-u*p,t[8]=c,t[1]=y+w*c,t[5]=g-S*c,t[9]=-a*u,t[2]=S-g*c,t[6]=w+y*c,t[10]=s*u}else if("YXZ"===e.order){const g=u*h,y=u*p,w=c*h,S=c*p;t[0]=g+S*a,t[4]=w*a-y,t[8]=s*c,t[1]=s*p,t[5]=s*h,t[9]=-a,t[2]=y*a-w,t[6]=S+g*a,t[10]=s*u}else if("ZXY"===e.order){const g=u*h,y=u*p,w=c*h,S=c*p;t[0]=g-S*a,t[4]=-s*p,t[8]=w+y*a,t[1]=y+w*a,t[5]=s*h,t[9]=S-g*a,t[2]=-s*c,t[6]=a,t[10]=s*u}else if("ZYX"===e.order){const g=s*h,y=s*p,w=a*h,S=a*p;t[0]=u*h,t[4]=w*c-y,t[8]=g*c+S,t[1]=u*p,t[5]=S*c+g,t[9]=y*c-w,t[2]=-c,t[6]=a*u,t[10]=s*u}else if("YZX"===e.order){const g=s*u,y=s*c,w=a*u,S=a*c;t[0]=u*h,t[4]=S-g*p,t[8]=w*p+y,t[1]=p,t[5]=s*h,t[9]=-a*h,t[2]=-c*h,t[6]=y*p+w,t[10]=g-S*p}else if("XZY"===e.order){const g=s*u,y=s*c,w=a*u,S=a*c;t[0]=u*h,t[4]=-p,t[8]=c*h,t[1]=g*p+S,t[5]=s*h,t[9]=y*p-w,t[2]=w*p-y,t[6]=a*h,t[10]=S*p+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Cxe,e,Exe)}lookAt(e,t,r){const i=this.elements;return ud.subVectors(e,t),0===ud.lengthSq()&&(ud.z=1),ud.normalize(),Uv.crossVectors(r,ud),0===Uv.lengthSq()&&(1===Math.abs(r.z)?ud.x+=1e-4:ud.z+=1e-4,ud.normalize(),Uv.crossVectors(r,ud)),Uv.normalize(),gk.crossVectors(ud,Uv),i[0]=Uv.x,i[4]=gk.x,i[8]=ud.x,i[1]=Uv.y,i[5]=gk.y,i[9]=ud.y,i[2]=Uv.z,i[6]=gk.z,i[10]=ud.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[4],u=r[8],c=r[12],h=r[1],p=r[5],g=r[9],y=r[13],w=r[2],S=r[6],C=r[10],P=r[14],B=r[3],z=r[7],j=r[11],G=r[15],re=i[0],pe=i[4],ne=i[8],he=i[12],we=i[1],Pe=i[5],ot=i[9],at=i[13],je=i[2],_t=i[6],ye=i[10],Ae=i[14],Ge=i[3],Je=i[7],bt=i[11],Z=i[15];return o[0]=s*re+a*we+u*je+c*Ge,o[4]=s*pe+a*Pe+u*_t+c*Je,o[8]=s*ne+a*ot+u*ye+c*bt,o[12]=s*he+a*at+u*Ae+c*Z,o[1]=h*re+p*we+g*je+y*Ge,o[5]=h*pe+p*Pe+g*_t+y*Je,o[9]=h*ne+p*ot+g*ye+y*bt,o[13]=h*he+p*at+g*Ae+y*Z,o[2]=w*re+S*we+C*je+P*Ge,o[6]=w*pe+S*Pe+C*_t+P*Je,o[10]=w*ne+S*ot+C*ye+P*bt,o[14]=w*he+S*at+C*Ae+P*Z,o[3]=B*re+z*we+j*je+G*Ge,o[7]=B*pe+z*Pe+j*_t+G*Je,o[11]=B*ne+z*ot+j*ye+G*bt,o[15]=B*he+z*at+j*Ae+G*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],u=e[9],c=e[13],h=e[2],p=e[6],g=e[10],y=e[14];return e[3]*(+o*u*p-i*c*p-o*a*g+r*c*g+i*a*y-r*u*y)+e[7]*(+t*u*y-t*c*g+o*s*g-i*s*y+i*c*h-o*u*h)+e[11]*(+t*c*p-t*a*y-o*s*p+r*s*y+o*a*h-r*c*h)+e[15]*(-i*a*h-t*u*p+t*a*g+i*s*p-r*s*g+r*u*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],h=e[8],p=e[9],g=e[10],y=e[11],w=e[12],S=e[13],C=e[14],P=e[15],B=p*C*c-S*g*c+S*u*y-a*C*y-p*u*P+a*g*P,z=w*g*c-h*C*c-w*u*y+s*C*y+h*u*P-s*g*P,j=h*S*c-w*p*c+w*a*y-s*S*y-h*a*P+s*p*P,G=w*p*u-h*S*u-w*a*g+s*S*g+h*a*C-s*p*C,re=t*B+r*z+i*j+o*G;if(0===re)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const pe=1/re;return e[0]=B*pe,e[1]=(S*g*o-p*C*o-S*i*y+r*C*y+p*i*P-r*g*P)*pe,e[2]=(a*C*o-S*u*o+S*i*c-r*C*c-a*i*P+r*u*P)*pe,e[3]=(p*u*o-a*g*o-p*i*c+r*g*c+a*i*y-r*u*y)*pe,e[4]=z*pe,e[5]=(h*C*o-w*g*o+w*i*y-t*C*y-h*i*P+t*g*P)*pe,e[6]=(w*u*o-s*C*o-w*i*c+t*C*c+s*i*P-t*u*P)*pe,e[7]=(s*g*o-h*u*o+h*i*c-t*g*c-s*i*y+t*u*y)*pe,e[8]=j*pe,e[9]=(w*p*o-h*S*o-w*r*y+t*S*y+h*r*P-t*p*P)*pe,e[10]=(s*S*o-w*a*o+w*r*c-t*S*c-s*r*P+t*a*P)*pe,e[11]=(h*a*o-s*p*o-h*r*c+t*p*c+s*r*y-t*a*y)*pe,e[12]=G*pe,e[13]=(h*S*i-w*p*i+w*r*g-t*S*g-h*r*C+t*p*C)*pe,e[14]=(w*a*i-s*S*i-w*r*u+t*S*u+s*r*C-t*a*C)*pe,e[15]=(s*p*i-h*a*i+h*r*u-t*p*u-s*r*g+t*a*g)*pe,this}scale(e){const t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),o=1-r,s=e.x,a=e.y,u=e.z,c=o*s,h=o*a;return this.set(c*s+r,c*a-i*u,c*u+i*a,0,c*a+i*u,h*a+r,h*u-i*s,0,c*u-i*a,h*u+i*s,o*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,o=t._x,s=t._y,a=t._z,u=t._w,c=o+o,h=s+s,p=a+a,g=o*c,y=o*h,w=o*p,S=s*h,C=s*p,P=a*p,B=u*c,z=u*h,j=u*p,G=r.x,re=r.y,pe=r.z;return i[0]=(1-(S+P))*G,i[1]=(y+j)*G,i[2]=(w-z)*G,i[3]=0,i[4]=(y-j)*re,i[5]=(1-(g+P))*re,i[6]=(C+B)*re,i[7]=0,i[8]=(w+z)*pe,i[9]=(C-B)*pe,i[10]=(1-(g+S))*pe,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let o=fS.set(i[0],i[1],i[2]).length();const s=fS.set(i[4],i[5],i[6]).length(),a=fS.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],qh.copy(this);const c=1/o,h=1/s,p=1/a;return qh.elements[0]*=c,qh.elements[1]*=c,qh.elements[2]*=c,qh.elements[4]*=h,qh.elements[5]*=h,qh.elements[6]*=h,qh.elements[8]*=p,qh.elements[9]*=p,qh.elements[10]*=p,t.setFromRotationMatrix(qh),r.x=o,r.y=s,r.z=a,this}makePerspective(e,t,r,i,o,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*o/(r-i),h=(t+e)/(t-e),p=(r+i)/(r-i),g=-(s+o)/(s-o),y=-2*s*o/(s-o);return a[0]=2*o/(t-e),a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=c,a[9]=p,a[13]=0,a[2]=0,a[6]=0,a[10]=g,a[14]=y,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,o,s){const a=this.elements,u=1/(t-e),c=1/(r-i),h=1/(s-o),p=(t+e)*u,g=(r+i)*c,y=(s+o)*h;return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-p,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-g,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-y,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const fS=new Be,qh=new so,Cxe=new Be(0,0,0),Exe=new Be(1,1,1),Uv=new Be,gk=new Be,ud=new Be,dq=new so,hq=new ld;let Txe=(()=>{class n{constructor(t=0,r=0,i=0,o=n.DefaultOrder){this.isEuler=!0,this._x=t,this._y=r,this._z=i,this._order=o}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,i,o=this._order){return this._x=t,this._y=r,this._z=i,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,i=!0){const o=t.elements,s=o[0],a=o[4],u=o[8],c=o[1],h=o[5],p=o[9],g=o[2],y=o[6],w=o[10];switch(r){case"XYZ":this._y=Math.asin(Ma(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,w),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(y,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Ma(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(u,w),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ma(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,w),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Ma(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,w),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,h));break;case"YZX":this._z=Math.asin(Ma(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,h),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(u,w));break;case"XZY":this._z=Math.asin(-Ma(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,h),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-p,w),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,r,i){return dq.makeRotationFromQuaternion(t),this.setFromRotationMatrix(dq,r,i)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return hq.setFromEuler(this),this.setFromQuaternion(hq,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return n.DefaultOrder="XYZ",n.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],n})();class IB{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Rxe=0;const fq=new Be,pS=new ld,xm=new so,vk=new Be,RT=new Be,Dxe=new Be,Axe=new ld,pq=new Be(1,0,0),mq=new Be(0,1,0),gq=new Be(0,0,1),Oxe={type:"added"},vq={type:"removed"};let zu=(()=>{class n extends iS{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Rxe++}),this.uuid=ad(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DefaultUp.clone();const t=new Be,r=new Txe,i=new ld,o=new Be(1,1,1);r._onChange(function s(){i.setFromEuler(r,!1)}),i._onChange(function a(){r.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new so},normalMatrix:{value:new Sc}}),this.matrix=new so,this.matrixWorld=new so,this.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new IB,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return pS.setFromAxisAngle(t,r),this.quaternion.multiply(pS),this}rotateOnWorldAxis(t,r){return pS.setFromAxisAngle(t,r),this.quaternion.premultiply(pS),this}rotateX(t){return this.rotateOnAxis(pq,t)}rotateY(t){return this.rotateOnAxis(mq,t)}rotateZ(t){return this.rotateOnAxis(gq,t)}translateOnAxis(t,r){return fq.copy(t).applyQuaternion(this.quaternion),this.position.add(fq.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(pq,t)}translateY(t){return this.translateOnAxis(mq,t)}translateZ(t){return this.translateOnAxis(gq,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(xm.copy(this.matrixWorld).invert())}lookAt(t,r,i){t.isVector3?vk.copy(t):vk.set(t,r,i);const o=this.parent;this.updateWorldMatrix(!0,!1),RT.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xm.lookAt(RT,vk,this.up):xm.lookAt(vk,RT,this.up),this.quaternion.setFromRotationMatrix(xm),o&&(xm.extractRotation(o.matrixWorld),pS.setFromRotationMatrix(xm),this.quaternion.premultiply(pS.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Oxe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const r=this.children.indexOf(t);return-1!==r&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(vq)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const r=this.children[t];r.parent=null,r.dispatchEvent(vq)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),xm.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),xm.multiply(t.parent.matrixWorld)),t.applyMatrix4(xm),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let i=0,o=this.children.length;i<o;i++){const a=this.children[i].getObjectByProperty(t,r);if(void 0!==a)return a}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(RT,t,Dxe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(RT,Axe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverseVisible(t)}traverseAncestors(t){const r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(t)}updateWorldMatrix(t,r){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===r){const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(t){const r=void 0===t||"string"==typeof t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};function s(u,c){return void 0===u[c.uuid]&&(u[c.uuid]=c.toJSON(t)),c.uuid}if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(o.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(o.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(t.geometries,this.geometry);const u=this.geometry.parameters;if(void 0!==u&&void 0!==u.shapes){const c=u.shapes;if(Array.isArray(c))for(let h=0,p=c.length;h<p;h++)s(t.shapes,c[h]);else s(t.shapes,c)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(t.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const u=[];for(let c=0,h=this.material.length;c<h;c++)u.push(s(t.materials,this.material[c]));o.material=u}else o.material=s(t.materials,this.material);if(this.children.length>0){o.children=[];for(let u=0;u<this.children.length;u++)o.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){o.animations=[];for(let u=0;u<this.animations.length;u++)o.animations.push(s(t.animations,this.animations[u]))}if(r){const u=a(t.geometries),c=a(t.materials),h=a(t.textures),p=a(t.images),g=a(t.shapes),y=a(t.skeletons),w=a(t.animations),S=a(t.nodes);u.length>0&&(i.geometries=u),c.length>0&&(i.materials=c),h.length>0&&(i.textures=h),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),w.length>0&&(i.animations=w),S.length>0&&(i.nodes=S)}return i.object=o,i;function a(u){const c=[];for(const h in u){const p=u[h];delete p.metadata,c.push(p)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}return n.DefaultUp=new Be(0,1,0),n.DefaultMatrixAutoUpdate=!0,n})();const Jh=new Be,Cm=new Be,NB=new Be,Em=new Be,mS=new Be,gS=new Be,yq=new Be,FB=new Be,HB=new Be,BB=new Be;class Qh{constructor(e=new Be,t=new Be,r=new Be){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Jh.subVectors(e,t),i.cross(Jh);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){Jh.subVectors(i,t),Cm.subVectors(r,t),NB.subVectors(e,t);const s=Jh.dot(Jh),a=Jh.dot(Cm),u=Jh.dot(NB),c=Cm.dot(Cm),h=Cm.dot(NB),p=s*c-a*a;if(0===p)return o.set(-2,-1,-1);const g=1/p,y=(c*u-a*h)*g,w=(s*h-a*u)*g;return o.set(1-y-w,w,y)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Em),Em.x>=0&&Em.y>=0&&Em.x+Em.y<=1}static getUV(e,t,r,i,o,s,a,u){return this.getBarycoord(e,t,r,i,Em),u.set(0,0),u.addScaledVector(o,Em.x),u.addScaledVector(s,Em.y),u.addScaledVector(a,Em.z),u}static isFrontFacing(e,t,r,i){return Jh.subVectors(r,t),Cm.subVectors(e,t),Jh.cross(Cm).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jh.subVectors(this.c,this.b),Cm.subVectors(this.a,this.b),.5*Jh.cross(Cm).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qh.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Qh.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,o){return Qh.getUV(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return Qh.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qh.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,o=this.c;let s,a;mS.subVectors(i,r),gS.subVectors(o,r),FB.subVectors(e,r);const u=mS.dot(FB),c=gS.dot(FB);if(u<=0&&c<=0)return t.copy(r);HB.subVectors(e,i);const h=mS.dot(HB),p=gS.dot(HB);if(h>=0&&p<=h)return t.copy(i);const g=u*p-h*c;if(g<=0&&u>=0&&h<=0)return s=u/(u-h),t.copy(r).addScaledVector(mS,s);BB.subVectors(e,o);const y=mS.dot(BB),w=gS.dot(BB);if(w>=0&&y<=w)return t.copy(o);const S=y*c-u*w;if(S<=0&&c>=0&&w<=0)return a=c/(c-w),t.copy(r).addScaledVector(gS,a);const C=h*w-y*p;if(C<=0&&p-h>=0&&y-w>=0)return yq.subVectors(o,i),a=(p-h)/(p-h+(y-w)),t.copy(i).addScaledVector(yq,a);const P=1/(C+S+g);return s=S*P,a=g*P,t.copy(r).addScaledVector(mS,s).addScaledVector(gS,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let kxe=0;class vS extends iS{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:kxe++}),this.uuid=ad(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(o){const s=[];for(const a in o){const u=o[a];delete u.metadata,s.push(u)}return s}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(r.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=this.flatShading),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class jv extends vS{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ja=new Be,yk=new Cn;class Tl{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new Rr),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new Cn),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new Be),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new us),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)yk.fromBufferAttribute(this,t),yk.applyMatrix3(e),this.setXY(t,yk.x,yk.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)ja.fromBufferAttribute(this,t),ja.applyMatrix3(e),this.setXYZ(t,ja.x,ja.y,ja.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ja.fromBufferAttribute(this,t),ja.applyMatrix4(e),this.setXYZ(t,ja.x,ja.y,ja.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ja.fromBufferAttribute(this,t),ja.applyNormalMatrix(e),this.setXYZ(t,ja.x,ja.y,ja.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ja.fromBufferAttribute(this,t),ja.transformDirection(e),this.setXYZ(t,ja.x,ja.y,ja.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class _q extends Tl{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class bq extends Tl{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class jr extends Tl{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Lxe=0;const Jd=new so,VB=new zu,yS=new Be,cd=new lS,DT=new lS,Rl=new Be;class go extends iS{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Lxe++}),this.uuid=ad(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(oq(e)?bq:_q)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const o=(new Sc).getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Jd.makeRotationFromQuaternion(e),this.applyMatrix4(Jd),this}rotateX(e){return Jd.makeRotationX(e),this.applyMatrix4(Jd),this}rotateY(e){return Jd.makeRotationY(e),this.applyMatrix4(Jd),this}rotateZ(e){return Jd.makeRotationZ(e),this.applyMatrix4(Jd),this}translate(e,t,r){return Jd.makeTranslation(e,t,r),this.applyMatrix4(Jd),this}scale(e,t,r){return Jd.makeScale(e,t,r),this.applyMatrix4(Jd),this}lookAt(e){return VB.lookAt(e),VB.updateMatrix(),this.applyMatrix4(VB.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(yS).negate(),this.translate(yS.x,yS.y,yS.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new jr(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new lS);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Be(-1/0,-1/0,-1/0),new Be(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++)cd.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(Rl.addVectors(this.boundingBox.min,cd.min),this.boundingBox.expandByPoint(Rl),Rl.addVectors(this.boundingBox.max,cd.max),this.boundingBox.expandByPoint(Rl)):(this.boundingBox.expandByPoint(cd.min),this.boundingBox.expandByPoint(cd.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new hS);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Be,1/0);if(e){const r=this.boundingSphere.center;if(cd.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++)DT.setFromBufferAttribute(t[o]),this.morphTargetsRelative?(Rl.addVectors(cd.min,DT.min),cd.expandByPoint(Rl),Rl.addVectors(cd.max,DT.max),cd.expandByPoint(Rl)):(cd.expandByPoint(DT.min),cd.expandByPoint(DT.max));cd.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)Rl.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Rl));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],u=this.morphTargetsRelative;for(let c=0,h=a.count;c<h;c++)Rl.fromBufferAttribute(a,c),u&&(yS.fromBufferAttribute(e,c),Rl.add(yS)),i=Math.max(i,r.distanceToSquared(Rl))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=e.array,i=t.position.array,o=t.normal.array,s=t.uv.array,a=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Tl(new Float32Array(4*a),4));const u=this.getAttribute("tangent").array,c=[],h=[];for(let we=0;we<a;we++)c[we]=new Be,h[we]=new Be;const p=new Be,g=new Be,y=new Be,w=new Cn,S=new Cn,C=new Cn,P=new Be,B=new Be;function z(we,Pe,ot){p.fromArray(i,3*we),g.fromArray(i,3*Pe),y.fromArray(i,3*ot),w.fromArray(s,2*we),S.fromArray(s,2*Pe),C.fromArray(s,2*ot),g.sub(p),y.sub(p),S.sub(w),C.sub(w);const at=1/(S.x*C.y-C.x*S.y);!isFinite(at)||(P.copy(g).multiplyScalar(C.y).addScaledVector(y,-S.y).multiplyScalar(at),B.copy(y).multiplyScalar(S.x).addScaledVector(g,-C.x).multiplyScalar(at),c[we].add(P),c[Pe].add(P),c[ot].add(P),h[we].add(B),h[Pe].add(B),h[ot].add(B))}let j=this.groups;0===j.length&&(j=[{start:0,count:r.length}]);for(let we=0,Pe=j.length;we<Pe;++we){const ot=j[we],at=ot.start;for(let _t=at,ye=at+ot.count;_t<ye;_t+=3)z(r[_t+0],r[_t+1],r[_t+2])}const G=new Be,re=new Be,pe=new Be,ne=new Be;function he(we){pe.fromArray(o,3*we),ne.copy(pe);const Pe=c[we];G.copy(Pe),G.sub(pe.multiplyScalar(pe.dot(Pe))).normalize(),re.crossVectors(ne,Pe);const at=re.dot(h[we])<0?-1:1;u[4*we]=G.x,u[4*we+1]=G.y,u[4*we+2]=G.z,u[4*we+3]=at}for(let we=0,Pe=j.length;we<Pe;++we){const ot=j[we],at=ot.start;for(let _t=at,ye=at+ot.count;_t<ye;_t+=3)he(r[_t+0]),he(r[_t+1]),he(r[_t+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new Tl(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let g=0,y=r.count;g<y;g++)r.setXYZ(g,0,0,0);const i=new Be,o=new Be,s=new Be,a=new Be,u=new Be,c=new Be,h=new Be,p=new Be;if(e)for(let g=0,y=e.count;g<y;g+=3){const w=e.getX(g+0),S=e.getX(g+1),C=e.getX(g+2);i.fromBufferAttribute(t,w),o.fromBufferAttribute(t,S),s.fromBufferAttribute(t,C),h.subVectors(s,o),p.subVectors(i,o),h.cross(p),a.fromBufferAttribute(r,w),u.fromBufferAttribute(r,S),c.fromBufferAttribute(r,C),a.add(h),u.add(h),c.add(h),r.setXYZ(w,a.x,a.y,a.z),r.setXYZ(S,u.x,u.y,u.z),r.setXYZ(C,c.x,c.y,c.z)}else for(let g=0,y=t.count;g<y;g+=3)i.fromBufferAttribute(t,g+0),o.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),h.subVectors(s,o),p.subVectors(i,o),h.cross(p),r.setXYZ(g+0,h.x,h.y,h.z),r.setXYZ(g+1,h.x,h.y,h.z),r.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(void 0===e.attributes[i])continue;const s=r[i].array,a=e.attributes[i],u=a.array,c=a.itemSize*t,h=Math.min(u.length,s.length-c);for(let p=0,g=c;p<h;p++,g++)s[g]=u[p]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Rl.fromBufferAttribute(e,t),Rl.normalize(),e.setXYZ(t,Rl.x,Rl.y,Rl.z)}toNonIndexed(){function e(a,u){const c=a.array,h=a.itemSize,p=a.normalized,g=new c.constructor(u.length*h);let y=0,w=0;for(let S=0,C=u.length;S<C;S++){y=a.isInterleavedBufferAttribute?u[S]*a.data.stride+a.offset:u[S]*h;for(let P=0;P<h;P++)g[w++]=c[y++]}return new Tl(g,h,p)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new go,r=this.index.array,i=this.attributes;for(const a in i){const c=e(i[a],r);t.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const u=[],c=o[a];for(let h=0,p=c.length;h<p;h++){const y=e(c[h],r);u.push(y)}t.morphAttributes[a]=u}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,u=s.length;a<u;a++){const c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const u=this.parameters;for(const c in u)void 0!==u[c]&&(e[c]=u[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r)e.data.attributes[u]=r[u].toJSON(e.data);const i={};let o=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],h=[];for(let p=0,g=c.length;p<g;p++)h.push(c[p].toJSON(e.data));h.length>0&&(i[u]=h,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i)this.setAttribute(c,i[c].clone(t));const o=e.morphAttributes;for(const c in o){const h=[],p=o[c];for(let g=0,y=p.length;g<y;g++)h.push(p[g].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,h=s.length;c<h;c++){const p=s[c];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const u=e.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const wq=new so,_S=new mk,zB=new hS,Wv=new Be,Yv=new Be,Gv=new Be,UB=new Be,jB=new Be,WB=new Be,_k=new Be,bk=new Be,wk=new Be,Mk=new Cn,Sk=new Cn,xk=new Cn,YB=new Be,Ck=new Be;class xc extends zu{constructor(e=new go,t=new jv){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}raycast(e,t){const r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0===i||(null===r.boundingSphere&&r.computeBoundingSphere(),zB.copy(r.boundingSphere),zB.applyMatrix4(o),!1===e.ray.intersectsSphere(zB))||(wq.copy(o).invert(),_S.copy(e.ray).applyMatrix4(wq),null!==r.boundingBox&&!1===_S.intersectsBox(r.boundingBox)))return;let s;const a=r.index,u=r.attributes.position,c=r.morphAttributes.position,h=r.morphTargetsRelative,p=r.attributes.uv,g=r.attributes.uv2,y=r.groups,w=r.drawRange;if(null!==a)if(Array.isArray(i))for(let S=0,C=y.length;S<C;S++){const P=y[S],B=i[P.materialIndex];for(let G=Math.max(P.start,w.start),re=Math.min(a.count,Math.min(P.start+P.count,w.start+w.count));G<re;G+=3){const pe=a.getX(G),ne=a.getX(G+1),he=a.getX(G+2);s=Ek(this,B,e,_S,u,c,h,p,g,pe,ne,he),s&&(s.faceIndex=Math.floor(G/3),s.face.materialIndex=P.materialIndex,t.push(s))}}else for(let P=Math.max(0,w.start),B=Math.min(a.count,w.start+w.count);P<B;P+=3){const z=a.getX(P),j=a.getX(P+1),G=a.getX(P+2);s=Ek(this,i,e,_S,u,c,h,p,g,z,j,G),s&&(s.faceIndex=Math.floor(P/3),t.push(s))}else if(void 0!==u)if(Array.isArray(i))for(let S=0,C=y.length;S<C;S++){const P=y[S],B=i[P.materialIndex];for(let G=Math.max(P.start,w.start),re=Math.min(u.count,Math.min(P.start+P.count,w.start+w.count));G<re;G+=3)s=Ek(this,B,e,_S,u,c,h,p,g,G,G+1,G+2),s&&(s.faceIndex=Math.floor(G/3),s.face.materialIndex=P.materialIndex,t.push(s))}else for(let P=Math.max(0,w.start),B=Math.min(u.count,w.start+w.count);P<B;P+=3)s=Ek(this,i,e,_S,u,c,h,p,g,P,P+1,P+2),s&&(s.faceIndex=Math.floor(P/3),t.push(s))}}function Ek(n,e,t,r,i,o,s,a,u,c,h,p){Wv.fromBufferAttribute(i,c),Yv.fromBufferAttribute(i,h),Gv.fromBufferAttribute(i,p);const g=n.morphTargetInfluences;if(o&&g){_k.set(0,0,0),bk.set(0,0,0),wk.set(0,0,0);for(let w=0,S=o.length;w<S;w++){const C=g[w],P=o[w];0!==C&&(UB.fromBufferAttribute(P,c),jB.fromBufferAttribute(P,h),WB.fromBufferAttribute(P,p),s?(_k.addScaledVector(UB,C),bk.addScaledVector(jB,C),wk.addScaledVector(WB,C)):(_k.addScaledVector(UB.sub(Wv),C),bk.addScaledVector(jB.sub(Yv),C),wk.addScaledVector(WB.sub(Gv),C)))}Wv.add(_k),Yv.add(bk),Gv.add(wk)}n.isSkinnedMesh&&(n.boneTransform(c,Wv),n.boneTransform(h,Yv),n.boneTransform(p,Gv));const y=function Pxe(n,e,t,r,i,o,s,a){let u;if(u=1===e.side?r.intersectTriangle(s,o,i,!0,a):r.intersectTriangle(i,o,s,2!==e.side,a),null===u)return null;Ck.copy(a),Ck.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Ck);return c<t.near||c>t.far?null:{distance:c,point:Ck.clone(),object:n}}(n,e,t,r,Wv,Yv,Gv,YB);if(y){a&&(Mk.fromBufferAttribute(a,c),Sk.fromBufferAttribute(a,h),xk.fromBufferAttribute(a,p),y.uv=Qh.getUV(YB,Wv,Yv,Gv,Mk,Sk,xk,new Cn)),u&&(Mk.fromBufferAttribute(u,c),Sk.fromBufferAttribute(u,h),xk.fromBufferAttribute(u,p),y.uv2=Qh.getUV(YB,Wv,Yv,Gv,Mk,Sk,xk,new Cn));const w={a:c,b:h,c:p,normal:new Be,materialIndex:0};Qh.getNormal(Wv,Yv,Gv,w.normal),y.face=w}return y}class wb extends go{constructor(e=1,t=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const u=[],c=[],h=[],p=[];let g=0,y=0;function w(S,C,P,B,z,j,G,re,pe,ne,he){const we=j/pe,Pe=G/ne,ot=j/2,at=G/2,je=re/2,_t=pe+1,ye=ne+1;let Ae=0,Ge=0;const Je=new Be;for(let bt=0;bt<ye;bt++){const Z=bt*Pe-at;for(let $=0;$<_t;$++)Je[S]=($*we-ot)*B,Je[C]=Z*z,Je[P]=je,c.push(Je.x,Je.y,Je.z),Je[S]=0,Je[C]=0,Je[P]=re>0?1:-1,h.push(Je.x,Je.y,Je.z),p.push($/pe),p.push(1-bt/ne),Ae+=1}for(let bt=0;bt<ne;bt++)for(let Z=0;Z<pe;Z++){const de=g+Z+_t*(bt+1),be=g+(Z+1)+_t*(bt+1),Ee=g+(Z+1)+_t*bt;u.push(g+Z+_t*bt,de,Ee),u.push(de,be,Ee),Ge+=6}a.addGroup(y,Ge,he),y+=Ge,g+=Ae}w("z","y","x",-1,-1,r,t,e,s,o,0),w("z","y","x",1,-1,r,t,-e,s,o,1),w("x","z","y",1,1,e,r,t,i,s,2),w("x","z","y",1,-1,e,r,-t,i,s,3),w("x","y","z",1,-1,e,t,r,i,o,4),w("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(u),this.setAttribute("position",new jr(c,3)),this.setAttribute("normal",new jr(h,3)),this.setAttribute("uv",new jr(p,2))}static fromJSON(e){return new wb(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function bS(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];e[t][r]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.clone():Array.isArray(i)?i.slice():i}}return e}function mu(n){const e={};for(let t=0;t<n.length;t++){const r=bS(n[t]);for(const i in r)e[i]=r[i]}return e}const Ixe={clone:bS,merge:mu};class $v extends vS{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=bS(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;t.uniforms[i]=s&&s.isTexture?{type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?{type:"c",value:s.getHex()}:s&&s.isVector2?{type:"v2",value:s.toArray()}:s&&s.isVector3?{type:"v3",value:s.toArray()}:s&&s.isVector4?{type:"v4",value:s.toArray()}:s&&s.isMatrix3?{type:"m3",value:s.toArray()}:s&&s.isMatrix4?{type:"m4",value:s.toArray()}:{value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)!0===this.extensions[i]&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class GB extends zu{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new so,this.projectionMatrix=new so,this.projectionMatrixInverse=new so}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class gu extends GB{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*xT*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*mb*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*xT*Math.atan(Math.tan(.5*mb*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,o,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*mb*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i;const s=this.view;if(null!==this.view&&this.view.enabled){const u=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/u,t-=s.offsetY*r/c,i*=s.width/u,r*=s.height/c}const a=this.filmOffset;0!==a&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class Hxe extends zu{constructor(e,t,r){if(super(),this.type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=r;const i=new gu(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Be(1,0,0)),this.add(i);const o=new gu(90,1,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Be(-1,0,0)),this.add(o);const s=new gu(90,1,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Be(0,1,0)),this.add(s);const a=new gu(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Be(0,-1,0)),this.add(a);const u=new gu(90,1,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new Be(0,0,1)),this.add(u);const c=new gu(90,1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Be(0,0,-1)),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const r=this.renderTarget,[i,o,s,a,u,c]=this.children,h=e.getRenderTarget(),p=e.toneMapping,g=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,u),r.texture.generateMipmaps=y,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(h),e.toneMapping=p,e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class Tk extends Hv{constructor(e,t,r,i,o,s,a,u,c,h){super(e=void 0!==e?e:[],t=void 0!==t?t:301,r,i,o,s,a,u,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Bxe extends vb{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new Tk([r,r,r,r,r,r],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Ua}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new wb(5,5,5),o=new $v({name:"CubemapFromEquirect",uniforms:bS(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});o.uniforms.tEquirect.value=t;const s=new xc(i,o),a=t.minFilter;return 1008===t.minFilter&&(t.minFilter=Ua),new Hxe(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(o)}}const $B=new Be,Vxe=new Be,zxe=new Sc;class Mb{constructor(e=new Be(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=$B.subVectors(r,t).cross(Vxe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta($B),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||zxe.getNormalMatrix(e),i=this.coplanarPoint($B).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const SS=new hS,Rk=new Be;class XB{constructor(e=new Mb,t=new Mb,r=new Mb,i=new Mb,o=new Mb,s=new Mb){this.planes=[e,t,r,i,o,s]}set(e,t,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],u=r[4],c=r[5],h=r[6],p=r[7],g=r[8],y=r[9],w=r[10],S=r[11],C=r[12],P=r[13],B=r[14],z=r[15];return t[0].setComponents(a-i,p-u,S-g,z-C).normalize(),t[1].setComponents(a+i,p+u,S+g,z+C).normalize(),t[2].setComponents(a+o,p+c,S+y,z+P).normalize(),t[3].setComponents(a-o,p-c,S-y,z-P).normalize(),t[4].setComponents(a-s,p-h,S-w,z-B).normalize(),t[5].setComponents(a+s,p+h,S+w,z+B).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),SS.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(SS)}intersectsSprite(e){return SS.center.set(0,0,0),SS.radius=.7071067811865476,SS.applyMatrix4(e.matrixWorld),this.intersectsSphere(SS)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Rk.x=i.normal.x>0?e.max.x:e.min.x,Rk.y=i.normal.y>0?e.max.y:e.min.y,Rk.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Rk)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Mq(){let n=null,e=!1,t=null,r=null;function i(o,s){t(o,s),r=n.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==t&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function Uxe(n,e){const t=e.isWebGL2,r=new WeakMap;return{get:function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h&&(n.deleteBuffer(h.buffer),r.delete(c))},update:function u(c,h){if(c.isGLBufferAttribute){const g=r.get(c);return void((!g||g.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const p=r.get(c);void 0===p?r.set(c,function i(c,h){const p=c.array,g=c.usage,y=n.createBuffer();let w;if(n.bindBuffer(h,y),n.bufferData(h,p,g),c.onUploadCallback(),p instanceof Float32Array)w=5126;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");w=5131}else w=5123;else if(p instanceof Int16Array)w=5122;else if(p instanceof Uint32Array)w=5125;else if(p instanceof Int32Array)w=5124;else if(p instanceof Int8Array)w=5120;else if(p instanceof Uint8Array)w=5121;else{if(!(p instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);w=5121}return{buffer:y,type:w,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version}}(c,h)):p.version<c.version&&(function o(c,h,p){const g=h.array,y=h.updateRange;n.bindBuffer(p,c),-1===y.count?n.bufferSubData(p,0,g):(t?n.bufferSubData(p,y.offset*g.BYTES_PER_ELEMENT,g,y.offset,y.count):n.bufferSubData(p,y.offset*g.BYTES_PER_ELEMENT,g.subarray(y.offset,y.offset+y.count)),y.count=-1)}(p.buffer,c,h),p.version=c.version)}}}class AT extends go{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const o=e/2,s=t/2,a=Math.floor(r),u=Math.floor(i),c=a+1,h=u+1,p=e/a,g=t/u,y=[],w=[],S=[],C=[];for(let P=0;P<h;P++){const B=P*g-s;for(let z=0;z<c;z++)w.push(z*p-o,-B,0),S.push(0,0,1),C.push(z/a),C.push(1-P/u)}for(let P=0;P<u;P++)for(let B=0;B<a;B++){const j=B+c*(P+1),G=B+1+c*(P+1),re=B+1+c*P;y.push(B+c*P,j,re),y.push(j,G,re)}this.setIndex(y),this.setAttribute("position",new jr(w,3)),this.setAttribute("normal",new jr(S,3)),this.setAttribute("uv",new jr(C,2))}static fromJSON(e){return new AT(e.width,e.height,e.widthSegments,e.heightSegments)}}const wo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\nvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\nconst mat3 XYZ_TO_REC709 = mat3(\n    3.2404542, -0.9692660,  0.0556434,\n   -1.5371385,  1.8760108, -0.2040259,\n   -0.4985314,  0.0415560,  1.0572252\n);\nvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n   vec3 sqrtF0 = sqrt( fresnel0 );\n   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n}\nvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n}\nfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n}\nvec3 evalSensitivity( float OPD, vec3 shift ) {\n   float phase = 2.0 * PI * OPD * 1.0e-9;\n   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );\n   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );\n   xyz /= 1.0685e-7;\n   vec3 srgb = XYZ_TO_REC709 * xyz;\n   return srgb;\n}\nvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n   vec3 I;\n   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n   float cosTheta2Sq = 1.0 - sinTheta2Sq;\n   if ( cosTheta2Sq < 0.0 ) {\n       return vec3( 1.0 );\n   }\n   float cosTheta2 = sqrt( cosTheta2Sq );\n   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n   float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n   float R21 = R12;\n   float T121 = 1.0 - R12;\n   float phi12 = 0.0;\n   if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n   float phi21 = PI - phi12;\n   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n   vec3 phi23 = vec3( 0.0 );\n   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;\n   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;\n   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;\n   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n   vec3 phi = vec3( phi21 ) + phi23;\n   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n   vec3 r123 = sqrt( R123 );\n   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n   vec3 C0 = R12 + Rs;\n   I = C0;\n   vec3 Cm = Rs - T121;\n   for ( int m = 1; m <= 2; ++m ) {\n       Cm *= r123;\n       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n       I += Cm * Sm;\n   }\n   return max( I, vec3( 0.0 ) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\nfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\nif ( material.iridescenceThickness == 0.0 ) {\n\tmaterial.iridescence = 0.0;\n} else {\n\tmaterial.iridescence = saturate( material.iridescence );\n}\nif ( material.iridescence > 0.0 ) {\n\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},ar={common:{diffuse:{value:new Rr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Sc},uv2Transform:{value:new Sc},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Cn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Sc}},sprite:{diffuse:{value:new Rr(16777215)},opacity:{value:1},center:{value:new Cn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Sc}}},qf={basic:{uniforms:mu([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.fog]),vertexShader:wo.meshbasic_vert,fragmentShader:wo.meshbasic_frag},lambert:{uniforms:mu([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.fog,ar.lights,{emissive:{value:new Rr(0)}}]),vertexShader:wo.meshlambert_vert,fragmentShader:wo.meshlambert_frag},phong:{uniforms:mu([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.fog,ar.lights,{emissive:{value:new Rr(0)},specular:{value:new Rr(1118481)},shininess:{value:30}}]),vertexShader:wo.meshphong_vert,fragmentShader:wo.meshphong_frag},standard:{uniforms:mu([ar.common,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.roughnessmap,ar.metalnessmap,ar.fog,ar.lights,{emissive:{value:new Rr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wo.meshphysical_vert,fragmentShader:wo.meshphysical_frag},toon:{uniforms:mu([ar.common,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.gradientmap,ar.fog,ar.lights,{emissive:{value:new Rr(0)}}]),vertexShader:wo.meshtoon_vert,fragmentShader:wo.meshtoon_frag},matcap:{uniforms:mu([ar.common,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.fog,{matcap:{value:null}}]),vertexShader:wo.meshmatcap_vert,fragmentShader:wo.meshmatcap_frag},points:{uniforms:mu([ar.points,ar.fog]),vertexShader:wo.points_vert,fragmentShader:wo.points_frag},dashed:{uniforms:mu([ar.common,ar.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wo.linedashed_vert,fragmentShader:wo.linedashed_frag},depth:{uniforms:mu([ar.common,ar.displacementmap]),vertexShader:wo.depth_vert,fragmentShader:wo.depth_frag},normal:{uniforms:mu([ar.common,ar.bumpmap,ar.normalmap,ar.displacementmap,{opacity:{value:1}}]),vertexShader:wo.meshnormal_vert,fragmentShader:wo.meshnormal_frag},sprite:{uniforms:mu([ar.sprite,ar.fog]),vertexShader:wo.sprite_vert,fragmentShader:wo.sprite_frag},background:{uniforms:{uvTransform:{value:new Sc},t2D:{value:null}},vertexShader:wo.background_vert,fragmentShader:wo.background_frag},cube:{uniforms:mu([ar.envmap,{opacity:{value:1}}]),vertexShader:wo.cube_vert,fragmentShader:wo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wo.equirect_vert,fragmentShader:wo.equirect_frag},distanceRGBA:{uniforms:mu([ar.common,ar.displacementmap,{referencePosition:{value:new Be},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wo.distanceRGBA_vert,fragmentShader:wo.distanceRGBA_frag},shadow:{uniforms:mu([ar.lights,ar.fog,{color:{value:new Rr(0)},opacity:{value:1}}]),vertexShader:wo.shadow_vert,fragmentShader:wo.shadow_frag}};function VEe(n,e,t,r,i,o){const s=new Rr(0);let u,c,a=!0===i?0:1,h=null,p=0,g=null;function w(S,C){t.buffers.color.setClear(S.r,S.g,S.b,C,o)}return{getClearColor:function(){return s},setClearColor:function(S,C=1){s.set(S),a=C,w(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(S){a=S,w(s,a)},render:function y(S,C){let P=!1,B=!0===C.isScene?C.background:null;B&&B.isTexture&&(B=e.get(B));const z=n.xr,j=z.getSession&&z.getSession();j&&"additive"===j.environmentBlendMode&&(B=null),null===B?w(s,a):B&&B.isColor&&(w(B,1),P=!0),(n.autoClear||P)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),B&&(B.isCubeTexture||306===B.mapping)?(void 0===c&&(c=new xc(new wb(1,1,1),new $v({name:"BackgroundCubeMaterial",uniforms:bS(qf.cube.uniforms),vertexShader:qf.cube.vertexShader,fragmentShader:qf.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(G,re,pe){this.matrixWorld.copyPosition(pe.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=B,c.material.uniforms.flipEnvMap.value=B.isCubeTexture&&!1===B.isRenderTargetTexture?-1:1,(h!==B||p!==B.version||g!==n.toneMapping)&&(c.material.needsUpdate=!0,h=B,p=B.version,g=n.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null)):B&&B.isTexture&&(void 0===u&&(u=new xc(new AT(2,2),new $v({name:"BackgroundMaterial",uniforms:bS(qf.background.uniforms),vertexShader:qf.background.vertexShader,fragmentShader:qf.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=B,!0===B.matrixAutoUpdate&&B.updateMatrix(),u.material.uniforms.uvTransform.value.copy(B.matrix),(h!==B||p!==B.version||g!==n.toneMapping)&&(u.material.needsUpdate=!0,h=B,p=B.version,g=n.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null))}}}function zEe(n,e,t,r){const i=n.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||null!==o,a={},u=C(null);let c=u,h=!1;function y(je){return r.isWebGL2?n.bindVertexArray(je):o.bindVertexArrayOES(je)}function w(je){return r.isWebGL2?n.deleteVertexArray(je):o.deleteVertexArrayOES(je)}function C(je){const _t=[],ye=[],Ae=[];for(let Ge=0;Ge<i;Ge++)_t[Ge]=0,ye[Ge]=0,Ae[Ge]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:_t,enabledAttributes:ye,attributeDivisors:Ae,object:je,attributes:{},index:null}}function z(){const je=c.newAttributes;for(let _t=0,ye=je.length;_t<ye;_t++)je[_t]=0}function j(je){G(je,0)}function G(je,_t){const Ae=c.enabledAttributes,Ge=c.attributeDivisors;c.newAttributes[je]=1,0===Ae[je]&&(n.enableVertexAttribArray(je),Ae[je]=1),Ge[je]!==_t&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](je,_t),Ge[je]=_t)}function re(){const je=c.newAttributes,_t=c.enabledAttributes;for(let ye=0,Ae=_t.length;ye<Ae;ye++)_t[ye]!==je[ye]&&(n.disableVertexAttribArray(ye),_t[ye]=0)}function pe(je,_t,ye,Ae,Ge,Je){!0!==r.isWebGL2||5124!==ye&&5125!==ye?n.vertexAttribPointer(je,_t,ye,Ae,Ge,Je):n.vertexAttribIPointer(je,_t,ye,Ge,Je)}function ot(){at(),h=!0,c!==u&&(c=u,y(c.object))}function at(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function p(je,_t,ye,Ae,Ge){let Je=!1;if(s){const bt=function S(je,_t,ye){const Ae=!0===ye.wireframe;let Ge=a[je.id];void 0===Ge&&(Ge={},a[je.id]=Ge);let Je=Ge[_t.id];void 0===Je&&(Je={},Ge[_t.id]=Je);let bt=Je[Ae];return void 0===bt&&(bt=C(function g(){return r.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}()),Je[Ae]=bt),bt}(Ae,ye,_t);c!==bt&&(c=bt,y(c.object)),Je=function P(je,_t,ye,Ae){const Ge=c.attributes,Je=_t.attributes;let bt=0;const Z=ye.getAttributes();for(const $ in Z)if(Z[$].location>=0){const be=Ge[$];let Ee=Je[$];if(void 0===Ee&&("instanceMatrix"===$&&je.instanceMatrix&&(Ee=je.instanceMatrix),"instanceColor"===$&&je.instanceColor&&(Ee=je.instanceColor)),void 0===be||be.attribute!==Ee||Ee&&be.data!==Ee.data)return!0;bt++}return c.attributesNum!==bt||c.index!==Ae}(je,Ae,ye,Ge),Je&&function B(je,_t,ye,Ae){const Ge={},Je=_t.attributes;let bt=0;const Z=ye.getAttributes();for(const $ in Z)if(Z[$].location>=0){let be=Je[$];void 0===be&&("instanceMatrix"===$&&je.instanceMatrix&&(be=je.instanceMatrix),"instanceColor"===$&&je.instanceColor&&(be=je.instanceColor));const Ee={};Ee.attribute=be,be&&be.data&&(Ee.data=be.data),Ge[$]=Ee,bt++}c.attributes=Ge,c.attributesNum=bt,c.index=Ae}(je,Ae,ye,Ge)}else{const bt=!0===_t.wireframe;(c.geometry!==Ae.id||c.program!==ye.id||c.wireframe!==bt)&&(c.geometry=Ae.id,c.program=ye.id,c.wireframe=bt,Je=!0)}null!==Ge&&t.update(Ge,34963),(Je||h)&&(h=!1,function ne(je,_t,ye,Ae){if(!1===r.isWebGL2&&(je.isInstancedMesh||Ae.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;z();const Ge=Ae.attributes,Je=ye.getAttributes(),bt=_t.defaultAttributeValues;for(const Z in Je){const $=Je[Z];if($.location>=0){let de=Ge[Z];if(void 0===de&&("instanceMatrix"===Z&&je.instanceMatrix&&(de=je.instanceMatrix),"instanceColor"===Z&&je.instanceColor&&(de=je.instanceColor)),void 0!==de){const be=de.normalized,Ee=de.itemSize,We=t.get(de);if(void 0===We)continue;const Mt=We.buffer,kt=We.type,Dt=We.bytesPerElement;if(de.isInterleavedBufferAttribute){const ut=de.data,Lt=ut.stride,pt=de.offset;if(ut.isInstancedInterleavedBuffer){for(let Ot=0;Ot<$.locationSize;Ot++)G($.location+Ot,ut.meshPerAttribute);!0!==je.isInstancedMesh&&void 0===Ae._maxInstanceCount&&(Ae._maxInstanceCount=ut.meshPerAttribute*ut.count)}else for(let Ot=0;Ot<$.locationSize;Ot++)j($.location+Ot);n.bindBuffer(34962,Mt);for(let Ot=0;Ot<$.locationSize;Ot++)pe($.location+Ot,Ee/$.locationSize,kt,be,Lt*Dt,(pt+Ee/$.locationSize*Ot)*Dt)}else{if(de.isInstancedBufferAttribute){for(let ut=0;ut<$.locationSize;ut++)G($.location+ut,de.meshPerAttribute);!0!==je.isInstancedMesh&&void 0===Ae._maxInstanceCount&&(Ae._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let ut=0;ut<$.locationSize;ut++)j($.location+ut);n.bindBuffer(34962,Mt);for(let ut=0;ut<$.locationSize;ut++)pe($.location+ut,Ee/$.locationSize,kt,be,Ee*Dt,Ee/$.locationSize*ut*Dt)}}else if(void 0!==bt){const be=bt[Z];if(void 0!==be)switch(be.length){case 2:n.vertexAttrib2fv($.location,be);break;case 3:n.vertexAttrib3fv($.location,be);break;case 4:n.vertexAttrib4fv($.location,be);break;default:n.vertexAttrib1fv($.location,be)}}}}re()}(je,_t,ye,Ae),null!==Ge&&n.bindBuffer(34963,t.get(Ge).buffer))},reset:ot,resetDefaultState:at,dispose:function he(){ot();for(const je in a){const _t=a[je];for(const ye in _t){const Ae=_t[ye];for(const Ge in Ae)w(Ae[Ge].object),delete Ae[Ge];delete _t[ye]}delete a[je]}},releaseStatesOfGeometry:function we(je){if(void 0===a[je.id])return;const _t=a[je.id];for(const ye in _t){const Ae=_t[ye];for(const Ge in Ae)w(Ae[Ge].object),delete Ae[Ge];delete _t[ye]}delete a[je.id]},releaseStatesOfProgram:function Pe(je){for(const _t in a){const ye=a[_t];if(void 0===ye[je.id])continue;const Ae=ye[je.id];for(const Ge in Ae)w(Ae[Ge].object),delete Ae[Ge];delete ye[je.id]}},initAttributes:z,enableAttribute:j,disableUnusedAttributes:re}}function UEe(n,e,t,r){const i=r.isWebGL2;let o;this.setMode=function s(c){o=c},this.render=function a(c,h){n.drawArrays(o,c,h),t.update(h,o,1)},this.renderInstances=function u(c,h,p){if(0===p)return;let g,y;if(i)g=n,y="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",null===g)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g[y](o,c,h,p),t.update(h,o,p)}}function jEe(n,e,t){let r;function o(pe){if("highp"===pe){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";pe="mediump"}return"mediump"===pe&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&n instanceof WebGL2ComputeRenderingContext;let a=void 0!==t.precision?t.precision:"highp";const u=o(a);u!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",u,"instead."),a=u);const c=s||e.has("WEBGL_draw_buffers"),h=!0===t.logarithmicDepthBuffer,p=n.getParameter(34930),g=n.getParameter(35660),y=n.getParameter(3379),w=n.getParameter(34076),S=n.getParameter(34921),C=n.getParameter(36347),P=n.getParameter(36348),B=n.getParameter(36349),z=g>0,j=s||e.has("OES_texture_float");return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:function i(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const pe=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(pe.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:o,precision:a,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:g,maxTextureSize:y,maxCubemapSize:w,maxAttributes:S,maxVertexUniforms:C,maxVaryings:P,maxFragmentUniforms:B,vertexTextures:z,floatFragmentTextures:j,floatVertexTextures:z&&j,maxSamples:s?n.getParameter(36183):0}}function WEe(n){const e=this;let t=null,r=0,i=!1,o=!1;const s=new Mb,a=new Sc,u={value:null,needsUpdate:!1};function c(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,g,y,w){const S=null!==p?p.length:0;let C=null;if(0!==S){if(C=u.value,!0!==w||null===C){const P=y+4*S,B=g.matrixWorldInverse;a.getNormalMatrix(B),(null===C||C.length<P)&&(C=new Float32Array(P));for(let z=0,j=y;z!==S;++z,j+=4)s.copy(p[z]).applyMatrix4(B,a),s.normal.toArray(C,j),C[j+3]=s.constant}u.value=C,u.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,C}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,g,y){const w=0!==p.length||g||0!==r||i;return i=g,t=h(p,y,0),r=p.length,w},this.beginShadows=function(){o=!0,h(null)},this.endShadows=function(){o=!1,c()},this.setState=function(p,g,y){const w=p.clippingPlanes,S=p.clipIntersection,C=p.clipShadows,P=n.get(p);if(!i||null===w||0===w.length||o&&!C)o?h(null):c();else{const B=o?0:r,z=4*B;let j=P.clippingState||null;u.value=j,j=h(w,g,z,y);for(let G=0;G!==z;++G)j[G]=t[G];P.clippingState=j,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=B}}}function YEe(n){let e=new WeakMap;function t(s,a){return 303===a?s.mapping=301:304===a&&(s.mapping=302),s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const u=e.get(a);void 0!==u&&(e.delete(a),u.dispose())}return{get:function r(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){const a=s.mapping;if(303===a||304===a){if(e.has(s))return t(e.get(s).texture,s.mapping);{const u=s.image;if(u&&u.height>0){const c=new Bxe(u.height/2);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}return null}}}return s},dispose:function o(){e=new WeakMap}}}qf.physical={uniforms:mu([qf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Cn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Rr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Cn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Rr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Rr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:wo.meshphysical_vert,fragmentShader:wo.meshphysical_frag};class Dk extends GB{constructor(e=-1,t=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+t,u=i-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=h*this.view.offsetY,u=a-h*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Sq=[.125,.215,.35,.446,.526,.582],KB=new Dk,xq=new Rr;let ZB=null;const xb=(1+Math.sqrt(5))/2,CS=1/xb,Cq=[new Be(1,1,1),new Be(-1,1,1),new Be(1,1,-1),new Be(-1,1,-1),new Be(0,xb,CS),new Be(0,xb,-CS),new Be(CS,0,xb),new Be(-CS,0,xb),new Be(xb,CS,0),new Be(-xb,CS,0)];class Eq{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){ZB=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Dq(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Rq(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ZB),e.scissorTest=!1,Ak(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),ZB=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ua,minFilter:Ua,generateMipmaps:!1,type:ST,format:Xh,encoding:fb,depthBuffer:!1},i=Tq(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Tq(e,t,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function GEe(n){const e=[],t=[],r=[];let i=n;const o=n-4+1+Sq.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);t.push(a);let u=1/a;s>n-4?u=Sq[s-n+4-1]:0===s&&(u=0),r.push(u);const c=1/(a-2),h=-c,p=1+c,g=[h,h,p,h,p,p,h,h,p,p,h,p],y=6,w=6,S=3,C=2,P=1,B=new Float32Array(S*w*y),z=new Float32Array(C*w*y),j=new Float32Array(P*w*y);for(let re=0;re<y;re++){const pe=re%3*2/3-1,ne=re>2?0:-1;B.set([pe,ne,0,pe+2/3,ne,0,pe+2/3,ne+1,0,pe,ne,0,pe+2/3,ne+1,0,pe,ne+1,0],S*w*re),z.set(g,C*w*re),j.set([re,re,re,re,re,re],P*w*re)}const G=new go;G.setAttribute("position",new Tl(B,S)),G.setAttribute("uv",new Tl(z,C)),G.setAttribute("faceIndex",new Tl(j,P)),e.push(G),i>4&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}(o)),this._blurMaterial=function $Ee(n,e,t){const r=new Float32Array(20),i=new Be(0,1,0);return new $v({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(o,e,t)}return i}_compileMaterial(e){const t=new xc(this._lodPlanes[0],e);this._renderer.compile(t,KB)}_sceneToCubeUV(e,t,r,i){const a=new gu(90,1,t,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,g=h.toneMapping;h.getClearColor(xq),h.toneMapping=0,h.autoClear=!1;const y=new jv({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),w=new xc(new wb,y);let S=!1;const C=e.background;C?C.isColor&&(y.color.copy(C),e.background=null,S=!0):(y.color.copy(xq),S=!0);for(let P=0;P<6;P++){const B=P%3;0===B?(a.up.set(0,u[P],0),a.lookAt(c[P],0,0)):1===B?(a.up.set(0,0,u[P]),a.lookAt(0,c[P],0)):(a.up.set(0,u[P],0),a.lookAt(0,0,c[P]));const z=this._cubeSize;Ak(i,B*z,P>2?z:0,z,z),h.setRenderTarget(i),S&&h.render(w,a),h.render(e,a)}w.geometry.dispose(),w.material.dispose(),h.toneMapping=g,h.autoClear=p,e.background=C}_textureToCubeUV(e,t){const r=this._renderer,i=301===e.mapping||302===e.mapping;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=Dq()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Rq());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new xc(this._lodPlanes[0],o);o.uniforms.envMap.value=e;const u=this._cubeSize;Ak(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(s,KB)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]);this._blur(e,i-1,i,o,Cq[(i-1)%Cq.length])}t.autoClear=r}_blur(e,t,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,s,a){const u=this._renderer,c=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const p=new xc(this._lodPlanes[i],c),g=c.uniforms,y=this._sizeLods[r]-1,w=isFinite(o)?Math.PI/(2*y):2*Math.PI/39,S=o/w,C=isFinite(o)?1+Math.floor(3*S):20;C>20&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${C} samples when the maximum is set to 20`);const P=[];let B=0;for(let pe=0;pe<20;++pe){const ne=pe/S,he=Math.exp(-ne*ne/2);P.push(he),0===pe?B+=he:pe<C&&(B+=2*he)}for(let pe=0;pe<P.length;pe++)P[pe]=P[pe]/B;g.envMap.value=e.texture,g.samples.value=C,g.weights.value=P,g.latitudinal.value="latitudinal"===s,a&&(g.poleAxis.value=a);const{_lodMax:z}=this;g.dTheta.value=w,g.mipInt.value=z-r;const j=this._sizeLods[i];Ak(t,3*j*(i>z-4?i-z+4:0),4*(this._cubeSize-j),3*j,2*j),u.setRenderTarget(t),u.render(p,KB)}}function Tq(n,e,t){const r=new vb(n,e,t);return r.texture.mapping=306,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ak(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Rq(){return new $v({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Dq(){return new $v({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function XEe(n){let e=new WeakMap,t=null;function o(a){const u=a.target;u.removeEventListener("dispose",o);const c=e.get(u);void 0!==c&&(e.delete(u),c.dispose())}return{get:function r(a){if(a&&a.isTexture){const u=a.mapping,c=303===u||304===u,h=301===u||302===u;if(c||h){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let p=e.get(a);return null===t&&(t=new Eq(n)),p=c?t.fromEquirectangular(a,p):t.fromCubemap(a,p),e.set(a,p),p.texture}if(e.has(a))return e.get(a).texture;{const p=a.image;if(c&&p&&p.height>0||h&&p&&function i(a){let u=0;for(let h=0;h<6;h++)void 0!==a[h]&&u++;return 6===u}(p)){null===t&&(t=new Eq(n));const g=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,g),a.addEventListener("dispose",o),g.texture}return null}}}return a},dispose:function s(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function KEe(n){const e={};function t(r){if(void 0!==e[r])return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return null!==t(r)},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return null===i&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function ZEe(n,e,t,r){const i={},o=new WeakMap;function s(p){const g=p.target;null!==g.index&&e.remove(g.index);for(const w in g.attributes)e.remove(g.attributes[w]);g.removeEventListener("dispose",s),delete i[g.id];const y=o.get(g);y&&(e.remove(y),o.delete(g)),r.releaseStatesOfGeometry(g),!0===g.isInstancedBufferGeometry&&delete g._maxInstanceCount,t.memory.geometries--}function c(p){const g=[],y=p.index,w=p.attributes.position;let S=0;if(null!==y){const B=y.array;S=y.version;for(let z=0,j=B.length;z<j;z+=3){const G=B[z+0],re=B[z+1],pe=B[z+2];g.push(G,re,re,pe,pe,G)}}else{S=w.version;for(let z=0,j=w.array.length/3-1;z<j;z+=3){const G=z+0,re=z+1,pe=z+2;g.push(G,re,re,pe,pe,G)}}const C=new(oq(g)?bq:_q)(g,1);C.version=S;const P=o.get(p);P&&e.remove(P),o.set(p,C)}return{get:function a(p,g){return!0===i[g.id]||(g.addEventListener("dispose",s),i[g.id]=!0,t.memory.geometries++),g},update:function u(p){const g=p.attributes;for(const w in g)e.update(g[w],34962);const y=p.morphAttributes;for(const w in y){const S=y[w];for(let C=0,P=S.length;C<P;C++)e.update(S[C],34962)}},getWireframeAttribute:function h(p){const g=o.get(p);if(g){const y=p.index;null!==y&&g.version<y.version&&c(p)}else c(p);return o.get(p)}}}function qEe(n,e,t,r){const i=r.isWebGL2;let o,a,u;this.setMode=function s(g){o=g},this.setIndex=function c(g){a=g.type,u=g.bytesPerElement},this.render=function h(g,y){n.drawElements(o,y,a,g*u),t.update(y,o,1)},this.renderInstances=function p(g,y,w){if(0===w)return;let S,C;if(i)S=n,C="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),C="drawElementsInstancedANGLE",null===S)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");S[C](o,y,a,g*u,w),t.update(y,o,w)}}function JEe(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function r(o,s,a){switch(t.calls++,s){case 4:t.triangles+=a*(o/3);break;case 1:t.lines+=a*(o/2);break;case 3:t.lines+=a*(o-1);break;case 2:t.lines+=a*o;break;case 0:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}function QEe(n,e){return n[0]-e[0]}function eTe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function JB(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Uint8Array?t=255:r instanceof Uint16Array?t=65535:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function tTe(n,e,t){const r={},i=new Float32Array(8),o=new WeakMap,s=new us,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function u(c,h,p,g){const y=c.morphTargetInfluences;if(!0===e.isWebGL2){const w=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,S=void 0!==w?w.length:0;let C=o.get(h);if(void 0===C||C.count!==S){let _t=function(){at.dispose(),o.delete(h),h.removeEventListener("dispose",_t)};void 0!==C&&C.texture.dispose();const z=void 0!==h.morphAttributes.position,j=void 0!==h.morphAttributes.normal,G=void 0!==h.morphAttributes.color,re=h.morphAttributes.position||[],pe=h.morphAttributes.normal||[],ne=h.morphAttributes.color||[];let he=0;!0===z&&(he=1),!0===j&&(he=2),!0===G&&(he=3);let we=h.attributes.position.count*he,Pe=1;we>e.maxTextureSize&&(Pe=Math.ceil(we/e.maxTextureSize),we=e.maxTextureSize);const ot=new Float32Array(we*Pe*4*S),at=new TB(ot,we,Pe,S);at.type=Fv,at.needsUpdate=!0;const je=4*he;for(let ye=0;ye<S;ye++){const Ae=re[ye],Ge=pe[ye],Je=ne[ye],bt=we*Pe*4*ye;for(let Z=0;Z<Ae.count;Z++){const $=Z*je;!0===z&&(s.fromBufferAttribute(Ae,Z),!0===Ae.normalized&&JB(s,Ae),ot[bt+$+0]=s.x,ot[bt+$+1]=s.y,ot[bt+$+2]=s.z,ot[bt+$+3]=0),!0===j&&(s.fromBufferAttribute(Ge,Z),!0===Ge.normalized&&JB(s,Ge),ot[bt+$+4]=s.x,ot[bt+$+5]=s.y,ot[bt+$+6]=s.z,ot[bt+$+7]=0),!0===G&&(s.fromBufferAttribute(Je,Z),!0===Je.normalized&&JB(s,Je),ot[bt+$+8]=s.x,ot[bt+$+9]=s.y,ot[bt+$+10]=s.z,ot[bt+$+11]=4===Je.itemSize?s.w:1)}}C={count:S,texture:at,size:new Cn(we,Pe)},o.set(h,C),h.addEventListener("dispose",_t)}let P=0;for(let z=0;z<y.length;z++)P+=y[z];const B=h.morphTargetsRelative?1:1-P;g.getUniforms().setValue(n,"morphTargetBaseInfluence",B),g.getUniforms().setValue(n,"morphTargetInfluences",y),g.getUniforms().setValue(n,"morphTargetsTexture",C.texture,t),g.getUniforms().setValue(n,"morphTargetsTextureSize",C.size)}else{const w=void 0===y?0:y.length;let S=r[h.id];if(void 0===S||S.length!==w){S=[];for(let j=0;j<w;j++)S[j]=[j,0];r[h.id]=S}for(let j=0;j<w;j++){const G=S[j];G[0]=j,G[1]=y[j]}S.sort(eTe);for(let j=0;j<8;j++)j<w&&S[j][1]?(a[j][0]=S[j][0],a[j][1]=S[j][1]):(a[j][0]=Number.MAX_SAFE_INTEGER,a[j][1]=0);a.sort(QEe);const C=h.morphAttributes.position,P=h.morphAttributes.normal;let B=0;for(let j=0;j<8;j++){const G=a[j],re=G[0],pe=G[1];re!==Number.MAX_SAFE_INTEGER&&pe?(C&&h.getAttribute("morphTarget"+j)!==C[re]&&h.setAttribute("morphTarget"+j,C[re]),P&&h.getAttribute("morphNormal"+j)!==P[re]&&h.setAttribute("morphNormal"+j,P[re]),i[j]=pe,B+=pe):(C&&!0===h.hasAttribute("morphTarget"+j)&&h.deleteAttribute("morphTarget"+j),P&&!0===h.hasAttribute("morphNormal"+j)&&h.deleteAttribute("morphNormal"+j),i[j]=0)}const z=h.morphTargetsRelative?1:1-B;g.getUniforms().setValue(n,"morphTargetBaseInfluence",z),g.getUniforms().setValue(n,"morphTargetInfluences",i)}}}}function nTe(n,e,t,r){let i=new WeakMap;function a(u){const c=u.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function o(u){const c=r.render.frame,p=e.get(u,u.geometry);return i.get(p)!==c&&(e.update(p),i.set(p,c)),u.isInstancedMesh&&(!1===u.hasEventListener("dispose",a)&&u.addEventListener("dispose",a),t.update(u.instanceMatrix,34962),null!==u.instanceColor&&t.update(u.instanceColor,34962)),p},dispose:function s(){i=new WeakMap}}}const Aq=new Hv,Oq=new TB,kq=new lq,Lq=new Tk,Pq=[],Iq=[],Nq=new Float32Array(16),Fq=new Float32Array(9),Hq=new Float32Array(4);function ES(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let o=Pq[i];if(void 0===o&&(o=new Float32Array(i),Pq[i]=o),0!==e){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function Uu(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function ju(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Ok(n,e){let t=Iq[e];void 0===t&&(t=new Int32Array(e),Iq[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function rTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function iTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Uu(t,e))return;n.uniform2fv(this.addr,e),ju(t,e)}}function oTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Uu(t,e))return;n.uniform3fv(this.addr,e),ju(t,e)}}function sTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Uu(t,e))return;n.uniform4fv(this.addr,e),ju(t,e)}}function aTe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Uu(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ju(t,e)}else{if(Uu(t,r))return;Hq.set(r),n.uniformMatrix2fv(this.addr,!1,Hq),ju(t,r)}}function lTe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Uu(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ju(t,e)}else{if(Uu(t,r))return;Fq.set(r),n.uniformMatrix3fv(this.addr,!1,Fq),ju(t,r)}}function uTe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Uu(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ju(t,e)}else{if(Uu(t,r))return;Nq.set(r),n.uniformMatrix4fv(this.addr,!1,Nq),ju(t,r)}}function cTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function dTe(n,e){const t=this.cache;Uu(t,e)||(n.uniform2iv(this.addr,e),ju(t,e))}function hTe(n,e){const t=this.cache;Uu(t,e)||(n.uniform3iv(this.addr,e),ju(t,e))}function fTe(n,e){const t=this.cache;Uu(t,e)||(n.uniform4iv(this.addr,e),ju(t,e))}function pTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function mTe(n,e){const t=this.cache;Uu(t,e)||(n.uniform2uiv(this.addr,e),ju(t,e))}function gTe(n,e){const t=this.cache;Uu(t,e)||(n.uniform3uiv(this.addr,e),ju(t,e))}function vTe(n,e){const t=this.cache;Uu(t,e)||(n.uniform4uiv(this.addr,e),ju(t,e))}function yTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Aq,i)}function _Te(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||kq,i)}function bTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Lq,i)}function wTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Oq,i)}function STe(n,e){n.uniform1fv(this.addr,e)}function xTe(n,e){const t=ES(e,this.size,2);n.uniform2fv(this.addr,t)}function CTe(n,e){const t=ES(e,this.size,3);n.uniform3fv(this.addr,t)}function ETe(n,e){const t=ES(e,this.size,4);n.uniform4fv(this.addr,t)}function TTe(n,e){const t=ES(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function RTe(n,e){const t=ES(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function DTe(n,e){const t=ES(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function ATe(n,e){n.uniform1iv(this.addr,e)}function OTe(n,e){n.uniform2iv(this.addr,e)}function kTe(n,e){n.uniform3iv(this.addr,e)}function LTe(n,e){n.uniform4iv(this.addr,e)}function PTe(n,e){n.uniform1uiv(this.addr,e)}function ITe(n,e){n.uniform2uiv(this.addr,e)}function NTe(n,e){n.uniform3uiv(this.addr,e)}function FTe(n,e){n.uniform4uiv(this.addr,e)}function HTe(n,e,t){const r=e.length,i=Ok(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2D(e[o]||Aq,i[o])}function BTe(n,e,t){const r=e.length,i=Ok(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture3D(e[o]||kq,i[o])}function VTe(n,e,t){const r=e.length,i=Ok(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTextureCube(e[o]||Lq,i[o])}function zTe(n,e,t){const r=e.length,i=Ok(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||Oq,i[o])}class jTe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function MTe(n){switch(n){case 5126:return rTe;case 35664:return iTe;case 35665:return oTe;case 35666:return sTe;case 35674:return aTe;case 35675:return lTe;case 35676:return uTe;case 5124:case 35670:return cTe;case 35667:case 35671:return dTe;case 35668:case 35672:return hTe;case 35669:case 35673:return fTe;case 5125:return pTe;case 36294:return mTe;case 36295:return gTe;case 36296:return vTe;case 35678:case 36198:case 36298:case 36306:case 35682:return yTe;case 35679:case 36299:case 36307:return _Te;case 35680:case 36300:case 36308:case 36293:return bTe;case 36289:case 36303:case 36311:case 36292:return wTe}}(t.type)}}class WTe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function UTe(n){switch(n){case 5126:return STe;case 35664:return xTe;case 35665:return CTe;case 35666:return ETe;case 35674:return TTe;case 35675:return RTe;case 35676:return DTe;case 5124:case 35670:return ATe;case 35667:case 35671:return OTe;case 35668:case 35672:return kTe;case 35669:case 35673:return LTe;case 5125:return PTe;case 36294:return ITe;case 36295:return NTe;case 36296:return FTe;case 35678:case 36198:case 36298:case 36306:case 35682:return HTe;case 35679:case 36299:case 36307:return BTe;case 35680:case 36300:case 36308:case 36293:return VTe;case 36289:case 36303:case 36311:case 36292:return zTe}}(t.type)}}class YTe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,t[a.id],r)}}}const QB=/(\w+)(\])?(\[|\.)?/g;function Bq(n,e){n.seq.push(e),n.map[e.id]=e}function GTe(n,e,t){const r=n.name,i=r.length;for(QB.lastIndex=0;;){const o=QB.exec(r),s=QB.lastIndex;let a=o[1];const c=o[3];if("]"===o[2]&&(a|=0),void 0===c||"["===c&&s+2===i){Bq(t,void 0===c?new jTe(a,n,e):new WTe(a,n,e));break}{let p=t.map[a];void 0===p&&(p=new YTe(a),Bq(t,p)),t=p}}}class kk{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const o=e.getActiveUniform(t,i);GTe(o,e.getUniformLocation(t,o.name),this)}}setValue(e,t,r,i){const o=this.map[t];void 0!==o&&o.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];void 0!==i&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let o=0,s=t.length;o!==s;++o){const a=t[o],u=r[a.id];!1!==u.needsUpdate&&a.setValue(e,u.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function Vq(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let $Te=0;function zq(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return t.toUpperCase()+"\n\n"+i+"\n\n"+function XTe(n,e){const t=n.split("\n"),r=[],i=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return r.join("\n")}(n.getShaderSource(e),s)}return i}function ZTe(n,e){const t=function KTe(n){switch(n){case fb:return["Linear","( value )"];case fa:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function qTe(n,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function OT(n){return""!==n}function Uq(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function jq(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const t1e=/^[ \t]*#include +<([\w\d./]+)>/gm;function eV(n){return n.replace(t1e,n1e)}function n1e(n,e){const t=wo[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return eV(t)}const r1e=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,i1e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Wq(n){return n.replace(i1e,Yq).replace(r1e,o1e)}function o1e(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Yq(0,e,t,r)}function Yq(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Gq(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function d1e(n,e,t,r){const i=n.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const u=function s1e(n){let e="SHADOWMAP_TYPE_BASIC";return 1===n.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function a1e(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),h=function l1e(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&302===n.envMapMode&&(e="ENVMAP_MODE_REFRACTION"),e}(t),p=function u1e(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),g=function c1e(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}(t),y=t.isWebGL2?"":function JTe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(OT).join("\n")}(t),w=function QTe(n){const e=[];for(const t in n){const r=n[t];!1!==r&&e.push("#define "+t+" "+r)}return e.join("\n")}(o),S=i.createProgram();let C,P,B=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(C=[w].filter(OT).join("\n"),C.length>0&&(C+="\n"),P=[y,w].filter(OT).join("\n"),P.length>0&&(P+="\n")):(C=[Gq(t),"#define SHADER_NAME "+t.shaderName,w,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(OT).join("\n"),P=[y,Gq(t),"#define SHADER_NAME "+t.shaderName,w,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+p:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?wo.tonemapping_pars_fragment:"",0!==t.toneMapping?qTe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",wo.encodings_pars_fragment,ZTe("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(OT).join("\n")),s=eV(s),s=Uq(s,t),s=jq(s,t),a=eV(a),a=Uq(a,t),a=jq(a,t),s=Wq(s),a=Wq(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(B="#version 300 es\n",C=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+C,P=["#define varying in","300 es"===t.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+P);const j=B+P+a,G=Vq(i,35633,B+C+s),re=Vq(i,35632,j);if(i.attachShader(S,G),i.attachShader(S,re),void 0!==t.index0AttributeName?i.bindAttribLocation(S,0,t.index0AttributeName):!0===t.morphTargets&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S),n.debug.checkShaderErrors){const he=i.getProgramInfoLog(S).trim(),we=i.getShaderInfoLog(G).trim(),Pe=i.getShaderInfoLog(re).trim();let ot=!0,at=!0;if(!1===i.getProgramParameter(S,35714)){ot=!1;const je=zq(i,G,"vertex"),_t=zq(i,re,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,35715)+"\n\nProgram Info Log: "+he+"\n"+je+"\n"+_t)}else""!==he?console.warn("THREE.WebGLProgram: Program Info Log:",he):(""===we||""===Pe)&&(at=!1);at&&(this.diagnostics={runnable:ot,programLog:he,vertexShader:{log:we,prefix:C},fragmentShader:{log:Pe,prefix:P}})}let pe,ne;return i.deleteShader(G),i.deleteShader(re),this.getUniforms=function(){return void 0===pe&&(pe=new kk(i,S)),pe},this.getAttributes=function(){return void 0===ne&&(ne=function e1e(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const o=n.getActiveAttrib(e,i),s=o.name;let a=1;35674===o.type&&(a=2),35675===o.type&&(a=3),35676===o.type&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}(i,S)),ne},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.name=t.shaderName,this.id=$Te++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=G,this.fragmentShader=re,this}let h1e=0;class f1e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,i=this._getShaderStage(e.vertexShader),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return!1===s.has(i)&&(s.add(i),i.usedTimes++),!1===s.has(o)&&(s.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const r=new p1e(e);t.set(e,r)}return t.get(e)}}class p1e{constructor(e){this.id=h1e++,this.code=e,this.usedTimes=0}}function m1e(n,e,t,r,i,o,s){const a=new IB,u=new f1e,c=[],h=i.isWebGL2,p=i.logarithmicDepthBuffer,g=i.vertexTextures;let y=i.precision;const w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function S(ne,he,we,Pe,ot){const at=Pe.fog,je=ot.geometry,ye=(ne.isMeshStandardMaterial?t:e).get(ne.envMap||(ne.isMeshStandardMaterial?Pe.environment:null)),Ae=ye&&306===ye.mapping?ye.image.height:null,Ge=w[ne.type];null!==ne.precision&&(y=i.getMaxPrecision(ne.precision),y!==ne.precision&&console.warn("THREE.WebGLProgram.getParameters:",ne.precision,"not supported, using",y,"instead."));const Je=je.morphAttributes.position||je.morphAttributes.normal||je.morphAttributes.color,bt=void 0!==Je?Je.length:0;let $,de,be,Ee,Z=0;if(void 0!==je.morphAttributes.position&&(Z=1),void 0!==je.morphAttributes.normal&&(Z=2),void 0!==je.morphAttributes.color&&(Z=3),Ge){const Lt=qf[Ge];$=Lt.vertexShader,de=Lt.fragmentShader}else $=ne.vertexShader,de=ne.fragmentShader,u.update(ne),be=u.getVertexShaderID(ne),Ee=u.getFragmentShaderID(ne);const We=n.getRenderTarget(),kt=ne.clearcoat>0,Dt=ne.iridescence>0;return{isWebGL2:h,shaderID:Ge,shaderName:ne.type,vertexShader:$,fragmentShader:de,defines:ne.defines,customVertexShaderID:be,customFragmentShaderID:Ee,isRawShaderMaterial:!0===ne.isRawShaderMaterial,glslVersion:ne.glslVersion,precision:y,instancing:!0===ot.isInstancedMesh,instancingColor:!0===ot.isInstancedMesh&&null!==ot.instanceColor,supportsVertexTextures:g,outputEncoding:null===We?n.outputEncoding:!0===We.isXRRenderTarget?We.texture.encoding:fb,map:!!ne.map,matcap:!!ne.matcap,envMap:!!ye,envMapMode:ye&&ye.mapping,envMapCubeUVHeight:Ae,lightMap:!!ne.lightMap,aoMap:!!ne.aoMap,emissiveMap:!!ne.emissiveMap,bumpMap:!!ne.bumpMap,normalMap:!!ne.normalMap,objectSpaceNormalMap:1===ne.normalMapType,tangentSpaceNormalMap:0===ne.normalMapType,decodeVideoTexture:!!ne.map&&!0===ne.map.isVideoTexture&&ne.map.encoding===fa,clearcoat:kt,clearcoatMap:kt&&!!ne.clearcoatMap,clearcoatRoughnessMap:kt&&!!ne.clearcoatRoughnessMap,clearcoatNormalMap:kt&&!!ne.clearcoatNormalMap,iridescence:Dt,iridescenceMap:Dt&&!!ne.iridescenceMap,iridescenceThicknessMap:Dt&&!!ne.iridescenceThicknessMap,displacementMap:!!ne.displacementMap,roughnessMap:!!ne.roughnessMap,metalnessMap:!!ne.metalnessMap,specularMap:!!ne.specularMap,specularIntensityMap:!!ne.specularIntensityMap,specularColorMap:!!ne.specularColorMap,opaque:!1===ne.transparent&&1===ne.blending,alphaMap:!!ne.alphaMap,alphaTest:ne.alphaTest>0,gradientMap:!!ne.gradientMap,sheen:ne.sheen>0,sheenColorMap:!!ne.sheenColorMap,sheenRoughnessMap:!!ne.sheenRoughnessMap,transmission:ne.transmission>0,transmissionMap:!!ne.transmissionMap,thicknessMap:!!ne.thicknessMap,combine:ne.combine,vertexTangents:!!ne.normalMap&&!!je.attributes.tangent,vertexColors:ne.vertexColors,vertexAlphas:!0===ne.vertexColors&&!!je.attributes.color&&4===je.attributes.color.itemSize,vertexUvs:!!(ne.map||ne.bumpMap||ne.normalMap||ne.specularMap||ne.alphaMap||ne.emissiveMap||ne.roughnessMap||ne.metalnessMap||ne.clearcoatMap||ne.clearcoatRoughnessMap||ne.clearcoatNormalMap||ne.iridescenceMap||ne.iridescenceThicknessMap||ne.displacementMap||ne.transmissionMap||ne.thicknessMap||ne.specularIntensityMap||ne.specularColorMap||ne.sheenColorMap||ne.sheenRoughnessMap),uvsVertexOnly:!(ne.map||ne.bumpMap||ne.normalMap||ne.specularMap||ne.alphaMap||ne.emissiveMap||ne.roughnessMap||ne.metalnessMap||ne.clearcoatNormalMap||ne.iridescenceMap||ne.iridescenceThicknessMap||ne.transmission>0||ne.transmissionMap||ne.thicknessMap||ne.specularIntensityMap||ne.specularColorMap||ne.sheen>0||ne.sheenColorMap||ne.sheenRoughnessMap||!ne.displacementMap),fog:!!at,useFog:!0===ne.fog,fogExp2:at&&at.isFogExp2,flatShading:!!ne.flatShading,sizeAttenuation:ne.sizeAttenuation,logarithmicDepthBuffer:p,skinning:!0===ot.isSkinnedMesh,morphTargets:void 0!==je.morphAttributes.position,morphNormals:void 0!==je.morphAttributes.normal,morphColors:void 0!==je.morphAttributes.color,morphTargetsCount:bt,morphTextureStride:Z,numDirLights:he.directional.length,numPointLights:he.point.length,numSpotLights:he.spot.length,numRectAreaLights:he.rectArea.length,numHemiLights:he.hemi.length,numDirLightShadows:he.directionalShadowMap.length,numPointLightShadows:he.pointShadowMap.length,numSpotLightShadows:he.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:ne.dithering,shadowMapEnabled:n.shadowMap.enabled&&we.length>0,shadowMapType:n.shadowMap.type,toneMapping:ne.toneMapped?n.toneMapping:0,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:ne.premultipliedAlpha,doubleSided:2===ne.side,flipSided:1===ne.side,useDepthPacking:!!ne.depthPacking,depthPacking:ne.depthPacking||0,index0AttributeName:ne.index0AttributeName,extensionDerivatives:ne.extensions&&ne.extensions.derivatives,extensionFragDepth:ne.extensions&&ne.extensions.fragDepth,extensionDrawBuffers:ne.extensions&&ne.extensions.drawBuffers,extensionShaderTextureLOD:ne.extensions&&ne.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:ne.customProgramCacheKey()}},getProgramCacheKey:function C(ne){const he=[];if(ne.shaderID?he.push(ne.shaderID):(he.push(ne.customVertexShaderID),he.push(ne.customFragmentShaderID)),void 0!==ne.defines)for(const we in ne.defines)he.push(we),he.push(ne.defines[we]);return!1===ne.isRawShaderMaterial&&(function P(ne,he){ne.push(he.precision),ne.push(he.outputEncoding),ne.push(he.envMapMode),ne.push(he.envMapCubeUVHeight),ne.push(he.combine),ne.push(he.vertexUvs),ne.push(he.fogExp2),ne.push(he.sizeAttenuation),ne.push(he.morphTargetsCount),ne.push(he.morphAttributeCount),ne.push(he.numDirLights),ne.push(he.numPointLights),ne.push(he.numSpotLights),ne.push(he.numHemiLights),ne.push(he.numRectAreaLights),ne.push(he.numDirLightShadows),ne.push(he.numPointLightShadows),ne.push(he.numSpotLightShadows),ne.push(he.shadowMapType),ne.push(he.toneMapping),ne.push(he.numClippingPlanes),ne.push(he.numClipIntersection),ne.push(he.depthPacking)}(he,ne),function B(ne,he){a.disableAll(),he.isWebGL2&&a.enable(0),he.supportsVertexTextures&&a.enable(1),he.instancing&&a.enable(2),he.instancingColor&&a.enable(3),he.map&&a.enable(4),he.matcap&&a.enable(5),he.envMap&&a.enable(6),he.lightMap&&a.enable(7),he.aoMap&&a.enable(8),he.emissiveMap&&a.enable(9),he.bumpMap&&a.enable(10),he.normalMap&&a.enable(11),he.objectSpaceNormalMap&&a.enable(12),he.tangentSpaceNormalMap&&a.enable(13),he.clearcoat&&a.enable(14),he.clearcoatMap&&a.enable(15),he.clearcoatRoughnessMap&&a.enable(16),he.clearcoatNormalMap&&a.enable(17),he.iridescence&&a.enable(18),he.iridescenceMap&&a.enable(19),he.iridescenceThicknessMap&&a.enable(20),he.displacementMap&&a.enable(21),he.specularMap&&a.enable(22),he.roughnessMap&&a.enable(23),he.metalnessMap&&a.enable(24),he.gradientMap&&a.enable(25),he.alphaMap&&a.enable(26),he.alphaTest&&a.enable(27),he.vertexColors&&a.enable(28),he.vertexAlphas&&a.enable(29),he.vertexUvs&&a.enable(30),he.vertexTangents&&a.enable(31),he.uvsVertexOnly&&a.enable(32),he.fog&&a.enable(33),ne.push(a.mask),a.disableAll(),he.useFog&&a.enable(0),he.flatShading&&a.enable(1),he.logarithmicDepthBuffer&&a.enable(2),he.skinning&&a.enable(3),he.morphTargets&&a.enable(4),he.morphNormals&&a.enable(5),he.morphColors&&a.enable(6),he.premultipliedAlpha&&a.enable(7),he.shadowMapEnabled&&a.enable(8),he.physicallyCorrectLights&&a.enable(9),he.doubleSided&&a.enable(10),he.flipSided&&a.enable(11),he.useDepthPacking&&a.enable(12),he.dithering&&a.enable(13),he.specularIntensityMap&&a.enable(14),he.specularColorMap&&a.enable(15),he.transmission&&a.enable(16),he.transmissionMap&&a.enable(17),he.thicknessMap&&a.enable(18),he.sheen&&a.enable(19),he.sheenColorMap&&a.enable(20),he.sheenRoughnessMap&&a.enable(21),he.decodeVideoTexture&&a.enable(22),he.opaque&&a.enable(23),ne.push(a.mask)}(he,ne),he.push(n.outputEncoding)),he.push(ne.customProgramCacheKey),he.join()},getUniforms:function z(ne){const he=w[ne.type];let we;return we=he?Ixe.clone(qf[he].uniforms):ne.uniforms,we},acquireProgram:function j(ne,he){let we;for(let Pe=0,ot=c.length;Pe<ot;Pe++){const at=c[Pe];if(at.cacheKey===he){we=at,++we.usedTimes;break}}return void 0===we&&(we=new d1e(n,he,ne,o),c.push(we)),we},releaseProgram:function G(ne){if(0==--ne.usedTimes){const he=c.indexOf(ne);c[he]=c[c.length-1],c.pop(),ne.destroy()}},releaseShaderCache:function re(ne){u.remove(ne)},programs:c,dispose:function pe(){u.dispose()}}}function g1e(){let n=new WeakMap;return{get:function e(o){let s=n.get(o);return void 0===s&&(s={},n.set(o,s)),s},remove:function t(o){n.delete(o)},update:function r(o,s,a){n.get(o)[s]=a},dispose:function i(){n=new WeakMap}}}function v1e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function $q(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Xq(){const n=[];let e=0;const t=[],r=[],i=[];function s(p,g,y,w,S,C){let P=n[e];return void 0===P?(P={id:p.id,object:p,geometry:g,material:y,groupOrder:w,renderOrder:p.renderOrder,z:S,group:C},n[e]=P):(P.id=p.id,P.object=p,P.geometry=g,P.material=y,P.groupOrder=w,P.renderOrder=p.renderOrder,P.z=S,P.group=C),e++,P}return{opaque:t,transmissive:r,transparent:i,init:function o(){e=0,t.length=0,r.length=0,i.length=0},push:function a(p,g,y,w,S,C){const P=s(p,g,y,w,S,C);y.transmission>0?r.push(P):!0===y.transparent?i.push(P):t.push(P)},unshift:function u(p,g,y,w,S,C){const P=s(p,g,y,w,S,C);y.transmission>0?r.unshift(P):!0===y.transparent?i.unshift(P):t.unshift(P)},finish:function h(){for(let p=e,g=n.length;p<g;p++){const y=n[p];if(null===y.id)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}},sort:function c(p,g){t.length>1&&t.sort(p||v1e),r.length>1&&r.sort(g||$q),i.length>1&&i.sort(g||$q)}}}function y1e(){let n=new WeakMap;return{get:function e(r,i){let o;return!1===n.has(r)?(o=new Xq,n.set(r,[o])):i>=n.get(r).length?(o=new Xq,n.get(r).push(o)):o=n.get(r)[i],o},dispose:function t(){n=new WeakMap}}}function _1e(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Be,color:new Rr};break;case"SpotLight":t={position:new Be,direction:new Be,color:new Rr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Be,color:new Rr,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Be,skyColor:new Rr,groundColor:new Rr};break;case"RectAreaLight":t={color:new Rr,position:new Be,halfWidth:new Be,halfHeight:new Be}}return n[e.id]=t,t}}}let w1e=0;function M1e(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function S1e(n,e){const t=new _1e,r=function b1e(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Cn};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Cn,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let h=0;h<9;h++)i.probe.push(new Be);const o=new Be,s=new so,a=new so;return{setup:function u(h,p){let g=0,y=0,w=0;for(let he=0;he<9;he++)i.probe[he].set(0,0,0);let S=0,C=0,P=0,B=0,z=0,j=0,G=0,re=0;h.sort(M1e);const pe=!0!==p?Math.PI:1;for(let he=0,we=h.length;he<we;he++){const Pe=h[he],ot=Pe.color,at=Pe.intensity,je=Pe.distance,_t=Pe.shadow&&Pe.shadow.map?Pe.shadow.map.texture:null;if(Pe.isAmbientLight)g+=ot.r*at*pe,y+=ot.g*at*pe,w+=ot.b*at*pe;else if(Pe.isLightProbe)for(let ye=0;ye<9;ye++)i.probe[ye].addScaledVector(Pe.sh.coefficients[ye],at);else if(Pe.isDirectionalLight){const ye=t.get(Pe);if(ye.color.copy(Pe.color).multiplyScalar(Pe.intensity*pe),Pe.castShadow){const Ae=Pe.shadow,Ge=r.get(Pe);Ge.shadowBias=Ae.bias,Ge.shadowNormalBias=Ae.normalBias,Ge.shadowRadius=Ae.radius,Ge.shadowMapSize=Ae.mapSize,i.directionalShadow[S]=Ge,i.directionalShadowMap[S]=_t,i.directionalShadowMatrix[S]=Pe.shadow.matrix,j++}i.directional[S]=ye,S++}else if(Pe.isSpotLight){const ye=t.get(Pe);if(ye.position.setFromMatrixPosition(Pe.matrixWorld),ye.color.copy(ot).multiplyScalar(at*pe),ye.distance=je,ye.coneCos=Math.cos(Pe.angle),ye.penumbraCos=Math.cos(Pe.angle*(1-Pe.penumbra)),ye.decay=Pe.decay,Pe.castShadow){const Ae=Pe.shadow,Ge=r.get(Pe);Ge.shadowBias=Ae.bias,Ge.shadowNormalBias=Ae.normalBias,Ge.shadowRadius=Ae.radius,Ge.shadowMapSize=Ae.mapSize,i.spotShadow[P]=Ge,i.spotShadowMap[P]=_t,i.spotShadowMatrix[P]=Pe.shadow.matrix,re++}i.spot[P]=ye,P++}else if(Pe.isRectAreaLight){const ye=t.get(Pe);ye.color.copy(ot).multiplyScalar(at),ye.halfWidth.set(.5*Pe.width,0,0),ye.halfHeight.set(0,.5*Pe.height,0),i.rectArea[B]=ye,B++}else if(Pe.isPointLight){const ye=t.get(Pe);if(ye.color.copy(Pe.color).multiplyScalar(Pe.intensity*pe),ye.distance=Pe.distance,ye.decay=Pe.decay,Pe.castShadow){const Ae=Pe.shadow,Ge=r.get(Pe);Ge.shadowBias=Ae.bias,Ge.shadowNormalBias=Ae.normalBias,Ge.shadowRadius=Ae.radius,Ge.shadowMapSize=Ae.mapSize,Ge.shadowCameraNear=Ae.camera.near,Ge.shadowCameraFar=Ae.camera.far,i.pointShadow[C]=Ge,i.pointShadowMap[C]=_t,i.pointShadowMatrix[C]=Pe.shadow.matrix,G++}i.point[C]=ye,C++}else if(Pe.isHemisphereLight){const ye=t.get(Pe);ye.skyColor.copy(Pe.color).multiplyScalar(at*pe),ye.groundColor.copy(Pe.groundColor).multiplyScalar(at*pe),i.hemi[z]=ye,z++}}B>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(i.rectAreaLTC1=ar.LTC_FLOAT_1,i.rectAreaLTC2=ar.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=ar.LTC_HALF_1,i.rectAreaLTC2=ar.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=g,i.ambient[1]=y,i.ambient[2]=w;const ne=i.hash;(ne.directionalLength!==S||ne.pointLength!==C||ne.spotLength!==P||ne.rectAreaLength!==B||ne.hemiLength!==z||ne.numDirectionalShadows!==j||ne.numPointShadows!==G||ne.numSpotShadows!==re)&&(i.directional.length=S,i.spot.length=P,i.rectArea.length=B,i.point.length=C,i.hemi.length=z,i.directionalShadow.length=j,i.directionalShadowMap.length=j,i.pointShadow.length=G,i.pointShadowMap.length=G,i.spotShadow.length=re,i.spotShadowMap.length=re,i.directionalShadowMatrix.length=j,i.pointShadowMatrix.length=G,i.spotShadowMatrix.length=re,ne.directionalLength=S,ne.pointLength=C,ne.spotLength=P,ne.rectAreaLength=B,ne.hemiLength=z,ne.numDirectionalShadows=j,ne.numPointShadows=G,ne.numSpotShadows=re,i.version=w1e++)},setupView:function c(h,p){let g=0,y=0,w=0,S=0,C=0;const P=p.matrixWorldInverse;for(let B=0,z=h.length;B<z;B++){const j=h[B];if(j.isDirectionalLight){const G=i.directional[g];G.direction.setFromMatrixPosition(j.matrixWorld),o.setFromMatrixPosition(j.target.matrixWorld),G.direction.sub(o),G.direction.transformDirection(P),g++}else if(j.isSpotLight){const G=i.spot[w];G.position.setFromMatrixPosition(j.matrixWorld),G.position.applyMatrix4(P),G.direction.setFromMatrixPosition(j.matrixWorld),o.setFromMatrixPosition(j.target.matrixWorld),G.direction.sub(o),G.direction.transformDirection(P),w++}else if(j.isRectAreaLight){const G=i.rectArea[S];G.position.setFromMatrixPosition(j.matrixWorld),G.position.applyMatrix4(P),a.identity(),s.copy(j.matrixWorld),s.premultiply(P),a.extractRotation(s),G.halfWidth.set(.5*j.width,0,0),G.halfHeight.set(0,.5*j.height,0),G.halfWidth.applyMatrix4(a),G.halfHeight.applyMatrix4(a),S++}else if(j.isPointLight){const G=i.point[y];G.position.setFromMatrixPosition(j.matrixWorld),G.position.applyMatrix4(P),y++}else if(j.isHemisphereLight){const G=i.hemi[C];G.direction.setFromMatrixPosition(j.matrixWorld),G.direction.transformDirection(P),C++}}},state:i}}function Kq(n,e){const t=new S1e(n,e),r=[],i=[];return{init:function o(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:function u(p){t.setup(r,p)},setupLightsView:function c(p){t.setupView(r,p)},pushLight:function s(p){r.push(p)},pushShadow:function a(p){i.push(p)}}}function x1e(n,e){let t=new WeakMap;return{get:function r(o,s=0){let a;return!1===t.has(o)?(a=new Kq(n,e),t.set(o,[a])):s>=t.get(o).length?(a=new Kq(n,e),t.get(o).push(a)):a=t.get(o)[s],a},dispose:function i(){t=new WeakMap}}}class Zq extends vS{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class qq extends vS{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Be,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function T1e(n,e,t){let r=new XB;const i=new Cn,o=new Cn,s=new us,a=new Zq({depthPacking:3201}),u=new qq,c={},h=t.maxTextureSize,p={0:1,1:0,2:2},g=new $v({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Cn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),y=g.clone();y.defines.HORIZONTAL_PASS=1;const w=new go;w.setAttribute("position",new Tl(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new xc(w,g),C=this;function P(j,G){const re=e.update(S);g.defines.VSM_SAMPLES!==j.blurSamples&&(g.defines.VSM_SAMPLES=j.blurSamples,y.defines.VSM_SAMPLES=j.blurSamples,g.needsUpdate=!0,y.needsUpdate=!0),null===j.mapPass&&(j.mapPass=new vb(i.x,i.y)),g.uniforms.shadow_pass.value=j.map.texture,g.uniforms.resolution.value=j.mapSize,g.uniforms.radius.value=j.radius,n.setRenderTarget(j.mapPass),n.clear(),n.renderBufferDirect(G,null,re,g,S,null),y.uniforms.shadow_pass.value=j.mapPass.texture,y.uniforms.resolution.value=j.mapSize,y.uniforms.radius.value=j.radius,n.setRenderTarget(j.map),n.clear(),n.renderBufferDirect(G,null,re,y,S,null)}function B(j,G,re,pe,ne,he){let we=null;const Pe=!0===re.isPointLight?j.customDistanceMaterial:j.customDepthMaterial;if(we=void 0!==Pe?Pe:!0===re.isPointLight?u:a,n.localClippingEnabled&&!0===G.clipShadows&&Array.isArray(G.clippingPlanes)&&0!==G.clippingPlanes.length||G.displacementMap&&0!==G.displacementScale||G.alphaMap&&G.alphaTest>0){const ot=we.uuid,at=G.uuid;let je=c[ot];void 0===je&&(je={},c[ot]=je);let _t=je[at];void 0===_t&&(_t=we.clone(),je[at]=_t),we=_t}return we.visible=G.visible,we.wireframe=G.wireframe,we.side=3===he?null!==G.shadowSide?G.shadowSide:G.side:null!==G.shadowSide?G.shadowSide:p[G.side],we.alphaMap=G.alphaMap,we.alphaTest=G.alphaTest,we.clipShadows=G.clipShadows,we.clippingPlanes=G.clippingPlanes,we.clipIntersection=G.clipIntersection,we.displacementMap=G.displacementMap,we.displacementScale=G.displacementScale,we.displacementBias=G.displacementBias,we.wireframeLinewidth=G.wireframeLinewidth,we.linewidth=G.linewidth,!0===re.isPointLight&&!0===we.isMeshDistanceMaterial&&(we.referencePosition.setFromMatrixPosition(re.matrixWorld),we.nearDistance=pe,we.farDistance=ne),we}function z(j,G,re,pe,ne){if(!1===j.visible)return;if(j.layers.test(G.layers)&&(j.isMesh||j.isLine||j.isPoints)&&(j.castShadow||j.receiveShadow&&3===ne)&&(!j.frustumCulled||r.intersectsObject(j))){j.modelViewMatrix.multiplyMatrices(re.matrixWorldInverse,j.matrixWorld);const Pe=e.update(j),ot=j.material;if(Array.isArray(ot)){const at=Pe.groups;for(let je=0,_t=at.length;je<_t;je++){const ye=at[je],Ae=ot[ye.materialIndex];if(Ae&&Ae.visible){const Ge=B(j,Ae,pe,re.near,re.far,ne);n.renderBufferDirect(re,null,Pe,Ge,j,ye)}}}else if(ot.visible){const at=B(j,ot,pe,re.near,re.far,ne);n.renderBufferDirect(re,null,Pe,at,j,null)}}const we=j.children;for(let Pe=0,ot=we.length;Pe<ot;Pe++)z(we[Pe],G,re,pe,ne)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(j,G,re){if(!1===C.enabled||!1===C.autoUpdate&&!1===C.needsUpdate||0===j.length)return;const pe=n.getRenderTarget(),ne=n.getActiveCubeFace(),he=n.getActiveMipmapLevel(),we=n.state;we.setBlending(0),we.buffers.color.setClear(1,1,1,1),we.buffers.depth.setTest(!0),we.setScissorTest(!1);for(let Pe=0,ot=j.length;Pe<ot;Pe++){const at=j[Pe],je=at.shadow;if(void 0===je){console.warn("THREE.WebGLShadowMap:",at,"has no shadow.");continue}if(!1===je.autoUpdate&&!1===je.needsUpdate)continue;i.copy(je.mapSize);const _t=je.getFrameExtents();i.multiply(_t),o.copy(je.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(o.x=Math.floor(h/_t.x),i.x=o.x*_t.x,je.mapSize.x=o.x),i.y>h&&(o.y=Math.floor(h/_t.y),i.y=o.y*_t.y,je.mapSize.y=o.y)),null===je.map&&(je.map=new vb(i.x,i.y,3!==this.type?{minFilter:cl,magFilter:cl}:{}),je.map.texture.name=at.name+".shadowMap",je.camera.updateProjectionMatrix()),n.setRenderTarget(je.map),n.clear();const ye=je.getViewportCount();for(let Ae=0;Ae<ye;Ae++){const Ge=je.getViewport(Ae);s.set(o.x*Ge.x,o.y*Ge.y,o.x*Ge.z,o.y*Ge.w),we.viewport(s),je.updateMatrices(at,Ae),r=je.getFrustum(),z(G,re,je.camera,at,this.type)}!0!==je.isPointLightShadow&&3===this.type&&P(je,re),je.needsUpdate=!1}C.needsUpdate=!1,n.setRenderTarget(pe,ne,he)}}function R1e(n,e,t){const r=t.isWebGL2,a=new function i(){let ft=!1;const jn=new us;let zn=null;const Yr=new us(0,0,0,0);return{setMask:function(sr){zn!==sr&&!ft&&(n.colorMask(sr,sr,sr,sr),zn=sr)},setLocked:function(sr){ft=sr},setClear:function(sr,Kr,Tn,ur,Gr){!0===Gr&&(sr*=ur,Kr*=ur,Tn*=ur),jn.set(sr,Kr,Tn,ur),!1===Yr.equals(jn)&&(n.clearColor(sr,Kr,Tn,ur),Yr.copy(jn))},reset:function(){ft=!1,zn=null,Yr.set(-1,0,0,0)}}},u=new function o(){let ft=!1,jn=null,zn=null,Yr=null;return{setTest:function(sr){sr?Ee(2929):We(2929)},setMask:function(sr){jn!==sr&&!ft&&(n.depthMask(sr),jn=sr)},setFunc:function(sr){if(zn!==sr){if(sr)switch(sr){case 0:n.depthFunc(512);break;case 1:n.depthFunc(519);break;case 2:n.depthFunc(513);break;case 3:default:n.depthFunc(515);break;case 4:n.depthFunc(514);break;case 5:n.depthFunc(518);break;case 6:n.depthFunc(516);break;case 7:n.depthFunc(517)}else n.depthFunc(515);zn=sr}},setLocked:function(sr){ft=sr},setClear:function(sr){Yr!==sr&&(n.clearDepth(sr),Yr=sr)},reset:function(){ft=!1,jn=null,zn=null,Yr=null}}},c=new function s(){let ft=!1,jn=null,zn=null,Yr=null,sr=null,Kr=null,Tn=null,ur=null,Gr=null;return{setTest:function(Lr){ft||(Lr?Ee(2960):We(2960))},setMask:function(Lr){jn!==Lr&&!ft&&(n.stencilMask(Lr),jn=Lr)},setFunc:function(Lr,li,di){(zn!==Lr||Yr!==li||sr!==di)&&(n.stencilFunc(Lr,li,di),zn=Lr,Yr=li,sr=di)},setOp:function(Lr,li,di){(Kr!==Lr||Tn!==li||ur!==di)&&(n.stencilOp(Lr,li,di),Kr=Lr,Tn=li,ur=di)},setLocked:function(Lr){ft=Lr},setClear:function(Lr){Gr!==Lr&&(n.clearStencil(Lr),Gr=Lr)},reset:function(){ft=!1,jn=null,zn=null,Yr=null,sr=null,Kr=null,Tn=null,ur=null,Gr=null}}};let h={},p={},g=new WeakMap,y=[],w=null,S=!1,C=null,P=null,B=null,z=null,j=null,G=null,re=null,pe=!1,ne=null,he=null,we=null,Pe=null,ot=null;const at=n.getParameter(35661);let je=!1,_t=0;const ye=n.getParameter(7938);-1!==ye.indexOf("WebGL")?(_t=parseFloat(/^WebGL (\d)/.exec(ye)[1]),je=_t>=1):-1!==ye.indexOf("OpenGL ES")&&(_t=parseFloat(/^OpenGL ES (\d)/.exec(ye)[1]),je=_t>=2);let Ae=null,Ge={};const Je=n.getParameter(3088),bt=n.getParameter(2978),Z=(new us).fromArray(Je),$=(new us).fromArray(bt);function de(ft,jn,zn){const Yr=new Uint8Array(4),sr=n.createTexture();n.bindTexture(ft,sr),n.texParameteri(ft,10241,9728),n.texParameteri(ft,10240,9728);for(let Kr=0;Kr<zn;Kr++)n.texImage2D(jn+Kr,0,6408,1,1,0,6408,5121,Yr);return sr}const be={};function Ee(ft){!0!==h[ft]&&(n.enable(ft),h[ft]=!0)}function We(ft){!1!==h[ft]&&(n.disable(ft),h[ft]=!1)}be[3553]=de(3553,3553,1),be[34067]=de(34067,34069,6),a.setClear(0,0,0,1),u.setClear(1),c.setClear(0),Ee(2929),u.setFunc(3),It(!1),gn(1),Ee(2884),pt(0);const ut={100:32774,101:32778,102:32779};if(r)ut[103]=32775,ut[104]=32776;else{const ft=e.get("EXT_blend_minmax");null!==ft&&(ut[103]=ft.MIN_EXT,ut[104]=ft.MAX_EXT)}const Lt={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function pt(ft,jn,zn,Yr,sr,Kr,Tn,ur){if(0!==ft){if(!1===S&&(Ee(3042),S=!0),5===ft)sr=sr||jn,Kr=Kr||zn,Tn=Tn||Yr,(jn!==P||sr!==j)&&(n.blendEquationSeparate(ut[jn],ut[sr]),P=jn,j=sr),(zn!==B||Yr!==z||Kr!==G||Tn!==re)&&(n.blendFuncSeparate(Lt[zn],Lt[Yr],Lt[Kr],Lt[Tn]),B=zn,z=Yr,G=Kr,re=Tn),C=ft,pe=null;else if(ft!==C||ur!==pe){if((100!==P||100!==j)&&(n.blendEquation(32774),P=100,j=100),ur)switch(ft){case 1:n.blendFuncSeparate(1,771,1,771);break;case 2:n.blendFunc(1,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ft)}else switch(ft){case 1:n.blendFuncSeparate(770,771,1,771);break;case 2:n.blendFunc(770,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ft)}B=null,z=null,G=null,re=null,C=ft,pe=ur}}else!0===S&&(We(3042),S=!1)}function It(ft){ne!==ft&&(n.frontFace(ft?2304:2305),ne=ft)}function gn(ft){0!==ft?(Ee(2884),ft!==he&&n.cullFace(1===ft?1029:2===ft?1028:1032)):We(2884),he=ft}function Xn(ft,jn,zn){ft?(Ee(32823),(Pe!==jn||ot!==zn)&&(n.polygonOffset(jn,zn),Pe=jn,ot=zn)):We(32823)}function un(ft){void 0===ft&&(ft=33984+at-1),Ae!==ft&&(n.activeTexture(ft),Ae=ft)}return{buffers:{color:a,depth:u,stencil:c},enable:Ee,disable:We,bindFramebuffer:function Mt(ft,jn){return p[ft]!==jn&&(n.bindFramebuffer(ft,jn),p[ft]=jn,r&&(36009===ft&&(p[36160]=jn),36160===ft&&(p[36009]=jn)),!0)},drawBuffers:function kt(ft,jn){let zn=y,Yr=!1;if(ft)if(zn=g.get(jn),void 0===zn&&(zn=[],g.set(jn,zn)),ft.isWebGLMultipleRenderTargets){const sr=ft.texture;if(zn.length!==sr.length||36064!==zn[0]){for(let Kr=0,Tn=sr.length;Kr<Tn;Kr++)zn[Kr]=36064+Kr;zn.length=sr.length,Yr=!0}}else 36064!==zn[0]&&(zn[0]=36064,Yr=!0);else 1029!==zn[0]&&(zn[0]=1029,Yr=!0);Yr&&(t.isWebGL2?n.drawBuffers(zn):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(zn))},useProgram:function Dt(ft){return w!==ft&&(n.useProgram(ft),w=ft,!0)},setBlending:pt,setMaterial:function Ot(ft,jn){2===ft.side?We(2884):Ee(2884);let zn=1===ft.side;jn&&(zn=!zn),It(zn),1===ft.blending&&!1===ft.transparent?pt(0):pt(ft.blending,ft.blendEquation,ft.blendSrc,ft.blendDst,ft.blendEquationAlpha,ft.blendSrcAlpha,ft.blendDstAlpha,ft.premultipliedAlpha),u.setFunc(ft.depthFunc),u.setTest(ft.depthTest),u.setMask(ft.depthWrite),a.setMask(ft.colorWrite);const Yr=ft.stencilWrite;c.setTest(Yr),Yr&&(c.setMask(ft.stencilWriteMask),c.setFunc(ft.stencilFunc,ft.stencilRef,ft.stencilFuncMask),c.setOp(ft.stencilFail,ft.stencilZFail,ft.stencilZPass)),Xn(ft.polygonOffset,ft.polygonOffsetFactor,ft.polygonOffsetUnits),!0===ft.alphaToCoverage?Ee(32926):We(32926)},setFlipSided:It,setCullFace:gn,setLineWidth:function dn(ft){ft!==we&&(je&&n.lineWidth(ft),we=ft)},setPolygonOffset:Xn,setScissorTest:function Hn(ft){ft?Ee(3089):We(3089)},activeTexture:un,bindTexture:function xn(ft,jn){null===Ae&&un();let zn=Ge[Ae];void 0===zn&&(zn={type:void 0,texture:void 0},Ge[Ae]=zn),(zn.type!==ft||zn.texture!==jn)&&(n.bindTexture(ft,jn||be[ft]),zn.type=ft,zn.texture=jn)},unbindTexture:function Pn(){const ft=Ge[Ae];void 0!==ft&&void 0!==ft.type&&(n.bindTexture(ft.type,null),ft.type=void 0,ft.texture=void 0)},compressedTexImage2D:function Le(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ft){console.error("THREE.WebGLState:",ft)}},texImage2D:function Er(){try{n.texImage2D.apply(n,arguments)}catch(ft){console.error("THREE.WebGLState:",ft)}},texImage3D:function $t(){try{n.texImage3D.apply(n,arguments)}catch(ft){console.error("THREE.WebGLState:",ft)}},texStorage2D:function pn(){try{n.texStorage2D.apply(n,arguments)}catch(ft){console.error("THREE.WebGLState:",ft)}},texStorage3D:function Nn(){try{n.texStorage3D.apply(n,arguments)}catch(ft){console.error("THREE.WebGLState:",ft)}},texSubImage2D:function Se(){try{n.texSubImage2D.apply(n,arguments)}catch(ft){console.error("THREE.WebGLState:",ft)}},texSubImage3D:function Bt(){try{n.texSubImage3D.apply(n,arguments)}catch(ft){console.error("THREE.WebGLState:",ft)}},compressedTexSubImage2D:function on(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ft){console.error("THREE.WebGLState:",ft)}},scissor:function vr(ft){!1===Z.equals(ft)&&(n.scissor(ft.x,ft.y,ft.z,ft.w),Z.copy(ft))},viewport:function or(ft){!1===$.equals(ft)&&(n.viewport(ft.x,ft.y,ft.z,ft.w),$.copy(ft))},reset:function er(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),!0===r&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},Ae=null,Ge={},p={},g=new WeakMap,y=[],w=null,S=!1,C=null,P=null,B=null,z=null,j=null,G=null,re=null,pe=!1,ne=null,he=null,we=null,Pe=null,ot=null,Z.set(0,0,n.canvas.width,n.canvas.height),$.set(0,0,n.canvas.width,n.canvas.height),a.reset(),u.reset(),c.reset()}}}function D1e(n,e,t,r,i,o,s){const a=i.isWebGL2,u=i.maxTextures,c=i.maxCubemapSize,h=i.maxTextureSize,p=i.maxSamples,g=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,y=/OculusBrowser/g.test(navigator.userAgent),w=new WeakMap;let S;const C=new WeakMap;let P=!1;try{P="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Le){}function B(Le,Se){return P?new OffscreenCanvas(Le,Se):ET("canvas")}function z(Le,Se,Bt,on){let pn=1;if((Le.width>on||Le.height>on)&&(pn=on/Math.max(Le.width,Le.height)),pn<1||!0===Se){if("undefined"!=typeof HTMLImageElement&&Le instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&Le instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&Le instanceof ImageBitmap){const Nn=Se?sk:Math.floor,Er=Nn(pn*Le.width),$t=Nn(pn*Le.height);void 0===S&&(S=B(Er,$t));const vr=Bt?B(Er,$t):S;return vr.width=Er,vr.height=$t,vr.getContext("2d").drawImage(Le,0,0,Er,$t),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Le.width+"x"+Le.height+") to ("+Er+"x"+$t+")."),vr}return"data"in Le&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Le.width+"x"+Le.height+")."),Le}return Le}function j(Le){return SB(Le.width)&&SB(Le.height)}function re(Le,Se){return Le.generateMipmaps&&Se&&Le.minFilter!==cl&&Le.minFilter!==Ua}function pe(Le){n.generateMipmap(Le)}function ne(Le,Se,Bt,on,pn=!1){if(!1===a)return Se;if(null!==Le){if(void 0!==n[Le])return n[Le];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Le+"'")}let Nn=Se;return 6403===Se&&(5126===Bt&&(Nn=33326),5131===Bt&&(Nn=33325),5121===Bt&&(Nn=33321)),33319===Se&&(5126===Bt&&(Nn=33328),5131===Bt&&(Nn=33327),5121===Bt&&(Nn=33323)),6408===Se&&(5126===Bt&&(Nn=34836),5131===Bt&&(Nn=34842),5121===Bt&&(Nn=on===fa&&!1===pn?35907:32856),32819===Bt&&(Nn=32854),32820===Bt&&(Nn=32855)),(33325===Nn||33326===Nn||33327===Nn||33328===Nn||34842===Nn||34836===Nn)&&e.get("EXT_color_buffer_float"),Nn}function he(Le,Se,Bt){return!0===re(Le,Bt)||Le.isFramebufferTexture&&Le.minFilter!==cl&&Le.minFilter!==Ua?Math.log2(Math.max(Se.width,Se.height))+1:void 0!==Le.mipmaps&&Le.mipmaps.length>0?Le.mipmaps.length:Le.isCompressedTexture&&Array.isArray(Le.image)?Se.mipmaps.length:1}function we(Le){return Le===cl||1004===Le||1005===Le?9728:9729}function Pe(Le){const Se=Le.target;Se.removeEventListener("dispose",Pe),function at(Le){const Se=r.get(Le);if(void 0===Se.__webglInit)return;const Bt=Le.source,on=C.get(Bt);if(on){const pn=on[Se.__cacheKey];pn.usedTimes--,0===pn.usedTimes&&je(Le),0===Object.keys(on).length&&C.delete(Bt)}r.remove(Le)}(Se),Se.isVideoTexture&&w.delete(Se)}function ot(Le){const Se=Le.target;Se.removeEventListener("dispose",ot),function _t(Le){const Se=Le.texture,Bt=r.get(Le),on=r.get(Se);if(void 0!==on.__webglTexture&&(n.deleteTexture(on.__webglTexture),s.memory.textures--),Le.depthTexture&&Le.depthTexture.dispose(),Le.isWebGLCubeRenderTarget)for(let pn=0;pn<6;pn++)n.deleteFramebuffer(Bt.__webglFramebuffer[pn]),Bt.__webglDepthbuffer&&n.deleteRenderbuffer(Bt.__webglDepthbuffer[pn]);else{if(n.deleteFramebuffer(Bt.__webglFramebuffer),Bt.__webglDepthbuffer&&n.deleteRenderbuffer(Bt.__webglDepthbuffer),Bt.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Bt.__webglMultisampledFramebuffer),Bt.__webglColorRenderbuffer)for(let pn=0;pn<Bt.__webglColorRenderbuffer.length;pn++)Bt.__webglColorRenderbuffer[pn]&&n.deleteRenderbuffer(Bt.__webglColorRenderbuffer[pn]);Bt.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Bt.__webglDepthRenderbuffer)}if(Le.isWebGLMultipleRenderTargets)for(let pn=0,Nn=Se.length;pn<Nn;pn++){const Er=r.get(Se[pn]);Er.__webglTexture&&(n.deleteTexture(Er.__webglTexture),s.memory.textures--),r.remove(Se[pn])}r.remove(Se),r.remove(Le)}(Se)}function je(Le){const Se=r.get(Le);n.deleteTexture(Se.__webglTexture),delete C.get(Le.source)[Se.__cacheKey],s.memory.textures--}let ye=0;function bt(Le,Se){const Bt=r.get(Le);if(Le.isVideoTexture&&function xn(Le){const Se=s.render.frame;w.get(Le)!==Se&&(w.set(Le,Se),Le.update())}(Le),!1===Le.isRenderTargetTexture&&Le.version>0&&Bt.__version!==Le.version){const on=Le.image;if(null===on)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==on.complete)return void kt(Bt,Le,Se);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.activeTexture(33984+Se),t.bindTexture(3553,Bt.__webglTexture)}const be={1e3:10497,[Mc]:33071,1002:33648},Ee={[cl]:9728,1004:9984,1005:9986,[Ua]:9729,1007:9985,1008:9987};function We(Le,Se,Bt){if(Bt?(n.texParameteri(Le,10242,be[Se.wrapS]),n.texParameteri(Le,10243,be[Se.wrapT]),(32879===Le||35866===Le)&&n.texParameteri(Le,32882,be[Se.wrapR]),n.texParameteri(Le,10240,Ee[Se.magFilter]),n.texParameteri(Le,10241,Ee[Se.minFilter])):(n.texParameteri(Le,10242,33071),n.texParameteri(Le,10243,33071),(32879===Le||35866===Le)&&n.texParameteri(Le,32882,33071),(Se.wrapS!==Mc||Se.wrapT!==Mc)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Le,10240,we(Se.magFilter)),n.texParameteri(Le,10241,we(Se.minFilter)),Se.minFilter!==cl&&Se.minFilter!==Ua&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const on=e.get("EXT_texture_filter_anisotropic");if(Se.type===Fv&&!1===e.has("OES_texture_float_linear")||!1===a&&Se.type===ST&&!1===e.has("OES_texture_half_float_linear"))return;(Se.anisotropy>1||r.get(Se).__currentAnisotropy)&&(n.texParameterf(Le,on.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Se.anisotropy,i.getMaxAnisotropy())),r.get(Se).__currentAnisotropy=Se.anisotropy)}}function Mt(Le,Se){let Bt=!1;void 0===Le.__webglInit&&(Le.__webglInit=!0,Se.addEventListener("dispose",Pe));const on=Se.source;let pn=C.get(on);void 0===pn&&(pn={},C.set(on,pn));const Nn=function Je(Le){const Se=[];return Se.push(Le.wrapS),Se.push(Le.wrapT),Se.push(Le.magFilter),Se.push(Le.minFilter),Se.push(Le.anisotropy),Se.push(Le.internalFormat),Se.push(Le.format),Se.push(Le.type),Se.push(Le.generateMipmaps),Se.push(Le.premultiplyAlpha),Se.push(Le.flipY),Se.push(Le.unpackAlignment),Se.push(Le.encoding),Se.join()}(Se);if(Nn!==Le.__cacheKey){void 0===pn[Nn]&&(pn[Nn]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Bt=!0),pn[Nn].usedTimes++;const Er=pn[Le.__cacheKey];void 0!==Er&&(pn[Le.__cacheKey].usedTimes--,0===Er.usedTimes&&je(Se)),Le.__cacheKey=Nn,Le.__webglTexture=pn[Nn].texture}return Bt}function kt(Le,Se,Bt){let on=3553;Se.isDataArrayTexture&&(on=35866),Se.isData3DTexture&&(on=32879);const pn=Mt(Le,Se),Nn=Se.source;if(t.activeTexture(33984+Bt),t.bindTexture(on,Le.__webglTexture),Nn.version!==Nn.__currentVersion||!0===pn){n.pixelStorei(37440,Se.flipY),n.pixelStorei(37441,Se.premultiplyAlpha),n.pixelStorei(3317,Se.unpackAlignment),n.pixelStorei(37443,0);const Er=function G(Le){return!a&&(Le.wrapS!==Mc||Le.wrapT!==Mc||Le.minFilter!==cl&&Le.minFilter!==Ua)}(Se)&&!1===j(Se.image);let $t=z(Se.image,Er,!1,h);$t=Pn(Se,$t);const vr=j($t)||a,or=o.convert(Se.format,Se.encoding);let jn,er=o.convert(Se.type),ft=ne(Se.internalFormat,or,er,Se.encoding,Se.isVideoTexture);We(on,Se,vr);const zn=Se.mipmaps,Yr=a&&!0!==Se.isVideoTexture,sr=void 0===Nn.__currentVersion||!0===pn,Kr=he(Se,$t,vr);if(Se.isDepthTexture)ft=6402,a?ft=Se.type===Fv?36012:Se.type===db?33190:Se.type===QM?35056:33189:Se.type===Fv&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Se.format===hb&&6402===ft&&1012!==Se.type&&Se.type!==db&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Se.type=db,er=o.convert(Se.type)),Se.format===eS&&6402===ft&&(ft=34041,Se.type!==QM&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Se.type=QM,er=o.convert(Se.type))),sr&&(Yr?t.texStorage2D(3553,1,ft,$t.width,$t.height):t.texImage2D(3553,0,ft,$t.width,$t.height,0,or,er,null));else if(Se.isDataTexture)if(zn.length>0&&vr){Yr&&sr&&t.texStorage2D(3553,Kr,ft,zn[0].width,zn[0].height);for(let Tn=0,ur=zn.length;Tn<ur;Tn++)jn=zn[Tn],Yr?t.texSubImage2D(3553,Tn,0,0,jn.width,jn.height,or,er,jn.data):t.texImage2D(3553,Tn,ft,jn.width,jn.height,0,or,er,jn.data);Se.generateMipmaps=!1}else Yr?(sr&&t.texStorage2D(3553,Kr,ft,$t.width,$t.height),t.texSubImage2D(3553,0,0,0,$t.width,$t.height,or,er,$t.data)):t.texImage2D(3553,0,ft,$t.width,$t.height,0,or,er,$t.data);else if(Se.isCompressedTexture){Yr&&sr&&t.texStorage2D(3553,Kr,ft,zn[0].width,zn[0].height);for(let Tn=0,ur=zn.length;Tn<ur;Tn++)jn=zn[Tn],Se.format!==Xh?null!==or?Yr?t.compressedTexSubImage2D(3553,Tn,0,0,jn.width,jn.height,or,jn.data):t.compressedTexImage2D(3553,Tn,ft,jn.width,jn.height,0,jn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Yr?t.texSubImage2D(3553,Tn,0,0,jn.width,jn.height,or,er,jn.data):t.texImage2D(3553,Tn,ft,jn.width,jn.height,0,or,er,jn.data)}else if(Se.isDataArrayTexture)Yr?(sr&&t.texStorage3D(35866,Kr,ft,$t.width,$t.height,$t.depth),t.texSubImage3D(35866,0,0,0,0,$t.width,$t.height,$t.depth,or,er,$t.data)):t.texImage3D(35866,0,ft,$t.width,$t.height,$t.depth,0,or,er,$t.data);else if(Se.isData3DTexture)Yr?(sr&&t.texStorage3D(32879,Kr,ft,$t.width,$t.height,$t.depth),t.texSubImage3D(32879,0,0,0,0,$t.width,$t.height,$t.depth,or,er,$t.data)):t.texImage3D(32879,0,ft,$t.width,$t.height,$t.depth,0,or,er,$t.data);else if(Se.isFramebufferTexture){if(sr)if(Yr)t.texStorage2D(3553,Kr,ft,$t.width,$t.height);else{let Tn=$t.width,ur=$t.height;for(let Gr=0;Gr<Kr;Gr++)t.texImage2D(3553,Gr,ft,Tn,ur,0,or,er,null),Tn>>=1,ur>>=1}}else if(zn.length>0&&vr){Yr&&sr&&t.texStorage2D(3553,Kr,ft,zn[0].width,zn[0].height);for(let Tn=0,ur=zn.length;Tn<ur;Tn++)jn=zn[Tn],Yr?t.texSubImage2D(3553,Tn,0,0,or,er,jn):t.texImage2D(3553,Tn,ft,or,er,jn);Se.generateMipmaps=!1}else Yr?(sr&&t.texStorage2D(3553,Kr,ft,$t.width,$t.height),t.texSubImage2D(3553,0,0,0,or,er,$t)):t.texImage2D(3553,0,ft,or,er,$t);re(Se,vr)&&pe(on),Nn.__currentVersion=Nn.version,Se.onUpdate&&Se.onUpdate(Se)}Le.__version=Se.version}function ut(Le,Se,Bt,on,pn){const Nn=o.convert(Bt.format,Bt.encoding),Er=o.convert(Bt.type),$t=ne(Bt.internalFormat,Nn,Er,Bt.encoding);r.get(Se).__hasExternalTextures||(32879===pn||35866===pn?t.texImage3D(pn,0,$t,Se.width,Se.height,Se.depth,0,Nn,Er,null):t.texImage2D(pn,0,$t,Se.width,Se.height,0,Nn,Er,null)),t.bindFramebuffer(36160,Le),un(Se)?g.framebufferTexture2DMultisampleEXT(36160,on,pn,r.get(Bt).__webglTexture,0,Hn(Se)):n.framebufferTexture2D(36160,on,pn,r.get(Bt).__webglTexture,0),t.bindFramebuffer(36160,null)}function Lt(Le,Se,Bt){if(n.bindRenderbuffer(36161,Le),Se.depthBuffer&&!Se.stencilBuffer){let on=33189;if(Bt||un(Se)){const pn=Se.depthTexture;pn&&pn.isDepthTexture&&(pn.type===Fv?on=36012:pn.type===db&&(on=33190));const Nn=Hn(Se);un(Se)?g.renderbufferStorageMultisampleEXT(36161,Nn,on,Se.width,Se.height):n.renderbufferStorageMultisample(36161,Nn,on,Se.width,Se.height)}else n.renderbufferStorage(36161,on,Se.width,Se.height);n.framebufferRenderbuffer(36160,36096,36161,Le)}else if(Se.depthBuffer&&Se.stencilBuffer){const on=Hn(Se);Bt&&!1===un(Se)?n.renderbufferStorageMultisample(36161,on,35056,Se.width,Se.height):un(Se)?g.renderbufferStorageMultisampleEXT(36161,on,35056,Se.width,Se.height):n.renderbufferStorage(36161,34041,Se.width,Se.height),n.framebufferRenderbuffer(36160,33306,36161,Le)}else{const on=!0===Se.isWebGLMultipleRenderTargets?Se.texture:[Se.texture];for(let pn=0;pn<on.length;pn++){const Nn=on[pn],Er=o.convert(Nn.format,Nn.encoding),$t=o.convert(Nn.type),vr=ne(Nn.internalFormat,Er,$t,Nn.encoding),or=Hn(Se);Bt&&!1===un(Se)?n.renderbufferStorageMultisample(36161,or,vr,Se.width,Se.height):un(Se)?g.renderbufferStorageMultisampleEXT(36161,or,vr,Se.width,Se.height):n.renderbufferStorage(36161,vr,Se.width,Se.height)}}n.bindRenderbuffer(36161,null)}function Ot(Le){const Se=r.get(Le),Bt=!0===Le.isWebGLCubeRenderTarget;if(Le.depthTexture&&!Se.__autoAllocateDepthBuffer){if(Bt)throw new Error("target.depthTexture not supported in Cube render targets");!function pt(Le,Se){if(Se&&Se.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Le),!Se.depthTexture||!Se.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Se.depthTexture).__webglTexture||Se.depthTexture.image.width!==Se.width||Se.depthTexture.image.height!==Se.height)&&(Se.depthTexture.image.width=Se.width,Se.depthTexture.image.height=Se.height,Se.depthTexture.needsUpdate=!0),bt(Se.depthTexture,0);const on=r.get(Se.depthTexture).__webglTexture,pn=Hn(Se);if(Se.depthTexture.format===hb)un(Se)?g.framebufferTexture2DMultisampleEXT(36160,36096,3553,on,0,pn):n.framebufferTexture2D(36160,36096,3553,on,0);else{if(Se.depthTexture.format!==eS)throw new Error("Unknown depthTexture format");un(Se)?g.framebufferTexture2DMultisampleEXT(36160,33306,3553,on,0,pn):n.framebufferTexture2D(36160,33306,3553,on,0)}}(Se.__webglFramebuffer,Le)}else if(Bt){Se.__webglDepthbuffer=[];for(let on=0;on<6;on++)t.bindFramebuffer(36160,Se.__webglFramebuffer[on]),Se.__webglDepthbuffer[on]=n.createRenderbuffer(),Lt(Se.__webglDepthbuffer[on],Le,!1)}else t.bindFramebuffer(36160,Se.__webglFramebuffer),Se.__webglDepthbuffer=n.createRenderbuffer(),Lt(Se.__webglDepthbuffer,Le,!1);t.bindFramebuffer(36160,null)}function Hn(Le){return Math.min(p,Le.samples)}function un(Le){const Se=r.get(Le);return a&&Le.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==Se.__useRenderToTexture}function Pn(Le,Se){const Bt=Le.encoding,on=Le.format,pn=Le.type;return!0===Le.isCompressedTexture||!0===Le.isVideoTexture||1035===Le.format||Bt!==fb&&(Bt===fa?!1===a?!0===e.has("EXT_sRGB")&&on===Xh?(Le.format=1035,Le.minFilter=Ua,Le.generateMipmaps=!1):Se=aq.sRGBToLinear(Se):(on!==Xh||pn!==cb)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Bt)),Se}this.allocateTextureUnit=function Ge(){const Le=ye;return Le>=u&&console.warn("THREE.WebGLTextures: Trying to use "+Le+" texture units while this GPU supports only "+u),ye+=1,Le},this.resetTextureUnits=function Ae(){ye=0},this.setTexture2D=bt,this.setTexture2DArray=function Z(Le,Se){const Bt=r.get(Le);Le.version>0&&Bt.__version!==Le.version?kt(Bt,Le,Se):(t.activeTexture(33984+Se),t.bindTexture(35866,Bt.__webglTexture))},this.setTexture3D=function $(Le,Se){const Bt=r.get(Le);Le.version>0&&Bt.__version!==Le.version?kt(Bt,Le,Se):(t.activeTexture(33984+Se),t.bindTexture(32879,Bt.__webglTexture))},this.setTextureCube=function de(Le,Se){const Bt=r.get(Le);Le.version>0&&Bt.__version!==Le.version?function Dt(Le,Se,Bt){if(6!==Se.image.length)return;const on=Mt(Le,Se),pn=Se.source;if(t.activeTexture(33984+Bt),t.bindTexture(34067,Le.__webglTexture),pn.version!==pn.__currentVersion||!0===on){n.pixelStorei(37440,Se.flipY),n.pixelStorei(37441,Se.premultiplyAlpha),n.pixelStorei(3317,Se.unpackAlignment),n.pixelStorei(37443,0);const Nn=Se.isCompressedTexture||Se.image[0].isCompressedTexture,Er=Se.image[0]&&Se.image[0].isDataTexture,$t=[];for(let Tn=0;Tn<6;Tn++)$t[Tn]=Nn||Er?Er?Se.image[Tn].image:Se.image[Tn]:z(Se.image[Tn],!1,!0,c),$t[Tn]=Pn(Se,$t[Tn]);const vr=$t[0],or=j(vr)||a,er=o.convert(Se.format,Se.encoding),ft=o.convert(Se.type),jn=ne(Se.internalFormat,er,ft,Se.encoding),zn=a&&!0!==Se.isVideoTexture,Yr=void 0===pn.__currentVersion||!0===on;let Kr,sr=he(Se,vr,or);if(We(34067,Se,or),Nn){zn&&Yr&&t.texStorage2D(34067,sr,jn,vr.width,vr.height);for(let Tn=0;Tn<6;Tn++){Kr=$t[Tn].mipmaps;for(let ur=0;ur<Kr.length;ur++){const Gr=Kr[ur];Se.format!==Xh?null!==er?zn?t.compressedTexSubImage2D(34069+Tn,ur,0,0,Gr.width,Gr.height,er,Gr.data):t.compressedTexImage2D(34069+Tn,ur,jn,Gr.width,Gr.height,0,Gr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):zn?t.texSubImage2D(34069+Tn,ur,0,0,Gr.width,Gr.height,er,ft,Gr.data):t.texImage2D(34069+Tn,ur,jn,Gr.width,Gr.height,0,er,ft,Gr.data)}}}else{Kr=Se.mipmaps,zn&&Yr&&(Kr.length>0&&sr++,t.texStorage2D(34067,sr,jn,$t[0].width,$t[0].height));for(let Tn=0;Tn<6;Tn++)if(Er){zn?t.texSubImage2D(34069+Tn,0,0,0,$t[Tn].width,$t[Tn].height,er,ft,$t[Tn].data):t.texImage2D(34069+Tn,0,jn,$t[Tn].width,$t[Tn].height,0,er,ft,$t[Tn].data);for(let ur=0;ur<Kr.length;ur++){const Lr=Kr[ur].image[Tn].image;zn?t.texSubImage2D(34069+Tn,ur+1,0,0,Lr.width,Lr.height,er,ft,Lr.data):t.texImage2D(34069+Tn,ur+1,jn,Lr.width,Lr.height,0,er,ft,Lr.data)}}else{zn?t.texSubImage2D(34069+Tn,0,0,0,er,ft,$t[Tn]):t.texImage2D(34069+Tn,0,jn,er,ft,$t[Tn]);for(let ur=0;ur<Kr.length;ur++){const Gr=Kr[ur];zn?t.texSubImage2D(34069+Tn,ur+1,0,0,er,ft,Gr.image[Tn]):t.texImage2D(34069+Tn,ur+1,jn,er,ft,Gr.image[Tn])}}}re(Se,or)&&pe(34067),pn.__currentVersion=pn.version,Se.onUpdate&&Se.onUpdate(Se)}Le.__version=Se.version}(Bt,Le,Se):(t.activeTexture(33984+Se),t.bindTexture(34067,Bt.__webglTexture))},this.rebindTextures=function It(Le,Se,Bt){const on=r.get(Le);void 0!==Se&&ut(on.__webglFramebuffer,Le,Le.texture,36064,3553),void 0!==Bt&&Ot(Le)},this.setupRenderTarget=function gn(Le){const Se=Le.texture,Bt=r.get(Le),on=r.get(Se);Le.addEventListener("dispose",ot),!0!==Le.isWebGLMultipleRenderTargets&&(void 0===on.__webglTexture&&(on.__webglTexture=n.createTexture()),on.__version=Se.version,s.memory.textures++);const pn=!0===Le.isWebGLCubeRenderTarget,Nn=!0===Le.isWebGLMultipleRenderTargets,Er=j(Le)||a;if(pn){Bt.__webglFramebuffer=[];for(let $t=0;$t<6;$t++)Bt.__webglFramebuffer[$t]=n.createFramebuffer()}else{if(Bt.__webglFramebuffer=n.createFramebuffer(),Nn)if(i.drawBuffers){const $t=Le.texture;for(let vr=0,or=$t.length;vr<or;vr++){const er=r.get($t[vr]);void 0===er.__webglTexture&&(er.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Le.samples>0&&!1===un(Le)){const $t=Nn?Se:[Se];Bt.__webglMultisampledFramebuffer=n.createFramebuffer(),Bt.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Bt.__webglMultisampledFramebuffer);for(let vr=0;vr<$t.length;vr++){const or=$t[vr];Bt.__webglColorRenderbuffer[vr]=n.createRenderbuffer(),n.bindRenderbuffer(36161,Bt.__webglColorRenderbuffer[vr]);const er=o.convert(or.format,or.encoding),ft=o.convert(or.type),jn=ne(or.internalFormat,er,ft,or.encoding),zn=Hn(Le);n.renderbufferStorageMultisample(36161,zn,jn,Le.width,Le.height),n.framebufferRenderbuffer(36160,36064+vr,36161,Bt.__webglColorRenderbuffer[vr])}n.bindRenderbuffer(36161,null),Le.depthBuffer&&(Bt.__webglDepthRenderbuffer=n.createRenderbuffer(),Lt(Bt.__webglDepthRenderbuffer,Le,!0)),t.bindFramebuffer(36160,null)}}if(pn){t.bindTexture(34067,on.__webglTexture),We(34067,Se,Er);for(let $t=0;$t<6;$t++)ut(Bt.__webglFramebuffer[$t],Le,Se,36064,34069+$t);re(Se,Er)&&pe(34067),t.unbindTexture()}else if(Nn){const $t=Le.texture;for(let vr=0,or=$t.length;vr<or;vr++){const er=$t[vr],ft=r.get(er);t.bindTexture(3553,ft.__webglTexture),We(3553,er,Er),ut(Bt.__webglFramebuffer,Le,er,36064+vr,3553),re(er,Er)&&pe(3553)}t.unbindTexture()}else{let $t=3553;(Le.isWebGL3DRenderTarget||Le.isWebGLArrayRenderTarget)&&(a?$t=Le.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture($t,on.__webglTexture),We($t,Se,Er),ut(Bt.__webglFramebuffer,Le,Se,36064,$t),re(Se,Er)&&pe($t),t.unbindTexture()}Le.depthBuffer&&Ot(Le)},this.updateRenderTargetMipmap=function dn(Le){const Se=j(Le)||a,Bt=!0===Le.isWebGLMultipleRenderTargets?Le.texture:[Le.texture];for(let on=0,pn=Bt.length;on<pn;on++){const Nn=Bt[on];if(re(Nn,Se)){const Er=Le.isWebGLCubeRenderTarget?34067:3553,$t=r.get(Nn).__webglTexture;t.bindTexture(Er,$t),pe(Er),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Xn(Le){if(a&&Le.samples>0&&!1===un(Le)){const Se=Le.isWebGLMultipleRenderTargets?Le.texture:[Le.texture],Bt=Le.width,on=Le.height;let pn=16384;const Nn=[],Er=Le.stencilBuffer?33306:36096,$t=r.get(Le),vr=!0===Le.isWebGLMultipleRenderTargets;if(vr)for(let or=0;or<Se.length;or++)t.bindFramebuffer(36160,$t.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+or,36161,null),t.bindFramebuffer(36160,$t.__webglFramebuffer),n.framebufferTexture2D(36009,36064+or,3553,null,0);t.bindFramebuffer(36008,$t.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,$t.__webglFramebuffer);for(let or=0;or<Se.length;or++){Nn.push(36064+or),Le.depthBuffer&&Nn.push(Er);const er=void 0!==$t.__ignoreDepthValues&&$t.__ignoreDepthValues;if(!1===er&&(Le.depthBuffer&&(pn|=256),Le.stencilBuffer&&(pn|=1024)),vr&&n.framebufferRenderbuffer(36008,36064,36161,$t.__webglColorRenderbuffer[or]),!0===er&&(n.invalidateFramebuffer(36008,[Er]),n.invalidateFramebuffer(36009,[Er])),vr){const ft=r.get(Se[or]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ft,0)}n.blitFramebuffer(0,0,Bt,on,0,0,Bt,on,pn,9728),y&&n.invalidateFramebuffer(36008,Nn)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),vr)for(let or=0;or<Se.length;or++){t.bindFramebuffer(36160,$t.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+or,36161,$t.__webglColorRenderbuffer[or]);const er=r.get(Se[or]).__webglTexture;t.bindFramebuffer(36160,$t.__webglFramebuffer),n.framebufferTexture2D(36009,36064+or,3553,er,0)}t.bindFramebuffer(36009,$t.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Ot,this.setupFrameBufferTexture=ut,this.useMultisampledRTT=un}function A1e(n,e,t){const r=t.isWebGL2;return{convert:function i(o,s=null){let a;if(o===cb)return 5121;if(1017===o)return 32819;if(1018===o)return 32820;if(1010===o)return 5120;if(1011===o)return 5122;if(1012===o)return 5123;if(1013===o)return 5124;if(o===db)return 5125;if(o===Fv)return 5126;if(o===ST)return r?5131:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===o)return 6406;if(o===Xh)return 6408;if(1024===o)return 6409;if(1025===o)return 6410;if(o===hb)return 6402;if(o===eS)return 34041;if(1028===o)return 6403;if(1022===o)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===o)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1029===o)return 36244;if(1030===o)return 33319;if(1031===o)return 33320;if(1033===o)return 36249;if(33776===o||33777===o||33778===o||33779===o)if(s===fa){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===o)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===o)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===o||35841===o||35842===o||35843===o){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===o)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===o)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===o)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===o)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===o)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===o||37496===o){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===o)return s===fa?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===o||37809===o||37810===o||37811===o||37812===o||37813===o||37814===o||37815===o||37816===o||37817===o||37818===o||37819===o||37820===o||37821===o){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===o)return s===fa?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===o){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===o)return s===fa?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return o===QM?r?34042:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[o]?n[o]:null}}}class O1e extends gu{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class zi extends zu{constructor(){super(),this.isGroup=!0,this.type="Group"}}const k1e={type:"move"};class tV{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new zi,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new zi,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Be,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Be),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new zi,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Be,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Be),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,s=null;const a=this._targetRay,u=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){s=!0;for(const S of e.hand.values()){const C=t.getJointPose(S,r);if(void 0===c.joints[S.jointName]){const B=new zi;B.matrixAutoUpdate=!1,B.visible=!1,c.joints[S.jointName]=B,c.add(B)}const P=c.joints[S.jointName];null!==C&&(P.matrix.fromArray(C.transform.matrix),P.matrix.decompose(P.position,P.rotation,P.scale),P.jointRadius=C.radius),P.visible=null!==C}const g=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),y=.02,w=.005;c.inputState.pinching&&g>y+w?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&g<=y-w&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==u&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),null!==o&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,r),null===i&&null!==o&&(i=o),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(k1e)))}return null!==a&&(a.visible=null!==i),null!==u&&(u.visible=null!==o),null!==c&&(c.visible=null!==s),this}}class L1e extends Hv{constructor(e,t,r,i,o,s,a,u,c,h){if((h=void 0!==h?h:hb)!==hb&&h!==eS)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&h===hb&&(r=db),void 0===r&&h===eS&&(r=QM),super(null,i,o,s,a,u,h,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:cl,this.minFilter=void 0!==u?u:cl,this.flipY=!1,this.generateMipmaps=!1}}class P1e extends iS{constructor(e,t){super();const r=this;let i=null,o=1,s=null,a="local-floor",u=null,c=null,h=null,p=null,g=null,y=null;const w=t.getContextAttributes();let S=null,C=null;const P=[],B=[],z=new gu;z.layers.enable(1),z.viewport=new us;const j=new gu;j.layers.enable(2),j.viewport=new us;const G=[z,j],re=new O1e;re.layers.enable(1),re.layers.enable(2);let pe=null,ne=null;function he(Je){const bt=B.indexOf(Je.inputSource);if(-1===bt)return;const Z=P[bt];void 0!==Z&&Z.dispatchEvent({type:Je.type,data:Je.inputSource})}function we(){i.removeEventListener("select",he),i.removeEventListener("selectstart",he),i.removeEventListener("selectend",he),i.removeEventListener("squeeze",he),i.removeEventListener("squeezestart",he),i.removeEventListener("squeezeend",he),i.removeEventListener("end",we),i.removeEventListener("inputsourceschange",Pe);for(let Je=0;Je<P.length;Je++){const bt=B[Je];null!==bt&&(B[Je]=null,P[Je].disconnect(bt))}pe=null,ne=null,e.setRenderTarget(S),g=null,p=null,h=null,i=null,C=null,Ge.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}function Pe(Je){for(let bt=0;bt<Je.removed.length;bt++){const Z=Je.removed[bt],$=B.indexOf(Z);$>=0&&(B[$]=null,P[$].dispatchEvent({type:"disconnected",data:Z}))}for(let bt=0;bt<Je.added.length;bt++){const Z=Je.added[bt];let $=B.indexOf(Z);if(-1===$){for(let be=0;be<P.length;be++){if(be>=B.length){B.push(Z),$=be;break}if(null===B[be]){B[be]=Z,$=be;break}}if(-1===$)break}const de=P[$];de&&de.dispatchEvent({type:"connected",data:Z})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Je){let bt=P[Je];return void 0===bt&&(bt=new tV,P[Je]=bt),bt.getTargetRaySpace()},this.getControllerGrip=function(Je){let bt=P[Je];return void 0===bt&&(bt=new tV,P[Je]=bt),bt.getGripSpace()},this.getHand=function(Je){let bt=P[Je];return void 0===bt&&(bt=new tV,P[Je]=bt),bt.getHandSpace()},this.setFramebufferScaleFactor=function(Je){o=Je,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Je){a=Je,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(Je){u=Je},this.getBaseLayer=function(){return null!==p?p:g},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=function(){var Je=(0,lSe.Z)(function*(bt){if(i=bt,null!==i){if(S=e.getRenderTarget(),i.addEventListener("select",he),i.addEventListener("selectstart",he),i.addEventListener("selectend",he),i.addEventListener("squeeze",he),i.addEventListener("squeezestart",he),i.addEventListener("squeezeend",he),i.addEventListener("end",we),i.addEventListener("inputsourceschange",Pe),!0!==w.xrCompatible&&(yield t.makeXRCompatible()),void 0===i.renderState.layers||!1===e.capabilities.isWebGL2)g=new XRWebGLLayer(i,t,{antialias:void 0!==i.renderState.layers||w.antialias,alpha:w.alpha,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:o}),i.updateRenderState({baseLayer:g}),C=new vb(g.framebufferWidth,g.framebufferHeight,{format:Xh,type:cb,encoding:e.outputEncoding});else{let Z=null,$=null,de=null;w.depth&&(de=w.stencil?35056:33190,Z=w.stencil?eS:hb,$=w.stencil?QM:db);const be={colorFormat:32856,depthFormat:de,scaleFactor:o};h=new XRWebGLBinding(i,t),p=h.createProjectionLayer(be),i.updateRenderState({layers:[p]}),C=new vb(p.textureWidth,p.textureHeight,{format:Xh,type:cb,depthTexture:new L1e(p.textureWidth,p.textureHeight,$,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:w.stencil,encoding:e.outputEncoding,samples:w.antialias?4:0}),e.properties.get(C).__ignoreDepthValues=p.ignoreDepthValues}C.isXRRenderTarget=!0,this.setFoveation(1),u=null,s=yield i.requestReferenceSpace(a),Ge.setContext(i),Ge.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(bt){return Je.apply(this,arguments)}}();const ot=new Be,at=new Be;function _t(Je,bt){null===bt?Je.matrixWorld.copy(Je.matrix):Je.matrixWorld.multiplyMatrices(bt.matrixWorld,Je.matrix),Je.matrixWorldInverse.copy(Je.matrixWorld).invert()}this.updateCamera=function(Je){if(null===i)return;re.near=j.near=z.near=Je.near,re.far=j.far=z.far=Je.far,(pe!==re.near||ne!==re.far)&&(i.updateRenderState({depthNear:re.near,depthFar:re.far}),pe=re.near,ne=re.far);const bt=Je.parent,Z=re.cameras;_t(re,bt);for(let de=0;de<Z.length;de++)_t(Z[de],bt);re.matrixWorld.decompose(re.position,re.quaternion,re.scale),Je.position.copy(re.position),Je.quaternion.copy(re.quaternion),Je.scale.copy(re.scale),Je.matrix.copy(re.matrix),Je.matrixWorld.copy(re.matrixWorld);const $=Je.children;for(let de=0,be=$.length;de<be;de++)$[de].updateMatrixWorld(!0);2===Z.length?function je(Je,bt,Z){ot.setFromMatrixPosition(bt.matrixWorld),at.setFromMatrixPosition(Z.matrixWorld);const $=ot.distanceTo(at),de=bt.projectionMatrix.elements,be=Z.projectionMatrix.elements,Ee=de[14]/(de[10]-1),We=de[14]/(de[10]+1),Mt=(de[9]+1)/de[5],kt=(de[9]-1)/de[5],Dt=(de[8]-1)/de[0],ut=(be[8]+1)/be[0],Lt=Ee*Dt,pt=Ee*ut,Ot=$/(-Dt+ut),It=Ot*-Dt;bt.matrixWorld.decompose(Je.position,Je.quaternion,Je.scale),Je.translateX(It),Je.translateZ(Ot),Je.matrixWorld.compose(Je.position,Je.quaternion,Je.scale),Je.matrixWorldInverse.copy(Je.matrixWorld).invert();const gn=Ee+Ot,dn=We+Ot;Je.projectionMatrix.makePerspective(Lt-It,pt+($-It),Mt*We/dn*gn,kt*We/dn*gn,gn,dn)}(re,z,j):re.projectionMatrix.copy(z.projectionMatrix)},this.getCamera=function(){return re},this.getFoveation=function(){return null!==p?p.fixedFoveation:null!==g?g.fixedFoveation:void 0},this.setFoveation=function(Je){null!==p&&(p.fixedFoveation=Je),null!==g&&void 0!==g.fixedFoveation&&(g.fixedFoveation=Je)};let ye=null;const Ge=new Mq;Ge.setAnimationLoop(function Ae(Je,bt){if(c=bt.getViewerPose(u||s),y=bt,null!==c){const Z=c.views;null!==g&&(e.setRenderTargetFramebuffer(C,g.framebuffer),e.setRenderTarget(C));let $=!1;Z.length!==re.cameras.length&&(re.cameras.length=0,$=!0);for(let de=0;de<Z.length;de++){const be=Z[de];let Ee=null;if(null!==g)Ee=g.getViewport(be);else{const Mt=h.getViewSubImage(p,be);Ee=Mt.viewport,0===de&&(e.setRenderTargetTextures(C,Mt.colorTexture,p.ignoreDepthValues?void 0:Mt.depthStencilTexture),e.setRenderTarget(C))}let We=G[de];void 0===We&&(We=new gu,We.layers.enable(de),We.viewport=new us,G[de]=We),We.matrix.fromArray(be.transform.matrix),We.projectionMatrix.fromArray(be.projectionMatrix),We.viewport.set(Ee.x,Ee.y,Ee.width,Ee.height),0===de&&re.matrix.copy(We.matrix),!0===$&&re.cameras.push(We)}}for(let Z=0;Z<P.length;Z++){const $=B[Z],de=P[Z];null!==$&&void 0!==de&&de.update($,bt,u||s)}ye&&ye(Je,bt),y=null}),this.setAnimationLoop=function(Je){ye=Je},this.dispose=function(){}}}function I1e(n,e){function i(S,C){S.opacity.value=C.opacity,C.color&&S.diffuse.value.copy(C.color),C.emissive&&S.emissive.value.copy(C.emissive).multiplyScalar(C.emissiveIntensity),C.map&&(S.map.value=C.map),C.alphaMap&&(S.alphaMap.value=C.alphaMap),C.bumpMap&&(S.bumpMap.value=C.bumpMap,S.bumpScale.value=C.bumpScale,1===C.side&&(S.bumpScale.value*=-1)),C.displacementMap&&(S.displacementMap.value=C.displacementMap,S.displacementScale.value=C.displacementScale,S.displacementBias.value=C.displacementBias),C.emissiveMap&&(S.emissiveMap.value=C.emissiveMap),C.normalMap&&(S.normalMap.value=C.normalMap,S.normalScale.value.copy(C.normalScale),1===C.side&&S.normalScale.value.negate()),C.specularMap&&(S.specularMap.value=C.specularMap),C.alphaTest>0&&(S.alphaTest.value=C.alphaTest);const P=e.get(C).envMap;if(P&&(S.envMap.value=P,S.flipEnvMap.value=P.isCubeTexture&&!1===P.isRenderTargetTexture?-1:1,S.reflectivity.value=C.reflectivity,S.ior.value=C.ior,S.refractionRatio.value=C.refractionRatio),C.lightMap){S.lightMap.value=C.lightMap;const j=!0!==n.physicallyCorrectLights?Math.PI:1;S.lightMapIntensity.value=C.lightMapIntensity*j}let B,z;C.aoMap&&(S.aoMap.value=C.aoMap,S.aoMapIntensity.value=C.aoMapIntensity),C.map?B=C.map:C.specularMap?B=C.specularMap:C.displacementMap?B=C.displacementMap:C.normalMap?B=C.normalMap:C.bumpMap?B=C.bumpMap:C.roughnessMap?B=C.roughnessMap:C.metalnessMap?B=C.metalnessMap:C.alphaMap?B=C.alphaMap:C.emissiveMap?B=C.emissiveMap:C.clearcoatMap?B=C.clearcoatMap:C.clearcoatNormalMap?B=C.clearcoatNormalMap:C.clearcoatRoughnessMap?B=C.clearcoatRoughnessMap:C.iridescenceMap?B=C.iridescenceMap:C.iridescenceThicknessMap?B=C.iridescenceThicknessMap:C.specularIntensityMap?B=C.specularIntensityMap:C.specularColorMap?B=C.specularColorMap:C.transmissionMap?B=C.transmissionMap:C.thicknessMap?B=C.thicknessMap:C.sheenColorMap?B=C.sheenColorMap:C.sheenRoughnessMap&&(B=C.sheenRoughnessMap),void 0!==B&&(B.isWebGLRenderTarget&&(B=B.texture),!0===B.matrixAutoUpdate&&B.updateMatrix(),S.uvTransform.value.copy(B.matrix)),C.aoMap?z=C.aoMap:C.lightMap&&(z=C.lightMap),void 0!==z&&(z.isWebGLRenderTarget&&(z=z.texture),!0===z.matrixAutoUpdate&&z.updateMatrix(),S.uv2Transform.value.copy(z.matrix))}return{refreshFogUniforms:function t(S,C){S.fogColor.value.copy(C.color),C.isFog?(S.fogNear.value=C.near,S.fogFar.value=C.far):C.isFogExp2&&(S.fogDensity.value=C.density)},refreshMaterialUniforms:function r(S,C,P,B,z){C.isMeshBasicMaterial||C.isMeshLambertMaterial?i(S,C):C.isMeshToonMaterial?(i(S,C),function h(S,C){C.gradientMap&&(S.gradientMap.value=C.gradientMap)}(S,C)):C.isMeshPhongMaterial?(i(S,C),function c(S,C){S.specular.value.copy(C.specular),S.shininess.value=Math.max(C.shininess,1e-4)}(S,C)):C.isMeshStandardMaterial?(i(S,C),function p(S,C){S.roughness.value=C.roughness,S.metalness.value=C.metalness,C.roughnessMap&&(S.roughnessMap.value=C.roughnessMap),C.metalnessMap&&(S.metalnessMap.value=C.metalnessMap),e.get(C).envMap&&(S.envMapIntensity.value=C.envMapIntensity)}(S,C),C.isMeshPhysicalMaterial&&function g(S,C,P){S.ior.value=C.ior,C.sheen>0&&(S.sheenColor.value.copy(C.sheenColor).multiplyScalar(C.sheen),S.sheenRoughness.value=C.sheenRoughness,C.sheenColorMap&&(S.sheenColorMap.value=C.sheenColorMap),C.sheenRoughnessMap&&(S.sheenRoughnessMap.value=C.sheenRoughnessMap)),C.clearcoat>0&&(S.clearcoat.value=C.clearcoat,S.clearcoatRoughness.value=C.clearcoatRoughness,C.clearcoatMap&&(S.clearcoatMap.value=C.clearcoatMap),C.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=C.clearcoatRoughnessMap),C.clearcoatNormalMap&&(S.clearcoatNormalScale.value.copy(C.clearcoatNormalScale),S.clearcoatNormalMap.value=C.clearcoatNormalMap,1===C.side&&S.clearcoatNormalScale.value.negate())),C.iridescence>0&&(S.iridescence.value=C.iridescence,S.iridescenceIOR.value=C.iridescenceIOR,S.iridescenceThicknessMinimum.value=C.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=C.iridescenceThicknessRange[1],C.iridescenceMap&&(S.iridescenceMap.value=C.iridescenceMap),C.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=C.iridescenceThicknessMap)),C.transmission>0&&(S.transmission.value=C.transmission,S.transmissionSamplerMap.value=P.texture,S.transmissionSamplerSize.value.set(P.width,P.height),C.transmissionMap&&(S.transmissionMap.value=C.transmissionMap),S.thickness.value=C.thickness,C.thicknessMap&&(S.thicknessMap.value=C.thicknessMap),S.attenuationDistance.value=C.attenuationDistance,S.attenuationColor.value.copy(C.attenuationColor)),S.specularIntensity.value=C.specularIntensity,S.specularColor.value.copy(C.specularColor),C.specularIntensityMap&&(S.specularIntensityMap.value=C.specularIntensityMap),C.specularColorMap&&(S.specularColorMap.value=C.specularColorMap)}(S,C,z)):C.isMeshMatcapMaterial?(i(S,C),function y(S,C){C.matcap&&(S.matcap.value=C.matcap)}(S,C)):C.isMeshDepthMaterial?i(S,C):C.isMeshDistanceMaterial?(i(S,C),function w(S,C){S.referencePosition.value.copy(C.referencePosition),S.nearDistance.value=C.nearDistance,S.farDistance.value=C.farDistance}(S,C)):C.isMeshNormalMaterial?i(S,C):C.isLineBasicMaterial?(function o(S,C){S.diffuse.value.copy(C.color),S.opacity.value=C.opacity}(S,C),C.isLineDashedMaterial&&function s(S,C){S.dashSize.value=C.dashSize,S.totalSize.value=C.dashSize+C.gapSize,S.scale.value=C.scale}(S,C)):C.isPointsMaterial?function a(S,C,P,B){let z;S.diffuse.value.copy(C.color),S.opacity.value=C.opacity,S.size.value=C.size*P,S.scale.value=.5*B,C.map&&(S.map.value=C.map),C.alphaMap&&(S.alphaMap.value=C.alphaMap),C.alphaTest>0&&(S.alphaTest.value=C.alphaTest),C.map?z=C.map:C.alphaMap&&(z=C.alphaMap),void 0!==z&&(!0===z.matrixAutoUpdate&&z.updateMatrix(),S.uvTransform.value.copy(z.matrix))}(S,C,P,B):C.isSpriteMaterial?function u(S,C){let P;S.diffuse.value.copy(C.color),S.opacity.value=C.opacity,S.rotation.value=C.rotation,C.map&&(S.map.value=C.map),C.alphaMap&&(S.alphaMap.value=C.alphaMap),C.alphaTest>0&&(S.alphaTest.value=C.alphaTest),C.map?P=C.map:C.alphaMap&&(P=C.alphaMap),void 0!==P&&(!0===P.matrixAutoUpdate&&P.updateMatrix(),S.uvTransform.value.copy(P.matrix))}(S,C):C.isShadowMaterial?(S.color.value.copy(C.color),S.opacity.value=C.opacity):C.isShaderMaterial&&(C.uniformsNeedUpdate=!1)}}}function Jq(n={}){this.isWebGLRenderer=!0;const e=void 0!==n.canvas?n.canvas:function N1e(){const n=ET("canvas");return n.style.display="block",n}(),t=void 0!==n.context?n.context:null,r=void 0===n.depth||n.depth,i=void 0===n.stencil||n.stencil,o=void 0!==n.antialias&&n.antialias,s=void 0===n.premultipliedAlpha||n.premultipliedAlpha,a=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,u=void 0!==n.powerPreference?n.powerPreference:"default",c=void 0!==n.failIfMajorPerformanceCaveat&&n.failIfMajorPerformanceCaveat;let h;h=null!==t?t.getContextAttributes().alpha:void 0!==n.alpha&&n.alpha;let p=null,g=null;const y=[],w=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=fb,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const S=this;let C=!1,P=0,B=0,z=null,j=-1,G=null;const re=new us,pe=new us;let ne=null,he=e.width,we=e.height,Pe=1,ot=null,at=null;const je=new us(0,0,he,we),_t=new us(0,0,he,we);let ye=!1;const Ae=new XB;let Ge=!1,Je=!1,bt=null;const Z=new so,$=new Cn,de=new Be,be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ee(){return null===z?Pe:1}let kt,Dt,ut,Lt,pt,Ot,It,gn,dn,Xn,Hn,un,xn,Pn,Le,Se,Bt,on,pn,Nn,Er,$t,vr,We=t;function Mt(Ie,Vt){for(let tn=0;tn<Ie.length;tn++){const cn=e.getContext(Ie[tn],Vt);if(null!==cn)return cn}return null}try{const Ie={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r142"),e.addEventListener("webglcontextlost",ft,!1),e.addEventListener("webglcontextrestored",jn,!1),e.addEventListener("webglcontextcreationerror",zn,!1),null===We){const Vt=["webgl2","webgl","experimental-webgl"];if(!0===S.isWebGL1Renderer&&Vt.shift(),We=Mt(Vt,Ie),null===We)throw Mt(Vt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===We.getShaderPrecisionFormat&&(We.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ie){throw console.error("THREE.WebGLRenderer: "+Ie.message),Ie}function or(){kt=new KEe(We),Dt=new jEe(We,kt,n),kt.init(Dt),$t=new A1e(We,kt,Dt),ut=new R1e(We,kt,Dt),Lt=new JEe,pt=new g1e,Ot=new D1e(We,kt,ut,pt,Dt,$t,Lt),It=new YEe(S),gn=new XEe(S),dn=new Uxe(We,Dt),vr=new zEe(We,kt,dn,Dt),Xn=new ZEe(We,dn,Lt,vr),Hn=new nTe(We,Xn,dn,Lt),pn=new tTe(We,Dt,Ot),Se=new WEe(pt),un=new m1e(S,It,gn,kt,Dt,vr,Se),xn=new I1e(S,pt),Pn=new y1e,Le=new x1e(kt,Dt),on=new VEe(S,It,ut,Hn,h,s),Bt=new T1e(S,Hn,Dt),Nn=new UEe(We,kt,Lt,Dt),Er=new qEe(We,kt,Lt,Dt),Lt.programs=un.programs,S.capabilities=Dt,S.extensions=kt,S.properties=pt,S.renderLists=Pn,S.shadowMap=Bt,S.state=ut,S.info=Lt}or();const er=new P1e(S,We);function ft(Ie){Ie.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function jn(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const Ie=Lt.autoReset,Vt=Bt.enabled,tn=Bt.autoUpdate,Xt=Bt.needsUpdate,cn=Bt.type;or(),Lt.autoReset=Ie,Bt.enabled=Vt,Bt.autoUpdate=tn,Bt.needsUpdate=Xt,Bt.type=cn}function zn(Ie){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Ie.statusMessage)}function Yr(Ie){const Vt=Ie.target;Vt.removeEventListener("dispose",Yr),function sr(Ie){(function Kr(Ie){const Vt=pt.get(Ie).programs;void 0!==Vt&&(Vt.forEach(function(tn){un.releaseProgram(tn)}),Ie.isShaderMaterial&&un.releaseShaderCache(Ie))})(Ie),pt.remove(Ie)}(Vt)}this.xr=er,this.getContext=function(){return We},this.getContextAttributes=function(){return We.getContextAttributes()},this.forceContextLoss=function(){const Ie=kt.get("WEBGL_lose_context");Ie&&Ie.loseContext()},this.forceContextRestore=function(){const Ie=kt.get("WEBGL_lose_context");Ie&&Ie.restoreContext()},this.getPixelRatio=function(){return Pe},this.setPixelRatio=function(Ie){void 0!==Ie&&(Pe=Ie,this.setSize(he,we,!1))},this.getSize=function(Ie){return Ie.set(he,we)},this.setSize=function(Ie,Vt,tn){er.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(he=Ie,we=Vt,e.width=Math.floor(Ie*Pe),e.height=Math.floor(Vt*Pe),!1!==tn&&(e.style.width=Ie+"px",e.style.height=Vt+"px"),this.setViewport(0,0,Ie,Vt))},this.getDrawingBufferSize=function(Ie){return Ie.set(he*Pe,we*Pe).floor()},this.setDrawingBufferSize=function(Ie,Vt,tn){he=Ie,we=Vt,Pe=tn,e.width=Math.floor(Ie*tn),e.height=Math.floor(Vt*tn),this.setViewport(0,0,Ie,Vt)},this.getCurrentViewport=function(Ie){return Ie.copy(re)},this.getViewport=function(Ie){return Ie.copy(je)},this.setViewport=function(Ie,Vt,tn,Xt){Ie.isVector4?je.set(Ie.x,Ie.y,Ie.z,Ie.w):je.set(Ie,Vt,tn,Xt),ut.viewport(re.copy(je).multiplyScalar(Pe).floor())},this.getScissor=function(Ie){return Ie.copy(_t)},this.setScissor=function(Ie,Vt,tn,Xt){Ie.isVector4?_t.set(Ie.x,Ie.y,Ie.z,Ie.w):_t.set(Ie,Vt,tn,Xt),ut.scissor(pe.copy(_t).multiplyScalar(Pe).floor())},this.getScissorTest=function(){return ye},this.setScissorTest=function(Ie){ut.setScissorTest(ye=Ie)},this.setOpaqueSort=function(Ie){ot=Ie},this.setTransparentSort=function(Ie){at=Ie},this.getClearColor=function(Ie){return Ie.copy(on.getClearColor())},this.setClearColor=function(){on.setClearColor.apply(on,arguments)},this.getClearAlpha=function(){return on.getClearAlpha()},this.setClearAlpha=function(){on.setClearAlpha.apply(on,arguments)},this.clear=function(Ie=!0,Vt=!0,tn=!0){let Xt=0;Ie&&(Xt|=16384),Vt&&(Xt|=256),tn&&(Xt|=1024),We.clear(Xt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ft,!1),e.removeEventListener("webglcontextrestored",jn,!1),e.removeEventListener("webglcontextcreationerror",zn,!1),Pn.dispose(),Le.dispose(),pt.dispose(),It.dispose(),gn.dispose(),Hn.dispose(),vr.dispose(),un.dispose(),er.dispose(),er.removeEventListener("sessionstart",Gr),er.removeEventListener("sessionend",Lr),bt&&(bt.dispose(),bt=null),li.stop()},this.renderBufferDirect=function(Ie,Vt,tn,Xt,cn,Jr){null===Vt&&(Vt=be);const ii=cn.isMesh&&cn.matrixWorld.determinant()<0,hi=function Ll(Ie,Vt,tn,Xt,cn){!0!==Vt.isScene&&(Vt=be),Ot.resetTextureUnits();const Jr=Vt.fog,hi=null===z?S.outputEncoding:!0===z.isXRRenderTarget?z.texture.encoding:fb,ei=(Xt.isMeshStandardMaterial?gn:It).get(Xt.envMap||(Xt.isMeshStandardMaterial?Vt.environment:null)),Zi=!0===Xt.vertexColors&&!!tn.attributes.color&&4===tn.attributes.color.itemSize,Mo=!!Xt.normalMap&&!!tn.attributes.tangent,Do=!!tn.morphAttributes.position,Ds=!!tn.morphAttributes.normal,df=!!tn.morphAttributes.color,_p=Xt.toneMapped?S.toneMapping:0,Pl=tn.morphAttributes.position||tn.morphAttributes.normal||tn.morphAttributes.color,Il=void 0!==Pl?Pl.length:0,ho=pt.get(Xt),Ac=g.state.lights;!0!==Ge||!0!==Je&&Ie===G||Se.setState(Xt,Ie,Ie===G&&Xt.id===j);let Zs=!1;Xt.version===ho.__version?(ho.needsLights&&ho.lightsStateVersion!==Ac.state.version||ho.outputEncoding!==hi||cn.isInstancedMesh&&!1===ho.instancing||!cn.isInstancedMesh&&!0===ho.instancing||cn.isSkinnedMesh&&!1===ho.skinning||!cn.isSkinnedMesh&&!0===ho.skinning||ho.envMap!==ei||!0===Xt.fog&&ho.fog!==Jr||void 0!==ho.numClippingPlanes&&(ho.numClippingPlanes!==Se.numPlanes||ho.numIntersection!==Se.numIntersection)||ho.vertexAlphas!==Zi||ho.vertexTangents!==Mo||ho.morphTargets!==Do||ho.morphNormals!==Ds||ho.morphColors!==df||ho.toneMapping!==_p||!0===Dt.isWebGL2&&ho.morphTargetsCount!==Il)&&(Zs=!0):(Zs=!0,ho.__version=Xt.version);let Oc=ho.currentProgram;!0===Zs&&(Oc=Ta(Xt,Vt,cn));let xi=!1,hf=!1,Ay=!1;const Nl=Oc.getUniforms(),Oy=ho.uniforms;if(ut.useProgram(Oc.program)&&(xi=!0,hf=!0,Ay=!0),Xt.id!==j&&(j=Xt.id,hf=!0),xi||G!==Ie){if(Nl.setValue(We,"projectionMatrix",Ie.projectionMatrix),Dt.logarithmicDepthBuffer&&Nl.setValue(We,"logDepthBufFC",2/(Math.log(Ie.far+1)/Math.LN2)),G!==Ie&&(G=Ie,hf=!0,Ay=!0),Xt.isShaderMaterial||Xt.isMeshPhongMaterial||Xt.isMeshToonMaterial||Xt.isMeshStandardMaterial||Xt.envMap){const Xa=Nl.map.cameraPosition;void 0!==Xa&&Xa.setValue(We,de.setFromMatrixPosition(Ie.matrixWorld))}(Xt.isMeshPhongMaterial||Xt.isMeshToonMaterial||Xt.isMeshLambertMaterial||Xt.isMeshBasicMaterial||Xt.isMeshStandardMaterial||Xt.isShaderMaterial)&&Nl.setValue(We,"isOrthographic",!0===Ie.isOrthographicCamera),(Xt.isMeshPhongMaterial||Xt.isMeshToonMaterial||Xt.isMeshLambertMaterial||Xt.isMeshBasicMaterial||Xt.isMeshStandardMaterial||Xt.isShaderMaterial||Xt.isShadowMaterial||cn.isSkinnedMesh)&&Nl.setValue(We,"viewMatrix",Ie.matrixWorldInverse)}if(cn.isSkinnedMesh){Nl.setOptional(We,cn,"bindMatrix"),Nl.setOptional(We,cn,"bindMatrixInverse");const Xa=cn.skeleton;Xa&&(Dt.floatVertexTextures?(null===Xa.boneTexture&&Xa.computeBoneTexture(),Nl.setValue(We,"boneTexture",Xa.boneTexture,Ot),Nl.setValue(We,"boneTextureSize",Xa.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Qu=tn.morphAttributes;return(void 0!==Qu.position||void 0!==Qu.normal||void 0!==Qu.color&&!0===Dt.isWebGL2)&&pn.update(cn,tn,Xt,Oc),(hf||ho.receiveShadow!==cn.receiveShadow)&&(ho.receiveShadow=cn.receiveShadow,Nl.setValue(We,"receiveShadow",cn.receiveShadow)),hf&&(Nl.setValue(We,"toneMappingExposure",S.toneMappingExposure),ho.needsLights&&function $l(Ie,Vt){Ie.ambientLightColor.needsUpdate=Vt,Ie.lightProbe.needsUpdate=Vt,Ie.directionalLights.needsUpdate=Vt,Ie.directionalLightShadows.needsUpdate=Vt,Ie.pointLights.needsUpdate=Vt,Ie.pointLightShadows.needsUpdate=Vt,Ie.spotLights.needsUpdate=Vt,Ie.spotLightShadows.needsUpdate=Vt,Ie.rectAreaLights.needsUpdate=Vt,Ie.hemisphereLights.needsUpdate=Vt}(Oy,Ay),Jr&&!0===Xt.fog&&xn.refreshFogUniforms(Oy,Jr),xn.refreshMaterialUniforms(Oy,Xt,Pe,we,bt),kk.upload(We,ho.uniformsList,Oy,Ot)),Xt.isShaderMaterial&&!0===Xt.uniformsNeedUpdate&&(kk.upload(We,ho.uniformsList,Oy,Ot),Xt.uniformsNeedUpdate=!1),Xt.isSpriteMaterial&&Nl.setValue(We,"center",cn.center),Nl.setValue(We,"modelViewMatrix",cn.modelViewMatrix),Nl.setValue(We,"normalMatrix",cn.normalMatrix),Nl.setValue(We,"modelMatrix",cn.matrixWorld),Oc}(Ie,Vt,tn,Xt,cn);ut.setMaterial(Xt,ii);let ei=tn.index;const Zi=tn.attributes.position;if(null===ei){if(void 0===Zi||0===Zi.count)return}else if(0===ei.count)return;let Mo=1;!0===Xt.wireframe&&(ei=Xn.getWireframeAttribute(tn),Mo=2),vr.setup(cn,Xt,hi,tn,ei);let Do,Ds=Nn;null!==ei&&(Do=dn.get(ei),Ds=Er,Ds.setIndex(Do));const df=null!==ei?ei.count:Zi.count,_p=tn.drawRange.start*Mo,Pl=tn.drawRange.count*Mo,Il=null!==Jr?Jr.start*Mo:0,ho=null!==Jr?Jr.count*Mo:1/0,Ac=Math.max(_p,Il),Zs=Math.min(df,_p+Pl,Il+ho)-1,Oc=Math.max(0,Zs-Ac+1);if(0!==Oc){if(cn.isMesh)!0===Xt.wireframe?(ut.setLineWidth(Xt.wireframeLinewidth*Ee()),Ds.setMode(1)):Ds.setMode(4);else if(cn.isLine){let xi=Xt.linewidth;void 0===xi&&(xi=1),ut.setLineWidth(xi*Ee()),Ds.setMode(cn.isLineSegments?1:cn.isLineLoop?2:3)}else cn.isPoints?Ds.setMode(0):cn.isSprite&&Ds.setMode(4);if(cn.isInstancedMesh)Ds.renderInstances(Ac,Oc,cn.count);else if(tn.isInstancedBufferGeometry){const xi=Math.min(tn.instanceCount,tn._maxInstanceCount);Ds.renderInstances(Ac,Oc,xi)}else Ds.render(Ac,Oc)}},this.compile=function(Ie,Vt){g=Le.get(Ie),g.init(),w.push(g),Ie.traverseVisible(function(tn){tn.isLight&&tn.layers.test(Vt.layers)&&(g.pushLight(tn),tn.castShadow&&g.pushShadow(tn))}),g.setupLights(S.physicallyCorrectLights),Ie.traverse(function(tn){const Xt=tn.material;if(Xt)if(Array.isArray(Xt))for(let cn=0;cn<Xt.length;cn++)Ta(Xt[cn],Ie,tn);else Ta(Xt,Ie,tn)}),w.pop(),g=null};let Tn=null;function Gr(){li.stop()}function Lr(){li.start()}const li=new Mq;function di(Ie,Vt,tn,Xt){if(!1===Ie.visible)return;if(Ie.layers.test(Vt.layers))if(Ie.isGroup)tn=Ie.renderOrder;else if(Ie.isLOD)!0===Ie.autoUpdate&&Ie.update(Vt);else if(Ie.isLight)g.pushLight(Ie),Ie.castShadow&&g.pushShadow(Ie);else if(Ie.isSprite){if(!Ie.frustumCulled||Ae.intersectsSprite(Ie)){Xt&&de.setFromMatrixPosition(Ie.matrixWorld).applyMatrix4(Z);const ii=Hn.update(Ie),hi=Ie.material;hi.visible&&p.push(Ie,ii,hi,tn,de.z,null)}}else if((Ie.isMesh||Ie.isLine||Ie.isPoints)&&(Ie.isSkinnedMesh&&Ie.skeleton.frame!==Lt.render.frame&&(Ie.skeleton.update(),Ie.skeleton.frame=Lt.render.frame),!Ie.frustumCulled||Ae.intersectsObject(Ie))){Xt&&de.setFromMatrixPosition(Ie.matrixWorld).applyMatrix4(Z);const ii=Hn.update(Ie),hi=Ie.material;if(Array.isArray(hi)){const ei=ii.groups;for(let Zi=0,Mo=ei.length;Zi<Mo;Zi++){const Do=ei[Zi],Ds=hi[Do.materialIndex];Ds&&Ds.visible&&p.push(Ie,ii,Ds,tn,de.z,Do)}}else hi.visible&&p.push(Ie,ii,hi,tn,de.z,null)}const Jr=Ie.children;for(let ii=0,hi=Jr.length;ii<hi;ii++)di(Jr[ii],Vt,tn,Xt)}function Ki(Ie,Vt,tn,Xt){const cn=Ie.opaque,Jr=Ie.transmissive,ii=Ie.transparent;g.setupLightsView(tn),Jr.length>0&&function Vo(Ie,Vt,tn){const Xt=Dt.isWebGL2;null===bt&&(bt=new vb(1,1,{generateMipmaps:!0,type:kt.has("EXT_color_buffer_half_float")?ST:cb,minFilter:1008,samples:Xt&&!0===o?4:0})),S.getDrawingBufferSize($),Xt?bt.setSize($.x,$.y):bt.setSize(sk($.x),sk($.y));const cn=S.getRenderTarget();S.setRenderTarget(bt),S.clear();const Jr=S.toneMapping;S.toneMapping=0,Rs(Ie,Vt,tn),S.toneMapping=Jr,Ot.updateMultisampleRenderTarget(bt),Ot.updateRenderTargetMipmap(bt),S.setRenderTarget(cn)}(cn,Vt,tn),Xt&&ut.viewport(re.copy(Xt)),cn.length>0&&Rs(cn,Vt,tn),Jr.length>0&&Rs(Jr,Vt,tn),ii.length>0&&Rs(ii,Vt,tn),ut.buffers.depth.setTest(!0),ut.buffers.depth.setMask(!0),ut.buffers.color.setMask(!0),ut.setPolygonOffset(!1)}function Rs(Ie,Vt,tn){const Xt=!0===Vt.isScene?Vt.overrideMaterial:null;for(let cn=0,Jr=Ie.length;cn<Jr;cn++){const ii=Ie[cn],hi=ii.object,ei=ii.geometry,Zi=null===Xt?ii.material:Xt,Mo=ii.group;hi.layers.test(tn.layers)&&Ea(hi,Vt,tn,ei,Zi,Mo)}}function Ea(Ie,Vt,tn,Xt,cn,Jr){Ie.onBeforeRender(S,Vt,tn,Xt,cn,Jr),Ie.modelViewMatrix.multiplyMatrices(tn.matrixWorldInverse,Ie.matrixWorld),Ie.normalMatrix.getNormalMatrix(Ie.modelViewMatrix),cn.onBeforeRender(S,Vt,tn,Xt,Ie,Jr),!0===cn.transparent&&2===cn.side?(cn.side=1,cn.needsUpdate=!0,S.renderBufferDirect(tn,Vt,Xt,cn,Ie,Jr),cn.side=0,cn.needsUpdate=!0,S.renderBufferDirect(tn,Vt,Xt,cn,Ie,Jr),cn.side=2):S.renderBufferDirect(tn,Vt,Xt,cn,Ie,Jr),Ie.onAfterRender(S,Vt,tn,Xt,cn,Jr)}function Ta(Ie,Vt,tn){!0!==Vt.isScene&&(Vt=be);const Xt=pt.get(Ie),cn=g.state.lights,ii=cn.state.version,hi=un.getParameters(Ie,cn.state,g.state.shadowsArray,Vt,tn),ei=un.getProgramCacheKey(hi);let Zi=Xt.programs;Xt.environment=Ie.isMeshStandardMaterial?Vt.environment:null,Xt.fog=Vt.fog,Xt.envMap=(Ie.isMeshStandardMaterial?gn:It).get(Ie.envMap||Xt.environment),void 0===Zi&&(Ie.addEventListener("dispose",Yr),Zi=new Map,Xt.programs=Zi);let Mo=Zi.get(ei);if(void 0!==Mo){if(Xt.currentProgram===Mo&&Xt.lightsStateVersion===ii)return Ju(Ie,hi),Mo}else hi.uniforms=un.getUniforms(Ie),Ie.onBuild(tn,hi,S),Ie.onBeforeCompile(hi,S),Mo=un.acquireProgram(hi,ei),Zi.set(ei,Mo),Xt.uniforms=hi.uniforms;const Do=Xt.uniforms;(!Ie.isShaderMaterial&&!Ie.isRawShaderMaterial||!0===Ie.clipping)&&(Do.clippingPlanes=Se.uniform),Ju(Ie,hi),Xt.needsLights=function ch(Ie){return Ie.isMeshLambertMaterial||Ie.isMeshToonMaterial||Ie.isMeshPhongMaterial||Ie.isMeshStandardMaterial||Ie.isShadowMaterial||Ie.isShaderMaterial&&!0===Ie.lights}(Ie),Xt.lightsStateVersion=ii,Xt.needsLights&&(Do.ambientLightColor.value=cn.state.ambient,Do.lightProbe.value=cn.state.probe,Do.directionalLights.value=cn.state.directional,Do.directionalLightShadows.value=cn.state.directionalShadow,Do.spotLights.value=cn.state.spot,Do.spotLightShadows.value=cn.state.spotShadow,Do.rectAreaLights.value=cn.state.rectArea,Do.ltc_1.value=cn.state.rectAreaLTC1,Do.ltc_2.value=cn.state.rectAreaLTC2,Do.pointLights.value=cn.state.point,Do.pointLightShadows.value=cn.state.pointShadow,Do.hemisphereLights.value=cn.state.hemi,Do.directionalShadowMap.value=cn.state.directionalShadowMap,Do.directionalShadowMatrix.value=cn.state.directionalShadowMatrix,Do.spotShadowMap.value=cn.state.spotShadowMap,Do.spotShadowMatrix.value=cn.state.spotShadowMatrix,Do.pointShadowMap.value=cn.state.pointShadowMap,Do.pointShadowMatrix.value=cn.state.pointShadowMatrix);const Ds=Mo.getUniforms(),df=kk.seqWithValue(Ds.seq,Do);return Xt.currentProgram=Mo,Xt.uniformsList=df,Mo}function Ju(Ie,Vt){const tn=pt.get(Ie);tn.outputEncoding=Vt.outputEncoding,tn.instancing=Vt.instancing,tn.skinning=Vt.skinning,tn.morphTargets=Vt.morphTargets,tn.morphNormals=Vt.morphNormals,tn.morphColors=Vt.morphColors,tn.morphTargetsCount=Vt.morphTargetsCount,tn.numClippingPlanes=Vt.numClippingPlanes,tn.numIntersection=Vt.numClipIntersection,tn.vertexAlphas=Vt.vertexAlphas,tn.vertexTangents=Vt.vertexTangents,tn.toneMapping=Vt.toneMapping}li.setAnimationLoop(function ur(Ie){Tn&&Tn(Ie)}),"undefined"!=typeof self&&li.setContext(self),this.setAnimationLoop=function(Ie){Tn=Ie,er.setAnimationLoop(Ie),null===Ie?li.stop():li.start()},er.addEventListener("sessionstart",Gr),er.addEventListener("sessionend",Lr),this.render=function(Ie,Vt){if(void 0===Vt||!0===Vt.isCamera){if(!0!==C){if(!0===Ie.autoUpdate&&Ie.updateMatrixWorld(),null===Vt.parent&&Vt.updateMatrixWorld(),!0===er.enabled&&!0===er.isPresenting&&(!0===er.cameraAutoUpdate&&er.updateCamera(Vt),Vt=er.getCamera()),!0===Ie.isScene&&Ie.onBeforeRender(S,Ie,Vt,z),g=Le.get(Ie,w.length),g.init(),w.push(g),Z.multiplyMatrices(Vt.projectionMatrix,Vt.matrixWorldInverse),Ae.setFromProjectionMatrix(Z),Je=this.localClippingEnabled,Ge=Se.init(this.clippingPlanes,Je,Vt),p=Pn.get(Ie,y.length),p.init(),y.push(p),di(Ie,Vt,0,S.sortObjects),p.finish(),!0===S.sortObjects&&p.sort(ot,at),!0===Ge&&Se.beginShadows(),Bt.render(g.state.shadowsArray,Ie,Vt),!0===Ge&&Se.endShadows(),!0===this.info.autoReset&&this.info.reset(),on.render(p,Ie),g.setupLights(S.physicallyCorrectLights),Vt.isArrayCamera){const Xt=Vt.cameras;for(let cn=0,Jr=Xt.length;cn<Jr;cn++){const ii=Xt[cn];Ki(p,Ie,ii,ii.viewport)}}else Ki(p,Ie,Vt);null!==z&&(Ot.updateMultisampleRenderTarget(z),Ot.updateRenderTargetMipmap(z)),!0===Ie.isScene&&Ie.onAfterRender(S,Ie,Vt),vr.resetDefaultState(),j=-1,G=null,w.pop(),g=w.length>0?w[w.length-1]:null,y.pop(),p=y.length>0?y[y.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(Ie,Vt,tn){pt.get(Ie.texture).__webglTexture=Vt,pt.get(Ie.depthTexture).__webglTexture=tn;const Xt=pt.get(Ie);Xt.__hasExternalTextures=!0,Xt.__hasExternalTextures&&(Xt.__autoAllocateDepthBuffer=void 0===tn,Xt.__autoAllocateDepthBuffer||!0===kt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Xt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Ie,Vt){const tn=pt.get(Ie);tn.__webglFramebuffer=Vt,tn.__useDefaultFramebuffer=void 0===Vt},this.setRenderTarget=function(Ie,Vt=0,tn=0){z=Ie,P=Vt,B=tn;let Xt=!0;if(Ie){const ei=pt.get(Ie);void 0!==ei.__useDefaultFramebuffer?(ut.bindFramebuffer(36160,null),Xt=!1):void 0===ei.__webglFramebuffer?Ot.setupRenderTarget(Ie):ei.__hasExternalTextures&&Ot.rebindTextures(Ie,pt.get(Ie.texture).__webglTexture,pt.get(Ie.depthTexture).__webglTexture)}let cn=null,Jr=!1,ii=!1;if(Ie){const ei=Ie.texture;(ei.isData3DTexture||ei.isDataArrayTexture)&&(ii=!0);const Zi=pt.get(Ie).__webglFramebuffer;Ie.isWebGLCubeRenderTarget?(cn=Zi[Vt],Jr=!0):cn=Dt.isWebGL2&&Ie.samples>0&&!1===Ot.useMultisampledRTT(Ie)?pt.get(Ie).__webglMultisampledFramebuffer:Zi,re.copy(Ie.viewport),pe.copy(Ie.scissor),ne=Ie.scissorTest}else re.copy(je).multiplyScalar(Pe).floor(),pe.copy(_t).multiplyScalar(Pe).floor(),ne=ye;if(ut.bindFramebuffer(36160,cn)&&Dt.drawBuffers&&Xt&&ut.drawBuffers(Ie,cn),ut.viewport(re),ut.scissor(pe),ut.setScissorTest(ne),Jr){const ei=pt.get(Ie.texture);We.framebufferTexture2D(36160,36064,34069+Vt,ei.__webglTexture,tn)}else if(ii){const ei=pt.get(Ie.texture);We.framebufferTextureLayer(36160,36064,ei.__webglTexture,tn||0,Vt||0)}j=-1},this.readRenderTargetPixels=function(Ie,Vt,tn,Xt,cn,Jr,ii){if(!Ie||!Ie.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let hi=pt.get(Ie).__webglFramebuffer;if(Ie.isWebGLCubeRenderTarget&&void 0!==ii&&(hi=hi[ii]),hi){ut.bindFramebuffer(36160,hi);try{const ei=Ie.texture,Zi=ei.format,Mo=ei.type;if(Zi!==Xh&&$t.convert(Zi)!==We.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Do=Mo===ST&&(kt.has("EXT_color_buffer_half_float")||Dt.isWebGL2&&kt.has("EXT_color_buffer_float"));if(!(Mo===cb||$t.convert(Mo)===We.getParameter(35738)||Mo===Fv&&(Dt.isWebGL2||kt.has("OES_texture_float")||kt.has("WEBGL_color_buffer_float"))||Do))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Vt>=0&&Vt<=Ie.width-Xt&&tn>=0&&tn<=Ie.height-cn&&We.readPixels(Vt,tn,Xt,cn,$t.convert(Zi),$t.convert(Mo),Jr)}finally{const ei=null!==z?pt.get(z).__webglFramebuffer:null;ut.bindFramebuffer(36160,ei)}}},this.copyFramebufferToTexture=function(Ie,Vt,tn=0){const Xt=Math.pow(2,-tn),cn=Math.floor(Vt.image.width*Xt),Jr=Math.floor(Vt.image.height*Xt);Ot.setTexture2D(Vt,0),We.copyTexSubImage2D(3553,tn,0,0,Ie.x,Ie.y,cn,Jr),ut.unbindTexture()},this.copyTextureToTexture=function(Ie,Vt,tn,Xt=0){const cn=Vt.image.width,Jr=Vt.image.height,ii=$t.convert(tn.format),hi=$t.convert(tn.type);Ot.setTexture2D(tn,0),We.pixelStorei(37440,tn.flipY),We.pixelStorei(37441,tn.premultiplyAlpha),We.pixelStorei(3317,tn.unpackAlignment),Vt.isDataTexture?We.texSubImage2D(3553,Xt,Ie.x,Ie.y,cn,Jr,ii,hi,Vt.image.data):Vt.isCompressedTexture?We.compressedTexSubImage2D(3553,Xt,Ie.x,Ie.y,Vt.mipmaps[0].width,Vt.mipmaps[0].height,ii,Vt.mipmaps[0].data):We.texSubImage2D(3553,Xt,Ie.x,Ie.y,ii,hi,Vt.image),0===Xt&&tn.generateMipmaps&&We.generateMipmap(3553),ut.unbindTexture()},this.copyTextureToTexture3D=function(Ie,Vt,tn,Xt,cn=0){if(S.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Jr=Ie.max.x-Ie.min.x+1,ii=Ie.max.y-Ie.min.y+1,hi=Ie.max.z-Ie.min.z+1,ei=$t.convert(Xt.format),Zi=$t.convert(Xt.type);let Mo;if(Xt.isData3DTexture)Ot.setTexture3D(Xt,0),Mo=32879;else{if(!Xt.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Ot.setTexture2DArray(Xt,0),Mo=35866}We.pixelStorei(37440,Xt.flipY),We.pixelStorei(37441,Xt.premultiplyAlpha),We.pixelStorei(3317,Xt.unpackAlignment);const Do=We.getParameter(3314),Ds=We.getParameter(32878),df=We.getParameter(3316),_p=We.getParameter(3315),Pl=We.getParameter(32877),Il=tn.isCompressedTexture?tn.mipmaps[0]:tn.image;We.pixelStorei(3314,Il.width),We.pixelStorei(32878,Il.height),We.pixelStorei(3316,Ie.min.x),We.pixelStorei(3315,Ie.min.y),We.pixelStorei(32877,Ie.min.z),tn.isDataTexture||tn.isData3DTexture?We.texSubImage3D(Mo,cn,Vt.x,Vt.y,Vt.z,Jr,ii,hi,ei,Zi,Il.data):tn.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),We.compressedTexSubImage3D(Mo,cn,Vt.x,Vt.y,Vt.z,Jr,ii,hi,ei,Il.data)):We.texSubImage3D(Mo,cn,Vt.x,Vt.y,Vt.z,Jr,ii,hi,ei,Zi,Il),We.pixelStorei(3314,Do),We.pixelStorei(32878,Ds),We.pixelStorei(3316,df),We.pixelStorei(3315,_p),We.pixelStorei(32877,Pl),0===cn&&Xt.generateMipmaps&&We.generateMipmap(Mo),ut.unbindTexture()},this.initTexture=function(Ie){Ie.isCubeTexture?Ot.setTextureCube(Ie,0):Ie.isData3DTexture?Ot.setTexture3D(Ie,0):Ie.isDataArrayTexture?Ot.setTexture2DArray(Ie,0):Ot.setTexture2D(Ie,0),ut.unbindTexture()},this.resetState=function(){P=0,B=0,z=null,ut.reset(),vr.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class F1e extends Jq{}).prototype.isWebGL1Renderer=!0;class Qq extends zu{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}class Cc extends vS{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Rr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const pJ=new Be,mJ=new Be,gJ=new so,sV=new mk,Hk=new hS;class HT extends zu{constructor(e=new go,t=new Cc){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)pJ.fromBufferAttribute(t,i-1),mJ.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=pJ.distanceTo(mJ);e.setAttribute("lineDistance",new jr(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Hk.copy(r.boundingSphere),Hk.applyMatrix4(i),Hk.radius+=o,!1===e.ray.intersectsSphere(Hk))return;gJ.copy(i).invert(),sV.copy(e.ray).applyMatrix4(gJ);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,c=new Be,h=new Be,p=new Be,g=new Be,y=this.isLineSegments?2:1,w=r.index,C=r.attributes.position;if(null!==w)for(let z=Math.max(0,s.start),j=Math.min(w.count,s.start+s.count)-1;z<j;z+=y){const G=w.getX(z),re=w.getX(z+1);if(c.fromBufferAttribute(C,G),h.fromBufferAttribute(C,re),sV.distanceSqToSegment(c,h,g,p)>u)continue;g.applyMatrix4(this.matrixWorld);const ne=e.ray.origin.distanceTo(g);ne<e.near||ne>e.far||t.push({distance:ne,point:p.clone().applyMatrix4(this.matrixWorld),index:z,face:null,faceIndex:null,object:this})}else for(let z=Math.max(0,s.start),j=Math.min(C.count,s.start+s.count)-1;z<j;z+=y){if(c.fromBufferAttribute(C,z),h.fromBufferAttribute(C,z+1),sV.distanceSqToSegment(c,h,g,p)>u)continue;g.applyMatrix4(this.matrixWorld);const re=e.ray.origin.distanceTo(g);re<e.near||re>e.far||t.push({distance:re,point:p.clone().applyMatrix4(this.matrixWorld),index:z,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}const vJ=new Be,yJ=new Be;class Bk extends HT{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)vJ.fromBufferAttribute(t,i),yJ.fromBufferAttribute(t,i+1),r[i]=0===i?0:r[i-1],r[i+1]=r[i]+vJ.distanceTo(yJ);e.setAttribute("lineDistance",new jr(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}const Xk=new Be,Kk=new Be,mV=new Be,Zk=new Qh;class TJ extends go{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const i=Math.pow(10,4),o=Math.cos(mb*t),s=e.getIndex(),a=e.getAttribute("position"),u=s?s.count:a.count,c=[0,0,0],h=["a","b","c"],p=new Array(3),g={},y=[];for(let w=0;w<u;w+=3){s?(c[0]=s.getX(w),c[1]=s.getX(w+1),c[2]=s.getX(w+2)):(c[0]=w,c[1]=w+1,c[2]=w+2);const{a:S,b:C,c:P}=Zk;if(S.fromBufferAttribute(a,c[0]),C.fromBufferAttribute(a,c[1]),P.fromBufferAttribute(a,c[2]),Zk.getNormal(mV),p[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,p[1]=`${Math.round(C.x*i)},${Math.round(C.y*i)},${Math.round(C.z*i)}`,p[2]=`${Math.round(P.x*i)},${Math.round(P.y*i)},${Math.round(P.z*i)}`,p[0]!==p[1]&&p[1]!==p[2]&&p[2]!==p[0])for(let B=0;B<3;B++){const z=(B+1)%3,j=p[B],G=p[z],re=Zk[h[B]],pe=Zk[h[z]],ne=`${j}_${G}`,he=`${G}_${j}`;he in g&&g[he]?(mV.dot(g[he].normal)<=o&&(y.push(re.x,re.y,re.z),y.push(pe.x,pe.y,pe.z)),g[he]=null):ne in g||(g[ne]={index0:c[B],index1:c[z],normal:mV.clone()})}}for(const w in g)if(g[w]){const{index0:S,index1:C}=g[w];Xk.fromBufferAttribute(a,S),Kk.fromBufferAttribute(a,C),y.push(Xk.x,Xk.y,Xk.z),y.push(Kk.x,Kk.y,Kk.z)}this.setAttribute("position",new jr(y,3))}}}const Ks={arraySlice:function(n,e,t){return Ks.isTypedArray(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(function e(i,o){return n[i]-n[o]}),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let o=0,s=0;s!==r;++o){const a=t[o]*e;for(let u=0;u!==e;++u)i[s++]=n[a+u]}return i},flattenJSON:function(n,e,t,r){let i=1,o=n[0];for(;void 0!==o&&void 0===o[r];)o=n[i++];if(void 0===o)return;let s=o[r];if(void 0!==s)if(Array.isArray(s))do{s=o[r],void 0!==s&&(e.push(o.time),t.push.apply(t,s)),o=n[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[r],void 0!==s&&(e.push(o.time),s.toArray(t,t.length)),o=n[i++]}while(void 0!==o);else do{s=o[r],void 0!==s&&(e.push(o.time),t.push(s)),o=n[i++]}while(void 0!==o)},subclip:function(n,e,t,r,i=30){const o=n.clone();o.name=e;const s=[];for(let u=0;u<o.tracks.length;++u){const c=o.tracks[u],h=c.getValueSize(),p=[],g=[];for(let y=0;y<c.times.length;++y){const w=c.times[y]*i;if(!(w<t||w>=r)){p.push(c.times[y]);for(let S=0;S<h;++S)g.push(c.values[y*h+S])}}0!==p.length&&(c.times=Ks.convertArray(p,c.times.constructor),c.values=Ks.convertArray(g,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let u=0;u<o.tracks.length;++u)a>o.tracks[u].times[0]&&(a=o.tracks[u].times[0]);for(let u=0;u<o.tracks.length;++u)o.tracks[u].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=t.tracks[s],u=a.ValueTypeName;if("bool"===u||"string"===u)continue;const c=n.tracks.find(function(P){return P.name===a.name&&P.ValueTypeName===u});if(void 0===c)continue;let h=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let g=0;const y=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);const w=a.times.length-1;let S;if(o<=a.times[0])S=Ks.arraySlice(a.values,h,p-h);else if(o>=a.times[w]){const P=w*p+h;S=Ks.arraySlice(a.values,P,P+p-h)}else{const P=a.createInterpolant(),B=h,z=p-h;P.evaluate(o),S=Ks.arraySlice(P.resultBuffer,B,z)}"quaternion"===u&&(new ld).fromArray(S).normalize().conjugate().toArray(S);const C=c.times.length;for(let P=0;P<C;++P){const B=P*y+g;if("quaternion"===u)ld.multiplyQuaternionsFlat(c.values,B,S,0,c.values,B);else{const z=y-2*g;for(let j=0;j<z;++j)c.values[B+j]-=S[j]}}}return n.blendMode=2501,n}};class lL{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(void 0===i){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=t[++r],e<i)break t}s=t.length;break n}if(e>=o)break e;{const a=t[1];e<a&&(r=2,o=a);for(let u=r-2;;){if(void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(i=o,o=t[--r-1],e>=o)break t}s=r,r=0}}for(;r<s;){const a=r+s>>>1;e<t[a]?s=a:r=a+1}if(i=t[r],o=t[r-1],void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=r[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class NRe extends lL{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],u=i[s];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:o=e,a=2*t-r;break;case 2402:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=r}if(void 0===u)switch(this.getSettings_().endingEnd){case 2401:s=e,u=2*r-t;break;case 2402:s=1,u=r+i[1]-i[0];break;default:s=e-1,u=t}const c=.5*(r-t),h=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(u-r),this._offsetPrev=o*h,this._offsetNext=s*h}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,h=this._offsetPrev,p=this._offsetNext,g=this._weightPrev,y=this._weightNext,w=(r-t)/(i-t),S=w*w,C=S*w,P=-g*C+2*g*S-g*w,B=(1+g)*C+(-1.5-2*g)*S+(-.5+g)*w+1,z=(-1-y)*C+(1.5+y)*S+.5*w,j=y*C-y*S;for(let G=0;G!==a;++G)o[G]=P*s[h+G]+B*s[c+G]+z*s[u+G]+j*s[p+G];return o}}class NJ extends lL{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,h=(r-t)/(i-t),p=1-h;for(let g=0;g!==a;++g)o[g]=s[c+g]*p+s[u+g]*h;return o}}class FRe extends lL{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Qf{constructor(e,t,r,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ks.convertArray(t,this.TimeBufferType),this.values=Ks.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Ks.convertArray(e.times,Array),values:Ks.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new FRe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new NJ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new NRe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;-1!==s&&r[s]>t;)--s;if(++s,0!==o||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=Ks.arraySlice(r,o,s),this.values=Ks.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const u=r[a];if("number"==typeof u&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(null!==s&&s>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,s),e=!1;break}s=u}if(void 0!==i&&Ks.isTypedArray(i))for(let a=0,u=i.length;a!==u;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Ks.arraySlice(this.times),t=Ks.arraySlice(this.values),r=this.getValueSize(),i=2302===this.getInterpolation(),o=e.length-1;let s=1;for(let a=1;a<o;++a){let u=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(i)u=!0;else{const p=a*r,g=p-r,y=p+r;for(let w=0;w!==r;++w){const S=t[p+w];if(S!==t[g+w]||S!==t[y+w]){u=!0;break}}}if(u){if(a!==s){e[s]=e[a];const p=a*r,g=s*r;for(let y=0;y!==r;++y)t[g+y]=t[p+y]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,u=s*r,c=0;c!==r;++c)t[u+c]=t[a+c];++s}return s!==e.length?(this.times=Ks.arraySlice(e,0,s),this.values=Ks.arraySlice(t,0,s*r)):(this.times=e,this.values=t),this}clone(){const e=Ks.arraySlice(this.times,0),t=Ks.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Qf.prototype.TimeBufferType=Float32Array,Qf.prototype.ValueBufferType=Float32Array,Qf.prototype.DefaultInterpolation=2301;class IS extends Qf{}IS.prototype.ValueTypeName="bool",IS.prototype.ValueBufferType=Array,IS.prototype.DefaultInterpolation=2300,IS.prototype.InterpolantFactoryMethodLinear=void 0,IS.prototype.InterpolantFactoryMethodSmooth=void 0;(class FJ extends Qf{}).prototype.ValueTypeName="color";(class uL extends Qf{}).prototype.ValueTypeName="number";class HRe extends lL{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=(r-t)/(i-t);let c=e*a;for(let h=c+a;c!==h;c+=4)ld.slerpFlat(o,0,s,c-a,s,c,u);return o}}class $T extends Qf{InterpolantFactoryMethodLinear(e){return new HRe(this.times,this.values,this.getValueSize(),e)}}$T.prototype.ValueTypeName="quaternion",$T.prototype.DefaultInterpolation=2301,$T.prototype.InterpolantFactoryMethodSmooth=void 0;class NS extends Qf{}NS.prototype.ValueTypeName="string",NS.prototype.ValueBufferType=Array,NS.prototype.DefaultInterpolation=2300,NS.prototype.InterpolantFactoryMethodLinear=void 0,NS.prototype.InterpolantFactoryMethodSmooth=void 0;(class cL extends Qf{}).prototype.ValueTypeName="vector";new class HJ{constructor(e,t,r){const i=this;let u,o=!1,s=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(h){a++,!1===o&&void 0!==i.onStart&&i.onStart(h,s,a),o=!0},this.itemEnd=function(h){s++,void 0!==i.onProgress&&i.onProgress(h,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(h){void 0!==i.onError&&i.onError(h)},this.resolveURL=function(h){return u?u(h):h},this.setURLModifier=function(h){return u=h,this},this.addHandler=function(h,p){return c.push(h,p),this},this.removeHandler=function(h){const p=c.indexOf(h);return-1!==p&&c.splice(p,2),this},this.getHandler=function(h){for(let p=0,g=c.length;p<g;p+=2){const y=c[p],w=c[p+1];if(y.global&&(y.lastIndex=0),y.test(h))return w}return null}}};class URe extends zu{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Rr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class jJ extends URe{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}const bV="\\[\\]\\.:\\/",sDe=new RegExp("["+bV+"]","g"),wV="[^"+bV+"]",aDe="[^"+bV.replace("\\.","")+"]",hDe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",wV)+/(WCOD+)?/.source.replace("WCOD",aDe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wV)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wV)+"$"),fDe=["material","materials","bones"];class pDe{constructor(e,t,r){const i=r||Fs.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}let Fs=(()=>{class n{constructor(t,r,i){this.path=r,this.parsedPath=i||n.parseTrackName(r),this.node=n.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,i){return t&&t.isAnimationObjectGroup?new n.Composite(t,r,i):new n(t,r,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(sDe,"")}static parseTrackName(t){const r=hDe.exec(t);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},o=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==o&&-1!==o){const s=i.nodeName.substring(o+1);-1!==fDe.indexOf(s)&&(i.nodeName=i.nodeName.substring(0,o),i.objectName=s)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(r);if(void 0!==i)return i}if(t.children){const i=function(s){for(let a=0;a<s.length;a++){const u=s[a];if(u.name===r||u.uuid===r)return u;const c=i(u.children);if(c)return c}return null},o=i(t.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)t[r++]=i[o]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,i=r.objectName,o=r.propertyName;let s=r.propertyIndex;if(t||(t=n.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(i){let h=r.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let p=0;p<t.length;p++)if(t[p].name===h){h=p;break}break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==h){if(void 0===t[h])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[h]}}const a=t[o];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+o+" but it wasn't found.",t);let u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==s){if("morphTargetInfluences"===o){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[s]&&(s=t.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=pDe,n})();Fs.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Fs.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Fs.prototype.GetterByBindingType=[Fs.prototype._getValue_direct,Fs.prototype._getValue_array,Fs.prototype._getValue_arrayElement,Fs.prototype._getValue_toArray],Fs.prototype.SetterByBindingTypeAndVersioning=[[Fs.prototype._setValue_direct,Fs.prototype._setValue_direct_setNeedsUpdate,Fs.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fs.prototype._setValue_array,Fs.prototype._setValue_array_setNeedsUpdate,Fs.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fs.prototype._setValue_arrayElement,Fs.prototype._setValue_arrayElement_setNeedsUpdate,Fs.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fs.prototype._setValue_fromArray,Fs.prototype._setValue_fromArray_setNeedsUpdate,Fs.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];function xDe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(r[u]=0,r[256|u]=32768,i[u]=24,i[256|u]=24):c<-14?(r[u]=1024>>-c-14,r[256|u]=1024>>-c-14|32768,i[u]=-c-1,i[256|u]=-c-1):c<=15?(r[u]=c+15<<10,r[256|u]=c+15<<10|32768,i[u]=13,i[256|u]=13):c<128?(r[u]=31744,r[256|u]=64512,i[u]=24,i[256|u]=24):(r[u]=31744,r[256|u]=64512,i[u]=13,i[256|u]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,h=0;for(;0==(8388608&c);)c<<=1,h-=8388608;c&=-8388609,h+=947912704,o[u]=c|h}for(let u=1024;u<2048;++u)o[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)32!==u&&(a[u]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"142"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="142");var TDe=b(4722);let CV=(()=>{class n{constructor(){this.aspectRatio=0,this.Width=0,this.Height=0,this.scene=new Qq,this.scene.background=new Rr(16777215),this.render=this.render.bind(this)}OnInit(t,r,i,o,s){this.aspectRatio=t,this.Width=o,this.Height=s,this.createCamera(t,o,s),this.add(new jJ(15790320)),this.createRender(r,i,o,s),this.addControls()}createHelper(){}addControls(){this.controls=new TDe.OrbitControls(this.camera,this.renderer.domElement),this.controls.addEventListener("change",this.render),this.controls.target.set(0,10,0),this.controls.update()}createCamera(t,r,i){t=null===t?this.aspectRatio:t,r=null===r?this.Width:r,i=null===i?this.Height:i,void 0!==this.scene.getObjectByName("camera")&&this.scene.remove(this.camera),this.camera=new Dk(-r/50,r/50,i/50,-i/50,-1e3,1e3),this.camera.position.set(10,-5,5),this.camera.name="camera",this.scene.add(this.camera)}createRender(t,r,i,o){this.renderer=new Jq({preserveDrawingBuffer:!0,canvas:t,alpha:!1,antialias:!0}),this.renderer.setPixelRatio(r),this.renderer.setSize(i,o),this.renderer.shadowMap.enabled=!0}onResize(t,r,i){this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(t),this.renderer.setSize(r,i),this.render()}render(){this.renderer.render(this.scene,this.camera)}getBoundingClientRect(){return this.renderer.domElement.getBoundingClientRect()}add(...t){for(const r of t)this.scene.add(r)}remove(...t){for(const r of t)this.scene.remove(r)}removeByName(...t){for(const r of t){const i=this.scene.getObjectByName(r);void 0!==i&&this.scene.remove(i)}}getSettingJson(){return{camera:{x:this.camera.position.x,y:this.camera.position.y,z:this.camera.position.z}}}clear(){for(;this.scene.children.length>0;)this.scene.remove(this.scene.children[0]);this.createHelper()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ef=(()=>{class n{constructor(){this.pavement={i1:2,i2:2,T:.2},this.display={pavement:!0,slab:!0,beam:!0,mid:!0,gusset01:!0,gusset02:!0,gusset03:!0,cross:!0,cross_u:!1,cross_l:!0,gusset04:!0,crossbeam:!0,endbeam:!0},this.slab={b1:4.25,b2:4.25,b3:.6,i1:2,i2:2,j1:2,j2:2,SH:.55,T1:.2,T2:.1,n:3,Ss:1.025},this.beam={amount_V:4,W:1700,D:310,tw:28,tf:24},this.mid={A:75,B:75,H:1240,t:9,s:0,s_in:160,s_out:160,dz:300,GA1:310,GB1:490,GC1:490,GD1:150,Gt1:9,GA2:230,GB2:250,GC2:120,GD2:150,Gt2:9,Gdx2:0,GA3:340,GB3:290,GC3:100,GD3:340,Gt3:9,Gdx3:0},this.cross={W2:120,D3:180,tf2:12,tw2:12,s_edge:200,s_middle:200,GA4:310,GB4:490,GC4:490,GD4:150,Gt4:9},this.crossbeam={W3:1280,D4:250,tf3:12,tw3:12,s_edge2:0,s_middle2:0,location2:1},this.endbeam={D5:250,tf4:12,tw4:12,s_edge3:0,s_middle3:0},this.others={Name_P:"\u3007\u3007\u6a4b\u6881\u4e88\u5099\u8a2d\u8a08",Name_R:"\u56fd\u9053\u3007\u3007\u53f7\u3007\u3007\u6a4b",Class_R:"\u7b2c3\u7a2e-\u7b2c1\u7d1a",L:30,L_01:29.8,L_02:29,Milepost_B:23.2,Milepost_E:23.23,BP:"NO.1+10.0",BPx:0,BPy:0,BPz:0,EP:"NO.3+0.0",EPx:0,EPy:30,EPz:0,amount_H:6}}palam(){return{others:this.others,display:this.display,pavement:this.pavement,slab:this.slab,beam:this.beam,mid:this.mid,cross:this.cross,crossbeam:this.crossbeam,endbeam:this.endbeam}}set_palam(t){"others"in t&&(this.others=t.others),"display"in t&&(this.display=t.display),"pavement"in t&&(this.pavement=t.pavement),"slab"in t&&(this.slab=t.slab),"beam"in t&&(this.beam=t.beam),"mid"in t&&(this.mid=t.mid),"cross"in t&&(this.cross=t.cross),"crossbeam"in t&&(this.crossbeam=t.crossbeam),"endbeam"in t&&(this.endbeam=t.endbeam)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hQ{parse(e){let t="",r=0,i=0,o=0;const s=new Be,a=new Rr,u=new Be,c=new Cn,h=[];return e.traverse(function(w){!0===w.isMesh&&function p(w){let S=0,C=0,P=0;const B=w.geometry,z=new Sc;if(!0!==B.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const j=B.getAttribute("position"),G=B.getAttribute("normal"),re=B.getAttribute("uv"),pe=B.getIndex();if(t+="o "+w.name+"\n",w.material&&w.material.name&&(t+="usemtl "+w.material.name+"\n"),void 0!==j)for(let ne=0,he=j.count;ne<he;ne++,S++)s.fromBufferAttribute(j,ne),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z+"\n";if(void 0!==re)for(let ne=0,he=re.count;ne<he;ne++,P++)c.fromBufferAttribute(re,ne),t+="vt "+c.x+" "+c.y+"\n";if(void 0!==G){z.getNormalMatrix(w.matrixWorld);for(let ne=0,he=G.count;ne<he;ne++,C++)u.fromBufferAttribute(G,ne),u.applyMatrix3(z).normalize(),t+="vn "+u.x+" "+u.y+" "+u.z+"\n"}if(null!==pe)for(let ne=0,he=pe.count;ne<he;ne+=3){for(let we=0;we<3;we++){const Pe=pe.getX(ne+we)+1;h[we]=r+Pe+(G||re?"/"+(re?i+Pe:"")+(G?"/"+(o+Pe):""):"")}t+="f "+h.join(" ")+"\n"}else for(let ne=0,he=j.count;ne<he;ne+=3){for(let we=0;we<3;we++){const Pe=ne+we+1;h[we]=r+Pe+(G||re?"/"+(re?i+Pe:"")+(G?"/"+(o+Pe):""):"")}t+="f "+h.join(" ")+"\n"}r+=S,i+=P,o+=C}(w),!0===w.isLine&&function g(w){let S=0;const C=w.geometry,P=w.type;if(!0!==C.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const B=C.getAttribute("position");if(t+="o "+w.name+"\n",void 0!==B)for(let z=0,j=B.count;z<j;z++,S++)s.fromBufferAttribute(B,z),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z+"\n";if("Line"===P){t+="l ";for(let z=1,j=B.count;z<=j;z++)t+=r+z+" ";t+="\n"}if("LineSegments"===P)for(let z=1,j=z+1,G=B.count;z<G;z+=2,j=z+1)t+="l "+(r+z)+" "+(r+j)+"\n";r+=S}(w),!0===w.isPoints&&function y(w){let S=0;const C=w.geometry;if(!0!==C.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const P=C.getAttribute("position"),B=C.getAttribute("color");if(t+="o "+w.name+"\n",void 0!==P){for(let z=0,j=P.count;z<j;z++,S++)s.fromBufferAttribute(P,z),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z,void 0!==B&&(a.fromBufferAttribute(B,z).convertLinearToSRGB(),t+=" "+a.r+" "+a.g+" "+a.b),t+="\n";t+="p ";for(let z=1,j=P.count;z<=j;z++)t+=r+z+" ";t+="\n"}r+=S}(w)}),t}}var EV=b(5226);let tf=(()=>{class n{constructor(){}PolyData(t,r){const i=[];for(let h of t)i.push(new Be(h[r[1]],h[r[2]],h[r[3]]));const o=(new go).setFromPoints(i),s=new jv({transparent:!0,side:2,color:8359839,opacity:.85}),a=new xc(o,s),u=new TJ(o),c=new Bk(u,new Cc({color:0}));return a.add(c),a}degrees(t){return t*(180/Math.PI)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KT=(()=>{class n{constructor(t){this.pv=t}CreateBeam(t,r,i,o,s,a){const u=a[0],c=a[1],h=a[2],p=s/2,g=r/2,y=i/2,w=y+o,S=[u-p,c,h-y],C=[u-g,c,h-y],P=[u-g,c,h-w],B=[u+g,c,h-w],z=[u+g,c,h-y],j=[u+p,c,h-y],G=[u+p,c,h+y],re=[u+g,c,h+y],pe=[u+g,c,h+w],ne=[u-g,c,h+w],he=[u-g,c,h+y],we=[u-p,c,h+y],Pe=[u-p,c+t,h-y],ot=[u-g,c+t,h-y],at=[u-g,c+t,h-w],je=[u+g,c+t,h-w],_t=[u+g,c+t,h-y],ye=[u+p,c+t,h-y],Ae=[u+p,c+t,h+y],Ge=[u+g,c+t,h+y],Je=[u+g,c+t,h+w],bt=[u-g,c+t,h+w],Z=[u-g,c+t,h+y],$=[u-p,c+t,h+y],be=[C,P,ot],Ee=[P,B,at],We=[B,z,je],Mt=[z,j,_t],kt=[j,G,ye],Dt=[G,re,Ae],ut=[re,pe,Ge],Lt=[pe,ne,Je],pt=[ne,he,bt],Ot=[he,we,Z],It=[we,S,$],gn=[ot,Pe,C],dn=[at,ot,P],Xn=[je,at,B],Hn=[_t,je,z],un=[ye,_t,j],xn=[Ae,ye,G],Pn=[Ge,Ae,re],Le=[Je,Ge,pe],Se=[bt,Je,ne],Bt=[Z,bt,he],on=[$,Z,we],pn=[Pe,$,S],Nn=this.pv.PolyData([S,C,Pe],[3,0,1,2]),Er=this.pv.PolyData(be,[3,0,1,2]),$t=this.pv.PolyData(Ee,[3,0,1,2]),vr=this.pv.PolyData(We,[3,0,1,2]),or=this.pv.PolyData(Mt,[3,0,1,2]),er=this.pv.PolyData(kt,[3,0,1,2]),ft=this.pv.PolyData(Dt,[3,0,1,2]),jn=this.pv.PolyData(ut,[3,0,1,2]),zn=this.pv.PolyData(Lt,[3,0,1,2]),Yr=this.pv.PolyData(pt,[3,0,1,2]),sr=this.pv.PolyData(Ot,[3,0,1,2]),Kr=this.pv.PolyData(It,[3,0,1,2]),Tn=this.pv.PolyData(gn,[3,0,1,2]),ur=this.pv.PolyData(dn,[3,0,1,2]),Gr=this.pv.PolyData(Xn,[3,0,1,2]),Lr=this.pv.PolyData(Hn,[3,0,1,2]),li=this.pv.PolyData(un,[3,0,1,2]),di=this.pv.PolyData(xn,[3,0,1,2]),Ki=this.pv.PolyData(Pn,[3,0,1,2]),Vo=this.pv.PolyData(Le,[3,0,1,2]),Rs=this.pv.PolyData(Se,[3,0,1,2]),Ea=this.pv.PolyData(Bt,[3,0,1,2]),Ta=this.pv.PolyData(on,[3,0,1,2]),Ju=this.pv.PolyData(pn,[3,0,1,2]),$l=[C,B,z],ch=[S,j,G],Ie=[S,G,we],Vt=[re,pe,ne],tn=[re,ne,he],Xt=[ot,at,je],cn=[ot,je,_t],Jr=[Pe,ye,Ae],ii=[Pe,Ae,$],hi=[Ge,Je,bt],ei=[Ge,bt,Z],Zi=this.pv.PolyData([C,P,B],[3,0,1,2]),Mo=this.pv.PolyData($l,[3,0,1,2]),Do=this.pv.PolyData(ch,[3,0,1,2]),Ds=this.pv.PolyData(Ie,[3,0,1,2]),df=this.pv.PolyData(Vt,[3,0,1,2]),_p=this.pv.PolyData(tn,[3,0,1,2]),Pl=this.pv.PolyData(Xt,[3,0,1,2]),Il=this.pv.PolyData(cn,[3,0,1,2]),ho=this.pv.PolyData(Jr,[3,0,1,2]),Ac=this.pv.PolyData(ii,[3,0,1,2]),Zs=this.pv.PolyData(hi,[3,0,1,2]),Oc=this.pv.PolyData(ei,[3,0,1,2]),xi=new zi;return xi.add(Nn),xi.add(Er),xi.add($t),xi.add(vr),xi.add(or),xi.add(er),xi.add(ft),xi.add(jn),xi.add(zn),xi.add(Yr),xi.add(sr),xi.add(Kr),xi.add(Tn),xi.add(ur),xi.add(Gr),xi.add(Lr),xi.add(li),xi.add(di),xi.add(Ki),xi.add(Vo),xi.add(Rs),xi.add(Ea),xi.add(Ta),xi.add(Ju),xi.add(Zi),xi.add(Mo),xi.add(Do),xi.add(Ds),xi.add(df),xi.add(_p),xi.add(Pl),xi.add(Il),xi.add(ho),xi.add(Ac),xi.add(Zs),xi.add(Oc),xi}}return n.\u0275fac=function(t){return new(t||n)(gt(tf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RDe=(()=>{class n{constructor(t){this.Hsteel=t}Array(t,r,i,o,s,a,u,c,h,p,g){const y=[];let w=-(c-1)*h/2,S=0,C=0;c%2==0?(S=c/2,C=c/2):(S=(c-1)/2+1,C=(c-1)/2);const P=-(a+u)/2;let B=i/2+o;for(let j=0;j<S;j++)y.push([w,P,B]),w+=h,B+=h*p;B-=c%2==0?h*g:h*g*2;for(let j=0;j<S;j++)y.push([w,P,B]),w+=h,B-=h*g;const z=new zi;for(let j=0;j<c;j++){const G=this.Hsteel.CreateBeam(t,r,i,o,s,y[j]);G.name="Hsteel-01-"+String(j),z.add(G)}return z}}return n.\u0275fac=function(t){return new(t||n)(gt(KT))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dm=(()=>{class n{constructor(){}rotate(t,r,i,o,s){new Be(r[0],r[1],r[2]);const u=Math.floor(i),c=Math.floor(o),h=Math.floor(s);return t.clone().rotateX(u*Math.PI/180).rotateY(c*Math.PI/180).rotateZ(h*Math.PI/180)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nf=(()=>{class n{constructor(){}MoveObject(t,r){const i=new Be(r[0],r[1],r[2]),o=t.clone();return o.position.set(i.x,i.y,i.z),o}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DDe=(()=>{class n{constructor(t,r,i){this.Hsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,h,p,g,y){const w=h-1,S=g-(s+a),C=g-2*a,B=-C/2;let z=r/2+i;const j=this.Hsteel.CreateBeam(S,t,r,i,o,[0,-S/2,z]),G=this.Hsteel.CreateBeam(C,t,r,i,o,[0,B,z]),re=a-s,pe=this.Rotate.rotate(j,[0,0,0],0,0,90),ne=this.Move.MoveObject(pe,[-re,0,0]),he=this.Move.MoveObject(pe,[re,0,0]),we=this.Rotate.rotate(G,[0,0,0],0,0,90),Pe=(w-1)*g/2;let ot=0;z=u;const at=[];for(let ye=0;ye<c;ye++){const Ae=this.Move.MoveObject(ne,[-Pe,ot,z]),Ge=this.Move.MoveObject(he,[Pe,ot,z]);let Je=-Pe+g;at.push(Ae),at.push(Ge);for(let bt=0;bt<w-2;bt++){const Z=this.Move.MoveObject(we,[Je,ot,z]);at.push(Z),Je+=g}ot+=p}const je=new zi;let _t=0;for(let ye=0;ye<y.length;ye++){let Ae=y[ye]*w;for(let Ge=0;Ge<w;Ge++){const Je=at[Ae];Je.name="Cr_"+String(_t),je.add(Je),Ae+=1,_t+=1}}return je}}return n.\u0275fac=function(t){return new(t||n)(gt(KT),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ADe=(()=>{class n{constructor(t,r,i,o){this.pv=t,this.Hsteel=r,this.Rotate=i,this.Move=o}Array_V(t,r,i,o,s,a,u,c,h,p,g){const y=Math.sqrt(Math.pow(c/2,2)+Math.pow(h,2))-(s+a),C=this.Hsteel.CreateBeam(y,t,r,i,o,[0,-y/2,r/2+i]),P=s-a;let B=c/4,z=3*c/4;const j=this.Move.MoveObject(C,[P,B,p]),G=this.Move.MoveObject(C,[P,z,p]);let re=Math.round(10*this.pv.degrees(Math.atan(h/(c/2))))/10;re*=1==g?1:-1;const pe=this.Rotate.rotate(j,[0,B,p],0,0,-re),ne=this.Rotate.rotate(G,[0,z,p],0,0,re),he=[];he.push(pe),he.push(ne);const we=new zi;let Pe=0;1==g&&(Pe+=2*(u-1));for(let ot=0;ot<u-1;ot++){const at=this.Move.MoveObject(he[0],[P,B,p]);at.name="Lu_"+String(Pe),we.add(at);const je=this.Move.MoveObject(he[1],[P,z,p]);we.add(je),je.name="Lu_"+String(Pe+1),B+=c,z+=c,Pe+=2}return we}Array(t,r,i,o,s,a,u,c,h,p,g,y){const w=this.Array_V(t,r,i,o,s,a,u,h,p,g,!1),S=this.Array_V(t,r,i,o,s,a,u,h,p,g,!0);let C=p/2*(c-2);1==y&&(C*=-1);const P=this.Move.MoveObject(w,[-C,0,0]),B=this.Move.MoveObject(S,[C,0,0]),z=new zi;return z.add(P,B),z}}return n.\u0275fac=function(t){return new(t||n)(gt(tf),gt(KT),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ODe=(()=>{class n{constructor(t,r,i,o){this.pv=t,this.Hsteel=r,this.Rotate=i,this.Move=o}Array_V(t,r,i,o,s,a,u,c,h,p,g){const y=Math.sqrt(Math.pow(c/2,2)+Math.pow(h,2))-(s+a),C=this.Hsteel.CreateBeam(y,t,r,i,o,[0,-y/2,r/2+i]),P=s-a;let B=c/4,z=3*c/4;const j=this.Move.MoveObject(C,[P,B,p]),G=this.Move.MoveObject(C,[P,z,p]);let re=Math.round(10*this.pv.degrees(Math.atan(h/(c/2))))/10;re*=1==g?1:-1;const pe=this.Rotate.rotate(j,[0,B,p],0,0,-re),ne=this.Rotate.rotate(G,[0,z,p],0,0,re),he=[];he.push(pe),he.push(ne);const we=new zi;let Pe=0;1==g&&(Pe+=2*(u-1));for(let ot=0;ot<u-1;ot++){const at=this.Move.MoveObject(he[0],[P,B,p]);at.name="Ll_"+String(Pe),we.add(at);const je=this.Move.MoveObject(he[1],[P,z,p]);we.add(je),je.name="Ll_"+String(Pe+1),B+=c,z+=c,Pe+=2}return we}Array(t,r,i,o,s,a,u,c,h,p,g,y){const w=this.Array_V(t,r,i,o,s,a,u,h,p,g,!1),S=this.Array_V(t,r,i,o,s,a,u,h,p,g,!0);let C=p/2*(c-2);1==y&&(C*=-1);const P=this.Move.MoveObject(w,[-C,0,0]),B=this.Move.MoveObject(S,[C,0,0]),z=new zi;return z.add(P,B),z}}return n.\u0275fac=function(t){return new(t||n)(gt(tf),gt(KT),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kDe=(()=>{class n{constructor(t,r,i){this.Hsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,h,p){const g=h-1,y=p-(s+a),w=p-2*a,C=-w/2;let P=r/2+i;const B=this.Hsteel.CreateBeam(y,t,r,i,o,[0,-y/2,P]),z=this.Hsteel.CreateBeam(w,t,r,i,o,[0,C,P]),j=a-s,G=this.Rotate.rotate(B,[0,0,0],0,0,90),re=this.Rotate.rotate(z,[0,0,0],0,0,90),pe=p/2*(g-1)+j/2;P=u;let ne=0,he=0;const we=new zi;for(let Pe=0;Pe<2;Pe++){const ot=this.Move.MoveObject(G,[-pe,ne,P]);ot.name="Cu_"+String(he),we.add(ot);let at=he+1,je=p/2*(g-1)-p;for(let ye=0;ye<g-2;ye++){const Ae=this.Move.MoveObject(re,[-je,ne,P]);Ae.name="Cu_"+String(at),we.add(Ae),je-=p,at+=1}he+=g-1;const _t=this.Move.MoveObject(G,[pe,ne,P]);_t.name="Cu_"+String(he),we.add(_t),he+=1,ne+=c}return we}}return n.\u0275fac=function(t){return new(t||n)(gt(KT),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LDe=(()=>{class n{constructor(t,r,i){this.pv=t,this.Rotate=r,this.Move=i}Create_Lsteel_R(t,r,i,o){const s=[],a=new zi;s.push([[0,0,0],[r,0,0],[r,i,0],[i,i,0],[i,t,0],[0,t,0]]),s.push([[0,0,o],[r,0,o],[r,i,o],[i,i,o],[i,t,o],[0,t,o]]);for(let $=0;$<s.length-1;$++){const de=s[$],be=s[$+1],Ee=de.concat();Ee.splice(0,1),Ee.push(de[0]);const We=be.concat();We.splice(0,1),We.push(be[0]);for(let Mt=0;Mt<de.length;Mt++){const Dt=[be[Mt],We[Mt],Ee[Mt]],ut=this.pv.PolyData([de[Mt],Ee[Mt],be[Mt]],[3,0,1,2]),Lt=this.pv.PolyData(Dt,[3,0,1,2]);a.add(Lt,ut)}}const j=s[0],G=s[s.length-1],pe=[j[0],j[2],j[3]],ne=[j[0],j[3],j[4]],he=[j[0],j[4],j[5]],we=[G[0],G[1],G[2]],Pe=[G[0],G[2],G[3]],ot=[G[0],G[3],G[4]],at=[G[0],G[4],G[5]],je=this.pv.PolyData([j[0],j[1],j[2]],[3,0,1,2]),_t=this.pv.PolyData(pe,[3,0,1,2]),ye=this.pv.PolyData(ne,[3,0,1,2]),Ae=this.pv.PolyData(he,[3,0,1,2]),Ge=this.pv.PolyData(we,[3,0,1,2]),Je=this.pv.PolyData(Pe,[3,0,1,2]),bt=this.pv.PolyData(ot,[3,0,1,2]),Z=this.pv.PolyData(at,[3,0,1,2]);return a.add(je,_t,ye,Ae,Ge,Je,bt,Z),a}Create_Lsteel_L(t,r,i,o){const s=[],a=new zi;s.push([[0,0,0],[-r,0,0],[-r,i,0],[-i,i,0],[-i,t,0],[0,t,0]]),s.push([[0,0,o],[-r,0,o],[-r,i,o],[-i,i,o],[-i,t,o],[0,t,o]]);for(let $=0;$<s.length-1;$++){const de=s[$],be=s[$+1],Ee=de.concat();Ee.splice(0,1),Ee.push(de[0]);const We=be.concat();We.splice(0,1),We.push(be[0]);for(let Mt=0;Mt<de.length;Mt++){const Dt=[be[Mt],We[Mt],Ee[Mt]],ut=this.pv.PolyData([de[Mt],Ee[Mt],be[Mt]],[3,0,1,2]),Lt=this.pv.PolyData(Dt,[3,0,1,2]);a.add(ut,Lt)}}const j=s[0],G=s[s.length-1],pe=[j[0],j[2],j[3]],ne=[j[0],j[3],j[4]],he=[j[0],j[4],j[5]],we=[G[0],G[1],G[2]],Pe=[G[0],G[2],G[3]],ot=[G[0],G[3],G[4]],at=[G[0],G[4],G[5]],je=this.pv.PolyData([j[0],j[1],j[2]],[3,0,1,2]),_t=this.pv.PolyData(pe,[3,0,1,2]),ye=this.pv.PolyData(ne,[3,0,1,2]),Ae=this.pv.PolyData(he,[3,0,1,2]),Ge=this.pv.PolyData(we,[3,0,1,2]),Je=this.pv.PolyData(Pe,[3,0,1,2]),bt=this.pv.PolyData(ot,[3,0,1,2]),Z=this.pv.PolyData(at,[3,0,1,2]);return a.add(je,_t,ye,Ae,Ge,Je,bt,Z),a}exchange(t,r,i){const o=this.Rotate.rotate(t,[0,0,0],0,r,0);return this.Move.MoveObject(o,i)}add_LSteel_R(t,r,i,o,s,a,u,c,h){const p=Math.sqrt(Math.pow(o,2)+Math.pow(s,2))-(a+u),g=a*s/(p+a+u),y=a*o/(p+a+u)+c+h,w=this.Create_Lsteel_R(t,r,i,p),S=Math.round(10*this.pv.degrees(Math.atan(s/o)))/10;return this.exchange(w,S,[g,0,y])}add_LSteel_L(t,r,i,o,s,a,u,c,h){const p=Math.sqrt(Math.pow(o,2)+Math.pow(s,2))-(a+u),g=-a*s/(p+a+u),y=a*o/(p+a+u)+c+h,w=this.Create_Lsteel_L(t,r,i,p),S=-Math.round(10*this.pv.degrees(Math.atan(s/o)))/10;return this.exchange(w,S,[g,0,y])}add_LSteel_T(t,r,i,o,s,a,u,c){const h=2*a-2*o,p=h/2,g=s+u+c,y=this.Create_Lsteel_L(t,r,i,h);return this.exchange(y,-90,[p,0,g])}add_LSteel_D(t,r,i,o,s,a,u){const c=2*s-2*o,h=c/2,p=a+u,g=this.Create_Lsteel_L(t,r,i,c);return this.exchange(g,90,[-h,0,p])}add_LSteel(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P,B,z,j){const G=this.add_LSteel_R(t,r,i,w,S,P,B,z,j),re=this.add_LSteel_L(o,s,a,w,S,P,B,z,j),pe=this.add_LSteel_T(u,c,h,C,w,S,z,j),ne=this.add_LSteel_D(p,g,y,C,S,z,j),he=[];return he.push(re,G,pe,ne),he}}return n.\u0275fac=function(t){return new(t||n)(gt(tf),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PDe=(()=>{class n{constructor(t,r,i){this.Lsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P,B,z,j,G,re,pe,ne,he){const we=this.Lsteel.add_LSteel(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P,B,z,j),Pe=[],ot=[],at=[],je=[],_t=[],ye=[],Ae=[],Ge=[],Je=Math.sqrt(Math.pow(w,2)+Math.pow(S,2))-(P+B);let bt=0;const Z=P*w/(Je+P+B)+z+j;for(let ut=0;ut<G;ut++){let Lt=P*S/(Je+P+B)-(re-2)*ne/2;for(let pt=0;pt<re-1;pt++)Pe.push([Lt,bt,Z]),Lt+=ne;bt+=pe}for(let ut=0;ut<he.length;ut++){let Lt=he[ut]*(re-1);for(let pt=0;pt<re-1;pt++)_t.push(Pe[Lt]),Lt+=1}let $=0;const de=P*w/(Je+P+B)+z+j;for(let ut=0;ut<G;ut++){let Lt=-P*S/(Je+P+B)-(re-2)*ne/2;for(let pt=0;pt<re-1;pt++)ot.push([Lt,$,de]),Lt+=ne;$+=pe}for(let ut=0;ut<he.length;ut++){let Lt=he[ut]*(re-1);for(let pt=0;pt<re-1;pt++)ye.push(ot[Lt]),Lt+=1}const be=2*S-2*C;let Ee=0;const We=w+z+j;for(let ut=0;ut<G;ut++){let Lt=be/2-(re-2)*ne/2;for(let pt=0;pt<re-1;pt++)at.push([Lt,Ee,We]),Lt+=ne;Ee+=pe}for(let ut=0;ut<he.length;ut++){let Lt=he[ut]*(re-1);for(let pt=0;pt<re-1;pt++)Ae.push(at[Lt]),Lt+=1}let Mt=0;const kt=z+j;for(let ut=0;ut<G;ut++){let Lt=-be/2-(re-2)*ne/2;for(let pt=0;pt<re-1;pt++)je.push([Lt,Mt,kt]),Lt+=ne;Mt+=pe}for(let ut=0;ut<he.length;ut++){let Lt=he[ut]*(re-1);for(let pt=0;pt<re-1;pt++)Ge.push(je[Lt]),Lt+=1}const Dt=new zi;for(let ut=0;ut<_t.length;ut++){const Lt=this.Move.MoveObject(we[0],ye[ut]);Lt.name="Cfl_"+String(ut),Dt.add(Lt);const pt=this.Move.MoveObject(we[1],_t[ut]);pt.name="Cfr_"+String(ut),Dt.add(pt);const Ot=this.Move.MoveObject(we[2],Ae[ut]);Ot.name="Cft_"+String(ut),Dt.add(Ot);const It=this.Move.MoveObject(we[3],Ge[ut]);It.name="Cfd_"+String(ut),Dt.add(It)}return Dt}}return n.\u0275fac=function(t){return new(t||n)(gt(LDe),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fQ=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a){const u=[],c=new zi,h=a[0],p=a[1],g=a[2],y=h-i/2,w=h-r/2,S=h+r/2,C=h+i/2,B=p-s,z=g,j=g+o,G=g+t,re=[h,p,g],pe=[y,p,z],ne=[y,p,j],he=[w,p,G],we=[S,p,G],Pe=[C,p,j],ot=[C,p,z];u.push([re,pe,ne,he,we,Pe,ot]);const at=[h,B,g],je=[y,B,z],_t=[y,B,j],ye=[w,B,G],Ae=[S,B,G],Ge=[C,B,j],Je=[C,B,z];u.push([at,je,_t,ye,Ae,Ge,Je]);for(let xn=0;xn<u.length-1;xn++){const Pn=u[xn],Le=u[xn+1],Se=Pn.concat();Se.splice(0,1),Se.push(Pn[0]);const Bt=Le.concat();Bt.splice(0,1),Bt.push(Le[0]);for(let on=0;on<Pn.length;on++){const Nn=[Le[on],Bt[on],Se[on]],Er=this.pv.PolyData([Pn[on],Se[on],Le[on]],[3,0,1,2]),$t=this.pv.PolyData(Nn,[3,0,1,2]);c.add(Er,$t)}}const Z=[re,ne,he],$=[re,he,we],de=[re,we,Pe],be=[re,Pe,ot],Ee=[at,je,_t],We=[at,_t,ye],Mt=[at,ye,Ae],kt=[at,Ae,Ge],Dt=[at,Ge,Je],ut=this.pv.PolyData([re,pe,ne],[3,0,1,2]),Lt=this.pv.PolyData(Z,[3,0,1,2]),pt=this.pv.PolyData($,[3,0,1,2]),Ot=this.pv.PolyData(de,[3,0,1,2]),It=this.pv.PolyData(be,[3,0,1,2]),gn=this.pv.PolyData(Ee,[3,0,1,2]),dn=this.pv.PolyData(We,[3,0,1,2]),Xn=this.pv.PolyData(Mt,[3,0,1,2]),Hn=this.pv.PolyData(kt,[3,0,1,2]),un=this.pv.PolyData(Dt,[3,0,1,2]);return c.add(ut,Lt,pt,Ot,It,gn,dn,Xn,Hn,un),c}}return n.\u0275fac=function(t){return new(t||n)(gt(tf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IDe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,h,p,g,y){const w=[],S=[];let C=0;const P=a+u,B=new zi;for(let z=0;z<c;z++){let j=-g/2*(h-2);for(let G=0;G<h-1;G++)w.push([j,C,P]),j+=g;C+=p}for(let z=0;z<y.length;z++){let j=y[z]*(h-1);for(let G=0;G<h-1;G++)S.push(w[j]),j+=1}for(let z=0;z<S.length;z++){const j=this.Gusset.CreateGusset(t,r,i,o,s,S[z]);j.name="PL1_"+String(z),B.add(j)}return B}}return n.\u0275fac=function(t){return new(t||n)(gt(fQ))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pQ=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a,u){const c=[],h=new zi,p=a[0],g=a[1],y=a[2];let w=1;!0===u&&(w*=-1);const S=p,C=p+i*w,P=p+r*w,z=g-s,j=y+t,G=y+o,re=y,pe=[S,g,re],ne=[S,g,j],he=[C,g,j],we=[P,g,G],Pe=[P,g,re];c.push([pe,ne,he,we,Pe]);const ot=[S,z,re],at=[S,z,j],je=[C,z,j],_t=[P,z,G],ye=[P,z,re];c.push([ot,at,je,_t,ye]);for(let Dt=0;Dt<c.length-1;Dt++){const ut=c[Dt],Lt=c[Dt+1],pt=ut.concat();pt.splice(0,1),pt.push(ut[0]);const Ot=Lt.concat();Ot.splice(0,1),Ot.push(Lt[0]);for(let It=0;It<ut.length;It++){const dn=[Lt[It],Ot[It],pt[It]],Xn=this.pv.PolyData([ut[It],pt[It],Lt[It]],[3,0,1,2]),Hn=this.pv.PolyData(dn,[3,0,1,2]);h.add(Xn,Hn)}}const Ge=[pe,he,we],Je=[pe,we,Pe],bt=[ot,at,je],Z=[ot,je,_t],$=[ot,_t,ye],de=this.pv.PolyData([pe,ne,he],[3,0,1,2]),be=this.pv.PolyData(Ge,[3,0,1,2]),Ee=this.pv.PolyData(Je,[3,0,1,2]),We=this.pv.PolyData(bt,[3,0,1,2]),Mt=this.pv.PolyData(Z,[3,0,1,2]),kt=this.pv.PolyData($,[3,0,1,2]);return h.add(de,be,Ee,We,Mt,kt),h}}return n.\u0275fac=function(t){return new(t||n)(gt(tf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NDe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,h,p,g,y,w){const S=[],C=[],P=[],B=[];let z=0;const j=a+c,G=new zi;for(let pe=0;pe<h;pe++){let ne=-y/2*(p-1)+u;for(let he=0;he<p-1;he++)S.push([ne,z,j]),ne+=y;z+=g}for(let pe=0;pe<w.length;pe++){let ne=w[pe]*(p-1);for(let he=0;he<p-1;he++)C.push(S[ne]),ne+=1}z=0;for(let pe=0;pe<h;pe++){let ne=-y/2*(p-3)-u;for(let he=0;he<p-1;he++)P.push([ne,z,j]),ne+=y;z+=g}for(let pe=0;pe<w.length;pe++){let ne=w[pe]*(p-1);for(let he=0;he<p-1;he++)B.push(P[ne]),ne+=1}let re=0;for(let pe=0;pe<C.length;pe++){const ne=this.Gusset.CreateGusset(t,r,i,o,s,C[pe],!1);ne.name="PL2_"+String(re);const he=this.Gusset.CreateGusset(t,r,i,o,s,B[pe],!0);he.name="PL2_"+String(re+1),G.add(ne),G.add(he),re+=2}return G}}return n.\u0275fac=function(t){return new(t||n)(gt(pQ))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FDe=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a,u){const c=[],h=new zi,p=a[0],g=a[1],y=a[2];let w=1;!0===u&&(w*=-1);const S=p+r*w,C=p+i*w,P=p,z=g-s,j=y,G=y-o,re=y-t,pe=[P,g,j],ne=[S,g,j],he=[S,g,G],we=[C,g,re],Pe=[P,g,re];c.push([pe,ne,he,we,Pe]);const ot=[P,z,j],at=[S,z,j],je=[S,z,G],_t=[C,z,re],ye=[P,z,re];c.push([ot,at,je,_t,ye]);for(let Dt=0;Dt<c.length-1;Dt++){const ut=c[Dt],Lt=c[Dt+1],pt=ut.concat();pt.splice(0,1),pt.push(ut[0]);const Ot=Lt.concat();Ot.splice(0,1),Ot.push(Lt[0]);for(let It=0;It<ut.length;It++){const dn=[Lt[It],Ot[It],pt[It]],Xn=this.pv.PolyData([ut[It],pt[It],Lt[It]],[3,0,1,2]),Hn=this.pv.PolyData(dn,[3,0,1,2]);h.add(Xn,Hn)}}const Ge=[pe,he,we],Je=[pe,we,Pe],bt=[ot,at,je],Z=[ot,je,_t],$=[ot,_t,ye],de=this.pv.PolyData([pe,ne,he],[3,0,1,2]),be=this.pv.PolyData(Ge,[3,0,1,2]),Ee=this.pv.PolyData(Je,[3,0,1,2]),We=this.pv.PolyData(bt,[3,0,1,2]),Mt=this.pv.PolyData(Z,[3,0,1,2]),kt=this.pv.PolyData($,[3,0,1,2]);return h.add(de,be,Ee,We,Mt,kt),h}}return n.\u0275fac=function(t){return new(t||n)(gt(tf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HDe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,h,p,g,y,w,S){const C=[],P=[],B=[],z=[];let j=0;const G=a+c+h,re=new zi;for(let ne=0;ne<p;ne++){let he=-w/2*(g-1)+u;for(let we=0;we<g-1;we++)C.push([he,j,G]),he+=w;j+=y}for(let ne=0;ne<S.length;ne++){let he=S[ne]*(g-1);for(let we=0;we<g-1;we++)P.push(C[he]),he+=1}j=0;for(let ne=0;ne<p;ne++){let he=-w/2*(g-3)-u;for(let we=0;we<g-1;we++)B.push([he,j,G]),he+=w;j+=y}for(let ne=0;ne<S.length;ne++){let he=S[ne]*(g-1);for(let we=0;we<g-1;we++)z.push(B[he]),he+=1}let pe=0;for(let ne=0;ne<P.length;ne++){const he=this.Gusset.CreateGusset(t,r,i,o,s,P[ne],!1);he.name="PL3_"+String(pe);const we=this.Gusset.CreateGusset(t,r,i,o,s,z[ne],!0);we.name="PL3_"+String(pe+1),re.add(he),re.add(we),pe+=2}return re}}return n.\u0275fac=function(t){return new(t||n)(gt(FDe))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BDe=(()=>{class n{constructor(t,r,i,o){this.Gusset=t,this.Gusset2=r,this.Rotate=i,this.Move=o}Array_l(t,r,i,o,s,a,u,c,h,p,g,y){const w=[],S=[],C=[],P=[],z=-g/2*(h-1)+u/2,j=-g/2*(h-3)-u/2,G=g/2*(h-1)-u/2,re=g/2*(h-3)+u/2;let pe=1,ne=1,he=1;1==y?(pe*=1,ne+=1):(pe*=2,he+=1);let we=p/2*(3-pe),Pe=p/2*pe;const ot=a-s,at=new zi;let je=0;for(let xn=0;xn<c-ne;xn++)w.push([z,we+je,ot]),je+=p;je=0;for(let xn=0;xn<c-he;xn++)S.push([j,Pe+je,ot]),je+=p;je=0;for(let xn=0;xn<c-ne;xn++)C.push([G,we+je,ot]),je+=p;je=0;for(let xn=0;xn<c-he;xn++)P.push([re,Pe+je,ot]),je+=p;const _t=w,ye=S,Ae=C,Ge=P,Je=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),bt=this.Rotate.rotate(Je,[0,0,0],0,90,90),Z=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),$=this.Rotate.rotate(Z,[0,0,0],0,-90,-90);let de=0;for(let xn=0;xn<_t.length;xn++){const Pn=this.Move.MoveObject(bt,_t[xn]);Pn.name="PL4l_"+String(de),at.add(Pn),de+=1}for(let xn=0;xn<ye.length;xn++){const Pn=this.Move.MoveObject($,ye[xn]);Pn.name="PL4l_"+String(de),at.add(Pn),de+=1}for(let xn=0;xn<Ae.length;xn++){const Pn=this.Move.MoveObject($,Ae[xn]);Pn.name="PL4l_"+String(de),at.add(Pn),de+=1}for(let xn=0;xn<Ge.length;xn++){const Pn=this.Move.MoveObject(bt,Ge[xn]);Pn.name="PL4l_"+String(de),at.add(Pn),de+=1}const be=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),Ee=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),We=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),Mt=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),kt=this.Rotate.rotate(be,[0,0,0],0,90,90),Dt=this.Rotate.rotate(Ee,[0,0,0],0,-90,-90),ut=this.Rotate.rotate(We,[0,0,0],0,90,90),Lt=this.Rotate.rotate(Mt,[0,0,0],0,-90,-90),Ot=[G,0,ot],It=[z,p*(c-1),ot],gn=[G,p*(c-1),ot],dn=this.Move.MoveObject(kt,[z,0,ot]);dn.name="PL4l_"+String(de),at.add(dn);const Xn=this.Move.MoveObject(Dt,Ot);Xn.name="PL4l_"+String(de+1),at.add(Xn);const Hn=this.Move.MoveObject(ut,It);Hn.name="PL4l_"+String(de+2),at.add(Hn);const un=this.Move.MoveObject(Lt,gn);return un.name="PL4l_"+String(de+3),at.add(un),at}Array_u(t,r,i,o,s,a,u,c,h,p,g,y){const w=[],S=[],C=[],P=[],B=-g/2*(h-1)+u/2,z=-g/2*(h-3)-u/2,j=g/2*(h-1)-u/2,G=g/2*(h-3)+u/2;let re=1,pe=1,ne=1;1==y?(re*=1,pe+=1):(re*=2,ne+=1);let he=p/2*(3-re),we=p/2*re;const Pe=a-s,ot=new zi;let at=0;for(let un=0;un<c-pe;un++)w.push([B,he+at,Pe]),at+=p;at=0;for(let un=0;un<c-ne;un++)S.push([z,we+at,Pe]),at+=p;at=0;for(let un=0;un<c-pe;un++)C.push([j,he+at,Pe]),at+=p;at=0;for(let un=0;un<c-ne;un++)P.push([G,we+at,Pe]),at+=p;const je=w,_t=S,ye=C,Ae=P,Ge=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),Je=this.Rotate.rotate(Ge,[0,0,0],0,90,90),bt=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),Z=this.Rotate.rotate(bt,[0,0,0],0,-90,-90);let $=0;for(let un=0;un<je.length;un++){const xn=this.Move.MoveObject(Je,je[un]);xn.name="PL4u_"+String($),ot.add(xn),$+=1}for(let un=0;un<_t.length;un++){const xn=this.Move.MoveObject(Z,_t[un]);xn.name="PL4u_"+String($),ot.add(xn),$+=1}for(let un=0;un<ye.length;un++){const xn=this.Move.MoveObject(Z,ye[un]);xn.name="PL4u_"+String($),ot.add(xn),$+=1}for(let un=0;un<Ae.length;un++){const xn=this.Move.MoveObject(Je,Ae[un]);xn.name="PL4u_"+String($),ot.add(xn),$+=1}const de=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),be=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),Ee=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),We=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),Mt=this.Rotate.rotate(de,[0,0,0],0,-90,-90),kt=this.Rotate.rotate(be,[0,0,0],0,90,90),Dt=this.Rotate.rotate(Ee,[0,0,0],0,-90,-90),ut=this.Rotate.rotate(We,[0,0,0],0,90,90),pt=[G,0,Pe],Ot=[z,p*(c-1),Pe],It=[G,p*(c-1),Pe],gn=this.Move.MoveObject(Mt,[z,0,Pe]);gn.name="PL4u_"+String($),ot.add(gn);const dn=this.Move.MoveObject(kt,pt);dn.name="PL4u_"+String($+1),ot.add(dn);const Xn=this.Move.MoveObject(Dt,Ot);Xn.name="PL4u_"+String($+2),ot.add(Xn);const Hn=this.Move.MoveObject(ut,It);return Hn.name="PL4u_"+String($+3),ot.add(Hn),ot}}return n.\u0275fac=function(t){return new(t||n)(gt(fQ),gt(pQ),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VDe=(()=>{class n{constructor(t,r){this.pv=t,this.Move=r}selection(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P){const B=S[0],z=S[1],j=S[2],re=-(t+i),pe=r+i,he=re+(y-w/2),we=pe-(y-w/2),Pe=he+w,ot=we-w,_t=-t*o,Ae=_t-h,Ge=-r*s,Z=Ge-h,be=B+-t,Ee=B+re,We=B+pe,Mt=B+r,gn=j+(c-h+_t),dn=j+Ae,Hn=j+(c-h+Ge),un=j+(Ae-(p-(y-i)*a)),Pn=j+(Z-(p-(y-i)*u)),Le=j+(t*a-(t*o+h)),Se=[B,z,j],Bt=[be,z,j+_t],on=[be,z,gn],pn=[Ee,z,gn],Nn=[Ee,z,dn],Er=[B+he,z,un],$t=[B+Pe,z,un],vr=[B+(Pe+g*p),z,dn],or=[B,z,Le],er=[B+(ot-g*p),z,dn],ft=[B+ot,z,Pn],jn=[B+we,z,Pn],zn=[We,z,j+Z],Yr=[We,z,Hn],sr=[Mt,z,Hn],Kr=[Mt,z,j+Ge],Tn=[Se,Bt,on,pn,Nn,Er,$t,vr],ur=[Se,Bt,on,pn,Nn,Er,$t,vr,or,er,ft,jn,zn,Yr,sr,Kr],Gr=C-2;let Lr=Gr/2,li=1;Gr%2==0?li=0:Lr=(Gr-1)/2;let di=P/2*-(C-1)+P;const Ki=z;let Vo=un+P*a;const Rs=(w/(2*g)+p)/(a+1/g),Ea=(w/(2*g)+p)/(1/g-a),Ta=(w/(2*g)+p)/(u+1/g),Ju=(w/(2*g)+p)/(1/g-u),Ll=[];if(1!==Gr)for(let $l=0;$l<Lr;$l++){const ii=[di-Rs,Ki,Vo+(Rs-w/2)/g],hi=[di-w/2,Ki,Vo],ei=[di+w/2,Ki,Vo],Zi=[di+Ea,Ki,Vo+(Ea-w/2)/g];Tn.push(ii,hi,ei,Zi),Ll.push(ii,hi,ei,Zi),di+=P,Vo+=P*a}if(Gr%2==0)Tn.push(or);else{Vo=Le-p;for(let $l=0;$l<li;$l++){const ii=[di-Rs,Ki,Vo+(Rs-w/2)/g],hi=[di-w/2,Ki,Vo],ei=[di+w/2,Ki,Vo],Zi=[di+Ta,Ki,Vo+(Ta-w/2)/g];Tn.push(ii,hi,ei,Zi),Ll.push(ii,hi,ei,Zi),di+=P}}if(Vo-=P*u,1!==Gr)for(let $l=0;$l<Lr;$l++){const ii=[di-Ta,Ki,Vo+(Ta-w/2)/g],hi=[di-w/2,Ki,Vo],ei=[di+w/2,Ki,Vo],Zi=[di+Ju,Ki,Vo+(Ju-w/2)/g];Tn.push(ii,hi,ei,Zi),Ll.push(ii,hi,ei,Zi),di+=P,Vo-=P*u}return Tn.push(er,ft,jn,zn,Yr,sr,Kr),[Tn,ur,Ll]}add_Slab(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P){const B=this.selection(t,r,i,o,s,a,u,c,h,p,g,y,w,[0,0,0],C,P),z=this.selection(t,r,i,o,s,a,u,c,h,p,g,y,w,[0,S,0],C,P),j=[B[0],z[0]],G=new zi;for(let Pn=0;Pn<j.length-1;Pn++){const Le=j[Pn],Se=j[Pn+1],Bt=Le.concat();Bt.splice(0,1),Bt.push(Le[0]);const on=Se.concat();on.splice(0,1),on.push(Se[0]);for(let pn=0;pn<Le.length;pn++){const Er=[Se[pn],on[pn],Bt[pn]],$t=this.pv.PolyData([Le[pn],Bt[pn],Se[pn]],[3,0,1,2]),vr=this.pv.PolyData(Er,[3,0,1,2]);G.add($t,vr)}}const re=B[1],pe=B[2],he=[re[1],re[2],re[3]],we=[re[1],re[3],re[4]],Pe=[re[1],re[4],re[5]],ot=[re[1],re[5],re[6]],at=[re[1],re[6],re[7]],je=[re[1],re[7],re[0]],_t=[re[0],re[7],pe[0]],ye=[re[0],re[9],pe[pe.length-1]],Ae=[re[0],re[9],re[15]],Ge=[re[9],re[10],re[15]],Je=[re[10],re[11],re[15]],bt=[re[11],re[12],re[15]],Z=[re[12],re[13],re[15]],$=[re[13],re[14],re[15]],de=this.pv.PolyData([re[0],re[1],re[15]],[3,0,1,2]),be=this.pv.PolyData(he,[3,0,1,2]),Ee=this.pv.PolyData(we,[3,0,1,2]),We=this.pv.PolyData(Pe,[3,0,1,2]),Mt=this.pv.PolyData(ot,[3,0,1,2]),kt=this.pv.PolyData(at,[3,0,1,2]),Dt=this.pv.PolyData(je,[3,0,1,2]),ut=this.pv.PolyData(_t,[3,0,1,2]),Lt=this.pv.PolyData(ye,[3,0,1,2]),pt=this.pv.PolyData(Ae,[3,0,1,2]),Ot=this.pv.PolyData(Ge,[3,0,1,2]),It=this.pv.PolyData(Je,[3,0,1,2]),gn=this.pv.PolyData(bt,[3,0,1,2]),dn=this.pv.PolyData(Z,[3,0,1,2]),Xn=this.pv.PolyData($,[3,0,1,2]),Hn=new zi;Hn.add(de,be,Ee,We,Mt,kt,Dt,ut,Lt,pt,Ot,It,gn,dn,Xn);let un=0;for(let Pn=0;Pn<C-2;Pn++){const Se=pe[un],on=pe[un+2],pn=pe[un+3],Er=[Se,pe[un+1],on],$t=[Se,on,pn],vr=this.pv.PolyData([re[0],Se,pn],[3,0,1,2]),or=this.pv.PolyData(Er,[3,0,1,2]),er=this.pv.PolyData($t,[3,0,1,2]);Hn.add(vr,or,er),un+=4}if(C%2==0){un=(C-4)/2*4+3;const Bt=[re[0],re[8],pe[un+1]],on=this.pv.PolyData([re[0],pe[un],re[8]],[3,0,1,2]),pn=this.pv.PolyData(Bt,[3,0,1,2]);Hn.add(on,pn)}else if(C>3){un=(C-5)/2*4+3;const pn=[re[0],pe[un+4],pe[un+5]],Nn=this.pv.PolyData([re[0],pe[un],pe[un+1]],[3,0,1,2]),Er=this.pv.PolyData(pn,[3,0,1,2]);Hn.add(Nn,Er)}const xn=this.Move.MoveObject(Hn,[0,S,0]);return G.add(Hn,xn),G}}return n.\u0275fac=function(t){return new(t||n)(gt(tf),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zDe=(()=>{class n{constructor(t,r){this.pv=t,this.Move=r}selection(t,r,i,o,s,a,u,c){const h=c[0],p=c[1],g=c[2],j=h+-t,G=h+r;return[[h,p,g],[j,p,g+-t*i],[j,p,g+(u-t*s)],[h,p,g+u],[G,p,g+(u-r*a)],[G,p,g+-r*o]]}add_Pavement(t,r,i,o,s,a,u,c,h){const p=h[0],g=h[2],y=this.selection(t,r,i,o,s,a,u,[p,0,g]),S=[y,this.selection(t,r,i,o,s,a,u,[p,c,g])],C=new zi;for(let ot=0;ot<S.length-1;ot++){const at=S[ot],je=S[ot+1],_t=at.concat();_t.splice(0,1),_t.push(at[0]);const ye=je.concat();ye.splice(0,1),ye.push(je[0]);for(let Ae=0;Ae<at.length;Ae++){const Je=[je[Ae],ye[Ae],_t[Ae]],bt=this.pv.PolyData([at[Ae],_t[Ae],je[Ae]],[3,0,1,2]),Z=this.pv.PolyData(Je,[3,0,1,2]);C.add(bt,Z)}}const z=[y[0],y[2],y[3]],j=[y[0],y[3],y[4]],G=[y[0],y[4],y[5]],re=this.pv.PolyData([y[0],y[1],y[2]],[3,0,1,2]),pe=this.pv.PolyData(z,[3,0,1,2]),ne=this.pv.PolyData(j,[3,0,1,2]),he=this.pv.PolyData(G,[3,0,1,2]),we=new zi;we.add(re,pe,ne,he);const Pe=this.Move.MoveObject(we,[0,c,0]);return C.add(we,Pe),C}createPavement(t,r,i,o,s,a,u,c){const h=new zi,p=this.add_Pavement(t,r,i,o,s,a,u,c,[0,0,0]);return p.name="Pv_1",h.add(p),h}}return n.\u0275fac=function(t){return new(t||n)(gt(tf),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rf=(()=>{class n{constructor(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P){this.scene=t,this.pv=r,this.ArrayH1=i,this.ArrayH2=o,this.ArrayH3_u=s,this.ArrayH3_l=a,this.ArrayH4=u,this.ArrayL=c,this.ArrayG1=h,this.ArrayG2=p,this.ArrayG3=g,this.ArrayG4=y,this.AddSlab=w,this.AddPavement=S,this.Rotate=C,this.Move=P,this.Exporter=new hQ,this.Cox=0,this.Coy=0,this.Coz=0}createGirder(t){this.scene.clear();const r=t.display,i=r.pavement,o=r.slab,s=r.beam,a=r.mid,u=r.cross_u,c=r.cross_l,h=r.crossbeam,p=r.endbeam,g=r.gusset01,y=r.gusset02,w=r.gusset03,S=r.gusset04,C=t.slab,P=C.b1,B=C.b2,z=C.b3,j=.01*C.i1,G=.01*C.i2,re=.01*C.j1,pe=.01*C.j2,ne=C.SH,he=C.T1,we=C.T2,Pe=C.n,ot=C.Ss,je=t.pavement,_t=.01*je.i1,ye=.01*je.i2,Ae=je.T,Ge=t.beam,Je=Ge.amount_V,bt=.001*Ge.W,Z=.001*Ge.D,$=.001*Ge.tw,de=.001*Ge.tf,be=(P+B+2*z-2*ot)/(Je-1),Ee=t.mid,We=.001*Ee.A,Mt=.001*Ee.B,kt=.001*Ee.t,Dt=.001*Ee.A,ut=.001*Ee.B,Lt=.001*Ee.t,pt=.001*Ee.A,Ot=.001*Ee.B,It=.001*Ee.t,gn=.001*Ee.A,dn=.001*Ee.B,Xn=.001*Ee.t,Hn=.001*Ee.H,un=.001*Ee.s,xn=be/2-un,Pn=.001*Ee.s_in,Le=.001*Ee.s_out,Se=.001*Ee.GA1,Bt=.001*Ee.GB1,on=.001*Ee.GC1,pn=.001*Ee.GD1,Nn=.001*Ee.Gt1,Er=.001*Ee.GA2,$t=.001*Ee.GB2,vr=.001*Ee.GC2,or=.001*Ee.GD2,er=.001*Ee.Gt2,ft=.001*Ee.Gdx2,jn=.001*Ee.GA3,zn=.001*Ee.GB3,Yr=.001*Ee.GC3,sr=.001*Ee.GD3,Kr=.001*Ee.Gt3,Tn=.001*Ee.Gdx3,ur=.001*Ee.dz,Gr=t.cross,Lr=.001*Gr.W2,li=.001*Gr.D3,di=.001*Gr.tf2,Ki=.001*Gr.tw2,Vo=.001*Gr.s_edge,Rs=.001*Gr.s_middle,Ea=ur+Hn+de-(Lr+2*di),Ta=.001*Gr.GA4,Ju=.001*Gr.GB4,Ll=.001*Gr.GC4,$l=.001*Gr.GD4,ch=.001*Gr.Gt4,Ie=t.crossbeam,Vt=.001*Ie.W3,tn=.001*Ie.D4,Xt=.001*Ie.tf3,cn=.001*Ie.tw3;let Jr=0;1==h&&(Jr=Ie.location2);const ii=.001*Ie.s_edge2,hi=.001*Ie.s_middle2,ei=t.endbeam,Zi=.001*ei.D5,Mo=.001*ei.tf4,Do=.001*ei.tw4,Ds=bt+de-ur,df=.001*ei.s_edge3,_p=.001*ei.s_middle3,Pl=t.others,Il=parseFloat(Pl.BPx),ho=parseFloat(Pl.BPy),Ac=parseFloat(Pl.BPz),Zs=parseFloat(Pl.EPx),Oc=parseFloat(Pl.EPy),xi=parseFloat(Pl.EPz),hf=parseFloat(Pl.L_01),Ay=parseFloat(Pl.L_02),Nl=(hf-Ay)/2,Oy=(hf-Ay)/2,Qu=parseFloat(Pl.amount_H),Xa=Ay/(Qu-1),mlt=2*de+bt+(P*j+he+(we-(ot-z)*re));const vlt=(Nl+Oy)/2,_R=new Array;for(let bp=0;bp<Qu;bp++)_R.push(bp);let ky=_R,Hw=new Array,n8=(_R.length-1)/(Jr+1);for(let bp=0;bp<Jr;bp++){const u8=_R[Math.trunc(n8)+1];Hw.push(u8),n8+=n8}for(let bp=0;bp<Hw.length;bp++)ky=ky.filter(u8=>u8!==Hw[bp]);!0===p&&(ky.shift(),ky.pop()),!1===a&&!0===h&&(Hw=_R,!0===p&&(Hw.shift(),Hw.pop()));let r8=new zi,qhe=new zi,Jhe=new zi,Qhe=new zi,efe=new zi,tfe=new zi,nfe=new zi,rfe=new zi,ife=new zi,ofe=new zi,sfe=new zi,afe=new zi,lfe=new zi;!0===s&&(Jhe=this.ArrayH1.Array(hf,Z,bt,de,$,Nl,Oy,Je,be,re,pe)),!0===a&&(Qhe=this.ArrayL.Array(We,Mt,kt,Dt,ut,Lt,pt,Ot,It,gn,dn,Xn,Hn,xn,un,Pn,Le,ur,de,Qu,Je,Xa,be,ky)),!0===u&&(efe=this.ArrayH3_u.Array(li,Lr,di,Ki,Vo,Rs,Qu,Je,Xa,be,Ea,!1),!0===S&&(lfe=this.ArrayG4.Array_u(Ta,Ju,Ll,$l,ch,Ea,Ki,Qu,Je,Xa,be,!1))),!0===c&&(tfe=this.ArrayH3_l.Array(li,Lr,di,Ki,Vo,Rs,Qu,Je,Xa,be,ur,!0),!0===S&&(afe=this.ArrayG4.Array_l(Ta,Ju,Ll,$l,ch,ur,Ki,Qu,Je,Xa,be,!0))),!0===h&&(nfe=this.ArrayH2.Array(tn,Vt,Xt,cn,ii,hi,ur,Qu,Je,Xa,be,Hw)),!0===p&&(rfe=this.ArrayH4.Array(Zi,Ds,Mo,Do,df,_p,ur,Ay,Je,be)),!0===g&&(ife=this.ArrayG1.Array(Se,Bt,on,pn,Nn,ur,de,Qu,Je,Xa,be,ky)),!0===y&&(ofe=this.ArrayG2.Array(Er,$t,vr,or,er,ur,ft,de,Qu,Je,Xa,be,ky)),!0===w&&(sfe=this.ArrayG3.Array(jn,zn,Yr,sr,Kr,ur,Tn,de,Hn,Qu,Je,Xa,be,ky)),!0===o&&(r8=this.AddSlab.add_Slab(P,B,z,j,G,re,pe,ne,he,we,Pe,ot,Z,hf,Je,be),r8.name="Slab"),!0===i&&(qhe=this.AddPavement.createPavement(P,B,j,G,_t,ye,Ae,hf));const ufe=new zi;ufe.add(Jhe,efe,tfe,Qhe,nfe,rfe,ife,ofe,sfe,lfe,afe);const ylt=this.Move.MoveObject(ufe,[0,vlt,-mlt-Ae]),_lt=this.Move.MoveObject(r8,[0,0,-Ae]),blt=this.Move.MoveObject(qhe,[0,0,-Ae]),cfe=new zi;cfe.add(_lt,ylt,blt);const dfe=Zs-Il,hfe=Oc-ho,ffe=xi-Ac;let i8=0,o8=0;i8=0==ffe?0:this.pv.degrees(Math.atan(ffe/hfe)),o8=0==dfe?0:this.pv.degrees(Math.atan(dfe/hfe));const wlt=this.Move.MoveObject(cfe,[Il,ho,Ac]),Mlt=this.Rotate.rotate(wlt,[Il,ho,Ac],i8,0,o8),xlt=ho-5,Clt=Ac+5,Elt=Math.round(Il+10),s8=Math.round(Il),Tlt=Math.round(xlt),a8=Math.round(ho),Rlt=Math.round(Clt),l8=Math.round(Ac);this.Cox==s8&&this.Coy==a8&&this.Coz==l8||(this.scene.camera.position.set(Elt,Tlt,Rlt),this.scene.controls.target.set(s8,a8,l8),this.scene.controls.update(),this.Cox=s8,this.Coy=a8,this.Coz=l8),this.scene.add(Mlt),this.scene.render()}download(){const t=this.Exporter.parse(this.scene.scene),r=new window.Blob([t],{type:"text/plain"});EV.saveAs(r,"test.obj")}}return n.\u0275fac=function(t){return new(t||n)(gt(CV),gt(tf),gt(RDe),gt(DDe),gt(ADe),gt(ODe),gt(kDe),gt(PDe),gt(IDe),gt(NDe),gt(HDe),gt(BDe),gt(VDe),gt(zDe),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UDe=["myCanvas"];let jDe=(()=>{class n{constructor(t,r,i,o){this.ngZone=t,this.scene=r,this.plam=i,this.model=o,zu.DefaultUp.set(0,0,1)}get canvas(){return this.canvasRef.nativeElement}ngAfterViewInit(){this.scene.OnInit(window.devicePixelRatio,this.canvas,devicePixelRatio,window.innerWidth,window.innerHeight),this.animate(),this.model.createGirder(this.plam.palam())}ngOnDestroy(){}animate(){this.ngZone.runOutsideAngular(()=>{window.addEventListener("DOMContentLoaded",()=>{this.scene.render()})})}onMouseDown(t){}onMouseUp(t){}onMouseMove(t){}onResize(t){this.scene.onResize(window.devicePixelRatio,window.innerWidth,window.innerHeight)}}return n.\u0275fac=function(t){return new(t||n)(ke(Si),ke(CV),ke(ef),ke(rf))},n.\u0275cmp=Ci({type:n,selectors:[["app-three"]],viewQuery:function(t,r){if(1&t&&El(UDe,7),2&t){let i;Eo(i=To())&&(r.canvasRef=i.first)}},hostBindings:function(t,r){1&t&&st("mousedown",function(o){return r.onMouseDown(o)})("mouseup",function(o){return r.onMouseUp(o)})("mousemove",function(o){return r.onMouseMove(o)})("resize",function(o){return r.onResize(o)},!1,Ph)},decls:2,vars:0,consts:[["id","myCanvas",3,"mousedown","mouseup","mousemove"],["myCanvas",""]],template:function(t,r){1&t&&(ee(0,"canvas",0,1),st("mousedown",function(o){return r.onMouseDown(o)})("mouseup",function(o){return r.onMouseUp(o)})("mousemove",function(o){return r.onMouseMove(o)}),se())},styles:["canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0}"]}),n})();class mQ{}class gQ{}class ep{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ep?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ep;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ep?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class WDe{encodeKey(e){return vQ(e)}encodeValue(e){return vQ(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const GDe=/%(\d[a-f0-9])/gi,$De={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vQ(n){return encodeURIComponent(n).replace(GDe,(e,t)=>{var r;return null!==(r=$De[t])&&void 0!==r?r:e})}function bL(n){return`${n}`}class Jv{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new WDe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YDe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(bL):[bL(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Jv({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(bL(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(bL(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class XDe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function yQ(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function _Q(n){return"undefined"!=typeof Blob&&n instanceof Blob}function bQ(n){return"undefined"!=typeof FormData&&n instanceof FormData}class ZT{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function KDe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ep),this.context||(this.context=new XDe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Jv,this.urlWithParams=t}serializeBody(){return null===this.body?null:yQ(this.body)||_Q(this.body)||bQ(this.body)||function ZDe(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bQ(this.body)?null:_Q(this.body)?this.body.type||null:yQ(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,h=e.params||this.params;const p=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),c)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new ZT(r,i,s,{params:h,headers:c,context:p,reportProgress:u,responseType:o,withCredentials:a})}}var Wa=(()=>((Wa=Wa||{})[Wa.Sent=0]="Sent",Wa[Wa.UploadProgress=1]="UploadProgress",Wa[Wa.ResponseHeader=2]="ResponseHeader",Wa[Wa.DownloadProgress=3]="DownloadProgress",Wa[Wa.Response=4]="Response",Wa[Wa.User=5]="User",Wa))();class TV{constructor(e,t=200,r="OK"){this.headers=e.headers||new ep,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class RV extends TV{constructor(e={}){super(e),this.type=Wa.ResponseHeader}clone(e={}){return new RV({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wL extends TV{constructor(e={}){super(e),this.type=Wa.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wL({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wQ extends TV{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function DV(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ML=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ZT)o=t;else{let u,c;u=i.headers instanceof ep?i.headers:new ep(i.headers),i.params&&(c=i.params instanceof Jv?i.params:new Jv({fromObject:i.params})),o=new ZT(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=Fr(o).pipe(Ov(u=>this.handler.handle(u)));if(t instanceof ZT||"events"===i.observe)return s;const a=s.pipe(Ha(u=>u instanceof wL));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Rn(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Rn(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Rn(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Rn(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Jv).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,DV(i,r))}post(t,r,i={}){return this.request("POST",t,DV(i,r))}put(t,r,i={}){return this.request("PUT",t,DV(i,r))}}return n.\u0275fac=function(t){return new(t||n)(gt(mQ))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();class MQ{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const SQ=new Dn("HTTP_INTERCEPTORS");let qDe=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const JDe=/^\)\]\}',?\n/;let xQ=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new dt(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((y,w)=>i.setRequestHeader(y,w.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&i.setRequestHeader("Content-Type",y)}if(t.responseType){const y=t.responseType.toLowerCase();i.responseType="json"!==y?y:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const y=i.statusText||"OK",w=new ep(i.getAllResponseHeaders()),S=function QDe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new RV({headers:w,status:i.status,statusText:y,url:S}),s},u=()=>{let{headers:y,status:w,statusText:S,url:C}=a(),P=null;204!==w&&(P=void 0===i.response?i.responseText:i.response),0===w&&(w=P?200:0);let B=w>=200&&w<300;if("json"===t.responseType&&"string"==typeof P){const z=P;P=P.replace(JDe,"");try{P=""!==P?JSON.parse(P):null}catch(j){P=z,B&&(B=!1,P={error:j,text:P})}}B?(r.next(new wL({body:P,headers:y,status:w,statusText:S,url:C||void 0})),r.complete()):r.error(new wQ({error:P,headers:y,status:w,statusText:S,url:C||void 0}))},c=y=>{const{url:w}=a(),S=new wQ({error:y,status:i.status||0,statusText:i.statusText||"Unknown Error",url:w||void 0});r.error(S)};let h=!1;const p=y=>{h||(r.next(a()),h=!0);let w={type:Wa.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),"text"===t.responseType&&!!i.responseText&&(w.partialText=i.responseText),r.next(w)},g=y=>{let w={type:Wa.UploadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),r.next(w)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",p),null!==o&&i.upload&&i.upload.addEventListener("progress",g)),i.send(o),r.next({type:Wa.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",p),null!==o&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(gt(m$))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const AV=new Dn("XSRF_COOKIE_NAME"),OV=new Dn("XSRF_HEADER_NAME");class CQ{}let eAe=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=r$(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi),gt(PA),gt(AV))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),kV=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(gt(CQ),gt(OV))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),tAe=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(SQ,[]);this.chain=r.reduceRight((i,o)=>new MQ(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(gt(gQ),gt(Cs))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),nAe=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:kV,useClass:qDe}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:AV,useValue:t.cookieName}:[],t.headerName?{provide:OV,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({providers:[kV,{provide:SQ,useExisting:kV,multi:!0},{provide:CQ,useClass:eAe},{provide:AV,useValue:"XSRF-TOKEN"},{provide:OV,useValue:"X-XSRF-TOKEN"}]}),n})(),rAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({providers:[ML,{provide:mQ,useClass:tAe},xQ,{provide:gQ,useExisting:xQ}],imports:[nAe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();function EQ(n,e){return e?t=>ZE(e.pipe(ul(1),function iAe(){return Wn((n,e)=>{n.subscribe(In(e,K))})}()),t.pipe(EQ(n))):$o((t,r)=>n(t,r).pipe(ul(1),U$(t)))}function TQ(n,e=FO){const t=GK(n,e);return EQ(()=>t)}const oAe=["mat-menu-item",""];function sAe(n,e){1&n&&(ss(),ee(0,"svg",2),ie(1,"polygon",3),se())}const RQ=["*"];function aAe(n,e){if(1&n){const t=Me();ee(0,"div",0),st("keydown",function(i){return _l(t),da(Gt()._handleKeydown(i))})("click",function(){return _l(t),da(Gt().closed.emit("click"))})("@transformMenu.start",function(i){return _l(t),da(Gt()._onAnimationStart(i))})("@transformMenu.done",function(i){return _l(t),da(Gt()._onAnimationDone(i))}),ee(1,"div",1),$n(2),se()()}if(2&n){const t=Gt();V("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),qo("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const SL={transformMenu:$M("transformMenu",[ym("void",Yl({opacity:0,transform:"scale(0.8)"})),$f("void => enter",Gf("120ms cubic-bezier(0, 0, 0.2, 1)",Yl({opacity:1,transform:"scale(1)"}))),$f("* => void",Gf("100ms 25ms linear",Yl({opacity:0})))]),fadeInItems:$M("fadeInItems",[ym("showing",Yl({opacity:1})),$f("void => *",[Yl({opacity:0}),Gf("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},lAe=new Dn("MatMenuContent"),LV=new Dn("MAT_MENU_PANEL"),uAe=vT(GO(class{}));let xL=(()=>{class n extends uAe{constructor(t,r,i,o,s){var a;super(),this._elementRef=t,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new Ht,this._focused=new Ht,this._highlighted=!1,this._triggersSubmenu=!1,null===(a=null==o?void 0:o.addItem)||void 0===a||a.call(o,this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t;const r=this._elementRef.nativeElement.cloneNode(!0),i=r.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<i.length;o++)i[o].remove();return(null===(t=r.textContent)||void 0===t?void 0:t.trim())||""}_setHighlighted(t){var r;this._highlighted=t,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(Pi),ke(gm),ke(LV,8),ke(Hu))},n.\u0275cmp=Ci({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,r){1&t&&st("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(qo("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),Vi("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[pr],attrs:oAe,ngContentSelectors:RQ,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(Gn(),$n(0),ie(1,"div",0),O(2,sAe,2,0,"svg",1)),2&t&&(kr(1),V("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),kr(1),V("ngIf",r._triggersSubmenu))},dependencies:[$E,GM],encapsulation:2,changeDetection:0}),n})();const DQ=new Dn("mat-menu-default-options",{providedIn:"root",factory:function cAe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let dAe=0,qT=(()=>{class n{constructor(t,r,i,o){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new EM,this._tabSubscription=F.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Ht,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new _o,this.close=this.closed,this.panelId="mat-menu-panel-"+dAe++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=wa(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=wa(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new NK(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(dm(this._directDescendantItems),Kd(t=>Lc(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{var r;const i=this._keyManager;if("enter"===this._panelAnimationState&&(null===(r=i.activeItem)||void 0===r?void 0:r._hasFocus())){const o=t.toArray(),s=Math.max(0,Math.min(o.length-1,i.activeItemIndex||0));o[s]&&!o[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(dm(this._directDescendantItems),Kd(r=>Lc(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:ib(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(ul(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){var i;const o=this._classList;o["mat-menu-before"]="before"===t,o["mat-menu-after"]="after"===t,o["mat-menu-above"]="above"===r,o["mat-menu-below"]="below"===r,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(dm(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(Si),ke(DQ),ke(Hu))},n.\u0275dir=kn({type:n,contentQueries:function(t,r,i){if(1&t&&(al(i,lAe,5),al(i,xL,5),al(i,xL,4)),2&t){let o;Eo(o=To())&&(r.lazyContent=o.first),Eo(o=To())&&(r._allItems=o),Eo(o=To())&&(r.items=o)}},viewQuery:function(t,r){if(1&t&&El(sl,5),2&t){let i;Eo(i=To())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),hAe=(()=>{class n extends qT{constructor(t,r,i,o){super(t,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(Si),ke(DQ),ke(Hu))},n.\u0275cmp=Ci({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&qo("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Li([{provide:LV,useExisting:n}]),pr],ngContentSelectors:RQ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&(Gn(),O(0,aAe,3,6,"ng-template"))},dependencies:[i$],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[SL.transformMenu,SL.fadeInItems]},changeDetection:0}),n})();const AQ=new Dn("mat-menu-scroll-strategy"),pAe={provide:AQ,deps:[Iv],useFactory:function fAe(n){return()=>n.scrollStrategies.reposition()}},OQ=zM({passive:!0});let mAe=(()=>{class n{constructor(t,r,i,o,s,a,u,c,h){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=u,this._focusMonitor=c,this._ngZone=h,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=F.EMPTY,this._hoverSubscription=F.EMPTY,this._menuCloseSubscription=F.EMPTY,this._handleTouchStart=p=>{K3(p)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new _o,this.onMenuOpen=this.menuOpened,this.menuClosed=new _o,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof qT?s:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,OQ),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,OQ),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const r=this._createOverlay(t),i=r.getConfig(),o=i.positionStrategy;this._setPosition(t,o),i.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof qT&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Vu(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){var t;null===(t=this.menu)||void 0===t||t.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){var t;null===(t=this._overlayRef)||void 0===t||t.updatePosition()}_destroyMenu(t){var r;if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof qT?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Ha(o=>"void"===o.toState),ul(1),Vu(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),null===(r=null==i?void 0:i.lazyContent)||void 0===r||r.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,i=t.parentMenu;for(;i;)r++,i=i.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new nB({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,r){let[i,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[u,c]=[s,a],[h,p]=[i,o],g=0;if(this.triggersSubmenu()){if(p=i="before"===t.xPosition?"start":"end",o=h="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const y=this._parentMaterialMenu.items.first;this._parentInnerPadding=y?y._getHostElement().offsetTop:0}g="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(u="top"===s?"bottom":"top",c="top"===a?"bottom":"top");r.withPositions([{originX:i,originY:u,overlayX:h,overlayY:s,offsetY:g},{originX:o,originY:u,overlayX:p,overlayY:s,offsetY:g},{originX:i,originY:c,overlayX:h,overlayY:a,offsetY:-g},{originX:o,originY:c,overlayX:p,overlayY:a,offsetY:-g}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return Lc(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:Fr(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ha(s=>s!==this._menuItemInstance),Ha(()=>this._menuOpen)):Fr(),r)}_handleMousedown(t){X3(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Ha(t=>t===this._menuItemInstance&&!t.disabled),TQ(0,Q3)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof qT&&this.menu._isAnimating?this.menu._animationDone.pipe(ul(1),TQ(0,Q3),Vu(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new B3(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(ke(Iv),ke(wi),ke(Cl),ke(AQ),ke(LV,8),ke(xL,10),ke(WM,8),ke(gm),ke(Si))},n.\u0275dir=kn({type:n,hostVars:3,hostBindings:function(t,r){1&t&&st("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&t&&qo("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen||null)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),gAe=(()=>{class n extends mAe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Fi(n)))(r||n)}}(),n.\u0275dir=kn({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[pr]}),n})(),vAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({providers:[pAe],imports:[q_,Ro,$O,rB,mT,Ro]}),n})();function kQ(...n){const e=Ka(n),{args:t,keys:r}=N$(n),i=new dt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let h=0;h<s;h++){let p=!1;gs(t[h]).subscribe(In(o,g=>{p||(p=!0,c--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(c||o.next(r?F$(r,a):a),o.complete())}))}});return e?i.pipe($H(e)):i}const yAe=["*"];let CL;function JT(n){var e;return(null===(e=function _Ae(){if(void 0===CL&&(CL=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(CL=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return CL}())||void 0===e?void 0:e.createHTML(n))||n}function LQ(n){return Error(`Unable to find icon with the name "${n}"`)}function PQ(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function IQ(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ab{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let EL=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Ab(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const s=this._sanitizer.sanitize(yo.HTML,i);if(!s)throw IQ(i);const a=JT(s);return this._addSvgIconConfig(t,r,new Ab("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Ab(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(yo.HTML,r);if(!o)throw IQ(r);const s=JT(o);return this._addSvgIconSetConfig(t,new Ab("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(yo.RESOURCE_URL,t);if(!r)throw PQ(t);const i=this._cachedIconsByUrl.get(r);return i?Fr(TL(i)):this._loadSvgIconFromConfig(new Ab(t,null)).pipe(Ba(o=>this._cachedIconsByUrl.set(r,o)),Rn(o=>TL(o)))}getNamedSvgIcon(t,r=""){const i=NQ(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):OM(LQ(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Fr(TL(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Rn(r=>TL(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Fr(i):kQ(r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(hm(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(yo.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Fr(null)})))).pipe(Rn(()=>{const s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw LQ(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ba(r=>t.svgText=r),Rn(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Fr(null):this._fetchIcon(t).pipe(Ba(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const a=this._svgElementFromString(JT("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(JT("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:s,value:a}=i[o];"id"!==s&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:o}=t,s=null!==(r=null==o?void 0:o.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function bAe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(yo.RESOURCE_URL,i);if(!a)throw PQ(i);const u=this._inProgressUrlFetches.get(a);if(u)return u;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(Rn(h=>JT(h)),iO(()=>this._inProgressUrlFetches.delete(a)),gh());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(NQ(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return MAe(o)?new Ab(o.url,null,o.options):new Ab(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(gt(ML,8),gt(GH),gt(Pi,8),gt(Nd))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TL(n){return n.cloneNode(!0)}function NQ(n,e){return n+":"+e}function MAe(n){return!(!n.url||!n.options)}const SAe=YM(class{constructor(n){this._elementRef=n}}),xAe=new Dn("MAT_ICON_DEFAULT_OPTIONS"),CAe=new Dn("mat-icon-location",{providedIn:"root",factory:function EAe(){const n=_s(Pi),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),FQ=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],TAe=FQ.map(n=>`[${n}]`).join(", "),RAe=/^url\(['"]?#(.*?)['"]?\)$/;let DAe=(()=>{class n extends SAe{constructor(t,r,i,o,s,a){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=F.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=wa(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(TAe),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)FQ.forEach(s=>{const a=r[o],u=a.getAttribute(s),c=u?u.match(RAe):null;if(c){let h=i.get(a);h||(h=[],i.set(a,h)),h.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(ul(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(EL),Oh("aria-hidden"),ke(CAe),ke(Nd),ke(xAe,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(qo("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Vi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[pr],ngContentSelectors:yAe,decls:1,vars:0,template:function(t,r){1&t&&(Gn(),$n(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),AAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[Ro,Ro]}),n})();const OAe=["*",[["mat-toolbar-row"]]],kAe=["*","mat-toolbar-row"],LAe=YM(class{constructor(n){this._elementRef=n}});let PAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=kn({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),IAe=(()=>{class n extends LAe{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(wc),ke(Pi))},n.\u0275cmp=Ci({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&al(i,PAe,5),2&t){let o;Eo(o=To())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Vi("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[pr],ngContentSelectors:kAe,decls:2,vars:0,template:function(t,r){1&t&&(Gn(OAe),$n(0),$n(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),NAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[Ro,Ro]}),n})();function FAe(n,e){if(1&n&&(ss(),ie(0,"circle",4)),2&n){const t=Gt(),r=H(1);Nr("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),qo("r",t._getCircleRadius())}}function HAe(n,e){if(1&n&&(ss(),ie(0,"circle",4)),2&n){const t=Gt(),r=H(1);Nr("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),qo("r",t._getCircleRadius())}}const VAe=YM(class{constructor(n){this._elementRef=n}},"primary"),zAe=new Dn("mat-progress-spinner-default-options",{providedIn:"root",factory:function UAe(){return{diameter:100}}});class Am extends VAe{constructor(e,t,r,i,o,s,a,u){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=F.EMPTY,this.mode="determinate";const c=Am._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(r.head)||c.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),t.isBrowser&&t.SAFARI&&a&&s&&u&&(this._resizeSubscription=a.change(150).subscribe(()=>{"indeterminate"===this.mode&&u.run(()=>s.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=Yf(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=Yf(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Yf(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=SK(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const r=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${r}% ${r}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=Am._diameters;let i=r.get(e);if(!i||!i.has(t)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),e.appendChild(o),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Am._diameters=new WeakMap,Am.\u0275fac=function(e){return new(e||Am)(ke(wi),ke(wc),ke(Pi,8),ke(Bf,8),ke(zAe),ke(Hu),ke(jO),ke(Si))},Am.\u0275cmp=Ci({type:Am,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(qo("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),Nr("width",t.diameter,"px")("height",t.diameter,"px"),Vi("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[pr],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(ss(),ee(0,"svg",0,1),O(2,FAe,1,11,"circle",2),O(3,HAe,1,9,"circle",3),se()),2&e&&(Nr("width",t.diameter,"px")("height",t.diameter,"px"),V("ngSwitch","indeterminate"===t.mode),qo("viewBox",t._getViewBox()),kr(2),V("ngSwitchCase",!0),kr(1),V("ngSwitchCase",!1))},dependencies:[KA,u$],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let WAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[Ro,q_,Ro]}),n})();function YAe(n,e){if(1&n){const t=Me();ee(0,"button",9),st("click",function(){return _l(t),da(Gt().download())}),ee(1,"mat-icon"),En(2,"cloud_download"),se()()}}function GAe(n,e){1&n&&(ee(0,"div"),ie(1,"mat-spinner",10),se())}let $Ae=(()=>{class n{constructor(t,r,i,o,s,a,u){this.http=t,this.pv=r,this.scene=i,this.model=o,this.girder=s,this.Rotate=a,this.Move=u,this.isLoading=!1,this.Exporter=new hQ}ngOnInit(){}open(t){const r=t.target.files[0];t.target.value="",this.fileToText(r).then(i=>{const o=JSON.parse(i);this.model.set_palam(o),this.girder.createGirder(this.model.palam())}).catch(i=>{alert(i)})}fileToText(t){const r=new FileReader;return r.readAsText(t),new Promise((i,o)=>{r.onload=()=>{i(r.result)},r.onerror=()=>{o(r.error)}})}save(){const t=JSON.stringify(this.model.palam()),r=new window.Blob([t],{type:"text/plain"});EV.saveAs(r,"test.json")}download(){const t={headers:new ep({"Content-Type":"application/json",Accept:"application/json"})},r=this.getPostJson(),i="https://kv4hx2ue8c.execute-api.ap-northeast-1.amazonaws.com/default/GirderGenBrpy";this.isLoading=!0,this.http.get(i,t).subscribe(o=>{console.log(o),this.http.post(i,r,t).subscribe(s=>{this.isLoading=!1;let a=s;if(Array.isArray(a)&&(a=s[0]),"string"==typeof a&&(a=JSON.parse(a)),!("body"in a))return;const c=new Blob([a.body],{type:"text/plain;charset=utf-8"});EV.saveAs(c,"test.ifc")},s=>{this.isLoading=!1,alert(s.message)})},o=>{this.isLoading=!1,alert(o.message)})}goToLink(){window.open("https://fresh-tachometer-148.notion.site/2e5a97e10bb14bfcbece8db66dfe5c66","_blank")}getPostJson(){const t=this.model.palam(),r=t.others,i=t.display,o=r.Name_P,s=r.Name_R,a=r.Class_R,u=r.Milepost_B+"km",c=r.Milepost_E+"km",h=r.BP,p=r.EP,g=i.crossbeam,y=i.mid,w=new Array;for(let ye=0;ye<1;ye++){const Ae=this.scene.scene.getObjectByName("Slab");if(null==Ae)break;let Ge=this.Exporter.parse(Ae);w.push(Ge)}const S=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Hsteel-01-"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);S.push(Ge)}const C=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cr_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);C.push(Ge)}const P=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Ll_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);P.push(Ge)}const B=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Lu_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);B.push(Ge)}const z=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cu_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);z.push(Ge)}const j=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cfl_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);j.push(Ge)}const G=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cfr_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);G.push(Ge)}const re=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cft_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);re.push(Ge)}const pe=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cfd_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);pe.push(Ge)}const ne=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("PL1_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);ne.push(Ge)}const he=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("PL2_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);he.push(Ge)}const we=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("PL3_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);we.push(Ge)}const Pe=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("PL4u_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);Pe.push(Ge)}const ot=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("PL4l_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);ot.push(Ge)}const at=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Pv_"+String(ye));if(null==Ae)break;let Ge=this.Exporter.parse(Ae);at.push(Ge)}let je="\u8377\u91cd\u5206\u914d\u6a2a\u6841";return!0===g&&!1===y&&(je="\u4e2d\u9593\u6a2a\u6841"),JSON.stringify({body:{ProjectName:o,RouteName:s,RoadClass:a,Milepost_B:u,Milepost_E:c,BP:h,EP:p,pavement:{obj:[at],Name:"\u8217\u88c5",Name_s:["\u8217\u88c5"],Class:"\u8217\u88c5",Info:"",Info_s:[],Type:"\u8eca\u9053"},slab:{obj:[w],Name:"\u5e8a\u7248",Name_s:["\u30b3\u30f3\u30af\u30ea\u30fc\u30c8"],Class:"\u5e8a\u7248",Info:"A1/A2",Info_s:[],Type:"RC\u5e8a\u7248"},beam:{obj:[S],Name:"\u4e3b\u6841",Name_s:["\u4e3b\u6841"],Class:"\u4e3b\u6841",Info:"A1/A2",Type:""},cross:{obj:[P,B,Pe,ot],Name:"\u6a2a\u69cb",Name_s:["\u4e0b\u6a2a\u69cb","\u4e0a\u6a2a\u69cb","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u6a2a\u69cb\uff09","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u6a2a\u69cb\uff09"],Class:"\u6a2a\u69cb",Info:"A1/A2",Type:""},mid:{obj:[j,G,pe,re,ne,he,we],Name:"\u5bfe\u50be\u69cb",Name_s:["\u5de6\u659c\u6750","\u53f3\u659c\u6750","\u4e0b\u5f26\u6750","\u4e0a\u5f26\u6750","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u659c\u6750\uff09","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u5f26\u6750\uff09","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u5f26\u6750\uff09"],Class:"\u5bfe\u50be\u69cb",Info:"A1/A2",Type:""},crossbeam:{obj:[C,z],Name:"\u6a2a\u6841",Name_s:[je,"\u7aef\u6a2a\u6841"],Class:"\u6a2a\u6841",Info:"A1/A2",Type:""}}})}}return n.\u0275fac=function(t){return new(t||n)(ke(ML),ke(tf),ke(CV),ke(ef),ke(rf),ke(Dm),ke(nf))},n.\u0275cmp=Ci({type:n,selectors:[["app-menu"]],decls:20,vars:3,consts:[["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["type","file","accept","application/json",2,"display","none",3,"change"],["mat-menu-item","",3,"click"],[1,"example-spacer"],["mat-icon-button","","class","example-icon favorite-icon","aria-label","download ifc file",3,"click",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with help_outline icon",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","download ifc file",1,"example-icon","favorite-icon",3,"click"],["diameter","40"]],template:function(t,r){if(1&t&&(ee(0,"mat-toolbar")(1,"button",0)(2,"mat-icon"),En(3,"menu"),se()(),ee(4,"mat-menu",null,1)(6,"label",2)(7,"span"),En(8," \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f "),ee(9,"input",3),st("change",function(o){return r.open(o)}),se()()(),ee(10,"button",4),st("click",function(){return r.save()}),En(11,"\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58"),se()(),ee(12,"span"),En(13,"\u5408\u6210\u6841-3D\u30e2\u30c7\u30eb\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc"),se(),ie(14,"span",5),O(15,YAe,3,0,"button",6),O(16,GAe,2,0,"div",7),ee(17,"button",8),st("click",function(){return r.goToLink()}),ee(18,"mat-icon"),En(19,"help_outline"),se()()()),2&t){const i=H(5);kr(1),V("matMenuTriggerFor",i),kr(14),V("ngIf",!r.isLoading),kr(1),V("ngIf",r.isLoading)}},dependencies:[$E,hAe,xL,gAe,DAe,$h,IAe,Am],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();var NV,HS,t1;function IV(n){return(IV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}b(1044),b(2162),b(9117),b(2096),b(508),b(4952),b(1681),b(3954),b(631),b(223),b(7059),b(6949),b(8193),b(5296),b(6522),b(8561),b(2246),b(3912),b(262),b(8068),b(9401),b(8621),b(3382),b(5975),b(4018),b(9443),b(1261),b(4564),b(7862),b(4176),b(3479),b(4881),b(5167),b(6774),b(3388);for(var HQ=0,RL=["ms","moz","webkit","o"],QT=window.requestAnimationFrame,DL=window.cancelAnimationFrame,e1=0;e1<RL.length&&!QT;++e1)QT=window["".concat(RL[e1],"RequestAnimationFrame")],DL=window["".concat(RL[e1],"CancelAnimationFrame")]||window["".concat(RL[e1],"CancelRequestAnimationFrame")];function BQ(n){return QT.call(window,n)}function KAe(){return!!document.createTextNode("test").textContent}function AL(n){DL.call(window,n)}function VQ(){return"ontouchstart"in window}function zQ(){return void 0===NV&&function qAe(){var n=document.createElement("TABLE");n.style.borderSpacing="0",n.style.borderWidth="0",n.style.padding="0";var e=document.createElement("TBODY");n.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var t=document.createElement("CAPTION");t.innerHTML="c<br>c<br>c<br>c",t.style.padding="0",t.style.margin="0",n.insertBefore(t,e),document.body.appendChild(n),NV=n.offsetHeight<2*n.lastChild.offsetHeight,document.body.removeChild(n)}(),NV}function QAe(){if(void 0!==t1)return t1;try{var n={get passive(){t1=!0}};window.addEventListener("test",n,n),window.removeEventListener("test",n,n)}catch(e){t1=!1}return t1}function eOe(n){for(var e=n.length,t=0;t<e;)n[t]=[n[t]],t+=1}function UQ(n,e){for(var t=e.length,r=0;r<t;)n.push(e[r]),r+=1}function OL(n){var e=[];if(!n||0===n.length||!n[0]||0===n[0].length)return e;for(var t=n.length,r=n[0].length,i=0;i<t;i++)for(var o=0;o<r;o++)e[o]||(e[o]=[]),e[o][i]=n[i][o];return e}function Ya(n,e,t,r){var i=-1,o=n,s=t;Array.isArray(n)||(o=Array.from(n));var a=o.length;for(r&&a&&(s=o[i+=1]),i+=1;i<a;)s=e(s,o[i],i,o),i+=1;return s}function Qd(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length,o=[],s=-1;t<i;){var a=r[t];e(a,t,r)&&(o[s+=1]=a),t+=1}return o}function to(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length,o=[],s=-1;t<i;)o[s+=1]=e(r[t],t,r),t+=1;return o}function it(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length;t<i&&!1!==e(r[t],t,r);)t+=1;return n}function jQ(n){var e=[];return it(n,function(t){-1===e.indexOf(t)&&e.push(t)}),e}function WQ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=[].concat(e),i=r[0],o=r.slice(1),s=i;return it(o,function(a){s=s.filter(function(u){return!a.includes(u)})}),s}function YQ(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return n.split(e)}function GQ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BS(n){return(BS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function n1(n){var e;return Array.isArray(n)?e=[]:(e={},ao(n,function(t,r){"__children"!==r&&(e[r]=t&&"object"===BS(t)&&!Array.isArray(t)?n1(t):Array.isArray(t)?t.length&&"object"===BS(t[0])&&!Array.isArray(t[0])?[n1(t[0])]:[]:null)})),e}function Qv(n,e){return e.prototype.constructor=e,n.prototype=new e,n.prototype.constructor=n,n}function na(n,e,t){var r=Array.isArray(t);return ao(e,function(i,o){(!1===r||t.includes(o))&&(n[o]=i)}),n}function kL(n,e){ao(e,function(t,r){e[r]&&"object"===BS(e[r])?(n[r]||(n[r]=Array.isArray(e[r])?[]:"[object Date]"===Object.prototype.toString.call(e[r])?e[r]:{}),kL(n[r],e[r])):n[r]=e[r]})}function Yu(n){return"object"===BS(n)?JSON.parse(JSON.stringify(n)):n}function Ec(n){var e={};return ao(n,function(t,r){e[r]=t}),e}function ws(n){n.MIXINS||(n.MIXINS=[]);for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return it(t,function(i){n.MIXINS.push(i.MIXIN_NAME),ao(i,function(o,s){if(void 0!==n.prototype[s])throw new Error("Mixin conflict. Property '".concat(s,"' already exist and cannot be overwritten."));var h,p,g;"function"==typeof o?n.prototype[s]=o:Object.defineProperty(n.prototype,s,{get:(h=s,p=o,g="_".concat(h),function(){return void 0===this[g]&&(this[g]=(C=p,(Array.isArray(C)||$i(C))&&(C=Yu(C)),C)),this[g];var C}),set:function(h){var p="_".concat(h);return function(g){this[p]=g}}(s),configurable:!0})})}),n}function $Q(n,e){return JSON.stringify(n)===JSON.stringify(e)}function $i(n){return"[object Object]"===Object.prototype.toString.call(n)}function Om(n,e,t,r){r.value=t,r.writable=!1!==r.writable,r.enumerable=!1!==r.enumerable,r.configurable=!1!==r.configurable,Object.defineProperty(n,e,r)}function ao(n,e){for(var t in n)if((!n.hasOwnProperty||n.hasOwnProperty&&Object.prototype.hasOwnProperty.call(n,t))&&!1===e(n[t],t,n))break;return n}function FV(n,e,t){var r=e.split("."),i=n;r.forEach(function(o,s){s!==r.length-1?(Hs(i,o)||(i[o]={}),i=i[o]):i[o]=t})}function HV(n){return $i(n)?function t(r){var i=0;return $i(r)?ao(r,function(o,s){"__children"!==s&&(i+=t(o))}):i+=1,i}(n):0}function VS(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",r="_".concat(t),i=(GQ(e={_touched:!1},r,n),GQ(e,"isTouched",function(){return this._touched}),e);return Object.defineProperty(i,t,{get:function(){return this[r]},set:function(s){this._touched=!0,this[r]=s},enumerable:!0,configurable:!0}),i}function Hs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}QT||(QT=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-HQ)),i=window.setTimeout(function(){e(t+r)},r);return HQ=t+r,i}),DL||(DL=function(e){clearTimeout(e)}),b(3035);var Tc=function(e){var t={value:!1,test:function(r,i){t.value=e(r,i)}};return t},dd={chrome:Tc(function(n,e){return/Chrome/.test(n)&&/Google/.test(e)}),chromeWebKit:Tc(function(n){return/CriOS/.test(n)}),edge:Tc(function(n){return/Edge/.test(n)}),edgeWebKit:Tc(function(n){return/EdgiOS/.test(n)}),firefox:Tc(function(n){return/Firefox/.test(n)}),firefoxWebKit:Tc(function(n){return/FxiOS/.test(n)}),ie:Tc(function(n){return/Trident/.test(n)}),ie9:Tc(function(){return!!document.documentMode}),mobile:Tc(function(n){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n)}),safari:Tc(function(n,e){return/Safari/.test(n)&&/Apple Computer/.test(e)})},zS={mac:Tc(function(n){return/^Mac/.test(n)}),win:Tc(function(n){return/^Win/.test(n)}),linux:Tc(function(n){return/^Linux/.test(n)}),ios:Tc(function(n){return/iPhone|iPad|iPod/i.test(n)})};function BV(){return dd.firefox.value}function tp(){return dd.mobile.value}function XQ(){return zS.ios.value}function KQ(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator,e=n.maxTouchPoints;return e>2&&zS.mac.value}function ZQ(){return zS.win.value}function qQ(){return zS.mac.value}(function iOe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.userAgent,t=void 0===e?navigator.userAgent:e,r=n.vendor,i=void 0===r?navigator.vendor:r;ao(dd,function(o){(0,o.test)(t,i)})})(),function oOe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.platform,t=void 0===e?navigator.platform:e;ao(zS,function(r){(0,r.test)(t)})}();var UV,jV,WV,fOe=b(8120);function km(n){return n[0].toUpperCase()+n.substr(1)}function JQ(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return n()+n()+n()+n()}function QQ(n){return/^([0-9][0-9]?%$)|(^100%$)/.test(n)}function eee(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(n).replace(/(?:\\)?\[([^[\]]+)]/g,function(t,r){return"\\"===t.charAt(0)?t.substr(1,t.length-1):void 0===e[r]?"":e[r]})}function tee(n){return VV("".concat(n),{ALLOWED_TAGS:[]})}function VV(n,e){return fOe.sanitize(n,e)}function nee(n){return function vOe(n){if(Array.isArray(n))return zV(n)}(n)||function gOe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function mOe(n,e){if(n){if("string"==typeof n)return zV(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zV(n,e)}}(n)||function pOe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zV(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yOe(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=-1,r=null,i=n;null!==i;){if(t===e){r=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(t+=1,i=i.parentNode)}return r}function LL(n){return function _Oe(n){return Object.getPrototypeOf(n.parent)&&n.frameElement}(n)&&n.parent}function Ob(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,r=Node,i=r.ELEMENT_NODE,o=r.DOCUMENT_FRAGMENT_NODE,s=n;null!=s&&s!==t;){var a=s,u=a.nodeType,c=a.nodeName;if(u===i&&(e.includes(c)||e.includes(s)))return s;var h=s,p=h.host;s=p&&u===o?p:s.parentNode}return null}function PL(n,e,t){for(var r=[],i=n;i&&(i=Ob(i,e,t))&&(!t||t.contains(i));)r.push(i),i=i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.host:i.parentNode;var o=r.length;return o?r[o-1]:null}function kb(n,e){var t=n.parentNode,r=[];for("string"==typeof e?r=Array.prototype.slice.call(n.defaultView?n.querySelectorAll(e):n.ownerDocument.querySelectorAll(e),0):r.push(e);null!==t;){if(r.indexOf(t)>-1)return!0;t=t.parentNode}return!1}function Lb(n,e,t){var r=t.parentElement.querySelector(".ht_clone_".concat(n));return r?r.contains(e):null}function IL(n){return n&&n.length?n.filter(function(e){return!!e}):[]}if(function XAe(){return!!document.documentElement.classList}()){var ree=function(e){var t=e.createElement("div");return t.classList.add("test","test2"),t.classList.contains("test2")};UV=function(e,t){return void 0!==e.classList&&"string"==typeof t&&""!==t&&e.classList.contains(t)},jV=function(e,t){var r=e.ownerDocument,i=t;if("string"==typeof i&&(i=i.split(" ")),(i=IL(i)).length>0)if(ree(r)){var o;(o=e.classList).add.apply(o,nee(i))}else for(var s=0;i[s];)e.classList.add(i[s]),s+=1},WV=function(e,t){var r=e.ownerDocument,i=t;if("string"==typeof i&&(i=i.split(" ")),(i=IL(i)).length>0)if(ree(r)){var o;(o=e.classList).remove.apply(o,nee(i))}else for(var s=0;i[s];)e.classList.remove(i[s]),s+=1}}else{var YV=function(e){return new RegExp("(\\s|^)".concat(e,"(\\s|$)"))};UV=function(e,t){return void 0!==e.className&&YV(t).test(e.className)},jV=function(e,t){var r=e.className,i=t;if("string"==typeof i&&(i=i.split(" ")),i=IL(i),""===r)r=i.join(" ");else for(var o=0;o<i.length;o++)i[o]&&!YV(i[o]).test(r)&&(r+=" ".concat(i[o]));e.className=r},WV=function(e,t){var r=0,i=e.className,o=t;for("string"==typeof o&&(o=o.split(" ")),o=IL(o);o[r];)i=i.replace(YV(o[r])," ").trim(),r+=1;e.className!==i&&(e.className=i)}}function Ti(n,e){return UV(n,e)}function An(n,e){jV(n,e)}function Hi(n,e){WV(n,e)}function iee(n){if(3===n.nodeType)n.parentNode.removeChild(n);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(n.nodeName)>-1)for(var e=n.childNodes,t=e.length-1;t>=0;t--)iee(e[t])}function np(n){for(var e;e=n.lastChild;)n.removeChild(e)}var XV,wOe=/(<(.*)>|&(.*);)/;function US(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];wOe.test(e)?n.innerHTML=t?VV(e):e:Pb(n,e)}function Pb(n,e){var t=n.firstChild;t&&3===t.nodeType&&null===t.nextSibling?KAe?t.textContent=e:t.data=e:(np(n),n.appendChild(n.ownerDocument.createTextNode(e)))}function r1(n){for(var e=n.ownerDocument.documentElement,t=n;t!==e;){if(null===t)return!1;if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(t.host){if(t.host.impl)return r1(t.host.impl);if(t.host)return r1(t.host);throw new Error("Lost in Web Components world")}return!1}if(t.style&&"none"===t.style.display)return!1;t=t.parentNode}return!0}function Ga(n){var o,s,a,u,e=n.ownerDocument,t=e.defaultView,r=e.documentElement,i=n;if(zQ()&&i.firstChild&&"CAPTION"===i.firstChild.nodeName)return{top:(u=i.getBoundingClientRect()).top+(t.pageYOffset||r.scrollTop)-(r.clientTop||0),left:u.left+(t.pageXOffset||r.scrollLeft)-(r.clientLeft||0)};for(o=i.offsetLeft,s=i.offsetTop,a=i;(i=i.offsetParent)&&i!==e.body;)o+=i.offsetLeft,s+=i.offsetTop,a=i;return a&&"fixed"===a.style.position&&(o+=t.pageXOffset||r.scrollLeft,s+=t.pageYOffset||r.scrollTop),{left:o,top:s}}function o1(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.scrollY;return void 0===e&&(e=n.document.documentElement.scrollTop),e}function jS(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.scrollX;return void 0===e&&(e=n.document.documentElement.scrollLeft),e}function NL(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n===e?o1(e):n.scrollTop}function GV(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n===e?jS(e):n.scrollLeft}function FL(n){var e=n.ownerDocument,t=e?e.defaultView:void 0;e||(t=(e=n.document?n.document:n).defaultView);for(var r=["auto","scroll"],i=function ZAe(){return!!window.getComputedStyle}(),o=n.parentNode;o&&o.style&&e.body!==o;){var s=o.style,a=s.overflow,u=s.overflowX,c=s.overflowY;if([a,u,c].includes("scroll"))return o;if(i){var h=t.getComputedStyle(o);if(u=h.overflowX,c=h.overflowY,r.includes(a=h.overflow)||r.includes(u)||r.includes(c))return o}if(o.clientHeight<=o.scrollHeight+1&&(r.includes(c)||r.includes(a))||o.clientWidth<=o.scrollWidth+1&&(r.includes(u)||r.includes(a)))return o;o=o.parentNode}return t}function s1(n){for(var e=n.ownerDocument,t=e.defaultView,r=n.parentNode;r&&r.style&&e.body!==r;){if("visible"!==r.style.overflow&&""!==r.style.overflow)return r;var i=Ib(r,t),o=["scroll","hidden","auto"],s=i.getPropertyValue("overflow"),a=i.getPropertyValue("overflow-y"),u=i.getPropertyValue("overflow-x");if(o.includes(s)||o.includes(a)||o.includes(u))return r;r=r.parentNode}return t}function $V(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(n){if(n===t)return"width"===e?"".concat(t.innerWidth,"px"):"height"===e?"".concat(t.innerHeight,"px"):void 0;var r=n.style[e];if(""!==r&&void 0!==r)return r;var i=Ib(n,t);return""!==i[e]&&void 0!==i[e]?i[e]:void 0}}function Ib(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n.currentStyle||e.getComputedStyle(n)}function fs(n){return n.offsetWidth}function ra(n){return zQ()&&n.firstChild&&"CAPTION"===n.firstChild.nodeName?n.offsetHeight+n.firstChild.offsetHeight:n.offsetHeight}function ey(n){return n.clientHeight||n.innerHeight}function HL(n){return n.clientWidth||n.innerWidth}function oee(n){var e=n.ownerDocument;if(n.selectionStart)return n.selectionStart;if(e.selection){n.focus();var t=e.selection.createRange();if(null===t)return 0;var r=n.createTextRange(),i=r.duplicate();return r.moveToBookmark(t.getBookmark()),i.setEndPoint("EndToStart",r),i.text.length}return 0}function see(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.document;n.getSelection?n.getSelection().empty?n.getSelection().empty():n.getSelection().removeAllRanges&&n.getSelection().removeAllRanges():e.selection&&e.selection.empty()}function BL(n,e,t){if(void 0===t&&(t=e),n.setSelectionRange){n.focus();try{n.setSelectionRange(e,t)}catch(o){var r=n.parentNode,i=r.style.display;r.style.display="block",n.setSelectionRange(e,t),r.style.display=i}}}function xOe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=n.createElement("div");e.style.height="200px",e.style.width="100%";var t=n.createElement("div");t.style.boxSizing="content-box",t.style.height="150px",t.style.left="0px",t.style.overflow="hidden",t.style.position="absolute",t.style.top="0px",t.style.width="200px",t.style.visibility="hidden",t.appendChild(e),(n.body||n.documentElement).appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;return r===i&&(i=t.clientWidth),(n.body||n.documentElement).removeChild(t),r-i}function Dl(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return void 0===XV&&(XV=xOe(n)),XV}function KV(n,e,t){!function hOe(){return dd.ie9.value}()?function uOe(){return dd.safari.value}()?n.style["-webkit-transform"]="translate3d(".concat(e,",").concat(t,",0)"):n.style.transform="translate3d(".concat(e,",").concat(t,",0)"):(n.style.top=t,n.style.left=e)}function VL(n){n.style.transform&&""!==n.style.transform?n.style.transform="":n.style["-webkit-transform"]&&""!==n.style["-webkit-transform"]&&(n.style["-webkit-transform"]="")}function zL(n){return n&&(["INPUT","SELECT","TEXTAREA"].indexOf(n.nodeName)>-1||"true"===n.contentEditable)}function aee(n){return zL(n)&&!1===n.hasAttribute("data-hot-input")}function lee(n){return!n.parentNode}b(8377),b(1100);var uee,cee,dee,hee,fee,pee,cs=b(6908);function is(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=Ya(n,function(o,s,a){return o+s.replace(/\r?\n\s*/g,"")+(t[a]?t[a]:"")},"");return i.trim()}function WS(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function ZV(n){return(ZV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xa(n){var e;switch(ZV(n)){case"string":case"number":e="".concat(n);break;case"object":e=null===n?"":n.toString();break;case"undefined":e="";break;default:e=n.toString()}return e}function wr(n){return void 0!==n}function Bs(n){return void 0===n}function hl(n){return null===n||""===n||Bs(n)}function ROe(n){return"[object RegExp]"===Object.prototype.toString.call(n)}var a1="length",l1=function(e){return parseInt(e,16)},mee=function(e){return parseInt(e,10)},UL=function(e,t,r){return e.substr(t,r)},u1=function(e){return e.codePointAt(0)-65},qV=function(e){return"".concat(e).replace(/\-/g,"")},gee=!1,vee={invalid:function(){return is(uee||(uee=WS(["\n    The license key for Handsontable is invalid. \n    If you need any help, contact us at support@handsontable.com."],["\n    The license key for Handsontable is invalid.\\x20\n    If you need any help, contact us at support@handsontable.com."])))},expired:function(e){var t=e.keyValidityDate,r=e.hotVersion;return is(cee||(cee=WS(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior \n    to ",". If you need any help, contact us at sales@handsontable.com."],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior\\x20\n    to ",". If you need any help, contact us at sales@handsontable.com."])),t,r,t)},missing:function(){return is(dee||(dee=WS(["\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact \n    us at support@handsontable.com."],["\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\\x20\n    us at support@handsontable.com."])))},non_commercial:function(){return""}},yee={invalid:function(){return is(hee||(hee=WS(['\n    The license key for Handsontable is invalid. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to \n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is invalid.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\\x20\n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'])))},expired:function(e){var t=e.keyValidityDate,r=e.hotVersion;return is(fee||(fee=WS(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your \n    license key or downgrade to a version released prior to ','. If you need any \n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.'],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\\x20\n    license key or downgrade to a version released prior to ','. If you need any\\x20\n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.'])),t,r,t)},missing:function(){return is(pee||(pee=WS(['\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: \'non-commercial-and-evaluation\'. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in \n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: \'non-commercial-and-evaluation\'.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\\x20\n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'])))},non_commercial:function(){return""}};function OOe(n,e){var o,t=!hl(n),r="string"==typeof n&&"non-commercial-and-evaluation"===n.toLowerCase(),i="12.2.0",s="invalid",a="invalid",u=function kOe(n){var e=[][a1],t=e;if(n[a1]!==u1("Z"))return!1;for(var r="",i="B<H4P+".split(""),o=u1(i.shift());o;o=u1(i.shift()||"A"))--o<""[a1]?t|=(mee("".concat(mee(l1(r)+(l1(UL(n,Math.abs(o),2))+[]).padStart(2,"0"))))%97||2)>>1:r=UL(n,o,o?1===i[a1]?9:8:6);return t===e}(n=qV(n||""));if(t||r||u)if(u){var c=cs("25/10/2022","DD/MM/YYYY"),h=Math.floor(c.toDate().getTime()/864e5),p=function(e){return l1(UL(qV(e),l1("12"),u1("F")))/(l1(UL(qV(e),u1("B"),~~![][a1]))||9)}(n);if(o=cs(864e5*(p+1),"x").format("MMMM DD, YYYY"),h>p){var g=cs().diff(c,"days");s=g<=1?"valid":"expired",a=g<=15?"valid":"expired"}else s="valid",a="valid"}else r?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if("undefined"!=typeof location&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host)&&(s="valid",a="valid"),gee||"valid"===s||(vee[s]({keyValidityDate:o,hotVersion:i})&&console["non_commercial"===s?"info":"warn"](vee[s]({keyValidityDate:o,hotVersion:i})),gee=!0),"valid"!==a&&e.parentNode&&yee[a]({keyValidityDate:o,hotVersion:i})){var S=document.createElement("div");S.id="hot-display-license-info",S.innerHTML=yee[a]({keyValidityDate:o,hotVersion:i}),e.parentNode.insertBefore(S,e.nextSibling)}}function Ts(n){return"function"==typeof n}function _ee(n){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,t=null;function i(){for(var o=this,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return t&&clearTimeout(t),t=setTimeout(function(){r=n.apply(o,a)},e),r}return i}function bee(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n.apply(this,t.concat(s))}}function JV(n,e,t,r,i,o,s,a){return wr(a)?n.call(e,t,r,i,o,s,a):wr(s)?n.call(e,t,r,i,o,s):wr(o)?n.call(e,t,r,i,o):wr(i)?n.call(e,t,r,i):wr(r)?n.call(e,t,r):wr(t)?n.call(e,t):n.call(e)}function ps(){var n;wr(console)&&(n=console).warn.apply(n,arguments)}function QV(){var n;wr(console)&&(n=console).error.apply(n,arguments)}b(3902);var Mee,Or={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:BV()?182:174,AUDIO_MUTE:BV()?181:173,AUDIO_UP:BV()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},IOe=[Or.ALT,Or.ARROW_DOWN,Or.ARROW_LEFT,Or.ARROW_RIGHT,Or.ARROW_UP,Or.AUDIO_DOWN,Or.AUDIO_MUTE,Or.AUDIO_UP,Or.BACKSPACE,Or.CAPS_LOCK,Or.DELETE,Or.END,Or.ENTER,Or.ESCAPE,Or.F1,Or.F2,Or.F3,Or.F4,Or.F5,Or.F6,Or.F7,Or.F8,Or.F9,Or.F10,Or.F11,Or.F12,Or.F13,Or.F14,Or.F15,Or.F16,Or.F17,Or.F18,Or.F19,Or.HOME,Or.INSERT,Or.MEDIA_NEXT,Or.MEDIA_PLAY_PAUSE,Or.MEDIA_PREV,Or.MEDIA_STOP,Or.NULL,Or.NUM_LOCK,Or.PAGE_DOWN,Or.PAGE_UP,Or.PAUSE,Or.SCROLL_LOCK,Or.SHIFT,Or.TAB];function wee(n){return IOe.includes(n)}function c1(n,e){var t=e.split("|"),r=!1;return it(t,function(i){if(n===Or[i])return r=!0,!1}),r}function rp(n){n.isImmediatePropagationEnabled=!1,n.cancelBubble=!0}function YS(n){return!1===n.isImmediatePropagationEnabled}function Nb(n){return 2===n.button}function ez(n){return 0===n.button}function See(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var GS=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeSetCellMeta","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],zOe=is(Mee||(Mee=function VOe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['The plugin hook "[hookName]" was removed in Handsontable [removedInVersion]. \n  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to \n  learn about the migration path.'],['The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\\x20\n  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\\x20\n  learn about the migration path.']))),tz=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),nz=new Map([["beforeAutofillInsidePopulate",'The plugin hook "beforeAutofillInsidePopulate" is deprecated and will be removed in the next major release.']]),xee=function(){function n(){(function HOe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.globalBucket=this.createEmptyBucket()}return function BOe(n,e,t){e&&See(n.prototype,e),t&&See(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createEmptyBucket",value:function(){var t=Object.create(null);return it(GS,function(r){return t[r]=[]}),t}},{key:"getBucket",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket}},{key:"add",value:function(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(r))it(r,function(u){return i.add(t,u,o)});else{tz.has(t)&&ps(eee(zOe,{hookName:t,removedInVersion:tz.get(t)})),nz.has(t)&&ps(nz.get(t));var s=this.getBucket(o);if(void 0===s[t]&&(this.register(t),s[t]=[]),r.skip=!1,-1===s[t].indexOf(r)){var a=!1;r.initialHook&&it(s[t],function(u,c){if(u.initialHook)return s[t][c]=r,a=!0,!1}),a||s[t].push(r)}}return this}},{key:"once",value:function(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(r)?it(r,function(s){return i.once(t,s,o)}):(r.runOnce=!0,this.add(t,r,o))}},{key:"remove",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getBucket(i);return void 0!==o[t]&&o[t].indexOf(r)>=0&&(r.skip=!0,!0)}},{key:"has",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.getBucket(r);return!(void 0===i[t]||!i[t].length)}},{key:"run",value:function(t,r,i,o,s,a,u,c){var h=this.globalBucket[r],p=h?h.length:0,g=0;if(p)for(;g<p;)if(h[g]&&!h[g].skip){var y=JV(h[g],t,i,o,s,a,u,c);void 0!==y&&(i=y),h[g]&&h[g].runOnce&&this.remove(r,h[g]),g+=1}else g+=1;var w=this.getBucket(t)[r],S=w?w.length:0,C=0;if(S)for(;C<S;)if(w[C]&&!w[C].skip){var P=JV(w[C],t,i,o,s,a,u,c);void 0!==P&&(i=P),w[C]&&w[C].runOnce&&this.remove(r,w[C],t),C+=1}else C+=1;return i}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ao(this.getBucket(t),function(r,i,o){return o[i].length=0})}},{key:"register",value:function(t){this.isRegistered(t)||GS.push(t)}},{key:"deregister",value:function(t){this.isRegistered(t)&&GS.splice(GS.indexOf(t),1)}},{key:"isDeprecated",value:function(t){return nz.has(t)||tz.has(t)}},{key:"isRegistered",value:function(t){return GS.indexOf(t)>=0}},{key:"getRegistered",value:function(){return GS}}],[{key:"getSingleton",value:function(){return function jOe(){return UOe}()}}]),n}(),UOe=new xee;const xr=xee;function Cee(n){return function $Oe(n){if(Array.isArray(n))return rz(n)}(n)||function GOe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function YOe(n,e){if(n){if("string"==typeof n)return rz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rz(n,e)}}(n)||function WOe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var iz=new Map;function eh(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common";iz.has(n)||iz.set(n,new Map);var e=iz.get(n);function t(a,u){e.set(a,u)}function r(a){return e.get(a)}function i(a){return e.has(a)}function o(){return Cee(e.keys())}function s(){return Cee(e.values())}return{register:t,getItem:r,hasItem:i,getNames:o,getValues:s}}var oz=new WeakMap,d1=eh("editors"),XOe=d1.register,Eee=d1.getItem,Tee=d1.hasItem;function KOe(n){var e={},t=n;this.getConstructor=function(){return n},this.getInstance=function(r){return r.guid in e||(e[r.guid]=new t(r)),e[r.guid]},xr.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function Ree(n,e){var t;if("function"==typeof n)oz.get(n)||hd(null,n),t=oz.get(n);else{if("string"!=typeof n)throw Error('Only strings and functions can be passed as "editor" parameter');t=Eee(n)}if(!t)throw Error('No editor registered under name "'.concat(n,'"'));return t.getInstance(e)}function hd(n,e){n&&"string"!=typeof n&&(n=(e=n).EDITOR_TYPE);var t=new KOe(e);"string"==typeof n&&XOe(n,t),oz.set(e,t)}function ZOe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Dee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function QOe(n){var e=n.stopImmediatePropagation;return n.stopImmediatePropagation=function(){e.apply(this),rp(this)},n}const ia=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ZOe(this,n),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}return function qOe(n,e,t){e&&Dee(n.prototype,e),t&&Dee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addEventListener",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];function a(u){i.call(this,QOe(u))}return"boolean"!=typeof s&&!QAe()&&(s=!1),this.context.eventListeners.push({element:t,event:r,callback:i,callbackProxy:a,options:s,eventManager:this}),t.addEventListener(r,a,s),function(){o.removeEventListener(t,r,i)}}},{key:"removeEventListener",value:function(t,r,i){for(var a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this.context.eventListeners.length;s;)if((a=this.context.eventListeners[s-=1]).event===r&&a.element===t){if(i&&i!==a.callback||o&&a.eventManager!==this)continue;this.context.eventListeners.splice(s,1),a.element.removeEventListener(a.event,a.callbackProxy,a.options)}}},{key:"clearEvents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.context)for(var r=this.context.eventListeners.length;r;){var i=this.context.eventListeners[r-=1];t&&i.eventManager!==this||(this.context.eventListeners.splice(r,1),i.element.removeEventListener(i.event,i.callbackProxy,i.options))}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"destroyWithOwnEventsOnly",value:function(){this.clearEvents(!0),this.context=null}},{key:"fireEvent",value:function(t,r){var i=t.document,o=t;i||(o=(i=t.ownerDocument?t.ownerDocument:t).defaultView);var a,s={bubbles:!0,cancelable:"mousemove"!==r,view:o,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};i.createEvent?(a=i.createEvent("MouseEvents")).initMouseEvent(r,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget||i.body.parentNode):a=i.createEventObject(),t.dispatchEvent?t.dispatchEvent(a):t.fireEvent("on".concat(r),a)}}]),n}();function Aee(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Oee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var WL="editorManager.navigation",h1="editorManager.handlingEditor",sz=function(){function n(e,t,r){var i=this;(function oke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.instance=e,this.tableMeta=t,this.selection=r,this.eventManager=new ia(e),this.destroyed=!1,this.lock=!1,this.activeEditor=void 0,this.cellProperties=void 0,this.instance.getShortcutManager().addContext("editor"),this.registerShortcuts(),this.instance.addHook("afterDocumentKeyDown",function(s){return i.onAfterDocumentKeyDown(s)}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"compositionstart",function(s){!i.destroyed&&i.instance.isListening()&&i.openEditor("",s)}),this.instance.view._wt.update("onCellDblClick",function(s,a,u){return i.onCellDblClick(s,a,u)})}return function ske(n,e,t){e&&Oee(n.prototype,e),t&&Oee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerShortcuts",value:function(){var t=this,r=this.instance.getShortcutManager(),i=r.getContext("grid"),o=r.getContext("editor"),s={group:h1};o.addShortcuts([{keys:[["Enter"],["Enter","Shift"],["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],callback:function(u,c){t.closeEditorAndSaveChanges(r.isCtrlPressed()),t.moveSelectionAfterEnter(c.includes("shift"))}},{keys:[["Escape"],["Escape","Control/Meta"]],callback:function(){t.closeEditorAndRestoreOriginalValue(r.isCtrlPressed()),t.activeEditor.focus()}}],s),i.addShortcuts([{keys:[["F2"]],callback:function(u){t.openEditor(null,u,!0)}},{keys:[["Backspace"],["Delete"]],callback:function(){t.instance.emptySelectedCells(),t.prepareEditor()}},{keys:[["Enter"],["Enter","Shift"]],callback:function(u,c){t.instance.getSettings().enterBeginsEditing?t.cellProperties.readOnly?t.moveSelectionAfterEnter():t.openEditor(null,u,!0):t.moveSelectionAfterEnter(c.includes("shift")),rp(u)}}],s)}},{key:"lockEditor",value:function(){this.lock=!0}},{key:"unlockEditor",value:function(){this.lock=!1}},{key:"destroyEditor",value:function(t){this.lock||this.closeEditor(t)}},{key:"getActiveEditor",value:function(){return this.activeEditor}},{key:"prepareEditor",value:function(){var t=this;if(!this.lock){if(this.activeEditor&&this.activeEditor.isWaiting())return void this.closeEditor(!1,!1,function(S){S&&t.prepareEditor()});var r=this.instance.getSelectedRangeLast().highlight,i=r.row,o=r.col,s=this.instance.runHooks("modifyGetCellCoords",i,o),a=i,u=o;if(Array.isArray(s)){var c=function eke(n,e){return function ike(n){if(Array.isArray(n))return n}(n)||function rke(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function nke(n,e){if(n){if("string"==typeof n)return Aee(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Aee(n,e)}}(n,e)||function tke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2);a=c[0],u=c[1]}this.cellProperties=this.instance.getCellMeta(a,u);var h=this.instance.rootDocument.activeElement;if(h&&h.blur(),!this.isCellEditable())return void this.clearActiveEditor();var p=this.instance.getCell(i,o,!0);if(p){var g=this.instance.getCellEditor(this.cellProperties),y=this.instance.colToProp(u),w=this.instance.getSourceDataAtCell(this.instance.toPhysicalRow(a),u);this.activeEditor=Ree(g,this.instance),this.activeEditor.prepare(i,o,y,p,w,this.cellProperties)}}}},{key:"isEditorOpened",value:function(){return this.activeEditor&&this.activeEditor.isOpened()}},{key:"openEditor",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.isCellEditable()){if(!this.activeEditor){var o=this.instance.getSelectedRangeLast().highlight,s=o.row,a=o.col,u=this.instance.rowIndexMapper.getRenderableFromVisualIndex(s),c=this.instance.columnIndexMapper.getRenderableFromVisualIndex(a);this.instance.view.scrollViewport(this.instance._createCellCoords(u,c)),this.instance.view.render(),this.prepareEditor()}this.activeEditor&&(i&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(t,r))}else this.clearActiveEditor()}},{key:"closeEditor",value:function(t,r,i){this.activeEditor?this.activeEditor.finishEditing(t,r,i):i&&i(!1)}},{key:"closeEditorAndSaveChanges",value:function(t){this.closeEditor(!1,t)}},{key:"closeEditorAndRestoreOriginalValue",value:function(t){this.closeEditor(!0,t)}},{key:"clearActiveEditor",value:function(){this.activeEditor=void 0}},{key:"isCellEditable",value:function(){var t=this.instance.getCellEditor(this.cellProperties),r=this.instance.getSelectedRangeLast().highlight,o=r.col,s=this.instance,u=s.columnIndexMapper,c=s.rowIndexMapper.isHidden(this.instance.toPhysicalRow(r.row))||u.isHidden(this.instance.toPhysicalColumn(o));return!(this.cellProperties.readOnly||!t||c)}},{key:"moveSelectionAfterEnter",value:function(t){var r="function"==typeof this.tableMeta.enterMoves?this.tableMeta.enterMoves(event):this.tableMeta.enterMoves;t?this.selection.transformStart(-r.row,-r.col):this.selection.transformStart(r.row,r.col,!0)}},{key:"onAfterDocumentKeyDown",value:function(t){var r=this;if(this.instance.isListening()){var i=t.keyCode;if(this.selection.isSelected()){var o=(t.ctrlKey||t.metaKey)&&!t.altKey;this.activeEditor&&(!this.activeEditor||this.activeEditor.isWaiting())||wee(i)||function FOe(n){return[Or.CONTROL,Or.COMMAND_LEFT,Or.COMMAND_RIGHT,Or.COMMAND_FIREFOX].includes(n)}(i)||o||this.isEditorOpened()||(this.instance.getShortcutManager().getContext("editor").addShortcuts([{keys:[["ArrowUp"]],callback:function(){r.instance.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:function(){r.instance.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:function(){r.instance.selection.transformStart(0,-1*r.instance.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:function(){r.instance.selection.transformStart(0,r.instance.getDirectionFactor())}}],{runOnlyIf:function(){return wr(r.instance.getSelected())},group:WL}),this.openEditor("",t))}}}},{key:"onCellDblClick",value:function(t,r,i){"TD"===i.nodeName&&this.openEditor(null,t,!0)}},{key:"destroy",value:function(){this.destroyed=!0,this.eventManager.destroy()}}]),n}(),kee=new WeakMap;sz.getInstance=function(n,e,t){var r=kee.get(n);return r||(r=new sz(n,e,t),kee.set(n,r)),r};const ake=sz;function az(n){return function dke(n){if(Array.isArray(n))return lz(n)}(n)||function cke(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function uke(n,e){if(n){if("string"==typeof n)return lz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lz(n,e)}}(n)||function lke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}b(6019),b(9394),b(1695),b(149),b(4631);var Lee={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},hke=new RegExp(Object.keys(Lee).map(function(n){return"(".concat(n,")")}).join("|"),"gi");function fke(n){return"TABLE"===(n&&n.nodeName||"")}function Pee(n){for(var e=n.hasColHeaders(),t=n.hasRowHeaders(),r=[e?-1:0,t?-1:0,n.countRows()-1,n.countCols()-1],i=n.getData.apply(n,r),o=i.length,s=o>0?i[0].length:0,a=["<table>","</table>"],u=e?["<thead>","</thead>"]:[],c=["<tbody>","</tbody>"],h=t?1:0,p=e?1:0,g=0;g<o;g+=1){for(var y=e&&0===g,w=[],S=0;S<s;S+=1){var C=!y&&t&&0===S,P="";if(y)P="<th>".concat(n.getColHeader(S-h),"</th>");else if(C)P="<th>".concat(n.getRowHeader(g-p),"</th>");else{var B=i[g][S],z=n.getCellMeta(g-p,S-h),G=z.rowspan,re=z.colspan;if(!z.hidden){var pe=[];if(G&&pe.push('rowspan="'.concat(G,'"')),re&&pe.push('colspan="'.concat(re,'"')),hl(B))P="<td ".concat(pe.join(" "),"></td>");else{var ne=B.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");P="<td ".concat(pe.join(" "),">").concat(ne,"</td>")}}}w.push(P)}var he=["<tr>"].concat(w,["</tr>"]).join("");y?u.splice(1,0,he):c.splice(-1,0,he)}return a.splice(1,0,u.join(""),c.join("")),a.join("")}function Iee(n){for(var e=n.length,t=["<table>"],r=0;r<e;r+=1){var i=n[r],o=i.length,s=[];0===r&&t.push("<tbody>");for(var a=0;a<o;a+=1){var u=i[a],c=hl(u)?"":u.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");s.push("<td>".concat(c,"</td>"))}t.push.apply(t,["<tr>"].concat(s,["</tr>"])),r+1===e&&t.push("</tbody>")}return t.push("</table>"),t.join("")}function mke(n){return function _ke(n){if(Array.isArray(n))return uz(n)}(n)||function yke(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function vke(n,e){if(n){if("string"==typeof n)return uz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uz(n,e)}}(n)||function gke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function cz(n){return(cz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function th(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=cz(n);if("number"===t)return!isNaN(n)&&isFinite(n);if("string"===t){if(0===n.length)return!1;if(1===n.length)return/\d/.test(n);var r=Array.from(new Set(["."].concat(mke(e)))).map(function(i){return"\\".concat(i)}).join("|");return new RegExp("^[+-]?\\s*(((".concat(r,")?\\d+((").concat(r,")\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$"),"i").test(n.trim())}return"object"===t&&!(!n||"number"!=typeof n.valueOf()||n instanceof Date)}function bke(n){return th(n,[","])}function Hr(n,e,t){var r=-1;for("function"==typeof e?(t=e,e=n):r=n-1;++r<=e&&!1!==t(r););}function dz(n,e,t){var r=n+1;for("function"==typeof e&&(t=e,e=0);--r>=e&&!1!==t(r););}function Nee(n,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(n*e/100,10)}function wke(n){return function xke(n){if(Array.isArray(n))return hz(n)}(n)||function Ske(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Fee(n)||function Mke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cke(n,e){return function Rke(n){if(Array.isArray(n))return n}(n)||function Tke(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Fee(n,e)||function Eke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fee(n,e){if(n){if("string"==typeof n)return hz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hz(n,e)}}function hz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var fz="asc",Hee=new Map([[fz,[-1,1]],["desc",[1,-1]]]),Ake=function(e){return"The priority '".concat(e,"' is already declared in a map.")},Oke=function(e){return"The priority '".concat(e,"' is not a number.")};function Lke(n){return function Nke(n){if(Array.isArray(n))return pz(n)}(n)||function Ike(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Vee(n)||function Pke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bee(n,e){return function Bke(n){if(Array.isArray(n))return n}(n)||function Hke(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Vee(n,e)||function Fke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vee(n,e){if(n){if("string"==typeof n)return pz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pz(n,e)}}function pz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}b(7114);var Vke=function(e){return"The id '".concat(e,"' is already declared in a map.")};function YL(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorIdExists,t=new Map;function r(h,p){if(c(h))throw new Error(e(h));t.set(h,p)}function i(h){return t.delete(h)}function o(){t.clear()}function s(h){var p=u().find(function(w){var S=Bee(w,2);return h===S[1]&&S[0]})||[null];return Bee(p,1)[0]}function a(h){return t.get(h)}function u(){return Lke(t)}function c(h){return t.has(h)}return e=Ts(e)?e:Vke,{addItem:r,clear:o,getId:s,getItem:a,getItems:u,hasItem:c,removeItem:i}}function zke(n){return function Yke(n){if(Array.isArray(n))return mz(n)}(n)||function Wke(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function jke(n,e){if(n){if("string"==typeof n)return mz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mz(n,e)}}(n)||function Uke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Gke=function(e){return"'".concat(e,"' value is already declared in a unique set.")};function zee(n){return function eLe(n){if(Array.isArray(n))return gz(n)}(n)||function Qke(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Uee(n)||function Jke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uee(n,e){if(n){if("string"==typeof n)return gz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gz(n,e)}}function gz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var vz=function(e){return'There is already registered "'.concat(e,'" plugin.')},jee=function kke(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorPriorityExists,t=n.errorPriorityNaN,r=new Map;function i(s,a){if(!th(s))throw new Error(t(s));if(r.has(s))throw new Error(e(s));r.set(s,a)}function o(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fz,a=Hee.get(s)||Hee.get(fz),u=Cke(a,2),c=u[0],h=u[1];return wke(r).sort(function(p,g){return p[0]<g[0]?c:h}).map(function(p){return p[1]})}return e=Ts(e)?e:Ake,t=Ts(t)?t:Oke,{addItem:i,getItems:o}}({errorPriorityExists:function(e){return'There is already registered plugin on priority "'.concat(e,'".')},errorPriorityNaN:function(e){return'The priority "'.concat(e,'" is not a number.')}}),Wee=function $ke(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorItemExists,t=new Set;function r(s){if(t.has(s))throw new Error(e(s));t.add(s)}function i(){return zke(t)}function o(){t.clear()}return e=Ts(e)?e:Gke,{addItem:r,clear:o,getItems:i}}({errorItemExists:vz}),yz=YL({errorIdExists:vz});function Yee(){return[].concat(zee(jee.getItems()),zee(Wee.getItems()))}function _z(n){var e=km(n);return yz.getItem(e)}function Go(n,e,t){var r=function oLe(n,e,t){return"function"==typeof n&&(n=(e=n).PLUGIN_KEY,t=e.PLUGIN_PRIORITY),[n,e,t]}(n,e,t),i=function Xke(n,e){return function qke(n){if(Array.isArray(n))return n}(n)||function Zke(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Uee(n,e)||function Kke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,3);e=i[1],t=i[2],void 0===_z(n=i[0])&&function iLe(n,e,t){var r=km(n);if(yz.hasItem(r))throw new Error(vz(r));void 0===t?Wee.addItem(r):jee.addItem(t,r),yz.addItem(r,e)}(n,e,t)}var f1=eh("renderers"),sLe=f1.register,aLe=f1.getItem,Gee=f1.hasItem;function lLe(n){if("function"==typeof n)return n;if(!Gee(n))throw Error('No registered renderer found under "'.concat(n,'" name'));return aLe(n)}function Lm(n,e){"string"!=typeof n&&(n=(e=n).RENDERER_TYPE),sLe(n,e)}var p1=eh("validators"),uLe=p1.register,cLe=p1.getItem,$ee=p1.hasItem;function dLe(n){if("function"==typeof n)return n;if(!$ee(n))throw Error('No registered validator found under "'.concat(n,'" name'));return cLe(n)}function m1(n,e){"string"!=typeof n&&(n=(e=n).VALIDATOR_TYPE),uLe(n,e)}function hLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(5281),b(4448);var $S=new WeakMap;const Kee=function(){function n(e,t,r,i,o,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;hLe(this,n),this.wtSettings=r,this.domBindings=t,this.wtTable=o,this.selections=s,this.parent=a,this.eventManager=i,this.facadeGetter=e,$S.set(this,{selectedCellBeforeTouchEnd:void 0,dblClickTimeout:[null,null],dblClickOrigin:[null,null]}),this.registerEvents()}return function fLe(n,e,t){e&&Xee(n.prototype,e),t&&Xee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(this.wtTable.holder,"contextmenu",function(o){return t.onContextMenu(o)}),this.eventManager.addEventListener(this.wtTable.TABLE,"mouseover",function(o){return t.onMouseOver(o)}),this.eventManager.addEventListener(this.wtTable.TABLE,"mouseout",function(o){return t.onMouseOut(o)});var r=function(){t.eventManager.addEventListener(t.wtTable.holder,"touchstart",function(s){return t.onTouchStart(s)}),t.eventManager.addEventListener(t.wtTable.holder,"touchend",function(s){return t.onTouchEnd(s)}),t.momentumScrolling||(t.momentumScrolling={}),t.eventManager.addEventListener(t.wtTable.holder,"scroll",function(){clearTimeout(t.momentumScrolling._timeout),t.momentumScrolling.ongoing||t.wtSettings.getSetting("onBeforeTouchScroll"),t.momentumScrolling.ongoing=!0,t.momentumScrolling._timeout=setTimeout(function(){t.touchApplied||(t.momentumScrolling.ongoing=!1,t.wtSettings.getSetting("onAfterMomentumScroll"))},200)})};tp()?r():(VQ()&&r(),t.eventManager.addEventListener(t.wtTable.holder,"mouseup",function(s){return t.onMouseUp(s)}),t.eventManager.addEventListener(t.wtTable.holder,"mousedown",function(s){return t.onMouseDown(s)}))}},{key:"selectedCellWasTouched",value:function(t){var r=$S.get(this),o=this.parentCell(t).coords;if(r.selectedCellBeforeTouchEnd&&o){var s=[o.row,r.selectedCellBeforeTouchEnd.from.row],c=[o.col,r.selectedCellBeforeTouchEnd.from.col];return s[0]===s[1]&&c[0]===c[1]}return!1}},{key:"parentCell",value:function(t){var r={},o=PL(t,["TD","TH"],this.wtTable.TABLE);return o?(r.coords=this.wtTable.getCoords(o),r.TD=o):Ti(t,"wtBorder")&&Ti(t,"current")?(r.coords=this.selections.getCell().cellRange.highlight,r.TD=this.wtTable.getCell(r.coords)):Ti(t,"wtBorder")&&Ti(t,"area")&&this.selections.createOrGetArea().cellRange&&(r.coords=this.selections.createOrGetArea().cellRange.to,r.TD=this.wtTable.getCell(r.coords)),r}},{key:"onMouseDown",value:function(t){var r=$S.get(this),i=this.domBindings.rootDocument.activeElement,o=bee(yOe,t.target),s=t.target;if(s!==i&&o(0)!==i&&o(1)!==i){var a=this.parentCell(s);Ti(s,"corner")?this.wtSettings.getSetting("onCellCornerMouseDown",t,s):a.TD&&this.wtSettings.has("onCellMouseDown")&&this.callListener("onCellMouseDown",t,a.coords,a.TD),(0===t.button||this.touchApplied)&&a.TD&&(r.dblClickOrigin[0]=a.TD,clearTimeout(r.dblClickTimeout[0]),r.dblClickTimeout[0]=setTimeout(function(){r.dblClickOrigin[0]=null},1e3))}}},{key:"onContextMenu",value:function(t){if(this.wtSettings.has("onCellContextMenu")){var r=this.parentCell(t.target);r.TD&&this.callListener("onCellContextMenu",t,r.coords,r.TD)}}},{key:"onMouseOver",value:function(t){if(this.wtSettings.has("onCellMouseOver")){var r=this.wtTable.TABLE,i=PL(t.target,["TD","TH"],r),o=this.parent||this;i&&i!==o.lastMouseOver&&kb(i,r)&&(o.lastMouseOver=i,this.callListener("onCellMouseOver",t,this.wtTable.getCoords(i),i))}}},{key:"onMouseOut",value:function(t){if(this.wtSettings.has("onCellMouseOut")){var r=this.wtTable.TABLE,i=PL(t.target,["TD","TH"],r),o=PL(t.relatedTarget,["TD","TH"],r);i&&i!==o&&kb(i,r)&&this.callListener("onCellMouseOut",t,this.wtTable.getCoords(i),i)}}},{key:"onMouseUp",value:function(t){var r=$S.get(this),i=this.parentCell(t.target);i.TD&&this.wtSettings.has("onCellMouseUp")&&this.callListener("onCellMouseUp",t,i.coords,i.TD),(0===t.button||this.touchApplied)&&(i.TD===r.dblClickOrigin[0]&&i.TD===r.dblClickOrigin[1]?(Ti(t.target,"corner")?this.callListener("onCellCornerDblClick",t,i.coords,i.TD):this.callListener("onCellDblClick",t,i.coords,i.TD),r.dblClickOrigin[0]=null,r.dblClickOrigin[1]=null):i.TD===r.dblClickOrigin[0]&&(r.dblClickOrigin[1]=i.TD,clearTimeout(r.dblClickTimeout[1]),r.dblClickTimeout[1]=setTimeout(function(){r.dblClickOrigin[1]=null},500)))}},{key:"onTouchStart",value:function(t){$S.get(this).selectedCellBeforeTouchEnd=this.selections.getCell().cellRange,this.touchApplied=!0,this.onMouseDown(t)}},{key:"onTouchEnd",value:function(t){var r,i=t.target,o=null===(r=this.parentCell(i))||void 0===r?void 0:r.coords,s=wr(o)&&o.row>=0&&o.col>=0;t.cancelable&&s&&this.wtSettings.getSetting("isDataViewInstance")&&(XQ()&&(function aOe(){return dd.chromeWebKit.value}()||function lOe(){return dd.firefoxWebKit.value}())&&this.selectedCellWasTouched(i)&&!["A","BUTTON","INPUT"].includes(i.tagName)?t.preventDefault():this.selectedCellWasTouched(i)||t.preventDefault()),this.onMouseUp(t),this.touchApplied=!1}},{key:"callListener",value:function(t,r,i,o){var s=this.wtSettings.getSettingPure(t);s&&s(r,i,o,this.facadeGetter())}},{key:"destroy",value:function(){var t=$S.get(this);clearTimeout(t.dblClickTimeout[0]),clearTimeout(t.dblClickTimeout[1]),this.eventManager.destroy()}}]),n}();function Zee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const yLe=function(){function n(e,t,r){(function mLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.offset=e,this.total=t,this.countTH=r}return function gLe(n,e,t){e&&Zee(n.prototype,e),t&&Zee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),n}();function qee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const MLe=function(){function n(e,t,r){(function _Le(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.offset=e,this.total=t,this.countTH=r}return function bLe(n,e,t){e&&qee(n.prototype,e),t&&qee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceRowToVisibleColHeadedRow",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),n}();function Jee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Qee=function(){function n(){(function xLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.currentSize=0,this.nextSize=0,this.currentOffset=0,this.nextOffset=0}return function CLe(n,e,t){e&&Jee(n.prototype,e),t&&Jee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){this.currentSize=this.nextSize,this.nextSize=t}},{key:"setOffset",value:function(t){this.currentOffset=this.nextOffset,this.nextOffset=t}}]),n}();function ete(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var RLe=function(){function n(){(function ELe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.size=new Qee,this.workingSpace=0,this.sharedSize=null}return function TLe(n,e,t){e&&ete(n.prototype,e),t&&ete(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){this.size.setSize(t)}},{key:"setOffset",value:function(t){this.size.setOffset(t)}},{key:"getViewSize",value:function(){return this.size}},{key:"isShared",value:function(){return this.sharedSize instanceof Qee}},{key:"isPlaceOn",value:function(t){return this.workingSpace===t}},{key:"append",value:function(t){this.workingSpace=1,t.workingSpace=2,this.sharedSize=t.getViewSize()}},{key:"prepend",value:function(t){this.workingSpace=2,t.workingSpace=1,this.sharedSize=t.getViewSize()}}]),n}();function tte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var nte=function(){function n(e,t,r){(function DLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootNode=e,this.nodesPool=t,this.sizeSet=new RLe,this.childNodeType=r.toUpperCase(),this.visualIndex=0,this.collectedNodes=[]}return function ALe(n,e,t){e&&tte(n.prototype,e),t&&tte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){return this.sizeSet.setSize(t),this}},{key:"setOffset",value:function(t){return this.sizeSet.setOffset(t),this}},{key:"isSharedViewSet",value:function(){return this.sizeSet.isShared()}},{key:"getNode",value:function(t){return t<this.collectedNodes.length?this.collectedNodes[t]:null}},{key:"getCurrentNode",value:function(){var t=this.collectedNodes.length;return t>0?this.collectedNodes[t-1]:null}},{key:"getRenderedChildCount",value:function(){var t=this.rootNode,r=this.sizeSet,i=0;if(this.isSharedViewSet())for(var o=t.firstElementChild;o;){if(o.tagName===this.childNodeType)i+=1;else if(r.isPlaceOn(1))break;o=o.nextElementSibling}else i=t.childElementCount;return i}},{key:"start",value:function(){this.collectedNodes.length=0,this.visualIndex=0;for(var t=this.rootNode,r=this.sizeSet,i=this.isSharedViewSet(),s=r.getViewSize().nextSize,a=this.getRenderedChildCount();a<s;){var u=this.nodesPool();!i||i&&r.isPlaceOn(2)?t.appendChild(u):t.insertBefore(u,t.firstChild),a+=1}for(var c=i&&r.isPlaceOn(1);a>s;)t.removeChild(c?t.firstChild:t.lastChild),a-=1}},{key:"render",value:function(){var t=this.rootNode,r=this.sizeSet,i=this.visualIndex;this.isSharedViewSet()&&r.isPlaceOn(2)&&(i+=r.sharedSize.nextSize);var o=t.childNodes[i];if(o.tagName!==this.childNodeType){var s=this.nodesPool();t.replaceChild(s,o),o=s}this.collectedNodes.push(o),this.visualIndex+=1}},{key:"end",value:function(){}}]),n}();function bz(n){return(bz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function OLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function rte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function wz(n,e){return(wz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ILe(n,e){if(e&&("object"===bz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function NLe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function XL(n){return(XL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var ite=function(n){!function LLe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&wz(n,e)}(t,n);var e=function PLe(n){var e=function FLe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=XL(n);if(e){var o=XL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ILe(this,i)}}(t);function t(){return OLe(this,t),e.apply(this,arguments)}return function kLe(n,e,t){e&&rte(n.prototype,e),t&&rte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prependView",value:function(i){return this.sizeSet.prepend(i.sizeSet),i.sizeSet.append(this.sizeSet),this}},{key:"appendView",value:function(i){return this.sizeSet.append(i.sizeSet),i.sizeSet.prepend(this.sizeSet),this}}]),t}(nte);function ote(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var VLe=function(){function n(e){(function HLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.nodeType=e.toUpperCase()}return function BLe(n,e,t){e&&ote(n.prototype,e),t&&ote(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setRootDocument",value:function(t){this.rootDocument=t}},{key:"obtain",value:function(){return this.rootDocument.createElement(this.nodeType)}}]),n}();function ste(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var g1=function(){function n(e,t){(function zLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.nodesPool="string"==typeof e?new VLe(e):null,this.nodeType=e,this.rootNode=t,this.table=null,this.renderedNodes=0}return function ULe(n,e,t){e&&ste(n.prototype,e),t&&ste(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setTable",value:function(t){this.nodesPool&&this.nodesPool.setRootDocument(t.rootDocument),this.table=t}},{key:"adjust",value:function(){}},{key:"render",value:function(){}}]),n}();function Mz(n){return(Mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ate(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Sz(n,e){return(Sz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $Le(n,e){if(e&&("object"===Mz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function XLe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function KL(n){return(KL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var ZLe=function(n){!function YLe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Sz(n,e)}(t,n);var e=function GLe(n){var e=function KLe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=KL(n);if(e){var o=KL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $Le(this,i)}}(t);function t(){var r;return function jLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this,"TH")).orderViews=new WeakMap,r.sourceRowIndex=0,r}return function WLe(n,e,t){e&&ate(n.prototype,e),t&&ate(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"obtainOrderView",value:function(i){var s,o=this;return this.orderViews.has(i)?s=this.orderViews.get(i):(s=new ite(i,function(a){return o.nodesPool.obtain(o.sourceRowIndex,a)},this.nodeType),this.orderViews.set(i,s)),s}},{key:"render",value:function(){for(var i=this.table,o=i.rowsToRender,s=i.rowHeaderFunctions,a=i.rowHeadersCount,u=i.rows,c=i.cells,h=0;h<o;h++){var p=this.table.renderedRowToSource(h),g=u.getRenderedNode(h);this.sourceRowIndex=p;var y=this.obtainOrderView(g),w=c.obtainOrderView(g);y.appendView(w).setSize(a).setOffset(this.table.renderedColumnToSource(0)).start();for(var S=0;S<a;S++){y.render();var C=y.getCurrentNode();C.className="",C.removeAttribute("style"),s[S](p,C,S)}y.end()}}}]),t}(g1);function xz(n){return(xz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Cz(n,e){return(Cz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function tPe(n,e){if(e&&("object"===xz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function nPe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ZL(n){return(ZL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var iPe=function(n){!function QLe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Cz(n,e)}(t,n);var e=function ePe(n){var e=function rPe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ZL(n);if(e){var o=ZL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return tPe(this,i)}}(t);function t(r){return function qLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,null,r)}return function JLe(n,e,t){e&&lte(n.prototype,e),t&&lte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"adjust",value:function(){var i=this.table,o=i.columnHeadersCount,a=this.rootNode.firstChild;if(o){for(var c=this.table.columnsToRender+i.rowHeadersCount,h=0,p=o;h<p;h++){for((a=this.rootNode.childNodes[h])||(a=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(a)),this.renderedNodes=a.childNodes.length;this.renderedNodes<c;)a.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>c;)a.removeChild(a.lastChild),this.renderedNodes-=1}var g=this.rootNode.childNodes.length;if(g>o)for(var y=o;y<g;y++)this.rootNode.removeChild(this.rootNode.lastChild)}else a&&np(a)}},{key:"render",value:function(){for(var i=this.table.columnHeadersCount,o=0;o<i;o+=1)for(var s=this.table,a=s.columnHeaderFunctions,u=s.columnsToRender,c=s.rowHeadersCount,h=this.rootNode.childNodes[o],p=-1*c;p<u;p+=1){var g=this.table.renderedColumnToSource(p),y=h.childNodes[p+c];y.className="",y.removeAttribute("style"),a[o](g,y,o)}}}]),t}(g1);function Ez(n){return(Ez="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ute(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Tz(n,e){return(Tz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function uPe(n,e){if(e&&("object"===Ez(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function cPe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function qL(n){return(qL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var cte,hPe=function(n){!function aPe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Tz(n,e)}(t,n);var e=function lPe(n){var e=function dPe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=qL(n);if(e){var o=qL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return uPe(this,i)}}(t);function t(r){return function oPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,null,r)}return function sPe(n,e,t){e&&ute(n.prototype,e),t&&ute(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"adjust",value:function(){for(var i=this.table,a=i.columnsToRender+i.rowHeadersCount;this.renderedNodes<a;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>a;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}},{key:"render",value:function(){this.adjust();for(var i=this.table,o=i.columnsToRender,s=i.rowHeadersCount,a=0;a<s;a++){var u=this.table.renderedColumnToSource(a),c=this.table.columnUtils.getHeaderWidth(u);this.rootNode.childNodes[a].style.width="".concat(c,"px")}for(var h=0;h<o;h++){var p=this.table.renderedColumnToSource(h),g=this.table.columnUtils.getStretchedColumnWidth(p);this.rootNode.childNodes[h+s].style.width="".concat(g,"px")}var y=this.rootNode.firstChild;y&&An(y,"rowHeader")}}]),t}(g1);function Rz(n){return(Rz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function dte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Dz(n,e){return(Dz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function yPe(n,e){if(e&&("object"===Rz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function _Pe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function JL(n){return(JL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var hte=!1,wPe=function(n){!function gPe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Dz(n,e)}(t,n);var e=function vPe(n){var e=function bPe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=JL(n);if(e){var o=JL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return yPe(this,i)}}(t);function t(r){var i;return function pPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,"TR",r)).orderView=new nte(r,function(o){return i.nodesPool.obtain(o)},i.nodeType),i}return function mPe(n,e,t){e&&dte(n.prototype,e),t&&dte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getRenderedNode",value:function(i){return this.orderView.getNode(i)}},{key:"render",value:function(){var i=this.table.rowsToRender;!hte&&i>1e3&&(hte=!0,ps(is(cte||(cte=function fPe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting \n        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.'],['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting\\x20\n        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.']))))),this.orderView.setSize(i).setOffset(this.table.renderedRowToSource(0)).start();for(var o=0;o<i;o++)this.orderView.render();this.orderView.end()}}]),t}(g1);function Az(n){return(Az="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function fte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Oz(n,e){return(Oz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function EPe(n,e){if(e&&("object"===Az(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function TPe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function QL(n){return(QL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var DPe=function(n){!function xPe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Oz(n,e)}(t,n);var e=function CPe(n){var e=function RPe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=QL(n);if(e){var o=QL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return EPe(this,i)}}(t);function t(){var r;return function MPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this,"TD")).orderViews=new WeakMap,r.sourceRowIndex=0,r}return function SPe(n,e,t){e&&fte(n.prototype,e),t&&fte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"obtainOrderView",value:function(i){var s,o=this;return this.orderViews.has(i)?s=this.orderViews.get(i):(s=new ite(i,function(a){return o.nodesPool.obtain(o.sourceRowIndex,a)},this.nodeType),this.orderViews.set(i,s)),s}},{key:"render",value:function(){for(var i=this.table,o=i.rowsToRender,s=i.columnsToRender,a=i.rows,u=i.rowHeaders,c=0;c<o;c++){var h=this.table.renderedRowToSource(c),p=a.getRenderedNode(c);this.sourceRowIndex=h;var g=this.obtainOrderView(p),y=u.obtainOrderView(p);g.prependView(y).setSize(s).setOffset(this.table.renderedColumnToSource(0)).start();for(var w=0;w<s;w++){g.render();var S=g.getCurrentNode(),C=this.table.renderedColumnToSource(w);Ti(S,"hide")||(S.className=""),S.removeAttribute("style"),S.removeAttribute("dir"),this.table.cellRenderer(h,C,S)}g.end()}}}]),t}(g1);function APe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var kPe=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.cellRenderer;APe(this,n),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.rowHeaders=null,this.columnHeaders=null,this.colGroup=null,this.rows=null,this.cells=null,this.rowFilter=null,this.columnFilter=null,this.rowUtils=null,this.columnUtils=null,this.rowsToRender=0,this.columnsToRender=0,this.rowHeaderFunctions=[],this.rowHeadersCount=0,this.columnHeaderFunctions=[],this.columnHeadersCount=0,this.cellRenderer=r}return function OPe(n,e,t){e&&pte(n.prototype,e),t&&pte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setAxisUtils",value:function(t,r){this.rowUtils=t,this.columnUtils=r}},{key:"setViewportSize",value:function(t,r){this.rowsToRender=t,this.columnsToRender=r}},{key:"setFilters",value:function(t,r){this.rowFilter=t,this.columnFilter=r}},{key:"setHeaderContentRenderers",value:function(t,r){this.rowHeaderFunctions=t,this.rowHeadersCount=t.length,this.columnHeaderFunctions=r,this.columnHeadersCount=r.length}},{key:"setRenderers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.rowHeaders,i=t.columnHeaders,o=t.colGroup,s=t.rows,a=t.cells;r.setTable(this),i.setTable(this),o.setTable(this),s.setTable(this),a.setTable(this),this.rowHeaders=r,this.columnHeaders=i,this.colGroup=o,this.rows=s,this.cells=a}},{key:"renderedRowToSource",value:function(t){return this.rowFilter.renderedToSource(t)}},{key:"renderedColumnToSource",value:function(t){return this.columnFilter.renderedToSource(t)}},{key:"render",value:function(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();for(var t=this.rowsToRender,r=this.rows,i=0;i<t;i++){var o=r.getRenderedNode(i);if(o.firstChild){var s=this.renderedRowToSource(i),a=this.rowUtils.getHeight(s);o.firstChild.style.height=a?"".concat(a-1,"px"):""}}}}]),n}();function LPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function mte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var IPe=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TABLE,r=e.THEAD,i=e.COLGROUP,o=e.TBODY,s=e.rowUtils,a=e.columnUtils,u=e.cellRenderer;LPe(this,n),this.renderer=new kPe(t,{cellRenderer:u}),this.renderer.setRenderers({rowHeaders:new ZLe,columnHeaders:new iPe(r),colGroup:new hPe(i),rows:new wPe(o),cells:new DPe}),this.renderer.setAxisUtils(s,a)}return function PPe(n,e,t){e&&mte(n.prototype,e),t&&mte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setFilters",value:function(t,r){return this.renderer.setFilters(t,r),this}},{key:"setViewportSize",value:function(t,r){return this.renderer.setViewportSize(t,r),this}},{key:"setHeaderContentRenderers",value:function(t,r){return this.renderer.setHeaderContentRenderers(t,r),this}},{key:"adjust",value:function(){this.renderer.adjust()}},{key:"render",value:function(){this.renderer.render()}}]),n}();function gte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var HPe=function(){function n(e,t){(function NPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wtSettings=t,this.headerWidths=new Map}return function FPe(n,e,t){e&&gte(n.prototype,e),t&&gte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getWidth",value:function(t){return this.wtSettings.getSetting("columnWidth",t)||this.wtSettings.getSetting("defaultColumnWidth")}},{key:"getStretchedColumnWidth",value:function(t){var r=this.dataAccessObject.wtViewport.columnsRenderCalculator,i=this.getWidth(t);if(r){var o=r.getStretchedColumnWidth(t,i);o&&(i=o)}return i}},{key:"getHeaderHeight",value:function(t){var r=this.wtSettings.getSetting("defaultRowHeight"),i=this.dataAccessObject.wtViewport.oversizedColumnHeaders[t];return void 0!==i&&(r=r?Math.max(r,i):i),r}},{key:"getHeaderWidth",value:function(t){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(t))}},{key:"calculateWidths",value:function(){var t=this.wtSettings,r=this.dataAccessObject,o=r.wtViewport,s=r.cloneSource,a=s?s.wtTable.holder:r.wtTable.holder,u=a.offsetHeight<a.scrollHeight?Dl():0,c=t.getSetting("rowHeaderWidth");if(o.columnsRenderCalculator.refreshStretching(o.getViewportWidth()-u),null!=(c=t.getSetting("onModifyRowHeaderWidth",c)))for(var h=t.getSetting("rowHeaders").length,p=t.getSetting("defaultColumnWidth"),g=0;g<h;g++){var y=Array.isArray(c)?c[g]:c;this.headerWidths.set(g,y=null==y?p:y)}}}]),n}();function vte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var zPe=function(){function n(e,t){(function BPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wtSettings=t}return function VPe(n,e,t){e&&vte(n.prototype,e),t&&vte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getHeight",value:function(t){var r=this.wtSettings.getSetting("rowHeight",t),i=this.dataAccessObject.wtViewport.oversizedRows[t];return void 0!==i&&(r=void 0===r?i:Math.max(r,i)),r}}]),n}(),Fb="top",ip="bottom",Hb="inline_start",Bb="top_inline_start_corner",ty="bottom_inline_start_corner",UPe=[Fb,ip,Hb,Bb,ty],jPe=new Map([[Fb,"ht_clone_".concat(Fb)],[ip,"ht_clone_".concat(ip)],[Hb,"ht_clone_".concat(Hb," ht_clone_left")],[Bb,"ht_clone_".concat(Bb," ht_clone_top_left_corner")],[ty,"ht_clone_".concat(ty," ht_clone_bottom_left_corner")]]);function yte(n,e){if(n){if("string"==typeof n)return kz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kz(n,e)}}function kz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _te(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function op(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const XS=function(){function n(e,t,r,i,o){var s=this;(function JPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),op(this,"wtSettings",null),op(this,"domBindings",void 0),op(this,"TBODY",null),op(this,"THEAD",null),op(this,"COLGROUP",null),op(this,"hasTableHeight",!0),op(this,"hasTableWidth",!0),op(this,"isTableVisible",!1),op(this,"tableOffset",0),op(this,"holderOffset",0),this.domBindings=r,this.isMaster="master"===o,this.name=o,this.dataAccessObject=e,this.facadeGetter=t,this.wtSettings=i,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=r.rootTable,iee(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var a=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",function(){return s._modifyRowHeaderWidth(a)}),this.rowUtils=new zPe(this.dataAccessObject,this.wtSettings),this.columnUtils=new HPe(this.dataAccessObject,this.wtSettings),this.tableRenderer=new IPe({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}return function QPe(n,e,t){e&&_te(n.prototype,e),t&&_te(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"is",value:function(t){return this.name===t}},{key:"fixTableDomTree",value:function(){var t=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=t.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=t.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=t.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}},{key:"createSpreader",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ti(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).className="wtSpreader",r&&r.insertBefore(i,t),i.appendChild(t)),i.style.position="relative",i}},{key:"createHider",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ti(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).className="wtHider",r&&r.insertBefore(i,t),i.appendChild(t)),i}},{key:"createHolder",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ti(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).style.position="relative",i.className="wtHolder",r&&r.insertBefore(i,t),this.isMaster&&(i.parentNode.className+="ht_master handsontable",i.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr")),i.appendChild(t)),i}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.wtSettings,i=this.dataAccessObject,o=i.wtOverlays,s=i.wtViewport,a=r.getSetting("totalRows"),u=r.getSetting("totalColumns"),c=r.getSetting("rowHeaders"),h=c.length,p=r.getSetting("columnHeaders"),g=p.length,y=!1,w=t;if(this.isMaster&&(this.holderOffset=Ga(this.holder),w=s.createRenderCalculators(w),h&&!r.getSetting("fixedColumnsStart"))){var S=o.inlineStartOverlay.getScrollPosition(),C=this.correctHeaderWidth;this.correctHeaderWidth=0!==S,C!==this.correctHeaderWidth&&(w=!1)}if(this.isMaster&&(y=o.updateStateOfRendering()),w)this.isMaster&&s.createVisibleCalculators(),o&&o.refresh(!0);else{this.tableOffset=this.isMaster?Ga(this.TABLE):this.dataAccessObject.parentTableOffset;var P=a>0?this.getFirstRenderedRow():0,B=u>0?this.getFirstRenderedColumn():0;this.rowFilter=new MLe(P,a,g),this.columnFilter=new yLe(B,u,h);var G,z=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();var j={};this.wtSettings.getSetting("beforeDraw",!0,j),z=!0!==j.skipRender}if(z)if(this.tableRenderer.setHeaderContentRenderers(c,p),(this.is(ip)||this.is(ty))&&this.tableRenderer.setHeaderContentRenderers(c,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render(),this.isMaster&&(G=this.dataAccessObject.workspaceWidth,this.dataAccessObject.wtViewport.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(ip))&&this.markOversizedRows(),this.isMaster){this.dataAccessObject.wtViewport.createVisibleCalculators(),this.dataAccessObject.wtOverlays.refresh(!1),this.dataAccessObject.wtOverlays.applyToDOM();var re=fs(this.hider),pe=fs(this.TABLE);0!==re&&pe!==re&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),G!==this.dataAccessObject.wtViewport.getWorkspaceWidth()&&(this.dataAccessObject.wtViewport.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(ip)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}var ne=!1;return this.isMaster&&(ne=o.topOverlay.resetFixedPosition(),o.bottomOverlay.clone&&(ne=o.bottomOverlay.resetFixedPosition()||ne),ne=o.inlineStartOverlay.resetFixedPosition()||ne,o.topInlineStartCornerOverlay&&o.topInlineStartCornerOverlay.resetFixedPosition(),o.bottomInlineStartCornerOverlay&&o.bottomInlineStartCornerOverlay.clone&&o.bottomInlineStartCornerOverlay.resetFixedPosition()),ne?(o.refreshAll(),o.adjustElementsSize()):this.refreshSelections(w),y&&o.syncScrollWithMaster(),this.dataAccessObject.drawn=!0,this}},{key:"markIfOversizedColumnHeader",value:function(t){for(var s,a,u,r=this.columnFilter.renderedToSource(t),i=this.wtSettings.getSetting("columnHeaders").length,o=this.wtSettings.getSetting("defaultRowHeight"),c=this.wtSettings.getSetting("columnHeaderHeight")||[];i;)s=this.getColumnHeaderHeight(i-=1),(a=this.getColumnHeader(r,i))&&(u=ey(a),(!s&&o<u||s<u)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=u),Array.isArray(c)?null!=c[i]&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c[i]):isNaN(c)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c),this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]<(c[i]||c)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c[i]||c))}},{key:"adjustColumnHeaderHeights",value:function(){for(var r=this.THEAD.childNodes,i=this.dataAccessObject.wtViewport.oversizedColumnHeaders,s=0,a=this.wtSettings.getSetting("columnHeaders").length;s<a;s++)if(i[s]){if(!r[s]||0===r[s].childNodes.length)return;r[s].childNodes[0].style.height="".concat(i[s],"px")}}},{key:"resetOversizedRows",value:function(){var t=this.wtSettings,r=this.dataAccessObject.wtViewport;if((this.isMaster||this.is(ip))&&!t.getSetting("externalRowCalculator"))for(var i=this.getRenderedRowsCount(),o=0;o<i;o++){var s=this.rowFilter.renderedToSource(o);r.oversizedRows&&r.oversizedRows[s]&&(r.oversizedRows[s]=void 0)}}},{key:"removeClassFromCells",value:function(t){for(var r=this.TABLE.querySelectorAll(".".concat(t)),i=0,o=r.length;i<o;i++)Hi(r[i],t)}},{key:"refreshSelections",value:function(t){var r=this.wtSettings,i=this.dataAccessObject.selections;if(i){var o=Array.from(i),s=o.length;if(t){for(var a=[],u=0;u<s;u++){for(var c=o[u].settings,h=c.highlightHeaderClassName,p=c.highlightRowClassName,g=c.highlightColumnClassName,y=o[u].classNames,w=y.length,S=0;S<w;S++)a.includes(y[S])||a.push(y[S]);h&&!a.includes(h)&&a.push(h),p&&!a.includes(p)&&a.push(p),g&&!a.includes(g)&&a.push(g)}var C=r.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(C))for(var P=0;P<C.length;P++)a.push(C[P]);for(var B=a.length,z=0;z<B;z++)this.removeClassFromCells(a[z])}for(var j=0;j<s;j++)o[j].draw(this.facadeGetter(),t)}}},{key:"getCell",value:function(t){var a,r=t.row,i=t.col,o=this.wtSettings.getSetting("onModifyGetCellCoords",r,i);if(o&&Array.isArray(o)){var s=function XPe(n,e){return function qPe(n){if(Array.isArray(n))return n}(n)||function ZPe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||yte(n,e)||function KPe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,2);r=s[0],i=s[1]}if(this.isRowBeforeRenderedRows(r))return-1;if(this.isRowAfterRenderedRows(r))return-2;if(this.isColumnBeforeRenderedColumns(i))return-3;if(this.isColumnAfterRenderedColumns(i))return-4;if(!(a=r<0?this.THEAD.childNodes[this.rowFilter.sourceRowToVisibleColHeadedRow(r)]:this.TBODY.childNodes[this.rowFilter.sourceToRendered(r)])&&r>=0)throw new Error("TR was expected to be rendered but is not");var u=a.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(i)];if(!u&&i>=0)throw new Error("TD or TH was expected to be rendered but is not");return u}},{key:"getColumnHeader",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.THEAD.childNodes[r];return null==i?void 0:i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]}},{key:"getColumnHeaders",value:function(t){var r=[],i=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t);return this.THEAD.childNodes.forEach(function(o){var s=o.childNodes[i];s&&r.push(s)}),r}},{key:"getRowHeader",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0!==this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0)){var i=this.wtSettings.getSetting("rowHeaders").length;if(!(r>=i)){var o=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return null==o?void 0:o.childNodes[r]}}}},{key:"getRowHeaders",value:function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return[];for(var r=[],i=this.wtSettings.getSetting("rowHeaders").length,o=0;o<i;o++){var s=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)],a=null==s?void 0:s.childNodes[o];a&&r.push(a)}return r}},{key:"getCoords",value:function(t){var r=t;if("TD"!==r.nodeName&&"TH"!==r.nodeName&&(r=Ob(r,["TD","TH"])),null===r)return null;var i=r.parentNode,o=i.parentNode,s=function bOe(n){var e=0,t=n;if(t.previousSibling)for(;t=t.previousSibling;)e+=1;return e}(i),a=r.cellIndex;return Lb(Bb,r,this.wtRootElement)||Lb(Fb,r,this.wtRootElement)?"THEAD"===o.nodeName&&(s-=o.childNodes.length):s=Lb(ty,r,this.wtRootElement)||Lb(ip,r,this.wtRootElement)?this.wtSettings.getSetting("totalRows")-o.childNodes.length+s:o===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(s):this.rowFilter.renderedToSource(s),a=Lb(Bb,r,this.wtRootElement)||Lb(Hb,r,this.wtRootElement)||Lb(ty,r,this.wtRootElement)?this.columnFilter.offsettedTH(a):this.columnFilter.visibleRowHeadedColumnToSourceColumn(a),this.wot.createCellCoords(s,a)}},{key:"markOversizedRows",value:function(){if(!this.wtSettings.getSetting("externalRowCalculator")){var o,s,a,u,c,t=this.TBODY.childNodes.length;if(t*this.wtSettings.getSetting("defaultRowHeight")!=ey(this.TBODY)-1||this.wtSettings.getSetting("fixedRowsBottom"))for(;t;)a=this.rowFilter.renderedToSource(t-=1),o=this.getRowHeight(a),s=(c=(u=this.getTrForRow(a)).querySelector("th"))?ey(c):ey(u)-1,(!o&&this.wtSettings.getSetting("defaultRowHeight")<s||o<s)&&(this.dataAccessObject.wtViewport.oversizedRows[a]=s+=1)}}},{key:"getTrForRow",value:function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]}},{key:"isColumnHeaderRendered",value:function(t){if(t>=0)return!1;var i=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(t)<=i}},{key:"isRowHeaderRendered",value:function(t){if(t>=0)return!1;var i=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(t)<=i}},{key:"isRowBeforeRenderedRows",value:function(t){var r=this.getFirstRenderedRow();return t<0&&r<=0?!this.isRowHeaderRendered(t):t<r}},{key:"isRowAfterRenderedRows",value:function(t){return t>this.getLastRenderedRow()}},{key:"isColumnBeforeRenderedColumns",value:function(t){var r=this.getFirstRenderedColumn();return t<0&&r<=0?!this.isColumnHeaderRendered(t):t<r}},{key:"isColumnAfterRenderedColumns",value:function(t){return this.columnFilter&&t>this.getLastRenderedColumn()}},{key:"isColumnAfterViewport",value:function(t){return this.columnFilter&&t>this.getLastVisibleColumn()}},{key:"isRowAfterViewport",value:function(t){return this.rowFilter&&t>this.getLastVisibleRow()}},{key:"isColumnBeforeViewport",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)<0&&t>=0}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"allRowsInViewport",value:function(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}},{key:"allColumnsInViewport",value:function(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}},{key:"getRowHeight",value:function(t){return this.rowUtils.getHeight(t)}},{key:"getColumnHeaderHeight",value:function(t){return this.columnUtils.getHeaderHeight(t)}},{key:"getColumnWidth",value:function(t){return this.columnUtils.getWidth(t)}},{key:"getStretchedColumnWidth",value:function(t){return this.columnUtils.getStretchedColumnWidth(t)}},{key:"hasDefinedSize",value:function(){return this.hasTableHeight&&this.hasTableWidth}},{key:"getWidth",value:function(){return fs(this.TABLE)}},{key:"getHeight",value:function(){return ra(this.TABLE)}},{key:"getTotalWidth",value:function(){var t=fs(this.hider);return 0!==t?t:this.getWidth()}},{key:"getTotalHeight",value:function(){var t=ra(this.hider);return 0!==t?t:this.getHeight()}},{key:"isVisible",value:function(){return r1(this.TABLE)}},{key:"_modifyRowHeaderWidth",value:function(t){var r=Ts(t)?t():null;return Array.isArray(r)?(r=function WPe(n){return function $Pe(n){if(Array.isArray(n))return kz(n)}(n)||function GPe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||yte(n)||function YPe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r))[r.length-1]=this._correctRowHeaderWidth(r[r.length-1]):r=this._correctRowHeaderWidth(r),r}},{key:"_correctRowHeaderWidth",value:function(t){var r=t;return"number"!=typeof t&&(r=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(r+=1),r}}]),n}();var bte={getFirstRenderedRow:function(){return 0===this.wtSettings.getSetting("totalRows")?-1:0},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.getRenderedRowsCount()-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),e)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};Om(bte,"MIXIN_NAME","stickyRowsTop",{writable:!1,enumerable:!1});const wte=bte;var Mte={getFirstRenderedColumn:function(){var e=this.dataAccessObject.startColumnRendered;return null===e?-1:e},getFirstVisibleColumn:function(){var e=this.dataAccessObject.startColumnVisible;return null===e?-1:e},getLastRenderedColumn:function(){var e=this.dataAccessObject.endColumnRendered;return null===e?-1:e},getLastVisibleColumn:function(){var e=this.dataAccessObject.endColumnVisible;return null===e?-1:e},getRenderedColumnsCount:function(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount:function(){return this.dataAccessObject.countColumnsVisible}};Om(Mte,"MIXIN_NAME","calculatedColumns",{writable:!1,enumerable:!1});const Lz=Mte;function Pz(n){return(Pz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ste(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Iz(n,e){return(Iz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function aIe(n,e){if(e&&("object"===Pz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function lIe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function eP(n){return(eP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Nz=function(n){!function oIe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Iz(n,e)}(t,n);var e=function sIe(n){var e=function uIe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=eP(n);if(e){var o=eP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return aIe(this,i)}}(t);function t(r,i,o,s){return function iIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,Fb)}return function rIe(n,e,t){return e&&Ste(n.prototype,e),t&&Ste(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(XS);ws(Nz,wte),ws(Nz,Lz);const cIe=Nz;function xte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Fz(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const pIe=function(){function n(e){(function dIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),Fz(this,"dataAccessObject",void 0),Fz(this,"lastScrolledColumnPos",-1),Fz(this,"lastScrolledRowPos",-1),this.dataAccessObject=e}return function hIe(n,e,t){e&&xte(n.prototype,e),t&&xte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"scrollViewport",value:function(t,r,i,o,s){var a=this.scrollViewportHorizontally(t.col,i,s),u=this.scrollViewportVertically(t.row,r,o);return a||u}},{key:"scrollViewportHorizontally",value:function(t,r,i){var o=this.dataAccessObject,a=o.totalColumns;if(!o.drawn||!Number.isInteger(t)||t<0||t>a)return!1;var u=this.getFirstVisibleColumn(),c=this.getLastVisibleColumn(),h=void 0===r&&void 0===i,p=this.dataAccessObject,y=p.inlineStartOverlay;if(h&&t<p.fixedColumnsStart)return!1;var w=!1;return-1===u?w=y.scrollTo(t,h?t>this.lastScrolledColumnPos:r):(h&&(t<u||t>c)||!h)&&(w=y.scrollTo(t,h?t>c:r)),w&&(this.lastScrolledColumnPos=t),w}},{key:"scrollViewportVertically",value:function(t,r,i){var o=this.dataAccessObject,a=o.totalRows;if(!o.drawn||!Number.isInteger(t)||t<0||t>a)return!1;var u=this.getFirstVisibleRow(),c=this.getLastVisibleRow(),h=void 0===r&&void 0===i,p=this.dataAccessObject,w=p.topOverlay;if(h&&(t<p.fixedRowsTop||t>a-p.fixedRowsBottom-1))return!1;var S=!1;return-1===u?S=w.scrollTo(t,h?t>this.lastScrolledRowPos:i):(h&&(t<u||t>c)||!h)&&(S=w.scrollTo(t,h?t>c:i)),S&&(this.lastScrolledRowPos=t),S}},{key:"getFirstVisibleRow",value:function(){var t=this.dataAccessObject,r=t.topOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalRows,a=t.fixedRowsTop,u=t.rootWindow,c=i.getFirstVisibleRow();if(r.mainTableScrollableElement===u){var h=Ga(i.wtRootElement),p=ey(i.hider),g=ey(u),y=NL(u,u);if(h.top+p-g<=y){var w=o.getColumnHeaderHeight();w+=r.sumCellSizes(0,a);for(var S=s;S>0;S--)if(w+=r.sumCellSizes(S-1,S),h.top+p-w<=y){c=S;break}}}return c}},{key:"getLastVisibleRow",value:function(){var t=this.dataAccessObject,r=t.topOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalRows,a=t.rootWindow,u=i.getLastVisibleRow();if(r.mainTableScrollableElement===a){var c=Ga(i.wtRootElement),h=NL(a,a);if(c.top>h)for(var p=ey(a),g=o.getColumnHeaderHeight(),y=1;y<=s;y++)if(g+=r.sumCellSizes(y-1,y),c.top+g-h>=p){u=y-2;break}}return u}},{key:"getFirstVisibleColumn",value:function(){var t=this.dataAccessObject,r=t.inlineStartOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalColumns,a=t.rootWindow,u=i.getFirstVisibleColumn();if(r.mainTableScrollableElement===a){var c=Ga(i.wtRootElement),h=HL(i.hider),p=HL(a),g=Math.abs(GV(a,a));if(c.left+h-p<=g)for(var y=o.getRowHeaderWidth(),w=s;w>0;w--)if(y+=r.sumCellSizes(w-1,w),c.left+h-y<=g){u=w;break}}return u}},{key:"getLastVisibleColumn",value:function(){var t=this.dataAccessObject,r=t.inlineStartOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalColumns,a=t.rootWindow,u=i.getLastVisibleColumn();if(r.mainTableScrollableElement===a){var c=Ga(i.wtRootElement),h=Math.abs(GV(a,a));if(c.left>h)for(var p=HL(a),g=o.getRowHeaderWidth(),y=1;y<=s;y++)if(g+=r.sumCellSizes(y-1,y),c.left+g-h>=p){u=y-2;break}}return u}}]),n}();function mIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Cte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function vIe(n,e,t){(function yIe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Ete(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v1(n,e){return function _Ie(n,e){return e.get?e.get.call(n):e.value}(n,Tte(n,e,"get"))}function bIe(n,e,t){return function wIe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Tte(n,e,"set"),t),t}function Tte(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Vb=new WeakMap;const Hz=function(){function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];mIe(this,n),Ete(this,"row",null),Ete(this,"col",null),vIe(this,Vb,{writable:!0,value:!1}),bIe(this,Vb,r),void 0!==e&&void 0!==t&&(this.row=e,this.col=t)}return function gIe(n,e,t){e&&Cte(n.prototype,e),t&&Cte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"isValid",value:function(t){return!(this.row<0||this.col<0||this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns"))}},{key:"isEqual",value:function(t){return t===this||this.row===t.row&&this.col===t.col}},{key:"isSouthEastOf",value:function(t){return this.row>=t.row&&(v1(this,Vb)?this.col<=t.col:this.col>=t.col)}},{key:"isNorthWestOf",value:function(t){return this.row<=t.row&&(v1(this,Vb)?this.col>=t.col:this.col<=t.col)}},{key:"isSouthWestOf",value:function(t){return this.row>=t.row&&(v1(this,Vb)?this.col>=t.col:this.col<=t.col)}},{key:"isNorthEastOf",value:function(t){return this.row<=t.row&&(v1(this,Vb)?this.col<=t.col:this.col>=t.col)}},{key:"normalize",value:function(){return this.row=null===this.row?this.row:Math.max(this.row,0),this.col=null===this.col?this.col:Math.max(this.col,0),this}},{key:"clone",value:function(){return new n(this.row,this.col,v1(this,Vb))}},{key:"toObject",value:function(){return{row:this.row,col:this.col}}}]),n}();function SIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Rte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function CIe(n,e,t){(function EIe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Bz(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sp(n,e){return function TIe(n,e){return e.get?e.get.call(n):e.value}(n,Dte(n,e,"get"))}function RIe(n,e,t){return function DIe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Dte(n,e,"set"),t),t}function Dte(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var nh=new WeakMap;const Ate=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];SIe(this,n),Bz(this,"highlight",null),Bz(this,"from",null),Bz(this,"to",null),CIe(this,nh,{writable:!0,value:!1}),this.highlight=e.clone().normalize(),this.from=t.clone(),this.to=r.clone(),RIe(this,nh,i)}return function xIe(n,e,t){e&&Rte(n.prototype,e),t&&Rte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setHighlight",value:function(t){return this.highlight=t.clone().normalize(),this}},{key:"setFrom",value:function(t){return this.from=t.clone(),this}},{key:"setTo",value:function(t){return this.to=t.clone(),this}},{key:"isValid",value:function(t){return this.from.isValid(t)&&this.to.isValid(t)}},{key:"isSingle",value:function(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}},{key:"getOuterHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getOuterWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"getHeight",value:function(){var t=Math.max(this.from.row,0),r=Math.max(this.to.row,0);return Math.max(t,r)-Math.min(t,r)+1}},{key:"getWidth",value:function(){var t=Math.max(this.from.col,0),r=Math.max(this.to.col,0);return Math.max(t,r)-Math.min(t,r)+1}},{key:"getCellsCount",value:function(){return this.getWidth()*this.getHeight()}},{key:"includes",value:function(t){var r=t.row,i=t.col,o=this.getOuterTopStartCorner(),s=this.getOuterBottomEndCorner();return o.row<=r&&s.row>=r&&o.col<=i&&s.col>=i}},{key:"includesRange",value:function(t){return this.includes(t.getOuterTopStartCorner())&&this.includes(t.getOuterBottomEndCorner())}},{key:"isEqual",value:function(t){return Math.min(this.from.row,this.to.row)===Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(t.from.col,t.to.col)}},{key:"overlaps",value:function(t){return t.isSouthEastOf(this.getOuterTopLeftCorner())&&t.isNorthWestOf(this.getOuterBottomRightCorner())}},{key:"isSouthEastOf",value:function(t){return this.getOuterTopLeftCorner().isSouthEastOf(t)||this.getOuterBottomRightCorner().isSouthEastOf(t)}},{key:"isNorthWestOf",value:function(t){return this.getOuterTopLeftCorner().isNorthWestOf(t)||this.getOuterBottomRightCorner().isNorthWestOf(t)}},{key:"isOverlappingHorizontally",value:function(t){return this.getOuterTopRightCorner().col>=t.getOuterTopLeftCorner().col&&this.getOuterTopRightCorner().col<=t.getOuterTopRightCorner().col||this.getOuterTopLeftCorner().col<=t.getOuterTopRightCorner().col&&this.getOuterTopLeftCorner().col>=t.getOuterTopLeftCorner().col}},{key:"isOverlappingVertically",value:function(t){return this.getOuterBottomRightCorner().row>=t.getOuterTopRightCorner().row&&this.getOuterBottomRightCorner().row<=t.getOuterBottomRightCorner().row||this.getOuterTopRightCorner().row<=t.getOuterBottomRightCorner().row&&this.getOuterTopRightCorner().row>=t.getOuterTopRightCorner().row}},{key:"expand",value:function(t){var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();return(t.row<r.row||t.col<r.col||t.row>i.row||t.col>i.col)&&(this.from=this._createCellCoords(Math.min(r.row,t.row),Math.min(r.col,t.col)),this.to=this._createCellCoords(Math.max(i.row,t.row),Math.max(i.col,t.col)),!0)}},{key:"expandByRange",value:function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),o=this.getDirection(),s=t.getOuterTopStartCorner(),a=t.getOuterBottomEndCorner(),u=Math.min(r.row,s.row),c=Math.min(r.col,s.col),h=Math.max(i.row,a.row),p=Math.max(i.col,a.col),g=this._createCellCoords(u,c),y=this._createCellCoords(h,p);return this.from=g,this.to=y,this.setDirection(o),this.highlight.row===this.getOuterBottomRightCorner().row&&"N-S"===this.getVerticalDirection()&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&"W-E"===this.getHorizontalDirection()&&this.flipDirectionHorizontally(),!0}},{key:"getDirection",value:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}},{key:"setDirection",value:function(t){switch(t){case"NW-SE":var r=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];this.from=r[0],this.to=r[1];break;case"NE-SW":var i=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];this.from=i[0],this.to=i[1];break;case"SE-NW":var o=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];this.from=o[0],this.to=o[1];break;case"SW-NE":var s=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];this.from=s[0],this.to=s[1]}}},{key:"getVerticalDirection",value:function(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}},{key:"getHorizontalDirection",value:function(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}},{key:"flipDirectionVertically",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE")}}},{key:"flipDirectionHorizontally",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW")}}},{key:"getTopStartCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getTopLeftCorner",value:function(){return sp(this,nh)?this.getTopEndCorner():this.getTopStartCorner()}},{key:"getBottomEndCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getBottomRightCorner",value:function(){return sp(this,nh)?this.getBottomStartCorner():this.getBottomEndCorner()}},{key:"getTopEndCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getTopRightCorner",value:function(){return sp(this,nh)?this.getTopStartCorner():this.getTopEndCorner()}},{key:"getBottomStartCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getBottomLeftCorner",value:function(){return sp(this,nh)?this.getBottomEndCorner():this.getBottomStartCorner()}},{key:"getOuterTopStartCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getOuterTopLeftCorner",value:function(){return sp(this,nh)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}},{key:"getOuterBottomEndCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterBottomRightCorner",value:function(){return sp(this,nh)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}},{key:"getOuterTopEndCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterTopRightCorner",value:function(){return sp(this,nh)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}},{key:"getOuterBottomStartCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getOuterBottomLeftCorner",value:function(){return sp(this,nh)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}},{key:"isCorner",value:function(t,r){return!!(r&&r.includes(t)&&(this.getOuterTopLeftCorner().isEqual(this._createCellCoords(r.from.row,r.from.col))||this.getOuterTopRightCorner().isEqual(this._createCellCoords(r.from.row,r.to.col))||this.getOuterBottomLeftCorner().isEqual(this._createCellCoords(r.to.row,r.from.col))||this.getOuterBottomRightCorner().isEqual(this._createCellCoords(r.to.row,r.to.col))))||t.isEqual(this.getOuterTopLeftCorner())||t.isEqual(this.getOuterTopRightCorner())||t.isEqual(this.getOuterBottomLeftCorner())||t.isEqual(this.getOuterBottomRightCorner())}},{key:"getOppositeCorner",value:function(t,r){if(!(t instanceof Hz))return!1;if(r){var i=r.from,o=r.to;if(r.includes(t)){if(this.getOuterTopStartCorner().isEqual(this._createCellCoords(i.row,i.col)))return this.getOuterBottomEndCorner();if(this.getOuterTopEndCorner().isEqual(this._createCellCoords(i.row,o.col)))return this.getOuterBottomStartCorner();if(this.getOuterBottomStartCorner().isEqual(this._createCellCoords(o.row,i.col)))return this.getOuterTopEndCorner();if(this.getOuterBottomEndCorner().isEqual(this._createCellCoords(o.row,o.col)))return this.getOuterTopStartCorner()}}return t.isEqual(this.getOuterBottomEndCorner())?this.getOuterTopStartCorner():t.isEqual(this.getOuterTopStartCorner())?this.getOuterBottomEndCorner():t.isEqual(this.getOuterTopEndCorner())?this.getOuterBottomStartCorner():t.isEqual(this.getOuterBottomStartCorner())?this.getOuterTopEndCorner():void 0}},{key:"getBordersSharedWith",value:function(t){if(!this.includesRange(t))return[];var r_top=Math.min(this.from.row,this.to.row),r_bottom=Math.max(this.from.row,this.to.row),r_left=Math.min(this.from.col,this.to.col),r_right=Math.max(this.from.col,this.to.col),i_top=Math.min(t.from.row,t.to.row),i_bottom=Math.max(t.from.row,t.to.row),i_left=Math.min(t.from.col,t.to.col),i_right=Math.max(t.from.col,t.to.col),o=[];return r_top===i_top&&o.push("top"),r_right===i_right&&o.push("right"),r_bottom===i_bottom&&o.push("bottom"),r_left===i_left&&o.push("left"),o}},{key:"getInner",value:function(){for(var t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[],o=t.row;o<=r.row;o++)for(var s=t.col;s<=r.col;s++)(this.from.row!==o||this.from.col!==s)&&(this.to.row!==o||this.to.col!==s)&&i.push(this._createCellCoords(o,s));return i}},{key:"getAll",value:function(){for(var t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[],o=t.row;o<=r.row;o++)for(var s=t.col;s<=r.col;s++)i.push(t.row===o&&t.col===s?t:r.row===o&&r.col===s?r:this._createCellCoords(o,s));return i}},{key:"forAll",value:function(t){for(var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),o=r.row;o<=i.row;o++)for(var s=r.col;s<=i.col;s++)if(!1===t(o,s))return}},{key:"clone",value:function(){return new n(this.highlight,this.from,this.to,sp(this,nh))}},{key:"toObject",value:function(){return{from:this.from.toObject(),to:this.to.toObject()}}},{key:"_createCellCoords",value:function(t,r){return new Hz(t,r,sp(this,nh))}}]),n}();function Ote(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function sf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Vz=function(){function n(e,t){(function OIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),sf(this,"wtTable",void 0),sf(this,"wtScroll",void 0),sf(this,"wtViewport",void 0),sf(this,"wtOverlays",void 0),sf(this,"selections",void 0),sf(this,"wtEvent",void 0),sf(this,"guid","wt_".concat(JQ())),sf(this,"drawInterrupted",!1),sf(this,"drawn",!1),sf(this,"domBindings",void 0),sf(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=t,this.wtScroll=new pIe(this.createScrollDao())}return function kIe(n,e,t){e&&Ote(n.prototype,e),t&&Ote(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"eventManager",get:function(){return new ia(this)}},{key:"findOriginalHeaders",value:function(){var t=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var r=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;r<i;r++)t.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(o,s){Pb(s,t[o])}])}}},{key:"createCellCoords",value:function(t,r){return new Hz(t,r,this.wtSettings.getSetting("rtlMode"))}},{key:"createCellRange",value:function(t,r,i){return new Ate(t,r,i,this.wtSettings.getSetting("rtlMode"))}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,t||this.wtTable.isVisible()?this.wtTable.draw(t):this.drawInterrupted=!0,this}},{key:"getCell",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!r)return this.wtTable.getCell(t);var i=this.wtSettings.getSetting("totalRows"),o=this.wtSettings.getSetting("fixedRowsTop"),s=this.wtSettings.getSetting("fixedRowsBottom"),a=this.wtSettings.getSetting("fixedColumnsStart");if(t.row<o&&t.col<a)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(t);if(t.row<o)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<a&&t.row>=i-s){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<a)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(t);if(t.row<i&&t.row>=i-s&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)}},{key:"scrollViewport",value:function(t,r,i,o,s){return!(t.col<0||t.row<0)&&this.wtScroll.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return!(t<0)&&this.wtScroll.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return!(t<0)&&this.wtScroll.scrollViewportVertically(t,r,i)}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}},{key:"createScrollDao",value:function(){var t=this;return{get drawn(){return t.drawn},get topOverlay(){return t.wtOverlays.topOverlay},get inlineStartOverlay(){return t.wtOverlays.inlineStartOverlay},get wtTable(){return t.wtTable},get wtViewport(){return t.wtViewport},get rootWindow(){return t.domBindings.rootWindow},get totalRows(){return t.wtSettings.getSetting("totalRows")},get totalColumns(){return t.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return t.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return t.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return t.wtSettings.getSetting("fixedColumnsStart")}}}},{key:"getTableDao",value:function(){var t=this;return{get wot(){return t},get parentTableOffset(){return t.cloneSource.wtTable.tableOffset},get cloneSource(){return t.cloneSource},get workspaceWidth(){return t.wtViewport.getWorkspaceWidth()},get wtViewport(){return t.wtViewport},get wtOverlays(){return t.wtOverlays},get selections(){return t.selections},get drawn(){return t.drawn},set drawn(r){t.drawn=r},get wtTable(){return t.wtTable},get startColumnRendered(){return t.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return t.wtViewport.columnsVisibleCalculator.startColumn},get endColumnRendered(){return t.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return t.wtViewport.columnsVisibleCalculator.endColumn},get countColumnsRendered(){return t.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return t.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return t.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return t.wtViewport.rowsVisibleCalculator.startRow},get endRowRendered(){return t.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return t.wtViewport.rowsVisibleCalculator.endRow},get countRowsRendered(){return t.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return t.wtViewport.rowsVisibleCalculator.count}}}}]),n}();function zz(n){return(zz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function kte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Uz(n,e){return(Uz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function FIe(n,e){if(e&&("object"===zz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tP(n)}function tP(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function nP(n){return(nP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Lte(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var BIe=function(n){!function IIe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Uz(n,e)}(t,n);var e=function NIe(n){var e=function HIe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=nP(n);if(e){var o=nP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return FIe(this,i)}}(t);function t(r,i,o){var s;(function PIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),Lte(tP(s=e.call(this,r,i)),"cloneSource",void 0),Lte(tP(s),"cloneOverlay",void 0);var a=s.wtSettings.getSetting("facade",tP(s));return s.cloneSource=o.source,s.cloneOverlay=o.overlay,s.wtTable=s.cloneOverlay.createTable(s.getTableDao(),a,s.domBindings,s.wtSettings),s.wtViewport=o.viewport,s.selections=o.selections,s.wtEvent=new Kee(a,s.domBindings,s.wtSettings,s.eventManager,s.wtTable,s.selections,o.event),s.findOriginalHeaders(),s}return function LIe(n,e,t){return e&&kte(n.prototype,e),t&&kte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(Vz);function Pte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var y1=function(){function n(e,t,r,i,o){(function VIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function UIe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(this,"wtSettings",null),Om(this,"wot",e,{writable:!1}),this.domBindings=o,this.facadeGetter=t,this.wtSettings=i;var s=this.wot.wtTable,a=s.TABLE,u=s.hider,c=s.spreader,h=s.holder,p=s.wtRootElement;this.instance=this.wot,this.type=r,this.mainTableScrollableElement=null,this.TABLE=a,this.hider=u,this.spreader=c,this.holder=h,this.wtRootElement=p,this.trimmingContainer=s1(this.hider.parentNode.parentNode),this.updateStateOfRendering(),this.clone=this.makeClone()}return function zIe(n,e,t){e&&Pte(n.prototype,e),t&&Pte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateStateOfRendering",value:function(){var t=this.needFullRender;this.needFullRender=this.shouldBeRendered();var r=t!==this.needFullRender;return r&&!this.needFullRender&&this.reset(),r}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=s1(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){var t=this.wot.wtTable;this.mainTableScrollableElement="hidden"===this.domBindings.rootWindow.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")?this.wot.wtTable.holder:FL(t.TABLE)}},{key:"getRelativeCellPosition",value:function(t,r,i){if(!1!==this.clone.wtTable.holder.contains(t)){var o=this.mainTableScrollableElement===this.domBindings.rootWindow,s=i<this.wtSettings.getSetting("fixedColumnsStart"),a=r<this.wtSettings.getSetting("fixedRowsTop"),u=r>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),c=this.clone.wtTable.spreader,h={start:this.getRelativeStartPosition(c),top:c.offsetTop},p={start:this.getRelativeStartPosition(t),top:t.offsetTop};return o?this.getRelativeCellPositionWithinWindow(a,s,p,h):this.getRelativeCellPositionWithinHolder(a,u,s,p,h)}ps("The provided element is not a child of the ".concat(this.type," overlay"))}},{key:"getRelativeStartPosition",value:function(t){return this.isRtl()?t.offsetParent.offsetWidth-t.offsetLeft-t.offsetWidth:t.offsetLeft}},{key:"getRelativeCellPositionWithinWindow",value:function(t,r,i,o){var s=this.wot.wtTable.wtRootElement.getBoundingClientRect(),a=0,u=0;if(r){var c=s.left;this.isRtl()&&(c=this.domBindings.rootWindow.innerWidth-(s.left+s.width+Dl())),a=c<=0?-1*c:0}else a=o.start;return u=t?this.clone.wtTable.TABLE.getBoundingClientRect().top-s.top:o.top,{start:i.start+a,top:i.top+u}}},{key:"getRelativeCellPositionWithinHolder",value:function(t,r,i,o,s){var a_horizontal=this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),a_vertical=this.wot.wtOverlays.topOverlay.getScrollPosition(),u=0,c=0;if(i||(u=a_horizontal-s.start),r){var h=this.wot.wtTable.wtRootElement.getBoundingClientRect();c=-1*this.clone.wtTable.TABLE.getBoundingClientRect().top+h.top}else t||(c=a_vertical-s.top);return{start:o.start-u,top:o.top-c}}},{key:"makeClone",value:function(){if(-1===UPe.indexOf(this.type))throw new Error('Clone type "'.concat(this.type,'" is not supported.'));var t=this.wot.wtTable,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=i.createElement("DIV"),a=i.createElement("TABLE"),u=t.wtRootElement.parentNode;s.className="".concat(jPe.get(this.type)," handsontable"),s.setAttribute("dir",this.isRtl()?"rtl":"ltr"),s.style.position="absolute",s.style.top=0,s.style.overflow="visible",this.isRtl()?s.style.right=0:s.style.left=0,a.className=t.TABLE.className,s.appendChild(a),u.appendChild(s);var c=this.wtSettings.getSetting("preventOverflow");return this.mainTableScrollableElement=!0===c||"horizontal"===c&&this.type===Fb||"vertical"===c&&this.type===Hb?o:"hidden"===o.getComputedStyle(u).getPropertyValue("overflow")?t.holder:FL(t.TABLE),new BIe(a,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selections:this.wot.selections})}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.shouldBeRendered();this.clone&&(this.needFullRender||r)&&this.clone.draw(t),this.needFullRender=r}},{key:"reset",value:function(){if(this.clone){var t=this.clone.wtTable.holder;it([t.style,this.clone.wtTable.hider.style,t.parentNode.style],function(a){a.width="",a.height=""})}}},{key:"isRtl",value:function(){return this.wtSettings.getSetting("rtlMode")}},{key:"destroy",value:function(){this.clone.eventManager.destroy()}}]),n}();function jz(n){return(jz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function rP(n,e,t){return(rP=Fte()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&iP(c,s.prototype),c}).apply(null,arguments)}function Ite(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function iP(n,e){return(iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $Ie(n,e){if(e&&("object"===jz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nte(n)}function Nte(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Fte(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function oP(n){return(oP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var KIe=function(n){!function YIe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&iP(n,e)}(t,n);var e=function GIe(n){var e=Fte();return function(){var i,r=oP(n);if(e){var o=oP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $Ie(this,i)}}(t);function t(r,i,o,s){var a;return function jIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function XIe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(Nte(a=e.call(this,r,i,Fb,o,s)),"cachedFixedRowsTop",-1),a.cachedFixedRowsTop=a.wtSettings.getSetting("fixedRowsTop"),a}return function WIe(n,e,t){e&&Ite(n.prototype,e),t&&Ite(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return rP(cIe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var i=this.clone.wtTable.holder.parentNode,o=this.domBindings.rootWindow,s=this.wtSettings.getSetting("preventOverflow"),a=0,u=!1;if(this.trimmingContainer!==o||s&&"vertical"===s)a=this.getScrollPosition(),VL(i);else{var h=this.wot.wtTable.hider.getBoundingClientRect();u=Math.ceil(h.bottom)===i.offsetHeight,a=this.getOverlayOffset(),KV(i,"0px","".concat(a,"px"))}var y=this.adjustHeaderBordersPosition(a,u);return this.adjustElementsSize(),y}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.mainTableScrollableElement===o&&o.scrollY!==i?(o.scrollTo(jS(o),i),s=!0):this.mainTableScrollableElement.scrollTop!==i&&(this.mainTableScrollableElement.scrollTop=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wtSettings.getSetting("defaultRowHeight"),a=i,u=0;a<o;){var c=this.wot.wtTable.getRowHeight(a);u+=void 0===c?s:c,a+=1}return u}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot.wtTable,o=this.domBindings,a=o.rootWindow,u=Dl(o.rootDocument),h=this.clone.wtTable.holder.parentNode.style,p=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==a||"horizontal"===p){var g=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(g-=u),g=Math.min(g,i.wtRootElement.scrollWidth),h.width="".concat(g,"px")}else h.width="";this.clone.wtTable.holder.style.width=h.width;var y=ra(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(y=0),h.height="".concat(y,"px")}},{key:"adjustRootChildrenSize",value:function(){var i,o=this.clone.wtTable.holder,s=this.wot.selections,a=this.facadeGetter(),u=Math.abs(null!==(i=null==s?void 0:s.getCell().getBorder(a).cornerCenterPointOffset)&&void 0!==i?i:0);this.clone.wtTable.hider.style.width=this.hider.style.width,o.style.width=o.parentNode.style.width,o.style.height="".concat(parseInt(o.parentNode.style.height,10)+u,"px")}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalRows");if("number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){var i=this.isRtl()?"right":"left";this.clone.wtTable.spreader.style[i]="number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.wot,a=this.wtSettings,c=(s.cloneSource?s.cloneSource:s).wtTable.holder,h=this.getTableParentOffset(),p=0;if(o&&this.wot.wtTable.getRowHeight(i)>this.wot.wtViewport.getViewportHeight()&&(o=!1),o&&c.offsetHeight!==c.clientHeight&&(p=Dl(this.domBindings.rootDocument)),o){var w=a.getSetting("fixedRowsBottom"),S=a.getSetting("totalRows");h+=this.sumCellSizes(0,i+1),h-=s.wtViewport.getViewportHeight()-this.sumCellSizes(S-w,S),h+=1}else h+=this.sumCellSizes(a.getSetting("fixedRowsTop"),i);return this.setScrollPosition(h+=p)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return NL(this.mainTableScrollableElement,this.domBindings.rootWindow)}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;if(this.trimmingContainer===i&&(!o||"vertical"!==o)){var c=this.wot.wtTable.getTotalHeight()-this.clone.wtTable.getTotalHeight();(s=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0))>c&&(s=0)}return s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.wot.wtTable.holder.parentNode,a=this.wtSettings.getSetting("totalColumns");a?Hi(s,"emptyColumns"):An(s,"emptyColumns");var u=!1;if(!o){var c=this.wtSettings.getSetting("fixedRowsTop"),h=this.cachedFixedRowsTop!==c,p=this.wtSettings.getSetting("columnHeaders");if((h||0===c)&&p.length>0){var g=Ti(s,"innerBorderTop");this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop"),i||0===this.wtSettings.getSetting("totalRows")?(An(s,"innerBorderTop"),u=!g):(Hi(s,"innerBorderTop"),u=g)}}return u}}]),t}(y1),Hte={getFirstRenderedRow:function(){var e=this.wtSettings.getSetting("totalRows"),t=this.wtSettings.getSetting("fixedRowsBottom"),r=e-t;return 0===e||0===t?-1:r<0?0:r},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),e)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};Om(Hte,"MIXIN_NAME","stickyRowsBottom",{writable:!1,enumerable:!1});const Bte=Hte;function Wz(n){return(Wz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Vte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Yz(n,e){return(Yz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function tNe(n,e){if(e&&("object"===Wz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function nNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function sP(n){return(sP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Gz=function(n){!function QIe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Yz(n,e)}(t,n);var e=function eNe(n){var e=function rNe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=sP(n);if(e){var o=sP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return tNe(this,i)}}(t);function t(r,i,o,s){return function JIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,ip)}return function qIe(n,e,t){return e&&Vte(n.prototype,e),t&&Vte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(XS);ws(Gz,Bte),ws(Gz,Lz);const iNe=Gz;function $z(n){return($z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function aP(n,e,t){return(aP=jte()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&lP(c,s.prototype),c}).apply(null,arguments)}function zte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function lP(n,e){return(lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function uNe(n,e){if(e&&("object"===$z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ute(n)}function Ute(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jte(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function uP(n){return(uP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var dNe=function(n){!function aNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&lP(n,e)}(t,n);var e=function lNe(n){var e=jte();return function(){var i,r=uP(n);if(e){var o=uP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return uNe(this,i)}}(t);function t(r,i,o,s){var a;return function oNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function cNe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(Ute(a=e.call(this,r,i,ip,o,s)),"cachedFixedRowsBottom",-1),a.cachedFixedRowsBottom=a.wtSettings.getSetting("fixedRowsBottom"),a}return function sNe(n,e,t){e&&zte(n.prototype,e),t&&zte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return aP(iNe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var i=this.domBindings.rootWindow,o=this.clone.wtTable.holder.parentNode;o.style.top="";var s=0,a=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer!==i||a&&"vertical"===a?(s=this.getScrollPosition(),this.repositionOverlay()):(s=this.getOverlayOffset(),o.style.bottom="".concat(s,"px"));var u=this.adjustHeaderBordersPosition(s);return this.adjustElementsSize(),u}},{key:"repositionOverlay",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings.rootDocument,u=this.clone.wtTable.holder.parentNode,c=0;s.hasVerticalScroll()||(c+=s.getWorkspaceHeight()-o.getTotalHeight()),s.hasVerticalScroll()&&s.hasHorizontalScroll()&&(c+=Dl(a)),u.style.bottom="".concat(c,"px")}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.mainTableScrollableElement===o?(o.scrollTo(jS(o),i),s=!0):this.mainTableScrollableElement.scrollTop!==i&&(this.mainTableScrollableElement.scrollTop=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wot,a=s.wtTable,c=s.wtSettings.getSetting("defaultRowHeight"),h=i,p=0;h<o;){var g=a.getRowHeight(h);p+=void 0===g?c:g,h+=1}return p}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings,c=a.rootWindow,h=Dl(a.rootDocument),g=this.clone.wtTable.holder.parentNode.style,y=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==c||"horizontal"===y){var w=s.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(w-=h),w=Math.min(w,o.wtRootElement.scrollWidth),g.width="".concat(w,"px")}else g.width="";this.clone.wtTable.holder.style.width=g.width;var S=ra(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(S=0),g.height="".concat(S,"px")}},{key:"adjustRootChildrenSize",value:function(){var i=this.clone.wtTable.holder;this.clone.wtTable.hider.style.width=this.hider.style.width,i.style.width=i.parentNode.style.width,i.style.height=i.parentNode.style.height}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalRows");if("number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){var i=this.isRtl()?"right":"left";this.clone.wtTable.spreader.style[i]="number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.getTableParentOffset(),u=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,c=0;o&&u.offsetHeight!==u.clientHeight&&(c=Dl(this.domBindings.rootDocument)),o?(s+=this.sumCellSizes(0,i+1),s-=this.wot.wtViewport.getViewportHeight(),s+=1):s+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),i),this.setScrollPosition(s+=c)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return NL(this.mainTableScrollableElement,this.domBindings.rootWindow)}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;if(this.trimmingContainer===i&&(!o||"vertical"!==o)){var a=this.wot.wtTable.getTotalHeight(),c=a-this.clone.wtTable.getTotalHeight(),h=this.domBindings.rootDocument.documentElement.clientHeight;(s=Math.max(this.getTableParentOffset()-this.getScrollPosition()-h+a,0))>c&&(s=0)}return s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=this.wtSettings.getSetting("fixedRowsBottom"),s=this.cachedFixedRowsBottom!==o,a=this.wtSettings.getSetting("columnHeaders"),u=!1;if((s||0===o)&&a.length>0){var c=this.wot.wtTable.holder.parentNode,h=Ti(c,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),i||0===this.wtSettings.getSetting("totalRows")?(An(c,"innerBorderBottom"),u=!h):(Hi(c,"innerBorderBottom"),u=h)}return u}}]),t}(y1),Wte={getFirstRenderedRow:function(){var e=this.dataAccessObject.startRowRendered;return null===e?-1:e},getFirstVisibleRow:function(){var e=this.dataAccessObject.startRowVisible;return null===e?-1:e},getLastRenderedRow:function(){var e=this.dataAccessObject.endRowRendered;return null===e?-1:e},getLastVisibleRow:function(){var e=this.dataAccessObject.endRowVisible;return null===e?-1:e},getRenderedRowsCount:function(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount:function(){return this.dataAccessObject.countRowsVisible}};Om(Wte,"MIXIN_NAME","calculatedRows",{writable:!1,enumerable:!1});const Yte=Wte;var Gte={getFirstRenderedColumn:function(){return 0===this.wtSettings.getSetting("totalColumns")?-1:0},getFirstVisibleColumn:function(){return this.getFirstRenderedColumn()},getLastRenderedColumn:function(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn:function(){return this.getLastRenderedColumn()},getRenderedColumnsCount:function(){var e=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),e)},getVisibleColumnsCount:function(){return this.getRenderedColumnsCount()}};Om(Gte,"MIXIN_NAME","stickyColumnsStart",{writable:!1,enumerable:!1});const Xz=Gte;function Kz(n){return(Kz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function $te(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Zz(n,e){return(Zz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function yNe(n,e){if(e&&("object"===Kz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function _Ne(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function cP(n){return(cP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var qz=function(n){!function gNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Zz(n,e)}(t,n);var e=function vNe(n){var e=function bNe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=cP(n);if(e){var o=cP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return yNe(this,i)}}(t);function t(r,i,o,s){return function mNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,Hb)}return function pNe(n,e,t){return e&&$te(n.prototype,e),t&&$te(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(XS);ws(qz,Yte),ws(qz,Xz);const wNe=qz;function Jz(n){return(Jz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function dP(n,e,t){return(dP=Kte()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&hP(c,s.prototype),c}).apply(null,arguments)}function Xte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hP(n,e){return(hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ENe(n,e){if(e&&("object"===Jz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function TNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Kte(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function fP(n){return(fP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var RNe=function(n){!function xNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hP(n,e)}(t,n);var e=function CNe(n){var e=Kte();return function(){var i,r=fP(n);if(e){var o=fP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ENe(this,i)}}(t);function t(r,i,o,s){return function MNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,Hb,o,s)}return function SNe(n,e,t){e&&Xte(n.prototype,e),t&&Xte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dP(wNe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var o=this.domBindings.rootWindow,s=this.clone.wtTable.holder.parentNode,a=this.wtSettings.getSetting("preventOverflow"),u=0;this.trimmingContainer!==o||a&&"horizontal"===a?(u=this.getScrollPosition(),VL(s)):(u=this.getOverlayOffset()*(this.isRtl()?-1:1),KV(s,"".concat(u,"px"),"0px"));var c=this.adjustHeaderBordersPosition(u);return this.adjustElementsSize(),c}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.isRtl()&&(i=-i),this.mainTableScrollableElement===o&&o.scrollX!==i?(o.scrollTo(i,o1(o)),s=!0):this.mainTableScrollableElement.scrollLeft!==i&&(this.mainTableScrollableElement.scrollLeft=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wtSettings.getSetting("defaultColumnWidth"),a=i,u=0;a<o;)u+=this.wot.wtTable.getStretchedColumnWidth(a)||s,a+=1;return u}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot.wtTable,o=this.domBindings,a=o.rootWindow,u=Dl(o.rootDocument),h=this.clone.wtTable.holder.parentNode.style,p=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==a||"vertical"===p){var g=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(g-=u),g=Math.min(g,i.wtRootElement.scrollHeight),h.height="".concat(g,"px")}else h.height="";this.clone.wtTable.holder.style.height=h.height;var y=fs(this.clone.wtTable.TABLE);h.width="".concat(y,"px")}},{key:"adjustRootChildrenSize",value:function(){var i,o=this.clone.wtTable.holder,s=this.wot.selections,a=this.facadeGetter(),u=Math.abs(null!==(i=null==s?void 0:s.getCell().getBorder(a).cornerCenterPointOffset)&&void 0!==i?i:0);this.clone.wtTable.hider.style.height=this.hider.style.height,o.style.height=o.parentNode.style.height,o.style.width="".concat(parseInt(o.parentNode.style.width,10)+u,"px")}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalColumns"),o=this.isRtl()?"right":"left";if("number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style[o]="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style[o]="0"}this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){this.clone.wtTable.spreader.style.top="number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.getTableParentOffset(),u=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,c=0;return o&&this.wot.wtTable.getColumnWidth(i)>this.wot.wtViewport.getViewportWidth()&&(o=!1),o&&u.offsetWidth!==u.clientWidth&&(c=Dl(this.domBindings.rootDocument)),o?(s+=this.sumCellSizes(0,i+1),s-=this.wot.wtViewport.getViewportWidth()):s+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),i),this.setScrollPosition(s+=c)}},{key:"getTableParentOffset",value:function(){var o=0;return!this.wtSettings.getSetting("preventOverflow")&&this.trimmingContainer===this.domBindings.rootWindow&&(o=this.wot.wtTable.holderOffset.left),o}},{key:"getScrollPosition",value:function(){return Math.abs(GV(this.mainTableScrollableElement,this.domBindings.rootWindow))}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;return this.trimmingContainer!==i||o&&"horizontal"===o||(s=this.isRtl()?Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):Math.max(this.getScrollPosition()-this.getTableParentOffset(),0))>this.wot.wtTable.getTotalWidth()-this.clone.wtTable.getTotalWidth()&&(s=0),s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=this.wot.wtTable.holder.parentNode,s=this.wtSettings.getSetting("rowHeaders"),a=this.wtSettings.getSetting("fixedColumnsStart");this.wtSettings.getSetting("totalRows")?Hi(o,"emptyRows"):An(o,"emptyRows");var c=!1;if(a&&!s.length)An(o,"innerBorderLeft innerBorderInlineStart");else if(!a&&s.length){var h=Ti(o,"innerBorderInlineStart");i?(An(o,"innerBorderLeft innerBorderInlineStart"),c=!h):(Hi(o,"innerBorderLeft innerBorderInlineStart"),c=h)}return c}}]),t}(y1);function Qz(n){return(Qz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Zte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function eU(n,e){return(eU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function LNe(n,e){if(e&&("object"===Qz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function PNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function pP(n){return(pP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var tU=function(n){!function ONe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&eU(n,e)}(t,n);var e=function kNe(n){var e=function INe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=pP(n);if(e){var o=pP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return LNe(this,i)}}(t);function t(r,i,o,s){return function ANe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,Bb)}return function DNe(n,e,t){return e&&Zte(n.prototype,e),t&&Zte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(XS);ws(tU,wte),ws(tU,Xz);const NNe=tU;function nU(n){return(nU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function mP(n,e,t){return(mP=Jte()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&gP(c,s.prototype),c}).apply(null,arguments)}function qte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function gP(n,e){return(gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function zNe(n,e){if(e&&("object"===nU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rU(n)}function rU(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jte(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function vP(n){return(vP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Qte(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var UNe=function(n){!function BNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&gP(n,e)}(t,n);var e=function VNe(n){var e=Jte();return function(){var i,r=vP(n);if(e){var o=vP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return zNe(this,i)}}(t);function t(r,i,o,s,a,u){var c;return function FNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Qte(rU(c=e.call(this,r,i,Bb,o,s)),"topOverlay",void 0),Qte(rU(c),"inlineStartOverlay",void 0),c.topOverlay=a,c.inlineStartOverlay=u,c}return function HNe(n,e,t){e&&qte(n.prototype,e),t&&qte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return mP(NNe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;var i=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){var o=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),s=this.topOverlay.getOverlayOffset();KV(i,"".concat(o,"px"),"".concat(s,"px"))}else VL(i);var a=ra(this.clone.wtTable.TABLE),u=fs(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(a=0),i.style.height="".concat(a,"px"),i.style.width="".concat(u,"px"),!1}}]),t}(y1);function iU(n){return(iU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ene(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function oU(n,e){return(oU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $Ne(n,e){if(e&&("object"===iU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function XNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function yP(n){return(yP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var sU=function(n){!function YNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oU(n,e)}(t,n);var e=function GNe(n){var e=function KNe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=yP(n);if(e){var o=yP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $Ne(this,i)}}(t);function t(r,i,o,s){return function WNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,ty)}return function jNe(n,e,t){return e&&ene(n.prototype,e),t&&ene(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(XS);ws(sU,Bte),ws(sU,Xz);const ZNe=sU;function aU(n){return(aU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _P(n,e,t){return(_P=nne()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&bP(c,s.prototype),c}).apply(null,arguments)}function tne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function bP(n,e){return(bP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function t2e(n,e){if(e&&("object"===aU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function n2e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function nne(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function wP(n){return(wP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var r2e=function(n){!function QNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&bP(n,e)}(t,n);var e=function e2e(n){var e=nne();return function(){var i,r=wP(n);if(e){var o=wP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return t2e(this,i)}}(t);function t(r,i,o,s,a,u){var c;return function qNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(c=e.call(this,r,i,ty,o,s)).bottomOverlay=a,c.inlineStartOverlay=u,c}return function JNe(n,e,t){e&&tne(n.prototype,e),t&&tne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return _P(ZNe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){var i=this.wot;if(this.updateTrimmingContainer(),!i.wtTable.holder.parentNode)return!1;var o=this.clone.wtTable.holder.parentNode;if(o.style.top="",this.trimmingContainer===this.domBindings.rootWindow){var s=this.inlineStartOverlay.getOverlayOffset(),a=this.bottomOverlay.getOverlayOffset();o.style[this.isRtl()?"right":"left"]="".concat(s,"px"),o.style.bottom="".concat(a,"px")}else VL(o),this.repositionOverlay();var u=ra(this.clone.wtTable.TABLE),c=fs(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(u=0),o.style.height="".concat(u,"px"),o.style.width="".concat(c,"px"),!1}},{key:"repositionOverlay",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings.rootDocument,u=this.clone.wtTable.holder.parentNode,c=0;s.hasVerticalScroll()||(c+=s.getWorkspaceHeight()-o.getTotalHeight()),s.hasVerticalScroll()&&s.hasHorizontalScroll()&&(c+=Dl(a)),u.style.bottom="".concat(c,"px")}}]),t}(y1);function ny(n,e,t){return(ny=i2e()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&lU(c,s.prototype),c}).apply(null,arguments)}function i2e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function lU(n,e){return(lU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function rne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ry(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const l2e=function(){function n(e,t,r,i,o,s){(function o2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),ry(this,"wot",null),ry(this,"topOverlay",null),ry(this,"bottomOverlay",null),ry(this,"inlineStartOverlay",null),ry(this,"topInlineStartCornerOverlay",null),ry(this,"bottomInlineStartCornerOverlay",null),ry(this,"browserLineHeight",void 0),ry(this,"wtSettings",null),this.wot=e,this.wtSettings=i,this.domBindings=r,this.facadeGetter=t,this.wtTable=s;var a=this.domBindings,u=a.rootDocument,c=a.rootWindow;this.instance=this.wot,this.eventManager=o,this.scrollbarSize=Dl(u);var h="hidden"===c.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow");this.scrollableElement=h?s.holder:FL(s.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=c.scrollX,this.lastScrollY=c.scrollY}return function s2e(n,e,t){e&&rne(n.prototype,e),t&&rne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"initBrowserLineHeight",value:function(){var t=this.domBindings,o=t.rootWindow.getComputedStyle(t.rootDocument.body),s=parseInt(o.lineHeight,10),a=1.2*parseInt(o.fontSize,10);this.browserLineHeight=s||a}},{key:"initOverlays",value:function(){var t=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=ny(KIe,t),this.bottomOverlay=ny(dNe,t),this.inlineStartOverlay=ny(RNe,t),this.topInlineStartCornerOverlay=ny(UNe,t.concat([this.topOverlay,this.inlineStartOverlay])),this.bottomInlineStartCornerOverlay=ny(r2e,t.concat([this.bottomOverlay,this.inlineStartOverlay]))}},{key:"updateStateOfRendering",value:function(){var t=this.topOverlay.updateStateOfRendering();return t=this.bottomOverlay.updateStateOfRendering()||t,t=this.inlineStartOverlay.updateStateOfRendering()||t,this.inlineStartOverlay.needFullRender&&(this.topOverlay.needFullRender&&(t=this.topInlineStartCornerOverlay.updateStateOfRendering()||t),this.bottomOverlay.needFullRender&&(t=this.bottomInlineStartCornerOverlay.updateStateOfRendering()||t)),t}},{key:"refreshAll",value:function(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode)return void this.destroy();this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}},{key:"registerListeners",value:function(){var t=this,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=this.topOverlay.mainTableScrollableElement,a=this.inlineStartOverlay.mainTableScrollableElement;this.eventManager.addEventListener(i.documentElement,"keydown",function(w){return t.onKeyDown(w)}),this.eventManager.addEventListener(i.documentElement,"keyup",function(){return t.onKeyUp()}),this.eventManager.addEventListener(i,"visibilitychange",function(){return t.onKeyUp()}),this.eventManager.addEventListener(s,"scroll",function(w){return t.onTableScroll(w)},{passive:!0}),s!==a&&this.eventManager.addEventListener(a,"scroll",function(w){return t.onTableScroll(w)},{passive:!0});var y,u=o.devicePixelRatio&&o.devicePixelRatio>1,c=this.scrollableElement===o,h=this.wtSettings.getSetting("preventWheel"),p={passive:c};(h||u||!function sOe(){return dd.chrome.value}())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",function(w){return t.onCloneWheel(w,h)},p),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(function(w){w&&w.needFullRender&&t.eventManager.addEventListener(w.clone.wtTable.holder,"wheel",function(C){return t.onCloneWheel(C,h)},p)}),this.eventManager.addEventListener(o,"resize",function(){clearTimeout(y),y=setTimeout(function(){t.wtSettings.getSetting("onWindowResize")},200)})}},{key:"deregisterListeners",value:function(){this.eventManager.clearEvents(!0)}},{key:"onTableScroll",value:function(t){var r=this.domBindings.rootWindow,i=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,s=t.target;this.keyPressed&&(o!==r&&s!==r&&!t.target.contains(o)||i!==r&&s!==r&&!t.target.contains(i))||this.syncScrollPositions(t)}},{key:"onCloneWheel",value:function(t,r){var i=this.domBindings.rootWindow,o=this.inlineStartOverlay.mainTableScrollableElement,s=this.topOverlay.mainTableScrollableElement,a=t.target,u=s!==i&&a!==i&&!a.contains(s),c=o!==i&&a!==i&&!a.contains(o);if(!this.keyPressed||!u&&!c){var h=this.translateMouseWheelToScroll(t);(r||this.scrollableElement!==i&&h)&&t.preventDefault()}}},{key:"onKeyDown",value:function(t){this.keyPressed=c1(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(t){var r=isNaN(t.deltaY)?-1*t.wheelDeltaY:t.deltaY,i=isNaN(t.deltaX)?-1*t.wheelDeltaX:t.deltaX;1===t.deltaMode&&(i+=i*this.browserLineHeight,r+=r*this.browserLineHeight);var o=this.scrollVertically(r),s=this.scrollHorizontally(i);return o||s}},{key:"scrollVertically",value:function(t){var r=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=t,r!==this.scrollableElement.scrollTop}},{key:"scrollHorizontally",value:function(t){var r=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=t,r!==this.scrollableElement.scrollLeft}},{key:"syncScrollPositions",value:function(){if(!this.destroyed){var t=this.domBindings.rootWindow,r=this.topOverlay.clone.wtTable.holder,i=this.inlineStartOverlay.clone.wtTable.holder,o=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop],s=o[0],a=o[1];if(this.horizontalScrolling=r.scrollLeft!==s||this.lastScrollX!==t.scrollX,this.verticalScrolling=i.scrollTop!==a||this.lastScrollY!==t.scrollY,this.lastScrollX=t.scrollX,this.lastScrollY=t.scrollY,this.horizontalScrolling){r.scrollLeft=s;var u=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;u&&(u.scrollLeft=s)}this.verticalScrolling&&(i.scrollTop=a),this.refreshAll()}}},{key:"syncScrollWithMaster",value:function(){var t=this.topOverlay.mainTableScrollableElement,r=t.scrollLeft,i=t.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=r),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=r),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=i)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();var t=this.wtTable;this.scrollableElement="hidden"===this.domBindings.rootWindow.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")?t.holder:FL(t.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.wtTable.spreader,i=r.clientWidth,o=r.clientHeight;(i!==this.spreaderLastSize.width||o!==this.spreaderLastSize.height)&&(this.spreaderLastSize.width=i,this.spreaderLastSize.height=o,this.adjustElementsSize()),this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.inlineStartOverlay.refresh(t),this.topOverlay.refresh(t),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(t),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(t)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.wot.wtViewport,i=this.wtTable,o=this.wtSettings.getSetting("totalColumns"),s=this.wtSettings.getSetting("totalRows"),a=r.getRowHeaderWidth(),u=r.getColumnHeaderHeight(),c=i.hider.style;if(c.width="".concat(a+this.inlineStartOverlay.sumCellSizes(0,o),"px"),c.height="".concat(u+this.topOverlay.sumCellSizes(0,s)+1,"px"),this.scrollbarSize>0){var h=i.wtRootElement,p=h.scrollHeight,g=h.scrollWidth,y=i.holder,w=y.scrollHeight,S=y.scrollWidth;this.hasScrollbarRight=p<w,this.hasScrollbarBottom=g<S,this.hasScrollbarRight&&i.hider.scrollWidth+this.scrollbarSize>g?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&i.hider.scrollHeight+this.scrollbarSize>p&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(t),this.inlineStartOverlay.adjustElementsSize(t),this.bottomOverlay.adjustElementsSize(t)}},{key:"applyToDOM",value:function(){!this.wtTable.isVisible()||(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}},{key:"getParentOverlay",value:function(t){if(!t)return null;var i=null;return it([this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],function(o){!o||o.clone&&o.clone.wtTable.TABLE.contains(t)&&(i=o.clone)}),i}},{key:"syncOverlayTableClassNames",value:function(){var t=this.wtTable.TABLE;it([this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],function(i){!i||(i.clone.wtTable.TABLE.className=t.className)})}}]),n}();function ine(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function one(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var d2e=function(){function n(e){var t=this;(function u2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),one(this,"settings",{}),one(this,"defaults",Object.freeze(this.getDefaults())),ao(this.defaults,function(r,i){if(void 0!==e[i])t.settings[i]=e[i];else{if(void 0===r)throw new Error('A required setting "'.concat(i,'" was not provided'));t.settings[i]=r}})}return function c2e(n,e,t){e&&ine(n.prototype,e),t&&ine(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getDefaults",value:function(){var t=this;return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:function(){return t.getSetting("fixedColumnsStart")>0||t.getSetting("rowHeaders").length>0},shouldRenderTopOverlay:function(){return t.getSetting("fixedRowsTop")>0||t.getSetting("columnHeaders").length>0},shouldRenderBottomOverlay:function(){return t.getSetting("fixedRowsBottom")>0},minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(i,o,s){var a=t.getSetting("data",i,o);Pb(s,null==a?"":a)},columnWidth:function(){},rowHeight:function(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(i){return i},onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:function(i){return i},onBeforeHighlightingColumnHeader:function(i){return i},onWindowResize:null,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1}}},{key:"update",value:function(t,r){var i=this;return void 0===r?ao(t,function(o,s){i.settings[s]=o}):this.settings[t]=r,this}},{key:"getSetting",value:function(t,r,i,o,s){return"function"==typeof this.settings[t]?this.settings[t](r,i,o,s):void 0!==r&&Array.isArray(this.settings[t])?this.settings[t][r]:this.settings[t]}},{key:"getSettingPure",value:function(t){return this.settings[t]}},{key:"has",value:function(t){return!!this.settings[t]}}]),n}();function uU(n){return(uU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function sne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function cU(n,e){return(cU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function g2e(n,e){if(e&&("object"===uU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function v2e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function MP(n){return(MP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var dU=function(n){!function p2e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&cU(n,e)}(t,n);var e=function m2e(n){var e=function y2e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=MP(n);if(e){var o=MP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return g2e(this,i)}}(t);function t(r,i,o,s){return function h2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,"master")}return function f2e(n,e,t){e&&sne(n.prototype,e),t&&sne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"alignOverlaysWithTrimmingContainer",value:function(){var i=s1(this.wtRootElement),o=this.domBindings.rootWindow;if(i===o)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{var a=i.parentElement,u=$V(i,"height",o),c=$V(i,"overflow",o),h=this.holder.style,p=i.scrollWidth,g=i.scrollHeight,y=i.getBoundingClientRect(),w=y.width,S=y.height;if(a&&["auto","hidden","scroll"].includes(c)){var P=i.cloneNode(!1);P.style.overflow="auto",P.style.position="absolute",i.nextElementSibling?a.insertBefore(P,i.nextElementSibling):a.appendChild(P);var B=parseInt(Ib(P,o).height,10);a.removeChild(P),0===B&&(S=0)}S=Math.min(S,g),h.height="auto"===u?"auto":"".concat(S,"px"),w=Math.min(w,p),h.width="".concat(w,"px"),h.overflow="",this.hasTableHeight="auto"===h.height||S>0,this.hasTableWidth=w>0}this.isTableVisible=r1(this.TABLE)}},{key:"markOversizedColumnHeaders",value:function(){var i=this.wtSettings,o=this.dataAccessObject.wtViewport,s="master",u=i.getSetting("columnHeaders").length;if(u&&!o.hasOversizedColumnHeadersMarked[s]){for(var h=i.getSetting("rowHeaders").length,p=this.getRenderedColumnsCount(),g=0;g<u;g++)for(var y=-1*h;y<p;y++)this.markIfOversizedColumnHeader(y);o.hasOversizedColumnHeadersMarked[s]=!0}}}]),t}(XS);ws(dU,Yte),ws(dU,Lz);const _2e=dU;function b2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ane(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var lne=new WeakMap;const une=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewportSize,r=e.scrollOffset,i=e.totalItems,o=e.itemSizeFn,s=e.overrideFn,a=e.calculationType,u=e.scrollbarHeight;b2e(this,n),lne.set(this,{viewportHeight:t,scrollOffset:r,totalRows:i,rowHeightFn:o,overrideFn:s,calculationType:a,horizontalScrollbarHeight:u}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()}return function w2e(n,e,t){e&&ane(n.prototype,e),t&&ane(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"calculate",value:function(){for(var y,t=0,r=!0,i=[],o=lne.get(this),s=o.calculationType,a=o.overrideFn,u=o.rowHeightFn,c=o.scrollOffset,h=o.totalRows,p=o.viewportHeight,g=o.horizontalScrollbarHeight||0,w=0;w<h;w++)if(y=u(w),isNaN(y)&&(y=n.DEFAULT_HEIGHT),t<=c&&2!==s&&(this.startRow=w),t>=c&&t+(2===s?y:0)<=c+p-g&&(null===this.startRow&&(this.startRow=w),this.endRow=w),i.push(t),t+=y,2!==s&&(this.endRow=w),t>=c+p-g){r=!1;break}if(this.endRow===h-1&&r)for(this.startRow=this.endRow;this.startRow>0;){var S=i[this.endRow]+y-i[this.startRow-1];if((S<=p-g||2!==s)&&(this.startRow-=1),S>=p-g)break}1===s&&null!==this.startRow&&a&&a(this),this.startPosition=i[this.startRow],void 0===this.startPosition&&(this.startPosition=null),h<this.endRow&&(this.endRow=h-1),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}],[{key:"DEFAULT_HEIGHT",get:function(){return 23}}]),n}();function S2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var KS=new WeakMap;const hU=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewportSize,r=e.scrollOffset,i=e.totalItems,o=e.itemSizeFn,s=e.overrideFn,a=e.calculationType,u=e.stretchMode,c=e.stretchingItemWidthFn,h=void 0===c?function(p){return p}:c;S2e(this,n),KS.set(this,{viewportWidth:t,scrollOffset:r,totalColumns:i,columnWidthFn:o,overrideFn:s,calculationType:a,stretchingColumnWidthFn:h}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=u,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}return function x2e(n,e,t){e&&cne(n.prototype,e),t&&cne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"calculate",value:function(){for(var o,t=0,r=!0,i=[],s=KS.get(this),a=s.calculationType,u=s.overrideFn,c=s.scrollOffset,h=s.totalColumns,p=s.viewportWidth,g=0;g<h;g++)if(o=this._getColumnWidth(g),t<=c&&2!==a&&(this.startColumn=g),t>=c&&t+(2===a?o:0)<=c+(c>0?p+1:p)&&(null==this.startColumn&&(this.startColumn=g),this.endColumn=g),i.push(t),t+=o,2!==a&&(this.endColumn=g),t>=c+p){r=!1;break}if(this.endColumn===h-1&&r)for(this.startColumn=this.endColumn;this.startColumn>0;){var w=i[this.endColumn]+o-i[this.startColumn-1];if((w<=p||2!==a)&&(this.startColumn-=1),w>p)break}1===a&&null!==this.startColumn&&u&&u(this),this.startPosition=i[this.startColumn],void 0===this.startPosition&&(this.startPosition=null),h<this.endColumn&&(this.endColumn=h-1),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(t){if("none"!==this.stretch){var r=t;this.totalTargetWidth=r;for(var i=KS.get(this),o=i.totalColumns,s=0,a=0;a<o;a++){var u=this._getColumnWidth(a),c=i.stretchingColumnWidthFn(void 0,a);"number"==typeof c?r-=c:s+=u}var h=r-s;if("all"===this.stretch&&h>0)this.stretchAllRatio=r/s,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&r!==1/0){var p=this._getColumnWidth(o-1),g=h+p;this.stretchLastWidth=g>=0?g:p}}}},{key:"getStretchedColumnWidth",value:function(t,r){var i=null;return"all"===this.stretch&&0!==this.stretchAllRatio?i=this._getStretchedAllColumnWidth(t,r):"last"===this.stretch&&0!==this.stretchLastWidth&&(i=this._getStretchedLastColumnWidth(t)),i}},{key:"_getStretchedAllColumnWidth",value:function(t,r){var i=0,o=KS.get(this),s=o.totalColumns;if(!this.stretchAllColumnsWidth[t]){var a=Math.round(r*this.stretchAllRatio),u=o.stretchingColumnWidthFn(a,t);this.stretchAllColumnsWidth[t]=void 0===u?a:isNaN(u)?this._getColumnWidth(t):u}if(this.stretchAllColumnsWidth.length===s&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var c=0;c<this.stretchAllColumnsWidth.length;c++)i+=this.stretchAllColumnsWidth[c];i!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-i)}return this.stretchAllColumnsWidth[t]}},{key:"_getStretchedLastColumnWidth",value:function(t){return t===KS.get(this).totalColumns-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(t){var r=KS.get(this).columnWidthFn(t);return isNaN(r)&&(r=n.DEFAULT_WIDTH),r}}],[{key:"DEFAULT_WIDTH",get:function(){return 50}}]),n}();function dne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const D2e=function(){function n(e,t,r,i,o){var s=this;(function E2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=t,this.wtSettings=r,this.wtTable=o,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=i,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",function(){s.clientHeight=s.getWorkspaceHeight()})}return function T2e(n,e,t){e&&dne(n.prototype,e),t&&dne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getWorkspaceHeight",value:function(){var r=this.dataAccessObject.topOverlayTrimmingContainer;return r===this.domBindings.rootWindow?this.domBindings.rootDocument.documentElement.clientHeight:ra(r)>0&&r.clientHeight>0?r.clientHeight:1/0}},{key:"getWorkspaceWidth",value:function(){var w,S,t=this.wtSettings,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=this.dataAccessObject.inlineStartOverlayTrimmingContainer,a=i.documentElement.offsetWidth,u=t.getSetting("totalColumns"),c=t.getSetting("preventOverflow"),h=t.getSetting("rtlMode"),p=this.wtTable.TABLE.getBoundingClientRect(),y=a-(h?p.right-a:p.left);if(c)return fs(this.wtTable.wtRootElement);if(w=t.getSetting("freezeOverlays")?Math.min(y,a):Math.min(this.getContainerFillWidth(),y,a),s===o&&u>0&&this.sumColumnWidths(0,u-1)>w)return i.documentElement.clientWidth;if(s!==o&&("scroll"===(S=$V(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",o))||"hidden"===S||"auto"===S))return Math.max(w,s.clientWidth);var C=t.getSetting("stretchH");return"none"!==C&&C?w:Math.max(w,fs(this.wtTable.TABLE))}},{key:"hasVerticalScroll",value:function(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(t,r){for(var i=0,o=t;o<r;)i+=this.wtTable.getColumnWidth(o),o+=1;return i}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var t=this.wtTable.holder,r=this.domBindings.rootDocument.createElement("div");r.style.width="100%",r.style.height="1px",t.appendChild(r);var i=r.offsetWidth;return this.containerWidth=i,t.removeChild(r),i}},{key:"getWorkspaceOffset",value:function(){return Ga(this.wtTable.TABLE)}},{key:"getColumnHeaderHeight",value:function(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=ra(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var t=this.getWorkspaceHeight();if(t===1/0)return t;var r=this.getColumnHeaderHeight();return r>0&&(t-=r),t}},{key:"getRowHeaderWidth",value:function(){var t=this.wtSettings.getSetting("rowHeaderWidth"),r=this.wtSettings.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(var i=0,o=r.length;i<o;i++)this.rowHeaderWidth+=t[i]||t}if(isNaN(this.rowHeaderWidth))if(r.length){var s=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var a=0,u=r.length;a<u;a++)s?(this.rowHeaderWidth+=fs(s),s=s.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var t=this.getWorkspaceWidth();if(t===1/0)return t;var r=this.getRowHeaderWidth();return r>0?t-r:t}},{key:"createRowsCalculator",value:function(){var o,s,a,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this.wtSettings,i=this.wtTable;this.rowHeaderWidth=NaN,o=r.getSetting("renderAllRows")&&1===t?1/0:this.getViewportHeight();var u=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;u<0&&(u=0);var c=r.getSetting("fixedRowsTop"),h=r.getSetting("fixedRowsBottom"),p=r.getSetting("totalRows");return c&&(u+=a=this.dataAccessObject.topOverlay.sumCellSizes(0,c),o-=a),h&&this.dataAccessObject.bottomOverlay.clone&&(o-=a=this.dataAccessObject.bottomOverlay.sumCellSizes(p-h,p)),s=i.holder.clientHeight===i.holder.offsetHeight?0:Dl(this.domBindings.rootDocument),new une({viewportSize:o,scrollOffset:u,totalItems:r.getSetting("totalRows"),itemSizeFn:function(y){return i.getRowHeight(y)},overrideFn:r.getSettingPure("viewportRowCalculatorOverride"),calculationType:t,scrollbarHeight:s})}},{key:"createColumnsCalculator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this.wtSettings,i=this.wtTable,o=this.getViewportWidth(),s=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN,s<0&&(s=0);var a=r.getSetting("fixedColumnsStart");if(a){var u=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,a);s+=u,o-=u}return i.holder.clientWidth!==i.holder.offsetWidth&&(o-=Dl(this.domBindings.rootDocument)),new hU({viewportSize:o,scrollOffset:Math.abs(s),totalItems:r.getSetting("totalColumns"),itemSizeFn:function(h){return i.getColumnWidth(h)},overrideFn:r.getSettingPure("viewportColumnCalculatorOverride"),calculationType:t,stretchMode:r.getSetting("stretchH"),stretchingItemWidthFn:function(h,p){return r.getSetting("onBeforeStretchingColumnWidth",h,p)}})}},{key:"createRenderCalculators",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t;if(r){var i=this.createRowsCalculator(2),o=this.createColumnsCalculator(2);this.areAllProposedVisibleRowsAlreadyRendered(i)&&this.areAllProposedVisibleColumnsAlreadyRendered(o)||(r=!1)}return r||(this.rowsRenderCalculator=this.createRowsCalculator(1),this.columnsRenderCalculator=this.createColumnsCalculator(1)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,r}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(2),this.columnsVisibleCalculator=this.createColumnsCalculator(2)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(t){if(!this.rowsVisibleCalculator)return!1;var r=t.startRow,i=t.endRow;if(null===r&&null===i)return!1;var o=this.rowsRenderCalculator,s=o.startRow,a=o.endRow;return!(r<s||r===s&&r>0||i>a||i===a&&i<this.wtSettings.getSetting("totalRows")-1)}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(t){if(!this.columnsVisibleCalculator)return!1;var r=t.startColumn,i=t.endColumn;if(null===r&&null===i)return!1;var o=this.columnsRenderCalculator,s=o.startColumn,a=o.endColumn;return!(r<s||r===s&&r>0||i>a||i===a&&i<this.wtSettings.getSetting("totalColumns")-1)}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){ao(this.hasOversizedColumnHeadersMarked,function(t,r,i){i[r]=void 0})}}]),n}();function fU(n){return(fU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function pU(n,e){return(pU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function P2e(n,e){if(e&&("object"===fU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mU(n)}function mU(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function SP(n){return(SP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var N2e=function(n){!function k2e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&pU(n,e)}(t,n);var e=function L2e(n){var e=function I2e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=SP(n);if(e){var o=SP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return P2e(this,i)}}(t);function t(r,i){var o;!function A2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=(o=e.call(this,r,new d2e(i))).wtSettings.getSetting("facade",mU(o));return o.wtTable=new _2e(o.getTableDao(),s,o.domBindings,o.wtSettings),o.wtViewport=new D2e(o.getViewportDao(),o.domBindings,o.wtSettings,o.eventManager,o.wtTable),o.selections=o.wtSettings.getSetting("selections"),o.wtEvent=new Kee(s,o.domBindings,o.wtSettings,o.eventManager,o.wtTable,o.selections),o.wtOverlays=new l2e(mU(o),s,o.domBindings,o.wtSettings,o.eventManager,o.wtTable),o.exportSettingsAsClassNames(),o.findOriginalHeaders(),o}return function O2e(n,e,t){e&&hne(n.prototype,e),t&&hne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"exportSettingsAsClassNames",value:function(){var i=this,s=[],a=[];ao({rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},function(u,c){i.wtSettings.getSetting(c).length&&a.push(u),s.push(u)}),Hi(this.wtTable.wtRootElement.parentNode,s),An(this.wtTable.wtRootElement.parentNode,a)}},{key:"getViewportDao",value:function(){var i=this;return{get wot(){return i},get topOverlayTrimmingContainer(){return i.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return i.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return i.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return i.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return i.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return i.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return i.wtOverlays.topOverlay},get inlineStartOverlay(){return i.wtOverlays.inlineStartOverlay},get bottomOverlay(){return i.wtOverlays.bottomOverlay}}}}]),t}(Vz);function fne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var B2e=function(){function n(e){(function F2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),e instanceof Vz?this._wot=e:this._initFromSettings(e)}return function H2e(n,e,t){e&&fne(n.prototype,e),t&&fne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"_initFromSettings",value:function(t){t.facade=function(r){var i=new n(r);return function(){return i}},this._wot=new N2e(t.table,t)}},{key:"guid",get:function(){return this._wot.guid}},{key:"rootDocument",get:function(){return this._wot.domBindings.rootDocument}},{key:"rootWindow",get:function(){return this._wot.domBindings.rootWindow}},{key:"wtSettings",get:function(){return this._wot.wtSettings}},{key:"cloneSource",get:function(){return this._wot.cloneSource}},{key:"cloneOverlay",get:function(){return this._wot.cloneOverlay}},{key:"selections",get:function(){return this._wot.selections}},{key:"wtViewport",get:function(){return this._wot.wtViewport}},{key:"wtOverlays",get:function(){return this._wot.wtOverlays}},{key:"wtTable",get:function(){return this._wot.wtTable}},{key:"wtEvent",get:function(){return this._wot.wtEvent}},{key:"wtScroll",get:function(){return this._wot.wtScroll}},{key:"drawn",get:function(){return this._wot.drawn},set:function(t){this._wot.drawn=t}},{key:"drawInterrupted",get:function(){return this._wot.drawInterrupted},set:function(t){this._wot.drawInterrupted=t}},{key:"lastMouseOver",get:function(){return this._wot.lastMouseOver},set:function(t){this._wot.lastMouseOver=t}},{key:"momentumScrolling",get:function(){return this._wot.momentumScrolling},set:function(t){this._wot.momentumScrolling=t}},{key:"touchApplied",get:function(){return this._wot.touchApplied},set:function(t){this._wot.touchApplied=t}},{key:"domBindings",get:function(){return this._wot.domBindings}},{key:"eventListeners",get:function(){return this._wot.eventListeners},set:function(t){this._wot.eventListeners=t}},{key:"eventManager",get:function(){return this._wot.eventManager}},{key:"createCellCoords",value:function(t,r){return this._wot.createCellCoords(t,r)}},{key:"createCellRange",value:function(t,r,i){return this._wot.createCellRange(t,r,i)}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._wot.draw(t),this}},{key:"getCell",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._wot.getCell(t,r)}},{key:"scrollViewport",value:function(t,r,i,o,s){return this._wot.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return this._wot.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return this._wot.scrollViewportVertically(t,r,i)}},{key:"getViewport",value:function(){return this._wot.getViewport()}},{key:"getOverlayName",value:function(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}},{key:"exportSettingsAsClassNames",value:function(){return this._wot.exportSettingsAsClassNames()}},{key:"update",value:function(t,r){return this._wot.wtSettings.update(t,r),this}},{key:"getSetting",value:function(t,r,i,o,s){return this._wot.wtSettings.getSetting(t,r,i,o,s)}},{key:"hasSetting",value:function(t){return this._wot.wtSettings.hasSetting(t)}},{key:"destroy",value:function(){this._wot.destroy()}}]),n}();function pne(n){var e=n.isShiftKey,t=n.isLeftClick,r=n.isRightClick,i=n.coords,o=n.selection,s=n.controller,a=n.cellCoordsFactory,u=o.isSelected()?o.getSelectedRange().current():null,c=o.isSelectedByCorner(),h=o.isSelectedByRowHeader();if(e&&u)i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(i):(c||h)&&i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(a(i.row,i.col)):c&&i.row<0&&!s.column?o.setRangeEnd(a(u.to.row,i.col)):h&&i.col<0&&!s.row?o.setRangeEnd(a(i.row,u.to.col)):(!c&&!h&&i.col<0||c&&i.col<0)&&!s.row?o.selectRows(Math.max(u.from.row,0),i.row,i.col):(!c&&!h&&i.row<0||h&&i.row<0)&&!s.column&&o.selectColumns(Math.max(u.from.col,0),i.col,i.row);else{var p=!o.inInSelection(i),g=t||r&&p;i.row<0&&i.col>=0&&!s.column?g&&o.selectColumns(i.col,i.col,i.row):i.col<0&&i.row>=0&&!s.row?g&&o.selectRows(i.row,i.row,i.col):i.col>=0&&i.row>=0&&!s.cell?g&&o.setRangeStart(i):i.col<0&&i.row<0&&o.selectAll(!0,!0)}}var z2e=new Map([["mousedown",pne],["mouseover",function V2e(n){var t=n.coords,r=n.selection,i=n.controller,o=n.cellCoordsFactory;if(n.isLeftClick){var s=r.isSelectedByRowHeader(),a=r.isSelectedByColumnHeader(),u=r.tableProps.countCols(),c=r.tableProps.countRows();a&&!i.column?r.setRangeEnd(o(c-1,t.col)):s&&!i.row?r.setRangeEnd(o(t.row,u-1)):i.cell||r.setRangeEnd(t)}}],["touchstart",pne]]);function mne(n,e){var t=e.coords,r=e.selection,i=e.controller,o=e.cellCoordsFactory;z2e.get(n.type)({coords:t,selection:r,controller:i,cellCoordsFactory:o,isShiftKey:n.shiftKey,isLeftClick:ez(n)||"touchstart"===n.type,isRightClick:Nb(n)})}var gne=new WeakMap,gU=Symbol("rootInstance");function U2e(n){gne.set(n,!0)}function j2e(n){return n===gU}function vU(n){return gne.has(n)}function _1(n,e){return function G2e(n){if(Array.isArray(n))return n}(n)||function Y2e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||yne(n,e)||function W2e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vne(n){return function K2e(n){if(Array.isArray(n))return yU(n)}(n)||function X2e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||yne(n)||function $2e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yne(n,e){if(n){if("string"==typeof n)return yU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yU(n,e)}}function yU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _ne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Ub=new WeakMap;const Q2e=function(){function n(e){(function Z2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.instance=e,this.eventManager=new ia(e),this.settings=e.getSettings(),this.THEAD=void 0,this.TBODY=void 0,this._wt=void 0,this.activeWt=void 0,this.postponedAdjustElementsSize=!1,Ub.set(this,{selectionMouseDown:!1,mouseDown:void 0,table:void 0,lastWidth:0,lastHeight:0}),this.createElements(),this.registerEvents(),this.initializeWalkontable()}return function q2e(n,e,t){e&&_ne(n.prototype,e),t&&_ne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"render",value:function(){this.instance.isRenderSuspended()||(this.instance.runHooks("beforeRender",this.instance.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.instance.forceFullRender),this.instance.runHooks("afterRender",this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.instance.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize(t)}},{key:"getCellAtCoords",value:function(t,r){var i=this._wt.getCell(t,r);return i<0?null:i}},{key:"scrollViewport",value:function(t,r,i,o,s){return this._wt.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return this._wt.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return this._wt.scrollViewportVertically(t,r,i)}},{key:"createElements",value:function(){var t=Ub.get(this),r=this.instance,i=r.rootElement,o=r.rootDocument,s=i.getAttribute("style");s&&i.setAttribute("data-originalstyle",s),An(i,"handsontable"),t.table=o.createElement("TABLE"),An(t.table,"htCore"),this.instance.getSettings().tableClassName&&An(t.table,this.instance.getSettings().tableClassName),this.THEAD=o.createElement("THEAD"),t.table.appendChild(this.THEAD),this.TBODY=o.createElement("TBODY"),t.table.appendChild(this.TBODY),this.instance.table=t.table,this.instance.container.insertBefore(t.table,this.instance.container.firstChild)}},{key:"registerEvents",value:function(){var t=this,r=Ub.get(this),i=this.instance,o=i.rootElement,s=i.rootDocument,a=i.selection,u=s.documentElement;this.eventManager.addEventListener(o,"mousedown",function(c){if(r.selectionMouseDown=!0,!t.isTextSelectionAllowed(c.target)){var h=t.instance.rootWindow;see(h),c.preventDefault(),h.focus()}}),this.eventManager.addEventListener(o,"mouseup",function(){r.selectionMouseDown=!1}),this.eventManager.addEventListener(o,"mousemove",function(c){r.selectionMouseDown&&!t.isTextSelectionAllowed(c.target)&&(t.settings.fragmentSelection&&see(t.instance.rootWindow),c.preventDefault())}),this.eventManager.addEventListener(u,"keyup",function(c){a.isInProgress()&&!c.shiftKey&&a.finish()}),this.eventManager.addEventListener(u,"mouseup",function(c){a.isInProgress()&&ez(c)&&a.finish(),r.mouseDown=!1,(aee(s.activeElement)||!a.isSelected()&&!a.isSelectedByAnyHeader()&&!o.contains(c.target)&&!Nb(c))&&t.instance.unlisten()}),this.eventManager.addEventListener(u,"contextmenu",function(c){a.isInProgress()&&Nb(c)&&(a.finish(),r.mouseDown=!1)}),this.eventManager.addEventListener(u,"touchend",function(){a.isInProgress()&&a.finish(),r.mouseDown=!1}),this.eventManager.addEventListener(u,"mousedown",function(c){var h=c.target,p=c.x||c.clientX,g=c.y||c.clientY,y=c.target;if(!r.mouseDown&&o&&t.instance.view){var w=t.instance.view._wt.wtTable.holder;if(y===w){var S=Dl(s);if(s.elementFromPoint(p+S,g)!==w||s.elementFromPoint(p,g+S)!==w)return}else for(;y!==u;){if(null===y){if(c.isTargetWebComponent)break;return}if(y===o)return;y=y.parentNode}("function"==typeof t.settings.outsideClickDeselects?t.settings.outsideClickDeselects(h):t.settings.outsideClickDeselects)?t.instance.deselectCell():t.instance.destroyEditor(!1,!1)}}),this.eventManager.addEventListener(r.table,"selectstart",function(c){t.settings.fragmentSelection||zL(c.target)||c.preventDefault()})}},{key:"translateFromRenderableToVisualCoords",value:function(t){var r;return(r=this.instance)._createCellCoords.apply(r,vne(this.translateFromRenderableToVisualIndex(t.row,t.col)))}},{key:"translateFromRenderableToVisualIndex",value:function(t,r){var i=t>=0?this.instance.rowIndexMapper.getVisualFromRenderableIndex(t):t,o=r>=0?this.instance.columnIndexMapper.getVisualFromRenderableIndex(r):r;return null===i&&(i=t),null===o&&(o=r),[i,o]}},{key:"countRenderableIndexes",value:function(t,r){var i=Math.min(t.getNotTrimmedIndexesLength(),r),o=t.getNearestNotHiddenIndex(i-1,-1);return null===o?0:t.getRenderableFromVisualIndex(o)+1}},{key:"countRenderableColumns",value:function(){return this.countRenderableIndexes(this.instance.columnIndexMapper,this.settings.maxCols)}},{key:"countRenderableRows",value:function(){return this.countRenderableIndexes(this.instance.rowIndexMapper,this.settings.maxRows)}},{key:"countNotHiddenRowIndexes",value:function(t,r){return this.countNotHiddenIndexes(t,r,this.instance.rowIndexMapper,this.countRenderableRows())}},{key:"countNotHiddenColumnIndexes",value:function(t,r){return this.countNotHiddenIndexes(t,r,this.instance.columnIndexMapper,this.countRenderableColumns())}},{key:"countNotHiddenIndexes",value:function(t,r,i,o){if(isNaN(t)||t<0)return 0;var s=i.getNearestNotHiddenIndex(t,r),a=i.getRenderableFromVisualIndex(s);if(!Number.isInteger(a))return 0;var u=0;return r<0?u=a+1:r>0&&(u=o-a),u}},{key:"countNotHiddenFixedColumnsStart",value:function(){var t=this.instance.countCols(),r=Math.min(parseInt(this.settings.fixedColumnsStart,10),t)-1;return this.countNotHiddenColumnIndexes(r,-1)}},{key:"countNotHiddenFixedRowsTop",value:function(){var t=this.instance.countRows(),r=Math.min(parseInt(this.settings.fixedRowsTop,10),t)-1;return this.countNotHiddenRowIndexes(r,-1)}},{key:"countNotHiddenFixedRowsBottom",value:function(){var t=this.instance.countRows(),r=Math.max(t-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(r,1)}},{key:"isMainTableNotFullyCoveredByOverlays",value:function(){var t=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),r=this.countNotHiddenFixedColumnsStart();return this.instance.countRenderedRows()>t&&this.instance.countRenderedCols()>r}},{key:"initializeWalkontable",value:function(){var t=this,r=Ub.get(this),i={rtlMode:this.instance.isRtl(),externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:r.table,isDataViewInstance:function(){return vU(t.instance)},preventOverflow:function(){return t.settings.preventOverflow},preventWheel:function(){return t.settings.preventWheel},stretchH:function(){return t.settings.stretchH},data:function(h,p){var g;return(g=t.instance).getDataAtCell.apply(g,vne(t.translateFromRenderableToVisualIndex(h,p)))},totalRows:function(){return t.countRenderableRows()},totalColumns:function(){return t.countRenderableColumns()},fixedColumnsStart:function(){return t.countNotHiddenFixedColumnsStart()},fixedRowsTop:function(){return t.countNotHiddenFixedRowsTop()},fixedRowsBottom:function(){return t.countNotHiddenFixedRowsBottom()},shouldRenderInlineStartOverlay:function(){return t.settings.fixedColumnsStart>0||i.rowHeaders().length>0},shouldRenderTopOverlay:function(){return t.settings.fixedRowsTop>0||i.columnHeaders().length>0},shouldRenderBottomOverlay:function(){return t.settings.fixedRowsBottom>0},minSpareRows:function(){return t.settings.minSpareRows},renderAllRows:this.settings.renderAllRows,rowHeaders:function(){var h=[];return t.instance.hasRowHeaders()&&h.push(function(p,g){var y=p>=0?t.instance.rowIndexMapper.getVisualFromRenderableIndex(p):p;t.appendRowHeader(y,g)}),t.instance.runHooks("afterGetRowHeaderRenderers",h),h},columnHeaders:function(){var h=[];return t.instance.hasColHeaders()&&h.push(function(p,g){var y=p>=0?t.instance.columnIndexMapper.getVisualFromRenderableIndex(p):p;t.appendColHeader(y,g)}),t.instance.runHooks("afterGetColumnHeaderRenderers",h),h},columnWidth:function(h){var p=t.instance.columnIndexMapper.getVisualFromRenderableIndex(h);return t.instance.getColWidth(null===p?h:p)},rowHeight:function(h){var p=t.instance.rowIndexMapper.getVisualFromRenderableIndex(h);return t.instance.getRowHeight(null===p?h:p)},cellRenderer:function(h,p,g){var w=_1(t.translateFromRenderableToVisualIndex(h,p),2),S=w[0],C=w[1],P=t.instance.runHooks("modifyGetCellCoords",S,C),B=S,z=C;if(Array.isArray(P)){var j=_1(P,2);B=j[0],z=j[1]}var G=t.instance.getCellMeta(B,z),re=t.instance.colToProp(z),pe=t.instance.getDataAtRowProp(B,re);t.instance.hasHook("beforeValueRender")&&(pe=t.instance.runHooks("beforeValueRender",pe,G)),t.instance.runHooks("beforeRenderer",g,S,C,re,pe,G),t.instance.getCellRenderer(G)(t.instance,g,S,C,re,pe,G),t.instance.runHooks("afterRenderer",g,S,C,re,pe,G)},selections:this.instance.selection.highlight,hideBorderOnMouseDownOver:function(){return t.settings.fragmentSelection},onWindowResize:function(){!t.instance||t.instance.isDestroyed||t.instance.refreshDimensions()},onCellMouseDown:function(h,p,g,y){var w=t.translateFromRenderableToVisualCoords(p),S={row:!1,column:!1,cell:!1};t.instance.listen(),t.activeWt=y,r.mouseDown=!0,t.instance.runHooks("beforeOnCellMouseDown",h,w,g,S),!YS(h)&&(mne(h,{coords:w,selection:t.instance.selection,controller:S,cellCoordsFactory:function(P,B){return t.instance._createCellCoords(P,B)}}),t.instance.runHooks("afterOnCellMouseDown",h,w,g),t.activeWt=t._wt)},onCellContextMenu:function(h,p,g,y){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=y,r.mouseDown=!1,t.instance.selection.isInProgress()&&t.instance.selection.finish(),t.instance.runHooks("beforeOnCellContextMenu",h,w,g),!YS(h)&&(t.instance.runHooks("afterOnCellContextMenu",h,w,g),t.activeWt=t._wt)},onCellMouseOut:function(h,p,g,y){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=y,t.instance.runHooks("beforeOnCellMouseOut",h,w,g),!YS(h)&&(t.instance.runHooks("afterOnCellMouseOut",h,w,g),t.activeWt=t._wt)},onCellMouseOver:function(h,p,g,y){var w=t.translateFromRenderableToVisualCoords(p),S={row:!1,column:!1,cell:!1};t.activeWt=y,t.instance.runHooks("beforeOnCellMouseOver",h,w,g,S),!YS(h)&&(r.mouseDown&&mne(h,{coords:w,selection:t.instance.selection,controller:S,cellCoordsFactory:function(P,B){return t.instance._createCellCoords(P,B)}}),t.instance.runHooks("afterOnCellMouseOver",h,w,g),t.activeWt=t._wt)},onCellMouseUp:function(h,p,g,y){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=y,t.instance.runHooks("beforeOnCellMouseUp",h,w,g),!YS(h)&&!t.instance.isDestroyed&&(t.instance.runHooks("afterOnCellMouseUp",h,w,g),t.activeWt=t._wt)},onCellCornerMouseDown:function(h){h.preventDefault(),t.instance.runHooks("afterOnCellCornerMouseDown",h)},onCellCornerDblClick:function(h){h.preventDefault(),t.instance.runHooks("afterOnCellCornerDblClick",h)},beforeDraw:function(h,p){return t.beforeRender(h,p)},onDraw:function(h){return t.afterRender(h)},onScrollVertically:function(){return t.instance.runHooks("afterScrollVertically")},onScrollHorizontally:function(){return t.instance.runHooks("afterScrollHorizontally")},onBeforeRemoveCellClassNames:function(){return t.instance.runHooks("beforeRemoveCellClassNames")},onBeforeHighlightingRowHeader:function(h,p,g){var y=t.instance.rowIndexMapper,w=y.getVisualFromRenderableIndex(h),S=t.instance.runHooks("beforeHighlightingRowHeader",w,p,g);return y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex(S,1))},onBeforeHighlightingColumnHeader:function(h,p,g){var y=t.instance.columnIndexMapper,w=y.getVisualFromRenderableIndex(h),S=t.instance.runHooks("beforeHighlightingColumnHeader",w,p,g);return y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex(S,1))},onAfterDrawSelection:function(h,p,g){var y,S=_1(t.translateFromRenderableToVisualIndex(h,p),2),C=S[0],P=S[1],B=t.instance.selection.getSelectedRange(),z=B.size();if(z>0){var G=B.peekByIndex((null!=g?g:0)+1-z);y=[G.from.row,G.from.col,G.to.row,G.to.col]}return t.instance.runHooks("afterDrawSelection",C,P,y,g)},onBeforeDrawBorders:function(h,p){var g=_1(h,4),w=g[1],S=g[2],C=g[3],P=[t.instance.rowIndexMapper.getVisualFromRenderableIndex(g[0]),t.instance.columnIndexMapper.getVisualFromRenderableIndex(w),t.instance.rowIndexMapper.getVisualFromRenderableIndex(S),t.instance.columnIndexMapper.getVisualFromRenderableIndex(C)];return t.instance.runHooks("beforeDrawBorders",P,p)},onBeforeTouchScroll:function(){return t.instance.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){return t.instance.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(h,p){var g=t.instance.columnIndexMapper.getVisualFromRenderableIndex(p);return t.instance.runHooks("beforeStretchingColumnWidth",h,g)},onModifyRowHeaderWidth:function(h){return t.instance.runHooks("modifyRowHeaderWidth",h)},onModifyGetCellCoords:function(h,p,g){var y=t.instance.rowIndexMapper,w=t.instance.columnIndexMapper,S=p>=0?w.getVisualFromRenderableIndex(p):p,C=h>=0?y.getVisualFromRenderableIndex(h):h,P=t.instance.runHooks("modifyGetCellCoords",C,S,g);if(Array.isArray(P)){var B=_1(P,4),z=B[0],j=B[1],G=B[2],re=B[3];return[z>=0?y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex(z,1)):z,j>=0?w.getRenderableFromVisualIndex(w.getNearestNotHiddenIndex(j,1)):j,G>=0?y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex(G,-1)):G,re>=0?w.getRenderableFromVisualIndex(w.getNearestNotHiddenIndex(re,-1)):re]}},viewportRowCalculatorOverride:function(h){var p=t.settings.viewportRowRenderingOffset;if("auto"===p&&t.settings.fixedRowsTop&&(p=10),p>0||"auto"===p){var g=t.countRenderableRows(),y=h.startRow,w=h.endRow;if("number"==typeof p)h.startRow=Math.max(y-p,0),h.endRow=Math.min(w+p,g-1);else if("auto"===p){var S=Math.ceil(w/g*12);h.startRow=Math.max(y-S,0),h.endRow=Math.min(w+S,g-1)}}t.instance.runHooks("afterViewportRowCalculatorOverride",h)},viewportColumnCalculatorOverride:function(h){var p=t.settings.viewportColumnRenderingOffset;if("auto"===p&&t.settings.fixedColumnsStart&&(p=10),p>0||"auto"===p){var g=t.countRenderableColumns(),y=h.startColumn,w=h.endColumn;if("number"==typeof p&&(h.startColumn=Math.max(y-p,0),h.endColumn=Math.min(w+p,g-1)),"auto"===p){var S=Math.ceil(w/g*6);h.startColumn=Math.max(y-S,0),h.endColumn=Math.min(w+S,g-1)}}t.instance.runHooks("afterViewportColumnCalculatorOverride",h)},rowHeaderWidth:function(){return t.settings.rowHeaderWidth},columnHeaderHeight:function(){var h=t.instance.runHooks("modifyColumnHeaderHeight");return t.settings.columnHeaderHeight||h}};this.instance.runHooks("beforeInitWalkontable",i),this._wt=new B2e(i),this.activeWt=this._wt;var o=this._wt.wtTable.spreader,s=this.instance.rootElement.getBoundingClientRect();this.setLastSize(s.width,s.height),this.eventManager.addEventListener(o,"mousedown",function(c){c.target===o&&3===c.which&&c.stopPropagation()}),this.eventManager.addEventListener(o,"contextmenu",function(c){c.target===o&&3===c.which&&c.stopPropagation()}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"click",function(){t.settings.observeDOMVisibility&&t._wt.drawInterrupted&&(t.instance.forceFullRender=!0,t.render())})}},{key:"isTextSelectionAllowed",value:function(t){if(zL(t))return!0;var r=kb(t,this.instance.view._wt.wtTable.spreader);return!!(!0===this.settings.fragmentSelection&&r||"cell"===this.settings.fragmentSelection&&this.isSelectedOnlyCell()&&r||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}},{key:"isMouseDown",value:function(){return Ub.get(this).mouseDown}},{key:"isSelectedOnlyCell",value:function(){var t,r;return null!==(t=null===(r=this.instance.getSelectedRangeLast())||void 0===r?void 0:r.isSingle())&&void 0!==t&&t}},{key:"isCellEdited",value:function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()}},{key:"beforeRender",value:function(t,r){t&&this.instance.runHooks("beforeViewRender",this.instance.forceFullRender,r)}},{key:"afterRender",value:function(t){t&&this.instance.runHooks("afterViewRender",this.instance.forceFullRender)}},{key:"appendRowHeader",value:function(t,r){if(r.firstChild){var i=r.firstChild;if(!Ti(i,"relative"))return np(r),void this.appendRowHeader(t,r);this.updateCellHeader(i.querySelector(".rowHeader"),t,this.instance.getRowHeader)}else{var o=this.instance,s=o.rootDocument,a=o.getRowHeader,u=s.createElement("div"),c=s.createElement("span");u.className="relative",c.className="rowHeader",this.updateCellHeader(c,t,a),u.appendChild(c),r.appendChild(u)}this.instance.runHooks("afterGetRowHeader",t,r)}},{key:"appendColHeader",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.instance.getColHeader,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r.firstChild){var s=r.firstChild;Ti(s,"relative")?this.updateCellHeader(s.querySelector(".colHeader"),t,i):(np(r),this.appendColHeader(t,r,o))}else{var a=this.instance.rootDocument,u=a.createElement("div"),c=a.createElement("span");u.className="relative",c.className="colHeader",this.updateCellHeader(c,t,i),u.appendChild(c),r.appendChild(u)}this.instance.runHooks("afterGetColHeader",t,r,o)}},{key:"updateCellHeader",value:function(t,r,i){var o=r,s=this._wt.wtOverlays.getParentOverlay(t)||this._wt;t.parentNode&&(Ti(t,"colHeader")?o=s.wtTable.columnFilter.sourceToRendered(r):Ti(t,"rowHeader")&&(o=s.wtTable.rowFilter.sourceToRendered(r))),o>-1?US(t,i(r)):(Pb(t,String.fromCharCode(160)),An(t,"cornerHeader"))}},{key:"maximumVisibleElementWidth",value:function(t){var i=this._wt.wtViewport.getWorkspaceWidth()-t;return i>0?i:0}},{key:"maximumVisibleElementHeight",value:function(t){var i=this._wt.wtViewport.getWorkspaceHeight()-t;return i>0?i:0}},{key:"setLastSize",value:function(t,r){var i=Ub.get(this),o=[t,r];i.lastWidth=o[0],i.lastHeight=o[1]}},{key:"getLastSize",value:function(){var t=Ub.get(this);return{width:t.lastWidth,height:t.lastHeight}}},{key:"getFirstFullyVisibleRow",value:function(){return this.instance.rowIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getFirstVisibleRow())}},{key:"getLastFullyVisibleRow",value:function(){return this.instance.rowIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getLastVisibleRow())}},{key:"getFirstFullyVisibleColumn",value:function(){return this.instance.columnIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getFirstVisibleColumn())}},{key:"getLastFullyVisibleColumn",value:function(){return this.instance.columnIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getLastVisibleColumn())}},{key:"destroy",value:function(){this._wt.destroy(),this.eventManager.destroy()}}]),n}();var b1=eh("cellTypes"),eFe=b1.register,tFe=b1.getItem,bne=b1.hasItem;function wne(n){if(!bne(n))throw Error('You declared cell type "'.concat(n,'" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by\n                 "Handsontable.cellTypes.registerCellType" method'));return tFe(n)}function ap(n,e){"string"!=typeof n&&(n=(e=n).CELL_TYPE);var r=e.editor,i=e.renderer,o=e.validator;r&&hd(n,r),i&&Lm(n,i),o&&m1(n,o),eFe(n,e)}function _U(n){return(_U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var bU="ABCDEFGHIJKLMNOPQRSTUVWXYZ".length;function wU(n){for(var r,e=n+1,t="";e>0;)r=(e-1)%bU,t=String.fromCharCode(65+r)+t,e=parseInt((e-r)/bU,10);return t}function xP(n,e){var t=void 0===e||e;return function(i,o){return function s(a){if(a){if(Hs(a,n)&&void 0!==a[n])return a[n];if(Hs(a,"type")&&a.type){if("string"!=typeof a.type)throw new Error('Cell "type" must be a string');var u=wne(a.type);if(Hs(u,n))return u[n];if(t)return}return s(Object.getPrototypeOf(a))}}("number"==typeof i?this.getCellMeta(i,o):i)}}function Sne(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=n,r=[];return(!Array.isArray(n)||!Array.isArray(n[0]))&&(t=[n]),t.forEach(function(i,o){Array.isArray(i)?i.forEach(function(s,a){r.push([o+e,a,s])}):Object.keys(i).forEach(function(s){r.push([o+e,s,i[s]])})}),r}function xne(n){var e=0;return Array.isArray(n)&&(n[0]&&Array.isArray(n[0])?e=n[0].length:n[0]&&$i(n[0])&&(e=HV(n[0]))),e}function iFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Cne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const aFe=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];iFe(this,n),this.hot=e,this.data=t,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}return function oFe(n,e,t){e&&Cne(n.prototype,e),t&&Cne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"modifyRowData",value:function(t){var r;return this.hot.hasHook("modifyRowData")&&(r=this.hot.runHooks("modifyRowData",t)),void 0===r||Number.isInteger(r)?this.data[t]:r}},{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.data&&0!==this.data.length?this.getByRange(null,null,t):this.data}},{key:"setData",value:function(t){this.data=t}},{key:"getAtColumn",value:function(t){var r=this,i=[];return it(this.data,function(o,s){var a=r.getAtCell(s,t);i.push(a)}),i}},{key:"getAtRow",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=void 0===r&&void 0===i,u=null,c=null;if(u=this.modifyRowData(t),Array.isArray(u))c=[],a?u.forEach(function(g,y){c[y]=o.getAtPhysicalCell(t,y,u)}):Hr(r,i,function(g){c[g-r]=o.getAtPhysicalCell(t,g,u)});else if($i(u)||Ts(u))if(c=s?[]:{},!a||s){var h=0,p=this.countFirstRowKeys()-1;Hr(h,p,function(g){var y=o.colToProp(g);if(g>=(r||h)&&g<=(i||p)&&!Number.isInteger(y)){var w=o.getAtPhysicalCell(t,y,u);s?c.push(w):FV(c,y,w)}})}else ao(u,function(g,y){FV(c,y,o.getAtPhysicalCell(t,y,u))});return c}},{key:"setAtCell",value:function(t,r,i){if(!(t>=this.countRows()||r>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){var o=VS(i);this.hot.runHooks("modifySourceData",t,this.propToCol(r),o,"set"),o.isTouched()&&(i=o.value)}Number.isInteger(r)?this.data[t][r]=i:FV(this.data[t],r,i)}}},{key:"getAtPhysicalCell",value:function(t,r,i){var o=null;if(i&&(o="string"==typeof r?function rOe(n,e){var t=e.split("."),r=n;return ao(t,function(i){if(void 0===(r=r[i]))return r=void 0,!1}),r}(i,r):"function"==typeof r?r(i):i[r]),this.hot.hasHook("modifySourceData")){var s=VS(o);this.hot.runHooks("modifySourceData",t,this.colToProp(r),s,"get"),s.isTouched()&&(o=s.value)}return o}},{key:"getAtCell",value:function(t,r){var i=this.modifyRowData(t);return this.getAtPhysicalCell(t,this.colToProp(r),i)}},{key:"getByRange",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!1,a=null,u=null,c=null,h=null;null===r||null===i?(s=!0,a=0,c=this.countRows()-1):(a=Math.min(r.row,i.row),u=Math.min(r.col,i.col),c=Math.max(r.row,i.row),h=Math.max(r.col,i.col));var p=[];return Hr(a,c,function(g){p.push(s?t.getAtRow(g,void 0,void 0,o):t.getAtRow(g,u,h,o))}),p}},{key:"countRows",value:function(){if(this.hot.hasHook("modifySourceLength")){var t=this.hot.runHooks("modifySourceLength");if(Number.isInteger(t))return t}return this.data.length}},{key:"countFirstRowKeys",value:function(){return xne(this.data)}},{key:"destroy",value:function(){this.data=null,this.hot=null}}]),n}();b(6590),b(5379);var Ene={_localHooks:Object.create(null),addLocalHook:function(e,t){return this._localHooks[e]||(this._localHooks[e]=[]),this._localHooks[e].push(t),this},runLocalHooks:function(e,t,r,i,o,s,a){if(this._localHooks[e])for(var u=this._localHooks[e].length,c=0;c<u;c++)JV(this._localHooks[e][c],this,t,r,i,o,s,a)},clearLocalHooks:function(){return this._localHooks={},this}};Om(Ene,"MIXIN_NAME","localHooks",{writable:!1,enumerable:!1});const Rc=Ene;function uFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var jb=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;uFe(this,n),this.indexedValues=[],this.initValueOrFn=e}return function cFe(n,e,t){e&&Tne(n.prototype,e),t&&Tne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getValues",value:function(){return this.indexedValues}},{key:"getValueAtIndex",value:function(t){var r=this.indexedValues;if(t<r.length)return r[t]}},{key:"setValues",value:function(t){this.indexedValues=t.slice(),this.runLocalHooks("change")}},{key:"setValueAtIndex",value:function(t,r){return t<this.indexedValues.length&&(this.indexedValues[t]=r,this.runLocalHooks("change"),!0)}},{key:"clear",value:function(){this.setDefaultValues()}},{key:"getLength",value:function(){return this.getValues().length}},{key:"setDefaultValues",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,Ts(this.initValueOrFn)?Hr(r-1,function(i){return t.indexedValues.push(t.initValueOrFn(i))}):Hr(r-1,function(){return t.indexedValues.push(t.initValueOrFn)}),this.runLocalHooks("change")}},{key:"init",value:function(t){return this.setDefaultValues(t),this.runLocalHooks("init"),this}},{key:"insert",value:function(){this.runLocalHooks("change")}},{key:"remove",value:function(){this.runLocalHooks("change")}},{key:"destroy",value:function(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}]),n}();function MU(n){return function pFe(n){if(Array.isArray(n))return SU(n)}(n)||function fFe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function hFe(n,e){if(n){if("string"==typeof n)return SU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return SU(n,e)}}(n)||function dFe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function xU(n,e,t,r){var i=t.length?t[0]:void 0;return[].concat(MU(n.slice(0,i)),MU(t.map(function(o,s){return Ts(r)?r(o,s):r})),MU(void 0===i?[]:n.slice(i)))}function CU(n,e){return Qd(n,function(t,r){return!1===e.includes(r)})}function EU(n){return(EU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function mFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Rne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function w1(){return w1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=vFe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},w1.apply(this,arguments)}function vFe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Wb(n)););return n}function TU(n,e){return(TU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function bFe(n,e){if(e&&("object"===EU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function wFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Wb(n){return(Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}ws(jb,Rc);var iy=function(n){!function yFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&TU(n,e)}(t,n);var e=function _Fe(n){var e=function MFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Wb(n);if(e){var o=Wb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bFe(this,i)}}(t);function t(){return mFe(this,t),e.apply(this,arguments)}return function gFe(n,e,t){e&&Rne(n.prototype,e),t&&Rne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){this.indexedValues=xU(this.indexedValues,0,o,this.initValueOrFn),w1(Wb(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=CU(this.indexedValues,i),w1(Wb(t.prototype),"remove",this).call(this,i)}}]),t}(jb);function RU(n){return(RU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function SFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Dne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function DU(n,e){return(DU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function TFe(n,e){if(e&&("object"===RU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function RFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function CP(n){return(CP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var EP=function(n){!function CFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&DU(n,e)}(t,n);var e=function EFe(n){var e=function DFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=CP(n);if(e){var o=CP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return TFe(this,i)}}(t);function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return SFe(this,t),e.call(this,r)}return function xFe(n,e,t){e&&Dne(n.prototype,e),t&&Dne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getHiddenIndexes",value:function(){return Ya(this.getValues(),function(i,o,s){return o&&i.push(s),i},[])}}]),t}(iy);function AU(n){return function LFe(n){if(Array.isArray(n))return OU(n)}(n)||function kFe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function OFe(n,e){if(n){if("string"==typeof n)return OU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OU(n,e)}}(n)||function AFe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function kU(n,e,t){return[].concat(AU(n.slice(0,e)),AU(t),AU(n.slice(e)))}function M1(n,e){return Qd(n,function(t){return!1===e.includes(t)})}function LU(n,e){return to(n,function(t){return t-e.filter(function(r){return r<t}).length})}function PU(n,e){var t=e[0],r=e.length;return to(n,function(i){return i>=t?i+r:i})}function IU(n){return(IU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function NU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function BFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ane(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Pm(){return Pm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=zFe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Pm.apply(this,arguments)}function zFe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=af(n)););return n}function FU(n,e){return(FU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function WFe(n,e){if(e&&("object"===IU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return One(n)}function One(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function af(n){return(af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function GFe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var TP=function(n){!function UFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&FU(n,e)}(t,n);var e=function jFe(n){var e=function YFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=af(n);if(e){var o=af(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return WFe(this,i)}}(t);function t(){var r;BFe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return GFe(One(r=e.call.apply(e,[this].concat(o))),"orderOfIndexes",[]),r}return function VFe(n,e,t){e&&Ane(n.prototype,e),t&&Ane(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValues",value:function(){var i=this;return this.orderOfIndexes.map(function(o){return i.indexedValues[o]})}},{key:"setValues",value:function(i){this.orderOfIndexes=function PFe(n){return function HFe(n){if(Array.isArray(n))return NU(n)}(n)||function FFe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function NFe(n,e){if(n){if("string"==typeof n)return NU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return NU(n,e)}}(n)||function IFe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(i.length).keys()),Pm(af(t.prototype),"setValues",this).call(this,i)}},{key:"setValueAtIndex",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.orderOfIndexes.length;return i<this.indexedValues.length&&(this.indexedValues[i]=o,!1===this.orderOfIndexes.includes(i)&&this.orderOfIndexes.splice(s,0,i),this.runLocalHooks("change"),!0)}},{key:"clearValue",value:function(i){this.orderOfIndexes=M1(this.orderOfIndexes,[i]),Ts(this.initValueOrFn)?Pm(af(t.prototype),"setValueAtIndex",this).call(this,i,this.initValueOrFn(i)):Pm(af(t.prototype),"setValueAtIndex",this).call(this,i,this.initValueOrFn)}},{key:"getLength",value:function(){return this.orderOfIndexes.length}},{key:"setDefaultValues",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,Pm(af(t.prototype),"setDefaultValues",this).call(this,i)}},{key:"insert",value:function(i,o){this.indexedValues=xU(this.indexedValues,0,o,this.initValueOrFn),this.orderOfIndexes=PU(this.orderOfIndexes,o),Pm(af(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=CU(this.indexedValues,i),this.orderOfIndexes=M1(this.orderOfIndexes,i),this.orderOfIndexes=LU(this.orderOfIndexes,i),Pm(af(t.prototype),"remove",this).call(this,i)}},{key:"getEntries",value:function(){var i=this;return this.orderOfIndexes.map(function(o){return[o,i.getValueAtIndex(o)]})}}]),t}(jb);function HU(n){return(HU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function $Fe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function kne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function BU(n,e){return(BU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function qFe(n,e){if(e&&("object"===HU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function JFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function RP(n){return(RP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var S1=function(n){!function KFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&BU(n,e)}(t,n);var e=function ZFe(n){var e=function QFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=RP(n);if(e){var o=RP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return qFe(this,i)}}(t);function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return $Fe(this,t),e.call(this,r)}return function XFe(n,e,t){e&&kne(n.prototype,e),t&&kne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getTrimmedIndexes",value:function(){return Ya(this.getValues(),function(i,o,s){return o&&i.push(s),i},[])}}]),t}(iy),Lne=new Map([["hiding",EP],["index",jb],["linkedPhysicalIndexToValue",TP],["physicalIndexToValue",iy],["trimming",S1]]);function VU(n){return(VU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Pne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function x1(){return x1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=rHe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},x1.apply(this,arguments)}function rHe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Yb(n)););return n}function zU(n,e){return(zU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function sHe(n,e){if(e&&("object"===VU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function aHe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Yb(n){return(Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Ine=function(n){!function iHe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&zU(n,e)}(t,n);var e=function oHe(n){var e=function lHe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Yb(n);if(e){var o=Yb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return sHe(this,i)}}(t);function t(){return function tHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function nHe(n,e,t){e&&Pne(n.prototype,e),t&&Pne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=PU(this.indexedValues,o);this.indexedValues=kU(s,i,o),x1(Yb(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){var o=M1(this.indexedValues,i);this.indexedValues=LU(o,i),x1(Yb(t.prototype),"remove",this).call(this,i)}}]),t}(jb);function Nne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var jU=function(){function n(){(function uHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.collection=new Map}return function cHe(n,e,t){e&&Nne(n.prototype,e),t&&Nne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"register",value:function(t,r){var i=this;!1===this.collection.has(t)&&(this.collection.set(t,r),r.addLocalHook("change",function(){return i.runLocalHooks("change",r)}))}},{key:"unregister",value:function(t){var r=this.collection.get(t);wr(r)&&(r.destroy(),this.collection.delete(t),this.runLocalHooks("change",r))}},{key:"unregisterAll",value:function(){var t=this;this.collection.forEach(function(r,i){return t.unregister(i)}),this.collection.clear()}},{key:"get",value:function(t){return Bs(t)?Array.from(this.collection.values()):this.collection.get(t)}},{key:"getLength",value:function(){return this.collection.size}},{key:"removeFromEvery",value:function(t){this.collection.forEach(function(r){r.remove(t)})}},{key:"insertToEvery",value:function(t,r){this.collection.forEach(function(i){i.insert(t,r)})}},{key:"initEvery",value:function(t){this.collection.forEach(function(r){r.init(t)})}}]),n}();function WU(n){return(WU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Fne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function YU(n,e){return(YU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function mHe(n,e){if(e&&("object"===WU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function gHe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function DP(n){return(DP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}ws(jU,Rc);var Hne=function(n){!function fHe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&YU(n,e)}(t,n);var e=function pHe(n){var e=function vHe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=DP(n);if(e){var o=DP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return mHe(this,i)}}(t);function t(r,i){var o;return function dHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this)).mergedValuesCache=[],o.aggregationFunction=r,o.fallbackValue=i,o}return function hHe(n,e,t){e&&Fne(n.prototype,e),t&&Fne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getMergedValues",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===i)return this.mergedValuesCache;if(0===this.getLength())return[];for(var o=to(this.get(),function(p){return p.getValues()}),s=[],a=wr(o[0])&&o[0].length||0,u=0;u<a;u+=1){for(var c=[],h=0;h<this.getLength();h+=1)c.push(o[h][u]);s.push(c)}return to(s,this.aggregationFunction)}},{key:"getMergedValueAtIndex",value:function(i,o){var s=this.getMergedValues(o)[i];return wr(s)?s:this.fallbackValue}},{key:"updateCache",value:function(){this.mergedValuesCache=this.getMergedValues(!1)}}]),t}(jU);function Bne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Vne(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var GU=new WeakMap,zne=function(){function n(){(function yHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function bHe(n,e,t){(function wHe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}(this,GU,{writable:!0,value:[]})}return function _He(n,e,t){e&&Bne(n.prototype,e),t&&Bne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"subscribe",value:function(t){return this.addLocalHook("change",t),this._write(function xHe(n,e){return function CHe(n,e){return e.get?e.get.call(n):e.value}(n,Vne(n,e,"get"))}(this,GU)),this}},{key:"unsubscribe",value:function(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}},{key:"_write",value:function(t){return t.length>0&&this.runLocalHooks("change",t),this}},{key:"_writeInitialChanges",value:function(t){!function MHe(n,e,t){return function SHe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Vne(n,e,"set"),t),t}(this,GU,t)}}]),n}();function Une(n,e){for(var t=[],r=0,i=0;r<n.length&&i<e.length;r++,i++)n[r]!==e[i]&&t.push({op:"replace",index:i,oldValue:n[r],newValue:e[i]});for(;r<e.length;r++)t.push({op:"insert",index:r,oldValue:void 0,newValue:e[r]});for(;i<n.length;i++)t.push({op:"remove",index:i,oldValue:n[i],newValue:void 0});return t}function EHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function C1(n,e,t){(function RHe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function ih(n,e){return function DHe(n,e){return e.get?e.get.call(n):e.value}(n,Wne(n,e,"get"))}function AP(n,e,t){return function AHe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Wne(n,e,"set"),t),t}function Wne(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}ws(zne,Rc);var Yne,OP=new WeakMap,E1=new WeakMap,kP=new WeakMap,LP=new WeakMap,PP=new WeakMap,OHe=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialIndexValue;EHe(this,n),C1(this,OP,{writable:!0,value:new Set}),C1(this,E1,{writable:!0,value:[]}),C1(this,kP,{writable:!0,value:[]}),C1(this,LP,{writable:!0,value:!1}),C1(this,PP,{writable:!0,value:!1}),AP(this,PP,null!=t&&t)}return function THe(n,e,t){e&&jne(n.prototype,e),t&&jne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createObserver",value:function(){var t=this,r=new zne;return ih(this,OP).add(r),r.addLocalHook("unsubscribe",function(){ih(t,OP).delete(r)}),r._writeInitialChanges(Une(ih(this,E1),ih(this,kP))),r}},{key:"emit",value:function(t){var r=ih(this,kP);(!ih(this,LP)||ih(this,E1).length!==t.length)&&(0===t.length?t=new Array(r.length).fill(ih(this,PP)):AP(this,E1,new Array(t.length).fill(ih(this,PP))),ih(this,LP)||(AP(this,LP,!0),r=ih(this,E1)));var i=Une(r,t);ih(this,OP).forEach(function(o){return o._write(i)}),AP(this,kP,t)}}]),n}();function $U(n){return function IHe(n){if(Array.isArray(n))return XU(n)}(n)||function PHe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function LHe(n,e){if(n){if("string"==typeof n)return XU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return XU(n,e)}}(n)||function kHe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function NHe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Gne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Xne,$ne=new Set(["getFirstNotHiddenIndex"]),KU=function(){function n(){var e=this;(function FHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.indexesSequence=new Ine,this.trimmingMapsCollection=new Hne(function(t){return t.some(function(r){return!0===r})},!1),this.hidingMapsCollection=new Hne(function(t){return t.some(function(r){return!0===r})},!1),this.variousMapsCollection=new jU,this.hidingChangesObservable=new OHe({initialIndexValue:!1}),this.notTrimmedIndexesCache=[],this.notHiddenIndexesCache=[],this.isBatched=!1,this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1,this.renderablePhysicalIndexesCache=[],this.fromPhysicalToVisualIndexesCache=new Map,this.fromVisualToRenderableIndexesCache=new Map,this.indexesSequence.addLocalHook("change",function(){e.indexesSequenceChanged=!0,e.updateCache(),e.runLocalHooks("change",e.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",function(t){e.trimmedIndexesChanged=!0,e.updateCache(),e.runLocalHooks("change",t,e.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",function(t){e.hiddenIndexesChanged=!0,e.updateCache(),e.runLocalHooks("change",t,e.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",function(t){e.runLocalHooks("change",t,e.variousMapsCollection)})}return function HHe(n,e,t){e&&Gne(n.prototype,e),t&&Gne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"suspendOperations",value:function(){this.isBatched=!0}},{key:"resumeOperations",value:function(){this.isBatched=!1,this.updateCache()}},{key:"createChangesObserver",value:function(t){if("hiding"!==t)throw new Error('Unsupported index map type "'.concat(t,'".'));return this.hidingChangesObservable.createObserver()}},{key:"createAndRegisterIndexMap",value:function(t,r,i){return this.registerMap(t,function eHe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Lne.has(n))throw new Error('The provided map type ("'.concat(n,'") does not exist.'));return new(Lne.get(n))(e)}(r,i))}},{key:"registerMap",value:function(t,r){if(this.trimmingMapsCollection.get(t)||this.hidingMapsCollection.get(t)||this.variousMapsCollection.get(t))throw Error('Map with name "'.concat(t,'" has been already registered.'));r instanceof S1?this.trimmingMapsCollection.register(t,r):r instanceof EP?this.hidingMapsCollection.register(t,r):this.variousMapsCollection.register(t,r);var i=this.getNumberOfIndexes();return i>0&&r.init(i),r}},{key:"unregisterMap",value:function(t){this.trimmingMapsCollection.unregister(t),this.hidingMapsCollection.unregister(t),this.variousMapsCollection.unregister(t)}},{key:"unregisterAll",value:function(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}},{key:"getPhysicalFromVisualIndex",value:function(t){var r=this.notTrimmedIndexesCache[t];return wr(r)?r:null}},{key:"getPhysicalFromRenderableIndex",value:function(t){var r=this.renderablePhysicalIndexesCache[t];return wr(r)?r:null}},{key:"getVisualFromPhysicalIndex",value:function(t){var r=this.fromPhysicalToVisualIndexesCache.get(t);return wr(r)?r:null}},{key:"getVisualFromRenderableIndex",value:function(t){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(t))}},{key:"getRenderableFromVisualIndex",value:function(t){var r=this.fromVisualToRenderableIndexesCache.get(t);return wr(r)?r:null}},{key:"getFirstNotHiddenIndex",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t-r;$ne.has("getFirstNotHiddenIndex")&&($ne.delete("getFirstNotHiddenIndex"),ps(is(Yne||(Yne=NHe(['The method "getFirstNotHiddenIndex" is deprecated and will be removed in the next \n                        major release. Please use "getNearestNotHiddenIndex" instead.'],['The method "getFirstNotHiddenIndex" is deprecated and will be removed in the next\\x20\n                        major release. Please use "getNearestNotHiddenIndex" instead.'])))));var s=this.getPhysicalFromVisualIndex(t);return null===s?!0===i&&o!==t-r?this.getFirstNotHiddenIndex(o,-r,!1,o):null:!1===this.isHidden(s)?t:this.getFirstNotHiddenIndex(t+r,r,i,o)}},{key:"getNearestNotHiddenIndex",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.getPhysicalFromVisualIndex(t);if(null===o)return null;if(this.fromVisualToRenderableIndexesCache.has(t))return t;var s=Array.from(this.fromVisualToRenderableIndexesCache.keys()),a=-1;return-1===(a=r>0?s.findIndex(function(u){return u>t}):s.reverse().findIndex(function(u){return u<t}))?i?this.getNearestNotHiddenIndex(t,-r,!1):null:s[a]}},{key:"initToLength",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=$U(new Array(t).keys()),this.notHiddenIndexesCache=$U(new Array(t).keys()),this.suspendOperations(),this.indexesSequence.init(t),this.trimmingMapsCollection.initEvery(t),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(t),this.variousMapsCollection.initEvery(t),this.resumeOperations(),this.runLocalHooks("init")}},{key:"fitToLength",value:function(t){var r=this.getNumberOfIndexes();if(t<r){var i=$U(Array(this.getNumberOfIndexes()-t).keys()).map(function(o){return o+t});this.removeIndexes(i)}else this.insertIndexes(r,t-r)}},{key:"getIndexesSequence",value:function(){return this.indexesSequence.getValues()}},{key:"setIndexesSequence",value:function(t){this.indexesSequence.setValues(t)}},{key:"getNotTrimmedIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.notTrimmedIndexesCache;var i=this.getIndexesSequence();return i.filter(function(o){return!1===t.isTrimmed(o)})}},{key:"getNotTrimmedIndexesLength",value:function(){return this.getNotTrimmedIndexes().length}},{key:"getNotHiddenIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.notHiddenIndexesCache;var i=this.getIndexesSequence();return i.filter(function(o){return!1===t.isHidden(o)})}},{key:"getNotHiddenIndexesLength",value:function(){return this.getNotHiddenIndexes().length}},{key:"getRenderableIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.renderablePhysicalIndexesCache;var i=this.getNotTrimmedIndexes();return i.filter(function(o){return!1===t.isHidden(o)})}},{key:"getRenderableIndexesLength",value:function(){return this.getRenderableIndexes().length}},{key:"getNumberOfIndexes",value:function(){return this.getIndexesSequence().length}},{key:"moveIndexes",value:function(t,r){var i=this;"number"==typeof t&&(t=[t]);var o=to(t,function(p){return i.getPhysicalFromVisualIndex(p)}),s=this.getNotTrimmedIndexesLength(),a=t.length,u=M1(this.getIndexesSequence(),o),c=s-a;if(r+a<s){var h=u.filter(function(p){return!1===i.isTrimmed(p)})[r];c=u.indexOf(h)}this.setIndexesSequence(kU(u,c,o))}},{key:"isTrimmed",value:function(t){return this.trimmingMapsCollection.getMergedValueAtIndex(t)}},{key:"isHidden",value:function(t){return this.hidingMapsCollection.getMergedValueAtIndex(t)}},{key:"insertIndexes",value:function(t,r){var i=this.getNotTrimmedIndexes()[t],o=wr(i)?i:this.getNumberOfIndexes(),s=this.getIndexesSequence().includes(i)?this.getIndexesSequence().indexOf(i):this.getNumberOfIndexes(),a=to(new Array(r).fill(o),function(u,c){return u+c});this.suspendOperations(),this.indexesSequence.insert(s,a),this.trimmingMapsCollection.insertToEvery(s,a),this.hidingMapsCollection.insertToEvery(s,a),this.variousMapsCollection.insertToEvery(s,a),this.resumeOperations()}},{key:"removeIndexes",value:function(t){this.suspendOperations(),this.indexesSequence.remove(t),this.trimmingMapsCollection.removeFromEvery(t),this.hidingMapsCollection.removeFromEvery(t),this.variousMapsCollection.removeFromEvery(t),this.resumeOperations()}},{key:"updateCache",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(!0===t||!1===this.isBatched&&!0===r)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}},{key:"cacheFromPhysicalToVisualIndexes",value:function(){var t=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(var r=0;r<t;r+=1){var i=this.getPhysicalFromVisualIndex(r);this.fromPhysicalToVisualIndexesCache.set(i,r)}}},{key:"cacheFromVisualToRenderableIndexes",value:function(){var t=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(var r=0;r<t;r+=1){var i=this.getPhysicalFromRenderableIndex(r),o=this.getVisualFromPhysicalIndex(i);this.fromVisualToRenderableIndexesCache.set(o,r)}}}]),n}();function Kne(n){var t=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(n);return t?"".concat(t[1].toLowerCase(),"-").concat(t[2].toUpperCase()):n}function Zne(n){wr(n)&&QV(is(Xne||(Xne=function BHe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'],['Language with code "','" was not found. You should register particular language\\x20\n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'])),n))}ws(KU,Rc);var qne=eh("phraseFormatters"),UHe=qne.register,jHe=qne.getValues;!function WHe(n,e){UHe(n,e)}("pluralize",function zHe(n,e){return Array.isArray(n)&&Number.isInteger(e)?n[e]:n});var lr,Xi="ContextMenu:items",ZU="".concat(Xi,".noItems"),qU="".concat(Xi,".insertRowAbove"),JU="".concat(Xi,".insertRowBelow"),QU="".concat(Xi,".insertColumnOnTheLeft"),ej="".concat(Xi,".insertColumnOnTheRight"),tj="".concat(Xi,".removeRow"),nj="".concat(Xi,".removeColumn"),rj="".concat(Xi,".undo"),ij="".concat(Xi,".redo"),oj="".concat(Xi,".readOnly"),sj="".concat(Xi,".clearColumn"),aj="".concat(Xi,".copy"),lj="".concat(Xi,".cut"),uj="".concat(Xi,".freezeColumn"),cj="".concat(Xi,".unfreezeColumn"),dj="".concat(Xi,".mergeCells"),hj="".concat(Xi,".unmergeCells"),fj="".concat(Xi,".addComment"),pj="".concat(Xi,".editComment"),mj="".concat(Xi,".removeComment"),gj="".concat(Xi,".readOnlyComment"),vj="".concat(Xi,".align"),yj="".concat(Xi,".align.left"),_j="".concat(Xi,".align.center"),bj="".concat(Xi,".align.right"),wj="".concat(Xi,".align.justify"),Mj="".concat(Xi,".align.top"),Sj="".concat(Xi,".align.middle"),xj="".concat(Xi,".align.bottom"),Cj="".concat(Xi,".borders"),Ej="".concat(Xi,".borders.top"),Tj="".concat(Xi,".borders.right"),Rj="".concat(Xi,".borders.bottom"),Dj="".concat(Xi,".borders.left"),Aj="".concat(Xi,".borders.remove"),Oj="".concat(Xi,".nestedHeaders.insertChildRow"),kj="".concat(Xi,".nestedHeaders.detachFromParent"),Lj="".concat(Xi,".hideColumn"),Pj="".concat(Xi,".showColumn"),Ij="".concat(Xi,".hideRow"),Nj="".concat(Xi,".showRow"),Gu="Filters:",oa="".concat(Gu,"conditions"),IP="".concat(oa,".none"),Fj="".concat(oa,".isEmpty"),Hj="".concat(oa,".isNotEmpty"),Bj="".concat(oa,".isEqualTo"),Vj="".concat(oa,".isNotEqualTo"),zj="".concat(oa,".beginsWith"),Uj="".concat(oa,".endsWith"),jj="".concat(oa,".contains"),Wj="".concat(oa,".doesNotContain"),GHe="".concat(oa,".byValue"),Yj="".concat(oa,".greaterThan"),Gj="".concat(oa,".greaterThanOrEqualTo"),$j="".concat(oa,".lessThan"),Xj="".concat(oa,".lessThanOrEqualTo"),Kj="".concat(oa,".isBetween"),Zj="".concat(oa,".isNotBetween"),qj="".concat(oa,".after"),Jj="".concat(oa,".before"),Qj="".concat(oa,".today"),e4="".concat(oa,".tomorrow"),t4="".concat(oa,".yesterday"),n4="".concat(Gu,"labels.filterByCondition"),r4="".concat(Gu,"labels.filterByValue"),o4="".concat(Gu,"labels.conjunction"),NP="".concat(Gu,"labels.disjunction"),FP="".concat(Gu,"values.blankCells"),s4="".concat(Gu,"buttons.selectAll"),a4="".concat(Gu,"buttons.clear"),l4="".concat(Gu,"buttons.ok"),u4="".concat(Gu,"buttons.cancel"),c4="".concat(Gu,"buttons.placeholder.search"),d4="".concat(Gu,"buttons.placeholder.value"),h4="".concat(Gu,"buttons.placeholder.secondValue");function mr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Jne=(mr(lr={languageCode:"en-US"},ZU,"No available options"),mr(lr,qU,"Insert row above"),mr(lr,JU,"Insert row below"),mr(lr,QU,"Insert column left"),mr(lr,ej,"Insert column right"),mr(lr,tj,["Remove row","Remove rows"]),mr(lr,nj,["Remove column","Remove columns"]),mr(lr,rj,"Undo"),mr(lr,ij,"Redo"),mr(lr,oj,"Read only"),mr(lr,sj,"Clear column"),mr(lr,vj,"Alignment"),mr(lr,yj,"Left"),mr(lr,_j,"Center"),mr(lr,bj,"Right"),mr(lr,wj,"Justify"),mr(lr,Mj,"Top"),mr(lr,Sj,"Middle"),mr(lr,xj,"Bottom"),mr(lr,uj,"Freeze column"),mr(lr,cj,"Unfreeze column"),mr(lr,Cj,"Borders"),mr(lr,Ej,"Top"),mr(lr,Tj,"Right"),mr(lr,Rj,"Bottom"),mr(lr,Dj,"Left"),mr(lr,Aj,"Remove border(s)"),mr(lr,fj,"Add comment"),mr(lr,pj,"Edit comment"),mr(lr,mj,"Delete comment"),mr(lr,gj,"Read-only comment"),mr(lr,dj,"Merge cells"),mr(lr,hj,"Unmerge cells"),mr(lr,aj,"Copy"),mr(lr,lj,"Cut"),mr(lr,Oj,"Insert child row"),mr(lr,kj,"Detach from parent"),mr(lr,Lj,["Hide column","Hide columns"]),mr(lr,Pj,["Show column","Show columns"]),mr(lr,Ij,["Hide row","Hide rows"]),mr(lr,Nj,["Show row","Show rows"]),mr(lr,IP,"None"),mr(lr,Fj,"Is empty"),mr(lr,Hj,"Is not empty"),mr(lr,Bj,"Is equal to"),mr(lr,Vj,"Is not equal to"),mr(lr,zj,"Begins with"),mr(lr,Uj,"Ends with"),mr(lr,jj,"Contains"),mr(lr,Wj,"Does not contain"),mr(lr,Yj,"Greater than"),mr(lr,Gj,"Greater than or equal to"),mr(lr,$j,"Less than"),mr(lr,Xj,"Less than or equal to"),mr(lr,Kj,"Is between"),mr(lr,Zj,"Is not between"),mr(lr,qj,"After"),mr(lr,Jj,"Before"),mr(lr,Qj,"Today"),mr(lr,e4,"Tomorrow"),mr(lr,t4,"Yesterday"),mr(lr,FP,"Blank cells"),mr(lr,n4,"Filter by condition"),mr(lr,r4,"Filter by value"),mr(lr,o4,"And"),mr(lr,NP,"Or"),mr(lr,s4,"Select all"),mr(lr,a4,"Clear"),mr(lr,l4,"OK"),mr(lr,u4,"Cancel"),mr(lr,c4,"Search"),mr(lr,d4,"Value"),mr(lr,h4,"Second value"),lr);var f4=Jne.languageCode,HP=eh("languagesDictionaries"),XHe=HP.register,Qne=HP.getItem,KHe=HP.hasItem,ZHe=HP.getValues;function ere(n,e){var t=n,r=e;return $i(n)&&(t=(r=n).languageCode),function qHe(n,e){n!==f4&&function VHe(n,e){ao(e,function(t,r){Bs(n[r])&&(n[r]=t)})}(e,Qne(f4))}(t,r),XHe(t,Yu(r)),Yu(r)}function tre(n){return p4(n)?Yu(Qne(n)):null}function p4(n){return KHe(n)}function nre(n,e,t){var r=tre(n);if(null===r)return null;var i=r[e];if(Bs(i))return null;var o=function QHe(n,e){var t=n;return it(function YHe(){return jHe()}(),function(r){t=r(n,e)}),t}(i,t);return Array.isArray(o)?o[0]:o}function e3e(n){var e=Kne(n);return p4(e)||(e=f4,Zne(n)),e}ere(Jne),b(171);var BP="active-header",VP="area",T1="cell",m4="fill",R1="header",g4="custom-selection";function v4(n,e){return function i3e(n){if(Array.isArray(n))return n}(n)||function r3e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function n3e(n,e){if(n){if("string"==typeof n)return rre(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rre(n,e)}}(n,e)||function t3e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rre(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ire(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(2885);const l3e=function(){function n(e,t){(function o3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),t&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=t,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle={width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"},this.cornerCenterPointOffset=-parseInt(this.cornerDefaultStyle.width,10)/2,this.corner=null,this.cornerStyle=null,this.createBorders(t),this.registerListeners())}return function s3e(n,e,t){e&&ire(n.prototype,e),t&&ire(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerListeners",value:function(){var t=this,r=this.wot.rootDocument.body;this.eventManager.addEventListener(r,"mousedown",function(){return t.onMouseDown()}),this.eventManager.addEventListener(r,"mouseup",function(){return t.onMouseUp()});for(var i=function(u,c){t.eventManager.addEventListener(t.main.childNodes[u],"mouseenter",function(p){return t.onMouseEnter(p,t.main.childNodes[u])})},o=0,s=this.main.childNodes.length;o<s;o++)i(o)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(t,r){if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){t.preventDefault(),rp(t);var i=this,o=this.wot.rootDocument.body,s=r.getBoundingClientRect();r.style.display="none",this.eventManager.addEventListener(o,"mousemove",function u(c){(function a(c){if(c.clientY<Math.floor(s.top)||c.clientY>Math.ceil(s.top+s.height)||c.clientX<Math.floor(s.left)||c.clientX>Math.ceil(s.left+s.width))return!0})(c)&&(i.eventManager.removeEventListener(o,"mousemove",u),r.style.display="block")})}}},{key:"createBorders",value:function(t){var r=this.wot.rootDocument;this.main=r.createElement("div");var i=["top","start","bottom","end","corner"],o=this.main.style;o.position="absolute",o.top=0,o.left=0;for(var s=0;s<5;s++){var a=i[s],u=r.createElement("div");u.className="wtBorder ".concat(this.settings.className||""),this.settings[a]&&this.settings[a].hide&&(u.className+=" hidden"),(o=u.style).backgroundColor=this.settings[a]&&this.settings[a].color?this.settings[a].color:t.border.color,o.height="".concat(this.settings[a]&&this.settings[a].width?this.settings[a].width:t.border.width,"px"),o.width="".concat(this.settings[a]&&this.settings[a].width?this.settings[a].width:t.border.width,"px"),this.main.appendChild(u)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),tp()&&this.createMultipleSelectorHandles(),this.disappear();var c=this.wot.wtTable,h=c.bordersHolder;h||((h=r.createElement("div")).className="htBorders",c.bordersHolder=h,c.spreader.appendChild(h)),h.appendChild(this.main)}},{key:"createMultipleSelectorHandles",value:function(){var t=this,r=this.wot.rootDocument;this.selectionHandles={top:r.createElement("DIV"),topHitArea:r.createElement("DIV"),bottom:r.createElement("DIV"),bottomHitArea:r.createElement("DIV")},this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style},ao({position:"absolute",height:"".concat(40,"px"),width:"".concat(40,"px"),"border-radius":"".concat(parseInt(40/1.5,10),"px")},function(u,c){t.selectionHandles.styles.bottomHitArea[c]=u,t.selectionHandles.styles.topHitArea[c]=u}),ao({position:"absolute",height:"".concat(10,"px"),width:"".concat(10,"px"),"border-radius":"".concat(parseInt(10/1.5,10),"px"),background:"#F5F5FF",border:"1px solid #4285c8"},function(u,c){t.selectionHandles.styles.bottom[c]=u,t.selectionHandles.styles.top[c]=u}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}},{key:"isPartRange",value:function(t,r){var i=this.wot.selections.createOrGetArea();return!(!i.cellRange||t===i.cellRange.to.row&&r===i.cellRange.to.col)}},{key:"updateMultipleSelectionHandlesPosition",value:function(t,r,i,o,s,a){var c=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",h=this.selectionHandles.styles,p=h.top,g=h.topHitArea,y=h.bottom,w=h.bottomHitArea,S=parseInt(p.borderWidth,10),C=parseInt(p.width,10),P=parseInt(g.width,10),B=this.wot.wtTable.getWidth(),z=this.wot.wtTable.getHeight();p.top="".concat(parseInt(i-C-1,10),"px"),p[c]="".concat(parseInt(o-C-1,10),"px"),g.top="".concat(parseInt(i-P/4*3,10),"px"),g[c]="".concat(parseInt(o-P/4*3,10),"px");var j=Math.min(parseInt(o+s,10),B-C-2*S),G=Math.min(parseInt(o+s-P/4,10),B-P-2*S);y[c]="".concat(j,"px"),w[c]="".concat(G,"px");var re=Math.min(parseInt(i+a,10),z-C-2*S),pe=Math.min(parseInt(i+a-P/4,10),z-P-2*S);y.top="".concat(re,"px"),w.top="".concat(pe,"px"),this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(p.display="block",g.display="block",this.isPartRange(t,r)?(y.display="none",w.display="none"):(y.display="block",w.display="block")):(p.display="none",y.display="none",g.display="none",w.display="none"),t===this.wot.wtSettings.getSetting("fixedRowsTop")||r===this.wot.wtSettings.getSetting("fixedColumnsStart")?(p.zIndex="9999",g.zIndex="9999"):(p.zIndex="",g.zIndex="")}},{key:"appear",value:function(t){if(!this.disabled){for(var a,u,c,h,p,g,r=this.wot,i=r.wtTable,o=r.rootDocument,s=r.rootWindow,y=i.getRenderedRowsCount(),w=0;w<y;w+=1){var S=i.rowFilter.renderedToSource(w);if(S>=t[0]&&S<=t[2]){a=S,p=t[0];break}}for(var C=y-1;C>=0;C-=1){var P=i.rowFilter.renderedToSource(C);if(P>=t[0]&&P<=t[2]){u=P;break}}for(var B=i.getRenderedColumnsCount(),z=0;z<B;z+=1){var j=i.columnFilter.renderedToSource(z);if(j>=t[1]&&j<=t[3]){c=j,g=t[1];break}}for(var G=B-1;G>=0;G-=1){var re=i.columnFilter.renderedToSource(G);if(re>=t[1]&&re<=t[3]){h=re;break}}if(void 0===a||void 0===c)return void this.disappear();var pe=i.getCell(this.wot.createCellCoords(a,c)),ne=a!==u||c!==h,he=ne?i.getCell(this.wot.createCellCoords(u,h)):pe,we=Ga(pe),Pe=ne?Ga(he):we,ot=Ga(i.TABLE),at=fs(i.TABLE),je=we.top,_t=we.left,ye=this.wot.wtSettings.getSetting("rtlMode"),Ae=0,Ge=0;if(ye){var Je=fs(pe);Ge=_t+Je-Pe.left,Ae=s.innerWidth-_t-Je-(s.innerWidth-ot.left-at)-1}else Ge=Pe.left+fs(he)-_t,Ae=_t-ot.left-1;if(this.isEntireColumnSelected(a,u)){var Z=this.getDimensionsFromHeader("columns",c,h,p,ot),$=null;if(Z){var de=v4(Z,3);$=de[0],Ae=de[1],Ge=de[2]}$&&(pe=$)}var be=je-ot.top-1,Ee=Pe.top+ra(he)-je;if(this.isEntireRowSelected(c,h)){var We=this.getDimensionsFromHeader("rows",a,u,g,ot),Mt=null;if(We){var kt=v4(We,3);Mt=kt[0],be=kt[1],Ee=kt[2]}Mt&&(pe=Mt)}var Dt=Ib(pe,s);parseInt(Dt.borderTopWidth,10)>0&&(be+=1,Ee=Ee>0?Ee-1:0),parseInt(Dt[ye?"borderRightWidth":"borderLeftWidth"],10)>0&&(Ae+=1,Ge=Ge>0?Ge-1:0);var ut=ye?"right":"left";this.topStyle.top="".concat(be,"px"),this.topStyle[ut]="".concat(Ae,"px"),this.topStyle.width="".concat(Ge,"px"),this.topStyle.display="block",this.startStyle.top="".concat(be,"px"),this.startStyle[ut]="".concat(Ae,"px"),this.startStyle.height="".concat(Ee,"px"),this.startStyle.display="block";var Lt=Math.floor(this.settings.border.width/2);this.bottomStyle.top="".concat(be+Ee-Lt,"px"),this.bottomStyle[ut]="".concat(Ae,"px"),this.bottomStyle.width="".concat(Ge,"px"),this.bottomStyle.display="block",this.endStyle.top="".concat(be,"px"),this.endStyle[ut]="".concat(Ae+Ge-Lt,"px"),this.endStyle.height="".concat(Ee+1,"px"),this.endStyle.display="block";var pt=this.settings.border.cornerVisible;pt="function"==typeof pt?pt(this.settings.layerLevel):pt;var Ot=this.wot.getSetting("onModifyGetCellCoords",u,h),It=u,gn=h;if(Ot&&Array.isArray(Ot)){var dn=v4(Ot,4);It=dn[2],gn=dn[3]}if(tp()||!pt||this.isPartRange(It,gn))this.cornerStyle.display="none";else{this.cornerStyle.top="".concat(be+Ee+this.cornerCenterPointOffset-1,"px"),this.cornerStyle[ut]="".concat(Ae+Ge+this.cornerCenterPointOffset-1,"px"),this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";var Xn=s1(i.TABLE),Hn=Xn===s;Hn&&(Xn=o.documentElement);var un=parseInt(this.cornerDefaultStyle.width,10)/2,xn=parseInt(this.cornerDefaultStyle.height,10)/2;if(h===this.wot.getSetting("totalColumns")-1){var Pn=Hn?he.getBoundingClientRect().left:he.offsetLeft;(ye?Pn-parseInt(this.cornerDefaultStyle.width,10)/2<0:Pn+fs(he)+parseInt(this.cornerDefaultStyle.width,10)/2>=HL(Xn))&&(this.cornerStyle[ut]="".concat(Math.floor(Ae+Ge+this.cornerCenterPointOffset-un),"px"),this.cornerStyle[ye?"borderLeftWidth":"borderRightWidth"]=0)}u===this.wot.getSetting("totalRows")-1&&(Hn?he.getBoundingClientRect().top:he.offsetTop)+ra(he)+parseInt(this.cornerDefaultStyle.height,10)/2>=ey(Xn)&&(this.cornerStyle.top="".concat(Math.floor(be+Ee+this.cornerCenterPointOffset-xn),"px"),this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}tp()&&this.updateMultipleSelectionHandlesPosition(u,h,be,Ae,Ge,Ee)}}},{key:"isEntireColumnSelected",value:function(t,r){return t===this.wot.wtTable.getFirstRenderedRow()&&r===this.wot.wtTable.getLastRenderedRow()}},{key:"isEntireRowSelected",value:function(t,r){return t===this.wot.wtTable.getFirstRenderedColumn()&&r===this.wot.wtTable.getLastRenderedColumn()}},{key:"getDimensionsFromHeader",value:function(t,r,i,o,s){var a=this.wot.wtTable,u=a.wtRootElement.parentNode,c=null,h=null,p=null,g=null,y=null,w=null,S=null,C=null;switch(t){case"rows":c=function(){return a.getRowHeader.apply(a,arguments)},h=function(){return ra.apply(void 0,arguments)},p="ht__selection--rows",w="top";break;case"columns":c=function(){return a.getColumnHeader.apply(a,arguments)},h=function(){return fs.apply(void 0,arguments)},p="ht__selection--columns",w="left"}if(u.classList.contains(p)){var P=this.wot.getSetting("columnHeaders").length;if(S=c(r,P-o),C=c(i,P-o),!S||!C)return!1;var B=Ga(S),z=Ga(C);return S&&C&&(g=B[w]-s[w]-1,y=z[w]+h(C)-B[w]),[S,g,y]}return!1}},{key:"changeBorderStyle",value:function(t,r){var i=this[t].style,o=r[t];!o||o.hide?An(this[t],"hidden"):(Ti(this[t],"hidden")&&Hi(this[t],"hidden"),i.backgroundColor=o.color,("top"===t||"bottom"===t)&&(i.height="".concat(o.width,"px")),("start"===t||"end"===t)&&(i.width="".concat(o.width,"px")))}},{key:"changeBorderToDefaultStyle",value:function(t){var i=this[t].style;i.backgroundColor="#000",i.width="".concat(1,"px"),i.height="".concat(1,"px")}},{key:"toggleHiddenClass",value:function(t,r){this.changeBorderToDefaultStyle(t),r?An(this[t],"hidden"):Hi(this[t],"hidden")}},{key:"disappear",value:function(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",tp()&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}},{key:"destroy",value:function(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}]),n}();function ore(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function y4(n){return(y4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function sre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _4(n){return(_4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function are(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function zP(){return zP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=b3e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},zP.apply(this,arguments)}function b3e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ZS(n)););return n}function b4(n,e){return(b4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function S3e(n,e){if(e&&("object"===_4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return lre(n)}function lre(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ZS(n){return(ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const qS=function(n){!function w3e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&b4(n,e)}(t,n);var e=function M3e(n){var e=function x3e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ZS(n);if(e){var o=ZS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return S3e(this,i)}}(t);function t(r,i){var o;return function y3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function C3e(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(lre(o=e.call(this,r,null)),"visualCellRange",null),o.visualCellRange=i||null,o.commit(),o}return function _3e(n,e,t){e&&are(n.prototype,e),t&&are(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"add",value:function(i){return null===this.visualCellRange?this.visualCellRange=this.settings.createCellRange(i):this.visualCellRange.expand(i),this}},{key:"clear",value:function(){return this.visualCellRange=null,zP(ZS(t.prototype),"clear",this).call(this)}},{key:"trimToVisibleCellsRangeOnly",value:function(i){var o=i.from,s=i.to,a=this.getNearestNotHiddenCoords(o,1),u=this.getNearestNotHiddenCoords(s,-1);if(null===a||null===u)return null;if(a.row>u.row||a.col>u.col){if("header"!==this.settings.type&&"active-header"!==this.settings.type)return null;a=o,u=s}return this.settings.createCellRange(a,a,u)}},{key:"getNearestNotHiddenCoords",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper(),i.row,o);if(null===a)return null;var u=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper(),i.col,s);return null===u?null:this.settings.createCellCoords(a,u)}},{key:"getNearestNotHiddenIndex",value:function(i,o,s){if(o<0)return o;var a=i.getNearestNotHiddenIndex(o,s);return"header"!==this.settings.type&&"active-header"!==this.settings.type||null!==a?a:-1}},{key:"commit",value:function(){if(null===this.visualCellRange)return this;var i=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return this.cellRange=null===i?null:this.createRenderableCellRange(i.from,i.to),this}},{key:"syncWith",value:function(i){var o="N-S"===i.getVerticalDirection()?1:-1,s="W-E"===i.getHorizontalDirection()?1:-1,a=this.getNearestNotHiddenCoords(i.from.clone().normalize(),o,s);if(null!==a&&i.overlaps(a)){if(null===this.cellRange){var u=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(u)}return i.setHighlight(a),this}return i.setHighlight(i.from),this}},{key:"getCorners",value:function(){var i=this.cellRange,o=i.from,s=i.to,a=null===o.row||null===s.row,u=null===o.col||null===s.col,c=this.settings.createCellCoords(a?null:Math.min(o.row,s.row),u?null:Math.min(o.col,s.col)),h=this.settings.createCellCoords(a?null:Math.max(o.row,s.row),u?null:Math.max(o.col,s.col));return[c.row,c.col,h.row,h.col]}},{key:"getVisualCorners",value:function(){var i=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),o=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[i.row,i.col,o.row,o.col]}},{key:"createRenderableCellRange",value:function(i,o){var s=this.settings.visualToRenderableCoords(i),a=this.settings.visualToRenderableCoords(o);return this.settings.createCellRange(s,s,a)}}]),t}(function(){function n(e,t){(function p3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.settings=e,this.cellRange=t||null,this.instanceBorders={},this.classNames=[this.settings.className],this.classNameGenerator=this.linearClassNameGenerator(this.settings.className,this.settings.layerLevel)}return function m3e(n,e,t){e&&sre(n.prototype,e),t&&sre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getBorder",value:function(t){return this.instanceBorders[t.guid]||(this.instanceBorders[t.guid]=new l3e(t,this.settings)),this.instanceBorders[t.guid]}},{key:"isEmpty",value:function(){return null===this.cellRange}},{key:"add",value:function(t){return this.isEmpty()?this.cellRange=this.settings.createCellRange(t):this.cellRange.expand(t),this}},{key:"replace",value:function(t,r){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=r,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=r,!0}return!1}},{key:"clear",value:function(){return this.cellRange=null,this}},{key:"getCorners",value:function(){var t=this.cellRange.getOuterTopStartCorner(),r=this.cellRange.getOuterBottomEndCorner();return[t.row,t.col,r.row,r.col]}},{key:"addClassAtCoords",value:function(t,r,i,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.wtTable.getCell(this.settings.createCellCoords(r,i));if("object"===y4(a)){var u=o;s&&(u=this.classNameGenerator(a),this.classNames.includes(u)||this.classNames.push(u)),An(a,u)}return this}},{key:"linearClassNameGenerator",value:function(t,r){return function i(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0===r||0===s)return t;var a=s>=0?s:r,u=t,c=0==(a-=1)?t:"".concat(t,"-").concat(a);if(Ti(o,c)){var h=a+1;u="".concat(t,"-").concat(h)}else u=i(o,a);return u}}},{key:"draw",value:function(t){if(this.isEmpty())this.settings.border&&this.getBorder(t).disappear();else{var r=t.wtTable.getRenderedRowsCount(),i=t.wtTable.getRenderedColumnsCount(),o=this.getCorners(),s=function u3e(n,e){return function f3e(n){if(Array.isArray(n))return n}(n)||function h3e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function d3e(n,e){if(n){if("string"==typeof n)return ore(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ore(n,e)}}(n,e)||function c3e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,4),a=s[0],u=s[1],c=s[2],h=s[3],p=this.settings,g=p.highlightHeaderClassName,y=p.highlightColumnClassName,w=p.highlightRowClassName,S=p.highlightOnlyClosestHeader,C=p.selectionType,P=void 0===C||["active-header","header"].includes(C);if(P&&null!==u&&null!==h)for(var B=0,z=0;z<i;z+=1){var j=t.wtTable.columnFilter.renderedToSource(z);if(j>=u&&j<=h){var G=t.wtTable.getColumnHeaders(j),re=G.length-1;S&&G.length>1&&(G=[G[re]]);for(var pe=0;pe<G.length;pe+=1){var ne=[],he=G[pe];g&&ne.push(g),y&&ne.push(y);var we=t.getSetting("onBeforeHighlightingColumnHeader",j,pe=S?re:pe,{selectionType:C,columnCursor:B,selectionWidth:h-u+1,classNames:ne});we!==j&&(he=t.wtTable.getColumnHeader(we,pe)),An(he,ne)}B+=1}}if(null!==a&&null!==c)for(var Pe=0,ot=0;ot<r;ot+=1){var at=t.wtTable.rowFilter.renderedToSource(ot);if(P&&at>=a&&at<=c){var je=t.wtTable.getRowHeaders(at),_t=je.length-1;S&&je.length>1&&(je=[je[_t]]);for(var ye=0;ye<je.length;ye+=1){var Ae=[],Ge=je[ye];g&&Ae.push(g),w&&Ae.push(w);var Je=t.getSetting("onBeforeHighlightingRowHeader",at,ye=S?_t:ye,{selectionType:C,rowCursor:Pe,selectionHeight:c-a+1,classNames:Ae});Je!==at&&(Ge=t.wtTable.getRowHeader(Je,ye)),An(Ge,Ae)}Pe+=1}if(null!==u&&null!==h)for(var bt=0;bt<i;bt+=1){var Z=t.wtTable.columnFilter.renderedToSource(bt);at>=a&&at<=c&&Z>=u&&Z<=h?this.settings.className&&this.addClassAtCoords(t,at,Z,this.settings.className,this.settings.markIntersections):at>=a&&at<=c?w&&this.addClassAtCoords(t,at,Z,w):Z>=u&&Z<=h&&y&&this.addClassAtCoords(t,at,Z,y);var $=t.getSetting("onAfterDrawSelection",at,Z,this.settings.layerLevel);"string"==typeof $&&this.addClassAtCoords(t,at,Z,$)}}t.getSetting("onBeforeDrawBorders",o,this.settings.className),this.settings.border&&this.getBorder(t).appear(o)}}},{key:"destroy",value:function(){Object.values(this.instanceBorders).forEach(function(t){return t.destroy()})}}]),n}());var T3e=["activeHeaderClassName"];function ure(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cre(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ure(Object(t),!0).forEach(function(r){R3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ure(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function R3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var L3e=["layerLevel","areaCornerVisible"];function dre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hre(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?dre(Object(t),!0).forEach(function(r){P3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function P3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var B3e=["cellCornerVisible"];function fre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function pre(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?fre(Object(t),!0).forEach(function(r){V3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function V3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Y3e=["border","visualCellRange"];function mre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function w4(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?mre(Object(t),!0).forEach(function(r){G3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function G3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function vre(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?gre(Object(t),!0).forEach(function(r){q3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function q3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}b(7204);var tBe=["headerClassName","rowClassName","columnClassName"];function yre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _re(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?yre(Object(t),!0).forEach(function(r){nBe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nBe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lBe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var wre=eh("highlight/types"),JS=wre.register,uBe=wre.getItem;function QS(n,e){return uBe(n)(function aBe(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?bre(Object(t),!0).forEach(function(r){lBe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({type:n},e))}function oy(n){return function fBe(n){if(Array.isArray(n))return M4(n)}(n)||function hBe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function dBe(n,e){if(n){if("string"==typeof n)return M4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M4(n,e)}}(n)||function cBe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Mre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function D1(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Mre(Object(t),!0).forEach(function(r){pBe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pBe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Sre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}JS(BP,function O3e(n){var e=n.activeHeaderClassName,t=function D3e(n,e){if(null==n)return{};var r,i,t=function A3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,T3e);return new qS(cre(cre({highlightHeaderClassName:e},t),{},{selectionType:BP}))}),JS(VP,function F3e(n){var e=n.layerLevel,t=n.areaCornerVisible,r=function I3e(n,e){if(null==n)return{};var r,i,t=function N3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,L3e);return new qS(hre(hre({className:"area",markIntersections:!0,layerLevel:Math.min(e,7),border:{width:1,color:"#4b89ff",cornerVisible:t}},r),{},{selectionType:VP}))}),JS(T1,function j3e(n){var e=n.cellCornerVisible,t=function z3e(n,e){if(null==n)return{};var r,i,t=function U3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,B3e);return new qS(pre(pre({className:"current",border:{width:2,color:"#4b89ff",cornerVisible:e}},t),{},{selectionType:T1}))}),JS(g4,function K3e(n){var e=n.border,t=n.visualCellRange,r=function $3e(n,e){if(null==n)return{};var r,i,t=function X3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,Y3e);return new qS(w4(w4(w4({},e),r),{},{selectionType:g4}),t)}),JS(m4,function Q3e(n){var e=Object.assign({},(function J3e(n){if(null==n)throw new TypeError("Cannot destructure "+n)}(n),n));return new qS(vre(vre({className:"fill",border:{width:1,color:"#ff0000"}},e),{},{selectionType:m4}))}),JS(R1,function oBe(n){var e=n.headerClassName,t=n.rowClassName,r=n.columnClassName,i=function rBe(n,e){if(null==n)return{};var r,i,t=function iBe(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,tBe);return new qS(_re(_re({className:"highlight",highlightHeaderClassName:e,highlightRowClassName:t,highlightColumnClassName:r},i),{},{highlightOnlyClosestHeader:!0,selectionType:R1}))});const yBe=function(n){function e(t){(function mBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=t,this.layerLevel=0,this.cell=QS(T1,t),this.fill=QS(m4,t),this.areas=new Map,this.headers=new Map,this.activeHeaders=new Map,this.customSelections=[]}return function gBe(n,e,t){e&&Sre(n.prototype,e),t&&Sre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"isEnabledFor",value:function(r,i){var o=r;r===T1&&(o="current");var s=this.options.disabledCellSelection(i.row,i.col);return"string"==typeof s&&(s=[s]),!1===s||Array.isArray(s)&&!s.includes(o)}},{key:"useLayerLevel",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.layerLevel=r,this}},{key:"getCell",value:function(){return this.cell}},{key:"getFill",value:function(){return this.fill}},{key:"createOrGetArea",value:function(){var i,r=this.layerLevel;return this.areas.has(r)?i=this.areas.get(r):(i=QS(VP,D1({layerLevel:r},this.options)),this.areas.set(r,i)),i}},{key:"getAreas",value:function(){return oy(this.areas.values())}},{key:"createOrGetHeader",value:function(){var i,r=this.layerLevel;return this.headers.has(r)?i=this.headers.get(r):(i=QS(R1,D1({},this.options)),this.headers.set(r,i)),i}},{key:"getHeaders",value:function(){return oy(this.headers.values())}},{key:"createOrGetActiveHeader",value:function(){var i,r=this.layerLevel;return this.activeHeaders.has(r)?i=this.activeHeaders.get(r):(i=QS(BP,D1({},this.options)),this.activeHeaders.set(r,i)),i}},{key:"getActiveHeaders",value:function(){return oy(this.activeHeaders.values())}},{key:"getCustomSelections",value:function(){return oy(this.customSelections.values())}},{key:"addCustomSelection",value:function(r){this.customSelections.push(QS(g4,D1(D1({},this.options),r)))}},{key:"clear",value:function(){this.cell.clear(),this.fill.clear(),it(this.areas.values(),function(r){r.clear()}),it(this.headers.values(),function(r){r.clear()}),it(this.activeHeaders.values(),function(r){r.clear()})}},{key:Symbol.iterator,value:function(){return[this.cell,this.fill].concat(oy(this.areas.values()),oy(this.headers.values()),oy(this.activeHeaders.values()),oy(this.customSelections))[Symbol.iterator]()}}]),e}();function xre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const MBe=function(n){function e(t){(function _Be(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.ranges=[],this.createCellRange=t}return function bBe(n,e,t){e&&xre(n.prototype,e),t&&xre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"isEmpty",value:function(){return 0===this.size()}},{key:"set",value:function(r){return this.clear(),this.ranges.push(this.createCellRange(r)),this}},{key:"add",value:function(r){return this.ranges.push(this.createCellRange(r)),this}},{key:"pop",value:function(){return this.ranges.pop(),this}},{key:"current",value:function(){return this.peekByIndex(0)}},{key:"previous",value:function(){return this.peekByIndex(-1)}},{key:"includes",value:function(r){return this.ranges.some(function(i){return i.includes(r)})}},{key:"clear",value:function(){return this.ranges.length=0,this}},{key:"size",value:function(){return this.ranges.length}},{key:"peekByIndex",value:function(){var o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.size()+r-1;return i>=0&&(o=this.ranges[i]),o}},{key:Symbol.iterator,value:function(){return this.ranges[Symbol.iterator]()}}]),e}();function Cre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Ere=function(){function n(e,t){(function SBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.range=e,this.options=t}return function xBe(n,e,t){e&&Cre(n.prototype,e),t&&Cre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"transformStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.options.createCellCoords(t,r),s=this.range.current().highlight,a=this.options.visualToRenderableCoords(s),u=a.row,c=a.col,h=s,p=0,g=0;if(this.runLocalHooks("beforeTransformStart",o),null!==u&&null!==c){var y=this.options.countRows(),w=this.options.countCols(),S=this.options.fixedRowsBottom(),C=this.options.minSpareRows(),P=this.options.minSpareCols(),B=this.options.autoWrapRow(),z=this.options.autoWrapCol();u+t>y-1?i&&C>0&&!(S&&u>=y-S-1)?(this.runLocalHooks("insertRowRequire",y),y=this.options.countRows()):z&&(o.row=1-y,o.col=c+o.col===w-1?1-w:1):z&&u+o.row<0&&c+o.col>=0&&(o.row=y-1,o.col=c+o.col===0?w-1:-1),c+o.col>w-1?i&&P>0?(this.runLocalHooks("insertColRequire",w),w=this.options.countCols()):B&&(o.row=u+o.row===y-1?1-y:1,o.col=1-w):B&&c+o.col<0&&u+o.row>=0&&(o.row=u+o.row===0?y-1:-1,o.col=w-1);var j=this.options.createCellCoords(u+o.row,c+o.col);p=0,g=0,j.row<0?(p=-1,j.row=0):j.row>0&&j.row>=y&&(p=1,j.row=y-1),j.col<0?(g=-1,j.col=0):j.col>0&&j.col>=w&&(g=1,j.col=w-1),h=this.options.renderableToVisualCoords(j)}return this.runLocalHooks("afterTransformStart",h,p,g),h}},{key:"transformEnd",value:function(t,r){var i=this.options.createCellCoords(t,r),o=this.range.current(),s=o.to,a=0,u=0;this.runLocalHooks("beforeTransformEnd",i);var c=this.options.visualToRenderableCoords(o.highlight);if(null!==c.row&&null!==c.col){var g=this.options.countRows(),y=this.options.countCols(),w=this.options.visualToRenderableCoords(o.to),P=this.options.createCellCoords(w.row+i.row,w.col+i.col);a=0,u=0,P.row<0?(a=-1,P.row=0):P.row>0&&P.row>=g&&(a=1,P.row=g-1),P.col<0?(u=-1,P.col=0):P.col>0&&P.col>=y&&(u=1,P.col=y-1),s=this.options.renderableToVisualCoords(P)}return this.runLocalHooks("afterTransformEnd",s,a,u),s}}]),n}();ws(Ere,Rc);const CBe=Ere;function Tre(n,e){return function DBe(n){if(Array.isArray(n))return n}(n)||function RBe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function TBe(n,e){if(n){if("string"==typeof n)return Rre(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rre(n,e)}}(n,e)||function EBe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rre(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function S4(n){return(S4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Ore,ABe=[3,2],OBe=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],C4=Symbol("root"),Are=Symbol("child");function ex(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C4;if(e!==C4&&e!==Are)throw new Error("The second argument is used internally only and cannot be overwritten.");var t=Array.isArray(n),r=e===C4,i=0;if(t){var o=n[0];if(0===n.length)i=1;else if(r&&o instanceof Ate)i=3;else if(r&&Array.isArray(o))i=ex(o,Are);else if(n.length>=2&&n.length<=4){var s=!n.some(function(a,u){return!OBe[u].includes(S4(a))});s&&(i=2)}}return i}function A1(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.keepDirection,r=void 0!==t&&t,i=e.propToCol;if(!ABe.includes(n))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){var s=3===n,a=s?o.from.row:o[0],u=s?o.from.col:o[1],c=s?o.to.row:o[2],h=s?o.to.col:o[3];if("function"==typeof i&&("string"==typeof u&&(u=i(u)),"string"==typeof h&&(h=i(h))),Bs(c)&&(c=a),Bs(h)&&(h=u),!r){var p=a,g=u,y=c,w=h;a=Math.min(p,y),u=Math.min(g,w),c=Math.max(p,y),h=Math.max(g,w)}return[a,u,c,h]}}function sy(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return"number"==typeof n&&n>=0&&n<e}function kre(n,e){return function FBe(n){if(Array.isArray(n))return n}(n)||function NBe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function IBe(n,e){if(n){if("string"==typeof n)return Lre(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lre(n,e)}}(n,e)||function PBe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lre(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Pre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Ire=function(){function n(e,t){var r=this;(function BBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.settings=e,this.tableProps=t,this.inProgress=!1,this.selectedByCorner=!1,this.selectedByRowHeader=new Set,this.selectedByColumnHeader=new Set,this.selectedRange=new MBe(function(i,o,s){return r.tableProps.createCellRange(i,o,s)}),this.highlight=new yBe({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,disabledCellSelection:function(o,s){return r.tableProps.isDisabledCellSelection(o,s)},cellCornerVisible:function(){return r.isCellCornerVisible.apply(r,arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible.apply(r,arguments)},visualToRenderableCoords:function(o){return r.tableProps.visualToRenderableCoords(o)},renderableToVisualCoords:function(o){return r.tableProps.renderableToVisualCoords(o)},createCellCoords:function(o,s){return r.tableProps.createCellCoords(o,s)},createCellRange:function(o,s,a){return r.tableProps.createCellRange(o,s,a)},rowIndexMapper:function(){return r.tableProps.rowIndexMapper()},columnIndexMapper:function(){return r.tableProps.columnIndexMapper()}}),this.transformation=new CBe(this.selectedRange,{countRows:function(){return r.tableProps.countRowsTranslated()},countCols:function(){return r.tableProps.countColsTranslated()},visualToRenderableCoords:function(o){return r.tableProps.visualToRenderableCoords(o)},renderableToVisualCoords:function(o){return r.tableProps.renderableToVisualCoords(o)},createCellCoords:function(o,s){return r.tableProps.createCellCoords(o,s)},fixedRowsBottom:function(){return e.fixedRowsBottom},minSpareRows:function(){return e.minSpareRows},minSpareCols:function(){return e.minSpareCols},autoWrapRow:function(){return e.autoWrapRow},autoWrapCol:function(){return e.autoWrapCol}}),this.transformation.addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["beforeModifyTransformStart"].concat(o))}),this.transformation.addLocalHook("afterTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["afterModifyTransformStart"].concat(o))}),this.transformation.addLocalHook("beforeTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["beforeModifyTransformEnd"].concat(o))}),this.transformation.addLocalHook("afterTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["afterModifyTransformEnd"].concat(o))}),this.transformation.addLocalHook("insertRowRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["insertRowRequire"].concat(o))}),this.transformation.addLocalHook("insertColRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["insertColRequire"].concat(o))})}return function VBe(n,e,t){e&&Pre(n.prototype,e),t&&Pre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSelectedRange",value:function(){return this.selectedRange}},{key:"begin",value:function(){this.inProgress=!0}},{key:"finish",value:function(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}},{key:"isInProgress",value:function(){return this.inProgress}},{key:"setRangeStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="multiple"===this.settings.selectionMode,s=Bs(r)?this.tableProps.getShortcutManager().isCtrlPressed():r,a=t.row<0,u=t.col<0,c=a&&u,h=t.clone();this.selectedByCorner=c,this.runLocalHooks("beforeSetRangeStart".concat(i?"Only":""),h),(!o||o&&!s&&Bs(r))&&this.selectedRange.clear(),this.selectedRange.add(h),0===this.getLayerLevel()&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),!c&&u&&this.selectedByRowHeader.add(this.getLayerLevel()),!c&&a&&this.selectedByColumnHeader.add(this.getLayerLevel()),i||this.setRangeEnd(t)}},{key:"setRangeStartOnly",value:function(t,r){this.setRangeStart(t,r,!0)}},{key:"setRangeEnd",value:function(t){if(!this.selectedRange.isEmpty()){var r=t.clone();this.runLocalHooks("beforeSetRangeEnd",r),this.begin();var i=this.selectedRange.current();"single"!==this.settings.selectionMode&&i.setTo(this.tableProps.createCellCoords(r.row,r.col)),this.highlight.getCell().clear(),this.highlight.isEnabledFor(T1,i.highlight)&&this.highlight.getCell().add(this.selectedRange.current().highlight).commit().syncWith(i);var o=this.getLayerLevel();o<this.highlight.layerLevel&&(it(this.highlight.getAreas(),function(S){S.clear()}),it(this.highlight.getHeaders(),function(S){S.clear()}),it(this.highlight.getActiveHeaders(),function(S){S.clear()})),this.highlight.useLayerLevel(o);var s=this.highlight.createOrGetArea(),a=this.highlight.createOrGetHeader(),u=this.highlight.createOrGetActiveHeader();if(s.clear(),a.clear(),u.clear(),this.highlight.isEnabledFor(VP,i.highlight)&&(this.isMultiple()||o>=1)&&(s.add(i.from).add(i.to).commit(),1===o)){var c=this.selectedRange.previous();this.highlight.useLayerLevel(o-1).createOrGetArea().add(c.from).commit().syncWith(c),this.highlight.useLayerLevel(o)}if(this.highlight.isEnabledFor(R1,i.highlight)){var h=0===this.tableProps.countRowsTranslated(),p=0===this.tableProps.countColsTranslated(),g=i;(h||p)&&(g=i.clone()),h&&(g.from.row=-1),p&&(g.from.col=-1),"single"===this.settings.selectionMode?(this.isSelectedByAnyHeader()&&g.from.normalize(),a.add(g.from).commit()):a.add(g.from).add(g.to).commit(),this.isEntireRowSelected()&&this.tableProps.countCols()===i.getWidth()&&u.add(this.tableProps.createCellCoords(i.from.row,-1)).add(this.tableProps.createCellCoords(i.to.row,-1)).commit(),this.isEntireColumnSelected()&&this.tableProps.countRows()===i.getHeight()&&u.add(this.tableProps.createCellCoords(-1,i.from.col)).add(this.tableProps.createCellCoords(-1,i.to.col)).commit()}this.runLocalHooks("afterSetRangeEnd",t)}}},{key:"isMultiple",value:function(){var t=VS(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",t),t.value}},{key:"transformStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.setRangeStart(this.transformation.transformStart(t,r,i))}},{key:"transformEnd",value:function(t,r){this.setRangeEnd(this.transformation.transformEnd(t,r))}},{key:"getLayerLevel",value:function(){return this.selectedRange.size()-1}},{key:"isSelected",value:function(){return!this.selectedRange.isEmpty()}},{key:"isSelectedByRowHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(t)&&this.isEntireRowSelected(t)}},{key:"isEntireRowSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===t?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(t)}},{key:"isSelectedByColumnHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&this.isEntireColumnSelected(t)}},{key:"isEntireColumnSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===t?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(t)}},{key:"isSelectedByAnyHeader",value:function(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}},{key:"isSelectedByCorner",value:function(){return this.selectedByCorner}},{key:"inInSelection",value:function(t){return this.selectedRange.includes(t)}},{key:"isCellCornerVisible",value:function(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}},{key:"isAreaCornerVisible",value:function(t){return(!Number.isInteger(t)||t===this.getLayerLevel())&&this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}},{key:"clear",value:function(){this.selectedRange.clear(),this.highlight.clear()}},{key:"deselect",value:function(){!this.isSelected()||(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}},{key:"selectAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.tableProps.countRows(),o=this.tableProps.countCols();if(t||r||0!==i&&0!==o){var s=this.tableProps.createCellCoords(r?-1:0,t?-1:0);this.clear(),this.setRangeStartOnly(s),this.selectedByRowHeader.add(this.getLayerLevel()),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(this.tableProps.createCellCoords(i-1,o-1)),this.finish()}}},{key:"selectCells",value:function(t){var r=this,i=ex(t);if(1===i)return!1;if(0===i)throw new Error(is(Ore||(Ore=function HBe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Unsupported format of the selection ranges was passed. To select cells pass \n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, \n        columnEnd/columnPropEnd]]) or as an array of CellRange objects."],["Unsupported format of the selection ranges was passed. To select cells pass\\x20\n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\\x20\n        columnEnd/columnPropEnd]]) or as an array of CellRange objects."]))));var o=A1(i,{propToCol:function(h){return r.tableProps.propToCol(h)},keepDirection:!0}),s=this.tableProps.countRows(),a=this.tableProps.countCols(),u=!t.some(function(c){var p=kre(o(c),4),y=p[1],w=p[2],S=p[3];return!(sy(p[0],s)&&sy(y,a)&&sy(w,s)&&sy(S,a))});return u&&(this.clear(),it(t,function(c){var p=kre(o(c),4),w=p[2],S=p[3];r.setRangeStartOnly(r.tableProps.createCellCoords(p[0],p[1]),!1),r.setRangeEnd(r.tableProps.createCellCoords(w,S)),r.finish()})),u}},{key:"selectColumns",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o="string"==typeof t?this.tableProps.propToCol(t):t,s="string"==typeof r?this.tableProps.propToCol(r):r,a=this.tableProps.countCols(),u=this.tableProps.countRows(),c=sy(o,a)&&sy(s,a);return c&&(this.setRangeStartOnly(this.tableProps.createCellCoords(i,o)),this.setRangeEnd(this.tableProps.createCellCoords(u-1,s)),this.finish()),c}},{key:"selectRows",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=this.tableProps.countRows(),s=this.tableProps.countCols(),a=sy(t,o)&&sy(r,o);return a&&(this.setRangeStartOnly(this.tableProps.createCellCoords(t,i)),this.setRangeEnd(this.tableProps.createCellCoords(r,s-1)),this.finish()),a}},{key:"refresh",value:function(){if(this.highlight.getCustomSelections().forEach(function(c){c.commit()}),this.isSelected()){var r=this.highlight.getCell(),i=this.getLayerLevel();r.commit().syncWith(this.selectedRange.current());for(var o=0;o<this.selectedRange.size();o+=1){this.highlight.useLayerLevel(o);var s=this.highlight.createOrGetArea(),a=this.highlight.createOrGetHeader(),u=this.highlight.createOrGetActiveHeader();s.commit(),a.commit(),u.commit()}this.highlight.useLayerLevel(i)}}}]),n}();ws(Ire,Rc);const zBe=Ire;function WP(n,e){var t="string"==typeof n?wne(n):n;if($i(t)){var r=$i(e),i={};return ao(t,function(o,s){var a;"CELL_TYPE"!==s&&(!r||r&&(!Hs(e,s)||!0===(null==e||null===(a=e._automaticallyAssignedMetaProps)||void 0===a?void 0:a[s])))&&(i[s]=o,null!=e&&e._automaticallyAssignedMetaProps&&(e._automaticallyAssignedMetaProps[s]=!0))}),i}}function YP(n){return Number.isInteger(n)&&n>=0}function GP(n,e){if(!n())throw new Error("Assertion failed: ".concat(e))}function $P(n){return null==n}function E4(n){return(E4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}const Nre=function(){return{_automaticallyAssignedMetaProps:{},activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",isEmptyCol:function(e){var t,r;for(t=0,r=this.countRows();t<r;t++)if(!1===hl(this.getDataAtCell(t,e)))return!1;return!0},isEmptyRow:function(e){var t,r,i,o;for(t=0,r=this.countCols();t<r;t++)if(!1===hl(i=this.getDataAtCell(e,t)))return"object"===E4(i)&&(o=this.getCellMeta(e,t),$Q(this.getSchema()[o.prop],i));return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:void 0,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0}};function Fre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Hre(n,e,t){return e&&Fre(n.prototype,e),t&&Fre(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Bre(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var WBe=function(){function n(e){Bre(this,n),this.metaCtor=function jBe(){return Hre(function n(){Bre(this,n)})}(),this.meta=this.metaCtor.prototype,na(this.meta,Nre()),this.meta.instance=e}return Hre(n,[{key:"getMetaConstructor",value:function(){return this.metaCtor}},{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(t){na(this.meta,t),na(this.meta,WP(t.type,t))}}]),n}();function Vre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var $Be=function(){function n(e){!function YBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var t=e.getMetaConstructor();this.meta=new t}return function GBe(n,e,t){e&&Vre(n.prototype,e),t&&Vre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(t){na(this.meta,t),na(this.meta,WP(t.type,t))}}]),n}();function zre(n){return function qBe(n){if(Array.isArray(n))return T4(n)}(n)||function ZBe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function KBe(n,e){if(n){if("string"==typeof n)return T4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T4(n,e)}}(n)||function XBe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ure(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var R4=function(n){function e(t){(function JBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.valueFactory=t,this.data=[],this.index=[],this.holes=new Set}return function QBe(n,e,t){e&&Ure(n.prototype,e),t&&Ure(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"obtain",value:function(r){GP(function(){return YP(r)},"Expecting an unsigned number.");var o,i=this._getStorageIndexByKey(r);if(i>=0)void 0===(o=this.data[i])&&(o=this.valueFactory(r),this.data[i]=o);else if(o=this.valueFactory(r),this.holes.size>0){var s=this.holes.values().next().value;this.holes.delete(s),this.data[s]=o,this.index[r]=s}else this.data.push(o),this.index[r]=this.data.length-1;return o}},{key:"insert",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;GP(function(){return YP(r)||$P(r)},"Expecting an unsigned number or null/undefined argument.");for(var o=[],s=this.data.length,a=0;a<i;a++)o.push(s+a),this.data.push(void 0);var u=$P(r)?this.index.length:r;this.index=[].concat(zre(this.index.slice(0,u)),o,zre(this.index.slice(u)))}},{key:"remove",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;GP(function(){return YP(r)||$P(r)},"Expecting an unsigned number or null/undefined argument.");for(var o=this.index.splice($P(r)?this.index.length-i:r,i),s=0;s<o.length;s++){var a=o[s];"number"==typeof a&&this.holes.add(a)}}},{key:"size",value:function(){return this.data.length-this.holes.size}},{key:"values",value:function(){var r=this;return Qd(this.data,function(i,o){return!r.holes.has(o)})[Symbol.iterator]()}},{key:"entries",value:function(){for(var r=[],i=0;i<this.data.length;i++){var o=this._getKeyByStorageIndex(i);-1!==o&&r.push([o,this.data[i]])}var s=0;return{next:function(){if(s<r.length){var u=r[s];return s+=1,{value:u,done:!1}}return{done:!0}}}}},{key:"clear",value:function(){this.data=[],this.index=[],this.holes.clear()}},{key:"_getStorageIndexByKey",value:function(r){return this.index.length>r?this.index[r]:-1}},{key:"_getKeyByStorageIndex",value:function(r){return this.index.indexOf(r)}},{key:Symbol.iterator,value:function(){return this.entries()}}]),e}();function jre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var nVe=["data","width"],rVe=function(){function n(e){var t=this;(function eVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.globalMeta=e,this.metas=new R4(function(){return t._createMeta()})}return function tVe(n,e,t){e&&jre(n.prototype,e),t&&jre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateMeta",value:function(t,r){var i=this.getMeta(t);na(i,r),na(i,WP(r.type,i))}},{key:"createColumn",value:function(t,r){this.metas.insert(t,r)}},{key:"removeColumn",value:function(t,r){this.metas.remove(t,r)}},{key:"getMeta",value:function(t){return this.metas.obtain(t)}},{key:"getMetaConstructor",value:function(t){return this.metas.obtain(t).constructor}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createMeta",value:function(){return function UBe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function t(){}Qv(t,n);for(var r=0;r<e.length;r++)t.prototype[e[r]]=void 0;return t}(this.globalMeta.getMetaConstructor(),nVe).prototype}}]),n}();function iVe(n){return function lVe(n){if(Array.isArray(n))return D4(n)}(n)||function aVe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function sVe(n,e){if(n){if("string"==typeof n)return D4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D4(n,e)}}(n)||function oVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Wre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var dVe=function(){function n(e){var t=this;(function uVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.columnMeta=e,this.metas=new R4(function(){return t._createRow()})}return function cVe(n,e,t){e&&Wre(n.prototype,e),t&&Wre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateMeta",value:function(t,r,i){var o=this.getMeta(t,r);na(o,i),na(o,WP(i.type,o))}},{key:"createRow",value:function(t,r){this.metas.insert(t,r)}},{key:"createColumn",value:function(t,r){for(var i=0;i<this.metas.size();i++)this.metas.obtain(i).insert(t,r)}},{key:"removeRow",value:function(t,r){this.metas.remove(t,r)}},{key:"removeColumn",value:function(t,r){for(var i=0;i<this.metas.size();i++)this.metas.obtain(i).remove(t,r)}},{key:"getMeta",value:function(t,r,i){var o=this.metas.obtain(t).obtain(r);return void 0===i?o:o[i]}},{key:"setMeta",value:function(t,r,i,o){var s=this.metas.obtain(t).obtain(r);s[i]=o,!0===s._automaticallyAssignedMetaProps[i]&&(s._automaticallyAssignedMetaProps[i]=void 0)}},{key:"removeMeta",value:function(t,r,i){delete this.metas.obtain(t).obtain(r)[i]}},{key:"getMetas",value:function(){for(var t=[],r=Array.from(this.metas.values()),i=0;i<r.length;i++)t.push.apply(t,iVe(r[i].values()));return t}},{key:"getMetasAtRow",value:function(t){GP(function(){return YP(t)},"Expecting an unsigned number.");var r=new Map(this.metas);return r.has(t)?Array.from(r.get(t).values()):[]}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createRow",value:function(){var t=this;return new R4(function(r){return t._createMeta(r)})}},{key:"_createMeta",value:function(t){return new(this.columnMeta.getMetaConstructor(t))}}]),n}();function hVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Yre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Gre=function(){function n(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];hVe(this,n),this.hot=e,this.globalMeta=new WBe(e),this.tableMeta=new $Be(this.globalMeta),this.columnMeta=new rVe(this.globalMeta),this.cellMeta=new dVe(this.columnMeta),i.forEach(function(o){return new o(t)}),this.globalMeta.updateMeta(r)}return function fVe(n,e,t){e&&Yre(n.prototype,e),t&&Yre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getGlobalMeta",value:function(){return this.globalMeta.getMeta()}},{key:"updateGlobalMeta",value:function(t){this.globalMeta.updateMeta(t)}},{key:"getTableMeta",value:function(){return this.tableMeta.getMeta()}},{key:"updateTableMeta",value:function(t){this.tableMeta.updateMeta(t)}},{key:"getColumnMeta",value:function(t){return this.columnMeta.getMeta(t)}},{key:"updateColumnMeta",value:function(t,r){this.columnMeta.updateMeta(t,r)}},{key:"getCellMeta",value:function(t,r,i){var o=i.visualRow,s=i.visualColumn,a=this.cellMeta.getMeta(t,r);return a.visualRow=o,a.visualCol=s,a.row=t,a.col=r,this.runLocalHooks("afterGetCellMeta",a),a}},{key:"getCellMetaKeyValue",value:function(t,r,i){if("string"!=typeof i)throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(t,r,i)}},{key:"setCellMeta",value:function(t,r,i,o){this.cellMeta.setMeta(t,r,i,o)}},{key:"updateCellMeta",value:function(t,r,i){this.cellMeta.updateMeta(t,r,i)}},{key:"removeCellMeta",value:function(t,r,i){this.cellMeta.removeMeta(t,r,i)}},{key:"getCellsMeta",value:function(){return this.cellMeta.getMetas()}},{key:"getCellsMetaAtRow",value:function(t){return this.cellMeta.getMetasAtRow(t)}},{key:"createRow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createRow(t,r)}},{key:"removeRow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeRow(t,r)}},{key:"createColumn",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createColumn(t,r),this.columnMeta.createColumn(t,r)}},{key:"removeColumn",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeColumn(t,r),this.columnMeta.removeColumn(t,r)}},{key:"clearCellsCache",value:function(){this.cellMeta.clearCache()}},{key:"clearCache",value:function(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}]),n}();function $re(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}ws(Gre,Rc);var gVe=function(){function n(e){var t=this;(function pVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.metaManager=e,this.metaSyncMemo=new Map,e.addLocalHook("afterGetCellMeta",function(r){return t.extendCellMeta(r)}),xr.getSingleton().add("beforeRender",function(r){r&&t.metaSyncMemo.clear()},this.metaManager.hot)}return function mVe(n,e,t){e&&$re(n.prototype,e),t&&$re(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"extendCellMeta",value:function(t){var r,i=t.row,o=t.col;if(null===(r=this.metaSyncMemo.get(i))||void 0===r||!r.has(o)){var s=t.visualRow,a=t.visualCol,u=this.metaManager.hot,c=u.colToProp(a);t.prop=c,u.runHooks("beforeGetCellMeta",s,a,t);var h=Hs(t,"type")?t.type:null,p=Ts(t.cells)?t.cells(i,o,c):null;if(h)if(p){var g;p.type=null!==(g=p.type)&&void 0!==g?g:h}else p={type:h};p&&this.metaManager.updateCellMeta(i,o,p),u.runHooks("afterGetCellMeta",s,a,t),this.metaSyncMemo.has(i)||this.metaSyncMemo.set(i,new Set),this.metaSyncMemo.get(i).add(o)}}}]),n}();function Xre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var _Ve=function(){function n(e){(function vVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.metaManager=e,this.usageTracker=new Set,this.propDescriptors=new Map([["fixedColumnsLeft",{target:"fixedColumnsStart",onChange:function(r){if(this.metaManager.hot.isRtl()&&"fixedColumnsLeft"===r)throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{onChange:function(r,i,o){if(!o)throw new Error("The `".concat(r,"` option can not be updated after the Handsontable is initialized."))}}]]),this.extendMetaProps()}return function yVe(n,e,t){e&&Xre(n.prototype,e),t&&Xre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"extendMetaProps",value:function(){var t=this;this.propDescriptors.forEach(function(r,i){var o=r.target,s=r.onChange,a=void 0===s?function(){}:s,u="string"==typeof o,c=u?o:i,h="_".concat(c);t.metaManager.globalMeta.meta[h]=t.metaManager.globalMeta.meta[c],t.installPropWatcher(i,h,a),u&&t.installPropWatcher(o,h,a)})}},{key:"installPropWatcher",value:function(t,r,i){var o=this;Object.defineProperty(this.metaManager.globalMeta.meta,t,{get:function(){return this[r]},set:function(a){var u=!o.usageTracker.has(t);o.usageTracker.add(t),i.call(o,t,a,u),this[r]=a},enumerable:!0,configurable:!0})}}]),n}(),Kre=(b(9778),/^(\r\n|\n\r|\r|\n)/),bVe=/^[^\t\r\n]+/,Zre=/^\t/;function O1(n){var e,t,r,i,s,o="";for(e=0,t=n.length;e<t;e+=1){for(i=n[e].length,r=0;r<i;r+=1)r>0&&(o+="\t"),"string"==typeof(s=n[e][r])?s.indexOf("\n")>-1?o+='"'.concat(s.replace(/"/g,'""'),'"'):o+=s:o+=null==s?"":s;e!==t-1&&(o+="\n")}return o}function A4(n){return function CVe(n){if(Array.isArray(n))return O4(n)}(n)||function xVe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function SVe(n,e){if(n){if("string"==typeof n)return O4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O4(n,e)}}(n)||function MVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function k4(n){return(k4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var RVe=xP("copyable",!1);const AVe=function(){function n(e,t,r){(function EVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.instance=e,this.tableMeta=r,this.dataSource=t,this.duckSchema=this.dataSource&&this.dataSource[0]?n1(this.dataSource[0]):{},this.colToPropCache=void 0,this.propToColCache=void 0,this.createMap()}return function TVe(n,e,t){e&&qre(n.prototype,e),t&&qre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createMap",value:function(){var t=this.getSchema();if(void 0===t)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");var i,r=this.tableMeta.columns;if(this.colToPropCache=[],this.propToColCache=new Map,r){var o=0,s=0,a=!1;if("function"==typeof r){var u=HV(t);o=u>0?u:this.countFirstRowKeys(),a=!0}else o=Math.min(this.tableMeta.maxCols,r.length);for(i=0;i<o;i++){var h=a?r(i):r[i];if($i(h)){if(void 0!==h.data){var p=a?s:i;this.colToPropCache[p]=h.data,this.propToColCache.set(h.data,p)}s+=1}}}else this.recursiveDuckColumns(t)}},{key:"countFirstRowKeys",value:function(){return xne(this.dataSource)}},{key:"recursiveDuckColumns",value:function(t,r,i){var u,o=this,s=r,a=i;return void 0===s&&(s=0,a=""),"object"===k4(t)&&!Array.isArray(t)&&ao(t,function(c,h){null===c?(o.colToPropCache.push(u=a+h),o.propToColCache.set(u,s),s+=1):s=o.recursiveDuckColumns(c,s,"".concat(h,"."))}),s}},{key:"colToProp",value:function(t){if(!1===Number.isInteger(t))return t;var r=this.instance.toPhysicalColumn(t);return null===r?t:this.colToPropCache&&wr(this.colToPropCache[r])?this.colToPropCache[r]:r}},{key:"propToCol",value:function(t){var r=this.propToColCache.get(t);if(wr(r))return this.instance.toVisualColumn(r);var i=this.instance.toVisualColumn(t);return null===i?t:i}},{key:"getSchema",value:function(){var t=this.tableMeta.dataSchema;return t?"function"==typeof t?t():t:this.duckSchema}},{key:"createRow",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=o.source,a=o.mode,u=void 0===a?"above":a,c=this.instance.countSourceRows(),h=c,p=0,g=t;("number"!=typeof g||g>=c)&&(g=c),g<this.instance.countRows()&&(h=this.instance.toPhysicalRow(g));var y=this.instance.runHooks("beforeCreateRow",g,i,s);if(!1===y||null===h)return 0;for(var w=this.tableMeta.maxRows,S=this.instance.countCols(),C=[],P=function(){var j=null;"array"===r.instance.dataType?r.tableMeta.dataSchema?j=Yu(r.getSchema()):(j=[],Hr(S-1,function(){return j.push(null)})):"function"===r.instance.dataType?j=r.tableMeta.dataSchema(g+p):kL(j={},r.getSchema()),C.push(j),p+=1};p<i&&c+p<w;)P();this.instance.rowIndexMapper.insertIndexes(g,p),"below"===u&&(h=Math.min(h+1,c)),this.spliceData(h,0,C);var B=this.instance.toVisualRow(h);return this.instance.runHooks("afterCreateRow",B,p,s),this.instance.forceFullRender=!0,{delta:p,startPhysicalIndex:h}}},{key:"createCol",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.source,s=i.mode,a=void 0===s?"start":s;if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var u=this.dataSource,c=this.tableMeta.maxCols,h=this.instance.countSourceCols(),p=t;("number"!=typeof p||p>=h)&&(p=h);var g=this.instance.runHooks("beforeCreateCol",p,r,o);if(!1===g)return 0;var y=h;p<this.instance.countCols()&&(y=this.instance.toPhysicalColumn(p));var w=this.instance.countSourceRows(),S=this.instance.countCols(),C=0,P=y;"end"===a&&(P=Math.min(P+1,h));for(var B=P;C<r&&S<c;){if("number"!=typeof p||p>=S)if(w>0)for(var z=0;z<w;z+=1)void 0===u[z]&&(u[z]=[]),u[z].push(null);else u.push([null]);else for(var j=0;j<w;j++)u[j].splice(P,0,null);C+=1,P+=1,S+=1}this.instance.columnIndexMapper.insertIndexes(p,C);var G=this.instance.toVisualColumn(B);return this.instance.runHooks("afterCreateCol",G,C,o),this.instance.forceFullRender=!0,{delta:C,startPhysicalIndex:B}}},{key:"removeRow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,o=Number.isInteger(t)?t:-r,s=this.visualRowsToPhysical(o,r),a=this.instance.countSourceRows(),u=this.instance.runHooks("beforeRemoveRow",o=(a+o)%a,s.length,s,i);if(!1===u)return!1;var c=s.length;if(this.filterData(o,c,s),o<this.instance.countRows()){this.instance.rowIndexMapper.removeIndexes(s);var h=wr(this.tableMeta.columns)||wr(this.tableMeta.dataSchema);0===this.instance.rowIndexMapper.getNotTrimmedIndexesLength()&&!1===h&&this.instance.columnIndexMapper.setIndexesSequence([])}return this.instance.runHooks("afterRemoveRow",o,c,s,i),this.instance.forceFullRender=!0,!0}},{key:"removeCol",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if("object"===this.instance.dataType||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");var o="number"!=typeof t?-r:t;o=(this.instance.countCols()+o)%this.instance.countCols();var s=this.visualColumnsToPhysical(o,r),a=s.slice(0).sort(function(B,z){return z-B}),u=this.instance.runHooks("beforeRemoveCol",o,r,s,i);if(!1===u)return!1;for(var c=!0,h=a.length,p=this.dataSource,g=0;g<h;g++)c&&s[0]!==s[g]-g&&(c=!1);if(c)for(var y=0,w=this.instance.countSourceRows();y<w;y++)p[y].splice(s[0],r);else for(var S=0,C=this.instance.countSourceRows();S<C;S++)for(var P=0;P<h;P++)p[S].splice(a[P],1);return o<this.instance.countCols()&&(this.instance.columnIndexMapper.removeIndexes(s),0===this.instance.columnIndexMapper.getNotTrimmedIndexesLength()&&this.instance.rowIndexMapper.setIndexesSequence([])),this.instance.runHooks("afterRemoveCol",o,r,s,i),this.instance.forceFullRender=!0,!0}},{key:"spliceCol",value:function(t,r,i){for(var o=this.instance.getDataAtCol(t),s=o.slice(r,r+i),a=o.slice(r+i),u=arguments.length,c=new Array(u>3?u-3:0),h=3;h<u;h++)c[h-3]=arguments[h];UQ(c,a);for(var p=0;p<i;)c.push(null),p+=1;return eOe(c),this.instance.populateFromArray(r,t,c,null,null,"spliceCol"),s}},{key:"spliceRow",value:function(t,r,i){for(var o=this.instance.getSourceDataAtRow(t),s=o.slice(r,r+i),a=o.slice(r+i),u=arguments.length,c=new Array(u>3?u-3:0),h=3;h<u;h++)c[h-3]=arguments[h];UQ(c,a);for(var p=0;p<i;)c.push(null),p+=1;return this.instance.populateFromArray(t,r,[c],null,null,"spliceRow"),s}},{key:"spliceData",value:function(t,r,i){var o=this;if(!1!==this.instance.runHooks("beforeDataSplice",t,r,i)){var a=[].concat(A4(this.dataSource.slice(0,t)),A4(i),A4(this.dataSource.slice(t)));this.dataSource.length=0,a.forEach(function(u){return o.dataSource.push(u)})}}},{key:"filterData",value:function(t,r,i){var o=this.instance.runHooks("filterData",t,r,i);!1===Array.isArray(o)&&(o=this.dataSource.filter(function(s,a){return-1===i.indexOf(a)})),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,o)}},{key:"get",value:function(t,r){var i=this.instance.toPhysicalRow(t),o=this.dataSource[i],s=this.instance.runHooks("modifyRowData",i),a=null;if((o=isNaN(s)?s:o)&&o.hasOwnProperty&&Hs(o,r))a=o[r];else if("string"==typeof r&&r.indexOf(".")>-1){var u=r.split("."),c=o;if(!c)return null;for(var h=0,p=u.length;h<p;h++)if(void 0===(c=c[u[h]]))return null;a=c}else"function"==typeof r&&(a=r(this.dataSource.slice(i,i+1)[0]));if(this.instance.hasHook("modifyData")){var g=VS(a);this.instance.runHooks("modifyData",i,this.propToCol(r),g,"get"),g.isTouched()&&(a=g.value)}return a}},{key:"getCopyable",value:function(t,r){return RVe.call(this.instance,t,this.propToCol(r))?this.get(t,r):""}},{key:"set",value:function(t,r,i){var o=this.instance.toPhysicalRow(t),s=i,a=this.dataSource[o],u=this.instance.runHooks("modifyRowData",o);if(a=isNaN(u)?u:a,this.instance.hasHook("modifyData")){var c=VS(s);this.instance.runHooks("modifyData",o,this.propToCol(r),c,"set"),c.isTouched()&&(s=c.value)}if(a&&a.hasOwnProperty&&Hs(a,r))a[r]=s;else if("string"==typeof r&&r.indexOf(".")>-1){var y,h=r.split("."),p=a,g=0;for(g=0,y=h.length-1;g<y;g++)void 0===p[h[g]]&&(p[h[g]]={}),p=p[h[g]];p[h[g]]=s}else"function"==typeof r?r(this.dataSource.slice(o,o+1)[0],s):a[r]=s}},{key:"visualRowsToPhysical",value:function(t,r){for(var u,i=this.instance.countSourceRows(),o=[],s=(i+t)%i,a=r;s<i&&a;)u=this.instance.toPhysicalRow(s),o.push(u),a-=1,s+=1;return o}},{key:"visualColumnsToPhysical",value:function(t,r){for(var i=this.instance.countCols(),o=[],s=(i+t)%i,a=r;s<i&&a;){var u=this.instance.toPhysicalColumn(s);o.push(u),a-=1,s+=1}return o}},{key:"clear",value:function(){for(var t=0;t<this.instance.countSourceRows();t++)for(var r=0;r<this.instance.countCols();r++)this.set(t,this.colToProp(r),"")}},{key:"getLength",value:function(){var r,t=this.tableMeta.maxRows;r=t<0||0===t?0:t||1/0;var i=this.instance.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(i,r)}},{key:"getAll",value:function(){var t={row:0,col:0},r={row:Math.max(this.instance.countRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return t.row-r.row!=0||this.instance.countSourceRows()?this.getRange(t,r,n.DESTINATION_RENDERER):[]}},{key:"countCachedColumns",value:function(){return this.colToPropCache.length}},{key:"getRange",value:function(t,r,i){var s,a,u,o=[],c=this.tableMeta.maxRows,h=this.tableMeta.maxCols;if(0===c||0===h)return[];var p=i===n.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,g=Math.min(Math.max(c-1,0),Math.max(t.row,r.row)),y=Math.min(Math.max(h-1,0),Math.max(t.col,r.col));for(s=Math.min(t.row,r.row);s<=g;s++){u=[];var w=s>=0?this.instance.toPhysicalRow(s):s;for(a=Math.min(t.col,r.col);a<=y&&null!==w;a++)u.push(p.call(this,s,this.colToProp(a)));null!==w&&o.push(u)}return o}},{key:"getText",value:function(t,r){return O1(this.getRange(t,r,n.DESTINATION_RENDERER))}},{key:"getCopyableText",value:function(t,r){return O1(this.getRange(t,r,n.DESTINATION_CLIPBOARD_GENERATOR))}},{key:"destroy",value:function(){this.instance=null,this.tableMeta=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}],[{key:"DESTINATION_RENDERER",get:function(){return 1}},{key:"DESTINATION_CLIPBOARD_GENERATOR",get:function(){return 2}}]),n}();function XP(n){return(XP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Jre(n,e,t,r){var i=r.hotInstance,o=r.dataMap,s=r.dataSource,a=r.internalSource,u=r.source,c=r.firstRun,h=km(a),p=i.getSettings();i.dataType=Array.isArray(p.dataSchema)?"array":Ts(p.dataSchema)?"function":"object",o&&o.destroy(),n=i.runHooks("before".concat(h),n,c,u);var g=new AVe(i,n,p);if(e(g),"object"===XP(n)&&null!==n)n.push&&n.splice||(n=[n]);else{if(null!==n)throw new Error("".concat(a," only accepts array of objects or array of arrays (").concat(XP(n)," given)"));var y=g.getSchema();n=[];var w,C,S=0;for(S=0,C=p.startRows;S<C;S++)if("object"!==i.dataType&&"function"!==i.dataType||!p.dataSchema)if("array"===i.dataType)w=Yu(y[0]),n.push(w);else{w=[];for(var P=0,B=p.startCols;P<B;P++)w.push(null);n.push(w)}else w=Yu(y),n.push(w)}Array.isArray(n[0])&&(i.dataType="array"),p.data=n,g.dataSource=n,s.data=n,s.dataType=i.dataType,s.colToProp=g.colToProp.bind(g),s.propToCol=g.propToCol.bind(g),s.countCachedColumns=g.countCachedColumns.bind(g),t(g),i.runHooks("after".concat(h),n,c,u),c||(i.runHooks("afterChange",null,a),i.render())}var tie,Qre=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),KP=function(e){return e.map(function(t){var r=t.toLowerCase();return Qre.has(r)?Qre.get(r):r}).sort().join("+")},eie=function(e){return e.toLowerCase()};function nie(n,e){if(n){if("string"==typeof n)return L4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L4(n,e)}}function L4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function VVe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var rie,iie,jVe=["meta","alt","shift","control"],ZP=function UVe(){var n=new Set;return{press:function(t){n.add(t)},release:function(t){n.delete(t)},releaseAll:function(){n.clear()},isPressed:function(t){return n.has(t)}}}(),YVe=function(e){var t=e.ownerWindow,r=e.handleEvent,i=e.beforeKeyDown,o=e.afterKeyDown,s=YL({errorIdExists:function(S){return'The "'.concat(S,'" context name is already registered.')}}),a="grid",c=function(){return a},h=function(S){return s.getItem(S)},g=!1,y=function WVe(n,e,t,r,i){var o=function(y){return jVe.includes(y)},s=function(y){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1],S=[];return y.altKey&&S.push("alt"),w&&(y.ctrlKey||y.metaKey)?S.push("control/meta"):(y.ctrlKey&&S.push("control"),y.metaKey&&S.push("meta")),y.shiftKey&&S.push("shift"),S},a=function(y){if(!1!==e(y)){var w=t(y);if(229!==y.keyCode&&!1!==w&&!YS(y)){var S=eie(y.key),C=[];o(S)?ZP.press(S):C=s(y);var P=[S].concat(C);!i(y,P)&&(qQ()&&C.includes("meta")||!qQ()&&C.includes("control"))&&i(y,[S].concat(s(y,!0))),r(y)}}},u=function(y){if(!1!==e(y)){var w=eie(y.key);!1!==o(w)&&ZP.release(w)}},c=function(){ZP.releaseAll()};return{mount:function(){for(var y=n;y;)y.document.documentElement.addEventListener("keydown",a),y.document.documentElement.addEventListener("keyup",u),y.document.documentElement.addEventListener("blur",c),y=LL(y)},unmount:function(){for(var y=n;y;)y.document.documentElement.removeEventListener("keydown",a),y.document.documentElement.removeEventListener("keyup",u),y.document.documentElement.removeEventListener("blur",c),y=LL(y)},isPressed:function(y){return ZP.isPressed(y)}}}(t,r,i,o,function(w,S){var C=h(c()),P=!1;if(!C.hasShortcut(S))return P;for(var B=C.getShortcuts(S),z=0;z<B.length;z++){var j=B[z],G=j.callback,pe=j.preventDefault,ne=j.stopPropagation,he=j.captureCtrl;if(!1!==(0,j.runOnlyIf)(w)&&(g=he,P=!1===G(w,S),g=!1,pe&&w.preventDefault(),ne&&w.stopPropagation(),P))break}return P});return y.mount(),{addContext:function(S){var C=function(e){var t=YL({errorIdExists:function(h){return'The "'.concat(h,'" shortcut is already registered in the "').concat(e,'" context.')}}),r=function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=h.keys,g=h.callback,y=h.group,w=h.runOnlyIf,S=void 0===w?function(){return!0}:w,C=h.captureCtrl,P=void 0!==C&&C,B=h.preventDefault,z=void 0===B||B,j=h.stopPropagation,G=void 0!==j&&j,re=h.relativeToGroup,pe=h.position;if(Bs(y))throw new Error("You need to define the shortcut's group.");if(!1===Ts(g))throw new Error("The shortcut's callback needs to be a function.");if(!1===Array.isArray(p))throw new Error(is(tie||(tie=VVe(["Pass the shortcut's keys as an array of arrays, \n      using the KeyboardEvent.key properties: \n      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values."],["Pass the shortcut\\'s keys as an array of arrays,\\x20\n      using the KeyboardEvent.key properties:\\x20\n      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values."]))));var ne={callback:g,group:y,runOnlyIf:S,captureCtrl:P,preventDefault:z,stopPropagation:G};if(wr(re)){var he=[re,pe];ne.relativeToGroup=he[0],ne.position=he[1]}p.forEach(function(we){var Pe=KP(we);if(t.hasItem(Pe)){var at=t.getItem(Pe),je=at.findIndex(function(_t){return _t.group===re});-1!==je?"before"===pe?je-=1:je+=1:je=at.length,at.splice(je,0,ne)}else t.addItem(Pe,[ne])})},o=function(h){var p=KP(h);t.removeItem(p)};return{addShortcut:r,addShortcuts:function(h){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h.forEach(function(g){ao(p,function(y,w){!1===Object.prototype.hasOwnProperty.call(g,w)&&(g[w]=p[w])}),r(g)})},getShortcuts:function(h){var p=KP(h),g=t.getItem(p);return wr(g)?g.slice():[]},hasShortcut:function(h){var p=KP(h);return t.hasItem(p)},removeShortcutsByKeys:o,removeShortcutsByGroup:function(h){t.getItems().forEach(function(g){var y=function NVe(n,e){return function BVe(n){if(Array.isArray(n))return n}(n)||function HVe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||nie(n,e)||function FVe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g,2),w=y[0],S=y[1],C=S.filter(function(P){return P.group!==h});0===C.length?o(function(e){return e.split("+")}(w)):(S.length=0,S.push.apply(S,function kVe(n){return function IVe(n){if(Array.isArray(n))return L4(n)}(n)||function PVe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||nie(n)||function LVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(C)))})}}}(S);return s.addItem(S,C),C},getActiveContextName:c,getContext:h,setActiveContextName:function(S){a=S},isCtrlPressed:function(){return!g&&(y.isPressed("control")||y.isPressed("meta"))},destroy:function(){return y.unmount()}}};function Dc(n){return(Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function oie(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function lp(n,e){return function XVe(n){if(Array.isArray(n))return n}(n)||function $Ve(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||sie(n,e)||function GVe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ay(n){return function qVe(n){if(Array.isArray(n))return P4(n)}(n)||function ZVe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||sie(n)||function KVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sie(n,e){if(n){if("string"==typeof n)return P4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return P4(n,e)}}function P4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var JVe="gridDefault",I4=null,qP=new Set;function N4(n,e){var t,u,c,h,p,r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1,s=this,a=new ia(s),g=!0;j2e(i)&&U2e(this),this.rootElement=n,this.rootDocument=n.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;var y=null!==(t=null==e?void 0:e.layoutDirection)&&void 0!==t?t:"inherit",w=["rtl","ltr"].includes(y)?y:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",w),this.isRtl=function(){return"rtl"===w},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1},e.language=e3e(e.language);var S=new Gre(s,e,[gVe,_Ve]),C=S.getTableMeta(),P=S.getGlobalMeta(),B=YL();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,n.insertBefore(this.container,n.firstChild),vU(this)&&OOe(e.licenseKey,n),this.guid="ht_".concat(JQ()),this.columnIndexMapper=new KU,this.rowIndexMapper=new KU,c=new aFe(s),(!this.rootElement.id||"ht_"===this.rootElement.id.substring(0,3))&&(this.rootElement.id=this.guid);var z=function($){var de=$.row,be=$.col;return s._createCellCoords(de>=0?s.rowIndexMapper.getRenderableFromVisualIndex(de):de,be>=0?s.columnIndexMapper.getRenderableFromVisualIndex(be):be)},j=function($){var de=$.row,be=$.col;return s._createCellCoords(de>=0?s.rowIndexMapper.getVisualFromRenderableIndex(de):de,be>=0?s.columnIndexMapper.getVisualFromRenderableIndex(be):be)},G=new zBe(C,{rowIndexMapper:function(){return s.rowIndexMapper},columnIndexMapper:function(){return s.columnIndexMapper},countCols:function(){return s.countCols()},countRows:function(){return s.countRows()},propToCol:function($){return u.propToCol($)},isEditorOpened:function(){return!!s.getActiveEditor()&&s.getActiveEditor().isOpened()},countColsTranslated:function(){return r.view.countRenderableColumns()},countRowsTranslated:function(){return r.view.countRenderableRows()},getShortcutManager:function(){return s.getShortcutManager()},createCellCoords:function($,de){return s._createCellCoords($,de)},createCellRange:function($,de,be){return s._createCellRange($,de,be)},visualToRenderableCoords:z,renderableToVisualCoords:j,isDisabledCellSelection:function($,de){return s.getCellMeta($,de).disableVisualSelection}});this.selection=G;var re=function($){$.hiddenIndexesChanged&&r.selection.refresh()};function pe(Z){var $=Kne(Z);p4($)?(s.runHooks("beforeLanguageChange",$),P.language=$,s.runHooks("afterLanguageChange",$)):Zne(Z)}function ne(Z,$){var de="className"===Z?s.rootElement:s.table;if(g)An(de,$);else{var be=[],Ee=[];P[Z]&&(be=Array.isArray(P[Z])?P[Z]:YQ(P[Z])),$&&(Ee=Array.isArray($)?$:YQ($));var We=WQ(be,Ee),Mt=WQ(Ee,be);We.length&&Hi(de,We),Mt.length&&An(de,Mt)}P[Z]=$}function he(){var Z=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue+=1,Z=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0===this.validatorsInQueue&&!1===Z&&(Z=!0,this.onQueueEmpty(this.valid))}}}function we(Z){var $=Z.replace(",",".");return!1===isNaN(parseFloat($))?parseFloat($):Z}function Pe(Z,$,de){if(Z.length){var be=s.getActiveEditor(),Ee=s.runHooks("beforeChange",Z,$||"edit"),We=!0;if(!1===Ee)return void(be&&be.cancelChanges());var Mt=new he;Mt.onQueueEmpty=function(gn){be&&We&&be.cancelChanges(),de(gn)};for(var kt=Z.length-1;kt>=0;kt--)if(null===Z[kt])Z.splice(kt,1);else{var Dt=lp(Z[kt],4),ut=Dt[0],pt=Dt[3],Ot=u.propToCol(Dt[1]),It=s.getCellMeta(ut,Ot);"numeric"===It.type&&"string"==typeof pt&&bke(pt)&&(Z[kt][3]=we(pt)),s.getCellValidator(It)&&(Mt.addValidatorToQueue(),s.validateCell(Z[kt][3],It,function(gn,dn){return function(Xn){if("boolean"!=typeof Xn)throw new Error("Validation error: result is not boolean");if(!1===Xn&&!1===dn.allowInvalid){We=!1,Z.splice(gn,1),dn.valid=!0;var Hn=s.getCell(dn.visualRow,dn.visualCol);null!==Hn&&Hi(Hn,C.invalidCellClassName)}Mt.removeValidatorFormQueue()}}(kt,It),$))}Mt.checkIfQueueIsEmpty()}}function ot(Z,$){var de=Z.length-1;if(!(de<0)){for(;de>=0;de--){var be=!1;if(null!==Z[de]){if(null!=Z[de][2]||null!=Z[de][3]){if(C.allowInsertRow)for(;Z[de][0]>s.countRows()-1;){var We=u.createRow(void 0,void 0,{source:$}).delta;if(!(We>=1)){be=!0;break}S.createRow(null,We)}if("array"===s.dataType&&(!C.columns||0===C.columns.length)&&C.allowInsertColumn)for(;u.propToCol(Z[de][1])>s.countCols()-1;){var kt=u.createCol(void 0,void 0,{source:$}).delta;if(!(kt>=1)){be=!0;break}S.createColumn(null,kt)}be||u.set(Z[de][0],Z[de][1],Z[de][3])}}else Z.splice(de,1)}s.forceFullRender=!0,h.adjustRowsAndCols(),s.runHooks("beforeChangeRender",Z,$),p.lockEditor(),s._refreshBorders(null),p.unlockEditor(),s.view.adjustElementsSize(),s.runHooks("afterChange",Z,$||"edit");var Dt=s.getActiveEditor();Dt&&wr(Dt.refreshValue)&&Dt.refreshValue()}}function at(Z,$,de){return Array.isArray(Z)?Z:[[Z,$,de]]}this.columnIndexMapper.addLocalHook("cacheUpdated",re),this.rowIndexMapper.addLocalHook("cacheUpdated",re),this.selection.addLocalHook("beforeSetRangeStart",function(Z){r.runHooks("beforeSetRangeStart",Z)}),this.selection.addLocalHook("beforeSetRangeStartOnly",function(Z){r.runHooks("beforeSetRangeStartOnly",Z)}),this.selection.addLocalHook("beforeSetRangeEnd",function(Z){r.runHooks("beforeSetRangeEnd",Z),Z.row<0&&(Z.row=r.view._wt.wtTable.getFirstVisibleRow()),Z.col<0&&(Z.col=r.view._wt.wtTable.getFirstVisibleColumn())}),this.selection.addLocalHook("afterSetRangeEnd",function(Z){var $=VS(!1),de=r.selection.getSelectedRange(),be=de.current(),Ee=be.from,We=be.to,Mt=de.size()-1;r.runHooks("afterSelection",Ee.row,Ee.col,We.row,We.col,$,Mt),r.runHooks("afterSelectionByProp",Ee.row,s.colToProp(Ee.col),We.row,s.colToProp(We.col),$,Mt);var kt=r.selection.isSelectedByAnyHeader(),Dt=r.selection.selectedRange.current(),ut=!0;o&&(ut=!1),$.isTouched()&&(ut=!$.value);var Lt=r.selection.isSelectedByRowHeader(),pt=r.selection.isSelectedByColumnHeader();!1!==ut&&(kt?Lt?r.view.scrollViewportVertically(s.rowIndexMapper.getRenderableFromVisualIndex(Z.row)):pt&&r.view.scrollViewportHorizontally(s.columnIndexMapper.getRenderableFromVisualIndex(Z.col)):Dt&&!r.selection.isMultiple()?r.view.scrollViewport(z(Dt.from)):r.view.scrollViewport(z(Z))),Lt&&pt?An(r.rootElement,["ht__selection--rows","ht__selection--columns"]):Lt?(Hi(r.rootElement,"ht__selection--columns"),An(r.rootElement,"ht__selection--rows")):pt?(Hi(r.rootElement,"ht__selection--rows"),An(r.rootElement,"ht__selection--columns")):Hi(r.rootElement,["ht__selection--rows","ht__selection--columns"]),r._refreshBorders(null)}),this.selection.addLocalHook("afterSelectionFinished",function(Z){var $=Z.length-1,de=Z[$],be=de.from,Ee=de.to;r.runHooks("afterSelectionEnd",be.row,be.col,Ee.row,Ee.col,$),r.runHooks("afterSelectionEndByProp",be.row,s.colToProp(be.col),Ee.row,s.colToProp(Ee.col),$)}),this.selection.addLocalHook("afterIsMultipleSelection",function(Z){var $=r.runHooks("afterIsMultipleSelection",Z.value);Z.value&&(Z.value=$)}),this.selection.addLocalHook("beforeModifyTransformStart",function(Z){r.runHooks("modifyTransformStart",Z)}),this.selection.addLocalHook("afterModifyTransformStart",function(Z,$,de){r.runHooks("afterModifyTransformStart",Z,$,de)}),this.selection.addLocalHook("beforeModifyTransformEnd",function(Z){r.runHooks("modifyTransformEnd",Z)}),this.selection.addLocalHook("afterModifyTransformEnd",function(Z,$,de){r.runHooks("afterModifyTransformEnd",Z,$,de)}),this.selection.addLocalHook("afterDeselect",function(){p.destroyEditor(),r._refreshBorders(),Hi(r.rootElement,["ht__selection--rows","ht__selection--columns"]),r.runHooks("afterDeselect")}),this.selection.addLocalHook("insertRowRequire",function(Z){r.alter("insert_row_above",Z,1,"auto")}),this.selection.addLocalHook("insertColRequire",function(Z){r.alter("insert_col_start",Z,1,"auto")}),h={alter:function($,de){var be,Ee,We=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,Mt=arguments.length>3?arguments[3]:void 0,kt=arguments.length>4?arguments[4]:void 0,Dt=function(Tn){if(0===Tn.length)return[];var ur=ay(Tn);return ur.sort(function(Lr,li){var Ki=lp(Lr,1)[0],Rs=lp(li,1)[0];return Ki===Rs?0:Ki>Rs?1:-1}),Ya(ur,function(Lr,li){var di=lp(li,2),Ki=di[0],Vo=di[1],Rs=Lr[Lr.length-1],Ea=lp(Rs,2),Ll=Ea[0]+Ea[1];if(Ki<=Ll){var $l=Math.max(Vo-(Ll-Ki),0);Rs[1]+=$l}else Lr.push([Ki,Vo]);return Lr},[ur[0]])};switch($){case"insert_row":qP.has($)||(qP.add($),ps(is(rie||(rie=oie(["The `","` action of the `alter()` method is deprecated and will be removed \n                              in the next major release of Handsontable. Use the `insert_row_above` action instead."],["The \\`","\\` action of the \\`alter()\\` method is deprecated and will be removed\\x20\n                              in the next major release of Handsontable. Use the \\`insert_row_above\\` action instead."])),$)));case"insert_row_below":case"insert_row_above":var ut=s.countSourceRows();if(C.maxRows===ut)return;var Lt="insert_row_below"===$?"below":"above";de=null!==(be=de)&&void 0!==be?be:"insert_row"===$||"below"===Lt?ut:0;var pt=u.createRow(de,We,{source:Mt,mode:Lt}),Ot=pt.delta,It=pt.startPhysicalIndex;if(Ot){S.createRow(It,We);var gn=G.selectedRange.current(),dn=null==gn?void 0:gn.from,Xn=null==dn?void 0:dn.row,Hn=s.toVisualRow(It);if(G.isSelectedByCorner())s.selectAll();else if(wr(Xn)&&Xn>=Hn){var un=gn.to,xn=un.row,Pn=un.col,Le=dn.col;G.isSelectedByRowHeader()&&(Le=-1),G.getSelectedRange().pop(),G.setRangeStartOnly(s._createCellCoords(Xn+Ot,Le),!0),G.setRangeEnd(s._createCellCoords(xn+Ot,Pn))}else s._refreshBorders()}break;case"insert_col":qP.has($)||(qP.add($),ps(is(iie||(iie=oie(["The `","` action of the `alter()` method is deprecated and will be removed \n                              in the next major release of Handsontable. Use the `insert_col_start` action instead."],["The \\`","\\` action of the \\`alter()\\` method is deprecated and will be removed\\x20\n                              in the next major release of Handsontable. Use the \\`insert_col_start\\` action instead."])),$)));case"insert_col_start":case"insert_col_end":var Se="insert_col_end"===$?"end":"start";de=null!==(Ee=de)&&void 0!==Ee?Ee:"insert_col"===$||"end"===Se?s.countSourceCols():0;var Bt=u.createCol(de,We,{source:Mt,mode:Se}),on=Bt.delta,pn=Bt.startPhysicalIndex;if(on){if(S.createColumn(pn,We),Array.isArray(C.colHeaders)){var Nn=[s.toVisualColumn(pn),0];Nn.length+=on,Array.prototype.splice.apply(C.colHeaders,Nn)}var Er=G.selectedRange.current(),$t=null==Er?void 0:Er.from,vr=null==$t?void 0:$t.col,or=s.toVisualColumn(pn);if(G.isSelectedByCorner())s.selectAll();else if(wr(vr)&&vr>=or){var er=Er.to,ft=er.row,jn=er.col,zn=$t.row;G.isSelectedByColumnHeader()&&(zn=-1),G.getSelectedRange().pop(),G.setRangeStartOnly(s._createCellCoords(zn,vr+on),!0),G.setRangeEnd(s._createCellCoords(ft,jn+on))}else s._refreshBorders()}break;case"remove_row":var Yr=function(Tn){var ur=0;it(Tn,function(Gr){var Lr=lp(Gr,2),li=Lr[0],di=Lr[1],Ki=hl(li)?s.countRows()-1:Math.max(li-ur,0);if(Number.isInteger(li)&&(li=Math.max(li-ur,0)),u.removeRow(li,di,Mt)){S.removeRow(s.toPhysicalRow(Ki),di);var Rs=s.countRows(),Ea=C.fixedRowsTop;Ea>=Ki+1&&(C.fixedRowsTop-=Math.min(di,Ea-Ki));var Ta=C.fixedRowsBottom;Ta&&Ki>=Rs-Ta&&(C.fixedRowsBottom-=Math.min(di,Ta)),ur+=di}})};Array.isArray(de)?Yr(Dt(de)):Yr([[de,We]]),h.adjustRowsAndCols(),s._refreshBorders();break;case"remove_col":var sr=function(Tn){var ur=0;it(Tn,function(Gr){var Lr=lp(Gr,2),li=Lr[0],di=Lr[1],Ki=hl(li)?s.countCols()-1:Math.max(li-ur,0),Vo=s.toPhysicalColumn(Ki);if(Number.isInteger(li)&&(li=Math.max(li-ur,0)),u.removeCol(li,di,Mt)){S.removeColumn(Vo,di);var Ea=C.fixedColumnsStart;Ea>=Ki+1&&(C.fixedColumnsStart-=Math.min(di,Ea-Ki)),Array.isArray(C.colHeaders)&&(void 0===Vo&&(Vo=-1),C.colHeaders.splice(Vo,di)),ur+=di}})};Array.isArray(de)?sr(Dt(de)):sr([[de,We]]),h.adjustRowsAndCols(),s._refreshBorders();break;default:throw new Error('There is no such action "'.concat($,'"'))}kt||h.adjustRowsAndCols()},adjustRowsAndCols:function(){var ut,$=C.minRows,de=C.minSpareRows,be=C.minCols,Ee=C.minSpareCols;if(0===s.countRows()&&0===s.countCols()&&G.deselect(),$){var We=s.countRows();We<$&&u.createRow(We,$-We,{source:"auto"})}if(de){var Mt=s.countEmptyRows(!0);if(Mt<de){var Dt=Math.min(de-Mt,C.maxRows-s.countSourceRows());u.createRow(s.countRows(),Dt,{source:"auto"})}}(be||Ee)&&(ut=s.countEmptyCols(!0));var Lt=s.countCols();if(be&&!C.columns&&Lt<be){var pt=be-Lt;ut+=pt,u.createCol(Lt,pt,{source:"auto"})}if(Ee&&!C.columns&&"array"===s.dataType&&ut<Ee){Lt=s.countCols();var It=Math.min(Ee-ut,C.maxCols-Lt);u.createCol(Lt,It,{source:"auto"})}if(G.isSelected()){var gn=s.countRows(),dn=s.countCols();it(G.selectedRange,function(Xn){var Hn=!1,un=Xn.from.row,xn=Xn.from.col,Pn=Xn.to.row,Le=Xn.to.col;un>gn-1?(Hn=!0,Pn>(un=gn-1)&&(Pn=un)):Pn>gn-1&&(Hn=!0,un>(Pn=gn-1)&&(un=Pn)),xn>dn-1?(Hn=!0,Le>(xn=dn-1)&&(Le=xn)):Le>dn-1&&(Hn=!0,xn>(Le=dn-1)&&(xn=Le)),Hn&&s.selectCell(un,xn,Pn,Le)})}s.view&&s.view.adjustElementsSize()},populateFromArray:function($,de,be,Ee,We,Mt,kt){var Dt,ut,Lt,pt,Ot=[],It={},gn=[],dn=$.row,Xn=$.col;if(0===(ut=de.length))return!1;var Hn=0,un=0;switch($i(be)&&(Hn=be.col-Xn+1,un=be.row-dn+1),We){case"shift_down":var xn=OL(de),Pn=xn.length,Le=Math.max(Pn,Hn),Se=s.getData().slice(dn),Bt=OL(Se).slice(Xn,Xn+Le);for(Lt=0;Lt<Le;Lt+=1)if(Lt<Pn){for(Dt=0,ut=xn[Lt].length;Dt<un-ut;Dt+=1)xn[Lt].push(xn[Lt][Dt%ut]);gn.push(xn[Lt].concat(Lt<Bt.length?Bt[Lt]:new Array(Se.length).fill(null)))}else gn.push(xn[Lt%Pn].concat(Bt[Lt]));s.populateFromArray(dn,Xn,OL(gn));break;case"shift_right":var on=de.length,pn=Math.max(on,un),Nn=s.getData().slice(dn).map(function(Ea){return Ea.slice(Xn)});for(Dt=0;Dt<pn;Dt+=1)if(Dt<on){for(Lt=0,pt=de[Dt].length;Lt<Hn-pt;Lt+=1)de[Dt].push(de[Dt][Lt%pt]);var $t;if(Dt<Nn.length)for(var Er=0;Er<Nn[Dt].length;Er+=1)de[Dt].push(Nn[Dt][Er]);else($t=de[Dt]).push.apply($t,ay(new Array(Nn[0].length).fill(null)))}else de.push(de[Dt%ut].slice(0,pn).concat(Nn[Dt]));s.populateFromArray(dn,Xn,de);break;default:It.row=$.row,It.col=$.col;var jn,vr={row:be&&$?be.row-$.row+1:1,col:be&&$?be.col-$.col+1:1},or=0,er=0,ft=!0,zn=function(Ta){var Ju=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Ll=de[Ta%de.length];return null!==Ju?Ll[Ju%Ll.length]:Ll},Yr=de.length,sr=be?be.row-$.row+1:0;for(ut=be?sr:Math.max(Yr,sr),Dt=0;Dt<ut&&!(be&&It.row>be.row&&sr>Yr||!C.allowInsertRow&&It.row>s.countRows()-1||It.row>=C.maxRows);Dt++){var Kr=Dt-or,Tn=zn(Kr).length,ur=be?be.col-$.col+1:0;if(pt=be?ur:Math.max(Tn,ur),It.col=$.col,jn=s.getCellMeta(It.row,It.col),"CopyPaste.paste"!==Ee&&"Autofill.fill"!==Ee||!jn.skipRowOnPaste){for(er=0,Lt=0;Lt<pt&&!(be&&It.col>be.col&&ur>Tn||!C.allowInsertColumn&&It.col>s.countCols()-1||It.col>=C.maxCols);Lt++)if(jn=s.getCellMeta(It.row,It.col),"CopyPaste.paste"!==Ee&&"Autofill.fill"!==Ee||!jn.skipColumnOnPaste)if(jn.readOnly&&"UndoRedo.undo"!==Ee)It.col+=1;else{var Gr=Lt-er,Lr=zn(Kr,Gr),li=s.getDataAtCell(It.row,It.col);if("Autofill.fill"===Ee){var Ki=s.runHooks("beforeAutofillInsidePopulate",{row:Kr,col:Gr},Mt,de,kt,{},vr);Ki&&(Lr=Bs(Ki.value)?Lr:Ki.value)}null!==Lr&&"object"===Dc(Lr)?(Array.isArray(Lr)&&null===li&&(li=[]),null===li||"object"!==Dc(li)?ft=!1:$Q(n1(Array.isArray(li)?li:li[0]||li),n1(Array.isArray(Lr)?Lr:Lr[0]||Lr))?Lr=Yu(Lr):ft=!1):null!==li&&"object"===Dc(li)&&(ft=!1),ft&&Ot.push([It.row,It.col,Lr]),ft=!0,It.col+=1}else er+=1,It.col+=1,pt+=1;It.row+=1}else or+=1,It.row+=1,ut+=1}s.setDataAtCell(Ot,null,null,Ee||"populateFromArray")}}},this.init=function(){c.setData(C.data),s.runHooks("beforeInit"),(tp()||KQ())&&An(s.rootElement,"mobile"),this.updateSettings(C,!0),this.view=new Q2e(this),p=ake.getInstance(s,C,G),s.runHooks("init"),this.forceFullRender=!0,this.view.render(),"object"===Dc(g)&&(s.runHooks("afterChange",g[0],g[1]),g=!1),s.runHooks("afterInit")},this._createCellCoords=function(Z,$){return s.view._wt.createCellCoords(Z,$)},this._createCellRange=function(Z,$,de){return s.view._wt.createCellRange(Z,$,de)},this.validateCell=function(Z,$,de,be){var Mt,Ee=s.getCellValidator($);function We(Mt){var kt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(kt&&!0!==$.hidden){var Dt=$.visualCol,ut=$.visualRow,Lt=s.getCell(ut,Dt,!0);if(Lt&&"TH"!==Lt.nodeName){var pt=s.rowIndexMapper.getRenderableFromVisualIndex(ut),Ot=s.columnIndexMapper.getRenderableFromVisualIndex(Dt);s.view._wt.getSetting("cellRenderer",pt,Ot,Lt)}de(Mt)}else de(Mt)}ROe(Ee)&&(Mt=Ee,Ee=function(kt,Dt){Dt(Mt.test(kt))}),Ts(Ee)?(Z=s.runHooks("beforeValidate",Z,$.visualRow,$.prop,be),s._registerImmediate(function(){Ee.call($,Z,function(Mt){!s||(Mt=s.runHooks("afterValidate",Mt,Z,$.visualRow,$.prop,be),$.valid=Mt,We(Mt),s.runHooks("postAfterValidate",Mt,Z,$.visualRow,$.prop,be))})})):s._registerImmediate(function(){$.valid=!0,We($.valid,!1)})},this.setDataAtCell=function(Z,$,de,be){var kt,Dt,ut,Ee=at(Z,$,de),We=[],Mt=be;for(kt=0,Dt=Ee.length;kt<Dt;kt++){if("object"!==Dc(Ee[kt]))throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof Ee[kt][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");ut=Ee[kt][1]>=this.countCols()?Ee[kt][1]:u.colToProp(Ee[kt][1]),We.push([Ee[kt][0],ut,c.getAtCell(this.toPhysicalRow(Ee[kt][0]),Ee[kt][1]),Ee[kt][2]])}!Mt&&"object"===Dc(Z)&&(Mt=$),s.runHooks("afterSetDataAtCell",We,Mt),Pe(We,Mt,function(){ot(We,Mt)})},this.setDataAtRowProp=function(Z,$,de,be){var kt,Dt,Ee=at(Z,$,de),We=[],Mt=be;for(kt=0,Dt=Ee.length;kt<Dt;kt++)We.push([Ee[kt][0],Ee[kt][1],c.getAtCell(this.toPhysicalRow(Ee[kt][0]),Ee[kt][1]),Ee[kt][2]]);!Mt&&"object"===Dc(Z)&&(Mt=$),s.runHooks("afterSetDataAtRowProp",We,Mt),Pe(We,Mt,function(){ot(We,Mt)})},this.listen=function(){s&&!s.isListening()&&(I4=s.guid,s.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(I4=null,s.runHooks("afterUnlisten"))},this.isListening=function(){return I4===s.guid},this.destroyEditor=function(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0],$=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s._refreshBorders(Z,$)},this.populateFromArray=function(Z,$,de,be,Ee,We,Mt,kt,Dt){if("object"!==Dc(de)||"object"!==Dc(de[0]))throw new Error("populateFromArray parameter `input` must be an array of arrays");var ut="number"==typeof be?s._createCellCoords(be,Ee):null;return h.populateFromArray(s._createCellCoords(Z,$),de,ut,We,Mt,kt,Dt)},this.spliceCol=function(Z,$,de){for(var be,Ee=arguments.length,We=new Array(Ee>3?Ee-3:0),Mt=3;Mt<Ee;Mt++)We[Mt-3]=arguments[Mt];return(be=u).spliceCol.apply(be,[Z,$,de].concat(We))},this.spliceRow=function(Z,$,de){for(var be,Ee=arguments.length,We=new Array(Ee>3?Ee-3:0),Mt=3;Mt<Ee;Mt++)We[Mt-3]=arguments[Mt];return(be=u).spliceRow.apply(be,[Z,$,de].concat(We))},this.getSelected=function(){if(G.isSelected())return to(G.getSelectedRange(),function(Z){var $=Z.from,de=Z.to;return[$.row,$.col,de.row,de.col]})},this.getSelectedLast=function(){var $,Z=this.getSelected();return Z&&Z.length>0&&($=Z[Z.length-1]),$},this.getSelectedRange=function(){if(G.isSelected())return Array.from(G.getSelectedRange())},this.getSelectedRangeLast=function(){var $,Z=this.getSelectedRange();return Z&&Z.length>0&&($=Z[Z.length-1]),$},this.emptySelectedCells=function(Z){var $=this;if(G.isSelected()&&0!==this.countRows()&&0!==this.countCols()){var de=[];it(G.getSelectedRange(),function(be){var Ee=be.getTopStartCorner(),We=be.getBottomEndCorner();Hr(Ee.row,We.row,function(Mt){Hr(Ee.col,We.col,function(kt){$.getCellMeta(Mt,kt).readOnly||de.push([Mt,kt,null])})})}),de.length>0&&this.setDataAtCell(de,Z)}},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){var Z=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(Z,0),!this.isRenderSuspended()&&Z===this.renderSuspendedCounter&&(this.renderCall?this.render():this._refreshBorders(null))},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||(p.lockEditor(),this._refreshBorders(null),p.unlockEditor()))},this.batchRender=function(Z){this.suspendRender();var $=Z();return this.resumeRender(),$},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0],$=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max($,0),(!this.isExecutionSuspended()&&$===this.executionSuspendedCounter||Z)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(Z){var $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.suspendExecution();var de=Z();return this.resumeExecution($),de},this.batch=function(Z){this.suspendRender(),this.suspendExecution();var $=Z();return this.resumeExecution(),this.resumeRender(),$},this.refreshDimensions=function(){if(s.view){var Z=s.view.getLastSize(),$=Z.width,de=Z.height,be=s.rootElement.getBoundingClientRect(),Ee=be.width,We=be.height,Mt=Ee!==$||We!==de;!1===s.runHooks("beforeRefreshDimensions",{width:$,height:de},{width:Ee,height:We},Mt)||((Mt||s.view._wt.wtOverlays.scrollableElement===s.rootWindow)&&(s.view.setLastSize(Ee,We),s.render()),s.runHooks("afterRefreshDimensions",{width:$,height:de},{width:Ee,height:We},Mt))}},this.updateData=function(Z,$){var de=this;Jre(Z,function(be){u=be},function(be){u=be,s.columnIndexMapper.fitToLength(de.getInitialColumnCount()),s.rowIndexMapper.fitToLength(de.countSourceRows()),h.adjustRowsAndCols()},{hotInstance:s,dataMap:u,dataSource:c,internalSource:"updateData",source:$,firstRun:g})},this.loadData=function(Z,$){Jre(Z,function(de){u=de},function(){S.clearCellsCache(),s.initIndexMappers(),h.adjustRowsAndCols(),g&&(g=[null,"loadData"])},{hotInstance:s,dataMap:u,dataSource:c,internalSource:"loadData",source:$,firstRun:g})},this.getInitialColumnCount=function(){var Z=C.columns,$=0;if(Array.isArray(Z))$=Z.length;else if(Ts(Z))if("array"===s.dataType)for(var de=this.countSourceCols(),be=0;be<de;be+=1)Z(be)&&($+=1);else("object"===s.dataType||"function"===s.dataType)&&($=u.colToPropCache.length);else if(wr(C.dataSchema)){var Ee=u.getSchema();$=Array.isArray(Ee)?Ee.length:HV(Ee)}else $=this.countSourceCols();return $},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(Z,$,de,be){return Bs(Z)?u.getAll():u.getRange(s._createCellCoords(Z,$),s._createCellCoords(de,be),u.DESTINATION_RENDERER)},this.getCopyableText=function(Z,$,de,be){return u.getCopyableText(s._createCellCoords(Z,$),s._createCellCoords(de,be))},this.getCopyableData=function(Z,$){return u.getCopyable(Z,u.colToProp($))},this.getSchema=function(){return u.getSchema()},this.updateSettings=function(Z){var Ee,We,$=arguments.length>1&&void 0!==arguments[1]&&arguments[1],de=(g?s.loadData:s.updateData).bind(this),be=!1;if(wr(Z.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(wr(Z.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(wr(Z.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(Ee in Z)"data"===Ee||("language"===Ee?pe(Z.language):"className"===Ee?ne("className",Z.className):"tableClassName"===Ee&&s.table?(ne("tableClassName",Z.tableClassName),s.view._wt.wtOverlays.syncOverlayTableClassNames()):xr.getSingleton().isRegistered(Ee)||xr.getSingleton().isDeprecated(Ee)?(Ts(Z[Ee])||Array.isArray(Z[Ee]))&&(Z[Ee].initialHook=!0,s.addHook(Ee,Z[Ee])):!$&&Hs(Z,Ee)&&(P[Ee]=Z[Ee]));void 0===Z.data&&void 0===C.data?de(null,"updateSettings"):void 0!==Z.data?de(Z.data,"updateSettings"):void 0!==Z.columns&&(u.createMap(),s.initIndexMappers());var Mt=s.countCols(),kt=C.columns;if(kt&&Ts(kt)&&(be=!0),(void 0!==Z.cell||void 0!==Z.cells||void 0!==Z.columns)&&S.clearCache(),Mt>0)for(Ee=0,We=0;Ee<Mt;Ee++){if(kt){var Dt=be?kt(Ee):kt[We];Dt&&S.updateColumnMeta(We,Dt)}We+=1}wr(Z.cell)&&ao(Z.cell,function(gn){s.setCellMetaObject(gn.row,gn.col,gn)}),s.runHooks("afterCellMetaReset");var ut=s.rootElement.style.height;""!==ut&&(ut=parseInt(s.rootElement.style.height,10));var Lt=Z.height;if(Ts(Lt)&&(Lt=Lt()),$){var pt=s.rootElement.getAttribute("style");pt&&s.rootElement.setAttribute("data-initialstyle",s.rootElement.getAttribute("style"))}if(null===Lt){var Ot=s.rootElement.getAttribute("data-initialstyle");Ot&&(Ot.indexOf("height")>-1||Ot.indexOf("overflow")>-1)?s.rootElement.setAttribute("style",Ot):(s.rootElement.style.height="",s.rootElement.style.overflow="")}else void 0!==Lt&&(s.rootElement.style.height=isNaN(Lt)?"".concat(Lt):"".concat(Lt,"px"),s.rootElement.style.overflow="hidden");if(void 0!==Z.width){var It=Z.width;Ts(It)&&(It=It()),s.rootElement.style.width=isNaN(It)?"".concat(It):"".concat(It,"px")}$||(s.view&&(s.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),s.view._wt.exportSettingsAsClassNames()),s.runHooks("afterUpdateSettings",Z)),h.adjustRowsAndCols(),s.view&&!g&&(s.forceFullRender=!0,p.lockEditor(),s._refreshBorders(null),s.view._wt.wtOverlays.adjustElementsSize(),p.unlockEditor()),!$&&s.view&&(""===ut||""===Lt||void 0===Lt)&&ut!==Lt&&s.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var Z=s.getSelectedLast();if(C.getValue){if(Ts(C.getValue))return C.getValue.call(s);if(Z)return s.getData()[Z[0][0]][C.getValue]}else if(Z)return s.getDataAtCell(Z[0],Z[1])},this.getSettings=function(){return C},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(Z,$,de,be,Ee){h.alter(Z,$,de,be,Ee)},this.getCell=function(Z,$){var de=arguments.length>2&&void 0!==arguments[2]&&arguments[2],be=$,Ee=Z;if($>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn($)))return null;be=this.columnIndexMapper.getRenderableFromVisualIndex($)}if(Z>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(Z)))return null;Ee=this.rowIndexMapper.getRenderableFromVisualIndex(Z)}return null===Ee||null===be?null:s.view.getCellAtCoords(s._createCellCoords(Ee,be),de)},this.getCoords=function(Z){var $=this.view._wt.wtTable.getCoords(Z);if(null===$)return null;var de=$.row,be=$.col,Ee=de,We=be;return de>=0&&(Ee=this.rowIndexMapper.getVisualFromRenderableIndex(de)),be>=0&&(We=this.columnIndexMapper.getVisualFromRenderableIndex(be)),s._createCellCoords(Ee,We)},this.colToProp=function(Z){return u.colToProp(Z)},this.propToCol=function(Z){return u.propToCol(Z)},this.toVisualRow=function(Z){return r.rowIndexMapper.getVisualFromPhysicalIndex(Z)},this.toVisualColumn=function(Z){return r.columnIndexMapper.getVisualFromPhysicalIndex(Z)},this.toPhysicalRow=function(Z){return r.rowIndexMapper.getPhysicalFromVisualIndex(Z)},this.toPhysicalColumn=function(Z){return r.columnIndexMapper.getPhysicalFromVisualIndex(Z)},this.getDataAtCell=function(Z,$){return u.get(Z,u.colToProp($))},this.getDataAtRowProp=function(Z,$){return u.get(Z,$)},this.getDataAtCol=function(Z){var $;return($=[]).concat.apply($,ay(u.getRange(s._createCellCoords(0,Z),s._createCellCoords(C.data.length-1,Z),u.DESTINATION_RENDERER)))},this.getDataAtProp=function(Z){var $,de=u.getRange(s._createCellCoords(0,u.propToCol(Z)),s._createCellCoords(C.data.length-1,u.propToCol(Z)),u.DESTINATION_RENDERER);return($=[]).concat.apply($,ay(de))},this.getSourceData=function(Z,$,de,be){return void 0===Z?c.getData():c.getByRange(s._createCellCoords(Z,$),s._createCellCoords(de,be))},this.getSourceDataArray=function(Z,$,de,be){return void 0===Z?c.getData(!0):c.getByRange(s._createCellCoords(Z,$),s._createCellCoords(de,be),!0)},this.getSourceDataAtCol=function(Z){return c.getAtColumn(Z)},this.setSourceDataAtCell=function(Z,$,de,be){var Ee=at(Z,$,de),We=this.hasHook("afterSetSourceDataAtCell"),Mt=[];We&&it(Ee,function(Dt){var ut=lp(Dt,3),Lt=ut[0],pt=ut[1],Ot=ut[2];Mt.push([Lt,pt,c.getAtCell(Lt,pt),Ot])}),it(Ee,function(Dt){var ut=lp(Dt,3);c.setAtCell(ut[0],ut[1],ut[2])}),We&&this.runHooks("afterSetSourceDataAtCell",Mt,be),this.render();var kt=s.getActiveEditor();kt&&wr(kt.refreshValue)&&kt.refreshValue()},this.getSourceDataAtRow=function(Z){return c.getAtRow(Z)},this.getSourceDataAtCell=function(Z,$){return c.getAtCell(Z,$)},this.getDataAtRow=function(Z){return u.getRange(s._createCellCoords(Z,0),s._createCellCoords(Z,this.countCols()-1),u.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(Z,$,de,be){var Ee=this,We=void 0===Z?[0,0,this.countRows(),this.countCols()]:[Z,$,de,be],Mt=We[0],kt=We[1],Dt=We[2],ut=We[3],Lt=null,pt=null;void 0===Dt&&(Dt=Mt),void 0===ut&&(ut=kt);var Ot="mixed";return Hr(Math.max(Math.min(Mt,Dt),0),Math.max(Mt,Dt),function(It){var gn=!0;return Hr(Math.max(Math.min(kt,ut),0),Math.max(kt,ut),function(dn){var Xn=Ee.getCellMeta(It,dn);return pt=Xn.type,Lt?gn=Lt===pt:Lt=pt,gn}),Ot=gn?pt:"mixed",gn}),Ot},this.removeCellMeta=function(Z,$,de){var be=[this.toPhysicalRow(Z),this.toPhysicalColumn($)],Ee=be[0],We=be[1],Mt=S.getCellMetaKeyValue(Ee,We,de);!1!==s.runHooks("beforeRemoveCellMeta",Z,$,de,Mt)&&(S.removeCellMeta(Ee,We,de),s.runHooks("afterRemoveCellMeta",Z,$,de,Mt)),Mt=null},this.spliceCellsMeta=function(Z){for(var $=this,de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,be=arguments.length,Ee=new Array(be>2?be-2:0),We=2;We<be;We++)Ee[We-2]=arguments[We];if(Ee.length>0&&!Array.isArray(Ee[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");de>0&&S.removeRow(this.toPhysicalRow(Z),de),Ee.length>0&&it(Ee.reverse(),function(Mt){S.createRow($.toPhysicalRow(Z)),it(Mt,function(kt,Dt){return $.setCellMetaObject(Z,Dt,kt)})}),s.render()},this.setCellMetaObject=function(Z,$,de){var be=this;"object"===Dc(de)&&ao(de,function(Ee,We){be.setCellMeta(Z,$,We,Ee)})},this.setCellMeta=function(Z,$,de,be){if(!1!==s.runHooks("beforeSetCellMeta",Z,$,de,be)){var We=Z,Mt=$;Z<this.countRows()&&(We=this.toPhysicalRow(Z)),$<this.countCols()&&(Mt=this.toPhysicalColumn($)),S.setCellMeta(We,Mt,de,be),s.runHooks("afterSetCellMeta",Z,$,de,be)}},this.getCellsMeta=function(){return S.getCellsMeta()},this.getCellMeta=function(Z,$){var de=this.toPhysicalRow(Z),be=this.toPhysicalColumn($);return null===de&&(de=Z),null===be&&(be=$),S.getCellMeta(de,be,{visualRow:Z,visualColumn:$})},this.getCellMetaAtRow=function(Z){return S.getCellsMetaAtRow(Z)},this.isColumnModificationAllowed=function(){return!("object"===s.dataType||C.columns)};var je=xP("renderer");this.getCellRenderer=function(Z,$){return lLe(je.call(this,Z,$))},this.getCellEditor=xP("editor");var _t=xP("validator");this.getCellValidator=function(Z,$){var de=_t.call(this,Z,$);return"string"==typeof de&&(de=dLe(de)),de},this.validateCells=function(Z){this._validateCells(Z)},this.validateRows=function(Z,$){if(!Array.isArray(Z))throw new Error("validateRows parameter `rows` must be an array");this._validateCells($,Z)},this.validateColumns=function(Z,$){if(!Array.isArray(Z))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells($,void 0,Z)},this._validateCells=function(Z,$,de){var be=new he;Z&&(be.onQueueEmpty=Z);for(var Ee=s.countRows()-1;Ee>=0;)if(void 0===$||-1!==$.indexOf(Ee)){for(var We=s.countCols()-1;We>=0;)void 0===de||-1!==de.indexOf(We)?(be.addValidatorToQueue(),s.validateCell(s.getDataAtCell(Ee,We),s.getCellMeta(Ee,We),function(Mt){if("boolean"!=typeof Mt)throw new Error("Validation error: result is not boolean");!1===Mt&&(be.valid=!1),be.removeValidatorFormQueue()},"validateCells"),We-=1):We-=1;Ee-=1}else Ee-=1;be.checkIfQueueIsEmpty()},this.getRowHeader=function(Z){var $=C.rowHeaders,de=Z;return void 0!==de&&(de=s.runHooks("modifyRowHeader",de)),void 0===de?($=[],Hr(s.countRows()-1,function(be){$.push(s.getRowHeader(be))})):Array.isArray($)&&void 0!==$[de]?$=$[de]:Ts($)?$=$(de):$&&"string"!=typeof $&&"number"!=typeof $&&($=de+1),$},this.hasRowHeaders=function(){return!!C.rowHeaders},this.hasColHeaders=function(){if(null!=C.colHeaders)return!!C.colHeaders;for(var Z=0,$=s.countCols();Z<$;Z++)if(s.getColHeader(Z))return!0;return!1},this.getColHeader=function(Z){var $=s.runHooks("modifyColHeader",Z),de=C.colHeaders;if(void 0===$){for(var be=[],Ee=s.countCols(),We=0;We<Ee;We++)be.push(s.getColHeader(We));de=be}else{var kt=s.toPhysicalColumn($),Dt=function(Lt){for(var pt=[],Ot=s.countCols(),It=0;It<Ot;It++)Ts(C.columns)&&C.columns(It)&&pt.push(It);return pt[Lt]}(kt);!1===C.colHeaders?de=null:C.columns&&Ts(C.columns)&&C.columns(Dt)&&C.columns(Dt).title?de=C.columns(Dt).title:C.columns&&C.columns[kt]&&C.columns[kt].title?de=C.columns[kt].title:Array.isArray(C.colHeaders)&&void 0!==C.colHeaders[kt]?de=C.colHeaders[kt]:Ts(C.colHeaders)?de=C.colHeaders(kt):C.colHeaders&&"string"!=typeof C.colHeaders&&"number"!=typeof C.colHeaders&&(de=wU($))}return de},this._getColWidthFromSettings=function(Z){var $;if(Z>=0&&($=s.getCellMeta(0,Z).width),(void 0===$||$===C.width)&&($=C.colWidths),null!=$){switch(Dc($)){case"object":$=$[Z];break;case"function":$=$(Z)}"string"==typeof $&&($=parseInt($,10))}return $},this.getColWidth=function(Z){var $=s._getColWidthFromSettings(Z);return void 0===($=s.runHooks("modifyColWidth",$,Z))&&($=hU.DEFAULT_WIDTH),$},this._getRowHeightFromSettings=function(Z){var $=C.rowHeights;if(null!=$){switch(Dc($)){case"object":$=$[Z];break;case"function":$=$(Z)}"string"==typeof $&&($=parseInt($,10))}return $},this.getRowHeight=function(Z){var $=s._getRowHeightFromSettings(Z);return s.runHooks("modifyRowHeight",$,Z)},this.countSourceRows=function(){return c.countRows()},this.countSourceCols=function(){return c.countFirstRowKeys()},this.countRows=function(){return u.getLength()},this.countCols=function(){var Z=C.maxCols,$=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(Z,$)},this.countRenderedRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0],$=0;return dz(s.countRows()-1,function(de){if(s.isEmptyRow(de))$+=1;else if(!0===Z)return!1}),$},this.countEmptyCols=function(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0],$=0;return dz(s.countCols()-1,function(de){if(s.isEmptyCol(de))$+=1;else if(!0===Z)return!1}),$},this.isEmptyRow=function(Z){return C.isEmptyRow.call(s,Z)},this.isEmptyCol=function(Z){return C.isEmptyCol.call(s,Z)},this.selectCell=function(Z,$,de,be){var Ee=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],We=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return!Bs(Z)&&!Bs($)&&this.selectCells([[Z,$,de,be]],Ee,We)},this.selectCells=function(){var Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],$=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],de=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1===$&&(o=!0);var be=G.selectCells(Z);return be&&de&&s.listen(),o=!1,be},this.selectColumns=function(Z){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z;return G.selectColumns(Z,$)},this.selectRows=function(Z){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z;return G.selectRows(Z,$)},this.deselectCell=function(){G.deselect()},this.selectAll=function(){var Z=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],$=Z&&this.hasRowHeaders(),de=Z&&this.hasColHeaders();o=!0,G.selectAll($,de),o=!1};var ye=function($,de){return $.getNearestNotHiddenIndex(de,1,!0)};function Ae(Z){return function(){throw new Error('The "'.concat(Z,'" method cannot be called because this Handsontable instance has been destroyed'))}}this.scrollViewportTo=function(Z,$){var de=arguments.length>2&&void 0!==arguments[2]&&arguments[2],be=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Ee=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],We=!de,Mt=!be,kt=Z,Dt=$;if(Ee){var ut=Number.isInteger(Z),Lt=Number.isInteger($),pt=ut?ye(this.rowIndexMapper,Z):void 0,Ot=Lt?ye(this.columnIndexMapper,$):void 0;if(null===pt||null===Ot)return!1;kt=ut?s.rowIndexMapper.getRenderableFromVisualIndex(pt):void 0,Dt=Lt?s.columnIndexMapper.getRenderableFromVisualIndex(Ot):void 0}var It=Number.isInteger(kt),gn=Number.isInteger(Dt);return It&&gn?s.view.scrollViewport(s._createCellCoords(kt,Dt),We,be,de,Mt):It&&!1===gn?s.view.scrollViewportVertically(kt,We,de):!(!gn||!1!==It)&&s.view.scrollViewportHorizontally(Dt,be,Mt)},this.destroy=function(){if(s._clearTimeouts(),s._clearImmediates(),s.view&&s.view.destroy(),c&&c.destroy(),c=null,this.getShortcutManager().destroy(),S.clearCache(),vU(s)){var Z=this.rootDocument.querySelector("#hot-display-license-info");Z&&Z.parentNode.removeChild(Z)}np(s.rootElement),a.destroy(),p&&p.destroy(),s.batchExecution(function(){s.rowIndexMapper.unregisterAll(),s.columnIndexMapper.unregisterAll(),B.getItems().forEach(function($){lp($,2)[1].destroy()}),B.clear(),s.runHooks("afterDestroy")},!0),xr.getSingleton().destroy(s),ao(s,function($,de,be){Ts($)?be[de]=Ae(de):"guid"!==de&&(be[de]=null)}),s.isDestroyed=!0,u&&u.destroy(),s.rowIndexMapper=null,s.columnIndexMapper=null,u=null,h=null,G=null,p=null,s=null},this.getActiveEditor=function(){return p.getActiveEditor()},this.getPlugin=function(Z){var $=km(Z);return"UndoRedo"===$?this.undoRedo:B.getItem($)},this.getPluginName=function(Z){return Z===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:B.getId(Z)},this.getInstance=function(){return s},this.addHook=function(Z,$){xr.getSingleton().add(Z,$,s)},this.hasHook=function(Z){return xr.getSingleton().has(Z,s)||xr.getSingleton().has(Z)},this.addHookOnce=function(Z,$){xr.getSingleton().once(Z,$,s)},this.removeHook=function(Z,$){xr.getSingleton().remove(Z,$,s)},this.runHooks=function(Z,$,de,be,Ee,We,Mt){return xr.getSingleton().run(s,Z,$,de,be,Ee,We,Mt)},this.getTranslatedPhrase=function(Z,$){return nre(C.language,Z,$)},this.toHTML=function(){return Pee(r)},this.toTableElement=function(){var Z=r.rootDocument.createElement("div");return Z.insertAdjacentHTML("afterbegin",Pee(r)),Z.firstElementChild},this.timeouts=[],this._registerTimeout=function(Z){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,de=Z;"function"==typeof de&&(de=setTimeout(de,$)),this.timeouts.push(de)},this._clearTimeouts=function(){it(this.timeouts,function(Z){clearTimeout(Z)})},this.immediates=[],this._registerImmediate=function(Z){this.immediates.push(setImmediate(Z))},this._clearImmediates=function(){it(this.immediates,function(Z){clearImmediate(Z)})},this._refreshBorders=function(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0],$=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];p.destroyEditor(Z),s.view.render(),$&&G.isSelected()&&p.prepareEditor()},this.isRtl=function(){return"rtl"===s.rootWindow.getComputedStyle(s.rootElement).direction},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1};var Ge=YVe({handleEvent:function($){return s.isListening()&&void 0!==(null==$?void 0:$.key)},beforeKeyDown:function($){return r.runHooks("beforeKeyDown",$)},afterKeyDown:function($){r.isDestroyed||s.runHooks("afterDocumentKeyDown",$)},ownerWindow:this.rootWindow});this.getShortcutManager=function(){return Ge};var Je=Ge.addContext("grid"),bt={runOnlyIf:function(){return wr(s.getSelected())&&s.countRenderedRows()>0&&s.countRenderedCols()>0},group:JVe};Ge.setActiveContextName("grid"),Je.addShortcuts([{keys:[["Control/Meta","A"]],callback:function(){s.selectAll()}},{keys:[["Control/Meta","Enter"]],callback:function(){for(var $=s.getSelectedRange(),de=$[$.length-1].highlight,be=de.row,Ee=de.col,We=s.getDataAtCell(be,Ee),Mt=new Map,kt=0;kt<$.length;kt++)$[kt].forAll(function(Dt,ut){Dt>=0&&ut>=0&&(Dt!==be||ut!==Ee)&&(s.getCellMeta(Dt,ut).readOnly||Mt.set("".concat(Dt,"x").concat(ut),[Dt,ut,We]))});s.setDataAtCell(Array.from(Mt.values()))},runOnlyIf:function(){return s.getSelectedRangeLast().getCellsCount()>1}},{keys:[["ArrowUp"]],callback:function(){G.transformStart(-1,0)}},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:function(){G.setRangeStart(s._createCellCoords(s.rowIndexMapper.getNearestNotHiddenIndex(0,1),s.getSelectedRangeLast().highlight.col))}},{keys:[["ArrowUp","Shift"]],callback:function(){G.transformEnd(-1,0)}},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var $=s.getSelectedRangeLast(),de=$.from,be=$.to,Ee=s.rowIndexMapper.getNearestNotHiddenIndex(0,1);G.setRangeStart(de.clone()),G.setRangeEnd(s._createCellCoords(Ee,be.col))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByColumnHeader())}},{keys:[["ArrowDown"]],callback:function(){G.transformStart(1,0)}},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:function(){G.setRangeStart(s._createCellCoords(s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-1,-1),s.getSelectedRangeLast().highlight.col))}},{keys:[["ArrowDown","Shift"]],callback:function(){G.transformEnd(1,0)}},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var $=s.getSelectedRangeLast(),de=$.from,be=$.to,Ee=s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-1,-1);G.setRangeStart(de.clone()),G.setRangeEnd(s._createCellCoords(Ee,be.col))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByColumnHeader())}},{keys:[["ArrowLeft"]],callback:function(){G.transformStart(0,-1*s.getDirectionFactor())}},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:function(){var $,de=s.getSelectedRangeLast().highlight.row,be=($=s.columnIndexMapper).getNearestNotHiddenIndex.apply($,ay(s.isRtl()?[s.countCols()-1,-1]:[0,1]));G.setRangeStart(s._createCellCoords(de,be))}},{keys:[["ArrowLeft","Shift"]],callback:function(){G.transformEnd(0,-1*s.getDirectionFactor())}},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var $,de=s.getSelectedRangeLast(),be=de.from,Ee=de.to,We=($=s.columnIndexMapper).getNearestNotHiddenIndex.apply($,ay(s.isRtl()?[s.countCols()-1,-1]:[0,1]));G.setRangeStart(be.clone()),G.setRangeEnd(s._createCellCoords(Ee.row,We))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByRowHeader())}},{keys:[["ArrowRight"]],callback:function(){G.transformStart(0,s.getDirectionFactor())}},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:function(){var $,de=s.getSelectedRangeLast().highlight.row,be=($=s.columnIndexMapper).getNearestNotHiddenIndex.apply($,ay(s.isRtl()?[0,1]:[s.countCols()-1,-1]));G.setRangeStart(s._createCellCoords(de,be))}},{keys:[["ArrowRight","Shift"]],callback:function(){G.transformEnd(0,s.getDirectionFactor())}},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var $,de=s.getSelectedRangeLast(),be=de.from,Ee=de.to,We=($=s.columnIndexMapper).getNearestNotHiddenIndex.apply($,ay(s.isRtl()?[0,1]:[s.countCols()-1,-1]));G.setRangeStart(be.clone()),G.setRangeEnd(s._createCellCoords(Ee.row,We))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByRowHeader())}},{keys:[["Home"]],captureCtrl:!0,callback:function(){var $=parseInt(s.getSettings().fixedColumnsStart,10),de=s.getSelectedRangeLast().highlight.row,be=s.columnIndexMapper.getNearestNotHiddenIndex($,1);G.setRangeStart(s._createCellCoords(de,be))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["Home","Shift"]],callback:function(){G.setRangeEnd(s._createCellCoords(G.selectedRange.current().from.row,s.columnIndexMapper.getNearestNotHiddenIndex(0,1)))}},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:function(){var $=parseInt(s.getSettings().fixedRowsTop,10),de=parseInt(s.getSettings().fixedColumnsStart,10),be=s.rowIndexMapper.getNearestNotHiddenIndex($,1),Ee=s.columnIndexMapper.getNearestNotHiddenIndex(de,1);G.setRangeStart(s._createCellCoords(be,Ee))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["End"]],captureCtrl:!0,callback:function(){G.setRangeStart(s._createCellCoords(s.getSelectedRangeLast().highlight.row,s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1)))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["End","Shift"]],callback:function(){G.setRangeEnd(s._createCellCoords(G.selectedRange.current().from.row,s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1)))}},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:function(){var $=parseInt(s.getSettings().fixedRowsBottom,10),de=s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-$-1,-1),be=s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1);G.setRangeStart(s._createCellCoords(de,be))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["PageUp"]],callback:function(){G.transformStart(-s.countVisibleRows(),0)}},{keys:[["PageUp","Shift"]],callback:function(){var de=s.getSelectedRangeLast().to,be=Math.max(de.row-s.countVisibleRows(),0),Ee=s.rowIndexMapper.getNearestNotHiddenIndex(be,1);if(null!==Ee){var We=s._createCellCoords(Ee,de.col),Mt=de.row-s.view.getFirstFullyVisibleRow(),kt=Math.max(We.row-Mt,0);G.setRangeEnd(We),s.scrollViewportTo(kt)}}},{keys:[["PageDown"]],callback:function(){G.transformStart(s.countVisibleRows(),0)}},{keys:[["PageDown","Shift"]],callback:function(){var de=s.getSelectedRangeLast().to,be=Math.min(de.row+s.countVisibleRows(),s.countRows()-1),Ee=s.rowIndexMapper.getNearestNotHiddenIndex(be,-1);if(null!==Ee){var We=s._createCellCoords(Ee,de.col),Mt=de.row-s.view.getFirstFullyVisibleRow(),kt=Math.min(We.row-Mt,s.countRows()-1);G.setRangeEnd(We),s.scrollViewportTo(kt)}}},{keys:[["Tab"]],callback:function($){var de="function"==typeof C.tabMoves?C.tabMoves($):C.tabMoves;G.transformStart(de.row,de.col,!0)}},{keys:[["Shift","Tab"]],callback:function($){var de="function"==typeof C.tabMoves?C.tabMoves($):C.tabMoves;G.transformStart(-de.row,-de.col)}}],bt),Yee().forEach(function(Z){var $=_z(Z);B.addItem(Z,new $(r))}),xr.getSingleton().run(s,"construct")}var aie={_hooksStorage:Object.create(null),addHook:function(e,t){return this._hooksStorage[e]||(this._hooksStorage[e]=[]),this.hot.addHook(e,t),this._hooksStorage[e].push(t),this},removeHooksByKey:function(e){var t=this;it(this._hooksStorage[e]||[],function(r){t.hot.removeHook(e,r)})},clearHooks:function(){var e=this;ao(this._hooksStorage,function(t,r){return e.removeHooksByKey(r)}),this._hooksStorage={}}};Om(aie,"MIXIN_NAME","hooksRefRegisterer",{writable:!1,enumerable:!1});const eze=aie;function F4(n){return(F4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lie(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function H4(n,e){return(H4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function lze(n,e){if(e&&("object"===F4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function uze(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function JP(n){return(JP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function uie(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function die(n,e,t){return e&&cie(n.prototype,e),t&&cie(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var Al=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),B4="baseEditor",tx=function(){function n(e){uie(this,n),this.hot=e,this.instance=e,this.state=Al.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.TD=null,this.row=null,this.col=null,this.prop=null,this.originalValue=null,this.cellProperties=null,this.init()}return die(n,[{key:"_fireCallbacks",value:function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)}},{key:"init",value:function(){}},{key:"getValue",value:function(){throw Error("Editor getValue() method unimplemented")}},{key:"setValue",value:function(){throw Error("Editor setValue() method unimplemented")}},{key:"open",value:function(){throw Error("Editor open() method unimplemented")}},{key:"close",value:function(){throw Error("Editor close() method unimplemented")}},{key:"prepare",value:function(t,r,i,o,s,a){this.TD=o,this.row=t,this.col=r,this.prop=i,this.originalValue=s,this.cellProperties=a,this.state=Al.VIRGIN}},{key:"extend",value:function(){return function(t){!function sze(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&H4(n,e)}(i,t);var r=function aze(n){var e=function cze(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=JP(n);if(e){var o=JP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return lze(this,i)}}(i);function i(){return uie(this,i),r.apply(this,arguments)}return die(i)}(this.constructor)}},{key:"saveValue",value:function(t,r){var o,s,a,u,i=this;if(r){var c=this.hot.getSelectedLast();o=Math.max(Math.min(c[0],c[2]),0),s=Math.max(Math.min(c[1],c[3]),0),a=Math.max(c[0],c[2]),u=Math.max(c[1],c[3])}else{var h=[this.row,this.col,null,null];o=h[0],s=h[1],a=h[2],u=h[3]}var p=this.hot.runHooks("modifyGetCellCoords",o,s);if(Array.isArray(p)){var g=function tze(n,e){return function oze(n){if(Array.isArray(n))return n}(n)||function ize(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function rze(n,e){if(n){if("string"==typeof n)return lie(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lie(n,e)}}(n,e)||function nze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p,2);o=g[0],s=g[1]}var w=this.hot.getShortcutManager().getContext("editor"),S={runOnlyIf:function(){return wr(i.hot.getSelected())},group:B4};this.isInFullEditMode()&&w.addShortcuts([{keys:[["ArrowUp"]],callback:function(){i.hot.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:function(){i.hot.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:function(){i.hot.selection.transformStart(0,-1*i.hot.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:function(){i.hot.selection.transformStart(0,i.hot.getDirectionFactor())}}],S),this.hot.populateFromArray(o,s,t,a,u,"edit")}},{key:"beginEditing",value:function(t,r){if(this.state===Al.VIRGIN){var i=this.hot,o=i.rowIndexMapper.getRenderableFromVisualIndex(this.row),s=i.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(i.view.scrollViewport(i._createCellCoords(o,s)),this.state=Al.EDITING,this.isInFullEditMode()){var a="string"==typeof t?t:xa(this.originalValue);this.setValue(a)}this.open(r),this._opened=!0,this.focus(),i.view.render(),i.runHooks("afterBeginEditing",this.row,this.col)}}},{key:"finishEditing",value:function(t,r,i){var s,o=this;if(i){var a=this._closeCallback;this._closeCallback=function(p){a&&a(p),i(p),o.hot.view.render()}}if(!this.isWaiting()){var c=this.hot.getShortcutManager().getContext("editor");if(c.removeShortcutsByGroup(B4),c.removeShortcutsByGroup(WL),this.state===Al.VIRGIN)return void this.hot._registerTimeout(function(){o._fireCallbacks(!0)});if(this.state===Al.EDITING){if(t)return this.cancelChanges(),void this.hot.view.render();var h=this.getValue();s=this.cellProperties.trimWhitespace?[["string"==typeof h?String.prototype.trim.call(h||""):h]]:[[h]],this.state=Al.WAITING,this.saveValue(s,r),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",function(p){o.state=Al.FINISHED,o.discardEditor(p)}):(this.state=Al.FINISHED,this.discardEditor(!0))}}}},{key:"cancelChanges",value:function(){this.state=Al.FINISHED,this.discardEditor()}},{key:"discardEditor",value:function(t){this.state===Al.FINISHED&&(!1===t&&!0!==this.cellProperties.allowInvalid?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=Al.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Al.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}},{key:"enableFullEditMode",value:function(){this._fullEditMode=!0}},{key:"isInFullEditMode",value:function(){return this._fullEditMode}},{key:"isOpened",value:function(){return this._opened}},{key:"isWaiting",value:function(){return this.state===Al.WAITING}},{key:"getEditedCellRect",value:function(){var t,r=this.getEditedCell();if(r){var i=this.hot.view._wt,o=i.wtOverlays,s=i.wtViewport,a=this.hot.rootWindow,u=Ga(r),c=fs(r),h=Ga(this.hot.rootElement),p=fs(this.hot.rootElement),g=o.topOverlay.holder,y=o.inlineStartOverlay.holder,w=g!==a?g.scrollTop:0,S=y!==a?y.scrollLeft:0,C=a.innerWidth-h.left-p,B=(null!==(t=o.getParentOverlay(r))&&void 0!==t?t:this.hot.view._wt).wtTable,z=B.name,j=["master","inline_start"].includes(z)?w:0,G=["master","top","bottom"].includes(z)?S:0,pe=u.top-h.top-(u.top===h.top?0:1)-j,ne=0;ne=this.hot.isRtl()?a.innerWidth-u.left-c-C-1+G:u.left-h.left-1-G,["top","top_inline_start_corner"].includes(z)&&(pe+=o.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(z)&&(ne+=Math.abs(o.inlineStartOverlay.getOverlayOffset()));var he=this.hot.hasColHeaders(),we=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),Pe=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),at=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(he&&we<=0||we===at)&&(pe+=1),Pe<=0&&(ne+=1);var je=s.rowsRenderCalculator.startPosition,_t=s.columnsRenderCalculator.startPosition,ye=Math.abs(o.inlineStartOverlay.getScrollPosition()),Ae=o.topOverlay.getScrollPosition(),Ge=Dl(this.hot.rootDocument),Je=r.offsetTop+je-Ae,bt=0;if(this.hot.isRtl()){var Z=r.offsetLeft;bt=Z>=0?B.getWidth()-r.offsetLeft:Math.abs(Z),bt+=_t-ye-c}else bt=r.offsetLeft+_t-ye;var $=Ib(this.TD,this.hot.rootWindow),de=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",be=parseInt($[de],10)>0?0:1,Ee=parseInt($.borderTopWidth,10)>0?0:1,We=fs(r)+be,Mt=ra(r)+Ee,kt=function COe(n){return n.offsetWidth!==n.clientWidth}(g)?Ge:0,Dt=function EOe(n){return n.offsetHeight!==n.clientHeight}(y)?Ge:0,ut=this.hot.view.maximumVisibleElementWidth(bt)-kt+be;return{top:pe,start:ne,height:Mt,maxHeight:Math.max(this.hot.view.maximumVisibleElementHeight(Je)-Dt+Ee,23),width:We,maxWidth:ut}}}},{key:"getEditedCellsLayerClass",value:function(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}},{key:"getEditedCell",value:function(){return this.hot.getCell(this.row,this.col,!0)}},{key:"checkEditorSection",value:function(){var t=this.hot.countRows(),r="";return this.row<this.hot.getSettings().fixedRowsTop?r=this.col<this.hot.getSettings().fixedColumnsStart?"top-inline-start-corner":"top":this.hot.getSettings().fixedRowsBottom&&this.row>=t-this.hot.getSettings().fixedRowsBottom?r=this.col<this.hot.getSettings().fixedColumnsStart?"bottom-inline-start-corner":"bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(r="inline-start"),r}}],[{key:"EDITOR_TYPE",get:function(){return"base"}}]),n}();function hze(){var e,n={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},t=document.body,r=document.createTextNode(""),i=document.createElement("SPAN"),o=function(y,w,S){y.addEventListener(w,S,!1)},s=function(y,w,S){y.removeEventListener(w,S,!1)},a=function(y){var w,S;y?/^[a-zA-Z \.,\\\/\|0-9]$/.test(y)||(y="."):y="",void 0!==r.textContent?r.textContent=e.value+y:r.data=e.value+y,i.style.position="absolute",i.style.fontSize=p(e).fontSize,i.style.fontFamily=p(e).fontFamily,i.style.whiteSpace="pre",t.appendChild(i),w=i.clientWidth+2,t.removeChild(i),e.style.height=n.minHeight+"px",e.style.width=n.minWidth>w?n.minWidth+"px":w>n.maxWidth?n.maxWidth+"px":w+"px",n.minHeight>(S=e.scrollHeight?e.scrollHeight-1:0)?e.style.height=n.minHeight+"px":n.maxHeight<S?(e.style.height=n.maxHeight+"px",e.style.overflowY="visible"):e.style.height=S+"px"},u=function(){window.setTimeout(a,0)};function p(g){return g.currentStyle||document.defaultView.getComputedStyle(g)}return{init:function(y,w,S){!function(y,w,S){e=y,function(y){if(y&&y.minHeight)if("inherit"==y.minHeight)n.minHeight=e.clientHeight;else{var w=parseInt(y.minHeight);isNaN(w)||(n.minHeight=w)}if(y&&y.maxHeight)if("inherit"==y.maxHeight)n.maxHeight=e.clientHeight;else{var S=parseInt(y.maxHeight);isNaN(S)||(n.maxHeight=S)}if(y&&y.minWidth)if("inherit"==y.minWidth)n.minWidth=e.clientWidth;else{var C=parseInt(y.minWidth);isNaN(C)||(n.minWidth=C)}if(y&&y.maxWidth)if("inherit"==y.maxWidth)n.maxWidth=e.clientWidth;else{var P=parseInt(y.maxWidth);isNaN(P)||(n.maxWidth=P)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))}(w),"TEXTAREA"==e.nodeName&&(e.style.resize="none",e.style.overflowY="",e.style.height=n.minHeight+"px",e.style.minWidth=n.minWidth+"px",e.style.maxWidth=n.maxWidth+"px",e.style.overflowY="hidden"),S&&(o(e,"change",a),o(e,"cut",u),o(e,"paste",u),o(e,"drop",u),o(e,"keydown",u),o(e,"focus",a),o(e,"compositionstart",u),o(e,"compositionupdate",u),o(e,"compositionend",u)),a()}(y,w,S)},unObserve:function(){s(e,"change",a),s(e,"cut",u),s(e,"paste",u),s(e,"drop",u),s(e,"keydown",u),s(e,"focus",a),s(e,"compositionstart",u),s(e,"compositionupdate",u),s(e,"compositionend",u)},resize:a}}function hie(n,e){for(var t=oee(e),r=e.value.split("\n"),i=t,o=0,s=0;s<r.length;s++){0!==s&&(o+=r[s-1].length+1);var u=o+r[s].length;if("home"===n?i=o:"end"===n&&(i=u),t<=u)break}BL(e,i)}function V4(n){return(V4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function fie(n,e){return function gze(n){if(Array.isArray(n))return n}(n)||function mze(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function pze(n,e){if(n){if("string"==typeof n)return pie(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pie(n,e)}}(n,e)||function fze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pie(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function mie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function k1(){return k1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=_ze(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},k1.apply(this,arguments)}function _ze(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Gb(n)););return n}function z4(n,e){return(z4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Mze(n,e){if(e&&("object"===V4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gie(n)}function gie(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Gb(n){return(Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}ws(tx,eze);var QP="ht_editor_hidden",vie="textEditor",$b=function(n){!function bze(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&z4(n,e)}(t,n);var e=function wze(n){var e=function Sze(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Gb(n);if(e){var o=Gb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Mze(this,i)}}(t);function t(r){var i;return function vze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ia(gie(i)),i.autoResize=hze(),i.TEXTAREA=void 0,i.textareaStyle=void 0,i.TEXTAREA_PARENT=void 0,i.textareaParentStyle=void 0,i.layerClass=void 0,i.createElements(),i.bindEvents(),i.hot.addHookOnce("afterDestroy",function(){return i.destroy()}),i}return function yze(n,e,t){e&&mie(n.prototype,e),t&&mie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValue",value:function(){return this.TEXTAREA.value}},{key:"setValue",value:function(i){this.TEXTAREA.value=i}},{key:"open",value:function(){var i=this;this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.addHook("afterDocumentKeyDown",function(s){return i.onAfterDocumentKeyDown(s)}),this.registerShortcuts()}},{key:"close",value:function(){this.autoResize.unObserve(),this.hot.rootDocument.activeElement===this.TEXTAREA&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts(),this.removeHooksByKey("afterDocumentKeyDown")}},{key:"prepare",value:function(i,o,s,a,u,c){var h=this.state;if(k1(Gb(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),!c.readOnly){this.refreshDimensions(!0);var g=c.fragmentSelection;c.allowInvalid&&(this.TEXTAREA.value=""),h!==Al.FINISHED&&this.hideEditableElement(),!g&&!tp()&&this.focus()}}},{key:"beginEditing",value:function(i,o){this.state===Al.VIRGIN&&(this.TEXTAREA.value="",k1(Gb(t.prototype),"beginEditing",this).call(this,i,o))}},{key:"focus",value:function(){this.TEXTAREA.select(),BL(this.TEXTAREA,this.TEXTAREA.value.length)}},{key:"createElements",value:function(){var i=this.hot.rootDocument;this.TEXTAREA=i.createElement("TEXTAREA"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.tabIndex=-1,An(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=i.createElement("DIV"),An(this.TEXTAREA_PARENT,"handsontableInputHolder"),Ti(this.TEXTAREA_PARENT,this.layerClass)&&Hi(this.TEXTAREA_PARENT,this.layerClass),An(this.TEXTAREA_PARENT,QP),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}},{key:"hideEditableElement",value:function(){(function dOe(){return dd.ie.value}()||function cOe(){return dd.edge.value}())&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",Hi(this.TEXTAREA_PARENT,this.layerClass),An(this.TEXTAREA_PARENT,QP)}},{key:"showEditableElement",value:function(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="",this.textareaStyle.overflowY="hidden";var i=this.TEXTAREA_PARENT.childNodes,o=!1;Hr(i.length-1,function(s){if(Ti(i[s],"handsontableEditor"))return o=!0,!1}),Ti(this.TEXTAREA_PARENT,QP)&&Hi(this.TEXTAREA_PARENT,QP),o?(this.layerClass="ht_editor_visible",An(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),An(this.TEXTAREA_PARENT,this.layerClass))}},{key:"refreshValue",value:function(){var i=this.hot.toPhysicalRow(this.row),o=this.hot.getSourceDataAtCell(i,this.col);this.originalValue=o,this.setValue(o),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state===Al.EDITING||i){if(this.TD=this.getEditedCell(),!this.TD)return void(i||this.close());var o=this.getEditedCellRect(),s=o.top,a=o.start,u=o.width,c=o.maxWidth,h=o.height,p=o.maxHeight;this.textareaParentStyle.top="".concat(s,"px"),this.textareaParentStyle[this.hot.isRtl()?"right":"left"]="".concat(a,"px"),this.showEditableElement();var g=Ib(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=g.fontSize,this.TEXTAREA.style.fontFamily=g.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;var y=Ib(this.TEXTAREA),w=parseInt(y.paddingLeft,10)+parseInt(y.paddingRight,10),S=parseInt(y.paddingTop,10)+parseInt(y.paddingBottom,10),C=u-w,P=h-S,B=c-w,z=p-S;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(C,B),minHeight:Math.min(P,z),maxWidth:B,maxHeight:z},!0)}}},{key:"bindEvents",value:function(){var i=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(o){return o.stopPropagation()}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(o){return o.stopPropagation()}),XQ()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",function(){return i.finishEditing(!1)}),this.addHook("afterScrollHorizontally",function(){return i.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return i.refreshDimensions()}),this.addHook("afterColumnResize",function(){i.refreshDimensions(),i.focus()}),this.addHook("afterRowResize",function(){i.refreshDimensions(),i.focus()})}},{key:"allowKeyEventPropagation",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.clearHooks()}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor"),u=function(){i.hot.rootDocument.execCommand("insertText",!1,"\n")};s.addShortcuts([{keys:[["Tab"]],callback:function(h){var p=i.hot.getSettings(),g="function"==typeof p.tabMoves?p.tabMoves(h):p.tabMoves;i.hot.selection.transformStart(g.row,g.col,!0)}},{keys:[["Shift","Tab"]],callback:function(h){var p=i.hot.getSettings(),g="function"==typeof p.tabMoves?p.tabMoves(h):p.tabMoves;i.hot.selection.transformStart(-g.row,-g.col)}},{keys:[["Control","Enter"]],callback:function(){return u(),!1},runOnlyIf:function(h){return!i.hot.selection.isMultiple()&&!h.altKey},relativeToGroup:h1,position:"before"},{keys:[["Meta","Enter"]],callback:function(){return u(),!1},runOnlyIf:function(){return!i.hot.selection.isMultiple()},relativeToGroup:h1,position:"before"},{keys:[["Alt","Enter"]],callback:function(){return u(),!1},relativeToGroup:h1,position:"before"},{keys:[["PageUp"]],callback:function(){i.hot.selection.transformStart(-i.hot.countVisibleRows(),0)}},{keys:[["PageDown"]],callback:function(){i.hot.selection.transformStart(i.hot.countVisibleRows(),0)}},{keys:[["Home"]],callback:function(h,p){hie(fie(p,1)[0],i.TEXTAREA)}},{keys:[["End"]],callback:function(h,p){hie(fie(p,1)[0],i.TEXTAREA)}},{keys:[["Control/Meta","Z"]],preventDefault:!1,callback:function(){i.hot._registerTimeout(function(){i.autoResize.resize()},10)}},{keys:[["Control/Meta","Shift","Z"]],preventDefault:!1,callback:function(){i.hot._registerTimeout(function(){i.autoResize.resize()},10)}}],{runOnlyIf:function(){return wr(i.hot.getSelected())},group:vie})}},{key:"unregisterShortcuts",value:function(){var o=this.hot.getShortcutManager().getContext("editor");o.removeShortcutsByGroup(WL),o.removeShortcutsByGroup(vie),o.removeShortcutsByGroup(B4)}},{key:"onAfterDocumentKeyDown",value:function(i){-1===[Or.ARROW_UP,Or.ARROW_RIGHT,Or.ARROW_DOWN,Or.ARROW_LEFT].indexOf(i.keyCode)&&this.autoResize.resize(String.fromCharCode(i.keyCode))}}],[{key:"EDITOR_TYPE",get:function(){return"text"}}]),t}(tx);function L1(n,e,t,r,i,o,s){var a=[],u=[];s.className&&An(e,s.className),s.readOnly&&a.push(s.readOnlyCellClassName),!1===s.valid&&s.invalidCellClassName?a.push(s.invalidCellClassName):u.push(s.invalidCellClassName),!1===s.wordWrap&&s.noWordWrapClassName&&a.push(s.noWordWrapClassName),!o&&s.placeholder&&a.push(s.placeholderCellClassName),Hi(e,u),An(e,a)}function ly(n,e,t,r,i,o,s){L1.apply(this,[n,e,t,r,i,o,s]);var a=o;if(!a&&s.placeholder&&(a=s.placeholder),a=xa(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){np(e);var u=n.rootDocument.createElement("TEMPLATE");u.setAttribute("bind","{{}}"),u.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(u),u.model=n.getSourceDataAtRow(t),e.appendChild(u)}else Pb(e,a)}L1.RENDERER_TYPE="base",ly.RENDERER_TYPE="text";var yie={CELL_TYPE:"text",editor:$b,renderer:ly};function Im(n,e){var t=new N4(n,e||{},gU);return t.init(),t}ap(yie),Im.editors={BaseEditor:tx},Im.Core=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new N4(n,e,gU)},Im.DefaultSettings=Nre(),Im.hooks=xr.getSingleton(),Im.packageName="handsontable",Im.buildDate="25/10/2022 12:03:25",Im.version="12.2.0",Im.languages={dictionaryKeys:M,getLanguageDictionary:tre,getLanguagesDictionaries:function JHe(){return ZHe()},registerLanguageDictionary:ere,getTranslatedPhrase:nre};const U4=Im,Dze=["container"],j4=new Map,_ie="The Handsontable instance bound to this component was destroyed and cannot be used properly.";let W4=(()=>{class n{getInstance(t){const r=j4.get(t);return r.isDestroyed?(console.warn(_ie),null):r}registerInstance(t,r){return j4.set(t,r)}removeInstance(t){return j4.delete(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const Aze=Object.keys(U4.DefaultSettings),bie=U4.hooks.getRegistered();let wie=(()=>{class n{mergeSettings(t){const r="object"==typeof t.settings,i=r?t.settings:{};return bie.concat(Aze).forEach(s=>{const a=bie.indexOf(s)>-1;let u;r&&a&&(u=t.settings[s]),void 0!==t[s]&&(u=t[s]),void 0!==u&&(i[s]="function"==typeof u&&a?function(...c){return t._ngZone.run(()=>u.apply(this,c))}:u)}),i}prepareChanges(t){const r={};return Object.keys(t).forEach(o=>{t.hasOwnProperty(o)&&(r[o]=t[o].currentValue)}),r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),Nm=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._hotTableRegisterer=r,this._hotSettingsResolver=i,this.__hotInstance=null,this.columnsComponents=[],this.hotId=""}get hotInstance(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(this._hotTableRegisterer.removeInstance(this.hotId),console.warn(_ie),null)}set hotInstance(t){this.__hotInstance=t}ngAfterViewInit(){const t=this._hotSettingsResolver.mergeSettings(this);if(this.columnsComponents.length>0){const r=[];this.columnsComponents.forEach(i=>{r.push(this._hotSettingsResolver.mergeSettings(i))}),t.columns=r}this._ngZone.runOutsideAngular(()=>{this.hotInstance=new U4.Core(this.container.nativeElement,t),this.hotId&&this._hotTableRegisterer.registerInstance(this.hotId,this.hotInstance),this.hotInstance.init()})}ngOnChanges(t){if(null===this.hotInstance)return;const r=this._hotSettingsResolver.prepareChanges(t);this.updateHotTable(r)}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{this.hotInstance&&this.hotInstance.destroy()}),this.hotId&&this._hotTableRegisterer.removeInstance(this.hotId)}updateHotTable(t){!this.hotInstance||this._ngZone.runOutsideAngular(()=>{this.hotInstance.updateSettings(t,!1)})}onAfterColumnsChange(){if(void 0!==this.columnsComponents&&this.columnsComponents.length>0){const t=[];this.columnsComponents.forEach(i=>{t.push(this._hotSettingsResolver.mergeSettings(i))}),this.updateHotTable({columns:t})}}onAfterColumnsNumberChange(){const t=[];this.columnsComponents.length>0&&this.columnsComponents.forEach(r=>{t.push(this._hotSettingsResolver.mergeSettings(r))}),this.updateHotTable({columns:t})}addColumn(t){this.columnsComponents.push(t),this.onAfterColumnsNumberChange()}removeColumn(t){const r=this.columnsComponents.indexOf(t);this.columnsComponents.splice(r,1),this.onAfterColumnsNumberChange()}}return n.\u0275fac=function(t){return new(t||n)(ke(Si),ke(W4),ke(wie))},n.\u0275cmp=Ci({type:n,selectors:[["hot-table"]],viewQuery:function(t,r){if(1&t&&El(Dze,5),2&t){let i;Eo(i=To())&&(r.container=i.first)}},inputs:{hotId:"hotId",settings:"settings",activeHeaderClassName:"activeHeaderClassName",allowEmpty:"allowEmpty",allowHtml:"allowHtml",allowInsertColumn:"allowInsertColumn",allowInsertRow:"allowInsertRow",allowInvalid:"allowInvalid",allowRemoveColumn:"allowRemoveColumn",allowRemoveRow:"allowRemoveRow",autoColumnSize:"autoColumnSize",autoRowSize:"autoRowSize",autoWrapCol:"autoWrapCol",autoWrapRow:"autoWrapRow",bindRowsWithHeaders:"bindRowsWithHeaders",cell:"cell",cells:"cells",checkedTemplate:"checkedTemplate",className:"className",colHeaders:"colHeaders",collapsibleColumns:"collapsibleColumns",columnHeaderHeight:"columnHeaderHeight",columns:"columns",columnSorting:"columnSorting",columnSummary:"columnSummary",colWidths:"colWidths",commentedCellClassName:"commentedCellClassName",comments:"comments",contextMenu:"contextMenu",copyable:"copyable",copyPaste:"copyPaste",correctFormat:"correctFormat",currentColClassName:"currentColClassName",currentHeaderClassName:"currentHeaderClassName",currentRowClassName:"currentRowClassName",customBorders:"customBorders",data:"data",dataSchema:"dataSchema",dateFormat:"dateFormat",defaultDate:"defaultDate",disableVisualSelection:"disableVisualSelection",dragToScroll:"dragToScroll",dropdownMenu:"dropdownMenu",editor:"editor",enterBeginsEditing:"enterBeginsEditing",enterMoves:"enterMoves",fillHandle:"fillHandle",filter:"filter",filteringCaseSensitive:"filteringCaseSensitive",filters:"filters",fixedColumnsLeft:"fixedColumnsLeft",fixedColumnsStart:"fixedColumnsStart",fixedRowsBottom:"fixedRowsBottom",fixedRowsTop:"fixedRowsTop",formulas:"formulas",fragmentSelection:"fragmentSelection",height:"height",hiddenColumns:"hiddenColumns",hiddenRows:"hiddenRows",invalidCellClassName:"invalidCellClassName",label:"label",language:"language",layoutDirection:"layoutDirection",licenseKey:"licenseKey",manualColumnFreeze:"manualColumnFreeze",manualColumnMove:"manualColumnMove",manualColumnResize:"manualColumnResize",manualRowMove:"manualRowMove",manualRowResize:"manualRowResize",maxCols:"maxCols",maxRows:"maxRows",mergeCells:"mergeCells",minCols:"minCols",minRows:"minRows",minSpareCols:"minSpareCols",minSpareRows:"minSpareRows",multiColumnSorting:"multiColumnSorting",nestedHeaders:"nestedHeaders",nestedRows:"nestedRows",noWordWrapClassName:"noWordWrapClassName",numericFormat:"numericFormat",observeDOMVisibility:"observeDOMVisibility",outsideClickDeselects:"outsideClickDeselects",persistentState:"persistentState",placeholder:"placeholder",placeholderCellClassName:"placeholderCellClassName",preventOverflow:"preventOverflow",preventWheel:"preventWheel",readOnly:"readOnly",readOnlyCellClassName:"readOnlyCellClassName",renderAllRows:"renderAllRows",renderer:"renderer",rowHeaders:"rowHeaders",rowHeaderWidth:"rowHeaderWidth",rowHeights:"rowHeights",search:"search",selectionMode:"selectionMode",selectOptions:"selectOptions",skipColumnOnPaste:"skipColumnOnPaste",skipRowOnPaste:"skipRowOnPaste",sortByRelevance:"sortByRelevance",source:"source",startCols:"startCols",startRows:"startRows",stretchH:"stretchH",strict:"strict",tableClassName:"tableClassName",tabMoves:"tabMoves",title:"title",trimDropdown:"trimDropdown",trimRows:"trimRows",trimWhitespace:"trimWhitespace",type:"type",uncheckedTemplate:"uncheckedTemplate",undo:"undo",validator:"validator",viewportColumnRenderingOffset:"viewportColumnRenderingOffset",viewportRowRenderingOffset:"viewportRowRenderingOffset",visibleRows:"visibleRows",width:"width",wordWrap:"wordWrap",afterAddChild:"afterAddChild",afterAutofill:"afterAutofill",afterBeginEditing:"afterBeginEditing",afterCellMetaReset:"afterCellMetaReset",afterChange:"afterChange",afterChangesObserved:"afterChangesObserved",afterColumnCollapse:"afterColumnCollapse",afterColumnExpand:"afterColumnExpand",afterColumnMove:"afterColumnMove",afterColumnResize:"afterColumnResize",afterColumnSort:"afterColumnSort",afterContextMenuDefaultOptions:"afterContextMenuDefaultOptions",afterContextMenuHide:"afterContextMenuHide",afterContextMenuShow:"afterContextMenuShow",afterCopy:"afterCopy",afterCopyLimit:"afterCopyLimit",afterCreateCol:"afterCreateCol",afterCreateRow:"afterCreateRow",afterCut:"afterCut",afterDeselect:"afterDeselect",afterDestroy:"afterDestroy",afterDetachChild:"afterDetachChild",afterDocumentKeyDown:"afterDocumentKeyDown",afterDrawSelection:"afterDrawSelection",afterDropdownMenuDefaultOptions:"afterDropdownMenuDefaultOptions",afterDropdownMenuHide:"afterDropdownMenuHide",afterDropdownMenuShow:"afterDropdownMenuShow",afterFilter:"afterFilter",afterGetCellMeta:"afterGetCellMeta",afterGetColHeader:"afterGetColHeader",afterGetColumnHeaderRenderers:"afterGetColumnHeaderRenderers",afterGetRowHeader:"afterGetRowHeader",afterGetRowHeaderRenderers:"afterGetRowHeaderRenderers",afterHideColumns:"afterHideColumns",afterHideRows:"afterHideRows",afterInit:"afterInit",afterLanguageChange:"afterLanguageChange",afterListen:"afterListen",afterLoadData:"afterLoadData",afterMergeCells:"afterMergeCells",afterModifyTransformEnd:"afterModifyTransformEnd",afterModifyTransformStart:"afterModifyTransformStart",afterMomentumScroll:"afterMomentumScroll",afterOnCellContextMenu:"afterOnCellContextMenu",afterOnCellCornerDblClick:"afterOnCellCornerDblClick",afterOnCellCornerMouseDown:"afterOnCellCornerMouseDown",afterOnCellMouseDown:"afterOnCellMouseDown",afterOnCellMouseOut:"afterOnCellMouseOut",afterOnCellMouseOver:"afterOnCellMouseOver",afterOnCellMouseUp:"afterOnCellMouseUp",afterPaste:"afterPaste",afterPluginsInitialized:"afterPluginsInitialized",afterRedo:"afterRedo",afterRedoStackChange:"afterRedoStackChange",afterRefreshDimensions:"afterRefreshDimensions",afterRemoveCellMeta:"afterRemoveCellMeta",afterRemoveCol:"afterRemoveCol",afterRemoveRow:"afterRemoveRow",afterRender:"afterRender",afterRenderer:"afterRenderer",afterRowMove:"afterRowMove",afterRowResize:"afterRowResize",afterScrollHorizontally:"afterScrollHorizontally",afterScrollVertically:"afterScrollVertically",afterSelection:"afterSelection",afterSelectionByProp:"afterSelectionByProp",afterSelectionEnd:"afterSelectionEnd",afterSelectionEndByProp:"afterSelectionEndByProp",afterSetCellMeta:"afterSetCellMeta",afterSetDataAtCell:"afterSetDataAtCell",afterSetDataAtRowProp:"afterSetDataAtRowProp",afterSetSourceDataAtCell:"afterSetSourceDataAtCell",afterTrimRow:"afterTrimRow",afterUndo:"afterUndo",afterUndoStackChange:"afterUndoStackChange",afterUnhideColumns:"afterUnhideColumns",afterUnhideRows:"afterUnhideRows",afterUnlisten:"afterUnlisten",afterUnmergeCells:"afterUnmergeCells",afterUntrimRow:"afterUntrimRow",afterUpdateSettings:"afterUpdateSettings",afterValidate:"afterValidate",afterViewportColumnCalculatorOverride:"afterViewportColumnCalculatorOverride",afterViewportRowCalculatorOverride:"afterViewportRowCalculatorOverride",afterViewRender:"afterViewRender",beforeAddChild:"beforeAddChild",beforeAutofill:"beforeAutofill",beforeAutofillInsidePopulate:"beforeAutofillInsidePopulate",beforeCellAlignment:"beforeCellAlignment",beforeChange:"beforeChange",beforeChangeRender:"beforeChangeRender",beforeColumnCollapse:"beforeColumnCollapse",beforeColumnExpand:"beforeColumnExpand",beforeColumnMove:"beforeColumnMove",beforeColumnResize:"beforeColumnResize",beforeColumnSort:"beforeColumnSort",beforeContextMenuSetItems:"beforeContextMenuSetItems",beforeContextMenuShow:"beforeContextMenuShow",beforeCopy:"beforeCopy",beforeCreateCol:"beforeCreateCol",beforeCreateRow:"beforeCreateRow",beforeCut:"beforeCut",beforeDetachChild:"beforeDetachChild",beforeDrawBorders:"beforeDrawBorders",beforeDropdownMenuSetItems:"beforeDropdownMenuSetItems",beforeDropdownMenuShow:"beforeDropdownMenuShow",beforeFilter:"beforeFilter",beforeGetCellMeta:"beforeGetCellMeta",beforeHideColumns:"beforeHideColumns",beforeHideRows:"beforeHideRows",beforeInit:"beforeInit",beforeInitWalkontable:"beforeInitWalkontable",beforeKeyDown:"beforeKeyDown",beforeLanguageChange:"beforeLanguageChange",beforeLoadData:"beforeLoadData",beforeMergeCells:"beforeMergeCells",beforeOnCellContextMenu:"beforeOnCellContextMenu",beforeOnCellMouseDown:"beforeOnCellMouseDown",beforeOnCellMouseOut:"beforeOnCellMouseOut",beforeOnCellMouseOver:"beforeOnCellMouseOver",beforeOnCellMouseUp:"beforeOnCellMouseUp",beforePaste:"beforePaste",beforeRedo:"beforeRedo",beforeRedoStackChange:"beforeRedoStackChange",beforeRefreshDimensions:"beforeRefreshDimensions",beforeRemoveCellClassNames:"beforeRemoveCellClassNames",beforeRemoveCellMeta:"beforeRemoveCellMeta",beforeRemoveCol:"beforeRemoveCol",beforeRemoveRow:"beforeRemoveRow",beforeRender:"beforeRender",beforeRenderer:"beforeRenderer",beforeRowMove:"beforeRowMove",beforeRowResize:"beforeRowResize",beforeSetCellMeta:"beforeSetCellMeta",beforeSetRangeEnd:"beforeSetRangeEnd",beforeSetRangeStart:"beforeSetRangeStart",beforeSetRangeStartOnly:"beforeSetRangeStartOnly",beforeStretchingColumnWidth:"beforeStretchingColumnWidth",beforeTouchScroll:"beforeTouchScroll",beforeTrimRow:"beforeTrimRow",beforeUndo:"beforeUndo",beforeUndoStackChange:"beforeUndoStackChange",beforeUnhideColumns:"beforeUnhideColumns",beforeUnhideRows:"beforeUnhideRows",beforeUnmergeCells:"beforeUnmergeCells",beforeUntrimRow:"beforeUntrimRow",beforeValidate:"beforeValidate",beforeValueRender:"beforeValueRender",beforeViewRender:"beforeViewRender",construct:"construct",init:"init",modifyAutoColumnSizeSeed:"modifyAutoColumnSizeSeed",modifyAutofillRange:"modifyAutofillRange",modifyColHeader:"modifyColHeader",modifyColumnHeaderHeight:"modifyColumnHeaderHeight",modifyColWidth:"modifyColWidth",modifyCopyableRange:"modifyCopyableRange",modifyData:"modifyData",modifyGetCellCoords:"modifyGetCellCoords",modifyRowData:"modifyRowData",modifyRowHeader:"modifyRowHeader",modifyRowHeaderWidth:"modifyRowHeaderWidth",modifyRowHeight:"modifyRowHeight",modifySourceData:"modifySourceData",modifyTransformEnd:"modifyTransformEnd",modifyTransformStart:"modifyTransformStart",persistentStateLoad:"persistentStateLoad",persistentStateReset:"persistentStateReset",persistentStateSave:"persistentStateSave"},features:[Li([W4,wie]),Ws],decls:2,vars:1,consts:[[3,"id"],["container",""]],template:function(t,r){1&t&&ie(0,"div",0,1),2&t&&V("id",r.hotId)},encapsulation:2}),n})(),Oze=(()=>{class n{static forRoot(){return{ngModule:n,providers:[W4]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({}),n.version="12.2.0",n})(),kze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u4e3b\u6841\u672c\u6570","\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a"],this.dataset=[{name:"amount_V",value:this.model.beam.amount_V,unit:"\u672c"},{name:"D",value:this.model.beam.D,unit:"mm"},{name:"tf",value:this.model.beam.tf,unit:"mm"},{name:"W",value:this.model.beam.W,unit:"mm"},{name:"tw",value:this.model.beam.tw,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.integer_cell=[{row:0,col:1,type:"numeric",numericFormat:{pattern:"mantissa"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,cell:this.integer_cell,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;const c=this.dataset[a[0]].name;null!=this.integer_cell.find(p=>p.row===a[0])&&(u=Math.round(u)),this.model.beam[c]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(sd),ke(ef),ke(rf))},n.\u0275cmp=Ci({type:n,selectors:[["app-side-right-beam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(ee(0,"h1",0),En(1,"\u4e3b\u6841\u306e\u7de8\u96c6"),se(),ee(2,"div",1),ie(3,"hot-table",2),se(),ee(4,"div",3)(5,"button",4),En(6,"\u9589\u3058\u308b"),se()()),2&t&&(kr(3),V("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[Nm,$h,Xf,Kf,_m,Zf]}),n})(),Lze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074","\u96e2\u9694\uff08\u5185\u5074","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8","\u5168\u4f53\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055"],this.dataset=[{name:"D3",value:this.model.cross.D3,unit:"mm"},{name:"tf2",value:this.model.cross.tf2,unit:"mm"},{name:"W2",value:this.model.cross.W2,unit:"mm"},{name:"tw2",value:this.model.cross.tw2,unit:"mm"},{name:"s_edge",value:this.model.cross.s_edge,unit:"mm"},{name:"s_middle",value:this.model.cross.s_middle,unit:"mm"},{name:"Gusset04",value:"",unit:""},{name:"GA4",value:this.model.cross.GA4,unit:"mm"},{name:"GD4",value:this.model.cross.GD4,unit:"mm"},{name:"GB4",value:this.model.cross.GB4,unit:"mm"},{name:"GC4",value:this.model.cross.GC4,unit:"mm"},{name:"Gt4",value:this.model.cross.Gt4,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,width:"300",columns:this.columns,colWidths:[50,100],allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.cross[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(sd),ke(ef),ke(rf))},n.\u0275cmp=Ci({type:n,selectors:[["app-side-right-cross"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(ee(0,"h1",0),En(1,"\u6a2a\u69cb\u306e\u7de8\u96c6"),se(),ee(2,"div",1),ie(3,"hot-table",2),se(),ee(4,"div",3)(5,"button",4),En(6,"\u9589\u3058\u308b"),se()()),2&t&&(kr(3),V("settings",r.hotSettings)("rowHeaderWidth",150)("stretchH","last"))},dependencies:[Nm,$h,Xf,Kf,_m,Zf]}),n})(),Pze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074\uff09","\u96e2\u9694\uff08\u5185\u5074\uff09","\u914d\u7f6e\u5217\u6570"],this.dataset=[{name:"D4",value:this.model.crossbeam.D4,unit:"mm"},{name:"tf3",value:this.model.crossbeam.tf3,unit:"mm"},{name:"W3",value:this.model.crossbeam.W3,unit:"mm"},{name:"tw3",value:this.model.crossbeam.tw3,unit:"mm"},{name:"s_edge2",value:this.model.crossbeam.s_edge2,unit:"mm"},{name:"s_middle2",value:this.model.crossbeam.s_middle2,unit:"mm"},{name:"location2",value:this.model.crossbeam.location2,unit:"\u5217"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.crossbeam[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(sd),ke(ef),ke(rf))},n.\u0275cmp=Ci({type:n,selectors:[["app-side-right-crossbeam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(ee(0,"h1",0),En(1,"\u8377\u91cd\u5206\u914d\u6a2a\u6841\u306e\u7de8\u96c6"),se(),ee(2,"div",1),ie(3,"hot-table",2),se(),ee(4,"div",3)(5,"button",4),En(6,"\u9589\u3058\u308b"),se()()),2&t&&(kr(3),V("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[Nm,$h,Xf,Kf,_m,Zf]}),n})(),Ize=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074\uff09","\u96e2\u9694\uff08\u5185\u5074\uff09"],this.dataset=[{name:"D5",value:this.model.endbeam.D5,unit:"mm"},{name:"tf4",value:this.model.endbeam.tf4,unit:"mm"},{name:"tw4",value:this.model.endbeam.tw4,unit:"mm"},{name:"s_edge3",value:this.model.endbeam.s_edge3,unit:"mm"},{name:"s_middle3",value:this.model.endbeam.s_middle3,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.endbeam[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(sd),ke(ef),ke(rf))},n.\u0275cmp=Ci({type:n,selectors:[["app-side-right-endbeam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(ee(0,"h1",0),En(1,"\u7aef\u6a2a\u6841\u306e\u7de8\u96c6"),se(),ee(2,"div",1),ie(3,"hot-table",2),se(),ee(4,"div",3)(5,"button",4),En(6,"\u9589\u3058\u308b"),se()()),2&t&&(kr(3),V("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[Nm,$h,Xf,Kf,_m,Zf]}),n})(),Nze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["L\u92fc\u5e95\u9762\u5e45","L\u92fc\u5074\u9762\u5e45","L\u92fc\u539a","\u6c34\u5e73\u90e8\u96e2\u9694","\u659c\u90e8\u96e2\u9694\uff08\u5916\u5074\uff09","\u659c\u90e8\u96e2\u9694\uff08\u5185\u5074\uff09","\u659c\u90e8\u63a5\u5408\u70b9\u9593\u8ddd\u96e2\uff08X\u5024\uff09","\u659c\u90e8\u63a5\u5408\u70b9\u9593\u8ddd\u96e2\uff08Z\u5024\uff09","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u659c\u6750\uff09","\u5168\u4f53\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u5f26\u6750\uff09","\u9577\u8fba\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055","\u4e3b\u6841\u304b\u3089\u306e\u96e2\u9694","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u5f26\u6750\uff09","\u9577\u8fba\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055","\u4e3b\u6841\u304b\u3089\u306e\u96e2\u9694"],this.dataset=[{name:"A",value:this.model.mid.A,unit:"mm"},{name:"B",value:this.model.mid.B,unit:"mm"},{name:"t",value:this.model.mid.t,unit:"mm"},{name:"s",value:this.model.mid.s,unit:"mm"},{name:"s_out",value:this.model.mid.s_out,unit:"mm"},{name:"s_in",value:this.model.mid.s_in,unit:"mm"},{name:"dz",value:this.model.mid.dz,unit:"mm"},{name:"H",value:this.model.mid.H,unit:"mm"},{name:"Gusset01",value:"",unit:""},{name:"GA1",value:this.model.mid.GA1,unit:"mm"},{name:"GD1",value:this.model.mid.GD1,unit:"mm"},{name:"GB1",value:this.model.mid.GB1,unit:"mm"},{name:"GC1",value:this.model.mid.GC1,unit:"mm"},{name:"Gt1",value:this.model.mid.Gt1,unit:"mm"},{name:"Gusset02",value:"",unit:""},{name:"GA2",value:this.model.mid.GA2,unit:"mm"},{name:"GD2",value:this.model.mid.GD2,unit:"mm"},{name:"GB2",value:this.model.mid.GB2,unit:"mm"},{name:"GC2",value:this.model.mid.GC2,unit:"mm"},{name:"Gt2",value:this.model.mid.Gt2,unit:"mm"},{name:"Gdx2",value:this.model.mid.Gdx2,unit:"mm"},{name:"Gusset03",value:"",unit:""},{name:"GA3",value:this.model.mid.GA3,unit:"mm"},{name:"GD3",value:this.model.mid.GD3,unit:"mm"},{name:"GC3",value:this.model.mid.GC3,unit:"mm"},{name:"GB3",value:this.model.mid.GB3,unit:"mm"},{name:"Gt3",value:this.model.mid.Gt1,unit:"mm"},{name:"Gdx3",value:this.model.mid.Gdx2,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,width:"330",columns:this.columns,colWidths:[50,100],allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.mid[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(sd),ke(ef),ke(rf))},n.\u0275cmp=Ci({type:n,selectors:[["app-side-right-mid"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(ee(0,"h1",0),En(1,"\u4e2d\u9593\u5bfe\u50be\u69cb\u306e\u7de8\u96c6"),se(),ee(2,"div",1),ie(3,"hot-table",2),se(),ee(4,"div",3)(5,"button",4),En(6,"\u9589\u3058\u308b"),se()()),2&t&&(kr(3),V("settings",r.hotSettings)("rowHeaderWidth",180)("stretchH","last"))},dependencies:[Nm,$h,Xf,Kf,_m,Zf]}),n})(),Fze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u696d\u52d9\u540d","\u8def\u7dda\u540d","\u9053\u8def\u7a2e\u5225","\u6a4b\u9577","\u6841\u9577","\u652f\u9593\u9577","\u958b\u59cb\u8ddd\u96e2\u6a19","\u7d42\u4e86\u8ddd\u96e2\u6a19","\u958b\u59cb\u6e2c\u70b9\u756a\u53f7","\u958b\u59cb\u6e2c\u70b9x\u5ea7\u6a19","\u958b\u59cb\u6e2c\u70b9y\u5ea7\u6a19","\u958b\u59cb\u6e2c\u70b9z\u5ea7\u6a19","\u7d42\u4e86\u6e2c\u70b9\u756a\u53f7","\u7d42\u4e86\u6e2c\u70b9x\u5ea7\u6a19","\u7d42\u4e86\u6e2c\u70b9y\u5ea7\u6a19","\u7d42\u4e86\u6e2c\u70b9z\u5ea7\u6a19","\u6a2a\u6841\u30fb\u5bfe\u50be\u69cb\u306e\u5217\u6570"],this.dataset=[{name:"ProjectName",value:this.model.others.Name_P,unit:""},{name:"RouteName",value:this.model.others.Name_R,unit:""},{name:"RoadClass",value:this.model.others.Class_R,unit:""},{name:"L",value:this.model.others.L,unit:"m"},{name:"L_01",value:this.model.others.L_01,unit:"m"},{name:"L_02",value:this.model.others.L_02,unit:"m"},{name:"Milepost_B",value:this.model.others.Milepost_B,unit:"km"},{name:"Milepost_E",value:this.model.others.Milepost_E,unit:"km"},{name:"BP",value:this.model.others.BP,unit:"NO."},{name:"BPx",value:this.model.others.BPx,unit:"m"},{name:"BPy",value:this.model.others.BPy,unit:"m"},{name:"BPz",value:this.model.others.BPz,unit:"m"},{name:"EP",value:this.model.others.EP,unit:"NO."},{name:"EPx",value:this.model.others.EPx,unit:"m"},{name:"EPy",value:this.model.others.EPy,unit:"m"},{name:"EPz",value:this.model.others.EPz,unit:"m"},{name:"amount_H",value:this.model.others.amount_H,unit:"\u5217"}],this.columns=[{data:"unit",readOnly:!0},{data:"value"}],this.integer_cell=[{row:2,col:2,type:"numeric",numericFormat:{pattern:"mantissa"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,cell:this.integer_cell,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=a[3];const c=this.dataset[a[0]].name;null!=this.integer_cell.find(p=>p.row===a[0])&&(u=Math.round(u)),this.model.others[c]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(sd),ke(ef),ke(rf))},n.\u0275cmp=Ci({type:n,selectors:[["app-side-right-others"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(ee(0,"h1",0),En(1,"\u5171\u901a\u9805\u76ee\u306e\u7de8\u96c6"),se(),ee(2,"div",1),ie(3,"hot-table",2),se(),ee(4,"div",3)(5,"button",4),En(6,"\u9589\u3058\u308b"),se()()),2&t&&(kr(3),V("settings",r.hotSettings)("rowHeaderWidth",130)("stretchH","last"))},dependencies:[Nm,$h,Xf,Kf,_m,Zf]}),n})(),Mie=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(ke(mc),ke(wi))},n.\u0275dir=kn({type:n}),n})(),Xb=(()=>{class n extends Mie{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Fi(n)))(r||n)}}(),n.\u0275dir=kn({type:n,features:[pr]}),n})();const fd=new Dn("NgValueAccessor"),Bze={provide:fd,useExisting:Qi(()=>Y4),multi:!0},zze=new Dn("CompositionEventMode");let Y4=(()=>{class n extends Mie{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vze(){const n=Uf()?Uf().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(ke(mc),ke(wi),ke(zze,8))},n.\u0275dir=kn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&st("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Li([Bze]),pr]}),n})();const Gl=new Dn("NgValidators"),cy=new Dn("NgAsyncValidators");function Lie(n){return null!=n}function Pie(n){return tt(n)?Qo(n):n}function Iie(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Nie(n,e){return e.map(t=>t(n))}function Fie(n){return n.map(e=>function Wze(n){return!n.validate}(e)?e:t=>e.validate(t))}function G4(n){return null!=n?function Hie(n){if(!n)return null;const e=n.filter(Lie);return 0==e.length?null:function(t){return Iie(Nie(t,e))}}(Fie(n)):null}function $4(n){return null!=n?function Bie(n){if(!n)return null;const e=n.filter(Lie);return 0==e.length?null:function(t){return kQ(Nie(t,e).map(Pie)).pipe(Rn(Iie))}}(Fie(n)):null}function Vie(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function X4(n){return n?Array.isArray(n)?n:[n]:[]}function tI(n,e){return Array.isArray(n)?n.includes(e):n===e}function jie(n,e){const t=X4(e);return X4(n).forEach(i=>{tI(t,i)||t.push(i)}),t}function Wie(n,e){return X4(e).filter(t=>!tI(n,t))}class Yie{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=G4(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class dy extends Yie{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $u extends Yie{get formDirective(){return null}get path(){return null}}let $ie=(()=>{class n extends class Gie{constructor(e){this._cd=e}get isTouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.touched)}get isUntouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.untouched)}get isPristine(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pristine)}get isDirty(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.dirty)}get isValid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.valid)}get isInvalid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.invalid)}get isPending(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(ke(dy,2))},n.\u0275dir=kn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Vi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pr]}),n})();const P1="VALID",rI="INVALID",nx="PENDING",I1="DISABLED";function Kie(n){return Array.isArray(n)?G4(n):n||null}function Zie(n){return Array.isArray(n)?$4(n):n||null}function iI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function N1(n,e){var t,r;(function tW(n,e){const t=function zie(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Vie(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Uie(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Vie(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();aI(e._rawValidators,i),aI(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&(null===(r=(t=e.valueAccessor).setDisabledState)||void 0===r||r.call(t,!0)),function eUe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&eoe(n,e)})}(n,e),function nUe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tUe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&eoe(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Qze(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function aI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eoe(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ioe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ooe(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cUe={provide:dy,useExisting:Qi(()=>oW)},uoe=(()=>Promise.resolve(null))();let oW=(()=>{class n extends dy{constructor(t,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new class extends class Qie{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Kie(this._rawValidators),this._composedAsyncValidatorFn=Zie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===P1}get invalid(){return this.status===rI}get pending(){return this.status==nx}get disabled(){return this.status===I1}get enabled(){return this.status!==I1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Kie(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Zie(e)}addValidators(e){this.setValidators(jie(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jie(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wie(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wie(e,this._rawAsyncValidators))}hasValidator(e){return tI(this._rawValidators,e)}hasAsyncValidator(e){return tI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nx,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=I1,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=P1,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===P1||this.status===nx)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?I1:P1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nx,this._hasOwnPendingAsyncValidator=!0;const t=Pie(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new _o,this.statusChanges=new _o}_calculateStatus(){return this._allControlsDisabled()?I1:this.errors?rI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nx)?nx:this._anyControlsHaveStatus(rI)?rI:P1}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){iI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function J4(n){return(iI(n)?n.validators:n)||null}(t),function Q4(n,e){return(iI(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ooe(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ioe(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ioe(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ooe(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new _o,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function rW(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Y4?t=o:function oUe(n){return Object.getPrototypeOf(n.constructor)===Xb}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function nW(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){N1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){uoe.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function lm(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);uoe.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(t){return this._parent?function oI(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(ke($u,9),ke(Gl,10),ke(cy,10),ke(fd,10),ke(Hu,8))},n.\u0275dir=kn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Li([cUe]),pr,Ws]}),n})(),doe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({}),n})();const sW=new Dn("NgModelWithFormControlWarning");let Toe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[doe]}),n})(),IUe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[Toe]}),n})(),NUe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sW,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[Toe]}),n})();const HUe=["input"],BUe=["label"],VUe=function(n){return{enterDuration:n}},zUe=["*"],UUe=new Dn("mat-checkbox-default-options",{providedIn:"root",factory:Roe});function Roe(){return{color:"accent",clickAction:"check-indeterminate"}}let jUe=0;const Doe=Roe(),WUe={provide:fd,useExisting:Qi(()=>Aoe),multi:!0};class YUe{}const GUe=cZ(YM(vT(GO(class{constructor(n){this._elementRef=n}}))));let $Ue=(()=>{class n extends GUe{constructor(t,r,i,o,s,a,u){super(r),this._changeDetectorRef=i,this._ngZone=o,this._animationMode=a,this._options=u,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new _o,this.indeterminateChange=new _o,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Doe,this.color=this.defaultColor=this._options.color||Doe.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`${t}${++jUe}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=wa(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const r=wa(t);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const r=wa(t);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const r=t!=this._indeterminate;this._indeterminate=wa(t),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let r=this._currentCheckState,i=this._getAnimationTargetElement();if(r!==t&&i&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){var t;const r=null===(t=this._options)||void 0===t?void 0:t.clickAction;this.disabled||"noop"===r?!this.disabled&&"noop"===r&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==r&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,r){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===r)return this._animationClasses.uncheckedToChecked;if(3==r)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===r?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===r?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===r?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const r=this._inputElement;r&&(r.nativeElement.indeterminate=t)}}return n.\u0275fac=function(t){iv()},n.\u0275dir=kn({type:n,viewQuery:function(t,r){if(1&t&&(El(HUe,5),El(BUe,5),El(GM,5)),2&t){let i;Eo(i=To())&&(r._inputElement=i.first),Eo(i=To())&&(r._labelElement=i.first),Eo(i=To())&&(r.ripple=i.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[pr]}),n})(),Aoe=(()=>{class n extends $Ue{constructor(t,r,i,o,s,a,u){super("mat-checkbox-",t,r,o,s,a,u),this._focusMonitor=i,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(t){const r=new YUe;return r.source=this,r.checked=t,r}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(t){t.stopPropagation(),super._handleInputClick()}focus(t,r){t?this._focusMonitor.focusVia(this._inputElement,t,r):this._inputElement.nativeElement.focus(r)}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(Hu),ke(gm),ke(Si),Oh("tabindex"),ke(Bf,8),ke(UUe,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(t,r){2&t&&(MM("id",r.id),qo("tabindex",null)("aria-label",null)("aria-labelledby",null),Vi("mat-checkbox-indeterminate",r.indeterminate)("mat-checkbox-checked",r.checked)("mat-checkbox-disabled",r.disabled)("mat-checkbox-label-before","before"==r.labelPosition)("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[Li([WUe]),pr],ngContentSelectors:zUe,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,r){if(1&t&&(Gn(),ee(0,"label",0,1)(2,"span",2)(3,"input",3,4),st("change",function(o){return r._onInteractionEvent(o)})("click",function(o){return r._onInputClick(o)}),se(),ee(5,"span",5),ie(6,"span",6),se(),ie(7,"span",7),ee(8,"span",8),ss(),ee(9,"svg",9),ie(10,"path",10),se(),function nl(){!function Rg(){oi.lFrame.currentNamespace=null}()}(),ie(11,"span",11),se()(),ee(12,"span",12,13),st("cdkObserveContent",function(){return r._onLabelTextChange()}),ee(14,"span",14),En(15,"\xa0"),se(),$n(16),se()()),2&t){const i=H(1),o=H(13);qo("for",r.inputId),kr(2),Vi("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),kr(1),V("id",r.inputId)("required",r.required)("checked",r.checked)("disabled",r.disabled)("tabIndex",r.tabIndex),qo("value",r.value)("name",r.name)("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-checked",r._getAriaChecked())("aria-describedby",r.ariaDescribedby),kr(2),V("matRippleTrigger",i)("matRippleDisabled",r._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",N9(19,VUe,"NoopAnimations"===r._animationMode?0:150))}},dependencies:[GM,h0e],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),Ooe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({}),n})(),ZUe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[$O,Ro,G3,Ooe,Ro,Ooe]}),n})();function qUe(n,e){if(1&n){const t=Me();ee(0,"li")(1,"mat-checkbox",8),st("ngModelChange",function(i){return da(_l(t).$implicit.completed=i)})("ngModelChange",function(){return _l(t),da(Gt().updateAllComplete())})("change",function(){return _l(t),da(Gt().redraw())}),En(2),se()()}if(2&n){const t=e.$implicit;kr(1),V("ngModel",t.completed)("color",t.color),kr(1),Ur(" ",t.name," ")}}function JUe(n,e){if(1&n){const t=Me();ee(0,"li")(1,"mat-checkbox",8),st("ngModelChange",function(i){return da(_l(t).$implicit.completed=i)})("ngModelChange",function(){return _l(t),da(Gt().updateAllComplete2())})("change",function(){return _l(t),da(Gt().redraw())}),En(2),se()()}if(2&n){const t=e.$implicit;kr(1),V("ngModel",t.completed)("color",t.color),kr(1),Ur(" ",t.name," ")}}let QUe=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.slab={name:"\u5e8a\u7248",completed:this.model.display.slab,color:"primary"},this.pavement={name:"\u8217\u88c5",completed:this.model.display.pavement,color:"primary"},this.beam={name:"\u4e3b\u6841",completed:this.model.display.beam,color:"primary"},this.crossbeam={name:"\u8377\u91cd\u5206\u914d\u6a2a\u6841",completed:this.model.display.crossbeam,color:"primary"},this.endbeam={name:"\u7aef\u6a2a\u6841",completed:this.model.display.endbeam,color:"primary"},this.mid={name:"\u4e2d\u9593\u5bfe\u50be\u69cb",completed:!0,color:"primary",subtasks:[{name:"\u5bfe\u50be\u69cb",completed:this.model.display.mid,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u659c\u6750\uff09",completed:this.model.display.gusset01,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u5f26\u6750\uff09",completed:this.model.display.gusset02,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u5f26\u6750\uff09",completed:this.model.display.gusset03,color:"accent"}]},this.allComplete=!0,this.cross={name:"\u6a2a\u69cb",completed:!0,color:"primary",subtasks:[{name:"\u4e0a\u6a2a\u69cb",completed:this.model.display.cross_u,color:"accent"},{name:"\u4e0b\u6a2a\u69cb",completed:this.model.display.cross_l,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8",completed:this.model.display.gusset04,color:"accent"}]},this.allComplete2=!0}redraw(){this.model.display.slab=this.slab.completed,this.model.display.pavement=this.pavement.completed,this.model.display.beam=this.beam.completed,this.model.display.crossbeam=this.crossbeam.completed,this.model.display.endbeam=this.endbeam.completed,null!=this.mid.subtasks&&(this.model.display.mid=this.mid.subtasks[0].completed,this.model.display.gusset01=this.mid.subtasks[1].completed,this.model.display.gusset02=this.mid.subtasks[2].completed,this.model.display.gusset03=this.mid.subtasks[3].completed),null!=this.cross.subtasks&&(this.model.display.cross_u=this.cross.subtasks[0].completed,this.model.display.cross_l=this.cross.subtasks[1].completed,this.model.display.gusset04=this.cross.subtasks[2].completed),this.girder.createGirder(this.model.palam())}updateAllComplete(){this.allComplete=null!=this.mid.subtasks&&this.mid.subtasks.every(t=>t.completed)}someComplete(){return null!=this.mid.subtasks&&this.mid.subtasks.filter(t=>t.completed).length>0&&!this.allComplete}setAll(t){this.allComplete=t,null!=this.mid.subtasks&&(this.mid.subtasks.forEach(r=>r.completed=t),this.redraw())}updateAllComplete2(){this.allComplete2=null!=this.cross.subtasks&&this.cross.subtasks.every(t=>t.completed)}someComplete2(){return null!=this.cross.subtasks&&this.cross.subtasks.filter(t=>t.completed).length>0&&!this.allComplete2}setAll2(t){this.allComplete2=t,null!=this.cross.subtasks&&(this.cross.subtasks.forEach(r=>r.completed=t),this.redraw())}}return n.\u0275fac=function(t){return new(t||n)(ke(sd),ke(ef),ke(rf))},n.\u0275cmp=Ci({type:n,selectors:[["app-side-right-display"]],decls:39,vars:25,consts:[["mat-dialog-title",""],[1,"example-section"],[1,"example-list-section"],[1,"example-margin",3,"ngModel","color","ngModelChange","change"],[1,"example-margin",3,"checked","color","indeterminate","change"],[4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],[3,"ngModel","color","ngModelChange","change"]],template:function(t,r){1&t&&(ee(0,"h1",0),En(1,"\u4f5c\u6210\u3059\u308b\u30e2\u30c7\u30eb\u3092\u9078\u629e"),se(),ee(2,"section",1)(3,"span",2)(4,"mat-checkbox",3),st("ngModelChange",function(o){return r.pavement.completed=o})("change",function(){return r.redraw()}),En(5),se()()(),ee(6,"section",1)(7,"span",2)(8,"mat-checkbox",3),st("ngModelChange",function(o){return r.slab.completed=o})("change",function(){return r.redraw()}),En(9),se()()(),ee(10,"section",1)(11,"span",2)(12,"mat-checkbox",3),st("ngModelChange",function(o){return r.beam.completed=o})("change",function(){return r.redraw()}),En(13),se()()(),ee(14,"section",1)(15,"span",2)(16,"mat-checkbox",4),st("change",function(o){return r.setAll(o.checked)}),En(17),se()(),ee(18,"span",2)(19,"ul"),O(20,qUe,3,3,"li",5),se()()(),ee(21,"section",1)(22,"span",2)(23,"mat-checkbox",4),st("change",function(o){return r.setAll2(o.checked)}),En(24),se()(),ee(25,"span",2)(26,"ul"),O(27,JUe,3,3,"li",5),se()()(),ee(28,"section",1)(29,"span",2)(30,"mat-checkbox",3),st("ngModelChange",function(o){return r.crossbeam.completed=o})("change",function(){return r.redraw()}),En(31),se()()(),ee(32,"section",1)(33,"span",2)(34,"mat-checkbox",3),st("ngModelChange",function(o){return r.endbeam.completed=o})("change",function(){return r.redraw()}),En(35),se()()(),ee(36,"div",6)(37,"button",7),En(38,"\u9589\u3058\u308b"),se()()),2&t&&(kr(4),V("ngModel",r.pavement.completed)("color",r.pavement.color),kr(1),Ur(" ",r.pavement.name," "),kr(3),V("ngModel",r.slab.completed)("color",r.slab.color),kr(1),Ur(" ",r.slab.name," "),kr(3),V("ngModel",r.beam.completed)("color",r.beam.color),kr(1),Ur(" ",r.beam.name," "),kr(3),V("checked",r.allComplete)("color",r.mid.color)("indeterminate",r.someComplete()),kr(1),Ur(" ",r.mid.name," "),kr(3),V("ngForOf",r.mid.subtasks),kr(3),V("checked",r.allComplete2)("color",r.cross.color)("indeterminate",r.someComplete2()),kr(1),Ur(" ",r.cross.name," "),kr(3),V("ngForOf",r.cross.subtasks),kr(3),V("ngModel",r.crossbeam.completed)("color",r.crossbeam.color),kr(1),Ur(" ",r.crossbeam.name," "),kr(3),V("ngModel",r.endbeam.completed)("color",r.endbeam.color),kr(1),Ur(" ",r.endbeam.name," "))},dependencies:[NH,$ie,oW,$h,Xf,Kf,Zf,Aoe]}),n})(),eje=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u5de6\u5e45\u54e1","\u53f3\u5e45\u54e1","\u5730\u8986\u5e45","\u58c1\u9ad8","\u5e8a\u7248\u4e0a\u9762\u52fe\u914d\uff08\u5de6\uff09","\u5e8a\u7248\u4e0a\u9762\u52fe\u914d\uff08\u53f3\uff09","\u5e8a\u7248\u5e95\u9762\u52fe\u914d\uff08\u5de6\uff09","\u5e8a\u7248\u5e95\u9762\u52fe\u914d\uff08\u53f3\uff09","\u5e8a\u7248\u539a","\u30cf\u30f3\u30c1\u9ad8","\u30cf\u30f3\u30c1\u52fe\u914d","\u5e8a\u7248\u7aef\u90e8\u304b\u3089\u4e3b\u6841\u307e\u3067\u306e\u96e2\u9694"],this.dataset=[{name:"b1",value:this.model.slab.b1,unit:"m"},{name:"b2",value:this.model.slab.b2,unit:"m"},{name:"b3",value:this.model.slab.b3,unit:"m"},{name:"SH",value:this.model.slab.SH,unit:"m"},{name:"i1",value:this.model.slab.i1,unit:"%"},{name:"i2",value:this.model.slab.i2,unit:"%"},{name:"j1",value:this.model.slab.i1,unit:"%"},{name:"j2",value:this.model.slab.i2,unit:"%"},{name:"T1",value:this.model.slab.T1,unit:"m"},{name:"T2",value:this.model.slab.T2,unit:"m"},{name:"n",value:this.model.slab.n,unit:"1:n"},{name:"Ss",value:this.model.slab.Ss,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.slab[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(sd),ke(ef),ke(rf))},n.\u0275cmp=Ci({type:n,selectors:[["app-side-right-slab"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(ee(0,"h1",0),En(1,"\u30b9\u30e9\u30d6\u306e\u7de8\u96c6"),se(),ee(2,"div",1),ie(3,"hot-table",2),se(),ee(4,"div",3)(5,"button",4),En(6,"\u9589\u3058\u308b"),se()()),2&t&&(kr(3),V("settings",r.hotSettings)("rowHeaderWidth",200)("stretchH","last"))},dependencies:[Nm,$h,Xf,Kf,_m,Zf]}),n})(),tje=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u8217\u88c5\u52fe\u914d\uff08\u5de6\uff09","\u8217\u88c5\u52fe\u914d\uff08\u53f3\uff09","\u8217\u88c5\u539a"],this.dataset=[{name:"i1",value:this.model.pavement.i1,unit:"%"},{name:"i2",value:this.model.pavement.i2,unit:"%"},{name:"T",value:this.model.pavement.T,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.pavement[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(sd),ke(ef),ke(rf))},n.\u0275cmp=Ci({type:n,selectors:[["app-side-right-pavement"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(ee(0,"h1",0),En(1,"\u8217\u88c5\u306e\u7de8\u96c6"),se(),ee(2,"div",1),ie(3,"hot-table",2),se(),ee(4,"div",3)(5,"button",4),En(6,"\u9589\u3058\u308b"),se()()),2&t&&(kr(3),V("settings",r.hotSettings)("rowHeaderWidth",200)("stretchH","last"))},dependencies:[Nm,$h,Xf,Kf,_m,Zf]}),n})();class Poe{constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ht,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,r=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!r.has(o)).forEach(o=>this._unmarkSelected(o));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let nje=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[Ro,Ro]}),n})();const rje=["*"],oje=["text"];function sje(n,e){if(1&n&&ie(0,"mat-pseudo-checkbox",5),2&n){const t=Gt();V("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const aje=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],lje=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let uje=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=kn({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),cje=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=kn({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})();const dje=vT(class{}),hje=vT(class{}),fje={provide:fd,useExisting:Qi(()=>mW),multi:!0};class pje{constructor(e,t){this.source=e,this.options=t}}let Ioe=(()=>{class n extends hje{constructor(t,r,i){super(),this._element=t,this._changeDetector=r,this.selectionList=i,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new _o,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const r=wa(t);r!==this._disabled&&(this._disabled=r,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const r=wa(t);r!==this._selected&&(this._setSelected(r),(r||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(i=>t.compareWith(this._value,i))&&this._setSelected(!0);const r=this._selected;Promise.resolve().then(()=>{(this._selected||r)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function kMe(n,e,t="mat"){n.changes.pipe(dm(n)).subscribe(({length:r})=>{yT(e,`${t}-2-line`,!1),yT(e,`${t}-3-line`,!1),yT(e,`${t}-multi-line`,!1),2===r||3===r?yT(e,`${t}-${r}-line`,!0):r>3&&yT(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,r=this.selectionList._removeOptionFromList(this);t&&r&&r.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(Hu),ke(Qi(()=>mW)))},n.\u0275cmp=Ci({type:n,selectors:[["mat-list-option"]],contentQueries:function(t,r,i){if(1&t&&(al(i,uje,5),al(i,cje,5),al(i,OMe,5)),2&t){let o;Eo(o=To())&&(r._avatar=o.first),Eo(o=To())&&(r._icon=o.first),Eo(o=To())&&(r._lines=o)}},viewQuery:function(t,r){if(1&t&&El(oje,5),2&t){let i;Eo(i=To())&&(r._text=i.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,r){1&t&&st("focus",function(){return r._handleFocus()})("blur",function(){return r._handleBlur()})("click",function(){return r._handleClick()}),2&t&&(qo("aria-selected",r.selected)("aria-disabled",r.disabled)("tabindex",-1),Vi("mat-list-item-disabled",r.disabled)("mat-list-item-with-avatar",r._avatar||r._icon)("mat-primary","primary"===r.color)("mat-accent","primary"!==r.color&&"warn"!==r.color)("mat-warn","warn"===r.color)("mat-list-single-selected-option",r.selected&&!r.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[pr],ngContentSelectors:lje,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,r){1&t&&(Gn(aje),ee(0,"div",0),ie(1,"div",1),O(2,sje,1,2,"mat-pseudo-checkbox",2),ee(3,"div",3,4),$n(5),se(),$n(6,1),se()),2&t&&(Vi("mat-list-item-content-reverse","after"==r.checkboxPosition),kr(1),V("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()),kr(1),V("ngIf",r.selectionList.multiple))},dependencies:[GM,HMe,$E],encapsulation:2,changeDetection:0}),n})(),mW=(()=>{class n extends dje{constructor(t,r,i){super(),this._element=t,this._changeDetector=r,this._focusMonitor=i,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new _o,this.color="accent",this.compareWith=(o,s)=>o===s,this._disabled=!1,this.selectedOptions=new Poe(this._multiple),this._tabIndex=-1,this._onChange=o=>{},this._destroyed=new Ht,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=wa(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const r=wa(t);r!==this._multiple&&(this._multiple=r,this.selectedOptions=new Poe(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new NK(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Vu(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(dm(null),Vu(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Vu(this._destroyed)).subscribe(t=>{if(t.added)for(let r of t.added)r.selected=!0;if(t.removed)for(let r of t.removed)r.selected=!1}),this._focusMonitor.monitor(this._element).pipe(Vu(this._destroyed)).subscribe(t=>{var r;if("keyboard"===t||"program"===t){let i=0;for(let o=0;o<this.options.length;o++)if(null!==(r=this.options.get(o))&&void 0!==r&&r.selected){i=o;break}this._keyManager.setActiveItem(i)}})}ngOnChanges(t){const r=t.disableRipple,i=t.color;(r&&!r.firstChange||i&&!i.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const r=this._getOptionIndex(t);return r>-1&&this._keyManager.activeItemIndex===r&&(r>0?this._keyManager.updateActiveItem(r-1):0===r&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(r+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const r=t.keyCode,i=this._keyManager,o=i.activeItemIndex,s=ib(t);switch(r){case 32:case 13:!s&&!i.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===r&&this.multiple&&ib(t,"ctrlKey")&&!i.isTyping()){const a=this.options.some(u=>!u.disabled&&!u.selected);this._setAllOptionsSelected(a,!0,!0),t.preventDefault()}else i.onKeydown(t)}this.multiple&&(38===r||40===r)&&t.shiftKey&&i.activeItemIndex!==o&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new pje(this,t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(r=>r._setSelected(!1)),t.forEach(r=>{const i=this.options.find(o=>!o.selected&&this.compareWith(o.value,r));i&&i._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let r=this.options.toArray()[t];r&&!r.disabled&&(this._multiple||!r.selected)&&(r.toggle(),this._emitChangeEvent([r]))}}_setAllOptionsSelected(t,r,i){const o=[];return this.options.forEach(s=>{(!r||!s.disabled)&&s._setSelected(t)&&o.push(s)}),o.length&&(this._reportValueChange(),i&&this._emitChangeEvent(o)),o}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(Hu),ke(gm))},n.\u0275cmp=Ci({type:n,selectors:[["mat-selection-list"]],contentQueries:function(t,r,i){if(1&t&&al(i,Ioe,5),2&t){let o;Eo(o=To())&&(r.options=o)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,r){1&t&&st("keydown",function(o){return r._keydown(o)}),2&t&&qo("aria-multiselectable",r.multiple)("aria-disabled",r.disabled.toString())("tabindex",r._tabIndex)},inputs:{disableRipple:"disableRipple",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Li([fje]),pr,Ws],ngContentSelectors:rje,decls:1,vars:0,template:function(t,r){1&t&&(Gn(),$n(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),mje=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[dZ,$O,Ro,mZ,q_,dZ,Ro,mZ,nje]}),n})(),gje=(()=>{class n{constructor(t){this.dialog=t}openDialog(t){let r=null;"others"===t?r=Fze:"display"===t?r=QUe:"pavement"===t?r=tje:"slab"===t?r=eje:"beam"===t?r=kze:"mid"===t?r=Nze:"cross"===t?r=Lze:"crossbeam"===t?r=Pze:"endbeam"===t&&(r=Ize),null!=r&&this.dialog.open(r,{width:"400px",position:{right:"10px",top:"70px"},hasBackdrop:!1})}}return n.\u0275fac=function(t){return new(t||n)(ke(bT))},n.\u0275cmp=Ci({type:n,selectors:[["app-side-left"]],decls:20,vars:1,consts:[[3,"multiple"],["shoes",""],[3,"click"]],template:function(t,r){1&t&&(ee(0,"mat-selection-list",0,1)(2,"mat-list-option",2),st("click",function(){return r.openDialog("others")}),En(3,"\u5171\u901a"),se(),ee(4,"mat-list-option",2),st("click",function(){return r.openDialog("display")}),En(5,"\u69cb\u6210"),se(),ee(6,"mat-list-option",2),st("click",function(){return r.openDialog("pavement")}),En(7,"\u8217\u88c5"),se(),ee(8,"mat-list-option",2),st("click",function(){return r.openDialog("slab")}),En(9,"\u5e8a\u7248"),se(),ee(10,"mat-list-option",2),st("click",function(){return r.openDialog("beam")}),En(11,"\u4e3b\u6841"),se(),ee(12,"mat-list-option",2),st("click",function(){return r.openDialog("mid")}),En(13,"\u4e2d\u9593\u5bfe\u50be\u69cb"),se(),ee(14,"mat-list-option",2),st("click",function(){return r.openDialog("cross")}),En(15,"\u6a2a\u69cb"),se(),ee(16,"mat-list-option",2),st("click",function(){return r.openDialog("crossbeam")}),En(17,"\u8377\u91cd\u5206\u914d\u6a2a\u6841"),se(),ee(18,"mat-list-option",2),st("click",function(){return r.openDialog("endbeam")}),En(19,"\u7aef\u6a2a\u6841"),se()()),2&t&&V("multiple",!1)},dependencies:[mW,Ioe],styles:["mat-selection-list[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}mat-list-option[_ngcontent-%COMP%]{margin:10px}"]}),n})(),vje=(()=>{class n{constructor(t,r){this.changeDetectorRef=t,this.dialog=r}openChat(){this.dialog.open(aSe,{width:"350px",position:{right:"10px",bottom:"10px"},hasBackdrop:!1})}}return n.\u0275fac=function(t){return new(t||n)(ke(Hu),ke(bT))},n.\u0275cmp=Ci({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"over-three"]],template:function(t,r){1&t&&ie(0,"app-menu",0)(1,"app-side-left",0)(2,"app-three")},dependencies:[jDe,$Ae,gje],styles:[".over-three[_ngcontent-%COMP%]{z-index:10;position:relative}.right-buttom[_ngcontent-%COMP%]{z-index:10;position:fixed;right:50px;bottom:50px;transition:1s;opacity:.7}.right-buttom[_ngcontent-%COMP%]:hover{opacity:1}app-side-left[_ngcontent-%COMP%]{width:15%;display:block}"]}),n})();function Noe(n){return new sn(3e3,!1)}function Jje(){return"undefined"!=typeof window&&void 0!==window.document}function gW(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function hy(n){switch(n.length){case 0:return new _T;case 1:return n[0];default:return new _Z(n)}}function Foe(n,e,t,r,i=new Map,o=new Map){const s=[],a=[];let u=-1,c=null;if(r.forEach(h=>{const p=h.get("offset"),g=p==u,y=g&&c||new Map;h.forEach((w,S)=>{let C=S,P=w;if("offset"!==S)switch(C=e.normalizePropertyName(C,s),P){case"!":P=i.get(S);break;case vm:P=o.get(S);break;default:P=e.normalizeStyleValue(S,C,P,s)}y.set(C,P)}),g||a.push(y),c=y,u=p}),s.length)throw function Vje(n){return new sn(3502,!1)}();return a}function vW(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&yW(t,"start",n)));break;case"done":n.onDone(()=>r(t&&yW(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&yW(t,"destroy",n)))}}function yW(n,e,t){const r=t.totalTime,o=_W(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function _W(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function pd(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Hoe(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let bW=(n,e)=>!1,Boe=(n,e,t)=>[],Voe=null;function wW(n){const e=n.parentNode||n.host;return e===Voe?null:e}(gW()||"undefined"!=typeof Element)&&(Jje()?(Voe=(()=>document.documentElement)(),bW=(n,e)=>{for(;e;){if(e===n)return!0;e=wW(e)}return!1}):bW=(n,e)=>n.contains(e),Boe=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Zb=null,zoe=!1;const Uoe=bW,joe=Boe;let Woe=(()=>{class n{validateStyleProperty(t){return function e4e(n){Zb||(Zb=function t4e(){return"undefined"!=typeof document?document.body:null}()||{},zoe=!!Zb.style&&"WebkitAppearance"in Zb.style);let e=!0;return Zb.style&&!function Qje(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Zb.style,!e&&zoe&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Zb.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Uoe(t,r)}getParentElement(t){return wW(t)}query(t,r,i){return joe(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],u){return new _T(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),MW=(()=>{class n{}return n.NOOP=new Woe,n})();const SW="ng-enter",uI="ng-leave",cI="ng-trigger",dI=".ng-trigger",Goe="ng-animating",xW=".ng-animating";function fy(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:CW(parseFloat(e[1]),e[2])}function CW(n,e){return"s"===e?1e3*n:n}function hI(n,e,t){return n.hasOwnProperty("duration")?n:function i4e(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Noe()),{duration:0,delay:0,easing:""};i=CW(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(o=CW(parseFloat(u),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function yje(){return new sn(3100,!1)}()),a=!0),o<0&&(e.push(function _je(){return new sn(3101,!1)}()),a=!0),a&&e.splice(u,0,Noe())}return{duration:i,delay:o,easing:s}}(n,e,t)}function B1(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $oe(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function py(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Koe(n,e,t){return t?e+":"+t+";":""}function Zoe(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Koe(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Koe(0,l4e(t),n.style[t]));n.setAttribute("style",e)}function up(n,e,t){n.style&&(e.forEach((r,i)=>{const o=TW(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),gW()&&Zoe(n))}function qb(n,e){n.style&&(e.forEach((t,r)=>{const i=TW(r);n.style[i]=""}),gW()&&Zoe(n))}function V1(n){return Array.isArray(n)?1==n.length?n[0]:vZ(n):n}const EW=new RegExp("{{\\s*(.+?)\\s*}}","g");function qoe(n){let e=[];if("string"==typeof n){let t;for(;t=EW.exec(n);)e.push(t[1]);EW.lastIndex=0}return e}function fI(n,e,t){const r=n.toString(),i=r.replace(EW,(o,s)=>{let a=e[s];return null==a&&(t.push(function wje(n){return new sn(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function pI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const a4e=/-+([a-z0-9])/g;function TW(n){return n.replace(a4e,(...e)=>e[1].toUpperCase())}function l4e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function md(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Mje(n){return new sn(3004,!1)}()}}function Joe(n,e){return window.getComputedStyle(n)[e]}function p4e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function m4e(n,e,t){if(":"==n[0]){const u=function g4e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Nje(n){return new sn(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ije(n){return new sn(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(Qoe(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(Qoe(s,i))}(r,t,e)):t.push(n),t}const yI=new Set(["true","1"]),_I=new Set(["false","0"]);function Qoe(n,e){const t=yI.has(n)||_I.has(n),r=yI.has(e)||_I.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?yI.has(n):_I.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?yI.has(e):_I.has(e)),s&&a}}const v4e=new RegExp("s*:selfs*,?","g");function RW(n,e,t,r){return new y4e(n).build(e,t,r)}class y4e{constructor(e){this._driver=e}build(e,t,r){const i=new w4e(t);return this._resetContextStyleTimingState(i),md(this,V1(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function xje(){return new sn(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(h=>{u.name=h,o.push(this.visitState(u,t))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,s.push(u)}else t.errors.push(function Cje(){return new sn(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{qoe(u).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(pI(o.values()),t.errors.push(function Eje(n,e){return new sn(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=md(this,V1(e.animation),t);return{type:1,matchers:p4e(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Jb(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>md(this,r,t)),options:Jb(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=md(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:Jb(e.options)}}visitAnimate(e,t){const r=function S4e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return DW(hI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=DW(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=hI(t,e);return DW(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Yl({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=Yl(c)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(s,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===vm?r.push(a):t.errors.push(new sn(3002,!1)):r.push($oe(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let u of a.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,u)=>{const c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(u);let p=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(t.errors.push(function Rje(n,e,t,r,i){return new sn(3010,!1)}()),p=!1),o=h.startTime),p&&c.set(u,{startTime:o,endTime:i}),t.options&&function s4e(n,e,t){const r=e.params||{},i=qoe(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function bje(n){return new sn(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Dje(){return new sn(3011,!1)}()),r;let o=0;const s=[];let a=!1,u=!1,c=0;const h=e.steps.map(P=>{const B=this._makeStyleAst(P,t);let z=null!=B.offset?B.offset:function M4e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(B.styles),j=0;return null!=z&&(o++,j=B.offset=z),u=u||j<0||j>1,a=a||j<c,c=j,s.push(j),B});u&&t.errors.push(function Aje(){return new sn(3012,!1)}()),a&&t.errors.push(function Oje(){return new sn(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function kje(){return new sn(3202,!1)}()):0==o&&(g=1/(p-1));const y=p-1,w=t.currentTime,S=t.currentAnimateTimings,C=S.duration;return h.forEach((P,B)=>{const z=g>0?B==y?1:g*B:s[B],j=z*C;t.currentTime=w+S.delay+j,S.duration=j,this._validateStyleAst(P,t),P.offset=z,r.styles.push(P)}),r}visitReference(e,t){return{type:8,animation:md(this,V1(e.animation),t),options:Jb(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Jb(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Jb(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function _4e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(v4e,"")),n=n.replace(/@\*/g,dI).replace(/@\w+/g,t=>dI+"-"+t.slice(1)).replace(/:animating/g,xW),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,pd(t.collectedStyles,t.currentQuerySelector,new Map);const a=md(this,V1(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Jb(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Lje(){return new sn(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:hI(e.timings,t.errors,!0);return{type:12,animation:md(this,V1(e.animation),t),timings:r,options:null}}}class w4e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jb(n){return n?(n=B1(n)).params&&(n.params=function b4e(n){return n?B1(n):null}(n.params)):n={},n}function DW(n,e,t){return{duration:n,delay:e,easing:t}}function AW(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class bI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const E4e=new RegExp(":enter","g"),R4e=new RegExp(":leave","g");function OW(n,e,t,r,i,o=new Map,s=new Map,a,u,c=[]){return(new D4e).buildKeyframes(n,e,t,r,i,o,s,a,u,c)}class D4e{buildKeyframes(e,t,r,i,o,s,a,u,c,h=[]){c=c||new bI;const p=new kW(e,t,c,i,o,h,[]);p.options=u;const g=u.delay?fy(u.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,u),md(this,r,p);const y=p.timelines.filter(w=>w.containsAnimation());if(y.length&&a.size){let w;for(let S=y.length-1;S>=0;S--){const C=y[S];if(C.element===t){w=C;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,p.errors,u)}return y.length?y.map(w=>w.buildKeyframes()):[AW(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?fy(r.duration):null,a=null!=r.delay?fy(r.delay):null;return 0!==s&&e.forEach(u=>{const c=t.appendInstructionToTimeline(u,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),md(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=wI);const s=fy(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>md(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?fy(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),md(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return hI(t.params?fI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*o),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?fy(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=wI);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((c,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,c);o&&p.delayNextStep(o),c===t.element&&(u=p.currentTimeline),md(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let u=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const h=t.currentTimeline;u&&h.delayNextStep(u);const p=h.currentTime;md(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}}const wI={};class kW{constructor(e,t,r,i,o,s,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new MI(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=fy(r.duration)),null!=r.delay&&(i.delay=fy(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=fI(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new kW(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=wI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},o=new A4e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(E4e,"."+this._enterClassName)).replace(R4e,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function Pje(n){return new sn(3014,!1)}()),a}}class MI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new MI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||vm),this._currentKeyframe.set(t,vm);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){var o;t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},a=function O4e(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,vm)}else py(i,t)}),t}(e,this._globalTimelineStyles);for(let[u,c]of a){const h=fI(c,s,r);this._pendingStyles.set(u,h),this._localTimelineStyles.has(u)||this._backFill.set(u,null!==(o=this._globalTimelineStyles.get(u))&&void 0!==o?o:vm),this._updateStyle(u,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=py(a,new Map,this._backFill);c.forEach((h,p)=>{"!"===h?e.add(p):h===vm&&t.add(p)}),r||c.set("offset",u/this.duration),i.push(c)});const o=e.size?pI(e.values()):[],s=t.size?pI(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return AW(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class A4e extends MI{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,u=py(e[0]);u.set("offset",0),o.push(u);const c=py(e[0]);c.set("offset",nse(a)),o.push(c);const h=e.length-1;for(let p=1;p<=h;p++){let g=py(e[p]);const y=g.get("offset");g.set("offset",nse((t+y*r)/s)),o.push(g)}r=s,t=0,i="",e=o}return AW(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function nse(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class LW{}const k4e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class L4e extends LW{normalizePropertyName(e,t){return TW(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(k4e.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Sje(n,e){return new sn(3005,!1)}())}return s+o}}function rse(n,e,t,r,i,o,s,a,u,c,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:h,totalTime:p,errors:g}}const PW={};class ise{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function P4e(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(null==e?void 0:e.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,u,c,h){var p;const g=[],y=this.ast.options&&this.ast.options.params||PW,S=this.buildStyles(r,a&&a.params||PW,g),C=u&&u.params||PW,P=this.buildStyles(i,C,g),B=new Set,z=new Map,j=new Map,G="void"===i,re={params:I4e(C,y),delay:null===(p=this.ast.options)||void 0===p?void 0:p.delay},pe=h?[]:OW(e,t,this.ast.animation,o,s,S,P,re,c,g);let ne=0;if(pe.forEach(we=>{ne=Math.max(we.duration+we.delay,ne)}),g.length)return rse(t,this._triggerName,r,i,G,S,P,[],[],z,j,ne,g);pe.forEach(we=>{const Pe=we.element,ot=pd(z,Pe,new Set);we.preStyleProps.forEach(je=>ot.add(je));const at=pd(j,Pe,new Set);we.postStyleProps.forEach(je=>at.add(je)),Pe!==t&&B.add(Pe)});const he=pI(B.values());return rse(t,this._triggerName,r,i,G,S,P,pe,he,z,j,ne)}}function I4e(n,e){const t=B1(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class N4e{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=B1(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=fI(s,i,t));const u=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,u,s,t),r.set(u,s)})}),r}}class H4e{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new N4e(i.style,i.options&&i.options.params||{},r))}),ose(this.states,"true","1"),ose(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ise(e,i,this.states))}),this.fallbackTransition=function B4e(n,e,t){return new ise(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function ose(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const V4e=new bI;class z4e{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=RW(this._driver,t,r,[]);if(r.length)throw function zje(n){return new sn(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=Foe(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=OW(this._driver,t,o,SW,uI,new Map,new Map,r,V4e,i),s.forEach(h=>{const p=pd(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(i.push(function Uje(){return new sn(3300,!1)}()),s=[]),i.length)throw function jje(n){return new sn(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,y)=>{h.set(y,this._driver.computeStyle(p,y,vm))})});const c=hy(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Wje(n){return new sn(3301,!1)}();return t}listen(e,t,r,i){const o=_W(t,"","","");return vW(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const sse="ng-animate-queued",IW="ng-animate-disabled",G4e=[],ase={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$4e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oh="__ng_removed";class NW{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function q4e(n){return null!=n?n:null}(r?e.value:e),r){const o=B1(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const z1="void",FW=new NW(z1);class X4e{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,sh(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Yje(n,e){return new sn(3302,!1)}();if(null==r||0==r.length)throw function Gje(n){return new sn(3303,!1)}();if(!function J4e(n){return"start"==n||"done"==n}(r))throw function $je(n,e){return new sn(3400,!1)}();const o=pd(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=pd(this._engine.statesByElement,e,new Map);return a.has(t)||(sh(e,cI),sh(e,cI+"-"+t),a.set(t,FW)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(s);u>=0&&o.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Xje(n){return new sn(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new HW(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(sh(e,cI),sh(e,cI+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const c=new NW(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(t,c),u||(u=FW),c.value!==z1&&u.value===c.value){if(!function tWe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(u.params,c.params)){const S=[],C=o.matchStyles(u.value,u.params,S),P=o.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{qb(e,C),up(e,P)})}return}const g=pd(this._engine.playersByElement,e,[]);g.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let y=o.matchTransition(u.value,c.value,e,c.params),w=!1;if(!y){if(!i)return;y=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:u,toState:c,player:s,isFallbackTransition:w}),w||(sh(e,sse),s.onStart(()=>{rx(e,sse)})),s.onDone(()=>{let S=this.players.indexOf(s);S>=0&&this.players.splice(S,1);const C=this._engine.playersByElement.get(e);if(C){let P=C.indexOf(s);P>=0&&C.splice(P,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,dI,!0);r.forEach(i=>{if(i[oh])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((u,c)=>{if(s.set(c,u.value),this._triggers.has(c)){const h=this.trigger(e,c,z1,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&hy(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const u=this._triggers.get(s).fallbackTransition,c=r.get(s)||FW,h=new NW(z1),p=new HW(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:u,fromState:c,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[oh];(!o||o===ase)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){sh(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const u=_W(o,r.triggerName,r.fromState.value,r.toState.value);u._data=e,vW(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class K4e{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new X4e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(SI(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!SI(t))return;const o=t[oh];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),sh(e,IW)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),rx(e,IW))}removeNode(e,t,r,i){if(SI(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[oh]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return SI(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,dI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,xW,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return hy(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[oh];if(r&&r.setForRemoval){if(e[oh]=ase,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}!(null===(t=e.classList)||void 0===t)&&t.contains(IW)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)sh(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?hy(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Kje(n){return new sn(3402,!1)}()}_flushAnimations(e,t){const r=new bI,i=[],o=new Map,s=[],a=new Map,u=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(ye=>{h.add(ye);const Ae=this.driver.query(ye,".ng-animate-queued",!0);for(let Ge=0;Ge<Ae.length;Ge++)h.add(Ae[Ge])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=cse(g,this.collectedEnterElements),w=new Map;let S=0;y.forEach((ye,Ae)=>{const Ge=SW+S++;w.set(Ae,Ge),ye.forEach(Je=>sh(Je,Ge))});const C=[],P=new Set,B=new Set;for(let ye=0;ye<this.collectedLeaveElements.length;ye++){const Ae=this.collectedLeaveElements[ye],Ge=Ae[oh];Ge&&Ge.setForRemoval&&(C.push(Ae),P.add(Ae),Ge.hasAnimation?this.driver.query(Ae,".ng-star-inserted",!0).forEach(Je=>P.add(Je)):B.add(Ae))}const z=new Map,j=cse(g,Array.from(P));j.forEach((ye,Ae)=>{const Ge=uI+S++;z.set(Ae,Ge),ye.forEach(Je=>sh(Je,Ge))}),e.push(()=>{y.forEach((ye,Ae)=>{const Ge=w.get(Ae);ye.forEach(Je=>rx(Je,Ge))}),j.forEach((ye,Ae)=>{const Ge=z.get(Ae);ye.forEach(Je=>rx(Je,Ge))}),C.forEach(ye=>{this.processLeaveNode(ye)})});const G=[],re=[];for(let ye=this._namespaceList.length-1;ye>=0;ye--)this._namespaceList[ye].drainQueuedTransitions(t).forEach(Ge=>{const Je=Ge.player,bt=Ge.element;if(G.push(Je),this.collectedEnterElements.length){const Mt=bt[oh];if(Mt&&Mt.setForMove){if(Mt.previousTriggersValues&&Mt.previousTriggersValues.has(Ge.triggerName)){const kt=Mt.previousTriggersValues.get(Ge.triggerName),Dt=this.statesByElement.get(Ge.element);if(Dt&&Dt.has(Ge.triggerName)){const ut=Dt.get(Ge.triggerName);ut.value=kt,Dt.set(Ge.triggerName,ut)}}return void Je.destroy()}}const Z=!p||!this.driver.containsElement(p,bt),$=z.get(bt),de=w.get(bt),be=this._buildInstruction(Ge,r,de,$,Z);if(be.errors&&be.errors.length)return void re.push(be);if(Z)return Je.onStart(()=>qb(bt,be.fromStyles)),Je.onDestroy(()=>up(bt,be.toStyles)),void i.push(Je);if(Ge.isFallbackTransition)return Je.onStart(()=>qb(bt,be.fromStyles)),Je.onDestroy(()=>up(bt,be.toStyles)),void i.push(Je);const Ee=[];be.timelines.forEach(Mt=>{Mt.stretchStartingKeyframe=!0,this.disabledNodes.has(Mt.element)||Ee.push(Mt)}),be.timelines=Ee,r.append(bt,be.timelines),s.push({instruction:be,player:Je,element:bt}),be.queriedElements.forEach(Mt=>pd(a,Mt,[]).push(Je)),be.preStyleProps.forEach((Mt,kt)=>{if(Mt.size){let Dt=u.get(kt);Dt||u.set(kt,Dt=new Set),Mt.forEach((ut,Lt)=>Dt.add(Lt))}}),be.postStyleProps.forEach((Mt,kt)=>{let Dt=c.get(kt);Dt||c.set(kt,Dt=new Set),Mt.forEach((ut,Lt)=>Dt.add(Lt))})});if(re.length){const ye=[];re.forEach(Ae=>{ye.push(function Zje(n,e){return new sn(3505,!1)}())}),G.forEach(Ae=>Ae.destroy()),this.reportError(ye)}const pe=new Map,ne=new Map;s.forEach(ye=>{const Ae=ye.element;r.has(Ae)&&(ne.set(Ae,Ae),this._beforeAnimationBuild(ye.player.namespaceId,ye.instruction,pe))}),i.forEach(ye=>{const Ae=ye.element;this._getPreviousPlayers(Ae,!1,ye.namespaceId,ye.triggerName,null).forEach(Je=>{pd(pe,Ae,[]).push(Je),Je.destroy()})});const he=C.filter(ye=>hse(ye,u,c)),we=new Map;use(we,this.driver,B,c,vm).forEach(ye=>{hse(ye,u,c)&&he.push(ye)});const ot=new Map;y.forEach((ye,Ae)=>{use(ot,this.driver,new Set(ye),u,"!")}),he.forEach(ye=>{var Ae,Ge;const Je=we.get(ye),bt=ot.get(ye);we.set(ye,new Map([...Array.from(null!==(Ae=null==Je?void 0:Je.entries())&&void 0!==Ae?Ae:[]),...Array.from(null!==(Ge=null==bt?void 0:bt.entries())&&void 0!==Ge?Ge:[])]))});const at=[],je=[],_t={};s.forEach(ye=>{const{element:Ae,player:Ge,instruction:Je}=ye;if(r.has(Ae)){if(h.has(Ae))return Ge.onDestroy(()=>up(Ae,Je.toStyles)),Ge.disabled=!0,Ge.overrideTotalTime(Je.totalTime),void i.push(Ge);let bt=_t;if(ne.size>1){let $=Ae;const de=[];for(;$=$.parentNode;){const be=ne.get($);if(be){bt=be;break}de.push($)}de.forEach(be=>ne.set(be,bt))}const Z=this._buildAnimation(Ge.namespaceId,Je,pe,o,ot,we);if(Ge.setRealPlayer(Z),bt===_t)at.push(Ge);else{const $=this.playersByElement.get(bt);$&&$.length&&(Ge.parentPlayer=hy($)),i.push(Ge)}}else qb(Ae,Je.fromStyles),Ge.onDestroy(()=>up(Ae,Je.toStyles)),je.push(Ge),h.has(Ae)&&i.push(Ge)}),je.forEach(ye=>{const Ae=o.get(ye.element);if(Ae&&Ae.length){const Ge=hy(Ae);ye.setRealPlayer(Ge)}}),i.forEach(ye=>{ye.parentPlayer?ye.syncPlayerEvents(ye.parentPlayer):ye.destroy()});for(let ye=0;ye<C.length;ye++){const Ae=C[ye],Ge=Ae[oh];if(rx(Ae,uI),Ge&&Ge.hasAnimation)continue;let Je=[];if(a.size){let Z=a.get(Ae);Z&&Z.length&&Je.push(...Z);let $=this.driver.query(Ae,xW,!0);for(let de=0;de<$.length;de++){let be=a.get($[de]);be&&be.length&&Je.push(...be)}}const bt=Je.filter(Z=>!Z.destroyed);bt.length?Q4e(this,Ae,bt):this.processLeaveNode(Ae)}return C.length=0,at.forEach(ye=>{this.players.push(ye),ye.onDone(()=>{ye.destroy();const Ae=this.players.indexOf(ye);this.players.splice(Ae,1)}),ye.play()}),at}elementContainsData(e,t){let r=!1;const i=t[oh];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const u=!o||o==z1;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const c=u.element,h=c!==o,p=pd(r,c,[]);this._getPreviousPlayers(c,h,s,a,t.toState).forEach(y=>{const w=y.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),y.destroy(),p.push(y)})}qb(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,u=t.element,c=[],h=new Set,p=new Set,g=t.timelines.map(w=>{const S=w.element;h.add(S);const C=S[oh];if(C&&C.removedBeforeQueried)return new _T(w.duration,w.delay);const P=S!==u,B=function eWe(n){const e=[];return dse(n,e),e}((r.get(S)||G4e).map(pe=>pe.getRealPlayer())).filter(pe=>!!pe.element&&pe.element===S),z=o.get(S),j=s.get(S),G=Foe(0,this._normalizer,0,w.keyframes,z,j),re=this._buildPlayer(w,G,B);if(w.subTimeline&&i&&p.add(S),P){const pe=new HW(e,a,S);pe.setRealPlayer(re),c.push(pe)}return re});c.forEach(w=>{pd(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function Z4e(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>sh(w,Goe));const y=hy(g);return y.onDestroy(()=>{h.forEach(w=>rx(w,Goe)),up(u,t.toStyles)}),p.forEach(w=>{pd(i,w,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new _T(e.duration,e.delay)}}class HW{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new _T,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>vW(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){pd(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function SI(n){return n&&1===n.nodeType}function lse(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function use(n,e,t,r,i){const o=[];t.forEach(u=>o.push(lse(u)));const s=[];r.forEach((u,c)=>{const h=new Map;u.forEach(p=>{const g=e.computeStyle(c,p,i);h.set(p,g),(!g||0==g.length)&&(c[oh]=$4e,s.push(c))}),n.set(c,h)});let a=0;return t.forEach(u=>lse(u,o[a++])),s}function cse(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let u=o.get(a);if(u)return u;const c=a.parentNode;return u=t.has(c)?c:i.has(c)?1:s(c),o.set(a,u),u}return e.forEach(a=>{const u=s(a);1!==u&&t.get(u).push(a)}),t}function sh(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function rx(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Q4e(n,e,t){hy(t).onDone(()=>n.processLeaveNode(e))}function dse(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof _Z?dse(r.players,e):e.push(r)}}function hse(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class xI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new K4e(e,t,r),this._timelineEngine=new z4e(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const u=[],h=RW(this._driver,o,u,[]);if(u.length)throw function Bje(n,e){return new sn(3404,!1)}();a=function F4e(n,e,t){return new H4e(n,e,t)}(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=Hoe(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=Hoe(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let rWe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&up(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(up(this._element,this._initialStyles),this._endStyles&&(up(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qb(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qb(this._element,this._endStyles),this._endStyles=null),up(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function BW(n){let e=null;return n.forEach((t,r)=>{(function iWe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class fse{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Joe(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class oWe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Uoe(e,t)}getParentElement(e){return wW(e)}query(e,t,r){return joe(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,s=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(u.easing=o);const c=new Map,h=s.filter(y=>y instanceof fse);(function u4e(n,e){return 0===n||0===e})(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((w,S)=>c.set(S,w))});let p=function o4e(n){return n.length?n[0]instanceof Map?n:n.map(e=>$oe(e)):[]}(t).map(y=>py(y));p=function c4e(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Joe(n,a)))}}return e}(e,p,c);const g=function nWe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=BW(e[0]),e.length>1&&(r=BW(e[e.length-1]))):e instanceof Map&&(t=BW(e)),t||r?new rWe(n,t,r):null}(e,p);return new fse(e,p,u,g)}}let sWe=(()=>{class n extends gZ{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Su.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?vZ(t):t;return pse(this._renderer,null,r,"register",[i]),new aWe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(gt(pc),gt(Pi))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();class aWe extends class BMe{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new lWe(this._id,e,t||{},this._renderer)}}class lWe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return pse(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function pse(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const mse="@.disabled";let uWe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let h=this._rendererCache.get(o);return h||(h=new gse("",o,this.engine),this._rendererCache.set(o,h)),h}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=h=>{Array.isArray(h)?h.forEach(u):this.engine.registerTrigger(s,a,t,h.name,h)};return r.data.animation.forEach(u),new cWe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(gt(pc),gt(xI),gt(Si))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();class gse{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==mse?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class cWe extends gse{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==mse?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function dWe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function hWe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}const vse=[{provide:gZ,useClass:sWe},{provide:LW,useFactory:function pWe(){return new L4e}},{provide:xI,useClass:(()=>{class n extends xI{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(gt(Pi),gt(MW),gt(LW),gt(AM))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})()},{provide:pc,useFactory:function mWe(n,e,t){return new uWe(n,e,t)},deps:[eO,xI,Si]}],VW=[{provide:MW,useFactory:()=>new oWe},{provide:Bf,useValue:"BrowserAnimations"},...vse],yse=[{provide:MW,useClass:Woe},{provide:Bf,useValue:"NoopAnimations"},...vse];let gWe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?yse:VW}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({providers:VW,imports:[O$]}),n})();function zW(n){return(zW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function vWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _se(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function lf(){return lf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=_We(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},lf.apply(this,arguments)}function _We(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=gd(n)););return n}function UW(n,e){return(UW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function MWe(n,e){if(e&&("object"===zW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function SWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function gd(n){return(gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var bse="handsontableEditor",jW=function(n){!function bWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&UW(n,e)}(t,n);var e=function wWe(n){var e=function xWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=gd(n);if(e){var o=gd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return MWe(this,i)}}(t);function t(){return vWe(this,t),e.apply(this,arguments)}return function yWe(n,e,t){e&&_se(n.prototype,e),t&&_se(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"open",value:function(){lf(gd(t.prototype),"open",this).call(this),this.htEditor&&this.htEditor.destroy(),"none"===this.htContainer.style.display&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),BL(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}},{key:"close",value:function(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),lf(gd(t.prototype),"close",this).call(this)}},{key:"prepare",value:function(i,o,s,a,u,c){lf(gd(t.prototype),"prepare",this).call(this,i,o,s,a,u,c);var h=this,p={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,afterOnCellMouseDown:function(y,w){var S=this.getSourceData(w.row,w.col);void 0!==S&&h.setValue(S),h.instance.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&na(p,c.handsontable),this.htOptions=p}},{key:"beginEditing",value:function(i,o){var s=this.hot.getSettings().onBeginEditing;s&&!1===s()||lf(gd(t.prototype),"beginEditing",this).call(this,i,o)}},{key:"createElements",value:function(){lf(gd(t.prototype),"createElements",this).call(this);var i=this.hot.rootDocument.createElement("DIV");i.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(i),this.htContainer=i,this.assignHooks()}},{key:"finishEditing",value:function(i,o,s){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){var a=this.htEditor.getInstance().getValue();void 0!==a&&this.setValue(a)}lf(gd(t.prototype),"finishEditing",this).call(this,i,o,s)}},{key:"assignHooks",value:function(){var i=this;this.hot.addHook("afterDestroy",function(){i.htEditor&&i.htEditor.destroy()})}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor");lf(gd(t.prototype),"registerShortcuts",this).call(this);var u=function(h,p){var g=i.htEditor.getInstance();if(void 0!==h&&(h<0||g.flipped&&h>g.countRows()-1?g.deselectCell():g.selectCell(h,0),g.getData().length))return p.preventDefault(),rp(p),i.hot.listen(),i.TEXTAREA.focus(),!1};s.addShortcuts([{keys:[["ArrowUp"]],callback:function(h){var g,y,p=i.htEditor.getInstance();return!p.getSelectedLast()&&p.flipped?g=p.countRows()-1:p.getSelectedLast()&&(p.flipped?(y=p.getSelectedLast()[0],g=Math.max(0,y-1)):g=(y=p.getSelectedLast()[0])-1),u(g,h)},preventDefault:!1},{keys:[["ArrowDown"]],callback:function(h){var g,y,p=i.htEditor.getInstance();if(p.getSelectedLast()||p.flipped){if(p.getSelectedLast())if(p.flipped)g=p.getSelectedLast()[0]+1;else if(!p.flipped){var w=p.countRows()-1;y=p.getSelectedLast()[0],g=Math.min(w,y+1)}}else g=0;return u(g,h)},preventDefault:!1}],{group:bse,relativeToGroup:WL,position:"before"})}},{key:"unregisterShortcuts",value:function(){lf(gd(t.prototype),"unregisterShortcuts",this).call(this),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(bse)}}],[{key:"EDITOR_TYPE",get:function(){return"handsontable"}}]),t}($b);function WW(n){return(WW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function wse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Qb(){return Qb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=RWe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Qb.apply(this,arguments)}function RWe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Fm(n)););return n}function YW(n,e){return(YW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function OWe(n,e){if(e&&("object"===WW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return GW(n)}function GW(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Fm(n){return(Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var $W=new WeakMap,XW=function(n){!function DWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&YW(n,e)}(t,n);var e=function AWe(n){var e=function kWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Fm(n);if(e){var o=Fm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return OWe(this,i)}}(t);function t(r){var i;return function EWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function LWe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(GW(i=e.call(this,r)),"sortByRelevance",function(o,s,a){var y,w,S,u=[],c=[],h=o.length,p=s.length;if(0===h){for(w=0;w<p;w++)c.push(w);return c}for(w=0;w<p;w++){if(y=tee(xa(s[w])),a)S=y.indexOf(o);else{var C=this.cellProperties.locale;S=y.toLocaleLowerCase(C).indexOf(o.toLocaleLowerCase(C))}-1!==S&&u.push({baseIndex:w,index:S,charsLeft:y.length-S-h,value:y})}for(u.sort(function(P,B){if(-1===B.index)return-1;if(-1===P.index)return 1;if(P.index<B.index)return-1;if(B.index<P.index)return 1;if(P.index===B.index){if(P.charsLeft<B.charsLeft)return-1;if(P.charsLeft>B.charsLeft)return 1}return 0}),w=0,p=u.length;w<p;w++)c.push(u[w].baseIndex);return c}),i.query=null,i.strippedChoices=[],i.rawChoices=[],$W.set(GW(i),{skipOne:!1,isMacOS:i.hot.rootWindow.navigator.platform.indexOf("Mac")>-1}),i}return function TWe(n,e,t){e&&wse(n.prototype,e),t&&wse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValue",value:function(){var i=this,o=this.rawChoices.find(function(s){return i.stripValueIfNeeded(s)===i.TEXTAREA.value});return wr(o)?o:this.TEXTAREA.value}},{key:"createElements",value:function(){Qb(Fm(t.prototype),"createElements",this).call(this),An(this.htContainer,"autocompleteEditor"),An(this.htContainer,-1===this.hot.rootWindow.navigator.platform.indexOf("Mac")?"":"htMacScroll")}},{key:"open",value:function(){var i=this,o=$W.get(this);Qb(Fm(t.prototype),"open",this).call(this);var s=this.htEditor.getInstance(),a=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown;this.showEditableElement(),this.focus();var u=Dl();0===u&&o.isMacOS&&(u+=15),this.addHook("beforeKeyDown",function(c){return i.onBeforeKeyDown(c)}),s.updateSettings({colWidths:a?[fs(this.TEXTAREA)-2]:void 0,width:a?fs(this.TEXTAREA)+u:void 0,renderer:function(h,p,g,y,w,S,C){ly(h,p,g,y,w,S,C);var pe,ne,P=i.cellProperties,B=P.filteringCaseSensitive,z=P.allowHtml,j=P.locale,G=i.query,re=xa(S);re&&!z&&-1!==(pe=!0===B?re.indexOf(G):re.toLocaleLowerCase(j).indexOf(G.toLocaleLowerCase(j)))&&(ne=re.substr(pe,G.length),re=re.replace(ne,"<strong>".concat(ne,"</strong>"))),p.innerHTML=re},autoColumnSize:!0}),o.skipOne&&(o.skipOne=!1),this.hot._registerTimeout(function(){i.queryChoices(i.TEXTAREA.value)})}},{key:"close",value:function(){this.removeHooksByKey("beforeKeyDown"),Qb(Fm(t.prototype),"close",this).call(this)}},{key:"discardEditor",value:function(i){Qb(Fm(t.prototype),"discardEditor",this).call(this,i),this.hot.view.render()}},{key:"queryChoices",value:function(i){var o=this,s=this.cellProperties.source;this.query=i,"function"==typeof s?s.call(this.cellProperties,i,function(a){o.rawChoices=a,o.updateChoicesList(o.stripValuesIfNeeded(a))}):Array.isArray(s)?(this.rawChoices=s,this.updateChoicesList(this.stripValuesIfNeeded(s))):this.updateChoicesList([])}},{key:"updateChoicesList",value:function(i){var o=oee(this.TEXTAREA),s=function MOe(n){var e=n.ownerDocument;if(n.selectionEnd)return n.selectionEnd;if(e.selection){var t=e.selection.createRange();return null===t?0:n.createTextRange().text.indexOf(t.text)+t.text.length}return 0}(this.TEXTAREA),a=this.cellProperties.sortByRelevance,u=this.cellProperties.filter,c=null,h=null,p=i;a&&(c=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),p,this.cellProperties.filteringCaseSensitive));var g=Array.isArray(c)?c.length:0;if(!1===u)g&&(h=c[0]);else{for(var y=[],w=0,S=p.length;w<S&&!(a&&g<=w);w++)y.push(g?p[c[w]]:p[w]);h=0,p=y}this.strippedChoices=p,this.htEditor.loadData(OL([p])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(h),this.hot.listen(),BL(this.TEXTAREA,o,o===s?void 0:s)}},{key:"flipDropdownIfNeeded",value:function(){var i=s1(this.hot.view._wt.wtTable.TABLE),o=i===this.hot.rootWindow,s=this.cellProperties.preventOverflow;if(o||!o&&(s||"horizontal"===s))return!1;var a=Ga(this.TEXTAREA),u=ra(this.TEXTAREA),c=this.getDropdownHeight(),h=i.scrollTop,p=ra(this.hot.view._wt.wtTable.THEAD),g=Ga(i),y=a.top-g.top-p+h,w=i.scrollHeight-y-p-u,S=c>w&&y>w;return S?this.flipDropdown(c):this.unflipDropdown(),this.limitDropdownIfNeeded(S?y:w,c),S}},{key:"limitDropdownIfNeeded",value:function(i,o){if(o>i){var c,s=0,a=0,u=0;do{s+=u=this.htEditor.getRowHeight(a)||this.htEditor.view._wt.getSetting("defaultRowHeight"),a+=1}while(s<i);c=s-u,this.htEditor.flipped&&(this.htEditor.rootElement.style.top="".concat(parseInt(this.htEditor.rootElement.style.top,10)+o-c,"px")),this.setDropdownHeight(s-u)}}},{key:"flipDropdown",value:function(i){var o=this.htEditor.rootElement.style;o.position="absolute",o.top="".concat(-i,"px"),this.htEditor.flipped=!0}},{key:"unflipDropdown",value:function(){var i=this.htEditor.rootElement.style;i.position="absolute",i.top="",this.htEditor.flipped=void 0}},{key:"updateDropdownHeight",value:function(){var i=this.htEditor.getColWidth(0)+Dl(this.hot.rootDocument)+2,o=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:o?void 0:i}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}},{key:"setDropdownHeight",value:function(i){this.htEditor.updateSettings({height:i})}},{key:"highlightBestMatchingChoice",value:function(i){"number"==typeof i?this.htEditor.selectCell(i,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}},{key:"getDropdownHeight",value:function(){var i=this.htEditor.getInstance().getRowHeight(0)||23,o=this.cellProperties.visibleRows;return this.strippedChoices.length>=o?o*i:this.strippedChoices.length*i+8}},{key:"stripValueIfNeeded",value:function(i){return this.stripValuesIfNeeded([i])[0]}},{key:"stripValuesIfNeeded",value:function(i){var o=this.cellProperties.allowHtml,s=to(i,function(u){return xa(u)});return to(s,function(u){return o?u:tee(u)})}},{key:"allowKeyEventPropagation",value:function(i){var o=this.htEditor.getSelectedRangeLast(),s_row=o?o.from.row:-1,a=!1;return i===Or.ARROW_DOWN&&s_row>0&&s_row<this.htEditor.countRows()-1&&(a=!0),i===Or.ARROW_UP&&s_row>-1&&(a=!0),a}},{key:"onBeforeKeyDown",value:function(i){var o=this,s=$W.get(this);if(s.skipOne=!1,function NOe(n){return 32===n||n>=48&&n<=57||n>=96&&n<=111||n>=186&&n<=192||n>=219&&n<=222||n>=226||n>=65&&n<=90}(i.keyCode)||i.keyCode===Or.BACKSPACE||i.keyCode===Or.DELETE||i.keyCode===Or.INSERT){var a=10;if(i.keyCode===Or.C&&(i.ctrlKey||i.metaKey))return;this.isOpened()||(a+=10),this.htEditor&&this.hot._registerTimeout(function(){o.queryChoices(o.TEXTAREA.value),s.skipOne=!0},a)}}}],[{key:"EDITOR_TYPE",get:function(){return"autocomplete"}}]),t}(jW);function KW(n){return(KW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function IWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Mse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ZW(n,e){return(ZW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function BWe(n,e){if(e&&("object"===KW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function VWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function EI(n){return(EI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Sse=function(n){!function FWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ZW(n,e)}(t,n);var e=function HWe(n){var e=function zWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=EI(n);if(e){var o=EI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return BWe(this,i)}}(t);function t(){return IWe(this,t),e.apply(this,arguments)}return function NWe(n,e,t){e&&Mse(n.prototype,e),t&&Mse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"beginEditing",value:function(i,o){if(o&&"mouseup"===o.type){var s=this.TD.querySelector('input[type="checkbox"]');Ti(s,"htBadValue")||s.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}],[{key:"EDITOR_TYPE",get:function(){return"checkbox"}}]),t}(tx),xse=b(8183);function qW(n){return(qW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Cse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Hm(){return Hm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=YWe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Hm.apply(this,arguments)}function YWe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=uf(n)););return n}function JW(n,e){return(JW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function XWe(n,e){if(e&&("object"===qW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function KWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function uf(n){return(uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Tse="dateEditor",Rse=function(n){!function GWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&JW(n,e)}(t,n);var e=function $We(n){var e=function ZWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=uf(n);if(e){var o=uf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return XWe(this,i)}}(t);function t(r){var i;return function jWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).defaultDateFormat="DD/MM/YYYY",i.isCellEdited=!1,i.parentDestroyed=!1,i.$datePicker=null,i}return function WWe(n,e,t){e&&Cse(n.prototype,e),t&&Cse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"init",value:function(){var i=this;if("function"!=typeof cs)throw new Error("You need to include moment.js to your project.");if("function"!=typeof xse)throw new Error("You need to include Pikaday to your project.");Hm(uf(t.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",function(){i.parentDestroyed=!0,i.destroyElements()})}},{key:"createElements",value:function(){Hm(uf(t.prototype),"createElements",this).call(this),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),An(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),new ia(this).addEventListener(this.datePicker,"mousedown",function(o){return o.stopPropagation()})}},{key:"destroyElements",value:function(){var i=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),i&&i.removeChild(this.datePicker)}},{key:"prepare",value:function(i,o,s,a,u,c){Hm(uf(t.prototype),"prepare",this).call(this,i,o,s,a,u,c)}},{key:"open",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=this.hot.getShortcutManager(),s=o.getContext("editor");Hm(uf(t.prototype),"open",this).call(this),this.showDatepicker(i),s.addShortcut({keys:[["Enter"]],callback:function(u){u.stopPropagation()},group:Tse})}},{key:"close",value:function(){var i,o=this;this._opened=!1,null!==(i=this.$datePicker)&&void 0!==i&&i.destroy&&this.$datePicker.destroy(),this.instance._registerTimeout(function(){o.instance._refreshBorders()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(Tse),Hm(uf(t.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i){var s=this.originalValue;void 0!==s&&this.setValue(s)}Hm(uf(t.prototype),"finishEditing",this).call(this,i,o)}},{key:"showDatepicker",value:function(i){var c,o=this.TD.getBoundingClientRect(),s=this.cellProperties.dateFormat||this.defaultDateFormat,a=this.instance.view.isMouseDown(),u=!!i&&wee(i.keyCode);this.datePicker.style.display="block",this.$datePicker=new xse(this.getDatePickerConfig()),this.$datePicker._onInputFocus=function(){},this.datePickerStyle.top="".concat(this.hot.rootWindow.pageYOffset+o.top+ra(this.TD),"px");var h;h=this.hot.isRtl()?o.right-fs(this.datePicker):o.left,this.datePickerStyle.left="".concat(h,"px"),this.originalValue?(cs(c=this.originalValue,s,!0).isValid()&&this.$datePicker.setMoment(cs(c,s),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!u&&!a&&this.setValue("")):this.cellProperties.defaultDate?(cs(c=this.cellProperties.defaultDate,s,!0).isValid()&&this.$datePicker.setMoment(cs(c,s),!0),!u&&!a&&this.setValue("")):this.$datePicker.gotoToday()}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var i=this,o=this.TEXTAREA,s={};this.cellProperties&&this.cellProperties.datePickerConfig&&kL(s,this.cellProperties.datePickerConfig);var a=s.onSelect,u=s.onClose;return s.field=o,s.trigger=o,s.container=this.datePicker,s.bound=!1,s.format=s.format||this.defaultDateFormat,s.reposition=s.reposition||!1,s.isRTL=!1,s.onSelect=function(c){var h=c;isNaN(h.getTime())||(h=cs(h).format(i.cellProperties.dateFormat||i.defaultDateFormat)),i.setValue(h),i.hideDatepicker(),a&&a()},s.onClose=function(){i.parentDestroyed||i.finishEditing(!1),u&&u()},s}}],[{key:"EDITOR_TYPE",get:function(){return"date"}}]),t}($b);function QW(n){return(QW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Dse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function TI(){return TI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=QWe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},TI.apply(this,arguments)}function QWe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ix(n)););return n}function eY(n,e){return(eY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function nYe(n,e){if(e&&("object"===QW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function rYe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ix(n){return(ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var tY=function(n){!function eYe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&eY(n,e)}(t,n);var e=function tYe(n){var e=function iYe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ix(n);if(e){var o=ix(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return nYe(this,i)}}(t);function t(){return qWe(this,t),e.apply(this,arguments)}return function JWe(n,e,t){e&&Dse(n.prototype,e),t&&Dse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prepare",value:function(i,o,s,a,u,c){TI(ix(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}],[{key:"EDITOR_TYPE",get:function(){return"dropdown"}}]),t}(XW);function nY(n){return(nY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function sYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ase(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function rY(n,e){return(rY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function cYe(n,e){if(e&&("object"===nY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function dYe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function RI(n){return(RI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().add("beforeValidate",function(n,e,t){var r=this.getCellMeta(e,this.propToCol(t));r.editor===tY&&void 0===r.strict&&(r.filter=!1,r.strict=!0)});var Ose=function(n){!function lYe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rY(n,e)}(t,n);var e=function uYe(n){var e=function hYe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=RI(n);if(e){var o=RI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return cYe(this,i)}}(t);function t(){return sYe(this,t),e.apply(this,arguments)}return function aYe(n,e,t){e&&Ase(n.prototype,e),t&&Ase(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,null,[{key:"EDITOR_TYPE",get:function(){return"numeric"}}]),t}($b);function iY(n){return(iY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function kse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function DI(){return DI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=gYe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},DI.apply(this,arguments)}function gYe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ox(n)););return n}function oY(n,e){return(oY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function _Ye(n,e){if(e&&("object"===iY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function bYe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ox(n){return(ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Lse=function(n){!function vYe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oY(n,e)}(t,n);var e=function yYe(n){var e=function wYe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ox(n);if(e){var o=ox(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _Ye(this,i)}}(t);function t(){return pYe(this,t),e.apply(this,arguments)}return function mYe(n,e,t){e&&kse(n.prototype,e),t&&kse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createElements",value:function(){DI(ox(t.prototype),"createElements",this).call(this),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,np(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}],[{key:"EDITOR_TYPE",get:function(){return"password"}}]),t}($b);function AI(n){return(AI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function SYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Pse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function OI(){return OI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=CYe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},OI.apply(this,arguments)}function CYe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=sx(n)););return n}function sY(n,e){return(sY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function RYe(n,e){if(e&&("object"===AI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function DYe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function sx(n){return(sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var aY="ht_editor_visible",Ise="selectEditor",kYe=function(n){!function EYe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&sY(n,e)}(t,n);var e=function TYe(n){var e=function AYe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=sx(n);if(e){var o=sx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return RYe(this,i)}}(t);function t(){return SYe(this,t),e.apply(this,arguments)}return function xYe(n,e,t){e&&Pse(n.prototype,e),t&&Pse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"init",value:function(){this.select=this.hot.rootDocument.createElement("SELECT"),An(this.select,"htSelectEditor"),this.select.style.display="none",this.hot.rootElement.appendChild(this.select),this.registerHooks()}},{key:"getValue",value:function(){return this.select.value}},{key:"setValue",value:function(i){this.select.value=i}},{key:"open",value:function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}},{key:"close",value:function(){this._opened=!1,this.select.style.display="none",Ti(this.select,aY)&&Hi(this.select,aY),this.unregisterShortcuts(),this.clearHooks()}},{key:"focus",value:function(){this.select.focus()}},{key:"registerHooks",value:function(){var i=this;this.addHook("afterScrollHorizontally",function(){return i.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return i.refreshDimensions()}),this.addHook("afterColumnResize",function(){return i.refreshDimensions()}),this.addHook("afterRowResize",function(){return i.refreshDimensions()})}},{key:"prepare",value:function(i,o,s,a,u,c){var h=this;OI(sx(t.prototype),"prepare",this).call(this,i,o,s,a,u,c);var g,p=this.cellProperties.selectOptions;g=this.prepareOptions("function"==typeof p?p(this.row,this.col,this.prop):p),np(this.select),ao(g,function(y,w){var S=h.hot.rootDocument.createElement("OPTION");S.value=w,US(S,y),h.select.appendChild(S)})}},{key:"prepareOptions",value:function(i){var o={};if(Array.isArray(i))for(var s=0,a=i.length;s<a;s++)o[i[s]]=i[s];else"object"===AI(i)&&(o=i);return o}},{key:"refreshValue",value:function(){var i=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=i,this.setValue(i),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){if(this.state===Al.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close();var i=this.getEditedCellRect(),o=i.top,s=i.start,a=i.width,c=this.select.style;c.height="".concat(i.height,"px"),c.width="".concat(a,"px"),c.top="".concat(o,"px"),c[this.hot.isRtl()?"right":"left"]="".concat(s,"px"),c.margin="0px",An(this.select,aY)}}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor"),a={group:Ise};!1!==this.isInFullEditMode()&&s.addShortcuts([{keys:[["ArrowUp"]],callback:function(){var c=i.select.selectedIndex-1;c>=0&&(i.select[c].selected=!0)}},{keys:[["ArrowDown"]],callback:function(){var c=i.select.selectedIndex+1;c<=i.select.length-1&&(i.select[c].selected=!0)}}],a)}},{key:"unregisterShortcuts",value:function(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(Ise)}}],[{key:"EDITOR_TYPE",get:function(){return"select"}}]),t}(tx);function lY(n){return(lY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function LYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Nse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function kI(){return kI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=IYe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},kI.apply(this,arguments)}function IYe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ax(n)););return n}function uY(n,e){return(uY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function HYe(n,e){if(e&&("object"===lY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function BYe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ax(n){return(ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Fse=function(n){!function NYe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&uY(n,e)}(t,n);var e=function FYe(n){var e=function VYe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ax(n);if(e){var o=ax(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return HYe(this,i)}}(t);function t(){return LYe(this,t),e.apply(this,arguments)}return function PYe(n,e,t){e&&Nse(n.prototype,e),t&&Nse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prepare",value:function(i,o,s,a,u,c){kI(ax(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),this.TEXTAREA.dir="ltr"}}],[{key:"EDITOR_TYPE",get:function(){return"time"}}]),t}($b);function cY(n,e,t,r,i,o,s){L1.apply(this,[n,e,t,r,i,o,s]),US(e,null==o?"":o,!1)}function lx(n,e,t,r,i,o,s){var a=n.rootDocument,u=s.allowHtml?cY:ly,c=a.createElement("DIV");if(c.className="htAutocompleteArrow",c.appendChild(a.createTextNode(String.fromCharCode(9660))),u.apply(this,[n,e,t,r,i,o,s]),e.firstChild||e.appendChild(a.createTextNode(String.fromCharCode(160))),e.insertBefore(c,e.firstChild),An(e,"htAutocomplete"),!n.acArrowListener){var h=new ia(n);n.acArrowListener=function(p){Ti(p.target,"htAutocompleteArrow")&&n.view._wt.getSetting("onCellDblClick",null,n._createCellCoords(t,r),e)},h.addEventListener(n.rootElement,"mousedown",n.acArrowListener),n.addHookOnce("afterDestroy",function(){h.destroy()})}}cY.RENDERER_TYPE="html",lx.RENDERER_TYPE="autocomplete";var Hse=new WeakMap,Bse=new WeakMap,ux="data-row",cx="data-col";function dY(n,e,t,r,i,o,s){var a=n.rootDocument;L1.apply(this,[n,e,t,r,i,o,s]),function $Ye(n){var e=Bse.get(n);if(!e){var t=n.rootElement;(e=new ia(n)).addEventListener(t,"click",function(r){return function qYe(n,e){var t=n.target;if(hY(t)&&t.hasAttribute(ux)&&t.hasAttribute(cx)){var r=parseInt(t.getAttribute(ux),10),i=parseInt(t.getAttribute(cx),10);e.getCellMeta(r,i).readOnly&&n.preventDefault()}}(r,n)}),e.addEventListener(t,"mouseup",function(r){return function ZYe(n,e){var t=n.target;!hY(t)||!t.hasAttribute(ux)||!t.hasAttribute(cx)||setTimeout(e.listen,10)}(r,n)}),e.addEventListener(t,"change",function(r){return function JYe(n,e){var t=n.target;if(hY(t)&&t.hasAttribute(ux)&&t.hasAttribute(cx)){var r=parseInt(t.getAttribute(ux),10),i=parseInt(t.getAttribute(cx),10),o=e.getCellMeta(r,i);o.readOnly||e.setDataAtCell(r,i,n.target.checked?void 0===o.uncheckedTemplate||o.checkedTemplate:void 0!==o.uncheckedTemplate&&o.uncheckedTemplate)}}(r,n)}),Bse.set(n,e)}}(n);var u=function XYe(n){var e=n.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("autocomplete","off"),e.setAttribute("tabindex","-1"),e.cloneNode(!1)}(a),c=s.label,h=!1;if(void 0===s.checkedTemplate&&(s.checkedTemplate=!0),void 0===s.uncheckedTemplate&&(s.uncheckedTemplate=!1),np(e),o===s.checkedTemplate||xa(o).toLocaleLowerCase(s.locale)===xa(s.checkedTemplate).toLocaleLowerCase(s.locale)?u.checked=!0:o===s.uncheckedTemplate||xa(o).toLocaleLowerCase(s.locale)===xa(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?u.checked=!1:hl(o)?An(u,"noValue"):(u.style.display="none",An(u,"htBadValue"),h=!0),u.setAttribute(ux,t),u.setAttribute(cx,r),!h&&c){var p="";if(c.value)p="function"==typeof c.value?c.value.call(this,t,r,i,o):c.value;else if(c.property){var g=n.getDataAtRowProp(t,c.property);p=null!==g?g:""}var y=function KYe(n,e,t){var r=n.createElement("label");return r.className="htCheckboxRendererLabel ".concat(t?"fullWidth":""),r.appendChild(n.createTextNode(e)),r.cloneNode(!0)}(a,p,!0!==c.separated);"before"===c.position?c.separated?(e.appendChild(y),e.appendChild(u)):(y.appendChild(u),u=y):(!c.position||"after"===c.position)&&(c.separated?(e.appendChild(u),e.appendChild(y)):(y.insertBefore(u,y.firstChild),u=y))}function S(){var P=arguments.length>0&&void 0!==arguments[0]&&arguments[0],B=n.getSelectedRange();if(B)for(var z=0;z<B.length;z++){for(var j=B[z].getTopStartCorner(),G=j.row,re=j.col,pe=B[z].getBottomEndCorner(),ne=pe.row,he=pe.col,we=[],Pe=G;Pe<=ne;Pe+=1)for(var ot=re;ot<=he;ot+=1){var at=n.getCellMeta(Pe,ot);if("checkbox"!==at.type)return;if(!0!==at.readOnly){void 0===at.checkedTemplate&&(at.checkedTemplate=!0),void 0===at.uncheckedTemplate&&(at.uncheckedTemplate=!1);var je=n.getDataAtCell(Pe,ot);!1===P?[at.checkedTemplate,at.checkedTemplate.toString()].includes(je)?we.push([Pe,ot,at.uncheckedTemplate]):[at.uncheckedTemplate,at.uncheckedTemplate.toString(),null,void 0].includes(je)&&we.push([Pe,ot,at.checkedTemplate]):we.push([Pe,ot,at.uncheckedTemplate])}}we.length>0&&n.setDataAtCell(we)}}function C(){var P=n.getSelectedRange();if(P){for(var B=0;B<P.length;B++)for(var z=P[B].getTopStartCorner(),j=P[B].getBottomEndCorner(),G=z.row;G<=j.row;G++)for(var re=z.col;re<=j.col;re++){var pe=n.getCellMeta(G,re);if("checkbox"!==pe.type)return!1;var ne=n.getCell(G,re);if(null==ne)return!0;if(ne.querySelectorAll("input[type=checkbox]").length>0&&!pe.readOnly)return!0}return!1}}(!c||c&&!c.separated)&&e.appendChild(u),h&&e.appendChild(a.createTextNode("#bad-value#")),Hse.has(n)||(Hse.set(n,!0),function w(){n.getShortcutManager().getContext("grid").addShortcuts([{keys:[["space"]],callback:function(){return S(),!C()}},{keys:[["enter"]],callback:function(){return S(),!C()},runOnlyIf:function(){return n.getSettings().enterBeginsEditing}},{keys:[["delete"],["backspace"]],callback:function(){return S(!0),!C()},relativeToGroup:h1,position:"before"}],{group:"checkboxRenderer"})}())}function hY(n){return"INPUT"===n.tagName&&"checkbox"===n.getAttribute("type")}xr.getSingleton().add("modifyAutoColumnSizeSeed",function(n,e,t){var r=e.label,o=e.row;if("checkbox"===e.type){if(r){var u=r.value,c=r.property,h=t;if(u)h="function"==typeof u?u(o,e.column,e.prop,t):u;else if(c){var p=this.getDataAtRowProp(o,c);h=null!==p?p:t}n=h}return n}}),dY.RENDERER_TYPE="checkbox";var ew=b(1046);function fY(n,e,t,r,i,o,s){var a=o;if(th(a)){var u=s.numericFormat,c=u&&u.culture||"-",h=u&&u.pattern,p=s.className||"",g=p.length?p.split(" "):[];if(void 0!==c&&!ew.languages()[c]){var y=c.replace("-",""),w=ew.allLanguages?ew.allLanguages[c]:ew[y];w&&ew.registerLanguage(w)}ew.setLanguage(c),a=ew(a).format(h||"0"),g.indexOf("htLeft")<0&&g.indexOf("htCenter")<0&&g.indexOf("htRight")<0&&g.indexOf("htJustify")<0&&g.push("htRight"),g.indexOf("htNumeric")<0&&g.push("htNumeric"),s.className=g.join(" "),e.dir="ltr"}ly(n,e,t,r,i,a,s)}function pY(n,e,t,r,i,o,s){ly.apply(this,[n,e,t,r,i,o,s]);var u=s.hashSymbol||"*",c="";Hr((s.hashLength||e.innerHTML.length)-1,function(){c+=u}),US(e,c)}function mY(n,e,t,r,i,o,s){ly.apply(this,[n,e,t,r,i,o,s]),e.dir="ltr"}function LI(n,e){var t=n;null==t&&(t=""),this.allowEmpty&&""===t?e(!0):this.strict&&this.source?"function"==typeof this.source?this.source(t,zse(t,e)):zse(t,e)(this.source):e(!0)}function zse(n,e){var t=n;return function(r){for(var i=!1,o=0,s=r.length;o<s;o++)if(t===r[o]){i=!0;break}e(i)}}function gY(n,e){var t=Ree("date",this.instance),r=n,i=!0;null==r&&(r="");var o=cs(r,this.dateFormat||t.defaultDateFormat,!0).isValid(),s=cs(new Date(r)).isValid()||o;if(this.allowEmpty&&""===r&&(s=!0,o=!0),s||(i=!1),!s&&o&&(i=!0),s&&!o)if(!0===this.correctFormat){var a=function sGe(n,e){var t=cs(function iGe(n){var e=new Date(n);return isNaN(new Date("".concat(n,"T00:00")).getDate())?e:new Date(e.getTime()+6e4*e.getTimezoneOffset())}(n)),r=cs(n,e),i=n.search(/[A-z]/g)>-1;return(t.isValid()&&t.format("x")===r.format("x")||!r.isValid()||i?t:r).format(e)}(r,this.dateFormat),u=this.instance.toVisualRow(this.row),c=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(u,c,a,"dateValidator"),i=!0}else i=!1;e(i)}function vY(n,e){var t=n;null==t&&(t=""),e(!(!this.allowEmpty||""!==t)||""!==t&&th(n))}fY.RENDERER_TYPE="numeric",pY.RENDERER_TYPE="password",mY.RENDERER_TYPE="time",LI.VALIDATOR_TYPE="autocomplete",b(2024),gY.VALIDATOR_TYPE="date",vY.VALIDATOR_TYPE="numeric";var lGe=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"];function yY(n,e){var t=this.timeFormat||"h:mm:ss a",r=!0,i=n;null===i&&(i=""),i=/^\d{3,}$/.test(i)?parseInt(i,10):i;var o=/^\d{1,2}$/.test(i);o&&(i+=":00");var s=cs(i,lGe,!0).isValid()?cs(i):cs(i,t),a=s.isValid(),u=cs(i,t,!0).isValid()&&!o;if(this.allowEmpty&&""===i&&(a=!0,u=!0),a||(r=!1),!a&&u&&(r=!0),a&&!u)if(!0===this.correctFormat){var c=s.format(t),h=this.instance.toVisualRow(this.row),p=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(h,p,c,"timeValidator"),r=!0}else r=!1;e(r)}yY.VALIDATOR_TYPE="time";var hGe={CELL_TYPE:"autocomplete",editor:XW,renderer:lx,validator:LI},pGe={CELL_TYPE:"checkbox",editor:Sse,renderer:dY},gGe={CELL_TYPE:"date",editor:Rse,renderer:lx,validator:gY},yGe={CELL_TYPE:"dropdown",editor:tY,renderer:lx,validator:LI},bGe={CELL_TYPE:"handsontable",editor:jW,renderer:lx},MGe={CELL_TYPE:"numeric",editor:Ose,renderer:fY,validator:vY,dataType:"number"},xGe={CELL_TYPE:"password",editor:Lse,renderer:pY,copyable:!1},EGe={CELL_TYPE:"time",editor:Fse,renderer:mY,validator:yY};function Use(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(1514);var Wse=new Map([["plugin",function rLe(n){return!!_z(n)}],["cell-type",bne],["editor",Tee],["renderer",Gee],["validator",$ee]]),tw=new WeakMap,_Y=[],cp=null,Yse=new WeakSet,Jo=function(){function n(e){var t=this;(function LGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function IGe(n,e){(function NGe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.add(n)}(this,Yse),Om(this,"hot",e,{writable:!1}),tw.set(this,{hooks:{}}),cp=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return t.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(r){return t.onUpdateSettings(r)}),this.hot.addHook("beforeInit",function(){return t.init()})}return function PGe(n,e,t){e&&jse(n.prototype,e),t&&jse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"init",value:function(){var t=this;this.pluginName=this.hot.getPluginName(this);var r=this.constructor.PLUGIN_DEPS,i=Array.isArray(r)?r:[];if(i.length>0){var o=[];if(i.forEach(function(c){var p=function RGe(n,e){return function kGe(n){if(Array.isArray(n))return n}(n)||function OGe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function AGe(n,e){if(n){if("string"==typeof n)return Use(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Use(n,e)}}(n,e)||function DGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(c.split(":"),2),g=p[0],y=p[1];if(!Wse.has(g))throw new Error('Unknown plugin dependency type "'.concat(g,'" was found.'));Wse.get(g)(y)||o.push(" - ".concat(y," (").concat(g,")"))}),o.length>0){var s=["The ".concat(this.pluginName," plugin requires the following modules:\n"),"".concat(o.join("\n"),"\n")].join("");_Y.push(s)}}if(cp||(cp=Yee()),cp.indexOf("UndoRedo")>=0&&cp.splice(cp.indexOf("UndoRedo"),1),cp.indexOf(this.pluginName)>=0&&cp.splice(cp.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",function(){t.isEnabled&&t.isEnabled()&&t.enablePlugin()}),0===cp.length){if(_Y.length>0){var u=["".concat(_Y.join("\n"),"\n"),"You have to import and register them manually."].join("");throw new Error(u)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(t,r){tw.get(this).hooks[t]=tw.get(this).hooks[t]||[];var i=tw.get(this).hooks[t];this.hot.addHook(t,r),i.push(r),tw.get(this).hooks[t]=i}},{key:"removeHooks",value:function(t){var r=this;it(tw.get(this).hooks[t]||[],function(i){r.hot.removeHook(t,i)})}},{key:"clearHooks",value:function(){var t=this,r=tw.get(this).hooks;ao(r,function(i,o){return t.removeHooks(o)}),r.length=0}},{key:"callOnPluginsReady",value:function(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)}},{key:"onAfterPluginsInitialized",value:function(){it(this.pluginsInitializedCallbacks,function(t){return t()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(t){var r=function FGe(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}(this,Yse,BGe).call(this,t);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&r&&this.updatePlugin(t))}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var t=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),ao(this,function(r,i){"hot"!==i&&(t[i]=null)}),delete this.t,delete this.hot}}],[{key:"PLUGIN_KEY",get:function(){return"base"}},{key:"SETTING_KEYS",get:function(){return[this.PLUGIN_KEY]}}]),n}();function BGe(n){if(!n)return!1;var e=this.constructor.SETTING_KEYS;if("boolean"==typeof e)return e;for(var t=0;t<e.length;t++)if(void 0!==n[e[t]])return!0;return!1}function Gse(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function $se(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Xse=function(){function n(e){(function YGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}return function GGe(n,e,t){e&&$se(n.prototype,e),t&&$se(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addRow",value:function(t,r){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var i={row:t};this.rows.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}},{key:"addColumnHeadersRow",value:function(t){if(null!=this.hot.getColHeader(0)){var i={row:-1};this.rows.push(i),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}}},{key:"addColumn",value:function(t,r){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var i={col:t};this.columns.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(t)&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}},{key:"getHeights",value:function(t){this.injected||this.injectTable(),it(this.rows,function(r){t(r.row,ra(r.table)-1)})}},{key:"getWidths",value:function(t){this.injected||this.injectTable(),it(this.columns,function(r){var i=r.table.getBoundingClientRect();t(r.col,Math.ceil(i.width))})}},{key:"setSettings",value:function(t){this.settings=t}},{key:"setSetting",value:function(t,r){this.settings||(this.settings={}),this.settings[t]=r}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(t){return this.settings?this.settings[t]:null}},{key:"createColGroupsCol",value:function(){var t=this,r=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&r.appendChild(this.createColElement(-1)),this.samples.forEach(function(i){it(i.strings,function(o){r.appendChild(t.createColElement(o.col))})}),r}},{key:"createRow",value:function(t){var r=this,i=this.hot.rootDocument,o=i.createDocumentFragment(),s=i.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,s),o.appendChild(s)),this.samples.forEach(function(a){it(a.strings,function(u){var c=u.col,h=r.hot.getCellMeta(t,c);h.col=c,h.row=t;var p=r.hot.getCellRenderer(h),g=i.createElement("td");g.setAttribute("ghost-table",1),p(r.hot,g,t,c,r.hot.colToProp(c),u.value,h),o.appendChild(g)})}),o}},{key:"appendColumnHeadersRow",value:function(){var t=this,r=this.hot.rootDocument,i=r.createDocumentFragment(),o=[];if(this.hot.hasRowHeaders()){var s=r.createElement("th");o.push([-1,s]),i.appendChild(s)}this.samples.forEach(function(a){it(a.strings,function(u){var c=u.col,h=r.createElement("th");o.push([c,h]),i.appendChild(h)})}),this.table.tHead.appendChild(i),it(o,function(a){var u=function VGe(n,e){return function WGe(n){if(Array.isArray(n))return n}(n)||function jGe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function UGe(n,e){if(n){if("string"==typeof n)return Gse(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gse(n,e)}}(n,e)||function zGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a,2);t.hot.view.appendColHeader(u[0],u[1])})}},{key:"createCol",value:function(t){var r=this,i=this.hot.rootDocument,o=i.createDocumentFragment();return this.samples.forEach(function(s){it(s.strings,function(a){var u=a.row,c=r.hot.getCellMeta(u,t);c.col=t,c.row=u;var h=r.hot.getCellRenderer(c),p=i.createElement("td"),g=i.createElement("tr");p.setAttribute("ghost-table",1),h(r.hot,p,u,t,r.hot.colToProp(t),a.value,c),g.appendChild(p),o.appendChild(g)})}),o}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(t){var r=this.hot.rootDocument.createElement("col");return r.style.width="".concat(this.hot.view._wt.wtTable.getStretchedColumnWidth(t),"px"),r}},{key:"createTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.hot.rootDocument,i=r.createDocumentFragment(),o=r.createElement("table"),s=r.createElement("thead"),a=r.createElement("tbody"),u=r.createElement("colgroup"),c=r.createElement("tr"),h=r.createElement("th");return this.isVertical()&&o.appendChild(u),this.isHorizontal()&&(c.appendChild(h),s.appendChild(c),o.style.tableLayout="auto",o.style.width="auto"),o.appendChild(s),this.isVertical()&&a.appendChild(c),o.appendChild(a),An(o,t),i.appendChild(o),{fragment:i,table:o,tHead:s,tBody:a,colGroup:u,tr:c,th:h}}},{key:"createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.hot.rootDocument,i=r.createDocumentFragment(),o=r.createElement("div"),s="htGhostTable htAutoSize ".concat(t.trim());return An(o,s),i.appendChild(o),{fragment:i,container:o}}},{key:"isVertical",value:function(){return!(!this.rows.length||this.columns.length)}},{key:"isHorizontal",value:function(){return!(!this.columns.length||this.rows.length)}}]),n}();function Kse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Zse=function(){function n(e){(function KGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.samples=null,this.dataFactory=e,this.customSampleCount=null,this.allowDuplicates=!1}return function ZGe(n,e,t){e&&Kse(n.prototype,e),t&&Kse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:n.SAMPLE_COUNT}},{key:"setSampleCount",value:function(t){this.customSampleCount=t}},{key:"setAllowDuplicates",value:function(t){this.allowDuplicates=t}},{key:"generateRowSamples",value:function(t,r){return this.generateSamples("row",r,t)}},{key:"generateColumnSamples",value:function(t,r){return this.generateSamples("col",r,t)}},{key:"generateSamples",value:function(t,r,i){var o=this,s=new Map,a="number"==typeof i?{from:i,to:i}:i;return Hr(a.from,a.to,function(h){var p=o.generateSample(t,r,h);s.set(h,p)}),s}},{key:"generateSample",value:function(t,r,i){var o=this;if("row"!==t&&"col"!==t)throw new Error("Unsupported sample type");var s=new Map,a="row"===t?"col":"row",u=[];return Hr(r.from,r.to,function(c){var w,h="row"===t?o.dataFactory(i,c):o.dataFactory(c,i),p=h.value,g=h.bundleSeed,y="string"==typeof g&&g.length>0;w=y?g:$i(p)?"".concat(Object.keys(p).length):Array.isArray(p)?"".concat(p.length):"".concat(xa(p).length),s.has(w)||s.set(w,{needed:o.getSampleCount(),strings:[]});var S=s.get(w);S.needed&&(!(u.indexOf(p)>-1)||o.allowDuplicates||y)&&(S.strings.push(function XGe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}({value:p},a,c)),u.push(p),S.needed-=1)}),s}}],[{key:"SAMPLE_COUNT",get:function(){return 3}}]),n}();function bY(n){return(bY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qse(n,e){return function t5e(n){if(Array.isArray(n))return n}(n)||function e5e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function QGe(n,e){if(n){if("string"==typeof n)return Jse(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jse(n,e)}}(n,e)||function JGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jse(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Qse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function nw(){return nw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=i5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},nw.apply(this,arguments)}function i5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Bm(n)););return n}function wY(n,e){return(wY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function a5e(n,e){if(e&&("object"===bY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return eae(n)}function eae(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Bm(n){return(Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("modifyAutoColumnSizeSeed");var U1="autoColumnSize",MY=new WeakMap,d5e=function(n){!function o5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&wY(n,e)}(t,n);var e=function s5e(n){var e=function l5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Bm(n);if(e){var o=Bm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return a5e(this,i)}}(t);function t(r){var i;return function n5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),MY.set(eae(i),{cachedColumnHeaders:[]}),i.ghostTable=new Xse(i.hot),i.samplesGenerator=new Zse(function(o,s){var a=i.hot.getCellMeta(o,s),u="";a.spanned||(u=i.hot.getDataAtCell(o,s));var c="";return i.hot.hasHook("modifyAutoColumnSizeSeed")&&(c=i.hot.runHooks("modifyAutoColumnSizeSeed",c,a,u)),{value:u,bundleSeed:c}}),i.firstCalculation=!0,i.inProgress=!1,i.measuredColumns=0,i.columnWidthsMap=new iy,i.hot.columnIndexMapper.registerMap("autoColumnSize",i.columnWidthsMap),i.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)}),i}return function r5e(n,e,t){e&&Qse(n.prototype,e),t&&Qse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!1!==this.hot.getSettings()[U1]&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[U1];o&&null!=o.useHeaders&&this.ghostTable.setSetting("useHeaders",o.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeChangeRender",function(s){return i.onBeforeChange(s)}),this.addHook("afterFormulasValuesUpdate",function(s){return i.onAfterFormulasValuesUpdate(s)}),this.addHook("beforeViewRender",function(s){return i.onBeforeViewRender(s)}),this.addHook("modifyColWidth",function(s,a){return i.getColumnWidth(a,s)}),this.addHook("afterInit",function(){return i.onAfterInit()}),nw(Bm(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var i=this.findColumnsWhereHeaderWasChanged();i.length&&(this.clearCache(i),this.calculateVisibleColumnsWidth()),nw(Bm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var i=this;nw(Bm(t.prototype),"disablePlugin",this).call(this),this.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)})}},{key:"calculateVisibleColumnsWidth",value:function(){if(this.hot.countRows()){var o=this.hot.renderCall,s=this.getFirstVisibleColumn(),a=this.getLastVisibleColumn();-1===s||-1===a||this.calculateColumnsWidth({from:s,to:a},void 0,o)}}},{key:"calculateColumnsWidth",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="number"==typeof o?{from:o,to:o}:o,c="number"==typeof s?{from:s,to:s}:s;Hr(u.from,u.to,function(h){var p=i.hot.toPhysicalColumn(h);null===p&&(p=h),(a||null===i.columnWidthsMap.getValueAtIndex(p)&&!i.hot._getColWidthFromSettings(p))&&it(i.samplesGenerator.generateColumnSamples(h,c),function(y){var w=qse(y,2);return i.ghostTable.addColumn(w[0],w[1])})}),this.ghostTable.columns.length&&(this.hot.batchExecution(function(){i.ghostTable.getWidths(function(h,p){var g=i.hot.toPhysicalColumn(h);i.columnWidthsMap.setValueAtIndex(g,p)})},!0),this.measuredColumns=u.to+1,this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},s=0,a=this.hot.countCols()-1,u=null;this.inProgress=!0;var c=function p(){if(!i.hot)return AL(u),void(i.inProgress=!1);i.calculateColumnsWidth({from:s,to:Math.min(s+t.CALCULATION_STEP,a)},o),(s=s+t.CALCULATION_STEP+1)<a?u=BQ(p):(AL(u),i.inProgress=!1,i.hot.view.adjustElementsSize())},h=this.getSyncCalculationLimit();this.firstCalculation&&h>=0&&(this.calculateColumnsWidth({from:0,to:h},o),this.firstCalculation=!1,s=h+1),s<a?c():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var i=this.hot.getSettings()[U1],o=i&&Hs(i,"samplingRatio")?i.samplingRatio:void 0,s=i&&Hs(i,"allowSampleDuplicates")?i.allowSampleDuplicates:void 0;o&&!isNaN(o)&&this.samplesGenerator.setSampleCount(parseInt(o,10)),s&&this.samplesGenerator.setAllowDuplicates(s)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var i=this.hot.getSettings()[U1],o=t.SYNC_CALCULATION_LIMIT,s=this.hot.countCols()-1;return $i(i)&&(QQ(o=i.syncLimit)?o=Nee(s,o):o>>=0),Math.min(o,s)}},{key:"getColumnWidth",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=o;return void 0===a&&(a=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(i)),s&&"number"==typeof a&&(a=Math.max(a,hU.DEFAULT_WIDTH))),a}},{key:"getFirstVisibleColumn",value:function(){var i=this.hot.view._wt;if(i.wtViewport.columnsVisibleCalculator){var o=i.wtTable.getFirstVisibleColumn();if(-1!==o)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)}if(i.wtViewport.columnsRenderCalculator){var s=i.wtTable.getFirstRenderedColumn();if(-1!==s)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(s)}return-1}},{key:"getLastVisibleColumn",value:function(){var i=this.hot.view._wt;if(i.wtViewport.columnsVisibleCalculator){var o=i.wtTable.getLastVisibleColumn();if(-1!==o)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)}if(i.wtViewport.columnsRenderCalculator){var s=i.wtTable.getLastRenderedColumn();if(-1!==s)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(s)}return-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var i=this.hot.getColHeader(),s=MY.get(this).cachedColumnHeaders;return Ya(i,function(u,c,h){var p=s.length;return(p-1<h||s[h]!==c)&&u.push(h),p-1<h?s.push(c):s[h]=c,u},[])}},{key:"clearCache",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.length?this.hot.batchExecution(function(){it(o,function(s){i.columnWidthsMap.setValueAtIndex(s,null)})},!0):this.columnWidthsMap.clear()}},{key:"isNeedRecalculate",value:function(){return!!Qd(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),function(i){return null===i}).length}},{key:"onBeforeViewRender",value:function(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}},{key:"onAfterLoadData",value:function(){var i=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){i.hot&&i.recalculateAllColumnsWidth()},0)}},{key:"onBeforeChange",value:function(i){var o=this,s=to(i,function(a){var u=qse(a,2);return o.hot.toPhysicalColumn(o.hot.propToCol(u[1]))});this.clearCache(Array.from(new Set(s)))}},{key:"onBeforeColumnResize",value:function(i,o,s){var a=i;return s&&(this.calculateColumnsWidth(o,void 0,!0),a=this.getColumnWidth(o,void 0,!1)),a}},{key:"onAfterInit",value:function(){MY.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"onAfterFormulasValuesUpdate",value:function(i){var s=to(Qd(i,function(a){var u;return wr(null===(u=a.address)||void 0===u?void 0:u.col)}),function(a){return a.address.col});this.clearCache(Array.from(new Set(s)))}},{key:"destroy",value:function(){this.ghostTable.clean(),nw(Bm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return U1}},{key:"PLUGIN_PRIORITY",get:function(){return 10}},{key:"SETTING_KEYS",get:function(){return!0}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}]),t}(Jo),rw={horizontal:"horizontal",vertical:"vertical"};function SY(n){return(SY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function tae(n,e){if(n){if("string"==typeof n)return xY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xY(n,e)}}function xY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function nae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function iw(){return iw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=C5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},iw.apply(this,arguments)}function C5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Vm(n)););return n}function CY(n,e){return(CY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function R5e(n,e){if(e&&("object"===SY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rae(n)}function rae(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Vm(n){return(Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("modifyAutofillRange"),xr.getSingleton().register("beforeAutofill"),xr.getSingleton().register("afterAutofill");var iae="autofill",O5e=["fillHandle"],P5e=function(n){!function E5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&CY(n,e)}(t,n);var e=function T5e(n){var e=function D5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Vm(n);if(e){var o=Vm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return R5e(this,i)}}(t);function t(r){var i;return function S5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ia(rae(i)),i.addingStarted=!1,i.mouseDownOnCellCorner=!1,i.mouseDragOutside=!1,i.handleDraggedCells=0,i.directions=[],i.autoInsertRow=!1,i}return function x5e(n,e,t){e&&nae(n.prototype,e),t&&nae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(o){return i.onAfterCellCornerMouseDown(o)}),this.addHook("afterOnCellCornerDblClick",function(o){return i.onCellCornerDblClick(o)}),this.addHook("beforeOnCellMouseOver",function(o,s){return i.onBeforeCellMouseOver(s)}),iw(Vm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),iw(Vm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),iw(Vm(t.prototype),"disablePlugin",this).call(this)}},{key:"getSelectionData",value:function(){var i=this,o=this.hot.getSelectedRangeLast(),s=o.getTopStartCorner(),a=s.row,u=s.col,c=o.getBottomEndCorner(),g=this.hot.runHooks("modifyCopyableRange",[{startRow:a,startCol:u,endRow:c.row,endCol:c.col}]),y=[],w=[],S=[];return it(g,function(C){for(var P=C.startRow;P<=C.endRow;P+=1)-1===y.indexOf(P)&&y.push(P);for(var B=C.startCol;B<=C.endCol;B+=1)-1===w.indexOf(B)&&w.push(B)}),it(y,function(C){var P=[];it(w,function(B){P.push(i.hot.getCopyableData(C,B))}),S.push(P)}),S}},{key:"fillIn",value:function(){var i=this;if(this.hot.selection.highlight.getFill().isEmpty())return!1;var s=function _5e(n,e){return function M5e(n){if(Array.isArray(n))return n}(n)||function w5e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||tae(n,e)||function b5e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.hot.selection.highlight.getFill().getVisualCorners(),4),a=s[0],u=s[1],c=s[2],h=s[3],p=this.hot.getSelectedRangeLast(),g=p.getTopStartCorner(),y=p.getBottomEndCorner();this.resetSelectionOfDraggedArea();var w=[g.row,g.col,y.row,y.col],S=this.hot.runHooks("modifyAutofillRange",[Math.min(g.row,a),Math.min(g.col,u),Math.max(y.row,c),Math.max(y.col,h)],w),C=function f5e(n,e,t){var r,i,o;return e[0]===n[0]&&e[1]<n[1]?(o="left",r=t(e[0],e[1]),i=t(e[2],n[1]-1)):e[2]===n[2]&&e[0]===n[0]&&e[3]>n[3]?(o="right",r=t(e[0],n[3]+1),i=t(e[2],e[3])):e[0]<n[0]&&e[1]===n[1]?(o="up",r=t(e[0],e[1]),i=t(n[0]-1,e[3])):e[2]>n[2]&&e[1]===n[1]&&(o="down",r=t(n[2]+1,e[1]),i=t(e[2],e[3])),r&&r.normalize(),i&&i.normalize(),{directionOfDrag:o,startOfDragCoords:r,endOfDragCoords:i}}(w,S,function(Ge,Je){return i.hot._createCellCoords(Ge,Je)}),P=C.directionOfDrag,B=C.startOfDragCoords,z=C.endOfDragCoords;if(B&&B.row>-1&&B.col>-1){var j=this.getSelectionData(),G=p.clone(),re=this.hot._createCellRange(B,B,z),pe=this.hot.runHooks("beforeAutofill",j,G,re,P);if(!1===pe)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;var ne=function h5e(n,e,t,r){var i=t.length,o=t?t[0].length:0,s=[],a=e.row-n.row,u=e.col-n.col;if(-1!==["down","up"].indexOf(r)){for(var c=[],h=0;h<u;h++){var p=parseInt(t[0][h],10),g=parseInt(t[i-1][h],10);c.push(("down"===r?g-p:p-g)/(i-1)||0)}s.push(c)}if(-1!==["right","left"].indexOf(r))for(var w=0;w<a;w++){var S=parseInt(t[w][0],10),C=parseInt(t[w][o-1],10);s.push([("right"===r?C-S:S-C)/(o-1)||0])}return s}(B,z,j,P),he=pe,we=pe;if(["up","left"].indexOf(P)>-1&&(1!==we.length||0!==we[0].length))if(he=[],"up"===P)for(var Pe=z.row-B.row+1,ot=Pe%we.length,at=0;at<Pe;at++)he.push(we[(at+(we.length-ot))%we.length]);else for(var je=z.col-B.col+1,_t=je%we[0].length,ye=0;ye<we.length;ye++){he.push([]);for(var Ae=0;Ae<je;Ae++)he[ye].push(we[ye][(Ae+(we[ye].length-_t))%we[ye].length])}this.hot.populateFromArray(B.row,B.col,he,z.row,z.col,"".concat(this.pluginName,".fill"),null,P,ne),this.setSelection(S),this.hot.runHooks("afterAutofill",he,G,re,P),this.hot.render()}else this.hot._refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(i){return i.row<0&&(i.row=0),i.col<0&&(i.col=0),i}},{key:"getCoordsOfDragAndDropBorders",value:function(i){var o=this.hot.getSelectedRangeLast(),s=o.getBottomEndCorner(),a=i;if(this.directions.includes(rw.vertical)&&this.directions.includes(rw.horizontal)){var u=o.getTopStartCorner();(s.col<=i.col||u.col>=i.col)&&(a=this.hot._createCellCoords(s.row,i.col)),(s.row<i.row||u.row>i.row)&&(a=this.hot._createCellCoords(i.row,s.col))}else if(this.directions.includes(rw.vertical))a=this.hot._createCellCoords(i.row,s.col);else{if(!this.directions.includes(rw.horizontal))return;a=this.hot._createCellCoords(s.row,i.col)}return this.reduceSelectionAreaIfNeeded(a)}},{key:"showBorder",value:function(i){var o=this.getCoordsOfDragAndDropBorders(i);o&&this.redrawBorders(o)}},{key:"addRow",value:function(){var i=this;this.hot._registerTimeout(function(){i.hot.alter("insert_row_below",void 0,1,"".concat(i.pluginName,".fill")),i.addingStarted=!1},200)}},{key:"addNewRowIfNeeded",value:function(){if(!this.hot.selection.highlight.getFill().isEmpty()&&!1===this.addingStarted&&this.autoInsertRow){var i=this.hot.getSelectedLast(),o=this.hot.selection.highlight.getFill().getVisualCorners(),s=this.hot.countRows();i[2]<s-1&&o[2]===s-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(i){for(var a,o=this.hot.getData(),s=this.hot.countRows(),u=i[2]+1;u<s;u++){for(var c=i[1];c<=i[3];c++)if(o[u][c])return-1;(o[u][i[1]-1]||o[u][i[3]+1])&&(a=u)}return a}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(i,o){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(i[0],i[1])).add(this.hot._createCellCoords(o,i[3])).commit()}},{key:"setSelection",value:function(i){var o;(o=this.hot).selectCell.apply(o,function m5e(n){return function y5e(n){if(Array.isArray(n))return xY(n)}(n)||function v5e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||tae(n)||function g5e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(to(i,function(s){return Math.max(s,0)})).concat([!1,!1]))}},{key:"selectAdjacent",value:function(){var i=this.hot.getSelectedLast(),o=this.getIndexOfLastAdjacentFilledInRow(i);return-1!==o&&void 0!==o&&(this.addSelectionFromStartAreaToSpecificRowIndex(i,o),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}},{key:"redrawBorders",value:function(i){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(i).commit(),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(i){var o=this.hot.rootDocument.documentElement,s=Ga(this.hot.table).top-(this.hot.rootWindow.pageYOffset||o.scrollTop)+ra(this.hot.table),a=Ga(this.hot.table).left-(this.hot.rootWindow.pageXOffset||o.scrollLeft)+fs(this.hot.table);return i.clientY>s&&i.clientX<=a}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()}),this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)})}},{key:"onCellCornerDblClick",value:function(){this.selectAdjacent()&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(i){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(i),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(i){var o=this.getIfMouseWasDraggedOutside(i);!1===this.addingStarted&&this.handleDraggedCells>0&&o?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var i=function p5e(n){var e={};return!0===n?(e.directions=Object.keys(rw),e.autoInsertRow=!0):$i(n)?(e.autoInsertRow=!!wr(n.autoInsertRow)&&n.direction!==rw.horizontal&&n.autoInsertRow,e.directions=wr(n.direction)?[n.direction]:Object.keys(rw)):"string"==typeof n?(e.directions=[n],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}(this.hot.getSettings().fillHandle);this.directions=i.directions,this.autoInsertRow=i.autoInsertRow}},{key:"destroy",value:function(){iw(Vm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return iae}},{key:"PLUGIN_PRIORITY",get:function(){return 20}},{key:"SETTING_KEYS",get:function(){return[iae].concat(O5e)}}]),t}(Jo);function EY(n){return(EY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function I5e(n,e){return function B5e(n){if(Array.isArray(n))return n}(n)||function H5e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function F5e(n,e){if(n){if("string"==typeof n)return oae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oae(n,e)}}(n,e)||function N5e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function sae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function dx(){return dx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=U5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},dx.apply(this,arguments)}function U5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=my(n)););return n}function TY(n,e){return(TY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Y5e(n,e){if(e&&("object"===EY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function G5e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function my(n){return(my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var PI="autoRowSize",Z5e=function(n){!function j5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&TY(n,e)}(t,n);var e=function W5e(n){var e=function $5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=my(n);if(e){var o=my(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Y5e(this,i)}}(t);function t(r){var i;return function V5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).rowHeightsMap=void 0,i.headerHeight=null,i.ghostTable=new Xse(i.hot),i.samplesGenerator=new Zse(function(o,s){var a;return o>=0?a=i.hot.getDataAtCell(o,s):-1===o&&(a=i.hot.getColHeader(s)),{value:a}}),i.firstCalculation=!0,i.inProgress=!1,i.measuredRows=0,i.rowHeightsMap=new iy,i.hot.rowIndexMapper.registerMap("autoRowSize",i.rowHeightsMap),i.addHook("beforeRowResize",function(o,s,a){return i.onBeforeRowResize(o,s,a)}),i}return function z5e(n,e,t){e&&sae(n.prototype,e),t&&sae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){var i=this.hot.getSettings()[PI];return!0===i||$i(i)}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeChangeRender",function(o){return i.onBeforeChange(o)}),this.addHook("beforeColumnResize",function(){return i.recalculateAllRowsHeight()}),this.addHook("beforeViewRender",function(o){return i.onBeforeViewRender(o)}),this.addHook("modifyRowHeight",function(o,s){return i.getRowHeight(s,o)}),this.addHook("modifyColumnHeaderHeight",function(){return i.getColumnHeaderHeight()}),dx(my(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var i=this;this.headerHeight=null,dx(my(t.prototype),"disablePlugin",this).call(this),this.addHook("beforeRowResize",function(o,s,a){return i.onBeforeRowResize(o,s,a)})}},{key:"calculateRowsHeight",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="number"==typeof o?{from:o,to:o}:o,c="number"==typeof s?{from:s,to:s}:s;if(null!==this.hot.getColHeader(0)){var h=this.samplesGenerator.generateRowSamples(-1,c);this.ghostTable.addColumnHeadersRow(h.get(-1))}Hr(u.from,u.to,function(p){(a||null===i.rowHeightsMap.getValueAtIndex(p))&&it(i.samplesGenerator.generateRowSamples(p,c),function(y){var w=I5e(y,2);return i.ghostTable.addRow(w[0],w[1])})}),this.ghostTable.rows.length&&(this.hot.batchExecution(function(){i.ghostTable.getHeights(function(p,g){p<0?i.headerHeight=g:i.rowHeightsMap.setValueAtIndex(i.hot.toPhysicalRow(p),g)})},!0),this.measuredRows=u.to+1,this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},s=0,a=this.hot.countRows()-1,u=null;this.inProgress=!0;var c=function p(){if(!i.hot)return AL(u),void(i.inProgress=!1);i.calculateRowsHeight({from:s,to:Math.min(s+t.CALCULATION_STEP,a)},o),(s=s+t.CALCULATION_STEP+1)<a?u=BQ(p):(AL(u),i.inProgress=!1,i.hot.view.adjustElementsSize(!0),i.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&i.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},h=this.getSyncCalculationLimit();this.firstCalculation&&h>=0&&(this.calculateRowsHeight({from:0,to:h},o),this.firstCalculation=!1,s=h+1),s<a?c():(this.inProgress=!1,this.hot.view.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var i=this.hot.getSettings()[PI],o=i&&Hs(i,"samplingRatio")?i.samplingRatio:void 0,s=i&&Hs(i,"allowSampleDuplicates")?i.allowSampleDuplicates:void 0;o&&!isNaN(o)&&this.samplesGenerator.setSampleCount(parseInt(o,10)),s&&this.samplesGenerator.setAllowDuplicates(s)}},{key:"recalculateAllRowsHeight",value:function(){r1(this.hot.view._wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var i=this.hot.getSettings()[PI],o=t.SYNC_CALCULATION_LIMIT,s=this.hot.countRows()-1;return $i(i)&&(QQ(o=i.syncLimit)?o=Nee(s,o):o>>=0),Math.min(o,s)}},{key:"getRowHeight",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=i<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(i)),a=o;return null!==s&&s>(o||0)&&(a=s),a}},{key:"getColumnHeaderHeight",value:function(){return this.headerHeight}},{key:"getFirstVisibleRow",value:function(){var i=this.hot.view._wt;return i.wtViewport.rowsVisibleCalculator?i.wtTable.getFirstVisibleRow():i.wtViewport.rowsRenderCalculator?i.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var i=this.hot.view._wt;return i.wtViewport.rowsVisibleCalculator?i.wtTable.getLastVisibleRow():i.wtViewport.rowsRenderCalculator?i.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.headerHeight=null,this.rowHeightsMap.init()}},{key:"clearCacheByRange",value:function(i){var o=this,s="number"==typeof i?{from:i,to:i}:i,a=s.from,u=s.to;this.hot.batchExecution(function(){Hr(Math.min(a,u),Math.max(a,u),function(c){o.rowHeightsMap.setValueAtIndex(c,null)})},!0)}},{key:"isNeedRecalculate",value:function(){return!!Qd(this.rowHeightsMap.getValues().slice(0,this.measuredRows),function(i){return null===i}).length}},{key:"onBeforeViewRender",value:function(){var i=this.hot.renderCall,o=this.hot.getSettings().fixedRowsBottom,s=this.getFirstVisibleRow(),a=this.getLastVisibleRow();if(-1!==s&&-1!==a){if(this.calculateRowsHeight({from:s,to:a},void 0,i),o){var u=this.hot.countRows()-1;this.calculateRowsHeight({from:u-o,to:u})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}},{key:"onBeforeRowMove",value:function(i,o){this.clearCacheByRange({from:i,to:o}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(i,o,s){var a=i;return s&&(this.calculateRowsHeight(o,void 0,!0),a=this.getRowHeight(o)),a}},{key:"onAfterLoadData",value:function(){var i=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){i.hot&&i.recalculateAllRowsHeight()},0)}},{key:"onBeforeChange",value:function(i){var o=null;1===i.length?o=i[0][0]:i.length>1&&(o={from:i[0][0],to:i[i.length-1][0]}),null!==o&&this.clearCacheByRange(o)}},{key:"destroy",value:function(){this.ghostTable.clean(),dx(my(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return PI}},{key:"PLUGIN_PRIORITY",get:function(){return 40}},{key:"SETTING_KEYS",get:function(){return!0}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}]),t}(Jo),aae=new Map([["indexesSequence",{getListWithInsertedItems:kU,getListWithRemovedItems:M1}],["physicallyIndexed",{getListWithInsertedItems:xU,getListWithRemovedItems:CU}]]),lae=function(e){if(!1===aae.has(e))throw new Error("Alter strategy with ID '".concat(e,"' does not exist."));return aae.get(e)};function RY(n){return(RY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function uae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function j1(){return j1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Q5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},j1.apply(this,arguments)}function Q5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ow(n)););return n}function DY(n,e){return(DY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function n6e(n,e){if(e&&("object"===RY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function r6e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ow(n){return(ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var cae=lae("physicallyIndexed"),o6e=cae.getListWithInsertedItems,s6e=cae.getListWithRemovedItems;const l6e=function(n){!function e6e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&DY(n,e)}(t,n);var e=function t6e(n){var e=function i6e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ow(n);if(e){var o=ow(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return n6e(this,i)}}(t);function t(){return function q5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function J5e(n,e,t){e&&uae(n.prototype,e),t&&uae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=PU(this.indexedValues,o);this.indexedValues=o6e(s,i,o,this.initValueOrFn),j1(ow(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){var o=s6e(this.indexedValues,i);this.indexedValues=LU(o,i),j1(ow(t.prototype),"remove",this).call(this,i)}}]),t}(jb);function AY(n){return(AY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function OY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function dae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function W1(){return W1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=g6e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},W1.apply(this,arguments)}function g6e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=sw(n)););return n}function kY(n,e){return(kY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function _6e(n,e){if(e&&("object"===AY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function b6e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function sw(n){return(sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var hae=lae("physicallyIndexed"),M6e=hae.getListWithInsertedItems,S6e=hae.getListWithRemovedItems;function LY(n){return(LY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function fae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hx(){return hx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=R6e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},hx.apply(this,arguments)}function R6e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=gy(n)););return n}function PY(n,e){return(PY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function O6e(n,e){if(e&&("object"===LY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function k6e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function gy(n){return(gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var IY="bindRowsWithHeaders",N6e=new Map([["loose",l6e],["strict",function(n){!function v6e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&kY(n,e)}(t,n);var e=function y6e(n){var e=function w6e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=sw(n);if(e){var o=sw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _6e(this,i)}}(t);function t(){return function p6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function m6e(n,e,t){e&&dae(n.prototype,e),t&&dae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=this;this.indexedValues=M6e(this.indexedValues,i,o,function(a,u){return s.getNextValue(u)}),W1(sw(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=S6e(this.indexedValues,i),W1(sw(t.prototype),"remove",this).call(this,i)}},{key:"getNextValue",value:function(i){return Math.max.apply(Math,function u6e(n){return function f6e(n){if(Array.isArray(n))return OY(n)}(n)||function h6e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function d6e(n,e){if(n){if("string"==typeof n)return OY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OY(n,e)}}(n)||function c6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.getValues()))+1+i}}]),t}(jb)]]),F6e=function(n){!function D6e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&PY(n,e)}(t,n);var e=function A6e(n){var e=function L6e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=gy(n);if(e){var o=gy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return O6e(this,i)}}(t);function t(r){var i;return function E6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).headerIndexes=null,i}return function T6e(n,e,t){e&&fae(n.prototype,e),t&&fae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[IY]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[IY];"string"!=typeof o&&(o="loose");var s=N6e.get(o);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new s),this.addHook("modifyRowHeader",function(a){return i.onModifyRowHeader(a)}),hx(gy(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),hx(gy(t.prototype),"disablePlugin",this).call(this)}},{key:"onModifyRowHeader",value:function(i){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(i))}},{key:"destroy",value:function(){hx(gy(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return IY}},{key:"PLUGIN_PRIORITY",get:function(){return 210}}]),t}(Jo);function NY(n){return(NY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pae(n){return function z6e(n){if(Array.isArray(n))return FY(n)}(n)||function V6e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function B6e(n,e){if(n){if("string"==typeof n)return FY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FY(n,e)}}(n)||function H6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function U6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function mae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function aw(){return aw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=W6e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},aw.apply(this,arguments)}function W6e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=zm(n)););return n}function HY(n,e){return(HY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $6e(n,e){if(e&&("object"===NY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fx(n)}function fx(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zm(n){return(zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function K6e(n,e,t){(function Z6e(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function BY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gae(n,e){return function q6e(n,e){return e.get?e.get.call(n):e.value}(n,vae(n,e,"get"))}function VY(n,e,t){return function J6e(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,vae(n,e,"set"),t),t}function vae(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var zY="collapsibleColumns",e8e=["nestedHeaders"],px="collapsibleIndicator",yae=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]),mx=new WeakMap,t8e=function(n){!function Y6e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&HY(n,e)}(t,n);var e=function G6e(n){var e=function X6e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=zm(n);if(e){var o=zm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $6e(this,i)}}(t);function t(){var r;U6e(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return BY(fx(r=e.call.apply(e,[this].concat(o))),"nestedHeadersPlugin",null),BY(fx(r),"eventManager",new ia(fx(r))),BY(fx(r),"headerStateManager",null),K6e(fx(r),mx,{writable:!0,value:null}),r}return function j6e(n,e,t){e&&mae(n.prototype,e),t&&mae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[zY]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.hot.getSettings().nestedHeaders||ps("You need to configure the Nested Headers plugin in order to use collapsible headers."),VY(this,mx,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",function(){return i.onInit()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("afterGetColHeader",function(){return i.onAfterGetColHeader.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(a,u,c){return i.onBeforeOnCellMouseDown(a,u,c)}),aw(zm(t.prototype),"enablePlugin",this).call(this),this.updatePlugin())}},{key:"updatePlugin",value:function(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){var o=this.hot.getSettings().collapsibleColumns;"boolean"==typeof o?this.headerStateManager.mapState(function(s){return{collapsible:s.origColspan>1}}):Array.isArray(o)&&(this.headerStateManager.mapState(function(){return{collapsible:!1}}),this.headerStateManager.mergeStateWith(o))}aw(zm(t.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),VY(this,mx,null),this.nestedHeadersPlugin=null,this.clearButtons(),aw(zm(t.prototype),"disablePlugin",this).call(this)}},{key:"clearButtons",value:function(){if(this.hot.view){var i=this.hot.view._wt.getSetting("columnHeaders").length,o=this.hot.view._wt.wtTable.THEAD,s=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,a=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,u=function(h){h&&h.parentNode.removeChild(h)};Hr(0,i-1,function(c){var h=o.childNodes[c],p=s.childNodes[c],g=a?a.childNodes[c]:null;Hr(0,h.childNodes.length-1,function(y){var w=h.childNodes[y].querySelector(".".concat(px));u(w),p&&p.childNodes[y]&&(w=p.childNodes[y].querySelector(".".concat(px)),u(w)),a&&g&&g.childNodes[y]&&(w=g.childNodes[y].querySelector(".".concat(px)),u(w))})})}}},{key:"expandSection",value:function(i){this.toggleCollapsibleSection([i],"expand")}},{key:"collapseSection",value:function(i){this.toggleCollapsibleSection([i],"collapse")}},{key:"toggleAllCollapsibleSections",value:function(i){var o=this,s=this.headerStateManager.mapNodes(function(a){var p=a.columnIndex,g=a.isCollapsed;if(!0===a.collapsible&&a.origColspan>1&&(g&&"expand"===i||!g&&"collapse"===i))return{row:o.headerStateManager.levelToRowCoords(a.headerLevel),col:p}});this.toggleCollapsibleSection(s,i)}},{key:"collapseAll",value:function(){this.toggleAllCollapsibleSections("collapse")}},{key:"expandAll",value:function(){this.toggleAllCollapsibleSections("expand")}},{key:"toggleCollapsibleSection",value:function(i,o){var s=this;if(!yae.has(o))throw new Error("Unsupported action is passed (".concat(o,")."));if(Array.isArray(i)){var a=Qd(i,function(C){return C.row<0}),u=a.length>0;it(a,function(C){var P,j=null!==(P=s.headerStateManager.getHeaderSettings(C.row,C.col))&&void 0!==P?P:{},re=j.isCollapsed;if(!j.collapsible||re&&"collapse"===o||!re&&"expand"===o)return u=!1,!1});var c=[],h=[];u&&it(a,function(C){var z=s.headerStateManager.triggerNodeModification(o,C.row,C.col),re=z.rollbackModification;z.colspanCompensation>0&&(h.push.apply(h,pae(z.affectedColumns)),c.push(re))});var p=this.getCollapsedColumns(),g=[];"collapse"===o?g=jQ([].concat(pae(p),h)):"expand"===o&&(g=Qd(p,function(C){return!h.includes(C)}));var y=yae.get(o);if(!1===this.hot.runHooks(y.beforeHook,p,g,u))return void it(c,function(C){C()});this.hot.batchExecution(function(){it(h,function(C){gae(s,mx).setValueAtIndex(s.hot.toPhysicalColumn(C),y.hideColumn)})},!0);var S=this.getCollapsedColumns().length!==p.length;this.hot.runHooks(y.afterHook,p,g,u,S),this.hot.render(),this.hot.view.adjustElementsSize(!0)}}},{key:"getCollapsedColumns",value:function(){return gae(this,mx).getHiddenIndexes()}},{key:"onAfterGetColHeader",value:function(i,o,s){var a,w,u=null!==(a=this.headerStateManager.getHeaderSettings(s,i))&&void 0!==a?a:{},p=u.isCollapsed,g=u.collapsible&&u.origColspan>1&&i>=this.hot.getSettings().fixedColumnsStart,y=o.querySelector(".".concat(px));g?(y||(An(y=this.hot.rootDocument.createElement("div"),px),o.querySelector("div:first-child").appendChild(y)),Hi(y,["collapsed","expanded"]),p?(An(y,"collapsed"),Pb(y,"+")):(An(y,"expanded"),Pb(y,"-"))):null===(w=y)||void 0===w||w.remove()}},{key:"onBeforeOnCellMouseDown",value:function(i,o){Ti(i.target,px)&&(Ti(i.target,"expanded")?(this.eventManager.fireEvent(i.target,"mouseup"),this.toggleCollapsibleSection([o],"collapse")):Ti(i.target,"collapsed")&&(this.eventManager.fireEvent(i.target,"mouseup"),this.toggleCollapsibleSection([o],"expand")),rp(i))}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(i,o){o||this.updatePlugin()}},{key:"destroy",value:function(){VY(this,mx,null),aw(zm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return zY}},{key:"PLUGIN_PRIORITY",get:function(){return 290}},{key:"PLUGIN_DEPS",get:function(){return["plugin:NestedHeaders"]}},{key:"SETTING_KEYS",get:function(){return[zY].concat(e8e)}}]),t}(Jo);function _ae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function r8e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bae(n,e){return function a8e(n){if(Array.isArray(n))return n}(n)||function s8e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function o8e(n,e){if(n){if("string"==typeof n)return wae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wae(n,e)}}(n,e)||function i8e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Mae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var c8e=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],p8e=function(){function n(e,t){(function l8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.sortingStates=new TP,this.sortEmptyCells=!1,this.indicator=!0,this.headerAction=!0,this.compareFunctionFactory=void 0,this.mapName=t,this.hot.columnIndexMapper.registerMap(t,this.sortingStates)}return function u8e(n,e,t){e&&Mae(n.prototype,e),t&&Mae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateAllColumnsProperties",value:function(t){var r=this;!$i(t)||ao(t,function(i,o){c8e.includes(o)&&(r[o]=i)})}},{key:"getAllColumnsProperties",value:function(){var t={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return"function"==typeof this.compareFunctionFactory&&(t.compareFunctionFactory=this.compareFunctionFactory),t}},{key:"getSortOrderOfColumn",value:function(t){var r;return null===(r=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))||void 0===r?void 0:r.sortOrder}},{key:"getIndexOfColumnInSortQueue",value:function(t){return t=this.hot.toPhysicalColumn(t),this.sortingStates.getEntries().findIndex(function(r){return bae(r,1)[0]===t})}},{key:"getNumberOfSortedColumns",value:function(){return this.sortingStates.getLength()}},{key:"isListOfSortedColumnsEmpty",value:function(){return 0===this.getNumberOfSortedColumns()}},{key:"isColumnSorted",value:function(t){return $i(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))}},{key:"getSortStates",value:function(){var t=this;return null===this.sortingStates?[]:this.sortingStates.getEntries().map(function(i){var o=bae(i,2),a=o[1];return function n8e(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?_ae(Object(t),!0).forEach(function(r){r8e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_ae(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({column:t.hot.toVisualColumn(o[0])},a)})}},{key:"getColumnSortState",value:function(t){var r=this.getSortOrderOfColumn(t);if(wr(r))return{column:t,sortOrder:r}}},{key:"setSortStates",value:function(t){this.sortingStates.clear();for(var r=0;r<t.length;r+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(t[r].column),{sortOrder:t[r].sortOrder})}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}]),n}(),II="asc",NI="desc";function Sae(n){if(n!==NI)return n===II?NI:II}function xae(n){return n.querySelector(".".concat("colHeader"))}function Cae(n,e){if(n<0||!e.parentNode)return!1;var t=e.parentNode.parentNode.childNodes;return-1==Array.from(t).indexOf(e.parentNode)-t.length}function UY(n,e,t){return-1===n&&e>=0&&!1===Nb(t)}var Eae="indicatorDisabled",Tae="columnSorting",Rae="sortAction",Dae=new Map([[II,"ascending"],[NI,"descending"]]);function b8e(n,e,t,r){var i=[Tae];if(r&&i.push(Rae),!1===t)return i.push(Eae),i;var o=n.getSortOrderOfColumn(e);return wr(o)&&i.push(Dae.get(o)),i}function w8e(){return Array.from(Dae.values()).concat(Rae,Eae,Tae)}function Aae(n,e,t){var r=e.locale;return function(i,o){var s=t.sortEmptyCells;return"string"==typeof i&&(i=i.toLocaleLowerCase(r)),"string"==typeof o&&(o=o.toLocaleLowerCase(r)),i===o?0:hl(i)?hl(o)?0:s&&"asc"===n?-1:1:hl(o)?s&&"asc"===n?1:-1:isNaN(i)&&!isNaN(o)?"asc"===n?1:-1:!isNaN(i)&&isNaN(o)||(isNaN(i)||isNaN(o)||(i=parseFloat(i),o=parseFloat(o)),i<o)?"asc"===n?-1:1:i>o?"asc"===n?1:-1:0}}var jY=eh("sorting.compareFunctionFactory"),FI=jY.register,kae=jY.getItem,D8e=jY.hasItem,Lae=eh("sorting.mainSortComparator"),Pae=Lae.register,A8e=Lae.getItem;function Iae(n){return D8e(n)?kae(n):kae("default")}function Nae(n){return function P8e(n){if(Array.isArray(n))return n}(n)||function L8e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function k8e(n,e){if(n){if("string"==typeof n)return Fae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fae(n,e)}}(n)||function O8e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function WY(n){return(WY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}FI("numeric",function S8e(n,e,t){return function(r,i){var o=parseFloat(r),s=parseFloat(i),a=t.sortEmptyCells;if(o===s||isNaN(o)&&isNaN(s))return 0;if(a){if(hl(r))return"asc"===n?-1:1;if(hl(i))return"asc"===n?1:-1}return isNaN(o)?1:isNaN(s)?-1:o<s?"asc"===n?-1:1:o>s?"asc"===n?1:-1:0}}),FI("checkbox",function C8e(n,e,t){var r=e.checkedTemplate,i=e.uncheckedTemplate,o=t.sortEmptyCells;return function(s,a){var u=hl(s),c=hl(a),h=u?i:s,p=c?i:a,g=h===i||h===r,y=p===i||p===r;if(!1===o){if(u&&!1===c)return 1;if(!1===u&&c)return-1}return!1===g&&y?"asc"===n?-1:1:g&&!1===y?"asc"===n?1:-1:!1===g&&!1===y?Aae(n,e,t)(s,a):h===i&&p===r?"asc"===n?-1:1:h===r&&p===i?"asc"===n?1:-1:0}}),FI("date",function T8e(n,e,t){return function(r,i){var o=t.sortEmptyCells;if(r===i)return 0;if(hl(r))return hl(i)?0:o&&"asc"===n?-1:1;if(hl(i))return o&&"asc"===n?1:-1;var s=e.dateFormat,a=cs(r,s),u=cs(i,s);return a.isValid()?u.isValid()?u.isAfter(a)?"asc"===n?-1:1:u.isBefore(a)?"asc"===n?1:-1:0:-1:1}}),FI("default",Aae);var N8e=["column"],F8e=["column"];function gx(n){return function z8e(n){if(Array.isArray(n))return YY(n)}(n)||function V8e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function B8e(n,e){if(n){if("string"==typeof n)return YY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return YY(n,e)}}(n)||function H8e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Hae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Bae(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Hae(Object(t),!0).forEach(function(r){U8e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hae(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function U8e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vae(n,e){if(null==n)return{};var r,i,t=function j8e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function zae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function lw(){return lw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=G8e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},lw.apply(this,arguments)}function G8e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Um(n)););return n}function GY(n,e){return(GY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function K8e(n,e){if(e&&("object"===WY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Z8e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Um(n){return(Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var $Y="columnSorting",Uae="append";Pae($Y,function I8e(n,e){return function(t,r){var h,p,g,y,w,o=Nae(t).slice(1),a=Nae(r).slice(1);return h=n[0],g=o[0],y=a[0],((w=(p=e[0]).columnSorting).compareFunctionFactory?w.compareFunctionFactory:Iae(p.type))(h,p,w)(g,y)}}),xr.getSingleton().register("beforeColumnSort"),xr.getSingleton().register("afterColumnSort");var jae=function(n){!function $8e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&GY(n,e)}(t,n);var e=function X8e(n){var e=function q8e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Um(n);if(e){var o=Um(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return K8e(this,i)}}(t);function t(r){var i;return function W8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).columnStatesManager=null,i.columnMetaCache=null,i.pluginKey=$Y,i.indexesSequenceCache=null,i}return function Y8e(n,e,t){e&&zae(n.prototype,e),t&&zae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[this.pluginKey]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.columnStatesManager=new p8e(this.hot,"".concat(this.pluginKey,".sortingStates")),this.columnMetaCache=new iy(function(o){var s=i.hot.toVisualColumn(o);return null===s&&(s=o),i.getMergedPluginSettings(s)}),this.hot.columnIndexMapper.registerMap("".concat(this.pluginKey,".columnMeta"),this.columnMetaCache),this.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("afterOnCellMouseDown",function(o,s){return i.onAfterOnCellMouseDown(o,s)}),this.addHook("afterInit",function(){return i.loadOrSortBySettings()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.hot.view&&this.loadOrSortBySettings(),lw(Um(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var i=this,o=function(a,u){var c=xae(u);!1===Cae(a,u)||null===c||i.updateHeaderClasses(c)};this.hot.addHook("afterGetColHeader",o),this.hot.addHookOnce("afterViewRender",function(){i.hot.removeHook("afterGetColHeader",o)}),this.hot.batchExecution(function(){null!==i.indexesSequenceCache&&(i.hot.rowIndexMapper.setIndexesSequence(i.indexesSequenceCache.getValues()),i.hot.rowIndexMapper.unregisterMap(i.pluginKey))},!0),this.hot.columnIndexMapper.unregisterMap("".concat(this.pluginKey,".columnMeta")),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,lw(Um(t.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(i){var o=this.getSortConfig(),s=this.getNormalizedSortConfigs(i),a=this.areValidSortConfigs(s);!1!==this.hot.runHooks("beforeColumnSort",o,s,a)&&(0===o.length&&null===this.indexesSequenceCache&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new Ine),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),a&&(this.columnStatesManager.setSortStates(s),this.sortByPresetSortStates(s),this.saveAllSortSettings(s)),this.hot.runHooks("afterColumnSort",o,a?s:o,a),a&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}},{key:"clearSort",value:function(){this.sort([])}},{key:"isSorted",value:function(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}},{key:"getSortConfig",value:function(i){return wr(i)?this.columnStatesManager.getColumnSortState(i):this.columnStatesManager.getSortStates()}},{key:"setSortConfig",value:function(i){var o=this.getNormalizedSortConfigs(i);this.areValidSortConfigs(o)&&this.columnStatesManager.setSortStates(o)}},{key:"getNormalizedSortConfigs",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(i)?i.slice(0,1):[i]}},{key:"areValidSortConfigs",value:function(i){var o=this.hot.countCols();return function v8e(n){if(n.some(function(t){return!1===function g8e(n){if(!1===$i(n))return!1;var t=n.sortOrder;return Number.isInteger(n.column)&&[II,NI].includes(t)}(t)}))return!1;var e=n.map(function(t){return t.column});return new Set(e).size===e.length}(i)&&i.every(function(s){var a=s.column;return a<=o&&a>=0})}},{key:"saveAllSortSettings",value:function(i){var o=this,s=this.columnStatesManager.getAllColumnsProperties();s.initialConfig=to(i,function(c){var h=c.column,p=Vae(c,N8e);return Bae({column:o.hot.toPhysicalColumn(h)},p)}),this.hot.runHooks("persistentStateSave","columnSorting",s)}},{key:"getAllSavedSortSettings",value:function(){var i=this,o={};this.hot.runHooks("persistentStateLoad","columnSorting",o);var s=o.value;return wr(s)&&Array.isArray(s.initialConfig)&&(s.initialConfig=to(s.initialConfig,function(c){var h=c.column,p=Vae(c,F8e);return Bae({column:i.hot.toVisualColumn(h)},p)})),s}},{key:"getColumnNextConfig",value:function(i){var o=this.columnStatesManager.getSortOrderOfColumn(i);if(wr(o)){var s=Sae(o);return wr(s)?{column:i,sortOrder:s}:void 0}var a=this.hot.countCols();if(Number.isInteger(i)&&i>=0&&i<a)return{column:i,sortOrder:Sae()}}},{key:"getNextSortConfig",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uae,s=this.columnStatesManager.getIndexOfColumnInSortQueue(i),a=-1!==s,u=this.getSortConfig(),c=this.getColumnNextConfig(i);if(a){if(Bs(c))return[].concat(gx(u.slice(0,s)),gx(u.slice(s+1)));if(o===Uae)return[].concat(gx(u.slice(0,s)),gx(u.slice(s+1)),[c]);if("replace"===o)return[].concat(gx(u.slice(0,s)),[c],gx(u.slice(s+1)))}return wr(c)?u.concat(c):u}},{key:"getPluginColumnConfig",value:function(i){if($i(i)){var o=i[this.pluginKey];if($i(o))return o}return{}}},{key:"getMergedPluginSettings",value:function(i){var o=this.hot.getSettings()[this.pluginKey],s=this.columnStatesManager.getAllColumnsProperties(),a=this.hot.getCellMeta(0,i),u=Object.getPrototypeOf(a);return Array.isArray(u.columns)?Object.assign(s,o,this.getPluginColumnConfig(u.columns[i])):Ts(u.columns)?Object.assign(s,o,this.getPluginColumnConfig(u.columns(i))):Object.assign(s,o)}},{key:"getFirstCellSettings",value:function(i){var o=this.hot.getCellMeta(0,i),s=Object.create(o);return s[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(i)),s}},{key:"getNumberOfRowsToSort",value:function(i){var o=this.hot.getSettings();return o.maxRows<=i?o.maxRows:i-o.minSpareRows}},{key:"sortByPresetSortStates",value:function(i){var o=this;if(0!==i.length){for(var s=[],a=this.hot.countRows(),u=function(C){return to(i,function(P){return o.hot.getDataAtCell(C,P.column)})},c=0;c<this.getNumberOfRowsToSort(a);c+=1)s.push([this.hot.toPhysicalRow(c)].concat(u(c)));var h=to(s,function(S){return S[0]});!function M8e(n,e){for(var t=A8e(e),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];n.sort(t.apply(void 0,i))}(s,this.pluginKey,to(i,function(S){return S.sortOrder}),to(i,function(S){return o.getFirstCellSettings(S.column)}));for(var p=s.length;p<a;p+=1)s.push([p].concat(u(p)));var g=to(s,function(S){return S[0]}),y=new Map(to(h,function(S,C){return[S,g[C]]})),w=to(this.hot.rowIndexMapper.getIndexesSequence(),function(S){return y.has(S)?y.get(S):S});this.hot.rowIndexMapper.setIndexesSequence(w)}else this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues())}},{key:"loadOrSortBySettings",value:function(){var i=this.getAllSavedSortSettings();if($i(i))this.sortBySettings(i);else{var o=this.hot.getSettings()[this.pluginKey];this.sortBySettings(o)}}},{key:"sortBySettings",value:function(i){if($i(i)){this.columnStatesManager.updateAllColumnsProperties(i);var o=i.initialConfig;(Array.isArray(o)||$i(o))&&this.sort(o)}else this.hot.render()}},{key:"onAfterGetColHeader",value:function(i,o){var s=xae(o);if(!1!==Cae(i,o)&&null!==s){var a=this.getFirstCellSettings(i)[this.pluginKey];this.updateHeaderClasses(s,this.columnStatesManager,i,a.indicator,a.headerAction)}}},{key:"updateHeaderClasses",value:function(i){if(Hi(i,w8e()),!1!==this.enabled){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];An(i,b8e.apply(void 0,s))}}},{key:"onUpdateSettings",value:function(i){lw(Um(t.prototype),"onUpdateSettings",this).call(this),null!==this.columnMetaCache&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),wr(i[this.pluginKey])&&this.sortBySettings(i[this.pluginKey])}},{key:"onAfterLoadData",value:function(i){!0===i&&this.hot.view&&this.loadOrSortBySettings()}},{key:"wasClickableHeaderClicked",value:function(i,o){return this.getFirstCellSettings(o)[this.pluginKey].headerAction&&"SPAN"===i.target.nodeName}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){!1!==UY(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(a.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(i,o){!1!==UY(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&(this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(o.col)),this.sort(this.getColumnNextConfig(o.col)))}},{key:"destroy",value:function(){var i;null===(i=this.columnStatesManager)||void 0===i||i.destroy(),lw(Um(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return $Y}},{key:"PLUGIN_PRIORITY",get:function(){return 50}}]),t}(Jo);function Wae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(7528);const r9e=function(){function n(e,t){(function e9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=this.plugin.hot,this.endpoints=[],this.settings=t,this.settingsType="array",this.currentEndpoint=null,this.cellsToSetCache=[]}return function t9e(n,e,t){e&&Wae(n.prototype,e),t&&Wae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getEndpoint",value:function(t){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings)[t]:this.endpoints[t]}},{key:"getAllEndpoints",value:function(){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings):this.endpoints}},{key:"fillMissingEndpointData",value:function(t){return this.parseSettings(t.call(this))}},{key:"parseSettings",value:function(t){var r=this,i=[],o=t;if(o||"function"!=typeof this.settings)return o||(o=this.settings),it(o,function(s){var a={};r.assignSetting(s,a,"ranges",[[0,r.hot.countRows()-1]]),r.assignSetting(s,a,"reversedRowCoords",!1),r.assignSetting(s,a,"destinationRow",new Error("\n        You must provide a destination row for the Column Summary plugin in order to work properly!\n      ")),r.assignSetting(s,a,"destinationColumn",new Error("\n        You must provide a destination column for the Column Summary plugin in order to work properly!\n      ")),r.assignSetting(s,a,"sourceColumn",s.destinationColumn),r.assignSetting(s,a,"type","sum"),r.assignSetting(s,a,"forceNumeric",!1),r.assignSetting(s,a,"suppressDataTypeErrors",!0),r.assignSetting(s,a,"suppressDataTypeErrors",!0),r.assignSetting(s,a,"customFunction",null),r.assignSetting(s,a,"readOnly",!0),r.assignSetting(s,a,"roundFloat",!1),i.push(a)}),i;this.settingsType="function"}},{key:"assignSetting",value:function(t,r,i,o){if("ranges"!==i||void 0!==t[i]){if("ranges"!==i||0!==t[i].length)if(void 0===t[i]){if(o instanceof Error)throw o;r[i]=o}else r[i]="destinationRow"===i&&r.reversedRowCoords?this.hot.countRows()-t[i]-1:t[i]}else r[i]=o}},{key:"resetSetupBeforeStructureAlteration",value:function(t,r,i){if("function"===this.settingsType){var o=t.indexOf("row")>-1?"row":"col",s=this.getAllEndpoints();it(s,function(a){"row"===o&&a.destinationRow>=r&&("insert_row"===t?a.alterRowOffset=i:"remove_row"===t&&(a.alterRowOffset=-1*i)),"col"===o&&a.destinationColumn>=r&&("insert_col"===t?a.alterColumnOffset=i:"remove_col"===t&&(a.alterColumnOffset=-1*i))}),this.resetAllEndpoints(s,!1)}}},{key:"resetSetupAfterStructureAlteration",value:function(t,r,i,o,s){var a=this,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if("function"!==this.settingsType){var h=t.indexOf("row")>-1?"row":"col",p=t.indexOf("remove")>-1?-1:1,g=this.getAllEndpoints(),y=0===t.indexOf("move_row"),w=r;it(g,function(S){"row"===h&&S.destinationRow>=w&&(S.alterRowOffset=p*i),"col"===h&&S.destinationColumn>=w&&(S.alterColumnOffset=p*i)}),this.resetAllEndpoints(g,!y),it(g,y?function(S){a.extendEndpointRanges(S,w,o[0],o.length),a.recreatePhysicalRanges(S),a.clearOffsetInformation(S)}:function(S){a.shiftEndpointCoordinates(S,w)}),u&&this.refreshAllEndpoints()}else{var c=function S(){return a.hot.removeHook("beforeViewRender",S),a.refreshAllEndpoints()};this.hot.addHookOnce("beforeViewRender",c)}}},{key:"clearOffsetInformation",value:function(t){t.alterRowOffset=void 0,t.alterColumnOffset=void 0}},{key:"extendEndpointRanges",value:function(t,r,i,o){it(t.ranges,function(s){s[1]&&(r>=s[0]&&r<=s[1]?i>s[1]?s[1]+=o:i<s[0]&&(s[0]-=o):i>=s[0]&&i<=s[1]&&(s[1]-=o,r<=s[0]&&(s[0]+=1,s[1]+=1)))})}},{key:"recreatePhysicalRanges",value:function(t){var r=this,o=[],s=[];it(t.ranges,function(a){var u=[];if(a[1])for(var c=a[0];c<=a[1];c++)u.push(r.hot.toPhysicalRow(c));else u.push(r.hot.toPhysicalRow(a[0]));s.push(u)}),it(s,function(a){var u=[];it(a,function(c,h){0===h?u.push(c):a[h]!==a[h-1]+1&&(u.push(a[h-1]),o.push(u),(u=[]).push(c)),h===a.length-1&&(u.push(c),o.push(u))})}),t.ranges=o}},{key:"shiftEndpointCoordinates",value:function(t,r){t.alterRowOffset&&0!==t.alterRowOffset?(t.destinationRow+=t.alterRowOffset||0,it(t.ranges,function(i){it(i,function(o,s){o>=r&&(i[s]+=t.alterRowOffset||0)})})):t.alterColumnOffset&&0!==t.alterColumnOffset&&(t.destinationColumn+=t.alterColumnOffset||0,t.sourceColumn+=t.alterColumnOffset||0)}},{key:"resetAllEndpoints",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAllEndpoints(),i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=r.some(function(s){var u=s.alterColumnOffset||0;return s.destinationRow+(s.alterRowOffset||0)>=t.hot.countRows()||s.destinationColumn+u>=t.hot.countCols()});o||(this.cellsToSetCache=[],it(r,function(s){t.resetEndpointValue(s,i)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}},{key:"refreshAllEndpoints",value:function(){var t=this;this.cellsToSetCache=[],it(this.getAllEndpoints(),function(r){t.currentEndpoint=r,t.plugin.calculate(r),t.setEndpointValue(r,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshChangedEndpoints",value:function(t){var r=this,i=[];this.cellsToSetCache=[],it(t,function(o,s,a){"".concat(o[2]||"")!=="".concat(o[3])&&it(r.getAllEndpoints(),function(u,c){r.hot.propToCol(a[s][1])===u.sourceColumn&&-1===i.indexOf(c)&&i.push(c)})}),it(i,function(o){r.refreshEndpoint(r.getEndpoint(o))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshEndpoint",value:function(t){this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t),this.currentEndpoint=null}},{key:"resetEndpointValue",value:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.alterRowOffset||0,o=t.alterColumnOffset||0,s=[this.hot.toVisualRow(t.destinationRow),this.hot.toVisualColumn(t.destinationColumn)],a=s[0],u=s[1];if(null!==u&&null!==a){var c=this.hot.getCellMeta(a,u);c.readOnly=!1,c.className=""}this.cellsToSetCache.push([this.hot.toVisualRow(t.destinationRow+(r?i:0)),this.hot.toVisualColumn(t.destinationColumn+(r?o:0)),""])}},{key:"setEndpointValue",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1*t.alterRowOffset||0,s=-1*t.alterColumnOffset||0,a=this.hot.toVisualRow(t.destinationRow);if(t.destinationRow>=this.hot.countRows()||t.destinationColumn>=this.hot.countCols())this.throwOutOfBoundsWarning();else{var u=this.hot.toVisualRow(t.destinationRow+o);if(null!==u){var c=this.hot.getCellMeta(u,t.destinationColumn+s);("init"===r||c.readOnly!==t.readOnly)&&(c.readOnly=t.readOnly,c.className="columnSummaryResult")}t.roundFloat&&!isNaN(t.result)&&(t.result=t.result.toFixed(t.roundFloat)),i?this.hot.setDataAtCell(a,t.destinationColumn,t.result,"ColumnSummary.set"):this.cellsToSetCache.push([a,t.destinationColumn,t.result]),t.alterRowOffset=void 0,t.alterColumnOffset=void 0}}},{key:"throwOutOfBoundsWarning",value:function(){ps("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}]),n}();function XY(n){return null==n||isNaN(n)}function KY(n){return(KY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Yae;function Gae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function HI(){return HI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=a9e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},HI.apply(this,arguments)}function a9e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=vx(n)););return n}function ZY(n,e){return(ZY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function c9e(n,e){if(e&&("object"===KY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function d9e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function vx(n){return(vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var qY="columnSummary",p9e=function(n){!function l9e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ZY(n,e)}(t,n);var e=function u9e(n){var e=function h9e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=vx(n);if(e){var o=vx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return c9e(this,i)}}(t);function t(r){var i;return function o9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).endpoints=null,i}return function s9e(n,e,t){e&&Gae(n.prototype,e),t&&Gae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[qY]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.settings=this.hot.getSettings()[qY],this.endpoints=new r9e(this,this.settings),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("afterChange",function(){return i.onAfterChange.apply(i,arguments)}),this.addHook("beforeCreateRow",function(o,s,a){return i.endpoints.resetSetupBeforeStructureAlteration("insert_row",o,s,null,a)}),this.addHook("beforeCreateCol",function(o,s,a){return i.endpoints.resetSetupBeforeStructureAlteration("insert_col",o,s,null,a)}),this.addHook("beforeRemoveRow",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupBeforeStructureAlteration.apply(o,["remove_row"].concat(a))}),this.addHook("beforeRemoveCol",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupBeforeStructureAlteration.apply(o,["remove_col"].concat(a))}),this.addHook("afterCreateRow",function(o,s,a){return i.endpoints.resetSetupAfterStructureAlteration("insert_row",o,s,null,a)}),this.addHook("afterCreateCol",function(o,s,a){return i.endpoints.resetSetupAfterStructureAlteration("insert_col",o,s,null,a)}),this.addHook("afterRemoveRow",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupAfterStructureAlteration.apply(o,["remove_row"].concat(a))}),this.addHook("afterRemoveCol",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupAfterStructureAlteration.apply(o,["remove_col"].concat(a))}),this.addHook("afterRowMove",function(){return i.onAfterRowMove.apply(i,arguments)}),HI(vx(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.endpoints=null,this.settings=null,this.currentEndpoint=null}},{key:"calculate",value:function(i){switch(i.type.toLowerCase()){case"sum":i.result=this.calculateSum(i);break;case"min":case"max":i.result=this.calculateMinMax(i,i.type);break;case"count":i.result=this.countEntries(i);break;case"average":i.result=this.calculateAverage(i);break;case"custom":i.result=i.customFunction.call(this,i)}}},{key:"calculateSum",value:function(i){var o=this,s=0;return ao(i.ranges,function(a){s+=o.getPartialSum(a,i.sourceColumn)}),s}},{key:"getPartialSum",value:function(i,o){var s=0,a=i[1]||i[0],u=null,c=0;do{if(null!==(u=XY(u=this.getCellValue(a,o))?null:u)){var h=("".concat(u).split(".")[1]||[]).length||1;h>c&&(c=h)}s+=u||0,a-=1}while(a>=i[0]);return Math.round(s*Math.pow(10,c))/Math.pow(10,c)}},{key:"calculateMinMax",value:function(i,o){var s=this,a=null;return ao(i.ranges,function(u){var c=s.getPartialMinMax(u,i.sourceColumn,o);if(null===a&&null!==c&&(a=c),null!==c)switch(o){case"min":a=Math.min(a,c);break;case"max":a=Math.max(a,c)}}),null===a?"Not enough data":a}},{key:"getPartialMinMax",value:function(i,o,s){var c,a=null,u=i[1]||i[0];do{if(c=XY(c=this.getCellValue(u,o))?null:c,null===a)a=c;else if(null!==c)switch(s){case"min":a=Math.min(a,c);break;case"max":a=Math.max(a,c)}u-=1}while(u>=i[0]);return a}},{key:"countEmpty",value:function(i,o){var s,a=0,u=i[1]||i[0];do{null===(s=XY(s=this.getCellValue(u,o))?null:s)&&(a+=1),u-=1}while(u>=i[0]);return a}},{key:"countEntries",value:function(i){var o=this,s=0;return ao(i.ranges,function(u){var c=void 0===u[1]?1:u[1]-u[0]+1,h=o.countEmpty(u,i.sourceColumn);s+=c,s-=h}),s}},{key:"calculateAverage",value:function(i){return this.calculateSum(i)/this.countEntries(i)}},{key:"getCellValue",value:function(i,o){var s=this.hot.toVisualRow(i),a=this.hot.toVisualColumn(o),u=this.hot.getSourceDataAtCell(i,o),c="";if(null!==s&&null!==a&&(c=this.hot.getCellMeta(s,a).className||""),c.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&("string"==typeof u&&(u=u.replace(/,/,".")),u=parseFloat(u)),isNaN(u)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(is(Yae||(Yae=function i9e(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["ColumnSummary plugin: cell at (",", ",") is not in a \n          numeric format. Cannot do the calculation."],["ColumnSummary plugin: cell at (",", ",") is not in a\\x20\n          numeric format. Cannot do the calculation."])),i,o));return u}},{key:"onAfterInit",value:function(){this.endpoints.endpoints=this.endpoints.parseSettings(),this.endpoints.refreshAllEndpoints(!0)}},{key:"onAfterChange",value:function(i,o){i&&"ColumnSummary.reset"!==o&&"ColumnSummary.set"!==o&&"loadData"!==o&&this.endpoints.refreshChangedEndpoints(i)}},{key:"onAfterRowMove",value:function(i,o){this.endpoints.resetSetupBeforeStructureAlteration("move_row",i[0],i.length,i,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",o,i.length,i,this.pluginName)}}],[{key:"PLUGIN_KEY",get:function(){return qY}},{key:"PLUGIN_PRIORITY",get:function(){return 220}}]),t}(Jo);function $ae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const y9e=function(){function n(e,t){(function m9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootDocument=e,this.isRtl=t,this.container=null,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}return function g9e(n,e,t){e&&$ae(n.prototype,e),t&&$ae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setPosition",value:function(t,r){this.editorStyle.left="".concat(t,"px"),this.editorStyle.top="".concat(r,"px")}},{key:"setSize",value:function(t,r){if(t&&r){var i=this.getInputElement();i.style.width="".concat(t,"px"),i.style.height="".concat(r,"px")}}},{key:"getSize",value:function(){return{width:fs(this.getInputElement()),height:ra(this.getInputElement())}}},{key:"resetSize",value:function(){var t=this.getInputElement();t.style.width="",t.style.height=""}},{key:"setReadOnlyState",value:function(t){this.getInputElement().readOnly=t}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.hidden||(this.editorStyle.display="none"),this.hidden=!0}},{key:"isVisible",value:function(){return"block"===this.editorStyle.display}},{key:"setValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t||"";this.getInputElement().value=r}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return this.rootDocument.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var t=this.rootDocument.createElement("div"),r=this.rootDocument.createElement("textarea");return t.style.display="none",this.container=this.rootDocument.createElement("div"),this.container.setAttribute("dir",this.isRtl?"rtl":"ltr"),An(this.container,n.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),An(t,n.CLASS_EDITOR),An(r,n.CLASS_INPUT),t.appendChild(r),this.container.appendChild(t),t}},{key:"getInputElement",value:function(){return this.editor.querySelector(".".concat(n.CLASS_INPUT))}},{key:"destroy",value:function(){var t=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,t&&t.removeChild(this.container)}}],[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}]),n}();var no="---------";function BI(n){return Ti(n,"htSeparator")}function VI(n){return Ti(n,"htDisabled")}function zI(n){return Ti(n,"htSelectionDisabled")}function uw(n){var e=n.getSelected();return!e||e[0]<0?null:e}function cw(n,e){var t={};return it(n,function(r){r.forAll(function(i,o){i>=0&&o>=0&&(t[i]||(t[i]=[]),t[i][o]=e(i,o))})}),t}function vy(n,e,t,r,i){it(n,function(o){o.forAll(function(s,a){s>=0&&a>=0&&function x9e(n,e,t,r,i,o){var s=i(n,e),a=r;s.className&&(a="vertical"===t?function M9e(n,e){if(-1!==n.indexOf(e))return n;var t=n.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","");return"".concat(t," ").concat(e)}(s.className,r):function S9e(n,e){if(-1!==n.indexOf(e))return n;var t=n.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","");return"".concat(t," ").concat(e)}(s.className,r)),o(n,e,"className",a)}(s,a,e,t,r,i)})})}function hp(n,e){var t=!1;return Array.isArray(n)&&it(n,function(r){return r.forAll(function(i,o){if(i>=0&&o>=0&&e(i,o))return t=!0,!1}),t}),t}function jm(n){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(n)}function Xae(n,e){for(var t=n.slice(0);0<t.length&&t[0].name===e;)t.shift();return t}function E9e(n,e){var t=n.slice(0);return t.reverse(),(t=Xae(t,e)).reverse(),t}function T9e(n){var e=[];return it(n,function(t,r){r>0?e[e.length-1].name!==t.name&&e.push(t):e.push(t)}),e}function Kae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Zae=function(){function n(e){(function D9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.wasLastActionShow=!0,this.showDebounced=null,this.hidingTimer=null,this.updateDelay(e)}return function A9e(n,e,t){e&&Kae(n.prototype,e),t&&Kae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"hide",value:function(){var t=this;this.wasLastActionShow=!1,this.hidingTimer=setTimeout(function(){!1===t.wasLastActionShow&&t.runLocalHooks("hide")},250)}},{key:"show",value:function(t){this.wasLastActionShow=!0,this.showDebounced(t)}},{key:"cancelHiding",value:function(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}},{key:"updateDelay",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;this.showDebounced=_ee(function(i){t.wasLastActionShow&&t.runLocalHooks("show",i.from.row,i.from.col)},r)}},{key:"destroy",value:function(){this.clearLocalHooks()}}]),n}();ws(Zae,Rc);const L9e=Zae;function JY(n){return(JY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function QY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function dw(){return dw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=N9e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},dw.apply(this,arguments)}function N9e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Wm(n)););return n}function eG(n,e){return(eG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function B9e(n,e){if(e&&("object"===JY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jae(n)}function Jae(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Wm(n){return(Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var tG="comments",UI=new WeakMap,fp="comment",yx="value",jI="readOnly",U9e=function(n){!function F9e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&eG(n,e)}(t,n);var e=function H9e(n){var e=function V9e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Wm(n);if(e){var o=Wm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return B9e(this,i)}}(t);function t(r){var i;return function P9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).editor=null,i.displaySwitch=null,i.eventManager=null,i.range={},i.preventEditorAutoSwitch=!1,UI.set(Jae(i),{tempEditorDimensions:{},cellBelowCursor:null}),i}return function I9e(n,e,t){e&&qae(n.prototype,e),t&&qae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[tG]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.editor||(this.editor=new y9e(this.hot.rootDocument,this.hot.isRtl())),this.eventManager||(this.eventManager=new ia(this)),this.displaySwitch||(this.displaySwitch=new L9e(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",function(o){return i.addToContextMenu(o)}),this.addHook("afterRenderer",function(o,s,a,u,c,h){return i.onAfterRenderer(o,h)}),this.addHook("afterScrollHorizontally",function(){return i.hide()}),this.addHook("afterScrollVertically",function(){return i.hide()}),this.addHook("afterBeginEditing",function(){return i.hide()}),this.displaySwitch.addLocalHook("hide",function(){return i.hide()}),this.displaySwitch.addLocalHook("show",function(o,s){return i.showAtCell(o,s)}),this.registerListeners(),dw(Wm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),dw(Wm(t.prototype),"updatePlugin",this).call(this),this.displaySwitch.updateDelay(this.getDisplayDelaySetting())}},{key:"disablePlugin",value:function(){dw(Wm(t.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var i=this,o=this.hot.rootDocument;this.eventManager.addEventListener(o,"mouseover",function(s){return i.onMouseOver(s)}),this.eventManager.addEventListener(o,"mousedown",function(s){return i.onMouseDown(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(){return i.onEditorBlur()}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(s){return i.onEditorMouseDown(s)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(s){return i.onEditorMouseUp(s)})}},{key:"setRange",value:function(i){this.range=i}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(i){var o=Ob(i.target,"TD","TBODY");return!!(o&&Ti(o,"htCommentCell")&&Ob(o,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(i){return this.editor.getInputElement()===i.target}},{key:"setComment",value:function(i){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var o=this.editor.getValue(),s="";null!=i?s=i:null!=o&&(s=o),this.updateCommentMeta(this.range.from.row,this.range.from.col,QY({},yx,s)),this.hot.render()}},{key:"setCommentAtCell",value:function(i,o,s){this.setRange({from:this.hot._createCellCoords(i,o)}),this.setComment(s)}},{key:"removeComment",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,fp),i&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(i,o){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setRange({from:this.hot._createCellCoords(i,o)}),this.removeComment(s)}},{key:"getComment",value:function(){return this.getCommentMeta(this.range.from.row,this.range.from.col,yx)}},{key:"getCommentAtCell",value:function(i,o){return this.getCommentMeta(i,o,yx)}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var i=this.range.from,o=i.row,s=i.col;if(o<0||o>this.hot.countSourceRows()-1||s<0||s>this.hot.countSourceCols()-1)return!1;var a=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.editor.setValue(a[fp]?a[fp][yx]:""),this.editor.show(),this.refreshEditor(!0),!0}},{key:"showAtCell",value:function(i,o){return this.setRange({from:this.hot._createCellCoords(i,o)}),this.show()}},{key:"hide",value:function(){this.editor.hide()}},{key:"refreshEditor",value:function(){var i,o,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s||this.range.from&&this.editor.isVisible()){var a=this.hot,u=a.rowIndexMapper,c=a.columnIndexMapper,h=this.range.from,p=h.row,g=h.col,y=u.getRenderableFromVisualIndex(p),w=c.getRenderableFromVisualIndex(g),S=null===y;null===y&&(y=u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(p,-1))),null===w&&(w=c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(g,-1)));var C=null===y,P=null===w;y=null!==(i=y)&&void 0!==i?i:0,w=null!==(o=w)&&void 0!==o?o:0;var B=this.hot,z=B.rootWindow,j=B.view._wt,G=j.wtTable,re=G.getCell({row:y,col:w}),pe=this.getCommentMeta(p,g,"style");pe?this.editor.setSize(pe.width,pe.height):this.editor.resetSize();var ne=P?0:G.getStretchedColumnWidth(w),he=S&&!C?ra(re):0,we=re.getBoundingClientRect(),Pe=we.left,ot=we.top,at=we.width,je=we.height,_t=this.editor.getSize(),ye=_t.width,Ae=_t.height,Ge=this.hot.rootWindow,Je=Ge.innerWidth,bt=Ge.innerHeight,Z=this.hot.rootDocument.documentElement,$=Pe+z.scrollX+ne,de=ot+z.scrollY+he;this.hot.isRtl()&&($-=ye+ne),this.hot.isLtr()&&Pe+at+ye>Je?$=Pe+z.scrollX-ye-1:this.hot.isRtl()&&$<-(Z.scrollWidth-Z.clientWidth)&&($=Pe+z.scrollX+ne+1),ot+Ae>bt&&(de-=Ae-je+1),this.editor.setPosition($,de),this.editor.setReadOnlyState(this.getCommentMeta(p,g,jI))}}},{key:"checkSelectionCommentsConsistency",value:function(){var i=this.hot.getSelectedRangeLast();if(!i)return!1;var o=!1,s=i.getTopStartCorner();return this.getCommentMeta(s.row,s.col,yx)&&(o=!0),o}},{key:"updateCommentMeta",value:function(i,o,s){var u,a=this.hot.getCellMeta(i,o)[fp];a?kL(u=Yu(a),s):u=s,this.hot.setCellMeta(i,o,fp,u)}},{key:"getCommentMeta",value:function(i,o,s){var a=this.hot.getCellMeta(i,o);if(a[fp])return a[fp][s]}},{key:"onMouseDown",value:function(i){if(this.hot.view&&this.hot.view._wt&&!this.preventEditorAutoSwitch&&!this.targetIsCommentTextArea(i)){var o=Ob(i.target,"TD","TBODY"),s=null;o&&(s=this.hot.getCoords(o)),(!o||this.range.from&&s&&(this.range.from.row!==s.row||this.range.from.col!==s.col))&&this.hide()}}},{key:"onMouseOver",value:function(i){var o=UI.get(this),s=this.hot.rootDocument;if(!(this.preventEditorAutoSwitch||this.editor.isFocused()||Ti(i.target,"wtBorder")||o.cellBelowCursor===i.target)&&this.editor)if(o.cellBelowCursor=s.elementFromPoint(i.clientX,i.clientY),this.targetIsCellWithComment(i)){var a=this.hot._createCellRange(this.hot.getCoords(i.target));this.displaySwitch.show(a)}else kb(i.target,s)&&!this.targetIsCommentTextArea(i)&&this.displaySwitch.hide()}},{key:"onMouseUp",value:function(){this.preventEditorAutoSwitch=!1}},{key:"onAfterRenderer",value:function(i,o){o[fp]&&o[fp][yx]&&An(i,o.commentedCellClassName)}},{key:"onEditorBlur",value:function(){this.setComment()}},{key:"onEditorMouseDown",value:function(i){UI.get(this).tempEditorDimensions={width:fs(i.target),height:ra(i.target)}}},{key:"onEditorMouseUp",value:function(i){var o=UI.get(this),s=fs(i.target),a=ra(i.target);(s!==o.tempEditorDimensions.width+1||a!==o.tempEditorDimensions.height+2)&&this.updateCommentMeta(this.range.from.row,this.range.from.col,QY({},"style",{width:s,height:a}))}},{key:"onContextMenuAddComment",value:function(){var i=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,this.displaySwitch.cancelHiding(),this.setRange({from:i.highlight}),this.show(),this.hot.deselectCell(),this.editor.focus()}},{key:"onContextMenuRemoveComment",value:function(){var i=this,o=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,o.forAll(function(s,a){s>=0&&a>=0&&i.removeCommentAtCell(s,a,!1)}),this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(){var i=this,o=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,o.forAll(function(s,a){if(s>=0&&a>=0){var u=!!i.getCommentMeta(s,a,jI);i.updateCommentMeta(s,a,QY({},jI,!u))}})}},{key:"addToContextMenu",value:function(i){var o=this,s=function(){return o.hot.rowIndexMapper.getRenderableIndexesLength()>0&&o.hot.columnIndexMapper.getRenderableIndexesLength()>0};i.items.push({name:"---------"},{key:"commentsAddEdit",name:function(){return o.checkSelectionCommentsConsistency()?o.hot.getTranslatedPhrase(pj):o.hot.getTranslatedPhrase(fj)},callback:function(){return o.onContextMenuAddComment()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner())}},{key:"commentsRemove",name:function(){return this.getTranslatedPhrase(mj)},callback:function(){return o.onContextMenuRemoveComment()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner())}},{key:"commentsReadOnly",name:function(){var u=this,c=this.getTranslatedPhrase(gj);return hp(this.getSelectedRangeLast(),function(p,g){var y=u.getCellMeta(p,g)[fp];if(y&&(y=y[jI]),y)return!0})&&(c=jm(c)),c},callback:function(){return o.onContextMenuMakeReadOnly()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner()&&o.checkSelectionCommentsConsistency())}})}},{key:"getDisplayDelaySetting",value:function(){var i=this.hot.getSettings()[tG];if($i(i))return i.displayDelay}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),this.displaySwitch&&this.displaySwitch.destroy(),dw(Wm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return tG}},{key:"PLUGIN_PRIORITY",get:function(){return 60}}]),t}(Jo);function ele(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function G9e(n,e){var t;return it(e,function(r){var i=r.key?r.key.split(":"):null;if(Array.isArray(i)&&i[1]===n)return t=r,!1}),t}const tle=function(){function n(e){(function j9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.commands={},this.commonCallback=null}return function W9e(n,e,t){e&&ele(n.prototype,e),t&&ele(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerCommand",value:function(t,r){this.commands[t]=r}},{key:"setCommonCallback",value:function(t){this.commonCallback=t}},{key:"execute",value:function(t){for(var r=this,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a=t.split(":"),u=a[0],c=2===a.length?a[1]:null,h=this.commands[u];if(!h)throw new Error("Menu command '".concat(u,"' not exists."));if(c&&h.submenu&&(h=G9e(c,h.submenu.items)),!0!==h.disabled&&("function"!=typeof h.disabled||!0!==h.disabled.call(this.hot))&&!Hs(h,"submenu")){var p=[];"function"==typeof h.callback&&p.push(h.callback),"function"==typeof this.commonCallback&&p.push(this.commonCallback),o.unshift(a.join(":")),it(p,function(g){return g.apply(r.hot,o)})}}}]),n}();var ah="alignment",WI="clear_column",Y1="col_left",G1="col_right",$1="make_read_only",YI="redo";function nle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var X1="remove_col";function rle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Xu,GI="remove_row",$I="row_above",XI="row_below",K1="no_items",KI="undo";function vd(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var ile=[$I,XI,Y1,G1,WI,GI,X1,KI,YI,$1,ah,no,K1],ole=(vd(Xu={},no,function _9e(){return{name:no}}),vd(Xu,K1,function f7e(){return{key:K1,name:function(){return this.getTranslatedPhrase(ZU)},disabled:!0,isCommand:!1}}),vd(Xu,$I,function d7e(){return{key:$I,name:function(){return this.getTranslatedPhrase(qU)},callback:function(){var e=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",e.row,1,"ContextMenu.rowAbove")},disabled:function(){return!uw(this)||(this.selection.isSelectedByCorner()?0===this.countRows():this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}}),vd(Xu,XI,function h7e(){return{key:XI,name:function(){return this.getTranslatedPhrase(JU)},callback:function(){var e=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",e.row,1,"ContextMenu.rowBelow")},disabled:function(){return!uw(this)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}}),vd(Xu,Y1,function K9e(){return{key:Y1,name:function(){return this.getTranslatedPhrase(QU)},callback:function(){var e=this.getSelectedRangeLast().getTopLeftCorner(),t=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(t,e.col,1,"ContextMenu.columnLeft")},disabled:function(){return!this.isColumnModificationAllowed()||!uw(this)||(this.selection.isSelectedByCorner()?0===this.countCols():this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols)},hidden:function(){return!this.getSettings().allowInsertColumn}}}),vd(Xu,G1,function Z9e(){return{key:G1,name:function(){return this.getTranslatedPhrase(ej)},callback:function(){var e=this.getSelectedRangeLast().getTopRightCorner(),t=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(t,e.col,1,"ContextMenu.columnRight")},disabled:function(){return!this.isColumnModificationAllowed()||!uw(this)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols)},hidden:function(){return!this.getSettings().allowInsertColumn}}}),vd(Xu,WI,function X9e(){return{key:WI,name:function(){return this.getTranslatedPhrase(sj)},callback:function(e,t){var r=t[0].start.col,i=t[0].end.col;this.countRows()&&this.populateFromArray(0,r,[[null]],Math.max(t[0].start.row,t[0].end.row),i,"ContextMenu.clearColumn")},disabled:function(){return!uw(this)||!this.selection.isSelectedByColumnHeader()}}}),vd(Xu,GI,function c7e(){return{key:GI,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var r=function o7e(n,e){return function u7e(n){if(Array.isArray(n))return n}(n)||function l7e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function a7e(n,e){if(n){if("string"==typeof n)return rle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rle(n,e)}}(n,e)||function s7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e[0],3);r[0]-r[2]!=0&&(t=1)}return this.getTranslatedPhrase(tj,t)},callback:function(){this.alter("remove_row",function LBe(n){var e=ex(n);if(0===e||1===e)return[];var t=A1(e),r=new Set;return it(n,function(s){var u=Tre(t(s),3),h=u[2],p=Math.max(u[0],0);it(Array.from(new Array(h-p+1),function(y,w){return p+w}),function(y){r.has(y)||r.add(y)})}),Ya(Array.from(r).sort(function(s,a){return s-a}),function(s,a,u,c){return 0!==u&&a===c[u-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s},[])}(this.getSelected()),1,"ContextMenu.removeRow")},disabled:function(){if(!uw(this))return!0;var t=this.countRows();return this.selection.isSelectedByCorner()?0===t:this.selection.isSelectedByColumnHeader()||0===t},hidden:function(){return!this.getSettings().allowRemoveRow}}}),vd(Xu,X1,function i7e(){return{key:X1,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var r=function Q9e(n,e){return function r7e(n){if(Array.isArray(n))return n}(n)||function n7e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function t7e(n,e){if(n){if("string"==typeof n)return nle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nle(n,e)}}(n,e)||function e7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e[0],4);r[1]-r[3]!=0&&(t=1)}return this.getTranslatedPhrase(nj,t)},callback:function(){this.alter("remove_col",function kBe(n){var e=ex(n);if(0===e||1===e)return[];var t=A1(e),r=new Set;return it(n,function(s){var u=Tre(t(s),4),h=u[3],p=Math.max(u[1],0);it(Array.from(new Array(h-p+1),function(y,w){return p+w}),function(y){r.has(y)||r.add(y)})}),Ya(Array.from(r).sort(function(s,a){return s-a}),function(s,a,u,c){return 0!==u&&a===c[u-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s},[])}(this.getSelected()),null,"ContextMenu.removeColumn")},disabled:function(){if(!this.isColumnModificationAllowed())return!0;if(!uw(this))return!0;var t=this.countCols();return this.selection.isSelectedByCorner()?0===t:this.selection.isSelectedByRowHeader()||0===t},hidden:function(){return!this.getSettings().allowRemoveColumn}}}),vd(Xu,KI,function p7e(){return{key:KI,name:function(){return this.getTranslatedPhrase(rj)},callback:function(){this.undo()},hidden:function(){var e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}),vd(Xu,YI,function J9e(){return{key:YI,name:function(){return this.getTranslatedPhrase(ij)},callback:function(){this.redo()},hidden:function(){var e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}),vd(Xu,$1,function q9e(){return{key:$1,name:function(){var e=this,t=this.getTranslatedPhrase(oj);return hp(this.getSelectedRange(),function(i,o){return e.getCellMeta(i,o).readOnly})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=hp(t,function(i,o){return e.getCellMeta(i,o).readOnly});it(t,function(i){i.forAll(function(o,s){o>=0&&s>=0&&e.setCellMeta(o,s,"readOnly",!r)})}),this.render()},disabled:function(){return!(!this.selection.isSelectedByCorner()&&0!==this.countRows()&&0!==this.countCols()&&this.getSelectedRange()&&0!==this.getSelectedRange().length)}}}),vd(Xu,ah,function $9e(){return{key:ah,name:function(){return this.getTranslatedPhrase(vj)},disabled:function(){return 0===this.countRows()||0===this.countCols()||!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:"".concat(ah,":left"),name:function(){var e=this,t=this.getTranslatedPhrase(yj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htLeft"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=cw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htLeft";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(ah,":center"),name:function(){var e=this,t=this.getTranslatedPhrase(_j);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htCenter"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=cw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htCenter";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(ah,":right"),name:function(){var e=this,t=this.getTranslatedPhrase(bj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htRight"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=cw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htRight";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(ah,":justify"),name:function(){var e=this,t=this.getTranslatedPhrase(wj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htJustify"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=cw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htJustify";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{name:no},{key:"".concat(ah,":top"),name:function(){var e=this,t=this.getTranslatedPhrase(Mj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htTop"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=cw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htTop";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(ah,":middle"),name:function(){var e=this,t=this.getTranslatedPhrase(Sj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htMiddle"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=cw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htMiddle";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(ah,":bottom"),name:function(){var e=this,t=this.getTranslatedPhrase(xj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htBottom"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=cw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htBottom";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1}]}}}),Xu);function sle(){var n={};return ao(ole,function(e,t){n[t]=e()}),n}function m7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ale(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function y7e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=n;return i&&i.items?i=i.items:Array.isArray(i)||(i=e),$i(i)?ao(i,function(o,s){var a=t["string"==typeof o?o:s];a||(a=o),$i(o)?na(a,o):"string"==typeof a&&(a={name:a}),void 0===a.key&&(a.key=s),r.push(a)}):it(i,function(o,s){var a=t[o];!a&&ile.indexOf(o)>=0||(a||(a={name:o,key:"".concat(s)}),$i(o)&&na(a,o),void 0===a.key&&(a.key=s),r.push(a))}),r}const lle=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;m7e(this,n),this.hot=e,this.predefinedItems=sle(),this.defaultOrderPattern=t}return function g7e(n,e,t){e&&ale(n.prototype,e),t&&ale(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setPredefinedItems",value:function(t){var r=this,i={};this.defaultOrderPattern.length=0,ao(t,function(o,s){var a="";o.name===no?(i[no]=o,a=no):isNaN(parseInt(s,10))?(o.key=void 0===o.key?s:o.key,i[s]=o,a=o.key):(i[o.key]=o,a=o.key),r.defaultOrderPattern.push(a)}),this.predefinedItems=i}},{key:"getItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return y7e(t,this.defaultOrderPattern,this.predefinedItems)}}]),n}();function ule(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const M7e=function(){function n(e,t){!function _7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var o,s,a,u,c,h,r=o1(t),i=jS(t);this.rootWindow=t,this.type=this.getSourceType(e),"literal"===this.type?(o=parseInt(e.top,10),a=parseInt(e.left,10),c=e.height||0,h=e.width||0,s=o,u=a,o+=r,a+=i):"event"===this.type&&(o=parseInt(e.pageY,10),a=parseInt(e.pageX,10),c=e.target.clientHeight,h=e.target.clientWidth,s=o-r,u=a-i),this.top=o,this.topRelative=s,this.left=a,this.leftRelative=u,this.scrollTop=r,this.scrollLeft=i,this.cellHeight=c,this.cellWidth=h}return function b7e(n,e,t){e&&ule(n.prototype,e),t&&ule(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSourceType",value:function(t){var r="literal";return t instanceof Event&&(r="event"),r}},{key:"fitsAbove",value:function(t){return this.topRelative>=t.offsetHeight}},{key:"fitsBelow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+t.offsetHeight<=r}},{key:"fitsOnRight",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=r}},{key:"fitsOnLeft",value:function(t){return this.leftRelative>=t.offsetWidth}}]),n}();function cle(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dle(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?cle(Object(t),!0).forEach(function(r){S7e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cle(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function S7e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var mle=function(){function n(e,t){(function x7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.options=t||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:215,container:this.hot.rootDocument.documentElement},this.eventManager=new ia(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}return function C7e(n,e,t){e&&hle(n.prototype,e),t&&hle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerEvents",value:function(){for(var t=this,r=this.hot.rootWindow;r;)this.eventManager.addEventListener(r.document,"mousedown",function(i){return t.onDocumentMouseDown(i)}),this.eventManager.addEventListener(r.document,"contextmenu",function(i){return t.onDocumentContextMenu(i)}),r=LL(r)}},{key:"setMenuItems",value:function(t){this.menuItems=t}},{key:"getSelectedItem",value:function(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}},{key:"hasSelectedItem",value:function(){return Array.isArray(this.hotMenu.getSelectedLast())}},{key:"setOffset",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.offset[t]=r}},{key:"isSubMenu",value:function(){return null!==this.parentMenu}},{key:"open",value:function(){var t=this;this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";var r=_ee(function(y){return t.openSubMenu(y)},300),i=this.options.minWidth||215,o=!1,s=Qd(this.menuItems,function(y){return y.key===K1&&(o=!0),function C9e(n,e){return!n.hidden||!("function"==typeof n.hidden&&n.hidden.call(e))}(y,t.hot)});if(s.length<1&&!o)s.push(sle()[K1]);else if(0===s.length)return;s=function R9e(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:no,t=n.slice(0);return T9e(t=E9e(t=Xae(t,e),e))}(s,no);var a=!1,u={data:s,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth:function(w){return wr(w)&&w<i?i:w},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,maxCols:1,columns:[{data:"name",renderer:function(w,S,C,P,B,z){return t.menuItemRenderer(w,S,C,P,B,z)}}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",afterOnCellMouseOver:function(w,S){t.isAllSubMenusClosed()?r(S.row):t.openSubMenu(S.row)},rowHeights:function(w){return s[w].name===no?1:23},afterOnCellContextMenu:function(w){w.preventDefault(),ZQ()&&a&&t.hasSelectedItem()&&t.close(!0)},beforeOnCellMouseUp:function(w){t.hasSelectedItem()&&(a=!t.isCommandPassive(t.getSelectedItem()),t.executeCommand(w))},afterOnCellMouseUp:function(w){(!ZQ()||!Nb(w))&&a&&t.hasSelectedItem()&&(tp()||KQ()?setTimeout(function(){return t.close(!0)},325):t.close(!0))},afterUnlisten:function(){!t.hasSelectedItem()&&t.isOpened()&&t.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new N4(this.container,u),this.hotMenu.addHook("afterInit",function(){return t.onAfterInit()}),this.hotMenu.addHook("afterSelection",function(){return t.onAfterSelection.apply(t,arguments)}),this.hotMenu.init(),this.hotMenu.listen();var c=this.hotMenu.getShortcutManager(),h=c.addContext("menu"),g=dle(dle({},{group:"menu"}),{},{runOnlyIf:function(w){return!1===zL(w.target)||!1===t.container.contains(w.target)}});c.setActiveContextName("menu"),h.addShortcuts([{keys:[["Escape"]],callback:function(){t.keyEvent=!0,t.close(),t.keyEvent=!1}},{keys:[["ArrowDown"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.selectNextCell(w[0],w[1]):t.selectFirstCell(),t.keyEvent=!1}},{keys:[["ArrowUp"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.selectPrevCell(w[0],w[1]):t.selectLastCell(),t.keyEvent=!1}},{keys:[["ArrowRight"]],callback:function(){var w=t.hotMenu.getSelectedLast();if(t.keyEvent=!0,w){var S=t.openSubMenu(w[0]);S&&S.selectFirstCell()}t.keyEvent=!1}},{keys:[["ArrowLeft"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w&&t.isSubMenu()&&(t.close(),t.parentMenu&&t.parentMenu.hotMenu.listen()),t.keyEvent=!1}},{keys:[["Enter"]],callback:function(w){var S=t.hotMenu.getSelectedLast();t.keyEvent=!0,t.hotMenu.getSourceDataAtRow(S[0]).submenu||(t.executeCommand(w),t.close(!0)),t.keyEvent=!1}},{keys:[["PageUp"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.hotMenu.selection.transformStart(-t.hotMenu.countVisibleRows(),0):t.selectFirstCell(),t.keyEvent=!1}},{keys:[["PageDown"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.hotMenu.selection.transformStart(t.hotMenu.countVisibleRows(),0):t.selectLastCell(),t.keyEvent=!1}}],g),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!this.isOpened()||(t&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))}},{key:"openSubMenu",value:function(t){if(!this.hotMenu)return!1;var r=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!r||!function w9e(n){return Ti(n,"htSubmenu")}(r))return!1;var i=this.hotMenu.getSourceDataAtRow(t),o=new n(this.hot,{parent:this,name:i.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return o.setMenuItems(i.submenu.items),o.open(),o.setPosition(r.getBoundingClientRect()),this.hotSubMenus[i.key]=o,o}},{key:"closeSubMenu",value:function(t){var r=this.hotMenu.getSourceDataAtRow(t),i=this.hotSubMenus[r.key];i&&(i.destroy(),delete this.hotSubMenus[r.key])}},{key:"closeAllSubMenus",value:function(){var t=this;it(this.hotMenu.getData(),function(r,i){return t.closeSubMenu(i)})}},{key:"isAllSubMenusClosed",value:function(){return 0===Object.keys(this.hotSubMenus).length}},{key:"destroy",value:function(){var t=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),t&&t.removeChild(this.container)}},{key:"isOpened",value:function(){return null!==this.hotMenu}},{key:"executeCommand",value:function(t){if(this.isOpened()&&this.hasSelectedItem()){var r=this.getSelectedItem();if(this.runLocalHooks("select",r,t),!this.isCommandPassive(r)){var i=this.hot.getSelectedRange(),o=i?function b9e(n){return to(n,function(e){return{start:e.getTopStartCorner(),end:e.getBottomEndCorner()}})}(i):[];this.runLocalHooks("executeCommand",r.key,o,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",r.key,o,t)}}}},{key:"isCommandPassive",value:function(t){var r=t.isCommand,i=t.name,o=t.disabled,s=t.submenu,a=!0===o||"function"==typeof o&&!0===o.call(this.hot);return!1===r||i===no||!0===a||s}},{key:"setPosition",value:function(t){var r=new M7e(t,this.container.ownerDocument.defaultView);this.options.keepInViewport?(r.fitsBelow(this.container)?this.setPositionBelowCursor(r):r.fitsAbove(this.container)?this.setPositionAboveCursor(r):this.setPositionBelowCursor(r),this.hot.isLtr()?this.setHorizontalPositionForLtr(r):this.setHorizontalPositionForRtl(r)):(this.setPositionBelowCursor(r),this.setPositionOnRightOfCursor(r))}},{key:"setHorizontalPositionForRtl",value:function(t){t.fitsOnLeft(this.container)?this.setPositionOnLeftOfCursor(t):this.setPositionOnRightOfCursor(t)}},{key:"setHorizontalPositionForLtr",value:function(t){t.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(t):this.setPositionOnLeftOfCursor(t)}},{key:"setPositionAboveCursor",value:function(t){var r=this.offset.above+t.top-this.container.offsetHeight;this.isSubMenu()&&(r=t.top+t.cellHeight-this.container.offsetHeight+3),this.container.style.top="".concat(r,"px")}},{key:"setPositionBelowCursor",value:function(t){var r=this.offset.below+t.top+1;this.isSubMenu()&&(r=t.top-1),this.container.style.top="".concat(r,"px")}},{key:"setPositionOnRightOfCursor",value:function(t){var r=t.left;if(this.isSubMenu()){var i=this.parentMenu.container.getBoundingClientRect();r+=t.cellWidth+i.right-(t.left+t.cellWidth)}else r+=this.offset.right;this.container.style.left="".concat(r,"px")}},{key:"setPositionOnLeftOfCursor",value:function(t){var r=this.offset.left+t.left-this.container.offsetWidth;if(this.isSubMenu()){var i=this.parentMenu.container.getBoundingClientRect();r-=t.left-i.left}this.container.style.left="".concat(r,"px")}},{key:"selectFirstCell",value:function(){var t=this.hotMenu.getCell(0,0);BI(t)||VI(t)||zI(t)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var t=this.hotMenu.countRows()-1,r=this.hotMenu.getCell(t,0);BI(r)||VI(r)||zI(r)?this.selectPrevCell(t,0):(this.hotMenu.selectCell(t,0,void 0,void 0,!1),this.hotMenu.scrollViewportTo(t,0,!0,!1))}},{key:"selectNextCell",value:function(t,r){var i=t+1,o=i<this.hotMenu.countRows()?this.hotMenu.getCell(i,r):null;!o||(BI(o)||VI(o)||zI(o)?this.selectNextCell(i,r):this.hotMenu.selectCell(i,r))}},{key:"selectPrevCell",value:function(t,r){var i=t-1,o=i>=0?this.hotMenu.getCell(i,r):null;!o||(BI(o)||VI(o)||zI(o)?this.selectPrevCell(i,r):this.hotMenu.selectCell(i,r))}},{key:"menuItemRenderer",value:function(t,r,i,o,s,a){var P,u=this,c=t.getSourceDataAtRow(i),h=this.hot.rootDocument.createElement("div"),w=function(P){return P.disableSelection},S=a;"function"==typeof S&&(S=S.call(this.hot)),np(r),An(h,"htItemWrapper"),r.appendChild(h),P=c,new RegExp(no,"i").test(P.name)?An(r,"htSeparator"):"function"==typeof c.renderer?(An(r,"htCustomMenuRenderer"),r.appendChild(c.renderer(t,h,i,o,s,S))):US(h,S),function(P){return!0===P.disabled||"function"==typeof P.disabled&&!0===P.disabled.call(u.hot)}(c)?(An(r,"htDisabled"),this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()})):w(c)?(An(r,"htSelectionDisabled"),this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()})):function(P){return Hs(P,"submenu")}(c)?(An(r,"htSubmenu"),w(c)?this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(r,"mouseenter",function(){return t.selectCell(i,o,void 0,void 0,!1,!1)})):(Hi(r,["htSubmenu","htDisabled"]),w(c)?this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(r,"mouseenter",function(){return t.selectCell(i,o,void 0,void 0,!1,!1)}))}},{key:"createContainer",value:function(){var o,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this.options.container.ownerDocument,i=t;return i&&(Ts(i)&&(i=null===(i=i.call(this.hot))||Bs(i)?"":i.toString()),i=i.replace(/[^A-z0-9]/g,"_"),i="".concat(this.options.className,"Sub_").concat(i),o=r.querySelector(".".concat(this.options.className,".").concat(i))),o||(An(o=r.createElement("div"),"htMenu ".concat(this.options.className)),i&&An(o,i),this.options.container.appendChild(o)),o}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onAfterInit",value:function(){var t=this.hotMenu.view._wt.wtTable,r=this.hotMenu.getSettings().data,i=t.hider.style,o=t.holder.style,s=parseInt(i.width,10),a=Ya(r,function(u,c){return u+(c.name===no?1:26)},0);o.width="".concat(s+3,"px"),o.height="".concat(a+3,"px"),i.height=o.height}},{key:"onAfterSelection",value:function(t,r,i,o,s){!1===this.keyEvent&&(s.value=!0)}},{key:"onDocumentMouseDown",value:function(t){!this.isOpened()||(this.options.standalone&&this.hotMenu&&!kb(t.target,this.hotMenu.rootElement)||(this.isAllSubMenusClosed()||this.isSubMenu())&&!kb(t.target,".htMenu"))&&this.close(!0)}},{key:"onDocumentContextMenu",value:function(t){!this.isOpened()||Ti(t.target,"htCore")&&kb(t.target,this.hotMenu.rootElement)&&t.preventDefault()}}]),n}();ws(mle,Rc);const nG=mle;function rG(n){return(rG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function gle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hw(){return hw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=D7e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},hw.apply(this,arguments)}function D7e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Ym(n)););return n}function iG(n,e){return(iG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function k7e(n,e){if(e&&("object"===rG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vle(n)}function vle(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ym(n){return(Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var ZI="contextMenu";xr.getSingleton().register("afterContextMenuDefaultOptions"),xr.getSingleton().register("beforeContextMenuShow"),xr.getSingleton().register("afterContextMenuShow"),xr.getSingleton().register("afterContextMenuHide"),xr.getSingleton().register("afterContextMenuExecute");var yle=function(n){!function A7e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&iG(n,e)}(t,n);var e=function O7e(n){var e=function L7e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Ym(n);if(e){var o=Ym(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return k7e(this,i)}}(t);function t(r){var i;return function T7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ia(vle(i)),i.commandExecutor=new tle(i.hot),i.itemsFactory=null,i.menu=null,i}return function R7e(n,e,t){e&&gle(n.prototype,e),t&&gle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[ZI]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[ZI];"function"==typeof o.callback&&this.commandExecutor.setCommonCallback(o.callback),this.menu=new nG(this.hot,{className:"htContextMenu",keepInViewport:!0,container:o.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",function(){return i.onMenuBeforeOpen()}),this.menu.addLocalHook("afterOpen",function(){return i.onMenuAfterOpen()}),this.menu.addLocalHook("afterClose",function(){return i.onMenuAfterClose()}),this.menu.addLocalHook("executeCommand",function(){for(var s,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return(s=i.executeCommand).call.apply(s,[i].concat(u))}),this.addHook("afterOnCellContextMenu",function(s){return i.onAfterOnCellContextMenu(s)}),hw(Ym(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),hw(Ym(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),hw(Ym(t.prototype),"disablePlugin",this).call(this)}},{key:"open",value:function(i){if(this.menu&&(this.prepareMenuItems(),this.menu.open(),this.menu.isOpened())){var o=0,s=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var u=this.hot.rootWindow.frameElement.getBoundingClientRect(),h=u.left;o=u.top-o1(i.view),s=h-jS(i.view)}else o=-1*o1(this.menu.hotMenu.rootWindow),s=-1*jS(this.menu.hotMenu.rootWindow);this.menu.setPosition({top:parseInt(i.pageY,10)+o,left:parseInt(i.pageX,10)+s})}}},{key:"close",value:function(){!this.menu||(this.menu.close(),this.itemsFactory=null)}},{key:"executeCommand",value:function(i){var o;null===this.itemsFactory&&this.prepareMenuItems();for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=this.commandExecutor).execute.apply(o,[i].concat(a))}},{key:"prepareMenuItems",value:function(){var i=this;this.itemsFactory=new lle(this.hot,t.DEFAULT_ITEMS);var o=this.hot.getSettings()[ZI],s={items:this.itemsFactory.getItems(o)};this.hot.runHooks("afterContextMenuDefaultOptions",s),this.itemsFactory.setPredefinedItems(s.items);var a=this.itemsFactory.getItems(o);this.hot.runHooks("beforeContextMenuSetItems",a),this.menu.setMenuItems(a),it(a,function(u){return i.commandExecutor.registerCommand(u.key,u)})}},{key:"onAfterOnCellContextMenu",value:function(i){var o=this.hot.getSettings(),s=o.rowHeaders,a=o.colHeaders,c=i.target;this.close(),!Ti(c,"handsontableInput")&&(i.preventDefault(),i.stopPropagation(),(s||a||function u(h){return"TD"===h.nodeName||"TD"===h.parentNode.nodeName}(c)||Ti(c,"current")&&Ti(c,"wtBorder"))&&this.open(i))}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeContextMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),hw(Ym(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return ZI}},{key:"PLUGIN_PRIORITY",get:function(){return 70}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[$I,XI,no,Y1,G1,no,GI,X1,no,KI,YI,no,$1,no,ah]}}]),t}(Jo);function _le(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}yle.SEPARATOR={name:no};var B7e=function(){function n(){(function F7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.data={}}return function H7e(n,e,t){e&&_le(n.prototype,e),t&&_le(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setData",value:function(t,r){this.data[t]=r}},{key:"getData",value:function(t){return this.data[t]||void 0}}]),n}();function ble(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function V7e(n,e,t){return e&&ble(n.prototype,e),t&&ble(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var U7e=V7e(function n(){(function z7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.clipboardData=new B7e});function wle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var oG=function(){function n(e){(function j7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootDocument=e.defaultView?e:e.ownerDocument,this.mainElement=null,this.eventManager=new ia(this),this.listenersCount=new WeakSet,this.container=e}return function W7e(n,e,t){e&&wle(n.prototype,e),t&&wle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"useSecondaryElement",value:function(){var t=function $7e(n){var e=JI.get(n);if(e)return e.parentElement||n.appendChild(e),e;var r=(n.defaultView?n:n.ownerDocument).createElement("textarea");return JI.set(n,r),r.setAttribute("data-hot-input",""),r.className="HandsontableCopyPaste",r.tabIndex=-1,r.autocomplete="off",r.wrap="hard",r.value=" ",n.appendChild(r),r}(this.container);this.listenersCount.has(t)||(this.listenersCount.add(t),Mle(this.eventManager,t,this)),this.mainElement=t}},{key:"setFocusableElement",value:function(t){this.listenersCount.has(t)||(this.listenersCount.add(t),Mle(this.eventManager,t,this)),this.mainElement=t}},{key:"getFocusableElement",value:function(){return this.mainElement}},{key:"focus",value:function(){this.mainElement.value=" ",tp()||function TOe(n){aee(n.ownerDocument.activeElement)||n.select()}(this.mainElement)}}]),n}();ws(oG,Rc);var qI=new WeakMap,sG=function(e,t){return function(r){return t.runLocalHooks(e,r)}};function Mle(n,e,t){n.addEventListener(e,"copy",sG("copy",t)),n.addEventListener(e,"cut",sG("cut",t)),n.addEventListener(e,"paste",sG("paste",t))}var JI=new WeakMap;function Sle(n){if(n instanceof oG){var e=qI.get(n.container);if((e=isNaN(e)?0:e)>0&&(e-=1),function G7e(n){n.eventManager.clear()}(n),e<=0){e=0;var t=JI.get(n.container);t&&t.parentNode&&(t.parentNode.removeChild(t),JI.delete(n.container)),n.mainElement=null}qI.set(n.container,e)}}function xle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function QI(n){return(QI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Cle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function fw(){return fw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=t$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},fw.apply(this,arguments)}function t$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Gm(n)););return n}function aG(n,e){return(aG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function i$e(n,e){if(e&&("object"===QI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ele(n)}function Ele(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Gm(n){return(Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("afterCopyLimit"),xr.getSingleton().register("modifyCopyableRange"),xr.getSingleton().register("beforeCut"),xr.getSingleton().register("afterCut"),xr.getSingleton().register("beforePaste"),xr.getSingleton().register("afterPaste"),xr.getSingleton().register("beforeCopy"),xr.getSingleton().register("afterCopy");var eN="copyPaste",a$e=["fragmentSelection"],pw=new WeakMap,Tle=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join(""),c$e=function(n){!function n$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&aG(n,e)}(t,n);var e=function r$e(n){var e=function o$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Gm(n);if(e){var o=Gm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return i$e(this,i)}}(t);function t(r){var i;return function Q7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).columnsLimit=1/0,i.copyableRanges=[],i.focusableElement=void 0,i.pasteMode="overwrite",i.rowsLimit=1/0,i.uiContainer=i.hot.rootDocument.body,pw.set(Ele(i),{isTriggeredByCopy:!1,isTriggeredByCut:!1,isBeginEditing:!1,isFragmentSelectionEnabled:!1}),i}return function e$e(n,e,t){e&&Cle(n.prototype,e),t&&Cle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[eN]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings(),s=o[eN],a=o.fragmentSelection;pw.get(this).isFragmentSelectionEnabled=!!a,"object"===QI(s)&&(this.pasteMode=s.pasteMode||this.pasteMode,this.rowsLimit=isNaN(s.rowsLimit)?this.rowsLimit:s.rowsLimit,this.columnsLimit=isNaN(s.columnsLimit)?this.columnsLimit:s.columnsLimit,this.uiContainer=s.uiContainer||this.uiContainer),this.addHook("afterContextMenuDefaultOptions",function(c){return i.onAfterContextMenuDefaultOptions(c)}),this.addHook("afterOnCellMouseUp",function(){return i.onAfterOnCellMouseUp()}),this.addHook("afterSelectionEnd",function(){return i.onAfterSelectionEnd()}),this.addHook("beforeKeyDown",function(){return i.onBeforeKeyDown()}),this.focusableElement=function Y7e(n){var e=new oG(n),t=qI.get(n);return t=isNaN(t)?0:t,qI.set(n,t+1),e}(this.uiContainer),this.focusableElement.addLocalHook("copy",function(c){return i.onCopy(c)}).addLocalHook("cut",function(c){return i.onCut(c)}).addLocalHook("paste",function(c){return i.onPaste(c)}),fw(Gm(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.getOrCreateFocusableElement(),fw(Gm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.focusableElement&&Sle(this.focusableElement),fw(Gm(t.prototype),"disablePlugin",this).call(this)}},{key:"copy",value:function(){pw.get(this).isTriggeredByCopy=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("copy")}},{key:"cut",value:function(){pw.get(this).isTriggeredByCut=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("cut")}},{key:"getRangedCopyableData",value:function(i){var o=this,s=[],a=[],u=[];return it(i,function(c){Hr(c.startRow,c.endRow,function(h){-1===a.indexOf(h)&&a.push(h)}),Hr(c.startCol,c.endCol,function(h){-1===u.indexOf(h)&&u.push(h)})}),it(a,function(c){var h=[];it(u,function(p){h.push(o.hot.getCopyableData(c,p))}),s.push(h)}),O1(s)}},{key:"getRangedData",value:function(i){var o=this,s=[],a=[],u=[];return it(i,function(c){Hr(c.startRow,c.endRow,function(h){-1===a.indexOf(h)&&a.push(h)}),Hr(c.startCol,c.endCol,function(h){-1===u.indexOf(h)&&u.push(h)})}),it(a,function(c){var h=[];it(u,function(p){h.push(o.hot.getCopyableData(c,p))}),s.push(h)}),s}},{key:"paste",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if(i||o){var s=new U7e;i&&s.clipboardData.setData("text/plain",i),o&&s.clipboardData.setData("text/html",o),this.getOrCreateFocusableElement(),this.onPaste(s)}}},{key:"setCopyableText",value:function(){var i=this.hot.getSelectedRangeLast();if(i){var o=i.getTopStartCorner(),s=i.getBottomEndCorner(),a=o.row,u=o.col,c=s.row,h=s.col,p=Math.min(c,a+this.rowsLimit-1),g=Math.min(h,u+this.columnsLimit-1);this.copyableRanges.length=0,this.copyableRanges.push({startRow:a,startCol:u,endRow:p,endCol:g}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges),(c!==p||h!==g)&&this.hot.runHooks("afterCopyLimit",c-a+1,h-u+1,this.rowsLimit,this.columnsLimit)}}},{key:"getOrCreateFocusableElement",value:function(){var i=this.hot.getActiveEditor(),o=i?i.TEXTAREA:void 0;o?this.focusableElement.setFocusableElement(o):this.focusableElement.useSecondaryElement()}},{key:"isEditorOpened",value:function(){var i=this.hot.getActiveEditor();return i&&i.isOpened()}},{key:"populateValues",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.hot.getSelectedRangeLast();if(i.length){for(var s=i.length,a=i[0].length,u=[],c=o.getTopStartCorner(),h=c.row,p=c.col,g=o.getBottomEndCorner(),y=g.row,w=g.col,S=h,C=p,P=h,B=p;u.length<s||S<=y;){var z=this.hot.getCellMeta(S,p),j=z.skipRowOnPaste,G=z.visualRow;if(S=G+1,!0!==j){P=G,C=p;for(var re=[],pe=u.length%s;re.length<a||C<=w;){var ne=this.hot.getCellMeta(h,C),he=ne.skipColumnOnPaste,we=ne.visualCol;if(C=we+1,!0!==he){B=we;var Pe=re.length%a;re.push(i[pe][Pe])}}u.push(re)}}return this.hot.populateFromArray(h,p,u,void 0,void 0,"CopyPaste.paste",this.pasteMode),[h,p,P,B]}}},{key:"onCopy",value:function(i){var o=pw.get(this);if((this.hot.isListening()||o.isTriggeredByCopy)&&!this.isEditorOpened()){this.setCopyableText(),o.isTriggeredByCopy=!1;var s=this.getRangedData(this.copyableRanges);if(this.hot.runHooks("beforeCopy",s,this.copyableRanges)){var u=O1(s);if(i&&i.clipboardData){var c=Iee(s);i.clipboardData.setData("text/plain",u),i.clipboardData.setData("text/html",[Tle,c].join(""))}else"undefined"==typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",u);this.hot.runHooks("afterCopy",s,this.copyableRanges)}i.preventDefault()}}},{key:"onCut",value:function(i){var o=pw.get(this);if((this.hot.isListening()||o.isTriggeredByCut)&&!this.isEditorOpened()){this.setCopyableText(),o.isTriggeredByCut=!1;var s=this.getRangedData(this.copyableRanges);if(this.hot.runHooks("beforeCut",s,this.copyableRanges)){var u=O1(s);if(i&&i.clipboardData){var c=Iee(s);i.clipboardData.setData("text/plain",u),i.clipboardData.setData("text/html",[Tle,c].join(""))}else"undefined"==typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",u);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",s,this.copyableRanges)}i.preventDefault()}}},{key:"onPaste",value:function(i){if(this.hot.isListening()&&!this.isEditorOpened()){var o;if(i&&i.preventDefault&&i.preventDefault(),i&&void 0!==i.clipboardData){var s=VV(i.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});if(s&&/(<table)|(<TABLE)/g.test(s)){var a=function pke(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,t={},r=e.createDocumentFragment(),i=e.createElement("div");r.appendChild(i);var o=n;if("string"==typeof o){var s=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,function($){var de=$.match(/<td\b[^>]*?>/g)[0],be=$.substring(de.length,$.lastIndexOf("<")).replace(/(<(?!br)([^>]+)>)/gi,"");return"".concat(de).concat(be).concat("</td>")});i.insertAdjacentHTML("afterbegin","".concat(s)),o=i.querySelector("table")}if(o&&fke(o)){var a=i.querySelector('meta[name$="enerator"]'),u=null!==o.querySelector("tbody th"),c=o.querySelector("tr"),h=c?Array.from(c.cells).reduce(function($,de){return $+de.colSpan},0)-(u?1:0):0,p=o.tFoot&&Array.from(o.tFoot.rows)||[],g=[],y=!1,w=0,S=0;if(o.tHead){var C=Array.from(o.tHead.rows).filter(function($){var de=null!==$.querySelector("td");return de&&g.push($),!de});y=(w=C.length)>0,w>1?t.nestedHeaders=Array.from(C).reduce(function($,de){var be=Array.from(de.cells).reduce(function(Ee,We,Mt){if(u&&0===Mt)return Ee;var kt=We.colSpan,Dt=We.innerHTML;return Ee.push(kt>1?{label:Dt,colspan:kt}:Dt),Ee},[]);return $.push(be),$},[]):y&&(t.colHeaders=Array.from(C[0].children).reduce(function($,de,be){return u&&0===be||$.push(de.innerHTML),$},[]))}g.length&&(t.fixedRowsTop=g.length),p.length&&(t.fixedRowsBottom=p.length);var P=[].concat(g,az(Array.from(o.tBodies).reduce(function($,de){return $.push.apply($,az(Array.from(de.rows))),$},[])),az(p));S=P.length;for(var B=new Array(S),z=0;z<S;z++)B[z]=new Array(h);for(var j=[],G=[],re=0;re<S;re++)for(var ne=Array.from(P[re].cells),he=ne.length,we=0;we<he;we++){var Pe=ne[we],ot=Pe.nodeName,at=Pe.innerHTML,je=Pe.rowSpan,_t=Pe.colSpan,ye=B[re].findIndex(function($){return void 0===$});if("TD"===ot){if(je>1||_t>1){for(var Ae=re;Ae<re+je;Ae++)if(Ae<S)for(var Ge=ye;Ge<ye+_t;Ge++)B[Ae][Ge]=null;var Je=Pe.getAttribute("style");Je&&Je.includes("mso-ignore:colspan")||j.push({col:ye,row:re,rowspan:je,colspan:_t})}var Z="";Z=a&&/excel/gi.test(a.content)?at.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,"\r\n"):at.replace(/<br(\s*|\/)>[\r\n]?/gim,"\r\n"),B[re][ye]=Z.replace(hke,function($){return Lee[$]})}else G.push(at)}return j.length&&(t.mergeCells=j),G.length&&(t.rowHeaders=G),B.length&&(t.data=B),t}}(s,this.hot.rootDocument);o=a.data}else o=i.clipboardData.getData("text/plain")}else"undefined"==typeof ClipboardEvent&&void 0!==this.hot.rootWindow.clipboardData&&(o=this.hot.rootWindow.clipboardData.getData("Text"));if("string"==typeof o&&(o=function wVe(n){var e=[[""]];if(0===n.length)return e;for(var i,t=0,r=0;n.length>0&&i!==n.length;)if(i=n.length,n.match(Zre))n=n.replace(Zre,""),e[r][t+=1]="";else if(n.match(Kre))n=n.replace(Kre,""),t=0,e[r+=1]=[""];else{var o="";if(n.startsWith('"')){for(var s=0,a=!0;a;){var u=n.slice(0,1);'"'===u&&(s+=1),o+=u,(0===(n=n.slice(1)).length||n.match(/^[\t\r\n]/)&&s%2==0)&&(a=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,function(h){return new Array(Math.floor(h.length/2)).fill('"').join("")})}else{var c=n.match(bVe);n=n.slice((o=c?c[0]:"").length)}e[r][t]=o}return e}(o)),(!o||0!==o.length)&&!1!==this.hot.runHooks("beforePaste",o,this.copyableRanges)){var c=function X7e(n,e){return function J7e(n){if(Array.isArray(n))return n}(n)||function q7e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function Z7e(n,e){if(n){if("string"==typeof n)return xle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xle(n,e)}}(n,e)||function K7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.populateValues(o),4),g=c[2],y=c[3];this.hot.selectCell(c[0],c[1],Math.min(this.hot.countRows()-1,g),Math.min(this.hot.countCols()-1,y)),this.hot.runHooks("afterPaste",o,this.copyableRanges)}}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:"---------"},function I7e(n){return{key:"copy",name:function(){return this.getTranslatedPhrase(aj)},callback:function(){n.copy()},disabled:function(){if(0===this.countRows()||0===this.countCols())return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this),function N7e(n){return{key:"cut",name:function(){return this.getTranslatedPhrase(lj)},callback:function(){n.cut()},disabled:function(){if(0===this.countRows()||0===this.countCols())return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this))}},{key:"onAfterOnCellMouseUp",value:function(){!this.hot.isListening()||this.isEditorOpened()||this.hot.getSettings().fragmentSelection||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}},{key:"onAfterSelectionEnd",value:function(){var o=pw.get(this).isFragmentSelectionEnabled;this.isEditorOpened()||(this.getOrCreateFocusableElement(),(!o||this.focusableElement.getFocusableElement()===this.hot.rootDocument.activeElement||!function SOe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.document,t="";return n.getSelection?t=n.getSelection().toString():e.selection&&"Control"!==e.selection.type&&(t=e.selection.createRange().text),t}())&&(this.setCopyableText(),this.focusableElement.focus()))}},{key:"onBeforeKeyDown",value:function(){if(this.hot.isListening()&&!this.isEditorOpened()){var i=this.hot.rootDocument.activeElement,o=this.hot.getActiveEditor();!o||i!==this.focusableElement.getFocusableElement()&&i!==o.select||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}}},{key:"destroy",value:function(){this.focusableElement&&(Sle(this.focusableElement),this.focusableElement=null),fw(Gm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return eN}},{key:"SETTING_KEYS",get:function(){return[eN].concat(a$e)}},{key:"PLUGIN_PRIORITY",get:function(){return 80}}]),t}(Jo);function Rle(n,e){return"border_row".concat(n,"col").concat(e)}function lG(n){var e,t;return(wr(n.start)||wr(n.left))&&(n.start=null!==(e=n.start)&&void 0!==e?e:n.left),(wr(n.end)||wr(n.right))&&(n.end=null!==(t=n.end)&&void 0!==t?t:n.right),delete n.left,delete n.right,n}function q1(n){return wr(n.start)&&(n.left=n.start),wr(n.end)&&(n.right=n.end),n}function uG(n,e){return{id:Rle(n,e),border:{width:1,color:"#000",cornerVisible:!1},row:n,col:e,top:{hide:!0},bottom:{hide:!0},start:{hide:!0},end:{hide:!0}}}function Xm(n,e){var t=!1;return it(n.getSelectedRange(),function(r){r.forAll(function(i,o){if(!(i<0||o<0)){var s=n.getCellMeta(i,o).borders;if(s){if(!e)return t=!0,!1;if(!Hs(s[e],"hide")||!1===s[e].hide)return t=!0,!1}}})}),t}function tN(n){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(n)}var m$e=new Map([["left","start"],["right","end"]]);function v$e(n){return{key:"borders:top",name:function(){var t=this.getTranslatedPhrase(Ej);return Xm(this,"top")&&(t=tN(t)),t},callback:function(t,r){var i=Xm(this,"top");n.prepareBorder(r,"top",i)}}}function y$e(n){var e=n.hot.isRtl()?"start":"end";return{key:"borders:right",name:function(){var r=this.getTranslatedPhrase(Tj);return Xm(this,e)&&(r=tN(r)),r},callback:function(r,i){var o=Xm(this,e);n.prepareBorder(i,e,o)}}}function _$e(n){return{key:"borders:bottom",name:function(){var t=this.getTranslatedPhrase(Rj);return Xm(this,"bottom")&&(t=tN(t)),t},callback:function(t,r){var i=Xm(this,"bottom");n.prepareBorder(r,"bottom",i)}}}function b$e(n){var e=n.hot.isRtl()?"end":"start";return{key:"borders:left",name:function(){var r=this.getTranslatedPhrase(Dj);return Xm(this,e)&&(r=tN(r)),r},callback:function(r,i){var o=Xm(this,e);n.prepareBorder(i,e,o)}}}function w$e(n){return{key:"borders:no_borders",name:function(){return this.getTranslatedPhrase(Aj)},callback:function(t,r){n.prepareBorder(r,"noBorders")},disabled:function(){return!Xm(this)}}}function cG(n){return(cG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Dle(n,e){return function C$e(n){if(Array.isArray(n))return n}(n)||function x$e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function S$e(n,e){if(n){if("string"==typeof n)return Ale(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ale(n,e)}}(n,e)||function M$e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ale(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function E$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ole(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function mw(){return mw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=R$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},mw.apply(this,arguments)}function R$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Km(n)););return n}function dG(n,e){return(dG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function O$e(n,e){if(e&&("object"===cG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kle(n)}function kle(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Km(n){return(Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function L$e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var nN="customBorders",I$e=function(n){!function D$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dG(n,e)}(t,n);var e=function A$e(n){var e=function k$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Km(n);if(e){var o=Km(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return O$e(this,i)}}(t);function t(){var r;E$e(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return L$e(kle(r=e.call.apply(e,[this].concat(o))),"savedBorders",[]),r}return function T$e(n,e,t){e&&Ole(n.prototype,e),t&&Ole(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[nN]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(o){return i.onAfterContextMenuDefaultOptions(o)}),this.addHook("init",function(){return i.onAfterInit()}),mw(Km(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hideBorders(),mw(Km(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),mw(Km(t.prototype),"updatePlugin",this).call(this)}},{key:"setBorders",value:function(i,o){var s=this,a=["top","bottom","start","end"],u=null;o&&(this.checkSettingsCohesion([o]),a=Object.keys(o),u=lG(o));var h=A1(ex(i));it(i,function(p){for(var y=Dle(h(p),4),S=y[1],C=y[2],P=y[3],B=function(G){for(var re=function(he){it(a,function(we){s.prepareBorderFromCustomAdded(G,he,u,function g$e(n){var e;return null!==(e=m$e.get(n))&&void 0!==e?e:n}(we))})},pe=S;pe<=P;pe+=1)re(pe)},z=y[0];z<=C;z+=1)B(z)}),this.hot.view.render()}},{key:"getBorders",value:function(i){var o=this;if(!Array.isArray(i))return this.savedBorders;var a=A1(ex(i)),u=[];return it(i,function(c){for(var p=Dle(a(c),4),y=p[1],w=p[2],S=p[3],C=function(z){for(var j=function(pe){it(o.savedBorders,function(ne){ne.row===z&&ne.col===pe&&u.push(q1(ne))})},G=y;G<=S;G+=1)j(G)},P=p[0];P<=w;P+=1)C(P)}),u}},{key:"clearBorders",value:function(i){var o=this;i?this.setBorders(i):(it(this.savedBorders,function(s){o.clearBordersFromSelectionSettings(s.id),o.clearNullCellRange(),o.hot.removeCellMeta(s.row,s.col,"borders")}),this.savedBorders.length=0)}},{key:"insertBorderIntoSettings",value:function(i,o){this.checkSavedBorders(i)||this.savedBorders.push(i);var a=this.hot._createCellRange(this.hot._createCellCoords(i.row,i.col));this.checkCustomSelections(i,a,o)||this.hot.selection.highlight.addCustomSelection({border:i,visualCellRange:a})}},{key:"prepareBorderFromCustomAdded",value:function(i,o,s,a){var u=this.hot.countRows(),c=this.hot.countCols();if(!(i>=u||o>=c)){var h=uG(i,o);s&&(h=function h$e(n,e){return Hs(e,"border")&&e.border&&(n.border=e.border),Hs(e,"top")&&wr(e.top)&&(e.top?($i(e.top)||(e.top={width:1,color:"#000"}),n.top=e.top):(e.top={hide:!0},n.top=e.top)),Hs(e,"bottom")&&wr(e.bottom)&&(e.bottom?($i(e.bottom)||(e.bottom={width:1,color:"#000"}),n.bottom=e.bottom):(e.bottom={hide:!0},n.bottom=e.bottom)),Hs(e,"start")&&wr(e.start)&&(e.start?($i(e.start)||(e.start={width:1,color:"#000"}),n.start=e.start):(e.start={hide:!0},n.start=e.start)),Hs(e,"end")&&wr(e.end)&&(e.end?($i(e.end)||(e.end={width:1,color:"#000"}),n.end=e.end):(e.end={hide:!0},n.end=e.end)),n}(h,s),it(this.hot.selection.highlight.customSelections,function(p){if(h.id===p.settings.id)return Object.assign(p.settings,s),h.id=p.settings.id,h.top=p.settings.top,h.bottom=p.settings.bottom,h.start=p.settings.start,h.end=p.settings.end,!1})),this.hot.setCellMeta(i,o,"borders",q1(h)),this.insertBorderIntoSettings(h,a)}}},{key:"prepareBorderFromCustomAddedRange",value:function(i,o){var s=this,a=Math.min(i.to.row,this.hot.countRows()-1),u=Math.min(i.to.col,this.hot.countCols()-1);Hr(i.from.row,a,function(c){Hr(i.from.col,u,function(h){var p=uG(c,h),g=0;c===i.from.row&&Hs(o,"top")&&(g+=1,p.top=o.top),c===i.to.row&&Hs(o,"bottom")&&(g+=1,p.bottom=o.bottom),h===i.from.col&&Hs(o,"start")&&(g+=1,p.start=o.start),h===i.to.col&&Hs(o,"end")&&(g+=1,p.end=o.end),g>0&&(s.hot.setCellMeta(c,h,"borders",q1(p)),s.insertBorderIntoSettings(p))})})}},{key:"removeAllBorders",value:function(i,o){var s=Rle(i,o);this.spliceBorder(s),this.clearBordersFromSelectionSettings(s),this.clearNullCellRange(),this.hot.removeCellMeta(i,o,"borders")}},{key:"setBorder",value:function(i,o,s,a){var u=this.hot.getCellMeta(i,o).borders;u=u&&void 0!==u.border?lG(u):uG(i,o),a?(u[s]={hide:!0},4===this.countHide(u)?this.removeAllBorders(i,o):(this.checkCustomSelectionsFromContextMenu(u,s,a)||this.insertBorderIntoSettings(u),this.hot.setCellMeta(i,o,"borders",q1(u)))):(u[s]={width:1,color:"#000"},this.checkCustomSelectionsFromContextMenu(u,s,a)||this.insertBorderIntoSettings(u),this.hot.setCellMeta(i,o,"borders",q1(u)))}},{key:"prepareBorder",value:function(i,o,s){var a=this;it(i,function(u){var c=u.start,h=u.end;if(c.row===h.row&&c.col===h.col)"noBorders"===o?a.removeAllBorders(c.row,c.col):a.setBorder(c.row,c.col,o,s);else switch(o){case"noBorders":Hr(c.col,h.col,function(p){Hr(c.row,h.row,function(g){a.removeAllBorders(g,p)})});break;case"top":Hr(c.col,h.col,function(p){a.setBorder(c.row,p,o,s)});break;case"bottom":Hr(c.col,h.col,function(p){a.setBorder(h.row,p,o,s)});break;case"start":Hr(c.row,h.row,function(p){a.setBorder(p,c.col,o,s)});break;case"end":Hr(c.row,h.row,function(p){a.setBorder(p,h.col,o,s)})}})}},{key:"createCustomBorders",value:function(i){var o=this;it(i,function(s){var a=lG(s);s.range?o.prepareBorderFromCustomAddedRange(s.range,a):o.prepareBorderFromCustomAdded(s.row,s.col,a)})}},{key:"countHide",value:function(i){return Ya([i.top,i.bottom,i.start,i.end],function(h,p){var g=h;return p&&p.hide&&(g+=1),g},0)}},{key:"clearBordersFromSelectionSettings",value:function(i){var o=to(this.hot.selection.highlight.customSelections,function(s){return s.settings.id}).indexOf(i);o>-1&&this.hot.selection.highlight.customSelections[o].clear()}},{key:"clearNullCellRange",value:function(){var i=this;it(this.hot.selection.highlight.customSelections,function(o,s){if(null===o.cellRange)return i.hot.selection.highlight.customSelections[s].destroy(),i.hot.selection.highlight.customSelections.splice(s,1),!1})}},{key:"hideBorders",value:function(){var i=this;it(this.savedBorders,function(o){i.clearBordersFromSelectionSettings(o.id),i.clearNullCellRange()})}},{key:"spliceBorder",value:function(i){var o=to(this.savedBorders,function(s){return s.id}).indexOf(i);o>-1&&this.savedBorders.splice(o,1)}},{key:"checkSavedBorders",value:function(i){var o=this,s=!1;return 4===this.countHide(i)?(this.spliceBorder(i.id),s=!0):it(this.savedBorders,function(u,c){if(i.id===u.id)return o.savedBorders[c]=i,s=!0,!1}),s}},{key:"checkCustomSelectionsFromContextMenu",value:function(i,o,s){var a=!1;return it(this.hot.selection.highlight.customSelections,function(u){if(i.id===u.settings.id)return ao(u.instanceBorders,function(c){c.toggleHiddenClass(o,s)}),a=!0,!1}),a}},{key:"checkCustomSelections",value:function(i,o,s){var a=this.countHide(i),u=!1;return 4===a?(this.removeAllBorders(i.row,i.col),u=!0):it(this.hot.selection.highlight.customSelections,function(c){if(i.id===c.settings.id)return c.visualCellRange=o,c.commit(),s&&ao(c.instanceBorders,function(h){h.changeBorderStyle(s,i)}),u=!0,!1}),u}},{key:"changeBorderSettings",value:function(){var i=this.hot.getSettings()[nN];if(Array.isArray(i)){var o=Yu(i);this.checkSettingsCohesion(o),o.length||(this.savedBorders=o),this.createCustomBorders(o)}else void 0!==i&&this.createCustomBorders(this.savedBorders)}},{key:"checkSettingsCohesion",value:function(i){var o=function f$e(n){return n.some(function(e){return wr(e.left)||wr(e.right)})}(i),s=function p$e(n){return n.some(function(e){return wr(e.start)||wr(e.end)})}(i);if(o&&s)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&o)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}},{key:"onAfterContextMenuDefaultOptions",value:function(i){!this.hot.getSettings()[nN]||i.items.push({name:"---------"},{key:"borders",name:function(){return this.getTranslatedPhrase(Cj)},disabled:function(){return this.selection.isSelectedByCorner()},submenu:{items:[v$e(this),y$e(this),_$e(this),b$e(this),w$e(this)]}})}},{key:"onAfterInit",value:function(){this.changeBorderSettings()}},{key:"destroy",value:function(){mw(Km(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return nN}},{key:"PLUGIN_PRIORITY",get:function(){return 90}}]),t}(Jo);function hG(n){return(hG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Lle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function gw(){return gw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=H$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},gw.apply(this,arguments)}function H$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Zm(n)););return n}function fG(n,e){return(fG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function z$e(n,e){if(e&&("object"===hG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ple(n)}function Ple(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Zm(n){return(Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Ile="dragToScroll",W$e=function(n){!function B$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&fG(n,e)}(t,n);var e=function V$e(n){var e=function U$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Zm(n);if(e){var o=Zm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return z$e(this,i)}}(t);function t(r){var i;return function N$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ia(Ple(i)),i.boundaries=null,i.callback=null,i.listening=!1,i}return function F$e(n,e,t){e&&Lle(n.prototype,e),t&&Lle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Ile]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterOnCellMouseDown",function(o){return i.setupListening(o)}),this.addHook("afterOnCellCornerMouseDown",function(o){return i.setupListening(o)}),this.registerEvents(),gw(Zm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),gw(Zm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.unregisterEvents(),gw(Zm(t.prototype),"disablePlugin",this).call(this)}},{key:"setBoundaries",value:function(i){this.boundaries=i}},{key:"setCallback",value:function(i){this.callback=i}},{key:"check",value:function(i,o){var s=0,a=0;o<this.boundaries.top?a=o-this.boundaries.top:o>this.boundaries.bottom&&(a=o-this.boundaries.bottom),i<this.boundaries.left?s=i-this.boundaries.left:i>this.boundaries.right&&(s=i-this.boundaries.right),this.callback(s,a)}},{key:"listen",value:function(){this.listening=!0}},{key:"unlisten",value:function(){this.listening=!1}},{key:"isListening",value:function(){return this.listening}},{key:"registerEvents",value:function(){for(var i=this,s=this.hot.rootWindow;s;)this.eventManager.addEventListener(s.document,"contextmenu",function(){return i.unlisten()}),this.eventManager.addEventListener(s.document,"mouseup",function(){return i.unlisten()}),this.eventManager.addEventListener(s.document,"mousemove",function(a){return i.onMouseMove(a)}),s=LL(s)}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"setupListening",value:function(i){if(!Nb(i)){var o=this.hot.view._wt.wtTable.holder;o!==this.hot.rootWindow&&(this.setBoundaries(o.getBoundingClientRect()),this.setCallback(function(s,a){s<0?o.scrollLeft-=50:s>0&&(o.scrollLeft+=50),a<0?o.scrollTop-=20:a>0&&(o.scrollTop+=20)}),this.listen())}}},{key:"onMouseMove",value:function(i){!this.isListening()||this.check(i.clientX,i.clientY)}},{key:"destroy",value:function(){gw(Zm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Ile}},{key:"PLUGIN_PRIORITY",get:function(){return 100}}]),t}(Jo);function pG(n){return(pG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Nle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function vw(){return vw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=$$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},vw.apply(this,arguments)}function $$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=qm(n)););return n}function mG(n,e){return(mG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Z$e(n,e){if(e&&("object"===pG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fle(n)}function Fle(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qm(n){return(qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("afterDropdownMenuDefaultOptions"),xr.getSingleton().register("beforeDropdownMenuShow"),xr.getSingleton().register("afterDropdownMenuShow"),xr.getSingleton().register("afterDropdownMenuHide"),xr.getSingleton().register("afterDropdownMenuExecute");var gG="dropdownMenu",vG="changeType",Hle=function(n){!function X$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&mG(n,e)}(t,n);var e=function K$e(n){var e=function q$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=qm(n);if(e){var o=qm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Z$e(this,i)}}(t);function t(r){var i;return function Y$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ia(Fle(i)),i.commandExecutor=new tle(i.hot),i.itemsFactory=null,i.menu=null,i.hot.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),i}return function G$e(n,e,t){e&&Nle(n.prototype,e),t&&Nle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[gG]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){this.itemsFactory=new lle(this.hot,t.DEFAULT_ITEMS);var o=this.hot.getSettings()[gG],s={items:this.itemsFactory.getItems(o)};this.registerEvents(),"function"==typeof o.callback&&this.commandExecutor.setCommonCallback(o.callback),vw(qm(t.prototype),"enablePlugin",this).call(this),this.callOnPluginsReady(function(){i.hot.runHooks("afterDropdownMenuDefaultOptions",s),i.itemsFactory.setPredefinedItems(s.items);var a=i.itemsFactory.getItems(o);i.menu&&i.menu.destroy(),i.menu=new nG(i.hot,{className:"htDropdownMenu",keepInViewport:!0,container:o.uiContainer||i.hot.rootDocument.body}),i.hot.runHooks("beforeDropdownMenuSetItems",a),i.menu.setMenuItems(a),i.menu.addLocalHook("beforeOpen",function(){return i.onMenuBeforeOpen()}),i.menu.addLocalHook("afterOpen",function(){return i.onMenuAfterOpen()}),i.menu.addLocalHook("afterClose",function(){return i.onMenuAfterClose()}),i.menu.addLocalHook("executeCommand",function(){for(var u,c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];return(u=i.executeCommand).call.apply(u,[i].concat(h))}),it(a,function(u){return i.commandExecutor.registerCommand(u.key,u)})})}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),vw(qm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&this.menu.destroy(),vw(qm(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var i=this;this.eventManager.addEventListener(this.hot.rootElement,"click",function(o){return i.onTableClick(o)})}},{key:"open",value:function(i){!this.menu||(this.menu.open(),i.width&&this.menu.setOffset("left",i.width),this.menu.setPosition(i))}},{key:"close",value:function(){!this.menu||this.menu.close()}},{key:"executeCommand",value:function(i){for(var o,s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=this.commandExecutor).execute.apply(o,[i].concat(a))}},{key:"setListening",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.menu.isOpened()&&(i?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}},{key:"onTableClick",value:function(i){if(i.stopPropagation(),Ti(i.target,vG)&&!this.menu.isOpened()){var o=0,s=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var u=this.hot.rootWindow.frameElement.getBoundingClientRect();o=u.top,s=u.left}var p=i.target.getBoundingClientRect();this.open({left:p.left+s,top:p.top+i.target.offsetHeight+3+o,width:p.width,height:p.height})}}},{key:"onAfterGetColHeader",value:function(i,o){var s=o.parentNode;if(s){var a=s.parentNode.childNodes,u=Array.prototype.indexOf.call(a,s);if(!(i<0||u!==a.length-1)){var c=o.querySelector(".".concat(vG));if(!this.enabled||!c){if(!this.enabled)return void(c&&c.parentNode.removeChild(c));var h=this.hot.rootDocument.createElement("button");h.className=vG,h.type="button",h.onclick=function(){return!1},o.firstChild.insertBefore(h,o.firstChild.firstChild)}}}}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeDropdownMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterDropdownMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),vw(qm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return gG}},{key:"PLUGIN_PRIORITY",get:function(){return 230}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[Y1,G1,no,X1,no,WI,no,$1,no,ah]}}]),t}(Jo);function Ble(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Vle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}Hle.SEPARATOR={name:no};const aXe=function(){function n(e){(function iXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.options={}}return function oXe(n,e,t){e&&Vle(n.prototype,e),t&&Vle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"getData",value:function(){var t=this,r=this._getDataRange(),o=r.startCol,a=r.endCol,u=this.options,c=[];return Hr(r.startRow,r.endRow,function(h){var p=[];!u.exportHiddenRows&&t._isHiddenRow(h)||(Hr(o,a,function(g){!u.exportHiddenColumns&&t._isHiddenColumn(g)||p.push(t.hot.getDataAtCell(h,g))}),c.push(p))}),c}},{key:"getRowHeaders",value:function(){var t=this,r=[];if(this.options.rowHeaders){var i=this._getDataRange(),o=i.startRow,s=i.endRow,a=this.hot.getRowHeader();Hr(o,s,function(u){!t.options.exportHiddenRows&&t._isHiddenRow(u)||r.push(a[u])})}return r}},{key:"getColumnHeaders",value:function(){var t=this,r=[];if(this.options.columnHeaders){var i=this._getDataRange(),o=i.startCol,s=i.endCol,a=this.hot.getColHeader();Hr(o,s,function(u){!t.options.exportHiddenColumns&&t._isHiddenColumn(u)||r.push(a[u])})}return r}},{key:"_getDataRange",value:function(){var t=this.hot.countCols()-1,r=this.hot.countRows()-1,i=function Q$e(n,e){return function rXe(n){if(Array.isArray(n))return n}(n)||function nXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function tXe(n,e){if(n){if("string"==typeof n)return Ble(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ble(n,e)}}(n,e)||function eXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.options.range,4),o=i[0],s=void 0===o?0:o,a=i[1],u=void 0===a?0:a,c=i[2],h=void 0===c?r:c,p=i[3],g=void 0===p?t:p;return{startRow:s=Math.max(s,0),startCol:u=Math.max(u,0),endRow:h=Math.min(h,r),endCol:g=Math.min(g,t)}}},{key:"_isHiddenRow",value:function(t){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(t))}},{key:"_isHiddenColumn",value:function(t){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(t))}}]),n}();function zle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const dXe=function(){function n(e,t){(function lXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataProvider=e,this.options=this._mergeOptions(t),this.dataProvider.setOptions(this.options)}return function uXe(n,e,t){e&&zle(n.prototype,e),t&&zle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"_mergeOptions",value:function(t){var r=Ec(this.constructor.DEFAULT_OPTIONS),i=new Date;return r=na(Ec(n.DEFAULT_OPTIONS),r),(r=na(r,t)).filename=eee(r.filename,{YYYY:i.getFullYear(),MM:"".concat(i.getMonth()+1).padStart(2,"0"),DD:"".concat(i.getDate()).padStart(2,"0")}),r}}],[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}}]),n}();function yG(n){return(yG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ule(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _G(n,e){return(_G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function gXe(n,e){if(e&&("object"===yG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function vXe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function rN(n){return(rN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var _Xe=String.fromCharCode(13),bXe=String.fromCharCode(34),wXe=String.fromCharCode(10),bG=function xXe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}({},"csv",function(n){!function pXe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_G(n,e)}(t,n);var e=function mXe(n){var e=function yXe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=rN(n);if(e){var o=rN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gXe(this,i)}}(t);function t(){return hXe(this,t),e.apply(this,arguments)}return function fXe(n,e,t){e&&Ule(n.prototype,e),t&&Ule(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"export",value:function(){var i=this,o=this.options,s=this.dataProvider.getData(),a=this.dataProvider.getColumnHeaders(),u=a.length>0,c=this.dataProvider.getRowHeaders(),h=c.length>0,p=o.bom?String.fromCharCode(65279):"";return u&&(a=to(a,function(g){return i._escapeCell(g,!0)}),h&&(p+=o.columnDelimiter),p+=a.join(o.columnDelimiter),p+=o.rowDelimiter),it(s,function(g,y){y>0&&(p+=o.rowDelimiter),h&&(p+=i._escapeCell(c[y])+o.columnDelimiter),p+=g.map(function(w){return i._escapeCell(w)}).join(o.columnDelimiter)}),p}},{key:"_escapeCell",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=xa(i);return""!==s&&(o||s.indexOf(_Xe)>=0||s.indexOf(bXe)>=0||s.indexOf(wXe)>=0||s.indexOf(this.options.columnDelimiter)>=0)&&(s=s.replace(new RegExp('"',"g"),'""'),s='"'.concat(s,'"')),s}}],[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:"\r\n"}}}]),t}(dXe));function EXe(n,e,t){return"function"==typeof bG[n]?new bG[n](e,t):null}function wG(n){return(wG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function TXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function MG(n,e){return(MG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function OXe(n,e){if(e&&("object"===wG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function kXe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function iN(n){return(iN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var NXe=function(n){!function DXe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&MG(n,e)}(t,n);var e=function AXe(n){var e=function LXe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=iN(n);if(e){var o=iN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return OXe(this,i)}}(t);function t(){return TXe(this,t),e.apply(this,arguments)}return function RXe(n,e,t){e&&jle(n.prototype,e),t&&jle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!0}},{key:"exportAsString",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createTypeFormatter(i,o).export()}},{key:"exportAsBlob",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createBlob(this._createTypeFormatter(i,o))}},{key:"downloadFile",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.hot,a=s.rootDocument,u=s.rootWindow,c=this._createTypeFormatter(i,o),h=this._createBlob(c),p=u.URL||u.webkitURL,g=a.createElement("a"),y="".concat(c.options.filename,".").concat(c.options.fileExtension);if(void 0!==g.download){var w=p.createObjectURL(h);g.style.display="none",g.setAttribute("href",w),g.setAttribute("download",y),a.body.appendChild(g),g.dispatchEvent(new MouseEvent("click")),a.body.removeChild(g),setTimeout(function(){p.revokeObjectURL(w)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(h,y)}},{key:"_createTypeFormatter",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!bG[i])throw new Error('Export format type "'.concat(i,'" is not supported.'));return EXe(i,new aXe(this.hot),o)}},{key:"_createBlob",value:function(i){var o=null;return"undefined"!=typeof Blob&&(o=new Blob([i.export()],{type:"".concat(i.options.mimeType,";charset=").concat(i.options.encoding)})),o}}],[{key:"PLUGIN_KEY",get:function(){return"exportFile"}},{key:"PLUGIN_PRIORITY",get:function(){return 240}}]),t}(Jo);function Wle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Yle=function(){function n(e,t){var r=t.id,i=t.stateless,o=void 0===i||i;(function FXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.id=r,this.elements=[],this.hidden=!1,this.stateId="Filters.component.".concat(this.id),this.state=o?null:this.hot.columnIndexMapper.registerMap(this.stateId,new TP)}return function HXe(n,e,t){e&&Wle(n.prototype,e),t&&Wle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"reset",value:function(){it(this.elements,function(t){return t.reset()})}},{key:"hide",value:function(){this.hidden=!0}},{key:"show",value:function(){this.hidden=!1}},{key:"isHidden",value:function(){return null===this.hot||this.hidden}},{key:"restoreState",value:function(t){this.state&&this.setState(this.state.getValueAtIndex(t))}},{key:"setState",value:function(){throw new Error("The state setting logic is not implemented")}},{key:"saveState",value:function(t){this.state&&this.state.setValueAtIndex(t,this.getState())}},{key:"getState",value:function(){throw new Error("The state gathering logic is not implemented")}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),it(this.elements,function(t){return t.destroy()}),this.state=null,this.elements=null,this.hot=null}}]),n}();ws(Yle,Rc);const oN=Yle;var J1={};function yy(n,e){if(!J1[n])throw Error('Filter condition "'.concat(n,'" does not exist.'));var t=J1[n],r=t.condition,i=t.descriptor,o=e;return i.inputValuesDecorator&&(o=i.inputValuesDecorator(o)),function(s){return r.apply(s.meta.instance,[].concat([s],[o]))}}function yw(n){if(!J1[n])throw Error('Filter condition "'.concat(n,'" does not exist.'));return J1[n].descriptor}function Ca(n,e,t){t.key=n,J1[n]={condition:e,descriptor:t}}var Ol="none";Ca(Ol,function BXe(){return!0},{name:IP,inputsCount:0,showOperators:!1});var Q1="empty";Ca(Q1,function VXe(n){return hl(n.value)},{name:Fj,inputsCount:0,showOperators:!0});var sN="not_empty";function Gle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}Ca(sN,function zXe(n,e){return!yy(Q1,e)(n)},{name:Hj,inputsCount:0,showOperators:!0});var eR="eq";Ca(eR,function $Xe(n,e){var r=function UXe(n,e){return function GXe(n){if(Array.isArray(n))return n}(n)||function YXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function WXe(n,e){if(n){if("string"==typeof n)return Gle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gle(n,e)}}(n,e)||function jXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return xa(n.value).toLocaleLowerCase(n.meta.locale)===xa(r)},{name:Bj,inputsCount:1,showOperators:!0});var aN="neq";function $le(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Kle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function qle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Qle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}Ca(aN,function XXe(n,e){return!yy(eR,e)(n)},{name:Vj,inputsCount:1,showOperators:!0}),Ca("gt",function eKe(n,e){var i=function KXe(n,e){return function QXe(n){if(Array.isArray(n))return n}(n)||function JXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function qXe(n,e){if(n){if("string"==typeof n)return $le(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $le(n,e)}}(n,e)||function ZXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value>i},{name:Yj,inputsCount:1,showOperators:!0}),Ca("gte",function sKe(n,e){var i=function tKe(n,e){return function oKe(n){if(Array.isArray(n))return n}(n)||function iKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function rKe(n,e){if(n){if("string"==typeof n)return Kle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kle(n,e)}}(n,e)||function nKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value>=i},{name:Gj,inputsCount:1,showOperators:!0}),Ca("lt",function hKe(n,e){var i=function aKe(n,e){return function dKe(n){if(Array.isArray(n))return n}(n)||function cKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function uKe(n,e){if(n){if("string"==typeof n)return qle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qle(n,e)}}(n,e)||function lKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value<i},{name:$j,inputsCount:1,showOperators:!0}),Ca("lte",function yKe(n,e){var i=function fKe(n,e){return function vKe(n){if(Array.isArray(n))return n}(n)||function gKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function mKe(n,e){if(n){if("string"==typeof n)return Qle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qle(n,e)}}(n,e)||function pKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value<=i},{name:Xj,inputsCount:1,showOperators:!0});var SG="date_after";function nue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}Ca(SG,function xKe(n,e){var r=function _Ke(n,e){return function SKe(n){if(Array.isArray(n))return n}(n)||function MKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function wKe(n,e){if(n){if("string"==typeof n)return tue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tue(n,e)}}(n,e)||function bKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0],i=cs(n.value,n.meta.dateFormat),o=cs(r,n.meta.dateFormat);return!(!i.isValid()||!o.isValid())&&i.diff(o)>=0},{name:qj,inputsCount:1,showOperators:!0});var xG="date_before";function rue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}Ca(xG,function AKe(n,e){var r=function CKe(n,e){return function DKe(n){if(Array.isArray(n))return n}(n)||function RKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function TKe(n,e){if(n){if("string"==typeof n)return nue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nue(n,e)}}(n,e)||function EKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0],i=cs(n.value,n.meta.dateFormat),o=cs(r,n.meta.dateFormat);return!(!i.isValid()||!o.isValid())&&i.diff(o)<=0},{name:Jj,inputsCount:1,showOperators:!0});var lN="between";Ca(lN,function NKe(n,e){var t=function OKe(n,e){return function IKe(n){if(Array.isArray(n))return n}(n)||function PKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function LKe(n,e){if(n){if("string"==typeof n)return rue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rue(n,e)}}(n,e)||function kKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),o=t[0],s=t[1];if("numeric"===n.meta.type){var a=parseFloat(o,10),u=parseFloat(s,10);o=Math.min(a,u),s=Math.max(a,u)}else if("date"===n.meta.type){var c=yy(xG,[s]),h=yy(SG,[o]);return c(n)&&h(n)}return n.value>=o&&n.value<=s},{name:Kj,inputsCount:2,showOperators:!0});var iue="not_between";function oue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}Ca(iue,function FKe(n,e){return!yy(lN,e)(n)},{name:Zj,inputsCount:2,showOperators:!0});var sue="begins_with";function aue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function uue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}Ca(sue,function jKe(n,e){var r=function HKe(n,e){return function UKe(n){if(Array.isArray(n))return n}(n)||function zKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function VKe(n,e){if(n){if("string"==typeof n)return oue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oue(n,e)}}(n,e)||function BKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return xa(n.value).toLocaleLowerCase(n.meta.locale).startsWith(xa(r))},{name:zj,inputsCount:1,showOperators:!0}),b(3487),Ca("ends_with",function KKe(n,e){var r=function WKe(n,e){return function XKe(n){if(Array.isArray(n))return n}(n)||function $Ke(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function GKe(n,e){if(n){if("string"==typeof n)return aue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return aue(n,e)}}(n,e)||function YKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return xa(n.value).toLocaleLowerCase(n.meta.locale).endsWith(xa(r))},{name:Uj,inputsCount:1,showOperators:!0});var CG="contains";Ca(CG,function tZe(n,e){var r=function ZKe(n,e){return function eZe(n){if(Array.isArray(n))return n}(n)||function QKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function JKe(n,e){if(n){if("string"==typeof n)return uue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uue(n,e)}}(n,e)||function qKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return xa(n.value).toLocaleLowerCase(n.meta.locale).indexOf(xa(r))>=0},{name:jj,inputsCount:1,showOperators:!0});var cue="not_contains";Ca(cue,function nZe(n,e){return!yy(CG,e)(n)},{name:Wj,inputsCount:1,showOperators:!0});var due="date_tomorrow";Ca(due,function rZe(n){var e=cs(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(cs().subtract(-1,"days").startOf("day"),"d")},{name:e4,inputsCount:0});var hue="date_today";Ca(hue,function iZe(n){var e=cs(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(cs().startOf("day"),"d")},{name:Qj,inputsCount:0});var tR,fue="date_yesterday";function EG(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}Ca(fue,function oZe(n){var e=cs(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(cs().subtract(1,"days").startOf("day"),"d")},{name:t4,inputsCount:0});var mue=(EG(tR={},"numeric",[Ol,no,Q1,sN,no,eR,aN,no,"gt","gte","lt","lte",lN,iue]),EG(tR,"text",[Ol,no,Q1,sN,no,eR,aN,no,sue,"ends_with",no,CG,cue]),EG(tR,"date",[Ol,no,Q1,sN,no,eR,aN,no,xG,SG,lN,no,due,hue,fue]),tR);function gue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var TG="built",RG="building",vue=["click","input","keydown","keypress","keyup","focus","blur","change"],yue=function(){function n(e,t){(function uZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.eventManager=new ia(this),this.options=na(n.DEFAULTS,t),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName),this.buildState=null}return function cZe(n,e,t){e&&gue(n.prototype,e),t&&gue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setValue",value:function(t){this.options.value=t,this.update()}},{key:"getValue",value:function(){return this.options.value}},{key:"element",get:function(){return this.buildState===RG?this._element:this.buildState===TG?(this.update(),this._element):(this.buildState=RG,this.build(),this.buildState=TG,this._element)}},{key:"isBuilt",value:function(){return this.buildState===TG}},{key:"translateIfPossible",value:function(t){return"string"==typeof t&&t.startsWith(Gu)?this.hot.getTranslatedPhrase(t):t}},{key:"build",value:function(){var t=this,r=function(s,a){t.eventManager.addEventListener(s,a,function(u){return t.runLocalHooks(a,u,t)})};if(this.buildState||(this.buildState=RG),this.options.className&&An(this._element,this.options.className),this.options.children.length)it(this.options.children,function(o){return t._element.appendChild(o.element)});else if(this.options.wrapIt){var i=this.hot.rootDocument.createElement(this.options.tagName);ao(this.options,function(o,s){void 0!==i[s]&&"className"!==s&&"tagName"!==s&&"children"!==s&&(i[s]=t.translateIfPossible(o))}),this._element.appendChild(i),it(vue,function(o){return r(i,o)})}else it(vue,function(o){return r(t._element,o)})}},{key:"update",value:function(){}},{key:"reset",value:function(){this.options.value="",this.update()}},{key:"show",value:function(){this.element.style.display=""}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"focus",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}}],[{key:"DEFAULTS",get:function(){return Ec({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}}]),n}();ws(yue,Rc);const _y=yue;function DG(n){return(DG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _ue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function uN(){return uN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=fZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},uN.apply(this,arguments)}function fZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=_x(n)););return n}function AG(n,e){return(AG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function gZe(n,e){if(e&&("object"===DG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bue(n)}function bue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _x(n){return(_x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var cN=new WeakMap;const bx=function(n){!function pZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&AG(n,e)}(t,n);var e=function mZe(n){var e=function vZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=_x(n);if(e){var o=_x(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gZe(this,i)}}(t);function t(r,i){var o;return function dZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,na(t.DEFAULTS,i)),cN.set(bue(o),{}),o.registerHooks(),o}return function hZe(n,e,t){e&&_ue(n.prototype,e),t&&_ue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.addLocalHook("click",function(){return i.onClick()}),this.addLocalHook("keyup",function(o){return i.onKeyup(o)})}},{key:"build",value:function(){uN(_x(t.prototype),"build",this).call(this);var i=cN.get(this),o=this.hot.rootDocument.createElement("div");i.input=this._element.firstChild,An(this._element,"htUIInput"),An(o,"htUIInputIcon"),this._element.appendChild(o),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var i=cN.get(this).input;i.type=this.options.type,i.placeholder=this.translateIfPossible(this.options.placeholder),i.value=this.translateIfPossible(this.options.value)}}},{key:"focus",value:function(){this.isBuilt()&&cN.get(this).input.focus()}},{key:"onClick",value:function(){}},{key:"onKeyup",value:function(i){this.options.value=i.target.value}}],[{key:"DEFAULTS",get:function(){return Ec({placeholder:"",type:"text",tagName:"input"})}}]),t}(_y);function OG(n){return(OG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function wue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function wx(){return wx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=wZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},wx.apply(this,arguments)}function wZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=by(n)););return n}function kG(n,e){return(kG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function xZe(n,e){if(e&&("object"===OG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mue(n)}function Mue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function by(n){return(by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var dN=new WeakMap;const Sue=function(n){!function MZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&kG(n,e)}(t,n);var e=function SZe(n){var e=function CZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=by(n);if(e){var o=by(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xZe(this,i)}}(t);function t(r,i){var o;return function _Ze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,na(t.DEFAULTS,i)),dN.set(Mue(o),{}),o.menu=null,o.items=[],o.registerHooks(),o}return function bZe(n,e,t){e&&wue(n.prototype,e),t&&wue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.addLocalHook("click",function(){return i.onClick()})}},{key:"setItems",value:function(i){this.items=this.translateNames(i),this.menu&&this.menu.setMenuItems(this.items)}},{key:"translateNames",value:function(i){var o=this;return it(i,function(s){s.name=o.translateIfPossible(s.name)}),i}},{key:"build",value:function(){var i=this;wx(by(t.prototype),"build",this).call(this),this.menu=new nG(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer}),this.menu.setMenuItems(this.items);var o=new _y(this.hot,{className:"htUISelectCaption"}),s=new _y(this.hot,{className:"htUISelectDropdown"}),a=dN.get(this);a.caption=o,a.captionElement=o.element,a.dropdown=s,it([o,s],function(u){return i._element.appendChild(u.element)}),this.menu.addLocalHook("select",function(u){return i.onMenuSelect(u)}),this.menu.addLocalHook("afterClose",function(){return i.onMenuClosed()}),this.update()}},{key:"update",value:function(){var i;this.isBuilt()&&(i=this.options.value?this.options.value.name:this.menu.hot.getTranslatedPhrase(IP),dN.get(this).captionElement.textContent=i,wx(by(t.prototype),"update",this).call(this))}},{key:"openOptions",value:function(){var i=this.element.getBoundingClientRect();this.menu&&(this.menu.open(),this.menu.setPosition({left:this.hot.isLtr()?i.left-5:i.left-31,top:i.top-1,width:i.width,height:i.height}))}},{key:"closeOptions",value:function(){this.menu&&this.menu.close()}},{key:"onMenuSelect",value:function(i){i.name!==no&&(this.options.value=i,this.update(),this.runLocalHooks("select",this.options.value))}},{key:"onMenuClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onClick",value:function(){this.openOptions()}},{key:"destroy",value:function(){this.menu&&(this.menu.destroy(),this.menu=null);var i=dN.get(this),o=i.caption,s=i.dropdown;o&&o.destroy(),s&&s.destroy(),wx(by(t.prototype),"destroy",this).call(this)}}],[{key:"DEFAULTS",get:function(){return Ec({className:"htUISelect",wrapIt:!1})}}]),t}(_y);function LG(n){return(LG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hN(){return hN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=DZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},hN.apply(this,arguments)}function DZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Mx(n)););return n}function PG(n,e){return(PG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function kZe(n,e){if(e&&("object"===LG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function LZe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Mx(n){return(Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const IG=function(n){!function AZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&PG(n,e)}(t,n);var e=function OZe(n){var e=function PZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Mx(n);if(e){var o=Mx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kZe(this,i)}}(t);function t(r,i){var o;return function TZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.addSeparator=i.addSeparator,o.elements.push(new Sue(o.hot,{menuContainer:i.menuContainer})),o.elements.push(new bx(o.hot,{placeholder:d4})),o.elements.push(new bx(o.hot,{placeholder:h4})),o.registerHooks(),o}return function RZe(n,e,t){e&&xue(n.prototype,e),t&&xue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.getSelectElement().addLocalHook("select",function(o){return i.onConditionSelect(o)}),this.getSelectElement().addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),it(this.getInputElements(),function(o){o.addLocalHook("keydown",function(s){return i.onInputKeyDown(s)})})}},{key:"setState",value:function(i){var o=this;if(this.reset(),i){var s=Ec(i.command);s.name.startsWith(oa)&&(s.name=this.hot.getTranslatedPhrase(s.name)),this.getSelectElement().setValue(s),it(i.args,function(a,u){if(u>s.inputsCount-1)return!1;var c=o.getInputElement(u);c.setValue(a),c[s.inputsCount>u?"show":"hide"](),u||setTimeout(function(){return c.focus()},10)})}}},{key:"getState",value:function(){var i=this.getSelectElement().getValue()||yw(Ol),o=[];return it(this.getInputElements(),function(s,a){i.inputsCount>a&&o.push(s.getValue())}),{command:i,args:o}}},{key:"updateState",value:function(i,o){var s=yw(i?i.name:Ol);this.state.setValueAtIndex(o,{command:s,args:i?i.args:[]}),i||it(this.getInputElements(),function(a){return a.setValue(null)})}},{key:"getSelectElement",value:function(){return this.elements.filter(function(i){return i instanceof Sue})[0]}},{key:"getInputElement",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getInputElements()[i]}},{key:"getInputElements",value:function(){return this.elements.filter(function(i){return i instanceof bx})}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a,u,c,h,p){An(a.parentNode,"htFiltersMenuCondition"),i.addSeparator&&An(a.parentNode,"border");var g=i.hot.rootDocument.createElement("div");return An(g,"htFiltersMenuLabel"),g.textContent=p,a.appendChild(g),a.parentNode.hasAttribute("ghost-table")||it(i.elements,function(y){return a.appendChild(y.element)}),a}}}},{key:"reset",value:function(){var i=this.hot.getPlugin("filters").getSelectedColumn(),o=[yw(Ol)];if(null!==i){var s=i.visualIndex;o=function lZe(n){var e=[],t=n;return mue[t]||(t="text"),it(mue[t],function(r){var i;i=r===no?{name:no}:Ec(yw(r)),e.push(i)}),e}(this.hot.getDataType(0,s,this.hot.countRows(),s))}it(this.getInputElements(),function(a){return a.hide()}),this.getSelectElement().setItems(o),hN(Mx(t.prototype),"reset",this).call(this),this.getSelectElement().setValue(o[0])}},{key:"onConditionSelect",value:function(i){it(this.getInputElements(),function(o,s){o[i.inputsCount>s?"show":"hide"](),0===s&&setTimeout(function(){return o.focus()},10)}),this.runLocalHooks("change",i)}},{key:"onSelectUIClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onInputKeyDown",value:function(i){c1(i.keyCode,"ENTER")?(this.runLocalHooks("accept"),rp(i)):c1(i.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),rp(i))}}]),t}(oN);var nR={};function NZe(n){if(!nR[n])throw Error('Operation with id "'.concat(n,'" does not exist.'));var e=nR[n].func;return function(t,r){return e(t,r)}}function FZe(n){return nR[n].name}function NG(n,e,t){nR[n]={name:e,func:t}}var wy="conjunction";NG(wy,o4,function BZe(n,e){return n.every(function(t){return t.func(e)})});var fN="disjunction";NG(fN,NP,function zZe(n,e){return n.some(function(t){return t.func(e)})});var FG="disjunctionWithExtraCondition";function HG(n){return(HG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Cue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function pN(){return pN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=GZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},pN.apply(this,arguments)}function GZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Sx(n)););return n}function BG(n,e){return(BG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function KZe(n,e){if(e&&("object"===HG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Eue(n)}function Eue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Sx(n){return(Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}NG(FG,NP,function jZe(n,e){if(n.length<3)throw Error("Operation doesn't work on less then three conditions.");return n.slice(0,n.length-1).some(function(t){return t.func(e)})&&n[n.length-1].func(e)});var mN=new WeakMap;const Tue=function(n){!function $Ze(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&BG(n,e)}(t,n);var e=function XZe(n){var e=function ZZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Sx(n);if(e){var o=Sx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return KZe(this,i)}}(t);function t(r,i){var o;return function WZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,na(t.DEFAULTS,i)),mN.set(Eue(o),{}),o}return function YZe(n,e,t){e&&Cue(n.prototype,e),t&&Cue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){pN(Sx(t.prototype),"build",this).call(this);var i=mN.get(this);i.input=this._element.firstChild;var o=this.hot.rootDocument.createElement("label");o.textContent=this.translateIfPossible(this.options.label.textContent),o.htmlFor=this.translateIfPossible(this.options.label.htmlFor),i.label=o,this._element.appendChild(o),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var i=mN.get(this);i.input.checked=this.options.checked,i.label.textContent=this.translateIfPossible(this.options.label.textContent)}}},{key:"isChecked",value:function(){return this.options.checked}},{key:"setChecked",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.checked=i,this.update()}},{key:"focus",value:function(){this.isBuilt()&&mN.get(this).input.focus()}}],[{key:"DEFAULTS",get:function(){return Ec({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}}]),t}(_y);function VG(n){return(VG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Rue;function Due(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function zG(n,e){return(zG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function rqe(n,e){if(e&&("object"===VG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function iqe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function gN(n){return(gN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const aqe=function(n){!function tqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&zG(n,e)}(t,n);var e=function nqe(n){var e=function oqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=gN(n);if(e){var o=gN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return rqe(this,i)}}(t);function t(r,i){var o;return function QZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.buildOperatorsElement(),o}return function eqe(n,e,t){e&&Due(n.prototype,e),t&&Due(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a){return An(a.parentNode,"htFiltersMenuOperators"),a.parentNode.hasAttribute("ghost-table")||it(i.elements,function(u){return a.appendChild(u.element)}),a}}}},{key:"buildOperatorsElement",value:function(){var i=this,o=[wy,fN];it(o,function(s){var a=new Tue(i.hot,{name:"operator",label:{htmlFor:s,textContent:FZe(s)},value:s,checked:s===o[0],id:s});a.addLocalHook("change",function(u){return i.onRadioInputChange(u)}),i.elements.push(a)})}},{key:"setChecked",value:function(i){if(this.elements.length<i)throw Error(is(Rue||(Rue=function JZe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Radio button with index "," doesn't exist."])),i));it(this.elements,function(o,s){o.setChecked(s===i)})}},{key:"getActiveOperationId",value:function(){var i=this.elements.find(function(o){return o instanceof Tue&&o.isChecked()});return i?i.getValue():wy}},{key:"getState",value:function(){return this.getActiveOperationId()}},{key:"setState",value:function(i){this.reset(),i&&this.getActiveOperationId()!==i&&it(this.elements,function(o){o.setChecked(o.getValue()===i)})}},{key:"updateState",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wy,o=arguments.length>1?arguments[1]:void 0,s=i;s===FG&&(s=fN),this.state.setValueAtIndex(o,s)}},{key:"reset",value:function(){this.setChecked(0)}},{key:"onRadioInputChange",value:function(i){this.setState(i.target.value)}}]),t}(oN);function uqe(n,e){var t=n;return""===t&&(t="(".concat(e,")")),t}!function JAe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};HS||(HS="object"===("undefined"==typeof Intl?"undefined":IV(Intl))?new Intl.Collator(n,e).compare:"function"==typeof String.prototype.localeCompare?function(r,i){return"".concat(r).localeCompare(i)}:function(r,i){return r===i?0:r>i?-1:1})}();var UG=new Set([1]).has(1),cqe=UG&&"function"==typeof Array.from;function rR(n){var e=n;return UG&&(e=new Set(e)),function(t){return UG?e.has(t):!!~e.indexOf(t)}}function Oue(n){return null==n?"":n}function jG(n){var e=n;return(e=cqe?Array.from(new Set(e)):jQ(e)).sort(function(t,r){return"number"==typeof t&&"number"==typeof r?t-r:t===r?0:t>r?1:-1})}function kue(n,e,t,r){var s,i=[],o=n===e;return o||(s=rR(e)),it(n,function(a){var u=!1;(o||s(a))&&(u=!0);var c={checked:u,value:a,visualValue:uqe(a,t)};r&&r(c),i.push(c)}),i}function WG(n){return(WG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Lue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function vN(){return vN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=fqe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},vN.apply(this,arguments)}function fqe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=xx(n)););return n}function YG(n,e){return(YG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function gqe(n,e){if(e&&("object"===WG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pue(n)}function Pue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function xx(n){return(xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}b(2337);var GG=new WeakMap;const Iue=function(n){!function pqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&YG(n,e)}(t,n);var e=function mqe(n){var e=function vqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=xx(n);if(e){var o=xx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gqe(this,i)}}(t);function t(r,i){var o;return function dqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,na(t.DEFAULTS,i)),GG.set(Pue(o),{}),o}return function hqe(n,e,t){e&&Lue(n.prototype,e),t&&Lue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){vN(xx(t.prototype),"build",this).call(this),GG.get(this).link=this._element.firstChild}},{key:"update",value:function(){!this.isBuilt()||(GG.get(this).link.textContent=this.translateIfPossible(this.options.textContent))}}],[{key:"DEFAULTS",get:function(){return Ec({href:"#",tagName:"a"})}}]),t}(_y);function $G(n){return($G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Nue(n){return function Mqe(n){if(Array.isArray(n))return XG(n)}(n)||function wqe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function bqe(n,e){if(n){if("string"==typeof n)return XG(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return XG(n,e)}}(n)||function _qe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XG(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Fue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Cx(){return Cx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Cqe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Cx.apply(this,arguments)}function Cqe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=My(n)););return n}function KG(n,e){return(KG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Rqe(n,e){if(e&&("object"===$G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Hue(n)}function Hue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function My(n){return(My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Aqe=new WeakMap;const Bue=function(n){!function Eqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&KG(n,e)}(t,n);var e=function Tqe(n){var e=function Dqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=My(n);if(e){var o=My(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Rqe(this,i)}}(t);function t(r,i){var o;return function Sqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,na(t.DEFAULTS,i)),Aqe.set(Hue(o),{}),o.searchInput=new bx(o.hot,{placeholder:c4,className:"htUIMultipleSelectSearch"}),o.selectAllUI=new Iue(o.hot,{textContent:s4,className:"htUISelectAll"}),o.clearAllUI=new Iue(o.hot,{textContent:a4,className:"htUIClearAll"}),o.items=[],o.itemsBox=null,o.registerHooks(),o}return function xqe(n,e,t){e&&Fue(n.prototype,e),t&&Fue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.searchInput.addLocalHook("keydown",function(o){return i.onInputKeyDown(o)}),this.searchInput.addLocalHook("input",function(o){return i.onInput(o)}),this.selectAllUI.addLocalHook("click",function(o){return i.onSelectAllClick(o)}),this.clearAllUI.addLocalHook("click",function(o){return i.onClearAllClick(o)})}},{key:"setItems",value:function(i){this.items=i,this.itemsBox&&this.itemsBox.loadData(this.items)}},{key:"setLocale",value:function(i){this.locale=i}},{key:"getLocale",value:function(){return this.locale}},{key:"getItems",value:function(){return Nue(this.items)}},{key:"getValue",value:function(){return function Pqe(n){var e=[];return it(n,function(t){t.checked&&e.push(t.value)}),e}(this.items)}},{key:"isSelectedAllValues",value:function(){return this.items.length===this.getValue().length}},{key:"build",value:function(){var i=this;Cx(My(t.prototype),"build",this).call(this);var o=this.hot.rootDocument,s=o.createElement("div"),a=new _y(this.hot,{className:"htUISelectionControls",children:[this.selectAllUI,this.clearAllUI]});this._element.appendChild(this.searchInput.element),this._element.appendChild(a.element),this._element.appendChild(s);var u=function(h){i._element&&(i.itemsBox&&i.itemsBox.destroy(),An(h,"htUIMultipleSelectHot"),i.itemsBox=new i.hot.constructor(h,{data:i.items,columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:function(w,S,C,P,B,z){w.title=z.instance.getDataAtRowProp(S,z.label.property)},maxCols:1,autoWrapCol:!0,height:110,colWidths:function(){return i.itemsBox.container.scrollWidth-Dl(o)},copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:i.hot.isRtl()?"rtl":"ltr"}),i.itemsBox.init(),i.itemsBox.getShortcutManager().getContext("grid").addShortcut({keys:[["Escape"]],callback:function(w){i.runLocalHooks("keydown",w,i)},group:"multipleSelect.itemBox"}))};u(s),setTimeout(function(){return u(s)},100)}},{key:"reset",value:function(){this.searchInput.reset(),this.selectAllUI.reset(),this.clearAllUI.reset()}},{key:"update",value:function(){!this.isBuilt()||(this.itemsBox.loadData(function Lqe(n,e){var t=rR(e);return to(n,function(r){return r.checked=t(r.value),r})}(this.items,this.options.value)),Cx(My(t.prototype),"update",this).call(this))}},{key:"destroy",value:function(){this.itemsBox&&this.itemsBox.destroy(),this.searchInput.destroy(),this.clearAllUI.destroy(),this.selectAllUI.destroy(),this.searchInput=null,this.clearAllUI=null,this.selectAllUI=null,this.itemsBox=null,this.items=null,Cx(My(t.prototype),"destroy",this).call(this)}},{key:"onInput",value:function(i){var a,o=this,s=i.target.value.toLocaleLowerCase(this.getLocale());a=""===s?Nue(this.items):Qd(this.items,function(u){return"".concat(u.value).toLocaleLowerCase(o.getLocale()).indexOf(s)>=0}),this.itemsBox.loadData(a)}},{key:"onInputKeyDown",value:function(i){this.runLocalHooks("keydown",i,this),bee(c1,i.keyCode)("ARROW_DOWN|TAB")&&!this.itemsBox.isListening()&&(rp(i),this.itemsBox.listen(),this.itemsBox.selectCell(0,0))}},{key:"onSelectAllClick",value:function(i){var o=[];i.preventDefault(),it(this.itemsBox.getSourceData(),function(s,a){s.checked=!0,o.push(Sne(s,a)[0])}),this.itemsBox.setSourceDataAtCell(o)}},{key:"onClearAllClick",value:function(i){var o=[];i.preventDefault(),it(this.itemsBox.getSourceData(),function(s,a){s.checked=!1,o.push(Sne(s,a)[0])}),this.itemsBox.setSourceDataAtCell(o)}}],[{key:"DEFAULTS",get:function(){return Ec({className:"htUIMultipleSelect",value:[]})}}]),t}(_y);function Vue(n,e){return function Hqe(n){if(Array.isArray(n))return n}(n)||function Fqe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function Nqe(n,e){if(n){if("string"==typeof n)return zue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zue(n,e)}}(n,e)||function Iqe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var _w="by_value";function ZG(n){return(ZG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Uue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function yN(){return yN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=$qe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},yN.apply(this,arguments)}function $qe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Ex(n)););return n}function qG(n,e){return(qG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Zqe(n,e){if(e&&("object"===ZG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function qqe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Ex(n){return(Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Ca(_w,function Bqe(n,e){return(0,Vue(e,1)[0])(n.value)},{name:"By value",inputsCount:0,inputValuesDecorator:function(e){return[rR(Vue(e,1)[0])]},showOperators:!1});const eJe=function(n){!function Xqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&qG(n,e)}(t,n);var e=function Kqe(n){var e=function Jqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Ex(n);if(e){var o=Ex(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Zqe(this,i)}}(t);function t(r,i){var o;return function Yqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.elements.push(new Bue(o.hot)),o.registerHooks(),o}return function Gqe(n,e,t){e&&jue(n.prototype,e),t&&jue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.getMultipleSelectElement().addLocalHook("keydown",function(o){return i.onInputKeyDown(o)})}},{key:"setState",value:function(i){if(this.reset(),i&&i.command.key===_w){var o=this.getMultipleSelectElement();o.setItems(i.itemsSnapshot),o.setValue(i.args[0]),o.setLocale(i.locale)}}},{key:"getState",value:function(){var i=this.getMultipleSelectElement(),o=i.getItems();return{command:{key:i.isSelectedAllValues()||!o.length?Ol:_w},args:[i.getValue()],itemsSnapshot:o}}},{key:"updateState",value:function(i){var o=this,s=function(u,c,h,p,g){var S=function Vqe(n,e){return function Wqe(n){if(Array.isArray(n))return n}(n)||function jqe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function Uqe(n,e){if(n){if("string"==typeof n)return Uue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Uue(n,e)}}(n,e)||function zqe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Qd(c,function(re){return re.name===_w}),1)[0],C={},P=o.hot.getTranslatedPhrase(FP);if(S){var B=jG(to(p(u,g),function(re){return re.value}));h&&(S.args[0]=h);var z=[],j=kue(B,S.args[0],P,function(re){re.checked&&z.push(re.value)});C.locale=o.hot.getCellMeta(0,i.editedConditionStack.column).locale,C.args=[z],C.command=yw(_w),C.itemsSnapshot=j}else C.args=[],C.command=yw(Ol);o.state.setValueAtIndex(u,C)};s(i.editedConditionStack.column,i.editedConditionStack.conditions,i.conditionArgsChange,i.filteredRowsFactory),i.dependentConditionStacks.length&&s(i.dependentConditionStacks[0].column,i.dependentConditionStacks[0].conditions,i.conditionArgsChange,i.filteredRowsFactory,i.editedConditionStack)}},{key:"getMultipleSelectElement",value:function(){return this.elements.filter(function(i){return i instanceof Bue})[0]}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a,u,c,h,p){An(a.parentNode,"htFiltersMenuValue");var g=i.hot.rootDocument.createElement("div");return An(g,"htFiltersMenuLabel"),g.textContent=p,a.appendChild(g),a.parentNode.hasAttribute("ghost-table")||it(i.elements,function(y){return a.appendChild(y.element)}),a}}}},{key:"reset",value:function(){var i=this.hot.getTranslatedPhrase(FP),o=jG(this._getColumnVisibleValues()),s=kue(o,o,i);this.getMultipleSelectElement().setItems(s),yN(Ex(t.prototype),"reset",this).call(this),this.getMultipleSelectElement().setValue(o);var a=this.hot.getPlugin("filters").getSelectedColumn();null!==a&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}},{key:"onInputKeyDown",value:function(i){c1(i.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),rp(i))}},{key:"_getColumnVisibleValues",value:function(){var i=this.hot.getPlugin("filters").getSelectedColumn();return null===i?[]:to(this.hot.getDataAtCol(i.visualIndex),function(o){return Oue(o)})}}]),t}(oN);function JG(n){return(JG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Wue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function QG(n,e){return(QG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function oJe(n,e){if(e&&("object"===JG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function sJe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function _N(n){return(_N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const uJe=function(n){!function rJe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&QG(n,e)}(t,n);var e=function iJe(n){var e=function aJe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=_N(n);if(e){var o=_N(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return oJe(this,i)}}(t);function t(r,i){var o;return function tJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!0})).name=i.name,o.elements.push(new bx(o.hot,{type:"button",value:l4,className:"htUIButton htUIButtonOK",identifier:t.BUTTON_OK})),o.elements.push(new bx(o.hot,{type:"button",value:u4,className:"htUIButton htUIButtonCancel",identifier:t.BUTTON_CANCEL})),o.registerHooks(),o}return function nJe(n,e,t){e&&Wue(n.prototype,e),t&&Wue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;it(this.elements,function(o){o.addLocalHook("click",function(s,a){return i.onButtonClick(s,a)})})}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a){return An(a.parentNode,"htFiltersMenuActionBar"),a.parentNode.hasAttribute("ghost-table")||it(i.elements,function(u){return a.appendChild(u.element)}),a}}}},{key:"accept",value:function(){this.runLocalHooks("accept")}},{key:"cancel",value:function(){this.runLocalHooks("cancel")}},{key:"onButtonClick",value:function(i,o){o.options.identifier===t.BUTTON_OK?this.accept():this.cancel()}}],[{key:"BUTTON_OK",get:function(){return"ok"}},{key:"BUTTON_CANCEL",get:function(){return"cancel"}}]),t}(oN);var Yue,Gue;function $ue(n,e){return function fJe(n){if(Array.isArray(n))return n}(n)||function hJe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function dJe(n,e){if(n){if("string"==typeof n)return Xue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xue(n,e)}}(n,e)||function cJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Kue(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function pJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Zue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var que="ConditionCollection.filteringStates",Jue=function(){function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];pJe(this,n),this.hot=e,this.isMapRegistrable=t,this.filteringStates=new TP,!0===this.isMapRegistrable?this.hot.columnIndexMapper.registerMap(que,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}return function mJe(n,e,t){e&&Zue(n.prototype,e),t&&Zue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"isEmpty",value:function(){return 0===this.getFilteredColumns().length}},{key:"isMatch",value:function(t,r){var i,o=this.filteringStates.getValueAtIndex(r),s=null!==(i=null==o?void 0:o.conditions)&&void 0!==i?i:[];return this.isMatchInConditions(s,t,null==o?void 0:o.operation)}},{key:"isMatchInConditions",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wy;return!t.length||NZe(i)(t,r)}},{key:"addCondition",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wy,o=arguments.length>3?arguments[3]:void 0,s=this.hot.getCellMeta(0,t).locale,a=to(r.args,function(p){return"string"==typeof p?p.toLocaleLowerCase(s):p}),u=r.name||r.command.key;this.runLocalHooks("beforeAdd",t);var c=this.getOperation(t);if(c){if(c!==i)throw Error(is(Yue||(Yue=Kue(["The column of index "," has been already applied with a `","` \n        filter operation. Use `removeConditions` to clear the current conditions and then add new ones. \n        Mind that you cannot mix different types of operations (for instance, if you use `conjunction`, \n        use it consequently for a particular column)."],["The column of index "," has been already applied with a \\`","\\`\\x20\n        filter operation. Use \\`removeConditions\\` to clear the current conditions and then add new ones.\\x20\n        Mind that you cannot mix different types of operations (for instance, if you use \\`conjunction\\`,\\x20\n        use it consequently for a particular column)."])),t,c))}else if(Bs(nR[i]))throw new Error(is(Gue||(Gue=Kue(["Unexpected operation named `","`. Possible ones are \n        `disjunction` and `conjunction`."],["Unexpected operation named \\`","\\`. Possible ones are\\x20\n        \\`disjunction\\` and \\`conjunction\\`."])),i));var h=this.getConditions(t);0===h.length?this.filteringStates.setValueAtIndex(t,{operation:i,conditions:[{name:u,args:a,func:yy(u,a)}]},o):h.push({name:u,args:a,func:yy(u,a)}),this.runLocalHooks("afterAdd",t)}},{key:"getConditions",value:function(t){var r,i;return null!==(r=null===(i=this.filteringStates.getValueAtIndex(t))||void 0===i?void 0:i.conditions)&&void 0!==r?r:[]}},{key:"getOperation",value:function(t){var r;return null===(r=this.filteringStates.getValueAtIndex(t))||void 0===r?void 0:r.operation}},{key:"getFilteredColumns",value:function(){return this.filteringStates.getEntries().map(function(t){return $ue(t,1)[0]})}},{key:"getColumnStackPosition",value:function(t){return this.getFilteredColumns().indexOf(t)}},{key:"exportAllConditions",value:function(){return Ya(this.filteringStates.getEntries(),function(t,r){var i=$ue(r,2),s=i[1];return t.push({column:i[0],operation:s.operation,conditions:to(s.conditions,function(c){return{name:c.name,args:c.args}})}),t},[])}},{key:"importAllConditions",value:function(t){var r=this;this.clean(),it(t,function(i){it(i.conditions,function(o){return r.addCondition(i.column,o)})})}},{key:"removeConditions",value:function(t){this.runLocalHooks("beforeRemove",t),this.filteringStates.clearValue(t),this.runLocalHooks("afterRemove",t)}},{key:"clean",value:function(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}},{key:"hasConditions",value:function(t,r){var i=this.getConditions(t);return r?i.some(function(o){return o.name===r}):i.length>0}},{key:"destroy",value:function(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(que),this.filteringStates=null,this.clearLocalHooks()}}]),n}();ws(Jue,Rc);const Que=Jue;function gJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ece(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const tce=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return[]};gJe(this,n),this.conditionCollection=e,this.columnDataFactory=t}return function vJe(n,e,t){e&&ece(n.prototype,e),t&&ece(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"filter",value:function(){var t=this,r=[];return it(this.conditionCollection.getFilteredColumns(),function(i,o){var s=t.columnDataFactory(i);o&&(s=t._getIntersectData(s,r)),r=t.filterByColumn(i,s)}),r}},{key:"filterByColumn",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=[];return it(i,function(s){void 0!==s&&r.conditionCollection.isMatch(s,t)&&o.push(s)}),o}},{key:"_getIntersectData",value:function(t,r){var i=[];return it(r,function(o){var s=o.meta.visualRow;void 0!==t[s]&&(i[s]=t[s])}),i}}]),n}();function _Je(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var rce=function(){function n(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]};_Je(this,n),this.hot=e,this.conditionCollection=t,this.columnDataFactory=i,this.changes=[],this.grouping=!1,this.latestEditedColumnPosition=-1,this.latestOrderStack=[],this.conditionCollection.addLocalHook("beforeRemove",function(o){return r._onConditionBeforeModify(o)}),this.conditionCollection.addLocalHook("afterRemove",function(o){return r.updateStatesAtColumn(o)}),this.conditionCollection.addLocalHook("afterAdd",function(o){return r.updateStatesAtColumn(o)}),this.conditionCollection.addLocalHook("beforeClean",function(){return r._onConditionBeforeClean()}),this.conditionCollection.addLocalHook("afterClean",function(){return r._onConditionAfterClean()})}return function bJe(n,e,t){e&&nce(n.prototype,e),t&&nce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"groupChanges",value:function(){this.grouping=!0}},{key:"flush",value:function(){var t=this;this.grouping=!1,it(this.changes,function(r){t.updateStatesAtColumn(r)}),this.changes.length=0}},{key:"_onConditionBeforeModify",value:function(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}},{key:"updateStatesAtColumn",value:function(t,r){var i=this;if(this.grouping)-1===this.changes.indexOf(t)&&this.changes.push(t);else{var o=this.conditionCollection.exportAllConditions(),s=this.conditionCollection.getColumnStackPosition(t);-1===s&&(s=this.latestEditedColumnPosition);var a=o.slice(0,s),u=o.slice(s);u.length&&u[0].column===t&&u.shift();var c=function POe(n){var e=n.length;return function t(r){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var u=r.concat(s);return u.length>=e?n.apply(this,u):t(u)}}([])}(function(p,g){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],w=new Que(i.hot,!1),S=[].concat(p,y);w.importAllConditions(S);var C=i.columnDataFactory(g),B=rR(to(w.isEmpty()?C:new tce(w,function(z){return i.columnDataFactory(z)}).filter(),function(z){return z.meta.visualRow}));return w.destroy(),Qd(C,function(z){return B(z.meta.visualRow)})})(a),h=[].concat(this.conditionCollection.getConditions(t));this.runLocalHooks("update",{editedConditionStack:{column:t,conditions:h},dependentConditionStacks:u,filteredRowsFactory:c,conditionArgsChange:r})}}},{key:"_onConditionBeforeClean",value:function(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}},{key:"_onConditionAfterClean",value:function(){var t=this;it(this.latestOrderStack,function(r){t.updateStatesAtColumn(r)})}},{key:"destroy",value:function(){var t=this;this.clearLocalHooks(),ao(this,function(r,i){t[i]=null})}}]),n}();ws(rce,Rc);const wJe=rce;function e5(n){return(e5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var ice;function oce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function sce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Tx(){return Tx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=AJe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Tx.apply(this,arguments)}function AJe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Sy(n)););return n}function t5(n,e){return(t5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function LJe(n,e){if(e&&("object"===e5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ace(n)}function ace(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Sy(n){return(Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var NJe=function(n){!function OJe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&t5(n,e)}(t,n);var e=function kJe(n){var e=function PJe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Sy(n);if(e){var o=Sy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return LJe(this,i)}}(t);function t(r){var i;return function RJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ia(ace(i)),i.dropdownMenuPlugin=null,i.conditionCollection=null,i.conditionUpdateObserver=null,i.components=new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]]),i.lastSelectedColumn=null,i.filtersRowsMap=null,i.hot.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),i}return function DJe(n,e,t){e&&sce(n.prototype,e),t&&sce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().filters}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new S1),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");var o=this.hot.getSettings().dropdownMenu,s=o&&o.uiContainer||this.hot.rootDocument.body,a=function(y){return y.addLocalHook("accept",function(){return i.onActionBarSubmit("accept")}),y.addLocalHook("cancel",function(){return i.onActionBarSubmit("cancel")}),y.addLocalHook("change",function(w){return i.onComponentChange(y,w)}),y};if(!this.components.get("filter_by_condition")){var h=new IG(this.hot,{id:"filter_by_condition",name:function(){return"".concat(i.hot.getTranslatedPhrase(n4),":")},addSeparator:!1,menuContainer:s});h.addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),this.components.set("filter_by_condition",a(h))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new aqe(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){var p=new IG(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:s});p.addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),this.components.set("filter_by_condition2",a(p))}this.components.get("filter_by_value")||this.components.set("filter_by_value",a(new eJe(this.hot,{id:"filter_by_value",name:function(){return"".concat(i.hot.getTranslatedPhrase(r4),":")}}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",a(new uJe(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new Que(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new wJe(this.hot,this.conditionCollection,function(g){return i.getDataMapAtColumn(g)}),this.conditionUpdateObserver.addLocalHook("update",function(g){return i.updateComponents(g)})),this.components.forEach(function(g){return g.show()}),this.addHook("beforeDropdownMenuSetItems",function(g){return i.onBeforeDropdownMenuSetItems(g)}),this.addHook("afterDropdownMenuDefaultOptions",function(g){return i.onAfterDropdownMenuDefaultOptions(g)}),this.addHook("afterDropdownMenuShow",function(){return i.onAfterDropdownMenuShow()}),this.addHook("afterDropdownMenuHide",function(){return i.onAfterDropdownMenuHide()}),this.addHook("afterChange",function(g){return i.onAfterChange(g)}),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),Tx(Sy(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var o,i=this;this.enabled&&(null!==(o=this.dropdownMenuPlugin)&&void 0!==o&&o.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach(function(s,a){s.destroy(),i.components.set(a,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)),Tx(Sy(t.prototype),"disablePlugin",this).call(this)}},{key:"addCondition",value:function(i,o,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wy,u=this.hot.toPhysicalColumn(i);this.conditionCollection.addCondition(u,{command:{key:o},args:s},a)}},{key:"removeConditions",value:function(i){var o=this.hot.toPhysicalColumn(i);this.conditionCollection.removeConditions(o)}},{key:"clearConditions",value:function(i){if(void 0===i)this.conditionCollection.clean();else{var o=this.hot.toPhysicalColumn(i);this.conditionCollection.removeConditions(o)}}},{key:"filter",value:function(){var i=this,o=this._createDataFilter(),s=!this.conditionCollection.isEmpty(),a=[],u=this.conditionCollection.exportAllConditions();if(!1!==this.hot.runHooks("beforeFilter",u))if(s){var h=[];this.hot.batchExecution(function(){i.filtersRowsMap.clear();var p=rR(a=to(o.filter(),function(g){return g.meta.visualRow}));Hr(i.hot.countSourceRows()-1,function(g){p(g)||h.push(g)}),it(h,function(g){i.filtersRowsMap.setValueAtIndex(g,!0)})},!0),a.length||this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",u),this.hot.view.adjustElementsSize(!0),this.hot.render(),this.clearColumnSelection()}},{key:"getSelectedColumn",value:function(){var i,o=null===(i=this.hot.getSelectedRangeLast())||void 0===i?void 0:i.highlight;return o?{visualIndex:o.col,physicalIndex:this.hot.toPhysicalColumn(o.col)}:null}},{key:"clearColumnSelection",value:function(){var i=this.getSelectedColumn();null!==i&&this.hot.selectCell(0,i.visualIndex)}},{key:"getDataMapAtColumn",value:function(i){var o=this,s=this.hot.toVisualColumn(i),a=[];return it(this.hot.getSourceDataAtCol(s),function(u,c){var h,p=o.hot.getCellMeta(c,s),g=p.row,y=p.col,w=p.visualCol,S=p.visualRow,C=p.type,P=p.instance,B=p.dateFormat,z=p.locale,j=null!==(h=o.hot.getDataAtCell(o.hot.toVisualRow(c),s))&&void 0!==h?h:u;a.push({meta:{row:g,col:y,visualCol:w,visualRow:S,type:C,instance:P,dateFormat:B,locale:z},value:Oue(j)})}),a}},{key:"onAfterChange",value:function(i){var o=this;i&&it(i,function(s){var a=function SJe(n,e){return function TJe(n){if(Array.isArray(n))return n}(n)||function EJe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function CJe(n,e){if(n){if("string"==typeof n)return oce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oce(n,e)}}(n,e)||function xJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2),c=o.hot.propToCol(a[1]);o.conditionCollection.hasConditions(c)&&o.updateValueComponentCondition(c)})}},{key:"updateValueComponentCondition",value:function(i){var s=jG(this.hot.getDataAtCol(i));this.conditionUpdateObserver.updateStatesAtColumn(i,s)}},{key:"restoreComponents",value:function(i){var o,s=null===(o=this.getSelectedColumn())||void 0===o?void 0:o.physicalIndex;i.forEach(function(a){a.isHidden()||a.restoreState(s)}),this.updateDependentComponentsVisibility()}},{key:"onAfterDropdownMenuShow",value:function(){this.restoreComponents(Array.from(this.components.values()))}},{key:"onAfterDropdownMenuHide",value:function(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}},{key:"onBeforeDropdownMenuSetItems",value:function(){var i=this;this.dropdownMenuPlugin&&this.dropdownMenuPlugin.menu.addLocalHook("afterOpen",function(){i.dropdownMenuPlugin.menu.hotMenu.updateSettings({hiddenRows:!0})})}},{key:"onAfterDropdownMenuDefaultOptions",value:function(i){i.items.push({name:no}),this.components.forEach(function(o){i.items.push(o.getMenuItemDescriptor())})}},{key:"getOperationBasedOnArguments",value:function(i,o,s,a){var u=i;return u===fN&&o.command.key!==Ol&&s.command.key!==Ol&&a.command.key!==Ol?u=FG:a.command.key!==Ol&&(o.command.key===Ol||s.command.key===Ol)&&(u=wy),u}},{key:"onActionBarSubmit",value:function(i){var o;if("accept"===i){var a,s=this.getSelectedColumn();if(null===s)return void(null===(a=this.dropdownMenuPlugin)||void 0===a||a.close());var u=s.physicalIndex,c=this.components.get("filter_by_condition").getState(),h=this.components.get("filter_by_condition2").getState(),p=this.components.get("filter_by_value").getState(),g=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),c,h,p);this.conditionUpdateObserver.groupChanges();var y=this.conditionCollection.getColumnStackPosition(u);-1===y&&(y=void 0),this.conditionCollection.removeConditions(u),c.command.key!==Ol&&(this.conditionCollection.addCondition(u,c,g,y),h.command.key!==Ol&&this.conditionCollection.addCondition(u,h,g,y)),p.command.key!==Ol&&this.conditionCollection.addCondition(u,p,g,y),this.conditionUpdateObserver.flush(),this.components.forEach(function(w){return w.saveState(u)}),this.filtersRowsMap.clear(),this.filter()}null===(o=this.dropdownMenuPlugin)||void 0===o||o.close()}},{key:"onComponentChange",value:function(i,o){this.updateDependentComponentsVisibility(),i.constructor===IG&&!o.inputsCount&&this.setListeningDropdownMenu()}},{key:"onSelectUIClosed",value:function(){this.setListeningDropdownMenu()}},{key:"setListeningDropdownMenu",value:function(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}},{key:"updateDependentComponentsVisibility",value:function(){var s=this.components.get("filter_by_condition").getState().command,a=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];s.showOperators?this.showComponents.apply(this,a):this.hideComponents.apply(this,a)}},{key:"onAfterGetColHeader",value:function(i,o){var s=this.hot.toPhysicalColumn(i);this.enabled&&this.conditionCollection.hasConditions(s)?An(o,"htFiltersActive"):Hi(o,"htFiltersActive")}},{key:"_createDataFilter",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.conditionCollection;return new tce(o,function(s){return i.getDataMapAtColumn(s)})}},{key:"updateComponents",value:function(i){var o;if(null!==(o=this.dropdownMenuPlugin)&&void 0!==o&&o.enabled){var s=i.editedConditionStack,a=s.conditions,u=s.column,c=a.filter(function(g){return g.name===_w}),h=a.filter(function(g){return g.name!==_w});if(c.length>=2||h.length>=3)ps(is(ice||(ice=function MJe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The filter conditions have been applied properly, but couldn\u2019t be displayed visually. \n        The overall amount of conditions exceed the capability of the dropdown menu. \n        For more details see the documentation."],["The filter conditions have been applied properly, but couldn\u2019t be displayed visually.\\x20\n        The overall amount of conditions exceed the capability of the dropdown menu.\\x20\n        For more details see the documentation."]))));else{var p=this.conditionCollection.getOperation(u);this.components.get("filter_by_condition").updateState(h[0],u),this.components.get("filter_by_condition2").updateState(h[1],u),this.components.get("filter_operators").updateState(p,u),this.components.get("filter_by_value").updateState(i)}}}},{key:"getIndexesOfComponents",value:function(){var i=[];if(!this.dropdownMenuPlugin)return i;for(var o=this.dropdownMenuPlugin.menu,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return it(a,function(c){it(o.menuItems,function(h,p){h.key===c.getMenuItemDescriptor().key&&i.push(p)})}),i}},{key:"changeComponentsVisibility",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.dropdownMenuPlugin){for(var o=this.dropdownMenuPlugin.menu,s=o.hotMenu,a=s.getPlugin("hiddenRows"),u=arguments.length,c=new Array(u>1?u-1:0),h=1;h<u;h++)c[h-1]=arguments[h];var p=this.getIndexesOfComponents.apply(this,c);i?a.showRows(p):a.hideRows(p),s.render()}}},{key:"hideComponents",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.changeComponentsVisibility.apply(this,[!1].concat(o))}},{key:"showComponents",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.changeComponentsVisibility.apply(this,[!0].concat(o))}},{key:"destroy",value:function(){var i=this;this.enabled&&(this.components.forEach(function(o,s){null!==o&&(o.destroy(),i.components.set(s,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),Tx(Sy(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return"filters"}},{key:"PLUGIN_PRIORITY",get:function(){return 250}},{key:"PLUGIN_DEPS",get:function(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}}]),t}(Jo);function uce(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function iR(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?uce(Object(t),!0).forEach(function(r){FJe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uce(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FJe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var cce="internal-use-in-handsontable",HJe={licenseKey:cce,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!0,nullDate:{year:1899,month:12,day:31},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function dce(n){var e,t;return{maxColumns:n.maxColumns,maxRows:n.maxRows,language:null===(e=n[Ku])||void 0===e||null===(t=e.language)||void 0===t?void 0:t.langCode}}function hce(n){return Object.keys(n).reduce(function(e,t){return"hyperformula"!==t&&(e[t]=n[t]),e},{})}function n5(n){return(n5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function bN(){var n="engine_relationship",e=eh(Ku);return e.hasItem(n)||e.register(n,new Map),e.getItem(n)}function r5(){var n="shared_engine_usage",e=eh(Ku);return e.hasItem(n)||e.register(n,new Map),e.getItem(n)}function fce(n){var e,t=bN(),r=0===t.size?[]:Array.from(null!==(e=t.get(n))&&void 0!==e?e:[]);return new Map(r.map(function(i){return[i.getPlugin("formulas").sheetId,i]}))}function pce(n,e){if(n){var t=bN(),r=t.get(n),i=r5(),o=i.get(n);r&&r.includes(e)&&(r.splice(r.indexOf(e),1),0===r.length&&t.delete(n)),o&&o.includes(e.guid)&&(o.splice(o.indexOf(e.guid),1),0===o.length&&(i.delete(n),n.destroy()))}}function GJe(n,e){return(Bs(e)||!n.doesSheetExist(e))&&(e=n.addSheet(e)),e}function mce(n){return"string"==typeof n&&"'"===n.charAt(0)&&"="===n.charAt(1)}function gce(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function vce(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?gce(Object(t),!0).forEach(function(r){wN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gce(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function oR(n){return(oR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Rx(n,e){return function eQe(n){if(Array.isArray(n))return n}(n)||function QJe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||yce(n,e)||function JJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yce(n,e){if(n){if("string"==typeof n)return o5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o5(n,e)}}function o5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tQe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _ce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function bw(){return bw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=rQe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},bw.apply(this,arguments)}function rQe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Jm(n)););return n}function s5(n,e){return(s5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function sQe(n,e){if(e&&("object"===oR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ww(n)}function ww(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jm(n){return(Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function wN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a5(n,e,t){(function lQe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Dx(n,e,t){return function uQe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,bce(n,e,"set"),t),t}function Ax(n,e){return function cQe(n,e){return e.get?e.get.call(n):e.value}(n,bce(n,e,"get"))}function bce(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Ku="formulas";xr.getSingleton().register("afterNamedExpressionAdded"),xr.getSingleton().register("afterNamedExpressionRemoved"),xr.getSingleton().register("afterSheetAdded"),xr.getSingleton().register("afterSheetRemoved"),xr.getSingleton().register("afterSheetRenamed"),xr.getSingleton().register("afterFormulasValuesUpdate");var Ox=function(e){return"UndoRedo.undo"===e||"UndoRedo.redo"===e||"auto"===e},Mw=new WeakMap,l5=new WeakMap,sR=new WeakMap,hQe=function(n){!function iQe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&s5(n,e)}(t,n);var e=function oQe(n){var e=function aQe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Jm(n);if(e){var o=Jm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return sQe(this,i)}}(t);function t(){var r;tQe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return a5(ww(r=e.call.apply(e,[this].concat(o))),Mw,{writable:!0,value:!1}),a5(ww(r),l5,{writable:!0,value:!1}),a5(ww(r),sR,{writable:!0,value:[["valuesUpdated",function(){var a;return(a=r).onEngineValuesUpdated.apply(a,arguments)}],["namedExpressionAdded",function(){var a;return(a=r).onEngineNamedExpressionsAdded.apply(a,arguments)}],["namedExpressionRemoved",function(){var a;return(a=r).onEngineNamedExpressionsRemoved.apply(a,arguments)}],["sheetAdded",function(){var a;return(a=r).onEngineSheetAdded.apply(a,arguments)}],["sheetRenamed",function(){var a;return(a=r).onEngineSheetRenamed.apply(a,arguments)}],["sheetRemoved",function(){var a;return(a=r).onEngineSheetRemoved.apply(a,arguments)}]]}),wN(ww(r),"staticRegister",eh("formulas")),wN(ww(r),"engine",null),wN(ww(r),"sheetName",null),r}return function nQe(n,e,t){e&&_ce(n.prototype,e),t&&_ce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"sheetId",get:function(){return null===this.sheetName?null:this.engine.getSheetId(this.sheetName)}},{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Ku]}},{key:"enablePlugin",value:function(){var i,o=this;if(!this.enabled){if(this.engine=null!==(i=function zJe(n){var i,e=n.getSettings(),t=e[Ku],r=null==t?void 0:t.engine;if(!0===t||Bs(r))return null;if("function"==typeof r.hyperformula||"function"==typeof r)return function UJe(n,e,t){var r=e[Ku],i=function BJe(n){var e,t=n[Ku],r=hce(null!=t&&null!==(e=t.engine)&&void 0!==e&&e.hyperformula?t.engine:{}),i=dce(n);return iR(iR(iR({},HJe),r),i)}(e),o=bN(),s=r5();(function jJe(n,e){e&&e.forEach(function(t){var r=t.name,i=t.plugin,o=t.translations;try{n.registerFunction(r,i,o)}catch(s){ps(s.message)}})})(n,r.functions),function WJe(n,e){if(e){var t=e.langCode;try{n.registerLanguage(t,e)}catch(r){ps(r.message)}}}(n,r.language);var a=n.buildEmpty(i);return o.set(a,[t]),s.set(a,[t.guid]),function YJe(n,e){e&&(n.suspendEvaluation(),e.forEach(function(t){var r=t.name,i=t.expression,o=t.scope,s=t.options;try{n.addNamedExpression(r,i,o,s)}catch(a){ps(a.message)}}),n.resumeEvaluation())}(a,r.namedExpressions),a.on("sheetAdded",function(){a.rebuildAndRecalculate()}),a.on("sheetRemoved",function(){a.rebuildAndRecalculate()}),a}(null!==(i=r.hyperformula)&&void 0!==i?i:r,e,n);if("object"===n5(r)&&Bs(r.hyperformula)){var o=bN(),s=r5().get(r);return o.has(r)||o.set(r,[]),o.get(r).push(n),s&&s.push(n.guid),r.getConfig().licenseKey||r.updateConfig({licenseKey:cce}),r}return null}(this.hot))&&void 0!==i?i:this.engine,!this.engine)return void ps("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");if(null!==this.sheetName&&!this.engine.doesSheetExist(this.sheetName)){var s=this.addSheet(this.sheetName,this.hot.getSourceDataArray());!1!==s&&(this.sheetName=s)}this.addHook("beforeLoadData",function(){return o.onBeforeLoadData.apply(o,arguments)}),this.addHook("afterLoadData",function(){return o.onAfterLoadData.apply(o,arguments)}),this.addHook("modifyData",function(){return o.onModifyData.apply(o,arguments)}),this.addHook("modifySourceData",function(){return o.onModifySourceData.apply(o,arguments)}),this.addHook("beforeValidate",function(){return o.onBeforeValidate.apply(o,arguments)}),this.addHook("afterSetSourceDataAtCell",function(){return o.onAfterSetSourceDataAtCell.apply(o,arguments)}),this.addHook("afterSetDataAtCell",function(){return o.onAfterSetDataAtCell.apply(o,arguments)}),this.addHook("afterSetDataAtRowProp",function(){return o.onAfterSetDataAtCell.apply(o,arguments)}),this.addHook("beforeCreateRow",function(){return o.onBeforeCreateRow.apply(o,arguments)}),this.addHook("beforeCreateCol",function(){return o.onBeforeCreateCol.apply(o,arguments)}),this.addHook("afterCreateRow",function(){return o.onAfterCreateRow.apply(o,arguments)}),this.addHook("afterCreateCol",function(){return o.onAfterCreateCol.apply(o,arguments)}),this.addHook("beforeRemoveRow",function(){return o.onBeforeRemoveRow.apply(o,arguments)}),this.addHook("beforeRemoveCol",function(){return o.onBeforeRemoveCol.apply(o,arguments)}),this.addHook("afterRemoveRow",function(){return o.onAfterRemoveRow.apply(o,arguments)}),this.addHook("afterRemoveCol",function(){return o.onAfterRemoveCol.apply(o,arguments)}),this.addHook("beforeUndo",function(a){"row_move"!==(null==a?void 0:a.actionType)&&o.engine.undo()}),this.addHook("beforeRedo",function(a){"row_move"!==(null==a?void 0:a.actionType)&&o.engine.redo()}),this.addHook("afterDetachChild",function(){return o.onAfterDetachChild.apply(o,arguments)}),this.addHook("beforeAutofill",function(){return o.onBeforeAutofill.apply(o,arguments)}),Ax(this,sR).forEach(function(a){var u=Rx(a,2);return o.engine.on(u[0],u[1])}),bw(Jm(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var i=this;Ax(this,sR).forEach(function(o){var s=Rx(o,2);return i.engine.off(s[0],s[1])}),pce(this.engine,this.hot),this.engine=null,bw(Jm(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(i){this.engine.updateConfig(function VJe(n){var e,t=n[Ku],r=hce(null!=t&&null!==(e=t.engine)&&void 0!==e&&e.hyperformula?t.engine:{}),i=dce(n);return iR(iR({},r),i)}(this.hot.getSettings()));var o=this.hot.getSettings()[Ku];if(wr(o)&&wr(o.sheetName)&&o.sheetName!==this.sheetName&&this.switchSheet(o.sheetName),!i.data&&null===this.sheetName){var s=this.hot.getSettings()[Ku].sheetName;s&&this.engine.doesSheetExist(s)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(null!=s?s:void 0,this.hot.getSourceDataArray())}bw(Jm(t.prototype),"updatePlugin",this).call(this,i)}},{key:"destroy",value:function(){var i=this;Ax(this,sR).forEach(function(o){var s,a=Rx(o,2);return null===(s=i.engine)||void 0===s?void 0:s.off(a[0],a[1])}),Dx(this,sR,null),pce(this.engine,this.hot),this.engine=null,bw(Jm(t.prototype),"destroy",this).call(this)}},{key:"getPhysicalIndexPosition",value:function(i,o,s,a,u){return!u&&i>=s?a+(i-s):o}},{key:"toPhysicalRowPosition",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPhysicalIndexPosition(i,this.hot.toPhysicalRow(i),this.hot.countRows(),this.hot.countSourceRows(),o)}},{key:"toPhysicalColumnPosition",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPhysicalIndexPosition(i,this.hot.toPhysicalColumn(i),this.hot.countCols(),this.hot.countSourceCols(),o)}},{key:"addSheet",value:function(i,o){if(wr(o)&&!function nFe(n){return!!(Array.isArray(n)&&n.length&&n.every(function(e){return Array.isArray(e)}))}(o))return ps("The provided data should be an array of arrays."),!1;if(null!=i&&this.engine.doesSheetExist(i))return ps("Sheet with the provided name already exists."),!1;try{var s=this.engine.addSheet(null!=i?i:void 0);return o&&this.engine.setSheetContent(this.engine.getSheetId(s),o),s}catch(a){return ps(a.message),!1}}},{key:"switchSheet",value:function(i){if(this.engine.doesSheetExist(i)){this.sheetName=i;var o=this.engine.getSheetSerialized(this.sheetId);o.length>0&&this.hot.loadData(o,"".concat(km(Ku),".switchSheet"))}else QV("The sheet named `".concat(i,"` does not exist, switch aborted."))}},{key:"getCellType",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId,a=this.hot.toPhysicalRow(i),u=this.hot.toPhysicalColumn(o);return null!==a&&null!==u?this.engine.getCellType({sheet:s,row:a,col:u}):"EMPTY"}},{key:"isFormulaCellType",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId,a=this.hot.toPhysicalRow(i),u=this.hot.toPhysicalColumn(o);return null!==a&&null!==u&&this.engine.doesCellHaveFormula({sheet:s,row:a,col:u})}},{key:"renderDependentSheets",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Set;i.forEach(function(u){var c,h=null==u||null===(c=u.address)||void 0===c?void 0:c.sheet;void 0!==h&&(a.has(h)||a.add(h))}),fce(this.engine).forEach(function(u,c){var h;(s||c!==o.sheetId)&&a.has(c)&&(u.render(),null===(h=u.view)||void 0===h||h.adjustElementsSize())})}},{key:"validateDependentCells",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=function(h){var p,g=null!==(p=null==h?void 0:h.address)&&void 0!==p?p:{},y=g.row,w=g.col,S=g.sheet;return wr(S)?"".concat(S,":").concat(y,"x").concat(w):""},u=new Set(s.map(function(c){return a(c)}));i.forEach(function(c){var h,p,g=null!==(h=c.address)&&void 0!==h?h:{},y=g.row,w=g.col,S=wr(y)?o.hot.toVisualRow(y):null,C=wr(w)?o.hot.toVisualColumn(w):null;if(null!==S&&null!==C){var P=null==c||null===(p=c.address)||void 0===p?void 0:p.sheet,B=a(c);if(void 0!==P&&!u.has(B)){var z=fce(o.engine).get(P);if(!z)return;z.validateCell(z.getDataAtCell(S,C),z.getCellMeta(S,C),function(){})}}})}},{key:"syncChangeWithEngine",value:function(i,o,s){var a={row:this.toPhysicalRowPosition(i),col:this.toPhysicalColumnPosition(o),sheet:this.sheetId};if(this.engine.isItPossibleToSetCellContents(a))return this.engine.setCellContents(a,s);ps("Not possible to set cell data at ".concat(JSON.stringify(a)))}},{key:"onBeforeValidate",value:function(i,o,s){var a=this.hot.propToCol(s);if(this.isFormulaCellType(o,a)){var u={row:this.hot.toPhysicalRow(o),col:this.hot.toPhysicalColumn(a),sheet:this.sheetId},c=this.engine.getCellValue(u);return"object"===oR(c)&&null!==c?c.value:c}return i}},{key:"onBeforeAutofill",value:function(i,o,s){var a=this,u=function(g){return vce(vce({},g),{},{sheet:a.sheetId})},c={start:u(o.getTopStartCorner()),end:u(o.getBottomEndCorner())},h={start:u(s.getTopStartCorner()),end:u(s.getBottomEndCorner())};return!1!==this.engine.isItPossibleToSetCellContents(h)&&this.engine.getFillRangeData(c,h)}},{key:"onBeforeLoadData",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";s.includes(km(Ku))||Dx(this,l5,Bs(this.hot.getSettings().data))}},{key:"onAfterLoadData",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!s.includes(km(Ku)))if(this.sheetName=GJe(this.engine,this.hot.getSettings()[Ku].sheetName),Ax(this,l5))this.switchSheet(this.sheetName);else{var a=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,a)){Dx(this,Mw,!0);var u=this.engine.setSheetContent(this.sheetId,this.hot.getSourceDataArray());this.renderDependentSheets(u),Dx(this,Mw,!1)}}}},{key:"onModifyData",value:function(i,o,s,a){if("get"===a&&!Ax(this,Mw)&&null!==this.sheetName&&this.engine.doesSheetExist(this.sheetName)){var u=this.hot.toVisualRow(i);if(!this.isFormulaCellType(u,o)&&"ARRAY"!==this.getCellType(u,o))return void(mce(s.value)&&(s.value=function $Je(n){return mce(n)?n.substr(1):n}(s.value)));var p={row:i,col:this.toPhysicalColumnPosition(o),sheet:this.sheetId},g=this.engine.getCellValue(p),y="object"===oR(g)&&null!==g?g.value:g;s.value=y}}},{key:"onModifySourceData",value:function(i,o,s,a){if("get"===a&&!Ax(this,Mw)&&null!==this.sheetName&&this.engine.doesSheetExist(this.sheetName)){var u=this.hot.toVisualRow(i),c=this.hot.propToCol(o);if(!this.isFormulaCellType(u,c)&&"ARRAY"!==this.getCellType(u,c))return;var g=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(0!==g.width||0!==g.height){var y={row:i,col:this.toPhysicalColumnPosition(c),sheet:this.sheetId};s.value=this.engine.getCellSerialized(y)}}}},{key:"onAfterSetDataAtCell",value:function(i,o){var s=this;if(!Ox(o)){var a=[],u=[],c=this.engine.batch(function(){i.forEach(function(h){var p=Rx(h,4),g=p[0],w=p[3],S=s.hot.propToCol(p[1]),C=s.hot.toPhysicalRow(g),P=s.hot.toPhysicalColumn(S),B={row:C,col:P,sheet:s.sheetId};null!==C&&null!==P?s.syncChangeWithEngine(g,S,w):a.push([g,S,w]),u.push({address:B})})});a.length&&this.hot.addHookOnce("afterChange",function(){var h=s.engine.batch(function(){a.forEach(function(p){var g=Rx(p,3);s.syncChangeWithEngine(g[0],g[1],g[2])})});s.renderDependentSheets(h,!0)}),this.renderDependentSheets(c),this.validateDependentCells(c,u)}}},{key:"onAfterSetSourceDataAtCell",value:function(i,o){var s=this;if(!Ox(o)){var a=[],u=[];i.forEach(function(c){var h=Rx(c,4),p=h[0],y=h[3],w=s.hot.propToCol(h[1]);if(th(w)){var S={row:p,col:s.toPhysicalColumnPosition(w),sheet:s.sheetId};if(!s.engine.isItPossibleToSetCellContents(S))return void ps("Not possible to set source cell data at ".concat(JSON.stringify(S)));u.push({address:S}),a.push.apply(a,function XJe(n){return function qJe(n){if(Array.isArray(n))return o5(n)}(n)||function ZJe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||yce(n)||function KJe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s.engine.setCellContents(S,y)))}}),this.renderDependentSheets(a),this.validateDependentCells(a,u)}}},{key:"onBeforeCreateRow",value:function(i,o){if(null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[this.toPhysicalRowPosition(i),o]))return!1}},{key:"onBeforeCreateCol",value:function(i,o){if(null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[this.toPhysicalColumnPosition(i),o]))return!1}},{key:"onBeforeRemoveRow",value:function(i,o,s){var a=this;return!1!==s.every(function(c){return a.engine.isItPossibleToRemoveRows(a.sheetId,[c,1])})&&void 0}},{key:"onBeforeRemoveCol",value:function(i,o,s){var a=this;return!1!==s.every(function(c){return a.engine.isItPossibleToRemoveColumns(a.sheetId,[c,1])})&&void 0}},{key:"onAfterCreateRow",value:function(i,o,s){if(!Ox(s)){var a=this.engine.addRows(this.sheetId,[this.toPhysicalRowPosition(i),o]);this.renderDependentSheets(a)}}},{key:"onAfterCreateCol",value:function(i,o,s){if(!Ox(s)){var a=this.engine.addColumns(this.sheetId,[this.toPhysicalColumnPosition(i),o]);this.renderDependentSheets(a)}}},{key:"onAfterRemoveRow",value:function(i,o,s,a){var u=this;if(!Ox(a)){var c=s.sort().reverse(),h=this.engine.batch(function(){c.forEach(function(p){u.engine.removeRows(u.sheetId,[p,1])})});this.renderDependentSheets(h)}}},{key:"onAfterRemoveCol",value:function(i,o,s,a){var u=this;if(!Ox(a)){var c=s.sort().reverse(),h=this.engine.batch(function(){c.forEach(function(p){u.engine.removeColumns(u.sheetId,[p,1])})});this.renderDependentSheets(h)}}},{key:"onAfterDetachChild",value:function(i,o,s){var a,u=this;Dx(this,Mw,!0);var c=this.hot.getSourceDataArray(s,0,s+((null===(a=o.__children)||void 0===a?void 0:a.length)||0),this.hot.countSourceCols());Dx(this,Mw,!1),c.forEach(function(h,p){h.forEach(function(g,y){u.engine.setCellContents({col:y,row:s+p,sheet:u.sheetId},[[g]])})})}},{key:"onEngineValuesUpdated",value:function(i){this.hot.runHooks("afterFormulasValuesUpdate",i)}},{key:"onEngineNamedExpressionsAdded",value:function(i,o){this.hot.runHooks("afterNamedExpressionAdded",i,o)}},{key:"onEngineNamedExpressionsRemoved",value:function(i,o){this.hot.runHooks("afterNamedExpressionRemoved",i,o)}},{key:"onEngineSheetAdded",value:function(i){this.hot.runHooks("afterSheetAdded",i)}},{key:"onEngineSheetRenamed",value:function(i,o){this.hot.runHooks("afterSheetRenamed",i,o)}},{key:"onEngineSheetRemoved",value:function(i,o){this.hot.runHooks("afterSheetRemoved",i,o)}}],[{key:"PLUGIN_KEY",get:function(){return Ku}},{key:"PLUGIN_PRIORITY",get:function(){return 260}}]),t}(Jo);function Mce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function MN(n){return function MQe(n){if(Array.isArray(n))return u5(n)}(n)||function wQe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function bQe(n,e){if(n){if("string"==typeof n)return u5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u5(n,e)}}(n)||function _Qe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function c5(n){return(c5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xQe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Sce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Sw(){return Sw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=EQe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Sw.apply(this,arguments)}function EQe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Qm(n)););return n}function d5(n,e){return(d5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function DQe(n,e){if(e&&("object"===c5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h5(n)}function h5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qm(n){return(Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function xce(n,e,t){(function OQe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function yd(n,e){return function kQe(n,e){return e.get?e.get.call(n):e.value}(n,Cce(n,e,"get"))}function aR(n,e,t){return function LQe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Cce(n,e,"set"),t),t}function Cce(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}xr.getSingleton().register("beforeHideColumns"),xr.getSingleton().register("afterHideColumns"),xr.getSingleton().register("beforeUnhideColumns"),xr.getSingleton().register("afterUnhideColumns");var f5="hiddenColumns",pp=new WeakMap,mp=new WeakMap,IQe=function(n){!function TQe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&d5(n,e)}(t,n);var e=function RQe(n){var e=function AQe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Qm(n);if(e){var o=Qm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return DQe(this,i)}}(t);function t(){var r;xQe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return xce(h5(r=e.call.apply(e,[this].concat(o))),pp,{writable:!0,value:{}}),xce(h5(r),mp,{writable:!0,value:null}),r}return function CQe(n,e,t){e&&Sce(n.prototype,e),t&&Sce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[f5]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[f5];$i(o)&&(aR(this,pp,o),Bs(o.copyPasteEnabled)&&(o.copyPasteEnabled=!0)),aR(this,mp,new EP),yd(this,mp).addLocalHook("init",function(){return i.onMapInit()}),this.hot.columnIndexMapper.registerMap(this.pluginName,yd(this,mp)),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(s,a,u){return i.onAfterGetCellMeta(s,a,u)}),this.addHook("modifyColWidth",function(s,a){return i.onModifyColWidth(s,a)}),this.addHook("afterGetColHeader",function(){return i.onAfterGetColHeader.apply(i,arguments)}),this.addHook("modifyCopyableRange",function(s){return i.onModifyCopyableRange(s)}),Sw(Qm(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Sw(Qm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),aR(this,pp,{}),Sw(Qm(t.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showColumns",value:function(i){var o=this,s=this.getHiddenColumns(),a=this.isValidConfig(i),u=s,c=yd(this,mp).getValues().slice(),h=i.length>0;a&&h&&(it(i.map(function(y){return o.hot.toPhysicalColumn(y)}),function(y){c[y]=!1}),u=Ya(c,function(y,w,S){return w&&y.push(o.hot.toVisualColumn(S)),y},[])),!1!==this.hot.runHooks("beforeUnhideColumns",s,u,a&&h)&&(a&&h&&yd(this,mp).setValues(c),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",s,u,a&&h,a&&u.length<s.length))}},{key:"showColumn",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.showColumns(o)}},{key:"hideColumns",value:function(i){var o=this,s=this.getHiddenColumns(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeHideColumns",s,u,a)&&(a&&this.hot.batchExecution(function(){it(i,function(h){yd(o,mp).setValueAtIndex(o.hot.toPhysicalColumn(h),!0)})},!0),this.hot.runHooks("afterHideColumns",s,u,a,a&&u.length>s.length))}},{key:"hideColumn",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.hideColumns(o)}},{key:"getHiddenColumns",value:function(){var i=this;return to(yd(this,mp).getHiddenIndexes(),function(o){return i.hot.toVisualColumn(o)})}},{key:"isHidden",value:function(i){return yd(this,mp).getValueAtIndex(this.hot.toPhysicalColumn(i))||!1}},{key:"isValidConfig",value:function(i){var o=this.hot.countCols();return!!(Array.isArray(i)&&i.length>0)&&i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"resetCellsMeta",value:function(){it(this.hot.getCellsMeta(),function(i){i&&(i.skipColumnOnPaste=!1)})}},{key:"onModifyColWidth",value:function(i,o){return this.isHidden(o)?0:yd(this,pp).indicators&&(this.isHidden(o+1)||this.isHidden(o-1))&&"number"==typeof i&&this.hot.hasColHeaders()?i+15:void 0}},{key:"onAfterGetCellMeta",value:function(i,o,s){if(!1===yd(this,pp).copyPasteEnabled&&this.isHidden(o)&&(s.skipColumnOnPaste=!0),this.isHidden(o-1))s.className=s.className||"",-1===s.className.indexOf("afterHiddenColumn")&&(s.className+=" afterHiddenColumn");else if(s.className){var a=s.className.split(" ");if(a.length>0){var u=a.indexOf("afterHiddenColumn");u>-1&&a.splice(u,1),s.className=a.join(" ")}}}},{key:"onModifyCopyableRange",value:function(i){var o=this;if(yd(this,pp).copyPasteEnabled)return i;var s=[],a=function(c,h,p,g){s.push({startRow:c,endRow:h,startCol:p,endCol:g})};return it(i,function(u){var c=!0,h=0;Hr(u.startCol,u.endCol,function(p){o.isHidden(p)?(c||a(u.startRow,u.endRow,h,p-1),c=!0):(c&&(h=p),p===u.endCol&&a(u.startRow,u.endRow,h,p),c=!1)})}),s}},{key:"onAfterGetColHeader",value:function(i,o){if(yd(this,pp).indicators&&!(i<0)){var s=[];i>=1&&this.isHidden(i-1)&&s.push("afterHiddenColumn"),i<this.hot.countCols()-1&&this.isHidden(i+1)&&s.push("beforeHiddenColumn"),An(o,s)}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:no},function yQe(n){return{key:"hidden_columns_hide",name:function(){var t=this.getSelectedLast(),r=0;if(Array.isArray(t)){var i=function fQe(n,e){return function vQe(n){if(Array.isArray(n))return n}(n)||function gQe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function mQe(n,e){if(n){if("string"==typeof n)return Mce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mce(n,e)}}(n,e)||function pQe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,4);i[1]-i[3]!=0&&(r=1)}return this.getTranslatedPhrase(Lj,r)},callback:function(){for(var t=this.getSelectedRangeLast(),r=t.from,i=t.to,o=Math.max(Math.min(r.col,i.col),0),s=Math.max(r.col,i.col),a=[],u=o;u<=s;u+=1)a.push(u);n.hideColumns(a);var h=this.columnIndexMapper.getNearestNotHiddenIndex(a[a.length-1],1,!0);Number.isInteger(h)&&h>=0?this.selectColumns(h):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}(this),function SQe(n){var e=[];return{key:"hidden_columns_show",name:function(){return this.getTranslatedPhrase(Pj,e.length>1?1:0)},callback:function(){var r,i;if(0!==e.length){var o=e[0],s=e[e.length-1];o=null!==(r=this.columnIndexMapper.getNearestNotHiddenIndex(o-1,-1))&&void 0!==r?r:0,s=null!==(i=this.columnIndexMapper.getNearestNotHiddenIndex(s+1,1))&&void 0!==i?i:this.countCols()-1,n.showColumns(e),this.render(),this.view.adjustElementsSize(!0),s-o+1===this.countCols()||this.selectColumns(o,s)}},disabled:!1,hidden:function(){var r=this,i=to(n.getHiddenColumns(),function(B){return r.toPhysicalColumn(B)});if(!this.selection.isSelectedByColumnHeader()&&!this.selection.isSelectedByCorner()||i.length<1)return!0;e.length=0;var o=this.getSelectedRangeLast(),s=o.getTopStartCorner().col,a=o.getBottomEndCorner().col,u=this.columnIndexMapper,c=u.getRenderableFromVisualIndex(s),h=u.getRenderableFromVisualIndex(a),p=u.getNotTrimmedIndexes(),g=[];if(s!==a){if(a-s+1>h-c+1){var S=p.slice(s,a+1);g.push.apply(g,MN(S.filter(function(B){return i.includes(B)})))}}else if(0===c&&c<s)g.push.apply(g,MN(p.slice(0,s)));else if(null===c)g.push.apply(g,MN(p.slice(0,this.countCols())));else{var C=this.countCols()-1;h===u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(C,-1))&&C>a&&g.push.apply(g,MN(p.slice(a+1)))}return it(g,function(B){e.push(r.toVisualColumn(B))}),0===e.length}}}(this))}},{key:"onMapInit",value:function(){Array.isArray(yd(this,pp).columns)&&this.hideColumns(yd(this,pp).columns)}},{key:"destroy",value:function(){aR(this,pp,null),aR(this,mp,null),Sw(Qm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return f5}},{key:"PLUGIN_PRIORITY",get:function(){return 310}}]),t}(Jo);function Ece(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function SN(n){return function YQe(n){if(Array.isArray(n))return p5(n)}(n)||function WQe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function jQe(n,e){if(n){if("string"==typeof n)return p5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p5(n,e)}}(n)||function UQe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function m5(n){return(m5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function $Qe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function xw(){return xw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=KQe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xw.apply(this,arguments)}function KQe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=eg(n)););return n}function g5(n,e){return(g5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function JQe(n,e){if(e&&("object"===m5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v5(n)}function v5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function eg(n){return(eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Rce(n,e,t){(function eet(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function lh(n,e){return function tet(n,e){return e.get?e.get.call(n):e.value}(n,Dce(n,e,"get"))}function lR(n,e,t){return function net(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Dce(n,e,"set"),t),t}function Dce(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}xr.getSingleton().register("beforeHideRows"),xr.getSingleton().register("afterHideRows"),xr.getSingleton().register("beforeUnhideRows"),xr.getSingleton().register("afterUnhideRows");var y5="hiddenRows",tg=new WeakMap,gp=new WeakMap,iet=function(n){!function ZQe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&g5(n,e)}(t,n);var e=function qQe(n){var e=function QQe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=eg(n);if(e){var o=eg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return JQe(this,i)}}(t);function t(){var r;$Qe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Rce(v5(r=e.call.apply(e,[this].concat(o))),tg,{writable:!0,value:{}}),Rce(v5(r),gp,{writable:!0,value:null}),r}return function XQe(n,e,t){e&&Tce(n.prototype,e),t&&Tce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[y5]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[y5];$i(o)&&(lR(this,tg,o),Bs(o.copyPasteEnabled)&&(o.copyPasteEnabled=!0)),lR(this,gp,new EP),lh(this,gp).addLocalHook("init",function(){return i.onMapInit()}),this.hot.rowIndexMapper.registerMap(this.pluginName,lh(this,gp)),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(s,a,u){return i.onAfterGetCellMeta(s,a,u)}),this.addHook("modifyRowHeight",function(s,a){return i.onModifyRowHeight(s,a)}),this.addHook("afterGetRowHeader",function(){return i.onAfterGetRowHeader.apply(i,arguments)}),this.addHook("modifyCopyableRange",function(s){return i.onModifyCopyableRange(s)}),xw(eg(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),xw(eg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),lR(this,tg,{}),xw(eg(t.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showRows",value:function(i){var o=this,s=this.getHiddenRows(),a=this.isValidConfig(i),u=s,c=lh(this,gp).getValues().slice(),h=i.length>0;a&&h&&(it(i.map(function(y){return o.hot.toPhysicalRow(y)}),function(y){c[y]=!1}),u=Ya(c,function(y,w,S){return w&&y.push(o.hot.toVisualRow(S)),y},[])),!1!==this.hot.runHooks("beforeUnhideRows",s,u,a&&h)&&(a&&h&&lh(this,gp).setValues(c),this.hot.runHooks("afterUnhideRows",s,u,a&&h,a&&u.length<s.length))}},{key:"showRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.showRows(o)}},{key:"hideRows",value:function(i){var o=this,s=this.getHiddenRows(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeHideRows",s,u,a)&&(a&&this.hot.batchExecution(function(){it(i,function(h){lh(o,gp).setValueAtIndex(o.hot.toPhysicalRow(h),!0)})},!0),this.hot.runHooks("afterHideRows",s,u,a,a&&u.length>s.length))}},{key:"hideRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.hideRows(o)}},{key:"getHiddenRows",value:function(){var i=this;return to(lh(this,gp).getHiddenIndexes(),function(o){return i.hot.toVisualRow(o)})}},{key:"isHidden",value:function(i){return lh(this,gp).getValueAtIndex(this.hot.toPhysicalRow(i))||!1}},{key:"isValidConfig",value:function(i){var o=this.hot.countRows();return!!(Array.isArray(i)&&i.length>0)&&i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"resetCellsMeta",value:function(){it(this.hot.getCellsMeta(),function(i){i&&(i.skipRowOnPaste=!1)})}},{key:"onModifyRowHeight",value:function(i,o){return this.isHidden(o)?0:i}},{key:"onAfterGetCellMeta",value:function(i,o,s){if(!1===lh(this,tg).copyPasteEnabled&&this.isHidden(i)&&(s.skipRowOnPaste=!0),this.isHidden(i-1))s.className=s.className||"",-1===s.className.indexOf("afterHiddenRow")&&(s.className+=" afterHiddenRow");else if(s.className){var a=s.className.split(" ");if(a.length>0){var u=a.indexOf("afterHiddenRow");u>-1&&a.splice(u,1),s.className=a.join(" ")}}}},{key:"onModifyCopyableRange",value:function(i){var o=this;if(lh(this,tg).copyPasteEnabled)return i;var s=[],a=function(c,h,p,g){s.push({startRow:c,endRow:h,startCol:p,endCol:g})};return it(i,function(u){var c=!0,h=0;Hr(u.startRow,u.endRow,function(p){o.isHidden(p)?(c||a(h,p-1,u.startCol,u.endCol),c=!0):(c&&(h=p),p===u.endRow&&a(h,p,u.startCol,u.endCol),c=!1)})}),s}},{key:"onAfterGetRowHeader",value:function(i,o){if(lh(this,tg).indicators&&!(i<0)){var s=[];i>=1&&this.isHidden(i-1)&&s.push("afterHiddenRow"),i<this.hot.countRows()-1&&this.isHidden(i+1)&&s.push("beforeHiddenRow"),An(o,s)}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:no},function zQe(n){return{key:"hidden_rows_hide",name:function(){var t=this.getSelectedLast(),r=0;if(Array.isArray(t)){var i=function NQe(n,e){return function VQe(n){if(Array.isArray(n))return n}(n)||function BQe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function HQe(n,e){if(n){if("string"==typeof n)return Ece(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ece(n,e)}}(n,e)||function FQe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,3);i[0]-i[2]!=0&&(r=1)}return this.getTranslatedPhrase(Ij,r)},callback:function(){for(var t=this.getSelectedRangeLast(),r=t.from,i=t.to,o=Math.max(Math.min(r.row,i.row),0),s=Math.max(r.row,i.row),a=[],u=o;u<=s;u+=1)a.push(u);n.hideRows(a);var h=this.rowIndexMapper.getNearestNotHiddenIndex(a[a.length-1],1,!0);Number.isInteger(h)&&h>=0?this.selectRows(h):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}(this),function GQe(n){var e=[];return{key:"hidden_rows_show",name:function(){return this.getTranslatedPhrase(Nj,e.length>1?1:0)},callback:function(){var r,i;if(0!==e.length){var o=e[0],s=e[e.length-1];o=null!==(r=this.rowIndexMapper.getNearestNotHiddenIndex(o-1,-1))&&void 0!==r?r:0,s=null!==(i=this.rowIndexMapper.getNearestNotHiddenIndex(s+1,1))&&void 0!==i?i:this.countRows()-1,n.showRows(e),this.render(),this.view.adjustElementsSize(!0),s-o+1===this.countRows()||this.selectRows(o,s)}},disabled:!1,hidden:function(){var r=this,i=to(n.getHiddenRows(),function(B){return r.toPhysicalRow(B)});if(!this.selection.isSelectedByRowHeader()&&!this.selection.isSelectedByCorner()||i.length<1)return!0;e.length=0;var o=this.getSelectedRangeLast(),s=o.getTopStartCorner().row,a=o.getBottomEndCorner().row,u=this.rowIndexMapper,c=u.getRenderableFromVisualIndex(s),h=u.getRenderableFromVisualIndex(a),p=u.getNotTrimmedIndexes(),g=[];if(s!==a){if(a-s+1>h-c+1){var S=p.slice(s,a+1);g.push.apply(g,SN(S.filter(function(B){return i.includes(B)})))}}else if(0===c&&c<s)g.push.apply(g,SN(p.slice(0,s)));else if(null===c)g.push.apply(g,SN(p.slice(0,this.countRows())));else{var C=this.countRows()-1;h===u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(C,-1))&&C>a&&g.push.apply(g,SN(p.slice(a+1)))}return it(g,function(B){e.push(r.toVisualRow(B))}),0===e.length}}}(this))}},{key:"onMapInit",value:function(){Array.isArray(lh(this,tg).rows)&&this.hideRows(lh(this,tg).rows)}},{key:"destroy",value:function(){lR(this,tg,null),lR(this,gp,null),xw(eg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return y5}},{key:"PLUGIN_PRIORITY",get:function(){return 320}}]),t}(Jo);function Ace(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Oce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _5(n){return(_5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function kce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function kx(){return kx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=bet(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},kx.apply(this,arguments)}function bet(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=xy(n)););return n}function b5(n,e){return(b5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function xet(n,e){if(e&&("object"===_5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Lce(n)}function Lce(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function xy(n){return(xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("beforeColumnFreeze"),xr.getSingleton().register("afterColumnFreeze"),xr.getSingleton().register("beforeColumnUnfreeze"),xr.getSingleton().register("afterColumnUnfreeze");var Pce="manualColumnFreeze",uR=new WeakMap,Tet=function(n){!function wet(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&b5(n,e)}(t,n);var e=function Met(n){var e=function Cet(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=xy(n);if(e){var o=xy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xet(this,i)}}(t);function t(r){var i;return function yet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),uR.set(Lce(i),{afterFirstUse:!1}),i}return function _et(n,e,t){e&&kce(n.prototype,e),t&&kce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Pce]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(o){return i.addContextMenuEntry(o)}),this.addHook("beforeColumnMove",function(o,s){return i.onBeforeColumnMove(o,s)}),kx(xy(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){uR.get(this).afterFirstUse=!1,kx(xy(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),kx(xy(t.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(i){var o=uR.get(this),s=this.hot.getSettings(),a=s.fixedColumnsStart<this.hot.countCols()&&i>s.fixedColumnsStart-1;o.afterFirstUse||(o.afterFirstUse=!0),!1!==this.hot.runHooks("beforeColumnFreeze",i,a)&&(a&&(this.hot.columnIndexMapper.moveIndexes(i,s.fixedColumnsStart),s._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",i,a))}},{key:"unfreezeColumn",value:function(i){var o=uR.get(this),s=this.hot.getSettings(),a=s.fixedColumnsStart>0&&i<=s.fixedColumnsStart-1;o.afterFirstUse||(o.afterFirstUse=!0),!1!==this.hot.runHooks("beforeColumnUnfreeze",i,a)&&(a&&(s._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(i,s.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",i,a))}},{key:"addContextMenuEntry",value:function(i){i.items.push({name:"---------"},function det(n){return{key:"freeze_column",name:function(){return this.getTranslatedPhrase(uj)},callback:function(t,r){var i=function oet(n,e){return function cet(n){if(Array.isArray(n))return n}(n)||function uet(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function aet(n,e){if(n){if("string"==typeof n)return Ace(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ace(n,e)}}(n,e)||function set(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,1);n.freezeColumn(i[0].start.col),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),r=!1;return(void 0===t||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(r=!0),r}}}(this),function vet(n){return{key:"unfreeze_column",name:function(){return this.getTranslatedPhrase(cj)},callback:function(t,r){var i=function het(n,e){return function get(n){if(Array.isArray(n))return n}(n)||function met(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function pet(n,e){if(n){if("string"==typeof n)return Oce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oce(n,e)}}(n,e)||function fet(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,1);n.unfreezeColumn(i[0].start.col),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),r=!1;return(void 0===t||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col>=this.getSettings().fixedColumnsStart)&&(r=!0),r}}}(this))}},{key:"onBeforeColumnMove",value:function(i,o){if(uR.get(this).afterFirstUse){var a=this.hot.getSettings().fixedColumnsStart;if(o<a||i.some(function(u){return u<a}))return!1}}}],[{key:"PLUGIN_KEY",get:function(){return Pce}},{key:"PLUGIN_PRIORITY",get:function(){return 110}}]),t}(Jo);function Ice(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Lx="px";const Hce=function(){function n(e){(function Ret(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this._element=null,this.state=0,this.inlineProperty=e.isRtl()?"right":"left"}return function Det(n,e,t){e&&Ice(n.prototype,e),t&&Ice(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){0===this.state&&(this._element=this.hot.rootDocument.createElement("div"),this.state=1)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,r){th(t)&&(this._element.style.top=t+Lx),th(r)&&(this._element.style[this.inlineProperty]=r+Lx)}},{key:"getPosition",value:function(){var t=this._element.style;return{top:t.top?parseInt(t.top,10):0,start:t[this.inlineProperty]?parseInt(t[this.inlineProperty],10):0}}},{key:"setSize",value:function(t,r){th(t)&&(this._element.style.width=t+Lx),th(r)&&(this._element.style.height=r+Lx)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,r){th(t)&&(this._element.style.marginTop=t+Lx),th(r)&&(this._element.style["margin".concat(km(this.inlineProperty))]=r+Lx)}},{key:"getOffset",value:function(){var t=this._element.style,r="margin".concat(km(this.inlineProperty));return{top:t.marginTop?parseInt(t.marginTop,10):0,start:t[r]?parseInt(t[r],10):0}}}]),n}();function M5(n){return(M5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Oet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Bce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function xN(){return xN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Let(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xN.apply(this,arguments)}function Let(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Px(n)););return n}function S5(n,e){return(S5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Net(n,e){if(e&&("object"===M5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Fet(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Px(n){return(Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const zet=function(n){!function Pet(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&S5(n,e)}(t,n);var e=function Iet(n){var e=function Het(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Px(n);if(e){var o=Px(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Net(this,i)}}(t);function t(){return Oet(this,t),e.apply(this,arguments)}return function ket(n,e,t){e&&Bce(n.prototype,e),t&&Bce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){xN(Px(t.prototype),"build",this).call(this),An(this._element,"ht__manualColumnMove--backlight")}}]),t}(Hce);function x5(n){return(x5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Uet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Vce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function CN(){return CN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Wet(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},CN.apply(this,arguments)}function Wet(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Ix(n)););return n}function C5(n,e){return(C5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $et(n,e){if(e&&("object"===x5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Xet(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Ix(n){return(Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const Jet=function(n){!function Yet(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&C5(n,e)}(t,n);var e=function Get(n){var e=function Ket(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Ix(n);if(e){var o=Ix(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $et(this,i)}}(t);function t(){return Uet(this,t),e.apply(this,arguments)}return function jet(n,e,t){e&&Vce(n.prototype,e),t&&Vce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){CN(Ix(t.prototype),"build",this).call(this),An(this._element,"ht__manualColumnMove--guideline")}}]),t}(Hce);function E5(n){return(E5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function zce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Cw(){return Cw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=ttt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Cw.apply(this,arguments)}function ttt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ng(n)););return n}function T5(n,e){return(T5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function itt(n,e){if(e&&("object"===E5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return R5(n)}function R5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ng(n){return(ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("beforeColumnMove"),xr.getSingleton().register("afterColumnMove");var D5="manualColumnMove",Cy=new WeakMap,Uce="ht__manualColumnMove",EN="show-ui",A5="on-moving--columns",O5="after-selection--columns",att=function(n){!function ntt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&T5(n,e)}(t,n);var e=function rtt(n){var e=function ott(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ng(n);if(e){var o=ng(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return itt(this,i)}}(t);function t(r){var i;return function Qet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),Cy.set(R5(i),{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0},cachedDropIndex:void 0}),i.eventManager=new ia(R5(i)),i.backlight=new zet(r),i.guideline=new Jet(r),i}return function ett(n,e,t){e&&zce(n.prototype,e),t&&zce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[D5]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterScrollVertically",function(){return i.onAfterScrollVertically()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.buildPluginUI(),this.registerEvents(),An(this.hot.rootElement,Uce),Cw(ng(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),Cw(ng(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Hi(this.hot.rootElement,Uce),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),Cw(ng(t.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(i,o){return this.moveColumns([i],o)}},{key:"moveColumns",value:function(i,o){var s=Cy.get(this),a=s.cachedDropIndex,u=this.isMovePossible(i,o),c=this.hot.runHooks("beforeColumnMove",i,o,a,u);if(s.cachedDropIndex=void 0,!1!==c){u&&this.hot.columnIndexMapper.moveIndexes(i,o);var h=u&&this.isColumnOrderChanged(i,o);return this.hot.runHooks("afterColumnMove",i,o,a,u,h),h}}},{key:"dragColumn",value:function(i,o){return this.dragColumns([i],o)}},{key:"dragColumns",value:function(i,o){var s=this.countFinalIndex(i,o);return Cy.get(this).cachedDropIndex=o,this.moveColumns(i,s)}},{key:"isMovePossible",value:function(i,o){var s=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),a=i.length+o>s,u=o<0,c=i.some(function(p){return p<0}),h=i.some(function(p){return p>=s});return!(a||u||c||h)}},{key:"isColumnOrderChanged",value:function(i,o){return i.some(function(s,a){return s-a!==o})}},{key:"countFinalIndex",value:function(i,o){var s=Ya(i,function(a,u){return u<o&&(a+=1),a},0);return o-s}},{key:"getColumnsWidth",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=0,u=i;u<=o;u+=1){var c=s.getRenderableFromVisualIndex(u);u<0?a+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:null!==c&&(a+=this.hot.view._wt.wtTable.getStretchedColumnWidth(c)||0)}return a}},{key:"moveBySettingsOrLoad",value:function(){var i=this.hot.getSettings()[D5];if(Array.isArray(i))this.moveColumns(i,0);else if(void 0!==i){var o=this.persistentStateLoad();o.length&&this.moveColumns(o,0)}}},{key:"isFixedColumnsStart",value:function(i){return i<this.hot.getSettings().fixedColumnsStart}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var i={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",i),i.value?i.value:[]}},{key:"prepareColumnsToMoving",value:function(i,o){var s=[];return Hr(i,o,function(a){s.push(a)}),s}},{key:"refreshPositions",value:function(){var i=Cy.get(this),o=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(i.hoveredColumn)&&o>0&&this.hot.scrollViewportTo(void 0,this.hot.columnIndexMapper.getNearestNotHiddenIndex(o-1,-1));var s=this.hot.view._wt.wtTable,a=this.hot.view._wt.wtOverlays.scrollableElement,u="number"==typeof a.scrollX?a.scrollX:a.scrollLeft,c=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,i.hoveredColumn-1),h=s.hider.offsetWidth,p=s.TBODY.offsetLeft,g=this.backlight.getOffset().start,y=this.backlight.getSize().width,w=0,S=0;if(this.hot.isRtl()){var C=this.hot.rootWindow,P=fs(this.hot.rootElement);S=C.innerWidth-i.target.eventPageX-(C.innerWidth-i.rootElementOffset-P)-(void 0===a.scrollX?u:0)}else S=i.target.eventPageX-(i.rootElementOffset-(void 0===a.scrollX?u:0));i.hasRowHeaders&&(w=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(i.hoveredColumn)&&(c+=u),c+=w,i.hoveredColumn<0?i.target.col=i.fixedColumnsStart>0?0:o>0?o-1:o:i.target.TD.offsetWidth/2+c<=S?(i.target.col=(i.hoveredColumn>=i.countCols?i.countCols-1:i.hoveredColumn)+1,c+=i.target.TD.offsetWidth):i.target.col=i.hoveredColumn;var j=S,G=c;S+y+g>=h?j=h-y-g:S+g<p+w&&(j=p+w+Math.abs(g)),c>=h-1?G=h-1:0===G?G=1:void 0!==a.scrollX&&i.hoveredColumn<i.fixedColumnsStart&&(G-=i.rootElementOffset<=a.scrollX?i.rootElementOffset:0),this.backlight.setPosition(null,j),this.guideline.setPosition(null,G)}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){var u=this.hot.view._wt.wtTable,c=this.hot.selection.isSelectedByColumnHeader(),h=this.hot.getSelectedRangeLast(),p=Cy.get(this),g=Ti(i.target,"sortAction");if(!h||!c||p.pressed||0!==i.button||g)return p.pressed=!1,p.columnsToMove.length=0,void Hi(this.hot.rootElement,[A5,EN]);var y=this.guideline.isBuilt()&&!this.guideline.isAppended(),w=this.backlight.isBuilt()&&!this.backlight.isAppended();y&&w&&(this.guideline.appendTo(u.hider),this.backlight.appendTo(u.hider));var S=h.from,C=h.to,P=Math.min(S.col,C.col),B=Math.max(S.col,C.col);if(o.row<0&&o.col>=P&&o.col<=B){a.column=!0,p.pressed=!0,p.target.eventPageX=i.pageX,p.target.eventOffsetX=i.offsetX,p.hoveredColumn=o.col,p.target.TD=s,p.target.col=o.col,p.columnsToMove=this.prepareColumnsToMoving(P,B),p.hasRowHeaders=!!this.hot.getSettings().rowHeaders,p.countCols=this.hot.countCols(),p.fixedColumnsStart=this.hot.getSettings().fixedColumnsStart,p.rootElementOffset=Ga(this.hot.rootElement).left;var z=p.hasRowHeaders?-1:0,j=u.holder.scrollTop+u.getColumnHeaderHeight(0)+1,G=o.col<p.fixedColumnsStart,re=Math.abs(this.hot.view._wt.wtOverlays.inlineStartOverlay.getScrollPosition()),pe=Math.abs(i.offsetX-(this.hot.isRtl()?i.target.offsetWidth:0)),ne=this.getColumnsWidth(P,o.col-1)+pe,he=this.getColumnsWidth(z,P-1)+(G?re:0)+ne;this.backlight.setPosition(j,he),this.backlight.setSize(this.getColumnsWidth(P,B),u.hider.offsetHeight-j),this.backlight.setOffset(null,-ne),An(this.hot.rootElement,A5)}else Hi(this.hot.rootElement,O5),p.pressed=!1,p.columnsToMove.length=0}},{key:"onMouseMove",value:function(i){var o=Cy.get(this);if(o.pressed){if(i.target===this.backlight.element){var s=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(s)})}o.target.eventPageX=i.pageX,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u=this.hot.getSelectedRangeLast(),c=Cy.get(this);!u||!c.pressed||(c.columnsToMove.indexOf(o.col)>-1?Hi(this.hot.rootElement,EN):An(this.hot.rootElement,EN),a.row=!0,a.column=!0,a.cell=!0,c.hoveredColumn=o.col,c.target.TD=s)}},{key:"onMouseUp",value:function(){var i=Cy.get(this),o=i.target.col,s=i.columnsToMove.length;if(i.hoveredColumn=void 0,i.pressed=!1,i.backlightWidth=0,Hi(this.hot.rootElement,[A5,EN,O5]),this.hot.selection.isSelectedByColumnHeader()&&An(this.hot.rootElement,O5),!(s<1||void 0===o)){var u=this.hot.toPhysicalColumn(i.columnsToMove[0]),c=this.dragColumns(i.columnsToMove,o);if(i.columnsToMove.length=0,!0===c){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var h=this.hot.toVisualColumn(u);this.hot.selectColumns(h,h+s-1)}}}},{key:"onAfterScrollVertically",value:function(){var i=this.hot.view._wt.wtTable,a=i.getColumnHeaderHeight(0)+1+i.holder.scrollTop;this.backlight.setPosition(a),this.backlight.setSize(null,i.hider.offsetHeight-a)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),Cw(ng(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return D5}},{key:"PLUGIN_PRIORITY",get:function(){return 120}}]),t}(Jo);function k5(n){return(k5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function jce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ew(){return Ew="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=ctt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ew.apply(this,arguments)}function ctt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=rg(n)););return n}function L5(n,e){return(L5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ftt(n,e){if(e&&("object"===k5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return P5(n)}function P5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rg(n){return(rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var TN="manualColumnResize",Wce="manualColumnWidths",I5=new WeakMap,gtt=function(n){!function dtt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&L5(n,e)}(t,n);var e=function htt(n){var e=function ptt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=rg(n);if(e){var o=rg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ftt(this,i)}}(t);function t(r){var i;!function ltt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,r)).hot.rootDocument;return i.currentTH=null,i.currentCol=null,i.selectedCols=[],i.currentWidth=null,i.newSize=null,i.startY=null,i.startWidth=null,i.startOffset=null,i.handle=o.createElement("DIV"),i.guide=o.createElement("DIV"),i.eventManager=new ia(P5(i)),i.pressed=null,i.dblclick=0,i.autoresizeTimeout=null,i.columnWidthsMap=void 0,I5.set(P5(i),{config:void 0}),An(i.handle,"manualColumnResizer"),An(i.guide,"manualColumnResizerGuide"),i}return function utt(n,e,t){e&&jce(n.prototype,e),t&&jce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"inlineDir",get:function(){return this.hot.isRtl()?"right":"left"}},{key:"isEnabled",value:function(){return this.hot.getSettings()[TN]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.columnWidthsMap=new iy,this.columnWidthsMap.addLocalHook("init",function(){return i.onMapInit()}),this.hot.columnIndexMapper.registerMap(this.pluginName,this.columnWidthsMap),this.addHook("modifyColWidth",function(o,s){return i.onModifyColWidth(o,s)}),this.addHook("beforeStretchingColumnWidth",function(o,s){return i.onBeforeStretchingColumnWidth(o,s)}),this.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)}),this.bindEvents(),Ew(rg(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Ew(rg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){I5.get(this).config=this.columnWidthsMap.getValues(),this.hot.columnIndexMapper.unregisterMap(this.pluginName),Ew(rg(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave",Wce,this.columnWidthsMap.getValues())}},{key:"loadManualColumnWidths",value:function(){var i={};return this.hot.runHooks("persistentStateLoad",Wce,i),i.value}},{key:"setManualSize",value:function(i,o){var s=Math.max(o,20),a=this.hot.toPhysicalColumn(i);return this.columnWidthsMap.setValueAtIndex(a,s),s}},{key:"clearManualSize",value:function(i){var o=this.hot.toPhysicalColumn(i);this.columnWidthsMap.setValueAtIndex(o,null)}},{key:"onMapInit",value:function(){var i=this,o=I5.get(this),s=this.hot.getSettings()[TN],a=this.loadManualColumnWidths();void 0!==a?this.hot.batchExecution(function(){a.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0):Array.isArray(s)?(this.hot.batchExecution(function(){s.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0),o.config=s):!0===s&&Array.isArray(o.config)&&this.hot.batchExecution(function(){o.config.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0)}},{key:"setupHandlePosition",value:function(i){var o=this;if(i.parentNode){this.currentTH=i;var s=this.hot.view._wt,a=s.wtTable.getCoords(this.currentTH),u=a.col;if(!(u<0)){var g,c=ra(this.currentTH),h=this.currentTH.getBoundingClientRect();u<s.getSetting("fixedColumnsStart")&&(g=s.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,a.row,a.col)),g||(g=s.wtOverlays.topOverlay.getRelativeCellPosition(this.currentTH,a.row,a.col)),this.currentCol=this.hot.columnIndexMapper.getVisualFromRenderableIndex(u),this.selectedCols=[];var y=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();this.hot.selection.isSelected()&&y&&it(this.hot.getSelectedRange(),function(S){Hr(S.getTopStartCorner().col,S.getBottomEndCorner().col,function(B){o.selectedCols.includes(B)||o.selectedCols.push(B)})}),this.selectedCols.includes(this.currentCol)||(this.selectedCols=[this.currentCol]),this.startOffset=g.start-6,this.startWidth=parseInt(h.width,10),this.handle.style.top="".concat(g.top,"px"),this.handle.style[this.inlineDir]="".concat(this.startOffset+this.startWidth,"px"),this.handle.style.height="".concat(c,"px"),this.hot.rootElement.appendChild(this.handle)}}}},{key:"refreshHandlePosition",value:function(){this.handle.style[this.inlineDir]="".concat(this.startOffset+this.currentWidth,"px")}},{key:"setupGuidePosition",value:function(){var i=parseInt(ra(this.handle),10),o=parseInt(this.handle.style.top,10)+i,s=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);An(this.handle,"active"),An(this.guide,"active"),this.guide.style.top="".concat(o,"px"),this.refreshGuidePosition(),this.guide.style.height="".concat(s-i,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style[this.inlineDir]=this.handle.style[this.inlineDir]}},{key:"hideHandleAndGuide",value:function(){Hi(this.handle,"active"),Hi(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(i){return!!Ob(i,["THEAD"],this.hot.rootElement)}},{key:"getClosestTHParent",value:function(i){return"TABLE"!==i.tagName?"TH"===i.tagName?i:this.getClosestTHParent(i.parentNode):null}},{key:"onMouseOver",value:function(i){if(!lee(i.target)&&this.checkIfColumnHeader(i.target)){var o=this.getClosestTHParent(i.target);if(!o)return;var s=o.getAttribute("colspan");o&&(null===s||"1"===s)&&(this.pressed||this.setupHandlePosition(o))}}},{key:"afterMouseDownTimeout",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,h){var p=i.hot.runHooks("beforeColumnResize",i.newSize,c,!0);void 0!==p&&(i.newSize=p),"all"===i.hot.getSettings().stretchH?i.clearManualSize(c):i.setManualSize(c,i.newSize),i.saveManualColumnWidths(),i.hot.runHooks("afterColumnResize",i.newSize,c,!0),h&&o()};this.dblclick>=2&&(this.selectedCols.length>1?(it(this.selectedCols,function(u){s(u)}),o()):it(this.selectedCols,function(u){s(u,!0)})),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(i){var o=this;Ti(i.target,"manualColumnResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return o.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startX=i.pageX,this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(i){var o=this;if(this.pressed){var s=(i.pageX-this.startX)*this.hot.getDirectionFactor();this.currentWidth=this.startWidth+s,it(this.selectedCols,function(a){o.newSize=o.setManualSize(a,o.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition()}}},{key:"onMouseUp",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,h){i.hot.runHooks("beforeColumnResize",i.newSize,c,!1),h&&o(),i.saveManualColumnWidths(),i.hot.runHooks("afterColumnResize",i.newSize,c,!1)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startWidth&&(this.selectedCols.length>1?(it(this.selectedCols,function(u){s(u)}),o()):it(this.selectedCols,function(u){s(u,!0)})),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var i=this,o=this.hot,s=o.rootWindow,a=o.rootElement;this.eventManager.addEventListener(a,"mouseover",function(u){return i.onMouseOver(u)}),this.eventManager.addEventListener(a,"mousedown",function(u){return i.onMouseDown(u)}),this.eventManager.addEventListener(s,"mousemove",function(u){return i.onMouseMove(u)}),this.eventManager.addEventListener(s,"mouseup",function(){return i.onMouseUp()})}},{key:"onModifyColWidth",value:function(i,o){var s=i;if(this.enabled){var a=this.hot.toPhysicalColumn(o),u=this.columnWidthsMap.getValueAtIndex(a);this.hot.getSettings()[TN]&&u&&(s=u)}return s}},{key:"onBeforeStretchingColumnWidth",value:function(i,o){var s=this.columnWidthsMap.getValueAtIndex(o);return null===s&&(s=i),s}},{key:"onBeforeColumnResize",value:function(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}},{key:"destroy",value:function(){Ew(rg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return TN}},{key:"PLUGIN_PRIORITY",get:function(){return 130}}]),t}(Jo);function Yce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Nx="px";const Xce=function(){function n(e){(function vtt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this._element=null,this.state=0}return function ytt(n,e,t){e&&Yce(n.prototype,e),t&&Yce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){0===this.state&&(this._element=this.hot.rootDocument.createElement("div"),this.state=1)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,r){void 0!==t&&(this._element.style.top=t+Nx),void 0!==r&&(this._element.style.left=r+Nx)}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,r){t&&(this._element.style.width=t+Nx),r&&(this._element.style.height=r+Nx)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,r){t&&(this._element.style.marginTop=t+Nx),r&&(this._element.style.marginLeft=r+Nx)}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),n}();function F5(n){return(F5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function btt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Kce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function RN(){return RN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Mtt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},RN.apply(this,arguments)}function Mtt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Fx(n)););return n}function H5(n,e){return(H5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Ctt(n,e){if(e&&("object"===F5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Ett(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Fx(n){return(Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const Att=function(n){!function Stt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&H5(n,e)}(t,n);var e=function xtt(n){var e=function Ttt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Fx(n);if(e){var o=Fx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ctt(this,i)}}(t);function t(){return btt(this,t),e.apply(this,arguments)}return function wtt(n,e,t){e&&Kce(n.prototype,e),t&&Kce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){RN(Fx(t.prototype),"build",this).call(this),An(this._element,"ht__manualRowMove--backlight")}}]),t}(Xce);function B5(n){return(B5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ott(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Zce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function DN(){return DN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Ltt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},DN.apply(this,arguments)}function Ltt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Hx(n)););return n}function V5(n,e){return(V5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Ntt(n,e){if(e&&("object"===B5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Ftt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Hx(n){return(Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const ztt=function(n){!function Ptt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&V5(n,e)}(t,n);var e=function Itt(n){var e=function Htt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Hx(n);if(e){var o=Hx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ntt(this,i)}}(t);function t(){return Ott(this,t),e.apply(this,arguments)}return function ktt(n,e,t){e&&Zce(n.prototype,e),t&&Zce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){DN(Hx(t.prototype),"build",this).call(this),An(this._element,"ht__manualRowMove--guideline")}}]),t}(Xce);function z5(n){return(z5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Tw(){return Tw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Wtt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Tw.apply(this,arguments)}function Wtt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ig(n)););return n}function U5(n,e){return(U5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $tt(n,e){if(e&&("object"===z5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return j5(n)}function j5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ig(n){return(ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("beforeRowMove"),xr.getSingleton().register("afterRowMove");var W5="manualRowMove",Ey=new WeakMap,Jce="ht__manualRowMove",AN="show-ui",Y5="on-moving--rows",G5="after-selection--rows",Ztt=function(n){!function Ytt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&U5(n,e)}(t,n);var e=function Gtt(n){var e=function Xtt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ig(n);if(e){var o=ig(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $tt(this,i)}}(t);function t(r){var i;return function Utt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),Ey.set(j5(i),{rowsToMove:[],pressed:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0},cachedDropIndex:void 0}),i.eventManager=new ia(j5(i)),i.backlight=new Att(r),i.guideline=new ztt(r),i}return function jtt(n,e,t){e&&qce(n.prototype,e),t&&qce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[W5]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterScrollHorizontally",function(){return i.onAfterScrollHorizontally()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.buildPluginUI(),this.registerEvents(),An(this.hot.rootElement,Jce),Tw(ig(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),Tw(ig(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Hi(this.hot.rootElement,Jce),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),Tw(ig(t.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(i,o){return this.moveRows([i],o)}},{key:"moveRows",value:function(i,o){var s=Ey.get(this),a=s.cachedDropIndex,u=this.isMovePossible(i,o),c=this.hot.runHooks("beforeRowMove",i,o,a,u);if(s.cachedDropIndex=void 0,!1!==c){u&&this.hot.rowIndexMapper.moveIndexes(i,o);var h=u&&this.isRowOrderChanged(i,o);return this.hot.runHooks("afterRowMove",i,o,a,u,h),h}}},{key:"dragRow",value:function(i,o){return this.dragRows([i],o)}},{key:"dragRows",value:function(i,o){var s=this.countFinalIndex(i,o);return Ey.get(this).cachedDropIndex=o,this.moveRows(i,s)}},{key:"isMovePossible",value:function(i,o){var s=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),a=i.length+o>s,u=o<0,c=i.some(function(p){return p<0}),h=i.some(function(p){return p>=s});return!(a||u||c||h)}},{key:"isRowOrderChanged",value:function(i,o){return i.some(function(s,a){return s-a!==o})}},{key:"countFinalIndex",value:function(i,o){var s=Ya(i,function(a,u){return u<o&&(a+=1),a},0);return o-s}},{key:"getRowsHeight",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=0,u=i;u<=o;u++){var c=s.getRenderableFromVisualIndex(u);null!==c&&(a+=this.hot.view._wt.wtTable.getRowHeight(c)||23)}return a}},{key:"moveBySettingsOrLoad",value:function(){var i=this.hot.getSettings()[W5];if(Array.isArray(i))this.moveRows(i,0);else if(void 0!==i){var o=this.persistentStateLoad();o.length&&this.moveRows(o,0)}}},{key:"isFixedRowTop",value:function(i){return i<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(i){return i>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var i={};return this.hot.runHooks("persistentStateLoad","manualRowMove",i),i.value?i.value:[]}},{key:"prepareRowsToMoving",value:function(){var i=this.hot.getSelectedRangeLast(),o=[];if(!i)return o;var s=i.from,a=i.to;return Hr(Math.min(s.row,a.row),Math.max(s.row,a.row),function(h){o.push(h)}),o}},{key:"refreshPositions",value:function(){var i=Ey.get(this),o=i.target.coords,s=this.hot.view.getFirstFullyVisibleRow(),a=this.hot.view.getLastFullyVisibleRow(),u=this.hot.countRows();this.isFixedRowTop(o.row)&&s>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(s-1,-1)),this.isFixedRowBottom(o.row)&&a<u&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(a+1,1),void 0,!0);var c=this.hot.view._wt.wtTable,h=i.target.TD,p=Ga(this.hot.rootElement),g=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,o.row-1),y=i.target.eventPageY-p.top+c.holder.scrollTop,w=c.hider.offsetHeight,S=c.TBODY.offsetTop,C=this.backlight.getOffset().top,P=this.backlight.getSize().height;this.isFixedRowTop(o.row)&&(g+=c.holder.scrollTop),o.row<0?i.target.row=s>0?s-1:s:h.offsetHeight/2+g<=y?(i.target.row=o.row+1,g+=0===o.row?h.offsetHeight-1:h.offsetHeight):i.target.row=o.row;var B=y,z=g;y+P+C>=w?B=w-P-C:y+C<S&&(B=S+Math.abs(C)),g>=w-1&&(z=w-1),this.backlight.setPosition(B),this.guideline.setPosition(z)}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){var u=this.hot.view._wt,c=u.wtTable,h=u.wtViewport,p=this.hot.selection.isSelectedByRowHeader(),g=this.hot.getSelectedRangeLast(),y=Ey.get(this);if(!g||!p||y.pressed||0!==i.button)return y.pressed=!1,y.rowsToMove.length=0,void Hi(this.hot.rootElement,[Y5,AN]);var w=this.guideline.isBuilt()&&!this.guideline.isAppended(),S=this.backlight.isBuilt()&&!this.backlight.isAppended();w&&S&&(this.guideline.appendTo(c.hider),this.backlight.appendTo(c.hider));var C=g.from,P=g.to,B=Math.min(C.row,P.row),z=Math.max(C.row,P.row);if(o.col<0&&o.row>=B&&o.row<=z){a.row=!0,y.pressed=!0,y.target.eventPageY=i.pageY,y.target.coords=o,y.target.TD=s,y.rowsToMove=this.prepareRowsToMoving();var j=c.holder.scrollLeft+h.getRowHeaderWidth();this.backlight.setPosition(null,j),this.backlight.setSize(c.hider.offsetWidth-j,this.getRowsHeight(B,z)),this.backlight.setOffset(-1*(this.getRowsHeight(B,o.row-1)+i.offsetY),null),An(this.hot.rootElement,Y5),this.refreshPositions()}else Hi(this.hot.rootElement,G5),y.pressed=!1,y.rowsToMove.length=0}},{key:"onMouseMove",value:function(i){var o=Ey.get(this);if(o.pressed){if(i.target===this.backlight.element){var s=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,s)})}o.target.eventPageY=i.pageY,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u=this.hot.getSelectedRangeLast(),c=Ey.get(this);!u||!c.pressed||(c.rowsToMove.indexOf(o.row)>-1?Hi(this.hot.rootElement,AN):An(this.hot.rootElement,AN),a.row=!0,a.column=!0,a.cell=!0,c.target.coords=o,c.target.TD=s)}},{key:"onMouseUp",value:function(){var i=Ey.get(this),o=i.target.row,s=i.rowsToMove.length;if(i.pressed=!1,i.backlightHeight=0,Hi(this.hot.rootElement,[Y5,AN,G5]),this.hot.selection.isSelectedByRowHeader()&&An(this.hot.rootElement,G5),!(s<1||void 0===o)){var u=this.hot.toPhysicalRow(i.rowsToMove[0]),c=this.dragRows(i.rowsToMove,o);if(i.rowsToMove.length=0,!0===c){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var h=this.hot.toVisualRow(u);this.hot.selectRows(h,h+s-1)}}}},{key:"onAfterScrollHorizontally",value:function(){var i=this.hot.view._wt.wtTable,a=this.hot.view._wt.wtViewport.getRowHeaderWidth()+i.holder.scrollLeft;this.backlight.setPosition(null,a),this.backlight.setSize(i.hider.offsetWidth-a)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),Tw(ig(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return W5}},{key:"PLUGIN_PRIORITY",get:function(){return 140}}]),t}(Jo);function $5(n){return($5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Qce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Rw(){return Rw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Qtt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Rw.apply(this,arguments)}function Qtt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=og(n)););return n}function X5(n,e){return(X5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function nnt(n,e){if(e&&("object"===$5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return K5(n)}function K5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function og(n){return(og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var tde,nde,rde,ide,ON="manualRowResize",ede="manualRowHeights",Z5=new WeakMap,ont=function(n){!function ent(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&X5(n,e)}(t,n);var e=function tnt(n){var e=function rnt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=og(n);if(e){var o=og(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return nnt(this,i)}}(t);function t(r){var i;!function qtt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,r)).hot.rootDocument;return i.currentTH=null,i.currentRow=null,i.selectedRows=[],i.currentHeight=null,i.newSize=null,i.startY=null,i.startHeight=null,i.startOffset=null,i.handle=o.createElement("DIV"),i.guide=o.createElement("DIV"),i.eventManager=new ia(K5(i)),i.pressed=null,i.dblclick=0,i.autoresizeTimeout=null,i.rowHeightsMap=void 0,Z5.set(K5(i),{config:void 0}),An(i.handle,"manualRowResizer"),An(i.guide,"manualRowResizerGuide"),i}return function Jtt(n,e,t){e&&Qce(n.prototype,e),t&&Qce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"inlineDir",get:function(){return this.hot.isRtl()?"right":"left"}},{key:"isEnabled",value:function(){return this.hot.getSettings()[ON]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.rowHeightsMap=new iy,this.rowHeightsMap.addLocalHook("init",function(){return i.onMapInit()}),this.hot.rowIndexMapper.registerMap(this.pluginName,this.rowHeightsMap),this.addHook("modifyRowHeight",function(o,s){return i.onModifyRowHeight(o,s)}),this.bindEvents(),Rw(og(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Rw(og(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Z5.get(this).config=this.rowHeightsMap.getValues(),this.hot.rowIndexMapper.unregisterMap(this.pluginName),Rw(og(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave",ede,this.rowHeightsMap.getValues())}},{key:"loadManualRowHeights",value:function(){var i={};return this.hot.runHooks("persistentStateLoad",ede,i),i.value}},{key:"setManualSize",value:function(i,o){var s=this.hot.toPhysicalRow(i),a=Math.max(o,une.DEFAULT_HEIGHT);return this.rowHeightsMap.setValueAtIndex(s,a),a}},{key:"setupHandlePosition",value:function(i){var o=this;this.currentTH=i;var s=this.hot.view,a=s._wt,u=a.wtTable.getCoords(this.currentTH),c=u.row;if(!(c<0)){var w,h=fs(this.currentTH),p=this.currentTH.getBoundingClientRect(),g=c<a.getSetting("fixedRowsTop"),y=c>=s.countNotHiddenRowIndexes(0,1)-a.getSetting("fixedRowsBottom");g?w=a.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col):y&&(w=a.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col)),w||(w=a.wtOverlays.inlineStartOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col)),this.currentRow=this.hot.rowIndexMapper.getVisualFromRenderableIndex(c),this.selectedRows=[];var S=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();this.hot.selection.isSelected()&&S&&it(this.hot.getSelectedRange(),function(P){Hr(P.getTopStartCorner().row,P.getBottomStartCorner().row,function(j){o.selectedRows.includes(j)||o.selectedRows.push(j)})}),this.selectedRows.includes(this.currentRow)||(this.selectedRows=[this.currentRow]),this.startOffset=w.top-6,this.startHeight=parseInt(p.height,10),this.handle.style.top="".concat(this.startOffset+this.startHeight,"px"),this.handle.style[this.inlineDir]="".concat(w.start,"px"),this.handle.style.width="".concat(h,"px"),this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top="".concat(this.startOffset+this.currentHeight,"px")}},{key:"setupGuidePosition",value:function(){var i=parseInt(fs(this.handle),10),o=parseInt(this.handle.style[this.inlineDir],10)+i,s=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);An(this.handle,"active"),An(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style[this.inlineDir]="".concat(o,"px"),this.guide.style.width="".concat(s-i,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){Hi(this.handle,"active"),Hi(this.guide,"active")}},{key:"checkIfRowHeader",value:function(i){var o,s;return Ob(i,["TH"],this.hot.rootElement)&&"TBODY"===(null===(o=i.parentNode)||void 0===o||null===(s=o.parentNode)||void 0===s?void 0:s.tagName)}},{key:"getClosestTHParent",value:function(i){return"TABLE"!==i.tagName?"TH"===i.tagName?i:this.getClosestTHParent(i.parentNode):null}},{key:"getActualRowHeight",value:function(i){var o=this.hot.view._wt.wtTable.getRowHeight(i);return void 0!==o&&this.newSize<o?o:this.newSize}},{key:"onMouseOver",value:function(i){if(!lee(i.target)&&this.checkIfRowHeader(i.target)){var o=this.getClosestTHParent(i.target);o&&(this.pressed||this.setupHandlePosition(o))}}},{key:"afterMouseDownTimeout",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,h){var p=i.hot.runHooks("beforeRowResize",i.getActualRowHeight(c),c,!0);void 0!==p&&(i.newSize=p),i.setManualSize(c,i.newSize),i.hot.runHooks("afterRowResize",i.getActualRowHeight(c),c,!0),h&&o()};this.dblclick>=2&&(this.selectedRows.length>1?(it(this.selectedRows,function(u){s(u)}),o()):it(this.selectedRows,function(u){s(u,!0)})),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(i){var o=this;Ti(i.target,"manualRowResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return o.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startY=i.pageY,this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(i){var o=this;this.pressed&&(this.currentHeight=this.startHeight+(i.pageY-this.startY),it(this.selectedRows,function(s){o.newSize=o.setManualSize(s,o.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,h){i.hot.runHooks("beforeRowResize",i.getActualRowHeight(c),c,!1),h&&o(),i.saveManualRowHeights(),i.hot.runHooks("afterRowResize",i.getActualRowHeight(c),c,!1)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startHeight&&(this.selectedRows.length>1?(it(this.selectedRows,function(u){s(u)}),o()):it(this.selectedRows,function(u){s(u,!0)})),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var i=this,o=this.hot,s=o.rootElement,a=o.rootWindow;this.eventManager.addEventListener(s,"mouseover",function(u){return i.onMouseOver(u)}),this.eventManager.addEventListener(s,"mousedown",function(u){return i.onMouseDown(u)}),this.eventManager.addEventListener(a,"mousemove",function(u){return i.onMouseMove(u)}),this.eventManager.addEventListener(a,"mouseup",function(){return i.onMouseUp()})}},{key:"onModifyRowHeight",value:function(i,o){var s=i;if(this.enabled){var a=this.hot.toPhysicalRow(o),u=this.rowHeightsMap.getValueAtIndex(a);this.hot.getSettings()[ON]&&u&&(s=u)}return s}},{key:"onMapInit",value:function(){var i=this,o=Z5.get(this),s=this.hot.getSettings()[ON],a=this.loadManualRowHeights();this.hot.batchExecution(function(){void 0!==a?a.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)}):Array.isArray(s)?(s.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)}),o.config=s):!0===s&&Array.isArray(o.config)&&o.config.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)})},!0)}},{key:"destroy",value:function(){Rw(og(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return ON}},{key:"PLUGIN_PRIORITY",get:function(){return 30}}]),t}(Jo);function kN(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function ode(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const vp=function(){function n(e,t,r,i,o,s){(function snt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.row=e,this.col=t,this.rowspan=r,this.colspan=i,this.removed=!1,this.cellCoordsFactory=o,this.cellRangeFactory=s}return function ant(n,e,t){e&&ode(n.prototype,e),t&&ode(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"normalize",value:function(t){var r=t.countRows(),i=t.countCols();this.row<0?this.row=0:this.row>r-1&&(this.row=r-1),this.col<0?this.col=0:this.col>i-1&&(this.col=i-1),this.row+this.rowspan>r-1&&(this.rowspan=r-this.row),this.col+this.colspan>i-1&&(this.colspan=i-this.col)}},{key:"includes",value:function(t,r){return this.row<=t&&this.col<=r&&this.row+this.rowspan-1>=t&&this.col+this.colspan-1>=r}},{key:"includesHorizontally",value:function(t){return this.col<=t&&this.col+this.colspan-1>=t}},{key:"includesVertically",value:function(t){return this.row<=t&&this.row+this.rowspan-1>=t}},{key:"shift",value:function(t,r){var i=t[0]||t[1],o=r+Math.abs(t[0]||t[1])-1,s=t[0]?"colspan":"rowspan",a=t[0]?"col":"row",u=Math.min(r,o),c=Math.max(r,o),h=this[a],p=this[a]+this[s]-1;if(h>=r&&(this[a]+=i),i>0)r<=p&&r>h&&(this[s]+=i);else if(i<0){if(u<=h&&c>=p)return this.removed=!0,!1;if(h>=u&&h<=c){var g=c-h+1,y=Math.abs(i)-g;this[a]-=y+i,this[s]-=g}else h<=u&&p>=c?this[s]+=i:h<=u&&p>=u&&p<c&&(this[s]-=p-u+1)}return!0}},{key:"isFarther",value:function(t,r){return!t||("down"===r?t.row+t.rowspan-1<this.row+this.rowspan-1:"up"===r?t.row>this.row:"right"===r?t.col+t.colspan-1<this.col+this.colspan-1:"left"===r?t.col>this.col:null)}},{key:"getLastRow",value:function(){return this.row+this.rowspan-1}},{key:"getLastColumn",value:function(){return this.col+this.colspan-1}},{key:"getRange",value:function(){return this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))}}],[{key:"NEGATIVE_VALUES_WARNING",value:function(t){return is(tde||(tde=kN(["The merged cell declared with {row: ",", col: ",", \n      rowspan: ",", colspan: ","} contains negative values, which is \n      not supported. It will not be added to the collection."],["The merged cell declared with {row: ",", col: ",",\\x20\n      rowspan: ",", colspan: ","} contains negative values, which is\\x20\n      not supported. It will not be added to the collection."])),t.row,t.col,t.rowspan,t.colspan)}},{key:"IS_OUT_OF_BOUNDS_WARNING",value:function(t){return is(nde||(nde=kN(["The merged cell declared at [",", ","] is positioned \n      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup."],["The merged cell declared at [",", ","] is positioned\\x20\n      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup."])),t.row,t.col)}},{key:"IS_SINGLE_CELL",value:function(t){return is(rde||(rde=kN(["The merged cell declared at [",", ",'] has both "rowspan" \n      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has both "rowspan"\\x20\n      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'])),t.row,t.col)}},{key:"ZERO_SPAN_WARNING",value:function(t){return is(ide||(ide=kN(["The merged cell declared at [",", ",'] has "rowspan" \n      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has "rowspan"\\x20\n      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.'])),t.row,t.col)}},{key:"containsNegativeValues",value:function(t){return t.row<0||t.col<0||t.rowspan<0||t.colspan<0}},{key:"isSingleCell",value:function(t){return 1===t.colspan&&1===t.rowspan}},{key:"containsZeroSpan",value:function(t){return 0===t.colspan||0===t.rowspan}},{key:"isOutOfBounds",value:function(t,r,i){return t.row<0||t.col<0||t.row>=r||t.row+t.rowspan-1>=r||t.col>=i||t.col+t.colspan-1>=i}}]),n}();function q5(n,e,t,r){e?e.row===t&&e.col===r?(n.setAttribute("rowspan",e.rowspan.toString()),n.setAttribute("colspan",e.colspan.toString())):(n.removeAttribute("rowspan"),n.removeAttribute("colspan"),n.style.display="none"):(n.removeAttribute("rowspan"),n.removeAttribute("colspan"),n.style.display="")}var sde;function ade(n){return function fnt(n){if(Array.isArray(n))return J5(n)}(n)||function hnt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function dnt(n,e){if(n){if("string"==typeof n)return J5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return J5(n,e)}}(n)||function cnt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const vnt=function(){function n(e){(function pnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.mergedCells=[],this.hot=e.hot}return function mnt(n,e,t){e&&lde(n.prototype,e),t&&lde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"get",value:function(t,r){var o=!1;return it(this.mergedCells,function(s){return!(s.row<=t&&s.row+s.rowspan-1>=t&&s.col<=r&&s.col+s.colspan-1>=r&&(o=s,1))}),o}},{key:"getByRange",value:function(t){var i=!1;return it(this.mergedCells,function(o){return!(o.row<=t.from.row&&o.row+o.rowspan-1>=t.to.row&&o.col<=t.from.col&&o.col+o.colspan-1>=t.to.col)||(i=o)}),i}},{key:"getWithinRange",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.mergedCells,s=[],a=t;if(!a.includesRange){var u=this.hot._createCellCoords(a.from.row,a.from.col),c=this.hot._createCellCoords(a.to.row,a.to.col);a=this.hot._createCellRange(u,u,c)}return it(o,function(h){var p=r.hot._createCellCoords(h.row,h.col),g=r.hot._createCellCoords(h.row+h.rowspan-1,h.col+h.colspan-1),y=r.hot._createCellRange(p,p,g);i?a.overlaps(y)&&s.push(h):a.includesRange(y)&&s.push(h)}),!!s.length&&s}},{key:"add",value:function(t){var r=this.mergedCells,i=t.row,o=t.col,u=new vp(i,o,t.rowspan,t.colspan,this.hot._createCellCoords,this.hot._createCellRange),c=this.get(i,o),h=this.isOverlapping(u);return c||h?(ps(n.IS_OVERLAPPING_WARNING(u)),!1):(this.hot&&u.normalize(this.hot),r.push(u),u)}},{key:"remove",value:function(t,r){var i=this.mergedCells,o=this.get(t,r),s=o?this.mergedCells.indexOf(o):-1;return!(!o||-1===s)&&(i.splice(s,1),o)}},{key:"clear",value:function(){var t=this,i=[],o=[];it(this.mergedCells,function(s){var a=t.hot.getCell(s.row,s.col);a&&i.push([a,t.get(s.row,s.col),s.row,s.col])}),this.mergedCells.length=0,it(i,function(s,a){Hr(0,s.rowspan-1,function(u){Hr(0,s.colspan-1,function(c){if(0!==c||0!==u){var h=t.hot.getCell(s.row+u,s.col+c);h&&o.push([h,null,null,null])}})}),i[a][1]=null}),it(i,function(s){q5.apply(void 0,ade(s))}),it(o,function(s){q5.apply(void 0,ade(s))})}},{key:"isOverlapping",value:function(t){var r=this,i=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(t.row,t.col),this.hot._createCellCoords(t.row+t.rowspan-1,t.col+t.colspan-1)),o=!1;return it(this.mergedCells,function(s){return!r.hot._createCellRange(r.hot._createCellCoords(0,0),r.hot._createCellCoords(s.row,s.col),r.hot._createCellCoords(s.row+s.rowspan-1,s.col+s.colspan-1)).overlaps(i)||(o=!0,!1)}),o}},{key:"isFirstRenderableMergedCell",value:function(t,r){var i=this.get(t,r);return i&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1)===t&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1)===r}},{key:"getFirstRenderableCoords",value:function(t,r){var i=this.get(t,r);if(!i||this.isFirstRenderableMergedCell(t,r))return this.hot._createCellCoords(t,r);var o=this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1),s=this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1);return this.hot._createCellCoords(o,s)}},{key:"shiftCollections",value:function(t,r,i){var o=this,s=[0,0];switch(t){case"right":s[0]+=i;break;case"left":s[0]-=i;break;case"down":s[1]+=i;break;case"up":s[1]-=i}it(this.mergedCells,function(a){a.shift(s,r)}),dz(this.mergedCells.length-1,0,function(a){var u=o.mergedCells[a];u&&u.removed&&o.mergedCells.splice(o.mergedCells.indexOf(u),1)})}}],[{key:"IS_OVERLAPPING_WARNING",value:function(t){return is(sde||(sde=function unt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The merged cell declared at [",", ","], overlaps \n      with the other declared merged cell. The overlapping merged cell was not added to the table, please \n      fix your setup."],["The merged cell declared at [",", ","], overlaps\\x20\n      with the other declared merged cell. The overlapping merged cell was not added to the table, please\\x20\n      fix your setup."])),t.row,t.col)}}]),n}();function Dw(n,e){return function wnt(n){if(Array.isArray(n))return n}(n)||function bnt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function _nt(n,e){if(n){if("string"==typeof n)return ude(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ude(n,e)}}(n,e)||function ynt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ude(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function cde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Cnt=function(){function n(e){(function Mnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection,this.currentFillData=null}return function Snt(n,e,t){e&&cde(n.prototype,e),t&&cde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"correctSelectionAreaSize",value:function(t){if(t[0]===t[2]&&t[1]===t[3]){var r=this.mergedCellsCollection.get(t[0],t[1]);r&&(t[2]=t[0]+r.rowspan-1,t[3]=t[1]+r.colspan-1)}}},{key:"getDirection",value:function(t,r){return r[0]===t[0]&&r[1]===t[1]&&r[3]===t[3]?"down":r[2]===t[2]&&r[1]===t[1]&&r[3]===t[3]?"up":r[1]===t[1]&&r[2]===t[2]?"right":"left"}},{key:"snapDragArea",value:function(t,r,i,o){var s=r.slice(0),a=this.getAutofillSize(t,r,i),u=Dw(t,4),c=u[0],h=u[1],p=u[2],g=u[3],w=["up","down"].indexOf(i)>-1?p-c+1:g-h+1,C=a-Math.floor(a/w)*w,P=this.getFarthestCollection(t,r,i,o);if(P)if("down"===i){var B=P.row+P.rowspan-c-C;s[2]+B>=this.plugin.hot.countRows()?s[2]-=C:s[2]+=C?B:0}else if("right"===i){var j=P.col+P.colspan-h-C;s[3]+j>=this.plugin.hot.countCols()?s[3]-=C:s[3]+=C?j:0}else if("up"===i){var re=p-C-P.row+1;s[0]+re<0?s[0]+=C:s[0]-=C?re:0}else if("left"===i){var ne=g-C-P.col+1;s[1]+ne<0?s[1]+=C:s[1]-=C?ne:0}return this.updateCurrentFillCache({baseArea:t,dragDirection:i,foundMergedCells:o,fillSize:a,dragArea:s,cycleLength:w}),s}},{key:"updateCurrentFillCache",value:function(t){this.currentFillData||(this.currentFillData={}),na(this.currentFillData,t)}},{key:"getAutofillSize",value:function(t,r,i){var o=Dw(t,4),s=o[0],a=o[1],u=o[2],c=o[3],h=Dw(r,4),p=h[0],g=h[1],y=h[2],w=h[3];switch(i){case"up":return s-p;case"down":return y-u;case"left":return a-g;case"right":return w-c;default:return null}}},{key:"getDragArea",value:function(t,r,i){var o=Dw(t,4),s=o[0],a=o[1],u=o[2],c=o[3],h=Dw(r,4),p=h[0],g=h[1],y=h[2],w=h[3];switch(i){case"up":return[p,g,s-1,c];case"down":return[u+1,a,y,c];case"left":return[p,g,u,a-1];case"right":return[s,c+1,y,w];default:return null}}},{key:"getFarthestCollection",value:function(t,r,i,o){var s=Dw(t,4),a=s[0],u=s[1],c=s[2],h=s[3],p=["up","down"].indexOf(i)>-1,g=p?c:h,y=p?a:u,w=this.getAutofillSize(t,r,i),S=p?c-a+1:h-u+1,P=w-Math.floor(w/S)*S,B=null,z=null,j=null;switch(i){case"up":B="includesVertically",j=g-P+1;break;case"left":B="includesHorizontally",j=g-P+1;break;case"down":B="includesVertically",j=y+P-1;break;case"right":B="includesHorizontally",j=y+P-1}return it(o,function(G){G[B](j)&&G.isFarther(z,i)&&(z=G)}),z}},{key:"recreateAfterDataPopulation",value:function(t){if(this.currentFillData){var r=this.getRangeFromChanges(t),i=this.currentFillData.foundMergedCells,o=this.currentFillData.dragDirection,s=function(g,y){switch(o){case"up":return g.row-y>=r.from.row;case"down":return g.row+g.rowspan-1+y<=r.to.row;case"left":return g.col-y>=r.from.column;case"right":return g.col+g.colspan-1+y<=r.to.column;default:return null}},a=0,u=null,c=1;do{for(var h=0;h<i.length;h+=1){if(s(u=i[h],a=c*this.currentFillData.cycleLength))switch(o){case"up":this.plugin.mergedCellsCollection.add({row:u.row-a,rowspan:u.rowspan,col:u.col,colspan:u.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:u.row+a,rowspan:u.rowspan,col:u.col,colspan:u.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:u.row,rowspan:u.rowspan,col:u.col-a,colspan:u.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:u.row,rowspan:u.rowspan,col:u.col+a,colspan:u.colspan})}h===i.length-1&&(c+=1)}}while(s(u,a));this.currentFillData=null,this.plugin.hot.render()}}},{key:"getRangeFromChanges",value:function(t){var r=this,i={min:null,max:null},o={min:null,max:null};return it(t,function(s){var a=s[0],u=r.plugin.hot.propToCol(s[1]);(null===i.min||a<i.min)&&(i.min=a),(null===i.max||a>i.max)&&(i.max=a),(null===o.min||u<o.min)&&(o.min=u),(null===o.max||u>o.max)&&(o.max=u)}),{from:{row:i.min,column:o.min},to:{row:i.max,column:o.max}}}},{key:"dragAreaOverlapsCollections",value:function(t,r,i){var s=Dw(this.getDragArea(t,r,i),4),c=s[2],h=s[3],p=this.plugin.hot._createCellCoords(s[0],s[1]),g=this.plugin.hot._createCellCoords(c,h),y=this.plugin.hot._createCellRange(p,p,g);return!!this.mergedCellsCollection.getWithinRange(y,!0)}}]),n}();function dde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Dnt=function(){function n(e){(function Ent(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=e.hot,this.fullySelectedMergedCellClassName="fullySelectedMergedCell"}return function Tnt(n,e,t){e&&dde(n.prototype,e),t&&dde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"snapDelta",value:function(t,r,i){var o=r.to,a=o.col+t.col;t.row?this.jumpOverMergedCell(t,i,o.row+t.row):t.col&&this.jumpOverMergedCell(t,i,a)}},{key:"jumpOverMergedCell",value:function(t,r,i){var o=t.row||t.col,s=null,a=null,u=null;t.row?(s=r.includesVertically(i),a=r.row,u=r.getLastRow()):t.col&&(s=r.includesHorizontally(i),a=r.col,u=r.getLastColumn()),0!==o&&(o>0?s&&i!==a&&(o+=u-i+1):s&&i!==u&&(o-=i-a+1),t.row?t.row=o:t.col&&(t.col=o))}},{key:"getUpdatedSelectionRange",value:function(t,r){return this.hot._createCellRange(t.highlight,t.from,this.hot._createCellCoords(t.to.row+r.row,t.to.col+r.col))}},{key:"getSelectedMergedCellClassName",value:function(t,r,i,o){var s=Math.min(i[0],i[2]),a=Math.min(i[1],i[3]),u=Math.max(i[0],i[2]),c=Math.max(i[1],i[3]);if(void 0!==o&&this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(t,r)){var p=this.plugin.mergedCellsCollection.get(t,r);if(p){var g=p.getLastRow(),y=p.getLastColumn();if(s<=p.row&&a<=p.col&&u>=g&&c>=y)return"".concat(this.fullySelectedMergedCellClassName,"-").concat(o);if(this.plugin.selectionCalculations.isMergeCellFullySelected(p,this.plugin.hot.getSelectedRange()))return"".concat(this.fullySelectedMergedCellClassName,"-multiple")}}}},{key:"isMergeCellFullySelected",value:function(t,r){var i=[];if(!r||!t)return!1;for(var o=0;o<t.rowspan;o+=1)for(var s=0;s<t.colspan;s+=1)i.push(this.hot._createCellCoords(t.row+o,t.col+s));for(var a=0;a<i.length;a+=1){for(var u=[],c=0;c<r.length;c+=1)u[c]=r[c].includes(i[a]);if(!u.includes(!0))return!1}return!0}},{key:"getSelectedMergedCellClassNameToRemove",value:function(){for(var t=[],r=0;r<=7;r+=1)t.push("".concat(this.fullySelectedMergedCellClassName,"-").concat(r));return t.push("".concat(this.fullySelectedMergedCellClassName,"-multiple")),t}}]),n}();function Q5(n){return(Q5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hde(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function fde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Bx(){return Bx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Hnt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Bx.apply(this,arguments)}function Hnt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Ty(n)););return n}function e6(n,e){return(e6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function znt(n,e){if(e&&("object"===Q5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pde(n)}function pde(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ty(n){return(Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("beforeMergeCells"),xr.getSingleton().register("afterMergeCells"),xr.getSingleton().register("beforeUnmergeCells"),xr.getSingleton().register("afterUnmergeCells");var _de,cR="mergeCells",mde=new WeakMap,gde=cR,Wnt=function(n){!function Bnt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&e6(n,e)}(t,n);var e=function Vnt(n){var e=function Unt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Ty(n);if(e){var o=Ty(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return znt(this,i)}}(t);function t(r){var i;return function Nnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),mde.set(pde(i),{lastDesiredCoords:null}),i.mergedCellsCollection=null,i.autofillCalculations=null,i.selectionCalculations=null,i}return function Fnt(n,e,t){e&&fde(n.prototype,e),t&&fde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[cR]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.mergedCellsCollection=new vnt(this),this.autofillCalculations=new Cnt(this),this.selectionCalculations=new Dnt(this),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("modifyTransformStart",function(){return i.onModifyTransformStart.apply(i,arguments)}),this.addHook("afterModifyTransformStart",function(){return i.onAfterModifyTransformStart.apply(i,arguments)}),this.addHook("modifyTransformEnd",function(){return i.onModifyTransformEnd.apply(i,arguments)}),this.addHook("modifyGetCellCoords",function(){return i.onModifyGetCellCoords.apply(i,arguments)}),this.addHook("beforeSetRangeStart",function(){return i.onBeforeSetRangeStart.apply(i,arguments)}),this.addHook("beforeSetRangeStartOnly",function(){return i.onBeforeSetRangeStart.apply(i,arguments)}),this.addHook("beforeSetRangeEnd",function(){return i.onBeforeSetRangeEnd.apply(i,arguments)}),this.addHook("afterIsMultipleSelection",function(){return i.onAfterIsMultipleSelection.apply(i,arguments)}),this.addHook("afterRenderer",function(){return i.onAfterRenderer.apply(i,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return i.addMergeActionsToContextMenu.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(){return i.onAfterGetCellMeta.apply(i,arguments)}),this.addHook("afterViewportRowCalculatorOverride",function(){return i.onAfterViewportRowCalculatorOverride.apply(i,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return i.onAfterViewportColumnCalculatorOverride.apply(i,arguments)}),this.addHook("modifyAutofillRange",function(){return i.onModifyAutofillRange.apply(i,arguments)}),this.addHook("afterCreateCol",function(){return i.onAfterCreateCol.apply(i,arguments)}),this.addHook("afterRemoveCol",function(){return i.onAfterRemoveCol.apply(i,arguments)}),this.addHook("afterCreateRow",function(){return i.onAfterCreateRow.apply(i,arguments)}),this.addHook("afterRemoveRow",function(){return i.onAfterRemoveRow.apply(i,arguments)}),this.addHook("afterChange",function(){return i.onAfterChange.apply(i,arguments)}),this.addHook("beforeDrawBorders",function(){return i.onBeforeDrawAreaBorders.apply(i,arguments)}),this.addHook("afterDrawSelection",function(){return i.onAfterDrawSelection.apply(i,arguments)}),this.addHook("beforeRemoveCellClassNames",function(){return i.onBeforeRemoveCellClassNames.apply(i,arguments)}),this.addHook("beforeUndoStackChange",function(o,s){if("MergeCells"===s)return!1}),this.registerShortcuts(),Bx(Ty(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),Bx(Ty(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var i=this.hot.getSettings()[cR];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(i),Bx(Ty(t.prototype),"updatePlugin",this).call(this)}},{key:"validateSetting",value:function(i){var o=!0;return!!i&&(vp.containsNegativeValues(i)?(ps(vp.NEGATIVE_VALUES_WARNING(i)),o=!1):vp.isOutOfBounds(i,this.hot.countRows(),this.hot.countCols())?(ps(vp.IS_OUT_OF_BOUNDS_WARNING(i)),o=!1):vp.isSingleCell(i)?(ps(vp.IS_SINGLE_CELL(i)),o=!1):vp.containsZeroSpan(i)&&(ps(vp.ZERO_SPAN_WARNING(i)),o=!1),o)}},{key:"generateFromSettings",value:function(i){var o=this;if(Array.isArray(i)){var s=[];if(it(i,function(a){if(o.validateSetting(a)){var u=o.hot._createCellCoords(a.row,a.col),c=o.hot._createCellCoords(a.row+a.rowspan-1,a.col+a.colspan-1),h=o.hot._createCellRange(u,u,c);o.mergeRange(h,!0,!0),Hr(a.row,a.row+a.rowspan-1,function(p){Hr(a.col,a.col+a.colspan-1,function(g){p===a.row&&g===a.col||s.push([p,g,null])})})}}),0===s.length)return;this.hot.setDataAtCell(s)}}},{key:"clearCollections",value:function(){this.mergedCellsCollection.clear()}},{key:"canMergeRange",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!o||this.validateSetting(i)}},{key:"toggleMergeOnSelection",value:function(){var i=this.hot.getSelectedRangeLast();if(i){i.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");var o=i.from,s=i.to;this.toggleMerge(i),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"mergeSelection",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(i){i.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");var o=i.from,s=i.to;this.unmergeRange(i,!0),this.mergeRange(i),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"unmergeSelection",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(i){var o=i.from,s=i.to;this.unmergeRange(i,!0),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"mergeRange",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=i.getTopStartCorner(),c=i.getBottomEndCorner(),h={row:u.row,col:u.col,rowspan:c.row-u.row+1,colspan:c.col-u.col+1},p=[],g=null;if(!this.canMergeRange(h,s))return!1;this.hot.runHooks("beforeMergeCells",i,s),Hr(0,h.rowspan-1,function(w){Hr(0,h.colspan-1,function(S){var C=null;p[w]||(p[w]=[]),0===w&&0===S?C=o.hot.getSourceDataAtCell(o.hot.toPhysicalRow(h.row),o.hot.toPhysicalColumn(h.col)):o.hot.setCellMeta(h.row+w,h.col+S,"hidden",!0),p[w][S]=C})}),this.hot.setCellMeta(h.row,h.col,"spanned",!0);var y=this.mergedCellsCollection.add(h);return!y||(a?g=[h.row,h.col,p]:this.hot.populateFromArray(h.row,h.col,p,void 0,void 0,this.pluginName),this.hot.runHooks("afterMergeCells",i,h,s),g)}},{key:"unmergeRange",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.mergedCellsCollection.getWithinRange(i);!a||(this.hot.runHooks("beforeUnmergeCells",i,s),it(a,function(u){o.mergedCellsCollection.remove(u.row,u.col),Hr(0,u.rowspan-1,function(c){Hr(0,u.colspan-1,function(h){o.hot.removeCellMeta(u.row+c,u.col+h,"hidden")})}),o.hot.removeCellMeta(u.row,u.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",i,s),this.hot.render())}},{key:"toggleMerge",value:function(i){var o=this.mergedCellsCollection.get(i.from.row,i.from.col);o.row===i.from.row&&o.col===i.from.col&&o.row+o.rowspan-1===i.to.row&&o.col+o.colspan-1===i.to.col?this.unmergeRange(i):this.mergeSelection(i)}},{key:"merge",value:function(i,o,s,a){var u=this.hot._createCellCoords(i,o),c=this.hot._createCellCoords(s,a);this.mergeRange(this.hot._createCellRange(u,u,c))}},{key:"unmerge",value:function(i,o,s,a){var u=this.hot._createCellCoords(i,o),c=this.hot._createCellCoords(s,a);this.unmergeRange(this.hot._createCellRange(u,u,c))}},{key:"onAfterInit",value:function(){this.generateFromSettings(this.hot.getSettings()[cR]),this.hot.render()}},{key:"registerShortcuts",value:function(){var i=this;this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:function(){i.toggleMerge(i.hot.getSelectedRangeLast()),i.hot.render()},runOnlyIf:function(u){return!u.altKey},group:gde})}},{key:"unregisterShortcuts",value:function(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(gde)}},{key:"onAfterIsMultipleSelection",value:function(i){if(i)for(var o=this.mergedCellsCollection.mergedCells,s=this.hot.getSelectedRangeLast(),a=0;a<o.length;a+=1)if(s.from.row===o[a].row&&s.from.col===o[a].col&&s.to.row===o[a].row+o[a].rowspan-1&&s.to.col===o[a].col+o[a].colspan-1)return!1;return i}},{key:"onModifyTransformStart",value:function(i){var u,o=mde.get(this),s=this.hot.getSelectedRangeLast(),a={row:i.row,col:i.col},c=this.hot._createCellCoords(s.highlight.row,s.highlight.col),h=this.mergedCellsCollection.get(c.row,c.col);if(o.lastDesiredCoords||(o.lastDesiredCoords=this.hot._createCellCoords(null,null)),h){var p=this.hot._createCellCoords(h.row,h.col),g=this.hot._createCellCoords(h.row+h.rowspan-1,h.col+h.colspan-1);this.hot._createCellRange(p,p,g).includes(o.lastDesiredCoords)||(o.lastDesiredCoords=this.hot._createCellCoords(null,null)),a.row=o.lastDesiredCoords.row?o.lastDesiredCoords.row-c.row:a.row,a.col=o.lastDesiredCoords.col?o.lastDesiredCoords.col-c.col:a.col,i.row>0?a.row=h.row+h.rowspan-1-c.row+i.row:i.row<0&&(a.row=c.row-h.row+i.row),i.col>0?a.col=h.col+h.colspan-1-c.col+i.col:i.col<0&&(a.col=c.col-h.col+i.col)}u=this.hot._createCellCoords(s.highlight.row+a.row,s.highlight.col+a.col);var w=this.mergedCellsCollection.get(u.row,u.col);if(w){var S=this.mergedCellsCollection.getFirstRenderableCoords(w.row,w.col);o.lastDesiredCoords=u,a={row:S.row-c.row,col:S.col-c.col}}0!==a.row&&(i.row=a.row),0!==a.col&&(i.col=a.col)}},{key:"onModifyTransformEnd",value:function(i){var o=this,s=this.hot.getSelectedRangeLast(),a=Ec(i),u=this.selectionCalculations.getUpdatedSelectionRange(s,i),c=Ec(a),h=this.mergedCellsCollection.getWithinRange(u,!0);do{c=Ec(a),this.selectionCalculations.getUpdatedSelectionRange(s,a),it(h,function(p){o.selectionCalculations.snapDelta(a,s,p)})}while(a.row!==c.row||a.col!==c.col);i.row=a.row,i.col=a.col}},{key:"onModifyGetCellCoords",value:function(i,o){if(!(i<0||o<0)){var s=this.mergedCellsCollection.get(i,o);if(s){var a=s.row,u=s.col;return[a,u,a+s.rowspan-1,u+s.colspan-1]}}}},{key:"addMergeActionsToContextMenu",value:function(i){i.items.push({name:"---------"},function Ant(n){return{key:"mergeCells",name:function(){var t=this.getSelectedLast();if(t){var r=n.mergedCellsCollection.get(t[0],t[1]);if(r.row===t[0]&&r.col===t[1]&&r.row+r.rowspan-1===t[2]&&r.col+r.colspan-1===t[3])return this.getTranslatedPhrase(hj)}return this.getTranslatedPhrase(dj)},callback:function(){n.toggleMergeOnSelection()},disabled:function(){var t=this.getSelectedLast();return!t||vp.isSingleCell({row:t[0],col:t[1],rowspan:t[2]-t[0]+1,colspan:t[3]-t[1]+1})||this.selection.isSelectedByCorner()},hidden:!1}}(this))}},{key:"onAfterRenderer",value:function(i,o,s){var a=this.mergedCellsCollection.get(o,s),u=$i(a)?Ec(a):void 0;if($i(u)){var c=this.hot,h=c.rowIndexMapper,p=c.columnIndexMapper,P=function Ont(n,e){return function Int(n){if(Array.isArray(n))return n}(n)||function Pnt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function Lnt(n,e){if(n){if("string"==typeof n)return hde(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hde(n,e)}}(n,e)||function knt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.translateMergedCellToRenderable(u.row,u.rowspan,u.col,u.colspan),2),z=P[1],re=P[0]-h.getRenderableFromVisualIndex(o)+1,pe=z-p.getRenderableFromVisualIndex(s)+1;u.row=h.getNearestNotHiddenIndex(u.row,1),u.col=p.getNearestNotHiddenIndex(u.col,1),u.rowspan=Math.min(u.rowspan,re),u.colspan=Math.min(u.colspan,pe)}q5(i,u,o,s)}},{key:"onBeforeSetRangeStart",value:function(i){if(this.mergedCellsCollection.isFirstRenderableMergedCell(i.row,i.col)){var o=this.mergedCellsCollection.get(i.row,i.col),s=[o.row,o.col];i.row=s[0],i.col=s[1]}}},{key:"onBeforeSetRangeEnd",value:function(i){var o=this.hot.getSelectedRangeLast();o.highlight=this.hot._createCellCoords(o.highlight.row,o.highlight.col),o.to=i;var s=!1;if(!this.hot.selection.isSelectedByColumnHeader()&&!this.hot.selection.isSelectedByRowHeader())do{s=!1;for(var a=0;a<this.mergedCellsCollection.mergedCells.length;a+=1){var c=this.mergedCellsCollection.mergedCells[a].getRange();o.expandByRange(c)&&(i.row=o.to.row,i.col=o.to.col,s=!0)}}while(s)}},{key:"onAfterGetCellMeta",value:function(i,o,s){var a=this.mergedCellsCollection.get(i,o);a&&(a.row!==i||a.col!==o?s.copyable=!1:(s.rowspan=a.rowspan,s.colspan=a.colspan))}},{key:"onAfterViewportRowCalculatorOverride",value:function(i){var o=this.hot.countCols();this.modifyViewportRowStart(i,o),this.modifyViewportRowEnd(i,o)}},{key:"modifyViewportRowStart",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=s.getVisualFromRenderableIndex(i.startRow),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(a,u);if($i(c)){var h=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.row,1));if(h<i.startRow)return i.startRow=h,void this.modifyViewportRowStart(i,o)}}}},{key:"modifyViewportRowEnd",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=s.getVisualFromRenderableIndex(i.endRow),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(a,u);if($i(c)){var p=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.row+c.rowspan-1,-1));if(p>i.endRow)return i.endRow=p,void this.modifyViewportRowEnd(i,o)}}}},{key:"onAfterViewportColumnCalculatorOverride",value:function(i){var o=this.hot.countRows();this.modifyViewportColumnStart(i,o),this.modifyViewportColumnEnd(i,o)}},{key:"modifyViewportColumnStart",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=s.getVisualFromRenderableIndex(i.startColumn),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(u,a);if($i(c)){var h=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.col,1));if(h<i.startColumn)return i.startColumn=h,void this.modifyViewportColumnStart(i,o)}}}},{key:"modifyViewportColumnEnd",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=s.getVisualFromRenderableIndex(i.endColumn),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(u,a);if($i(c)){var p=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.col+c.colspan-1,-1));if(p>i.endColumn)return i.endColumn=p,void this.modifyViewportColumnEnd(i,o)}}}},{key:"translateMergedCellToRenderable",value:function(i,o,s,a){var p,g,u=this.hot,c=u.rowIndexMapper,h=u.columnIndexMapper;return p=0===o?c.getNearestNotHiddenIndex(i,1):c.getNearestNotHiddenIndex(i+o-1,-1),g=0===a?h.getNearestNotHiddenIndex(s,1):h.getNearestNotHiddenIndex(s+a-1,-1),[i>=0?c.getRenderableFromVisualIndex(p):i,s>=0?h.getRenderableFromVisualIndex(g):s]}},{key:"onModifyAutofillRange",value:function(i,o){this.autofillCalculations.correctSelectionAreaSize(o);var s=this.autofillCalculations.getDirection(o,i),a=i;if(this.autofillCalculations.dragAreaOverlapsCollections(o,a,s))return o;var u=this.mergedCellsCollection.getWithinRange({from:{row:o[0],col:o[1]},to:{row:o[2],col:o[3]}});return u&&(a=this.autofillCalculations.snapDragArea(o,a,s,u)),a}},{key:"onAfterCreateCol",value:function(i,o){this.mergedCellsCollection.shiftCollections("right",i,o)}},{key:"onAfterRemoveCol",value:function(i,o){this.mergedCellsCollection.shiftCollections("left",i,o)}},{key:"onAfterCreateRow",value:function(i,o,s){"auto"!==s&&this.mergedCellsCollection.shiftCollections("down",i,o)}},{key:"onAfterRemoveRow",value:function(i,o){this.mergedCellsCollection.shiftCollections("up",i,o)}},{key:"onAfterChange",value:function(i,o){"Autofill.fill"===o&&this.autofillCalculations.recreateAfterDataPopulation(i)}},{key:"onBeforeDrawAreaBorders",value:function(i,o){if(o&&"area"===o){var s=this.hot.getSelectedRangeLast();it(this.mergedCellsCollection.getWithinRange(s),function(u){s.getBottomEndCorner().row===u.getLastRow()&&s.getBottomEndCorner().col===u.getLastColumn()&&(i[2]=u.row,i[3]=u.col)})}}},{key:"onAfterModifyTransformStart",value:function(i,o,s){if(this.enabled){var a=this.mergedCellsCollection.get(i.row,i.col);if(a){var u=o>0,c=o<0,h=s<0,p=s>0,g=a.row+a.rowspan-1==this.hot.countRows()-1,y=0===a.row,w=a.col+a.colspan-1==this.hot.countCols()-1;(u&&g||c&&y||p&&w||h&&0===a.col)&&(i.row=a.row,i.col=a.col)}}}},{key:"onAfterDrawSelection",value:function(i,o,s,a){if(s)return this.selectionCalculations.getSelectedMergedCellClassName(i,o,s,a)}},{key:"onBeforeRemoveCellClassNames",value:function(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}}],[{key:"PLUGIN_KEY",get:function(){return cR}},{key:"PLUGIN_PRIORITY",get:function(){return 150}}]),t}(Jo);function vde(n){return function Xnt(n){if(Array.isArray(n))return n}(n)||function $nt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Gnt(n,e){if(n){if("string"==typeof n)return yde(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yde(n,e)}}(n)||function Ynt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yde(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function bde(){ps(is(_de||(_de=function Znt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Plugins `columnSorting` and `multiColumnSorting` should not be enabled simultaneously. \n    Only `multiColumnSorting` will work."],["Plugins \\`columnSorting\\` and \\`multiColumnSorting\\` should not be enabled simultaneously. \n    Only \\`multiColumnSorting\\` will work."]))))}function qnt(n,e,t){var r=[];return!1===t||n.isColumnSorted(e)&&n.getNumberOfSortedColumns()>1&&r.push("".concat("sort","-").concat(n.getIndexOfColumnInSortQueue(e)+1)),r}function Jnt(n){var e=n.className.split(" "),t=new RegExp("^".concat("sort","-[0-9]{1,2}$"));return e.filter(function(r){return t.test(r)})}function t6(n){return(t6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Mde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _d(){return _d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=trt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},_d.apply(this,arguments)}function trt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Zu(n)););return n}function n6(n,e){return(n6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function irt(n,e){if(e&&("object"===t6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function ort(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Zu(n){return(Zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var r6="multiColumnSorting",Sde="columnSorting";Pae(r6,function Knt(n,e){return function(t,r){var o=vde(t).slice(1),a=vde(r).slice(1);return function u(c){var h=n[c],p=e[c],g=o[c],y=a[c],w=p.multiColumnSorting,C=(w.compareFunctionFactory?w.compareFunctionFactory:Iae(p.type))(h,p,w)(g,y);if(0===C){var P=c+1;if(void 0!==e[P])return u(P)}return C}(0)}});var urt=function(n){!function nrt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&n6(n,e)}(t,n);var e=function rrt(n){var e=function srt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Zu(n);if(e){var o=Zu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return irt(this,i)}}(t);function t(r){var i;return function Qnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).pluginKey=r6,i}return function ert(n,e,t){e&&Mde(n.prototype,e),t&&Mde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return _d(Zu(t.prototype),"isEnabled",this).call(this)}},{key:"enablePlugin",value:function(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[Sde]&&bde(),_d(Zu(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){_d(Zu(t.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(i){_d(Zu(t.prototype),"sort",this).call(this,i)}},{key:"clearSort",value:function(){_d(Zu(t.prototype),"clearSort",this).call(this)}},{key:"isSorted",value:function(){return _d(Zu(t.prototype),"isSorted",this).call(this)}},{key:"getSortConfig",value:function(i){return _d(Zu(t.prototype),"getSortConfig",this).call(this,i)}},{key:"setSortConfig",value:function(i){_d(Zu(t.prototype),"setSortConfig",this).call(this,i)}},{key:"getNormalizedSortConfigs",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(i)?i:[i]}},{key:"updateHeaderClasses",value:function(i){for(var o,s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=_d(Zu(t.prototype),"updateHeaderClasses",this)).call.apply(o,[this,i].concat(a)),Hi(i,Jnt(i)),!1!==this.enabled&&An(i,qnt.apply(void 0,a))}},{key:"onUpdateSettings",value:function(i){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[Sde]&&bde(),_d(Zu(t.prototype),"onUpdateSettings",this).call(this,i)}},{key:"onAfterOnCellMouseDown",value:function(i,o){!1!==UY(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(o.col),this.sort(this.getNextSortConfig(o.col,"append"))):this.sort(this.getColumnNextConfig(o.col)))}}],[{key:"PLUGIN_KEY",get:function(){return r6}},{key:"PLUGIN_PRIORITY",get:function(){return 170}}]),t}(jae);function i6(n){return(i6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function LN(){return LN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=hrt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},LN.apply(this,arguments)}function hrt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Vx(n)););return n}function o6(n,e){return(o6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function mrt(n,e){if(e&&("object"===i6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function grt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Vx(n){return(Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var brt=function(n){!function frt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&o6(n,e)}(t,n);var e=function prt(n){var e=function vrt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Vx(n);if(e){var o=Vx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return mrt(this,i)}}(t);function t(r){var i;return function crt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).dragged=[],i.eventManager=null,i.lastSetCell=null,i}return function drt(n,e,t){e&&xde(n.prototype,e),t&&xde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return tp()}},{key:"enablePlugin",value:function(){this.enabled||(this.eventManager||(this.eventManager=new ia(this)),this.registerListeners(),LN(Vx(t.prototype),"enablePlugin",this).call(this))}},{key:"registerListeners",value:function(){var i=this,o=this,s=this.hot.rootElement;function a(u){if(1===o.dragged.length)return o.dragged.splice(0,o.dragged.length),!0;var c=o.dragged.indexOf(u);if(-1===c)return!1;0===c?o.dragged=o.dragged.slice(0,1):1===c&&(o.dragged=o.dragged.slice(-1))}this.eventManager.addEventListener(s,"touchstart",function(u){var c;return Ti(u.target,"topSelectionHandle-HitArea")?(c=o.hot.getSelectedRangeLast(),o.dragged.push("top"),o.touchStartRange={width:c.getWidth(),height:c.getHeight(),direction:c.getDirection()},u.preventDefault(),!1):Ti(u.target,"bottomSelectionHandle-HitArea")?(c=o.hot.getSelectedRangeLast(),o.dragged.push("bottom"),o.touchStartRange={width:c.getWidth(),height:c.getHeight(),direction:c.getDirection()},u.preventDefault(),!1):void 0}),this.eventManager.addEventListener(s,"touchend",function(u){return Ti(u.target,"topSelectionHandle-HitArea")?(a.call(o,"top"),o.touchStartRange=void 0,u.preventDefault(),!1):Ti(u.target,"bottomSelectionHandle-HitArea")?(a.call(o,"bottom"),o.touchStartRange=void 0,u.preventDefault(),!1):void 0}),this.eventManager.addEventListener(s,"touchmove",function(u){var h,p,g,y,w,S;if(0!==o.dragged.length){var C=i.hot.rootDocument.elementFromPoint(u.touches[0].clientX,u.touches[0].clientY);!C||C===o.lastSetCell||(("TD"===C.nodeName||"TH"===C.nodeName)&&(-1===(h=o.hot.getCoords(C)).col&&(h.col=0),g=(p=o.hot.getSelectedRangeLast()).getWidth(),y=p.getHeight(),w=p.getDirection(),1===g&&1===y&&o.hot.selection.setRangeEnd(h),null!==(S=o.getCurrentRangeCoords(p,h,o.touchStartRange.direction,w,o.dragged[0])).start&&o.hot.selection.setRangeStart(S.start),o.hot.selection.setRangeEnd(S.end),o.lastSetCell=C),u.preventDefault())}})}},{key:"getCurrentRangeCoords",value:function(i,o,s,a,u){var c=i.getTopStartCorner(),h=i.getBottomEndCorner(),p=i.getBottomStartCorner(),g=i.getTopEndCorner(),y={start:null,end:null};switch(s){case"NE-SW":switch(a){case"NE-SW":case"NW-SE":y="top"===u?{start:this.hot._createCellCoords(o.row,i.highlight.col),end:this.hot._createCellCoords(p.row,o.col)}:{start:this.hot._createCellCoords(i.highlight.row,o.col),end:this.hot._createCellCoords(o.row,c.col)};break;case"SE-NW":"bottom"===u&&(y={start:this.hot._createCellCoords(h.row,o.col),end:this.hot._createCellCoords(o.row,c.col)})}break;case"NW-SE":switch(a){case"NE-SW":"top"===u?y={start:o,end:p}:y.end=o;break;case"NW-SE":"top"===u?y={start:o,end:h}:y.end=o;break;case"SE-NW":"top"===u?y={start:o,end:c}:y.end=o;break;case"SW-NE":"top"===u?y={start:o,end:g}:y.end=o}break;case"SW-NE":switch(a){case"NW-SE":y="bottom"===u?{start:this.hot._createCellCoords(o.row,c.col),end:this.hot._createCellCoords(p.row,o.col)}:{start:this.hot._createCellCoords(c.row,o.col),end:this.hot._createCellCoords(o.row,h.col)};break;case"SW-NE":y="top"===u?{start:this.hot._createCellCoords(i.highlight.row,o.col),end:this.hot._createCellCoords(o.row,h.col)}:{start:this.hot._createCellCoords(o.row,c.col),end:this.hot._createCellCoords(c.row,o.col)};break;case"SE-NW":"bottom"===u?y={start:this.hot._createCellCoords(o.row,g.col),end:this.hot._createCellCoords(c.row,o.col)}:"top"===u&&(y={start:p,end:o})}break;case"SE-NW":switch(a){case"NW-SE":case"NE-SW":case"SW-NE":"top"===u&&(y.end=o);break;case"SE-NW":"top"===u?y.end=o:y={start:o,end:c}}}return y}},{key:"isDragged",value:function(){return this.dragged.length>0}}],[{key:"PLUGIN_KEY",get:function(){return"multipleSelectionHandles"}},{key:"PLUGIN_PRIORITY",get:function(){return 160}}]),t}(Jo);function s6(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.label,t=void 0===e?"":e,r=n.colspan,i=void 0===r?1:r,o=n.origColspan,s=void 0===o?1:o,a=n.collapsible,u=void 0!==a&&a,c=n.crossHiddenColumns,h=void 0===c?[]:c,p=n.isCollapsed,g=void 0!==p&&p,y=n.isHidden,w=void 0!==y&&y,S=n.isRoot,C=void 0!==S&&S,P=n.isPlaceholder,B=void 0!==P&&P;return{label:t,colspan:i,origColspan:s,collapsible:u,isCollapsed:g,crossHiddenColumns:h,isHidden:w,isRoot:C,isPlaceholder:B}}function Ede(n){return function xrt(n){if(Array.isArray(n))return a6(n)}(n)||function Srt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Mrt(n,e){if(n){if("string"==typeof n)return a6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a6(n,e)}}(n)||function wrt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Crt(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,t=[];if(0===e)return t;it(n,function(i){var o=[],s=0;t.push(o),it(i,function(a){var u=s6();if($i(a)){var h=a.colspan;u.label=xa(a.label),"number"==typeof h&&h>1&&(u.colspan=h,u.origColspan=h)}else u.label=xa(a);var p=!1;if((s+=u.origColspan)>=e&&(u.colspan=u.origColspan-(s-e),u.origColspan=u.colspan,p=!0),o.push(u),u.colspan>1)for(var g=0;g<u.colspan-1;g++)o.push({label:"",isPlaceholder:!0});return!p})});var r=Math.max.apply(Math,Ede(to(t,function(i){return i.length})));return it(t,function(i){if(i.length<r){var o=to(new Array(r-i.length),function(){return s6()});i.splice.apply(i,[i.length,0].concat(Ede(o)))}}),t}var Ert=["row","col"];function Tde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Rrt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function l6(n,e,t){(function Lrt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function cf(n,e){return function Prt(n,e){return e.get?e.get.call(n):e.value}(n,Dde(n,e,"get"))}function dR(n,e,t){return function Irt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Dde(n,e,"set"),t),t}function Dde(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Ade=["label","collapsible"],sg=new WeakMap,Aw=new WeakMap,u6=new WeakMap,Nrt=function(){function n(){(function Ort(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),l6(this,sg,{writable:!0,value:[]}),l6(this,Aw,{writable:!0,value:0}),l6(this,u6,{writable:!0,value:1/0})}return function krt(n,e,t){e&&Rde(n.prototype,e),t&&Rde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setColumnsLimit",value:function(t){dR(this,u6,t)}},{key:"setData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];dR(this,sg,Crt(t,cf(this,u6))),dR(this,Aw,cf(this,sg).length)}},{key:"getData",value:function(){return cf(this,sg)}},{key:"mergeWith",value:function(t){var r=this;it(t,function(i){var o=i.row,s=i.col,a=function Drt(n,e){if(null==n)return{};var r,i,t=function Art(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(i,Ert),u=r.getHeaderSettings(o,s);null!==u&&na(u,a,Ade)})}},{key:"map",value:function(t){it(cf(this,sg),function(r){it(r,function(i){var o=t(function Trt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Tde(Object(t),!0).forEach(function(r){Rrt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({},i));$i(o)&&na(i,o,Ade)})})}},{key:"getHeaderSettings",value:function(t,r){var i;if(t>=cf(this,Aw)||t<0)return null;var o=cf(this,sg)[t];return r>=o.length?null:null!==(i=o[r])&&void 0!==i?i:null}},{key:"getHeadersSettings",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=[];if(t>=cf(this,Aw)||t<0)return o;for(var s=cf(this,sg)[t],a=0,u=r;u<s.length;u++){var c=s[u];if(c.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(a+=c.colspan,o.push(c),c.colspan>1&&(u+=c.colspan-1),a===i)break;if(a>i)throw new Error("The last column settings cannot overlap the other header layers")}return o}},{key:"getLayersCount",value:function(){return cf(this,Aw)}},{key:"getColumnsCount",value:function(){return cf(this,Aw)>0?cf(this,sg)[0].length:0}},{key:"clear",value:function(){dR(this,sg,[]),dR(this,Aw,0)}}]),n}();function Ode(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kde(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Ode(Object(t),!0).forEach(function(r){PN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ode(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Lde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function PN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function c6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Fde=new Map([["DF-pre-order",function Pde(n,e){for(var t=n.call(e,this),r=0;r<this.childs.length;r++){if(!1===t)return!1;t=Pde.call(this.childs[r],n,e)}return t}],["DF-post-order",function Ide(n,e){for(var t=0;t<this.childs.length;t++)if(!1===Ide.call(this.childs[t],n,e))return!1;return n.call(e,this)}],["BF",function Grt(n,e){var t=[this];!function r(){if(0!==t.length){var i=t.shift();t.push.apply(t,function Brt(n){return function jrt(n){if(Array.isArray(n))return c6(n)}(n)||function Urt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function zrt(n,e){if(n){if("string"==typeof n)return c6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c6(n,e)}}(n)||function Vrt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.childs)),!1!==n.call(e,i)&&r()}}()}]]),Hde=function(){function n(e){(function Frt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),PN(this,"data",{}),PN(this,"parent",null),PN(this,"childs",[]),this.data=e}return function Hrt(n,e,t){e&&Lde(n.prototype,e),t&&Lde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addChild",value:function(t){t.parent=this,this.childs.push(t)}},{key:"cloneTree",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,r=new n(kde({},t.data)),i=0;i<t.childs.length;i++)r.addChild(this.cloneTree(t.childs[i]));return r}},{key:"replaceTreeWith",value:function(t){this.data=kde({},t.data),this.childs=[];for(var r=0;r<t.childs.length;r++)this.addChild(t.childs[r])}},{key:"walkDown",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BF";if(!Fde.has(r))throw new Error('Traversal strategy "'.concat(r,'" does not exist'));Fde.get(r).call(this,t,this)}},{key:"walkUp",value:function(t){var r=this;!function o(s){!1!==t.call(r,s)&&null!==s.parent&&o(s.parent)}(this)}}]),n}();function Bde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Vde(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Bde(Object(t),!0).forEach(function(r){Xrt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Bde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Xrt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zde(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ude(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function d6(n,e,t){(function nit(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function qu(n,e){return function rit(n,e){return e.get?e.get.call(n):e.value}(n,jde(n,e,"get"))}function jde(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Yde,Gde,zx=new WeakMap,Ow=new WeakMap,Ux=new WeakMap,sit=function(){function n(e){(function eit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),d6(this,zx,{writable:!0,value:new Map}),d6(this,Ow,{writable:!0,value:new Map}),d6(this,Ux,{writable:!0,value:null}),function iit(n,e,t){return function oit(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,jde(n,e,"set"),t),t}(this,Ux,e)}return function tit(n,e,t){e&&Ude(n.prototype,e),t&&Ude(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getRoots",value:function(){return Array.from(qu(this,zx).values())}},{key:"getRootByColumn",value:function(t){var r;return qu(this,Ow).has(t)&&(r=qu(this,zx).get(qu(this,Ow).get(t))),r}},{key:"getNode",value:function(t,r){var i=this.getRootByColumn(r);if(i){var a,o=r-qu(this,Ow).get(r),s=0;return i.walkDown(function(u){var c=u.data,h=c.origColspan;if(t===c.headerLevel){if(o>=s&&o<=s+h-1)return a=u,!1;s+=h}}),a}}},{key:"rebuildTreeIndex",value:function(){var t=this,r=0;qu(this,Ow).clear(),it(qu(this,zx),function(i){for(var s=function Krt(n,e){return function Qrt(n){if(Array.isArray(n))return n}(n)||function Jrt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function qrt(n,e){if(n){if("string"==typeof n)return zde(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zde(n,e)}}(n,e)||function Zrt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i,2)[1].data.colspan,a=r;a<r+s;a++)qu(t,Ow).set(a,r);r+=s})}},{key:"buildTree",value:function(){this.clear();for(var t=qu(this,Ux).getColumnsCount(),r=0;r<t;){var i=qu(this,Ux).getHeaderSettings(0,r),o=new Hde;qu(this,zx).set(r,o),this.buildLeaves(o,r,0,i.origColspan),r+=i.origColspan}this.rebuildTreeIndex()}},{key:"buildLeaves",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=qu(this,Ux).getHeadersSettings(i,r,s);i+=1,it(a,function(u){var h,c=Vde(Vde({},u),{},{headerLevel:i-1,columnIndex:r});1===i?(t.data=c,h=t):(h=new Hde(c),t.addChild(h)),i<qu(o,Ux).getLayersCount()&&o.buildLeaves(h,r,i,u.origColspan),r+=u.origColspan})}},{key:"clear",value:function(){qu(this,zx).clear(),qu(this,Ow).clear()}}]),n}();function Wde(n,e){n.walkDown(function(t){var r=t.data,i=t.childs;if(!r.isHidden&&(e(r.columnIndex),0===i.length))for(var o=1;o<r.colspan;o++)e(r.columnIndex+o)})}function IN(n,e){var t=n.childs;if(0!==t.length)return t[0].data[e]}function NN(n){return IN(n,"origColspan")===n.data.origColspan}function h6(n){var e=n.data,t=n.childs;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};if(NN(n))return h6(t[0]);e.isCollapsed=!1;var i=t.slice(1),o=new Set,s=0;if(i.length>0)it(i,function(p){p.replaceTreeWith(p.data.clonedTree),p.data.clonedTree=null,s+=p.data.colspan,Wde(p,function(y){o.add(y)})});else{var u=e.origColspan,c=e.columnIndex;s=u-e.colspan;for(var h=1;h<u;h++)o.add(c+h)}return n.walkUp(function(p){var g=p.data;g.colspan+=s,g.colspan>=g.origColspan?(g.colspan=g.origColspan,g.isCollapsed=!1):NN(p)&&(g.isCollapsed=IN(p,"isCollapsed"))}),{rollbackModification:function(){return f6(n)},affectedColumns:Array.from(o),colspanCompensation:s}}function f6(n){var e,t=n.data,r=n.childs;if(t.isCollapsed||t.isHidden||t.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};if(NN(n))return f6(r[0]);t.isCollapsed=!0;var o=r.slice(1),s=new Set;if(o.length>0)it(o,function(g){Wde(g,function(y){s.add(y)}),g.data.clonedTree=g.cloneTree(),g.walkDown(function(y){y.data.isHidden=!0})});else for(var a=t.origColspan,u=t.columnIndex,c=1;c<a;c++)s.add(u+c);var p=t.colspan-(null!==(e=IN(n,"colspan"))&&void 0!==e?e:1);return n.walkUp(function(g){var y=g.data;y.colspan-=p,y.colspan<=1?(y.colspan=1,y.isCollapsed=!0):NN(g)&&(y.isCollapsed=IN(g,"isCollapsed"))}),{rollbackModification:function(){return h6(n)},affectedColumns:Array.from(s),colspanCompensation:p}}var $de=new Map([["collapse",f6],["expand",h6],["hide-column",function lit(n,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(n.childs.length>0)throw new Error(is(Yde||(Yde=function ait(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The passed node is not the last node on the tree. Only for \nthe last node, the hide column modification can be applied."],["The passed node is not the last node on the tree. Only for\\x20\nthe last node, the hide column modification can be applied."]))));if(!n.data.crossHiddenColumns.includes(e)){var r=!1;n.walkUp(function(i){if(i.data.collapsible)return r=!0,!1}),!r&&n.walkUp(function(i){var o=i.data;o.crossHiddenColumns.push(e),o.colspan>1?o.colspan-=1:o.isHidden=!0})}}],["show-column",function cit(n,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(n.childs.length>0)throw new Error(is(Gde||(Gde=function uit(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The passed node is not the last node on the tree. Only for \nthe last node, the show column modification can be applied."],["The passed node is not the last node on the tree. Only for\\x20\nthe last node, the show column modification can be applied."]))));if(n.data.crossHiddenColumns.includes(e)){var r=!1;n.walkUp(function(i){if(i.data.collapsible)return r=!0,!1}),!r&&n.walkUp(function(i){var o=i.data;o.crossHiddenColumns.splice(o.crossHiddenColumns.indexOf(e),1),!o.isHidden&&o.colspan<o.origColspan&&(o.colspan+=1),o.isHidden=!1})}}]]),hit=["crossHiddenColumns"];function FN(n){var e=[];return it(n,function(t){t.walkDown(function(r){for(var i=r.data,o=i.origColspan,s=i.columnIndex,u=i.crossHiddenColumns,c=function git(n,e){var t;return Array.isArray(n[e])?t=n[e]:n[e]=t=[],t}(e,i.headerLevel),h=!1,p=s;p<s+o;p++)if(u.includes(p)||h)c.push({label:"",isPlaceholder:!0});else{var y=mit(i);y.isRoot=!0,c.push(y),h=!0}})}),e}function mit(n){return function fit(n,e){if(null==n)return{};var r,i,t=function pit(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(s6(n),hit)}var vit=["row"];function Xde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Kde(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Xde(Object(t),!0).forEach(function(r){yit(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yit(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function p6(n,e,t){(function Sit(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function hR(n,e,t){return function xit(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,qde(n,e,"set"),t),t}function ma(n,e){return function Cit(n,e){return e.get?e.get.call(n):e.value}(n,qde(n,e,"get"))}function qde(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var yp=new WeakMap,bd=new WeakMap,kw=new WeakMap,Eit=function(){function n(){(function wit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),p6(this,yp,{writable:!0,value:new Nrt}),p6(this,bd,{writable:!0,value:new sit(ma(this,yp))}),p6(this,kw,{writable:!0,value:[[]]})}return function Mit(n,e,t){e&&Zde(n.prototype,e),t&&Zde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setState",value:function(t){ma(this,yp).setData(t);var r=!1;try{ma(this,bd).buildTree()}catch(i){ma(this,bd).clear(),ma(this,yp).clear(),r=!0}return hR(this,kw,FN(ma(this,bd).getRoots())),r}},{key:"setColumnsLimit",value:function(t){ma(this,yp).setColumnsLimit(t)}},{key:"mergeStateWith",value:function(t){var r=this,i=to(t,function(o){var s=o.row,a=function _it(n,e){if(null==n)return{};var r,i,t=function bit(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(o,vit);return Kde({row:s<0?r.rowCoordsToLevel(s):s},a)});ma(this,yp).mergeWith(i),ma(this,bd).buildTree(),hR(this,kw,FN(ma(this,bd).getRoots()))}},{key:"mapState",value:function(t){ma(this,yp).map(t),ma(this,bd).buildTree(),hR(this,kw,FN(ma(this,bd).getRoots()))}},{key:"mapNodes",value:function(t){return Ya(ma(this,bd).getRoots(),function(r,i){return i.walkDown(function(o){var s=t(o.data);void 0!==s&&r.push(s)}),r},[])}},{key:"triggerNodeModification",value:function(t,r,i){r<0&&(r=this.rowCoordsToLevel(r));var s,o=ma(this,bd).getNode(r,i);return o&&(s=function dit(n,e,t){if(!$de.has(n))throw new Error('The node modifier action ("'.concat(n,'") does not exist.'));return $de.get(n)(e,t)}(t,o,i),hR(this,kw,FN(ma(this,bd).getRoots()))),s}},{key:"triggerColumnModification",value:function(t,r){return this.triggerNodeModification(t,-1,r)}},{key:"rowCoordsToLevel",value:function(t){var r=Math.max(this.getLayersCount(),1),i=r-1;return Math.min(Math.max(t+r,0),i)}},{key:"levelToRowCoords",value:function(t){var r=Math.max(this.getLayersCount(),1);return Math.min(Math.max(t-r,-r),-1)}},{key:"getHeaderSettings",value:function(t,r){var i,o;return t<0&&(t=this.rowCoordsToLevel(t)),t>=this.getLayersCount()?null:null!==(i=null===(o=ma(this,kw)[t])||void 0===o?void 0:o[r])&&void 0!==i?i:null}},{key:"getHeaderTreeNodeData",value:function(t,r){t<0&&(t=this.rowCoordsToLevel(t));var i=ma(this,bd).getNode(t,r);return i?Kde({},i.data):null}},{key:"findLeftMostColumnIndex",value:function(t,r){var i;if((null!==(i=this.getHeaderSettings(t,r))&&void 0!==i?i:{isRoot:!0}).isRoot)return r;for(var a=r-1;a>=0;){var u;if((null!==(u=this.getHeaderSettings(t,a))&&void 0!==u?u:{isRoot:!0}).isRoot)break;a-=1}return a}},{key:"getLayersCount",value:function(){return ma(this,yp).getLayersCount()}},{key:"getColumnsCount",value:function(){return ma(this,yp).getColumnsCount()}},{key:"clear",value:function(){hR(this,kw,[]),ma(this,yp).clear(),ma(this,bd).clear()}}]),n}();function Jde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function fR(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Ait=function(){function n(e,t){(function Tit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),fR(this,"hot",void 0),fR(this,"nestedHeaderSettingsGetter",void 0),fR(this,"layersCount",0),fR(this,"container",void 0),fR(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=t,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}return function Rit(n,e,t){e&&Jde(n.prototype,e),t&&Jde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setLayersCount",value:function(t){return this.layersCount=t,this}},{key:"getWidth",value:function(t){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(t))}},{key:"buildWidthsMap",value:function(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);var t=this.container.querySelectorAll("tr:last-of-type th"),r=t.length;this.widthsMap.clear();for(var i=0;i<r;i++){var o=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i),s=this.hot.toPhysicalColumn(o);this.widthsMap.setValueAtIndex(s,t[i].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}},{key:"_buildGhostTable",value:function(t){for(var r=this.hot,i=r.rootDocument,o=r.columnIndexMapper,s=i.createDocumentFragment(),a=i.createElement("table"),u=!!this.hot.getSettings().dropdownMenu,c=o.getRenderableIndexesLength(),h=0;h<this.layersCount;h++){for(var p=i.createElement("tr"),g=0;g<c;g++){var y=o.getVisualFromRenderableIndex(g);null===y&&(y=g);var w=i.createElement("th"),S=this.nestedHeaderSettingsGetter(h,y);if(S&&(!S.isPlaceholder||S.isHidden)){var C=S.label;u&&(C+='<button class="changeType"></button>'),US(w,C),w.colSpan=S.colspan,p.appendChild(w)}}a.appendChild(p)}s.appendChild(a),t.appendChild(s)}},{key:"clear",value:function(){this.widthsMap.clear(),this.container=null}}]),n}();function m6(n){return(m6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Qde,ehe;function the(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Oit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Lw(){return Lw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Lit(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Lw.apply(this,arguments)}function Lit(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ag(n)););return n}function g6(n,e){return(g6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Nit(n,e){if(e&&("object"===m6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pR(n)}function pR(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ag(n){return(ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function rhe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ihe(n,e,t){(function Hit(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function HN(n,e,t){return function Bit(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,ohe(n,e,"set"),t),t}function $a(n,e){return function Vit(n,e){return e.get?e.get.call(n):e.value}(n,ohe(n,e,"get"))}function ohe(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var she="nestedHeaders",kl=new WeakMap,Ry=new WeakMap,Uit=function(n){!function Pit(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&g6(n,e)}(t,n);var e=function Iit(n){var e=function Fit(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ag(n);if(e){var o=ag(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Nit(this,i)}}(t);function t(){var r;Oit(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return ihe(pR(r=e.call.apply(e,[this].concat(o))),kl,{writable:!0,value:new Eit}),ihe(pR(r),Ry,{writable:!0,value:null}),rhe(pR(r),"ghostTable",new Ait(r.hot,function(a,u){return r.getHeaderSettings(a,u)})),rhe(pR(r),"detectedOverlappedHeaders",!1),r}return function kit(n,e,t){e&&nhe(n.prototype,e),t&&nhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[she]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var s=this.hot.getSettings().nestedHeaders;(!Array.isArray(s)||!Array.isArray(s[0]))&&ps(is(Qde||(Qde=the(["Your Nested Headers plugin configuration is invalid. The settings has to be \n                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]"],["Your Nested Headers plugin configuration is invalid. The settings has to be\\x20\n                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]"])))),this.addHook("init",function(){return i.onInit()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("afterOnCellMouseDown",function(){return i.onAfterOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterGetColumnHeaderRenderers",function(a){return i.onAfterGetColumnHeaderRenderers(a)}),this.addHook("modifyColWidth",function(){return i.onModifyColWidth.apply(i,arguments)}),this.addHook("beforeHighlightingColumnHeader",function(){return i.onBeforeHighlightingColumnHeader.apply(i,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return i.onAfterViewportColumnCalculatorOverride.apply(i,arguments)}),Lw(ag(t.prototype),"enablePlugin",this).call(this),this.updatePlugin()}}},{key:"updatePlugin",value:function(){var i=this;if(this.hot.view){var s=this.hot.getSettings().nestedHeaders;$a(this,kl).setColumnsLimit(this.hot.countCols()),Array.isArray(s)&&(this.detectedOverlappedHeaders=$a(this,kl).setState(s)),this.detectedOverlappedHeaders&&ps(is(ehe||(ehe=the(["Your Nested Headers plugin setup contains overlapping headers. This kind of configuration \n                        is currently not supported."],["Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\\x20\n                        is currently not supported."])))),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach(function(a,u){var c=!0===a?"hide-column":"show-column";$a(i,kl).triggerColumnModification(c,u)}),!$a(this,Ry)&&this.enabled&&HN(this,Ry,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(function(a){a.forEach(function(u){var h=u.index;if("replace"===u.op){var g=!0===u.newValue?"hide-column":"show-column";$a(i,kl).triggerColumnModification(g,h)}}),i.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),Lw(ag(t.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.clearColspans(),$a(this,kl).clear(),$a(this,Ry).unsubscribe(),HN(this,Ry,null),this.ghostTable.clear(),Lw(ag(t.prototype),"disablePlugin",this).call(this)}},{key:"getStateManager",value:function(){return $a(this,kl)}},{key:"getLayersCount",value:function(){return $a(this,kl).getLayersCount()}},{key:"getHeaderSettings",value:function(i,o){return $a(this,kl).getHeaderSettings(i,o)}},{key:"clearColspans",value:function(){if(this.hot.view)for(var i=this.hot.view._wt,o=i.getSetting("columnHeaders").length,s=i.wtTable.THEAD,a=i.wtOverlays.topOverlay.clone.wtTable.THEAD,u=i.wtOverlays.topInlineStartCornerOverlay?i.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,c=0;c<o;c++){var h=s.childNodes[c];if(!h)break;for(var p=a.childNodes[c],g=u?u.childNodes[c]:null,y=0,w=h.childNodes.length;y<w;y++)h.childNodes[y].removeAttribute("colspan"),Hi(h.childNodes[y],"hiddenHeader"),p&&p.childNodes[y]&&(p.childNodes[y].removeAttribute("colspan"),Hi(p.childNodes[y],"hiddenHeader")),u&&g&&g.childNodes[y]&&(g.childNodes[y].removeAttribute("colspan"),Hi(g.childNodes[y],"hiddenHeader"))}}},{key:"headerRendererFactory",value:function(i){var o=this,s=this.hot.view._wt.getSetting("fixedColumnsStart");return function(a,u){var c,h=o.hot,g=h.view,y=h.columnIndexMapper.getVisualFromRenderableIndex(a);null===y&&(y=a),u.removeAttribute("colspan"),Hi(u,"hiddenHeader");var w=null!==(c=$a(o,kl).getHeaderSettings(i,y))&&void 0!==c?c:{label:""},S=w.colspan,C=w.label;if(w.isPlaceholder||w.isHidden)An(u,"hiddenHeader");else if(S>1){var z,j,G=g._wt.wtOverlays,re=null===(z=G.topInlineStartCornerOverlay)||void 0===z?void 0:z.clone.wtTable.THEAD.contains(u),pe=null===(j=G.inlineStartOverlay)||void 0===j?void 0:j.clone.wtTable.THEAD.contains(u),ne=re||pe?Math.min(S,s-a):S;ne>1&&u.setAttribute("colspan",ne)}o.hot.view.appendColHeader(y,u,function(){return C},i)}}},{key:"onBeforeHighlightingColumnHeader",value:function(i,o,s){var a=$a(this,kl).getHeaderTreeNodeData(o,i);if(!a)return i;var u=s.classNames,c=s.columnCursor,h=s.selectionType,p=s.selectionWidth,g=$a(this,kl).getHeaderSettings(o,i),y=g.isRoot;if(h===R1){if(!y)return a.columnIndex}else h===BP&&(g.colspan>p-c||!y)&&(u.length=0);return i}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){this._getHeaderTreeNodeDataByCoords(o)&&(a.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(i,o){var s=this._getHeaderTreeNodeDataByCoords(o);if(s){var a=this.hot.selection,u=a.isSelected()?a.getSelectedRange().current():null,c=[],h=s.columnIndex,p=s.origColspan,g=!a.inInSelection(o);i.shiftKey&&u?o.col<u.from.col?c.push(u.getTopEndCorner().col,h,o.row):c.push(o.col>u.from.col?u.getTopStartCorner().col:h,h+p-1,o.row):(ez(i)||Nb(i)&&g)&&c.push(h,h+p-1,o.row),a.selectColumns.apply(a,c)}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u;if(this.hot.view.isMouseDown()){var c=this._getHeaderTreeNodeDataByCoords(o);if(c){var h=c.columnIndex,p=c.origColspan,g=this.hot.getSelectedRangeLast(),y=g.getTopStartCorner(),w=g.getBottomEndCorner(),S=g.from;a.column=!0,a.cell=!0;var C=[];o.col<S.col?C.push(w.col,h):C.push(o.col>S.col?y.col:h,h+p-1),(u=this.hot).selectColumns.apply(u,C)}}}},{key:"onAfterGetColumnHeaderRenderers",value:function(i){i.length=0;for(var o=0;o<$a(this,kl).getLayersCount();o++)i.push(this.headerRendererFactory(o))}},{key:"onAfterViewportColumnCalculatorOverride",value:function(i){for(var o=$a(this,kl).getLayersCount(),s=i.startColumn,a=!!o,u=0;u<o;u++){var c=$a(this,kl).findLeftMostColumnIndex(u,i.startColumn),h=this.hot.columnIndexMapper.getRenderableFromVisualIndex(c);if(c>=0&&(a=!1),th(h)&&h<i.startColumn){s=h;break}}i.startColumn=a?$a(this,kl).getHeaderTreeNodeData(0,s).columnIndex:s}},{key:"onModifyColWidth",value:function(i,o){var s=this.ghostTable.getWidth(o);return i>s?i:s}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(i,o){o||this.updatePlugin()}},{key:"destroy",value:function(){HN(this,kl,null),null!==$a(this,Ry)&&($a(this,Ry).unsubscribe(),HN(this,Ry,null)),Lw(ag(t.prototype),"destroy",this).call(this)}},{key:"_getHeaderTreeNodeDataByCoords",value:function(i){if(!(i.row>=0||i.col<0))return $a(this,kl).getHeaderTreeNodeData(i.row,i.col)}}],[{key:"PLUGIN_KEY",get:function(){return she}},{key:"PLUGIN_PRIORITY",get:function(){return 280}}]),t}(Jo);function ahe(n){return function Git(n){if(Array.isArray(n))return v6(n)}(n)||function Yit(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Wit(n,e){if(n){if("string"==typeof n)return v6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v6(n,e)}}(n)||function jit(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function y6(n){return(y6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Zit=function(){function n(e,t){(function $it(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=t,this.data=null,this.plugin=e,this.parentReference=new WeakMap,this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}}return function Xit(n,e,t){e&&lhe(n.prototype,e),t&&lhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setData",value:function(t){this.data=t}},{key:"getData",value:function(){return this.data}},{key:"getRawSourceData",value:function(){var t;return this.plugin.disableCoreAPIModifiers(),t=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),t}},{key:"updateWithData",value:function(t){this.setData(t),this.rewriteCache()}},{key:"rewriteCache",value:function(){var t=this;this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Hr(0,this.data.length-1,function(r){t.cacheNode(t.data[r],0,null)})}},{key:"cacheNode",value:function(t,r,i){var o=this;this.cache.levels[r]||(this.cache.levels[r]=[],this.cache.levelCount+=1),this.cache.levels[r].push(t),this.cache.rows.push(t),this.cache.nodeInfo.set(t,{parent:i,row:this.cache.rows.length-1,level:r}),this.hasChildren(t)&&it(t.__children,function(s){o.cacheNode(s,r+1,t)})}},{key:"getDataObject",value:function(t){return null==t?null:this.cache.rows[t]}},{key:"readTreeNodes",value:function(t,r,i,o){var s=this,a=!1,u=r;if(isNaN(u)&&u.end)return u;var c=t;return c||(c={__children:this.data},a=!0,u-=1),null!=i&&u===i?{result:c,end:!0}:null!=o&&c===o?{result:u,end:!0}:(u+=1,c.__children&&it(c.__children,function(h){if(s.parentReference.set(h,a?null:c),u=s.readTreeNodes(h,u,i,o),isNaN(u)&&u.end)return!1}),u)}},{key:"mockParent",value:function(){var t=this.mockNode();return t.__children=this.data,t}},{key:"mockNode",value:function(){var t={};return ao(this.data[0],function(r,i){t[i]=null}),t}},{key:"getRowIndex",value:function(t){return null==t?null:this.cache.nodeInfo.get(t).row}},{key:"getRowIndexWithinParent",value:function(t){var r;r=isNaN(t)?t:this.getDataObject(t);var i=this.getRowParent(t);return null==i?this.data.indexOf(r):i.__children.indexOf(r)}},{key:"countAllRows",value:function(){return this.countChildren({__children:this.data})}},{key:"countChildren",value:function(t){var r=this,i=0,o=t;return isNaN(o)||(o=this.getDataObject(o)),o&&o.__children?(it(o.__children,function(s){i+=1,s.__children&&(i+=r.countChildren(s))}),i):0}},{key:"getRowParent",value:function(t){var r;return r=isNaN(t)?t:this.getDataObject(t),this.getRowObjectParent(r)}},{key:"getRowObjectParent",value:function(t){return t&&"object"===y6(t)?this.cache.nodeInfo.get(t).parent:null}},{key:"getRowLevel",value:function(t){var r;return(r=isNaN(t)?t:this.getDataObject(t))?this.getRowObjectLevel(r):null}},{key:"getRowObjectLevel",value:function(t){return null==t?null:this.cache.nodeInfo.get(t).level}},{key:"hasChildren",value:function(t){var r=t;return isNaN(r)||(r=this.getDataObject(r)),!(!r.__children||!r.__children.length)}},{key:"isChild",value:function(t){return null!==this.getRowParent(t)}},{key:"getChild",value:function(t,r){var i;return(null===(i=t.__children)||void 0===i?void 0:i[r])||null}},{key:"isRowHighestLevel",value:function(t){return!this.isChild(t)}},{key:"isParent",value:function(t){var r,i=t;return isNaN(i)||(i=this.getDataObject(i)),i&&!!i.__children&&0!==(null===(r=i.__children)||void 0===r?void 0:r.length)}},{key:"addChild",value:function(t,r){var i=r;this.hot.runHooks("beforeAddChild",t,i);var o=null;t&&(o=this.getRowIndex(t)),this.hot.runHooks("beforeCreateRow",o+this.countChildren(t)+1,1);var s=t;t||(s=this.mockParent()),s.__children||(s.__children=[]),i||(i=this.mockNode()),s.__children.push(i),this.rewriteCache();var a=this.getRowIndex(i);this.hot.rowIndexMapper.insertIndexes(a,1),this.hot.runHooks("afterCreateRow",a,1),this.hot.runHooks("afterAddChild",t,i)}},{key:"addChildAtIndex",value:function(t,r,i){var s,o=i;if(o||(o=this.mockNode()),this.hot.runHooks("beforeAddChild",t,o,r),t){var u=this.getRowIndex(t)+r+1;this.hot.runHooks("beforeCreateRow",u,1),t.__children.splice(r,null,o),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(t),"__children",t.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(u,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",u,1),s=u}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",r,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),s=this.getRowIndex(this.data[r]);o=this.getDataObject(s),this.hot.runHooks("afterAddChild",t,o,r)}},{key:"addSibling",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"below",i=this.translateTrimmedRow(t),o=this.getRowParent(i),s=this.getRowIndexWithinParent(i);switch(r){case"below":this.addChildAtIndex(o,s+1,null);break;case"above":this.addChildAtIndex(o,s,null)}}},{key:"detachFromParent",value:function(t){var r=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=null,s=[];Array.isArray(t)?(Hr(t[0],t[2],function(P){var B=r.translateTrimmedRow(P);s.push(r.getDataObject(B))}),Hr(0,s.length-2,function(P){r.detachFromParent(s[P],!1)}),o=s[s.length-1]):o=t;var a=this.getRowIndex(o),u=this.countChildren(o),c=this.getRowIndexWithinParent(o),h=this.getRowParent(o),p=this.getRowParent(h),g=this.getRowIndex(p),y=null;if(this.hot.runHooks("beforeDetachChild",h,o),null!=c){var w=Array.from(new Array(a+u+1).keys()).splice(-1*(u+1));if(this.hot.runHooks("beforeRemoveRow",a,u+1,w,this.plugin.pluginName),h.__children.splice(c,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",a,u+1,w,this.plugin.pluginName),p){y=g+this.countChildren(p);var S=this.getChild(p,this.countChildren(p)-1),C=this.getRowIndex(S);this.hot.runHooks("beforeCreateRow",C+1,u+1,this.plugin.pluginName),p.__children.push(o)}else y=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",y-2,u+1,this.plugin.pluginName),this.data.push(o)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",y-2,u+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",h,o,this.getRowIndex(o)),i&&this.hot.render()}},{key:"filterData",value:function(t,r,i){var o=this,s=[];it(i,function(a){s.push(o.getDataObject(a))}),it(s,function(a){var u=o.getRowIndexWithinParent(a),c=o.getRowParent(a);null===c?o.data.splice(u,1):c.__children.splice(u,1)}),this.rewriteCache()}},{key:"spliceData",value:function(t,r,i){var o=this.getDataObject(t-1),s=null,a=t;if(o&&o.__children&&0===o.__children.length?(s=o,a=0):t<this.countAllRows()&&(s=this.getRowParent(t),a=this.getRowIndexWithinParent(t)),s)if(i){var u;(u=s.__children).splice.apply(u,[a,r].concat(ahe(i)))}else s.__children.splice(a,r);else if(i){var c;(c=this.data).splice.apply(c,[a,r].concat(ahe(i)))}else this.data.splice(a,r);this.rewriteCache()}},{key:"syncRowWithRawSource",value:function(t){var r=t,i=null;do{null!==(i=this.getRowParent(i))&&(r=i)}while(null!==i);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(r),"__children",r.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}},{key:"moveRow",value:function(t,r,i,o){var s=r===this.hot.countRows(),a=this.getRowParent(t),u=this.getRowIndexWithinParent(t),c=a.__children.slice(u,u+1),h=t>r,p=this.getRowParent(s?r-1:r);null==p&&(p=this.getRowParent(r-1)),null==p&&(p=this.getDataObject(r-1)),p?p.__children||(p.__children=[]):(p=this.getDataObject(r)).__children=[];var g=s||i||o?p.__children.length:this.getRowIndexWithinParent(r),y=a===p;p.__children.splice(g,0,c[0]),a.__children.splice(u+(h&&y?1:0),1),this.syncRowWithRawSource(a),y||this.syncRowWithRawSource(p)}},{key:"translateTrimmedRow",value:function(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(t):t}},{key:"untranslateTrimmedRow",value:function(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(t):t}}]),n}();function uhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function qit(n,e,t){return e&&uhe(n.prototype,e),t&&uhe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}const _6=qit(function n(e,t){(function Jit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=t,this.plugin=e});function b6(n){return(b6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function che(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function w6(n,e){return(w6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function iot(n,e){if(e&&("object"===b6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function oot(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function BN(n){return(BN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const dhe=function(n){!function not(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&w6(n,e)}(t,n);var e=function rot(n){var e=function sot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=BN(n);if(e){var o=BN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return iot(this,i)}}(t);function t(r,i){var o;return function eot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,i)).dataManager=o.plugin.dataManager,o.collapsingUI=o.plugin.collapsingUI,o.rowHeaderWidthCache=null,o}return function tot(n,e,t){e&&che(n.prototype,e),t&&che(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"appendLevelIndicators",value:function(i,o){var s=this.hot.toPhysicalRow(i),a=this.dataManager.getRowLevel(s),u=this.dataManager.getDataObject(s),c=o.getElementsByTagName("DIV")[0],h=c.querySelector("span.rowHeader");if(it(c.querySelectorAll('[class^="ht_nesting"]'),function(S){S&&c.removeChild(S)}),An(o,t.CSS_CLASSES.indicatorContainer),a){var g=this.hot.rootDocument,y=h.cloneNode(!0);c.innerHTML="",Hr(0,a-1,function(){var S=g.createElement("SPAN");An(S,t.CSS_CLASSES.emptyIndicator),c.appendChild(S)}),c.appendChild(y)}if(this.dataManager.hasChildren(u)){var w=this.hot.rootDocument.createElement("DIV");An(o,t.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(s)?An(w,"".concat(t.CSS_CLASSES.button," ").concat(t.CSS_CLASSES.expandButton)):An(w,"".concat(t.CSS_CLASSES.button," ").concat(t.CSS_CLASSES.collapseButton)),c.appendChild(w)}}},{key:"updateRowHeaderWidth",value:function(i){var o=i;o||(o=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*o+25),this.hot.render()}}],[{key:"CSS_CLASSES",get:function(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}}]),t}(_6);function M6(n){return(M6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hhe(n){return function dot(n){if(Array.isArray(n))return S6(n)}(n)||function cot(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function uot(n,e){if(n){if("string"==typeof n)return S6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S6(n,e)}}(n)||function lot(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function fhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function x6(n,e){return(x6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function got(n,e){if(e&&("object"===M6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function vot(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function VN(n){return(VN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const bot=function(n){!function pot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&x6(n,e)}(t,n);var e=function mot(n){var e=function yot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=VN(n);if(e){var o=VN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return got(this,i)}}(t);function t(r,i){var o;return function hot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,i)).dataManager=o.plugin.dataManager,o.collapsedRows=[],o.collapsedRowsStash={stash:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.lastCollapsedRows=o.collapsedRows.slice(0),o.expandMultipleChildren(o.lastCollapsedRows,a)},shiftStash:function(a,u){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null==u&&(u=1/0),it(o.lastCollapsedRows,function(h,p){h>=a&&h<u&&(o.lastCollapsedRows[p]=h+c)})},applyStash:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.collapseMultipleChildren(o.lastCollapsedRows,a),o.lastCollapsedRows=void 0},trimStash:function(a,u){Hr(a,a+u-1,function(c){var h=o.lastCollapsedRows.indexOf(c);h>-1&&o.lastCollapsedRows.splice(h,1)})}},o}return function fot(n,e,t){e&&fhe(n.prototype,e),t&&fhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"collapseChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[],c=null,h=null,p=null;return isNaN(i)?h=this.dataManager.getRowIndex(c=i):(c=this.dataManager.getDataObject(i),h=i),this.dataManager.hasChildren(c)&&it(c.__children,function(g){u.push(o.dataManager.getRowIndex(g))}),p=this.collapseRows(u,!0,!1),a&&this.trimRows(p),s&&this.renderAndAdjust(),-1===this.collapsedRows.indexOf(h)&&this.collapsedRows.push(h),p}},{key:"collapseMultipleChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[];it(i,function(c){u.push.apply(u,hhe(o.collapseChildren(c,!1,!1)))}),a&&this.trimRows(u),s&&this.renderAndAdjust()}},{key:"collapseRow",value:function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.collapseRows([i],o)}},{key:"collapseRows",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=[];return it(i,function(c){u.push(c),s&&o.collapseChildRows(c,u)}),a&&this.trimRows(u),u}},{key:"collapseChildRows",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(i)){var c=this.dataManager.getDataObject(i);it(c.__children,function(h){var p=o.dataManager.getRowIndex(h);s.push(p),o.collapseChildRows(p,s)})}u&&this.trimRows(s)}},{key:"expandRow",value:function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.expandRows([i],o)}},{key:"expandRows",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=[];return it(i,function(c){u.push(c),s&&o.expandChildRows(c,u)}),a&&this.untrimRows(u),u}},{key:"expandChildRows",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(i)){var c=this.dataManager.getDataObject(i);it(c.__children,function(h){if(!o.isAnyParentCollapsed(h)){var p=o.dataManager.getRowIndex(h);s.push(p),o.expandChildRows(p,s)}})}u&&this.untrimRows(s)}},{key:"expandChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[],c=null,h=null,p=null;return isNaN(i)?(c=i,h=this.dataManager.getRowIndex(i)):(c=this.dataManager.getDataObject(i),h=i),this.collapsedRows.splice(this.collapsedRows.indexOf(h),1),this.dataManager.hasChildren(c)&&it(c.__children,function(g){var y=o.dataManager.getRowIndex(g);u.push(y)}),p=this.expandRows(u,!0,!1),a&&this.untrimRows(p),s&&this.renderAndAdjust(),p}},{key:"expandMultipleChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[];it(i,function(c){u.push.apply(u,hhe(o.expandChildren(c,!1,!1)))}),a&&this.untrimRows(u),s&&this.renderAndAdjust()}},{key:"collapseAll",value:function(){var i=this,o=this.dataManager.getData(),s=[];it(o,function(a){i.dataManager.hasChildren(a)&&s.push(a)}),this.collapseMultipleChildren(s),this.renderAndAdjust()}},{key:"expandAll",value:function(){var i=this,o=this.dataManager.getData(),s=[];it(o,function(a){i.dataManager.hasChildren(a)&&s.push(a)}),this.expandMultipleChildren(s),this.renderAndAdjust()}},{key:"trimRows",value:function(i){var o=this;this.hot.batchExecution(function(){it(i,function(s){o.plugin.collapsedRowsMap.setValueAtIndex(s,!0)})},!0)}},{key:"untrimRows",value:function(i){var o=this;this.hot.batchExecution(function(){it(i,function(s){o.plugin.collapsedRowsMap.setValueAtIndex(s,!1)})},!0)}},{key:"areChildrenCollapsed",value:function(i){var o=this,s=isNaN(i)?i:this.dataManager.getDataObject(i),a=!0;return null===s&&(s={__children:this.dataManager.data}),this.dataManager.hasChildren(s)&&it(s.__children,function(u){var c=o.dataManager.getRowIndex(u);if(!o.plugin.collapsedRowsMap.getValueAtIndex(c))return a=!1,!1}),a}},{key:"isAnyParentCollapsed",value:function(i){for(var o=i;null!==o;){o=this.dataManager.getRowParent(o);var s=this.dataManager.getRowIndex(o);if(this.collapsedRows.indexOf(s)>-1)return!0}return!1}},{key:"toggleState",value:function(i,o){if(!(o.col>=0)){var s=this.translateTrimmedRow(o.row);Ti(i.target,dhe.CSS_CLASSES.button)&&(this.areChildrenCollapsed(s)?this.expandChildren(s):this.collapseChildren(s),rp(i))}}},{key:"translateTrimmedRow",value:function(i){return this.hot.toPhysicalRow(i)}},{key:"untranslateTrimmedRow",value:function(i){return this.hot.toVisualRow(i)}},{key:"renderAndAdjust",value:function(){this.hot.render(),this.hot.view.adjustElementsSize()}}]),t}(_6);function C6(n){return(C6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function phe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function E6(n,e){return(E6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Cot(n,e){if(e&&("object"===C6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mhe(n)}function mhe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zN(n){return(zN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var ghe=new WeakMap;const Rot=function(n){!function Sot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&E6(n,e)}(t,n);var e=function xot(n){var e=function Eot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=zN(n);if(e){var o=zN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Cot(this,i)}}(t);function t(r,i){var o;return function wot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,i),ghe.set(mhe(o),{row_above:function(a,u){o.dataManager.addSibling(u[u.length-1].start.row,"above")},row_below:function(a,u){o.dataManager.addSibling(u[u.length-1].start.row,"below")}}),o.dataManager=o.plugin.dataManager,o}return function Mot(n,e,t){e&&phe(n.prototype,e),t&&phe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"appendOptions",value:function(i){var o=this,s=[{key:"add_child",name:function(){return this.getTranslatedPhrase(Oj)},callback:function(){var u=o.dataManager.translateTrimmedRow(o.hot.getSelectedLast()[0]),c=o.dataManager.getDataObject(u);o.dataManager.addChild(c)},disabled:function(){var u=o.hot.getSelectedLast();return!u||u[0]<0||o.hot.selection.isSelectedByColumnHeader()||o.hot.countRows()>=o.hot.getSettings().maxRows}},{key:"detach_from_parent",name:function(){return this.getTranslatedPhrase(kj)},callback:function(){o.dataManager.detachFromParent(o.hot.getSelectedLast())},disabled:function(){var u=o.hot.getSelectedLast(),c=o.dataManager.translateTrimmedRow(u[0]);return!o.dataManager.getRowParent(c)||!u||u[0]<0||o.hot.selection.isSelectedByColumnHeader()||o.hot.countRows()>=o.hot.getSettings().maxRows}},{name:"---------"}];return Hr(0,i.items.length-1,function(a){if(0===a)return it(s,function(u,c){i.items.splice(a+c,0,u)}),!1}),this.modifyRowInsertingOptions(i)}},{key:"modifyRowInsertingOptions",value:function(i){var o=ghe.get(this);return Hr(0,i.items.length-1,function(s){var a=o[i.items[s].key];null!=a&&(i.items[s].callback=a)}),i}}]),t}(_6);var vhe;function yhe(n){return function kot(n){if(Array.isArray(n))return T6(n)}(n)||function Oot(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Aot(n,e){if(n){if("string"==typeof n)return T6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T6(n,e)}}(n)||function Dot(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _he(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Not=function(){function n(e){(function Pot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}return function Iot(n,e,t){e&&_he(n.prototype,e),t&&_he(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"onBeforeRowMove",value:function(t,r,i,o){var s=this;if(this.displayAPICompatibilityWarning({rows:t,finalIndex:r,dropIndex:i,movePossible:o}))return!1;this.movedToCollapsed=!1;var u=i===this.hot.countRows(),c=u?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(i),h=!0,p=t.map(function(C){if(!h)return!1;var P=s.dataManager.translateTrimmedRow(C);return h=s.shouldAllowMoving(P,c),P}),g=-1===p.indexOf(c);if(!h||!g)return!1;var y=this.getBaseParent(p),w=this.getTargetParent(u,c),S=y===w;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(w),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(p,c,S),this.moveRows(p,c,w),this.dataManager.rewriteCache(),this.moveCellsMeta(p,c),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",t,r,i,o,o&&this.isRowOrderChanged(t,r)),this.hot.render(),this.selectCells(t,i),!1}},{key:"displayAPICompatibilityWarning",value:function(t){var r=t.rows,i=t.finalIndex,o=t.dropIndex,s=t.movePossible,a=!1;return Bs(o)&&(ps(is(vhe||(vhe=function Lot(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows \n      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead."],["Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\\x20\n      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead."])))),this.hot.runHooks("afterRowMove",r,i,o,s,!1),a=!0),a}},{key:"shouldAllowMoving",value:function(t,r){return!(this.dataManager.isParent(t)||this.dataManager.isRowHighestLevel(t)||t===r||0===r)}},{key:"getBaseParent",value:function(t){return this.dataManager.getRowParent(t[0])}},{key:"getTargetParent",value:function(t,r){var i=this.dataManager.getRowParent(t?r-1:r);return null==i&&(i=this.dataManager.getRowParent(r-1)),i}},{key:"shiftCollapsibleParentsLocations",value:function(t,r,i){i||(Math.max.apply(Math,yhe(t))<=r?this.collapsingUI.collapsedRowsStash.shiftStash(t[0],r,-1*t.length):this.collapsingUI.collapsedRowsStash.shiftStash(r,t[0],t.length))}},{key:"moveRows",value:function(t,r,i){var o=this,s=r===this.dataManager.getRowIndex(i)+this.dataManager.countChildren(i)+1;this.hot.batchRender(function(){t.forEach(function(a){o.dataManager.moveRow(a,r,o.movedToCollapsed,s)})})}},{key:"moveCellsMeta",value:function(t,r){var o,i=this,s=[],a=Math.max.apply(Math,yhe(t))<r;t.forEach(function(u){s.push(i.hot.getCellMetaAtRow(u))}),this.hot.spliceCellsMeta(t[0],t.length),(o=this.hot).spliceCellsMeta.apply(o,[r-(a?s.length:0),0].concat(s))}},{key:"selectCells",value:function(t,r){var u,i=t.length,o=0,s=0,a=null;if(this.movedToCollapsed){var c;c=this.dataManager.translateTrimmedRow(t[i-1]<r?r-i:r);var h=this.dataManager.getRowParent(null===c?this.hot.countSourceRows()-1:c-1),p=this.dataManager.getRowIndex(h);s=o=this.dataManager.untranslateTrimmedRow(p)}else t[i-1]<r?o=(s=r-1)-i+1:s=(o=r)+i-1;a=this.hot.selection,u=this.hot.countCols()-1,a.setRangeStart(this.hot._createCellCoords(o,0)),a.setRangeEnd(this.hot._createCellCoords(s,u),!0)}},{key:"isRowOrderChanged",value:function(t,r){return t.some(function(i,o){return i-o!==r})}}]),n}();function R6(n){return(R6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function D6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function bhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Pw(){return Pw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Wot(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Pw.apply(this,arguments)}function Wot(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=lg(n)););return n}function A6(n,e){return(A6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $ot(n,e){if(e&&("object"===R6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return whe(n)}function whe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lg(n){return(lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var O6="nestedRows",ug=new WeakMap,qot=function(n){!function Yot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&A6(n,e)}(t,n);var e=function Got(n){var e=function Xot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=lg(n);if(e){var o=lg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $ot(this,i)}}(t);function t(r){var i;return function Uot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).dataManager=null,i.headersUI=null,i.collapsedRowsMap=null,ug.set(whe(i),{movedToCollapsed:!1,skipRender:null,skipCoreAPIModifiers:!1}),i}return function jot(n,e,t){e&&bhe(n.prototype,e),t&&bhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[O6]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new S1),this.dataManager=new Zit(this,this.hot),this.collapsingUI=new bot(this,this.hot),this.headersUI=new dhe(this,this.hot),this.contextMenuUI=new Rot(this,this.hot),this.rowMoveController=new Not(this),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("beforeViewRender",function(){return i.onBeforeViewRender.apply(i,arguments)}),this.addHook("modifyRowData",function(){return i.onModifyRowData.apply(i,arguments)}),this.addHook("modifySourceLength",function(){return i.onModifySourceLength.apply(i,arguments)}),this.addHook("beforeDataSplice",function(){return i.onBeforeDataSplice.apply(i,arguments)}),this.addHook("filterData",function(){return i.onFilterData.apply(i,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetRowHeader",function(){return i.onAfterGetRowHeader.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeRemoveRow",function(){return i.onBeforeRemoveRow.apply(i,arguments)}),this.addHook("afterRemoveRow",function(){return i.onAfterRemoveRow.apply(i,arguments)}),this.addHook("beforeAddChild",function(){return i.onBeforeAddChild.apply(i,arguments)}),this.addHook("afterAddChild",function(){return i.onAfterAddChild.apply(i,arguments)}),this.addHook("beforeDetachChild",function(){return i.onBeforeDetachChild.apply(i,arguments)}),this.addHook("afterDetachChild",function(){return i.onAfterDetachChild.apply(i,arguments)}),this.addHook("modifyRowHeaderWidth",function(){return i.onModifyRowHeaderWidth.apply(i,arguments)}),this.addHook("afterCreateRow",function(){return i.onAfterCreateRow.apply(i,arguments)}),this.addHook("beforeRowMove",function(){return i.onBeforeRowMove.apply(i,arguments)}),this.addHook("beforeLoadData",function(o){return i.onBeforeLoadData(o)}),Pw(lg(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),Pw(lg(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin();var i=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(i),Pw(lg(t.prototype),"updatePlugin",this).call(this)}},{key:"onBeforeRowMove",value:function(i,o,s,a){return this.rowMoveController.onBeforeRowMove(i,o,s,a)}},{key:"disableCoreAPIModifiers",value:function(){ug.get(this).skipCoreAPIModifiers=!0}},{key:"enableCoreAPIModifiers",value:function(){ug.get(this).skipCoreAPIModifiers=!1}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s){this.collapsingUI.toggleState(i,o,s)}},{key:"onModifyRowData",value:function(i){if(!ug.get(this).skipCoreAPIModifiers)return this.dataManager.getDataObject(i)}},{key:"onModifySourceLength",value:function(){if(!ug.get(this).skipCoreAPIModifiers)return this.dataManager.countAllRows()}},{key:"onBeforeDataSplice",value:function(i,o,s){return!(!ug.get(this).skipCoreAPIModifiers&&!this.dataManager.isRowHighestLevel(i)&&(this.dataManager.spliceData(i,o,s),1))}},{key:"onFilterData",value:function(i,o,s){var a=ug.get(this);return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(s[0],o),this.collapsingUI.collapsedRowsStash.shiftStash(s[0],null,-1*o),this.dataManager.filterData(i,o,s),a.skipRender=!0,this.dataManager.getData().slice()}},{key:"onAfterContextMenuDefaultOptions",value:function(i){return this.contextMenuUI.appendOptions(i)}},{key:"onAfterGetRowHeader",value:function(i,o){this.headersUI.appendLevelIndicators(i,o)}},{key:"onModifyRowHeaderWidth",value:function(i){return this.headersUI.rowHeaderWidthCache||i}},{key:"onAfterRemoveRow",value:function(i,o,s,a){var u=this;if(a!==this.pluginName){var c=ug.get(this);setTimeout(function(){c.skipRender=null,u.headersUI.updateRowHeaderWidth(),u.collapsingUI.collapsedRowsStash.applyStash()},0)}}},{key:"onBeforeRemoveRow",value:function(i,o,s){var a=this,u=Array.from(s.reduce(function(c,h){if(a.dataManager.isParent(h)){var p=a.dataManager.getDataObject(h).__children;return c.add(h),Array.isArray(p)&&p.forEach(function(g){return c.add(a.dataManager.getRowIndex(g))}),c}return c.add(h)},new Set));s.length=0,s.push.apply(s,u)}},{key:"onBeforeAddChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterAddChild",value:function(i,o){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(o)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onBeforeDetachChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterDetachChild",value:function(i,o,s){this.collapsingUI.collapsedRowsStash.shiftStash(s,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onAfterCreateRow",value:function(){this.dataManager.rewriteCache()}},{key:"onAfterInit",value:function(){var i=Math.max.apply(Math,function Fot(n){return function zot(n){if(Array.isArray(n))return D6(n)}(n)||function Vot(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Bot(n,e){if(n){if("string"==typeof n)return D6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D6(n,e)}}(n)||function Hot(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.dataManager.cache.levels));i>0&&this.headersUI.updateRowHeaderWidth(i)}},{key:"onBeforeViewRender",value:function(i,o){ug.get(this).skipRender&&(o.skipRender=!0)}},{key:"destroy",value:function(){Pw(lg(t.prototype),"destroy",this).call(this)}},{key:"onBeforeLoadData",value:function(i){if(!function rFe(n){return!!(Array.isArray(n)&&n.length&&n.every(function(e){return"object"===_U(e)&&!Array.isArray(e)&&null!==e}))}(i))return QV("The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled."),this.hot.getSettings()[O6]=!1,void this.disablePlugin();this.dataManager.setData(i),this.dataManager.rewriteCache()}}],[{key:"PLUGIN_KEY",get:function(){return O6}},{key:"PLUGIN_PRIORITY",get:function(){return 300}}]),t}(Jo);function Jot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Mhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const tst=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;Jot(this,n),this.rootWindow=t,this.prefix=e,this.savedKeys=[],this.loadSavedKeys()}return function Qot(n,e,t){e&&Mhe(n.prototype,e),t&&Mhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"saveValue",value:function(t,r){this.rootWindow.localStorage.setItem("".concat(this.prefix,"_").concat(t),JSON.stringify(r)),-1===this.savedKeys.indexOf(t)&&(this.savedKeys.push(t),this.saveSavedKeys())}},{key:"loadValue",value:function(t,r){var i=void 0===t?r:t,o=this.rootWindow.localStorage.getItem("".concat(this.prefix,"_").concat(i));return null===o?void 0:JSON.parse(o)}},{key:"reset",value:function(t){this.rootWindow.localStorage.removeItem("".concat(this.prefix,"_").concat(t))}},{key:"resetAll",value:function(){var t=this;it(this.savedKeys,function(r,i){t.rootWindow.localStorage.removeItem("".concat(t.prefix,"_").concat(t.savedKeys[i]))}),this.clearSavedKeys()}},{key:"loadSavedKeys",value:function(){var t=this.rootWindow.localStorage.getItem("".concat(this.prefix,"__persistentStateKeys")),r="string"==typeof t?JSON.parse(t):void 0;this.savedKeys=r||[]}},{key:"saveSavedKeys",value:function(){this.rootWindow.localStorage.setItem("".concat(this.prefix,"__persistentStateKeys"),JSON.stringify(this.savedKeys))}},{key:"clearSavedKeys",value:function(){this.savedKeys.length=0,this.saveSavedKeys()}}]),n}();function k6(n){return(k6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function She(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Iw(){return Iw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=ist(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Iw.apply(this,arguments)}function ist(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=cg(n)););return n}function L6(n,e){return(L6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ast(n,e){if(e&&("object"===k6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function lst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function cg(n){return(cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("persistentStateSave"),xr.getSingleton().register("persistentStateLoad"),xr.getSingleton().register("persistentStateReset");var xhe="persistentState",dst=function(n){!function ost(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&L6(n,e)}(t,n);var e=function sst(n){var e=function ust(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=cg(n);if(e){var o=cg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ast(this,i)}}(t);function t(r){var i;return function nst(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).storage=void 0,i}return function rst(n,e,t){e&&She(n.prototype,e),t&&She(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[xhe]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.storage||(this.storage=new tst(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",function(o,s){return i.saveValue(o,s)}),this.addHook("persistentStateLoad",function(o,s){return i.loadValue(o,s)}),this.addHook("persistentStateReset",function(){return i.resetValue()}),Iw(cg(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.storage=void 0,Iw(cg(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Iw(cg(t.prototype),"updatePlugin",this).call(this)}},{key:"loadValue",value:function(i,o){o.value=this.storage.loadValue(i)}},{key:"saveValue",value:function(i,o){this.storage.saveValue(i,o)}},{key:"resetValue",value:function(i){void 0===i?this.storage.resetAll():this.storage.reset(i)}},{key:"destroy",value:function(){Iw(cg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return xhe}},{key:"PLUGIN_PRIORITY",get:function(){return 0}}]),t}(Jo);function P6(n){return(P6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function I6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Che(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Nw(){return Nw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=_st(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Nw.apply(this,arguments)}function _st(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=dg(n)););return n}function N6(n,e){return(N6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Mst(n,e){if(e&&("object"===P6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Sst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function dg(n){return(dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var F6="search",Tst=function(e,t,r,i,o){e.getCellMeta(t,r).isSearchResult=o},Rst=function(e,t,r){return!(Bs(e)||null===e||!e.toLocaleLowerCase||0===e.length||Bs(t)||null===t)&&-1!==t.toString().toLocaleLowerCase(r.locale).indexOf(e.toLocaleLowerCase(r.locale))},Dst=function(n){!function bst(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&N6(n,e)}(t,n);var e=function wst(n){var e=function xst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=dg(n);if(e){var o=dg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Mst(this,i)}}(t);function t(r){var i;return function vst(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).callback=Tst,i.queryMethod=Rst,i.searchResultClass="htSearchResult",i}return function yst(n,e,t){e&&Che(n.prototype,e),t&&Che(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[F6]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[F6];this.updatePluginSettings(o),this.addHook("beforeRenderer",function(){return i.onBeforeRenderer.apply(i,arguments)}),Nw(dg(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var i=this,o=function(){return i.onBeforeRenderer.apply(i,arguments)};this.hot.addHook("beforeRenderer",o),this.hot.addHookOnce("afterViewRender",function(){i.hot.removeHook("beforeRenderer",o)}),Nw(dg(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Nw(dg(t.prototype),"updatePlugin",this).call(this)}},{key:"query",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCallback(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getQueryMethod(),u=this.hot.countRows(),c=this.hot.countCols(),h=[],p=this.hot;return Hr(0,u-1,function(g){Hr(0,c-1,function(y){var w=o.hot.getDataAtCell(g,y),S=o.hot.getCellMeta(g,y),C=S.search.callback||s,B=(S.search.queryMethod||a)(i,w,S);B&&h.push({row:g,col:y,data:w}),C&&C(p,g,y,w,B)})}),h}},{key:"getCallback",value:function(){return this.callback}},{key:"setCallback",value:function(i){this.callback=i}},{key:"getQueryMethod",value:function(){return this.queryMethod}},{key:"setQueryMethod",value:function(i){this.queryMethod=i}},{key:"getSearchResultClass",value:function(){return this.searchResultClass}},{key:"setSearchResultClass",value:function(i){this.searchResultClass=i}},{key:"updatePluginSettings",value:function(i){$i(i)&&(i.searchResultClass&&this.setSearchResultClass(i.searchResultClass),i.queryMethod&&this.setQueryMethod(i.queryMethod),i.callback&&this.setCallback(i.callback))}},{key:"onBeforeRenderer",value:function(i,o,s,a,u,c){var g,h=c.className||[],p=[];"string"==typeof h?p=h.split(" "):(g=p).push.apply(g,function hst(n){return function gst(n){if(Array.isArray(n))return I6(n)}(n)||function mst(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function pst(n,e){if(n){if("string"==typeof n)return I6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I6(n,e)}}(n)||function fst(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(h)),this.isEnabled()&&c.isSearchResult?p.includes(this.searchResultClass)||p.push("".concat(this.searchResultClass)):p.includes(this.searchResultClass)&&p.splice(p.indexOf(this.searchResultClass),1),c.className=p.join(" ")}},{key:"destroy",value:function(){Nw(dg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return F6}},{key:"PLUGIN_PRIORITY",get:function(){return 190}}]),t}(Jo);function H6(n){return(H6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ehe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function jx(){return jx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=kst(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},jx.apply(this,arguments)}function kst(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Dy(n)););return n}function B6(n,e){return(B6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Ist(n,e){if(e&&("object"===H6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Nst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Dy(n){return(Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Vst=function(n){!function Lst(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&B6(n,e)}(t,n);var e=function Pst(n){var e=function Fst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Dy(n);if(e){var o=Dy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ist(this,i)}}(t);function t(r){var i;return function Ast(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).scrollbars=[],i.clones=[],i.lockedCollection=!1,i.freezeOverlays=!1,i}return function Ost(n,e,t){e&&Ehe(n.prototype,e),t&&Ehe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return VQ()}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterViewRender",function(){return i.onAfterViewRender()}),this.registerEvents(),jx(Dy(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,jx(Dy(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){jx(Dy(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var i=this;this.addHook("beforeTouchScroll",function(){return i.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return i.onAfterMomentumScroll()})}},{key:"onAfterViewRender",value:function(){if(!this.lockedCollection){var i=this.hot.view._wt.wtOverlays,o=i.topOverlay,s=i.bottomOverlay,a=i.inlineStartOverlay,u=i.topInlineStartCornerOverlay,c=i.bottomInlineStartCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(o),s.clone&&this.scrollbars.push(s),this.scrollbars.push(a),u&&this.scrollbars.push(u),c&&c.clone&&this.scrollbars.push(c),this.clones=[],o.needFullRender&&this.clones.push(o.clone.wtTable.holder.parentNode),s.needFullRender&&this.clones.push(s.clone.wtTable.holder.parentNode),a.needFullRender&&this.clones.push(a.clone.wtTable.holder.parentNode),u&&this.clones.push(u.clone.wtTable.holder.parentNode),c&&c.clone&&this.clones.push(c.clone.wtTable.holder.parentNode)}}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,it(this.clones,function(i){An(i,"hide-tween")})}},{key:"onAfterMomentumScroll",value:function(){var i=this;this.freezeOverlays=!1,it(this.clones,function(o){Hi(o,"hide-tween"),An(o,"show-tween")}),this.hot._registerTimeout(function(){it(i.clones,function(o){Hi(o,"show-tween")})},400),it(this.scrollbars,function(o){o.refresh(),o.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}}],[{key:"PLUGIN_KEY",get:function(){return"touchScroll"}},{key:"PLUGIN_PRIORITY",get:function(){return 200}},{key:"SETTING_KEYS",get:function(){return!0}}]),t}(Jo);function V6(n){return(V6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function The(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Fw(){return Fw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=jst(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Fw.apply(this,arguments)}function jst(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=hg(n)););return n}function z6(n,e){return(z6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Gst(n,e){if(e&&("object"===V6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function $st(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function hg(n){return(hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var UN="trimRows",Zst=function(n){!function Wst(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&z6(n,e)}(t,n);var e=function Yst(n){var e=function Xst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=hg(n);if(e){var o=hg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Gst(this,i)}}(t);function t(r){var i;return function zst(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).trimmedRowsMap=null,i}return function Ust(n,e,t){e&&The(n.prototype,e),t&&The(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[UN]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new S1),this.trimmedRowsMap.addLocalHook("init",function(){return i.onMapInit()}),Fw(hg(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){var i=this,o=this.hot.getSettings()[UN];Array.isArray(o)&&this.hot.batchExecution(function(){i.trimmedRowsMap.clear(),it(o,function(s){i.trimmedRowsMap.setValueAtIndex(s,!0)})},!0),Fw(hg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("trimRows"),Fw(hg(t.prototype),"disablePlugin",this).call(this)}},{key:"getTrimmedRows",value:function(){return this.trimmedRowsMap.getTrimmedIndexes()}},{key:"trimRows",value:function(i){var o=this,s=this.getTrimmedRows(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeTrimRow",s,u,a)&&(a&&this.hot.batchExecution(function(){it(i,function(h){o.trimmedRowsMap.setValueAtIndex(h,!0)})},!0),this.hot.runHooks("afterTrimRow",s,u,a,a&&u.length>s.length))}},{key:"trimRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.trimRows(o)}},{key:"untrimRows",value:function(i){var o=this.getTrimmedRows(),s=this.isValidConfig(i),a=o,u=this.trimmedRowsMap.getValues().slice(),c=i.length>0;s&&c&&(it(i,function(p){u[p]=!1}),a=Ya(u,function(p,g,y){return g&&p.push(y),p},[])),!1!==this.hot.runHooks("beforeUntrimRow",o,a,s&&c)&&(s&&c&&this.trimmedRowsMap.setValues(u),this.hot.runHooks("afterUntrimRow",o,a,s&&c,s&&a.length<o.length))}},{key:"untrimRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.untrimRows(o)}},{key:"isTrimmed",value:function(i){return this.trimmedRowsMap.getValueAtIndex(i)||!1}},{key:"untrimAll",value:function(){this.untrimRows(this.getTrimmedRows())}},{key:"isValidConfig",value:function(i){var o=this.hot.countSourceRows();return i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"onMapInit",value:function(){var i=this,o=this.hot.getSettings()[UN];Array.isArray(o)&&this.hot.batchExecution(function(){it(o,function(s){i.trimmedRowsMap.setValueAtIndex(s,!0)})},!0)}},{key:"destroy",value:function(){Fw(hg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return UN}},{key:"PLUGIN_PRIORITY",get:function(){return 330}}]),t}(Jo);function U6(n){return(U6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Rhe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Dhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ahe(n,e,t){return e&&Dhe(n.prototype,e),t&&Dhe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ohe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&j6(n,e)}function j6(n,e){return(j6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function khe(n){var e=function Qst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=jN(n);if(e){var o=jN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return qst(this,i)}}function qst(n,e){if(e&&("object"===U6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Jst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function jN(n){return(jN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Lhe(n,e){return function sat(n){if(Array.isArray(n))return n}(n)||function oat(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Phe(n,e)||function iat(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Phe(n,e){if(n){if("string"==typeof n)return W6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return W6(n,e)}}function W6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _r(n){var e=this;this.instance=n,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,n.addHook("afterChange",function(t,r){var i=this,o=t&&t.length;o&&t.find(function(u){var c=Lhe(u,4);return c[2]!==c[3]})&&e.done(function(){var c=t.reduce(function(p,g){return p.push(function eat(n){return function rat(n){if(Array.isArray(n))return W6(n)}(n)||function nat(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Phe(n)||function tat(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g)),p},[]);it(c,function(p){p[1]=n.propToCol(p[1])});var h=o>1?i.getSelected():[[c[0][0],c[0][1]]];return new _r.ChangeAction(c,h)},r)}),n.addHook("afterCreateRow",function(t,r,i){e.done(function(){return new _r.CreateRowAction(t,r)},i)}),n.addHook("beforeRemoveRow",function(t,r,i,o){e.done(function(){var u=e.instance.getSourceDataArray(),c=(u.length+t)%u.length,h=n.toPhysicalRow(c),p=Yu(u.slice(h,h+r));return new _r.RemoveRowAction(c,p,n.getSettings().fixedRowsBottom,n.getSettings().fixedRowsTop)},o)}),n.addHook("afterCreateCol",function(t,r,i){e.done(function(){return new _r.CreateColumnAction(t,r)},i)}),n.addHook("beforeRemoveCol",function(t,r,i,o){e.done(function(){var u=e.instance.getSourceDataArray(),c=(e.instance.countCols()+t)%e.instance.countCols(),h=[],p=[],g=[];Hr(u.length-1,function(S){var C=[],P=u[S];Hr(c,c+(r-1),function(B){C.push(P[n.toPhysicalColumn(B)])}),h.push(C)}),Hr(r-1,function(S){g.push(n.toPhysicalColumn(c+S))}),Array.isArray(n.getSettings().colHeaders)&&Hr(r-1,function(S){p.push(n.getSettings().colHeaders[n.toPhysicalColumn(c+S)]||null)});var y=n.columnIndexMapper.getIndexesSequence(),w=n.rowIndexMapper.getIndexesSequence();return new _r.RemoveColumnAction(c,g,h,p,y,w,n.getSettings().fixedColumnsStart)},o)}),n.addHook("beforeCellAlignment",function(t,r,i,o){e.done(function(){return new _r.CellAlignmentAction(t,r,i,o)})}),n.addHook("beforeFilter",function(t){e.done(function(){return new _r.FiltersAction(t)})}),n.addHook("beforeRowMove",function(t,r){!1!==t&&e.done(function(){return new _r.RowMoveAction(t,r)})}),n.addHook("beforeMergeCells",function(t,r){r||e.done(function(){return new _r.MergeCellsAction(n,t)})}),n.addHook("afterUnmergeCells",function(t,r){r||e.done(function(){return new _r.UnmergeCellsAction(n,t)})}),n.addHook("afterInit",function(){e.init()})}function Nhe(n,e){if("loadData"===e)return this.undoRedo.clear()}_r.prototype.done=function(n,e){if(!this.ignoreNewActions&&"UndoRedo.undo"!==e&&"UndoRedo.redo"!==e&&"auto"!==e){var r=this.doneActions.slice();if(!1!==this.instance.runHooks("beforeUndoStackChange",r,e)){var o=n(),s=this.undoneActions.slice();this.doneActions.push(o),this.instance.runHooks("afterUndoStackChange",r,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",s),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",s,this.undoneActions.slice())}}},_r.prototype.undo=function(){if(this.isUndoAvailable()){var n=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",n);var e=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",n,this.doneActions.slice());var t=Yu(e);if(!1===this.instance.runHooks("beforeUndo",t))return;this.ignoreNewActions=!0;var i=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),e.undo(this.instance,function(){i.ignoreNewActions=!1,i.undoneActions.push(e)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",t)}},_r.prototype.redo=function(){if(this.isRedoAvailable()){var n=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",n);var e=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",n,this.undoneActions.slice());var t=Yu(e);if(!1===this.instance.runHooks("beforeRedo",t))return;this.ignoreNewActions=!0;var i=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),e.redo(this.instance,function(){i.ignoreNewActions=!1,i.doneActions.push(e)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",t)}},_r.prototype.isUndoAvailable=function(){return this.doneActions.length>0},_r.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},_r.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},_r.prototype.isEnabled=function(){return this.enabled},_r.prototype.enable=function(){if(!this.isEnabled()){var n=this.instance;this.enabled=!0,function cat(n){n.undo=function(){return n.undoRedo.undo()},n.redo=function(){return n.undoRedo.redo()},n.isUndoAvailable=function(){return n.undoRedo.isUndoAvailable()},n.isRedoAvailable=function(){return n.undoRedo.isRedoAvailable()},n.clearUndo=function(){return n.undoRedo.clear()}}(n),this.registerShortcuts(),n.addHook("afterChange",Nhe)}},_r.prototype.disable=function(){if(this.isEnabled()){var n=this.instance;this.enabled=!1,function dat(n){delete n.undo,delete n.redo,delete n.isUndoAvailable,delete n.isRedoAvailable,delete n.clearUndo}(n),this.unregisterShortcuts(),n.removeHook("afterChange",Nhe)}},_r.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null},(_r.Action=function(){}).prototype.undo=function(){},_r.Action.prototype.redo=function(){},Qv(_r.ChangeAction=function(n,e){this.changes=n,this.selected=e,this.actionType="change"},_r.Action),_r.ChangeAction.prototype.undo=function(n,e){for(var t=Yu(this.changes),r=n.countEmptyRows(!0),i=n.countEmptyCols(!0),o=0,s=t.length;o<s;o++)t[o].splice(3,1);n.addHookOnce("afterChange",e),n.setDataAtCell(t,null,null,"UndoRedo.undo");for(var a=0,u=t.length;a<u;a++){var c=Lhe(t[a],2),h=c[0],p=c[1];n.getSettings().minSpareRows&&h+1+n.getSettings().minSpareRows===n.countRows()&&r===n.getSettings().minSpareRows&&(n.alter("remove_row",parseInt(h+1,10),n.getSettings().minSpareRows),n.undoRedo.doneActions.pop()),n.getSettings().minSpareCols&&p+1+n.getSettings().minSpareCols===n.countCols()&&i===n.getSettings().minSpareCols&&(n.alter("remove_col",parseInt(p+1,10),n.getSettings().minSpareCols),n.undoRedo.doneActions.pop())}n.selectCells(this.selected,!1,!1)},_r.ChangeAction.prototype.redo=function(n,e){for(var t=Yu(this.changes),r=0,i=t.length;r<i;r++)t[r].splice(2,1);n.addHookOnce("afterChange",e),n.setDataAtCell(t,null,null,"UndoRedo.redo"),this.selected&&n.selectCells(this.selected,!1,!1)},Qv(_r.CreateRowAction=function(n,e){this.index=n,this.amount=e,this.actionType="insert_row"},_r.Action),_r.CreateRowAction.prototype.undo=function(n,e){var t=n.countRows(),r=n.getSettings().minSpareRows;this.index>=t&&this.index-r<t&&(this.index-=r),n.addHookOnce("afterRemoveRow",e),n.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},_r.CreateRowAction.prototype.redo=function(n,e){n.addHookOnce("afterCreateRow",e),n.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")},Qv(_r.RemoveRowAction=function(n,e,t,r){this.index=n,this.data=e,this.actionType="remove_row",this.fixedRowsBottom=t,this.fixedRowsTop=r},_r.Action),_r.RemoveRowAction.prototype.undo=function(n,e){var t=n.getSettings();t.fixedRowsBottom=this.fixedRowsBottom,t.fixedRowsTop=this.fixedRowsTop,n.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),n.addHookOnce("afterViewRender",e),n.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")},_r.RemoveRowAction.prototype.redo=function(n,e){n.addHookOnce("afterRemoveRow",e),n.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},Qv(_r.CreateColumnAction=function(n,e){this.index=n,this.amount=e,this.actionType="insert_col"},_r.Action),_r.CreateColumnAction.prototype.undo=function(n,e){n.addHookOnce("afterRemoveCol",e),n.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},_r.CreateColumnAction.prototype.redo=function(n,e){n.addHookOnce("afterCreateCol",e),n.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")},Qv(_r.RemoveColumnAction=function(n,e,t,r,i,o,s){this.index=n,this.indexes=e,this.data=t,this.amount=this.data[0].length,this.headers=r,this.columnPositions=i.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s},_r.Action),_r.RemoveColumnAction.prototype.undo=function(n,e){var t=this;n.getSettings().fixedColumnsStart=this.fixedColumnsStart;for(var i=this.indexes.slice(0).sort(),o=function(g,y,w){return w[t.indexes.indexOf(i[y])]},s=this.data.length,a=[],u=0;u<s;u++)a.push(to(this.data[u],o));var c=to(this.headers,o),h=[];n.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),it(n.getSourceDataArray(),function(p,g){it(i,function(y,w){p[y]=a[g][w],h.push([g,y,p[y]])})}),n.setSourceDataAtCell(h,void 0,void 0,"UndoRedo.undo"),n.columnIndexMapper.insertIndexes(i[0],i.length),void 0!==this.headers&&it(c,function(p,g){n.getSettings().colHeaders[i[g]]=p}),n.batchExecution(function(){n.rowIndexMapper.setIndexesSequence(t.rowPositions),n.columnIndexMapper.setIndexesSequence(t.columnPositions)},!0),n.addHookOnce("afterViewRender",e),n.render()},_r.RemoveColumnAction.prototype.redo=function(n,e){n.addHookOnce("afterRemoveCol",e),n.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},(_r.CellAlignmentAction=function(n,e,t,r){this.stateBefore=n,this.range=e,this.type=t,this.alignment=r}).prototype.undo=function(n,e){var t=this;it(this.range,function(r){r.forAll(function(i,o){i>=0&&o>=0&&n.setCellMeta(i,o,"className",t.stateBefore[i][o]||" htLeft")})}),n.addHookOnce("afterViewRender",e),n.render()},_r.CellAlignmentAction.prototype.redo=function(n,e){vy(this.range,this.type,this.alignment,function(t,r){return n.getCellMeta(t,r)},function(t,r,i,o){return n.setCellMeta(t,r,i,o)}),n.addHookOnce("afterViewRender",e),n.render()},Qv(_r.FiltersAction=function(n){this.conditionsStack=n,this.actionType="filter"},_r.Action),_r.FiltersAction.prototype.undo=function(n,e){var t=n.getPlugin("filters");n.addHookOnce("afterViewRender",e),t.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),t.filter()},_r.FiltersAction.prototype.redo=function(n,e){var t=n.getPlugin("filters");n.addHookOnce("afterViewRender",e),t.conditionCollection.importAllConditions(this.conditionsStack),t.filter()},_r.MergeCellsAction=function(n){Ohe(t,n);var e=khe(t);function t(r,i){var o;Rhe(this,t),(o=e.call(this)).cellRange=i;var s=o.cellRange.getTopStartCorner(),a=o.cellRange.getBottomEndCorner();return o.rangeData=r.getData(s.row,s.col,a.row,a.col),o}return Ahe(t,[{key:"undo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.unmergeRange(this.cellRange,!0);var a=this.cellRange.getTopStartCorner();i.populateFromArray(a.row,a.col,this.rangeData,void 0,void 0,"MergeCells")}},{key:"redo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.mergeRange(this.cellRange)}}]),t}(_r.Action),_r.UnmergeCellsAction=function(n){Ohe(t,n);var e=khe(t);function t(r,i){var o;return Rhe(this,t),(o=e.call(this)).cellRange=i,o}return Ahe(t,[{key:"undo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.mergeRange(this.cellRange,!0)}},{key:"redo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.unmergeRange(this.cellRange,!0),i.render()}}]),t}(_r.Action),Qv(_r.RowMoveAction=function(n,e){this.rows=n.slice(),this.finalIndex=e,this.actionType="row_move"},_r.Action),_r.RowMoveAction.prototype.undo=function(n,e){var t=this,r=n.getPlugin("manualRowMove"),i=[].concat(this.rows),o=i.filter(function(h){return h>t.finalIndex}),s=i.filter(function(h){return h<=t.finalIndex}),a=o.sort(function(h,p){return p-h}).concat(s.sort(function(h,p){return h-p}));n.addHookOnce("afterViewRender",e);for(var u=0;u<a.length;u+=1){var c=n.toVisualRow(a[u]);r.moveRow(c,a[u])}n.render(),n.deselectCell(),n.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)},_r.RowMoveAction.prototype.redo=function(n,e){var t=n.getPlugin("manualRowMove");n.addHookOnce("afterViewRender",e),t.moveRows(this.rows.slice(),this.finalIndex),n.render(),n.deselectCell(),n.selectRows(this.finalIndex,this.finalIndex+this.rows.length-1)},_r.prototype.init=function(){var n=this.instance.getSettings().undo,e=void 0===n||n;this.instance.undoRedo||(this.instance.undoRedo=this),e?this.instance.undoRedo.enable():this.instance.undoRedo.disable()},_r.prototype.registerShortcuts=function(){var n=this;this.instance.getShortcutManager().getContext("grid").addShortcuts([{keys:[["Control/Meta","z"]],callback:function(){n.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:function(){n.redo()}}],{runOnlyIf:function(s){return!s.altKey},group:"undoRedo"})},_r.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup("undoRedo")};var mR=xr.getSingleton();mR.add("afterUpdateSettings",function(){var n;null===(n=this.getPlugin("undoRedo"))||void 0===n||n.init()}),mR.register("beforeUndo"),mR.register("afterUndo"),mR.register("beforeRedo"),mR.register("afterRedo"),_r.PLUGIN_KEY="undoRedo",_r.SETTING_KEYS=!0;const hat=_r;let gat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[q_,Ro,mT,mT,Ro]}),n})(),Tat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[q_,Ro,Ro]}),n})(),Rat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[jK,Ro,Ro]}),n})(),Bhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[q_,Ro,G3,Ro]}),n})(),Vhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({}),n})(),Lat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({providers:[AMe],imports:[Vhe,Bhe,Ro,Vhe,Bhe]}),n})(),Xat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[eB]}),n})(),dlt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[Xat,Ro,Ro]}),n})(),flt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n}),n.\u0275inj=ni({imports:[oZ,Ro,dT,Ro]}),n})();!function pat(){(function UYe(){hd(tx),hd(XW),hd(Sse),hd(Rse),hd(tY),hd(jW),hd(Ose),hd(Lse),hd(kYe),hd($b),hd(Fse)})(),function nGe(){Lm(lx),Lm(L1),Lm(dY),Lm(cY),Lm(fY),Lm(pY),Lm(ly),Lm(mY)}(),function cGe(){m1(LI),m1(gY),m1(vY),m1(yY)}(),function TGe(){ap(hGe),ap(pGe),ap(gGe),ap(yGe),ap(bGe),ap(MGe),ap(xGe),ap(yie),ap(EGe)}(),function fat(){Go(d5e),Go(P5e),Go(Z5e),Go(F6e),Go(t8e),Go(jae),Go(p9e),Go(U9e),Go(yle),Go(c$e),Go(I$e),Go(W$e),Go(Hle),Go(NXe),Go(NJe),Go(hQe),Go(IQe),Go(iet),Go(Tet),Go(att),Go(gtt),Go(Ztt),Go(ont),Go(Wnt),Go(urt),Go(brt),Go(Uit),Go(qot),Go(dst),Go(Dst),Go(Vst),Go(Zst),Go(hat)}()}();let plt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mi({type:n,bootstrap:[vje]}),n.\u0275inj=ni({providers:[wK],imports:[O$,IUe,NUe,nwe,rAe,Oze,gat,vAe,AAe,rSe,NAe,mje,Tat,Rat,Lat,dlt,qMe,flt,WAe,gWe,ZUe]}),n})();(function rge(){k7=!1})(),mye().bootstrapModule(plt).catch(n=>console.error(n))},4722:function(Q,ue,b){"use strict";var te,L=this&&this.__extends||(te=function(oe,ae){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,me){fe.__proto__=me}||function(fe,me){for(var K in me)Object.prototype.hasOwnProperty.call(me,K)&&(fe[K]=me[K])})(oe,ae)},function(oe,ae){if("function"!=typeof ae&&null!==ae)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function fe(){this.constructor=oe}te(oe,ae),oe.prototype=null===ae?Object.create(ae):(fe.prototype=ae.prototype,new fe)});Object.defineProperty(ue,"__esModule",{value:!0}),ue.OrbitControls=void 0;var M=b(3643),R={type:"change"},A={type:"start"},N={type:"end"},F=1e-6,Y=function(te){function oe(ae,fe,me){var K=te.call(this)||this;return K.object=ae,K.domElement=void 0!==fe?fe:document,K.window=void 0!==me?me:window,K.enabled=!0,K.target=new M.Vector3,K.minDistance=0,K.maxDistance=1/0,K.minZoom=0,K.maxZoom=1/0,K.minPolarAngle=0,K.maxPolarAngle=Math.PI,K.minAzimuthAngle=-1/0,K.maxAzimuthAngle=1/0,K.enableDamping=!1,K.dampingFactor=.25,K.enableZoom=!0,K.zoomSpeed=1,K.enableRotate=!0,K.rotateSpeed=1,K.enablePan=!0,K.keyPanSpeed=7,K.autoRotate=!1,K.autoRotateSpeed=2,K.enableKeys=!0,K.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},K.mouseButtons={ORBIT:M.MOUSE.LEFT,ZOOM:M.MOUSE.MIDDLE,PAN:M.MOUSE.RIGHT},K.target0=K.target.clone(),K.position0=K.object.position.clone(),K.zoom0=K.object.zoom,K.updateOffset=new M.Vector3,K.updateQuat=(new M.Quaternion).setFromUnitVectors(ae.up,new M.Vector3(0,1,0)),K.updateQuatInverse=K.updateQuat.clone().invert(),K.updateLastPosition=new M.Vector3,K.updateLastQuaternion=new M.Quaternion,K.state=-1,K.scale=1,K.spherical=new M.Spherical,K.sphericalDelta=new M.Spherical,K.panOffset=new M.Vector3,K.zoomChanged=!1,K.rotateStart=new M.Vector2,K.rotateEnd=new M.Vector2,K.rotateDelta=new M.Vector2,K.panStart=new M.Vector2,K.panEnd=new M.Vector2,K.panDelta=new M.Vector2,K.dollyStart=new M.Vector2,K.dollyEnd=new M.Vector2,K.dollyDelta=new M.Vector2,K.panLeftV=new M.Vector3,K.panUpV=new M.Vector3,K.panInternalOffset=new M.Vector3,K.onMouseDown=function(ce){if(!1!==K.enabled){if(ce.preventDefault(),ce.button===K.mouseButtons.ORBIT){if(!1===K.enableRotate)return;K.rotateStart.set(ce.clientX,ce.clientY),K.state=0}else if(ce.button===K.mouseButtons.ZOOM){if(!1===K.enableZoom)return;K.dollyStart.set(ce.clientX,ce.clientY),K.state=1}else if(ce.button===K.mouseButtons.PAN){if(!1===K.enablePan)return;K.panStart.set(ce.clientX,ce.clientY),K.state=2}-1!==K.state&&(document.addEventListener("mousemove",K.onMouseMove,!1),document.addEventListener("mouseup",K.onMouseUp,!1),K.dispatchEvent(A))}},K.onMouseMove=function(ce){if(!1!==K.enabled)if(ce.preventDefault(),0===K.state){if(!1===K.enableRotate)return;K.rotateEnd.set(ce.clientX,ce.clientY),K.rotateDelta.subVectors(K.rotateEnd,K.rotateStart);var Te=K.domElement===document?K.domElement.body:K.domElement;K.rotateLeft(2*Math.PI*K.rotateDelta.x/Te.clientWidth*K.rotateSpeed),K.rotateUp(2*Math.PI*K.rotateDelta.y/Te.clientHeight*K.rotateSpeed),K.rotateStart.copy(K.rotateEnd),K.update()}else if(1===K.state){if(!1===K.enableZoom)return;K.dollyEnd.set(ce.clientX,ce.clientY),K.dollyDelta.subVectors(K.dollyEnd,K.dollyStart),K.dollyDelta.y>0?K.dollyIn(K.getZoomScale()):K.dollyDelta.y<0&&K.dollyOut(K.getZoomScale()),K.dollyStart.copy(K.dollyEnd),K.update()}else if(2===K.state){if(!1===K.enablePan)return;K.panEnd.set(ce.clientX,ce.clientY),K.panDelta.subVectors(K.panEnd,K.panStart),K.pan(K.panDelta.x,K.panDelta.y),K.panStart.copy(K.panEnd),K.update()}},K.onMouseUp=function(ce){!1!==K.enabled&&(document.removeEventListener("mousemove",K.onMouseMove,!1),document.removeEventListener("mouseup",K.onMouseUp,!1),K.dispatchEvent(N),K.state=-1)},K.onMouseWheel=function(ce){!1===K.enabled||!1===K.enableZoom||-1!==K.state&&0!==K.state||(ce.preventDefault(),ce.stopPropagation(),ce.deltaY<0?K.dollyOut(K.getZoomScale()):ce.deltaY>0&&K.dollyIn(K.getZoomScale()),K.update(),K.dispatchEvent(A),K.dispatchEvent(N))},K.onKeyDown=function(ce){if(!1!==K.enabled&&!1!==K.enableKeys&&!1!==K.enablePan)switch(ce.keyCode){case K.keys.UP:K.pan(0,K.keyPanSpeed),K.update();break;case K.keys.BOTTOM:K.pan(0,-K.keyPanSpeed),K.update();break;case K.keys.LEFT:K.pan(K.keyPanSpeed,0),K.update();break;case K.keys.RIGHT:K.pan(-K.keyPanSpeed,0),K.update()}},K.onTouchStart=function(ce){if(!1!==K.enabled){switch(ce.touches.length){case 1:if(!1===K.enableRotate)return;K.rotateStart.set(ce.touches[0].pageX,ce.touches[0].pageY),K.state=3;break;case 2:if(!1===K.enableZoom)return;var Te=ce.touches[0].pageX-ce.touches[1].pageX,Fe=ce.touches[0].pageY-ce.touches[1].pageY,De=Math.sqrt(Te*Te+Fe*Fe);K.dollyStart.set(0,De),K.state=4;break;case 3:if(!1===K.enablePan)return;K.panStart.set(ce.touches[0].pageX,ce.touches[0].pageY),K.state=5;break;default:K.state=-1}-1!==K.state&&K.dispatchEvent(A)}},K.onTouchMove=function(ce){if(!1!==K.enabled)switch(ce.preventDefault(),ce.stopPropagation(),ce.touches.length){case 1:if(!1===K.enableRotate||3!==K.state)return;K.rotateEnd.set(ce.touches[0].pageX,ce.touches[0].pageY),K.rotateDelta.subVectors(K.rotateEnd,K.rotateStart);var Te=K.domElement===document?K.domElement.body:K.domElement;K.rotateLeft(2*Math.PI*K.rotateDelta.x/Te.clientWidth*K.rotateSpeed),K.rotateUp(2*Math.PI*K.rotateDelta.y/Te.clientHeight*K.rotateSpeed),K.rotateStart.copy(K.rotateEnd),K.update();break;case 2:if(!1===K.enableZoom||4!==K.state)return;var Fe=ce.touches[0].pageX-ce.touches[1].pageX,De=ce.touches[0].pageY-ce.touches[1].pageY,Ue=Math.sqrt(Fe*Fe+De*De);K.dollyEnd.set(0,Ue),K.dollyDelta.subVectors(K.dollyEnd,K.dollyStart),K.dollyDelta.y>0?K.dollyOut(K.getZoomScale()):K.dollyDelta.y<0&&K.dollyIn(K.getZoomScale()),K.dollyStart.copy(K.dollyEnd),K.update();break;case 3:if(!1===K.enablePan||5!==K.state)return;K.panEnd.set(ce.touches[0].pageX,ce.touches[0].pageY),K.panDelta.subVectors(K.panEnd,K.panStart),K.pan(K.panDelta.x,K.panDelta.y),K.panStart.copy(K.panEnd),K.update();break;default:K.state=-1}},K.onTouchEnd=function(ce){!1!==K.enabled&&(K.dispatchEvent(N),K.state=-1)},K.onContextMenu=function(ce){ce.preventDefault()},K.domElement.addEventListener("contextmenu",K.onContextMenu,!1),K.domElement.addEventListener("mousedown",K.onMouseDown,!1),K.domElement.addEventListener("wheel",K.onMouseWheel,!1),K.domElement.addEventListener("touchstart",K.onTouchStart,!1),K.domElement.addEventListener("touchend",K.onTouchEnd,!1),K.domElement.addEventListener("touchmove",K.onTouchMove,!1),K.window.addEventListener("keydown",K.onKeyDown,!1),K.update(),K}return L(oe,te),oe.prototype.update=function(){var ae=this.object.position;return this.updateOffset.copy(ae).sub(this.target),this.updateOffset.applyQuaternion(this.updateQuat),this.spherical.setFromVector3(this.updateOffset),this.autoRotate&&-1===this.state&&this.rotateLeft(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),this.updateOffset.setFromSpherical(this.spherical),this.updateOffset.applyQuaternion(this.updateQuatInverse),ae.copy(this.target).add(this.updateOffset),this.object.lookAt(this.target),!0===this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.panOffset.set(0,0,0),!!(this.zoomChanged||this.updateLastPosition.distanceToSquared(this.object.position)>F||8*(1-this.updateLastQuaternion.dot(this.object.quaternion))>F)&&(this.dispatchEvent(R),this.updateLastPosition.copy(this.object.position),this.updateLastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0)},oe.prototype.panLeft=function(ae,fe){this.panLeftV.setFromMatrixColumn(fe,0),this.panLeftV.multiplyScalar(-ae),this.panOffset.add(this.panLeftV)},oe.prototype.panUp=function(ae,fe){this.panUpV.setFromMatrixColumn(fe,1),this.panUpV.multiplyScalar(ae),this.panOffset.add(this.panUpV)},oe.prototype.pan=function(ae,fe){var me=this.domElement===document?this.domElement.body:this.domElement;if(this._checkPerspectiveCamera(this.object)){this.panInternalOffset.copy(this.object.position).sub(this.target);var ce=this.panInternalOffset.length();ce*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*ae*ce/me.clientHeight,this.object.matrix),this.panUp(2*fe*ce/me.clientHeight,this.object.matrix)}else this._checkOrthographicCamera(this.object)?(this.panLeft(ae*(this.object.right-this.object.left)/this.object.zoom/me.clientWidth,this.object.matrix),this.panUp(fe*(this.object.top-this.object.bottom)/this.object.zoom/me.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)},oe.prototype.dollyIn=function(ae){this._checkPerspectiveCamera(this.object)?this.scale/=ae:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*ae)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},oe.prototype.dollyOut=function(ae){this._checkPerspectiveCamera(this.object)?this.scale*=ae:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/ae)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},oe.prototype.getAutoRotationAngle=function(){return 2*Math.PI/60/60*this.autoRotateSpeed},oe.prototype.getZoomScale=function(){return Math.pow(.95,this.zoomSpeed)},oe.prototype.rotateLeft=function(ae){this.sphericalDelta.theta-=ae},oe.prototype.rotateUp=function(ae){this.sphericalDelta.phi-=ae},oe.prototype.getPolarAngle=function(){return this.spherical.phi},oe.prototype.getAzimuthalAngle=function(){return this.spherical.theta},oe.prototype.dispose=function(){this.domElement.removeEventListener("contextmenu",this.onContextMenu,!1),this.domElement.removeEventListener("mousedown",this.onMouseDown,!1),this.domElement.removeEventListener("wheel",this.onMouseWheel,!1),this.domElement.removeEventListener("touchstart",this.onTouchStart,!1),this.domElement.removeEventListener("touchend",this.onTouchEnd,!1),this.domElement.removeEventListener("touchmove",this.onTouchMove,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.window.removeEventListener("keydown",this.onKeyDown,!1)},oe.prototype.reset=function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(R),this.update(),this.state=-1},oe.prototype.saveState=function(){this.target0.copy(this.target),this.position0.copy(this.object.position),(this._checkOrthographicCamera(this.object)||this._checkPerspectiveCamera(this.object))&&(this.zoom0=this.object.zoom)},Object.defineProperty(oe.prototype,"center",{get:function(){return console.warn("Three.OrbitControls: .center has been renamed to .target"),this.target},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"noZoom",{get:function(){return console.warn("Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(ae){console.warn("Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!ae},enumerable:!1,configurable:!0}),oe.prototype._checkPerspectiveCamera=function(ae){return ae.isPerspectiveCamera},oe.prototype._checkOrthographicCamera=function(ae){return ae.isOrthographicCamera},oe}(M.EventDispatcher);ue.OrbitControls=Y},3643:(Q,ue,b)=>{"use strict";b.r(ue),b.d(ue,{ACESFilmicToneMapping:()=>Qe,AddEquation:()=>ct,AddOperation:()=>_i,AdditiveAnimationBlendMode:()=>Ep,AdditiveBlending:()=>rt,AlphaFormat:()=>dh,AlwaysDepth:()=>Zn,AlwaysStencilFunc:()=>ic,AmbientLight:()=>tM,AmbientLightProbe:()=>yF,AnimationClip:()=>T_,AnimationLoader:()=>lF,AnimationMixer:()=>aM,AnimationObjectGroup:()=>yE,AnimationUtils:()=>bs,ArcCurve:()=>sE,ArrayCamera:()=>jg,ArrowHelper:()=>cA,Audio:()=>N_,AudioAnalyser:()=>ZD,AudioContext:()=>$D,AudioListener:()=>XD,AudioLoader:()=>gF,AxesHelper:()=>fM,AxisHelper:()=>_v,BackSide:()=>K,BasicDepthPacking:()=>xd,BasicShadowMap:()=>te,BinaryTextureLoader:()=>xv,Bone:()=>Yp,BooleanKeyframeTrack:()=>Lf,BoundingBoxHelper:()=>bv,Box2:()=>dv,Box3:()=>js,Box3Helper:()=>AF,BoxBufferGeometry:()=>Gc,BoxGeometry:()=>Gc,BoxHelper:()=>hM,BufferAttribute:()=>qr,BufferGeometry:()=>Vr,BufferGeometryLoader:()=>VD,ByteType:()=>Ao,Cache:()=>kr,Camera:()=>Uo,CameraHelper:()=>DF,CanvasRenderer:()=>Ev,CanvasTexture:()=>wD,CatmullRomCurve3:()=>LD,CineonToneMapping:()=>He,CircleBufferGeometry:()=>x0,CircleGeometry:()=>x0,ClampToEdgeWrapping:()=>hn,Clock:()=>wF,Color:()=>hr,ColorKeyframeTrack:()=>rE,CompressedTexture:()=>S0,CompressedTextureLoader:()=>Y0,ConeBufferGeometry:()=>C0,ConeGeometry:()=>C0,CubeCamera:()=>Rg,CubeReflectionMapping:()=>qe,CubeRefractionMapping:()=>Xe,CubeTexture:()=>Th,CubeTextureLoader:()=>AD,CubeUVReflectionMapping:()=>mt,CubeUVRefractionMapping:()=>Ct,CubicBezierCurve:()=>X0,CubicBezierCurve3:()=>lE,CubicInterpolant:()=>U0,CullFaceBack:()=>N,CullFaceFront:()=>F,CullFaceFrontBack:()=>Y,CullFaceNone:()=>A,Curve:()=>Sl,CurvePath:()=>uE,CustomBlending:()=>Ke,CustomToneMapping:()=>St,CylinderBufferGeometry:()=>qg,CylinderGeometry:()=>qg,Cylindrical:()=>tA,DataTexture:()=>$c,DataTexture2DArray:()=>r0,DataTexture3D:()=>Vg,DataTextureLoader:()=>oE,DataUtils:()=>z8,DecrementStencilOp:()=>bR,DecrementWrapStencilOp:()=>Po,DefaultLoadingManager:()=>iE,DepthFormat:()=>Oo,DepthStencilFormat:()=>xo,DepthTexture:()=>GC,DirectionalLight:()=>HD,DirectionalLightHelper:()=>RF,DiscreteInterpolant:()=>cu,DodecahedronBufferGeometry:()=>E0,DodecahedronGeometry:()=>E0,DoubleSide:()=>ce,DstAlphaFactor:()=>dt,DstColorFactor:()=>Yt,DynamicBufferAttribute:()=>kE,DynamicCopyUsage:()=>Kx,DynamicDrawUsage:()=>Nc,DynamicReadUsage:()=>zw,EdgesGeometry:()=>$C,EdgesHelper:()=>wv,EllipseCurve:()=>Cs,EqualDepth:()=>In,EqualStencilFunc:()=>Wi,EquirectangularReflectionMapping:()=>Ze,EquirectangularRefractionMapping:()=>yt,Euler:()=>yf,EventDispatcher:()=>Yi,ExtrudeBufferGeometry:()=>Fd,ExtrudeGeometry:()=>Fd,FaceColors:()=>FF,FileLoader:()=>Lu,FlatShading:()=>Te,Float16BufferAttribute:()=>Pp,Float32Attribute:()=>qo,Float32BufferAttribute:()=>yr,Float64Attribute:()=>yv,Float64BufferAttribute:()=>mn,FloatType:()=>Zl,Fog:()=>Id,FogExp2:()=>u_,Font:()=>WD,FontLoader:()=>mF,FrontSide:()=>me,Frustum:()=>kd,GLBufferAttribute:()=>bE,GLSL1:()=>kn,GLSL3:()=>Oa,GammaEncoding:()=>ji,GreaterDepth:()=>Rn,GreaterEqualDepth:()=>Mr,GreaterEqualStencilFunc:()=>Vw,GreaterStencilFunc:()=>Rp,GridHelper:()=>CE,Group:()=>Wp,HalfFloatType:()=>gs,HemisphereLight:()=>cE,HemisphereLightHelper:()=>lA,HemisphereLightProbe:()=>vF,IcosahedronBufferGeometry:()=>y_,IcosahedronGeometry:()=>y_,ImageBitmapLoader:()=>UD,ImageLoader:()=>G0,ImageUtils:()=>oc,ImmediateRenderObject:()=>uM,IncrementStencilOp:()=>$x,IncrementWrapStencilOp:()=>Su,InstancedBufferAttribute:()=>hE,InstancedBufferGeometry:()=>Qp,InstancedInterleavedBuffer:()=>B_,InstancedMesh:()=>_0,Int16Attribute:()=>xl,Int16BufferAttribute:()=>kp,Int32Attribute:()=>bM,Int32BufferAttribute:()=>Lp,Int8Attribute:()=>WF,Int8BufferAttribute:()=>oi,IntType:()=>Kl,InterleavedBuffer:()=>au,InterleavedBufferAttribute:()=>pc,Interpolant:()=>uu,InterpolateDiscrete:()=>yh,InterpolateLinear:()=>qs,InterpolateSmooth:()=>Ui,InvertStencilOp:()=>bh,JSONLoader:()=>pA,KeepStencilOp:()=>qa,KeyframeTrack:()=>Qc,LOD:()=>m0,LatheBufferGeometry:()=>N0,LatheGeometry:()=>N0,Layers:()=>Yw,LensFlare:()=>gA,LessDepth:()=>Un,LessEqualDepth:()=>Wn,LessEqualStencilFunc:()=>bg,LessStencilFunc:()=>mf,Light:()=>Pu,LightProbe:()=>If,Line:()=>Zc,Line3:()=>nA,LineBasicMaterial:()=>Ia,LineCurve:()=>A_,LineCurve3:()=>FD,LineDashedMaterial:()=>RD,LineLoop:()=>w0,LinePieces:()=>OE,LineSegments:()=>rl,LineStrip:()=>IF,LinearEncoding:()=>yn,LinearFilter:()=>Ii,LinearInterpolant:()=>x_,LinearMipMapLinearFilter:()=>la,LinearMipMapNearestFilter:()=>Xl,LinearMipmapLinearFilter:()=>qi,LinearMipmapNearestFilter:()=>vu,LinearToneMapping:()=>cr,Loader:()=>Xs,LoaderUtils:()=>I_,LoadingManager:()=>W0,LogLuvEncoding:()=>Ss,LoopOnce:()=>Ql,LoopPingPong:()=>Cp,LoopRepeat:()=>xp,LuminanceAlphaFormat:()=>So,LuminanceFormat:()=>fl,MOUSE:()=>T,Material:()=>zo,MaterialLoader:()=>nM,Math:()=>Dr,MathUtils:()=>Dr,Matrix3:()=>Os,Matrix4:()=>Br,MaxEquation:()=>Ft,Mesh:()=>ln,MeshBasicMaterial:()=>Uc,MeshDepthMaterial:()=>d0,MeshDistanceMaterial:()=>h0,MeshFaceMaterial:()=>BF,MeshLambertMaterial:()=>S_,MeshMatcapMaterial:()=>z0,MeshNormalMaterial:()=>V0,MeshPhongMaterial:()=>B0,MeshPhysicalMaterial:()=>Hh,MeshStandardMaterial:()=>Vd,MeshToonMaterial:()=>nE,MinEquation:()=>Pt,MirroredRepeatWrapping:()=>Sn,MixOperation:()=>yi,MultiMaterial:()=>VF,MultiplyBlending:()=>Oe,MultiplyOperation:()=>$r,NearestFilter:()=>Bn,NearestMipMapLinearFilter:()=>pi,NearestMipMapNearestFilter:()=>ai,NearestMipmapLinearFilter:()=>ui,NearestMipmapNearestFilter:()=>br,NeverDepth:()=>Ht,NeverStencilFunc:()=>Bw,NoBlending:()=>De,NoColors:()=>NF,NoToneMapping:()=>fi,NormalAnimationBlendMode:()=>fn,NormalBlending:()=>Ue,NotEqualDepth:()=>nn,NotEqualStencilFunc:()=>Py,NumberKeyframeTrack:()=>C_,Object3D:()=>Zr,ObjectLoader:()=>fF,ObjectSpaceNormalMap:()=>es,OctahedronBufferGeometry:()=>F0,OctahedronGeometry:()=>F0,OneFactor:()=>Kt,OneMinusDstAlphaFactor:()=>Rt,OneMinusDstColorFactor:()=>bn,OneMinusSrcAlphaFactor:()=>ge,OneMinusSrcColorFactor:()=>Nt,OrthographicCamera:()=>ov,PCFShadowMap:()=>oe,PCFSoftShadowMap:()=>ae,PMREMGenerator:()=>U8,ParametricBufferGeometry:()=>Hd,ParametricGeometry:()=>Hd,Particle:()=>_M,ParticleBasicMaterial:()=>U_,ParticleSystem:()=>im,ParticleSystemMaterial:()=>UF,Path:()=>qp,PerspectiveCamera:()=>ss,Plane:()=>iu,PlaneBufferGeometry:()=>su,PlaneGeometry:()=>su,PlaneHelper:()=>OF,PointCloud:()=>zF,PointCloudMaterial:()=>W8,PointLight:()=>P_,PointLightHelper:()=>EF,Points:()=>Zg,PointsMaterial:()=>Lh,PolarGridHelper:()=>TF,PolyhedronBufferGeometry:()=>Ph,PolyhedronGeometry:()=>Ph,PositionalAudio:()=>KD,PropertyBinding:()=>ol,PropertyMixer:()=>iM,QuadraticBezierCurve:()=>K0,QuadraticBezierCurve3:()=>Z0,Quaternion:()=>Sr,QuaternionKeyframeTrack:()=>tv,QuaternionLinearInterpolant:()=>j0,REVISION:()=>M,RGBADepthPacking:()=>Tp,RGBAFormat:()=>Ko,RGBAIntegerFormat:()=>Za,RGBA_ASTC_10x10_Format:()=>Mp,RGBA_ASTC_10x5_Format:()=>Qi,RGBA_ASTC_10x6_Format:()=>zr,RGBA_ASTC_10x8_Format:()=>Pc,RGBA_ASTC_12x10_Format:()=>sn,RGBA_ASTC_12x12_Format:()=>ml,RGBA_ASTC_4x4_Format:()=>Lc,RGBA_ASTC_5x4_Format:()=>gh,RGBA_ASTC_5x5_Format:()=>rc,RGBA_ASTC_6x5_Format:()=>ro,RGBA_ASTC_6x6_Format:()=>ql,RGBA_ASTC_8x5_Format:()=>Lo,RGBA_ASTC_8x6_Format:()=>vh,RGBA_ASTC_8x8_Format:()=>wp,RGBA_BPTC_Format:()=>Qr,RGBA_ETC2_EAC_Format:()=>Qo,RGBA_PVRTC_2BPPV1_Format:()=>nc,RGBA_PVRTC_4BPPV1_Format:()=>bu,RGBA_S3TC_DXT1_Format:()=>fh,RGBA_S3TC_DXT3_Format:()=>_u,RGBA_S3TC_DXT5_Format:()=>ko,RGBDEncoding:()=>dr,RGBEEncoding:()=>Ms,RGBEFormat:()=>$o,RGBFormat:()=>ec,RGBIntegerFormat:()=>Ka,RGBM16Encoding:()=>Sd,RGBM7Encoding:()=>vs,RGB_ETC1_Format:()=>mh,RGB_ETC2_Format:()=>ff,RGB_PVRTC_2BPPV1_Format:()=>ph,RGB_PVRTC_4BPPV1_Format:()=>tc,RGB_S3TC_DXT1_Format:()=>hh,RGFormat:()=>Ri,RGIntegerFormat:()=>Vs,RawShaderMaterial:()=>Bd,Ray:()=>Ed,Raycaster:()=>QD,RectAreaLight:()=>BD,RedFormat:()=>Zo,RedIntegerFormat:()=>pl,ReinhardToneMapping:()=>_e,RepeatWrapping:()=>qt,ReplaceStencilOp:()=>Mu,ReverseSubtractEquation:()=>vt,RingBufferGeometry:()=>H0,RingGeometry:()=>H0,SRGB8_ALPHA8_ASTC_10x10_Format:()=>Md,SRGB8_ALPHA8_ASTC_10x5_Format:()=>vg,SRGB8_ALPHA8_ASTC_10x6_Format:()=>Fl,SRGB8_ALPHA8_ASTC_10x8_Format:()=>Ly,SRGB8_ALPHA8_ASTC_12x10_Format:()=>Sp,SRGB8_ALPHA8_ASTC_12x12_Format:()=>yg,SRGB8_ALPHA8_ASTC_4x4_Format:()=>Bi,SRGB8_ALPHA8_ASTC_5x4_Format:()=>wd,SRGB8_ALPHA8_ASTC_5x5_Format:()=>wu,SRGB8_ALPHA8_ASTC_6x5_Format:()=>As,SRGB8_ALPHA8_ASTC_6x6_Format:()=>Jl,SRGB8_ALPHA8_ASTC_8x5_Format:()=>Da,SRGB8_ALPHA8_ASTC_8x6_Format:()=>gg,SRGB8_ALPHA8_ASTC_8x8_Format:()=>pf,Scene:()=>wi,SceneUtils:()=>mA,ShaderChunk:()=>io,ShaderLib:()=>fc,ShaderMaterial:()=>Ls,ShadowMaterial:()=>M_,Shape:()=>Jp,ShapeBufferGeometry:()=>Jg,ShapeGeometry:()=>Jg,ShapePath:()=>jD,ShapeUtils:()=>Fh,ShortType:()=>ms,Skeleton:()=>f_,SkeletonHelper:()=>iA,SkinnedMesh:()=>h_,SmoothShading:()=>Fe,Sphere:()=>Cd,SphereBufferGeometry:()=>Qg,SphereGeometry:()=>Qg,Spherical:()=>CF,SphericalHarmonics3:()=>sv,SplineCurve:()=>q0,SpotLight:()=>Iu,SpotLightHelper:()=>ME,Sprite:()=>HC,SpriteMaterial:()=>mc,SrcAlphaFactor:()=>Ne,SrcAlphaSaturateFactor:()=>Mn,SrcColorFactor:()=>Zt,StaticCopyUsage:()=>mi,StaticDrawUsage:()=>eu,StaticReadUsage:()=>Xx,StereoCamera:()=>B8,StreamCopyUsage:()=>Uw,StreamDrawUsage:()=>Ci,StreamReadUsage:()=>Iy,StringKeyframeTrack:()=>Pf,SubtractEquation:()=>nt,SubtractiveBlending:()=>Ye,TOUCH:()=>R,TangentSpaceNormalMap:()=>zs,TetrahedronBufferGeometry:()=>ev,TetrahedronGeometry:()=>ev,TextBufferGeometry:()=>__,TextGeometry:()=>__,Texture:()=>fo,TextureLoader:()=>R_,TorusBufferGeometry:()=>Kp,TorusGeometry:()=>Kp,TorusKnotBufferGeometry:()=>Zp,TorusKnotGeometry:()=>Zp,Triangle:()=>ts,TriangleFanDrawMode:()=>Et,TriangleStripDrawMode:()=>Pr,TrianglesDrawMode:()=>ni,TubeBufferGeometry:()=>b_,TubeGeometry:()=>b_,UVMapping:()=>lt,Uint16Attribute:()=>om,Uint16BufferAttribute:()=>Ch,Uint32Attribute:()=>vc,Uint32BufferAttribute:()=>Od,Uint8Attribute:()=>Wd,Uint8BufferAttribute:()=>wf,Uint8ClampedAttribute:()=>j_,Uint8ClampedBufferAttribute:()=>Cg,Uniform:()=>H_,UniformsLib:()=>nr,UniformsUtils:()=>Yy,UnsignedByteType:()=>ua,UnsignedInt248Type:()=>Qn,UnsignedIntType:()=>yu,UnsignedShort4444Type:()=>mg,UnsignedShort5551Type:()=>kc,UnsignedShort565Type:()=>Ra,UnsignedShortType:()=>Ji,VSMShadowMap:()=>fe,Vector2:()=>_n,Vector3:()=>Ce,Vector4:()=>Di,VectorKeyframeTrack:()=>E_,Vertex:()=>jF,VertexColors:()=>HF,VideoTexture:()=>bD,WebGL1Renderer:()=>Of,WebGLCubeRenderTarget:()=>Dg,WebGLMultisampleRenderTarget:()=>bi,WebGLRenderTarget:()=>qn,WebGLRenderTargetCube:()=>Cv,WebGLRenderer:()=>ns,WebGLUtils:()=>uD,WireframeGeometry:()=>w_,WireframeHelper:()=>Mv,WrapAroundEnding:()=>_h,XHRLoader:()=>Sv,ZeroCurvatureEnding:()=>Aa,ZeroFactor:()=>Wt,ZeroSlopeEnding:()=>Ic,ZeroStencilOp:()=>_g,sRGBEncoding:()=>Jn});var L=b(1670);const M="126",T={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},R={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},A=0,N=1,F=2,Y=3,te=0,oe=1,ae=2,fe=3,me=0,K=1,ce=2,Te=1,Fe=2,De=0,Ue=1,rt=2,Ye=3,Oe=4,Ke=5,ct=100,nt=101,vt=102,Pt=103,Ft=104,Wt=200,Kt=201,Zt=202,Nt=203,Ne=204,ge=205,dt=206,Rt=207,Yt=208,bn=209,Mn=210,Ht=0,Zn=1,Un=2,Wn=3,In=4,Mr=5,Rn=6,nn=7,$r=0,yi=1,_i=2,fi=0,cr=1,_e=2,He=3,Qe=4,St=5,lt=300,qe=301,Xe=302,Ze=303,yt=304,mt=306,Ct=307,qt=1e3,hn=1001,Sn=1002,Bn=1003,br=1004,ai=1004,ui=1005,pi=1005,Ii=1006,vu=1007,Xl=1007,qi=1008,la=1008,ua=1009,Ao=1010,ms=1011,Ji=1012,Kl=1013,yu=1014,Zl=1015,gs=1016,mg=1017,kc=1018,Ra=1019,Qn=1020,dh=1021,ec=1022,Ko=1023,fl=1024,So=1025,$o=Ko,Oo=1026,xo=1027,Zo=1028,pl=1029,Ri=1030,Vs=1031,Ka=1032,Za=1033,hh=33776,fh=33777,_u=33778,ko=33779,tc=35840,ph=35841,bu=35842,nc=35843,mh=36196,ff=37492,Qo=37496,Lc=37808,gh=37809,rc=37810,ro=37811,ql=37812,Lo=37813,vh=37814,wp=37815,Qi=37816,zr=37817,Pc=37818,Mp=37819,sn=37820,ml=37821,Qr=36492,Bi=37840,wd=37841,wu=37842,As=37843,Jl=37844,Da=37845,gg=37846,pf=37847,vg=37848,Fl=37849,Ly=37850,Md=37851,Sp=37852,yg=37853,Ql=2200,xp=2201,Cp=2202,yh=2300,qs=2301,Ui=2302,Aa=2400,Ic=2401,_h=2402,fn=2500,Ep=2501,ni=0,Pr=1,Et=2,yn=3e3,Jn=3001,ji=3007,Ms=3002,Ss=3003,vs=3004,Sd=3005,dr=3006,xd=3200,Tp=3201,zs=0,es=1,_g=0,qa=7680,Mu=7681,$x=7682,bR=7683,Su=34055,Po=34056,bh=5386,Bw=512,mf=513,Wi=514,bg=515,Rp=516,Py=517,Vw=518,ic=519,eu=35044,Nc=35048,Ci=35040,Xx=35045,zw=35049,Iy=35041,mi=35046,Kx=35050,Uw=35042,kn="100",Oa="300 es";function Yi(){}Object.assign(Yi.prototype,{addEventListener:function(f,l){void 0===this._listeners&&(this._listeners={});const d=this._listeners;void 0===d[f]&&(d[f]=[]),-1===d[f].indexOf(l)&&d[f].push(l)},hasEventListener:function(f,l){if(void 0===this._listeners)return!1;const d=this._listeners;return void 0!==d[f]&&-1!==d[f].indexOf(l)},removeEventListener:function(f,l){if(void 0===this._listeners)return;const m=this._listeners[f];if(void 0!==m){const v=m.indexOf(l);-1!==v&&m.splice(v,1)}},dispatchEvent:function(f){if(void 0===this._listeners)return;const d=this._listeners[f.type];if(void 0!==d){f.target=this;const m=d.slice(0);for(let v=0,_=m.length;v<_;v++)m[v].call(this,f)}}});const Io=[];for(let f=0;f<256;f++)Io[f]=(f<16?"0":"")+f.toString(16);let ys=1234567;const Dr={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const f=4294967295*Math.random()|0,l=4294967295*Math.random()|0,d=4294967295*Math.random()|0,m=4294967295*Math.random()|0;return(Io[255&f]+Io[f>>8&255]+Io[f>>16&255]+Io[f>>24&255]+"-"+Io[255&l]+Io[l>>8&255]+"-"+Io[l>>16&15|64]+Io[l>>24&255]+"-"+Io[63&d|128]+Io[d>>8&255]+"-"+Io[d>>16&255]+Io[d>>24&255]+Io[255&m]+Io[m>>8&255]+Io[m>>16&255]+Io[m>>24&255]).toUpperCase()},clamp:function(f,l,d){return Math.max(l,Math.min(d,f))},euclideanModulo:function(f,l){return(f%l+l)%l},mapLinear:function(f,l,d,m,v){return m+(f-l)*(v-m)/(d-l)},lerp:function(f,l,d){return(1-d)*f+d*l},damp:function(f,l,d,m){return Dr.lerp(f,l,1-Math.exp(-d*m))},pingpong:function(f,l=1){return l-Math.abs(Dr.euclideanModulo(f,2*l)-l)},smoothstep:function(f,l,d){return f<=l?0:f>=d?1:(f=(f-l)/(d-l))*f*(3-2*f)},smootherstep:function(f,l,d){return f<=l?0:f>=d?1:(f=(f-l)/(d-l))*f*f*(f*(6*f-15)+10)},randInt:function(f,l){return f+Math.floor(Math.random()*(l-f+1))},randFloat:function(f,l){return f+Math.random()*(l-f)},randFloatSpread:function(f){return f*(.5-Math.random())},seededRandom:function(f){return void 0!==f&&(ys=f%2147483647),ys=16807*ys%2147483647,(ys-1)/2147483646},degToRad:function(f){return f*Dr.DEG2RAD},radToDeg:function(f){return f*Dr.RAD2DEG},isPowerOfTwo:function(f){return 0==(f&f-1)&&0!==f},ceilPowerOfTwo:function(f){return Math.pow(2,Math.ceil(Math.log(f)/Math.LN2))},floorPowerOfTwo:function(f){return Math.pow(2,Math.floor(Math.log(f)/Math.LN2))},setQuaternionFromProperEuler:function(f,l,d,m,v){const _=Math.cos,x=Math.sin,D=_(d/2),k=x(d/2),O=_((l+m)/2),U=x((l+m)/2),H=_((l-m)/2),V=x((l-m)/2),W=_((m-l)/2),J=x((m-l)/2);switch(v){case"XYX":f.set(D*U,k*H,k*V,D*O);break;case"YZY":f.set(k*V,D*U,k*H,D*O);break;case"ZXZ":f.set(k*H,k*V,D*U,D*O);break;case"XZX":f.set(D*U,k*J,k*W,D*O);break;case"YXY":f.set(k*W,D*U,k*J,D*O);break;case"ZYZ":f.set(k*J,k*W,D*U,D*O);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+v)}}};class _n{constructor(l=0,d=0){this.x=l,this.y=d}get width(){return this.x}set width(l){this.x=l}get height(){return this.y}set height(l){this.y=l}set(l,d){return this.x=l,this.y=d,this}setScalar(l){return this.x=l,this.y=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y)}copy(l){return this.x=l.x,this.y=l.y,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this)}addScalar(l){return this.x+=l,this.y+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this)}subScalar(l){return this.x-=l,this.y-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this}multiply(l){return this.x*=l.x,this.y*=l.y,this}multiplyScalar(l){return this.x*=l,this.y*=l,this}divide(l){return this.x/=l.x,this.y/=l.y,this}divideScalar(l){return this.multiplyScalar(1/l)}applyMatrix3(l){const d=this.x,m=this.y,v=l.elements;return this.x=v[0]*d+v[3]*m+v[6],this.y=v[1]*d+v[4]*m+v[7],this}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(l){return this.x*l.x+this.y*l.y}cross(l){return this.x*l.y-this.y*l.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(l){return Math.sqrt(this.distanceToSquared(l))}distanceToSquared(l){const d=this.x-l.x,m=this.y-l.y;return d*d+m*m}manhattanDistanceTo(l){return Math.abs(this.x-l.x)+Math.abs(this.y-l.y)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this}equals(l){return l.x===this.x&&l.y===this.y}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this}rotateAround(l,d){const m=Math.cos(d),v=Math.sin(d),_=this.x-l.x,x=this.y-l.y;return this.x=_*m-x*v+l.x,this.y=_*v+x*m+l.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}_n.prototype.isVector2=!0;class Os{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(l,d,m,v,_,x,D,k,O){const U=this.elements;return U[0]=l,U[1]=v,U[2]=D,U[3]=d,U[4]=_,U[5]=k,U[6]=m,U[7]=x,U[8]=O,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(l){const d=this.elements,m=l.elements;return d[0]=m[0],d[1]=m[1],d[2]=m[2],d[3]=m[3],d[4]=m[4],d[5]=m[5],d[6]=m[6],d[7]=m[7],d[8]=m[8],this}extractBasis(l,d,m){return l.setFromMatrix3Column(this,0),d.setFromMatrix3Column(this,1),m.setFromMatrix3Column(this,2),this}setFromMatrix4(l){const d=l.elements;return this.set(d[0],d[4],d[8],d[1],d[5],d[9],d[2],d[6],d[10]),this}multiply(l){return this.multiplyMatrices(this,l)}premultiply(l){return this.multiplyMatrices(l,this)}multiplyMatrices(l,d){const m=l.elements,v=d.elements,_=this.elements,x=m[0],D=m[3],k=m[6],O=m[1],U=m[4],H=m[7],V=m[2],W=m[5],J=m[8],ee=v[0],se=v[3],ie=v[6],X=v[1],Re=v[4],xe=v[7],Ve=v[2],Me=v[5],tt=v[8];return _[0]=x*ee+D*X+k*Ve,_[3]=x*se+D*Re+k*Me,_[6]=x*ie+D*xe+k*tt,_[1]=O*ee+U*X+H*Ve,_[4]=O*se+U*Re+H*Me,_[7]=O*ie+U*xe+H*tt,_[2]=V*ee+W*X+J*Ve,_[5]=V*se+W*Re+J*Me,_[8]=V*ie+W*xe+J*tt,this}multiplyScalar(l){const d=this.elements;return d[0]*=l,d[3]*=l,d[6]*=l,d[1]*=l,d[4]*=l,d[7]*=l,d[2]*=l,d[5]*=l,d[8]*=l,this}determinant(){const l=this.elements,d=l[0],m=l[1],v=l[2],_=l[3],x=l[4],D=l[5],k=l[6],O=l[7],U=l[8];return d*x*U-d*D*O-m*_*U+m*D*k+v*_*O-v*x*k}invert(){const l=this.elements,d=l[0],m=l[1],v=l[2],_=l[3],x=l[4],D=l[5],k=l[6],O=l[7],U=l[8],H=U*x-D*O,V=D*k-U*_,W=O*_-x*k,J=d*H+m*V+v*W;if(0===J)return this.set(0,0,0,0,0,0,0,0,0);const ee=1/J;return l[0]=H*ee,l[1]=(v*O-U*m)*ee,l[2]=(D*m-v*x)*ee,l[3]=V*ee,l[4]=(U*d-v*k)*ee,l[5]=(v*_-D*d)*ee,l[6]=W*ee,l[7]=(m*k-O*d)*ee,l[8]=(x*d-m*_)*ee,this}transpose(){let l;const d=this.elements;return l=d[1],d[1]=d[3],d[3]=l,l=d[2],d[2]=d[6],d[6]=l,l=d[5],d[5]=d[7],d[7]=l,this}getNormalMatrix(l){return this.setFromMatrix4(l).invert().transpose()}transposeIntoArray(l){const d=this.elements;return l[0]=d[0],l[1]=d[3],l[2]=d[6],l[3]=d[1],l[4]=d[4],l[5]=d[7],l[6]=d[2],l[7]=d[5],l[8]=d[8],this}setUvTransform(l,d,m,v,_,x,D){const k=Math.cos(_),O=Math.sin(_);return this.set(m*k,m*O,-m*(k*x+O*D)+x+l,-v*O,v*k,-v*(-O*x+k*D)+D+d,0,0,1),this}scale(l,d){const m=this.elements;return m[0]*=l,m[3]*=l,m[6]*=l,m[1]*=d,m[4]*=d,m[7]*=d,this}rotate(l){const d=Math.cos(l),m=Math.sin(l),v=this.elements,_=v[0],x=v[3],D=v[6],k=v[1],O=v[4],U=v[7];return v[0]=d*_+m*k,v[3]=d*x+m*O,v[6]=d*D+m*U,v[1]=-m*_+d*k,v[4]=-m*x+d*O,v[7]=-m*D+d*U,this}translate(l,d){const m=this.elements;return m[0]+=l*m[2],m[3]+=l*m[5],m[6]+=l*m[8],m[1]+=d*m[2],m[4]+=d*m[5],m[7]+=d*m[8],this}equals(l){const d=this.elements,m=l.elements;for(let v=0;v<9;v++)if(d[v]!==m[v])return!1;return!0}fromArray(l,d=0){for(let m=0;m<9;m++)this.elements[m]=l[m+d];return this}toArray(l=[],d=0){const m=this.elements;return l[d]=m[0],l[d+1]=m[1],l[d+2]=m[2],l[d+3]=m[3],l[d+4]=m[4],l[d+5]=m[5],l[d+6]=m[6],l[d+7]=m[7],l[d+8]=m[8],l}clone(){return(new this.constructor).fromArray(this.elements)}}let tu;Os.prototype.isMatrix3=!0;const oc={getDataURL:function(f){if(/^data:/i.test(f.src)||"undefined"==typeof HTMLCanvasElement)return f.src;let l;if(f instanceof HTMLCanvasElement)l=f;else{void 0===tu&&(tu=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),tu.width=f.width,tu.height=f.height;const d=tu.getContext("2d");f instanceof ImageData?d.putImageData(f,0,0):d.drawImage(f,0,0,f.width,f.height),l=tu}return l.width>2048||l.height>2048?l.toDataURL("image/jpeg",.6):l.toDataURL("image/png")}};let wh=0;class fo extends Yi{constructor(l=fo.DEFAULT_IMAGE,d=fo.DEFAULT_MAPPING,m=hn,v=hn,_=Ii,x=qi,D=Ko,k=ua,O=1,U=yn){super(),Object.defineProperty(this,"id",{value:wh++}),this.uuid=Dr.generateUUID(),this.name="",this.image=l,this.mipmaps=[],this.mapping=d,this.wrapS=m,this.wrapT=v,this.magFilter=_,this.minFilter=x,this.anisotropy=O,this.format=D,this.internalFormat=null,this.type=k,this.offset=new _n(0,0),this.repeat=new _n(1,1),this.center=new _n(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Os,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=U,this.version=0,this.onUpdate=null}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(l){return this.name=l.name,this.image=l.image,this.mipmaps=l.mipmaps.slice(0),this.mapping=l.mapping,this.wrapS=l.wrapS,this.wrapT=l.wrapT,this.magFilter=l.magFilter,this.minFilter=l.minFilter,this.anisotropy=l.anisotropy,this.format=l.format,this.internalFormat=l.internalFormat,this.type=l.type,this.offset.copy(l.offset),this.repeat.copy(l.repeat),this.center.copy(l.center),this.rotation=l.rotation,this.matrixAutoUpdate=l.matrixAutoUpdate,this.matrix.copy(l.matrix),this.generateMipmaps=l.generateMipmaps,this.premultiplyAlpha=l.premultiplyAlpha,this.flipY=l.flipY,this.unpackAlignment=l.unpackAlignment,this.encoding=l.encoding,this}toJSON(l){const d=void 0===l||"string"==typeof l;if(!d&&void 0!==l.textures[this.uuid])return l.textures[this.uuid];const m={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const v=this.image;if(void 0===v.uuid&&(v.uuid=Dr.generateUUID()),!d&&void 0===l.images[v.uuid]){let _;if(Array.isArray(v)){_=[];for(let x=0,D=v.length;x<D;x++)_.push(Ny(v[x].isDataTexture?v[x].image:v[x]))}else _=Ny(v);l.images[v.uuid]={uuid:v.uuid,url:_}}m.image=v.uuid}return d||(l.textures[this.uuid]=m),m}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(l){if(this.mapping!==lt)return l;if(l.applyMatrix3(this.matrix),l.x<0||l.x>1)switch(this.wrapS){case qt:l.x=l.x-Math.floor(l.x);break;case hn:l.x=l.x<0?0:1;break;case Sn:l.x=1===Math.abs(Math.floor(l.x)%2)?Math.ceil(l.x)-l.x:l.x-Math.floor(l.x)}if(l.y<0||l.y>1)switch(this.wrapT){case qt:l.y=l.y-Math.floor(l.y);break;case hn:l.y=l.y<0?0:1;break;case Sn:l.y=1===Math.abs(Math.floor(l.y)%2)?Math.ceil(l.y)-l.y:l.y-Math.floor(l.y)}return this.flipY&&(l.y=1-l.y),l}set needsUpdate(l){!0===l&&this.version++}}function Ny(f){return"undefined"!=typeof HTMLImageElement&&f instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&f instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&f instanceof ImageBitmap?oc.getDataURL(f):f.data?{data:Array.prototype.slice.call(f.data),width:f.width,height:f.height,type:f.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}fo.DEFAULT_IMAGE=void 0,fo.DEFAULT_MAPPING=lt,fo.prototype.isTexture=!0;class Di{constructor(l=0,d=0,m=0,v=1){this.x=l,this.y=d,this.z=m,this.w=v}get width(){return this.z}set width(l){this.z=l}get height(){return this.w}set height(l){this.w=l}set(l,d,m,v){return this.x=l,this.y=d,this.z=m,this.w=v,this}setScalar(l){return this.x=l,this.y=l,this.z=l,this.w=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setZ(l){return this.z=l,this}setW(l){return this.w=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;case 2:this.z=d;break;case 3:this.w=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(l){return this.x=l.x,this.y=l.y,this.z=l.z,this.w=void 0!==l.w?l.w:1,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this.z+=l.z,this.w+=l.w,this)}addScalar(l){return this.x+=l,this.y+=l,this.z+=l,this.w+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this.z=l.z+d.z,this.w=l.w+d.w,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this.z+=l.z*d,this.w+=l.w*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this.z-=l.z,this.w-=l.w,this)}subScalar(l){return this.x-=l,this.y-=l,this.z-=l,this.w-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this.z=l.z-d.z,this.w=l.w-d.w,this}multiply(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z,this.w*=l.w,this}multiplyScalar(l){return this.x*=l,this.y*=l,this.z*=l,this.w*=l,this}applyMatrix4(l){const d=this.x,m=this.y,v=this.z,_=this.w,x=l.elements;return this.x=x[0]*d+x[4]*m+x[8]*v+x[12]*_,this.y=x[1]*d+x[5]*m+x[9]*v+x[13]*_,this.z=x[2]*d+x[6]*m+x[10]*v+x[14]*_,this.w=x[3]*d+x[7]*m+x[11]*v+x[15]*_,this}divideScalar(l){return this.multiplyScalar(1/l)}setAxisAngleFromQuaternion(l){this.w=2*Math.acos(l.w);const d=Math.sqrt(1-l.w*l.w);return d<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=l.x/d,this.y=l.y/d,this.z=l.z/d),this}setAxisAngleFromRotationMatrix(l){let d,m,v,_;const k=l.elements,O=k[0],U=k[4],H=k[8],V=k[1],W=k[5],J=k[9],ee=k[2],se=k[6],ie=k[10];if(Math.abs(U-V)<.01&&Math.abs(H-ee)<.01&&Math.abs(J-se)<.01){if(Math.abs(U+V)<.1&&Math.abs(H+ee)<.1&&Math.abs(J+se)<.1&&Math.abs(O+W+ie-3)<.1)return this.set(1,0,0,0),this;d=Math.PI;const Re=(O+1)/2,xe=(W+1)/2,Ve=(ie+1)/2,Me=(U+V)/4,tt=(H+ee)/4,At=(J+se)/4;return Re>xe&&Re>Ve?Re<.01?(m=0,v=.707106781,_=.707106781):(m=Math.sqrt(Re),v=Me/m,_=tt/m):xe>Ve?xe<.01?(m=.707106781,v=0,_=.707106781):(v=Math.sqrt(xe),m=Me/v,_=At/v):Ve<.01?(m=.707106781,v=.707106781,_=0):(_=Math.sqrt(Ve),m=tt/_,v=At/_),this.set(m,v,_,d),this}let X=Math.sqrt((se-J)*(se-J)+(H-ee)*(H-ee)+(V-U)*(V-U));return Math.abs(X)<.001&&(X=1),this.x=(se-J)/X,this.y=(H-ee)/X,this.z=(V-U)/X,this.w=Math.acos((O+W+ie-1)/2),this}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this.w=Math.min(this.w,l.w),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this.w=Math.max(this.w,l.w),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this.z=Math.max(l.z,Math.min(d.z,this.z)),this.w=Math.max(l.w,Math.min(d.w,this.w)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this.z=Math.max(l,Math.min(d,this.z)),this.w=Math.max(l,Math.min(d,this.w)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(l){return this.x*l.x+this.y*l.y+this.z*l.z+this.w*l.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this.z+=(l.z-this.z)*d,this.w+=(l.w-this.w)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this.z=l.z+(d.z-l.z)*m,this.w=l.w+(d.w-l.w)*m,this}equals(l){return l.x===this.x&&l.y===this.y&&l.z===this.z&&l.w===this.w}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this.z=l[d+2],this.w=l[d+3],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l[d+2]=this.z,l[d+3]=this.w,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this.z=l.getZ(d),this.w=l.getW(d),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}Di.prototype.isVector4=!0;class qn extends Yi{constructor(l,d,m){super(),this.width=l,this.height=d,this.depth=1,this.scissor=new Di(0,0,l,d),this.scissorTest=!1,this.viewport=new Di(0,0,l,d),this.texture=new fo(void 0,(m=m||{}).mapping,m.wrapS,m.wrapT,m.magFilter,m.minFilter,m.format,m.type,m.anisotropy,m.encoding),this.texture.image={},this.texture.image.width=l,this.texture.image.height=d,this.texture.image.depth=1,this.texture.generateMipmaps=void 0!==m.generateMipmaps&&m.generateMipmaps,this.texture.minFilter=void 0!==m.minFilter?m.minFilter:Ii,this.depthBuffer=void 0===m.depthBuffer||m.depthBuffer,this.stencilBuffer=void 0!==m.stencilBuffer&&m.stencilBuffer,this.depthTexture=void 0!==m.depthTexture?m.depthTexture:null}setTexture(l){l.image={width:this.width,height:this.height,depth:this.depth},this.texture=l}setSize(l,d,m=1){(this.width!==l||this.height!==d||this.depth!==m)&&(this.width=l,this.height=d,this.depth=m,this.texture.image.width=l,this.texture.image.height=d,this.texture.image.depth=m,this.dispose()),this.viewport.set(0,0,l,d),this.scissor.set(0,0,l,d)}clone(){return(new this.constructor).copy(this)}copy(l){return this.width=l.width,this.height=l.height,this.depth=l.depth,this.viewport.copy(l.viewport),this.texture=l.texture.clone(),this.depthBuffer=l.depthBuffer,this.stencilBuffer=l.stencilBuffer,this.depthTexture=l.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}qn.prototype.isWebGLRenderTarget=!0;class bi extends qn{constructor(l,d,m){super(l,d,m),this.samples=4}copy(l){return super.copy.call(this,l),this.samples=l.samples,this}}bi.prototype.isWebGLMultisampleRenderTarget=!0;class Sr{constructor(l=0,d=0,m=0,v=1){this._x=l,this._y=d,this._z=m,this._w=v}static slerp(l,d,m,v){return m.copy(l).slerp(d,v)}static slerpFlat(l,d,m,v,_,x,D){let k=m[v+0],O=m[v+1],U=m[v+2],H=m[v+3];const V=_[x+0],W=_[x+1],J=_[x+2],ee=_[x+3];if(0===D)return l[d+0]=k,l[d+1]=O,l[d+2]=U,void(l[d+3]=H);if(1===D)return l[d+0]=V,l[d+1]=W,l[d+2]=J,void(l[d+3]=ee);if(H!==ee||k!==V||O!==W||U!==J){let se=1-D;const ie=k*V+O*W+U*J+H*ee,X=ie>=0?1:-1,Re=1-ie*ie;if(Re>Number.EPSILON){const Ve=Math.sqrt(Re),Me=Math.atan2(Ve,ie*X);se=Math.sin(se*Me)/Ve,D=Math.sin(D*Me)/Ve}const xe=D*X;if(k=k*se+V*xe,O=O*se+W*xe,U=U*se+J*xe,H=H*se+ee*xe,se===1-D){const Ve=1/Math.sqrt(k*k+O*O+U*U+H*H);k*=Ve,O*=Ve,U*=Ve,H*=Ve}}l[d]=k,l[d+1]=O,l[d+2]=U,l[d+3]=H}static multiplyQuaternionsFlat(l,d,m,v,_,x){const D=m[v],k=m[v+1],O=m[v+2],U=m[v+3],H=_[x],V=_[x+1],W=_[x+2],J=_[x+3];return l[d]=D*J+U*H+k*W-O*V,l[d+1]=k*J+U*V+O*H-D*W,l[d+2]=O*J+U*W+D*V-k*H,l[d+3]=U*J-D*H-k*V-O*W,l}get x(){return this._x}set x(l){this._x=l,this._onChangeCallback()}get y(){return this._y}set y(l){this._y=l,this._onChangeCallback()}get z(){return this._z}set z(l){this._z=l,this._onChangeCallback()}get w(){return this._w}set w(l){this._w=l,this._onChangeCallback()}set(l,d,m,v){return this._x=l,this._y=d,this._z=m,this._w=v,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(l){return this._x=l.x,this._y=l.y,this._z=l.z,this._w=l.w,this._onChangeCallback(),this}setFromEuler(l,d){if(!l||!l.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const m=l._x,v=l._y,_=l._z,x=l._order,D=Math.cos,k=Math.sin,O=D(m/2),U=D(v/2),H=D(_/2),V=k(m/2),W=k(v/2),J=k(_/2);switch(x){case"XYZ":this._x=V*U*H+O*W*J,this._y=O*W*H-V*U*J,this._z=O*U*J+V*W*H,this._w=O*U*H-V*W*J;break;case"YXZ":this._x=V*U*H+O*W*J,this._y=O*W*H-V*U*J,this._z=O*U*J-V*W*H,this._w=O*U*H+V*W*J;break;case"ZXY":this._x=V*U*H-O*W*J,this._y=O*W*H+V*U*J,this._z=O*U*J+V*W*H,this._w=O*U*H-V*W*J;break;case"ZYX":this._x=V*U*H-O*W*J,this._y=O*W*H+V*U*J,this._z=O*U*J-V*W*H,this._w=O*U*H+V*W*J;break;case"YZX":this._x=V*U*H+O*W*J,this._y=O*W*H+V*U*J,this._z=O*U*J-V*W*H,this._w=O*U*H-V*W*J;break;case"XZY":this._x=V*U*H-O*W*J,this._y=O*W*H-V*U*J,this._z=O*U*J+V*W*H,this._w=O*U*H+V*W*J;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+x)}return!1!==d&&this._onChangeCallback(),this}setFromAxisAngle(l,d){const m=d/2,v=Math.sin(m);return this._x=l.x*v,this._y=l.y*v,this._z=l.z*v,this._w=Math.cos(m),this._onChangeCallback(),this}setFromRotationMatrix(l){const d=l.elements,m=d[0],v=d[4],_=d[8],x=d[1],D=d[5],k=d[9],O=d[2],U=d[6],H=d[10],V=m+D+H;if(V>0){const W=.5/Math.sqrt(V+1);this._w=.25/W,this._x=(U-k)*W,this._y=(_-O)*W,this._z=(x-v)*W}else if(m>D&&m>H){const W=2*Math.sqrt(1+m-D-H);this._w=(U-k)/W,this._x=.25*W,this._y=(v+x)/W,this._z=(_+O)/W}else if(D>H){const W=2*Math.sqrt(1+D-m-H);this._w=(_-O)/W,this._x=(v+x)/W,this._y=.25*W,this._z=(k+U)/W}else{const W=2*Math.sqrt(1+H-m-D);this._w=(x-v)/W,this._x=(_+O)/W,this._y=(k+U)/W,this._z=.25*W}return this._onChangeCallback(),this}setFromUnitVectors(l,d){let v=l.dot(d)+1;return v<1e-6?(v=0,Math.abs(l.x)>Math.abs(l.z)?(this._x=-l.y,this._y=l.x,this._z=0,this._w=v):(this._x=0,this._y=-l.z,this._z=l.y,this._w=v)):(this._x=l.y*d.z-l.z*d.y,this._y=l.z*d.x-l.x*d.z,this._z=l.x*d.y-l.y*d.x,this._w=v),this.normalize()}angleTo(l){return 2*Math.acos(Math.abs(Dr.clamp(this.dot(l),-1,1)))}rotateTowards(l,d){const m=this.angleTo(l);if(0===m)return this;const v=Math.min(1,d/m);return this.slerp(l,v),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(l){return this._x*l._x+this._y*l._y+this._z*l._z+this._w*l._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let l=this.length();return 0===l?(this._x=0,this._y=0,this._z=0,this._w=1):(l=1/l,this._x=this._x*l,this._y=this._y*l,this._z=this._z*l,this._w=this._w*l),this._onChangeCallback(),this}multiply(l,d){return void 0!==d?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(l,d)):this.multiplyQuaternions(this,l)}premultiply(l){return this.multiplyQuaternions(l,this)}multiplyQuaternions(l,d){const m=l._x,v=l._y,_=l._z,x=l._w,D=d._x,k=d._y,O=d._z,U=d._w;return this._x=m*U+x*D+v*O-_*k,this._y=v*U+x*k+_*D-m*O,this._z=_*U+x*O+m*k-v*D,this._w=x*U-m*D-v*k-_*O,this._onChangeCallback(),this}slerp(l,d){if(0===d)return this;if(1===d)return this.copy(l);const m=this._x,v=this._y,_=this._z,x=this._w;let D=x*l._w+m*l._x+v*l._y+_*l._z;if(D<0?(this._w=-l._w,this._x=-l._x,this._y=-l._y,this._z=-l._z,D=-D):this.copy(l),D>=1)return this._w=x,this._x=m,this._y=v,this._z=_,this;const k=1-D*D;if(k<=Number.EPSILON){const W=1-d;return this._w=W*x+d*this._w,this._x=W*m+d*this._x,this._y=W*v+d*this._y,this._z=W*_+d*this._z,this.normalize(),this._onChangeCallback(),this}const O=Math.sqrt(k),U=Math.atan2(O,D),H=Math.sin((1-d)*U)/O,V=Math.sin(d*U)/O;return this._w=x*H+this._w*V,this._x=m*H+this._x*V,this._y=v*H+this._y*V,this._z=_*H+this._z*V,this._onChangeCallback(),this}equals(l){return l._x===this._x&&l._y===this._y&&l._z===this._z&&l._w===this._w}fromArray(l,d=0){return this._x=l[d],this._y=l[d+1],this._z=l[d+2],this._w=l[d+3],this._onChangeCallback(),this}toArray(l=[],d=0){return l[d]=this._x,l[d+1]=this._y,l[d+2]=this._z,l[d+3]=this._w,l}fromBufferAttribute(l,d){return this._x=l.getX(d),this._y=l.getY(d),this._z=l.getZ(d),this._w=l.getW(d),this}_onChange(l){return this._onChangeCallback=l,this}_onChangeCallback(){}}Sr.prototype.isQuaternion=!0;class Ce{constructor(l=0,d=0,m=0){this.x=l,this.y=d,this.z=m}set(l,d,m){return void 0===m&&(m=this.z),this.x=l,this.y=d,this.z=m,this}setScalar(l){return this.x=l,this.y=l,this.z=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setZ(l){return this.z=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;case 2:this.z=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(l){return this.x=l.x,this.y=l.y,this.z=l.z,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this.z+=l.z,this)}addScalar(l){return this.x+=l,this.y+=l,this.z+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this.z=l.z+d.z,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this.z+=l.z*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this.z-=l.z,this)}subScalar(l){return this.x-=l,this.y-=l,this.z-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this.z=l.z-d.z,this}multiply(l,d){return void 0!==d?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(l,d)):(this.x*=l.x,this.y*=l.y,this.z*=l.z,this)}multiplyScalar(l){return this.x*=l,this.y*=l,this.z*=l,this}multiplyVectors(l,d){return this.x=l.x*d.x,this.y=l.y*d.y,this.z=l.z*d.z,this}applyEuler(l){return l&&l.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Us.setFromEuler(l))}applyAxisAngle(l,d){return this.applyQuaternion(Us.setFromAxisAngle(l,d))}applyMatrix3(l){const d=this.x,m=this.y,v=this.z,_=l.elements;return this.x=_[0]*d+_[3]*m+_[6]*v,this.y=_[1]*d+_[4]*m+_[7]*v,this.z=_[2]*d+_[5]*m+_[8]*v,this}applyNormalMatrix(l){return this.applyMatrix3(l).normalize()}applyMatrix4(l){const d=this.x,m=this.y,v=this.z,_=l.elements,x=1/(_[3]*d+_[7]*m+_[11]*v+_[15]);return this.x=(_[0]*d+_[4]*m+_[8]*v+_[12])*x,this.y=(_[1]*d+_[5]*m+_[9]*v+_[13])*x,this.z=(_[2]*d+_[6]*m+_[10]*v+_[14])*x,this}applyQuaternion(l){const d=this.x,m=this.y,v=this.z,_=l.x,x=l.y,D=l.z,k=l.w,O=k*d+x*v-D*m,U=k*m+D*d-_*v,H=k*v+_*m-x*d,V=-_*d-x*m-D*v;return this.x=O*k+V*-_+U*-D-H*-x,this.y=U*k+V*-x+H*-_-O*-D,this.z=H*k+V*-D+O*-x-U*-_,this}project(l){return this.applyMatrix4(l.matrixWorldInverse).applyMatrix4(l.projectionMatrix)}unproject(l){return this.applyMatrix4(l.projectionMatrixInverse).applyMatrix4(l.matrixWorld)}transformDirection(l){const d=this.x,m=this.y,v=this.z,_=l.elements;return this.x=_[0]*d+_[4]*m+_[8]*v,this.y=_[1]*d+_[5]*m+_[9]*v,this.z=_[2]*d+_[6]*m+_[10]*v,this.normalize()}divide(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z,this}divideScalar(l){return this.multiplyScalar(1/l)}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this.z=Math.max(l.z,Math.min(d.z,this.z)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this.z=Math.max(l,Math.min(d,this.z)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(l){return this.x*l.x+this.y*l.y+this.z*l.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this.z+=(l.z-this.z)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this.z=l.z+(d.z-l.z)*m,this}cross(l,d){return void 0!==d?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(l,d)):this.crossVectors(this,l)}crossVectors(l,d){const m=l.x,v=l.y,_=l.z,x=d.x,D=d.y,k=d.z;return this.x=v*k-_*D,this.y=_*x-m*k,this.z=m*D-v*x,this}projectOnVector(l){const d=l.lengthSq();if(0===d)return this.set(0,0,0);const m=l.dot(this)/d;return this.copy(l).multiplyScalar(m)}projectOnPlane(l){return Fc.copy(this).projectOnVector(l),this.sub(Fc)}reflect(l){return this.sub(Fc.copy(l).multiplyScalar(2*this.dot(l)))}angleTo(l){const d=Math.sqrt(this.lengthSq()*l.lengthSq());if(0===d)return Math.PI/2;const m=this.dot(l)/d;return Math.acos(Dr.clamp(m,-1,1))}distanceTo(l){return Math.sqrt(this.distanceToSquared(l))}distanceToSquared(l){const d=this.x-l.x,m=this.y-l.y,v=this.z-l.z;return d*d+m*m+v*v}manhattanDistanceTo(l){return Math.abs(this.x-l.x)+Math.abs(this.y-l.y)+Math.abs(this.z-l.z)}setFromSpherical(l){return this.setFromSphericalCoords(l.radius,l.phi,l.theta)}setFromSphericalCoords(l,d,m){const v=Math.sin(d)*l;return this.x=v*Math.sin(m),this.y=Math.cos(d)*l,this.z=v*Math.cos(m),this}setFromCylindrical(l){return this.setFromCylindricalCoords(l.radius,l.theta,l.y)}setFromCylindricalCoords(l,d,m){return this.x=l*Math.sin(d),this.y=m,this.z=l*Math.cos(d),this}setFromMatrixPosition(l){const d=l.elements;return this.x=d[12],this.y=d[13],this.z=d[14],this}setFromMatrixScale(l){const d=this.setFromMatrixColumn(l,0).length(),m=this.setFromMatrixColumn(l,1).length(),v=this.setFromMatrixColumn(l,2).length();return this.x=d,this.y=m,this.z=v,this}setFromMatrixColumn(l,d){return this.fromArray(l.elements,4*d)}setFromMatrix3Column(l,d){return this.fromArray(l.elements,3*d)}equals(l){return l.x===this.x&&l.y===this.y&&l.z===this.z}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this.z=l[d+2],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l[d+2]=this.z,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this.z=l.getZ(d),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}Ce.prototype.isVector3=!0;const Fc=new Ce,Us=new Sr;class js{constructor(l=new Ce(1/0,1/0,1/0),d=new Ce(-1/0,-1/0,-1/0)){this.min=l,this.max=d}set(l,d){return this.min.copy(l),this.max.copy(d),this}setFromArray(l){let d=1/0,m=1/0,v=1/0,_=-1/0,x=-1/0,D=-1/0;for(let k=0,O=l.length;k<O;k+=3){const U=l[k],H=l[k+1],V=l[k+2];U<d&&(d=U),H<m&&(m=H),V<v&&(v=V),U>_&&(_=U),H>x&&(x=H),V>D&&(D=V)}return this.min.set(d,m,v),this.max.set(_,x,D),this}setFromBufferAttribute(l){let d=1/0,m=1/0,v=1/0,_=-1/0,x=-1/0,D=-1/0;for(let k=0,O=l.count;k<O;k++){const U=l.getX(k),H=l.getY(k),V=l.getZ(k);U<d&&(d=U),H<m&&(m=H),V<v&&(v=V),U>_&&(_=U),H>x&&(x=H),V>D&&(D=V)}return this.min.set(d,m,v),this.max.set(_,x,D),this}setFromPoints(l){this.makeEmpty();for(let d=0,m=l.length;d<m;d++)this.expandByPoint(l[d]);return this}setFromCenterAndSize(l,d){const m=Hc.copy(d).multiplyScalar(.5);return this.min.copy(l).sub(m),this.max.copy(l).add(m),this}setFromObject(l){return this.makeEmpty(),this.expandByObject(l)}clone(){return(new this.constructor).copy(this)}copy(l){return this.min.copy(l.min),this.max.copy(l.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(l){return void 0===l&&(console.warn("THREE.Box3: .getCenter() target is now required"),l=new Ce),this.isEmpty()?l.set(0,0,0):l.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(l){return void 0===l&&(console.warn("THREE.Box3: .getSize() target is now required"),l=new Ce),this.isEmpty()?l.set(0,0,0):l.subVectors(this.max,this.min)}expandByPoint(l){return this.min.min(l),this.max.max(l),this}expandByVector(l){return this.min.sub(l),this.max.add(l),this}expandByScalar(l){return this.min.addScalar(-l),this.max.addScalar(l),this}expandByObject(l){l.updateWorldMatrix(!1,!1);const d=l.geometry;void 0!==d&&(null===d.boundingBox&&d.computeBoundingBox(),nu.copy(d.boundingBox),nu.applyMatrix4(l.matrixWorld),this.union(nu));const m=l.children;for(let v=0,_=m.length;v<_;v++)this.expandByObject(m[v]);return this}containsPoint(l){return!(l.x<this.min.x||l.x>this.max.x||l.y<this.min.y||l.y>this.max.y||l.z<this.min.z||l.z>this.max.z)}containsBox(l){return this.min.x<=l.min.x&&l.max.x<=this.max.x&&this.min.y<=l.min.y&&l.max.y<=this.max.y&&this.min.z<=l.min.z&&l.max.z<=this.max.z}getParameter(l,d){return void 0===d&&(console.warn("THREE.Box3: .getParameter() target is now required"),d=new Ce),d.set((l.x-this.min.x)/(this.max.x-this.min.x),(l.y-this.min.y)/(this.max.y-this.min.y),(l.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(l){return!(l.max.x<this.min.x||l.min.x>this.max.x||l.max.y<this.min.y||l.min.y>this.max.y||l.max.z<this.min.z||l.min.z>this.max.z)}intersectsSphere(l){return this.clampPoint(l.center,Hc),Hc.distanceToSquared(l.center)<=l.radius*l.radius}intersectsPlane(l){let d,m;return l.normal.x>0?(d=l.normal.x*this.min.x,m=l.normal.x*this.max.x):(d=l.normal.x*this.max.x,m=l.normal.x*this.min.x),l.normal.y>0?(d+=l.normal.y*this.min.y,m+=l.normal.y*this.max.y):(d+=l.normal.y*this.max.y,m+=l.normal.y*this.min.y),l.normal.z>0?(d+=l.normal.z*this.min.z,m+=l.normal.z*this.max.z):(d+=l.normal.z*this.max.z,m+=l.normal.z*this.min.z),d<=-l.constant&&m>=-l.constant}intersectsTriangle(l){if(this.isEmpty())return!1;this.getCenter(Vc),sc.subVectors(this.max,Vc),gi.subVectors(l.a,Vc),Bc.subVectors(l.b,Vc),xu.subVectors(l.c,Vc),Hl.subVectors(Bc,gi),ga.subVectors(xu,Bc),ds.subVectors(gi,xu);let d=[0,-Hl.z,Hl.y,0,-ga.z,ga.y,0,-ds.z,ds.y,Hl.z,0,-Hl.x,ga.z,0,-ga.x,ds.z,0,-ds.x,-Hl.y,Hl.x,0,-ga.y,ga.x,0,-ds.y,ds.x,0];return!(!gf(d,gi,Bc,xu,sc)||(d=[1,0,0,0,1,0,0,0,1],!gf(d,gi,Bc,xu,sc)))&&(gl.crossVectors(Hl,ga),d=[gl.x,gl.y,gl.z],gf(d,gi,Bc,xu,sc))}clampPoint(l,d){return void 0===d&&(console.warn("THREE.Box3: .clampPoint() target is now required"),d=new Ce),d.copy(l).clamp(this.min,this.max)}distanceToPoint(l){return Hc.copy(l).clamp(this.min,this.max).sub(l).length()}getBoundingSphere(l){return void 0===l&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(l.center),l.radius=.5*this.getSize(Hc).length(),l}intersect(l){return this.min.max(l.min),this.max.min(l.max),this.isEmpty()&&this.makeEmpty(),this}union(l){return this.min.min(l.min),this.max.max(l.max),this}applyMatrix4(l){return this.isEmpty()||(Bo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(l),Bo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(l),Bo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(l),Bo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(l),Bo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(l),Bo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(l),Bo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(l),Bo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(l),this.setFromPoints(Bo)),this}translate(l){return this.min.add(l),this.max.add(l),this}equals(l){return l.min.equals(this.min)&&l.max.equals(this.max)}}js.prototype.isBox3=!0;const Bo=[new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce],Hc=new Ce,nu=new js,gi=new Ce,Bc=new Ce,xu=new Ce,Hl=new Ce,ga=new Ce,ds=new Ce,Vc=new Ce,sc=new Ce,gl=new Ce,vl=new Ce;function gf(f,l,d,m,v){for(let _=0,x=f.length-3;_<=x;_+=3){vl.fromArray(f,_);const D=v.x*Math.abs(vl.x)+v.y*Math.abs(vl.y)+v.z*Math.abs(vl.z),k=l.dot(vl),O=d.dot(vl),U=m.dot(vl);if(Math.max(-Math.max(k,O,U),Math.min(k,O,U))>D)return!1}return!0}const Xo=new js;class Cd{constructor(l=new Ce,d=-1){this.center=l,this.radius=d}set(l,d){return this.center.copy(l),this.radius=d,this}setFromPoints(l,d){const m=this.center;void 0!==d?m.copy(d):Xo.setFromPoints(l).getCenter(m);let v=0;for(let _=0,x=l.length;_<x;_++)v=Math.max(v,m.distanceToSquared(l[_]));return this.radius=Math.sqrt(v),this}copy(l){return this.center.copy(l.center),this.radius=l.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(l){return l.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(l){return l.distanceTo(this.center)-this.radius}intersectsSphere(l){const d=this.radius+l.radius;return l.center.distanceToSquared(this.center)<=d*d}intersectsBox(l){return l.intersectsSphere(this)}intersectsPlane(l){return Math.abs(l.distanceToPoint(this.center))<=this.radius}clampPoint(l,d){const m=this.center.distanceToSquared(l);return void 0===d&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),d=new Ce),d.copy(l),m>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center)),d}getBoundingBox(l){return void 0===l&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),l=new js),this.isEmpty()?(l.makeEmpty(),l):(l.set(this.center,this.center),l.expandByScalar(this.radius),l)}applyMatrix4(l){return this.center.applyMatrix4(l),this.radius=this.radius*l.getMaxScaleOnAxis(),this}translate(l){return this.center.add(l),this}equals(l){return l.center.equals(this.center)&&l.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const zc=new Ce,ka=new Ce,yl=new Ce,ac=new Ce,vf=new Ce,Mh=new Ce,Bl=new Ce;class Ed{constructor(l=new Ce,d=new Ce(0,0,-1)){this.origin=l,this.direction=d}set(l,d){return this.origin.copy(l),this.direction.copy(d),this}copy(l){return this.origin.copy(l.origin),this.direction.copy(l.direction),this}at(l,d){return void 0===d&&(console.warn("THREE.Ray: .at() target is now required"),d=new Ce),d.copy(this.direction).multiplyScalar(l).add(this.origin)}lookAt(l){return this.direction.copy(l).sub(this.origin).normalize(),this}recast(l){return this.origin.copy(this.at(l,zc)),this}closestPointToPoint(l,d){void 0===d&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),d=new Ce),d.subVectors(l,this.origin);const m=d.dot(this.direction);return m<0?d.copy(this.origin):d.copy(this.direction).multiplyScalar(m).add(this.origin)}distanceToPoint(l){return Math.sqrt(this.distanceSqToPoint(l))}distanceSqToPoint(l){const d=zc.subVectors(l,this.origin).dot(this.direction);return d<0?this.origin.distanceToSquared(l):(zc.copy(this.direction).multiplyScalar(d).add(this.origin),zc.distanceToSquared(l))}distanceSqToSegment(l,d,m,v){ka.copy(l).add(d).multiplyScalar(.5),yl.copy(d).sub(l).normalize(),ac.copy(this.origin).sub(ka);const _=.5*l.distanceTo(d),x=-this.direction.dot(yl),D=ac.dot(this.direction),k=-ac.dot(yl),O=ac.lengthSq(),U=Math.abs(1-x*x);let H,V,W,J;if(U>0)if(H=x*k-D,V=x*D-k,J=_*U,H>=0)if(V>=-J)if(V<=J){const ee=1/U;H*=ee,V*=ee,W=H*(H+x*V+2*D)+V*(x*H+V+2*k)+O}else V=_,H=Math.max(0,-(x*V+D)),W=-H*H+V*(V+2*k)+O;else V=-_,H=Math.max(0,-(x*V+D)),W=-H*H+V*(V+2*k)+O;else V<=-J?(H=Math.max(0,-(-x*_+D)),V=H>0?-_:Math.min(Math.max(-_,-k),_),W=-H*H+V*(V+2*k)+O):V<=J?(H=0,V=Math.min(Math.max(-_,-k),_),W=V*(V+2*k)+O):(H=Math.max(0,-(x*_+D)),V=H>0?_:Math.min(Math.max(-_,-k),_),W=-H*H+V*(V+2*k)+O);else V=x>0?-_:_,H=Math.max(0,-(x*V+D)),W=-H*H+V*(V+2*k)+O;return m&&m.copy(this.direction).multiplyScalar(H).add(this.origin),v&&v.copy(yl).multiplyScalar(V).add(ka),W}intersectSphere(l,d){zc.subVectors(l.center,this.origin);const m=zc.dot(this.direction),v=zc.dot(zc)-m*m,_=l.radius*l.radius;if(v>_)return null;const x=Math.sqrt(_-v),D=m-x,k=m+x;return D<0&&k<0?null:this.at(D<0?k:D,d)}intersectsSphere(l){return this.distanceSqToPoint(l.center)<=l.radius*l.radius}distanceToPlane(l){const d=l.normal.dot(this.direction);if(0===d)return 0===l.distanceToPoint(this.origin)?0:null;const m=-(this.origin.dot(l.normal)+l.constant)/d;return m>=0?m:null}intersectPlane(l,d){const m=this.distanceToPlane(l);return null===m?null:this.at(m,d)}intersectsPlane(l){const d=l.distanceToPoint(this.origin);return 0===d||l.normal.dot(this.direction)*d<0}intersectBox(l,d){let m,v,_,x,D,k;const O=1/this.direction.x,U=1/this.direction.y,H=1/this.direction.z,V=this.origin;return O>=0?(m=(l.min.x-V.x)*O,v=(l.max.x-V.x)*O):(m=(l.max.x-V.x)*O,v=(l.min.x-V.x)*O),U>=0?(_=(l.min.y-V.y)*U,x=(l.max.y-V.y)*U):(_=(l.max.y-V.y)*U,x=(l.min.y-V.y)*U),m>x||_>v||((_>m||m!=m)&&(m=_),(x<v||v!=v)&&(v=x),H>=0?(D=(l.min.z-V.z)*H,k=(l.max.z-V.z)*H):(D=(l.max.z-V.z)*H,k=(l.min.z-V.z)*H),m>k||D>v)||((D>m||m!=m)&&(m=D),(k<v||v!=v)&&(v=k),v<0)?null:this.at(m>=0?m:v,d)}intersectsBox(l){return null!==this.intersectBox(l,zc)}intersectTriangle(l,d,m,v,_){vf.subVectors(d,l),Mh.subVectors(m,l),Bl.crossVectors(vf,Mh);let D,x=this.direction.dot(Bl);if(x>0){if(v)return null;D=1}else{if(!(x<0))return null;D=-1,x=-x}ac.subVectors(this.origin,l);const k=D*this.direction.dot(Mh.crossVectors(ac,Mh));if(k<0)return null;const O=D*this.direction.dot(vf.cross(ac));if(O<0||k+O>x)return null;const U=-D*ac.dot(Bl);return U<0?null:this.at(U/x,_)}applyMatrix4(l){return this.origin.applyMatrix4(l),this.direction.transformDirection(l),this}equals(l){return l.origin.equals(this.origin)&&l.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Br{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(l,d,m,v,_,x,D,k,O,U,H,V,W,J,ee,se){const ie=this.elements;return ie[0]=l,ie[4]=d,ie[8]=m,ie[12]=v,ie[1]=_,ie[5]=x,ie[9]=D,ie[13]=k,ie[2]=O,ie[6]=U,ie[10]=H,ie[14]=V,ie[3]=W,ie[7]=J,ie[11]=ee,ie[15]=se,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Br).fromArray(this.elements)}copy(l){const d=this.elements,m=l.elements;return d[0]=m[0],d[1]=m[1],d[2]=m[2],d[3]=m[3],d[4]=m[4],d[5]=m[5],d[6]=m[6],d[7]=m[7],d[8]=m[8],d[9]=m[9],d[10]=m[10],d[11]=m[11],d[12]=m[12],d[13]=m[13],d[14]=m[14],d[15]=m[15],this}copyPosition(l){const d=this.elements,m=l.elements;return d[12]=m[12],d[13]=m[13],d[14]=m[14],this}setFromMatrix3(l){const d=l.elements;return this.set(d[0],d[3],d[6],0,d[1],d[4],d[7],0,d[2],d[5],d[8],0,0,0,0,1),this}extractBasis(l,d,m){return l.setFromMatrixColumn(this,0),d.setFromMatrixColumn(this,1),m.setFromMatrixColumn(this,2),this}makeBasis(l,d,m){return this.set(l.x,d.x,m.x,0,l.y,d.y,m.y,0,l.z,d.z,m.z,0,0,0,0,1),this}extractRotation(l){const d=this.elements,m=l.elements,v=1/Sh.setFromMatrixColumn(l,0).length(),_=1/Sh.setFromMatrixColumn(l,1).length(),x=1/Sh.setFromMatrixColumn(l,2).length();return d[0]=m[0]*v,d[1]=m[1]*v,d[2]=m[2]*v,d[3]=0,d[4]=m[4]*_,d[5]=m[5]*_,d[6]=m[6]*_,d[7]=0,d[8]=m[8]*x,d[9]=m[9]*x,d[10]=m[10]*x,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,this}makeRotationFromEuler(l){l&&l.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const d=this.elements,m=l.x,v=l.y,_=l.z,x=Math.cos(m),D=Math.sin(m),k=Math.cos(v),O=Math.sin(v),U=Math.cos(_),H=Math.sin(_);if("XYZ"===l.order){const V=x*U,W=x*H,J=D*U,ee=D*H;d[0]=k*U,d[4]=-k*H,d[8]=O,d[1]=W+J*O,d[5]=V-ee*O,d[9]=-D*k,d[2]=ee-V*O,d[6]=J+W*O,d[10]=x*k}else if("YXZ"===l.order){const V=k*U,W=k*H,J=O*U,ee=O*H;d[0]=V+ee*D,d[4]=J*D-W,d[8]=x*O,d[1]=x*H,d[5]=x*U,d[9]=-D,d[2]=W*D-J,d[6]=ee+V*D,d[10]=x*k}else if("ZXY"===l.order){const V=k*U,W=k*H,J=O*U,ee=O*H;d[0]=V-ee*D,d[4]=-x*H,d[8]=J+W*D,d[1]=W+J*D,d[5]=x*U,d[9]=ee-V*D,d[2]=-x*O,d[6]=D,d[10]=x*k}else if("ZYX"===l.order){const V=x*U,W=x*H,J=D*U,ee=D*H;d[0]=k*U,d[4]=J*O-W,d[8]=V*O+ee,d[1]=k*H,d[5]=ee*O+V,d[9]=W*O-J,d[2]=-O,d[6]=D*k,d[10]=x*k}else if("YZX"===l.order){const V=x*k,W=x*O,J=D*k,ee=D*O;d[0]=k*U,d[4]=ee-V*H,d[8]=J*H+W,d[1]=H,d[5]=x*U,d[9]=-D*U,d[2]=-O*U,d[6]=W*H+J,d[10]=V-ee*H}else if("XZY"===l.order){const V=x*k,W=x*O,J=D*k,ee=D*O;d[0]=k*U,d[4]=-H,d[8]=O*U,d[1]=V*H+ee,d[5]=x*U,d[9]=W*H-J,d[2]=J*H-W,d[6]=D*U,d[10]=ee*H+V}return d[3]=0,d[7]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,this}makeRotationFromQuaternion(l){return this.compose(wR,l,lc)}lookAt(l,d,m){const v=this.elements;return ru.subVectors(l,d),0===ru.lengthSq()&&(ru.z=1),ru.normalize(),Vl.crossVectors(m,ru),0===Vl.lengthSq()&&(1===Math.abs(m.z)?ru.x+=1e-4:ru.z+=1e-4,ru.normalize(),Vl.crossVectors(m,ru)),Vl.normalize(),wg.crossVectors(ru,Vl),v[0]=Vl.x,v[4]=wg.x,v[8]=ru.x,v[1]=Vl.y,v[5]=wg.y,v[9]=ru.y,v[2]=Vl.z,v[6]=wg.z,v[10]=ru.z,this}multiply(l,d){return void 0!==d?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(l,d)):this.multiplyMatrices(this,l)}premultiply(l){return this.multiplyMatrices(l,this)}multiplyMatrices(l,d){const m=l.elements,v=d.elements,_=this.elements,x=m[0],D=m[4],k=m[8],O=m[12],U=m[1],H=m[5],V=m[9],W=m[13],J=m[2],ee=m[6],se=m[10],ie=m[14],X=m[3],Re=m[7],xe=m[11],Ve=m[15],Me=v[0],tt=v[4],At=v[8],wt=v[12],st=v[1],Ut=v[5],en=v[9],zt=v[13],Tt=v[2],jt=v[6],Gt=v[10],Fn=v[14],Gn=v[3],$n=v[7],Ir=v[11],Tr=v[15];return _[0]=x*Me+D*st+k*Tt+O*Gn,_[4]=x*tt+D*Ut+k*jt+O*$n,_[8]=x*At+D*en+k*Gt+O*Ir,_[12]=x*wt+D*zt+k*Fn+O*Tr,_[1]=U*Me+H*st+V*Tt+W*Gn,_[5]=U*tt+H*Ut+V*jt+W*$n,_[9]=U*At+H*en+V*Gt+W*Ir,_[13]=U*wt+H*zt+V*Fn+W*Tr,_[2]=J*Me+ee*st+se*Tt+ie*Gn,_[6]=J*tt+ee*Ut+se*jt+ie*$n,_[10]=J*At+ee*en+se*Gt+ie*Ir,_[14]=J*wt+ee*zt+se*Fn+ie*Tr,_[3]=X*Me+Re*st+xe*Tt+Ve*Gn,_[7]=X*tt+Re*Ut+xe*jt+Ve*$n,_[11]=X*At+Re*en+xe*Gt+Ve*Ir,_[15]=X*wt+Re*zt+xe*Fn+Ve*Tr,this}multiplyScalar(l){const d=this.elements;return d[0]*=l,d[4]*=l,d[8]*=l,d[12]*=l,d[1]*=l,d[5]*=l,d[9]*=l,d[13]*=l,d[2]*=l,d[6]*=l,d[10]*=l,d[14]*=l,d[3]*=l,d[7]*=l,d[11]*=l,d[15]*=l,this}determinant(){const l=this.elements,d=l[0],m=l[4],v=l[8],_=l[12],x=l[1],D=l[5],k=l[9],O=l[13],U=l[2],H=l[6],V=l[10],W=l[14];return l[3]*(+_*k*H-v*O*H-_*D*V+m*O*V+v*D*W-m*k*W)+l[7]*(+d*k*W-d*O*V+_*x*V-v*x*W+v*O*U-_*k*U)+l[11]*(+d*O*H-d*D*W-_*x*H+m*x*W+_*D*U-m*O*U)+l[15]*(-v*D*U-d*k*H+d*D*V+v*x*H-m*x*V+m*k*U)}transpose(){const l=this.elements;let d;return d=l[1],l[1]=l[4],l[4]=d,d=l[2],l[2]=l[8],l[8]=d,d=l[6],l[6]=l[9],l[9]=d,d=l[3],l[3]=l[12],l[12]=d,d=l[7],l[7]=l[13],l[13]=d,d=l[11],l[11]=l[14],l[14]=d,this}setPosition(l,d,m){const v=this.elements;return l.isVector3?(v[12]=l.x,v[13]=l.y,v[14]=l.z):(v[12]=l,v[13]=d,v[14]=m),this}invert(){const l=this.elements,d=l[0],m=l[1],v=l[2],_=l[3],x=l[4],D=l[5],k=l[6],O=l[7],U=l[8],H=l[9],V=l[10],W=l[11],J=l[12],ee=l[13],se=l[14],ie=l[15],X=H*se*O-ee*V*O+ee*k*W-D*se*W-H*k*ie+D*V*ie,Re=J*V*O-U*se*O-J*k*W+x*se*W+U*k*ie-x*V*ie,xe=U*ee*O-J*H*O+J*D*W-x*ee*W-U*D*ie+x*H*ie,Ve=J*H*k-U*ee*k-J*D*V+x*ee*V+U*D*se-x*H*se,Me=d*X+m*Re+v*xe+_*Ve;if(0===Me)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const tt=1/Me;return l[0]=X*tt,l[1]=(ee*V*_-H*se*_-ee*v*W+m*se*W+H*v*ie-m*V*ie)*tt,l[2]=(D*se*_-ee*k*_+ee*v*O-m*se*O-D*v*ie+m*k*ie)*tt,l[3]=(H*k*_-D*V*_-H*v*O+m*V*O+D*v*W-m*k*W)*tt,l[4]=Re*tt,l[5]=(U*se*_-J*V*_+J*v*W-d*se*W-U*v*ie+d*V*ie)*tt,l[6]=(J*k*_-x*se*_-J*v*O+d*se*O+x*v*ie-d*k*ie)*tt,l[7]=(x*V*_-U*k*_+U*v*O-d*V*O-x*v*W+d*k*W)*tt,l[8]=xe*tt,l[9]=(J*H*_-U*ee*_-J*m*W+d*ee*W+U*m*ie-d*H*ie)*tt,l[10]=(x*ee*_-J*D*_+J*m*O-d*ee*O-x*m*ie+d*D*ie)*tt,l[11]=(U*D*_-x*H*_-U*m*O+d*H*O+x*m*W-d*D*W)*tt,l[12]=Ve*tt,l[13]=(U*ee*v-J*H*v+J*m*V-d*ee*V-U*m*se+d*H*se)*tt,l[14]=(J*D*v-x*ee*v-J*m*k+d*ee*k+x*m*se-d*D*se)*tt,l[15]=(x*H*v-U*D*v+U*m*k-d*H*k-x*m*V+d*D*V)*tt,this}scale(l){const d=this.elements,m=l.x,v=l.y,_=l.z;return d[0]*=m,d[4]*=v,d[8]*=_,d[1]*=m,d[5]*=v,d[9]*=_,d[2]*=m,d[6]*=v,d[10]*=_,d[3]*=m,d[7]*=v,d[11]*=_,this}getMaxScaleOnAxis(){const l=this.elements;return Math.sqrt(Math.max(l[0]*l[0]+l[1]*l[1]+l[2]*l[2],l[4]*l[4]+l[5]*l[5]+l[6]*l[6],l[8]*l[8]+l[9]*l[9]+l[10]*l[10]))}makeTranslation(l,d,m){return this.set(1,0,0,l,0,1,0,d,0,0,1,m,0,0,0,1),this}makeRotationX(l){const d=Math.cos(l),m=Math.sin(l);return this.set(1,0,0,0,0,d,-m,0,0,m,d,0,0,0,0,1),this}makeRotationY(l){const d=Math.cos(l),m=Math.sin(l);return this.set(d,0,m,0,0,1,0,0,-m,0,d,0,0,0,0,1),this}makeRotationZ(l){const d=Math.cos(l),m=Math.sin(l);return this.set(d,-m,0,0,m,d,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(l,d){const m=Math.cos(d),v=Math.sin(d),_=1-m,x=l.x,D=l.y,k=l.z,O=_*x,U=_*D;return this.set(O*x+m,O*D-v*k,O*k+v*D,0,O*D+v*k,U*D+m,U*k-v*x,0,O*k-v*D,U*k+v*x,_*k*k+m,0,0,0,0,1),this}makeScale(l,d,m){return this.set(l,0,0,0,0,d,0,0,0,0,m,0,0,0,0,1),this}makeShear(l,d,m){return this.set(1,d,m,0,l,1,m,0,l,d,1,0,0,0,0,1),this}compose(l,d,m){const v=this.elements,_=d._x,x=d._y,D=d._z,k=d._w,O=_+_,U=x+x,H=D+D,V=_*O,W=_*U,J=_*H,ee=x*U,se=x*H,ie=D*H,X=k*O,Re=k*U,xe=k*H,Ve=m.x,Me=m.y,tt=m.z;return v[0]=(1-(ee+ie))*Ve,v[1]=(W+xe)*Ve,v[2]=(J-Re)*Ve,v[3]=0,v[4]=(W-xe)*Me,v[5]=(1-(V+ie))*Me,v[6]=(se+X)*Me,v[7]=0,v[8]=(J+Re)*tt,v[9]=(se-X)*tt,v[10]=(1-(V+ee))*tt,v[11]=0,v[12]=l.x,v[13]=l.y,v[14]=l.z,v[15]=1,this}decompose(l,d,m){const v=this.elements;let _=Sh.set(v[0],v[1],v[2]).length();const x=Sh.set(v[4],v[5],v[6]).length(),D=Sh.set(v[8],v[9],v[10]).length();this.determinant()<0&&(_=-_),l.x=v[12],l.y=v[13],l.z=v[14],Cu.copy(this);const O=1/_,U=1/x,H=1/D;return Cu.elements[0]*=O,Cu.elements[1]*=O,Cu.elements[2]*=O,Cu.elements[4]*=U,Cu.elements[5]*=U,Cu.elements[6]*=U,Cu.elements[8]*=H,Cu.elements[9]*=H,Cu.elements[10]*=H,d.setFromRotationMatrix(Cu),m.x=_,m.y=x,m.z=D,this}makePerspective(l,d,m,v,_,x){void 0===x&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const D=this.elements,O=2*_/(m-v),U=(d+l)/(d-l),H=(m+v)/(m-v),V=-(x+_)/(x-_),W=-2*x*_/(x-_);return D[0]=2*_/(d-l),D[4]=0,D[8]=U,D[12]=0,D[1]=0,D[5]=O,D[9]=H,D[13]=0,D[2]=0,D[6]=0,D[10]=V,D[14]=W,D[3]=0,D[7]=0,D[11]=-1,D[15]=0,this}makeOrthographic(l,d,m,v,_,x){const D=this.elements,k=1/(d-l),O=1/(m-v),U=1/(x-_),H=(d+l)*k,V=(m+v)*O,W=(x+_)*U;return D[0]=2*k,D[4]=0,D[8]=0,D[12]=-H,D[1]=0,D[5]=2*O,D[9]=0,D[13]=-V,D[2]=0,D[6]=0,D[10]=-2*U,D[14]=-W,D[3]=0,D[7]=0,D[11]=0,D[15]=1,this}equals(l){const d=this.elements,m=l.elements;for(let v=0;v<16;v++)if(d[v]!==m[v])return!1;return!0}fromArray(l,d=0){for(let m=0;m<16;m++)this.elements[m]=l[m+d];return this}toArray(l=[],d=0){const m=this.elements;return l[d]=m[0],l[d+1]=m[1],l[d+2]=m[2],l[d+3]=m[3],l[d+4]=m[4],l[d+5]=m[5],l[d+6]=m[6],l[d+7]=m[7],l[d+8]=m[8],l[d+9]=m[9],l[d+10]=m[10],l[d+11]=m[11],l[d+12]=m[12],l[d+13]=m[13],l[d+14]=m[14],l[d+15]=m[15],l}}Br.prototype.isMatrix4=!0;const Sh=new Ce,Cu=new Br,wR=new Ce(0,0,0),lc=new Ce(1,1,1),Vl=new Ce,wg=new Ce,ru=new Ce,jw=new Br,Ww=new Sr;class yf{constructor(l=0,d=0,m=0,v=yf.DefaultOrder){this._x=l,this._y=d,this._z=m,this._order=v}get x(){return this._x}set x(l){this._x=l,this._onChangeCallback()}get y(){return this._y}set y(l){this._y=l,this._onChangeCallback()}get z(){return this._z}set z(l){this._z=l,this._onChangeCallback()}get order(){return this._order}set order(l){this._order=l,this._onChangeCallback()}set(l,d,m,v){return this._x=l,this._y=d,this._z=m,this._order=v||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(l){return this._x=l._x,this._y=l._y,this._z=l._z,this._order=l._order,this._onChangeCallback(),this}setFromRotationMatrix(l,d,m){const v=Dr.clamp,_=l.elements,x=_[0],D=_[4],k=_[8],O=_[1],U=_[5],H=_[9],V=_[2],W=_[6],J=_[10];switch(d=d||this._order){case"XYZ":this._y=Math.asin(v(k,-1,1)),Math.abs(k)<.9999999?(this._x=Math.atan2(-H,J),this._z=Math.atan2(-D,x)):(this._x=Math.atan2(W,U),this._z=0);break;case"YXZ":this._x=Math.asin(-v(H,-1,1)),Math.abs(H)<.9999999?(this._y=Math.atan2(k,J),this._z=Math.atan2(O,U)):(this._y=Math.atan2(-V,x),this._z=0);break;case"ZXY":this._x=Math.asin(v(W,-1,1)),Math.abs(W)<.9999999?(this._y=Math.atan2(-V,J),this._z=Math.atan2(-D,U)):(this._y=0,this._z=Math.atan2(O,x));break;case"ZYX":this._y=Math.asin(-v(V,-1,1)),Math.abs(V)<.9999999?(this._x=Math.atan2(W,J),this._z=Math.atan2(O,x)):(this._x=0,this._z=Math.atan2(-D,U));break;case"YZX":this._z=Math.asin(v(O,-1,1)),Math.abs(O)<.9999999?(this._x=Math.atan2(-H,U),this._y=Math.atan2(-V,x)):(this._x=0,this._y=Math.atan2(k,J));break;case"XZY":this._z=Math.asin(-v(D,-1,1)),Math.abs(D)<.9999999?(this._x=Math.atan2(W,U),this._y=Math.atan2(k,x)):(this._x=Math.atan2(-H,J),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+d)}return this._order=d,!1!==m&&this._onChangeCallback(),this}setFromQuaternion(l,d,m){return jw.makeRotationFromQuaternion(l),this.setFromRotationMatrix(jw,d,m)}setFromVector3(l,d){return this.set(l.x,l.y,l.z,d||this._order)}reorder(l){return Ww.setFromEuler(this),this.setFromQuaternion(Ww,l)}equals(l){return l._x===this._x&&l._y===this._y&&l._z===this._z&&l._order===this._order}fromArray(l){return this._x=l[0],this._y=l[1],this._z=l[2],void 0!==l[3]&&(this._order=l[3]),this._onChangeCallback(),this}toArray(l=[],d=0){return l[d]=this._x,l[d+1]=this._y,l[d+2]=this._z,l[d+3]=this._order,l}toVector3(l){return l?l.set(this._x,this._y,this._z):new Ce(this._x,this._y,this._z)}_onChange(l){return this._onChangeCallback=l,this}_onChangeCallback(){}}yf.prototype.isEuler=!0,yf.DefaultOrder="XYZ",yf.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Yw{constructor(){this.mask=1}set(l){this.mask=1<<l|0}enable(l){this.mask|=1<<l|0}enableAll(){this.mask=-1}toggle(l){this.mask^=1<<l|0}disable(l){this.mask&=~(1<<l|0)}disableAll(){this.mask=0}test(l){return 0!=(this.mask&l.mask)}}let Zx=0;const qx=new Ce,Dp=new Sr,Td=new Br,Fy=new Ce,_f=new Ce,Hy=new Ce,MR=new Sr,Jx=new Ce(1,0,0),Qx=new Ce(0,1,0),Rd=new Ce(0,0,1),eC={type:"added"},Ws={type:"removed"};function Zr(){Object.defineProperty(this,"id",{value:Zx++}),this.uuid=Dr.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zr.DefaultUp.clone();const f=new Ce,l=new yf,d=new Sr,m=new Ce(1,1,1);l._onChange(function v(){d.setFromEuler(l,!1)}),d._onChange(function _(){l.setFromQuaternion(d,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:f},rotation:{configurable:!0,enumerable:!0,value:l},quaternion:{configurable:!0,enumerable:!0,value:d},scale:{configurable:!0,enumerable:!0,value:m},modelViewMatrix:{value:new Br},normalMatrix:{value:new Os}}),this.matrix=new Br,this.matrixWorld=new Br,this.matrixAutoUpdate=Zr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Yw,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Zr.DefaultUp=new Ce(0,1,0),Zr.DefaultMatrixAutoUpdate=!0,Zr.prototype=Object.assign(Object.create(Yi.prototype),{constructor:Zr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(f){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(f),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(f){return this.quaternion.premultiply(f),this},setRotationFromAxisAngle:function(f,l){this.quaternion.setFromAxisAngle(f,l)},setRotationFromEuler:function(f){this.quaternion.setFromEuler(f,!0)},setRotationFromMatrix:function(f){this.quaternion.setFromRotationMatrix(f)},setRotationFromQuaternion:function(f){this.quaternion.copy(f)},rotateOnAxis:function(f,l){return Dp.setFromAxisAngle(f,l),this.quaternion.multiply(Dp),this},rotateOnWorldAxis:function(f,l){return Dp.setFromAxisAngle(f,l),this.quaternion.premultiply(Dp),this},rotateX:function(f){return this.rotateOnAxis(Jx,f)},rotateY:function(f){return this.rotateOnAxis(Qx,f)},rotateZ:function(f){return this.rotateOnAxis(Rd,f)},translateOnAxis:function(f,l){return qx.copy(f).applyQuaternion(this.quaternion),this.position.add(qx.multiplyScalar(l)),this},translateX:function(f){return this.translateOnAxis(Jx,f)},translateY:function(f){return this.translateOnAxis(Qx,f)},translateZ:function(f){return this.translateOnAxis(Rd,f)},localToWorld:function(f){return f.applyMatrix4(this.matrixWorld)},worldToLocal:function(f){return f.applyMatrix4(Td.copy(this.matrixWorld).invert())},lookAt:function(f,l,d){f.isVector3?Fy.copy(f):Fy.set(f,l,d);const m=this.parent;this.updateWorldMatrix(!0,!1),_f.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Td.lookAt(_f,Fy,this.up):Td.lookAt(Fy,_f,this.up),this.quaternion.setFromRotationMatrix(Td),m&&(Td.extractRotation(m.matrixWorld),Dp.setFromRotationMatrix(Td),this.quaternion.premultiply(Dp.invert()))},add:function(f){if(arguments.length>1){for(let l=0;l<arguments.length;l++)this.add(arguments[l]);return this}return f===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",f),this):(f&&f.isObject3D?(null!==f.parent&&f.parent.remove(f),f.parent=this,this.children.push(f),f.dispatchEvent(eC)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",f),this)},remove:function(f){if(arguments.length>1){for(let d=0;d<arguments.length;d++)this.remove(arguments[d]);return this}const l=this.children.indexOf(f);return-1!==l&&(f.parent=null,this.children.splice(l,1),f.dispatchEvent(Ws)),this},clear:function(){for(let f=0;f<this.children.length;f++){const l=this.children[f];l.parent=null,l.dispatchEvent(Ws)}return this.children.length=0,this},attach:function(f){return this.updateWorldMatrix(!0,!1),Td.copy(this.matrixWorld).invert(),null!==f.parent&&(f.parent.updateWorldMatrix(!0,!1),Td.multiply(f.parent.matrixWorld)),f.applyMatrix4(Td),this.add(f),f.updateWorldMatrix(!1,!0),this},getObjectById:function(f){return this.getObjectByProperty("id",f)},getObjectByName:function(f){return this.getObjectByProperty("name",f)},getObjectByProperty:function(f,l){if(this[f]===l)return this;for(let d=0,m=this.children.length;d<m;d++){const _=this.children[d].getObjectByProperty(f,l);if(void 0!==_)return _}},getWorldPosition:function(f){return void 0===f&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),f=new Ce),this.updateWorldMatrix(!0,!1),f.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(f){return void 0===f&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),f=new Sr),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_f,f,Hy),f},getWorldScale:function(f){return void 0===f&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),f=new Ce),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_f,MR,f),f},getWorldDirection:function(f){void 0===f&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),f=new Ce),this.updateWorldMatrix(!0,!1);const l=this.matrixWorld.elements;return f.set(l[8],l[9],l[10]).normalize()},raycast:function(){},traverse:function(f){f(this);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].traverse(f)},traverseVisible:function(f){if(!1===this.visible)return;f(this);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].traverseVisible(f)},traverseAncestors:function(f){const l=this.parent;null!==l&&(f(l),l.traverseAncestors(f))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(f){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||f)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,f=!0);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].updateMatrixWorld(f)},updateWorldMatrix:function(f,l){const d=this.parent;if(!0===f&&null!==d&&d.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===l){const m=this.children;for(let v=0,_=m.length;v<_;v++)m[v].updateWorldMatrix(!1,!0)}},toJSON:function(f){const l=void 0===f||"string"==typeof f,d={};l&&(f={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},d.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const m={};function v(x,D){return void 0===x[D.uuid]&&(x[D.uuid]=D.toJSON(f)),D.uuid}if(m.uuid=this.uuid,m.type=this.type,""!==this.name&&(m.name=this.name),!0===this.castShadow&&(m.castShadow=!0),!0===this.receiveShadow&&(m.receiveShadow=!0),!1===this.visible&&(m.visible=!1),!1===this.frustumCulled&&(m.frustumCulled=!1),0!==this.renderOrder&&(m.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(m.userData=this.userData),m.layers=this.layers.mask,m.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(m.matrixAutoUpdate=!1),this.isInstancedMesh&&(m.type="InstancedMesh",m.count=this.count,m.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){m.geometry=v(f.geometries,this.geometry);const x=this.geometry.parameters;if(void 0!==x&&void 0!==x.shapes){const D=x.shapes;if(Array.isArray(D))for(let k=0,O=D.length;k<O;k++)v(f.shapes,D[k]);else v(f.shapes,D)}}if(this.isSkinnedMesh&&(m.bindMode=this.bindMode,m.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(v(f.skeletons,this.skeleton),m.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const x=[];for(let D=0,k=this.material.length;D<k;D++)x.push(v(f.materials,this.material[D]));m.material=x}else m.material=v(f.materials,this.material);if(this.children.length>0){m.children=[];for(let x=0;x<this.children.length;x++)m.children.push(this.children[x].toJSON(f).object)}if(this.animations.length>0){m.animations=[];for(let x=0;x<this.animations.length;x++)m.animations.push(v(f.animations,this.animations[x]))}if(l){const x=_(f.geometries),D=_(f.materials),k=_(f.textures),O=_(f.images),U=_(f.shapes),H=_(f.skeletons),V=_(f.animations);x.length>0&&(d.geometries=x),D.length>0&&(d.materials=D),k.length>0&&(d.textures=k),O.length>0&&(d.images=O),U.length>0&&(d.shapes=U),H.length>0&&(d.skeletons=H),V.length>0&&(d.animations=V)}return d.object=m,d;function _(x){const D=[];for(const k in x){const O=x[k];delete O.metadata,D.push(O)}return D}},clone:function(f){return(new this.constructor).copy(this,f)},copy:function(f,l=!0){if(this.name=f.name,this.up.copy(f.up),this.position.copy(f.position),this.rotation.order=f.rotation.order,this.quaternion.copy(f.quaternion),this.scale.copy(f.scale),this.matrix.copy(f.matrix),this.matrixWorld.copy(f.matrixWorld),this.matrixAutoUpdate=f.matrixAutoUpdate,this.matrixWorldNeedsUpdate=f.matrixWorldNeedsUpdate,this.layers.mask=f.layers.mask,this.visible=f.visible,this.castShadow=f.castShadow,this.receiveShadow=f.receiveShadow,this.frustumCulled=f.frustumCulled,this.renderOrder=f.renderOrder,this.userData=JSON.parse(JSON.stringify(f.userData)),!0===l)for(let d=0;d<f.children.length;d++)this.add(f.children[d].clone());return this}});const By=new Ce,Mg=new Ce,Gw=new Os;class iu{constructor(l=new Ce(1,0,0),d=0){this.normal=l,this.constant=d}set(l,d){return this.normal.copy(l),this.constant=d,this}setComponents(l,d,m,v){return this.normal.set(l,d,m),this.constant=v,this}setFromNormalAndCoplanarPoint(l,d){return this.normal.copy(l),this.constant=-d.dot(this.normal),this}setFromCoplanarPoints(l,d,m){const v=By.subVectors(m,d).cross(Mg.subVectors(l,d)).normalize();return this.setFromNormalAndCoplanarPoint(v,l),this}copy(l){return this.normal.copy(l.normal),this.constant=l.constant,this}normalize(){const l=1/this.normal.length();return this.normal.multiplyScalar(l),this.constant*=l,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(l){return this.normal.dot(l)+this.constant}distanceToSphere(l){return this.distanceToPoint(l.center)-l.radius}projectPoint(l,d){return void 0===d&&(console.warn("THREE.Plane: .projectPoint() target is now required"),d=new Ce),d.copy(this.normal).multiplyScalar(-this.distanceToPoint(l)).add(l)}intersectLine(l,d){void 0===d&&(console.warn("THREE.Plane: .intersectLine() target is now required"),d=new Ce);const m=l.delta(By),v=this.normal.dot(m);if(0===v)return 0===this.distanceToPoint(l.start)?d.copy(l.start):void 0;const _=-(l.start.dot(this.normal)+this.constant)/v;return _<0||_>1?void 0:d.copy(m).multiplyScalar(_).add(l.start)}intersectsLine(l){const d=this.distanceToPoint(l.start),m=this.distanceToPoint(l.end);return d<0&&m>0||m<0&&d>0}intersectsBox(l){return l.intersectsPlane(this)}intersectsSphere(l){return l.intersectsPlane(this)}coplanarPoint(l){return void 0===l&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),l=new Ce),l.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(l,d){const m=d||Gw.getNormalMatrix(l),v=this.coplanarPoint(By).applyMatrix4(l),_=this.normal.applyMatrix3(m).normalize();return this.constant=-v.dot(_),this}translate(l){return this.constant-=l.dot(this.normal),this}equals(l){return l.normal.equals(this.normal)&&l.constant===this.constant}clone(){return(new this.constructor).copy(this)}}iu.prototype.isPlane=!0;const Eu=new Ce,Tu=new Ce,Vy=new Ce,Ys=new Ce,Dd=new Ce,bf=new Ce,Ap=new Ce,Sg=new Ce,zy=new Ce,os=new Ce;class ts{constructor(l=new Ce,d=new Ce,m=new Ce){this.a=l,this.b=d,this.c=m}static getNormal(l,d,m,v){void 0===v&&(console.warn("THREE.Triangle: .getNormal() target is now required"),v=new Ce),v.subVectors(m,d),Eu.subVectors(l,d),v.cross(Eu);const _=v.lengthSq();return _>0?v.multiplyScalar(1/Math.sqrt(_)):v.set(0,0,0)}static getBarycoord(l,d,m,v,_){Eu.subVectors(v,d),Tu.subVectors(m,d),Vy.subVectors(l,d);const x=Eu.dot(Eu),D=Eu.dot(Tu),k=Eu.dot(Vy),O=Tu.dot(Tu),U=Tu.dot(Vy),H=x*O-D*D;if(void 0===_&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),_=new Ce),0===H)return _.set(-2,-1,-1);const V=1/H,W=(O*k-D*U)*V,J=(x*U-D*k)*V;return _.set(1-W-J,J,W)}static containsPoint(l,d,m,v){return this.getBarycoord(l,d,m,v,Ys),Ys.x>=0&&Ys.y>=0&&Ys.x+Ys.y<=1}static getUV(l,d,m,v,_,x,D,k){return this.getBarycoord(l,d,m,v,Ys),k.set(0,0),k.addScaledVector(_,Ys.x),k.addScaledVector(x,Ys.y),k.addScaledVector(D,Ys.z),k}static isFrontFacing(l,d,m,v){return Eu.subVectors(m,d),Tu.subVectors(l,d),Eu.cross(Tu).dot(v)<0}set(l,d,m){return this.a.copy(l),this.b.copy(d),this.c.copy(m),this}setFromPointsAndIndices(l,d,m,v){return this.a.copy(l[d]),this.b.copy(l[m]),this.c.copy(l[v]),this}clone(){return(new this.constructor).copy(this)}copy(l){return this.a.copy(l.a),this.b.copy(l.b),this.c.copy(l.c),this}getArea(){return Eu.subVectors(this.c,this.b),Tu.subVectors(this.a,this.b),.5*Eu.cross(Tu).length()}getMidpoint(l){return void 0===l&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),l=new Ce),l.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(l){return ts.getNormal(this.a,this.b,this.c,l)}getPlane(l){return void 0===l&&(console.warn("THREE.Triangle: .getPlane() target is now required"),l=new iu),l.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(l,d){return ts.getBarycoord(l,this.a,this.b,this.c,d)}getUV(l,d,m,v,_){return ts.getUV(l,this.a,this.b,this.c,d,m,v,_)}containsPoint(l){return ts.containsPoint(l,this.a,this.b,this.c)}isFrontFacing(l){return ts.isFrontFacing(this.a,this.b,this.c,l)}intersectsBox(l){return l.intersectsTriangle(this)}closestPointToPoint(l,d){void 0===d&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),d=new Ce);const m=this.a,v=this.b,_=this.c;let x,D;Dd.subVectors(v,m),bf.subVectors(_,m),Sg.subVectors(l,m);const k=Dd.dot(Sg),O=bf.dot(Sg);if(k<=0&&O<=0)return d.copy(m);zy.subVectors(l,v);const U=Dd.dot(zy),H=bf.dot(zy);if(U>=0&&H<=U)return d.copy(v);const V=k*H-U*O;if(V<=0&&k>=0&&U<=0)return x=k/(k-U),d.copy(m).addScaledVector(Dd,x);os.subVectors(l,_);const W=Dd.dot(os),J=bf.dot(os);if(J>=0&&W<=J)return d.copy(_);const ee=W*O-k*J;if(ee<=0&&O>=0&&J<=0)return D=O/(O-J),d.copy(m).addScaledVector(bf,D);const se=U*J-W*H;if(se<=0&&H-U>=0&&W-J>=0)return Ap.subVectors(_,v),D=(H-U)/(H-U+(W-J)),d.copy(v).addScaledVector(Ap,D);const ie=1/(se+ee+V);return x=ee*ie,D=V*ie,d.copy(m).addScaledVector(Dd,x).addScaledVector(bf,D)}equals(l){return l.a.equals(this.a)&&l.b.equals(this.b)&&l.c.equals(this.c)}}let Uy=0;function zo(){Object.defineProperty(this,"id",{value:Uy++}),this.uuid=Dr.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=Ue,this.side=me,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Ne,this.blendDst=ge,this.blendEquation=ct,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Wn,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ic,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=qa,this.stencilZFail=qa,this.stencilZPass=qa,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}zo.prototype=Object.assign(Object.create(Yi.prototype),{constructor:zo,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(f){if(void 0!==f)for(const l in f){const d=f[l];if(void 0===d){console.warn("THREE.Material: '"+l+"' parameter is undefined.");continue}if("shading"===l){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=d===Te;continue}const m=this[l];void 0!==m?m&&m.isColor?m.set(d):m&&m.isVector3&&d&&d.isVector3?m.copy(d):this[l]=d:console.warn("THREE."+this.type+": '"+l+"' is not a property of this material.")}},toJSON:function(f){const l=void 0===f||"string"==typeof f;l&&(f={textures:{},images:{}});const d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function m(v){const _=[];for(const x in v){const D=v[x];delete D.metadata,_.push(D)}return _}if(d.uuid=this.uuid,d.type=this.type,""!==this.name&&(d.name=this.name),this.color&&this.color.isColor&&(d.color=this.color.getHex()),void 0!==this.roughness&&(d.roughness=this.roughness),void 0!==this.metalness&&(d.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(d.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(d.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex()),void 0!==this.shininess&&(d.shininess=this.shininess),void 0!==this.clearcoat&&(d.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(d.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(d.clearcoatMap=this.clearcoatMap.toJSON(f).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(d.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(f).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(d.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(f).uuid,d.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(d.map=this.map.toJSON(f).uuid),this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(f).uuid),this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(f).uuid),this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(f).uuid,d.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(f).uuid,d.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(f).uuid,d.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(f).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(f).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(f).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(f).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(f).uuid),this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(f).uuid),this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(f).uuid,d.reflectivity=this.reflectivity,d.refractionRatio=this.refractionRatio,void 0!==this.combine&&(d.combine=this.combine),void 0!==this.envMapIntensity&&(d.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(f).uuid),void 0!==this.size&&(d.size=this.size),void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation),this.blending!==Ue&&(d.blending=this.blending),this.side!==me&&(d.side=this.side),this.vertexColors&&(d.vertexColors=!0),this.opacity<1&&(d.opacity=this.opacity),!0===this.transparent&&(d.transparent=this.transparent),d.depthFunc=this.depthFunc,d.depthTest=this.depthTest,d.depthWrite=this.depthWrite,d.stencilWrite=this.stencilWrite,d.stencilWriteMask=this.stencilWriteMask,d.stencilFunc=this.stencilFunc,d.stencilRef=this.stencilRef,d.stencilFuncMask=this.stencilFuncMask,d.stencilFail=this.stencilFail,d.stencilZFail=this.stencilZFail,d.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(d.rotation=this.rotation),!0===this.polygonOffset&&(d.polygonOffset=!0),0!==this.polygonOffsetFactor&&(d.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(d.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(d.linewidth=this.linewidth),void 0!==this.dashSize&&(d.dashSize=this.dashSize),void 0!==this.gapSize&&(d.gapSize=this.gapSize),void 0!==this.scale&&(d.scale=this.scale),!0===this.dithering&&(d.dithering=!0),this.alphaTest>0&&(d.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(d.wireframe=this.wireframe),this.wireframeLinewidth>1&&(d.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(d.morphTargets=!0),!0===this.morphNormals&&(d.morphNormals=!0),!0===this.skinning&&(d.skinning=!0),!0===this.flatShading&&(d.flatShading=this.flatShading),!1===this.visible&&(d.visible=!1),!1===this.toneMapped&&(d.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData),l){const v=m(f.textures),_=m(f.images);v.length>0&&(d.textures=v),_.length>0&&(d.images=_)}return d},clone:function(){return(new this.constructor).copy(this)},copy:function(f){this.name=f.name,this.fog=f.fog,this.blending=f.blending,this.side=f.side,this.vertexColors=f.vertexColors,this.opacity=f.opacity,this.transparent=f.transparent,this.blendSrc=f.blendSrc,this.blendDst=f.blendDst,this.blendEquation=f.blendEquation,this.blendSrcAlpha=f.blendSrcAlpha,this.blendDstAlpha=f.blendDstAlpha,this.blendEquationAlpha=f.blendEquationAlpha,this.depthFunc=f.depthFunc,this.depthTest=f.depthTest,this.depthWrite=f.depthWrite,this.stencilWriteMask=f.stencilWriteMask,this.stencilFunc=f.stencilFunc,this.stencilRef=f.stencilRef,this.stencilFuncMask=f.stencilFuncMask,this.stencilFail=f.stencilFail,this.stencilZFail=f.stencilZFail,this.stencilZPass=f.stencilZPass,this.stencilWrite=f.stencilWrite;const l=f.clippingPlanes;let d=null;if(null!==l){const m=l.length;d=new Array(m);for(let v=0;v!==m;++v)d[v]=l[v].clone()}return this.clippingPlanes=d,this.clipIntersection=f.clipIntersection,this.clipShadows=f.clipShadows,this.shadowSide=f.shadowSide,this.colorWrite=f.colorWrite,this.precision=f.precision,this.polygonOffset=f.polygonOffset,this.polygonOffsetFactor=f.polygonOffsetFactor,this.polygonOffsetUnits=f.polygonOffsetUnits,this.dithering=f.dithering,this.alphaTest=f.alphaTest,this.premultipliedAlpha=f.premultipliedAlpha,this.visible=f.visible,this.toneMapped=f.toneMapped,this.userData=JSON.parse(JSON.stringify(f.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(zo.prototype,"needsUpdate",{set:function(f){!0===f&&this.version++}});const ca={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ou={h:0,s:0,l:0},xh={h:0,s:0,l:0};function Ad(f,l,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?f+6*(l-f)*d:d<.5?l:d<2/3?f+6*(l-f)*(2/3-d):f}function Ja(f){return f<.04045?.0773993808*f:Math.pow(.9478672986*f+.0521327014,2.4)}function xg(f){return f<.0031308?12.92*f:1.055*Math.pow(f,.41666)-.055}let hr=(()=>{class f{constructor(d,m,v){return void 0===m&&void 0===v?this.set(d):this.setRGB(d,m,v)}set(d){return d&&d.isColor?this.copy(d):"number"==typeof d?this.setHex(d):"string"==typeof d&&this.setStyle(d),this}setScalar(d){return this.r=d,this.g=d,this.b=d,this}setHex(d){return d=Math.floor(d),this.r=(d>>16&255)/255,this.g=(d>>8&255)/255,this.b=(255&d)/255,this}setRGB(d,m,v){return this.r=d,this.g=m,this.b=v,this}setHSL(d,m,v){if(d=Dr.euclideanModulo(d,1),m=Dr.clamp(m,0,1),v=Dr.clamp(v,0,1),0===m)this.r=this.g=this.b=v;else{const _=v<=.5?v*(1+m):v+m-v*m,x=2*v-_;this.r=Ad(x,_,d+1/3),this.g=Ad(x,_,d),this.b=Ad(x,_,d-1/3)}return this}setStyle(d){function m(_){void 0!==_&&parseFloat(_)<1&&console.warn("THREE.Color: Alpha component of "+d+" will be ignored.")}let v;if(v=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(d)){let _;const D=v[2];switch(v[1]){case"rgb":case"rgba":if(_=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D))return this.r=Math.min(255,parseInt(_[1],10))/255,this.g=Math.min(255,parseInt(_[2],10))/255,this.b=Math.min(255,parseInt(_[3],10))/255,m(_[4]),this;if(_=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D))return this.r=Math.min(100,parseInt(_[1],10))/100,this.g=Math.min(100,parseInt(_[2],10))/100,this.b=Math.min(100,parseInt(_[3],10))/100,m(_[4]),this;break;case"hsl":case"hsla":if(_=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D)){const k=parseFloat(_[1])/360,O=parseInt(_[2],10)/100,U=parseInt(_[3],10)/100;return m(_[4]),this.setHSL(k,O,U)}}}else if(v=/^\#([A-Fa-f\d]+)$/.exec(d)){const _=v[1],x=_.length;if(3===x)return this.r=parseInt(_.charAt(0)+_.charAt(0),16)/255,this.g=parseInt(_.charAt(1)+_.charAt(1),16)/255,this.b=parseInt(_.charAt(2)+_.charAt(2),16)/255,this;if(6===x)return this.r=parseInt(_.charAt(0)+_.charAt(1),16)/255,this.g=parseInt(_.charAt(2)+_.charAt(3),16)/255,this.b=parseInt(_.charAt(4)+_.charAt(5),16)/255,this}return d&&d.length>0?this.setColorName(d):this}setColorName(d){const m=ca[d];return void 0!==m?this.setHex(m):console.warn("THREE.Color: Unknown color "+d),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(d){return this.r=d.r,this.g=d.g,this.b=d.b,this}copyGammaToLinear(d,m=2){return this.r=Math.pow(d.r,m),this.g=Math.pow(d.g,m),this.b=Math.pow(d.b,m),this}copyLinearToGamma(d,m=2){const v=m>0?1/m:1;return this.r=Math.pow(d.r,v),this.g=Math.pow(d.g,v),this.b=Math.pow(d.b,v),this}convertGammaToLinear(d){return this.copyGammaToLinear(this,d),this}convertLinearToGamma(d){return this.copyLinearToGamma(this,d),this}copySRGBToLinear(d){return this.r=Ja(d.r),this.g=Ja(d.g),this.b=Ja(d.b),this}copyLinearToSRGB(d){return this.r=xg(d.r),this.g=xg(d.g),this.b=xg(d.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(d){void 0===d&&(console.warn("THREE.Color: .getHSL() target is now required"),d={h:0,s:0,l:0});const m=this.r,v=this.g,_=this.b,x=Math.max(m,v,_),D=Math.min(m,v,_);let k,O;const U=(D+x)/2;if(D===x)k=0,O=0;else{const H=x-D;switch(O=U<=.5?H/(x+D):H/(2-x-D),x){case m:k=(v-_)/H+(v<_?6:0);break;case v:k=(_-m)/H+2;break;case _:k=(m-v)/H+4}k/=6}return d.h=k,d.s=O,d.l=U,d}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(d,m,v){return this.getHSL(ou),ou.h+=d,ou.s+=m,ou.l+=v,this.setHSL(ou.h,ou.s,ou.l),this}add(d){return this.r+=d.r,this.g+=d.g,this.b+=d.b,this}addColors(d,m){return this.r=d.r+m.r,this.g=d.g+m.g,this.b=d.b+m.b,this}addScalar(d){return this.r+=d,this.g+=d,this.b+=d,this}sub(d){return this.r=Math.max(0,this.r-d.r),this.g=Math.max(0,this.g-d.g),this.b=Math.max(0,this.b-d.b),this}multiply(d){return this.r*=d.r,this.g*=d.g,this.b*=d.b,this}multiplyScalar(d){return this.r*=d,this.g*=d,this.b*=d,this}lerp(d,m){return this.r+=(d.r-this.r)*m,this.g+=(d.g-this.g)*m,this.b+=(d.b-this.b)*m,this}lerpColors(d,m,v){return this.r=d.r+(m.r-d.r)*v,this.g=d.g+(m.g-d.g)*v,this.b=d.b+(m.b-d.b)*v,this}lerpHSL(d,m){this.getHSL(ou),d.getHSL(xh);const v=Dr.lerp(ou.h,xh.h,m),_=Dr.lerp(ou.s,xh.s,m),x=Dr.lerp(ou.l,xh.l,m);return this.setHSL(v,_,x),this}equals(d){return d.r===this.r&&d.g===this.g&&d.b===this.b}fromArray(d,m=0){return this.r=d[m],this.g=d[m+1],this.b=d[m+2],this}toArray(d=[],m=0){return d[m]=this.r,d[m+1]=this.g,d[m+2]=this.b,d}fromBufferAttribute(d,m){return this.r=d.getX(m),this.g=d.getY(m),this.b=d.getZ(m),!0===d.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return f.NAMES=ca,f})();hr.prototype.isColor=!0,hr.prototype.r=1,hr.prototype.g=1,hr.prototype.b=1;class Uc extends zo{constructor(l){super(),this.type="MeshBasicMaterial",this.color=new hr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$r,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this}}Uc.prototype.isMeshBasicMaterial=!0;const vo=new Ce,Op=new _n;function qr(f,l,d){if(Array.isArray(f))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=f,this.itemSize=l,this.count=void 0!==f?f.length/l:0,this.normalized=!0===d,this.usage=eu,this.updateRange={offset:0,count:-1},this.version=0}function oi(f,l,d){qr.call(this,new Int8Array(f),l,d)}function wf(f,l,d){qr.call(this,new Uint8Array(f),l,d)}function Cg(f,l,d){qr.call(this,new Uint8ClampedArray(f),l,d)}function kp(f,l,d){qr.call(this,new Int16Array(f),l,d)}function Ch(f,l,d){qr.call(this,new Uint16Array(f),l,d)}function Lp(f,l,d){qr.call(this,new Int32Array(f),l,d)}function Od(f,l,d){qr.call(this,new Uint32Array(f),l,d)}function Pp(f,l,d){qr.call(this,new Uint16Array(f),l,d)}function yr(f,l,d){qr.call(this,new Float32Array(f),l,d)}function mn(f,l,d){qr.call(this,new Float64Array(f),l,d)}function lo(f){if(0===f.length)return-1/0;let l=f[0];for(let d=1,m=f.length;d<m;++d)f[d]>l&&(l=f[d]);return l}Object.defineProperty(qr.prototype,"needsUpdate",{set:function(f){!0===f&&this.version++}}),Object.assign(qr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(f){return this.usage=f,this},copy:function(f){return this.name=f.name,this.array=new f.array.constructor(f.array),this.itemSize=f.itemSize,this.count=f.count,this.normalized=f.normalized,this.usage=f.usage,this},copyAt:function(f,l,d){f*=this.itemSize,d*=l.itemSize;for(let m=0,v=this.itemSize;m<v;m++)this.array[f+m]=l.array[d+m];return this},copyArray:function(f){return this.array.set(f),this},copyColorsArray:function(f){const l=this.array;let d=0;for(let m=0,v=f.length;m<v;m++){let _=f[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",m),_=new hr),l[d++]=_.r,l[d++]=_.g,l[d++]=_.b}return this},copyVector2sArray:function(f){const l=this.array;let d=0;for(let m=0,v=f.length;m<v;m++){let _=f[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",m),_=new _n),l[d++]=_.x,l[d++]=_.y}return this},copyVector3sArray:function(f){const l=this.array;let d=0;for(let m=0,v=f.length;m<v;m++){let _=f[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",m),_=new Ce),l[d++]=_.x,l[d++]=_.y,l[d++]=_.z}return this},copyVector4sArray:function(f){const l=this.array;let d=0;for(let m=0,v=f.length;m<v;m++){let _=f[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",m),_=new Di),l[d++]=_.x,l[d++]=_.y,l[d++]=_.z,l[d++]=_.w}return this},applyMatrix3:function(f){if(2===this.itemSize)for(let l=0,d=this.count;l<d;l++)Op.fromBufferAttribute(this,l),Op.applyMatrix3(f),this.setXY(l,Op.x,Op.y);else if(3===this.itemSize)for(let l=0,d=this.count;l<d;l++)vo.fromBufferAttribute(this,l),vo.applyMatrix3(f),this.setXYZ(l,vo.x,vo.y,vo.z);return this},applyMatrix4:function(f){for(let l=0,d=this.count;l<d;l++)vo.x=this.getX(l),vo.y=this.getY(l),vo.z=this.getZ(l),vo.applyMatrix4(f),this.setXYZ(l,vo.x,vo.y,vo.z);return this},applyNormalMatrix:function(f){for(let l=0,d=this.count;l<d;l++)vo.x=this.getX(l),vo.y=this.getY(l),vo.z=this.getZ(l),vo.applyNormalMatrix(f),this.setXYZ(l,vo.x,vo.y,vo.z);return this},transformDirection:function(f){for(let l=0,d=this.count;l<d;l++)vo.x=this.getX(l),vo.y=this.getY(l),vo.z=this.getZ(l),vo.transformDirection(f),this.setXYZ(l,vo.x,vo.y,vo.z);return this},set:function(f,l=0){return this.array.set(f,l),this},getX:function(f){return this.array[f*this.itemSize]},setX:function(f,l){return this.array[f*this.itemSize]=l,this},getY:function(f){return this.array[f*this.itemSize+1]},setY:function(f,l){return this.array[f*this.itemSize+1]=l,this},getZ:function(f){return this.array[f*this.itemSize+2]},setZ:function(f,l){return this.array[f*this.itemSize+2]=l,this},getW:function(f){return this.array[f*this.itemSize+3]},setW:function(f,l){return this.array[f*this.itemSize+3]=l,this},setXY:function(f,l,d){return this.array[0+(f*=this.itemSize)]=l,this.array[f+1]=d,this},setXYZ:function(f,l,d,m){return this.array[0+(f*=this.itemSize)]=l,this.array[f+1]=d,this.array[f+2]=m,this},setXYZW:function(f,l,d,m,v){return this.array[0+(f*=this.itemSize)]=l,this.array[f+1]=d,this.array[f+2]=m,this.array[f+3]=v,this},onUpload:function(f){return this.onUploadCallback=f,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(oi.prototype=Object.create(qr.prototype)).constructor=oi,(wf.prototype=Object.create(qr.prototype)).constructor=wf,(Cg.prototype=Object.create(qr.prototype)).constructor=Cg,(kp.prototype=Object.create(qr.prototype)).constructor=kp,(Ch.prototype=Object.create(qr.prototype)).constructor=Ch,(Lp.prototype=Object.create(qr.prototype)).constructor=Lp,(Od.prototype=Object.create(qr.prototype)).constructor=Od,(Pp.prototype=Object.create(qr.prototype)).constructor=Pp,Pp.prototype.isFloat16BufferAttribute=!0,(yr.prototype=Object.create(qr.prototype)).constructor=yr,(mn.prototype=Object.create(qr.prototype)).constructor=mn;const _l={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function da(f,l){return new _l[f](l)}let Js=0;const zl=new Br,Eh=new Zr,Qa=new Ce,el=new js,jc=new js,Gs=new Ce;function Vr(){Object.defineProperty(this,"id",{value:Js++}),this.uuid=Dr.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Vr.prototype=Object.assign(Object.create(Yi.prototype),{constructor:Vr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(f){return this.index=Array.isArray(f)?new(lo(f)>65535?Od:Ch)(f,1):f,this},getAttribute:function(f){return this.attributes[f]},setAttribute:function(f,l){return this.attributes[f]=l,this},deleteAttribute:function(f){return delete this.attributes[f],this},hasAttribute:function(f){return void 0!==this.attributes[f]},addGroup:function(f,l,d=0){this.groups.push({start:f,count:l,materialIndex:d})},clearGroups:function(){this.groups=[]},setDrawRange:function(f,l){this.drawRange.start=f,this.drawRange.count=l},applyMatrix4:function(f){const l=this.attributes.position;void 0!==l&&(l.applyMatrix4(f),l.needsUpdate=!0);const d=this.attributes.normal;if(void 0!==d){const v=(new Os).getNormalMatrix(f);d.applyNormalMatrix(v),d.needsUpdate=!0}const m=this.attributes.tangent;return void 0!==m&&(m.transformDirection(f),m.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(f){return zl.makeRotationX(f),this.applyMatrix4(zl),this},rotateY:function(f){return zl.makeRotationY(f),this.applyMatrix4(zl),this},rotateZ:function(f){return zl.makeRotationZ(f),this.applyMatrix4(zl),this},translate:function(f,l,d){return zl.makeTranslation(f,l,d),this.applyMatrix4(zl),this},scale:function(f,l,d){return zl.makeScale(f,l,d),this.applyMatrix4(zl),this},lookAt:function(f){return Eh.lookAt(f),Eh.updateMatrix(),this.applyMatrix4(Eh.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qa).negate(),this.translate(Qa.x,Qa.y,Qa.z),this},setFromPoints:function(f){const l=[];for(let d=0,m=f.length;d<m;d++){const v=f[d];l.push(v.x,v.y,v.z||0)}return this.setAttribute("position",new yr(l,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new js);const f=this.attributes.position,l=this.morphAttributes.position;if(f&&f.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Ce(-1/0,-1/0,-1/0),new Ce(1/0,1/0,1/0));if(void 0!==f){if(this.boundingBox.setFromBufferAttribute(f),l)for(let d=0,m=l.length;d<m;d++)el.setFromBufferAttribute(l[d]),this.morphTargetsRelative?(Gs.addVectors(this.boundingBox.min,el.min),this.boundingBox.expandByPoint(Gs),Gs.addVectors(this.boundingBox.max,el.max),this.boundingBox.expandByPoint(Gs)):(this.boundingBox.expandByPoint(el.min),this.boundingBox.expandByPoint(el.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Cd);const f=this.attributes.position,l=this.morphAttributes.position;if(f&&f.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Ce,1/0);if(f){const d=this.boundingSphere.center;if(el.setFromBufferAttribute(f),l)for(let v=0,_=l.length;v<_;v++)jc.setFromBufferAttribute(l[v]),this.morphTargetsRelative?(Gs.addVectors(el.min,jc.min),el.expandByPoint(Gs),Gs.addVectors(el.max,jc.max),el.expandByPoint(Gs)):(el.expandByPoint(jc.min),el.expandByPoint(jc.max));el.getCenter(d);let m=0;for(let v=0,_=f.count;v<_;v++)Gs.fromBufferAttribute(f,v),m=Math.max(m,d.distanceToSquared(Gs));if(l)for(let v=0,_=l.length;v<_;v++){const x=l[v],D=this.morphTargetsRelative;for(let k=0,O=x.count;k<O;k++)Gs.fromBufferAttribute(x,k),D&&(Qa.fromBufferAttribute(f,k),Gs.add(Qa)),m=Math.max(m,d.distanceToSquared(Gs))}this.boundingSphere.radius=Math.sqrt(m),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){const f=this.index,l=this.attributes;if(null===f||void 0===l.position||void 0===l.normal||void 0===l.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const d=f.array,m=l.position.array,v=l.normal.array,_=l.uv.array,x=m.length/3;void 0===l.tangent&&this.setAttribute("tangent",new qr(new Float32Array(4*x),4));const D=l.tangent.array,k=[],O=[];for(let wt=0;wt<x;wt++)k[wt]=new Ce,O[wt]=new Ce;const U=new Ce,H=new Ce,V=new Ce,W=new _n,J=new _n,ee=new _n,se=new Ce,ie=new Ce;function X(wt,st,Ut){U.fromArray(m,3*wt),H.fromArray(m,3*st),V.fromArray(m,3*Ut),W.fromArray(_,2*wt),J.fromArray(_,2*st),ee.fromArray(_,2*Ut),H.sub(U),V.sub(U),J.sub(W),ee.sub(W);const en=1/(J.x*ee.y-ee.x*J.y);!isFinite(en)||(se.copy(H).multiplyScalar(ee.y).addScaledVector(V,-J.y).multiplyScalar(en),ie.copy(V).multiplyScalar(J.x).addScaledVector(H,-ee.x).multiplyScalar(en),k[wt].add(se),k[st].add(se),k[Ut].add(se),O[wt].add(ie),O[st].add(ie),O[Ut].add(ie))}let Re=this.groups;0===Re.length&&(Re=[{start:0,count:d.length}]);for(let wt=0,st=Re.length;wt<st;++wt){const Ut=Re[wt],en=Ut.start;for(let Tt=en,jt=en+Ut.count;Tt<jt;Tt+=3)X(d[Tt+0],d[Tt+1],d[Tt+2])}const xe=new Ce,Ve=new Ce,Me=new Ce,tt=new Ce;function At(wt){Me.fromArray(v,3*wt),tt.copy(Me);const st=k[wt];xe.copy(st),xe.sub(Me.multiplyScalar(Me.dot(st))).normalize(),Ve.crossVectors(tt,st);const en=Ve.dot(O[wt])<0?-1:1;D[4*wt]=xe.x,D[4*wt+1]=xe.y,D[4*wt+2]=xe.z,D[4*wt+3]=en}for(let wt=0,st=Re.length;wt<st;++wt){const Ut=Re[wt],en=Ut.start;for(let Tt=en,jt=en+Ut.count;Tt<jt;Tt+=3)At(d[Tt+0]),At(d[Tt+1]),At(d[Tt+2])}},computeVertexNormals:function(){const f=this.index,l=this.getAttribute("position");if(void 0!==l){let d=this.getAttribute("normal");if(void 0===d)d=new qr(new Float32Array(3*l.count),3),this.setAttribute("normal",d);else for(let H=0,V=d.count;H<V;H++)d.setXYZ(H,0,0,0);const m=new Ce,v=new Ce,_=new Ce,x=new Ce,D=new Ce,k=new Ce,O=new Ce,U=new Ce;if(f)for(let H=0,V=f.count;H<V;H+=3){const W=f.getX(H+0),J=f.getX(H+1),ee=f.getX(H+2);m.fromBufferAttribute(l,W),v.fromBufferAttribute(l,J),_.fromBufferAttribute(l,ee),O.subVectors(_,v),U.subVectors(m,v),O.cross(U),x.fromBufferAttribute(d,W),D.fromBufferAttribute(d,J),k.fromBufferAttribute(d,ee),x.add(O),D.add(O),k.add(O),d.setXYZ(W,x.x,x.y,x.z),d.setXYZ(J,D.x,D.y,D.z),d.setXYZ(ee,k.x,k.y,k.z)}else for(let H=0,V=l.count;H<V;H+=3)m.fromBufferAttribute(l,H+0),v.fromBufferAttribute(l,H+1),_.fromBufferAttribute(l,H+2),O.subVectors(_,v),U.subVectors(m,v),O.cross(U),d.setXYZ(H+0,O.x,O.y,O.z),d.setXYZ(H+1,O.x,O.y,O.z),d.setXYZ(H+2,O.x,O.y,O.z);this.normalizeNormals(),d.needsUpdate=!0}},merge:function(f,l){if(!f||!f.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",f);void 0===l&&(l=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const d=this.attributes;for(const m in d){if(void 0===f.attributes[m])continue;const _=d[m].array,x=f.attributes[m],D=x.array,k=x.itemSize*l,O=Math.min(D.length,_.length-k);for(let U=0,H=k;U<O;U++,H++)_[H]=D[U]}return this},normalizeNormals:function(){const f=this.attributes.normal;for(let l=0,d=f.count;l<d;l++)Gs.fromBufferAttribute(f,l),Gs.normalize(),f.setXYZ(l,Gs.x,Gs.y,Gs.z)},toNonIndexed:function(){function f(x,D){const k=x.array,O=x.itemSize,U=x.normalized,H=new k.constructor(D.length*O);let V=0,W=0;for(let J=0,ee=D.length;J<ee;J++){V=D[J]*O;for(let se=0;se<O;se++)H[W++]=k[V++]}return new qr(H,O,U)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const l=new Vr,d=this.index.array,m=this.attributes;for(const x in m){const k=f(m[x],d);l.setAttribute(x,k)}const v=this.morphAttributes;for(const x in v){const D=[],k=v[x];for(let O=0,U=k.length;O<U;O++){const V=f(k[O],d);D.push(V)}l.morphAttributes[x]=D}l.morphTargetsRelative=this.morphTargetsRelative;const _=this.groups;for(let x=0,D=_.length;x<D;x++){const k=_[x];l.addGroup(k.start,k.count,k.materialIndex)}return l},toJSON:function(){const f={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(f.uuid=this.uuid,f.type=this.type,""!==this.name&&(f.name=this.name),Object.keys(this.userData).length>0&&(f.userData=this.userData),void 0!==this.parameters){const D=this.parameters;for(const k in D)void 0!==D[k]&&(f[k]=D[k]);return f}f.data={attributes:{}};const l=this.index;null!==l&&(f.data.index={type:l.array.constructor.name,array:Array.prototype.slice.call(l.array)});const d=this.attributes;for(const D in d){const k=d[D],O=k.toJSON(f.data);""!==k.name&&(O.name=k.name),f.data.attributes[D]=O}const m={};let v=!1;for(const D in this.morphAttributes){const k=this.morphAttributes[D],O=[];for(let U=0,H=k.length;U<H;U++){const V=k[U],W=V.toJSON(f.data);""!==V.name&&(W.name=V.name),O.push(W)}O.length>0&&(m[D]=O,v=!0)}v&&(f.data.morphAttributes=m,f.data.morphTargetsRelative=this.morphTargetsRelative);const _=this.groups;_.length>0&&(f.data.groups=JSON.parse(JSON.stringify(_)));const x=this.boundingSphere;return null!==x&&(f.data.boundingSphere={center:x.center.toArray(),radius:x.radius}),f},clone:function(){return(new Vr).copy(this)},copy:function(f){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const l={};this.name=f.name;const d=f.index;null!==d&&this.setIndex(d.clone(l));const m=f.attributes;for(const k in m)this.setAttribute(k,m[k].clone(l));const v=f.morphAttributes;for(const k in v){const O=[],U=v[k];for(let H=0,V=U.length;H<V;H++)O.push(U[H].clone(l));this.morphAttributes[k]=O}this.morphTargetsRelative=f.morphTargetsRelative;const _=f.groups;for(let k=0,O=_.length;k<O;k++){const U=_[k];this.addGroup(U.start,U.count,U.materialIndex)}const x=f.boundingBox;null!==x&&(this.boundingBox=x.clone());const D=f.boundingSphere;return null!==D&&(this.boundingSphere=D.clone()),this.drawRange.start=f.drawRange.start,this.drawRange.count=f.drawRange.count,this.userData=f.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const tC=new Br,Wc=new Ed,va=new Cd,La=new Ce,Yc=new Ce,bl=new Ce,Ru=new Ce,jy=new Ce,Ip=new Ce,Eg=new Ce,Tg=new Ce,Mf=new Ce,Ul=new _n,Sf=new _n,xf=new _n,Wy=new Ce,Np=new Ce;function ln(f=new Vr,l=new Uc){Zr.call(this),this.type="Mesh",this.geometry=f,this.material=l,this.updateMorphTargets()}function Fp(f,l,d,m,v,_,x,D,k,O,U,H){La.fromBufferAttribute(v,O),Yc.fromBufferAttribute(v,U),bl.fromBufferAttribute(v,H);const V=f.morphTargetInfluences;if(l.morphTargets&&_&&V){Eg.set(0,0,0),Tg.set(0,0,0),Mf.set(0,0,0);for(let J=0,ee=_.length;J<ee;J++){const se=V[J],ie=_[J];0!==se&&(Ru.fromBufferAttribute(ie,O),jy.fromBufferAttribute(ie,U),Ip.fromBufferAttribute(ie,H),x?(Eg.addScaledVector(Ru,se),Tg.addScaledVector(jy,se),Mf.addScaledVector(Ip,se)):(Eg.addScaledVector(Ru.sub(La),se),Tg.addScaledVector(jy.sub(Yc),se),Mf.addScaledVector(Ip.sub(bl),se)))}La.add(Eg),Yc.add(Tg),bl.add(Mf)}f.isSkinnedMesh&&l.skinning&&(f.boneTransform(O,La),f.boneTransform(U,Yc),f.boneTransform(H,bl));const W=function $w(f,l,d,m,v,_,x,D){let k;if(k=l.side===K?m.intersectTriangle(x,_,v,!0,D):m.intersectTriangle(v,_,x,l.side!==ce,D),null===k)return null;Np.copy(D),Np.applyMatrix4(f.matrixWorld);const O=d.ray.origin.distanceTo(Np);return O<d.near||O>d.far?null:{distance:O,point:Np.clone(),object:f}}(f,l,d,m,La,Yc,bl,Wy);if(W){D&&(Ul.fromBufferAttribute(D,O),Sf.fromBufferAttribute(D,U),xf.fromBufferAttribute(D,H),W.uv=ts.getUV(Wy,La,Yc,bl,Ul,Sf,xf,new _n)),k&&(Ul.fromBufferAttribute(k,O),Sf.fromBufferAttribute(k,U),xf.fromBufferAttribute(k,H),W.uv2=ts.getUV(Wy,La,Yc,bl,Ul,Sf,xf,new _n));const J={a:O,b:U,c:H,normal:new Ce,materialIndex:0};ts.getNormal(La,Yc,bl,J.normal),W.face=J}return W}ln.prototype=Object.assign(Object.create(Zr.prototype),{constructor:ln,isMesh:!0,copy:function(f){return Zr.prototype.copy.call(this,f),void 0!==f.morphTargetInfluences&&(this.morphTargetInfluences=f.morphTargetInfluences.slice()),void 0!==f.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},f.morphTargetDictionary)),this.material=f.material,this.geometry=f.geometry,this},updateMorphTargets:function(){const f=this.geometry;if(f.isBufferGeometry){const l=f.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let v=0,_=m.length;v<_;v++){const x=m[v].name||String(v);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=v}}}}else{const l=f.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(f,l){const d=this.geometry,m=this.material,v=this.matrixWorld;if(void 0===m||(null===d.boundingSphere&&d.computeBoundingSphere(),va.copy(d.boundingSphere),va.applyMatrix4(v),!1===f.ray.intersectsSphere(va))||(tC.copy(v).invert(),Wc.copy(f.ray).applyMatrix4(tC),null!==d.boundingBox&&!1===Wc.intersectsBox(d.boundingBox)))return;let _;if(d.isBufferGeometry){const x=d.index,D=d.attributes.position,k=d.morphAttributes.position,O=d.morphTargetsRelative,U=d.attributes.uv,H=d.attributes.uv2,V=d.groups,W=d.drawRange;if(null!==x)if(Array.isArray(m))for(let J=0,ee=V.length;J<ee;J++){const se=V[J],ie=m[se.materialIndex];for(let xe=Math.max(se.start,W.start),Ve=Math.min(se.start+se.count,W.start+W.count);xe<Ve;xe+=3){const Me=x.getX(xe),tt=x.getX(xe+1),At=x.getX(xe+2);_=Fp(this,ie,f,Wc,D,k,O,U,H,Me,tt,At),_&&(_.faceIndex=Math.floor(xe/3),_.face.materialIndex=se.materialIndex,l.push(_))}}else for(let se=Math.max(0,W.start),ie=Math.min(x.count,W.start+W.count);se<ie;se+=3){const X=x.getX(se),Re=x.getX(se+1),xe=x.getX(se+2);_=Fp(this,m,f,Wc,D,k,O,U,H,X,Re,xe),_&&(_.faceIndex=Math.floor(se/3),l.push(_))}else if(void 0!==D)if(Array.isArray(m))for(let J=0,ee=V.length;J<ee;J++){const se=V[J],ie=m[se.materialIndex];for(let xe=Math.max(se.start,W.start),Ve=Math.min(se.start+se.count,W.start+W.count);xe<Ve;xe+=3)_=Fp(this,ie,f,Wc,D,k,O,U,H,xe,xe+1,xe+2),_&&(_.faceIndex=Math.floor(xe/3),_.face.materialIndex=se.materialIndex,l.push(_))}else for(let se=Math.max(0,W.start),ie=Math.min(D.count,W.start+W.count);se<ie;se+=3)_=Fp(this,m,f,Wc,D,k,O,U,H,se,se+1,se+2),_&&(_.faceIndex=Math.floor(se/3),l.push(_))}else d.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});class Gc extends Vr{constructor(l=1,d=1,m=1,v=1,_=1,x=1){super(),this.type="BoxGeometry",this.parameters={width:l,height:d,depth:m,widthSegments:v,heightSegments:_,depthSegments:x};const D=this;v=Math.floor(v),_=Math.floor(_),x=Math.floor(x);const k=[],O=[],U=[],H=[];let V=0,W=0;function J(ee,se,ie,X,Re,xe,Ve,Me,tt,At,wt){const st=xe/tt,Ut=Ve/At,en=xe/2,zt=Ve/2,Tt=Me/2,jt=tt+1,Gt=At+1;let Fn=0,Gn=0;const $n=new Ce;for(let Ir=0;Ir<Gt;Ir++){const Tr=Ir*Ut-zt;for(let oo=0;oo<jt;oo++)$n[ee]=(oo*st-en)*X,$n[se]=Tr*Re,$n[ie]=Tt,O.push($n.x,$n.y,$n.z),$n[ee]=0,$n[se]=0,$n[ie]=Me>0?1:-1,U.push($n.x,$n.y,$n.z),H.push(oo/tt),H.push(1-Ir/At),Fn+=1}for(let Ir=0;Ir<At;Ir++)for(let Tr=0;Tr<tt;Tr++){const Mi=V+Tr+jt*(Ir+1),rs=V+(Tr+1)+jt*(Ir+1),No=V+(Tr+1)+jt*Ir;k.push(V+Tr+jt*Ir,Mi,No),k.push(Mi,rs,No),Gn+=6}D.addGroup(W,Gn,wt),W+=Gn,V+=Fn}J("z","y","x",-1,-1,m,d,l,x,_,0),J("z","y","x",1,-1,m,d,-l,x,_,1),J("x","z","y",1,1,l,m,d,v,x,2),J("x","z","y",1,-1,l,m,-d,v,x,3),J("x","y","z",1,-1,l,d,m,v,_,4),J("x","y","z",-1,-1,l,d,-m,v,_,5),this.setIndex(k),this.setAttribute("position",new yr(O,3)),this.setAttribute("normal",new yr(U,3)),this.setAttribute("uv",new yr(H,2))}}function Gi(f){const l={};for(const d in f){l[d]={};for(const m in f[d]){const v=f[d][m];l[d][m]=v&&(v.isColor||v.isMatrix3||v.isMatrix4||v.isVector2||v.isVector3||v.isVector4||v.isTexture||v.isQuaternion)?v.clone():Array.isArray(v)?v.slice():v}}return l}function ks(f){const l={};for(let d=0;d<f.length;d++){const m=Gi(f[d]);for(const v in m)l[v]=m[v]}return l}const Yy={clone:Gi,merge:ks};function Ls(f){zo.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==f&&(void 0!==f.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(f))}function Uo(){Zr.call(this),this.type="Camera",this.matrixWorldInverse=new Br,this.projectionMatrix=new Br,this.projectionMatrixInverse=new Br}function ss(f=50,l=1,d=.1,m=2e3){Uo.call(this),this.type="PerspectiveCamera",this.fov=f,this.zoom=1,this.near=d,this.far=m,this.focus=10,this.aspect=l,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}(Ls.prototype=Object.create(zo.prototype)).constructor=Ls,Ls.prototype.isShaderMaterial=!0,Ls.prototype.copy=function(f){return zo.prototype.copy.call(this,f),this.fragmentShader=f.fragmentShader,this.vertexShader=f.vertexShader,this.uniforms=Gi(f.uniforms),this.defines=Object.assign({},f.defines),this.wireframe=f.wireframe,this.wireframeLinewidth=f.wireframeLinewidth,this.lights=f.lights,this.clipping=f.clipping,this.skinning=f.skinning,this.morphTargets=f.morphTargets,this.morphNormals=f.morphNormals,this.extensions=Object.assign({},f.extensions),this.glslVersion=f.glslVersion,this},Ls.prototype.toJSON=function(f){const l=zo.prototype.toJSON.call(this,f);l.glslVersion=this.glslVersion,l.uniforms={};for(const m in this.uniforms){const _=this.uniforms[m].value;l.uniforms[m]=_&&_.isTexture?{type:"t",value:_.toJSON(f).uuid}:_&&_.isColor?{type:"c",value:_.getHex()}:_&&_.isVector2?{type:"v2",value:_.toArray()}:_&&_.isVector3?{type:"v3",value:_.toArray()}:_&&_.isVector4?{type:"v4",value:_.toArray()}:_&&_.isMatrix3?{type:"m3",value:_.toArray()}:_&&_.isMatrix4?{type:"m4",value:_.toArray()}:{value:_}}Object.keys(this.defines).length>0&&(l.defines=this.defines),l.vertexShader=this.vertexShader,l.fragmentShader=this.fragmentShader;const d={};for(const m in this.extensions)!0===this.extensions[m]&&(d[m]=!0);return Object.keys(d).length>0&&(l.extensions=d),l},Uo.prototype=Object.assign(Object.create(Zr.prototype),{constructor:Uo,isCamera:!0,copy:function(f,l){return Zr.prototype.copy.call(this,f,l),this.matrixWorldInverse.copy(f.matrixWorldInverse),this.projectionMatrix.copy(f.projectionMatrix),this.projectionMatrixInverse.copy(f.projectionMatrixInverse),this},getWorldDirection:function(f){void 0===f&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),f=new Ce),this.updateWorldMatrix(!0,!1);const l=this.matrixWorld.elements;return f.set(-l[8],-l[9],-l[10]).normalize()},updateMatrixWorld:function(f){Zr.prototype.updateMatrixWorld.call(this,f),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(f,l){Zr.prototype.updateWorldMatrix.call(this,f,l),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),ss.prototype=Object.assign(Object.create(Uo.prototype),{constructor:ss,isPerspectiveCamera:!0,copy:function(f,l){return Uo.prototype.copy.call(this,f,l),this.fov=f.fov,this.zoom=f.zoom,this.near=f.near,this.far=f.far,this.focus=f.focus,this.aspect=f.aspect,this.view=null===f.view?null:Object.assign({},f.view),this.filmGauge=f.filmGauge,this.filmOffset=f.filmOffset,this},setFocalLength:function(f){const l=.5*this.getFilmHeight()/f;this.fov=2*Dr.RAD2DEG*Math.atan(l),this.updateProjectionMatrix()},getFocalLength:function(){const f=Math.tan(.5*Dr.DEG2RAD*this.fov);return.5*this.getFilmHeight()/f},getEffectiveFOV:function(){return 2*Dr.RAD2DEG*Math.atan(Math.tan(.5*Dr.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(f,l,d,m,v,_){this.aspect=f/l,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=f,this.view.fullHeight=l,this.view.offsetX=d,this.view.offsetY=m,this.view.width=v,this.view.height=_,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const f=this.near;let l=f*Math.tan(.5*Dr.DEG2RAD*this.fov)/this.zoom,d=2*l,m=this.aspect*d,v=-.5*m;const _=this.view;if(null!==this.view&&this.view.enabled){const D=_.fullWidth,k=_.fullHeight;v+=_.offsetX*m/D,l-=_.offsetY*d/k,m*=_.width/D,d*=_.height/k}const x=this.filmOffset;0!==x&&(v+=f*x/this.getFilmWidth()),this.projectionMatrix.makePerspective(v,v+m,l,l-d,f,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(f){const l=Zr.prototype.toJSON.call(this,f);return l.object.fov=this.fov,l.object.zoom=this.zoom,l.object.near=this.near,l.object.far=this.far,l.object.focus=this.focus,l.object.aspect=this.aspect,null!==this.view&&(l.object.view=Object.assign({},this.view)),l.object.filmGauge=this.filmGauge,l.object.filmOffset=this.filmOffset,l}});class Rg extends Zr{constructor(l,d,m){if(super(),this.type="CubeCamera",!0!==m.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=m;const v=new ss(90,1,l,d);v.layers=this.layers,v.up.set(0,-1,0),v.lookAt(new Ce(1,0,0)),this.add(v);const _=new ss(90,1,l,d);_.layers=this.layers,_.up.set(0,-1,0),_.lookAt(new Ce(-1,0,0)),this.add(_);const x=new ss(90,1,l,d);x.layers=this.layers,x.up.set(0,0,1),x.lookAt(new Ce(0,1,0)),this.add(x);const D=new ss(90,1,l,d);D.layers=this.layers,D.up.set(0,0,-1),D.lookAt(new Ce(0,-1,0)),this.add(D);const k=new ss(90,1,l,d);k.layers=this.layers,k.up.set(0,-1,0),k.lookAt(new Ce(0,0,1)),this.add(k);const O=new ss(90,1,l,d);O.layers=this.layers,O.up.set(0,-1,0),O.lookAt(new Ce(0,0,-1)),this.add(O)}update(l,d){null===this.parent&&this.updateMatrixWorld();const m=this.renderTarget,[v,_,x,D,k,O]=this.children,U=l.xr.enabled,H=l.getRenderTarget();l.xr.enabled=!1;const V=m.texture.generateMipmaps;m.texture.generateMipmaps=!1,l.setRenderTarget(m,0),l.render(d,v),l.setRenderTarget(m,1),l.render(d,_),l.setRenderTarget(m,2),l.render(d,x),l.setRenderTarget(m,3),l.render(d,D),l.setRenderTarget(m,4),l.render(d,k),m.texture.generateMipmaps=V,l.setRenderTarget(m,5),l.render(d,O),l.setRenderTarget(H),l.xr.enabled=U}}class Th extends fo{constructor(l,d,m,v,_,x,D,k,O,U){super(l=void 0!==l?l:[],d=void 0!==d?d:qe,m,v,_,x,D=void 0!==D?D:ec,k,O,U),this._needsFlipEnvMap=!0,this.flipY=!1}get images(){return this.image}set images(l){this.image=l}}Th.prototype.isCubeTexture=!0;class Dg extends qn{constructor(l,d,m){Number.isInteger(d)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),d=m),super(l,l,d),this.texture=new Th(void 0,(d=d||{}).mapping,d.wrapS,d.wrapT,d.magFilter,d.minFilter,d.format,d.type,d.anisotropy,d.encoding),this.texture.generateMipmaps=void 0!==d.generateMipmaps&&d.generateMipmaps,this.texture.minFilter=void 0!==d.minFilter?d.minFilter:Ii,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(l,d){this.texture.type=d.type,this.texture.format=Ko,this.texture.encoding=d.encoding,this.texture.generateMipmaps=d.generateMipmaps,this.texture.minFilter=d.minFilter,this.texture.magFilter=d.magFilter;const m_uniforms={tEquirect:{value:null}},m_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",m_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",v=new Gc(5,5,5),_=new Ls({name:"CubemapFromEquirect",uniforms:Gi(m_uniforms),vertexShader:m_vertexShader,fragmentShader:m_fragmentShader,side:K,blending:De});_.uniforms.tEquirect.value=d;const x=new ln(v,_),D=d.minFilter;return d.minFilter===qi&&(d.minFilter=Ii),new Rg(1,10,this).update(l,x),d.minFilter=D,x.geometry.dispose(),x.material.dispose(),this}clear(l,d,m,v){const _=l.getRenderTarget();for(let x=0;x<6;x++)l.setRenderTarget(this,x),l.clear(d,m,v);l.setRenderTarget(_)}}Dg.prototype.isWebGLCubeRenderTarget=!0;class $c extends fo{constructor(l,d,m,v,_,x,D,k,O,U,H,V){super(null,x,D,k,O,U,v,_,H,V),this.image={data:l||null,width:d||1,height:m||1},this.magFilter=void 0!==O?O:Bn,this.minFilter=void 0!==U?U:Bn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}$c.prototype.isDataTexture=!0;const uc=new Cd,Rh=new Ce;class kd{constructor(l=new iu,d=new iu,m=new iu,v=new iu,_=new iu,x=new iu){this.planes=[l,d,m,v,_,x]}set(l,d,m,v,_,x){const D=this.planes;return D[0].copy(l),D[1].copy(d),D[2].copy(m),D[3].copy(v),D[4].copy(_),D[5].copy(x),this}copy(l){const d=this.planes;for(let m=0;m<6;m++)d[m].copy(l.planes[m]);return this}setFromProjectionMatrix(l){const d=this.planes,m=l.elements,v=m[0],_=m[1],x=m[2],D=m[3],k=m[4],O=m[5],U=m[6],H=m[7],V=m[8],W=m[9],J=m[10],ee=m[11],se=m[12],ie=m[13],X=m[14],Re=m[15];return d[0].setComponents(D-v,H-k,ee-V,Re-se).normalize(),d[1].setComponents(D+v,H+k,ee+V,Re+se).normalize(),d[2].setComponents(D+_,H+O,ee+W,Re+ie).normalize(),d[3].setComponents(D-_,H-O,ee-W,Re-ie).normalize(),d[4].setComponents(D-x,H-U,ee-J,Re-X).normalize(),d[5].setComponents(D+x,H+U,ee+J,Re+X).normalize(),this}intersectsObject(l){const d=l.geometry;return null===d.boundingSphere&&d.computeBoundingSphere(),uc.copy(d.boundingSphere).applyMatrix4(l.matrixWorld),this.intersectsSphere(uc)}intersectsSprite(l){return uc.center.set(0,0,0),uc.radius=.7071067811865476,uc.applyMatrix4(l.matrixWorld),this.intersectsSphere(uc)}intersectsSphere(l){const d=this.planes,m=l.center,v=-l.radius;for(let _=0;_<6;_++)if(d[_].distanceToPoint(m)<v)return!1;return!0}intersectsBox(l){const d=this.planes;for(let m=0;m<6;m++){const v=d[m];if(Rh.x=v.normal.x>0?l.max.x:l.min.x,Rh.y=v.normal.y>0?l.max.y:l.min.y,Rh.z=v.normal.z>0?l.max.z:l.min.z,v.distanceToPoint(Rh)<0)return!1}return!0}containsPoint(l){const d=this.planes;for(let m=0;m<6;m++)if(d[m].distanceToPoint(l)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Hp(){let f=null,l=!1,d=null,m=null;function v(_,x){d(_,x),m=f.requestAnimationFrame(v)}return{start:function(){!0!==l&&null!==d&&(m=f.requestAnimationFrame(v),l=!0)},stop:function(){f.cancelAnimationFrame(m),l=!1},setAnimationLoop:function(_){d=_},setContext:function(_){f=_}}}function nC(f,l){const d=l.isWebGL2,m=new WeakMap;return{get:function x(O){return O.isInterleavedBufferAttribute&&(O=O.data),m.get(O)},remove:function D(O){O.isInterleavedBufferAttribute&&(O=O.data);const U=m.get(O);U&&(f.deleteBuffer(U.buffer),m.delete(O))},update:function k(O,U){if(O.isGLBufferAttribute){const V=m.get(O);return void((!V||V.version<O.version)&&m.set(O,{buffer:O.buffer,type:O.type,bytesPerElement:O.elementSize,version:O.version}))}O.isInterleavedBufferAttribute&&(O=O.data);const H=m.get(O);void 0===H?m.set(O,function v(O,U){const H=O.array,V=O.usage,W=f.createBuffer();f.bindBuffer(U,W),f.bufferData(U,H,V),O.onUploadCallback();let J=5126;return H instanceof Float32Array?J=5126:H instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):H instanceof Uint16Array?O.isFloat16BufferAttribute?d?J=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):J=5123:H instanceof Int16Array?J=5122:H instanceof Uint32Array?J=5125:H instanceof Int32Array?J=5124:H instanceof Int8Array?J=5120:H instanceof Uint8Array&&(J=5121),{buffer:W,type:J,bytesPerElement:H.BYTES_PER_ELEMENT,version:O.version}}(O,U)):H.version<O.version&&(function _(O,U,H){const V=U.array,W=U.updateRange;f.bindBuffer(H,O),-1===W.count?f.bufferSubData(H,0,V):(d?f.bufferSubData(H,W.offset*V.BYTES_PER_ELEMENT,V,W.offset,W.count):f.bufferSubData(H,W.offset*V.BYTES_PER_ELEMENT,V.subarray(W.offset,W.offset+W.count)),W.count=-1)}(H.buffer,O,U),H.version=O.version)}}}class su extends Vr{constructor(l=1,d=1,m=1,v=1){super(),this.type="PlaneGeometry",this.parameters={width:l,height:d,widthSegments:m,heightSegments:v};const _=l/2,x=d/2,D=Math.floor(m),k=Math.floor(v),O=D+1,U=k+1,H=l/D,V=d/k,W=[],J=[],ee=[],se=[];for(let ie=0;ie<U;ie++){const X=ie*V-x;for(let Re=0;Re<O;Re++)J.push(Re*H-_,-X,0),ee.push(0,0,1),se.push(Re/D),se.push(1-ie/k)}for(let ie=0;ie<k;ie++)for(let X=0;X<D;X++){const xe=X+O*(ie+1),Ve=X+1+O*(ie+1),Me=X+1+O*ie;W.push(X+O*ie,xe,Me),W.push(xe,Ve,Me)}this.setIndex(W),this.setAttribute("position",new yr(J,3)),this.setAttribute("normal",new yr(ee,3)),this.setAttribute("uv",new yr(se,2))}}const io={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},nr={common:{diffuse:{value:new hr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Os},uv2Transform:{value:new Os},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new _n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new hr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new hr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Os}},sprite:{diffuse:{value:new hr(15658734)},opacity:{value:1},center:{value:new _n(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Os}}},fc={basic:{uniforms:ks([nr.common,nr.specularmap,nr.envmap,nr.aomap,nr.lightmap,nr.fog]),vertexShader:io.meshbasic_vert,fragmentShader:io.meshbasic_frag},lambert:{uniforms:ks([nr.common,nr.specularmap,nr.envmap,nr.aomap,nr.lightmap,nr.emissivemap,nr.fog,nr.lights,{emissive:{value:new hr(0)}}]),vertexShader:io.meshlambert_vert,fragmentShader:io.meshlambert_frag},phong:{uniforms:ks([nr.common,nr.specularmap,nr.envmap,nr.aomap,nr.lightmap,nr.emissivemap,nr.bumpmap,nr.normalmap,nr.displacementmap,nr.fog,nr.lights,{emissive:{value:new hr(0)},specular:{value:new hr(1118481)},shininess:{value:30}}]),vertexShader:io.meshphong_vert,fragmentShader:io.meshphong_frag},standard:{uniforms:ks([nr.common,nr.envmap,nr.aomap,nr.lightmap,nr.emissivemap,nr.bumpmap,nr.normalmap,nr.displacementmap,nr.roughnessmap,nr.metalnessmap,nr.fog,nr.lights,{emissive:{value:new hr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:io.meshphysical_vert,fragmentShader:io.meshphysical_frag},toon:{uniforms:ks([nr.common,nr.aomap,nr.lightmap,nr.emissivemap,nr.bumpmap,nr.normalmap,nr.displacementmap,nr.gradientmap,nr.fog,nr.lights,{emissive:{value:new hr(0)}}]),vertexShader:io.meshtoon_vert,fragmentShader:io.meshtoon_frag},matcap:{uniforms:ks([nr.common,nr.bumpmap,nr.normalmap,nr.displacementmap,nr.fog,{matcap:{value:null}}]),vertexShader:io.meshmatcap_vert,fragmentShader:io.meshmatcap_frag},points:{uniforms:ks([nr.points,nr.fog]),vertexShader:io.points_vert,fragmentShader:io.points_frag},dashed:{uniforms:ks([nr.common,nr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:io.linedashed_vert,fragmentShader:io.linedashed_frag},depth:{uniforms:ks([nr.common,nr.displacementmap]),vertexShader:io.depth_vert,fragmentShader:io.depth_frag},normal:{uniforms:ks([nr.common,nr.bumpmap,nr.normalmap,nr.displacementmap,{opacity:{value:1}}]),vertexShader:io.normal_vert,fragmentShader:io.normal_frag},sprite:{uniforms:ks([nr.sprite,nr.fog]),vertexShader:io.sprite_vert,fragmentShader:io.sprite_frag},background:{uniforms:{uvTransform:{value:new Os},t2D:{value:null}},vertexShader:io.background_vert,fragmentShader:io.background_frag},cube:{uniforms:ks([nr.envmap,{opacity:{value:1}}]),vertexShader:io.cube_vert,fragmentShader:io.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:io.equirect_vert,fragmentShader:io.equirect_frag},distanceRGBA:{uniforms:ks([nr.common,nr.displacementmap,{referencePosition:{value:new Ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:io.distanceRGBA_vert,fragmentShader:io.distanceRGBA_frag},shadow:{uniforms:ks([nr.lights,nr.fog,{color:{value:new hr(0)},opacity:{value:1}}]),vertexShader:io.shadow_vert,fragmentShader:io.shadow_frag}};function w2(f,l,d,m,v){const _=new hr(0);let D,k,x=0,O=null,U=0,H=null;function W(J,ee){d.buffers.color.setClear(J.r,J.g,J.b,ee,v)}return{getClearColor:function(){return _},setClearColor:function(J,ee=1){_.set(J),x=ee,W(_,x)},getClearAlpha:function(){return x},setClearAlpha:function(J){x=J,W(_,x)},render:function V(J,ee,se,ie){let X=!0===ee.isScene?ee.background:null;X&&X.isTexture&&(X=l.get(X));const Re=f.xr,xe=Re.getSession&&Re.getSession();xe&&"additive"===xe.environmentBlendMode&&(X=null),null===X?W(_,x):X&&X.isColor&&(W(X,1),ie=!0),(f.autoClear||ie)&&f.clear(f.autoClearColor,f.autoClearDepth,f.autoClearStencil),X&&(X.isCubeTexture||X.isWebGLCubeRenderTarget||X.mapping===mt)?(void 0===k&&(k=new ln(new Gc(1,1,1),new Ls({name:"BackgroundCubeMaterial",uniforms:Gi(fc.cube.uniforms),vertexShader:fc.cube.vertexShader,fragmentShader:fc.cube.fragmentShader,side:K,depthTest:!1,depthWrite:!1,fog:!1})),k.geometry.deleteAttribute("normal"),k.geometry.deleteAttribute("uv"),k.onBeforeRender=function(Ve,Me,tt){this.matrixWorld.copyPosition(tt.matrixWorld)},Object.defineProperty(k.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),m.update(k)),X.isWebGLCubeRenderTarget&&(X=X.texture),k.material.uniforms.envMap.value=X,k.material.uniforms.flipEnvMap.value=X.isCubeTexture&&X._needsFlipEnvMap?-1:1,(O!==X||U!==X.version||H!==f.toneMapping)&&(k.material.needsUpdate=!0,O=X,U=X.version,H=f.toneMapping),J.unshift(k,k.geometry,k.material,0,0,null)):X&&X.isTexture&&(void 0===D&&(D=new ln(new su(2,2),new Ls({name:"BackgroundMaterial",uniforms:Gi(fc.background.uniforms),vertexShader:fc.background.vertexShader,fragmentShader:fc.background.fragmentShader,side:me,depthTest:!1,depthWrite:!1,fog:!1})),D.geometry.deleteAttribute("normal"),Object.defineProperty(D.material,"map",{get:function(){return this.uniforms.t2D.value}}),m.update(D)),D.material.uniforms.t2D.value=X,!0===X.matrixAutoUpdate&&X.updateMatrix(),D.material.uniforms.uvTransform.value.copy(X.matrix),(O!==X||U!==X.version||H!==f.toneMapping)&&(D.material.needsUpdate=!0,O=X,U=X.version,H=f.toneMapping),J.unshift(D,D.geometry,D.material,0,0,null))}}}function C8(f,l,d,m){const v=f.getParameter(34921),_=m.isWebGL2?null:l.get("OES_vertex_array_object"),x=m.isWebGL2||null!==_,D={},k=ee(null);let O=k;function V(zt){return m.isWebGL2?f.bindVertexArray(zt):_.bindVertexArrayOES(zt)}function W(zt){return m.isWebGL2?f.deleteVertexArray(zt):_.deleteVertexArrayOES(zt)}function ee(zt){const Tt=[],jt=[],Gt=[];for(let Fn=0;Fn<v;Fn++)Tt[Fn]=0,jt[Fn]=0,Gt[Fn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Tt,enabledAttributes:jt,attributeDivisors:Gt,object:zt,attributes:{},index:null}}function X(){const zt=O.newAttributes;for(let Tt=0,jt=zt.length;Tt<jt;Tt++)zt[Tt]=0}function Re(zt){xe(zt,0)}function xe(zt,Tt){const Gt=O.enabledAttributes,Fn=O.attributeDivisors;O.newAttributes[zt]=1,0===Gt[zt]&&(f.enableVertexAttribArray(zt),Gt[zt]=1),Fn[zt]!==Tt&&((m.isWebGL2?f:l.get("ANGLE_instanced_arrays"))[m.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](zt,Tt),Fn[zt]=Tt)}function Ve(){const zt=O.newAttributes,Tt=O.enabledAttributes;for(let jt=0,Gt=Tt.length;jt<Gt;jt++)Tt[jt]!==zt[jt]&&(f.disableVertexAttribArray(jt),Tt[jt]=0)}function Me(zt,Tt,jt,Gt,Fn,Gn){!0!==m.isWebGL2||5124!==jt&&5125!==jt?f.vertexAttribPointer(zt,Tt,jt,Gt,Fn,Gn):f.vertexAttribIPointer(zt,Tt,jt,Fn,Gn)}function Ut(){en(),O!==k&&(O=k,V(O.object))}function en(){k.geometry=null,k.program=null,k.wireframe=!1}return{setup:function U(zt,Tt,jt,Gt,Fn){let Gn=!1;if(x){const $n=function J(zt,Tt,jt){const Gt=!0===jt.wireframe;let Fn=D[zt.id];void 0===Fn&&(Fn={},D[zt.id]=Fn);let Gn=Fn[Tt.id];void 0===Gn&&(Gn={},Fn[Tt.id]=Gn);let $n=Gn[Gt];return void 0===$n&&($n=ee(function H(){return m.isWebGL2?f.createVertexArray():_.createVertexArrayOES()}()),Gn[Gt]=$n),$n}(Gt,jt,Tt);O!==$n&&(O=$n,V(O.object)),Gn=function se(zt,Tt){const jt=O.attributes,Gt=zt.attributes;let Fn=0;for(const Gn in Gt){const $n=jt[Gn],Ir=Gt[Gn];if(void 0===$n||$n.attribute!==Ir||$n.data!==Ir.data)return!0;Fn++}return O.attributesNum!==Fn||O.index!==Tt}(Gt,Fn),Gn&&function ie(zt,Tt){const jt={},Gt=zt.attributes;let Fn=0;for(const Gn in Gt){const $n=Gt[Gn],Ir={};Ir.attribute=$n,$n.data&&(Ir.data=$n.data),jt[Gn]=Ir,Fn++}O.attributes=jt,O.attributesNum=Fn,O.index=Tt}(Gt,Fn)}else{const $n=!0===Tt.wireframe;(O.geometry!==Gt.id||O.program!==jt.id||O.wireframe!==$n)&&(O.geometry=Gt.id,O.program=jt.id,O.wireframe=$n,Gn=!0)}!0===zt.isInstancedMesh&&(Gn=!0),null!==Fn&&d.update(Fn,34963),Gn&&(function tt(zt,Tt,jt,Gt){if(!1===m.isWebGL2&&(zt.isInstancedMesh||Gt.isInstancedBufferGeometry)&&null===l.get("ANGLE_instanced_arrays"))return;X();const Fn=Gt.attributes,Gn=jt.getAttributes(),$n=Tt.defaultAttributeValues;for(const Ir in Gn){const Tr=Gn[Ir];if(Tr>=0){const oo=Fn[Ir];if(void 0!==oo){const Mi=oo.normalized,rs=oo.itemSize,No=d.get(oo);if(void 0===No)continue;const vn=No.buffer,hs=No.type,Co=No.bytesPerElement;if(oo.isInterleavedBufferAttribute){const Fo=oo.data,Ei=Fo.stride,Wo=oo.offset;Fo&&Fo.isInstancedInterleavedBuffer?(xe(Tr,Fo.meshPerAttribute),void 0===Gt._maxInstanceCount&&(Gt._maxInstanceCount=Fo.meshPerAttribute*Fo.count)):Re(Tr),f.bindBuffer(34962,vn),Me(Tr,rs,hs,Mi,Ei*Co,Wo*Co)}else oo.isInstancedBufferAttribute?(xe(Tr,oo.meshPerAttribute),void 0===Gt._maxInstanceCount&&(Gt._maxInstanceCount=oo.meshPerAttribute*oo.count)):Re(Tr),f.bindBuffer(34962,vn),Me(Tr,rs,hs,Mi,0,0)}else if("instanceMatrix"===Ir){const Mi=d.get(zt.instanceMatrix);if(void 0===Mi)continue;const rs=Mi.buffer,No=Mi.type;xe(Tr+0,1),xe(Tr+1,1),xe(Tr+2,1),xe(Tr+3,1),f.bindBuffer(34962,rs),f.vertexAttribPointer(Tr+0,4,No,!1,64,0),f.vertexAttribPointer(Tr+1,4,No,!1,64,16),f.vertexAttribPointer(Tr+2,4,No,!1,64,32),f.vertexAttribPointer(Tr+3,4,No,!1,64,48)}else if("instanceColor"===Ir){const Mi=d.get(zt.instanceColor);if(void 0===Mi)continue;const rs=Mi.buffer,No=Mi.type;xe(Tr,1),f.bindBuffer(34962,rs),f.vertexAttribPointer(Tr,3,No,!1,12,0)}else if(void 0!==$n){const Mi=$n[Ir];if(void 0!==Mi)switch(Mi.length){case 2:f.vertexAttrib2fv(Tr,Mi);break;case 3:f.vertexAttrib3fv(Tr,Mi);break;case 4:f.vertexAttrib4fv(Tr,Mi);break;default:f.vertexAttrib1fv(Tr,Mi)}}}}Ve()}(zt,Tt,jt,Gt),null!==Fn&&f.bindBuffer(34963,d.get(Fn).buffer))},reset:Ut,resetDefaultState:en,dispose:function At(){Ut();for(const zt in D){const Tt=D[zt];for(const jt in Tt){const Gt=Tt[jt];for(const Fn in Gt)W(Gt[Fn].object),delete Gt[Fn];delete Tt[jt]}delete D[zt]}},releaseStatesOfGeometry:function wt(zt){if(void 0===D[zt.id])return;const Tt=D[zt.id];for(const jt in Tt){const Gt=Tt[jt];for(const Fn in Gt)W(Gt[Fn].object),delete Gt[Fn];delete Tt[jt]}delete D[zt.id]},releaseStatesOfProgram:function st(zt){for(const Tt in D){const jt=D[Tt];if(void 0===jt[zt.id])continue;const Gt=jt[zt.id];for(const Fn in Gt)W(Gt[Fn].object),delete Gt[Fn];delete jt[zt.id]}},initAttributes:X,enableAttribute:Re,disableUnusedAttributes:Ve}}function M2(f,l,d,m){const v=m.isWebGL2;let _;this.setMode=function x(O){_=O},this.render=function D(O,U){f.drawArrays(_,O,U),d.update(U,_,1)},this.renderInstances=function k(O,U,H){if(0===H)return;let V,W;if(v)V=f,W="drawArraysInstanced";else if(V=l.get("ANGLE_instanced_arrays"),W="drawArraysInstancedANGLE",null===V)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");V[W](_,O,U,H),d.update(U,_,H)}}function S2(f,l,d){let m;function _(Me){if("highp"===Me){if(f.getShaderPrecisionFormat(35633,36338).precision>0&&f.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Me="mediump"}return"mediump"===Me&&f.getShaderPrecisionFormat(35633,36337).precision>0&&f.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const x="undefined"!=typeof WebGL2RenderingContext&&f instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&f instanceof WebGL2ComputeRenderingContext;let D=void 0!==d.precision?d.precision:"highp";const k=_(D);k!==D&&(console.warn("THREE.WebGLRenderer:",D,"not supported, using",k,"instead."),D=k);const O=!0===d.logarithmicDepthBuffer,U=f.getParameter(34930),H=f.getParameter(35660),V=f.getParameter(3379),W=f.getParameter(34076),J=f.getParameter(34921),ee=f.getParameter(36347),se=f.getParameter(36348),ie=f.getParameter(36349),X=H>0,Re=x||l.has("OES_texture_float");return{isWebGL2:x,getMaxAnisotropy:function v(){if(void 0!==m)return m;if(!0===l.has("EXT_texture_filter_anisotropic")){const Me=l.get("EXT_texture_filter_anisotropic");m=f.getParameter(Me.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else m=0;return m},getMaxPrecision:_,precision:D,logarithmicDepthBuffer:O,maxTextures:U,maxVertexTextures:H,maxTextureSize:V,maxCubemapSize:W,maxAttributes:J,maxVertexUniforms:ee,maxVaryings:se,maxFragmentUniforms:ie,vertexTextures:X,floatFragmentTextures:Re,floatVertexTextures:X&&Re,maxSamples:x?f.getParameter(36183):0}}function x2(f){const l=this;let d=null,m=0,v=!1,_=!1;const x=new iu,D=new Os,k={value:null,needsUpdate:!1};function O(){k.value!==d&&(k.value=d,k.needsUpdate=m>0),l.numPlanes=m,l.numIntersection=0}function U(H,V,W,J){const ee=null!==H?H.length:0;let se=null;if(0!==ee){if(se=k.value,!0!==J||null===se){const ie=W+4*ee,X=V.matrixWorldInverse;D.getNormalMatrix(X),(null===se||se.length<ie)&&(se=new Float32Array(ie));for(let Re=0,xe=W;Re!==ee;++Re,xe+=4)x.copy(H[Re]).applyMatrix4(X,D),x.normal.toArray(se,xe),se[xe+3]=x.constant}k.value=se,k.needsUpdate=!0}return l.numPlanes=ee,l.numIntersection=0,se}this.uniform=k,this.numPlanes=0,this.numIntersection=0,this.init=function(H,V,W){const J=0!==H.length||V||0!==m||v;return v=V,d=U(H,W,0),m=H.length,J},this.beginShadows=function(){_=!0,U(null)},this.endShadows=function(){_=!1,O()},this.setState=function(H,V,W){const J=H.clippingPlanes,ee=H.clipIntersection,se=H.clipShadows,ie=f.get(H);if(!v||null===J||0===J.length||_&&!se)_?U(null):O();else{const X=_?0:m,Re=4*X;let xe=ie.clippingState||null;k.value=xe,xe=U(J,V,Re,W);for(let Ve=0;Ve!==Re;++Ve)xe[Ve]=d[Ve];ie.clippingState=xe,this.numIntersection=ee?this.numPlanes:0,this.numPlanes+=X}}}function n0(f){let l=new WeakMap;function d(x,D){return D===Ze?x.mapping=qe:D===yt&&(x.mapping=Xe),x}function v(x){const D=x.target;D.removeEventListener("dispose",v);const k=l.get(D);void 0!==k&&(l.delete(D),k.dispose())}return{get:function m(x){if(x&&x.isTexture){const D=x.mapping;if(D===Ze||D===yt){if(l.has(x))return d(l.get(x).texture,x.mapping);{const k=x.image;if(k&&k.height>0){const O=f.getRenderTarget(),U=new Dg(k.height/2);return U.fromEquirectangularTexture(f,x),l.set(x,U),f.setRenderTarget(O),x.addEventListener("dispose",v),d(U.texture,x.mapping)}return null}}}return x},dispose:function _(){l=new WeakMap}}}function FR(f){const l={};function d(m){if(void 0!==l[m])return l[m];let v;switch(m){case"WEBGL_depth_texture":v=f.getExtension("WEBGL_depth_texture")||f.getExtension("MOZ_WEBGL_depth_texture")||f.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":v=f.getExtension("EXT_texture_filter_anisotropic")||f.getExtension("MOZ_EXT_texture_filter_anisotropic")||f.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":v=f.getExtension("WEBGL_compressed_texture_s3tc")||f.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||f.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":v=f.getExtension("WEBGL_compressed_texture_pvrtc")||f.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:v=f.getExtension(m)}return l[m]=v,v}return{has:function(m){return null!==d(m)},init:function(m){m.isWebGL2?d("EXT_color_buffer_float"):(d("WEBGL_depth_texture"),d("OES_texture_float"),d("OES_texture_half_float"),d("OES_texture_half_float_linear"),d("OES_standard_derivatives"),d("OES_element_index_uint"),d("OES_vertex_array_object"),d("ANGLE_instanced_arrays")),d("OES_texture_float_linear"),d("EXT_color_buffer_half_float")},get:function(m){const v=d(m);return null===v&&console.warn("THREE.WebGLRenderer: "+m+" extension not supported."),v}}}function C2(f,l,d,m){const v={},_=new WeakMap;function x(H){const V=H.target;null!==V.index&&l.remove(V.index);for(const J in V.attributes)l.remove(V.attributes[J]);V.removeEventListener("dispose",x),delete v[V.id];const W=_.get(V);W&&(l.remove(W),_.delete(V)),m.releaseStatesOfGeometry(V),!0===V.isInstancedBufferGeometry&&delete V._maxInstanceCount,d.memory.geometries--}function O(H){const V=[],W=H.index,J=H.attributes.position;let ee=0;if(null!==W){const X=W.array;ee=W.version;for(let Re=0,xe=X.length;Re<xe;Re+=3){const Ve=X[Re+0],Me=X[Re+1],tt=X[Re+2];V.push(Ve,Me,Me,tt,tt,Ve)}}else{ee=J.version;for(let Re=0,xe=J.array.length/3-1;Re<xe;Re+=3){const Ve=Re+0,Me=Re+1,tt=Re+2;V.push(Ve,Me,Me,tt,tt,Ve)}}const se=new(lo(V)>65535?Od:Ch)(V,1);se.version=ee;const ie=_.get(H);ie&&l.remove(ie),_.set(H,se)}return{get:function D(H,V){return!0===v[V.id]||(V.addEventListener("dispose",x),v[V.id]=!0,d.memory.geometries++),V},update:function k(H){const V=H.attributes;for(const J in V)l.update(V[J],34962);const W=H.morphAttributes;for(const J in W){const ee=W[J];for(let se=0,ie=ee.length;se<ie;se++)l.update(ee[se],34962)}},getWireframeAttribute:function U(H){const V=_.get(H);if(V){const W=H.index;null!==W&&V.version<W.version&&O(H)}else O(H);return _.get(H)}}}function HR(f,l,d,m){const v=m.isWebGL2;let _,D,k;this.setMode=function x(V){_=V},this.setIndex=function O(V){D=V.type,k=V.bytesPerElement},this.render=function U(V,W){f.drawElements(_,W,D,V*k),d.update(W,_,1)},this.renderInstances=function H(V,W,J){if(0===J)return;let ee,se;if(v)ee=f,se="drawElementsInstanced";else if(ee=l.get("ANGLE_instanced_arrays"),se="drawElementsInstancedANGLE",null===ee)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");ee[se](_,W,D,V*k,J),d.update(W,_,J)}}function E8(f){const d={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:d,programs:null,autoReset:!0,reset:function v(){d.frame++,d.calls=0,d.triangles=0,d.points=0,d.lines=0},update:function m(_,x,D){switch(d.calls++,x){case 4:d.triangles+=D*(_/3);break;case 1:d.lines+=D*(_/2);break;case 3:d.lines+=D*(_-1);break;case 2:d.lines+=D*_;break;case 0:d.points+=D*_;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",x)}}}}function BR(f,l){return f[0]-l[0]}function T8(f,l){return Math.abs(l[1])-Math.abs(f[1])}function yC(f){const l={},d=new Float32Array(8),m=[];for(let _=0;_<8;_++)m[_]=[_,0];return{update:function v(_,x,D,k){const O=_.morphTargetInfluences,U=void 0===O?0:O.length;let H=l[x.id];if(void 0===H){H=[];for(let se=0;se<U;se++)H[se]=[se,0];l[x.id]=H}for(let se=0;se<U;se++){const ie=H[se];ie[0]=se,ie[1]=O[se]}H.sort(T8);for(let se=0;se<8;se++)se<U&&H[se][1]?(m[se][0]=H[se][0],m[se][1]=H[se][1]):(m[se][0]=Number.MAX_SAFE_INTEGER,m[se][1]=0);m.sort(BR);const V=D.morphTargets&&x.morphAttributes.position,W=D.morphNormals&&x.morphAttributes.normal;let J=0;for(let se=0;se<8;se++){const ie=m[se],X=ie[0],Re=ie[1];X!==Number.MAX_SAFE_INTEGER&&Re?(V&&x.getAttribute("morphTarget"+se)!==V[X]&&x.setAttribute("morphTarget"+se,V[X]),W&&x.getAttribute("morphNormal"+se)!==W[X]&&x.setAttribute("morphNormal"+se,W[X]),d[se]=Re,J+=Re):(V&&!0===x.hasAttribute("morphTarget"+se)&&x.deleteAttribute("morphTarget"+se),W&&!0===x.hasAttribute("morphNormal"+se)&&x.deleteAttribute("morphNormal"+se),d[se]=0)}const ee=x.morphTargetsRelative?1:1-J;k.getUniforms().setValue(f,"morphTargetBaseInfluence",ee),k.getUniforms().setValue(f,"morphTargetInfluences",d)}}}function E2(f,l,d,m){let v=new WeakMap;function D(k){const O=k.target;O.removeEventListener("dispose",D),d.remove(O.instanceMatrix),null!==O.instanceColor&&d.remove(O.instanceColor)}return{update:function _(k){const O=m.render.frame,H=l.get(k,k.geometry);return v.get(H)!==O&&(l.update(H),v.set(H,O)),k.isInstancedMesh&&(!1===k.hasEventListener("dispose",D)&&k.addEventListener("dispose",D),d.update(k.instanceMatrix,34962),null!==k.instanceColor&&d.update(k.instanceColor,34962)),H},dispose:function x(){v=new WeakMap}}}fc.physical={uniforms:ks([fc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new _n(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new hr(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:io.meshphysical_vert,fragmentShader:io.meshphysical_frag};class r0 extends fo{constructor(l=null,d=1,m=1,v=1){super(null),this.image={data:l,width:d,height:m,depth:v},this.magFilter=Bn,this.minFilter=Bn,this.wrapR=hn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}r0.prototype.isDataTexture2DArray=!0;class Vg extends fo{constructor(l=null,d=1,m=1,v=1){super(null),this.image={data:l,width:d,height:m,depth:v},this.magFilter=Bn,this.minFilter=Bn,this.wrapR=hn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}Vg.prototype.isDataTexture3D=!0;const o0=new fo,zg=new r0,T2=new Vg,VR=new Th,R2=[],i_=[],s0=new Float32Array(16),_C=new Float32Array(9),bC=new Float32Array(4);function Up(f,l,d){const m=f[0];if(m<=0||m>0)return f;const v=l*d;let _=R2[v];if(void 0===_&&(_=new Float32Array(v),R2[v]=_),0!==l){m.toArray(_,0);for(let x=1,D=0;x!==l;++x)D+=d,f[x].toArray(_,D)}return _}function Pa(f,l){if(f.length!==l.length)return!1;for(let d=0,m=f.length;d<m;d++)if(f[d]!==l[d])return!1;return!0}function Ou(f,l){for(let d=0,m=l.length;d<m;d++)f[d]=l[d]}function zR(f,l){let d=i_[l];void 0===d&&(d=new Int32Array(l),i_[l]=d);for(let m=0;m!==l;++m)d[m]=f.allocateTextureUnit();return d}function D2(f,l){const d=this.cache;d[0]!==l&&(f.uniform1f(this.addr,l),d[0]=l)}function A2(f,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y)&&(f.uniform2f(this.addr,l.x,l.y),d[0]=l.x,d[1]=l.y);else{if(Pa(d,l))return;f.uniform2fv(this.addr,l),Ou(d,l)}}function O2(f,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y||d[2]!==l.z)&&(f.uniform3f(this.addr,l.x,l.y,l.z),d[0]=l.x,d[1]=l.y,d[2]=l.z);else if(void 0!==l.r)(d[0]!==l.r||d[1]!==l.g||d[2]!==l.b)&&(f.uniform3f(this.addr,l.r,l.g,l.b),d[0]=l.r,d[1]=l.g,d[2]=l.b);else{if(Pa(d,l))return;f.uniform3fv(this.addr,l),Ou(d,l)}}function ku(f,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y||d[2]!==l.z||d[3]!==l.w)&&(f.uniform4f(this.addr,l.x,l.y,l.z,l.w),d[0]=l.x,d[1]=l.y,d[2]=l.z,d[3]=l.w);else{if(Pa(d,l))return;f.uniform4fv(this.addr,l),Ou(d,l)}}function Ld(f,l){const d=this.cache,m=l.elements;if(void 0===m){if(Pa(d,l))return;f.uniformMatrix2fv(this.addr,!1,l),Ou(d,l)}else{if(Pa(d,m))return;bC.set(m),f.uniformMatrix2fv(this.addr,!1,bC),Ou(d,m)}}function k2(f,l){const d=this.cache,m=l.elements;if(void 0===m){if(Pa(d,l))return;f.uniformMatrix3fv(this.addr,!1,l),Ou(d,l)}else{if(Pa(d,m))return;_C.set(m),f.uniformMatrix3fv(this.addr,!1,_C),Ou(d,m)}}function L2(f,l){const d=this.cache,m=l.elements;if(void 0===m){if(Pa(d,l))return;f.uniformMatrix4fv(this.addr,!1,l),Ou(d,l)}else{if(Pa(d,m))return;s0.set(m),f.uniformMatrix4fv(this.addr,!1,s0),Ou(d,m)}}function P2(f,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(f.uniform1i(this.addr,v),m[0]=v),d.safeSetTexture2D(l||o0,v)}function I2(f,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(f.uniform1i(this.addr,v),m[0]=v),d.setTexture2DArray(l||zg,v)}function N2(f,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(f.uniform1i(this.addr,v),m[0]=v),d.setTexture3D(l||T2,v)}function F2(f,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(f.uniform1i(this.addr,v),m[0]=v),d.safeSetTextureCube(l||VR,v)}function UR(f,l){const d=this.cache;d[0]!==l&&(f.uniform1i(this.addr,l),d[0]=l)}function H2(f,l){const d=this.cache;Pa(d,l)||(f.uniform2iv(this.addr,l),Ou(d,l))}function B2(f,l){const d=this.cache;Pa(d,l)||(f.uniform3iv(this.addr,l),Ou(d,l))}function V2(f,l){const d=this.cache;Pa(d,l)||(f.uniform4iv(this.addr,l),Ou(d,l))}function z2(f,l){const d=this.cache;d[0]!==l&&(f.uniform1ui(this.addr,l),d[0]=l)}function U2(f,l){f.uniform1fv(this.addr,l)}function o_(f,l){f.uniform1iv(this.addr,l)}function jR(f,l){f.uniform2iv(this.addr,l)}function Pd(f,l){f.uniform3iv(this.addr,l)}function s_(f,l){f.uniform4iv(this.addr,l)}function WR(f,l){const d=Up(l,this.size,2);f.uniform2fv(this.addr,d)}function YR(f,l){const d=Up(l,this.size,3);f.uniform3fv(this.addr,d)}function GR(f,l){const d=Up(l,this.size,4);f.uniform4fv(this.addr,d)}function D8(f,l){const d=Up(l,this.size,4);f.uniformMatrix2fv(this.addr,!1,d)}function A8(f,l){const d=Up(l,this.size,9);f.uniformMatrix3fv(this.addr,!1,d)}function O8(f,l){const d=Up(l,this.size,16);f.uniformMatrix4fv(this.addr,!1,d)}function wC(f,l,d){const m=l.length,v=zR(d,m);f.uniform1iv(this.addr,v);for(let _=0;_!==m;++_)d.safeSetTexture2D(l[_]||o0,v[_])}function MC(f,l,d){const m=l.length,v=zR(d,m);f.uniform1iv(this.addr,v);for(let _=0;_!==m;++_)d.safeSetTextureCube(l[_]||VR,v[_])}function k8(f,l,d){this.id=f,this.addr=d,this.cache=[],this.setValue=function R8(f){switch(f){case 5126:return D2;case 35664:return A2;case 35665:return O2;case 35666:return ku;case 35674:return Ld;case 35675:return k2;case 35676:return L2;case 5124:case 35670:return UR;case 35667:case 35671:return H2;case 35668:case 35672:return B2;case 35669:case 35673:return V2;case 5125:return z2;case 35678:case 36198:case 36298:case 36306:case 35682:return P2;case 35679:case 36299:case 36307:return N2;case 35680:case 36300:case 36308:case 36293:return F2;case 36289:case 36303:case 36311:case 36292:return I2}}(l.type)}function j2(f,l,d){this.id=f,this.addr=d,this.cache=[],this.size=l.size,this.setValue=function SC(f){switch(f){case 5126:return U2;case 35664:return WR;case 35665:return YR;case 35666:return GR;case 35674:return D8;case 35675:return A8;case 35676:return O8;case 5124:case 35670:return o_;case 35667:case 35671:return jR;case 35668:case 35672:return Pd;case 35669:case 35673:return s_;case 35678:case 36198:case 36298:case 36306:case 35682:return wC;case 35680:case 36300:case 36308:case 36293:return MC}}(l.type)}function xC(f){this.id=f,this.seq=[],this.map={}}j2.prototype.updateCache=function(f){const l=this.cache;f instanceof Float32Array&&l.length!==f.length&&(this.cache=new Float32Array(f.length)),Ou(l,f)},xC.prototype.setValue=function(f,l,d){const m=this.seq;for(let v=0,_=m.length;v!==_;++v){const x=m[v];x.setValue(f,l[x.id],d)}};const CC=/(\w+)(\])?(\[|\.)?/g;function $R(f,l){f.seq.push(l),f.map[l.id]=l}function W2(f,l,d){const m=f.name,v=m.length;for(CC.lastIndex=0;;){const _=CC.exec(m),x=CC.lastIndex;let D=_[1];const O=_[3];if("]"===_[2]&&(D|=0),void 0===O||"["===O&&x+2===v){$R(d,void 0===O?new k8(D,f,l):new j2(D,f,l));break}{let H=d.map[D];void 0===H&&(H=new xC(D),$R(d,H)),d=H}}}function Df(f,l){this.seq=[],this.map={};const d=f.getProgramParameter(l,35718);for(let m=0;m<d;++m){const v=f.getActiveUniform(l,m);W2(v,f.getUniformLocation(l,v.name),this)}}function EC(f,l,d){const m=f.createShader(l);return f.shaderSource(m,d),f.compileShader(m),m}Df.prototype.setValue=function(f,l,d,m){const v=this.map[l];void 0!==v&&v.setValue(f,d,m)},Df.prototype.setOptional=function(f,l,d){const m=l[d];void 0!==m&&this.setValue(f,d,m)},Df.upload=function(f,l,d,m){for(let v=0,_=l.length;v!==_;++v){const x=l[v],D=d[x.id];!1!==D.needsUpdate&&x.setValue(f,D.value,m)}},Df.seqWithValue=function(f,l){const d=[];for(let m=0,v=f.length;m!==v;++m){const _=f[m];_.id in l&&d.push(_)}return d};let a0=0;function l0(f){switch(f){case yn:return["Linear","( value )"];case Jn:return["sRGB","( value )"];case Ms:return["RGBE","( value )"];case vs:return["RGBM","( value, 7.0 )"];case Sd:return["RGBM","( value, 16.0 )"];case dr:return["RGBD","( value, 256.0 )"];case ji:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case Ss:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",f),["Linear","( value )"]}}function KR(f,l,d){const m=f.getShaderParameter(l,35713),v=f.getShaderInfoLog(l).trim();return m&&""===v?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+d+"\n"+v+function XR(f){const l=f.split("\n");for(let d=0;d<l.length;d++)l[d]=d+1+": "+l[d];return l.join("\n")}(f.getShaderSource(l))}function yo(f,l){const d=l0(l);return"vec4 "+f+"( vec4 value ) { return "+d[0]+"ToLinear"+d[1]+"; }"}function Y2(f,l){const d=l0(l);return"vec4 "+f+"( vec4 value ) { return LinearTo"+d[0]+d[1]+"; }"}function G2(f,l){let d;switch(l){case cr:d="Linear";break;case _e:d="Reinhard";break;case He:d="OptimizedCineon";break;case Qe:d="ACESFilmic";break;case St:d="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",l),d="Linear"}return"vec3 "+f+"( vec3 color ) { return "+d+"ToneMapping( color ); }"}function a_(f){return""!==f}function qR(f,l){return f.replace(/NUM_DIR_LIGHTS/g,l.numDirLights).replace(/NUM_SPOT_LIGHTS/g,l.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,l.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,l.numPointLights).replace(/NUM_HEMI_LIGHTS/g,l.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,l.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,l.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,l.numPointLightShadows)}function JR(f,l){return f.replace(/NUM_CLIPPING_PLANES/g,l.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,l.numClippingPlanes-l.numClipIntersection)}const X2=/^[ \t]*#include +<([\w\d./]+)>/gm;function QR(f){return f.replace(X2,L8)}function L8(f,l){const d=io[l];if(void 0===d)throw new Error("Can not resolve #include <"+l+">");return QR(d)}const l_=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,RC=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function DC(f){return f.replace(RC,AC).replace(l_,eD)}function eD(f,l,d,m){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),AC(0,l,d,m)}function AC(f,l,d,m){let v="";for(let _=parseInt(l);_<parseInt(d);_++)v+=m.replace(/\[\s*i\s*\]/g,"[ "+_+" ]").replace(/UNROLLED_LOOP_INDEX/g,_);return v}function tD(f){let l="precision "+f.precision+" float;\nprecision "+f.precision+" int;";return"highp"===f.precision?l+="\n#define HIGH_PRECISION":"mediump"===f.precision?l+="\n#define MEDIUM_PRECISION":"lowp"===f.precision&&(l+="\n#define LOW_PRECISION"),l}function K2(f,l,d,m){const v=f.getContext(),_=d.defines;let x=d.vertexShader,D=d.fragmentShader;const k=function nD(f){let l="SHADOWMAP_TYPE_BASIC";return f.shadowMapType===oe?l="SHADOWMAP_TYPE_PCF":f.shadowMapType===ae?l="SHADOWMAP_TYPE_PCF_SOFT":f.shadowMapType===fe&&(l="SHADOWMAP_TYPE_VSM"),l}(d),O=function rD(f){let l="ENVMAP_TYPE_CUBE";if(f.envMap)switch(f.envMapMode){case qe:case Xe:l="ENVMAP_TYPE_CUBE";break;case mt:case Ct:l="ENVMAP_TYPE_CUBE_UV"}return l}(d),U=function OC(f){let l="ENVMAP_MODE_REFLECTION";if(f.envMap)switch(f.envMapMode){case Xe:case Ct:l="ENVMAP_MODE_REFRACTION"}return l}(d),H=function P8(f){let l="ENVMAP_BLENDING_NONE";if(f.envMap)switch(f.combine){case $r:l="ENVMAP_BLENDING_MULTIPLY";break;case yi:l="ENVMAP_BLENDING_MIX";break;case _i:l="ENVMAP_BLENDING_ADD"}return l}(d),V=f.gammaFactor>0?f.gammaFactor:1,W=d.isWebGL2?"":function TC(f){return[f.extensionDerivatives||f.envMapCubeUV||f.bumpMap||f.tangentSpaceNormalMap||f.clearcoatNormalMap||f.flatShading||"physical"===f.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(f.extensionFragDepth||f.logarithmicDepthBuffer)&&f.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",f.extensionDrawBuffers&&f.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(f.extensionShaderTextureLOD||f.envMap)&&f.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(a_).join("\n")}(d),J=function ZR(f){const l=[];for(const d in f){const m=f[d];!1!==m&&l.push("#define "+d+" "+m)}return l.join("\n")}(_),ee=v.createProgram();let se,ie,X=d.glslVersion?"#version "+d.glslVersion+"\n":"";d.isRawShaderMaterial?(se=[J].filter(a_).join("\n"),se.length>0&&(se+="\n"),ie=[W,J].filter(a_).join("\n"),ie.length>0&&(ie+="\n")):(se=[tD(d),"#define SHADER_NAME "+d.shaderName,J,d.instancing?"#define USE_INSTANCING":"",d.instancingColor?"#define USE_INSTANCING_COLOR":"",d.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+V,"#define MAX_BONES "+d.maxBones,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+U:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.displacementMap&&d.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors?"#define USE_COLOR":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.flatShading?"#define FLAT_SHADED":"",d.skinning?"#define USE_SKINNING":"",d.useVertexTexture?"#define BONE_TEXTURE":"",d.morphTargets?"#define USE_MORPHTARGETS":"",d.morphNormals&&!1===d.flatShading?"#define USE_MORPHNORMALS":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+k:"",d.sizeAttenuation?"#define USE_SIZEATTENUATION":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(a_).join("\n"),ie=[W,tD(d),"#define SHADER_NAME "+d.shaderName,J,d.alphaTest?"#define ALPHATEST "+d.alphaTest+(d.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+V,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.matcap?"#define USE_MATCAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+O:"",d.envMap?"#define "+U:"",d.envMap?"#define "+H:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.sheen?"#define USE_SHEEN":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors||d.instancingColor?"#define USE_COLOR":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.gradientMap?"#define USE_GRADIENTMAP":"",d.flatShading?"#define FLAT_SHADED":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+k:"",d.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",d.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(d.extensionShaderTextureLOD||d.envMap)&&d.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",d.toneMapping!==fi?"#define TONE_MAPPING":"",d.toneMapping!==fi?io.tonemapping_pars_fragment:"",d.toneMapping!==fi?G2("toneMapping",d.toneMapping):"",d.dithering?"#define DITHERING":"",io.encodings_pars_fragment,d.map?yo("mapTexelToLinear",d.mapEncoding):"",d.matcap?yo("matcapTexelToLinear",d.matcapEncoding):"",d.envMap?yo("envMapTexelToLinear",d.envMapEncoding):"",d.emissiveMap?yo("emissiveMapTexelToLinear",d.emissiveMapEncoding):"",d.lightMap?yo("lightMapTexelToLinear",d.lightMapEncoding):"",Y2("linearToOutputTexel",d.outputEncoding),d.depthPacking?"#define DEPTH_PACKING "+d.depthPacking:"","\n"].filter(a_).join("\n")),x=QR(x),x=qR(x,d),x=JR(x,d),D=QR(D),D=qR(D,d),D=JR(D,d),x=DC(x),D=DC(D),d.isWebGL2&&!0!==d.isRawShaderMaterial&&(X="#version 300 es\n",se=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+se,ie=["#define varying in",d.glslVersion===Oa?"":"out highp vec4 pc_fragColor;",d.glslVersion===Oa?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+ie);const xe=X+ie+D,Ve=EC(v,35633,X+se+x),Me=EC(v,35632,xe);if(v.attachShader(ee,Ve),v.attachShader(ee,Me),void 0!==d.index0AttributeName?v.bindAttribLocation(ee,0,d.index0AttributeName):!0===d.morphTargets&&v.bindAttribLocation(ee,0,"position"),v.linkProgram(ee),f.debug.checkShaderErrors){const wt=v.getProgramInfoLog(ee).trim(),st=v.getShaderInfoLog(Ve).trim(),Ut=v.getShaderInfoLog(Me).trim();let en=!0,zt=!0;if(!1===v.getProgramParameter(ee,35714)){en=!1;const Tt=KR(v,Ve,"vertex"),jt=KR(v,Me,"fragment");console.error("THREE.WebGLProgram: shader error: ",v.getError(),"35715",v.getProgramParameter(ee,35715),"gl.getProgramInfoLog",wt,Tt,jt)}else""!==wt?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",wt):(""===st||""===Ut)&&(zt=!1);zt&&(this.diagnostics={runnable:en,programLog:wt,vertexShader:{log:st,prefix:se},fragmentShader:{log:Ut,prefix:ie}})}let tt,At;return v.deleteShader(Ve),v.deleteShader(Me),this.getUniforms=function(){return void 0===tt&&(tt=new Df(v,ee)),tt},this.getAttributes=function(){return void 0===At&&(At=function $2(f,l){const d={},m=f.getProgramParameter(l,35721);for(let v=0;v<m;v++){const x=f.getActiveAttrib(l,v).name;d[x]=f.getAttribLocation(l,x)}return d}(v,ee)),At},this.destroy=function(){m.releaseStatesOfProgram(this),v.deleteProgram(ee),this.program=void 0},this.name=d.shaderName,this.id=a0++,this.cacheKey=l,this.usedTimes=1,this.program=ee,this.vertexShader=Ve,this.fragmentShader=Me,this}function kC(f,l,d,m,v,_){const x=[],D=m.isWebGL2,k=m.logarithmicDepthBuffer,O=m.floatVertexTextures,U=m.maxVertexUniforms,H=m.vertexTextures;let V=m.precision;const W={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},J=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function se(Me){let tt;return Me&&Me.isTexture?tt=Me.encoding:Me&&Me.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),tt=Me.texture.encoding):tt=yn,tt}return{getParameters:function ie(Me,tt,At,wt,st){const Ut=wt.fog,zt=l.get(Me.envMap||(Me.isMeshStandardMaterial?wt.environment:null)),Tt=W[Me.type],jt=st.isSkinnedMesh?function ee(Me){const At=Me.skeleton.bones;if(O)return 1024;{const st=Math.floor((U-20)/4),Ut=Math.min(st,At.length);return Ut<At.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+At.length+" bones. This GPU supports "+Ut+"."),0):Ut}}(st):0;let Gt,Fn;if(null!==Me.precision&&(V=m.getMaxPrecision(Me.precision),V!==Me.precision&&console.warn("THREE.WebGLProgram.getParameters:",Me.precision,"not supported, using",V,"instead.")),Tt){const Ir=fc[Tt];Gt=Ir.vertexShader,Fn=Ir.fragmentShader}else Gt=Me.vertexShader,Fn=Me.fragmentShader;const Gn=f.getRenderTarget();return{isWebGL2:D,shaderID:Tt,shaderName:Me.type,vertexShader:Gt,fragmentShader:Fn,defines:Me.defines,isRawShaderMaterial:!0===Me.isRawShaderMaterial,glslVersion:Me.glslVersion,precision:V,instancing:!0===st.isInstancedMesh,instancingColor:!0===st.isInstancedMesh&&null!==st.instanceColor,supportsVertexTextures:H,outputEncoding:null!==Gn?se(Gn.texture):f.outputEncoding,map:!!Me.map,mapEncoding:se(Me.map),matcap:!!Me.matcap,matcapEncoding:se(Me.matcap),envMap:!!zt,envMapMode:zt&&zt.mapping,envMapEncoding:se(zt),envMapCubeUV:!!zt&&(zt.mapping===mt||zt.mapping===Ct),lightMap:!!Me.lightMap,lightMapEncoding:se(Me.lightMap),aoMap:!!Me.aoMap,emissiveMap:!!Me.emissiveMap,emissiveMapEncoding:se(Me.emissiveMap),bumpMap:!!Me.bumpMap,normalMap:!!Me.normalMap,objectSpaceNormalMap:Me.normalMapType===es,tangentSpaceNormalMap:Me.normalMapType===zs,clearcoatMap:!!Me.clearcoatMap,clearcoatRoughnessMap:!!Me.clearcoatRoughnessMap,clearcoatNormalMap:!!Me.clearcoatNormalMap,displacementMap:!!Me.displacementMap,roughnessMap:!!Me.roughnessMap,metalnessMap:!!Me.metalnessMap,specularMap:!!Me.specularMap,alphaMap:!!Me.alphaMap,gradientMap:!!Me.gradientMap,sheen:!!Me.sheen,transmissionMap:!!Me.transmissionMap,combine:Me.combine,vertexTangents:Me.normalMap&&Me.vertexTangents,vertexColors:Me.vertexColors,vertexUvs:!!(Me.map||Me.bumpMap||Me.normalMap||Me.specularMap||Me.alphaMap||Me.emissiveMap||Me.roughnessMap||Me.metalnessMap||Me.clearcoatMap||Me.clearcoatRoughnessMap||Me.clearcoatNormalMap||Me.displacementMap||Me.transmissionMap),uvsVertexOnly:!(Me.map||Me.bumpMap||Me.normalMap||Me.specularMap||Me.alphaMap||Me.emissiveMap||Me.roughnessMap||Me.metalnessMap||Me.clearcoatNormalMap||Me.transmissionMap||!Me.displacementMap),fog:!!Ut,useFog:Me.fog,fogExp2:Ut&&Ut.isFogExp2,flatShading:!!Me.flatShading,sizeAttenuation:Me.sizeAttenuation,logarithmicDepthBuffer:k,skinning:Me.skinning&&jt>0,maxBones:jt,useVertexTexture:O,morphTargets:Me.morphTargets,morphNormals:Me.morphNormals,maxMorphTargets:f.maxMorphTargets,maxMorphNormals:f.maxMorphNormals,numDirLights:tt.directional.length,numPointLights:tt.point.length,numSpotLights:tt.spot.length,numRectAreaLights:tt.rectArea.length,numHemiLights:tt.hemi.length,numDirLightShadows:tt.directionalShadowMap.length,numPointLightShadows:tt.pointShadowMap.length,numSpotLightShadows:tt.spotShadowMap.length,numClippingPlanes:_.numPlanes,numClipIntersection:_.numIntersection,dithering:Me.dithering,shadowMapEnabled:f.shadowMap.enabled&&At.length>0,shadowMapType:f.shadowMap.type,toneMapping:Me.toneMapped?f.toneMapping:fi,physicallyCorrectLights:f.physicallyCorrectLights,premultipliedAlpha:Me.premultipliedAlpha,alphaTest:Me.alphaTest,doubleSided:Me.side===ce,flipSided:Me.side===K,depthPacking:void 0!==Me.depthPacking&&Me.depthPacking,index0AttributeName:Me.index0AttributeName,extensionDerivatives:Me.extensions&&Me.extensions.derivatives,extensionFragDepth:Me.extensions&&Me.extensions.fragDepth,extensionDrawBuffers:Me.extensions&&Me.extensions.drawBuffers,extensionShaderTextureLOD:Me.extensions&&Me.extensions.shaderTextureLOD,rendererExtensionFragDepth:D||d.has("EXT_frag_depth"),rendererExtensionDrawBuffers:D||d.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:D||d.has("EXT_shader_texture_lod"),customProgramCacheKey:Me.customProgramCacheKey()}},getProgramCacheKey:function X(Me){const tt=[];if(Me.shaderID?tt.push(Me.shaderID):(tt.push(Me.fragmentShader),tt.push(Me.vertexShader)),void 0!==Me.defines)for(const At in Me.defines)tt.push(At),tt.push(Me.defines[At]);if(!1===Me.isRawShaderMaterial){for(let At=0;At<J.length;At++)tt.push(Me[J[At]]);tt.push(f.outputEncoding),tt.push(f.gammaFactor)}return tt.push(Me.customProgramCacheKey),tt.join()},getUniforms:function Re(Me){const tt=W[Me.type];let At;return At=tt?Yy.clone(fc[tt].uniforms):Me.uniforms,At},acquireProgram:function xe(Me,tt){let At;for(let wt=0,st=x.length;wt<st;wt++){const Ut=x[wt];if(Ut.cacheKey===tt){At=Ut,++At.usedTimes;break}}return void 0===At&&(At=new K2(f,tt,Me,v),x.push(At)),At},releaseProgram:function Ve(Me){if(0==--Me.usedTimes){const tt=x.indexOf(Me);x[tt]=x[x.length-1],x.pop(),Me.destroy()}},programs:x}}function iD(){let f=new WeakMap;return{get:function l(_){let x=f.get(_);return void 0===x&&(x={},f.set(_,x)),x},remove:function d(_){f.delete(_)},update:function m(_,x,D){f.get(_)[x]=D},dispose:function v(){f=new WeakMap}}}function oD(f,l){return f.groupOrder!==l.groupOrder?f.groupOrder-l.groupOrder:f.renderOrder!==l.renderOrder?f.renderOrder-l.renderOrder:f.program!==l.program?f.program.id-l.program.id:f.material.id!==l.material.id?f.material.id-l.material.id:f.z!==l.z?f.z-l.z:f.id-l.id}function jp(f,l){return f.groupOrder!==l.groupOrder?f.groupOrder-l.groupOrder:f.renderOrder!==l.renderOrder?f.renderOrder-l.renderOrder:f.z!==l.z?l.z-f.z:f.id-l.id}function sD(f){const l=[];let d=0;const m=[],v=[],_={id:-1};function D(V,W,J,ee,se,ie){let X=l[d];const Re=f.get(J);return void 0===X?(X={id:V.id,object:V,geometry:W,material:J,program:Re.program||_,groupOrder:ee,renderOrder:V.renderOrder,z:se,group:ie},l[d]=X):(X.id=V.id,X.object=V,X.geometry=W,X.material=J,X.program=Re.program||_,X.groupOrder=ee,X.renderOrder=V.renderOrder,X.z=se,X.group=ie),d++,X}return{opaque:m,transparent:v,init:function x(){d=0,m.length=0,v.length=0},push:function k(V,W,J,ee,se,ie){const X=D(V,W,J,ee,se,ie);(!0===J.transparent?v:m).push(X)},unshift:function O(V,W,J,ee,se,ie){const X=D(V,W,J,ee,se,ie);(!0===J.transparent?v:m).unshift(X)},finish:function H(){for(let V=d,W=l.length;V<W;V++){const J=l[V];if(null===J.id)break;J.id=null,J.object=null,J.geometry=null,J.material=null,J.program=null,J.group=null}},sort:function U(V,W){m.length>1&&m.sort(V||oD),v.length>1&&v.sort(W||jp)}}}function LC(f){let l=new WeakMap;return{get:function d(v,_){let x;return!1===l.has(v)?(x=new sD(f),l.set(v,[x])):_>=l.get(v).length?(x=new sD(f),l.get(v).push(x)):x=l.get(v)[_],x},dispose:function m(){l=new WeakMap}}}function u0(){const f={};return{get:function(l){if(void 0!==f[l.id])return f[l.id];let d;switch(l.type){case"DirectionalLight":d={direction:new Ce,color:new hr};break;case"SpotLight":d={position:new Ce,direction:new Ce,color:new hr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":d={position:new Ce,color:new hr,distance:0,decay:0};break;case"HemisphereLight":d={direction:new Ce,skyColor:new hr,groundColor:new hr};break;case"RectAreaLight":d={color:new hr,position:new Ce,halfWidth:new Ce,halfHeight:new Ce}}return f[l.id]=d,d}}}let PC=0;function c0(f,l){return(l.castShadow?1:0)-(f.castShadow?1:0)}function Af(f,l){const d=new u0,m=function Z2(){const f={};return{get:function(l){if(void 0!==f[l.id])return f[l.id];let d;switch(l.type){case"DirectionalLight":case"SpotLight":d={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _n};break;case"PointLight":d={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _n,shadowCameraNear:1,shadowCameraFar:1e3}}return f[l.id]=d,d}}}(),v={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let U=0;U<9;U++)v.probe.push(new Ce);const _=new Ce,x=new Br,D=new Br;return{setup:function k(U){let H=0,V=0,W=0;for(let tt=0;tt<9;tt++)v.probe[tt].set(0,0,0);let J=0,ee=0,se=0,ie=0,X=0,Re=0,xe=0,Ve=0;U.sort(c0);for(let tt=0,At=U.length;tt<At;tt++){const wt=U[tt],st=wt.color,Ut=wt.intensity,en=wt.distance,zt=wt.shadow&&wt.shadow.map?wt.shadow.map.texture:null;if(wt.isAmbientLight)H+=st.r*Ut,V+=st.g*Ut,W+=st.b*Ut;else if(wt.isLightProbe)for(let Tt=0;Tt<9;Tt++)v.probe[Tt].addScaledVector(wt.sh.coefficients[Tt],Ut);else if(wt.isDirectionalLight){const Tt=d.get(wt);if(Tt.color.copy(wt.color).multiplyScalar(wt.intensity),wt.castShadow){const jt=wt.shadow,Gt=m.get(wt);Gt.shadowBias=jt.bias,Gt.shadowNormalBias=jt.normalBias,Gt.shadowRadius=jt.radius,Gt.shadowMapSize=jt.mapSize,v.directionalShadow[J]=Gt,v.directionalShadowMap[J]=zt,v.directionalShadowMatrix[J]=wt.shadow.matrix,Re++}v.directional[J]=Tt,J++}else if(wt.isSpotLight){const Tt=d.get(wt);if(Tt.position.setFromMatrixPosition(wt.matrixWorld),Tt.color.copy(st).multiplyScalar(Ut),Tt.distance=en,Tt.coneCos=Math.cos(wt.angle),Tt.penumbraCos=Math.cos(wt.angle*(1-wt.penumbra)),Tt.decay=wt.decay,wt.castShadow){const jt=wt.shadow,Gt=m.get(wt);Gt.shadowBias=jt.bias,Gt.shadowNormalBias=jt.normalBias,Gt.shadowRadius=jt.radius,Gt.shadowMapSize=jt.mapSize,v.spotShadow[se]=Gt,v.spotShadowMap[se]=zt,v.spotShadowMatrix[se]=wt.shadow.matrix,Ve++}v.spot[se]=Tt,se++}else if(wt.isRectAreaLight){const Tt=d.get(wt);Tt.color.copy(st).multiplyScalar(Ut),Tt.halfWidth.set(.5*wt.width,0,0),Tt.halfHeight.set(0,.5*wt.height,0),v.rectArea[ie]=Tt,ie++}else if(wt.isPointLight){const Tt=d.get(wt);if(Tt.color.copy(wt.color).multiplyScalar(wt.intensity),Tt.distance=wt.distance,Tt.decay=wt.decay,wt.castShadow){const jt=wt.shadow,Gt=m.get(wt);Gt.shadowBias=jt.bias,Gt.shadowNormalBias=jt.normalBias,Gt.shadowRadius=jt.radius,Gt.shadowMapSize=jt.mapSize,Gt.shadowCameraNear=jt.camera.near,Gt.shadowCameraFar=jt.camera.far,v.pointShadow[ee]=Gt,v.pointShadowMap[ee]=zt,v.pointShadowMatrix[ee]=wt.shadow.matrix,xe++}v.point[ee]=Tt,ee++}else if(wt.isHemisphereLight){const Tt=d.get(wt);Tt.skyColor.copy(wt.color).multiplyScalar(Ut),Tt.groundColor.copy(wt.groundColor).multiplyScalar(Ut),v.hemi[X]=Tt,X++}}ie>0&&(l.isWebGL2||!0===f.has("OES_texture_float_linear")?(v.rectAreaLTC1=nr.LTC_FLOAT_1,v.rectAreaLTC2=nr.LTC_FLOAT_2):!0===f.has("OES_texture_half_float_linear")?(v.rectAreaLTC1=nr.LTC_HALF_1,v.rectAreaLTC2=nr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),v.ambient[0]=H,v.ambient[1]=V,v.ambient[2]=W;const Me=v.hash;(Me.directionalLength!==J||Me.pointLength!==ee||Me.spotLength!==se||Me.rectAreaLength!==ie||Me.hemiLength!==X||Me.numDirectionalShadows!==Re||Me.numPointShadows!==xe||Me.numSpotShadows!==Ve)&&(v.directional.length=J,v.spot.length=se,v.rectArea.length=ie,v.point.length=ee,v.hemi.length=X,v.directionalShadow.length=Re,v.directionalShadowMap.length=Re,v.pointShadow.length=xe,v.pointShadowMap.length=xe,v.spotShadow.length=Ve,v.spotShadowMap.length=Ve,v.directionalShadowMatrix.length=Re,v.pointShadowMatrix.length=xe,v.spotShadowMatrix.length=Ve,Me.directionalLength=J,Me.pointLength=ee,Me.spotLength=se,Me.rectAreaLength=ie,Me.hemiLength=X,Me.numDirectionalShadows=Re,Me.numPointShadows=xe,Me.numSpotShadows=Ve,v.version=PC++)},setupView:function O(U,H){let V=0,W=0,J=0,ee=0,se=0;const ie=H.matrixWorldInverse;for(let X=0,Re=U.length;X<Re;X++){const xe=U[X];if(xe.isDirectionalLight){const Ve=v.directional[V];Ve.direction.setFromMatrixPosition(xe.matrixWorld),_.setFromMatrixPosition(xe.target.matrixWorld),Ve.direction.sub(_),Ve.direction.transformDirection(ie),V++}else if(xe.isSpotLight){const Ve=v.spot[J];Ve.position.setFromMatrixPosition(xe.matrixWorld),Ve.position.applyMatrix4(ie),Ve.direction.setFromMatrixPosition(xe.matrixWorld),_.setFromMatrixPosition(xe.target.matrixWorld),Ve.direction.sub(_),Ve.direction.transformDirection(ie),J++}else if(xe.isRectAreaLight){const Ve=v.rectArea[ee];Ve.position.setFromMatrixPosition(xe.matrixWorld),Ve.position.applyMatrix4(ie),D.identity(),x.copy(xe.matrixWorld),x.premultiply(ie),D.extractRotation(x),Ve.halfWidth.set(.5*xe.width,0,0),Ve.halfHeight.set(0,.5*xe.height,0),Ve.halfWidth.applyMatrix4(D),Ve.halfHeight.applyMatrix4(D),ee++}else if(xe.isPointLight){const Ve=v.point[W];Ve.position.setFromMatrixPosition(xe.matrixWorld),Ve.position.applyMatrix4(ie),W++}else if(xe.isHemisphereLight){const Ve=v.hemi[se];Ve.direction.setFromMatrixPosition(xe.matrixWorld),Ve.direction.transformDirection(ie),Ve.direction.normalize(),se++}}},state:v}}function IC(f,l){const d=new Af(f,l),m=[],v=[];return{init:function _(){m.length=0,v.length=0},state:{lightsArray:m,shadowsArray:v,lights:d},setupLights:function k(){d.setup(m)},setupLightsView:function O(H){d.setupView(m,H)},pushLight:function x(H){m.push(H)},pushShadow:function D(H){v.push(H)}}}function NC(f,l){let d=new WeakMap;return{get:function m(_,x=0){let D;return!1===d.has(_)?(D=new IC(f,l),d.set(_,[D])):x>=d.get(_).length?(D=new IC(f,l),d.get(_).push(D)):D=d.get(_)[x],D},dispose:function v(){d=new WeakMap}}}class d0 extends zo{constructor(l){super(),this.type="MeshDepthMaterial",this.depthPacking=xd,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(l)}copy(l){return super.copy(l),this.depthPacking=l.depthPacking,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.map=l.map,this.alphaMap=l.alphaMap,this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this}}d0.prototype.isMeshDepthMaterial=!0;class h0 extends zo{constructor(l){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Ce,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(l)}copy(l){return super.copy(l),this.referencePosition.copy(l.referencePosition),this.nearDistance=l.nearDistance,this.farDistance=l.farDistance,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.map=l.map,this.alphaMap=l.alphaMap,this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this}}function lD(f,l,d){let m=new kd;const v=new _n,_=new _n,x=new Di,D=[],k=[],O={},U={0:K,1:me,2:ce},H=new Ls({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new _n},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),V=H.clone();V.defines.HORIZONTAL_PASS=1;const W=new Vr;W.setAttribute("position",new qr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const J=new ln(W,H),ee=this;function se(Ve,Me){const tt=l.update(J);H.uniforms.shadow_pass.value=Ve.map.texture,H.uniforms.resolution.value=Ve.mapSize,H.uniforms.radius.value=Ve.radius,f.setRenderTarget(Ve.mapPass),f.clear(),f.renderBufferDirect(Me,null,tt,H,J,null),V.uniforms.shadow_pass.value=Ve.mapPass.texture,V.uniforms.resolution.value=Ve.mapSize,V.uniforms.radius.value=Ve.radius,f.setRenderTarget(Ve.map),f.clear(),f.renderBufferDirect(Me,null,tt,V,J,null)}function ie(Ve,Me,tt){const At=Ve<<0|Me<<1|tt<<2;let wt=D[At];return void 0===wt&&(wt=new d0({depthPacking:Tp,morphTargets:Ve,skinning:Me}),D[At]=wt),wt}function X(Ve,Me,tt){const At=Ve<<0|Me<<1|tt<<2;let wt=k[At];return void 0===wt&&(wt=new h0({morphTargets:Ve,skinning:Me}),k[At]=wt),wt}function Re(Ve,Me,tt,At,wt,st,Ut){let en=null,zt=ie,Tt=Ve.customDepthMaterial;if(!0===At.isPointLight&&(zt=X,Tt=Ve.customDistanceMaterial),void 0===Tt){let jt=!1;!0===tt.morphTargets&&(jt=Me.morphAttributes&&Me.morphAttributes.position&&Me.morphAttributes.position.length>0);let Gt=!1;!0===Ve.isSkinnedMesh&&(!0===tt.skinning?Gt=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",Ve)),en=zt(jt,Gt,!0===Ve.isInstancedMesh)}else en=Tt;if(f.localClippingEnabled&&!0===tt.clipShadows&&0!==tt.clippingPlanes.length){const jt=en.uuid,Gt=tt.uuid;let Fn=O[jt];void 0===Fn&&(Fn={},O[jt]=Fn);let Gn=Fn[Gt];void 0===Gn&&(Gn=en.clone(),Fn[Gt]=Gn),en=Gn}return en.visible=tt.visible,en.wireframe=tt.wireframe,en.side=Ut===fe?null!==tt.shadowSide?tt.shadowSide:tt.side:null!==tt.shadowSide?tt.shadowSide:U[tt.side],en.clipShadows=tt.clipShadows,en.clippingPlanes=tt.clippingPlanes,en.clipIntersection=tt.clipIntersection,en.wireframeLinewidth=tt.wireframeLinewidth,en.linewidth=tt.linewidth,!0===At.isPointLight&&!0===en.isMeshDistanceMaterial&&(en.referencePosition.setFromMatrixPosition(At.matrixWorld),en.nearDistance=wt,en.farDistance=st),en}function xe(Ve,Me,tt,At,wt){if(!1===Ve.visible)return;if(Ve.layers.test(Me.layers)&&(Ve.isMesh||Ve.isLine||Ve.isPoints)&&(Ve.castShadow||Ve.receiveShadow&&wt===fe)&&(!Ve.frustumCulled||m.intersectsObject(Ve))){Ve.modelViewMatrix.multiplyMatrices(tt.matrixWorldInverse,Ve.matrixWorld);const en=l.update(Ve),zt=Ve.material;if(Array.isArray(zt)){const Tt=en.groups;for(let jt=0,Gt=Tt.length;jt<Gt;jt++){const Fn=Tt[jt],Gn=zt[Fn.materialIndex];if(Gn&&Gn.visible){const $n=Re(Ve,en,Gn,At,tt.near,tt.far,wt);f.renderBufferDirect(tt,null,en,$n,Ve,Fn)}}}else if(zt.visible){const Tt=Re(Ve,en,zt,At,tt.near,tt.far,wt);f.renderBufferDirect(tt,null,en,Tt,Ve,null)}}const Ut=Ve.children;for(let en=0,zt=Ut.length;en<zt;en++)xe(Ut[en],Me,tt,At,wt)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=oe,this.render=function(Ve,Me,tt){if(!1===ee.enabled||!1===ee.autoUpdate&&!1===ee.needsUpdate||0===Ve.length)return;const At=f.getRenderTarget(),wt=f.getActiveCubeFace(),st=f.getActiveMipmapLevel(),Ut=f.state;Ut.setBlending(De),Ut.buffers.color.setClear(1,1,1,1),Ut.buffers.depth.setTest(!0),Ut.setScissorTest(!1);for(let en=0,zt=Ve.length;en<zt;en++){const Tt=Ve[en],jt=Tt.shadow;if(void 0===jt){console.warn("THREE.WebGLShadowMap:",Tt,"has no shadow.");continue}if(!1===jt.autoUpdate&&!1===jt.needsUpdate)continue;v.copy(jt.mapSize);const Gt=jt.getFrameExtents();if(v.multiply(Gt),_.copy(jt.mapSize),(v.x>d||v.y>d)&&(v.x>d&&(_.x=Math.floor(d/Gt.x),v.x=_.x*Gt.x,jt.mapSize.x=_.x),v.y>d&&(_.y=Math.floor(d/Gt.y),v.y=_.y*Gt.y,jt.mapSize.y=_.y)),null===jt.map&&!jt.isPointLightShadow&&this.type===fe){const Gn={minFilter:Ii,magFilter:Ii,format:Ko};jt.map=new qn(v.x,v.y,Gn),jt.map.texture.name=Tt.name+".shadowMap",jt.mapPass=new qn(v.x,v.y,Gn),jt.camera.updateProjectionMatrix()}null===jt.map&&(jt.map=new qn(v.x,v.y,{minFilter:Bn,magFilter:Bn,format:Ko}),jt.map.texture.name=Tt.name+".shadowMap",jt.camera.updateProjectionMatrix()),f.setRenderTarget(jt.map),f.clear();const Fn=jt.getViewportCount();for(let Gn=0;Gn<Fn;Gn++){const $n=jt.getViewport(Gn);x.set(_.x*$n.x,_.y*$n.y,_.x*$n.z,_.y*$n.w),Ut.viewport(x),jt.updateMatrices(Tt,Gn),m=jt.getFrustum(),xe(Me,tt,jt.camera,Tt,this.type)}!jt.isPointLightShadow&&this.type===fe&&se(jt,tt),jt.needsUpdate=!1}ee.needsUpdate=!1,f.setRenderTarget(At,wt,st)}}function q2(f,l,d){const m=d.isWebGL2,D=new function v(){let xt=!1;const Yn=new Di;let tr=null;const Ar=new Di(0,0,0,0);return{setMask:function(Vn){tr!==Vn&&!xt&&(f.colorMask(Vn,Vn,Vn,Vn),tr=Vn)},setLocked:function(Vn){xt=Vn},setClear:function(Vn,ti,si,Xr,ri){!0===ri&&(Vn*=Xr,ti*=Xr,si*=Xr),Yn.set(Vn,ti,si,Xr),!1===Ar.equals(Yn)&&(f.clearColor(Vn,ti,si,Xr),Ar.copy(Yn))},reset:function(){xt=!1,tr=null,Ar.set(-1,0,0,0)}}},k=new function _(){let xt=!1,Yn=null,tr=null,Ar=null;return{setTest:function(Vn){Vn?Ir(2929):Tr(2929)},setMask:function(Vn){Yn!==Vn&&!xt&&(f.depthMask(Vn),Yn=Vn)},setFunc:function(Vn){if(tr!==Vn){if(Vn)switch(Vn){case Ht:f.depthFunc(512);break;case Zn:f.depthFunc(519);break;case Un:f.depthFunc(513);break;case Wn:f.depthFunc(515);break;case In:f.depthFunc(514);break;case Mr:f.depthFunc(518);break;case Rn:f.depthFunc(516);break;case nn:f.depthFunc(517);break;default:f.depthFunc(515)}else f.depthFunc(515);tr=Vn}},setLocked:function(Vn){xt=Vn},setClear:function(Vn){Ar!==Vn&&(f.clearDepth(Vn),Ar=Vn)},reset:function(){xt=!1,Yn=null,tr=null,Ar=null}}},O=new function x(){let xt=!1,Yn=null,tr=null,Ar=null,Vn=null,ti=null,si=null,Xr=null,ri=null;return{setTest:function(Nr){xt||(Nr?Ir(2960):Tr(2960))},setMask:function(Nr){Yn!==Nr&&!xt&&(f.stencilMask(Nr),Yn=Nr)},setFunc:function(Nr,Vi,Is){(tr!==Nr||Ar!==Vi||Vn!==Is)&&(f.stencilFunc(Nr,Vi,Is),tr=Nr,Ar=Vi,Vn=Is)},setOp:function(Nr,Vi,Is){(ti!==Nr||si!==Vi||Xr!==Is)&&(f.stencilOp(Nr,Vi,Is),ti=Nr,si=Vi,Xr=Is)},setLocked:function(Nr){xt=Nr},setClear:function(Nr){ri!==Nr&&(f.clearStencil(Nr),ri=Nr)},reset:function(){xt=!1,Yn=null,tr=null,Ar=null,Vn=null,ti=null,si=null,Xr=null,ri=null}}};let U={},H=null,V=!1,W=null,J=null,ee=null,se=null,ie=null,X=null,Re=null,xe=!1,Ve=null,Me=null,tt=null,At=null,wt=null;const st=f.getParameter(35661);let Ut=!1,en=0;const zt=f.getParameter(7938);-1!==zt.indexOf("WebGL")?(en=parseFloat(/^WebGL (\d)/.exec(zt)[1]),Ut=en>=1):-1!==zt.indexOf("OpenGL ES")&&(en=parseFloat(/^OpenGL ES (\d)/.exec(zt)[1]),Ut=en>=2);let Tt=null,jt={};const Gt=new Di,Fn=new Di;function Gn(xt,Yn,tr){const Ar=new Uint8Array(4),Vn=f.createTexture();f.bindTexture(xt,Vn),f.texParameteri(xt,10241,9728),f.texParameteri(xt,10240,9728);for(let ti=0;ti<tr;ti++)f.texImage2D(Yn+ti,0,6408,1,1,0,6408,5121,Ar);return Vn}const $n={};function Ir(xt){!0!==U[xt]&&(f.enable(xt),U[xt]=!0)}function Tr(xt){!1!==U[xt]&&(f.disable(xt),U[xt]=!1)}$n[3553]=Gn(3553,3553,1),$n[34067]=Gn(34067,34069,6),D.setClear(0,0,0,1),k.setClear(1),O.setClear(0),Ir(2929),k.setFunc(Wn),hs(!1),Co(N),Ir(2884),No(De);const Mi={[ct]:32774,[nt]:32778,[vt]:32779};if(m)Mi[Pt]=32775,Mi[Ft]=32776;else{const xt=l.get("EXT_blend_minmax");null!==xt&&(Mi[Pt]=xt.MIN_EXT,Mi[Ft]=xt.MAX_EXT)}const rs={[Wt]:0,[Kt]:1,[Zt]:768,[Ne]:770,[Mn]:776,[Yt]:774,[dt]:772,[Nt]:769,[ge]:771,[bn]:775,[Rt]:773};function No(xt,Yn,tr,Ar,Vn,ti,si,Xr){if(xt!==De){if(!1===V&&(Ir(3042),V=!0),xt===Ke)Vn=Vn||Yn,ti=ti||tr,si=si||Ar,(Yn!==J||Vn!==ie)&&(f.blendEquationSeparate(Mi[Yn],Mi[Vn]),J=Yn,ie=Vn),(tr!==ee||Ar!==se||ti!==X||si!==Re)&&(f.blendFuncSeparate(rs[tr],rs[Ar],rs[ti],rs[si]),ee=tr,se=Ar,X=ti,Re=si),W=xt,xe=null;else if(xt!==W||Xr!==xe){if((J!==ct||ie!==ct)&&(f.blendEquation(32774),J=ct,ie=ct),Xr)switch(xt){case Ue:f.blendFuncSeparate(1,771,1,771);break;case rt:f.blendFunc(1,1);break;case Ye:f.blendFuncSeparate(0,0,769,771);break;case Oe:f.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",xt)}else switch(xt){case Ue:f.blendFuncSeparate(770,771,1,771);break;case rt:f.blendFunc(770,1);break;case Ye:f.blendFunc(0,769);break;case Oe:f.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",xt)}ee=null,se=null,X=null,Re=null,W=xt,xe=Xr}}else!0===V&&(Tr(3042),V=!1)}function hs(xt){Ve!==xt&&(f.frontFace(xt?2304:2305),Ve=xt)}function Co(xt){xt!==A?(Ir(2884),xt!==Me&&f.cullFace(xt===N?1029:xt===F?1028:1032)):Tr(2884),Me=xt}function Ei(xt,Yn,tr){xt?(Ir(32823),(At!==Yn||wt!==tr)&&(f.polygonOffset(Yn,tr),At=Yn,wt=tr)):Tr(32823)}function Ln(xt){void 0===xt&&(xt=33984+st-1),Tt!==xt&&(f.activeTexture(xt),Tt=xt)}return{buffers:{color:D,depth:k,stencil:O},enable:Ir,disable:Tr,useProgram:function oo(xt){return H!==xt&&(f.useProgram(xt),H=xt,!0)},setBlending:No,setMaterial:function vn(xt,Yn){xt.side===ce?Tr(2884):Ir(2884);let tr=xt.side===K;Yn&&(tr=!tr),hs(tr),xt.blending===Ue&&!1===xt.transparent?No(De):No(xt.blending,xt.blendEquation,xt.blendSrc,xt.blendDst,xt.blendEquationAlpha,xt.blendSrcAlpha,xt.blendDstAlpha,xt.premultipliedAlpha),k.setFunc(xt.depthFunc),k.setTest(xt.depthTest),k.setMask(xt.depthWrite),D.setMask(xt.colorWrite);const Ar=xt.stencilWrite;O.setTest(Ar),Ar&&(O.setMask(xt.stencilWriteMask),O.setFunc(xt.stencilFunc,xt.stencilRef,xt.stencilFuncMask),O.setOp(xt.stencilFail,xt.stencilZFail,xt.stencilZPass)),Ei(xt.polygonOffset,xt.polygonOffsetFactor,xt.polygonOffsetUnits)},setFlipSided:hs,setCullFace:Co,setLineWidth:function Fo(xt){xt!==tt&&(Ut&&f.lineWidth(xt),tt=xt)},setPolygonOffset:Ei,setScissorTest:function Wo(xt){xt?Ir(3089):Tr(3089)},activeTexture:Ln,bindTexture:function Kn(xt,Yn){null===Tt&&Ln();let tr=jt[Tt];void 0===tr&&(tr={type:void 0,texture:void 0},jt[Tt]=tr),(tr.type!==xt||tr.texture!==Yn)&&(f.bindTexture(xt,Yn||$n[xt]),tr.type=xt,tr.texture=Yn)},unbindTexture:function rr(){const xt=jt[Tt];void 0!==xt&&void 0!==xt.type&&(f.bindTexture(xt.type,null),xt.type=void 0,xt.texture=void 0)},compressedTexImage2D:function fr(){try{f.compressedTexImage2D.apply(f,arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}},texImage2D:function Cr(){try{f.texImage2D.apply(f,arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}},texImage3D:function et(){try{f.texImage3D.apply(f,arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}},scissor:function $e(xt){!1===Gt.equals(xt)&&(f.scissor(xt.x,xt.y,xt.z,xt.w),Gt.copy(xt))},viewport:function wn(xt){!1===Fn.equals(xt)&&(f.viewport(xt.x,xt.y,xt.z,xt.w),Fn.copy(xt))},reset:function On(){f.disable(3042),f.disable(2884),f.disable(2929),f.disable(32823),f.disable(3089),f.disable(2960),f.blendEquation(32774),f.blendFunc(1,0),f.blendFuncSeparate(1,0,1,0),f.colorMask(!0,!0,!0,!0),f.clearColor(0,0,0,0),f.depthMask(!0),f.depthFunc(513),f.clearDepth(1),f.stencilMask(4294967295),f.stencilFunc(519,0,4294967295),f.stencilOp(7680,7680,7680),f.clearStencil(0),f.cullFace(1029),f.frontFace(2305),f.polygonOffset(0,0),f.activeTexture(33984),f.useProgram(null),f.lineWidth(1),f.scissor(0,0,f.canvas.width,f.canvas.height),f.viewport(0,0,f.canvas.width,f.canvas.height),U={},Tt=null,jt={},H=null,V=!1,W=null,J=null,ee=null,se=null,ie=null,X=null,Re=null,xe=!1,Ve=null,Me=null,tt=null,At=null,wt=null,D.reset(),k.reset(),O.reset()}}}function J2(f,l,d,m,v,_,x){const D=v.isWebGL2,k=v.maxTextures,O=v.maxCubemapSize,U=v.maxTextureSize,H=v.maxSamples,V=new WeakMap;let W,J=!1;try{J="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(et){}function ee(et,$e){return J?new OffscreenCanvas(et,$e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function se(et,$e,wn,On){let xt=1;if((et.width>On||et.height>On)&&(xt=On/Math.max(et.width,et.height)),xt<1||!0===$e){if("undefined"!=typeof HTMLImageElement&&et instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&et instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&et instanceof ImageBitmap){const Yn=$e?Dr.floorPowerOfTwo:Math.floor,tr=Yn(xt*et.width),Ar=Yn(xt*et.height);void 0===W&&(W=ee(tr,Ar));const Vn=wn?ee(tr,Ar):W;return Vn.width=tr,Vn.height=Ar,Vn.getContext("2d").drawImage(et,0,0,tr,Ar),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+et.width+"x"+et.height+") to ("+tr+"x"+Ar+")."),Vn}return"data"in et&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+et.width+"x"+et.height+")."),et}return et}function ie(et){return Dr.isPowerOfTwo(et.width)&&Dr.isPowerOfTwo(et.height)}function Re(et,$e){return et.generateMipmaps&&$e&&et.minFilter!==Bn&&et.minFilter!==Ii}function xe(et,$e,wn,On){f.generateMipmap(et),m.get($e).__maxMipLevel=Math.log2(Math.max(wn,On))}function Ve(et,$e,wn){if(!1===D)return $e;if(null!==et){if(void 0!==f[et])return f[et];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+et+"'")}let On=$e;return 6403===$e&&(5126===wn&&(On=33326),5131===wn&&(On=33325),5121===wn&&(On=33321)),6407===$e&&(5126===wn&&(On=34837),5131===wn&&(On=34843),5121===wn&&(On=32849)),6408===$e&&(5126===wn&&(On=34836),5131===wn&&(On=34842),5121===wn&&(On=32856)),(33325===On||33326===On||34842===On||34836===On)&&l.get("EXT_color_buffer_float"),On}function Me(et){return et===Bn||et===br||et===ui?9728:9729}function tt(et){const $e=et.target;$e.removeEventListener("dispose",tt),function wt(et){const $e=m.get(et);void 0!==$e.__webglInit&&(f.deleteTexture($e.__webglTexture),m.remove(et))}($e),$e.isVideoTexture&&V.delete($e),x.memory.textures--}function At(et){const $e=et.target;$e.removeEventListener("dispose",At),function st(et){const $e=et.texture,wn=m.get(et),On=m.get($e);if(et){if(void 0!==On.__webglTexture&&f.deleteTexture(On.__webglTexture),et.depthTexture&&et.depthTexture.dispose(),et.isWebGLCubeRenderTarget)for(let xt=0;xt<6;xt++)f.deleteFramebuffer(wn.__webglFramebuffer[xt]),wn.__webglDepthbuffer&&f.deleteRenderbuffer(wn.__webglDepthbuffer[xt]);else f.deleteFramebuffer(wn.__webglFramebuffer),wn.__webglDepthbuffer&&f.deleteRenderbuffer(wn.__webglDepthbuffer),wn.__webglMultisampledFramebuffer&&f.deleteFramebuffer(wn.__webglMultisampledFramebuffer),wn.__webglColorRenderbuffer&&f.deleteRenderbuffer(wn.__webglColorRenderbuffer),wn.__webglDepthRenderbuffer&&f.deleteRenderbuffer(wn.__webglDepthRenderbuffer);m.remove($e),m.remove(et)}}($e),x.memory.textures--}let Ut=0;function Tt(et,$e){const wn=m.get(et);if(et.isVideoTexture&&function Ln(et){const $e=x.render.frame;V.get(et)!==$e&&(V.set(et,$e),et.update())}(et),et.version>0&&wn.__version!==et.version){const On=et.image;if(void 0===On)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==On.complete)return void oo(wn,et,$e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}d.activeTexture(33984+$e),d.bindTexture(3553,wn.__webglTexture)}function Fn(et,$e){const wn=m.get(et);et.version>0&&wn.__version!==et.version?function Mi(et,$e,wn){if(6!==$e.image.length)return;Tr(et,$e),d.activeTexture(33984+wn),d.bindTexture(34067,et.__webglTexture),f.pixelStorei(37440,$e.flipY),f.pixelStorei(37441,$e.premultiplyAlpha),f.pixelStorei(3317,$e.unpackAlignment),f.pixelStorei(37443,0);const On=$e&&($e.isCompressedTexture||$e.image[0].isCompressedTexture),xt=$e.image[0]&&$e.image[0].isDataTexture,Yn=[];for(let ri=0;ri<6;ri++)Yn[ri]=On||xt?xt?$e.image[ri].image:$e.image[ri]:se($e.image[ri],!1,!0,O);const tr=Yn[0],Ar=ie(tr)||D,Vn=_.convert($e.format),ti=_.convert($e.type),si=Ve($e.internalFormat,Vn,ti);let Xr;if(Ir(34067,$e,Ar),On){for(let ri=0;ri<6;ri++){Xr=Yn[ri].mipmaps;for(let Nr=0;Nr<Xr.length;Nr++){const Vi=Xr[Nr];$e.format!==Ko&&$e.format!==ec?null!==Vn?d.compressedTexImage2D(34069+ri,Nr,si,Vi.width,Vi.height,0,Vi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):d.texImage2D(34069+ri,Nr,si,Vi.width,Vi.height,0,Vn,ti,Vi.data)}}et.__maxMipLevel=Xr.length-1}else{Xr=$e.mipmaps;for(let ri=0;ri<6;ri++)if(xt){d.texImage2D(34069+ri,0,si,Yn[ri].width,Yn[ri].height,0,Vn,ti,Yn[ri].data);for(let Nr=0;Nr<Xr.length;Nr++){const Is=Xr[Nr].image[ri].image;d.texImage2D(34069+ri,Nr+1,si,Is.width,Is.height,0,Vn,ti,Is.data)}}else{d.texImage2D(34069+ri,0,si,Vn,ti,Yn[ri]);for(let Nr=0;Nr<Xr.length;Nr++)d.texImage2D(34069+ri,Nr+1,si,Vn,ti,Xr[Nr].image[ri])}et.__maxMipLevel=Xr.length}Re($e,Ar)&&xe(34067,$e,tr.width,tr.height),et.__version=$e.version,$e.onUpdate&&$e.onUpdate($e)}(wn,et,$e):(d.activeTexture(33984+$e),d.bindTexture(34067,wn.__webglTexture))}const Gn={[qt]:10497,[hn]:33071,[Sn]:33648},$n={[Bn]:9728,[br]:9984,[ui]:9986,[Ii]:9729,[vu]:9985,[qi]:9987};function Ir(et,$e,wn){if(wn?(f.texParameteri(et,10242,Gn[$e.wrapS]),f.texParameteri(et,10243,Gn[$e.wrapT]),(32879===et||35866===et)&&f.texParameteri(et,32882,Gn[$e.wrapR]),f.texParameteri(et,10240,$n[$e.magFilter]),f.texParameteri(et,10241,$n[$e.minFilter])):(f.texParameteri(et,10242,33071),f.texParameteri(et,10243,33071),(32879===et||35866===et)&&f.texParameteri(et,32882,33071),($e.wrapS!==hn||$e.wrapT!==hn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),f.texParameteri(et,10240,Me($e.magFilter)),f.texParameteri(et,10241,Me($e.minFilter)),$e.minFilter!==Bn&&$e.minFilter!==Ii&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===l.has("EXT_texture_filter_anisotropic")){const On=l.get("EXT_texture_filter_anisotropic");if($e.type===Zl&&!1===l.has("OES_texture_float_linear")||!1===D&&$e.type===gs&&!1===l.has("OES_texture_half_float_linear"))return;($e.anisotropy>1||m.get($e).__currentAnisotropy)&&(f.texParameterf(et,On.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($e.anisotropy,v.getMaxAnisotropy())),m.get($e).__currentAnisotropy=$e.anisotropy)}}function Tr(et,$e){void 0===et.__webglInit&&(et.__webglInit=!0,$e.addEventListener("dispose",tt),et.__webglTexture=f.createTexture(),x.memory.textures++)}function oo(et,$e,wn){let On=3553;$e.isDataTexture2DArray&&(On=35866),$e.isDataTexture3D&&(On=32879),Tr(et,$e),d.activeTexture(33984+wn),d.bindTexture(On,et.__webglTexture),f.pixelStorei(37440,$e.flipY),f.pixelStorei(37441,$e.premultiplyAlpha),f.pixelStorei(3317,$e.unpackAlignment),f.pixelStorei(37443,0);const xt=function X(et){return!D&&(et.wrapS!==hn||et.wrapT!==hn||et.minFilter!==Bn&&et.minFilter!==Ii)}($e)&&!1===ie($e.image),Yn=se($e.image,xt,!1,U),tr=ie(Yn)||D,Ar=_.convert($e.format);let si,Vn=_.convert($e.type),ti=Ve($e.internalFormat,Ar,Vn);Ir(On,$e,tr);const Xr=$e.mipmaps;if($e.isDepthTexture)ti=6402,D?ti=$e.type===Zl?36012:$e.type===yu?33190:$e.type===Qn?35056:33189:$e.type===Zl&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),$e.format===Oo&&6402===ti&&$e.type!==Ji&&$e.type!==yu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),$e.type=Ji,Vn=_.convert($e.type)),$e.format===xo&&6402===ti&&(ti=34041,$e.type!==Qn&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),$e.type=Qn,Vn=_.convert($e.type))),d.texImage2D(3553,0,ti,Yn.width,Yn.height,0,Ar,Vn,null);else if($e.isDataTexture)if(Xr.length>0&&tr){for(let ri=0,Nr=Xr.length;ri<Nr;ri++)si=Xr[ri],d.texImage2D(3553,ri,ti,si.width,si.height,0,Ar,Vn,si.data);$e.generateMipmaps=!1,et.__maxMipLevel=Xr.length-1}else d.texImage2D(3553,0,ti,Yn.width,Yn.height,0,Ar,Vn,Yn.data),et.__maxMipLevel=0;else if($e.isCompressedTexture){for(let ri=0,Nr=Xr.length;ri<Nr;ri++)si=Xr[ri],$e.format!==Ko&&$e.format!==ec?null!==Ar?d.compressedTexImage2D(3553,ri,ti,si.width,si.height,0,si.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):d.texImage2D(3553,ri,ti,si.width,si.height,0,Ar,Vn,si.data);et.__maxMipLevel=Xr.length-1}else if($e.isDataTexture2DArray)d.texImage3D(35866,0,ti,Yn.width,Yn.height,Yn.depth,0,Ar,Vn,Yn.data),et.__maxMipLevel=0;else if($e.isDataTexture3D)d.texImage3D(32879,0,ti,Yn.width,Yn.height,Yn.depth,0,Ar,Vn,Yn.data),et.__maxMipLevel=0;else if(Xr.length>0&&tr){for(let ri=0,Nr=Xr.length;ri<Nr;ri++)si=Xr[ri],d.texImage2D(3553,ri,ti,Ar,Vn,si);$e.generateMipmaps=!1,et.__maxMipLevel=Xr.length-1}else d.texImage2D(3553,0,ti,Ar,Vn,Yn),et.__maxMipLevel=0;Re($e,tr)&&xe(On,$e,Yn.width,Yn.height),et.__version=$e.version,$e.onUpdate&&$e.onUpdate($e)}function rs(et,$e,wn,On){const xt=$e.texture,Yn=_.convert(xt.format),tr=_.convert(xt.type),Ar=Ve(xt.internalFormat,Yn,tr);32879===On||35866===On?d.texImage3D(On,0,Ar,$e.width,$e.height,$e.depth,0,Yn,tr,null):d.texImage2D(On,0,Ar,$e.width,$e.height,0,Yn,tr,null),f.bindFramebuffer(36160,et),f.framebufferTexture2D(36160,wn,On,m.get(xt).__webglTexture,0),f.bindFramebuffer(36160,null)}function No(et,$e,wn){if(f.bindRenderbuffer(36161,et),$e.depthBuffer&&!$e.stencilBuffer){let On=33189;if(wn){const xt=$e.depthTexture;xt&&xt.isDepthTexture&&(xt.type===Zl?On=36012:xt.type===yu&&(On=33190));const Yn=Wo($e);f.renderbufferStorageMultisample(36161,Yn,On,$e.width,$e.height)}else f.renderbufferStorage(36161,On,$e.width,$e.height);f.framebufferRenderbuffer(36160,36096,36161,et)}else if($e.depthBuffer&&$e.stencilBuffer){if(wn){const On=Wo($e);f.renderbufferStorageMultisample(36161,On,35056,$e.width,$e.height)}else f.renderbufferStorage(36161,34041,$e.width,$e.height);f.framebufferRenderbuffer(36160,33306,36161,et)}else{const On=$e.texture,xt=_.convert(On.format),Yn=_.convert(On.type),tr=Ve(On.internalFormat,xt,Yn);if(wn){const Ar=Wo($e);f.renderbufferStorageMultisample(36161,Ar,tr,$e.width,$e.height)}else f.renderbufferStorage(36161,tr,$e.width,$e.height)}f.bindRenderbuffer(36161,null)}function Wo(et){return D&&et.isWebGLMultisampleRenderTarget?Math.min(H,et.samples):0}let Kn=!1,rr=!1;this.allocateTextureUnit=function zt(){const et=Ut;return et>=k&&console.warn("THREE.WebGLTextures: Trying to use "+et+" texture units while this GPU supports only "+k),Ut+=1,et},this.resetTextureUnits=function en(){Ut=0},this.setTexture2D=Tt,this.setTexture2DArray=function jt(et,$e){const wn=m.get(et);et.version>0&&wn.__version!==et.version?oo(wn,et,$e):(d.activeTexture(33984+$e),d.bindTexture(35866,wn.__webglTexture))},this.setTexture3D=function Gt(et,$e){const wn=m.get(et);et.version>0&&wn.__version!==et.version?oo(wn,et,$e):(d.activeTexture(33984+$e),d.bindTexture(32879,wn.__webglTexture))},this.setTextureCube=Fn,this.setupRenderTarget=function Co(et){const $e=et.texture,wn=m.get(et),On=m.get($e);et.addEventListener("dispose",At),On.__webglTexture=f.createTexture(),x.memory.textures++;const xt=!0===et.isWebGLCubeRenderTarget,Yn=!0===et.isWebGLMultisampleRenderTarget,tr=$e.isDataTexture3D||$e.isDataTexture2DArray,Ar=ie(et)||D;if(D&&$e.format===ec&&($e.type===Zl||$e.type===gs)&&($e.format=Ko,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),xt){wn.__webglFramebuffer=[];for(let Vn=0;Vn<6;Vn++)wn.__webglFramebuffer[Vn]=f.createFramebuffer()}else if(wn.__webglFramebuffer=f.createFramebuffer(),Yn)if(D){wn.__webglMultisampledFramebuffer=f.createFramebuffer(),wn.__webglColorRenderbuffer=f.createRenderbuffer(),f.bindRenderbuffer(36161,wn.__webglColorRenderbuffer);const Vn=_.convert($e.format),ti=_.convert($e.type),si=Ve($e.internalFormat,Vn,ti),Xr=Wo(et);f.renderbufferStorageMultisample(36161,Xr,si,et.width,et.height),f.bindFramebuffer(36160,wn.__webglMultisampledFramebuffer),f.framebufferRenderbuffer(36160,36064,36161,wn.__webglColorRenderbuffer),f.bindRenderbuffer(36161,null),et.depthBuffer&&(wn.__webglDepthRenderbuffer=f.createRenderbuffer(),No(wn.__webglDepthRenderbuffer,et,!0)),f.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(xt){d.bindTexture(34067,On.__webglTexture),Ir(34067,$e,Ar);for(let Vn=0;Vn<6;Vn++)rs(wn.__webglFramebuffer[Vn],et,36064,34069+Vn);Re($e,Ar)&&xe(34067,$e,et.width,et.height),d.bindTexture(34067,null)}else{let Vn=3553;tr&&(D?Vn=$e.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),d.bindTexture(Vn,On.__webglTexture),Ir(Vn,$e,Ar),rs(wn.__webglFramebuffer,et,36064,Vn),Re($e,Ar)&&xe(3553,$e,et.width,et.height),d.bindTexture(3553,null)}et.depthBuffer&&function hs(et){const $e=m.get(et),wn=!0===et.isWebGLCubeRenderTarget;if(et.depthTexture){if(wn)throw new Error("target.depthTexture not supported in Cube render targets");!function vn(et,$e){if($e&&$e.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(f.bindFramebuffer(36160,et),!$e.depthTexture||!$e.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!m.get($e.depthTexture).__webglTexture||$e.depthTexture.image.width!==$e.width||$e.depthTexture.image.height!==$e.height)&&($e.depthTexture.image.width=$e.width,$e.depthTexture.image.height=$e.height,$e.depthTexture.needsUpdate=!0),Tt($e.depthTexture,0);const On=m.get($e.depthTexture).__webglTexture;if($e.depthTexture.format===Oo)f.framebufferTexture2D(36160,36096,3553,On,0);else{if($e.depthTexture.format!==xo)throw new Error("Unknown depthTexture format");f.framebufferTexture2D(36160,33306,3553,On,0)}}($e.__webglFramebuffer,et)}else if(wn){$e.__webglDepthbuffer=[];for(let On=0;On<6;On++)f.bindFramebuffer(36160,$e.__webglFramebuffer[On]),$e.__webglDepthbuffer[On]=f.createRenderbuffer(),No($e.__webglDepthbuffer[On],et,!1)}else f.bindFramebuffer(36160,$e.__webglFramebuffer),$e.__webglDepthbuffer=f.createRenderbuffer(),No($e.__webglDepthbuffer,et,!1);f.bindFramebuffer(36160,null)}(et)},this.updateRenderTargetMipmap=function Fo(et){const $e=et.texture;if(Re($e,ie(et)||D)){const On=et.isWebGLCubeRenderTarget?34067:3553,xt=m.get($e).__webglTexture;d.bindTexture(On,xt),xe(On,$e,et.width,et.height),d.bindTexture(On,null)}},this.updateMultisampleRenderTarget=function Ei(et){if(et.isWebGLMultisampleRenderTarget)if(D){const $e=m.get(et);f.bindFramebuffer(36008,$e.__webglMultisampledFramebuffer),f.bindFramebuffer(36009,$e.__webglFramebuffer);const wn=et.width,On=et.height;let xt=16384;et.depthBuffer&&(xt|=256),et.stencilBuffer&&(xt|=1024),f.blitFramebuffer(0,0,wn,On,0,0,wn,On,xt,9728),f.bindFramebuffer(36160,$e.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function fr(et,$e){et&&et.isWebGLRenderTarget&&(!1===Kn&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Kn=!0),et=et.texture),Tt(et,$e)},this.safeSetTextureCube=function Cr(et,$e){et&&et.isWebGLCubeRenderTarget&&(!1===rr&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),rr=!0),et=et.texture),Fn(et,$e)}}function uD(f,l,d){const m=d.isWebGL2;return{convert:function v(_){let x;if(_===ua)return 5121;if(_===mg)return 32819;if(_===kc)return 32820;if(_===Ra)return 33635;if(_===Ao)return 5120;if(_===ms)return 5122;if(_===Ji)return 5123;if(_===Kl)return 5124;if(_===yu)return 5125;if(_===Zl)return 5126;if(_===gs)return m?5131:(x=l.get("OES_texture_half_float"),null!==x?x.HALF_FLOAT_OES:null);if(_===dh)return 6406;if(_===ec)return 6407;if(_===Ko)return 6408;if(_===fl)return 6409;if(_===So)return 6410;if(_===Oo)return 6402;if(_===xo)return 34041;if(_===Zo)return 6403;if(_===pl)return 36244;if(_===Ri)return 33319;if(_===Vs)return 33320;if(_===Ka)return 36248;if(_===Za)return 36249;if(_===hh||_===fh||_===_u||_===ko){if(x=l.get("WEBGL_compressed_texture_s3tc"),null===x)return null;if(_===hh)return x.COMPRESSED_RGB_S3TC_DXT1_EXT;if(_===fh)return x.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(_===_u)return x.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(_===ko)return x.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(_===tc||_===ph||_===bu||_===nc){if(x=l.get("WEBGL_compressed_texture_pvrtc"),null===x)return null;if(_===tc)return x.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(_===ph)return x.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(_===bu)return x.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(_===nc)return x.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(_===mh)return x=l.get("WEBGL_compressed_texture_etc1"),null!==x?x.COMPRESSED_RGB_ETC1_WEBGL:null;if((_===ff||_===Qo)&&(x=l.get("WEBGL_compressed_texture_etc"),null!==x)){if(_===ff)return x.COMPRESSED_RGB8_ETC2;if(_===Qo)return x.COMPRESSED_RGBA8_ETC2_EAC}return _===Lc||_===gh||_===rc||_===ro||_===ql||_===Lo||_===vh||_===wp||_===Qi||_===zr||_===Pc||_===Mp||_===sn||_===ml||_===Bi||_===wd||_===wu||_===As||_===Jl||_===Da||_===gg||_===pf||_===vg||_===Fl||_===Ly||_===Md||_===Sp||_===yg?(x=l.get("WEBGL_compressed_texture_astc"),null!==x?_:null):_===Qr?(x=l.get("EXT_texture_compression_bptc"),null!==x?_:null):_===Qn?m?34042:(x=l.get("WEBGL_depth_texture"),null!==x?x.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function jg(f=[]){ss.call(this),this.cameras=f}h0.prototype.isMeshDistanceMaterial=!0,jg.prototype=Object.assign(Object.create(ss.prototype),{constructor:jg,isArrayCamera:!0});class Wp extends Zr{constructor(){super(),this.type="Group"}}function Wg(){this._targetRay=null,this._grip=null,this._hand=null}function cD(f,l){const d=this;let m=null,v=1,_=null,x="local-floor",D=null;const k=[],O=new Map,U=new ss;U.layers.enable(1),U.viewport=new Di;const H=new ss;H.layers.enable(2),H.viewport=new Di;const V=[U,H],W=new jg;W.layers.enable(1),W.layers.enable(2);let J=null,ee=null;function se(st){const Ut=O.get(st.inputSource);Ut&&Ut.dispatchEvent({type:st.type,data:st.inputSource})}function ie(){O.forEach(function(st,Ut){st.disconnect(Ut)}),O.clear(),J=null,ee=null,f.setFramebuffer(null),f.setRenderTarget(f.getRenderTarget()),wt.stop(),d.isPresenting=!1,d.dispatchEvent({type:"sessionend"})}function X(st){const Ut=m.inputSources;for(let en=0;en<k.length;en++)O.set(Ut[en],k[en]);for(let en=0;en<st.removed.length;en++){const zt=st.removed[en],Tt=O.get(zt);Tt&&(Tt.dispatchEvent({type:"disconnected",data:zt}),O.delete(zt))}for(let en=0;en<st.added.length;en++){const zt=st.added[en],Tt=O.get(zt);Tt&&Tt.dispatchEvent({type:"connected",data:zt})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(st){let Ut=k[st];return void 0===Ut&&(Ut=new Wg,k[st]=Ut),Ut.getTargetRaySpace()},this.getControllerGrip=function(st){let Ut=k[st];return void 0===Ut&&(Ut=new Wg,k[st]=Ut),Ut.getGripSpace()},this.getHand=function(st){let Ut=k[st];return void 0===Ut&&(Ut=new Wg,k[st]=Ut),Ut.getHandSpace()},this.setFramebufferScaleFactor=function(st){v=st,!0===d.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(st){x=st,!0===d.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return _},this.getSession=function(){return m},this.setSession=function(){var st=(0,L.Z)(function*(Ut){if(m=Ut,null!==m){m.addEventListener("select",se),m.addEventListener("selectstart",se),m.addEventListener("selectend",se),m.addEventListener("squeeze",se),m.addEventListener("squeezestart",se),m.addEventListener("squeezeend",se),m.addEventListener("end",ie),m.addEventListener("inputsourceschange",X);const en=l.getContextAttributes();!0!==en.xrCompatible&&(yield l.makeXRCompatible());const Tt=new XRWebGLLayer(m,l,{antialias:en.antialias,alpha:en.alpha,depth:en.depth,stencil:en.stencil,framebufferScaleFactor:v});m.updateRenderState({baseLayer:Tt}),_=yield m.requestReferenceSpace(x),wt.setContext(m),wt.start(),d.isPresenting=!0,d.dispatchEvent({type:"sessionstart"})}});return function(Ut){return st.apply(this,arguments)}}();const Re=new Ce,xe=new Ce;function Me(st,Ut){null===Ut?st.matrixWorld.copy(st.matrix):st.matrixWorld.multiplyMatrices(Ut.matrixWorld,st.matrix),st.matrixWorldInverse.copy(st.matrixWorld).invert()}this.getCamera=function(st){W.near=H.near=U.near=st.near,W.far=H.far=U.far=st.far,(J!==W.near||ee!==W.far)&&(m.updateRenderState({depthNear:W.near,depthFar:W.far}),J=W.near,ee=W.far);const Ut=st.parent,en=W.cameras;Me(W,Ut);for(let Tt=0;Tt<en.length;Tt++)Me(en[Tt],Ut);st.matrixWorld.copy(W.matrixWorld),st.matrix.copy(W.matrix),st.matrix.decompose(st.position,st.quaternion,st.scale);const zt=st.children;for(let Tt=0,jt=zt.length;Tt<jt;Tt++)zt[Tt].updateMatrixWorld(!0);return 2===en.length?function Ve(st,Ut,en){Re.setFromMatrixPosition(Ut.matrixWorld),xe.setFromMatrixPosition(en.matrixWorld);const zt=Re.distanceTo(xe),Tt=Ut.projectionMatrix.elements,jt=en.projectionMatrix.elements,Gt=Tt[14]/(Tt[10]-1),Fn=Tt[14]/(Tt[10]+1),Gn=(Tt[9]+1)/Tt[5],$n=(Tt[9]-1)/Tt[5],Ir=(Tt[8]-1)/Tt[0],Tr=(jt[8]+1)/jt[0],oo=Gt*Ir,Mi=Gt*Tr,rs=zt/(-Ir+Tr),No=rs*-Ir;Ut.matrixWorld.decompose(st.position,st.quaternion,st.scale),st.translateX(No),st.translateZ(rs),st.matrixWorld.compose(st.position,st.quaternion,st.scale),st.matrixWorldInverse.copy(st.matrixWorld).invert();const vn=Gt+rs,hs=Fn+rs;st.projectionMatrix.makePerspective(oo-No,Mi+(zt-No),Gn*Fn/hs*vn,$n*Fn/hs*vn,vn,hs)}(W,U,H):W.projectionMatrix.copy(U.projectionMatrix),W};let tt=null;const wt=new Hp;wt.setAnimationLoop(function At(st,Ut){if(D=Ut.getViewerPose(_),null!==D){const zt=D.views,Tt=m.renderState.baseLayer;f.setFramebuffer(Tt.framebuffer);let jt=!1;zt.length!==W.cameras.length&&(W.cameras.length=0,jt=!0);for(let Gt=0;Gt<zt.length;Gt++){const Fn=zt[Gt],Gn=Tt.getViewport(Fn),$n=V[Gt];$n.matrix.fromArray(Fn.transform.matrix),$n.projectionMatrix.fromArray(Fn.projectionMatrix),$n.viewport.set(Gn.x,Gn.y,Gn.width,Gn.height),0===Gt&&W.matrix.copy($n.matrix),!0===jt&&W.cameras.push($n)}}const en=m.inputSources;for(let zt=0;zt<k.length;zt++)k[zt].update(en[zt],Ut,_);tt&&tt(st,Ut)}),this.setAnimationLoop=function(st){tt=st},this.dispose=function(){}}function dD(f){function m(ie,X){ie.opacity.value=X.opacity,X.color&&ie.diffuse.value.copy(X.color),X.emissive&&ie.emissive.value.copy(X.emissive).multiplyScalar(X.emissiveIntensity),X.map&&(ie.map.value=X.map),X.alphaMap&&(ie.alphaMap.value=X.alphaMap),X.specularMap&&(ie.specularMap.value=X.specularMap);const Re=f.get(X).envMap;if(Re){ie.envMap.value=Re,ie.flipEnvMap.value=Re.isCubeTexture&&Re._needsFlipEnvMap?-1:1,ie.reflectivity.value=X.reflectivity,ie.refractionRatio.value=X.refractionRatio;const Me=f.get(Re).__maxMipLevel;void 0!==Me&&(ie.maxMipLevel.value=Me)}let xe,Ve;X.lightMap&&(ie.lightMap.value=X.lightMap,ie.lightMapIntensity.value=X.lightMapIntensity),X.aoMap&&(ie.aoMap.value=X.aoMap,ie.aoMapIntensity.value=X.aoMapIntensity),X.map?xe=X.map:X.specularMap?xe=X.specularMap:X.displacementMap?xe=X.displacementMap:X.normalMap?xe=X.normalMap:X.bumpMap?xe=X.bumpMap:X.roughnessMap?xe=X.roughnessMap:X.metalnessMap?xe=X.metalnessMap:X.alphaMap?xe=X.alphaMap:X.emissiveMap?xe=X.emissiveMap:X.clearcoatMap?xe=X.clearcoatMap:X.clearcoatNormalMap?xe=X.clearcoatNormalMap:X.clearcoatRoughnessMap&&(xe=X.clearcoatRoughnessMap),void 0!==xe&&(xe.isWebGLRenderTarget&&(xe=xe.texture),!0===xe.matrixAutoUpdate&&xe.updateMatrix(),ie.uvTransform.value.copy(xe.matrix)),X.aoMap?Ve=X.aoMap:X.lightMap&&(Ve=X.lightMap),void 0!==Ve&&(Ve.isWebGLRenderTarget&&(Ve=Ve.texture),!0===Ve.matrixAutoUpdate&&Ve.updateMatrix(),ie.uv2Transform.value.copy(Ve.matrix))}function H(ie,X){ie.roughness.value=X.roughness,ie.metalness.value=X.metalness,X.roughnessMap&&(ie.roughnessMap.value=X.roughnessMap),X.metalnessMap&&(ie.metalnessMap.value=X.metalnessMap),X.emissiveMap&&(ie.emissiveMap.value=X.emissiveMap),X.bumpMap&&(ie.bumpMap.value=X.bumpMap,ie.bumpScale.value=X.bumpScale,X.side===K&&(ie.bumpScale.value*=-1)),X.normalMap&&(ie.normalMap.value=X.normalMap,ie.normalScale.value.copy(X.normalScale),X.side===K&&ie.normalScale.value.negate()),X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias),f.get(X).envMap&&(ie.envMapIntensity.value=X.envMapIntensity)}return{refreshFogUniforms:function l(ie,X){ie.fogColor.value.copy(X.color),X.isFog?(ie.fogNear.value=X.near,ie.fogFar.value=X.far):X.isFogExp2&&(ie.fogDensity.value=X.density)},refreshMaterialUniforms:function d(ie,X,Re,xe){X.isMeshBasicMaterial?m(ie,X):X.isMeshLambertMaterial?(m(ie,X),function k(ie,X){X.emissiveMap&&(ie.emissiveMap.value=X.emissiveMap)}(ie,X)):X.isMeshToonMaterial?(m(ie,X),function U(ie,X){X.gradientMap&&(ie.gradientMap.value=X.gradientMap),X.emissiveMap&&(ie.emissiveMap.value=X.emissiveMap),X.bumpMap&&(ie.bumpMap.value=X.bumpMap,ie.bumpScale.value=X.bumpScale,X.side===K&&(ie.bumpScale.value*=-1)),X.normalMap&&(ie.normalMap.value=X.normalMap,ie.normalScale.value.copy(X.normalScale),X.side===K&&ie.normalScale.value.negate()),X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias)}(ie,X)):X.isMeshPhongMaterial?(m(ie,X),function O(ie,X){ie.specular.value.copy(X.specular),ie.shininess.value=Math.max(X.shininess,1e-4),X.emissiveMap&&(ie.emissiveMap.value=X.emissiveMap),X.bumpMap&&(ie.bumpMap.value=X.bumpMap,ie.bumpScale.value=X.bumpScale,X.side===K&&(ie.bumpScale.value*=-1)),X.normalMap&&(ie.normalMap.value=X.normalMap,ie.normalScale.value.copy(X.normalScale),X.side===K&&ie.normalScale.value.negate()),X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias)}(ie,X)):X.isMeshStandardMaterial?(m(ie,X),X.isMeshPhysicalMaterial?function V(ie,X){H(ie,X),ie.reflectivity.value=X.reflectivity,ie.clearcoat.value=X.clearcoat,ie.clearcoatRoughness.value=X.clearcoatRoughness,X.sheen&&ie.sheen.value.copy(X.sheen),X.clearcoatMap&&(ie.clearcoatMap.value=X.clearcoatMap),X.clearcoatRoughnessMap&&(ie.clearcoatRoughnessMap.value=X.clearcoatRoughnessMap),X.clearcoatNormalMap&&(ie.clearcoatNormalScale.value.copy(X.clearcoatNormalScale),ie.clearcoatNormalMap.value=X.clearcoatNormalMap,X.side===K&&ie.clearcoatNormalScale.value.negate()),ie.transmission.value=X.transmission,X.transmissionMap&&(ie.transmissionMap.value=X.transmissionMap)}(ie,X):H(ie,X)):X.isMeshMatcapMaterial?(m(ie,X),function W(ie,X){X.matcap&&(ie.matcap.value=X.matcap),X.bumpMap&&(ie.bumpMap.value=X.bumpMap,ie.bumpScale.value=X.bumpScale,X.side===K&&(ie.bumpScale.value*=-1)),X.normalMap&&(ie.normalMap.value=X.normalMap,ie.normalScale.value.copy(X.normalScale),X.side===K&&ie.normalScale.value.negate()),X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias)}(ie,X)):X.isMeshDepthMaterial?(m(ie,X),function J(ie,X){X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias)}(ie,X)):X.isMeshDistanceMaterial?(m(ie,X),function ee(ie,X){X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias),ie.referencePosition.value.copy(X.referencePosition),ie.nearDistance.value=X.nearDistance,ie.farDistance.value=X.farDistance}(ie,X)):X.isMeshNormalMaterial?(m(ie,X),function se(ie,X){X.bumpMap&&(ie.bumpMap.value=X.bumpMap,ie.bumpScale.value=X.bumpScale,X.side===K&&(ie.bumpScale.value*=-1)),X.normalMap&&(ie.normalMap.value=X.normalMap,ie.normalScale.value.copy(X.normalScale),X.side===K&&ie.normalScale.value.negate()),X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias)}(ie,X)):X.isLineBasicMaterial?(function v(ie,X){ie.diffuse.value.copy(X.color),ie.opacity.value=X.opacity}(ie,X),X.isLineDashedMaterial&&function _(ie,X){ie.dashSize.value=X.dashSize,ie.totalSize.value=X.dashSize+X.gapSize,ie.scale.value=X.scale}(ie,X)):X.isPointsMaterial?function x(ie,X,Re,xe){let Ve;ie.diffuse.value.copy(X.color),ie.opacity.value=X.opacity,ie.size.value=X.size*Re,ie.scale.value=.5*xe,X.map&&(ie.map.value=X.map),X.alphaMap&&(ie.alphaMap.value=X.alphaMap),X.map?Ve=X.map:X.alphaMap&&(Ve=X.alphaMap),void 0!==Ve&&(!0===Ve.matrixAutoUpdate&&Ve.updateMatrix(),ie.uvTransform.value.copy(Ve.matrix))}(ie,X,Re,xe):X.isSpriteMaterial?function D(ie,X){let Re;ie.diffuse.value.copy(X.color),ie.opacity.value=X.opacity,ie.rotation.value=X.rotation,X.map&&(ie.map.value=X.map),X.alphaMap&&(ie.alphaMap.value=X.alphaMap),X.map?Re=X.map:X.alphaMap&&(Re=X.alphaMap),void 0!==Re&&(!0===Re.matrixAutoUpdate&&Re.updateMatrix(),ie.uvTransform.value.copy(Re.matrix))}(ie,X):X.isShadowMaterial?(ie.color.value.copy(X.color),ie.opacity.value=X.opacity):X.isShaderMaterial&&(X.uniformsNeedUpdate=!1)}}}function ns(f){const l=void 0!==(f=f||{}).canvas?f.canvas:function I8(){const f=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return f.style.display="block",f}(),d=void 0!==f.context?f.context:null,m=void 0!==f.alpha&&f.alpha,v=void 0===f.depth||f.depth,_=void 0===f.stencil||f.stencil,x=void 0!==f.antialias&&f.antialias,D=void 0===f.premultipliedAlpha||f.premultipliedAlpha,k=void 0!==f.preserveDrawingBuffer&&f.preserveDrawingBuffer,O=void 0!==f.powerPreference?f.powerPreference:"default",U=void 0!==f.failIfMajorPerformanceCaveat&&f.failIfMajorPerformanceCaveat;let H=null,V=null;const W=[],J=[];this.domElement=l,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=yn,this.physicallyCorrectLights=!1,this.toneMapping=fi,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const ee=this;let se=!1,ie=null,X=0,Re=0,xe=null,Ve=null,Me=-1,tt=null;const At=new Di,wt=new Di;let st=null,Ut=l.width,en=l.height,zt=1,Tt=null,jt=null;const Gt=new Di(0,0,Ut,en),Fn=new Di(0,0,Ut,en);let Gn=!1;const $n=new kd;let Ir=!1,Tr=!1;const oo=new Br,Mi=new Ce,rs={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function No(){return null===xe?zt:1}let Co,Fo,Ei,Wo,Ln,Kn,rr,fr,Cr,et,$e,wn,On,xt,Yn,tr,Ar,Vn,ti,si,Xr,vn=d;function hs(ze,rn){for(let Jt=0;Jt<ze.length;Jt++){const ir=l.getContext(ze[Jt],rn);if(null!==ir)return ir}return null}try{const ze={alpha:m,depth:v,stencil:_,antialias:x,premultipliedAlpha:D,preserveDrawingBuffer:k,powerPreference:O,failIfMajorPerformanceCaveat:U};if(l.addEventListener("webglcontextlost",Is,!1),l.addEventListener("webglcontextrestored",vA,!1),null===vn){const rn=["webgl2","webgl","experimental-webgl"];if(!0===ee.isWebGL1Renderer&&rn.shift(),vn=hs(rn,ze),null===vn)throw hs(rn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===vn.getShaderPrecisionFormat&&(vn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ze){throw console.error("THREE.WebGLRenderer: "+ze.message),ze}function ri(){Co=new FR(vn),Fo=new S2(vn,Co,f),Co.init(Fo),si=new uD(vn,Co,Fo),Ei=new q2(vn,Co,Fo),Ei.scissor(wt.copy(Fn).multiplyScalar(zt).floor()),Ei.viewport(At.copy(Gt).multiplyScalar(zt).floor()),Wo=new E8(vn),Ln=new iD,Kn=new J2(vn,Co,Ei,Ln,Fo,si,Wo),rr=new n0(ee),fr=new nC(vn,Fo),Xr=new C8(vn,Co,fr,Fo),Cr=new C2(vn,fr,Wo,Xr),et=new E2(vn,Cr,fr,Wo),Ar=new yC(vn),Yn=new x2(Ln),$e=new kC(ee,rr,Co,Fo,Xr,Yn),wn=new dD(Ln),On=new LC(Ln),xt=new NC(Co,Fo),tr=new w2(ee,rr,Ei,et,D),Vn=new M2(vn,Co,Wo,Fo),ti=new HR(vn,Co,Wo,Fo),Wo.programs=$e.programs,ee.capabilities=Fo,ee.extensions=Co,ee.properties=Ln,ee.renderLists=On,ee.state=Ei,ee.info=Wo}ri();const Nr=new cD(ee,vn);this.xr=Nr;const Vi=new lD(ee,et,Fo.maxTextureSize);function Is(ze){ze.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),se=!0}function vA(){console.log("THREE.WebGLRenderer: Context Restored."),se=!1,ri()}function yA(ze){const rn=ze.target;rn.removeEventListener("dispose",yA),function Yd(ze){yc(ze),Ln.remove(ze)}(rn)}function yc(ze){const rn=Ln.get(ze).program;void 0!==rn&&$e.releaseProgram(rn)}this.shadowMap=Vi,this.getContext=function(){return vn},this.getContextAttributes=function(){return vn.getContextAttributes()},this.forceContextLoss=function(){const ze=Co.get("WEBGL_lose_context");ze&&ze.loseContext()},this.forceContextRestore=function(){const ze=Co.get("WEBGL_lose_context");ze&&ze.restoreContext()},this.getPixelRatio=function(){return zt},this.setPixelRatio=function(ze){void 0!==ze&&(zt=ze,this.setSize(Ut,en,!1))},this.getSize=function(ze){return void 0===ze&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),ze=new _n),ze.set(Ut,en)},this.setSize=function(ze,rn,Jt){Nr.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Ut=ze,en=rn,l.width=Math.floor(ze*zt),l.height=Math.floor(rn*zt),!1!==Jt&&(l.style.width=ze+"px",l.style.height=rn+"px"),this.setViewport(0,0,ze,rn))},this.getDrawingBufferSize=function(ze){return void 0===ze&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),ze=new _n),ze.set(Ut*zt,en*zt).floor()},this.setDrawingBufferSize=function(ze,rn,Jt){Ut=ze,en=rn,zt=Jt,l.width=Math.floor(ze*Jt),l.height=Math.floor(rn*Jt),this.setViewport(0,0,ze,rn)},this.getCurrentViewport=function(ze){return void 0===ze&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),ze=new Di),ze.copy(At)},this.getViewport=function(ze){return ze.copy(Gt)},this.setViewport=function(ze,rn,Jt,an){ze.isVector4?Gt.set(ze.x,ze.y,ze.z,ze.w):Gt.set(ze,rn,Jt,an),Ei.viewport(At.copy(Gt).multiplyScalar(zt).floor())},this.getScissor=function(ze){return ze.copy(Fn)},this.setScissor=function(ze,rn,Jt,an){ze.isVector4?Fn.set(ze.x,ze.y,ze.z,ze.w):Fn.set(ze,rn,Jt,an),Ei.scissor(wt.copy(Fn).multiplyScalar(zt).floor())},this.getScissorTest=function(){return Gn},this.setScissorTest=function(ze){Ei.setScissorTest(Gn=ze)},this.setOpaqueSort=function(ze){Tt=ze},this.setTransparentSort=function(ze){jt=ze},this.getClearColor=function(ze){return void 0===ze&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),ze=new hr),ze.copy(tr.getClearColor())},this.setClearColor=function(){tr.setClearColor.apply(tr,arguments)},this.getClearAlpha=function(){return tr.getClearAlpha()},this.setClearAlpha=function(){tr.setClearAlpha.apply(tr,arguments)},this.clear=function(ze,rn,Jt){let an=0;(void 0===ze||ze)&&(an|=16384),(void 0===rn||rn)&&(an|=256),(void 0===Jt||Jt)&&(an|=1024),vn.clear(an)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){l.removeEventListener("webglcontextlost",Is,!1),l.removeEventListener("webglcontextrestored",vA,!1),On.dispose(),xt.dispose(),Ln.dispose(),rr.dispose(),et.dispose(),Xr.dispose(),Nr.dispose(),W_.stop()},this.renderBufferImmediate=function(ze,rn){Xr.initAttributes();const Jt=Ln.get(ze);ze.hasPositions&&!Jt.position&&(Jt.position=vn.createBuffer()),ze.hasNormals&&!Jt.normal&&(Jt.normal=vn.createBuffer()),ze.hasUvs&&!Jt.uv&&(Jt.uv=vn.createBuffer()),ze.hasColors&&!Jt.color&&(Jt.color=vn.createBuffer());const an=rn.getAttributes();ze.hasPositions&&(vn.bindBuffer(34962,Jt.position),vn.bufferData(34962,ze.positionArray,35048),Xr.enableAttribute(an.position),vn.vertexAttribPointer(an.position,3,5126,!1,0,0)),ze.hasNormals&&(vn.bindBuffer(34962,Jt.normal),vn.bufferData(34962,ze.normalArray,35048),Xr.enableAttribute(an.normal),vn.vertexAttribPointer(an.normal,3,5126,!1,0,0)),ze.hasUvs&&(vn.bindBuffer(34962,Jt.uv),vn.bufferData(34962,ze.uvArray,35048),Xr.enableAttribute(an.uv),vn.vertexAttribPointer(an.uv,2,5126,!1,0,0)),ze.hasColors&&(vn.bindBuffer(34962,Jt.color),vn.bufferData(34962,ze.colorArray,35048),Xr.enableAttribute(an.color),vn.vertexAttribPointer(an.color,3,5126,!1,0,0)),Xr.disableUnusedAttributes(),vn.drawArrays(4,0,ze.count),ze.count=0},this.renderBufferDirect=function(ze,rn,Jt,an,ir,uo){null===rn&&(rn=rs);const En=ir.isMesh&&ir.matrixWorld.determinant()<0,Oi=Tv(ze,rn,an,ir);Ei.setMaterial(an,En);let Ur=Jt.index;const Ns=Jt.attributes.position;if(null===Ur){if(void 0===Ns||0===Ns.count)return}else if(0===Ur.count)return;let as=1;!0===an.wireframe&&(Ur=Cr.getWireframeAttribute(Jt),as=2),(an.morphTargets||an.morphNormals)&&Ar.update(ir,Jt,an,Oi),Xr.setup(ir,an,Oi,Jt,Ur);let ki,Yo=Vn;null!==Ur&&(ki=fr.get(Ur),Yo=ti,Yo.setIndex(ki));const _c=null!==Ur?Ur.count:Ns.count,ls=Jt.drawRange.start*as,Gd=Jt.drawRange.count*as,_a=null!==uo?uo.start*as:0,LE=null!==uo?uo.count*as:1/0,fu=Math.max(ls,_a),Y_=Math.min(_c,ls+Gd,_a+LE)-1,Rv=Math.max(0,Y_-fu+1);if(0!==Rv){if(ir.isMesh)!0===an.wireframe?(Ei.setLineWidth(an.wireframeLinewidth*No()),Yo.setMode(1)):Yo.setMode(4);else if(ir.isLine){let G_=an.linewidth;void 0===G_&&(G_=1),Ei.setLineWidth(G_*No()),Yo.setMode(ir.isLineSegments?1:ir.isLineLoop?2:3)}else ir.isPoints?Yo.setMode(0):ir.isSprite&&Yo.setMode(4);if(ir.isInstancedMesh)Yo.renderInstances(fu,Rv,ir.count);else if(Jt.isInstancedBufferGeometry){const G_=Math.min(Jt.instanceCount,Jt._maxInstanceCount);Yo.renderInstances(fu,Rv,G_)}else Yo.render(fu,Rv)}},this.compile=function(ze,rn){V=xt.get(ze),V.init(),ze.traverseVisible(function(an){an.isLight&&an.layers.test(rn.layers)&&(V.pushLight(an),an.castShadow&&V.pushShadow(an))}),V.setupLights();const Jt=new WeakMap;ze.traverse(function(an){const ir=an.material;if(ir)if(Array.isArray(ir))for(let uo=0;uo<ir.length;uo++){const En=ir[uo];!1===Jt.has(En)&&(id(En,ze,an),Jt.set(En))}else!1===Jt.has(ir)&&(id(ir,ze,an),Jt.set(ir))})};let wM=null;const W_=new Hp;function bA(ze,rn,Jt,an){if(!1===ze.visible)return;if(ze.layers.test(rn.layers))if(ze.isGroup)Jt=ze.renderOrder;else if(ze.isLOD)!0===ze.autoUpdate&&ze.update(rn);else if(ze.isLight)V.pushLight(ze),ze.castShadow&&V.pushShadow(ze);else if(ze.isSprite){if(!ze.frustumCulled||$n.intersectsSprite(ze)){an&&Mi.setFromMatrixPosition(ze.matrixWorld).applyMatrix4(oo);const En=et.update(ze),Oi=ze.material;Oi.visible&&H.push(ze,En,Oi,Jt,Mi.z,null)}}else if(ze.isImmediateRenderObject)an&&Mi.setFromMatrixPosition(ze.matrixWorld).applyMatrix4(oo),H.push(ze,null,ze.material,Jt,Mi.z,null);else if((ze.isMesh||ze.isLine||ze.isPoints)&&(ze.isSkinnedMesh&&ze.skeleton.frame!==Wo.render.frame&&(ze.skeleton.update(),ze.skeleton.frame=Wo.render.frame),!ze.frustumCulled||$n.intersectsObject(ze))){an&&Mi.setFromMatrixPosition(ze.matrixWorld).applyMatrix4(oo);const En=et.update(ze),Oi=ze.material;if(Array.isArray(Oi)){const Ur=En.groups;for(let Ns=0,as=Ur.length;Ns<as;Ns++){const ki=Ur[Ns],Yo=Oi[ki.materialIndex];Yo&&Yo.visible&&H.push(ze,En,Yo,Jt,Mi.z,ki)}}else Oi.visible&&H.push(ze,En,Oi,Jt,Mi.z,null)}const uo=ze.children;for(let En=0,Oi=uo.length;En<Oi;En++)bA(uo[En],rn,Jt,an)}function wA(ze,rn,Jt){const an=!0===rn.isScene?rn.overrideMaterial:null;for(let ir=0,uo=ze.length;ir<uo;ir++){const En=ze[ir],Oi=En.object,Ur=En.geometry,Ns=null===an?En.material:an,as=En.group;if(Jt.isArrayCamera){const ki=Jt.cameras;for(let Yo=0,_c=ki.length;Yo<_c;Yo++){const ls=ki[Yo];Oi.layers.test(ls.layers)&&(Ei.viewport(At.copy(ls.viewport)),V.setupLightsView(ls),MA(Oi,rn,ls,Ur,Ns,as))}}else MA(Oi,rn,Jt,Ur,Ns,as)}}function MA(ze,rn,Jt,an,ir,uo){if(ze.onBeforeRender(ee,rn,Jt,an,ir,uo),ze.modelViewMatrix.multiplyMatrices(Jt.matrixWorldInverse,ze.matrixWorld),ze.normalMatrix.getNormalMatrix(ze.modelViewMatrix),ze.isImmediateRenderObject){const En=Tv(Jt,rn,ir,ze);Ei.setMaterial(ir),Xr.reset(),function rd(ze,rn){ze.render(function(Jt){ee.renderBufferImmediate(Jt,rn)})}(ze,En)}else ee.renderBufferDirect(Jt,rn,an,ir,ze,uo);ze.onAfterRender(ee,rn,Jt,an,ir,uo)}function id(ze,rn,Jt){!0!==rn.isScene&&(rn=rs);const an=Ln.get(ze),ir=V.state.lights,En=ir.state.version,Oi=$e.getParameters(ze,ir.state,V.state.shadowsArray,rn,Jt),Ur=$e.getProgramCacheKey(Oi);let Ns=an.program,as=!0;if(an.environment=ze.isMeshStandardMaterial?rn.environment:null,an.fog=rn.fog,an.envMap=rr.get(ze.envMap||an.environment),void 0===Ns)ze.addEventListener("dispose",yA);else if(Ns.cacheKey!==Ur)yc(ze);else if(an.lightsStateVersion!==En)as=!1;else{if(void 0!==Oi.shaderID)return;as=!1}as&&(Oi.uniforms=$e.getUniforms(ze),ze.onBeforeCompile(Oi,ee),Ns=$e.acquireProgram(Oi,Ur),an.program=Ns,an.uniforms=Oi.uniforms,an.outputEncoding=Oi.outputEncoding);const ki=an.uniforms;(!ze.isShaderMaterial&&!ze.isRawShaderMaterial||!0===ze.clipping)&&(an.numClippingPlanes=Yn.numPlanes,an.numIntersection=Yn.numIntersection,ki.clippingPlanes=Yn.uniform),an.needsLights=function SA(ze){return ze.isMeshLambertMaterial||ze.isMeshToonMaterial||ze.isMeshPhongMaterial||ze.isMeshStandardMaterial||ze.isShadowMaterial||ze.isShaderMaterial&&!0===ze.lights}(ze),an.lightsStateVersion=En,an.needsLights&&(ki.ambientLightColor.value=ir.state.ambient,ki.lightProbe.value=ir.state.probe,ki.directionalLights.value=ir.state.directional,ki.directionalLightShadows.value=ir.state.directionalShadow,ki.spotLights.value=ir.state.spot,ki.spotLightShadows.value=ir.state.spotShadow,ki.rectAreaLights.value=ir.state.rectArea,ki.ltc_1.value=ir.state.rectAreaLTC1,ki.ltc_2.value=ir.state.rectAreaLTC2,ki.pointLights.value=ir.state.point,ki.pointLightShadows.value=ir.state.pointShadow,ki.hemisphereLights.value=ir.state.hemi,ki.directionalShadowMap.value=ir.state.directionalShadowMap,ki.directionalShadowMatrix.value=ir.state.directionalShadowMatrix,ki.spotShadowMap.value=ir.state.spotShadowMap,ki.spotShadowMatrix.value=ir.state.spotShadowMatrix,ki.pointShadowMap.value=ir.state.pointShadowMap,ki.pointShadowMatrix.value=ir.state.pointShadowMatrix);const Yo=an.program.getUniforms(),_c=Df.seqWithValue(Yo.seq,ki);an.uniformsList=_c}function Tv(ze,rn,Jt,an){!0!==rn.isScene&&(rn=rs),Kn.resetTextureUnits();const ir=rn.fog,uo=Jt.isMeshStandardMaterial?rn.environment:null,En=null===xe?ee.outputEncoding:xe.texture.encoding,Oi=rr.get(Jt.envMap||uo),Ur=Ln.get(Jt),Ns=V.state.lights;!0!==Ir||!0!==Tr&&ze===tt||Yn.setState(Jt,ze,ze===tt&&Jt.id===Me),Jt.version===Ur.__version?(Jt.fog&&Ur.fog!==ir||Ur.environment!==uo||Ur.needsLights&&Ur.lightsStateVersion!==Ns.state.version||void 0!==Ur.numClippingPlanes&&(Ur.numClippingPlanes!==Yn.numPlanes||Ur.numIntersection!==Yn.numIntersection)||Ur.outputEncoding!==En||Ur.envMap!==Oi)&&id(Jt,rn,an):(id(Jt,rn,an),Ur.__version=Jt.version);let as=!1,ki=!1,Yo=!1;const _c=Ur.program,ls=_c.getUniforms(),Gd=Ur.uniforms;if(Ei.useProgram(_c.program)&&(as=!0,ki=!0,Yo=!0),Jt.id!==Me&&(Me=Jt.id,ki=!0),as||tt!==ze){if(ls.setValue(vn,"projectionMatrix",ze.projectionMatrix),Fo.logarithmicDepthBuffer&&ls.setValue(vn,"logDepthBufFC",2/(Math.log(ze.far+1)/Math.LN2)),tt!==ze&&(tt=ze,ki=!0,Yo=!0),Jt.isShaderMaterial||Jt.isMeshPhongMaterial||Jt.isMeshToonMaterial||Jt.isMeshStandardMaterial||Jt.envMap){const _a=ls.map.cameraPosition;void 0!==_a&&_a.setValue(vn,Mi.setFromMatrixPosition(ze.matrixWorld))}(Jt.isMeshPhongMaterial||Jt.isMeshToonMaterial||Jt.isMeshLambertMaterial||Jt.isMeshBasicMaterial||Jt.isMeshStandardMaterial||Jt.isShaderMaterial)&&ls.setValue(vn,"isOrthographic",!0===ze.isOrthographicCamera),(Jt.isMeshPhongMaterial||Jt.isMeshToonMaterial||Jt.isMeshLambertMaterial||Jt.isMeshBasicMaterial||Jt.isMeshStandardMaterial||Jt.isShaderMaterial||Jt.isShadowMaterial||Jt.skinning)&&ls.setValue(vn,"viewMatrix",ze.matrixWorldInverse)}if(Jt.skinning){ls.setOptional(vn,an,"bindMatrix"),ls.setOptional(vn,an,"bindMatrixInverse");const _a=an.skeleton;if(_a){const LE=_a.bones;if(Fo.floatVertexTextures){if(null===_a.boneTexture){let fu=Math.sqrt(4*LE.length);fu=Dr.ceilPowerOfTwo(fu),fu=Math.max(fu,4);const Y_=new Float32Array(fu*fu*4);Y_.set(_a.boneMatrices);const Rv=new $c(Y_,fu,fu,Ko,Zl);_a.boneMatrices=Y_,_a.boneTexture=Rv,_a.boneTextureSize=fu}ls.setValue(vn,"boneTexture",_a.boneTexture,Kn),ls.setValue(vn,"boneTextureSize",_a.boneTextureSize)}else ls.setOptional(vn,_a,"boneMatrices")}}return(ki||Ur.receiveShadow!==an.receiveShadow)&&(Ur.receiveShadow=an.receiveShadow,ls.setValue(vn,"receiveShadow",an.receiveShadow)),ki&&(ls.setValue(vn,"toneMappingExposure",ee.toneMappingExposure),Ur.needsLights&&function YF(ze,rn){ze.ambientLightColor.needsUpdate=rn,ze.lightProbe.needsUpdate=rn,ze.directionalLights.needsUpdate=rn,ze.directionalLightShadows.needsUpdate=rn,ze.pointLights.needsUpdate=rn,ze.pointLightShadows.needsUpdate=rn,ze.spotLights.needsUpdate=rn,ze.spotLightShadows.needsUpdate=rn,ze.rectAreaLights.needsUpdate=rn,ze.hemisphereLights.needsUpdate=rn}(Gd,Yo),ir&&Jt.fog&&wn.refreshFogUniforms(Gd,ir),wn.refreshMaterialUniforms(Gd,Jt,zt,en),Df.upload(vn,Ur.uniformsList,Gd,Kn)),Jt.isShaderMaterial&&!0===Jt.uniformsNeedUpdate&&(Df.upload(vn,Ur.uniformsList,Gd,Kn),Jt.uniformsNeedUpdate=!1),Jt.isSpriteMaterial&&ls.setValue(vn,"center",an.center),ls.setValue(vn,"modelViewMatrix",an.modelViewMatrix),ls.setValue(vn,"normalMatrix",an.normalMatrix),ls.setValue(vn,"modelMatrix",an.matrixWorld),_c}W_.setAnimationLoop(function _A(ze){Nr.isPresenting||wM&&wM(ze)}),"undefined"!=typeof window&&W_.setContext(window),this.setAnimationLoop=function(ze){wM=ze,Nr.setAnimationLoop(ze),null===ze?W_.stop():W_.start()},this.render=function(ze,rn){let Jt,an;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Jt=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),an=arguments[3]),void 0!==rn&&!0!==rn.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===se)return;Xr.resetDefaultState(),Me=-1,tt=null,!0===ze.autoUpdate&&ze.updateMatrixWorld(),null===rn.parent&&rn.updateMatrixWorld(),!0===Nr.enabled&&!0===Nr.isPresenting&&(rn=Nr.getCamera(rn)),!0===ze.isScene&&ze.onBeforeRender(ee,ze,rn,Jt||xe),V=xt.get(ze,J.length),V.init(),J.push(V),oo.multiplyMatrices(rn.projectionMatrix,rn.matrixWorldInverse),$n.setFromProjectionMatrix(oo),Tr=this.localClippingEnabled,Ir=Yn.init(this.clippingPlanes,Tr,rn),H=On.get(ze,W.length),H.init(),W.push(H),bA(ze,rn,0,ee.sortObjects),H.finish(),!0===ee.sortObjects&&H.sort(Tt,jt),!0===Ir&&Yn.beginShadows();const ir=V.state.shadowsArray;Vi.render(ir,ze,rn),V.setupLights(),V.setupLightsView(rn),!0===Ir&&Yn.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==Jt&&this.setRenderTarget(Jt),tr.render(H,ze,rn,an);const uo=H.opaque,En=H.transparent;uo.length>0&&wA(uo,ze,rn),En.length>0&&wA(En,ze,rn),!0===ze.isScene&&ze.onAfterRender(ee,ze,rn),null!==xe&&(Kn.updateRenderTargetMipmap(xe),Kn.updateMultisampleRenderTarget(xe)),Ei.buffers.depth.setTest(!0),Ei.buffers.depth.setMask(!0),Ei.buffers.color.setMask(!0),Ei.setPolygonOffset(!1),J.pop(),V=J.length>0?J[J.length-1]:null,W.pop(),H=W.length>0?W[W.length-1]:null},this.setFramebuffer=function(ze){ie!==ze&&null===xe&&vn.bindFramebuffer(36160,ze),ie=ze},this.getActiveCubeFace=function(){return X},this.getActiveMipmapLevel=function(){return Re},this.getRenderTarget=function(){return xe},this.setRenderTarget=function(ze,rn=0,Jt=0){xe=ze,X=rn,Re=Jt,ze&&void 0===Ln.get(ze).__webglFramebuffer&&Kn.setupRenderTarget(ze);let an=ie,ir=!1,uo=!1;if(ze){const En=ze.texture;(En.isDataTexture3D||En.isDataTexture2DArray)&&(uo=!0);const Oi=Ln.get(ze).__webglFramebuffer;ze.isWebGLCubeRenderTarget?(an=Oi[rn],ir=!0):an=ze.isWebGLMultisampleRenderTarget?Ln.get(ze).__webglMultisampledFramebuffer:Oi,At.copy(ze.viewport),wt.copy(ze.scissor),st=ze.scissorTest}else At.copy(Gt).multiplyScalar(zt).floor(),wt.copy(Fn).multiplyScalar(zt).floor(),st=Gn;if(Ve!==an&&(vn.bindFramebuffer(36160,an),Ve=an),Ei.viewport(At),Ei.scissor(wt),Ei.setScissorTest(st),ir){const En=Ln.get(ze.texture);vn.framebufferTexture2D(36160,36064,34069+rn,En.__webglTexture,Jt)}else if(uo){const En=Ln.get(ze.texture);vn.framebufferTextureLayer(36160,36064,En.__webglTexture,Jt||0,rn||0)}},this.readRenderTargetPixels=function(ze,rn,Jt,an,ir,uo,En){if(!ze||!ze.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Oi=Ln.get(ze).__webglFramebuffer;if(ze.isWebGLCubeRenderTarget&&void 0!==En&&(Oi=Oi[En]),Oi){let Ur=!1;Oi!==Ve&&(vn.bindFramebuffer(36160,Oi),Ur=!0);try{const Ns=ze.texture,as=Ns.format,ki=Ns.type;if(as!==Ko&&si.convert(as)!==vn.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Yo=ki===gs&&(Co.has("EXT_color_buffer_half_float")||Fo.isWebGL2&&Co.has("EXT_color_buffer_float"));if(!(ki===ua||si.convert(ki)===vn.getParameter(35738)||ki===Zl&&(Fo.isWebGL2||Co.has("OES_texture_float")||Co.has("WEBGL_color_buffer_float"))||Yo))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===vn.checkFramebufferStatus(36160)?rn>=0&&rn<=ze.width-an&&Jt>=0&&Jt<=ze.height-ir&&vn.readPixels(rn,Jt,an,ir,si.convert(as),si.convert(ki),uo):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Ur&&vn.bindFramebuffer(36160,Ve)}}},this.copyFramebufferToTexture=function(ze,rn,Jt=0){const an=Math.pow(2,-Jt),ir=Math.floor(rn.image.width*an),uo=Math.floor(rn.image.height*an),En=si.convert(rn.format);Kn.setTexture2D(rn,0),vn.copyTexImage2D(3553,Jt,En,ze.x,ze.y,ir,uo,0),Ei.unbindTexture()},this.copyTextureToTexture=function(ze,rn,Jt,an=0){const ir=rn.image.width,uo=rn.image.height,En=si.convert(Jt.format),Oi=si.convert(Jt.type);Kn.setTexture2D(Jt,0),vn.pixelStorei(37440,Jt.flipY),vn.pixelStorei(37441,Jt.premultiplyAlpha),vn.pixelStorei(3317,Jt.unpackAlignment),rn.isDataTexture?vn.texSubImage2D(3553,an,ze.x,ze.y,ir,uo,En,Oi,rn.image.data):rn.isCompressedTexture?vn.compressedTexSubImage2D(3553,an,ze.x,ze.y,rn.mipmaps[0].width,rn.mipmaps[0].height,En,rn.mipmaps[0].data):vn.texSubImage2D(3553,an,ze.x,ze.y,En,Oi,rn.image),0===an&&Jt.generateMipmaps&&vn.generateMipmap(3553),Ei.unbindTexture()},this.copyTextureToTexture3D=function(ze,rn,Jt,an,ir=0){if(ee.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const{width:uo,height:En,data:Oi}=Jt.image,Ur=si.convert(an.format),Ns=si.convert(an.type);let as;if(an.isDataTexture3D)Kn.setTexture3D(an,0),as=32879;else{if(!an.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Kn.setTexture2DArray(an,0),as=35866}vn.pixelStorei(37440,an.flipY),vn.pixelStorei(37441,an.premultiplyAlpha),vn.pixelStorei(3317,an.unpackAlignment);const ki=vn.getParameter(3314),Yo=vn.getParameter(32878),_c=vn.getParameter(3316),ls=vn.getParameter(3315),Gd=vn.getParameter(32877);vn.pixelStorei(3314,uo),vn.pixelStorei(32878,En),vn.pixelStorei(3316,ze.min.x),vn.pixelStorei(3315,ze.min.y),vn.pixelStorei(32877,ze.min.z),vn.texSubImage3D(as,ir,rn.x,rn.y,rn.z,ze.max.x-ze.min.x+1,ze.max.y-ze.min.y+1,ze.max.z-ze.min.z+1,Ur,Ns,Oi),vn.pixelStorei(3314,ki),vn.pixelStorei(32878,Yo),vn.pixelStorei(3316,_c),vn.pixelStorei(3315,ls),vn.pixelStorei(32877,Gd),0===ir&&an.generateMipmaps&&vn.generateMipmap(as),Ei.unbindTexture()},this.initTexture=function(ze){Kn.setTexture2D(ze,0),Ei.unbindTexture()},this.resetState=function(){Ei.reset(),Xr.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Wp.prototype.isGroup=!0,Object.assign(Wg.prototype,{constructor:Wg,getHandSpace:function(){return null===this._hand&&(this._hand=new Wp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Wp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Wp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(f){return null!==this._targetRay&&this._targetRay.dispatchEvent(f),null!==this._grip&&this._grip.dispatchEvent(f),null!==this._hand&&this._hand.dispatchEvent(f),this},disconnect:function(f){return this.dispatchEvent({type:"disconnected",data:f}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(f,l,d){let m=null,v=null,_=null;const x=this._targetRay,D=this._grip,k=this._hand;if(f&&"visible-blurred"!==l.session.visibilityState)if(k&&f.hand){_=!0;for(const J of f.hand.values()){const ee=l.getJointPose(J,d);if(void 0===k.joints[J.jointName]){const ie=new Wp;ie.matrixAutoUpdate=!1,ie.visible=!1,k.joints[J.jointName]=ie,k.add(ie)}const se=k.joints[J.jointName];null!==ee&&(se.matrix.fromArray(ee.transform.matrix),se.matrix.decompose(se.position,se.rotation,se.scale),se.jointRadius=ee.radius),se.visible=null!==ee}const H=k.joints["index-finger-tip"].position.distanceTo(k.joints["thumb-tip"].position),V=.02,W=.005;k.inputState.pinching&&H>V+W?(k.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:f.handedness,target:this})):!k.inputState.pinching&&H<=V-W&&(k.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:f.handedness,target:this}))}else null!==x&&(m=l.getPose(f.targetRaySpace,d),null!==m&&(x.matrix.fromArray(m.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale))),null!==D&&f.gripSpace&&(v=l.getPose(f.gripSpace,d),null!==v&&(D.matrix.fromArray(v.transform.matrix),D.matrix.decompose(D.position,D.rotation,D.scale)));return null!==x&&(x.visible=null!==m),null!==D&&(D.visible=null!==v),null!==k&&(k.visible=null!==_),this}}),Object.assign(cD.prototype,Yi.prototype);class Of extends ns{}Of.prototype.isWebGL1Renderer=!0;class u_{constructor(l,d){this.name="",this.color=new hr(l),this.density=void 0!==d?d:25e-5}clone(){return new u_(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}u_.prototype.isFogExp2=!0;class Id{constructor(l,d,m){this.name="",this.color=new hr(l),this.near=void 0!==d?d:1,this.far=void 0!==m?m:1e3}clone(){return new Id(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Id.prototype.isFog=!0;class wi extends Zr{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(l,d){return super.copy(l,d),null!==l.background&&(this.background=l.background.clone()),null!==l.environment&&(this.environment=l.environment.clone()),null!==l.fog&&(this.fog=l.fog.clone()),null!==l.overrideMaterial&&(this.overrideMaterial=l.overrideMaterial.clone()),this.autoUpdate=l.autoUpdate,this.matrixAutoUpdate=l.matrixAutoUpdate,this}toJSON(l){const d=super.toJSON(l);return null!==this.background&&(d.object.background=this.background.toJSON(l)),null!==this.environment&&(d.object.environment=this.environment.toJSON(l)),null!==this.fog&&(d.object.fog=this.fog.toJSON()),d}}function au(f,l){this.array=f,this.stride=l,this.count=void 0!==f?f.length/l:0,this.usage=eu,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Dr.generateUUID()}wi.prototype.isScene=!0,Object.defineProperty(au.prototype,"needsUpdate",{set:function(f){!0===f&&this.version++}}),Object.assign(au.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(f){return this.usage=f,this},copy:function(f){return this.array=new f.array.constructor(f.array),this.count=f.count,this.stride=f.stride,this.usage=f.usage,this},copyAt:function(f,l,d){f*=this.stride,d*=l.stride;for(let m=0,v=this.stride;m<v;m++)this.array[f+m]=l.array[d+m];return this},set:function(f,l=0){return this.array.set(f,l),this},clone:function(f){void 0===f.arrayBuffers&&(f.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Dr.generateUUID()),void 0===f.arrayBuffers[this.array.buffer._uuid]&&(f.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const d=new au(new this.array.constructor(f.arrayBuffers[this.array.buffer._uuid]),this.stride);return d.setUsage(this.usage),d},onUpload:function(f){return this.onUploadCallback=f,this},toJSON:function(f){return void 0===f.arrayBuffers&&(f.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Dr.generateUUID()),void 0===f.arrayBuffers[this.array.buffer._uuid]&&(f.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const Yg=new Ce;function pc(f,l,d,m){this.name="",this.data=f,this.itemSize=l,this.offset=d,this.normalized=!0===m}Object.defineProperties(pc.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(f){this.data.needsUpdate=f}}}),Object.assign(pc.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(f){for(let l=0,d=this.data.count;l<d;l++)Yg.x=this.getX(l),Yg.y=this.getY(l),Yg.z=this.getZ(l),Yg.applyMatrix4(f),this.setXYZ(l,Yg.x,Yg.y,Yg.z);return this},setX:function(f,l){return this.data.array[f*this.data.stride+this.offset]=l,this},setY:function(f,l){return this.data.array[f*this.data.stride+this.offset+1]=l,this},setZ:function(f,l){return this.data.array[f*this.data.stride+this.offset+2]=l,this},setW:function(f,l){return this.data.array[f*this.data.stride+this.offset+3]=l,this},getX:function(f){return this.data.array[f*this.data.stride+this.offset]},getY:function(f){return this.data.array[f*this.data.stride+this.offset+1]},getZ:function(f){return this.data.array[f*this.data.stride+this.offset+2]},getW:function(f){return this.data.array[f*this.data.stride+this.offset+3]},setXY:function(f,l,d){return this.data.array[(f=f*this.data.stride+this.offset)+0]=l,this.data.array[f+1]=d,this},setXYZ:function(f,l,d,m){return this.data.array[(f=f*this.data.stride+this.offset)+0]=l,this.data.array[f+1]=d,this.data.array[f+2]=m,this},setXYZW:function(f,l,d,m,v){return this.data.array[(f=f*this.data.stride+this.offset)+0]=l,this.data.array[f+1]=d,this.data.array[f+2]=m,this.data.array[f+3]=v,this},clone:function(f){if(void 0===f){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const l=[];for(let d=0;d<this.count;d++){const m=d*this.data.stride+this.offset;for(let v=0;v<this.itemSize;v++)l.push(this.data.array[m+v])}return new qr(new this.array.constructor(l),this.itemSize,this.normalized)}return void 0===f.interleavedBuffers&&(f.interleavedBuffers={}),void 0===f.interleavedBuffers[this.data.uuid]&&(f.interleavedBuffers[this.data.uuid]=this.data.clone(f)),new pc(f.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(f){if(void 0===f){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const l=[];for(let d=0;d<this.count;d++){const m=d*this.data.stride+this.offset;for(let v=0;v<this.itemSize;v++)l.push(this.data.array[m+v])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:l,normalized:this.normalized}}return void 0===f.interleavedBuffers&&(f.interleavedBuffers={}),void 0===f.interleavedBuffers[this.data.uuid]&&(f.interleavedBuffers[this.data.uuid]=this.data.toJSON(f)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});class mc extends zo{constructor(l){super(),this.type="SpriteMaterial",this.color=new hr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.alphaMap=l.alphaMap,this.rotation=l.rotation,this.sizeAttenuation=l.sizeAttenuation,this}}let Gg;mc.prototype.isSpriteMaterial=!0;const c_=new Ce,gc=new Ce,$g=new Ce,kf=new _n,d_=new _n,hD=new Br,Xg=new Ce,f0=new Ce,FC=new Ce,p0=new _n,fD=new _n,Q2=new _n;class HC extends Zr{constructor(l){if(super(),this.type="Sprite",void 0===Gg){Gg=new Vr;const m=new au(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Gg.setIndex([0,1,2,0,2,3]),Gg.setAttribute("position",new pc(m,3,0,!1)),Gg.setAttribute("uv",new pc(m,2,3,!1))}this.geometry=Gg,this.material=void 0!==l?l:new mc,this.center=new _n(.5,.5)}raycast(l,d){null===l.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),gc.setFromMatrixScale(this.matrixWorld),hD.copy(l.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(l.camera.matrixWorldInverse,this.matrixWorld),$g.setFromMatrixPosition(this.modelViewMatrix),l.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&gc.multiplyScalar(-$g.z);const m=this.material.rotation;let v,_;0!==m&&(_=Math.cos(m),v=Math.sin(m));const x=this.center;BC(Xg.set(-.5,-.5,0),$g,x,gc,v,_),BC(f0.set(.5,-.5,0),$g,x,gc,v,_),BC(FC.set(.5,.5,0),$g,x,gc,v,_),p0.set(0,0),fD.set(1,0),Q2.set(1,1);let D=l.ray.intersectTriangle(Xg,f0,FC,!1,c_);if(null===D&&(BC(f0.set(-.5,.5,0),$g,x,gc,v,_),fD.set(0,1),D=l.ray.intersectTriangle(Xg,FC,f0,!1,c_),null===D))return;const k=l.ray.origin.distanceTo(c_);k<l.near||k>l.far||d.push({distance:k,point:c_.clone(),uv:ts.getUV(c_,Xg,f0,FC,p0,fD,Q2,new _n),face:null,object:this})}copy(l){return super.copy(l),void 0!==l.center&&this.center.copy(l.center),this.material=l.material,this}}function BC(f,l,d,m,v,_){kf.subVectors(f,d).addScalar(.5).multiply(m),void 0!==v?(d_.x=_*kf.x-v*kf.y,d_.y=v*kf.x+_*kf.y):d_.copy(kf),f.copy(l),f.x+=d_.x,f.y+=d_.y,f.applyMatrix4(hD)}HC.prototype.isSprite=!0;const VC=new Ce,pD=new Ce;class m0 extends Zr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(l){super.copy(l,!1);const d=l.levels;for(let m=0,v=d.length;m<v;m++){const _=d[m];this.addLevel(_.object.clone(),_.distance)}return this.autoUpdate=l.autoUpdate,this}addLevel(l,d=0){d=Math.abs(d);const m=this.levels;let v;for(v=0;v<m.length&&!(d<m[v].distance);v++);return m.splice(v,0,{distance:d,object:l}),this.add(l),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(l){const d=this.levels;if(d.length>0){let m,v;for(m=1,v=d.length;m<v&&!(l<d[m].distance);m++);return d[m-1].object}return null}raycast(l,d){if(this.levels.length>0){VC.setFromMatrixPosition(this.matrixWorld);const v=l.ray.origin.distanceTo(VC);this.getObjectForDistance(v).raycast(l,d)}}update(l){const d=this.levels;if(d.length>1){VC.setFromMatrixPosition(l.matrixWorld),pD.setFromMatrixPosition(this.matrixWorld);const m=VC.distanceTo(pD)/l.zoom;let v,_;for(d[0].object.visible=!0,v=1,_=d.length;v<_&&m>=d[v].distance;v++)d[v-1].object.visible=!1,d[v].object.visible=!0;for(this._currentLevel=v-1;v<_;v++)d[v].object.visible=!1}}toJSON(l){const d=super.toJSON(l);!1===this.autoUpdate&&(d.object.autoUpdate=!1),d.object.levels=[];const m=this.levels;for(let v=0,_=m.length;v<_;v++){const x=m[v];d.object.levels.push({object:x.object.uuid,distance:x.distance})}return d}}const g0=new Ce,zC=new Di,UC=new Di,mD=new Ce,v0=new Br;function h_(f,l){ln.call(this,f,l),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Br,this.bindMatrixInverse=new Br}function Yp(){Zr.call(this),this.type="Bone"}h_.prototype=Object.assign(Object.create(ln.prototype),{constructor:h_,isSkinnedMesh:!0,copy:function(f){return ln.prototype.copy.call(this,f),this.bindMode=f.bindMode,this.bindMatrix.copy(f.bindMatrix),this.bindMatrixInverse.copy(f.bindMatrixInverse),this.skeleton=f.skeleton,this},bind:function(f,l){this.skeleton=f,void 0===l&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),l=this.matrixWorld),this.bindMatrix.copy(l),this.bindMatrixInverse.copy(l).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const f=new Di,l=this.geometry.attributes.skinWeight;for(let d=0,m=l.count;d<m;d++){f.x=l.getX(d),f.y=l.getY(d),f.z=l.getZ(d),f.w=l.getW(d);const v=1/f.manhattanLength();v!==1/0?f.multiplyScalar(v):f.set(1,0,0,0),l.setXYZW(d,f.x,f.y,f.z,f.w)}},updateMatrixWorld:function(f){ln.prototype.updateMatrixWorld.call(this,f),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(f,l){const d=this.skeleton,m=this.geometry;zC.fromBufferAttribute(m.attributes.skinIndex,f),UC.fromBufferAttribute(m.attributes.skinWeight,f),g0.fromBufferAttribute(m.attributes.position,f).applyMatrix4(this.bindMatrix),l.set(0,0,0);for(let v=0;v<4;v++){const _=UC.getComponent(v);if(0!==_){const x=zC.getComponent(v);v0.multiplyMatrices(d.bones[x].matrixWorld,d.boneInverses[x]),l.addScaledVector(mD.copy(g0).applyMatrix4(v0),_)}}return l.applyMatrix4(this.bindMatrixInverse)}}),Yp.prototype=Object.assign(Object.create(Zr.prototype),{constructor:Yp,isBone:!0});const Nd=new Br,eF=new Br;class f_{constructor(l=[],d=[]){this.uuid=Dr.generateUUID(),this.bones=l.slice(0),this.boneInverses=d,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const l=this.bones,d=this.boneInverses;if(this.boneMatrices=new Float32Array(16*l.length),0===d.length)this.calculateInverses();else if(l.length!==d.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let m=0,v=this.bones.length;m<v;m++)this.boneInverses.push(new Br)}}calculateInverses(){this.boneInverses.length=0;for(let l=0,d=this.bones.length;l<d;l++){const m=new Br;this.bones[l]&&m.copy(this.bones[l].matrixWorld).invert(),this.boneInverses.push(m)}}pose(){for(let l=0,d=this.bones.length;l<d;l++){const m=this.bones[l];m&&m.matrixWorld.copy(this.boneInverses[l]).invert()}for(let l=0,d=this.bones.length;l<d;l++){const m=this.bones[l];m&&(m.parent&&m.parent.isBone?(m.matrix.copy(m.parent.matrixWorld).invert(),m.matrix.multiply(m.matrixWorld)):m.matrix.copy(m.matrixWorld),m.matrix.decompose(m.position,m.quaternion,m.scale))}}update(){const l=this.bones,d=this.boneInverses,m=this.boneMatrices,v=this.boneTexture;for(let _=0,x=l.length;_<x;_++)Nd.multiplyMatrices(l[_]?l[_].matrixWorld:eF,d[_]),Nd.toArray(m,16*_);null!==v&&(v.needsUpdate=!0)}clone(){return new f_(this.bones,this.boneInverses)}getBoneByName(l){for(let d=0,m=this.bones.length;d<m;d++){const v=this.bones[d];if(v.name===l)return v}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(l,d){this.uuid=l.uuid;for(let m=0,v=l.bones.length;m<v;m++){const _=l.bones[m];let x=d[_];void 0===x&&(console.warn("THREE.Skeleton: No bone found with UUID:",_),x=new Yp),this.bones.push(x),this.boneInverses.push((new Br).fromArray(l.boneInverses[m]))}return this.init(),this}toJSON(){const l={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};l.uuid=this.uuid;const d=this.bones,m=this.boneInverses;for(let v=0,_=d.length;v<_;v++)l.bones.push(d[v].uuid),l.boneInverses.push(m[v].toArray());return l}}const gD=new Br,jC=new Br,y0=[],p_=new ln;function _0(f,l,d){ln.call(this,f,l),this.instanceMatrix=new qr(new Float32Array(16*d),16),this.instanceColor=null,this.count=d,this.frustumCulled=!1}_0.prototype=Object.assign(Object.create(ln.prototype),{constructor:_0,isInstancedMesh:!0,copy:function(f){return ln.prototype.copy.call(this,f),this.instanceMatrix.copy(f.instanceMatrix),null!==f.instanceColor&&(this.instanceColor=f.instanceColor.clone()),this.count=f.count,this},getColorAt:function(f,l){l.fromArray(this.instanceColor.array,3*f)},getMatrixAt:function(f,l){l.fromArray(this.instanceMatrix.array,16*f)},raycast:function(f,l){const d=this.matrixWorld,m=this.count;if(p_.geometry=this.geometry,p_.material=this.material,void 0!==p_.material)for(let v=0;v<m;v++){this.getMatrixAt(v,gD),jC.multiplyMatrices(d,gD),p_.matrixWorld=jC,p_.raycast(f,y0);for(let _=0,x=y0.length;_<x;_++){const D=y0[_];D.instanceId=v,D.object=this,l.push(D)}y0.length=0}},setColorAt:function(f,l){null===this.instanceColor&&(this.instanceColor=new qr(new Float32Array(3*this.count),3)),l.toArray(this.instanceColor.array,3*f)},setMatrixAt:function(f,l){l.toArray(this.instanceMatrix.array,16*f)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Ia extends zo{constructor(l){super(),this.type="LineBasicMaterial",this.color=new hr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.linewidth=l.linewidth,this.linecap=l.linecap,this.linejoin=l.linejoin,this.morphTargets=l.morphTargets,this}}Ia.prototype.isLineBasicMaterial=!0;const b0=new Ce,vD=new Ce,yD=new Br,WC=new Ed,m_=new Cd;function Zc(f=new Vr,l=new Ia){Zr.call(this),this.type="Line",this.geometry=f,this.material=l,this.updateMorphTargets()}Zc.prototype=Object.assign(Object.create(Zr.prototype),{constructor:Zc,isLine:!0,copy:function(f){return Zr.prototype.copy.call(this,f),this.material=f.material,this.geometry=f.geometry,this},computeLineDistances:function(){const f=this.geometry;if(f.isBufferGeometry)if(null===f.index){const l=f.attributes.position,d=[0];for(let m=1,v=l.count;m<v;m++)b0.fromBufferAttribute(l,m-1),vD.fromBufferAttribute(l,m),d[m]=d[m-1],d[m]+=b0.distanceTo(vD);f.setAttribute("lineDistance",new yr(d,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else f.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(f,l){const d=this.geometry,m=this.matrixWorld,v=f.params.Line.threshold;if(null===d.boundingSphere&&d.computeBoundingSphere(),m_.copy(d.boundingSphere),m_.applyMatrix4(m),m_.radius+=v,!1===f.ray.intersectsSphere(m_))return;yD.copy(m).invert(),WC.copy(f.ray).applyMatrix4(yD);const _=v/((this.scale.x+this.scale.y+this.scale.z)/3),x=_*_,D=new Ce,k=new Ce,O=new Ce,U=new Ce,H=this.isLineSegments?2:1;if(d.isBufferGeometry){const V=d.index,J=d.attributes.position;if(null!==V){const ee=V.array;for(let se=0,ie=ee.length-1;se<ie;se+=H){const Re=ee[se+1];if(D.fromBufferAttribute(J,ee[se]),k.fromBufferAttribute(J,Re),WC.distanceSqToSegment(D,k,U,O)>x)continue;U.applyMatrix4(this.matrixWorld);const Ve=f.ray.origin.distanceTo(U);Ve<f.near||Ve>f.far||l.push({distance:Ve,point:O.clone().applyMatrix4(this.matrixWorld),index:se,face:null,faceIndex:null,object:this})}}else for(let ee=0,se=J.count-1;ee<se;ee+=H){if(D.fromBufferAttribute(J,ee),k.fromBufferAttribute(J,ee+1),WC.distanceSqToSegment(D,k,U,O)>x)continue;U.applyMatrix4(this.matrixWorld);const X=f.ray.origin.distanceTo(U);X<f.near||X>f.far||l.push({distance:X,point:O.clone().applyMatrix4(this.matrixWorld),index:ee,face:null,faceIndex:null,object:this})}}else d.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const f=this.geometry;if(f.isBufferGeometry){const l=f.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let v=0,_=m.length;v<_;v++){const x=m[v].name||String(v);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=v}}}}else{const l=f.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const _D=new Ce,wl=new Ce;function rl(f,l){Zc.call(this,f,l),this.type="LineSegments"}rl.prototype=Object.assign(Object.create(Zc.prototype),{constructor:rl,isLineSegments:!0,computeLineDistances:function(){const f=this.geometry;if(f.isBufferGeometry)if(null===f.index){const l=f.attributes.position,d=[];for(let m=0,v=l.count;m<v;m+=2)_D.fromBufferAttribute(l,m),wl.fromBufferAttribute(l,m+1),d[m]=0===m?0:d[m-1],d[m+1]=d[m]+_D.distanceTo(wl);f.setAttribute("lineDistance",new yr(d,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else f.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}});class w0 extends Zc{constructor(l,d){super(l,d),this.type="LineLoop"}}w0.prototype.isLineLoop=!0;class Lh extends zo{constructor(l){super(),this.type="PointsMaterial",this.color=new hr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.alphaMap=l.alphaMap,this.size=l.size,this.sizeAttenuation=l.sizeAttenuation,this.morphTargets=l.morphTargets,this}}Lh.prototype.isPointsMaterial=!0;const il=new Br,Gp=new Ed,Kg=new Cd,M0=new Ce;function Zg(f=new Vr,l=new Lh){Zr.call(this),this.type="Points",this.geometry=f,this.material=l,this.updateMorphTargets()}function YC(f,l,d,m,v,_,x){const D=Gp.distanceSqToPoint(f);if(D<d){const k=new Ce;Gp.closestPointToPoint(f,k),k.applyMatrix4(m);const O=v.ray.origin.distanceTo(k);if(O<v.near||O>v.far)return;_.push({distance:O,distanceToRay:Math.sqrt(D),point:k,index:l,face:null,object:x})}}Zg.prototype=Object.assign(Object.create(Zr.prototype),{constructor:Zg,isPoints:!0,copy:function(f){return Zr.prototype.copy.call(this,f),this.material=f.material,this.geometry=f.geometry,this},raycast:function(f,l){const d=this.geometry,m=this.matrixWorld,v=f.params.Points.threshold;if(null===d.boundingSphere&&d.computeBoundingSphere(),Kg.copy(d.boundingSphere),Kg.applyMatrix4(m),Kg.radius+=v,!1===f.ray.intersectsSphere(Kg))return;il.copy(m).invert(),Gp.copy(f.ray).applyMatrix4(il);const _=v/((this.scale.x+this.scale.y+this.scale.z)/3),x=_*_;if(d.isBufferGeometry){const D=d.index,O=d.attributes.position;if(null!==D){const U=D.array;for(let H=0,V=U.length;H<V;H++){const W=U[H];M0.fromBufferAttribute(O,W),YC(M0,W,x,m,f,l,this)}}else for(let U=0,H=O.count;U<H;U++)M0.fromBufferAttribute(O,U),YC(M0,U,x,m,f,l,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const f=this.geometry;if(f.isBufferGeometry){const l=f.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let v=0,_=m.length;v<_;v++){const x=m[v].name||String(v);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=v}}}}else{const l=f.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});class bD extends fo{constructor(l,d,m,v,_,x,D,k,O){super(l,d,m,v,_,x,D,k,O),this.format=void 0!==D?D:ec,this.minFilter=void 0!==x?x:Ii,this.magFilter=void 0!==_?_:Ii,this.generateMipmaps=!1;const U=this;"requestVideoFrameCallback"in l&&l.requestVideoFrameCallback(function H(){U.needsUpdate=!0,l.requestVideoFrameCallback(H)})}clone(){return new this.constructor(this.image).copy(this)}update(){const l=this.image;"requestVideoFrameCallback"in l==0&&l.readyState>=l.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}bD.prototype.isVideoTexture=!0;class S0 extends fo{constructor(l,d,m,v,_,x,D,k,O,U,H,V){super(null,x,D,k,O,U,v,_,H,V),this.image={width:d,height:m},this.mipmaps=l,this.flipY=!1,this.generateMipmaps=!1}}S0.prototype.isCompressedTexture=!0;class wD extends fo{constructor(l,d,m,v,_,x,D,k,O){super(l,d,m,v,_,x,D,k,O),this.needsUpdate=!0}}wD.prototype.isCanvasTexture=!0;class GC extends fo{constructor(l,d,m,v,_,x,D,k,O,U){if((U=void 0!==U?U:Oo)!==Oo&&U!==xo)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===m&&U===Oo&&(m=Ji),void 0===m&&U===xo&&(m=Qn),super(null,v,_,x,D,k,U,m,O),this.image={width:l,height:d},this.magFilter=void 0!==D?D:Bn,this.minFilter=void 0!==k?k:Bn,this.flipY=!1,this.generateMipmaps=!1}}GC.prototype.isDepthTexture=!0;class x0 extends Vr{constructor(l=1,d=8,m=0,v=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:l,segments:d,thetaStart:m,thetaLength:v},d=Math.max(3,d);const _=[],x=[],D=[],k=[],O=new Ce,U=new _n;x.push(0,0,0),D.push(0,0,1),k.push(.5,.5);for(let H=0,V=3;H<=d;H++,V+=3){const W=m+H/d*v;O.x=l*Math.cos(W),O.y=l*Math.sin(W),x.push(O.x,O.y,O.z),D.push(0,0,1),U.x=(x[V]/l+1)/2,U.y=(x[V+1]/l+1)/2,k.push(U.x,U.y)}for(let H=1;H<=d;H++)_.push(H,H+1,0);this.setIndex(_),this.setAttribute("position",new yr(x,3)),this.setAttribute("normal",new yr(D,3)),this.setAttribute("uv",new yr(k,2))}}class qg extends Vr{constructor(l=1,d=1,m=1,v=8,_=1,x=!1,D=0,k=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:l,radiusBottom:d,height:m,radialSegments:v,heightSegments:_,openEnded:x,thetaStart:D,thetaLength:k};const O=this;v=Math.floor(v),_=Math.floor(_);const U=[],H=[],V=[],W=[];let J=0;const ee=[],se=m/2;let ie=0;function Re(xe){const Ve=J,Me=new _n,tt=new Ce;let At=0;const wt=!0===xe?l:d,st=!0===xe?1:-1;for(let en=1;en<=v;en++)H.push(0,se*st,0),V.push(0,st,0),W.push(.5,.5),J++;const Ut=J;for(let en=0;en<=v;en++){const Tt=en/v*k+D,jt=Math.cos(Tt),Gt=Math.sin(Tt);tt.x=wt*Gt,tt.y=se*st,tt.z=wt*jt,H.push(tt.x,tt.y,tt.z),V.push(0,st,0),Me.x=.5*jt+.5,Me.y=.5*Gt*st+.5,W.push(Me.x,Me.y),J++}for(let en=0;en<v;en++){const zt=Ve+en,Tt=Ut+en;!0===xe?U.push(Tt,Tt+1,zt):U.push(Tt+1,Tt,zt),At+=3}O.addGroup(ie,At,!0===xe?1:2),ie+=At}(function X(){const xe=new Ce,Ve=new Ce;let Me=0;const tt=(d-l)/m;for(let At=0;At<=_;At++){const wt=[],st=At/_,Ut=st*(d-l)+l;for(let en=0;en<=v;en++){const zt=en/v,Tt=zt*k+D,jt=Math.sin(Tt),Gt=Math.cos(Tt);Ve.x=Ut*jt,Ve.y=-st*m+se,Ve.z=Ut*Gt,H.push(Ve.x,Ve.y,Ve.z),xe.set(jt,tt,Gt).normalize(),V.push(xe.x,xe.y,xe.z),W.push(zt,1-st),wt.push(J++)}ee.push(wt)}for(let At=0;At<v;At++)for(let wt=0;wt<_;wt++){const Ut=ee[wt+1][At],en=ee[wt+1][At+1],zt=ee[wt][At+1];U.push(ee[wt][At],Ut,zt),U.push(Ut,en,zt),Me+=6}O.addGroup(ie,Me,0),ie+=Me})(),!1===x&&(l>0&&Re(!0),d>0&&Re(!1)),this.setIndex(U),this.setAttribute("position",new yr(H,3)),this.setAttribute("normal",new yr(V,3)),this.setAttribute("uv",new yr(W,2))}}class C0 extends qg{constructor(l=1,d=1,m=8,v=1,_=!1,x=0,D=2*Math.PI){super(0,l,d,m,v,_,x,D),this.type="ConeGeometry",this.parameters={radius:l,height:d,radialSegments:m,heightSegments:v,openEnded:_,thetaStart:x,thetaLength:D}}}class Ph extends Vr{constructor(l,d,m=1,v=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:l,indices:d,radius:m,detail:v};const _=[],x=[];function k(X,Re,xe,Ve){const Me=Ve+1,tt=[];for(let At=0;At<=Me;At++){tt[At]=[];const wt=X.clone().lerp(xe,At/Me),st=Re.clone().lerp(xe,At/Me),Ut=Me-At;for(let en=0;en<=Ut;en++)tt[At][en]=0===en&&At===Me?wt:wt.clone().lerp(st,en/Ut)}for(let At=0;At<Me;At++)for(let wt=0;wt<2*(Me-At)-1;wt++){const st=Math.floor(wt/2);wt%2==0?(V(tt[At][st+1]),V(tt[At+1][st]),V(tt[At][st])):(V(tt[At][st+1]),V(tt[At+1][st+1]),V(tt[At+1][st]))}}function V(X){_.push(X.x,X.y,X.z)}function W(X,Re){const xe=3*X;Re.x=l[xe+0],Re.y=l[xe+1],Re.z=l[xe+2]}function ee(X,Re,xe,Ve){Ve<0&&1===X.x&&(x[Re]=X.x-1),0===xe.x&&0===xe.z&&(x[Re]=Ve/2/Math.PI+.5)}function se(X){return Math.atan2(X.z,-X.x)}function ie(X){return Math.atan2(-X.y,Math.sqrt(X.x*X.x+X.z*X.z))}(function D(X){const Re=new Ce,xe=new Ce,Ve=new Ce;for(let Me=0;Me<d.length;Me+=3)W(d[Me+0],Re),W(d[Me+1],xe),W(d[Me+2],Ve),k(Re,xe,Ve,X)})(v),function O(X){const Re=new Ce;for(let xe=0;xe<_.length;xe+=3)Re.x=_[xe+0],Re.y=_[xe+1],Re.z=_[xe+2],Re.normalize().multiplyScalar(X),_[xe+0]=Re.x,_[xe+1]=Re.y,_[xe+2]=Re.z}(m),function U(){const X=new Ce;for(let Re=0;Re<_.length;Re+=3){X.x=_[Re+0],X.y=_[Re+1],X.z=_[Re+2];const xe=se(X)/2/Math.PI+.5,Ve=ie(X)/Math.PI+.5;x.push(xe,1-Ve)}(function J(){const X=new Ce,Re=new Ce,xe=new Ce,Ve=new Ce,Me=new _n,tt=new _n,At=new _n;for(let wt=0,st=0;wt<_.length;wt+=9,st+=6){X.set(_[wt+0],_[wt+1],_[wt+2]),Re.set(_[wt+3],_[wt+4],_[wt+5]),xe.set(_[wt+6],_[wt+7],_[wt+8]),Me.set(x[st+0],x[st+1]),tt.set(x[st+2],x[st+3]),At.set(x[st+4],x[st+5]),Ve.copy(X).add(Re).add(xe).divideScalar(3);const Ut=se(Ve);ee(Me,st+0,X,Ut),ee(tt,st+2,Re,Ut),ee(At,st+4,xe,Ut)}})(),function H(){for(let X=0;X<x.length;X+=6){const Re=x[X+0],xe=x[X+2],Ve=x[X+4],Me=Math.max(Re,xe,Ve),tt=Math.min(Re,xe,Ve);Me>.9&&tt<.1&&(Re<.2&&(x[X+0]+=1),xe<.2&&(x[X+2]+=1),Ve<.2&&(x[X+4]+=1))}}()}(),this.setAttribute("position",new yr(_,3)),this.setAttribute("normal",new yr(_.slice(),3)),this.setAttribute("uv",new yr(x,2)),0===v?this.computeVertexNormals():this.normalizeNormals()}}class E0 extends Ph{constructor(l=1,d=0){const m=(1+Math.sqrt(5))/2,v=1/m;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-v,-m,0,-v,m,0,v,-m,0,v,m,-v,-m,0,-v,m,0,v,-m,0,v,m,0,-m,0,-v,m,0,-v,-m,0,v,m,0,v],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],l,d),this.type="DodecahedronGeometry",this.parameters={radius:l,detail:d}}}const T0=new Ce,Ih=new Ce,qc=new Ce,R0=new ts;class $C extends Vr{constructor(l,d){if(super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:d},d=void 0!==d?d:1,!0===l.isGeometry)return void console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const v=Math.pow(10,4),_=Math.cos(Dr.DEG2RAD*d),x=l.getIndex(),D=l.getAttribute("position"),k=x?x.count:D.count,O=[0,0,0],U=["a","b","c"],H=new Array(3),V={},W=[];for(let J=0;J<k;J+=3){x?(O[0]=x.getX(J),O[1]=x.getX(J+1),O[2]=x.getX(J+2)):(O[0]=J,O[1]=J+1,O[2]=J+2);const{a:ee,b:se,c:ie}=R0;if(ee.fromBufferAttribute(D,O[0]),se.fromBufferAttribute(D,O[1]),ie.fromBufferAttribute(D,O[2]),R0.getNormal(qc),H[0]=`${Math.round(ee.x*v)},${Math.round(ee.y*v)},${Math.round(ee.z*v)}`,H[1]=`${Math.round(se.x*v)},${Math.round(se.y*v)},${Math.round(se.z*v)}`,H[2]=`${Math.round(ie.x*v)},${Math.round(ie.y*v)},${Math.round(ie.z*v)}`,H[0]!==H[1]&&H[1]!==H[2]&&H[2]!==H[0])for(let X=0;X<3;X++){const Re=(X+1)%3,xe=H[X],Ve=H[Re],Me=R0[U[X]],tt=R0[U[Re]],At=`${xe}_${Ve}`,wt=`${Ve}_${xe}`;wt in V&&V[wt]?(qc.dot(V[wt].normal)<=_&&(W.push(Me.x,Me.y,Me.z),W.push(tt.x,tt.y,tt.z)),V[wt]=null):At in V||(V[At]={index0:O[X],index1:O[Re],normal:qc.clone()})}}for(const J in V)if(V[J]){const{index0:ee,index1:se}=V[J];T0.fromBufferAttribute(D,ee),Ih.fromBufferAttribute(D,se),W.push(T0.x,T0.y,T0.z),W.push(Ih.x,Ih.y,Ih.z)}this.setAttribute("position",new yr(W,3))}}function tF(f,l,d,m,v){let _,x;if(v===function eE(f,l,d,m){let v=0;for(let _=l,x=d-m;_<d;_+=m)v+=(f[x]-f[_])*(f[_+1]+f[x+1]),x=_;return v}(f,l,d,m)>0)for(_=l;_<d;_+=m)x=QC(_,f[_],f[_+1],x);else for(_=d-m;_>=l;_-=m)x=QC(_,f[_],f[_+1],x);return x&&O0(x,x.next)&&($p(x),x=x.next),x}function Nh(f,l){if(!f)return f;l||(l=f);let m,d=f;do{if(m=!1,d.steiner||!O0(d,d.next)&&0!==xs(d.prev,d,d.next))d=d.next;else{if($p(d),d=l=d.prev,d===d.next)break;m=!0}}while(m||d!==l);return l}function D0(f,l,d,m,v,_,x){if(!f)return;!x&&_&&function ZC(f,l,d,m){let v=f;do{null===v.z&&(v.z=A0(v.x,v.y,l,d,m)),v.prevZ=v.prev,v.nextZ=v.next,v=v.next}while(v!==f);v.prevZ.nextZ=null,v.prevZ=null,function qC(f){let l,d,m,v,_,x,D,k,O=1;do{for(d=f,f=null,_=null,x=0;d;){for(x++,m=d,D=0,l=0;l<O&&(D++,m=m.nextZ,m);l++);for(k=O;D>0||k>0&&m;)0!==D&&(0===k||!m||d.z<=m.z)?(v=d,d=d.nextZ,D--):(v=m,m=m.nextZ,k--),_?_.nextZ=v:f=v,v.prevZ=_,_=v;d=m}_.nextZ=null,O*=2}while(x>1)}(v)}(f,m,v,_);let k,O,D=f;for(;f.prev!==f.next;)if(k=f.prev,O=f.next,_?XC(f,m,v,_):lu(f))l.push(k.i/d),l.push(f.i/d),l.push(O.i/d),$p(f),f=O.next,D=O.next;else if((f=O)===D){x?1===x?D0(f=KC(Nh(f),l,d),l,d,m,v,_,2):2===x&&nF(f,l,d,m,v,_):D0(Nh(f),l,d,m,v,_,1);break}}function lu(f){const l=f.prev,d=f,m=f.next;if(xs(l,d,m)>=0)return!1;let v=f.next.next;for(;v!==f.prev;){if(Jc(l.x,l.y,d.x,d.y,m.x,m.y,v.x,v.y)&&xs(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function XC(f,l,d,m){const v=f.prev,_=f,x=f.next;if(xs(v,_,x)>=0)return!1;const O=v.x>_.x?v.x>x.x?v.x:x.x:_.x>x.x?_.x:x.x,U=v.y>_.y?v.y>x.y?v.y:x.y:_.y>x.y?_.y:x.y,H=A0(v.x<_.x?v.x<x.x?v.x:x.x:_.x<x.x?_.x:x.x,v.y<_.y?v.y<x.y?v.y:x.y:_.y<x.y?_.y:x.y,l,d,m),V=A0(O,U,l,d,m);let W=f.prevZ,J=f.nextZ;for(;W&&W.z>=H&&J&&J.z<=V;){if(W!==f.prev&&W!==f.next&&Jc(v.x,v.y,_.x,_.y,x.x,x.y,W.x,W.y)&&xs(W.prev,W,W.next)>=0||(W=W.prevZ,J!==f.prev&&J!==f.next&&Jc(v.x,v.y,_.x,_.y,x.x,x.y,J.x,J.y)&&xs(J.prev,J,J.next)>=0))return!1;J=J.nextZ}for(;W&&W.z>=H;){if(W!==f.prev&&W!==f.next&&Jc(v.x,v.y,_.x,_.y,x.x,x.y,W.x,W.y)&&xs(W.prev,W,W.next)>=0)return!1;W=W.prevZ}for(;J&&J.z<=V;){if(J!==f.prev&&J!==f.next&&Jc(v.x,v.y,_.x,_.y,x.x,x.y,J.x,J.y)&&xs(J.prev,J,J.next)>=0)return!1;J=J.nextZ}return!0}function KC(f,l,d){let m=f;do{const v=m.prev,_=m.next.next;!O0(v,_)&&k0(v,m,m.next,_)&&v_(v,_)&&v_(_,v)&&(l.push(v.i/d),l.push(m.i/d),l.push(_.i/d),$p(m),$p(m.next),m=f=_),m=m.next}while(m!==f);return Nh(m)}function nF(f,l,d,m,v,_){let x=f;do{let D=x.next.next;for(;D!==x.prev;){if(x.i!==D.i&&JC(x,D)){let k=xD(x,D);return x=Nh(x,x.next),k=Nh(k,k.next),D0(x,l,d,m,v,_),void D0(k,l,d,m,v,_)}D=D.next}x=x.next}while(x!==f)}function rF(f,l){return f.x-l.x}function g_(f,l){if(l=function iF(f,l){let d=l;const m=f.x,v=f.y;let x,_=-1/0;do{if(v<=d.y&&v>=d.next.y&&d.next.y!==d.y){const V=d.x+(v-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(V<=m&&V>_){if(_=V,V===m){if(v===d.y)return d;if(v===d.next.y)return d.next}x=d.x<d.next.x?d:d.next}}d=d.next}while(d!==l);if(!x)return null;if(m===_)return x;const D=x,k=x.x,O=x.y;let H,U=1/0;d=x;do{m>=d.x&&d.x>=k&&m!==d.x&&Jc(v<O?m:_,v,k,O,v<O?_:m,v,d.x,d.y)&&(H=Math.abs(v-d.y)/(m-d.x),v_(d,f)&&(H<U||H===U&&(d.x>x.x||d.x===x.x&&SD(x,d)))&&(x=d,U=H)),d=d.next}while(d!==D);return x}(f,l),l){const d=xD(l,f);Nh(l,l.next),Nh(d,d.next)}}function SD(f,l){return xs(f.prev,f,l.prev)<0&&xs(l.next,f,f.next)<0}function A0(f,l,d,m,v){return(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f=32767*(f-d)*v)|f<<8))|f<<4))|f<<2))|f<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=32767*(l-m)*v)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function F8(f){let l=f,d=f;do{(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next}while(l!==f);return d}function Jc(f,l,d,m,v,_,x,D){return(v-x)*(l-D)-(f-x)*(_-D)>=0&&(f-x)*(m-D)-(d-x)*(l-D)>=0&&(d-x)*(_-D)-(v-x)*(m-D)>=0}function JC(f,l){return f.next.i!==l.i&&f.prev.i!==l.i&&!function oF(f,l){let d=f;do{if(d.i!==f.i&&d.next.i!==f.i&&d.i!==l.i&&d.next.i!==l.i&&k0(d,d.next,f,l))return!0;d=d.next}while(d!==f);return!1}(f,l)&&(v_(f,l)&&v_(l,f)&&function sF(f,l){let d=f,m=!1;const v=(f.x+l.x)/2,_=(f.y+l.y)/2;do{d.y>_!=d.next.y>_&&d.next.y!==d.y&&v<(d.next.x-d.x)*(_-d.y)/(d.next.y-d.y)+d.x&&(m=!m),d=d.next}while(d!==f);return m}(f,l)&&(xs(f.prev,f,l.prev)||xs(f,l.prev,l))||O0(f,l)&&xs(f.prev,f,f.next)>0&&xs(l.prev,l,l.next)>0)}function xs(f,l,d){return(l.y-f.y)*(d.x-l.x)-(l.x-f.x)*(d.y-l.y)}function O0(f,l){return f.x===l.x&&f.y===l.y}function k0(f,l,d,m){const v=P0(xs(f,l,d)),_=P0(xs(f,l,m)),x=P0(xs(d,m,f)),D=P0(xs(d,m,l));return!!(v!==_&&x!==D||0===v&&L0(f,d,l)||0===_&&L0(f,m,l)||0===x&&L0(d,f,m)||0===D&&L0(d,l,m))}function L0(f,l,d){return l.x<=Math.max(f.x,d.x)&&l.x>=Math.min(f.x,d.x)&&l.y<=Math.max(f.y,d.y)&&l.y>=Math.min(f.y,d.y)}function P0(f){return f>0?1:f<0?-1:0}function v_(f,l){return xs(f.prev,f,f.next)<0?xs(f,l,f.next)>=0&&xs(f,f.prev,l)>=0:xs(f,l,f.prev)<0||xs(f,f.next,l)<0}function xD(f,l){const d=new I0(f.i,f.x,f.y),m=new I0(l.i,l.x,l.y),v=f.next,_=l.prev;return f.next=l,l.prev=f,d.next=v,v.prev=d,m.next=d,d.prev=m,_.next=m,m.prev=_,m}function QC(f,l,d,m){const v=new I0(f,l,d);return m?(v.next=m.next,v.prev=m,m.next.prev=v,m.next=v):(v.prev=v,v.next=v),v}function $p(f){f.next.prev=f.prev,f.prev.next=f.next,f.prevZ&&(f.prevZ.nextZ=f.nextZ),f.nextZ&&(f.nextZ.prevZ=f.prevZ)}function I0(f,l,d){this.i=f,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Fh={area:function(f){const l=f.length;let d=0;for(let m=l-1,v=0;v<l;m=v++)d+=f[m].x*f[v].y-f[v].x*f[m].y;return.5*d},isClockWise:function(f){return Fh.area(f)<0},triangulateShape:function(f,l){const d=[],m=[],v=[];CD(f),tE(d,f);let _=f.length;l.forEach(CD);for(let D=0;D<l.length;D++)m.push(_),_+=l[D].length,tE(d,l[D]);const x=function(f,l,d){d=d||2;const m=l&&l.length,v=m?l[0]*d:f.length;let _=tF(f,0,v,d,!0);const x=[];if(!_||_.next===_.prev)return x;let D,k,O,U,H,V,W;if(m&&(_=function MD(f,l,d,m){const v=[];let _,x,D,k,O;for(_=0,x=l.length;_<x;_++)D=l[_]*m,k=_<x-1?l[_+1]*m:f.length,O=tF(f,D,k,m,!1),O===O.next&&(O.steiner=!0),v.push(F8(O));for(v.sort(rF),_=0;_<v.length;_++)g_(v[_],d),d=Nh(d,d.next);return d}(f,l,_,d)),f.length>80*d){D=O=f[0],k=U=f[1];for(let J=d;J<v;J+=d)H=f[J],V=f[J+1],H<D&&(D=H),V<k&&(k=V),H>O&&(O=H),V>U&&(U=V);W=Math.max(O-D,U-k),W=0!==W?1/W:0}return D0(_,x,d,D,k,W),x}(d,m);for(let D=0;D<x.length;D+=3)v.push(x.slice(D,D+3));return v}};function CD(f){const l=f.length;l>2&&f[l-1].equals(f[0])&&f.pop()}function tE(f,l){for(let d=0;d<l.length;d++)f.push(l[d].x),f.push(l[d].y)}class Fd extends Vr{constructor(l,d){super(),this.type="ExtrudeGeometry",this.parameters={shapes:l,options:d},l=Array.isArray(l)?l:[l];const m=this,v=[],_=[];for(let D=0,k=l.length;D<k;D++)x(l[D]);function x(D){const k=[],O=void 0!==d.curveSegments?d.curveSegments:12,U=void 0!==d.steps?d.steps:1;let H=void 0!==d.depth?d.depth:100,V=void 0===d.bevelEnabled||d.bevelEnabled,W=void 0!==d.bevelThickness?d.bevelThickness:6,J=void 0!==d.bevelSize?d.bevelSize:W-2,ee=void 0!==d.bevelOffset?d.bevelOffset:0,se=void 0!==d.bevelSegments?d.bevelSegments:3;const ie=d.extrudePath,X=void 0!==d.UVGenerator?d.UVGenerator:Xp;void 0!==d.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),H=d.amount);let Re,Ve,Me,tt,At,xe=!1;ie&&(Re=ie.getSpacedPoints(U),xe=!0,V=!1,Ve=ie.computeFrenetFrames(U,!1),Me=new Ce,tt=new Ce,At=new Ce),V||(se=0,W=0,J=0,ee=0);const wt=D.extractPoints(O);let st=wt.shape;const Ut=wt.holes;if(!Fh.isClockWise(st)){st=st.reverse();for(let Ln=0,Kn=Ut.length;Ln<Kn;Ln++){const rr=Ut[Ln];Fh.isClockWise(rr)&&(Ut[Ln]=rr.reverse())}}const zt=Fh.triangulateShape(st,Ut),Tt=st;for(let Ln=0,Kn=Ut.length;Ln<Kn;Ln++)st=st.concat(Ut[Ln]);function jt(Ln,Kn,rr){return Kn||console.error("THREE.ExtrudeGeometry: vec does not exist"),Kn.clone().multiplyScalar(rr).add(Ln)}const Gt=st.length,Fn=zt.length;function Gn(Ln,Kn,rr){let fr,Cr,et;const $e=Ln.x-Kn.x,wn=Ln.y-Kn.y,On=rr.x-Ln.x,xt=rr.y-Ln.y,Yn=$e*$e+wn*wn;if(Math.abs($e*xt-wn*On)>Number.EPSILON){const Ar=Math.sqrt(Yn),Vn=Math.sqrt(On*On+xt*xt),ti=Kn.x-wn/Ar,si=Kn.y+$e/Ar,Nr=((rr.x-xt/Vn-ti)*xt-(rr.y+On/Vn-si)*On)/($e*xt-wn*On);fr=ti+$e*Nr-Ln.x,Cr=si+wn*Nr-Ln.y;const Vi=fr*fr+Cr*Cr;if(Vi<=2)return new _n(fr,Cr);et=Math.sqrt(Vi/2)}else{let Ar=!1;$e>Number.EPSILON?On>Number.EPSILON&&(Ar=!0):$e<-Number.EPSILON?On<-Number.EPSILON&&(Ar=!0):Math.sign(wn)===Math.sign(xt)&&(Ar=!0),Ar?(fr=-wn,Cr=$e,et=Math.sqrt(Yn)):(fr=$e,Cr=wn,et=Math.sqrt(Yn/2))}return new _n(fr/et,Cr/et)}const $n=[];for(let Ln=0,Kn=Tt.length,rr=Kn-1,fr=Ln+1;Ln<Kn;Ln++,rr++,fr++)rr===Kn&&(rr=0),fr===Kn&&(fr=0),$n[Ln]=Gn(Tt[Ln],Tt[rr],Tt[fr]);const Ir=[];let Tr,oo=$n.concat();for(let Ln=0,Kn=Ut.length;Ln<Kn;Ln++){const rr=Ut[Ln];Tr=[];for(let fr=0,Cr=rr.length,et=Cr-1,$e=fr+1;fr<Cr;fr++,et++,$e++)et===Cr&&(et=0),$e===Cr&&($e=0),Tr[fr]=Gn(rr[fr],rr[et],rr[$e]);Ir.push(Tr),oo=oo.concat(Tr)}for(let Ln=0;Ln<se;Ln++){const Kn=Ln/se,rr=W*Math.cos(Kn*Math.PI/2),fr=J*Math.sin(Kn*Math.PI/2)+ee;for(let Cr=0,et=Tt.length;Cr<et;Cr++){const $e=jt(Tt[Cr],$n[Cr],fr);hs($e.x,$e.y,-rr)}for(let Cr=0,et=Ut.length;Cr<et;Cr++){const $e=Ut[Cr];Tr=Ir[Cr];for(let wn=0,On=$e.length;wn<On;wn++){const xt=jt($e[wn],Tr[wn],fr);hs(xt.x,xt.y,-rr)}}}const Mi=J+ee;for(let Ln=0;Ln<Gt;Ln++){const Kn=V?jt(st[Ln],oo[Ln],Mi):st[Ln];xe?(tt.copy(Ve.normals[0]).multiplyScalar(Kn.x),Me.copy(Ve.binormals[0]).multiplyScalar(Kn.y),At.copy(Re[0]).add(tt).add(Me),hs(At.x,At.y,At.z)):hs(Kn.x,Kn.y,0)}for(let Ln=1;Ln<=U;Ln++)for(let Kn=0;Kn<Gt;Kn++){const rr=V?jt(st[Kn],oo[Kn],Mi):st[Kn];xe?(tt.copy(Ve.normals[Ln]).multiplyScalar(rr.x),Me.copy(Ve.binormals[Ln]).multiplyScalar(rr.y),At.copy(Re[Ln]).add(tt).add(Me),hs(At.x,At.y,At.z)):hs(rr.x,rr.y,H/U*Ln)}for(let Ln=se-1;Ln>=0;Ln--){const Kn=Ln/se,rr=W*Math.cos(Kn*Math.PI/2),fr=J*Math.sin(Kn*Math.PI/2)+ee;for(let Cr=0,et=Tt.length;Cr<et;Cr++){const $e=jt(Tt[Cr],$n[Cr],fr);hs($e.x,$e.y,H+rr)}for(let Cr=0,et=Ut.length;Cr<et;Cr++){const $e=Ut[Cr];Tr=Ir[Cr];for(let wn=0,On=$e.length;wn<On;wn++){const xt=jt($e[wn],Tr[wn],fr);xe?hs(xt.x,xt.y+Re[U-1].y,Re[U-1].x+rr):hs(xt.x,xt.y,H+rr)}}}function vn(Ln,Kn){let rr=Ln.length;for(;--rr>=0;){const fr=rr;let Cr=rr-1;Cr<0&&(Cr=Ln.length-1);for(let et=0,$e=U+2*se;et<$e;et++){const wn=Gt*et,On=Gt*(et+1);Fo(Kn+fr+wn,Kn+Cr+wn,Kn+Cr+On,Kn+fr+On)}}}function hs(Ln,Kn,rr){k.push(Ln),k.push(Kn),k.push(rr)}function Co(Ln,Kn,rr){Ei(Ln),Ei(Kn),Ei(rr);const fr=v.length/3,Cr=X.generateTopUV(m,v,fr-3,fr-2,fr-1);Wo(Cr[0]),Wo(Cr[1]),Wo(Cr[2])}function Fo(Ln,Kn,rr,fr){Ei(Ln),Ei(Kn),Ei(fr),Ei(Kn),Ei(rr),Ei(fr);const Cr=v.length/3,et=X.generateSideWallUV(m,v,Cr-6,Cr-3,Cr-2,Cr-1);Wo(et[0]),Wo(et[1]),Wo(et[3]),Wo(et[1]),Wo(et[2]),Wo(et[3])}function Ei(Ln){v.push(k[3*Ln+0]),v.push(k[3*Ln+1]),v.push(k[3*Ln+2])}function Wo(Ln){_.push(Ln.x),_.push(Ln.y)}(function rs(){const Ln=v.length/3;if(V){let Kn=0,rr=Gt*Kn;for(let fr=0;fr<Fn;fr++){const Cr=zt[fr];Co(Cr[2]+rr,Cr[1]+rr,Cr[0]+rr)}Kn=U+2*se,rr=Gt*Kn;for(let fr=0;fr<Fn;fr++){const Cr=zt[fr];Co(Cr[0]+rr,Cr[1]+rr,Cr[2]+rr)}}else{for(let Kn=0;Kn<Fn;Kn++){const rr=zt[Kn];Co(rr[2],rr[1],rr[0])}for(let Kn=0;Kn<Fn;Kn++){const rr=zt[Kn];Co(rr[0]+Gt*U,rr[1]+Gt*U,rr[2]+Gt*U)}}m.addGroup(Ln,v.length/3-Ln,0)})(),function No(){const Ln=v.length/3;let Kn=0;vn(Tt,Kn),Kn+=Tt.length;for(let rr=0,fr=Ut.length;rr<fr;rr++){const Cr=Ut[rr];vn(Cr,Kn),Kn+=Cr.length}m.addGroup(Ln,v.length/3-Ln,1)}()}this.setAttribute("position",new yr(v,3)),this.setAttribute("uv",new yr(_,2)),this.computeVertexNormals()}toJSON(){const l=Vr.prototype.toJSON.call(this);return function ED(f,l,d){if(d.shapes=[],Array.isArray(f))for(let m=0,v=f.length;m<v;m++)d.shapes.push(f[m].uuid);else d.shapes.push(f.uuid);return void 0!==l.extrudePath&&(d.options.extrudePath=l.extrudePath.toJSON()),d}(this.parameters.shapes,this.parameters.options,l)}}const Xp={generateTopUV:function(f,l,d,m,v){const D=l[3*m],k=l[3*m+1],O=l[3*v],U=l[3*v+1];return[new _n(l[3*d],l[3*d+1]),new _n(D,k),new _n(O,U)]},generateSideWallUV:function(f,l,d,m,v,_){const x=l[3*d],D=l[3*d+1],k=l[3*d+2],O=l[3*m],U=l[3*m+1],H=l[3*m+2],V=l[3*v],W=l[3*v+1],J=l[3*v+2],ee=l[3*_],se=l[3*_+1],ie=l[3*_+2];return Math.abs(D-U)<.01?[new _n(x,1-k),new _n(O,1-H),new _n(V,1-J),new _n(ee,1-ie)]:[new _n(D,1-k),new _n(U,1-H),new _n(W,1-J),new _n(se,1-ie)]}};class y_ extends Ph{constructor(l=1,d=0){const m=(1+Math.sqrt(5))/2;super([-1,m,0,1,m,0,-1,-m,0,1,-m,0,0,-1,m,0,1,m,0,-1,-m,0,1,-m,m,0,-1,m,0,1,-m,0,-1,-m,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],l,d),this.type="IcosahedronGeometry",this.parameters={radius:l,detail:d}}}class N0 extends Vr{constructor(l,d=12,m=0,v=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:l,segments:d,phiStart:m,phiLength:v},d=Math.floor(d),v=Dr.clamp(v,0,2*Math.PI);const _=[],x=[],D=[],k=1/d,O=new Ce,U=new _n;for(let H=0;H<=d;H++){const V=m+H*k*v,W=Math.sin(V),J=Math.cos(V);for(let ee=0;ee<=l.length-1;ee++)O.x=l[ee].x*W,O.y=l[ee].y,O.z=l[ee].x*J,x.push(O.x,O.y,O.z),U.x=H/d,U.y=ee/(l.length-1),D.push(U.x,U.y)}for(let H=0;H<d;H++)for(let V=0;V<l.length-1;V++){const W=V+H*l.length,ee=W+l.length,se=W+l.length+1,ie=W+1;_.push(W,ee,ie),_.push(ee,se,ie)}if(this.setIndex(_),this.setAttribute("position",new yr(x,3)),this.setAttribute("uv",new yr(D,2)),this.computeVertexNormals(),v===2*Math.PI){const H=this.attributes.normal.array,V=new Ce,W=new Ce,J=new Ce,ee=d*l.length*3;for(let se=0,ie=0;se<l.length;se++,ie+=3)V.x=H[ie+0],V.y=H[ie+1],V.z=H[ie+2],W.x=H[ee+ie+0],W.y=H[ee+ie+1],W.z=H[ee+ie+2],J.addVectors(V,W).normalize(),H[ie+0]=H[ee+ie+0]=J.x,H[ie+1]=H[ee+ie+1]=J.y,H[ie+2]=H[ee+ie+2]=J.z}}}class F0 extends Ph{constructor(l=1,d=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],l,d),this.type="OctahedronGeometry",this.parameters={radius:l,detail:d}}}function Hd(f,l,d){Vr.call(this),this.type="ParametricGeometry",this.parameters={func:f,slices:l,stacks:d};const m=[],v=[],_=[],x=[],D=1e-5,k=new Ce,O=new Ce,U=new Ce,H=new Ce,V=new Ce;f.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const W=l+1;for(let J=0;J<=d;J++){const ee=J/d;for(let se=0;se<=l;se++){const ie=se/l;f(ie,ee,O),v.push(O.x,O.y,O.z),ie-D>=0?(f(ie-D,ee,U),H.subVectors(O,U)):(f(ie+D,ee,U),H.subVectors(U,O)),ee-D>=0?(f(ie,ee-D,U),V.subVectors(O,U)):(f(ie,ee+D,U),V.subVectors(U,O)),k.crossVectors(H,V).normalize(),_.push(k.x,k.y,k.z),x.push(ie,ee)}}for(let J=0;J<d;J++)for(let ee=0;ee<l;ee++){const ie=J*W+ee+1,X=(J+1)*W+ee+1,Re=(J+1)*W+ee;m.push(J*W+ee,ie,Re),m.push(ie,X,Re)}this.setIndex(m),this.setAttribute("position",new yr(v,3)),this.setAttribute("normal",new yr(_,3)),this.setAttribute("uv",new yr(x,2))}(Hd.prototype=Object.create(Vr.prototype)).constructor=Hd;class H0 extends Vr{constructor(l=.5,d=1,m=8,v=1,_=0,x=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:l,outerRadius:d,thetaSegments:m,phiSegments:v,thetaStart:_,thetaLength:x},m=Math.max(3,m);const D=[],k=[],O=[],U=[];let H=l;const V=(d-l)/(v=Math.max(1,v)),W=new Ce,J=new _n;for(let ee=0;ee<=v;ee++){for(let se=0;se<=m;se++){const ie=_+se/m*x;W.x=H*Math.cos(ie),W.y=H*Math.sin(ie),k.push(W.x,W.y,W.z),O.push(0,0,1),J.x=(W.x/d+1)/2,J.y=(W.y/d+1)/2,U.push(J.x,J.y)}H+=V}for(let ee=0;ee<v;ee++){const se=ee*(m+1);for(let ie=0;ie<m;ie++){const X=ie+se,xe=X+m+1,Ve=X+m+2,Me=X+1;D.push(X,xe,Me),D.push(xe,Ve,Me)}}this.setIndex(D),this.setAttribute("position",new yr(k,3)),this.setAttribute("normal",new yr(O,3)),this.setAttribute("uv",new yr(U,2))}}class Jg extends Vr{constructor(l,d=12){super(),this.type="ShapeGeometry",this.parameters={shapes:l,curveSegments:d};const m=[],v=[],_=[],x=[];let D=0,k=0;if(!1===Array.isArray(l))O(l);else for(let U=0;U<l.length;U++)O(l[U]),this.addGroup(D,k,U),D+=k,k=0;function O(U){const H=v.length/3,V=U.extractPoints(d);let W=V.shape;const J=V.holes;!1===Fh.isClockWise(W)&&(W=W.reverse());for(let se=0,ie=J.length;se<ie;se++){const X=J[se];!0===Fh.isClockWise(X)&&(J[se]=X.reverse())}const ee=Fh.triangulateShape(W,J);for(let se=0,ie=J.length;se<ie;se++)W=W.concat(J[se]);for(let se=0,ie=W.length;se<ie;se++){const X=W[se];v.push(X.x,X.y,0),_.push(0,0,1),x.push(X.x,X.y)}for(let se=0,ie=ee.length;se<ie;se++){const X=ee[se];m.push(X[0]+H,X[1]+H,X[2]+H),k+=3}}this.setIndex(m),this.setAttribute("position",new yr(v,3)),this.setAttribute("normal",new yr(_,3)),this.setAttribute("uv",new yr(x,2))}toJSON(){const l=Vr.prototype.toJSON.call(this);return function TD(f,l){if(l.shapes=[],Array.isArray(f))for(let d=0,m=f.length;d<m;d++)l.shapes.push(f[d].uuid);else l.shapes.push(f.uuid);return l}(this.parameters.shapes,l)}}class Qg extends Vr{constructor(l=1,d=8,m=6,v=0,_=2*Math.PI,x=0,D=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:l,widthSegments:d,heightSegments:m,phiStart:v,phiLength:_,thetaStart:x,thetaLength:D},d=Math.max(3,Math.floor(d)),m=Math.max(2,Math.floor(m));const k=Math.min(x+D,Math.PI);let O=0;const U=[],H=new Ce,V=new Ce,W=[],J=[],ee=[],se=[];for(let ie=0;ie<=m;ie++){const X=[],Re=ie/m;let xe=0;0==ie&&0==x?xe=.5/d:ie==m&&k==Math.PI&&(xe=-.5/d);for(let Ve=0;Ve<=d;Ve++){const Me=Ve/d;H.x=-l*Math.cos(v+Me*_)*Math.sin(x+Re*D),H.y=l*Math.cos(x+Re*D),H.z=l*Math.sin(v+Me*_)*Math.sin(x+Re*D),J.push(H.x,H.y,H.z),V.copy(H).normalize(),ee.push(V.x,V.y,V.z),se.push(Me+xe,1-Re),X.push(O++)}U.push(X)}for(let ie=0;ie<m;ie++)for(let X=0;X<d;X++){const Re=U[ie][X+1],xe=U[ie][X],Ve=U[ie+1][X],Me=U[ie+1][X+1];(0!==ie||x>0)&&W.push(Re,xe,Me),(ie!==m-1||k<Math.PI)&&W.push(xe,Ve,Me)}this.setIndex(W),this.setAttribute("position",new yr(J,3)),this.setAttribute("normal",new yr(ee,3)),this.setAttribute("uv",new yr(se,2))}}class ev extends Ph{constructor(l=1,d=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],l,d),this.type="TetrahedronGeometry",this.parameters={radius:l,detail:d}}}class __ extends Fd{constructor(l,d={}){const m=d.font;if(!m||!m.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Vr;const v=m.generateShapes(l,d.size);d.depth=void 0!==d.height?d.height:50,void 0===d.bevelThickness&&(d.bevelThickness=10),void 0===d.bevelSize&&(d.bevelSize=8),void 0===d.bevelEnabled&&(d.bevelEnabled=!1),super(v,d),this.type="TextGeometry"}}class Kp extends Vr{constructor(l=1,d=.4,m=8,v=6,_=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:l,tube:d,radialSegments:m,tubularSegments:v,arc:_},m=Math.floor(m),v=Math.floor(v);const x=[],D=[],k=[],O=[],U=new Ce,H=new Ce,V=new Ce;for(let W=0;W<=m;W++)for(let J=0;J<=v;J++){const ee=J/v*_,se=W/m*Math.PI*2;H.x=(l+d*Math.cos(se))*Math.cos(ee),H.y=(l+d*Math.cos(se))*Math.sin(ee),H.z=d*Math.sin(se),D.push(H.x,H.y,H.z),U.x=l*Math.cos(ee),U.y=l*Math.sin(ee),V.subVectors(H,U).normalize(),k.push(V.x,V.y,V.z),O.push(J/v),O.push(W/m)}for(let W=1;W<=m;W++)for(let J=1;J<=v;J++){const se=(v+1)*(W-1)+J-1,ie=(v+1)*(W-1)+J,X=(v+1)*W+J;x.push((v+1)*W+J-1,se,X),x.push(se,ie,X)}this.setIndex(x),this.setAttribute("position",new yr(D,3)),this.setAttribute("normal",new yr(k,3)),this.setAttribute("uv",new yr(O,2))}}class Zp extends Vr{constructor(l=1,d=.4,m=64,v=8,_=2,x=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:l,tube:d,tubularSegments:m,radialSegments:v,p:_,q:x},m=Math.floor(m),v=Math.floor(v);const D=[],k=[],O=[],U=[],H=new Ce,V=new Ce,W=new Ce,J=new Ce,ee=new Ce,se=new Ce,ie=new Ce;for(let Re=0;Re<=m;++Re){const xe=Re/m*_*Math.PI*2;X(xe,_,x,l,W),X(xe+.01,_,x,l,J),se.subVectors(J,W),ie.addVectors(J,W),ee.crossVectors(se,ie),ie.crossVectors(ee,se),ee.normalize(),ie.normalize();for(let Ve=0;Ve<=v;++Ve){const Me=Ve/v*Math.PI*2,tt=-d*Math.cos(Me),At=d*Math.sin(Me);H.x=W.x+(tt*ie.x+At*ee.x),H.y=W.y+(tt*ie.y+At*ee.y),H.z=W.z+(tt*ie.z+At*ee.z),k.push(H.x,H.y,H.z),V.subVectors(H,W).normalize(),O.push(V.x,V.y,V.z),U.push(Re/m),U.push(Ve/v)}}for(let Re=1;Re<=m;Re++)for(let xe=1;xe<=v;xe++){const Me=(v+1)*Re+(xe-1),tt=(v+1)*Re+xe,At=(v+1)*(Re-1)+xe;D.push((v+1)*(Re-1)+(xe-1),Me,At),D.push(Me,tt,At)}function X(Re,xe,Ve,Me,tt){const At=Math.cos(Re),wt=Math.sin(Re),st=Ve/xe*Re,Ut=Math.cos(st);tt.x=Me*(2+Ut)*.5*At,tt.y=Me*(2+Ut)*wt*.5,tt.z=Me*Math.sin(st)*.5}this.setIndex(D),this.setAttribute("position",new yr(k,3)),this.setAttribute("normal",new yr(O,3)),this.setAttribute("uv",new yr(U,2))}}class b_ extends Vr{constructor(l,d=64,m=1,v=8,_=!1){super(),this.type="TubeGeometry",this.parameters={path:l,tubularSegments:d,radius:m,radialSegments:v,closed:_};const x=l.computeFrenetFrames(d,_);this.tangents=x.tangents,this.normals=x.normals,this.binormals=x.binormals;const D=new Ce,k=new Ce,O=new _n;let U=new Ce;const H=[],V=[],W=[],J=[];function se(Re){U=l.getPointAt(Re/d,U);const xe=x.normals[Re],Ve=x.binormals[Re];for(let Me=0;Me<=v;Me++){const tt=Me/v*Math.PI*2,At=Math.sin(tt),wt=-Math.cos(tt);k.x=wt*xe.x+At*Ve.x,k.y=wt*xe.y+At*Ve.y,k.z=wt*xe.z+At*Ve.z,k.normalize(),V.push(k.x,k.y,k.z),D.x=U.x+m*k.x,D.y=U.y+m*k.y,D.z=U.z+m*k.z,H.push(D.x,D.y,D.z)}}(function ee(){for(let Re=0;Re<d;Re++)se(Re);se(!1===_?d:0),function X(){for(let Re=0;Re<=d;Re++)for(let xe=0;xe<=v;xe++)O.x=Re/d,O.y=xe/v,W.push(O.x,O.y)}(),function ie(){for(let Re=1;Re<=d;Re++)for(let xe=1;xe<=v;xe++){const Me=(v+1)*Re+(xe-1),tt=(v+1)*Re+xe,At=(v+1)*(Re-1)+xe;J.push((v+1)*(Re-1)+(xe-1),Me,At),J.push(Me,tt,At)}}()})(),this.setIndex(J),this.setAttribute("position",new yr(H,3)),this.setAttribute("normal",new yr(V,3)),this.setAttribute("uv",new yr(W,2))}toJSON(){const l=Vr.prototype.toJSON.call(this);return l.path=this.parameters.path.toJSON(),l}}class w_ extends Vr{constructor(l){if(super(),this.type="WireframeGeometry",!0===l.isGeometry)return void console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const d=[],m=[0,0],v={},_=new Ce;if(null!==l.index){const x=l.attributes.position,D=l.index;let k=l.groups;0===k.length&&(k=[{start:0,count:D.count,materialIndex:0}]);for(let O=0,U=k.length;O<U;++O){const H=k[O],V=H.start;for(let J=V,ee=V+H.count;J<ee;J+=3)for(let se=0;se<3;se++){const ie=D.getX(J+se),X=D.getX(J+(se+1)%3);m[0]=Math.min(ie,X),m[1]=Math.max(ie,X);const Re=m[0]+","+m[1];void 0===v[Re]&&(v[Re]={index1:m[0],index2:m[1]})}}for(const O in v){const U=v[O];_.fromBufferAttribute(x,U.index1),d.push(_.x,_.y,_.z),_.fromBufferAttribute(x,U.index2),d.push(_.x,_.y,_.z)}}else{const x=l.attributes.position;for(let D=0,k=x.count/3;D<k;D++)for(let O=0;O<3;O++)_.fromBufferAttribute(x,3*D+O),d.push(_.x,_.y,_.z),_.fromBufferAttribute(x,3*D+(O+1)%3),d.push(_.x,_.y,_.z)}this.setAttribute("position",new yr(d,3))}}var Ml=Object.freeze({__proto__:null,BoxGeometry:Gc,BoxBufferGeometry:Gc,CircleGeometry:x0,CircleBufferGeometry:x0,ConeGeometry:C0,ConeBufferGeometry:C0,CylinderGeometry:qg,CylinderBufferGeometry:qg,DodecahedronGeometry:E0,DodecahedronBufferGeometry:E0,EdgesGeometry:$C,ExtrudeGeometry:Fd,ExtrudeBufferGeometry:Fd,IcosahedronGeometry:y_,IcosahedronBufferGeometry:y_,LatheGeometry:N0,LatheBufferGeometry:N0,OctahedronGeometry:F0,OctahedronBufferGeometry:F0,ParametricGeometry:Hd,ParametricBufferGeometry:Hd,PlaneGeometry:su,PlaneBufferGeometry:su,PolyhedronGeometry:Ph,PolyhedronBufferGeometry:Ph,RingGeometry:H0,RingBufferGeometry:H0,ShapeGeometry:Jg,ShapeBufferGeometry:Jg,SphereGeometry:Qg,SphereBufferGeometry:Qg,TetrahedronGeometry:ev,TetrahedronBufferGeometry:ev,TextGeometry:__,TextBufferGeometry:__,TorusGeometry:Kp,TorusBufferGeometry:Kp,TorusKnotGeometry:Zp,TorusKnotBufferGeometry:Zp,TubeGeometry:b_,TubeBufferGeometry:b_,WireframeGeometry:w_});class M_ extends zo{constructor(l){super(),this.type="ShadowMaterial",this.color=new hr(0),this.transparent=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this}}M_.prototype.isShadowMaterial=!0;class Bd extends Ls{constructor(l){super(l),this.type="RawShaderMaterial"}}function Vd(f){zo.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new hr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zs,this.normalScale=new _n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(f)}function Hh(f){Vd.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _n(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(l){this.reflectivity=Dr.clamp(2.5*(l-1)/(l+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(f)}Bd.prototype.isRawShaderMaterial=!0,(Vd.prototype=Object.create(zo.prototype)).constructor=Vd,Vd.prototype.isMeshStandardMaterial=!0,Vd.prototype.copy=function(f){return zo.prototype.copy.call(this,f),this.defines={STANDARD:""},this.color.copy(f.color),this.roughness=f.roughness,this.metalness=f.metalness,this.map=f.map,this.lightMap=f.lightMap,this.lightMapIntensity=f.lightMapIntensity,this.aoMap=f.aoMap,this.aoMapIntensity=f.aoMapIntensity,this.emissive.copy(f.emissive),this.emissiveMap=f.emissiveMap,this.emissiveIntensity=f.emissiveIntensity,this.bumpMap=f.bumpMap,this.bumpScale=f.bumpScale,this.normalMap=f.normalMap,this.normalMapType=f.normalMapType,this.normalScale.copy(f.normalScale),this.displacementMap=f.displacementMap,this.displacementScale=f.displacementScale,this.displacementBias=f.displacementBias,this.roughnessMap=f.roughnessMap,this.metalnessMap=f.metalnessMap,this.alphaMap=f.alphaMap,this.envMap=f.envMap,this.envMapIntensity=f.envMapIntensity,this.refractionRatio=f.refractionRatio,this.wireframe=f.wireframe,this.wireframeLinewidth=f.wireframeLinewidth,this.wireframeLinecap=f.wireframeLinecap,this.wireframeLinejoin=f.wireframeLinejoin,this.skinning=f.skinning,this.morphTargets=f.morphTargets,this.morphNormals=f.morphNormals,this.flatShading=f.flatShading,this.vertexTangents=f.vertexTangents,this},(Hh.prototype=Object.create(Vd.prototype)).constructor=Hh,Hh.prototype.isMeshPhysicalMaterial=!0,Hh.prototype.copy=function(f){return Vd.prototype.copy.call(this,f),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=f.clearcoat,this.clearcoatMap=f.clearcoatMap,this.clearcoatRoughness=f.clearcoatRoughness,this.clearcoatRoughnessMap=f.clearcoatRoughnessMap,this.clearcoatNormalMap=f.clearcoatNormalMap,this.clearcoatNormalScale.copy(f.clearcoatNormalScale),this.reflectivity=f.reflectivity,this.sheen=f.sheen?(this.sheen||new hr).copy(f.sheen):null,this.transmission=f.transmission,this.transmissionMap=f.transmissionMap,this};class B0 extends zo{constructor(l){super(),this.type="MeshPhongMaterial",this.color=new hr(16777215),this.specular=new hr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zs,this.normalScale=new _n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$r,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.specular.copy(l.specular),this.shininess=l.shininess,this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}B0.prototype.isMeshPhongMaterial=!0;class nE extends zo{constructor(l){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new hr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zs,this.normalScale=new _n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.gradientMap=l.gradientMap,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.alphaMap=l.alphaMap,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this}}nE.prototype.isMeshToonMaterial=!0;class V0 extends zo{constructor(l){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zs,this.normalScale=new _n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}V0.prototype.isMeshNormalMaterial=!0;class S_ extends zo{constructor(l){super(),this.type="MeshLambertMaterial",this.color=new hr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$r,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this}}S_.prototype.isMeshLambertMaterial=!0;class z0 extends zo{constructor(l){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new hr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zs,this.normalScale=new _n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.defines={MATCAP:""},this.color.copy(l.color),this.matcap=l.matcap,this.map=l.map,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.alphaMap=l.alphaMap,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}z0.prototype.isMeshMatcapMaterial=!0;class RD extends Ia{constructor(l){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(l)}copy(l){return super.copy(l),this.scale=l.scale,this.dashSize=l.dashSize,this.gapSize=l.gapSize,this}}RD.prototype.isLineDashedMaterial=!0;var DD=Object.freeze({__proto__:null,ShadowMaterial:M_,SpriteMaterial:mc,RawShaderMaterial:Bd,ShaderMaterial:Ls,PointsMaterial:Lh,MeshPhysicalMaterial:Hh,MeshStandardMaterial:Vd,MeshPhongMaterial:B0,MeshToonMaterial:nE,MeshNormalMaterial:V0,MeshLambertMaterial:S_,MeshDepthMaterial:d0,MeshDistanceMaterial:h0,MeshBasicMaterial:Uc,MeshMatcapMaterial:z0,LineDashedMaterial:RD,LineBasicMaterial:Ia,Material:zo});const bs={arraySlice:function(f,l,d){return bs.isTypedArray(f)?new f.constructor(f.subarray(l,void 0!==d?d:f.length)):f.slice(l,d)},convertArray:function(f,l,d){return!f||!d&&f.constructor===l?f:"number"==typeof l.BYTES_PER_ELEMENT?new l(f):Array.prototype.slice.call(f)},isTypedArray:function(f){return ArrayBuffer.isView(f)&&!(f instanceof DataView)},getKeyframeOrder:function(f){const d=f.length,m=new Array(d);for(let v=0;v!==d;++v)m[v]=v;return m.sort(function l(v,_){return f[v]-f[_]}),m},sortedArray:function(f,l,d){const m=f.length,v=new f.constructor(m);for(let _=0,x=0;x!==m;++_){const D=d[_]*l;for(let k=0;k!==l;++k)v[x++]=f[D+k]}return v},flattenJSON:function(f,l,d,m){let v=1,_=f[0];for(;void 0!==_&&void 0===_[m];)_=f[v++];if(void 0===_)return;let x=_[m];if(void 0!==x)if(Array.isArray(x))do{x=_[m],void 0!==x&&(l.push(_.time),d.push.apply(d,x)),_=f[v++]}while(void 0!==_);else if(void 0!==x.toArray)do{x=_[m],void 0!==x&&(l.push(_.time),x.toArray(d,d.length)),_=f[v++]}while(void 0!==_);else do{x=_[m],void 0!==x&&(l.push(_.time),d.push(x)),_=f[v++]}while(void 0!==_)},subclip:function(f,l,d,m,v=30){const _=f.clone();_.name=l;const x=[];for(let k=0;k<_.tracks.length;++k){const O=_.tracks[k],U=O.getValueSize(),H=[],V=[];for(let W=0;W<O.times.length;++W){const J=O.times[W]*v;if(!(J<d||J>=m)){H.push(O.times[W]);for(let ee=0;ee<U;++ee)V.push(O.values[W*U+ee])}}0!==H.length&&(O.times=bs.convertArray(H,O.times.constructor),O.values=bs.convertArray(V,O.values.constructor),x.push(O))}_.tracks=x;let D=1/0;for(let k=0;k<_.tracks.length;++k)D>_.tracks[k].times[0]&&(D=_.tracks[k].times[0]);for(let k=0;k<_.tracks.length;++k)_.tracks[k].shift(-1*D);return _.resetDuration(),_},makeClipAdditive:function(f,l=0,d=f,m=30){m<=0&&(m=30);const v=d.tracks.length,_=l/m;for(let x=0;x<v;++x){const D=d.tracks[x],k=D.ValueTypeName;if("bool"===k||"string"===k)continue;const O=f.tracks.find(function(ie){return ie.name===D.name&&ie.ValueTypeName===k});if(void 0===O)continue;let U=0;const H=D.getValueSize();D.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(U=H/3);let V=0;const W=O.getValueSize();O.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(V=W/3);const J=D.times.length-1;let ee;if(_<=D.times[0])ee=bs.arraySlice(D.values,U,H-U);else if(_>=D.times[J]){const ie=J*H+U;ee=bs.arraySlice(D.values,ie,ie+H-U)}else{const ie=D.createInterpolant(),X=U,Re=H-U;ie.evaluate(_),ee=bs.arraySlice(ie.resultBuffer,X,Re)}"quaternion"===k&&(new Sr).fromArray(ee).normalize().conjugate().toArray(ee);const se=O.times.length;for(let ie=0;ie<se;++ie){const X=ie*W+V;if("quaternion"===k)Sr.multiplyQuaternionsFlat(O.values,X,ee,0,O.values,X);else{const Re=W-2*V;for(let xe=0;xe<Re;++xe)O.values[X+xe]-=ee[xe]}}}return f.blendMode=Ep,f}};function uu(f,l,d,m){this.parameterPositions=f,this._cachedIndex=0,this.resultBuffer=void 0!==m?m:new l.constructor(d),this.sampleValues=l,this.valueSize=d}function U0(f,l,d,m){uu.call(this,f,l,d,m),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function x_(f,l,d,m){uu.call(this,f,l,d,m)}function cu(f,l,d,m){uu.call(this,f,l,d,m)}Object.assign(uu.prototype,{evaluate:function(f){const l=this.parameterPositions;let d=this._cachedIndex,m=l[d],v=l[d-1];e:{t:{let _;n:{r:if(!(f<m)){for(let x=d+2;;){if(void 0===m){if(f<v)break r;return d=l.length,this._cachedIndex=d,this.afterEnd_(d-1,f,v)}if(d===x)break;if(v=m,m=l[++d],f<m)break t}_=l.length;break n}if(f>=v)break e;{const x=l[1];f<x&&(d=2,v=x);for(let D=d-2;;){if(void 0===v)return this._cachedIndex=0,this.beforeStart_(0,f,m);if(d===D)break;if(m=v,v=l[--d-1],f>=v)break t}_=d,d=0}}for(;d<_;){const x=d+_>>>1;f<l[x]?_=x:d=x+1}if(m=l[d],v=l[d-1],void 0===v)return this._cachedIndex=0,this.beforeStart_(0,f,m);if(void 0===m)return d=l.length,this._cachedIndex=d,this.afterEnd_(d-1,v,f)}this._cachedIndex=d,this.intervalChanged_(d,v,m)}return this.interpolate_(d,v,f,m)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(f){const l=this.resultBuffer,d=this.sampleValues,m=this.valueSize,v=f*m;for(let _=0;_!==m;++_)l[_]=d[v+_];return l},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(uu.prototype,{beforeStart_:uu.prototype.copySampleValue_,afterEnd_:uu.prototype.copySampleValue_}),U0.prototype=Object.assign(Object.create(uu.prototype),{constructor:U0,DefaultSettings_:{endingStart:Aa,endingEnd:Aa},intervalChanged_:function(f,l,d){const m=this.parameterPositions;let v=f-2,_=f+1,x=m[v],D=m[_];if(void 0===x)switch(this.getSettings_().endingStart){case Ic:v=f,x=2*l-d;break;case _h:v=m.length-2,x=l+m[v]-m[v+1];break;default:v=f,x=d}if(void 0===D)switch(this.getSettings_().endingEnd){case Ic:_=f,D=2*d-l;break;case _h:_=1,D=d+m[1]-m[0];break;default:_=f-1,D=l}const k=.5*(d-l),O=this.valueSize;this._weightPrev=k/(l-x),this._weightNext=k/(D-d),this._offsetPrev=v*O,this._offsetNext=_*O},interpolate_:function(f,l,d,m){const v=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=f*x,k=D-x,O=this._offsetPrev,U=this._offsetNext,H=this._weightPrev,V=this._weightNext,W=(d-l)/(m-l),J=W*W,ee=J*W,se=-H*ee+2*H*J-H*W,ie=(1+H)*ee+(-1.5-2*H)*J+(-.5+H)*W+1,X=(-1-V)*ee+(1.5+V)*J+.5*W,Re=V*ee-V*J;for(let xe=0;xe!==x;++xe)v[xe]=se*_[O+xe]+ie*_[k+xe]+X*_[D+xe]+Re*_[U+xe];return v}}),x_.prototype=Object.assign(Object.create(uu.prototype),{constructor:x_,interpolate_:function(f,l,d,m){const v=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=f*x,k=D-x,O=(d-l)/(m-l),U=1-O;for(let H=0;H!==x;++H)v[H]=_[k+H]*U+_[D+H]*O;return v}}),cu.prototype=Object.assign(Object.create(uu.prototype),{constructor:cu,interpolate_:function(f){return this.copySampleValue_(f-1)}});class Qc{constructor(l,d,m,v){if(void 0===l)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===d||0===d.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+l);this.name=l,this.times=bs.convertArray(d,this.TimeBufferType),this.values=bs.convertArray(m,this.ValueBufferType),this.setInterpolation(v||this.DefaultInterpolation)}static toJSON(l){const d=l.constructor;let m;if(d.toJSON!==this.toJSON)m=d.toJSON(l);else{m={name:l.name,times:bs.convertArray(l.times,Array),values:bs.convertArray(l.values,Array)};const v=l.getInterpolation();v!==l.DefaultInterpolation&&(m.interpolation=v)}return m.type=l.ValueTypeName,m}InterpolantFactoryMethodDiscrete(l){return new cu(this.times,this.values,this.getValueSize(),l)}InterpolantFactoryMethodLinear(l){return new x_(this.times,this.values,this.getValueSize(),l)}InterpolantFactoryMethodSmooth(l){return new U0(this.times,this.values,this.getValueSize(),l)}setInterpolation(l){let d;switch(l){case yh:d=this.InterpolantFactoryMethodDiscrete;break;case qs:d=this.InterpolantFactoryMethodLinear;break;case Ui:d=this.InterpolantFactoryMethodSmooth}if(void 0===d){const m="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(l===this.DefaultInterpolation)throw new Error(m);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",m),this}return this.createInterpolant=d,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return yh;case this.InterpolantFactoryMethodLinear:return qs;case this.InterpolantFactoryMethodSmooth:return Ui}}getValueSize(){return this.values.length/this.times.length}shift(l){if(0!==l){const d=this.times;for(let m=0,v=d.length;m!==v;++m)d[m]+=l}return this}scale(l){if(1!==l){const d=this.times;for(let m=0,v=d.length;m!==v;++m)d[m]*=l}return this}trim(l,d){const m=this.times,v=m.length;let _=0,x=v-1;for(;_!==v&&m[_]<l;)++_;for(;-1!==x&&m[x]>d;)--x;if(++x,0!==_||x!==v){_>=x&&(x=Math.max(x,1),_=x-1);const D=this.getValueSize();this.times=bs.arraySlice(m,_,x),this.values=bs.arraySlice(this.values,_*D,x*D)}return this}validate(){let l=!0;const d=this.getValueSize();d-Math.floor(d)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),l=!1);const m=this.times,v=this.values,_=m.length;0===_&&(console.error("THREE.KeyframeTrack: Track is empty.",this),l=!1);let x=null;for(let D=0;D!==_;D++){const k=m[D];if("number"==typeof k&&isNaN(k)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,D,k),l=!1;break}if(null!==x&&x>k){console.error("THREE.KeyframeTrack: Out of order keys.",this,D,k,x),l=!1;break}x=k}if(void 0!==v&&bs.isTypedArray(v))for(let D=0,k=v.length;D!==k;++D){const O=v[D];if(isNaN(O)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,D,O),l=!1;break}}return l}optimize(){const l=bs.arraySlice(this.times),d=bs.arraySlice(this.values),m=this.getValueSize(),v=this.getInterpolation()===Ui,_=l.length-1;let x=1;for(let D=1;D<_;++D){let k=!1;const O=l[D];if(O!==l[D+1]&&(1!==D||O!==l[0]))if(v)k=!0;else{const H=D*m,V=H-m,W=H+m;for(let J=0;J!==m;++J){const ee=d[H+J];if(ee!==d[V+J]||ee!==d[W+J]){k=!0;break}}}if(k){if(D!==x){l[x]=l[D];const H=D*m,V=x*m;for(let W=0;W!==m;++W)d[V+W]=d[H+W]}++x}}if(_>0){l[x]=l[_];for(let D=_*m,k=x*m,O=0;O!==m;++O)d[k+O]=d[D+O];++x}return x!==l.length?(this.times=bs.arraySlice(l,0,x),this.values=bs.arraySlice(d,0,x*m)):(this.times=l,this.values=d),this}clone(){const l=bs.arraySlice(this.times,0),d=bs.arraySlice(this.values,0),v=new(0,this.constructor)(this.name,l,d);return v.createInterpolant=this.createInterpolant,v}}Qc.prototype.TimeBufferType=Float32Array,Qc.prototype.ValueBufferType=Float32Array,Qc.prototype.DefaultInterpolation=qs;class Lf extends Qc{}Lf.prototype.ValueTypeName="bool",Lf.prototype.ValueBufferType=Array,Lf.prototype.DefaultInterpolation=yh,Lf.prototype.InterpolantFactoryMethodLinear=void 0,Lf.prototype.InterpolantFactoryMethodSmooth=void 0;class rE extends Qc{}rE.prototype.ValueTypeName="color";class C_ extends Qc{}function j0(f,l,d,m){uu.call(this,f,l,d,m)}C_.prototype.ValueTypeName="number",j0.prototype=Object.assign(Object.create(uu.prototype),{constructor:j0,interpolate_:function(f,l,d,m){const v=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=(d-l)/(m-l);let k=f*x;for(let O=k+x;k!==O;k+=4)Sr.slerpFlat(v,0,_,k-x,_,k,D);return v}});class tv extends Qc{InterpolantFactoryMethodLinear(l){return new j0(this.times,this.values,this.getValueSize(),l)}}tv.prototype.ValueTypeName="quaternion",tv.prototype.DefaultInterpolation=qs,tv.prototype.InterpolantFactoryMethodSmooth=void 0;class Pf extends Qc{}Pf.prototype.ValueTypeName="string",Pf.prototype.ValueBufferType=Array,Pf.prototype.DefaultInterpolation=yh,Pf.prototype.InterpolantFactoryMethodLinear=void 0,Pf.prototype.InterpolantFactoryMethodSmooth=void 0;class E_ extends Qc{}E_.prototype.ValueTypeName="vector";class T_{constructor(l,d=-1,m,v=fn){this.name=l,this.tracks=m,this.duration=d,this.blendMode=v,this.uuid=Dr.generateUUID(),this.duration<0&&this.resetDuration()}static parse(l){const d=[],m=l.tracks,v=1/(l.fps||1);for(let x=0,D=m.length;x!==D;++x)d.push(Ai(m[x]).scale(v));const _=new this(l.name,l.duration,d,l.blendMode);return _.uuid=l.uuid,_}static toJSON(l){const d=[],m=l.tracks,v={name:l.name,duration:l.duration,tracks:d,uuid:l.uuid,blendMode:l.blendMode};for(let _=0,x=m.length;_!==x;++_)d.push(Qc.toJSON(m[_]));return v}static CreateFromMorphTargetSequence(l,d,m,v){const _=d.length,x=[];for(let D=0;D<_;D++){let k=[],O=[];k.push((D+_-1)%_,D,(D+1)%_),O.push(0,1,0);const U=bs.getKeyframeOrder(k);k=bs.sortedArray(k,1,U),O=bs.sortedArray(O,1,U),!v&&0===k[0]&&(k.push(_),O.push(O[0])),x.push(new C_(".morphTargetInfluences["+d[D].name+"]",k,O).scale(1/m))}return new this(l,-1,x)}static findByName(l,d){let m=l;if(!Array.isArray(l)){const v=l;m=v.geometry&&v.geometry.animations||v.animations}for(let v=0;v<m.length;v++)if(m[v].name===d)return m[v];return null}static CreateClipsFromMorphTargetSequences(l,d,m){const v={},_=/^([\w-]*?)([\d]+)$/;for(let D=0,k=l.length;D<k;D++){const O=l[D],U=O.name.match(_);if(U&&U.length>1){const H=U[1];let V=v[H];V||(v[H]=V=[]),V.push(O)}}const x=[];for(const D in v)x.push(this.CreateFromMorphTargetSequence(D,v[D],d,m));return x}static parseAnimation(l,d){if(!l)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const m=function(H,V,W,J,ee){if(0!==W.length){const se=[],ie=[];bs.flattenJSON(W,se,ie,J),0!==se.length&&ee.push(new H(V,se,ie))}},v=[],_=l.name||"default",x=l.fps||30,D=l.blendMode;let k=l.length||-1;const O=l.hierarchy||[];for(let H=0;H<O.length;H++){const V=O[H].keys;if(V&&0!==V.length)if(V[0].morphTargets){const W={};let J;for(J=0;J<V.length;J++)if(V[J].morphTargets)for(let ee=0;ee<V[J].morphTargets.length;ee++)W[V[J].morphTargets[ee]]=-1;for(const ee in W){const se=[],ie=[];for(let X=0;X!==V[J].morphTargets.length;++X){const Re=V[J];se.push(Re.time),ie.push(Re.morphTarget===ee?1:0)}v.push(new C_(".morphTargetInfluence["+ee+"]",se,ie))}k=W.length*(x||1)}else{const W=".bones["+d[H].name+"]";m(E_,W+".position",V,"pos",v),m(tv,W+".quaternion",V,"rot",v),m(E_,W+".scale",V,"scl",v)}}return 0===v.length?null:new this(_,k,v,D)}resetDuration(){let d=0;for(let m=0,v=this.tracks.length;m!==v;++m){const _=this.tracks[m];d=Math.max(d,_.times[_.times.length-1])}return this.duration=d,this}trim(){for(let l=0;l<this.tracks.length;l++)this.tracks[l].trim(0,this.duration);return this}validate(){let l=!0;for(let d=0;d<this.tracks.length;d++)l=l&&this.tracks[d].validate();return l}optimize(){for(let l=0;l<this.tracks.length;l++)this.tracks[l].optimize();return this}clone(){const l=[];for(let d=0;d<this.tracks.length;d++)l.push(this.tracks[d].clone());return new this.constructor(this.name,this.duration,l,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ai(f){if(void 0===f.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const l=function aF(f){switch(f.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return C_;case"vector":case"vector2":case"vector3":case"vector4":return E_;case"color":return rE;case"quaternion":return tv;case"bool":case"boolean":return Lf;case"string":return Pf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+f)}(f.type);if(void 0===f.times){const d=[],m=[];bs.flattenJSON(f.keys,d,m,"value"),f.times=d,f.values=m}return void 0!==l.parse?l.parse(f):new l(f.name,f.times,f.values,f.interpolation)}const kr={enabled:!1,files:{},add:function(f,l){!1!==this.enabled&&(this.files[f]=l)},get:function(f){if(!1!==this.enabled)return this.files[f]},remove:function(f){delete this.files[f]},clear:function(){this.files={}}};function W0(f,l,d){const m=this;let D,v=!1,_=0,x=0;const k=[];this.onStart=void 0,this.onLoad=f,this.onProgress=l,this.onError=d,this.itemStart=function(O){x++,!1===v&&void 0!==m.onStart&&m.onStart(O,_,x),v=!0},this.itemEnd=function(O){_++,void 0!==m.onProgress&&m.onProgress(O,_,x),_===x&&(v=!1,void 0!==m.onLoad&&m.onLoad())},this.itemError=function(O){void 0!==m.onError&&m.onError(O)},this.resolveURL=function(O){return D?D(O):O},this.setURLModifier=function(O){return D=O,this},this.addHandler=function(O,U){return k.push(O,U),this},this.removeHandler=function(O){const U=k.indexOf(O);return-1!==U&&k.splice(U,2),this},this.getHandler=function(O){for(let U=0,H=k.length;U<H;U+=2){const V=k[U],W=k[U+1];if(V.global&&(V.lastIndex=0),V.test(O))return W}return null}}const iE=new W0;function Xs(f){this.manager=void 0!==f?f:iE,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Xs.prototype,{load:function(){},loadAsync:function(f,l){const d=this;return new Promise(function(m,v){d.load(f,m,l,v)})},parse:function(){},setCrossOrigin:function(f){return this.crossOrigin=f,this},setWithCredentials:function(f){return this.withCredentials=f,this},setPath:function(f){return this.path=f,this},setResourcePath:function(f){return this.resourcePath=f,this},setRequestHeader:function(f){return this.requestHeader=f,this}});const ed={};function Lu(f){Xs.call(this,f)}Lu.prototype=Object.assign(Object.create(Xs.prototype),{constructor:Lu,load:function(f,l,d,m){void 0===f&&(f=""),void 0!==this.path&&(f=this.path+f),f=this.manager.resolveURL(f);const v=this,_=kr.get(f);if(void 0!==_)return v.manager.itemStart(f),setTimeout(function(){l&&l(_),v.manager.itemEnd(f)},0),_;if(void 0!==ed[f])return void ed[f].push({onLoad:l,onProgress:d,onError:m});const D=f.match(/^data:(.*?)(;base64)?,(.*)$/);let k;if(D){const O=D[1],U=!!D[2];let H=D[3];H=decodeURIComponent(H),U&&(H=atob(H));try{let V;const W=(this.responseType||"").toLowerCase();switch(W){case"arraybuffer":case"blob":const J=new Uint8Array(H.length);for(let se=0;se<H.length;se++)J[se]=H.charCodeAt(se);V="blob"===W?new Blob([J.buffer],{type:O}):J.buffer;break;case"document":V=(new DOMParser).parseFromString(H,O);break;case"json":V=JSON.parse(H);break;default:V=H}setTimeout(function(){l&&l(V),v.manager.itemEnd(f)},0)}catch(V){setTimeout(function(){m&&m(V),v.manager.itemError(f),v.manager.itemEnd(f)},0)}}else{ed[f]=[],ed[f].push({onLoad:l,onProgress:d,onError:m}),k=new XMLHttpRequest,k.open("GET",f,!0),k.addEventListener("load",function(O){const U=this.response,H=ed[f];if(delete ed[f],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),kr.add(f,U);for(let V=0,W=H.length;V<W;V++){const J=H[V];J.onLoad&&J.onLoad(U)}v.manager.itemEnd(f)}else{for(let V=0,W=H.length;V<W;V++){const J=H[V];J.onError&&J.onError(O)}v.manager.itemError(f),v.manager.itemEnd(f)}},!1),k.addEventListener("progress",function(O){const U=ed[f];for(let H=0,V=U.length;H<V;H++){const W=U[H];W.onProgress&&W.onProgress(O)}},!1),k.addEventListener("error",function(O){const U=ed[f];delete ed[f];for(let H=0,V=U.length;H<V;H++){const W=U[H];W.onError&&W.onError(O)}v.manager.itemError(f),v.manager.itemEnd(f)},!1),k.addEventListener("abort",function(O){const U=ed[f];delete ed[f];for(let H=0,V=U.length;H<V;H++){const W=U[H];W.onError&&W.onError(O)}v.manager.itemError(f),v.manager.itemEnd(f)},!1),void 0!==this.responseType&&(k.responseType=this.responseType),void 0!==this.withCredentials&&(k.withCredentials=this.withCredentials),k.overrideMimeType&&k.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const O in this.requestHeader)k.setRequestHeader(O,this.requestHeader[O]);k.send(null)}return v.manager.itemStart(f),k},setResponseType:function(f){return this.responseType=f,this},setMimeType:function(f){return this.mimeType=f,this}});class lF extends Xs{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Lu(this.manager);x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(k){v?v(k):console.error(k),_.manager.itemError(l)}},m,v)}parse(l){const d=[];for(let m=0;m<l.length;m++){const v=T_.parse(l[m]);d.push(v)}return d}}function Y0(f){Xs.call(this,f)}Y0.prototype=Object.assign(Object.create(Xs.prototype),{constructor:Y0,load:function(f,l,d,m){const v=this,_=[],x=new S0,D=new Lu(this.manager);D.setPath(this.path),D.setResponseType("arraybuffer"),D.setRequestHeader(this.requestHeader),D.setWithCredentials(v.withCredentials);let k=0;function O(U){D.load(f[U],function(H){const V=v.parse(H,!0);_[U]={width:V.width,height:V.height,format:V.format,mipmaps:V.mipmaps},k+=1,6===k&&(1===V.mipmapCount&&(x.minFilter=Ii),x.image=_,x.format=V.format,x.needsUpdate=!0,l&&l(x))},d,m)}if(Array.isArray(f))for(let U=0,H=f.length;U<H;++U)O(U);else D.load(f,function(U){const H=v.parse(U,!0);if(H.isCubemap){const V=H.mipmaps.length/H.mipmapCount;for(let W=0;W<V;W++){_[W]={mipmaps:[]};for(let J=0;J<H.mipmapCount;J++)_[W].mipmaps.push(H.mipmaps[W*H.mipmapCount+J]),_[W].format=H.format,_[W].width=H.width,_[W].height=H.height}x.image=_}else x.image.width=H.width,x.image.height=H.height,x.mipmaps=H.mipmaps;1===H.mipmapCount&&(x.minFilter=Ii),x.format=H.format,x.needsUpdate=!0,l&&l(x)},d,m);return x}});class G0 extends Xs{constructor(l){super(l)}load(l,d,m,v){void 0!==this.path&&(l=this.path+l),l=this.manager.resolveURL(l);const _=this,x=kr.get(l);if(void 0!==x)return _.manager.itemStart(l),setTimeout(function(){d&&d(x),_.manager.itemEnd(l)},0),x;const D=document.createElementNS("http://www.w3.org/1999/xhtml","img");function k(){D.removeEventListener("load",k,!1),D.removeEventListener("error",O,!1),kr.add(l,this),d&&d(this),_.manager.itemEnd(l)}function O(U){D.removeEventListener("load",k,!1),D.removeEventListener("error",O,!1),v&&v(U),_.manager.itemError(l),_.manager.itemEnd(l)}return D.addEventListener("load",k,!1),D.addEventListener("error",O,!1),"data:"!==l.substr(0,5)&&void 0!==this.crossOrigin&&(D.crossOrigin=this.crossOrigin),_.manager.itemStart(l),D.src=l,D}}class AD extends Xs{constructor(l){super(l)}load(l,d,m,v){const _=new Th,x=new G0(this.manager);x.setCrossOrigin(this.crossOrigin),x.setPath(this.path);let D=0;function k(O){x.load(l[O],function(U){_.images[O]=U,D++,6===D&&(_.needsUpdate=!0,d&&d(_))},void 0,v)}for(let O=0;O<l.length;++O)k(O);return _}}function oE(f){Xs.call(this,f)}function R_(f){Xs.call(this,f)}function Sl(){this.type="Curve",this.arcLengthDivisions=200}oE.prototype=Object.assign(Object.create(Xs.prototype),{constructor:oE,load:function(f,l,d,m){const v=this,_=new $c,x=new Lu(this.manager);return x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setPath(this.path),x.setWithCredentials(v.withCredentials),x.load(f,function(D){const k=v.parse(D);!k||(void 0!==k.image?_.image=k.image:void 0!==k.data&&(_.image.width=k.width,_.image.height=k.height,_.image.data=k.data),_.wrapS=void 0!==k.wrapS?k.wrapS:hn,_.wrapT=void 0!==k.wrapT?k.wrapT:hn,_.magFilter=void 0!==k.magFilter?k.magFilter:Ii,_.minFilter=void 0!==k.minFilter?k.minFilter:Ii,_.anisotropy=void 0!==k.anisotropy?k.anisotropy:1,void 0!==k.encoding&&(_.encoding=k.encoding),void 0!==k.flipY&&(_.flipY=k.flipY),void 0!==k.format&&(_.format=k.format),void 0!==k.type&&(_.type=k.type),void 0!==k.mipmaps&&(_.mipmaps=k.mipmaps,_.minFilter=qi),1===k.mipmapCount&&(_.minFilter=Ii),_.needsUpdate=!0,l&&l(_,k))},d,m),_}}),R_.prototype=Object.assign(Object.create(Xs.prototype),{constructor:R_,load:function(f,l,d,m){const v=new fo,_=new G0(this.manager);return _.setCrossOrigin(this.crossOrigin),_.setPath(this.path),_.load(f,function(x){v.image=x;const D=f.search(/\.jpe?g($|\?)/i)>0||0===f.search(/^data\:image\/jpeg/);v.format=D?ec:Ko,v.needsUpdate=!0,void 0!==l&&l(v)},d,m),v}}),Object.assign(Sl.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(f,l){const d=this.getUtoTmapping(f);return this.getPoint(d,l)},getPoints:function(f=5){const l=[];for(let d=0;d<=f;d++)l.push(this.getPoint(d/f));return l},getSpacedPoints:function(f=5){const l=[];for(let d=0;d<=f;d++)l.push(this.getPointAt(d/f));return l},getLength:function(){const f=this.getLengths();return f[f.length-1]},getLengths:function(f){if(void 0===f&&(f=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===f+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const l=[];let d,m=this.getPoint(0),v=0;l.push(0);for(let _=1;_<=f;_++)d=this.getPoint(_/f),v+=d.distanceTo(m),l.push(v),m=d;return this.cacheArcLengths=l,l},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(f,l){const d=this.getLengths();let m=0;const v=d.length;let _;_=l||f*d[v-1];let k,x=0,D=v-1;for(;x<=D;)if(m=Math.floor(x+(D-x)/2),k=d[m]-_,k<0)x=m+1;else{if(!(k>0)){D=m;break}D=m-1}if(m=D,d[m]===_)return m/(v-1);const O=d[m];return(m+(_-O)/(d[m+1]-O))/(v-1)},getTangent:function(f,l){let m=f-1e-4,v=f+1e-4;m<0&&(m=0),v>1&&(v=1);const _=this.getPoint(m),x=this.getPoint(v),D=l||(_.isVector2?new _n:new Ce);return D.copy(x).sub(_).normalize(),D},getTangentAt:function(f,l){const d=this.getUtoTmapping(f);return this.getTangent(d,l)},computeFrenetFrames:function(f,l){const d=new Ce,m=[],v=[],_=[],x=new Ce,D=new Br;for(let V=0;V<=f;V++)m[V]=this.getTangentAt(V/f,new Ce),m[V].normalize();v[0]=new Ce,_[0]=new Ce;let k=Number.MAX_VALUE;const O=Math.abs(m[0].x),U=Math.abs(m[0].y),H=Math.abs(m[0].z);O<=k&&(k=O,d.set(1,0,0)),U<=k&&(k=U,d.set(0,1,0)),H<=k&&d.set(0,0,1),x.crossVectors(m[0],d).normalize(),v[0].crossVectors(m[0],x),_[0].crossVectors(m[0],v[0]);for(let V=1;V<=f;V++){if(v[V]=v[V-1].clone(),_[V]=_[V-1].clone(),x.crossVectors(m[V-1],m[V]),x.length()>Number.EPSILON){x.normalize();const W=Math.acos(Dr.clamp(m[V-1].dot(m[V]),-1,1));v[V].applyMatrix4(D.makeRotationAxis(x,W))}_[V].crossVectors(m[V],v[V])}if(!0===l){let V=Math.acos(Dr.clamp(v[0].dot(v[f]),-1,1));V/=f,m[0].dot(x.crossVectors(v[0],v[f]))>0&&(V=-V);for(let W=1;W<=f;W++)v[W].applyMatrix4(D.makeRotationAxis(m[W],V*W)),_[W].crossVectors(m[W],v[W])}return{tangents:m,normals:v,binormals:_}},clone:function(){return(new this.constructor).copy(this)},copy:function(f){return this.arcLengthDivisions=f.arcLengthDivisions,this},toJSON:function(){const f={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return f.arcLengthDivisions=this.arcLengthDivisions,f.type=this.type,f},fromJSON:function(f){return this.arcLengthDivisions=f.arcLengthDivisions,this}});class Cs extends Sl{constructor(l=0,d=0,m=1,v=1,_=0,x=2*Math.PI,D=!1,k=0){super(),this.type="EllipseCurve",this.aX=l,this.aY=d,this.xRadius=m,this.yRadius=v,this.aStartAngle=_,this.aEndAngle=x,this.aClockwise=D,this.aRotation=k}getPoint(l,d){const m=d||new _n,v=2*Math.PI;let _=this.aEndAngle-this.aStartAngle;const x=Math.abs(_)<Number.EPSILON;for(;_<0;)_+=v;for(;_>v;)_-=v;_<Number.EPSILON&&(_=x?0:v),!0===this.aClockwise&&!x&&(_===v?_=-v:_-=v);const D=this.aStartAngle+l*_;let k=this.aX+this.xRadius*Math.cos(D),O=this.aY+this.yRadius*Math.sin(D);if(0!==this.aRotation){const U=Math.cos(this.aRotation),H=Math.sin(this.aRotation),V=k-this.aX,W=O-this.aY;k=V*U-W*H+this.aX,O=V*H+W*U+this.aY}return m.set(k,O)}copy(l){return super.copy(l),this.aX=l.aX,this.aY=l.aY,this.xRadius=l.xRadius,this.yRadius=l.yRadius,this.aStartAngle=l.aStartAngle,this.aEndAngle=l.aEndAngle,this.aClockwise=l.aClockwise,this.aRotation=l.aRotation,this}toJSON(){const l=super.toJSON();return l.aX=this.aX,l.aY=this.aY,l.xRadius=this.xRadius,l.yRadius=this.yRadius,l.aStartAngle=this.aStartAngle,l.aEndAngle=this.aEndAngle,l.aClockwise=this.aClockwise,l.aRotation=this.aRotation,l}fromJSON(l){return super.fromJSON(l),this.aX=l.aX,this.aY=l.aY,this.xRadius=l.xRadius,this.yRadius=l.yRadius,this.aStartAngle=l.aStartAngle,this.aEndAngle=l.aEndAngle,this.aClockwise=l.aClockwise,this.aRotation=l.aRotation,this}}Cs.prototype.isEllipseCurve=!0;class sE extends Cs{constructor(l,d,m,v,_,x){super(l,d,m,m,v,_,x),this.type="ArcCurve"}}function D_(){let f=0,l=0,d=0,m=0;function v(_,x,D,k){f=_,l=D,d=-3*_+3*x-2*D-k,m=2*_-2*x+D+k}return{initCatmullRom:function(_,x,D,k,O){v(x,D,O*(D-_),O*(k-x))},initNonuniformCatmullRom:function(_,x,D,k,O,U,H){let V=(x-_)/O-(D-_)/(O+U)+(D-x)/U,W=(D-x)/U-(k-x)/(U+H)+(k-D)/H;V*=U,W*=U,v(x,D,V,W)},calc:function(_){const x=_*_;return f+l*_+d*x+m*(x*_)}}}sE.prototype.isArcCurve=!0;const nv=new Ce,aE=new D_,OD=new D_,kD=new D_;class LD extends Sl{constructor(l=[],d=!1,m="centripetal",v=.5){super(),this.type="CatmullRomCurve3",this.points=l,this.closed=d,this.curveType=m,this.tension=v}getPoint(l,d=new Ce){const m=d,v=this.points,_=v.length,x=(_-(this.closed?0:1))*l;let O,U,D=Math.floor(x),k=x-D;this.closed?D+=D>0?0:(Math.floor(Math.abs(D)/_)+1)*_:0===k&&D===_-1&&(D=_-2,k=1),this.closed||D>0?O=v[(D-1)%_]:(nv.subVectors(v[0],v[1]).add(v[0]),O=nv);const H=v[D%_],V=v[(D+1)%_];if(this.closed||D+2<_?U=v[(D+2)%_]:(nv.subVectors(v[_-1],v[_-2]).add(v[_-1]),U=nv),"centripetal"===this.curveType||"chordal"===this.curveType){const W="chordal"===this.curveType?.5:.25;let J=Math.pow(O.distanceToSquared(H),W),ee=Math.pow(H.distanceToSquared(V),W),se=Math.pow(V.distanceToSquared(U),W);ee<1e-4&&(ee=1),J<1e-4&&(J=ee),se<1e-4&&(se=ee),aE.initNonuniformCatmullRom(O.x,H.x,V.x,U.x,J,ee,se),OD.initNonuniformCatmullRom(O.y,H.y,V.y,U.y,J,ee,se),kD.initNonuniformCatmullRom(O.z,H.z,V.z,U.z,J,ee,se)}else"catmullrom"===this.curveType&&(aE.initCatmullRom(O.x,H.x,V.x,U.x,this.tension),OD.initCatmullRom(O.y,H.y,V.y,U.y,this.tension),kD.initCatmullRom(O.z,H.z,V.z,U.z,this.tension));return m.set(aE.calc(k),OD.calc(k),kD.calc(k)),m}copy(l){super.copy(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++)this.points.push(l.points[d].clone());return this.closed=l.closed,this.curveType=l.curveType,this.tension=l.tension,this}toJSON(){const l=super.toJSON();l.points=[];for(let d=0,m=this.points.length;d<m;d++)l.points.push(this.points[d].toArray());return l.closed=this.closed,l.curveType=this.curveType,l.tension=this.tension,l}fromJSON(l){super.fromJSON(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++){const v=l.points[d];this.points.push((new Ce).fromArray(v))}return this.closed=l.closed,this.curveType=l.curveType,this.tension=l.tension,this}}function PD(f,l,d,m,v){const _=.5*(m-l),x=.5*(v-d),D=f*f;return(2*d-2*m+_+x)*(f*D)+(-3*d+3*m-2*_-x)*D+_*f+d}function zd(f,l,d,m){return function ID(f,l){const d=1-f;return d*d*l}(f,l)+function H8(f,l){return 2*(1-f)*f*l}(f,d)+function uF(f,l){return f*f*l}(f,m)}function rv(f,l,d,m,v){return function cF(f,l){const d=1-f;return d*d*d*l}(f,l)+function ND(f,l){const d=1-f;return 3*d*d*f*l}(f,d)+function $0(f,l){return 3*(1-f)*f*f*l}(f,m)+function dF(f,l){return f*f*f*l}(f,v)}LD.prototype.isCatmullRomCurve3=!0;class X0 extends Sl{constructor(l=new _n,d=new _n,m=new _n,v=new _n){super(),this.type="CubicBezierCurve",this.v0=l,this.v1=d,this.v2=m,this.v3=v}getPoint(l,d=new _n){const m=d,v=this.v0,_=this.v1,x=this.v2,D=this.v3;return m.set(rv(l,v.x,_.x,x.x,D.x),rv(l,v.y,_.y,x.y,D.y)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this.v3.copy(l.v3),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l.v3=this.v3.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this.v3.fromArray(l.v3),this}}X0.prototype.isCubicBezierCurve=!0;class lE extends Sl{constructor(l=new Ce,d=new Ce,m=new Ce,v=new Ce){super(),this.type="CubicBezierCurve3",this.v0=l,this.v1=d,this.v2=m,this.v3=v}getPoint(l,d=new Ce){const m=d,v=this.v0,_=this.v1,x=this.v2,D=this.v3;return m.set(rv(l,v.x,_.x,x.x,D.x),rv(l,v.y,_.y,x.y,D.y),rv(l,v.z,_.z,x.z,D.z)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this.v3.copy(l.v3),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l.v3=this.v3.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this.v3.fromArray(l.v3),this}}lE.prototype.isCubicBezierCurve3=!0;class A_ extends Sl{constructor(l=new _n,d=new _n){super(),this.type="LineCurve",this.v1=l,this.v2=d}getPoint(l,d=new _n){const m=d;return 1===l?m.copy(this.v2):(m.copy(this.v2).sub(this.v1),m.multiplyScalar(l).add(this.v1)),m}getPointAt(l,d){return this.getPoint(l,d)}getTangent(l,d){const m=d||new _n;return m.copy(this.v2).sub(this.v1).normalize(),m}copy(l){return super.copy(l),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}A_.prototype.isLineCurve=!0;class FD extends Sl{constructor(l=new Ce,d=new Ce){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=l,this.v2=d}getPoint(l,d=new Ce){const m=d;return 1===l?m.copy(this.v2):(m.copy(this.v2).sub(this.v1),m.multiplyScalar(l).add(this.v1)),m}getPointAt(l,d){return this.getPoint(l,d)}copy(l){return super.copy(l),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}class K0 extends Sl{constructor(l=new _n,d=new _n,m=new _n){super(),this.type="QuadraticBezierCurve",this.v0=l,this.v1=d,this.v2=m}getPoint(l,d=new _n){const m=d,v=this.v0,_=this.v1,x=this.v2;return m.set(zd(l,v.x,_.x,x.x),zd(l,v.y,_.y,x.y)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}K0.prototype.isQuadraticBezierCurve=!0;class Z0 extends Sl{constructor(l=new Ce,d=new Ce,m=new Ce){super(),this.type="QuadraticBezierCurve3",this.v0=l,this.v1=d,this.v2=m}getPoint(l,d=new Ce){const m=d,v=this.v0,_=this.v1,x=this.v2;return m.set(zd(l,v.x,_.x,x.x),zd(l,v.y,_.y,x.y),zd(l,v.z,_.z,x.z)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}Z0.prototype.isQuadraticBezierCurve3=!0;class q0 extends Sl{constructor(l=[]){super(),this.type="SplineCurve",this.points=l}getPoint(l,d=new _n){const m=d,v=this.points,_=(v.length-1)*l,x=Math.floor(_),D=_-x,k=v[0===x?x:x-1],O=v[x],U=v[x>v.length-2?v.length-1:x+1],H=v[x>v.length-3?v.length-1:x+2];return m.set(PD(D,k.x,O.x,U.x,H.x),PD(D,k.y,O.y,U.y,H.y)),m}copy(l){super.copy(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++)this.points.push(l.points[d].clone());return this}toJSON(){const l=super.toJSON();l.points=[];for(let d=0,m=this.points.length;d<m;d++)l.points.push(this.points[d].toArray());return l}fromJSON(l){super.fromJSON(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++){const v=l.points[d];this.points.push((new _n).fromArray(v))}return this}}q0.prototype.isSplineCurve=!0;var J0=Object.freeze({__proto__:null,ArcCurve:sE,CatmullRomCurve3:LD,CubicBezierCurve:X0,CubicBezierCurve3:lE,EllipseCurve:Cs,LineCurve:A_,LineCurve3:FD,QuadraticBezierCurve:K0,QuadraticBezierCurve3:Z0,SplineCurve:q0});class uE extends Sl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(l){this.curves.push(l)}closePath(){const l=this.curves[0].getPoint(0),d=this.curves[this.curves.length-1].getPoint(1);l.equals(d)||this.curves.push(new A_(d,l))}getPoint(l){const d=l*this.getLength(),m=this.getCurveLengths();let v=0;for(;v<m.length;){if(m[v]>=d){const _=m[v]-d,x=this.curves[v],D=x.getLength();return x.getPointAt(0===D?0:1-_/D)}v++}return null}getLength(){const l=this.getCurveLengths();return l[l.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const l=[];let d=0;for(let m=0,v=this.curves.length;m<v;m++)d+=this.curves[m].getLength(),l.push(d);return this.cacheLengths=l,l}getSpacedPoints(l=40){const d=[];for(let m=0;m<=l;m++)d.push(this.getPoint(m/l));return this.autoClose&&d.push(d[0]),d}getPoints(l=12){const d=[];let m;for(let v=0,_=this.curves;v<_.length;v++){const x=_[v],k=x.getPoints(x&&x.isEllipseCurve?2*l:x&&(x.isLineCurve||x.isLineCurve3)?1:x&&x.isSplineCurve?l*x.points.length:l);for(let O=0;O<k.length;O++){const U=k[O];m&&m.equals(U)||(d.push(U),m=U)}}return this.autoClose&&d.length>1&&!d[d.length-1].equals(d[0])&&d.push(d[0]),d}copy(l){super.copy(l),this.curves=[];for(let d=0,m=l.curves.length;d<m;d++)this.curves.push(l.curves[d].clone());return this.autoClose=l.autoClose,this}toJSON(){const l=super.toJSON();l.autoClose=this.autoClose,l.curves=[];for(let d=0,m=this.curves.length;d<m;d++)l.curves.push(this.curves[d].toJSON());return l}fromJSON(l){super.fromJSON(l),this.autoClose=l.autoClose,this.curves=[];for(let d=0,m=l.curves.length;d<m;d++){const v=l.curves[d];this.curves.push((new J0[v.type]).fromJSON(v))}return this}}class qp extends uE{constructor(l){super(),this.type="Path",this.currentPoint=new _n,l&&this.setFromPoints(l)}setFromPoints(l){this.moveTo(l[0].x,l[0].y);for(let d=1,m=l.length;d<m;d++)this.lineTo(l[d].x,l[d].y);return this}moveTo(l,d){return this.currentPoint.set(l,d),this}lineTo(l,d){const m=new A_(this.currentPoint.clone(),new _n(l,d));return this.curves.push(m),this.currentPoint.set(l,d),this}quadraticCurveTo(l,d,m,v){const _=new K0(this.currentPoint.clone(),new _n(l,d),new _n(m,v));return this.curves.push(_),this.currentPoint.set(m,v),this}bezierCurveTo(l,d,m,v,_,x){const D=new X0(this.currentPoint.clone(),new _n(l,d),new _n(m,v),new _n(_,x));return this.curves.push(D),this.currentPoint.set(_,x),this}splineThru(l){const d=[this.currentPoint.clone()].concat(l),m=new q0(d);return this.curves.push(m),this.currentPoint.copy(l[l.length-1]),this}arc(l,d,m,v,_,x){return this.absarc(l+this.currentPoint.x,d+this.currentPoint.y,m,v,_,x),this}absarc(l,d,m,v,_,x){return this.absellipse(l,d,m,m,v,_,x),this}ellipse(l,d,m,v,_,x,D,k){return this.absellipse(l+this.currentPoint.x,d+this.currentPoint.y,m,v,_,x,D,k),this}absellipse(l,d,m,v,_,x,D,k){const O=new Cs(l,d,m,v,_,x,D,k);if(this.curves.length>0){const H=O.getPoint(0);H.equals(this.currentPoint)||this.lineTo(H.x,H.y)}this.curves.push(O);const U=O.getPoint(1);return this.currentPoint.copy(U),this}copy(l){return super.copy(l),this.currentPoint.copy(l.currentPoint),this}toJSON(){const l=super.toJSON();return l.currentPoint=this.currentPoint.toArray(),l}fromJSON(l){return super.fromJSON(l),this.currentPoint.fromArray(l.currentPoint),this}}class Jp extends qp{constructor(l){super(l),this.uuid=Dr.generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(l){const d=[];for(let m=0,v=this.holes.length;m<v;m++)d[m]=this.holes[m].getPoints(l);return d}extractPoints(l){return{shape:this.getPoints(l),holes:this.getPointsHoles(l)}}copy(l){super.copy(l),this.holes=[];for(let d=0,m=l.holes.length;d<m;d++)this.holes.push(l.holes[d].clone());return this}toJSON(){const l=super.toJSON();l.uuid=this.uuid,l.holes=[];for(let d=0,m=this.holes.length;d<m;d++)l.holes.push(this.holes[d].toJSON());return l}fromJSON(l){super.fromJSON(l),this.uuid=l.uuid,this.holes=[];for(let d=0,m=l.holes.length;d<m;d++){const v=l.holes[d];this.holes.push((new qp).fromJSON(v))}return this}}class Pu extends Zr{constructor(l,d=1){super(),this.type="Light",this.color=new hr(l),this.intensity=d}copy(l){return super.copy(l),this.color.copy(l.color),this.intensity=l.intensity,this}toJSON(l){const d=super.toJSON(l);return d.object.color=this.color.getHex(),d.object.intensity=this.intensity,void 0!==this.groundColor&&(d.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(d.object.distance=this.distance),void 0!==this.angle&&(d.object.angle=this.angle),void 0!==this.decay&&(d.object.decay=this.decay),void 0!==this.penumbra&&(d.object.penumbra=this.penumbra),void 0!==this.shadow&&(d.object.shadow=this.shadow.toJSON()),d}}Pu.prototype.isLight=!0;class cE extends Pu{constructor(l,d,m){super(l,m),this.type="HemisphereLight",this.position.copy(Zr.DefaultUp),this.updateMatrix(),this.groundColor=new hr(d)}copy(l){return Pu.prototype.copy.call(this,l),this.groundColor.copy(l.groundColor),this}}cE.prototype.isHemisphereLight=!0;const hF=new Br,ke=new Ce,iv=new Ce;class Q0{constructor(l){this.camera=l,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new _n(512,512),this.map=null,this.mapPass=null,this.matrix=new Br,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new kd,this._frameExtents=new _n(1,1),this._viewportCount=1,this._viewports=[new Di(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(l){const d=this.camera,m=this.matrix;ke.setFromMatrixPosition(l.matrixWorld),d.position.copy(ke),iv.setFromMatrixPosition(l.target.matrixWorld),d.lookAt(iv),d.updateMatrixWorld(),hF.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hF),m.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),m.multiply(d.projectionMatrix),m.multiply(d.matrixWorldInverse)}getViewport(l){return this._viewports[l]}getFrameExtents(){return this._frameExtents}copy(l){return this.camera=l.camera.clone(),this.bias=l.bias,this.radius=l.radius,this.mapSize.copy(l.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const l={};return 0!==this.bias&&(l.bias=this.bias),0!==this.normalBias&&(l.normalBias=this.normalBias),1!==this.radius&&(l.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(l.mapSize=this.mapSize.toArray()),l.camera=this.camera.toJSON(!1).object,delete l.camera.matrix,l}}class O_ extends Q0{constructor(){super(new ss(50,1,.5,500)),this.focus=1}updateMatrices(l){const d=this.camera,m=2*Dr.RAD2DEG*l.angle*this.focus,v=this.mapSize.width/this.mapSize.height,_=l.distance||d.far;(m!==d.fov||v!==d.aspect||_!==d.far)&&(d.fov=m,d.aspect=v,d.far=_,d.updateProjectionMatrix()),super.updateMatrices(l)}}O_.prototype.isSpotLightShadow=!0;class Iu extends Pu{constructor(l,d,m=0,v=Math.PI/3,_=0,x=1){super(l,d),this.type="SpotLight",this.position.copy(Zr.DefaultUp),this.updateMatrix(),this.target=new Zr,this.distance=m,this.angle=v,this.penumbra=_,this.decay=x,this.shadow=new O_}get power(){return this.intensity*Math.PI}set power(l){this.intensity=l/Math.PI}copy(l){return super.copy(l),this.distance=l.distance,this.angle=l.angle,this.penumbra=l.penumbra,this.decay=l.decay,this.target=l.target.clone(),this.shadow=l.shadow.clone(),this}}Iu.prototype.isSpotLight=!0;const dE=new Br,k_=new Ce,L_=new Ce;class Ud extends Q0{constructor(){super(new ss(90,1,.5,500)),this._frameExtents=new _n(4,2),this._viewportCount=6,this._viewports=[new Di(2,1,1,1),new Di(0,1,1,1),new Di(3,1,1,1),new Di(1,1,1,1),new Di(3,0,1,1),new Di(1,0,1,1)],this._cubeDirections=[new Ce(1,0,0),new Ce(-1,0,0),new Ce(0,0,1),new Ce(0,0,-1),new Ce(0,1,0),new Ce(0,-1,0)],this._cubeUps=[new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,0,1),new Ce(0,0,-1)]}updateMatrices(l,d=0){const m=this.camera,v=this.matrix;k_.setFromMatrixPosition(l.matrixWorld),m.position.copy(k_),L_.copy(m.position),L_.add(this._cubeDirections[d]),m.up.copy(this._cubeUps[d]),m.lookAt(L_),m.updateMatrixWorld(),v.makeTranslation(-k_.x,-k_.y,-k_.z),dE.multiplyMatrices(m.projectionMatrix,m.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dE)}}Ud.prototype.isPointLightShadow=!0;class P_ extends Pu{constructor(l,d,m=0,v=1){super(l,d),this.type="PointLight",this.distance=m,this.decay=v,this.shadow=new Ud}get power(){return 4*this.intensity*Math.PI}set power(l){this.intensity=l/(4*Math.PI)}copy(l){return super.copy(l),this.distance=l.distance,this.decay=l.decay,this.shadow=l.shadow.clone(),this}}P_.prototype.isPointLight=!0;class ov extends Uo{constructor(l=-1,d=1,m=1,v=-1,_=.1,x=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=l,this.right=d,this.top=m,this.bottom=v,this.near=_,this.far=x,this.updateProjectionMatrix()}copy(l,d){return super.copy(l,d),this.left=l.left,this.right=l.right,this.top=l.top,this.bottom=l.bottom,this.near=l.near,this.far=l.far,this.zoom=l.zoom,this.view=null===l.view?null:Object.assign({},l.view),this}setViewOffset(l,d,m,v,_,x){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=l,this.view.fullHeight=d,this.view.offsetX=m,this.view.offsetY=v,this.view.width=_,this.view.height=x,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const l=(this.right-this.left)/(2*this.zoom),d=(this.top-this.bottom)/(2*this.zoom),m=(this.right+this.left)/2,v=(this.top+this.bottom)/2;let _=m-l,x=m+l,D=v+d,k=v-d;if(null!==this.view&&this.view.enabled){const O=(this.right-this.left)/this.view.fullWidth/this.zoom,U=(this.top-this.bottom)/this.view.fullHeight/this.zoom;_+=O*this.view.offsetX,x=_+O*this.view.width,D-=U*this.view.offsetY,k=D-U*this.view.height}this.projectionMatrix.makeOrthographic(_,x,D,k,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(l){const d=Zr.prototype.toJSON.call(this,l);return d.object.zoom=this.zoom,d.object.left=this.left,d.object.right=this.right,d.object.top=this.top,d.object.bottom=this.bottom,d.object.near=this.near,d.object.far=this.far,null!==this.view&&(d.object.view=Object.assign({},this.view)),d}}ov.prototype.isOrthographicCamera=!0;class eM extends Q0{constructor(){super(new ov(-5,5,5,-5,.5,500))}}eM.prototype.isDirectionalLightShadow=!0;class HD extends Pu{constructor(l,d){super(l,d),this.type="DirectionalLight",this.position.copy(Zr.DefaultUp),this.updateMatrix(),this.target=new Zr,this.shadow=new eM}copy(l){return super.copy(l),this.target=l.target.clone(),this.shadow=l.shadow.clone(),this}}HD.prototype.isDirectionalLight=!0;class tM extends Pu{constructor(l,d){super(l,d),this.type="AmbientLight"}}tM.prototype.isAmbientLight=!0;class BD extends Pu{constructor(l,d,m=10,v=10){super(l,d),this.type="RectAreaLight",this.width=m,this.height=v}copy(l){return super.copy(l),this.width=l.width,this.height=l.height,this}toJSON(l){const d=super.toJSON(l);return d.object.width=this.width,d.object.height=this.height,d}}BD.prototype.isRectAreaLight=!0;class sv{constructor(){this.coefficients=[];for(let l=0;l<9;l++)this.coefficients.push(new Ce)}set(l){for(let d=0;d<9;d++)this.coefficients[d].copy(l[d]);return this}zero(){for(let l=0;l<9;l++)this.coefficients[l].set(0,0,0);return this}getAt(l,d){const m=l.x,v=l.y,_=l.z,x=this.coefficients;return d.copy(x[0]).multiplyScalar(.282095),d.addScaledVector(x[1],.488603*v),d.addScaledVector(x[2],.488603*_),d.addScaledVector(x[3],.488603*m),d.addScaledVector(x[4],m*v*1.092548),d.addScaledVector(x[5],v*_*1.092548),d.addScaledVector(x[6],.315392*(3*_*_-1)),d.addScaledVector(x[7],m*_*1.092548),d.addScaledVector(x[8],.546274*(m*m-v*v)),d}getIrradianceAt(l,d){const m=l.x,v=l.y,_=l.z,x=this.coefficients;return d.copy(x[0]).multiplyScalar(.886227),d.addScaledVector(x[1],1.023328*v),d.addScaledVector(x[2],1.023328*_),d.addScaledVector(x[3],1.023328*m),d.addScaledVector(x[4],.858086*m*v),d.addScaledVector(x[5],.858086*v*_),d.addScaledVector(x[6],.743125*_*_-.247708),d.addScaledVector(x[7],.858086*m*_),d.addScaledVector(x[8],.429043*(m*m-v*v)),d}add(l){for(let d=0;d<9;d++)this.coefficients[d].add(l.coefficients[d]);return this}addScaledSH(l,d){for(let m=0;m<9;m++)this.coefficients[m].addScaledVector(l.coefficients[m],d);return this}scale(l){for(let d=0;d<9;d++)this.coefficients[d].multiplyScalar(l);return this}lerp(l,d){for(let m=0;m<9;m++)this.coefficients[m].lerp(l.coefficients[m],d);return this}equals(l){for(let d=0;d<9;d++)if(!this.coefficients[d].equals(l.coefficients[d]))return!1;return!0}copy(l){return this.set(l.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(l,d=0){const m=this.coefficients;for(let v=0;v<9;v++)m[v].fromArray(l,d+3*v);return this}toArray(l=[],d=0){const m=this.coefficients;for(let v=0;v<9;v++)m[v].toArray(l,d+3*v);return l}static getBasisAt(l,d){const m=l.x,v=l.y,_=l.z;d[0]=.282095,d[1]=.488603*v,d[2]=.488603*_,d[3]=.488603*m,d[4]=1.092548*m*v,d[5]=1.092548*v*_,d[6]=.315392*(3*_*_-1),d[7]=1.092548*m*_,d[8]=.546274*(m*m-v*v)}}sv.prototype.isSphericalHarmonics3=!0;class If extends Pu{constructor(l=new sv,d=1){super(void 0,d),this.sh=l}copy(l){return super.copy(l),this.sh.copy(l.sh),this}fromJSON(l){return this.intensity=l.intensity,this.sh.fromArray(l.sh),this}toJSON(l){const d=super.toJSON(l);return d.object.sh=this.sh.toArray(),d}}If.prototype.isLightProbe=!0;class nM extends Xs{constructor(l){super(l),this.textures={}}load(l,d,m,v){const _=this,x=new Lu(_.manager);x.setPath(_.path),x.setRequestHeader(_.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(k){v?v(k):console.error(k),_.manager.itemError(l)}},m,v)}parse(l){const d=this.textures;function m(_){return void 0===d[_]&&console.warn("THREE.MaterialLoader: Undefined texture",_),d[_]}const v=new DD[l.type];if(void 0!==l.uuid&&(v.uuid=l.uuid),void 0!==l.name&&(v.name=l.name),void 0!==l.color&&void 0!==v.color&&v.color.setHex(l.color),void 0!==l.roughness&&(v.roughness=l.roughness),void 0!==l.metalness&&(v.metalness=l.metalness),void 0!==l.sheen&&(v.sheen=(new hr).setHex(l.sheen)),void 0!==l.emissive&&void 0!==v.emissive&&v.emissive.setHex(l.emissive),void 0!==l.specular&&void 0!==v.specular&&v.specular.setHex(l.specular),void 0!==l.shininess&&(v.shininess=l.shininess),void 0!==l.clearcoat&&(v.clearcoat=l.clearcoat),void 0!==l.clearcoatRoughness&&(v.clearcoatRoughness=l.clearcoatRoughness),void 0!==l.fog&&(v.fog=l.fog),void 0!==l.flatShading&&(v.flatShading=l.flatShading),void 0!==l.blending&&(v.blending=l.blending),void 0!==l.combine&&(v.combine=l.combine),void 0!==l.side&&(v.side=l.side),void 0!==l.opacity&&(v.opacity=l.opacity),void 0!==l.transparent&&(v.transparent=l.transparent),void 0!==l.alphaTest&&(v.alphaTest=l.alphaTest),void 0!==l.depthTest&&(v.depthTest=l.depthTest),void 0!==l.depthWrite&&(v.depthWrite=l.depthWrite),void 0!==l.colorWrite&&(v.colorWrite=l.colorWrite),void 0!==l.stencilWrite&&(v.stencilWrite=l.stencilWrite),void 0!==l.stencilWriteMask&&(v.stencilWriteMask=l.stencilWriteMask),void 0!==l.stencilFunc&&(v.stencilFunc=l.stencilFunc),void 0!==l.stencilRef&&(v.stencilRef=l.stencilRef),void 0!==l.stencilFuncMask&&(v.stencilFuncMask=l.stencilFuncMask),void 0!==l.stencilFail&&(v.stencilFail=l.stencilFail),void 0!==l.stencilZFail&&(v.stencilZFail=l.stencilZFail),void 0!==l.stencilZPass&&(v.stencilZPass=l.stencilZPass),void 0!==l.wireframe&&(v.wireframe=l.wireframe),void 0!==l.wireframeLinewidth&&(v.wireframeLinewidth=l.wireframeLinewidth),void 0!==l.wireframeLinecap&&(v.wireframeLinecap=l.wireframeLinecap),void 0!==l.wireframeLinejoin&&(v.wireframeLinejoin=l.wireframeLinejoin),void 0!==l.rotation&&(v.rotation=l.rotation),1!==l.linewidth&&(v.linewidth=l.linewidth),void 0!==l.dashSize&&(v.dashSize=l.dashSize),void 0!==l.gapSize&&(v.gapSize=l.gapSize),void 0!==l.scale&&(v.scale=l.scale),void 0!==l.polygonOffset&&(v.polygonOffset=l.polygonOffset),void 0!==l.polygonOffsetFactor&&(v.polygonOffsetFactor=l.polygonOffsetFactor),void 0!==l.polygonOffsetUnits&&(v.polygonOffsetUnits=l.polygonOffsetUnits),void 0!==l.skinning&&(v.skinning=l.skinning),void 0!==l.morphTargets&&(v.morphTargets=l.morphTargets),void 0!==l.morphNormals&&(v.morphNormals=l.morphNormals),void 0!==l.dithering&&(v.dithering=l.dithering),void 0!==l.vertexTangents&&(v.vertexTangents=l.vertexTangents),void 0!==l.visible&&(v.visible=l.visible),void 0!==l.toneMapped&&(v.toneMapped=l.toneMapped),void 0!==l.userData&&(v.userData=l.userData),void 0!==l.vertexColors&&(v.vertexColors="number"==typeof l.vertexColors?l.vertexColors>0:l.vertexColors),void 0!==l.uniforms)for(const _ in l.uniforms){const x=l.uniforms[_];switch(v.uniforms[_]={},x.type){case"t":v.uniforms[_].value=m(x.value);break;case"c":v.uniforms[_].value=(new hr).setHex(x.value);break;case"v2":v.uniforms[_].value=(new _n).fromArray(x.value);break;case"v3":v.uniforms[_].value=(new Ce).fromArray(x.value);break;case"v4":v.uniforms[_].value=(new Di).fromArray(x.value);break;case"m3":v.uniforms[_].value=(new Os).fromArray(x.value);break;case"m4":v.uniforms[_].value=(new Br).fromArray(x.value);break;default:v.uniforms[_].value=x.value}}if(void 0!==l.defines&&(v.defines=l.defines),void 0!==l.vertexShader&&(v.vertexShader=l.vertexShader),void 0!==l.fragmentShader&&(v.fragmentShader=l.fragmentShader),void 0!==l.extensions)for(const _ in l.extensions)v.extensions[_]=l.extensions[_];if(void 0!==l.shading&&(v.flatShading=1===l.shading),void 0!==l.size&&(v.size=l.size),void 0!==l.sizeAttenuation&&(v.sizeAttenuation=l.sizeAttenuation),void 0!==l.map&&(v.map=m(l.map)),void 0!==l.matcap&&(v.matcap=m(l.matcap)),void 0!==l.alphaMap&&(v.alphaMap=m(l.alphaMap)),void 0!==l.bumpMap&&(v.bumpMap=m(l.bumpMap)),void 0!==l.bumpScale&&(v.bumpScale=l.bumpScale),void 0!==l.normalMap&&(v.normalMap=m(l.normalMap)),void 0!==l.normalMapType&&(v.normalMapType=l.normalMapType),void 0!==l.normalScale){let _=l.normalScale;!1===Array.isArray(_)&&(_=[_,_]),v.normalScale=(new _n).fromArray(_)}return void 0!==l.displacementMap&&(v.displacementMap=m(l.displacementMap)),void 0!==l.displacementScale&&(v.displacementScale=l.displacementScale),void 0!==l.displacementBias&&(v.displacementBias=l.displacementBias),void 0!==l.roughnessMap&&(v.roughnessMap=m(l.roughnessMap)),void 0!==l.metalnessMap&&(v.metalnessMap=m(l.metalnessMap)),void 0!==l.emissiveMap&&(v.emissiveMap=m(l.emissiveMap)),void 0!==l.emissiveIntensity&&(v.emissiveIntensity=l.emissiveIntensity),void 0!==l.specularMap&&(v.specularMap=m(l.specularMap)),void 0!==l.envMap&&(v.envMap=m(l.envMap)),void 0!==l.envMapIntensity&&(v.envMapIntensity=l.envMapIntensity),void 0!==l.reflectivity&&(v.reflectivity=l.reflectivity),void 0!==l.refractionRatio&&(v.refractionRatio=l.refractionRatio),void 0!==l.lightMap&&(v.lightMap=m(l.lightMap)),void 0!==l.lightMapIntensity&&(v.lightMapIntensity=l.lightMapIntensity),void 0!==l.aoMap&&(v.aoMap=m(l.aoMap)),void 0!==l.aoMapIntensity&&(v.aoMapIntensity=l.aoMapIntensity),void 0!==l.gradientMap&&(v.gradientMap=m(l.gradientMap)),void 0!==l.clearcoatMap&&(v.clearcoatMap=m(l.clearcoatMap)),void 0!==l.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap=m(l.clearcoatRoughnessMap)),void 0!==l.clearcoatNormalMap&&(v.clearcoatNormalMap=m(l.clearcoatNormalMap)),void 0!==l.clearcoatNormalScale&&(v.clearcoatNormalScale=(new _n).fromArray(l.clearcoatNormalScale)),void 0!==l.transmission&&(v.transmission=l.transmission),void 0!==l.transmissionMap&&(v.transmissionMap=m(l.transmissionMap)),v}setTextures(l){return this.textures=l,this}}const I_={decodeText:function(f){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(f);let l="";for(let d=0,m=f.length;d<m;d++)l+=String.fromCharCode(f[d]);try{return decodeURIComponent(escape(l))}catch(d){return l}},extractUrlBase:function(f){const l=f.lastIndexOf("/");return-1===l?"./":f.substr(0,l+1)}};function Qp(){Vr.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function hE(f,l,d,m){"number"==typeof d&&(m=d,d=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),qr.call(this,f,l,d),this.meshPerAttribute=m||1}Qp.prototype=Object.assign(Object.create(Vr.prototype),{constructor:Qp,isInstancedBufferGeometry:!0,copy:function(f){return Vr.prototype.copy.call(this,f),this.instanceCount=f.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const f=Vr.prototype.toJSON.call(this);return f.instanceCount=this.instanceCount,f.isInstancedBufferGeometry=!0,f}}),hE.prototype=Object.assign(Object.create(qr.prototype),{constructor:hE,isInstancedBufferAttribute:!0,copy:function(f){return qr.prototype.copy.call(this,f),this.meshPerAttribute=f.meshPerAttribute,this},toJSON:function(){const f=qr.prototype.toJSON.call(this);return f.meshPerAttribute=this.meshPerAttribute,f.isInstancedBufferAttribute=!0,f}});class VD extends Xs{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Lu(_.manager);x.setPath(_.path),x.setRequestHeader(_.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(k){v?v(k):console.error(k),_.manager.itemError(l)}},m,v)}parse(l){const d={},m={};function v(W,J){if(void 0!==d[J])return d[J];const se=W.interleavedBuffers[J],ie=function _(W,J){if(void 0!==m[J])return m[J];const ie=new Uint32Array(W.arrayBuffers[J]).buffer;return m[J]=ie,ie}(W,se.buffer),Re=new au(da(se.type,ie),se.stride);return Re.uuid=se.uuid,d[J]=Re,Re}const x=l.isInstancedBufferGeometry?new Qp:new Vr,D=l.data.index;if(void 0!==D){const W=da(D.type,D.array);x.setIndex(new qr(W,1))}const k=l.data.attributes;for(const W in k){const J=k[W];let ee;if(J.isInterleavedBufferAttribute)ee=new pc(v(l.data,J.data),J.itemSize,J.offset,J.normalized);else{const se=da(J.type,J.array);ee=new(J.isInstancedBufferAttribute?hE:qr)(se,J.itemSize,J.normalized)}void 0!==J.name&&(ee.name=J.name),x.setAttribute(W,ee)}const O=l.data.morphAttributes;if(O)for(const W in O){const J=O[W],ee=[];for(let se=0,ie=J.length;se<ie;se++){const X=J[se];let Re;Re=X.isInterleavedBufferAttribute?new pc(v(l.data,X.data),X.itemSize,X.offset,X.normalized):new qr(da(X.type,X.array),X.itemSize,X.normalized),void 0!==X.name&&(Re.name=X.name),ee.push(Re)}x.morphAttributes[W]=ee}l.data.morphTargetsRelative&&(x.morphTargetsRelative=!0);const H=l.data.groups||l.data.drawcalls||l.data.offsets;if(void 0!==H)for(let W=0,J=H.length;W!==J;++W){const ee=H[W];x.addGroup(ee.start,ee.count,ee.materialIndex)}const V=l.data.boundingSphere;if(void 0!==V){const W=new Ce;void 0!==V.center&&W.fromArray(V.center),x.boundingSphere=new Cd(W,V.radius)}return l.name&&(x.name=l.name),l.userData&&(x.userData=l.userData),x}}class fF extends Xs{constructor(l){super(l)}load(l,d,m,v){const _=this,x=""===this.path?I_.extractUrlBase(l):this.path;this.resourcePath=this.resourcePath||x;const D=new Lu(this.manager);D.setPath(this.path),D.setRequestHeader(this.requestHeader),D.setWithCredentials(this.withCredentials),D.load(l,function(k){let O=null;try{O=JSON.parse(k)}catch(H){return void 0!==v&&v(H),void console.error("THREE:ObjectLoader: Can't parse "+l+".",H.message)}const U=O.metadata;void 0!==U&&void 0!==U.type&&"geometry"!==U.type.toLowerCase()?_.parse(O,d):console.error("THREE.ObjectLoader: Can't load "+l)},m,v)}parse(l,d){const m=this.parseAnimations(l.animations),v=this.parseShapes(l.shapes),_=this.parseGeometries(l.geometries,v),x=this.parseImages(l.images,function(){void 0!==d&&d(O)}),D=this.parseTextures(l.textures,x),k=this.parseMaterials(l.materials,D),O=this.parseObject(l.object,_,k,m),U=this.parseSkeletons(l.skeletons,O);if(this.bindSkeletons(O,U),void 0!==d){let H=!1;for(const V in x)if(x[V]instanceof HTMLImageElement){H=!0;break}!1===H&&d(O)}return O}parseShapes(l){const d={};if(void 0!==l)for(let m=0,v=l.length;m<v;m++){const _=(new Jp).fromJSON(l[m]);d[_.uuid]=_}return d}parseSkeletons(l,d){const m={},v={};if(d.traverse(function(_){_.isBone&&(v[_.uuid]=_)}),void 0!==l)for(let _=0,x=l.length;_<x;_++){const D=(new f_).fromJSON(l[_],v);m[D.uuid]=D}return m}parseGeometries(l,d){const m={};let v;if(void 0!==l){const _=new VD;for(let x=0,D=l.length;x<D;x++){let k;const O=l[x];switch(O.type){case"PlaneGeometry":case"PlaneBufferGeometry":k=new Ml[O.type](O.width,O.height,O.widthSegments,O.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":k=new Ml[O.type](O.width,O.height,O.depth,O.widthSegments,O.heightSegments,O.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":k=new Ml[O.type](O.radius,O.segments,O.thetaStart,O.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":k=new Ml[O.type](O.radiusTop,O.radiusBottom,O.height,O.radialSegments,O.heightSegments,O.openEnded,O.thetaStart,O.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":k=new Ml[O.type](O.radius,O.height,O.radialSegments,O.heightSegments,O.openEnded,O.thetaStart,O.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":k=new Ml[O.type](O.radius,O.widthSegments,O.heightSegments,O.phiStart,O.phiLength,O.thetaStart,O.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":k=new Ml[O.type](O.radius,O.detail);break;case"RingGeometry":case"RingBufferGeometry":k=new Ml[O.type](O.innerRadius,O.outerRadius,O.thetaSegments,O.phiSegments,O.thetaStart,O.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":k=new Ml[O.type](O.radius,O.tube,O.radialSegments,O.tubularSegments,O.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":k=new Ml[O.type](O.radius,O.tube,O.tubularSegments,O.radialSegments,O.p,O.q);break;case"TubeGeometry":case"TubeBufferGeometry":k=new Ml[O.type]((new J0[O.path.type]).fromJSON(O.path),O.tubularSegments,O.radius,O.radialSegments,O.closed);break;case"LatheGeometry":case"LatheBufferGeometry":k=new Ml[O.type](O.points,O.segments,O.phiStart,O.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":k=new Ml[O.type](O.vertices,O.indices,O.radius,O.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":v=[];for(let H=0,V=O.shapes.length;H<V;H++)v.push(d[O.shapes[H]]);k=new Ml[O.type](v,O.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":v=[];for(let H=0,V=O.shapes.length;H<V;H++)v.push(d[O.shapes[H]]);const U=O.options.extrudePath;void 0!==U&&(O.options.extrudePath=(new J0[U.type]).fromJSON(U)),k=new Ml[O.type](v,O.options);break;case"BufferGeometry":case"InstancedBufferGeometry":k=_.parse(O);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+O.type+'"');continue}k.uuid=O.uuid,void 0!==O.name&&(k.name=O.name),!0===k.isBufferGeometry&&void 0!==O.userData&&(k.userData=O.userData),m[O.uuid]=k}}return m}parseMaterials(l,d){const m={},v={};if(void 0!==l){const _=new nM;_.setTextures(d);for(let x=0,D=l.length;x<D;x++){const k=l[x];if("MultiMaterial"===k.type){const O=[];for(let U=0;U<k.materials.length;U++){const H=k.materials[U];void 0===m[H.uuid]&&(m[H.uuid]=_.parse(H)),O.push(m[H.uuid])}v[k.uuid]=O}else void 0===m[k.uuid]&&(m[k.uuid]=_.parse(k)),v[k.uuid]=m[k.uuid]}}return v}parseAnimations(l){const d={};if(void 0!==l)for(let m=0;m<l.length;m++){const _=T_.parse(l[m]);d[_.uuid]=_}return d}parseImages(l,d){const m=this,v={};let _;function D(k){if("string"==typeof k){const O=k;return function x(k){return m.manager.itemStart(k),_.load(k,function(){m.manager.itemEnd(k)},void 0,function(){m.manager.itemError(k),m.manager.itemEnd(k)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(O)?O:m.resourcePath+O)}return k.data?{data:da(k.type,k.data),width:k.width,height:k.height}:null}if(void 0!==l&&l.length>0){const k=new W0(d);_=new G0(k),_.setCrossOrigin(this.crossOrigin);for(let O=0,U=l.length;O<U;O++){const H=l[O],V=H.url;if(Array.isArray(V)){v[H.uuid]=[];for(let W=0,J=V.length;W<J;W++){const se=D(V[W]);null!==se&&(se instanceof HTMLImageElement?v[H.uuid].push(se):v[H.uuid].push(new $c(se.data,se.width,se.height)))}}else{const W=D(H.url);null!==W&&(v[H.uuid]=W)}}}return v}parseTextures(l,d){function m(_,x){return"number"==typeof _?_:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",_),x[_])}const v={};if(void 0!==l)for(let _=0,x=l.length;_<x;_++){const D=l[_];let k;void 0===D.image&&console.warn('THREE.ObjectLoader: No "image" specified for',D.uuid),void 0===d[D.image]&&console.warn("THREE.ObjectLoader: Undefined image",D.image);const O=d[D.image];Array.isArray(O)?(k=new Th(O),6===O.length&&(k.needsUpdate=!0)):(k=O&&O.data?new $c(O.data,O.width,O.height):new fo(O),O&&(k.needsUpdate=!0)),k.uuid=D.uuid,void 0!==D.name&&(k.name=D.name),void 0!==D.mapping&&(k.mapping=m(D.mapping,pF)),void 0!==D.offset&&k.offset.fromArray(D.offset),void 0!==D.repeat&&k.repeat.fromArray(D.repeat),void 0!==D.center&&k.center.fromArray(D.center),void 0!==D.rotation&&(k.rotation=D.rotation),void 0!==D.wrap&&(k.wrapS=m(D.wrap[0],zD),k.wrapT=m(D.wrap[1],zD)),void 0!==D.format&&(k.format=D.format),void 0!==D.type&&(k.type=D.type),void 0!==D.encoding&&(k.encoding=D.encoding),void 0!==D.minFilter&&(k.minFilter=m(D.minFilter,fE)),void 0!==D.magFilter&&(k.magFilter=m(D.magFilter,fE)),void 0!==D.anisotropy&&(k.anisotropy=D.anisotropy),void 0!==D.flipY&&(k.flipY=D.flipY),void 0!==D.premultiplyAlpha&&(k.premultiplyAlpha=D.premultiplyAlpha),void 0!==D.unpackAlignment&&(k.unpackAlignment=D.unpackAlignment),v[D.uuid]=k}return v}parseObject(l,d,m,v){let _,k,O;function x(U){return void 0===d[U]&&console.warn("THREE.ObjectLoader: Undefined geometry",U),d[U]}function D(U){if(void 0!==U){if(Array.isArray(U)){const H=[];for(let V=0,W=U.length;V<W;V++){const J=U[V];void 0===m[J]&&console.warn("THREE.ObjectLoader: Undefined material",J),H.push(m[J])}return H}return void 0===m[U]&&console.warn("THREE.ObjectLoader: Undefined material",U),m[U]}}switch(l.type){case"Scene":_=new wi,void 0!==l.background&&Number.isInteger(l.background)&&(_.background=new hr(l.background)),void 0!==l.fog&&("Fog"===l.fog.type?_.fog=new Id(l.fog.color,l.fog.near,l.fog.far):"FogExp2"===l.fog.type&&(_.fog=new u_(l.fog.color,l.fog.density)));break;case"PerspectiveCamera":_=new ss(l.fov,l.aspect,l.near,l.far),void 0!==l.focus&&(_.focus=l.focus),void 0!==l.zoom&&(_.zoom=l.zoom),void 0!==l.filmGauge&&(_.filmGauge=l.filmGauge),void 0!==l.filmOffset&&(_.filmOffset=l.filmOffset),void 0!==l.view&&(_.view=Object.assign({},l.view));break;case"OrthographicCamera":_=new ov(l.left,l.right,l.top,l.bottom,l.near,l.far),void 0!==l.zoom&&(_.zoom=l.zoom),void 0!==l.view&&(_.view=Object.assign({},l.view));break;case"AmbientLight":_=new tM(l.color,l.intensity);break;case"DirectionalLight":_=new HD(l.color,l.intensity);break;case"PointLight":_=new P_(l.color,l.intensity,l.distance,l.decay);break;case"RectAreaLight":_=new BD(l.color,l.intensity,l.width,l.height);break;case"SpotLight":_=new Iu(l.color,l.intensity,l.distance,l.angle,l.penumbra,l.decay);break;case"HemisphereLight":_=new cE(l.color,l.groundColor,l.intensity);break;case"LightProbe":_=(new If).fromJSON(l);break;case"SkinnedMesh":k=x(l.geometry),O=D(l.material),_=new h_(k,O),void 0!==l.bindMode&&(_.bindMode=l.bindMode),void 0!==l.bindMatrix&&_.bindMatrix.fromArray(l.bindMatrix),void 0!==l.skeleton&&(_.skeleton=l.skeleton);break;case"Mesh":k=x(l.geometry),O=D(l.material),_=new ln(k,O);break;case"InstancedMesh":k=x(l.geometry),O=D(l.material);const H=l.instanceMatrix;_=new _0(k,O,l.count),_.instanceMatrix=new qr(new Float32Array(H.array),16);break;case"LOD":_=new m0;break;case"Line":_=new Zc(x(l.geometry),D(l.material));break;case"LineLoop":_=new w0(x(l.geometry),D(l.material));break;case"LineSegments":_=new rl(x(l.geometry),D(l.material));break;case"PointCloud":case"Points":_=new Zg(x(l.geometry),D(l.material));break;case"Sprite":_=new HC(D(l.material));break;case"Group":_=new Wp;break;case"Bone":_=new Yp;break;default:_=new Zr}if(_.uuid=l.uuid,void 0!==l.name&&(_.name=l.name),void 0!==l.matrix?(_.matrix.fromArray(l.matrix),void 0!==l.matrixAutoUpdate&&(_.matrixAutoUpdate=l.matrixAutoUpdate),_.matrixAutoUpdate&&_.matrix.decompose(_.position,_.quaternion,_.scale)):(void 0!==l.position&&_.position.fromArray(l.position),void 0!==l.rotation&&_.rotation.fromArray(l.rotation),void 0!==l.quaternion&&_.quaternion.fromArray(l.quaternion),void 0!==l.scale&&_.scale.fromArray(l.scale)),void 0!==l.castShadow&&(_.castShadow=l.castShadow),void 0!==l.receiveShadow&&(_.receiveShadow=l.receiveShadow),l.shadow&&(void 0!==l.shadow.bias&&(_.shadow.bias=l.shadow.bias),void 0!==l.shadow.normalBias&&(_.shadow.normalBias=l.shadow.normalBias),void 0!==l.shadow.radius&&(_.shadow.radius=l.shadow.radius),void 0!==l.shadow.mapSize&&_.shadow.mapSize.fromArray(l.shadow.mapSize),void 0!==l.shadow.camera&&(_.shadow.camera=this.parseObject(l.shadow.camera))),void 0!==l.visible&&(_.visible=l.visible),void 0!==l.frustumCulled&&(_.frustumCulled=l.frustumCulled),void 0!==l.renderOrder&&(_.renderOrder=l.renderOrder),void 0!==l.userData&&(_.userData=l.userData),void 0!==l.layers&&(_.layers.mask=l.layers),void 0!==l.children){const U=l.children;for(let H=0;H<U.length;H++)_.add(this.parseObject(U[H],d,m,v))}if(void 0!==l.animations){const U=l.animations;for(let H=0;H<U.length;H++)_.animations.push(v[U[H]])}if("LOD"===l.type){void 0!==l.autoUpdate&&(_.autoUpdate=l.autoUpdate);const U=l.levels;for(let H=0;H<U.length;H++){const V=U[H],W=_.getObjectByProperty("uuid",V.object);void 0!==W&&_.addLevel(W,V.distance)}}return _}bindSkeletons(l,d){0!==Object.keys(d).length&&l.traverse(function(m){if(!0===m.isSkinnedMesh&&void 0!==m.skeleton){const v=d[m.skeleton];void 0===v?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",m.skeleton):m.bind(v,m.bindMatrix)}})}setTexturePath(l){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(l)}}const pF={UVMapping:lt,CubeReflectionMapping:qe,CubeRefractionMapping:Xe,EquirectangularReflectionMapping:Ze,EquirectangularRefractionMapping:yt,CubeUVReflectionMapping:mt,CubeUVRefractionMapping:Ct},zD={RepeatWrapping:qt,ClampToEdgeWrapping:hn,MirroredRepeatWrapping:Sn},fE={NearestFilter:Bn,NearestMipmapNearestFilter:br,NearestMipmapLinearFilter:ui,LinearFilter:Ii,LinearMipmapNearestFilter:vu,LinearMipmapLinearFilter:qi};function UD(f){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Xs.call(this,f),this.options={premultiplyAlpha:"none"}}UD.prototype=Object.assign(Object.create(Xs.prototype),{constructor:UD,isImageBitmapLoader:!0,setOptions:function(l){return this.options=l,this},load:function(f,l,d,m){void 0===f&&(f=""),void 0!==this.path&&(f=this.path+f),f=this.manager.resolveURL(f);const v=this,_=kr.get(f);if(void 0!==_)return v.manager.itemStart(f),setTimeout(function(){l&&l(_),v.manager.itemEnd(f)},0),_;const x={};x.credentials="anonymous"===this.crossOrigin?"same-origin":"include",x.headers=this.requestHeader,fetch(f,x).then(function(D){return D.blob()}).then(function(D){return createImageBitmap(D,Object.assign(v.options,{colorSpaceConversion:"none"}))}).then(function(D){kr.add(f,D),l&&l(D),v.manager.itemEnd(f)}).catch(function(D){m&&m(D),v.manager.itemError(f),v.manager.itemEnd(f)}),v.manager.itemStart(f)}});class jD{constructor(){this.type="ShapePath",this.color=new hr,this.subPaths=[],this.currentPath=null}moveTo(l,d){return this.currentPath=new qp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(l,d),this}lineTo(l,d){return this.currentPath.lineTo(l,d),this}quadraticCurveTo(l,d,m,v){return this.currentPath.quadraticCurveTo(l,d,m,v),this}bezierCurveTo(l,d,m,v,_,x){return this.currentPath.bezierCurveTo(l,d,m,v,_,x),this}splineThru(l){return this.currentPath.splineThru(l),this}toShapes(l,d){function m(X){const Re=[];for(let xe=0,Ve=X.length;xe<Ve;xe++){const Me=X[xe],tt=new Jp;tt.curves=Me.curves,Re.push(tt)}return Re}function v(X,Re){const xe=Re.length;let Ve=!1;for(let Me=xe-1,tt=0;tt<xe;Me=tt++){let At=Re[Me],wt=Re[tt],st=wt.x-At.x,Ut=wt.y-At.y;if(Math.abs(Ut)>Number.EPSILON){if(Ut<0&&(At=Re[tt],st=-st,wt=Re[Me],Ut=-Ut),X.y<At.y||X.y>wt.y)continue;if(X.y===At.y){if(X.x===At.x)return!0}else{const en=Ut*(X.x-At.x)-st*(X.y-At.y);if(0===en)return!0;if(en<0)continue;Ve=!Ve}}else{if(X.y!==At.y)continue;if(wt.x<=X.x&&X.x<=At.x||At.x<=X.x&&X.x<=wt.x)return!0}}return Ve}const _=Fh.isClockWise,x=this.subPaths;if(0===x.length)return[];if(!0===d)return m(x);let D,k,O;const U=[];if(1===x.length)return k=x[0],O=new Jp,O.curves=k.curves,U.push(O),U;let H=!_(x[0].getPoints());H=l?!H:H;const V=[],W=[];let se,ie,J=[],ee=0;W[ee]=void 0,J[ee]=[];for(let X=0,Re=x.length;X<Re;X++)k=x[X],se=k.getPoints(),D=_(se),D=l?!D:D,D?(!H&&W[ee]&&ee++,W[ee]={s:new Jp,p:se},W[ee].s.curves=k.curves,H&&ee++,J[ee]=[]):J[ee].push({h:k,p:se[0]});if(!W[0])return m(x);if(W.length>1){let X=!1;const Re=[];for(let xe=0,Ve=W.length;xe<Ve;xe++)V[xe]=[];for(let xe=0,Ve=W.length;xe<Ve;xe++){const Me=J[xe];for(let tt=0;tt<Me.length;tt++){const At=Me[tt];let wt=!0;for(let st=0;st<W.length;st++)v(At.p,W[st].p)&&(xe!==st&&Re.push({froms:xe,tos:st,hole:tt}),wt?(wt=!1,V[st].push(At)):X=!0);wt&&V[xe].push(At)}}Re.length>0&&(X||(J=V))}for(let X=0,Re=W.length;X<Re;X++){O=W[X].s,U.push(O),ie=J[X];for(let xe=0,Ve=ie.length;xe<Ve;xe++)O.holes.push(ie[xe].h)}return U}}class WD{constructor(l){this.type="Font",this.data=l}generateShapes(l,d=100){const m=[],v=function YD(f,l,d){const m=Array.from(f),v=l/d.resolution,_=(d.boundingBox.yMax-d.boundingBox.yMin+d.underlineThickness)*v,x=[];let D=0,k=0;for(let O=0;O<m.length;O++){const U=m[O];if("\n"===U)D=0,k-=_;else{const H=GD(U,v,D,k,d);D+=H.offsetX,x.push(H.path)}}return x}(l,d,this.data);for(let _=0,x=v.length;_<x;_++)Array.prototype.push.apply(m,v[_].toShapes());return m}}function GD(f,l,d,m,v){const _=v.glyphs[f]||v.glyphs["?"];if(!_)return void console.error('THREE.Font: character "'+f+'" does not exists in font family '+v.familyName+".");const x=new jD;let D,k,O,U,H,V,W,J;if(_.o){const ee=_._cachedOutline||(_._cachedOutline=_.o.split(" "));for(let se=0,ie=ee.length;se<ie;)switch(ee[se++]){case"m":D=ee[se++]*l+d,k=ee[se++]*l+m,x.moveTo(D,k);break;case"l":D=ee[se++]*l+d,k=ee[se++]*l+m,x.lineTo(D,k);break;case"q":O=ee[se++]*l+d,U=ee[se++]*l+m,H=ee[se++]*l+d,V=ee[se++]*l+m,x.quadraticCurveTo(H,V,O,U);break;case"b":O=ee[se++]*l+d,U=ee[se++]*l+m,H=ee[se++]*l+d,V=ee[se++]*l+m,W=ee[se++]*l+d,J=ee[se++]*l+m,x.bezierCurveTo(H,V,W,J,O,U)}}return{offsetX:_.ha*l,path:x}}WD.prototype.isFont=!0;class mF extends Xs{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Lu(this.manager);x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){let k;try{k=JSON.parse(D)}catch(U){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),k=JSON.parse(D.substring(65,D.length-2))}const O=_.parse(k);d&&d(O)},m,v)}parse(l){return new WD(l)}}let av;const $D={getContext:function(){return void 0===av&&(av=new(window.AudioContext||window.webkitAudioContext)),av},setContext:function(f){av=f}};class gF extends Xs{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Lu(this.manager);x.setResponseType("arraybuffer"),x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(l,function(D){try{const k=D.slice(0);$D.getContext().decodeAudioData(k,function(U){d(U)})}catch(k){v?v(k):console.error(k),_.manager.itemError(l)}},m,v)}}class vF extends If{constructor(l,d,m=1){super(void 0,m);const v=(new hr).set(l),_=(new hr).set(d),x=new Ce(v.r,v.g,v.b),D=new Ce(_.r,_.g,_.b),k=Math.sqrt(Math.PI),O=k*Math.sqrt(.75);this.sh.coefficients[0].copy(x).add(D).multiplyScalar(k),this.sh.coefficients[1].copy(x).sub(D).multiplyScalar(O)}}vF.prototype.isHemisphereLightProbe=!0;class yF extends If{constructor(l,d=1){super(void 0,d);const m=(new hr).set(l);this.sh.coefficients[0].set(m.r,m.g,m.b).multiplyScalar(2*Math.sqrt(Math.PI))}}yF.prototype.isAmbientLightProbe=!0;const _F=new Br,bF=new Br;class B8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ss,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ss,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(l){const d=this._cache;if(d.focus!==l.focus||d.fov!==l.fov||d.aspect!==l.aspect*this.aspect||d.near!==l.near||d.far!==l.far||d.zoom!==l.zoom||d.eyeSep!==this.eyeSep){d.focus=l.focus,d.fov=l.fov,d.aspect=l.aspect*this.aspect,d.near=l.near,d.far=l.far,d.zoom=l.zoom,d.eyeSep=this.eyeSep;const v=l.projectionMatrix.clone(),_=d.eyeSep/2,x=_*d.near/d.focus,D=d.near*Math.tan(Dr.DEG2RAD*d.fov*.5)/d.zoom;let k,O;bF.elements[12]=-_,_F.elements[12]=_,k=-D*d.aspect+x,O=D*d.aspect+x,v.elements[0]=2*d.near/(O-k),v.elements[8]=(O+k)/(O-k),this.cameraL.projectionMatrix.copy(v),k=-D*d.aspect-x,O=D*d.aspect-x,v.elements[0]=2*d.near/(O-k),v.elements[8]=(O+k)/(O-k),this.cameraR.projectionMatrix.copy(v)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(bF),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(_F)}}class wF{constructor(l){this.autoStart=void 0===l||l,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=MF(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let l=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const d=MF();l=(d-this.oldTime)/1e3,this.oldTime=d,this.elapsedTime+=l}return l}}function MF(){return("undefined"==typeof performance?Date:performance).now()}const lv=new Ce,Bh=new Sr,pE=new Ce,em=new Ce;class XD extends Zr{constructor(){super(),this.type="AudioListener",this.context=$D.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new wF}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(l){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=l,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(l){return this.gain.gain.setTargetAtTime(l,this.context.currentTime,.01),this}updateMatrixWorld(l){super.updateMatrixWorld(l);const d=this.context.listener,m=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(lv,Bh,pE),em.set(0,0,-1).applyQuaternion(Bh),d.positionX){const v=this.context.currentTime+this.timeDelta;d.positionX.linearRampToValueAtTime(lv.x,v),d.positionY.linearRampToValueAtTime(lv.y,v),d.positionZ.linearRampToValueAtTime(lv.z,v),d.forwardX.linearRampToValueAtTime(em.x,v),d.forwardY.linearRampToValueAtTime(em.y,v),d.forwardZ.linearRampToValueAtTime(em.z,v),d.upX.linearRampToValueAtTime(m.x,v),d.upY.linearRampToValueAtTime(m.y,v),d.upZ.linearRampToValueAtTime(m.z,v)}else d.setPosition(lv.x,lv.y,lv.z),d.setOrientation(em.x,em.y,em.z,m.x,m.y,m.z)}}class N_ extends Zr{constructor(l){super(),this.type="Audio",this.listener=l,this.context=l.context,this.gain=this.context.createGain(),this.gain.connect(l.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(l){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=l,this.connect(),this}setMediaElementSource(l){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(l),this.connect(),this}setMediaStreamSource(l){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(l),this.connect(),this}setBuffer(l){return this.buffer=l,this.sourceType="buffer",this.autoplay&&this.play(),this}play(l=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+l;const d=this.context.createBufferSource();return d.buffer=this.buffer,d.loop=this.loop,d.loopStart=this.loopStart,d.loopEnd=this.loopEnd,d.onended=this.onEnded.bind(this),d.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=d,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let l=1,d=this.filters.length;l<d;l++)this.filters[l-1].connect(this.filters[l]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let l=1,d=this.filters.length;l<d;l++)this.filters[l-1].disconnect(this.filters[l]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(l){return l||(l=[]),!0===this._connected?(this.disconnect(),this.filters=l.slice(),this.connect()):this.filters=l.slice(),this}setDetune(l){if(this.detune=l,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(l){return this.setFilters(l?[l]:[])}setPlaybackRate(l){if(!1!==this.hasPlaybackControl)return this.playbackRate=l,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(l){if(!1!==this.hasPlaybackControl)return this.loop=l,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(l){return this.loopStart=l,this}setLoopEnd(l){return this.loopEnd=l,this}getVolume(){return this.gain.gain.value}setVolume(l){return this.gain.gain.setTargetAtTime(l,this.context.currentTime,.01),this}}const Nf=new Ce,rM=new Sr,SF=new Ce,du=new Ce;class KD extends N_{constructor(l){super(l),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(l){return this.panner.refDistance=l,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(l){return this.panner.rolloffFactor=l,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(l){return this.panner.distanceModel=l,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(l){return this.panner.maxDistance=l,this}setDirectionalCone(l,d,m){return this.panner.coneInnerAngle=l,this.panner.coneOuterAngle=d,this.panner.coneOuterGain=m,this}updateMatrixWorld(l){if(super.updateMatrixWorld(l),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Nf,rM,SF),du.set(0,0,1).applyQuaternion(rM);const d=this.panner;if(d.positionX){const m=this.context.currentTime+this.listener.timeDelta;d.positionX.linearRampToValueAtTime(Nf.x,m),d.positionY.linearRampToValueAtTime(Nf.y,m),d.positionZ.linearRampToValueAtTime(Nf.z,m),d.orientationX.linearRampToValueAtTime(du.x,m),d.orientationY.linearRampToValueAtTime(du.y,m),d.orientationZ.linearRampToValueAtTime(du.z,m)}else d.setPosition(Nf.x,Nf.y,Nf.z),d.setOrientation(du.x,du.y,du.z)}}class ZD{constructor(l,d=2048){this.analyser=l.context.createAnalyser(),this.analyser.fftSize=d,this.data=new Uint8Array(this.analyser.frequencyBinCount),l.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let l=0;const d=this.getFrequencyData();for(let m=0;m<d.length;m++)l+=d[m];return l/d.length}}class iM{constructor(l,d,m){let v,_,x;switch(this.binding=l,this.valueSize=m,d){case"quaternion":v=this._slerp,_=this._slerpAdditive,x=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*m),this._workIndex=5;break;case"string":case"bool":v=this._select,_=this._select,x=this._setAdditiveIdentityOther,this.buffer=new Array(5*m);break;default:v=this._lerp,_=this._lerpAdditive,x=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*m)}this._mixBufferRegion=v,this._mixBufferRegionAdditive=_,this._setIdentity=x,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(l,d){const m=this.buffer,v=this.valueSize,_=l*v+v;let x=this.cumulativeWeight;if(0===x){for(let D=0;D!==v;++D)m[_+D]=m[D];x=d}else x+=d,this._mixBufferRegion(m,_,0,d/x,v);this.cumulativeWeight=x}accumulateAdditive(l){const d=this.buffer,m=this.valueSize,v=m*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(d,v,0,l,m),this.cumulativeWeightAdditive+=l}apply(l){const d=this.valueSize,m=this.buffer,v=l*d+d,_=this.cumulativeWeight,x=this.cumulativeWeightAdditive,D=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,_<1&&this._mixBufferRegion(m,v,d*this._origIndex,1-_,d),x>0&&this._mixBufferRegionAdditive(m,v,this._addIndex*d,1,d);for(let k=d,O=d+d;k!==O;++k)if(m[k]!==m[k+d]){D.setValue(m,v);break}}saveOriginalState(){const d=this.buffer,m=this.valueSize,v=m*this._origIndex;this.binding.getValue(d,v);for(let _=m,x=v;_!==x;++_)d[_]=d[v+_%m];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const l=this._addIndex*this.valueSize,d=l+this.valueSize;for(let m=l;m<d;m++)this.buffer[m]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const l=this._origIndex*this.valueSize,d=this._addIndex*this.valueSize;for(let m=0;m<this.valueSize;m++)this.buffer[d+m]=this.buffer[l+m]}_select(l,d,m,v,_){if(v>=.5)for(let x=0;x!==_;++x)l[d+x]=l[m+x]}_slerp(l,d,m,v){Sr.slerpFlat(l,d,l,d,l,m,v)}_slerpAdditive(l,d,m,v,_){const x=this._workIndex*_;Sr.multiplyQuaternionsFlat(l,x,l,d,l,m),Sr.slerpFlat(l,d,l,d,l,x,v)}_lerp(l,d,m,v,_){const x=1-v;for(let D=0;D!==_;++D){const k=d+D;l[k]=l[k]*x+l[m+D]*v}}_lerpAdditive(l,d,m,v,_){for(let x=0;x!==_;++x){const D=d+x;l[D]=l[D]+l[m+x]*v}}}const mE="\\[\\]\\.:\\/",qD=new RegExp("["+mE+"]","g"),gE="[^"+mE+"]",xF="[^"+mE.replace("\\.","")+"]",oM=/((?:WC+[\/:])*)/.source.replace("WC",gE),uv=/(WCOD+)?/.source.replace("WCOD",xF),vE=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gE),cv=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gE),sM=new RegExp("^"+oM+uv+vE+cv+"$"),F_=["material","materials","bones"];function JD(f,l,d){const m=d||ol.parseTrackName(l);this._targetGroup=f,this._bindings=f.subscribe_(l,m)}function ol(f,l,d){this.path=l,this.parsedPath=d||ol.parseTrackName(l),this.node=ol.findNode(f,this.parsedPath.nodeName)||f,this.rootNode=f}Object.assign(JD.prototype,{getValue:function(f,l){this.bind();const m=this._bindings[this._targetGroup.nCachedObjects_];void 0!==m&&m.getValue(f,l)},setValue:function(f,l){const d=this._bindings;for(let m=this._targetGroup.nCachedObjects_,v=d.length;m!==v;++m)d[m].setValue(f,l)},bind:function(){const f=this._bindings;for(let l=this._targetGroup.nCachedObjects_,d=f.length;l!==d;++l)f[l].bind()},unbind:function(){const f=this._bindings;for(let l=this._targetGroup.nCachedObjects_,d=f.length;l!==d;++l)f[l].unbind()}}),Object.assign(ol,{Composite:JD,create:function(f,l,d){return f&&f.isAnimationObjectGroup?new ol.Composite(f,l,d):new ol(f,l,d)},sanitizeNodeName:function(f){return f.replace(/\s/g,"_").replace(qD,"")},parseTrackName:function(f){const l=sM.exec(f);if(!l)throw new Error("PropertyBinding: Cannot parse trackName: "+f);const d={nodeName:l[2],objectName:l[3],objectIndex:l[4],propertyName:l[5],propertyIndex:l[6]},m=d.nodeName&&d.nodeName.lastIndexOf(".");if(void 0!==m&&-1!==m){const v=d.nodeName.substring(m+1);-1!==F_.indexOf(v)&&(d.nodeName=d.nodeName.substring(0,m),d.objectName=v)}if(null===d.propertyName||0===d.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+f);return d},findNode:function(f,l){if(!l||""===l||"."===l||-1===l||l===f.name||l===f.uuid)return f;if(f.skeleton){const d=f.skeleton.getBoneByName(l);if(void 0!==d)return d}if(f.children){const d=function(v){for(let _=0;_<v.length;_++){const x=v[_];if(x.name===l||x.uuid===l)return x;const D=d(x.children);if(D)return D}return null},m=d(f.children);if(m)return m}return null}}),Object.assign(ol.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(l,d){l[d]=this.node[this.propertyName]},function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)l[d++]=m[v]},function(l,d){l[d]=this.resolvedProperty[this.propertyIndex]},function(l,d){this.resolvedProperty.toArray(l,d)}],SetterByBindingTypeAndVersioning:[[function(l,d){this.targetObject[this.propertyName]=l[d]},function(l,d){this.targetObject[this.propertyName]=l[d],this.targetObject.needsUpdate=!0},function(l,d){this.targetObject[this.propertyName]=l[d],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)m[v]=l[d++]},function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)m[v]=l[d++];this.targetObject.needsUpdate=!0},function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)m[v]=l[d++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){this.resolvedProperty[this.propertyIndex]=l[d]},function(l,d){this.resolvedProperty[this.propertyIndex]=l[d],this.targetObject.needsUpdate=!0},function(l,d){this.resolvedProperty[this.propertyIndex]=l[d],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){this.resolvedProperty.fromArray(l,d)},function(l,d){this.resolvedProperty.fromArray(l,d),this.targetObject.needsUpdate=!0},function(l,d){this.resolvedProperty.fromArray(l,d),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(l,d){this.bind(),this.getValue(l,d)},setValue:function(l,d){this.bind(),this.setValue(l,d)},bind:function(){let f=this.node;const l=this.parsedPath,d=l.objectName,m=l.propertyName;let v=l.propertyIndex;if(f||(f=ol.findNode(this.rootNode,l.nodeName)||this.rootNode,this.node=f),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!f)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(d){let k=l.objectIndex;switch(d){case"materials":if(!f.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!f.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);f=f.material.materials;break;case"bones":if(!f.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);f=f.skeleton.bones;for(let O=0;O<f.length;O++)if(f[O].name===k){k=O;break}break;default:if(void 0===f[d])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);f=f[d]}if(void 0!==k){if(void 0===f[k])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,f);f=f[k]}}const _=f[m];if(void 0===_)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+l.nodeName+"."+m+" but it wasn't found.",f);let x=this.Versioning.None;this.targetObject=f,void 0!==f.needsUpdate?x=this.Versioning.NeedsUpdate:void 0!==f.matrixWorldNeedsUpdate&&(x=this.Versioning.MatrixWorldNeedsUpdate);let D=this.BindingType.Direct;if(void 0!==v){if("morphTargetInfluences"===m){if(!f.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!f.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!f.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==f.morphTargetDictionary[v]&&(v=f.morphTargetDictionary[v])}D=this.BindingType.ArrayElement,this.resolvedProperty=_,this.propertyIndex=v}else void 0!==_.fromArray&&void 0!==_.toArray?(D=this.BindingType.HasFromToArray,this.resolvedProperty=_):Array.isArray(_)?(D=this.BindingType.EntireArray,this.resolvedProperty=_):this.propertyName=m;this.getValue=this.GetterByBindingType[D],this.setValue=this.SetterByBindingTypeAndVersioning[D][x]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(ol.prototype,{_getValue_unbound:ol.prototype.getValue,_setValue_unbound:ol.prototype.setValue});class yE{constructor(){this.uuid=Dr.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const l={};this._indicesByUUID=l;for(let m=0,v=arguments.length;m!==v;++m)l[arguments[m].uuid]=m;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const d=this;this.stats={objects:{get total(){return d._objects.length},get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}add(){const l=this._objects,d=this._indicesByUUID,m=this._paths,v=this._parsedPaths,_=this._bindings,x=_.length;let D,k=l.length,O=this.nCachedObjects_;for(let U=0,H=arguments.length;U!==H;++U){const V=arguments[U],W=V.uuid;let J=d[W];if(void 0===J){J=k++,d[W]=J,l.push(V);for(let ee=0,se=x;ee!==se;++ee)_[ee].push(new ol(V,m[ee],v[ee]))}else if(J<O){D=l[J];const ee=--O,se=l[ee];d[se.uuid]=J,l[J]=se,d[W]=ee,l[ee]=V;for(let ie=0,X=x;ie!==X;++ie){const Re=_[ie];let Ve=Re[J];Re[J]=Re[ee],void 0===Ve&&(Ve=new ol(V,m[ie],v[ie])),Re[ee]=Ve}}else l[J]!==D&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=O}remove(){const l=this._objects,d=this._indicesByUUID,m=this._bindings,v=m.length;let _=this.nCachedObjects_;for(let x=0,D=arguments.length;x!==D;++x){const k=arguments[x],O=k.uuid,U=d[O];if(void 0!==U&&U>=_){const H=_++,V=l[H];d[V.uuid]=U,l[U]=V,d[O]=H,l[H]=k;for(let W=0,J=v;W!==J;++W){const ee=m[W],ie=ee[U];ee[U]=ee[H],ee[H]=ie}}}this.nCachedObjects_=_}uncache(){const l=this._objects,d=this._indicesByUUID,m=this._bindings,v=m.length;let _=this.nCachedObjects_,x=l.length;for(let D=0,k=arguments.length;D!==k;++D){const U=arguments[D].uuid,H=d[U];if(void 0!==H)if(delete d[U],H<_){const V=--_,W=l[V],J=--x,ee=l[J];d[W.uuid]=H,l[H]=W,d[ee.uuid]=V,l[V]=ee,l.pop();for(let se=0,ie=v;se!==ie;++se){const X=m[se],xe=X[J];X[H]=X[V],X[V]=xe,X.pop()}}else{const V=--x,W=l[V];V>0&&(d[W.uuid]=H),l[H]=W,l.pop();for(let J=0,ee=v;J!==ee;++J){const se=m[J];se[H]=se[V],se.pop()}}}this.nCachedObjects_=_}subscribe_(l,d){const m=this._bindingsIndicesByPath;let v=m[l];const _=this._bindings;if(void 0!==v)return _[v];const x=this._paths,D=this._parsedPaths,k=this._objects,U=this.nCachedObjects_,H=new Array(k.length);v=_.length,m[l]=v,x.push(l),D.push(d),_.push(H);for(let V=U,W=k.length;V!==W;++V)H[V]=new ol(k[V],l,d);return H}unsubscribe_(l){const d=this._bindingsIndicesByPath,m=d[l];if(void 0!==m){const v=this._paths,_=this._parsedPaths,x=this._bindings,D=x.length-1,k=x[D];d[l[D]]=m,x[m]=k,x.pop(),_[m]=_[D],_.pop(),v[m]=v[D],v.pop()}}}yE.prototype.isAnimationObjectGroup=!0;class _E{constructor(l,d,m=null,v=d.blendMode){this._mixer=l,this._clip=d,this._localRoot=m,this.blendMode=v;const _=d.tracks,x=_.length,D=new Array(x),k={endingStart:Aa,endingEnd:Aa};for(let O=0;O!==x;++O){const U=_[O].createInterpolant(null);D[O]=U,U.settings=k}this._interpolantSettings=k,this._interpolants=D,this._propertyBindings=new Array(x),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xp,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(l){return this._startTime=l,this}setLoop(l,d){return this.loop=l,this.repetitions=d,this}setEffectiveWeight(l){return this.weight=l,this._effectiveWeight=this.enabled?l:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(l){return this._scheduleFading(l,0,1)}fadeOut(l){return this._scheduleFading(l,1,0)}crossFadeFrom(l,d,m){if(l.fadeOut(d),this.fadeIn(d),m){const v=this._clip.duration,_=l._clip.duration,D=v/_;l.warp(1,_/v,d),this.warp(D,1,d)}return this}crossFadeTo(l,d,m){return l.crossFadeFrom(this,d,m)}stopFading(){const l=this._weightInterpolant;return null!==l&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(l)),this}setEffectiveTimeScale(l){return this.timeScale=l,this._effectiveTimeScale=this.paused?0:l,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(l){return this.timeScale=this._clip.duration/l,this.stopWarping()}syncWith(l){return this.time=l.time,this.timeScale=l.timeScale,this.stopWarping()}halt(l){return this.warp(this._effectiveTimeScale,0,l)}warp(l,d,m){const v=this._mixer,_=v.time,x=this.timeScale;let D=this._timeScaleInterpolant;null===D&&(D=v._lendControlInterpolant(),this._timeScaleInterpolant=D);const k=D.parameterPositions,O=D.sampleValues;return k[0]=_,k[1]=_+m,O[0]=l/x,O[1]=d/x,this}stopWarping(){const l=this._timeScaleInterpolant;return null!==l&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(l)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(l,d,m,v){if(!this.enabled)return void this._updateWeight(l);const _=this._startTime;if(null!==_){const k=(l-_)*m;if(k<0||0===m)return;this._startTime=null,d=m*k}d*=this._updateTimeScale(l);const x=this._updateTime(d),D=this._updateWeight(l);if(D>0){const k=this._interpolants,O=this._propertyBindings;if(this.blendMode===Ep)for(let U=0,H=k.length;U!==H;++U)k[U].evaluate(x),O[U].accumulateAdditive(D);else for(let U=0,H=k.length;U!==H;++U)k[U].evaluate(x),O[U].accumulate(v,D)}}_updateWeight(l){let d=0;if(this.enabled){d=this.weight;const m=this._weightInterpolant;if(null!==m){const v=m.evaluate(l)[0];d*=v,l>m.parameterPositions[1]&&(this.stopFading(),0===v&&(this.enabled=!1))}}return this._effectiveWeight=d,d}_updateTimeScale(l){let d=0;if(!this.paused){d=this.timeScale;const m=this._timeScaleInterpolant;null!==m&&(d*=m.evaluate(l)[0],l>m.parameterPositions[1]&&(this.stopWarping(),0===d?this.paused=!0:this.timeScale=d))}return this._effectiveTimeScale=d,d}_updateTime(l){const d=this._clip.duration,m=this.loop;let v=this.time+l,_=this._loopCount;const x=m===Cp;if(0===l)return-1===_?v:x&&1==(1&_)?d-v:v;if(m===Ql){-1===_&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(v>=d)v=d;else{if(!(v<0)){this.time=v;break e}v=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=v,this._mixer.dispatchEvent({type:"finished",action:this,direction:l<0?-1:1})}}else{if(-1===_&&(l>=0?(_=0,this._setEndings(!0,0===this.repetitions,x)):this._setEndings(0===this.repetitions,!0,x)),v>=d||v<0){const D=Math.floor(v/d);v-=d*D,_+=Math.abs(D);const k=this.repetitions-_;if(k<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,v=l>0?d:0,this.time=v,this._mixer.dispatchEvent({type:"finished",action:this,direction:l>0?1:-1});else{if(1===k){const O=l<0;this._setEndings(O,!O,x)}else this._setEndings(!1,!1,x);this._loopCount=_,this.time=v,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:D})}}else this.time=v;if(x&&1==(1&_))return d-v}return v}_setEndings(l,d,m){const v=this._interpolantSettings;m?(v.endingStart=Ic,v.endingEnd=Ic):(v.endingStart=l?this.zeroSlopeAtStart?Ic:Aa:_h,v.endingEnd=d?this.zeroSlopeAtEnd?Ic:Aa:_h)}_scheduleFading(l,d,m){const v=this._mixer,_=v.time;let x=this._weightInterpolant;null===x&&(x=v._lendControlInterpolant(),this._weightInterpolant=x);const D=x.parameterPositions,k=x.sampleValues;return D[0]=_,k[0]=d,D[1]=_+l,k[1]=m,this}}class aM extends Yi{constructor(l){super(),this._root=l,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(l,d){const m=l._localRoot||this._root,v=l._clip.tracks,_=v.length,x=l._propertyBindings,D=l._interpolants,k=m.uuid,O=this._bindingsByRootAndName;let U=O[k];void 0===U&&(U={},O[k]=U);for(let H=0;H!==_;++H){const V=v[H],W=V.name;let J=U[W];if(void 0!==J)x[H]=J;else{if(J=x[H],void 0!==J){null===J._cacheIndex&&(++J.referenceCount,this._addInactiveBinding(J,k,W));continue}J=new iM(ol.create(m,W,d&&d._propertyBindings[H].binding.parsedPath),V.ValueTypeName,V.getValueSize()),++J.referenceCount,this._addInactiveBinding(J,k,W),x[H]=J}D[H].resultBuffer=J.buffer}}_activateAction(l){if(!this._isActiveAction(l)){if(null===l._cacheIndex){const m=(l._localRoot||this._root).uuid,v=l._clip.uuid,_=this._actionsByClip[v];this._bindAction(l,_&&_.knownActions[0]),this._addInactiveAction(l,v,m)}const d=l._propertyBindings;for(let m=0,v=d.length;m!==v;++m){const _=d[m];0==_.useCount++&&(this._lendBinding(_),_.saveOriginalState())}this._lendAction(l)}}_deactivateAction(l){if(this._isActiveAction(l)){const d=l._propertyBindings;for(let m=0,v=d.length;m!==v;++m){const _=d[m];0==--_.useCount&&(_.restoreOriginalState(),this._takeBackBinding(_))}this._takeBackAction(l)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const l=this;this.stats={actions:{get total(){return l._actions.length},get inUse(){return l._nActiveActions}},bindings:{get total(){return l._bindings.length},get inUse(){return l._nActiveBindings}},controlInterpolants:{get total(){return l._controlInterpolants.length},get inUse(){return l._nActiveControlInterpolants}}}}_isActiveAction(l){const d=l._cacheIndex;return null!==d&&d<this._nActiveActions}_addInactiveAction(l,d,m){const v=this._actions,_=this._actionsByClip;let x=_[d];if(void 0===x)x={knownActions:[l],actionByRoot:{}},l._byClipCacheIndex=0,_[d]=x;else{const D=x.knownActions;l._byClipCacheIndex=D.length,D.push(l)}l._cacheIndex=v.length,v.push(l),x.actionByRoot[m]=l}_removeInactiveAction(l){const d=this._actions,m=d[d.length-1],v=l._cacheIndex;m._cacheIndex=v,d[v]=m,d.pop(),l._cacheIndex=null;const _=l._clip.uuid,x=this._actionsByClip,D=x[_],k=D.knownActions,O=k[k.length-1],U=l._byClipCacheIndex;O._byClipCacheIndex=U,k[U]=O,k.pop(),l._byClipCacheIndex=null,delete D.actionByRoot[(l._localRoot||this._root).uuid],0===k.length&&delete x[_],this._removeInactiveBindingsForAction(l)}_removeInactiveBindingsForAction(l){const d=l._propertyBindings;for(let m=0,v=d.length;m!==v;++m){const _=d[m];0==--_.referenceCount&&this._removeInactiveBinding(_)}}_lendAction(l){const d=this._actions,m=l._cacheIndex,v=this._nActiveActions++,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_takeBackAction(l){const d=this._actions,m=l._cacheIndex,v=--this._nActiveActions,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_addInactiveBinding(l,d,m){const v=this._bindingsByRootAndName,_=this._bindings;let x=v[d];void 0===x&&(x={},v[d]=x),x[m]=l,l._cacheIndex=_.length,_.push(l)}_removeInactiveBinding(l){const d=this._bindings,m=l.binding,v=m.rootNode.uuid,_=m.path,x=this._bindingsByRootAndName,D=x[v],k=d[d.length-1],O=l._cacheIndex;k._cacheIndex=O,d[O]=k,d.pop(),delete D[_],0===Object.keys(D).length&&delete x[v]}_lendBinding(l){const d=this._bindings,m=l._cacheIndex,v=this._nActiveBindings++,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_takeBackBinding(l){const d=this._bindings,m=l._cacheIndex,v=--this._nActiveBindings,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_lendControlInterpolant(){const l=this._controlInterpolants,d=this._nActiveControlInterpolants++;let m=l[d];return void 0===m&&(m=new x_(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),m.__cacheIndex=d,l[d]=m),m}_takeBackControlInterpolant(l){const d=this._controlInterpolants,m=l.__cacheIndex,v=--this._nActiveControlInterpolants,_=d[v];l.__cacheIndex=v,d[v]=l,_.__cacheIndex=m,d[m]=_}clipAction(l,d,m){const v=d||this._root,_=v.uuid;let x="string"==typeof l?T_.findByName(v,l):l;const D=null!==x?x.uuid:l,k=this._actionsByClip[D];let O=null;if(void 0===m&&(m=null!==x?x.blendMode:fn),void 0!==k){const H=k.actionByRoot[_];if(void 0!==H&&H.blendMode===m)return H;O=k.knownActions[0],null===x&&(x=O._clip)}if(null===x)return null;const U=new _E(this,x,d,m);return this._bindAction(U,O),this._addInactiveAction(U,D,_),U}existingAction(l,d){const m=d||this._root,v=m.uuid,_="string"==typeof l?T_.findByName(m,l):l,D=this._actionsByClip[_?_.uuid:l];return void 0!==D&&D.actionByRoot[v]||null}stopAllAction(){const l=this._actions;for(let m=this._nActiveActions-1;m>=0;--m)l[m].stop();return this}update(l){const d=this._actions,m=this._nActiveActions,v=this.time+=l*=this.timeScale,_=Math.sign(l),x=this._accuIndex^=1;for(let O=0;O!==m;++O)d[O]._update(v,l,_,x);const D=this._bindings,k=this._nActiveBindings;for(let O=0;O!==k;++O)D[O].apply(x);return this}setTime(l){this.time=0;for(let d=0;d<this._actions.length;d++)this._actions[d].time=0;return this.update(l)}getRoot(){return this._root}uncacheClip(l){const d=this._actions,m=l.uuid,v=this._actionsByClip,_=v[m];if(void 0!==_){const x=_.knownActions;for(let D=0,k=x.length;D!==k;++D){const O=x[D];this._deactivateAction(O);const U=O._cacheIndex,H=d[d.length-1];O._cacheIndex=null,O._byClipCacheIndex=null,H._cacheIndex=U,d[U]=H,d.pop(),this._removeInactiveBindingsForAction(O)}delete v[m]}}uncacheRoot(l){const d=l.uuid,m=this._actionsByClip;for(const x in m){const k=m[x].actionByRoot[d];void 0!==k&&(this._deactivateAction(k),this._removeInactiveAction(k))}const _=this._bindingsByRootAndName[d];if(void 0!==_)for(const x in _){const D=_[x];D.restoreOriginalState(),this._removeInactiveBinding(D)}}uncacheAction(l,d){const m=this.existingAction(l,d);null!==m&&(this._deactivateAction(m),this._removeInactiveAction(m))}}aM.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class H_{constructor(l){"string"==typeof l&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),l=arguments[1]),this.value=l}clone(){return new H_(void 0===this.value.clone?this.value:this.value.clone())}}function B_(f,l,d){au.call(this,f,l),this.meshPerAttribute=d||1}function bE(f,l,d,m,v){this.buffer=f,this.type=l,this.itemSize=d,this.elementSize=m,this.count=v,this.version=0}function QD(f,l,d=0,m=1/0){this.ray=new Ed(f,l),this.near=d,this.far=m,this.camera=null,this.layers=new Yw,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function eA(f,l){return f.distance-l.distance}function lM(f,l,d,m){if(f.layers.test(l.layers)&&f.raycast(l,d),!0===m){const v=f.children;for(let _=0,x=v.length;_<x;_++)lM(v[_],l,d,!0)}}B_.prototype=Object.assign(Object.create(au.prototype),{constructor:B_,isInstancedInterleavedBuffer:!0,copy:function(f){return au.prototype.copy.call(this,f),this.meshPerAttribute=f.meshPerAttribute,this},clone:function(f){const l=au.prototype.clone.call(this,f);return l.meshPerAttribute=this.meshPerAttribute,l},toJSON:function(f){const l=au.prototype.toJSON.call(this,f);return l.isInstancedInterleavedBuffer=!0,l.meshPerAttribute=this.meshPerAttribute,l}}),Object.defineProperty(bE.prototype,"needsUpdate",{set:function(f){!0===f&&this.version++}}),Object.assign(bE.prototype,{isGLBufferAttribute:!0,setBuffer:function(f){return this.buffer=f,this},setType:function(f,l){return this.type=f,this.elementSize=l,this},setItemSize:function(f){return this.itemSize=f,this},setCount:function(f){return this.count=f,this}}),Object.assign(QD.prototype,{set:function(f,l){this.ray.set(f,l)},setFromCamera:function(f,l){l&&l.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(l.matrixWorld),this.ray.direction.set(f.x,f.y,.5).unproject(l).sub(this.ray.origin).normalize(),this.camera=l):l&&l.isOrthographicCamera?(this.ray.origin.set(f.x,f.y,(l.near+l.far)/(l.near-l.far)).unproject(l),this.ray.direction.set(0,0,-1).transformDirection(l.matrixWorld),this.camera=l):console.error("THREE.Raycaster: Unsupported camera type: "+l.type)},intersectObject:function(f,l=!1,d=[]){return lM(f,this,d,l),d.sort(eA),d},intersectObjects:function(f,l=!1,d=[]){for(let m=0,v=f.length;m<v;m++)lM(f[m],this,d,l);return d.sort(eA),d}});class CF{constructor(l=1,d=0,m=0){return this.radius=l,this.phi=d,this.theta=m,this}set(l,d,m){return this.radius=l,this.phi=d,this.theta=m,this}copy(l){return this.radius=l.radius,this.phi=l.phi,this.theta=l.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(l){return this.setFromCartesianCoords(l.x,l.y,l.z)}setFromCartesianCoords(l,d,m){return this.radius=Math.sqrt(l*l+d*d+m*m),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(l,m),this.phi=Math.acos(Dr.clamp(d/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class tA{constructor(l=1,d=0,m=0){return this.radius=l,this.theta=d,this.y=m,this}set(l,d,m){return this.radius=l,this.theta=d,this.y=m,this}copy(l){return this.radius=l.radius,this.theta=l.theta,this.y=l.y,this}setFromVector3(l){return this.setFromCartesianCoords(l.x,l.y,l.z)}setFromCartesianCoords(l,d,m){return this.radius=Math.sqrt(l*l+m*m),this.theta=Math.atan2(l,m),this.y=d,this}clone(){return(new this.constructor).copy(this)}}const wE=new _n;class dv{constructor(l=new _n(1/0,1/0),d=new _n(-1/0,-1/0)){this.min=l,this.max=d}set(l,d){return this.min.copy(l),this.max.copy(d),this}setFromPoints(l){this.makeEmpty();for(let d=0,m=l.length;d<m;d++)this.expandByPoint(l[d]);return this}setFromCenterAndSize(l,d){const m=wE.copy(d).multiplyScalar(.5);return this.min.copy(l).sub(m),this.max.copy(l).add(m),this}clone(){return(new this.constructor).copy(this)}copy(l){return this.min.copy(l.min),this.max.copy(l.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(l){return void 0===l&&(console.warn("THREE.Box2: .getCenter() target is now required"),l=new _n),this.isEmpty()?l.set(0,0):l.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(l){return void 0===l&&(console.warn("THREE.Box2: .getSize() target is now required"),l=new _n),this.isEmpty()?l.set(0,0):l.subVectors(this.max,this.min)}expandByPoint(l){return this.min.min(l),this.max.max(l),this}expandByVector(l){return this.min.sub(l),this.max.add(l),this}expandByScalar(l){return this.min.addScalar(-l),this.max.addScalar(l),this}containsPoint(l){return!(l.x<this.min.x||l.x>this.max.x||l.y<this.min.y||l.y>this.max.y)}containsBox(l){return this.min.x<=l.min.x&&l.max.x<=this.max.x&&this.min.y<=l.min.y&&l.max.y<=this.max.y}getParameter(l,d){return void 0===d&&(console.warn("THREE.Box2: .getParameter() target is now required"),d=new _n),d.set((l.x-this.min.x)/(this.max.x-this.min.x),(l.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(l){return!(l.max.x<this.min.x||l.min.x>this.max.x||l.max.y<this.min.y||l.min.y>this.max.y)}clampPoint(l,d){return void 0===d&&(console.warn("THREE.Box2: .clampPoint() target is now required"),d=new _n),d.copy(l).clamp(this.min,this.max)}distanceToPoint(l){return wE.copy(l).clamp(this.min,this.max).sub(l).length()}intersect(l){return this.min.max(l.min),this.max.min(l.max),this}union(l){return this.min.min(l.min),this.max.max(l.max),this}translate(l){return this.min.add(l),this.max.add(l),this}equals(l){return l.min.equals(this.min)&&l.max.equals(this.max)}}dv.prototype.isBox2=!0;const hu=new Ce,V_=new Ce;class nA{constructor(l=new Ce,d=new Ce){this.start=l,this.end=d}set(l,d){return this.start.copy(l),this.end.copy(d),this}copy(l){return this.start.copy(l.start),this.end.copy(l.end),this}getCenter(l){return void 0===l&&(console.warn("THREE.Line3: .getCenter() target is now required"),l=new Ce),l.addVectors(this.start,this.end).multiplyScalar(.5)}delta(l){return void 0===l&&(console.warn("THREE.Line3: .delta() target is now required"),l=new Ce),l.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(l,d){return void 0===d&&(console.warn("THREE.Line3: .at() target is now required"),d=new Ce),this.delta(d).multiplyScalar(l).add(this.start)}closestPointToPointParameter(l,d){hu.subVectors(l,this.start),V_.subVectors(this.end,this.start);const m=V_.dot(V_);let _=V_.dot(hu)/m;return d&&(_=Dr.clamp(_,0,1)),_}closestPointToPoint(l,d,m){const v=this.closestPointToPointParameter(l,d);return void 0===m&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),m=new Ce),this.delta(m).multiplyScalar(v).add(this.start)}applyMatrix4(l){return this.start.applyMatrix4(l),this.end.applyMatrix4(l),this}equals(l){return l.start.equals(this.start)&&l.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}function uM(f){Zr.call(this),this.material=f,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}(uM.prototype=Object.create(Zr.prototype)).constructor=uM,uM.prototype.isImmediateRenderObject=!0;const rA=new Ce;class ME extends Zr{constructor(l,d){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=d;const m=new Vr,v=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let x=0,D=1,k=32;x<k;x++,D++){const O=x/k*Math.PI*2,U=D/k*Math.PI*2;v.push(Math.cos(O),Math.sin(O),1,Math.cos(U),Math.sin(U),1)}m.setAttribute("position",new yr(v,3));const _=new Ia({fog:!1,toneMapped:!1});this.cone=new rl(m,_),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const l=this.light.distance?this.light.distance:1e3,d=l*Math.tan(this.light.angle);this.cone.scale.set(d,d,l),rA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(rA),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Vh=new Ce,cM=new Br,SE=new Br;class iA extends rl{constructor(l){const d=xE(l),m=new Vr,v=[],_=[],x=new hr(0,0,1),D=new hr(0,1,0);for(let O=0;O<d.length;O++){const U=d[O];U.parent&&U.parent.isBone&&(v.push(0,0,0),v.push(0,0,0),_.push(x.r,x.g,x.b),_.push(D.r,D.g,D.b))}m.setAttribute("position",new yr(v,3)),m.setAttribute("color",new yr(_,3)),super(m,new Ia({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=l,this.bones=d,this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(l){const d=this.bones,m=this.geometry,v=m.getAttribute("position");SE.copy(this.root.matrixWorld).invert();for(let _=0,x=0;_<d.length;_++){const D=d[_];D.parent&&D.parent.isBone&&(cM.multiplyMatrices(SE,D.matrixWorld),Vh.setFromMatrixPosition(cM),v.setXYZ(x,Vh.x,Vh.y,Vh.z),cM.multiplyMatrices(SE,D.parent.matrixWorld),Vh.setFromMatrixPosition(cM),v.setXYZ(x+1,Vh.x,Vh.y,Vh.z),x+=2)}m.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(l)}}function xE(f){const l=[];f&&f.isBone&&l.push(f);for(let d=0;d<f.children.length;d++)l.push.apply(l,xE(f.children[d]));return l}class EF extends ln{constructor(l,d,m){super(new Qg(d,4,2),new Uc({wireframe:!0,fog:!1,toneMapped:!1})),this.light=l,this.light.updateMatrixWorld(),this.color=m,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const oA=new Ce,sA=new hr,aA=new hr;class lA extends Zr{constructor(l,d,m){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=m;const v=new F0(d);v.rotateY(.5*Math.PI),this.material=new Uc({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const _=v.getAttribute("position"),x=new Float32Array(3*_.count);v.setAttribute("color",new qr(x,3)),this.add(new ln(v,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const l=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const d=l.geometry.getAttribute("color");sA.copy(this.light.color),aA.copy(this.light.groundColor);for(let m=0,v=d.count;m<v;m++){const _=m<v/2?sA:aA;d.setXYZ(m,_.r,_.g,_.b)}d.needsUpdate=!0}l.lookAt(oA.setFromMatrixPosition(this.light.matrixWorld).negate())}}class CE extends rl{constructor(l=10,d=10,m=4473924,v=8947848){m=new hr(m),v=new hr(v);const _=d/2,x=l/d,D=l/2,k=[],O=[];for(let V=0,W=0,J=-D;V<=d;V++,J+=x){k.push(-D,0,J,D,0,J),k.push(J,0,-D,J,0,D);const ee=V===_?m:v;ee.toArray(O,W),W+=3,ee.toArray(O,W),W+=3,ee.toArray(O,W),W+=3,ee.toArray(O,W),W+=3}const U=new Vr;U.setAttribute("position",new yr(k,3)),U.setAttribute("color",new yr(O,3)),super(U,new Ia({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}class TF extends rl{constructor(l=10,d=16,m=8,v=64,_=4473924,x=8947848){_=new hr(_),x=new hr(x);const D=[],k=[];for(let H=0;H<=d;H++){const V=H/d*(2*Math.PI),W=Math.sin(V)*l,J=Math.cos(V)*l;D.push(0,0,0),D.push(W,0,J);const ee=1&H?_:x;k.push(ee.r,ee.g,ee.b),k.push(ee.r,ee.g,ee.b)}for(let H=0;H<=m;H++){const V=1&H?_:x,W=l-l/m*H;for(let J=0;J<v;J++){let ee=J/v*(2*Math.PI),se=Math.sin(ee)*W,ie=Math.cos(ee)*W;D.push(se,0,ie),k.push(V.r,V.g,V.b),ee=(J+1)/v*(2*Math.PI),se=Math.sin(ee)*W,ie=Math.cos(ee)*W,D.push(se,0,ie),k.push(V.r,V.g,V.b)}}const O=new Vr;O.setAttribute("position",new yr(D,3)),O.setAttribute("color",new yr(k,3)),super(O,new Ia({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}}const td=new Ce,hv=new Ce,uA=new Ce;class RF extends Zr{constructor(l,d,m){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=m,void 0===d&&(d=1);let v=new Vr;v.setAttribute("position",new yr([-d,d,0,d,d,0,d,-d,0,-d,-d,0,-d,d,0],3));const _=new Ia({fog:!1,toneMapped:!1});this.lightPlane=new Zc(v,_),this.add(this.lightPlane),v=new Vr,v.setAttribute("position",new yr([0,0,0,0,0,1],3)),this.targetLine=new Zc(v,_),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){td.setFromMatrixPosition(this.light.matrixWorld),hv.setFromMatrixPosition(this.light.target.matrixWorld),uA.subVectors(hv,td),this.lightPlane.lookAt(hv),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(hv),this.targetLine.scale.z=uA.length()}}const EE=new Ce,Ps=new Uo;class DF extends rl{constructor(l){const d=new Vr,m=new Ia({color:16777215,vertexColors:!0,toneMapped:!1}),v=[],_=[],x={},D=new hr(16755200),k=new hr(16711680),O=new hr(43775),U=new hr(16777215),H=new hr(3355443);function V(J,ee,se){W(J,se),W(ee,se)}function W(J,ee){v.push(0,0,0),_.push(ee.r,ee.g,ee.b),void 0===x[J]&&(x[J]=[]),x[J].push(v.length/3-1)}V("n1","n2",D),V("n2","n4",D),V("n4","n3",D),V("n3","n1",D),V("f1","f2",D),V("f2","f4",D),V("f4","f3",D),V("f3","f1",D),V("n1","f1",D),V("n2","f2",D),V("n3","f3",D),V("n4","f4",D),V("p","n1",k),V("p","n2",k),V("p","n3",k),V("p","n4",k),V("u1","u2",O),V("u2","u3",O),V("u3","u1",O),V("c","t",U),V("p","c",H),V("cn1","cn2",H),V("cn3","cn4",H),V("cf1","cf2",H),V("cf3","cf4",H),d.setAttribute("position",new yr(v,3)),d.setAttribute("color",new yr(_,3)),super(d,m),this.type="CameraHelper",this.camera=l,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=x,this.update()}update(){const l=this.geometry,d=this.pointMap;Ps.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Qs("c",d,l,Ps,0,0,-1),Qs("t",d,l,Ps,0,0,1),Qs("n1",d,l,Ps,-1,-1,-1),Qs("n2",d,l,Ps,1,-1,-1),Qs("n3",d,l,Ps,-1,1,-1),Qs("n4",d,l,Ps,1,1,-1),Qs("f1",d,l,Ps,-1,-1,1),Qs("f2",d,l,Ps,1,-1,1),Qs("f3",d,l,Ps,-1,1,1),Qs("f4",d,l,Ps,1,1,1),Qs("u1",d,l,Ps,.7,1.1,-1),Qs("u2",d,l,Ps,-.7,1.1,-1),Qs("u3",d,l,Ps,0,2,-1),Qs("cf1",d,l,Ps,-1,0,1),Qs("cf2",d,l,Ps,1,0,1),Qs("cf3",d,l,Ps,0,-1,1),Qs("cf4",d,l,Ps,0,1,1),Qs("cn1",d,l,Ps,-1,0,-1),Qs("cn2",d,l,Ps,1,0,-1),Qs("cn3",d,l,Ps,0,-1,-1),Qs("cn4",d,l,Ps,0,1,-1),l.getAttribute("position").needsUpdate=!0}}function Qs(f,l,d,m,v,_,x){EE.set(v,_,x).unproject(m);const D=l[f];if(void 0!==D){const k=d.getAttribute("position");for(let O=0,U=D.length;O<U;O++)k.setXYZ(D[O],EE.x,EE.y,EE.z)}}const dM=new js;class hM extends rl{constructor(l,d=16776960){const m=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),v=new Float32Array(24),_=new Vr;_.setIndex(new qr(m,1)),_.setAttribute("position",new qr(v,3)),super(_,new Ia({color:d,toneMapped:!1})),this.object=l,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(l){if(void 0!==l&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&dM.setFromObject(this.object),dM.isEmpty())return;const d=dM.min,m=dM.max,v=this.geometry.attributes.position,_=v.array;_[0]=m.x,_[1]=m.y,_[2]=m.z,_[3]=d.x,_[4]=m.y,_[5]=m.z,_[6]=d.x,_[7]=d.y,_[8]=m.z,_[9]=m.x,_[10]=d.y,_[11]=m.z,_[12]=m.x,_[13]=m.y,_[14]=d.z,_[15]=d.x,_[16]=m.y,_[17]=d.z,_[18]=d.x,_[19]=d.y,_[20]=d.z,_[21]=m.x,_[22]=d.y,_[23]=d.z,v.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(l){return this.object=l,this.update(),this}copy(l){return rl.prototype.copy.call(this,l),this.object=l.object,this}}class AF extends rl{constructor(l,d=16776960){const m=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),_=new Vr;_.setIndex(new qr(m,1)),_.setAttribute("position",new yr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(_,new Ia({color:d,toneMapped:!1})),this.box=l,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(l){const d=this.box;d.isEmpty()||(d.getCenter(this.position),d.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(l))}}class OF extends Zc{constructor(l,d=1,m=16776960){const v=m,x=new Vr;x.setAttribute("position",new yr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),x.computeBoundingSphere(),super(x,new Ia({color:v,toneMapped:!1})),this.type="PlaneHelper",this.plane=l,this.size=d;const k=new Vr;k.setAttribute("position",new yr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),k.computeBoundingSphere(),this.add(new ln(k,new Uc({color:v,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(l){let d=-this.plane.constant;Math.abs(d)<1e-8&&(d=1e-8),this.scale.set(.5*this.size,.5*this.size,d),this.children[0].material.side=d<0?K:me,this.lookAt(this.plane.normal),super.updateMatrixWorld(l)}}const z_=new Ce;let fv,TE;class cA extends Zr{constructor(l=new Ce(0,0,1),d=new Ce(0,0,0),m=1,v=16776960,_=.2*m,x=.2*_){super(),this.type="ArrowHelper",void 0===fv&&(fv=new Vr,fv.setAttribute("position",new yr([0,0,0,0,1,0],3)),TE=new qg(0,.5,1,5,1),TE.translate(0,-.5,0)),this.position.copy(d),this.line=new Zc(fv,new Ia({color:v,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ln(TE,new Uc({color:v,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(l),this.setLength(m,_,x)}setDirection(l){if(l.y>.99999)this.quaternion.set(0,0,0,1);else if(l.y<-.99999)this.quaternion.set(1,0,0,0);else{z_.set(l.z,0,-l.x).normalize();const d=Math.acos(l.y);this.quaternion.setFromAxisAngle(z_,d)}}setLength(l,d=.2*l,m=.2*d){this.line.scale.set(1,Math.max(1e-4,l-d),1),this.line.updateMatrix(),this.cone.scale.set(m,d,m),this.cone.position.y=l,this.cone.updateMatrix()}setColor(l){this.line.material.color.set(l),this.cone.material.color.set(l)}copy(l){return super.copy(l,!1),this.line.copy(l.line),this.cone.copy(l.cone),this}}class fM extends rl{constructor(l=1){const d=[0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,l],v=new Vr;v.setAttribute("position",new yr(d,3)),v.setAttribute("color",new yr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(v,new Ia({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}}const RE=new Float32Array(1),V8=new Int32Array(RE.buffer),z8={toHalfFloat:function(f){RE[0]=f;const l=V8[0];let d=l>>16&32768,m=l>>12&2047;const v=l>>23&255;return v<103?d:v>142?(d|=31744,d|=(255==v?0:1)&&8388607&l,d):v<113?(m|=2048,d|=(m>>114-v)+(m>>113-v&1),d):(d|=v-112<<10|m>>1,d+=1&m,d)}},jd=Math.pow(2,8),DE=[.125,.215,.35,.446,.526,.582],AE=5+DE.length,nd={[yn]:0,[Jn]:1,[Ms]:2,[vs]:3,[Sd]:4,[dr]:5,[ji]:6},zh=new Uc({side:K,depthWrite:!1,depthTest:!1}),Uh=new ln(new Gc,zh),pv=new ov,{_lodPlanes:Hf,_sizeLods:mv,_sigmas:pM}=j8(),mM=new hr;let gM=null;const rm=(1+Math.sqrt(5))/2,gv=1/rm,vv=[new Ce(1,1,1),new Ce(-1,1,1),new Ce(1,1,-1),new Ce(-1,1,-1),new Ce(0,rm,gv),new Ce(0,rm,-gv),new Ce(gv,0,rm),new Ce(-gv,0,rm),new Ce(rm,gv,0),new Ce(-rm,gv,0)];function dA(f){const l=Math.max(f.r,f.g,f.b),d=Math.min(Math.max(Math.ceil(Math.log2(l)),-128),127);return f.multiplyScalar(Math.pow(2,-d)),(d+128)/255}class U8{constructor(l){this._renderer=l,this._pingPongRenderTarget=null,this._blurMaterial=function LF(f){const l=new Float32Array(f),d=new Ce(0,1,0);return new Bd({name:"SphericalGaussianBlur",defines:{n:f},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:l},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:d},inputEncoding:{value:nd[yn]},outputEncoding:{value:nd[yn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:De,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(l,d=0,m=.1,v=100){gM=this._renderer.getRenderTarget();const _=this._allocateTargets();return this._sceneToCubeUV(l,m,v,_),d>0&&this._blur(_,0,0,d),this._applyPMREM(_),this._cleanup(_),_}fromEquirectangular(l){return this._fromTexture(l)}fromCubemap(l){return this._fromTexture(l)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=PF(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=fA(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let l=0;l<Hf.length;l++)Hf[l].dispose()}_cleanup(l){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(gM),l.scissorTest=!1,vM(l,0,0,l.width,l.height)}_fromTexture(l){gM=this._renderer.getRenderTarget();const d=this._allocateTargets(l);return this._textureToCubeUV(l,d),this._applyPMREM(d),this._cleanup(d),d}_allocateTargets(l){const d={magFilter:Bn,minFilter:Bn,generateMipmaps:!1,type:ua,format:$o,encoding:(f=l,void 0===f||f.type!==ua||f.encoding!==yn&&f.encoding!==Jn&&f.encoding!==ji?Ms:l.encoding),depthBuffer:!1},m=hA(d);var f;return m.depthBuffer=!l,this._pingPongRenderTarget=hA(d),m}_compileMaterial(l){const d=new ln(Hf[0],l);this._renderer.compile(d,pv)}_sceneToCubeUV(l,d,m,v){const D=new ss(90,1,d,m),k=[1,-1,1,1,1,1],O=[1,1,1,-1,-1,-1],U=this._renderer,H=U.autoClear,V=U.outputEncoding,W=U.toneMapping;U.getClearColor(mM),U.toneMapping=fi,U.outputEncoding=yn,U.autoClear=!1;let J=!1;const ee=l.background;if(ee){if(ee.isColor){zh.color.copy(ee).convertSRGBToLinear(),l.background=null;const se=dA(zh.color);zh.opacity=se,J=!0}}else{zh.color.copy(mM).convertSRGBToLinear();const se=dA(zh.color);zh.opacity=se,J=!0}for(let se=0;se<6;se++){const ie=se%3;0==ie?(D.up.set(0,k[se],0),D.lookAt(O[se],0,0)):1==ie?(D.up.set(0,0,k[se]),D.lookAt(0,O[se],0)):(D.up.set(0,k[se],0),D.lookAt(0,0,O[se])),vM(v,ie*jd,se>2?jd:0,jd,jd),U.setRenderTarget(v),J&&U.render(Uh,D),U.render(l,D)}U.toneMapping=W,U.outputEncoding=V,U.autoClear=H}_textureToCubeUV(l,d){const m=this._renderer;l.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=PF()):null==this._equirectShader&&(this._equirectShader=fA());const v=l.isCubeTexture?this._cubemapShader:this._equirectShader,_=new ln(Hf[0],v),x=v.uniforms;x.envMap.value=l,l.isCubeTexture||x.texelSize.value.set(1/l.image.width,1/l.image.height),x.inputEncoding.value=nd[l.encoding],x.outputEncoding.value=nd[d.texture.encoding],vM(d,0,0,3*jd,2*jd),m.setRenderTarget(d),m.render(_,pv)}_applyPMREM(l){const d=this._renderer,m=d.autoClear;d.autoClear=!1;for(let v=1;v<AE;v++){const _=Math.sqrt(pM[v]*pM[v]-pM[v-1]*pM[v-1]);this._blur(l,v-1,v,_,vv[(v-1)%vv.length])}d.autoClear=m}_blur(l,d,m,v,_){const x=this._pingPongRenderTarget;this._halfBlur(l,x,d,m,v,"latitudinal",_),this._halfBlur(x,l,m,m,v,"longitudinal",_)}_halfBlur(l,d,m,v,_,x,D){const k=this._renderer,O=this._blurMaterial;"latitudinal"!==x&&"longitudinal"!==x&&console.error("blur direction must be either latitudinal or longitudinal!");const H=new ln(Hf[v],O),V=O.uniforms,W=mv[m]-1,J=isFinite(_)?Math.PI/(2*W):2*Math.PI/39,ee=_/J,se=isFinite(_)?1+Math.floor(3*ee):20;se>20&&console.warn(`sigmaRadians, ${_}, is too large and will clip, as it requested ${se} samples when the maximum is set to 20`);const ie=[];let X=0;for(let Me=0;Me<20;++Me){const tt=Me/ee,At=Math.exp(-tt*tt/2);ie.push(At),0==Me?X+=At:Me<se&&(X+=2*At)}for(let Me=0;Me<ie.length;Me++)ie[Me]=ie[Me]/X;V.envMap.value=l.texture,V.samples.value=se,V.weights.value=ie,V.latitudinal.value="latitudinal"===x,D&&(V.poleAxis.value=D),V.dTheta.value=J,V.mipInt.value=8-m,V.inputEncoding.value=nd[l.texture.encoding],V.outputEncoding.value=nd[l.texture.encoding];const Re=mv[v];vM(d,3*Math.max(0,jd-2*Re),(0===v?0:2*jd)+2*Re*(v>4?v-8+4:0),3*Re,2*Re),k.setRenderTarget(d),k.render(H,pv)}}function j8(){const f=[],l=[],d=[];let m=8;for(let v=0;v<AE;v++){const _=Math.pow(2,m);l.push(_);let x=1/_;v>4?x=DE[v-8+4-1]:0==v&&(x=0),d.push(x);const D=1/(_-1),k=-D/2,O=1+D/2,U=[k,k,O,k,O,O,k,k,O,O,k,O],H=6,V=6,W=3,J=2,ee=1,se=new Float32Array(W*V*H),ie=new Float32Array(J*V*H),X=new Float32Array(ee*V*H);for(let xe=0;xe<H;xe++){const Ve=xe%3*2/3-1,Me=xe>2?0:-1;se.set([Ve,Me,0,Ve+2/3,Me,0,Ve+2/3,Me+1,0,Ve,Me,0,Ve+2/3,Me+1,0,Ve,Me+1,0],W*V*xe),ie.set(U,J*V*xe),X.set([xe,xe,xe,xe,xe,xe],ee*V*xe)}const Re=new Vr;Re.setAttribute("position",new qr(se,W)),Re.setAttribute("uv",new qr(ie,J)),Re.setAttribute("faceIndex",new qr(X,ee)),f.push(Re),m>4&&m--}return{_lodPlanes:f,_sizeLods:l,_sigmas:d}}function hA(f){const l=new qn(3*jd,3*jd,f);return l.texture.mapping=mt,l.texture.name="PMREM.cubeUv",l.scissorTest=!0,l}function vM(f,l,d,m,v){f.viewport.set(l,d,m,v),f.scissor.set(l,d,m,v)}function fA(){const f=new _n(1,1);return new Bd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:f},inputEncoding:{value:nd[yn]},outputEncoding:{value:nd[yn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:De,depthTest:!1,depthWrite:!1})}function PF(){return new Bd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:nd[yn]},outputEncoding:{value:nd[yn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:De,depthTest:!1,depthWrite:!1})}const IF=0,OE=1,NF=0,FF=1,HF=2;function BF(f){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),f}function VF(f=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),f.isMultiMaterial=!0,f.materials=f,f.clone=function(){return f.slice()},f}function zF(f,l){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Zg(f,l)}function _M(f){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new HC(f)}function im(f,l){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Zg(f,l)}function W8(f){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Lh(f)}function U_(f){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Lh(f)}function UF(f){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Lh(f)}function jF(f,l,d){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ce(f,l,d)}function kE(f,l){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new qr(f,l).setUsage(Nc)}function WF(f,l){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new oi(f,l)}function Wd(f,l){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new wf(f,l)}function j_(f,l){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Cg(f,l)}function xl(f,l){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new kp(f,l)}function om(f,l){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ch(f,l)}function bM(f,l){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Lp(f,l)}function vc(f,l){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Od(f,l)}function qo(f,l){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new yr(f,l)}function yv(f,l){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new mn(f,l)}function _v(f){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new fM(f)}function bv(f,l){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new hM(f,l)}function wv(f,l){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new rl(new $C(f.geometry),new Ia({color:void 0!==l?l:16777215}))}function Mv(f,l){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new rl(new w_(f.geometry),new Ia({color:void 0!==l?l:16777215}))}function Sv(f){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Lu(f)}function xv(f){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new oE(f)}function Cv(f,l,d){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Dg(f,d)}function Ev(){console.error("THREE.CanvasRenderer has been removed")}function pA(){console.error("THREE.JSONLoader has been removed.")}Sl.create=function(f,l){return console.log("THREE.Curve.create() has been deprecated"),f.prototype=Object.create(Sl.prototype),f.prototype.constructor=f,f.prototype.getPoint=l,f},qp.prototype.fromPoints=function(f){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(f)},CE.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},iA.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Xs.prototype.extractUrlBase=function(f){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),I_.extractUrlBase(f)},Xs.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},dv.prototype.center=function(f){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(f)},dv.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},dv.prototype.isIntersectionBox=function(f){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(f)},dv.prototype.size=function(f){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(f)},js.prototype.center=function(f){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(f)},js.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},js.prototype.isIntersectionBox=function(f){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(f)},js.prototype.isIntersectionSphere=function(f){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(f)},js.prototype.size=function(f){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(f)},Cd.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},kd.prototype.setFromMatrix=function(f){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(f)},nA.prototype.center=function(f){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(f)},Dr.random16=function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},Dr.nearestPowerOfTwo=function(f){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Dr.floorPowerOfTwo(f)},Dr.nextPowerOfTwo=function(f){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Dr.ceilPowerOfTwo(f)},Os.prototype.flattenToArrayOffset=function(f,l){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(f,l)},Os.prototype.multiplyVector3=function(f){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),f.applyMatrix3(this)},Os.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Os.prototype.applyToBufferAttribute=function(f){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),f.applyMatrix3(this)},Os.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Os.prototype.getInverse=function(f){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(f).invert()},Br.prototype.extractPosition=function(f){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(f)},Br.prototype.flattenToArrayOffset=function(f,l){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(f,l)},Br.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Ce).setFromMatrixColumn(this,3)},Br.prototype.setRotationFromQuaternion=function(f){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(f)},Br.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Br.prototype.multiplyVector3=function(f){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),f.applyMatrix4(this)},Br.prototype.multiplyVector4=function(f){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),f.applyMatrix4(this)},Br.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Br.prototype.rotateAxis=function(f){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),f.transformDirection(this)},Br.prototype.crossVector=function(f){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),f.applyMatrix4(this)},Br.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Br.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Br.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Br.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Br.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Br.prototype.applyToBufferAttribute=function(f){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),f.applyMatrix4(this)},Br.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Br.prototype.makeFrustum=function(f,l,d,m,v,_){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(f,l,m,d,v,_)},Br.prototype.getInverse=function(f){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(f).invert()},iu.prototype.isIntersectionLine=function(f){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(f)},Sr.prototype.multiplyVector3=function(f){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),f.applyQuaternion(this)},Sr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Ed.prototype.isIntersectionBox=function(f){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(f)},Ed.prototype.isIntersectionPlane=function(f){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(f)},Ed.prototype.isIntersectionSphere=function(f){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(f)},ts.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},ts.prototype.barycoordFromPoint=function(f,l){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(f,l)},ts.prototype.midpoint=function(f){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(f)},ts.prototypenormal=function(f){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(f)},ts.prototype.plane=function(f){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(f)},ts.barycoordFromPoint=function(f,l,d,m,v){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ts.getBarycoord(f,l,d,m,v)},ts.normal=function(f,l,d,m){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ts.getNormal(f,l,d,m)},Jp.prototype.extractAllPoints=function(f){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(f)},Jp.prototype.extrude=function(f){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Fd(this,f)},Jp.prototype.makeGeometry=function(f){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Jg(this,f)},_n.prototype.fromAttribute=function(f,l,d){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(f,l,d)},_n.prototype.distanceToManhattan=function(f){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(f)},_n.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ce.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Ce.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Ce.prototype.getPositionFromMatrix=function(f){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(f)},Ce.prototype.getScaleFromMatrix=function(f){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(f)},Ce.prototype.getColumnFromMatrix=function(f,l){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(l,f)},Ce.prototype.applyProjection=function(f){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(f)},Ce.prototype.fromAttribute=function(f,l,d){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(f,l,d)},Ce.prototype.distanceToManhattan=function(f){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(f)},Ce.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Di.prototype.fromAttribute=function(f,l,d){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(f,l,d)},Di.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Zr.prototype.getChildByName=function(f){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(f)},Zr.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Zr.prototype.translate=function(f,l){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(l,f)},Zr.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Zr.prototype.applyMatrix=function(f){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(f)},Object.defineProperties(Zr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(f){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=f}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),ln.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(ln.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),ni},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(m0.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(f_.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),h_.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Sl.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(f){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=f}}),ss.prototype.setLens=function(f,l){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==l&&(this.filmGauge=l),this.setFocalLength(f)},Object.defineProperties(Pu.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(f){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=f}},shadowCameraLeft:{set:function(f){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=f}},shadowCameraRight:{set:function(f){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=f}},shadowCameraTop:{set:function(f){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=f}},shadowCameraBottom:{set:function(f){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=f}},shadowCameraNear:{set:function(f){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=f}},shadowCameraFar:{set:function(f){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=f}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(f){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=f}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(f){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=f}},shadowMapHeight:{set:function(f){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=f}}}),Object.defineProperties(qr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Nc},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Nc)}}}),qr.prototype.setDynamic=function(f){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===f?Nc:eu),this},qr.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},qr.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Vr.prototype.addIndex=function(f){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(f)},Vr.prototype.addAttribute=function(f,l){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),l&&l.isBufferAttribute||l&&l.isInterleavedBufferAttribute?"index"===f?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(l),this):this.setAttribute(f,l):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(f,new qr(arguments[1],arguments[2])))},Vr.prototype.addDrawCall=function(f,l,d){void 0!==d&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(f,l)},Vr.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Vr.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Vr.prototype.removeAttribute=function(f){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(f)},Vr.prototype.applyMatrix=function(f){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(f)},Object.defineProperties(Vr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Qp.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(f){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=f}}}),Object.defineProperties(QD.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(f){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=f}}}),Object.defineProperties(au.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Nc},set:function(f){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(f)}}}),au.prototype.setDynamic=function(f){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===f?Nc:eu),this},au.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Fd.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Fd.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Fd.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},wi.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Object.defineProperties(H_.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(zo.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new hr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(f){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=f===Te}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(f){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=f}}}),Object.defineProperties(B0.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Hh.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(f){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=f}}}),Object.defineProperties(Ls.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(f){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=f}}}),ns.prototype.clearTarget=function(f,l,d,m){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(f),this.clear(l,d,m)},ns.prototype.animate=function(f){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(f)},ns.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},ns.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},ns.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},ns.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},ns.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},ns.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},ns.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},ns.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},ns.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},ns.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},ns.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},ns.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},ns.prototype.enableScissorTest=function(f){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(f)},ns.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},ns.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},ns.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},ns.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},ns.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},ns.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},ns.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},ns.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},ns.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},ns.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(ns.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(f){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=f}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(f){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=f}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(f){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===f?Jn:yn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(lD.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(qn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(f){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=f}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(f){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=f}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(f){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=f}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(f){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=f}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(f){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=f}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(f){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=f}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(f){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=f}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(f){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=f}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(f){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=f}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(f){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=f}}}),Object.defineProperties(N_.prototype,{load:{value:function(f){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const l=this;return(new gF).load(f,function(m){l.setBuffer(m)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),ZD.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Rg.prototype.updateCubeMap=function(f,l){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(f,l)},Rg.prototype.clear=function(f,l,d,m){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(f,l,d,m)},oc.crossOrigin=void 0,oc.loadTexture=function(f,l,d,m){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const v=new R_;v.setCrossOrigin(this.crossOrigin);const _=v.load(f,d,void 0,m);return l&&(_.mapping=l),_},oc.loadTextureCube=function(f,l,d,m){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const v=new AD;v.setCrossOrigin(this.crossOrigin);const _=v.load(f,d,void 0,m);return l&&(_.mapping=l),_},oc.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},oc.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const mA={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function gA(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:M}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=M)},8120:function(Q){Q.exports=function(){"use strict";function ue(qe){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Xe){return typeof Xe}:function(Xe){return Xe&&"function"==typeof Symbol&&Xe.constructor===Symbol&&Xe!==Symbol.prototype?"symbol":typeof Xe})(qe)}function b(qe,Xe){return(b=Object.setPrototypeOf||function(yt,mt){return yt.__proto__=mt,yt})(qe,Xe)}function L(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(qe){return!1}}function M(qe,Xe,Ze){return(M=L()?Reflect.construct:function(mt,Ct,qt){var hn=[null];hn.push.apply(hn,Ct);var Bn=new(Function.bind.apply(mt,hn));return qt&&b(Bn,qt.prototype),Bn}).apply(null,arguments)}function T(qe){return function R(qe){if(Array.isArray(qe))return F(qe)}(qe)||function A(qe){if("undefined"!=typeof Symbol&&null!=qe[Symbol.iterator]||null!=qe["@@iterator"])return Array.from(qe)}(qe)||function N(qe,Xe){if(qe){if("string"==typeof qe)return F(qe,Xe);var Ze=Object.prototype.toString.call(qe).slice(8,-1);if("Object"===Ze&&qe.constructor&&(Ze=qe.constructor.name),"Map"===Ze||"Set"===Ze)return Array.from(qe);if("Arguments"===Ze||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze))return F(qe,Xe)}}(qe)||function Y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(qe,Xe){(null==Xe||Xe>qe.length)&&(Xe=qe.length);for(var Ze=0,yt=new Array(Xe);Ze<Xe;Ze++)yt[Ze]=qe[Ze];return yt}var te=Object.hasOwnProperty,oe=Object.setPrototypeOf,ae=Object.isFrozen,fe=Object.getPrototypeOf,me=Object.getOwnPropertyDescriptor,K=Object.freeze,ce=Object.seal,Te=Object.create,Fe="undefined"!=typeof Reflect&&Reflect,De=Fe.apply,Ue=Fe.construct;De||(De=function(Xe,Ze,yt){return Xe.apply(Ze,yt)}),K||(K=function(Xe){return Xe}),ce||(ce=function(Xe){return Xe}),Ue||(Ue=function(Xe,Ze){return M(Xe,T(Ze))});var rt=Kt(Array.prototype.forEach),Ye=Kt(Array.prototype.pop),Oe=Kt(Array.prototype.push),Ke=Kt(String.prototype.toLowerCase),ct=Kt(String.prototype.match),nt=Kt(String.prototype.replace),vt=Kt(String.prototype.indexOf),Pt=Kt(String.prototype.trim),Ft=Kt(RegExp.prototype.test),Wt=function Zt(qe){return function(){for(var Xe=arguments.length,Ze=new Array(Xe),yt=0;yt<Xe;yt++)Ze[yt]=arguments[yt];return Ue(qe,Ze)}}(TypeError);function Kt(qe){return function(Xe){for(var Ze=arguments.length,yt=new Array(Ze>1?Ze-1:0),mt=1;mt<Ze;mt++)yt[mt-1]=arguments[mt];return De(qe,Xe,yt)}}function Nt(qe,Xe,Ze){Ze=Ze||Ke,oe&&oe(qe,null);for(var yt=Xe.length;yt--;){var mt=Xe[yt];if("string"==typeof mt){var Ct=Ze(mt);Ct!==mt&&(ae(Xe)||(Xe[yt]=Ct),mt=Ct)}qe[mt]=!0}return qe}function Ne(qe){var Ze,Xe=Te(null);for(Ze in qe)De(te,qe,[Ze])&&(Xe[Ze]=qe[Ze]);return Xe}function ge(qe,Xe){for(;null!==qe;){var Ze=me(qe,Xe);if(Ze){if(Ze.get)return Kt(Ze.get);if("function"==typeof Ze.value)return Kt(Ze.value)}qe=fe(qe)}return function yt(mt){return console.warn("fallback value for",mt),null}}var dt=K(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Rt=K(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Yt=K(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bn=K(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Mn=K(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ht=K(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Zn=K(["#text"]),Un=K(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Wn=K(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),In=K(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Mr=K(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Rn=ce(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nn=ce(/<%[\w\W]*|[\w\W]*%>/gm),$r=ce(/^data-[\-\w.\u00B7-\uFFFF]/),yi=ce(/^aria-[\-\w]+$/),_i=ce(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fi=ce(/^(?:\w+script|data):/i),cr=ce(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_e=ce(/^html$/i),He=function(){return"undefined"==typeof window?null:window},Qe=function(Xe,Ze){if("object"!==ue(Xe)||"function"!=typeof Xe.createPolicy)return null;var yt=null,mt="data-tt-policy-suffix";Ze.currentScript&&Ze.currentScript.hasAttribute(mt)&&(yt=Ze.currentScript.getAttribute(mt));var Ct="dompurify"+(yt?"#"+yt:"");try{return Xe.createPolicy(Ct,{createHTML:function(hn){return hn},createScriptURL:function(hn){return hn}})}catch(qt){return console.warn("TrustedTypes policy "+Ct+" could not be created."),null}};return function St(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He(),Xe=function(Et){return St(Et)};if(Xe.version="2.4.0",Xe.removed=[],!qe||!qe.document||9!==qe.document.nodeType)return Xe.isSupported=!1,Xe;var Ze=qe.document,yt=qe.document,mt=qe.DocumentFragment,Ct=qe.HTMLTemplateElement,qt=qe.Node,hn=qe.Element,Sn=qe.NodeFilter,Bn=qe.NamedNodeMap,br=void 0===Bn?qe.NamedNodeMap||qe.MozNamedAttrMap:Bn,ai=qe.HTMLFormElement,ui=qe.DOMParser,pi=qe.trustedTypes,Ii=hn.prototype,vu=ge(Ii,"cloneNode"),Xl=ge(Ii,"nextSibling"),qi=ge(Ii,"childNodes"),la=ge(Ii,"parentNode");if("function"==typeof Ct){var ua=yt.createElement("template");ua.content&&ua.content.ownerDocument&&(yt=ua.content.ownerDocument)}var Ao=Qe(pi,Ze),ms=Ao?Ao.createHTML(""):"",Kl=yt.implementation,yu=yt.createNodeIterator,Zl=yt.createDocumentFragment,gs=yt.getElementsByTagName,mg=Ze.importNode,kc={};try{kc=Ne(yt).documentMode?yt.documentMode:{}}catch(Pr){}var Ra={};Xe.isSupported="function"==typeof la&&Kl&&void 0!==Kl.createHTMLDocument&&9!==kc;var Bi,As,Qn=Rn,dh=nn,ec=$r,Ko=yi,fl=fi,So=cr,$o=_i,Oo=null,xo=Nt({},[].concat(T(dt),T(Rt),T(Yt),T(Mn),T(Zn))),Zo=null,pl=Nt({},[].concat(T(Un),T(Wn),T(In),T(Mr))),Ri=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Vs=null,Ka=null,Za=!0,hh=!0,fh=!1,_u=!1,ko=!1,tc=!1,ph=!1,bu=!1,nc=!1,mh=!1,ff=!0,Qo=!1,Lc="user-content-",gh=!0,rc=!1,ro={},ql=null,Lo=Nt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),vh=null,wp=Nt({},["audio","video","img","source","image","track"]),Qi=null,zr=Nt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pc="http://www.w3.org/1998/Math/MathML",Mp="http://www.w3.org/2000/svg",sn="http://www.w3.org/1999/xhtml",ml=sn,Qr=!1,wd=["application/xhtml+xml","text/html"],wu="text/html",Jl=null,Da=yt.createElement("form"),gg=function(Et){return Et instanceof RegExp||Et instanceof Function},pf=function(Et){Jl&&Jl===Et||((!Et||"object"!==ue(Et))&&(Et={}),Et=Ne(Et),Bi=Bi=-1===wd.indexOf(Et.PARSER_MEDIA_TYPE)?wu:Et.PARSER_MEDIA_TYPE,As="application/xhtml+xml"===Bi?function(yn){return yn}:Ke,Oo="ALLOWED_TAGS"in Et?Nt({},Et.ALLOWED_TAGS,As):xo,Zo="ALLOWED_ATTR"in Et?Nt({},Et.ALLOWED_ATTR,As):pl,Qi="ADD_URI_SAFE_ATTR"in Et?Nt(Ne(zr),Et.ADD_URI_SAFE_ATTR,As):zr,vh="ADD_DATA_URI_TAGS"in Et?Nt(Ne(wp),Et.ADD_DATA_URI_TAGS,As):wp,ql="FORBID_CONTENTS"in Et?Nt({},Et.FORBID_CONTENTS,As):Lo,Vs="FORBID_TAGS"in Et?Nt({},Et.FORBID_TAGS,As):{},Ka="FORBID_ATTR"in Et?Nt({},Et.FORBID_ATTR,As):{},ro="USE_PROFILES"in Et&&Et.USE_PROFILES,Za=!1!==Et.ALLOW_ARIA_ATTR,hh=!1!==Et.ALLOW_DATA_ATTR,fh=Et.ALLOW_UNKNOWN_PROTOCOLS||!1,_u=Et.SAFE_FOR_TEMPLATES||!1,ko=Et.WHOLE_DOCUMENT||!1,bu=Et.RETURN_DOM||!1,nc=Et.RETURN_DOM_FRAGMENT||!1,mh=Et.RETURN_TRUSTED_TYPE||!1,ph=Et.FORCE_BODY||!1,ff=!1!==Et.SANITIZE_DOM,Qo=Et.SANITIZE_NAMED_PROPS||!1,gh=!1!==Et.KEEP_CONTENT,rc=Et.IN_PLACE||!1,$o=Et.ALLOWED_URI_REGEXP||$o,ml=Et.NAMESPACE||sn,Et.CUSTOM_ELEMENT_HANDLING&&gg(Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ri.tagNameCheck=Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&gg(Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ri.attributeNameCheck=Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ri.allowCustomizedBuiltInElements=Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_u&&(hh=!1),nc&&(bu=!0),ro&&(Oo=Nt({},T(Zn)),Zo=[],!0===ro.html&&(Nt(Oo,dt),Nt(Zo,Un)),!0===ro.svg&&(Nt(Oo,Rt),Nt(Zo,Wn),Nt(Zo,Mr)),!0===ro.svgFilters&&(Nt(Oo,Yt),Nt(Zo,Wn),Nt(Zo,Mr)),!0===ro.mathMl&&(Nt(Oo,Mn),Nt(Zo,In),Nt(Zo,Mr))),Et.ADD_TAGS&&(Oo===xo&&(Oo=Ne(Oo)),Nt(Oo,Et.ADD_TAGS,As)),Et.ADD_ATTR&&(Zo===pl&&(Zo=Ne(Zo)),Nt(Zo,Et.ADD_ATTR,As)),Et.ADD_URI_SAFE_ATTR&&Nt(Qi,Et.ADD_URI_SAFE_ATTR,As),Et.FORBID_CONTENTS&&(ql===Lo&&(ql=Ne(ql)),Nt(ql,Et.FORBID_CONTENTS,As)),gh&&(Oo["#text"]=!0),ko&&Nt(Oo,["html","head","body"]),Oo.table&&(Nt(Oo,["tbody"]),delete Vs.tbody),K&&K(Et),Jl=Et)},vg=Nt({},["mi","mo","mn","ms","mtext"]),Fl=Nt({},["foreignobject","desc","title","annotation-xml"]),Ly=Nt({},["title","style","font","a","script"]),Md=Nt({},Rt);Nt(Md,Yt),Nt(Md,bn);var Sp=Nt({},Mn);Nt(Sp,Ht);var yg=function(Et){var yn=la(Et);(!yn||!yn.tagName)&&(yn={namespaceURI:sn,tagName:"template"});var Jn=Ke(Et.tagName),ji=Ke(yn.tagName);return Et.namespaceURI===Mp?yn.namespaceURI===sn?"svg"===Jn:yn.namespaceURI===Pc?"svg"===Jn&&("annotation-xml"===ji||vg[ji]):Boolean(Md[Jn]):Et.namespaceURI===Pc?yn.namespaceURI===sn?"math"===Jn:yn.namespaceURI===Mp?"math"===Jn&&Fl[ji]:Boolean(Sp[Jn]):Et.namespaceURI===sn&&!(yn.namespaceURI===Mp&&!Fl[ji]||yn.namespaceURI===Pc&&!vg[ji])&&!Sp[Jn]&&(Ly[Jn]||!Md[Jn])},Ql=function(Et){Oe(Xe.removed,{element:Et});try{Et.parentNode.removeChild(Et)}catch(yn){try{Et.outerHTML=ms}catch(Jn){Et.remove()}}},xp=function(Et,yn){try{Oe(Xe.removed,{attribute:yn.getAttributeNode(Et),from:yn})}catch(Jn){Oe(Xe.removed,{attribute:null,from:yn})}if(yn.removeAttribute(Et),"is"===Et&&!Zo[Et])if(bu||nc)try{Ql(yn)}catch(Jn){}else try{yn.setAttribute(Et,"")}catch(Jn){}},Cp=function(Et){var yn,Jn;if(ph)Et="<remove></remove>"+Et;else{var ji=ct(Et,/^[\r\n\t ]+/);Jn=ji&&ji[0]}"application/xhtml+xml"===Bi&&(Et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Et+"</body></html>");var Ms=Ao?Ao.createHTML(Et):Et;if(ml===sn)try{yn=(new ui).parseFromString(Ms,Bi)}catch(vs){}if(!yn||!yn.documentElement){yn=Kl.createDocument(ml,"template",null);try{yn.documentElement.innerHTML=Qr?"":Ms}catch(vs){}}var Ss=yn.body||yn.documentElement;return Et&&Jn&&Ss.insertBefore(yt.createTextNode(Jn),Ss.childNodes[0]||null),ml===sn?gs.call(yn,ko?"html":"body")[0]:ko?yn.documentElement:Ss},yh=function(Et){return yu.call(Et.ownerDocument||Et,Et,Sn.SHOW_ELEMENT|Sn.SHOW_COMMENT|Sn.SHOW_TEXT,null,!1)},qs=function(Et){return Et instanceof ai&&("string"!=typeof Et.nodeName||"string"!=typeof Et.textContent||"function"!=typeof Et.removeChild||!(Et.attributes instanceof br)||"function"!=typeof Et.removeAttribute||"function"!=typeof Et.setAttribute||"string"!=typeof Et.namespaceURI||"function"!=typeof Et.insertBefore)},Ui=function(Et){return"object"===ue(qt)?Et instanceof qt:Et&&"object"===ue(Et)&&"number"==typeof Et.nodeType&&"string"==typeof Et.nodeName},Aa=function(Et,yn,Jn){!Ra[Et]||rt(Ra[Et],function(ji){ji.call(Xe,yn,Jn,Jl)})},Ic=function(Et){var yn;if(Aa("beforeSanitizeElements",Et,null),qs(Et)||Ft(/[\u0080-\uFFFF]/,Et.nodeName))return Ql(Et),!0;var Jn=As(Et.nodeName);if(Aa("uponSanitizeElement",Et,{tagName:Jn,allowedTags:Oo}),Et.hasChildNodes()&&!Ui(Et.firstElementChild)&&(!Ui(Et.content)||!Ui(Et.content.firstElementChild))&&Ft(/<[/\w]/g,Et.innerHTML)&&Ft(/<[/\w]/g,Et.textContent)||"select"===Jn&&Ft(/<template/i,Et.innerHTML))return Ql(Et),!0;if(!Oo[Jn]||Vs[Jn]){if(!Vs[Jn]&&fn(Jn)&&(Ri.tagNameCheck instanceof RegExp&&Ft(Ri.tagNameCheck,Jn)||Ri.tagNameCheck instanceof Function&&Ri.tagNameCheck(Jn)))return!1;if(gh&&!ql[Jn]){var ji=la(Et)||Et.parentNode,Ms=qi(Et)||Et.childNodes;if(Ms&&ji)for(var vs=Ms.length-1;vs>=0;--vs)ji.insertBefore(vu(Ms[vs],!0),Xl(Et))}return Ql(Et),!0}return Et instanceof hn&&!yg(Et)||("noscript"===Jn||"noembed"===Jn)&&Ft(/<\/no(script|embed)/i,Et.innerHTML)?(Ql(Et),!0):(_u&&3===Et.nodeType&&(yn=nt(yn=Et.textContent,Qn," "),yn=nt(yn,dh," "),Et.textContent!==yn&&(Oe(Xe.removed,{element:Et.cloneNode()}),Et.textContent=yn)),Aa("afterSanitizeElements",Et,null),!1)},_h=function(Et,yn,Jn){if(ff&&("id"===yn||"name"===yn)&&(Jn in yt||Jn in Da))return!1;if((!hh||Ka[yn]||!Ft(ec,yn))&&(!Za||!Ft(Ko,yn)))if(!Zo[yn]||Ka[yn]){if(!(fn(Et)&&(Ri.tagNameCheck instanceof RegExp&&Ft(Ri.tagNameCheck,Et)||Ri.tagNameCheck instanceof Function&&Ri.tagNameCheck(Et))&&(Ri.attributeNameCheck instanceof RegExp&&Ft(Ri.attributeNameCheck,yn)||Ri.attributeNameCheck instanceof Function&&Ri.attributeNameCheck(yn))||"is"===yn&&Ri.allowCustomizedBuiltInElements&&(Ri.tagNameCheck instanceof RegExp&&Ft(Ri.tagNameCheck,Jn)||Ri.tagNameCheck instanceof Function&&Ri.tagNameCheck(Jn))))return!1}else if(!Qi[yn]&&!Ft($o,nt(Jn,So,""))&&("src"!==yn&&"xlink:href"!==yn&&"href"!==yn||"script"===Et||0!==vt(Jn,"data:")||!vh[Et])&&(!fh||Ft(fl,nt(Jn,So,"")))&&Jn)return!1;return!0},fn=function(Et){return Et.indexOf("-")>0},Ep=function(Et){var yn,Jn,ji,Ms;Aa("beforeSanitizeAttributes",Et,null);var Ss=Et.attributes;if(Ss){var vs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Zo};for(Ms=Ss.length;Ms--;){var dr=(yn=Ss[Ms]).name,xd=yn.namespaceURI;if(Jn="value"===dr?yn.value:Pt(yn.value),ji=As(dr),vs.attrName=ji,vs.attrValue=Jn,vs.keepAttr=!0,vs.forceKeepAttr=void 0,Aa("uponSanitizeAttribute",Et,vs),Jn=vs.attrValue,!vs.forceKeepAttr&&(xp(dr,Et),vs.keepAttr)){if(Ft(/\/>/i,Jn)){xp(dr,Et);continue}_u&&(Jn=nt(Jn,Qn," "),Jn=nt(Jn,dh," "));var Tp=As(Et.nodeName);if(_h(Tp,ji,Jn)){if(Qo&&("id"===ji||"name"===ji)&&(xp(dr,Et),Jn=Lc+Jn),Ao&&"object"===ue(pi)&&"function"==typeof pi.getAttributeType&&!xd)switch(pi.getAttributeType(Tp,ji)){case"TrustedHTML":Jn=Ao.createHTML(Jn);break;case"TrustedScriptURL":Jn=Ao.createScriptURL(Jn)}try{xd?Et.setAttributeNS(xd,dr,Jn):Et.setAttribute(dr,Jn),Ye(Xe.removed)}catch(zs){}}}}Aa("afterSanitizeAttributes",Et,null)}},ni=function Pr(Et){var yn,Jn=yh(Et);for(Aa("beforeSanitizeShadowDOM",Et,null);yn=Jn.nextNode();)Aa("uponSanitizeShadowNode",yn,null),!Ic(yn)&&(yn.content instanceof mt&&Pr(yn.content),Ep(yn));Aa("afterSanitizeShadowDOM",Et,null)};return Xe.sanitize=function(Pr){var yn,Jn,ji,Ms,Ss,Et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((Qr=!Pr)&&(Pr="\x3c!--\x3e"),"string"!=typeof Pr&&!Ui(Pr)){if("function"!=typeof Pr.toString)throw Wt("toString is not a function");if("string"!=typeof(Pr=Pr.toString()))throw Wt("dirty is not a string, aborting")}if(!Xe.isSupported){if("object"===ue(qe.toStaticHTML)||"function"==typeof qe.toStaticHTML){if("string"==typeof Pr)return qe.toStaticHTML(Pr);if(Ui(Pr))return qe.toStaticHTML(Pr.outerHTML)}return Pr}if(tc||pf(Et),Xe.removed=[],"string"==typeof Pr&&(rc=!1),rc){if(Pr.nodeName){var vs=As(Pr.nodeName);if(!Oo[vs]||Vs[vs])throw Wt("root node is forbidden and cannot be sanitized in-place")}}else if(Pr instanceof qt)1===(Jn=(yn=Cp("\x3c!----\x3e")).ownerDocument.importNode(Pr,!0)).nodeType&&"BODY"===Jn.nodeName||"HTML"===Jn.nodeName?yn=Jn:yn.appendChild(Jn);else{if(!bu&&!_u&&!ko&&-1===Pr.indexOf("<"))return Ao&&mh?Ao.createHTML(Pr):Pr;if(!(yn=Cp(Pr)))return bu?null:mh?ms:""}yn&&ph&&Ql(yn.firstChild);for(var Sd=yh(rc?Pr:yn);ji=Sd.nextNode();)3===ji.nodeType&&ji===Ms||Ic(ji)||(ji.content instanceof mt&&ni(ji.content),Ep(ji),Ms=ji);if(Ms=null,rc)return Pr;if(bu){if(nc)for(Ss=Zl.call(yn.ownerDocument);yn.firstChild;)Ss.appendChild(yn.firstChild);else Ss=yn;return Zo.shadowroot&&(Ss=mg.call(Ze,Ss,!0)),Ss}var dr=ko?yn.outerHTML:yn.innerHTML;return ko&&Oo["!doctype"]&&yn.ownerDocument&&yn.ownerDocument.doctype&&yn.ownerDocument.doctype.name&&Ft(_e,yn.ownerDocument.doctype.name)&&(dr="<!DOCTYPE "+yn.ownerDocument.doctype.name+">\n"+dr),_u&&(dr=nt(dr,Qn," "),dr=nt(dr,dh," ")),Ao&&mh?Ao.createHTML(dr):dr},Xe.setConfig=function(Pr){pf(Pr),tc=!0},Xe.clearConfig=function(){Jl=null,tc=!1},Xe.isValidAttribute=function(Pr,Et,yn){Jl||pf({});var Jn=As(Pr),ji=As(Et);return _h(Jn,ji,yn)},Xe.addHook=function(Pr,Et){"function"==typeof Et&&(Ra[Pr]=Ra[Pr]||[],Oe(Ra[Pr],Et))},Xe.removeHook=function(Pr){if(Ra[Pr])return Ye(Ra[Pr])},Xe.removeHooks=function(Pr){Ra[Pr]&&(Ra[Pr]=[])},Xe.removeAllHooks=function(){Ra={}},Xe}()}()},5226:function(Q,ue){var M;void 0!==(M=function(){"use strict";function R(oe,ae,fe){var me=new XMLHttpRequest;me.open("GET",oe),me.responseType="blob",me.onload=function(){te(me.response,ae,fe)},me.onerror=function(){console.error("could not download file")},me.send()}function A(oe){var ae=new XMLHttpRequest;ae.open("HEAD",oe,!1);try{ae.send()}catch(fe){}return 200<=ae.status&&299>=ae.status}function N(oe){try{oe.dispatchEvent(new MouseEvent("click"))}catch(fe){var ae=document.createEvent("MouseEvents");ae.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),oe.dispatchEvent(ae)}}var F="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Y=F.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),te=F.saveAs||("object"!=typeof window||window!==F?function(){}:"download"in HTMLAnchorElement.prototype&&!Y?function(oe,ae,fe){var me=F.URL||F.webkitURL,K=document.createElement("a");K.download=ae=ae||oe.name||"download",K.rel="noopener","string"==typeof oe?(K.href=oe,K.origin===location.origin?N(K):A(K.href)?R(oe,ae,fe):N(K,K.target="_blank")):(K.href=me.createObjectURL(oe),setTimeout(function(){me.revokeObjectURL(K.href)},4e4),setTimeout(function(){N(K)},0))}:"msSaveOrOpenBlob"in navigator?function(oe,ae,fe){if(ae=ae||oe.name||"download","string"!=typeof oe)navigator.msSaveOrOpenBlob(function T(oe,ae){return void 0===ae?ae={autoBom:!1}:"object"!=typeof ae&&(console.warn("Deprecated: Expected third argument to be a object"),ae={autoBom:!ae}),ae.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(oe.type)?new Blob(["\ufeff",oe],{type:oe.type}):oe}(oe,fe),ae);else if(A(oe))R(oe,ae,fe);else{var me=document.createElement("a");me.href=oe,me.target="_blank",setTimeout(function(){N(me)})}}:function(oe,ae,fe,me){if((me=me||open("","_blank"))&&(me.document.title=me.document.body.innerText="downloading..."),"string"==typeof oe)return R(oe,ae,fe);var K="application/octet-stream"===oe.type,ce=/constructor/i.test(F.HTMLElement)||F.safari,Te=/CriOS\/[\d]+/.test(navigator.userAgent);if((Te||K&&ce||Y)&&"undefined"!=typeof FileReader){var Fe=new FileReader;Fe.onloadend=function(){var rt=Fe.result;rt=Te?rt:rt.replace(/^data:[^;]*;/,"data:attachment/file;"),me?me.location.href=rt:location=rt,me=null},Fe.readAsDataURL(oe)}else{var De=F.URL||F.webkitURL,Ue=De.createObjectURL(oe);me?me.location=Ue:location.href=Ue,me=null,setTimeout(function(){De.revokeObjectURL(Ue)},4e4)}});F.saveAs=te.saveAs=te,Q.exports=te}.apply(ue,[]))&&(Q.exports=M)},8685:function(Q,ue,b){!function(L){"use strict";L.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(T){return/^nm$/i.test(T)},meridiem:function(T,R,A){return T<12?A?"vm":"VM":A?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(T){return T+(1===T||8===T||T>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},4312:function(Q,ue,b){!function(L){"use strict";var M=function(F){return 0===F?0:1===F?1:2===F?2:F%100>=3&&F%100<=10?3:F%100>=11?4:5},T={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},R=function(F){return function(Y,te,oe,ae){var fe=M(Y),me=T[F][M(Y)];return 2===fe&&(me=me[te?0:1]),me.replace(/%d/i,Y)}},A=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];L.defineLocale("ar-dz",{months:A,monthsShort:A,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(F){return"\u0645"===F},meridiem:function(F,Y,te){return F<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:R("s"),ss:R("s"),m:R("m"),mm:R("m"),h:R("h"),hh:R("h"),d:R("d"),dd:R("d"),M:R("M"),MM:R("M"),y:R("y"),yy:R("y")},postformat:function(F){return F.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(b(6908))},2614:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(b(6908))},8630:function(Q,ue,b){!function(L){"use strict";var M={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},T=function(Y){return 0===Y?0:1===Y?1:2===Y?2:Y%100>=3&&Y%100<=10?3:Y%100>=11?4:5},R={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},A=function(Y){return function(te,oe,ae,fe){var me=T(te),K=R[Y][T(te)];return 2===me&&(K=K[oe?0:1]),K.replace(/%d/i,te)}},N=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];L.defineLocale("ar-ly",{months:N,monthsShort:N,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(Y){return"\u0645"===Y},meridiem:function(Y,te,oe){return Y<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:A("s"),ss:A("s"),m:A("m"),mm:A("m"),h:A("h"),hh:A("h"),d:A("d"),dd:A("d"),M:A("M"),MM:A("M"),y:A("y"),yy:A("y")},preparse:function(Y){return Y.replace(/\u060c/g,",")},postformat:function(Y){return Y.replace(/\d/g,function(te){return M[te]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},8674:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(b(6908))},9032:function(Q,ue,b){!function(L){"use strict";var M={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},T={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};L.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(A){return"\u0645"===A},meridiem:function(A,N,F){return A<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(A){return A.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(N){return T[N]}).replace(/\u060c/g,",")},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(b(6908))},4730:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(b(6908))},254:function(Q,ue,b){!function(L){"use strict";var M={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},T={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},R=function(te){return 0===te?0:1===te?1:2===te?2:te%100>=3&&te%100<=10?3:te%100>=11?4:5},A={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},N=function(te){return function(oe,ae,fe,me){var K=R(oe),ce=A[te][R(oe)];return 2===K&&(ce=ce[ae?0:1]),ce.replace(/%d/i,oe)}},F=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];L.defineLocale("ar",{months:F,monthsShort:F,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(te){return"\u0645"===te},meridiem:function(te,oe,ae){return te<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:N("s"),ss:N("s"),m:N("m"),mm:N("m"),h:N("h"),hh:N("h"),d:N("d"),dd:N("d"),M:N("M"),MM:N("M"),y:N("y"),yy:N("y")},preparse:function(te){return te.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(oe){return T[oe]}).replace(/\u060c/g,",")},postformat:function(te){return te.replace(/\d/g,function(oe){return M[oe]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},3052:function(Q,ue,b){!function(L){"use strict";var M={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};L.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(R){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(R)},meridiem:function(R,A,N){return R<4?"gec\u0259":R<12?"s\u0259h\u0259r":R<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(R){if(0===R)return R+"-\u0131nc\u0131";var A=R%10;return R+(M[A]||M[R%100-A]||M[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},150:function(Q,ue,b){!function(L){"use strict";function T(A,N,F){return"m"===F?N?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===F?N?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":A+" "+function M(A,N){var F=A.split("_");return N%10==1&&N%100!=11?F[0]:N%10>=2&&N%10<=4&&(N%100<10||N%100>=20)?F[1]:F[2]}({ss:N?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:N?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:N?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[F],+A)}L.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:T,mm:T,h:T,hh:T,d:"\u0434\u0437\u0435\u043d\u044c",dd:T,M:"\u043c\u0435\u0441\u044f\u0446",MM:T,y:"\u0433\u043e\u0434",yy:T},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(A){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(A)},meridiem:function(A,N,F){return A<4?"\u043d\u043e\u0447\u044b":A<12?"\u0440\u0430\u043d\u0456\u0446\u044b":A<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(A,N){switch(N){case"M":case"d":case"DDD":case"w":case"W":return A%10!=2&&A%10!=3||A%100==12||A%100==13?A+"-\u044b":A+"-\u0456";case"D":return A+"-\u0433\u0430";default:return A}},week:{dow:1,doy:7}})}(b(6908))},3069:function(Q,ue,b){!function(L){"use strict";L.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(T){var R=T%10,A=T%100;return 0===T?T+"-\u0435\u0432":0===A?T+"-\u0435\u043d":A>10&&A<20?T+"-\u0442\u0438":1===R?T+"-\u0432\u0438":2===R?T+"-\u0440\u0438":7===R||8===R?T+"-\u043c\u0438":T+"-\u0442\u0438"},week:{dow:1,doy:7}})}(b(6908))},3466:function(Q,ue,b){!function(L){"use strict";L.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(b(6908))},557:function(Q,ue,b){!function(L){"use strict";var M={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},T={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};L.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(A){return A.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u09b0\u09be\u09a4"===N?A<4?A:A+12:"\u09ad\u09cb\u09b0"===N||"\u09b8\u0995\u09be\u09b2"===N?A:"\u09a6\u09c1\u09aa\u09c1\u09b0"===N?A>=3?A:A+12:"\u09ac\u09bf\u0995\u09be\u09b2"===N||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===N?A+12:void 0},meridiem:function(A,N,F){return A<4?"\u09b0\u09be\u09a4":A<6?"\u09ad\u09cb\u09b0":A<12?"\u09b8\u0995\u09be\u09b2":A<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":A<18?"\u09ac\u09bf\u0995\u09be\u09b2":A<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(b(6908))},8516:function(Q,ue,b){!function(L){"use strict";var M={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},T={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};L.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(A){return A.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u09b0\u09be\u09a4"===N&&A>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===N&&A<5||"\u09ac\u09bf\u0995\u09be\u09b2"===N?A+12:A},meridiem:function(A,N,F){return A<4?"\u09b0\u09be\u09a4":A<10?"\u09b8\u0995\u09be\u09b2":A<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":A<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(b(6908))},6273:function(Q,ue,b){!function(L){"use strict";var M={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},T={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};L.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(A){return A.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===N&&A>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===N&&A<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===N?A+12:A},meridiem:function(A,N,F){return A<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":A<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":A<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":A<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(b(6908))},9588:function(Q,ue,b){!function(L){"use strict";function M(ce,Te,Fe){return ce+" "+function A(ce,Te){return 2===Te?function N(ce){var Te={m:"v",b:"v",d:"z"};return void 0===Te[ce.charAt(0)]?ce:Te[ce.charAt(0)]+ce.substring(1)}(ce):ce}({mm:"munutenn",MM:"miz",dd:"devezh"}[Fe],ce)}function R(ce){return ce>9?R(ce%10):ce}var F=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],Y=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,me=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];L.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:me,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:me,monthsRegex:Y,monthsShortRegex:Y,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:F,longMonthsParse:F,shortMonthsParse:F,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:M,h:"un eur",hh:"%d eur",d:"un devezh",dd:M,M:"ur miz",MM:M,y:"ur bloaz",yy:function T(ce){switch(R(ce)){case 1:case 3:case 4:case 5:case 9:return ce+" bloaz";default:return ce+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(ce){return ce+(1===ce?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(ce){return"g.m."===ce},meridiem:function(ce,Te,Fe){return ce<12?"a.m.":"g.m."}})}(b(6908))},9815:function(Q,ue,b){!function(L){"use strict";function M(R,A,N){var F=R+" ";switch(N){case"ss":return F+(1===R?"sekunda":2===R||3===R||4===R?"sekunde":"sekundi");case"m":return A?"jedna minuta":"jedne minute";case"mm":return F+(1===R?"minuta":2===R||3===R||4===R?"minute":"minuta");case"h":return A?"jedan sat":"jednog sata";case"hh":return F+(1===R?"sat":2===R||3===R||4===R?"sata":"sati");case"dd":return F+(1===R?"dan":"dana");case"MM":return F+(1===R?"mjesec":2===R||3===R||4===R?"mjeseca":"mjeseci");case"yy":return F+(1===R?"godina":2===R||3===R||4===R?"godine":"godina")}}L.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:M,m:M,mm:M,h:M,hh:M,d:"dan",dd:M,M:"mjesec",MM:M,y:"godinu",yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},3331:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(T,R){var A=1===T?"r":2===T?"n":3===T?"r":4===T?"t":"\xe8";return("w"===R||"W"===R)&&(A="a"),T+A},week:{dow:1,doy:4}})}(b(6908))},1320:function(Q,ue,b){!function(L){"use strict";var M={format:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),standalone:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_")},T="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),R=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],A=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function N(te){return te>1&&te<5&&1!=~~(te/10)}function F(te,oe,ae,fe){var me=te+" ";switch(ae){case"s":return oe||fe?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return oe||fe?me+(N(te)?"sekundy":"sekund"):me+"sekundami";case"m":return oe?"minuta":fe?"minutu":"minutou";case"mm":return oe||fe?me+(N(te)?"minuty":"minut"):me+"minutami";case"h":return oe?"hodina":fe?"hodinu":"hodinou";case"hh":return oe||fe?me+(N(te)?"hodiny":"hodin"):me+"hodinami";case"d":return oe||fe?"den":"dnem";case"dd":return oe||fe?me+(N(te)?"dny":"dn\xed"):me+"dny";case"M":return oe||fe?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return oe||fe?me+(N(te)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):me+"m\u011bs\xedci";case"y":return oe||fe?"rok":"rokem";case"yy":return oe||fe?me+(N(te)?"roky":"let"):me+"lety"}}L.defineLocale("cs",{months:M,monthsShort:T,monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:F,ss:F,m:F,mm:F,h:F,hh:F,d:F,dd:F,M:F,MM:F,y:F,yy:F},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2219:function(Q,ue,b){!function(L){"use strict";L.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(T){return T+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(T)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(T)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(b(6908))},8266:function(Q,ue,b){!function(L){"use strict";L.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(T){var A="";return T>20?A=40===T||50===T||60===T||80===T||100===T?"fed":"ain":T>0&&(A=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][T]),T+A},week:{dow:1,doy:4}})}(b(6908))},6427:function(Q,ue,b){!function(L){"use strict";L.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2871:function(Q,ue,b){!function(L){"use strict";function M(R,A,N,F){var Y={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[R+" Tage",R+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[R+" Monate",R+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[R+" Jahre",R+" Jahren"]};return A?Y[N][0]:Y[N][1]}L.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:M,mm:"%d Minuten",h:M,hh:"%d Stunden",d:M,dd:M,w:M,ww:"%d Wochen",M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2994:function(Q,ue,b){!function(L){"use strict";function M(R,A,N,F){var Y={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[R+" Tage",R+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[R+" Monate",R+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[R+" Jahre",R+" Jahren"]};return A?Y[N][0]:Y[N][1]}L.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:M,mm:"%d Minuten",h:M,hh:"%d Stunden",d:M,dd:M,w:M,ww:"%d Wochen",M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},7435:function(Q,ue,b){!function(L){"use strict";function M(R,A,N,F){var Y={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[R+" Tage",R+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[R+" Monate",R+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[R+" Jahre",R+" Jahren"]};return A?Y[N][0]:Y[N][1]}L.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:M,mm:"%d Minuten",h:M,hh:"%d Stunden",d:M,dd:M,w:M,ww:"%d Wochen",M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2357:function(Q,ue,b){!function(L){"use strict";var M=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],T=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];L.defineLocale("dv",{months:M,monthsShort:M,weekdays:T,weekdaysShort:T,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(A){return"\u0789\u078a"===A},meridiem:function(A,N,F){return A<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(b(6908))},5649:function(Q,ue,b){!function(L){"use strict";L.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(R,A){return R?"string"==typeof A&&/D/.test(A.substring(0,A.indexOf("MMMM")))?this._monthsGenitiveEl[R.month()]:this._monthsNominativeEl[R.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(R,A,N){return R>11?N?"\u03bc\u03bc":"\u039c\u039c":N?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(R){return"\u03bc"===(R+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){return 6===this.day()?"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT":"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"},sameElse:"L"},calendar:function(R,A){var N=this._calendarEl[R],F=A&&A.hours();return function M(R){return"undefined"!=typeof Function&&R instanceof Function||"[object Function]"===Object.prototype.toString.call(R)}(N)&&(N=N.apply(A)),N.replace("{}",F%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(b(6908))},9961:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:0,doy:4}})}(b(6908))},9878:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")}})}(b(6908))},3924:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},864:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},1579:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")}})}(b(6908))},940:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:0,doy:6}})}(b(6908))},6181:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},4301:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},5291:function(Q,ue,b){!function(L){"use strict";L.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(T){return"p"===T.charAt(0).toLowerCase()},meridiem:function(T,R,A){return T>11?A?"p.t.m.":"P.T.M.":A?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(b(6908))},3764:function(Q,ue,b){!function(L){"use strict";var M="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),T="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;L.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:M[F.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},2584:function(Q,ue,b){!function(L){"use strict";var M="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),T="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;L.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:M[F.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(b(6908))},3425:function(Q,ue,b){!function(L){"use strict";var M="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),T="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;L.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:M[F.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(b(6908))},4529:function(Q,ue,b){!function(L){"use strict";var M="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),T="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;L.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:M[F.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(b(6908))},5203:function(Q,ue,b){!function(L){"use strict";function M(R,A,N,F){var Y={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[R+"sekundi",R+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[R+" minuti",R+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[R+" tunni",R+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[R+" kuu",R+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[R+" aasta",R+" aastat"]};return A?Y[N][2]?Y[N][2]:Y[N][1]:F?Y[N][0]:Y[N][1]}L.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:M,ss:M,m:M,mm:M,h:M,hh:M,d:M,dd:"%d p\xe4eva",M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},678:function(Q,ue,b){!function(L){"use strict";L.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},3483:function(Q,ue,b){!function(L){"use strict";var M={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},T={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};L.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(A){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(A)},meridiem:function(A,N,F){return A<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/[\u06f0-\u06f9]/g,function(N){return T[N]}).replace(/\u060c/g,",")},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(b(6908))},6262:function(Q,ue,b){!function(L){"use strict";var M="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),T=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",M[7],M[8],M[9]];function R(F,Y,te,oe){var ae="";switch(te){case"s":return oe?"muutaman sekunnin":"muutama sekunti";case"ss":ae=oe?"sekunnin":"sekuntia";break;case"m":return oe?"minuutin":"minuutti";case"mm":ae=oe?"minuutin":"minuuttia";break;case"h":return oe?"tunnin":"tunti";case"hh":ae=oe?"tunnin":"tuntia";break;case"d":return oe?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":ae=oe?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return oe?"kuukauden":"kuukausi";case"MM":ae=oe?"kuukauden":"kuukautta";break;case"y":return oe?"vuoden":"vuosi";case"yy":ae=oe?"vuoden":"vuotta"}return function A(F,Y){return F<10?Y?T[F]:M[F]:F}(F,oe)+" "+ae}L.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2521:function(Q,ue,b){!function(L){"use strict";L.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(T){return T},week:{dow:1,doy:4}})}(b(6908))},4555:function(Q,ue,b){!function(L){"use strict";L.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8239:function(Q,ue,b){!function(L){"use strict";L.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(T,R){switch(R){default:case"M":case"Q":case"D":case"DDD":case"d":return T+(1===T?"er":"e");case"w":case"W":return T+(1===T?"re":"e")}}})}(b(6908))},1702:function(Q,ue,b){!function(L){"use strict";L.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(T,R){switch(R){default:case"M":case"Q":case"D":case"DDD":case"d":return T+(1===T?"er":"e");case"w":case"W":return T+(1===T?"re":"e")}},week:{dow:1,doy:4}})}(b(6908))},3131:function(Q,ue,b){!function(L){"use strict";var R=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,A=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];L.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:R,monthsShortRegex:R,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:A,longMonthsParse:A,shortMonthsParse:A,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(F,Y){switch(Y){case"D":return F+(1===F?"er":"");default:case"M":case"Q":case"DDD":case"d":return F+(1===F?"er":"e");case"w":case"W":return F+(1===F?"re":"e")}},week:{dow:1,doy:4}})}(b(6908))},267:function(Q,ue,b){!function(L){"use strict";var M="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),T="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");L.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(A,N){return A?/-MMM-/.test(N)?T[A.month()]:M[A.month()]:M},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(A){return A+(1===A||8===A||A>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},3821:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(Y){return Y+(1===Y?"d":Y%10==2?"na":"mh")},week:{dow:1,doy:4}})}(b(6908))},1753:function(Q,ue,b){!function(L){"use strict";L.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(Y){return Y+(1===Y?"d":Y%10==2?"na":"mh")},week:{dow:1,doy:4}})}(b(6908))},4074:function(Q,ue,b){!function(L){"use strict";L.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(T){return 0===T.indexOf("un")?"n"+T:"en "+T},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},2762:function(Q,ue,b){!function(L){"use strict";function M(R,A,N,F){var Y={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[R+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",R+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[R+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",R+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[R+" \u0935\u0930\u093e\u0902\u0928\u0940",R+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[R+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",R+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[R+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",R+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[R+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",R+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return F?Y[N][0]:Y[N][1]}L.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:M,ss:M,m:M,mm:M,h:M,hh:M,d:M,dd:M,M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(R,A){return"D"===A?R+"\u0935\u0947\u0930":R},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(R,A){return 12===R&&(R=0),"\u0930\u093e\u0924\u0940"===A?R<4?R:R+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===A?R:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===A?R>12?R:R+12:"\u0938\u093e\u0902\u091c\u0947"===A?R+12:void 0},meridiem:function(R,A,N){return R<4?"\u0930\u093e\u0924\u0940":R<12?"\u0938\u0915\u093e\u0933\u0940\u0902":R<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":R<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(b(6908))},5969:function(Q,ue,b){!function(L){"use strict";function M(R,A,N,F){var Y={s:["thoddea sekondamni","thodde sekond"],ss:[R+" sekondamni",R+" sekond"],m:["eka mintan","ek minut"],mm:[R+" mintamni",R+" mintam"],h:["eka voran","ek vor"],hh:[R+" voramni",R+" voram"],d:["eka disan","ek dis"],dd:[R+" disamni",R+" dis"],M:["eka mhoinean","ek mhoino"],MM:[R+" mhoineamni",R+" mhoine"],y:["eka vorsan","ek voros"],yy:[R+" vorsamni",R+" vorsam"]};return F?Y[N][0]:Y[N][1]}L.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:M,ss:M,m:M,mm:M,h:M,hh:M,d:M,dd:M,M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(R,A){return"D"===A?R+"er":R},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(R,A){return 12===R&&(R=0),"rati"===A?R<4?R:R+12:"sokallim"===A?R:"donparam"===A?R>12?R:R+12:"sanje"===A?R+12:void 0},meridiem:function(R,A,N){return R<4?"rati":R<12?"sokallim":R<16?"donparam":R<20?"sanje":"rati"}})}(b(6908))},2809:function(Q,ue,b){!function(L){"use strict";var M={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},T={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};L.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(A){return A.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u0ab0\u0abe\u0aa4"===N?A<4?A:A+12:"\u0ab8\u0ab5\u0abe\u0ab0"===N?A:"\u0aac\u0aaa\u0acb\u0ab0"===N?A>=10?A:A+12:"\u0ab8\u0abe\u0a82\u0a9c"===N?A+12:void 0},meridiem:function(A,N,F){return A<4?"\u0ab0\u0abe\u0aa4":A<10?"\u0ab8\u0ab5\u0abe\u0ab0":A<17?"\u0aac\u0aaa\u0acb\u0ab0":A<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(b(6908))},5402:function(Q,ue,b){!function(L){"use strict";L.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(T){return 2===T?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":T+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(T){return 2===T?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":T+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(T){return 2===T?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":T+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(T){return 2===T?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":T%10==0&&10!==T?T+" \u05e9\u05e0\u05d4":T+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(T){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(T)},meridiem:function(T,R,A){return T<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":T<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":T<12?A?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":T<18?A?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(b(6908))},315:function(Q,ue,b){!function(L){"use strict";var M={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},T={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},R=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];L.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:R,longMonthsParse:R,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(F){return F.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(Y){return T[Y]})},postformat:function(F){return F.replace(/\d/g,function(Y){return M[Y]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(F,Y){return 12===F&&(F=0),"\u0930\u093e\u0924"===Y?F<4?F:F+12:"\u0938\u0941\u092c\u0939"===Y?F:"\u0926\u094b\u092a\u0939\u0930"===Y?F>=10?F:F+12:"\u0936\u093e\u092e"===Y?F+12:void 0},meridiem:function(F,Y,te){return F<4?"\u0930\u093e\u0924":F<10?"\u0938\u0941\u092c\u0939":F<17?"\u0926\u094b\u092a\u0939\u0930":F<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(b(6908))},410:function(Q,ue,b){!function(L){"use strict";function M(R,A,N){var F=R+" ";switch(N){case"ss":return F+(1===R?"sekunda":2===R||3===R||4===R?"sekunde":"sekundi");case"m":return A?"jedna minuta":"jedne minute";case"mm":return F+(1===R?"minuta":2===R||3===R||4===R?"minute":"minuta");case"h":return A?"jedan sat":"jednog sata";case"hh":return F+(1===R?"sat":2===R||3===R||4===R?"sata":"sati");case"dd":return F+(1===R?"dan":"dana");case"MM":return F+(1===R?"mjesec":2===R||3===R||4===R?"mjeseca":"mjeseci");case"yy":return F+(1===R?"godina":2===R||3===R||4===R?"godine":"godina")}}L.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:M,m:M,mm:M,h:M,hh:M,d:"dan",dd:M,M:"mjesec",MM:M,y:"godinu",yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8288:function(Q,ue,b){!function(L){"use strict";var M="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function T(N,F,Y,te){var oe=N;switch(Y){case"s":return te||F?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return oe+(te||F)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(te||F?" perc":" perce");case"mm":return oe+(te||F?" perc":" perce");case"h":return"egy"+(te||F?" \xf3ra":" \xf3r\xe1ja");case"hh":return oe+(te||F?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(te||F?" nap":" napja");case"dd":return oe+(te||F?" nap":" napja");case"M":return"egy"+(te||F?" h\xf3nap":" h\xf3napja");case"MM":return oe+(te||F?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(te||F?" \xe9v":" \xe9ve");case"yy":return oe+(te||F?" \xe9v":" \xe9ve")}return""}function R(N){return(N?"":"[m\xfalt] ")+"["+M[this.day()]+"] LT[-kor]"}L.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(N){return"u"===N.charAt(1).toLowerCase()},meridiem:function(N,F,Y){return N<12?!0===Y?"de":"DE":!0===Y?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return R.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return R.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:T,ss:T,m:T,mm:T,h:T,hh:T,d:T,dd:T,M:T,MM:T,y:T,yy:T},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},7928:function(Q,ue,b){!function(L){"use strict";L.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(T){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(T)},meridiem:function(T){return T<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":T<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":T<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(T,R){switch(R){case"DDD":case"w":case"W":case"DDDo":return 1===T?T+"-\u056b\u0576":T+"-\u0580\u0564";default:return T}},week:{dow:1,doy:7}})}(b(6908))},1334:function(Q,ue,b){!function(L){"use strict";L.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(T,R){return 12===T&&(T=0),"pagi"===R?T:"siang"===R?T>=11?T:T+12:"sore"===R||"malam"===R?T+12:void 0},meridiem:function(T,R,A){return T<11?"pagi":T<15?"siang":T<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(b(6908))},6959:function(Q,ue,b){!function(L){"use strict";function M(A){return A%100==11||A%10!=1}function T(A,N,F,Y){var te=A+" ";switch(F){case"s":return N||Y?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return M(A)?te+(N||Y?"sek\xfandur":"sek\xfandum"):te+"sek\xfanda";case"m":return N?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return M(A)?te+(N||Y?"m\xedn\xfatur":"m\xedn\xfatum"):N?te+"m\xedn\xfata":te+"m\xedn\xfatu";case"hh":return M(A)?te+(N||Y?"klukkustundir":"klukkustundum"):te+"klukkustund";case"d":return N?"dagur":Y?"dag":"degi";case"dd":return M(A)?N?te+"dagar":te+(Y?"daga":"d\xf6gum"):N?te+"dagur":te+(Y?"dag":"degi");case"M":return N?"m\xe1nu\xf0ur":Y?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return M(A)?N?te+"m\xe1nu\xf0ir":te+(Y?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):N?te+"m\xe1nu\xf0ur":te+(Y?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return N||Y?"\xe1r":"\xe1ri";case"yy":return M(A)?te+(N||Y?"\xe1r":"\xe1rum"):te+(N||Y?"\xe1r":"\xe1ri")}}L.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:T,ss:T,m:T,mm:T,h:"klukkustund",hh:T,d:T,dd:T,M:T,MM:T,y:T,yy:T},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1124:function(Q,ue,b){!function(L){"use strict";L.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(T){return(/^[0-9].+$/.test(T)?"tra":"in")+" "+T},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},4864:function(Q,ue,b){!function(L){"use strict";L.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},6141:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(T,R){return"\u5143"===R[1]?1:parseInt(R[1]||T,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(T){return"\u5348\u5f8c"===T},meridiem:function(T,R,A){return T<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(T){return T.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(T){return this.week()!==T.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(T,R){switch(R){case"y":return 1===T?"\u5143\u5e74":T+"\u5e74";case"d":case"D":case"DDD":return T+"\u65e5";default:return T}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(b(6908))},9187:function(Q,ue,b){!function(L){"use strict";L.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(T,R){return 12===T&&(T=0),"enjing"===R?T:"siyang"===R?T>=11?T:T+12:"sonten"===R||"ndalu"===R?T+12:void 0},meridiem:function(T,R,A){return T<11?"enjing":T<15?"siyang":T<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(b(6908))},2136:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(T){return T.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(R,A,N){return"\u10d8"===N?A+"\u10e8\u10d8":A+N+"\u10e8\u10d8"})},past:function(T){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(T)?T.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(T)?T.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):T},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(T){return 0===T?T:1===T?T+"-\u10da\u10d8":T<20||T<=100&&T%20==0||T%100==0?"\u10db\u10d4-"+T:T+"-\u10d4"},week:{dow:1,doy:7}})}(b(6908))},4332:function(Q,ue,b){!function(L){"use strict";var M={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};L.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(R){return R+(M[R]||M[R%10]||M[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},8607:function(Q,ue,b){!function(L){"use strict";var M={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},T={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};L.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(A){return"\u179b\u17d2\u1784\u17b6\u1785"===A},meridiem:function(A,N,F){return A<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(A){return A.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]})},week:{dow:1,doy:4}})}(b(6908))},4305:function(Q,ue,b){!function(L){"use strict";var M={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},T={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};L.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(A){return A.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===N?A<4?A:A+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===N?A:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===N?A>=10?A:A+12:"\u0cb8\u0c82\u0c9c\u0cc6"===N?A+12:void 0},meridiem:function(A,N,F){return A<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":A<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":A<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":A<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(A){return A+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(b(6908))},234:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"\uc77c";case"M":return T+"\uc6d4";case"w":case"W":return T+"\uc8fc";default:return T}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(T){return"\uc624\ud6c4"===T},meridiem:function(T,R,A){return T<12?"\uc624\uc804":"\uc624\ud6c4"}})}(b(6908))},6003:function(Q,ue,b){!function(L){"use strict";var M={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},T={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},R=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];L.defineLocale("ku",{months:R,monthsShort:R,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(N){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(N)},meridiem:function(N,F,Y){return N<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(N){return N.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(F){return T[F]}).replace(/\u060c/g,",")},postformat:function(N){return N.replace(/\d/g,function(F){return M[F]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},5061:function(Q,ue,b){!function(L){"use strict";var M={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};L.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(R){return R+(M[R]||M[R%10]||M[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},2786:function(Q,ue,b){!function(L){"use strict";function M(F,Y,te,oe){var ae={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return Y?ae[te][0]:ae[te][1]}function A(F){if(F=parseInt(F,10),isNaN(F))return!1;if(F<0)return!0;if(F<10)return 4<=F&&F<=7;if(F<100){var Y=F%10;return A(0===Y?F/10:Y)}if(F<1e4){for(;F>=10;)F/=10;return A(F)}return A(F/=1e3)}L.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function T(F){return A(F.substr(0,F.indexOf(" ")))?"a "+F:"an "+F},past:function R(F){return A(F.substr(0,F.indexOf(" ")))?"viru "+F:"virun "+F},s:"e puer Sekonnen",ss:"%d Sekonnen",m:M,mm:"%d Minutten",h:M,hh:"%d Stonnen",d:M,dd:"%d Deeg",M,MM:"%d M\xe9int",y:M,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},6183:function(Q,ue,b){!function(L){"use strict";L.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(T){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===T},meridiem:function(T,R,A){return T<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(T){return"\u0e97\u0eb5\u0ec8"+T}})}(b(6908))},29:function(Q,ue,b){!function(L){"use strict";var M={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function R(te,oe,ae,fe){return oe?N(ae)[0]:fe?N(ae)[1]:N(ae)[2]}function A(te){return te%10==0||te>10&&te<20}function N(te){return M[te].split("_")}function F(te,oe,ae,fe){var me=te+" ";return 1===te?me+R(0,oe,ae[0],fe):oe?me+(A(te)?N(ae)[1]:N(ae)[0]):fe?me+N(ae)[1]:me+(A(te)?N(ae)[1]:N(ae)[2])}L.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function T(te,oe,ae,fe){return oe?"kelios sekund\u0117s":fe?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:F,m:R,mm:F,h:R,hh:F,d:R,dd:F,M:R,MM:F,y:R,yy:F},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(te){return te+"-oji"},week:{dow:1,doy:4}})}(b(6908))},4169:function(Q,ue,b){!function(L){"use strict";var M={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function T(Y,te,oe){return oe?te%10==1&&te%100!=11?Y[2]:Y[3]:te%10==1&&te%100!=11?Y[0]:Y[1]}function R(Y,te,oe){return Y+" "+T(M[oe],Y,te)}function A(Y,te,oe){return T(M[oe],Y,te)}L.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function N(Y,te){return te?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:R,m:A,mm:R,h:A,hh:R,d:A,dd:R,M:A,MM:R,y:A,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8577:function(Q,ue,b){!function(L){"use strict";var M={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(R,A){return 1===R?A[0]:R>=2&&R<=4?A[1]:A[2]},translate:function(R,A,N){var F=M.words[N];return 1===N.length?A?F[0]:F[1]:R+" "+M.correctGrammaticalCase(R,F)}};L.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:M.translate,m:M.translate,mm:M.translate,h:M.translate,hh:M.translate,d:"dan",dd:M.translate,M:"mjesec",MM:M.translate,y:"godinu",yy:M.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8177:function(Q,ue,b){!function(L){"use strict";L.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},337:function(Q,ue,b){!function(L){"use strict";L.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(T){var R=T%10,A=T%100;return 0===T?T+"-\u0435\u0432":0===A?T+"-\u0435\u043d":A>10&&A<20?T+"-\u0442\u0438":1===R?T+"-\u0432\u0438":2===R?T+"-\u0440\u0438":7===R||8===R?T+"-\u043c\u0438":T+"-\u0442\u0438"},week:{dow:1,doy:7}})}(b(6908))},5260:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(T,R){return 12===T&&(T=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===R&&T>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===R||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===R?T+12:T},meridiem:function(T,R,A){return T<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":T<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":T<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":T<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(b(6908))},2325:function(Q,ue,b){!function(L){"use strict";function M(R,A,N,F){switch(N){case"s":return A?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return R+(A?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return R+(A?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return R+(A?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return R+(A?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return R+(A?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return R+(A?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return R}}L.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(R){return"\u04ae\u0425"===R},meridiem:function(R,A,N){return R<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:M,ss:M,m:M,mm:M,h:M,hh:M,d:M,dd:M,M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(R,A){switch(A){case"d":case"D":case"DDD":return R+" \u04e9\u0434\u04e9\u0440";default:return R}}})}(b(6908))},4695:function(Q,ue,b){!function(L){"use strict";var M={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},T={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function R(N,F,Y,te){var oe="";if(F)switch(Y){case"s":oe="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":oe="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":oe="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":oe="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":oe="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":oe="%d \u0924\u093e\u0938";break;case"d":oe="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":oe="%d \u0926\u093f\u0935\u0938";break;case"M":oe="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":oe="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":oe="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":oe="%d \u0935\u0930\u094d\u0937\u0947"}else switch(Y){case"s":oe="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":oe="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":oe="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":oe="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":oe="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":oe="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":oe="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":oe="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":oe="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":oe="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":oe="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":oe="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return oe.replace(/%d/i,N)}L.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},preparse:function(N){return N.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(F){return T[F]})},postformat:function(N){return N.replace(/\d/g,function(F){return M[F]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(N,F){return 12===N&&(N=0),"\u092a\u0939\u093e\u091f\u0947"===F||"\u0938\u0915\u093e\u0933\u0940"===F?N:"\u0926\u0941\u092a\u093e\u0930\u0940"===F||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===F||"\u0930\u093e\u0924\u094d\u0930\u0940"===F?N>=12?N:N+12:void 0},meridiem:function(N,F,Y){return N>=0&&N<6?"\u092a\u0939\u093e\u091f\u0947":N<12?"\u0938\u0915\u093e\u0933\u0940":N<17?"\u0926\u0941\u092a\u093e\u0930\u0940":N<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(b(6908))},7151:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(T,R){return 12===T&&(T=0),"pagi"===R?T:"tengahari"===R?T>=11?T:T+12:"petang"===R||"malam"===R?T+12:void 0},meridiem:function(T,R,A){return T<11?"pagi":T<15?"tengahari":T<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(b(6908))},5334:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(T,R){return 12===T&&(T=0),"pagi"===R?T:"tengahari"===R?T>=11?T:T+12:"petang"===R||"malam"===R?T+12:void 0},meridiem:function(T,R,A){return T<11?"pagi":T<15?"tengahari":T<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(b(6908))},3570:function(Q,ue,b){!function(L){"use strict";L.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},7963:function(Q,ue,b){!function(L){"use strict";var M={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},T={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};L.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(A){return A.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]})},week:{dow:1,doy:4}})}(b(6908))},8028:function(Q,ue,b){!function(L){"use strict";L.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},6638:function(Q,ue,b){!function(L){"use strict";var M={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},T={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};L.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(A){return A.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u0930\u093e\u0924\u093f"===N?A<4?A:A+12:"\u092c\u093f\u0939\u093e\u0928"===N?A:"\u0926\u093f\u0909\u0901\u0938\u094b"===N?A>=10?A:A+12:"\u0938\u093e\u0901\u091d"===N?A+12:void 0},meridiem:function(A,N,F){return A<3?"\u0930\u093e\u0924\u093f":A<12?"\u092c\u093f\u0939\u093e\u0928":A<16?"\u0926\u093f\u0909\u0901\u0938\u094b":A<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(b(6908))},6782:function(Q,ue,b){!function(L){"use strict";var M="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),T="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),R=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],A=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;L.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:M[F.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(F){return F+(1===F||8===F||F>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},302:function(Q,ue,b){!function(L){"use strict";var M="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),T="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),R=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],A=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;L.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:M[F.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(F){return F+(1===F||8===F||F>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},3501:function(Q,ue,b){!function(L){"use strict";L.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},563:function(Q,ue,b){!function(L){"use strict";L.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(T,R){var A=1===T?"r":2===T?"n":3===T?"r":4===T?"t":"\xe8";return("w"===R||"W"===R)&&(A="a"),T+A},week:{dow:1,doy:4}})}(b(6908))},869:function(Q,ue,b){!function(L){"use strict";var M={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},T={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};L.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(A){return A.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u0a30\u0a3e\u0a24"===N?A<4?A:A+12:"\u0a38\u0a35\u0a47\u0a30"===N?A:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===N?A>=10?A:A+12:"\u0a38\u0a3c\u0a3e\u0a2e"===N?A+12:void 0},meridiem:function(A,N,F){return A<4?"\u0a30\u0a3e\u0a24":A<10?"\u0a38\u0a35\u0a47\u0a30":A<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":A<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(b(6908))},5302:function(Q,ue,b){!function(L){"use strict";var M="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),T="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),R=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function A(Y){return Y%10<5&&Y%10>1&&~~(Y/10)%10!=1}function N(Y,te,oe){var ae=Y+" ";switch(oe){case"ss":return ae+(A(Y)?"sekundy":"sekund");case"m":return te?"minuta":"minut\u0119";case"mm":return ae+(A(Y)?"minuty":"minut");case"h":return te?"godzina":"godzin\u0119";case"hh":return ae+(A(Y)?"godziny":"godzin");case"ww":return ae+(A(Y)?"tygodnie":"tygodni");case"MM":return ae+(A(Y)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return ae+(A(Y)?"lata":"lat")}}L.defineLocale("pl",{months:function(Y,te){return Y?/D MMMM/.test(te)?T[Y.month()]:M[Y.month()]:M},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:N,m:N,mm:N,h:N,hh:N,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:N,M:"miesi\u0105c",MM:N,y:"rok",yy:N},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},4884:function(Q,ue,b){!function(L){"use strict";L.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(b(6908))},9687:function(Q,ue,b){!function(L){"use strict";L.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},9107:function(Q,ue,b){!function(L){"use strict";function M(R,A,N){var Y=" ";return(R%100>=20||R>=100&&R%100==0)&&(Y=" de "),R+Y+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[N]}L.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:M,m:"un minut",mm:M,h:"o or\u0103",hh:M,d:"o zi",dd:M,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:M,M:"o lun\u0103",MM:M,y:"un an",yy:M},week:{dow:1,doy:7}})}(b(6908))},3627:function(Q,ue,b){!function(L){"use strict";function T(N,F,Y){return"m"===Y?F?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":N+" "+function M(N,F){var Y=N.split("_");return F%10==1&&F%100!=11?Y[0]:F%10>=2&&F%10<=4&&(F%100<10||F%100>=20)?Y[1]:Y[2]}({ss:F?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:F?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[Y],+N)}var R=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];L.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:R,longMonthsParse:R,shortMonthsParse:R,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(N){if(N.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(N){if(N.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:T,m:T,mm:T,h:"\u0447\u0430\u0441",hh:T,d:"\u0434\u0435\u043d\u044c",dd:T,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:T,M:"\u043c\u0435\u0441\u044f\u0446",MM:T,y:"\u0433\u043e\u0434",yy:T},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(N){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(N)},meridiem:function(N,F,Y){return N<4?"\u043d\u043e\u0447\u0438":N<12?"\u0443\u0442\u0440\u0430":N<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(N,F){switch(F){case"M":case"d":case"DDD":return N+"-\u0439";case"D":return N+"-\u0433\u043e";case"w":case"W":return N+"-\u044f";default:return N}},week:{dow:1,doy:4}})}(b(6908))},355:function(Q,ue,b){!function(L){"use strict";var M=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],T=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];L.defineLocale("sd",{months:M,monthsShort:M,weekdays:T,weekdaysShort:T,weekdaysMin:T,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(A){return"\u0634\u0627\u0645"===A},meridiem:function(A,N,F){return A<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(b(6908))},3427:function(Q,ue,b){!function(L){"use strict";L.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1848:function(Q,ue,b){!function(L){"use strict";L.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(T){return T+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(T){return"\u0db4.\u0dc0."===T||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===T},meridiem:function(T,R,A){return T>11?A?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":A?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(b(6908))},4590:function(Q,ue,b){!function(L){"use strict";var M="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),T="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function R(F){return F>1&&F<5}function A(F,Y,te,oe){var ae=F+" ";switch(te){case"s":return Y||oe?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return Y||oe?ae+(R(F)?"sekundy":"sek\xfand"):ae+"sekundami";case"m":return Y?"min\xfata":oe?"min\xfatu":"min\xfatou";case"mm":return Y||oe?ae+(R(F)?"min\xfaty":"min\xfat"):ae+"min\xfatami";case"h":return Y?"hodina":oe?"hodinu":"hodinou";case"hh":return Y||oe?ae+(R(F)?"hodiny":"hod\xedn"):ae+"hodinami";case"d":return Y||oe?"de\u0148":"d\u0148om";case"dd":return Y||oe?ae+(R(F)?"dni":"dn\xed"):ae+"d\u0148ami";case"M":return Y||oe?"mesiac":"mesiacom";case"MM":return Y||oe?ae+(R(F)?"mesiace":"mesiacov"):ae+"mesiacmi";case"y":return Y||oe?"rok":"rokom";case"yy":return Y||oe?ae+(R(F)?"roky":"rokov"):ae+"rokmi"}}L.defineLocale("sk",{months:M,monthsShort:T,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:case 4:case 5:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},184:function(Q,ue,b){!function(L){"use strict";function M(R,A,N,F){var Y=R+" ";switch(N){case"s":return A||F?"nekaj sekund":"nekaj sekundami";case"ss":return Y+(1===R?A?"sekundo":"sekundi":2===R?A||F?"sekundi":"sekundah":R<5?A||F?"sekunde":"sekundah":"sekund");case"m":return A?"ena minuta":"eno minuto";case"mm":return Y+(1===R?A?"minuta":"minuto":2===R?A||F?"minuti":"minutama":R<5?A||F?"minute":"minutami":A||F?"minut":"minutami");case"h":return A?"ena ura":"eno uro";case"hh":return Y+(1===R?A?"ura":"uro":2===R?A||F?"uri":"urama":R<5?A||F?"ure":"urami":A||F?"ur":"urami");case"d":return A||F?"en dan":"enim dnem";case"dd":return Y+(1===R?A||F?"dan":"dnem":2===R?A||F?"dni":"dnevoma":A||F?"dni":"dnevi");case"M":return A||F?"en mesec":"enim mesecem";case"MM":return Y+(1===R?A||F?"mesec":"mesecem":2===R?A||F?"meseca":"mesecema":R<5?A||F?"mesece":"meseci":A||F?"mesecev":"meseci");case"y":return A||F?"eno leto":"enim letom";case"yy":return Y+(1===R?A||F?"leto":"letom":2===R?A||F?"leti":"letoma":R<5?A||F?"leta":"leti":A||F?"let":"leti")}}L.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:M,ss:M,m:M,mm:M,h:M,hh:M,d:M,dd:M,M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},6361:function(Q,ue,b){!function(L){"use strict";L.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(T){return"M"===T.charAt(0)},meridiem:function(T,R,A){return T<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1287:function(Q,ue,b){!function(L){"use strict";var M={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(R,A){return R%10>=1&&R%10<=4&&(R%100<10||R%100>=20)?R%10==1?A[0]:A[1]:A[2]},translate:function(R,A,N,F){var te,Y=M.words[N];return 1===N.length?"y"===N&&A?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":F||A?Y[0]:Y[1]:(te=M.correctGrammaticalCase(R,Y),"yy"===N&&A&&"\u0433\u043e\u0434\u0438\u043d\u0443"===te?R+" \u0433\u043e\u0434\u0438\u043d\u0430":R+" "+te)}};L.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:M.translate,m:M.translate,mm:M.translate,h:M.translate,hh:M.translate,d:M.translate,dd:M.translate,M:M.translate,MM:M.translate,y:M.translate,yy:M.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8965:function(Q,ue,b){!function(L){"use strict";var M={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(R,A){return R%10>=1&&R%10<=4&&(R%100<10||R%100>=20)?R%10==1?A[0]:A[1]:A[2]},translate:function(R,A,N,F){var te,Y=M.words[N];return 1===N.length?"y"===N&&A?"jedna godina":F||A?Y[0]:Y[1]:(te=M.correctGrammaticalCase(R,Y),"yy"===N&&A&&"godinu"===te?R+" godina":R+" "+te)}};L.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:M.translate,m:M.translate,mm:M.translate,h:M.translate,hh:M.translate,d:M.translate,dd:M.translate,M:M.translate,MM:M.translate,y:M.translate,yy:M.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},6346:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(T,R,A){return T<11?"ekuseni":T<15?"emini":T<19?"entsambama":"ebusuku"},meridiemHour:function(T,R){return 12===T&&(T=0),"ekuseni"===R?T:"emini"===R?T>=11?T:T+12:"entsambama"===R||"ebusuku"===R?0===T?0:T+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(b(6908))},451:function(Q,ue,b){!function(L){"use strict";L.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?":e":1===R||2===R?":a":":e")},week:{dow:1,doy:4}})}(b(6908))},7558:function(Q,ue,b){!function(L){"use strict";L.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(b(6908))},1356:function(Q,ue,b){!function(L){"use strict";var M={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},T={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};L.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(A){return A+"\u0bb5\u0ba4\u0bc1"},preparse:function(A){return A.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return M[N]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(A,N,F){return A<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":A<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":A<10?" \u0b95\u0bbe\u0bb2\u0bc8":A<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":A<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":A<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(A,N){return 12===A&&(A=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===N?A<2?A:A+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===N||"\u0b95\u0bbe\u0bb2\u0bc8"===N||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===N&&A>=10?A:A+12},week:{dow:0,doy:6}})}(b(6908))},3693:function(Q,ue,b){!function(L){"use strict";L.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===R?T<4?T:T+12:"\u0c09\u0c26\u0c2f\u0c02"===R?T:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===R?T>=10?T:T+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===R?T+12:void 0},meridiem:function(T,R,A){return T<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":T<10?"\u0c09\u0c26\u0c2f\u0c02":T<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":T<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(b(6908))},1243:function(Q,ue,b){!function(L){"use strict";L.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},2500:function(Q,ue,b){!function(L){"use strict";var M={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};L.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(R,A){return 12===R&&(R=0),"\u0448\u0430\u0431"===A?R<4?R:R+12:"\u0441\u0443\u0431\u04b3"===A?R:"\u0440\u04ef\u0437"===A?R>=11?R:R+12:"\u0431\u0435\u0433\u043e\u04b3"===A?R+12:void 0},meridiem:function(R,A,N){return R<4?"\u0448\u0430\u0431":R<11?"\u0441\u0443\u0431\u04b3":R<16?"\u0440\u04ef\u0437":R<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(R){return R+(M[R]||M[R%10]||M[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},5768:function(Q,ue,b){!function(L){"use strict";L.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(T){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===T},meridiem:function(T,R,A){return T<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(b(6908))},7761:function(Q,ue,b){!function(L){"use strict";var M={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};L.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(R,A){switch(A){case"d":case"D":case"Do":case"DD":return R;default:if(0===R)return R+"'unjy";var N=R%10;return R+(M[N]||M[R%100-N]||M[R>=100?100:null])}},week:{dow:1,doy:7}})}(b(6908))},5780:function(Q,ue,b){!function(L){"use strict";L.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(T){return T},week:{dow:1,doy:4}})}(b(6908))},9590:function(Q,ue,b){!function(L){"use strict";var M="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function A(Y,te,oe,ae){var fe=function N(Y){var te=Math.floor(Y%1e3/100),oe=Math.floor(Y%100/10),ae=Y%10,fe="";return te>0&&(fe+=M[te]+"vatlh"),oe>0&&(fe+=(""!==fe?" ":"")+M[oe]+"maH"),ae>0&&(fe+=(""!==fe?" ":"")+M[ae]),""===fe?"pagh":fe}(Y);switch(oe){case"ss":return fe+" lup";case"mm":return fe+" tup";case"hh":return fe+" rep";case"dd":return fe+" jaj";case"MM":return fe+" jar";case"yy":return fe+" DIS"}}L.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function T(Y){var te=Y;return-1!==Y.indexOf("jaj")?te.slice(0,-3)+"leS":-1!==Y.indexOf("jar")?te.slice(0,-3)+"waQ":-1!==Y.indexOf("DIS")?te.slice(0,-3)+"nem":te+" pIq"},past:function R(Y){var te=Y;return-1!==Y.indexOf("jaj")?te.slice(0,-3)+"Hu\u2019":-1!==Y.indexOf("jar")?te.slice(0,-3)+"wen":-1!==Y.indexOf("DIS")?te.slice(0,-3)+"ben":te+" ret"},s:"puS lup",ss:A,m:"wa\u2019 tup",mm:A,h:"wa\u2019 rep",hh:A,d:"wa\u2019 jaj",dd:A,M:"wa\u2019 jar",MM:A,y:"wa\u2019 DIS",yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},3807:function(Q,ue,b){!function(L){"use strict";var M={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};L.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(R,A,N){return R<12?N?"\xf6\xf6":"\xd6\xd6":N?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(R){return"\xf6s"===R||"\xd6S"===R},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(R,A){switch(A){case"d":case"D":case"Do":case"DD":return R;default:if(0===R)return R+"'\u0131nc\u0131";var N=R%10;return R+(M[N]||M[R%100-N]||M[R>=100?100:null])}},week:{dow:1,doy:7}})}(b(6908))},3857:function(Q,ue,b){!function(L){"use strict";function T(R,A,N,F){var Y={s:["viensas secunds","'iensas secunds"],ss:[R+" secunds",R+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[R+" m\xeduts",R+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[R+" \xfeoras",R+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[R+" ziuas",R+" ziuas"],M:["'n mes","'iens mes"],MM:[R+" mesen",R+" mesen"],y:["'n ar","'iens ar"],yy:[R+" ars",R+" ars"]};return F||A?Y[N][0]:Y[N][1]}L.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(R){return"d'o"===R.toLowerCase()},meridiem:function(R,A,N){return R>11?N?"d'o":"D'O":N?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:T,ss:T,m:T,mm:T,h:T,hh:T,d:T,dd:T,M:T,MM:T,y:T,yy:T},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8806:function(Q,ue,b){!function(L){"use strict";L.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(b(6908))},654:function(Q,ue,b){!function(L){"use strict";L.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(b(6908))},845:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===R||"\u0633\u06d5\u06be\u06d5\u0631"===R||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===R?T:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===R||"\u0643\u06d5\u0686"===R?T+12:T>=11?T:T+12},meridiem:function(T,R,A){var N=100*T+R;return N<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":N<900?"\u0633\u06d5\u06be\u06d5\u0631":N<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":N<1230?"\u0686\u06c8\u0634":N<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return T+"-\u06be\u06d5\u067e\u062a\u06d5";default:return T}},preparse:function(T){return T.replace(/\u060c/g,",")},postformat:function(T){return T.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(b(6908))},9232:function(Q,ue,b){!function(L){"use strict";function T(F,Y,te){return"m"===te?Y?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===te?Y?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":F+" "+function M(F,Y){var te=F.split("_");return Y%10==1&&Y%100!=11?te[0]:Y%10>=2&&Y%10<=4&&(Y%100<10||Y%100>=20)?te[1]:te[2]}({ss:Y?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:Y?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:Y?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[te],+F)}function A(F){return function(){return F+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}L.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function R(F,Y){var te={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===F?te.nominative.slice(1,7).concat(te.nominative.slice(0,1)):F?te[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(Y)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(Y)?"genitive":"nominative"][F.day()]:te.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:A("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:A("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:A("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:A("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return A("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return A("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:T,m:T,mm:T,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:T,d:"\u0434\u0435\u043d\u044c",dd:T,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:T,y:"\u0440\u0456\u043a",yy:T},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(F){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(F)},meridiem:function(F,Y,te){return F<4?"\u043d\u043e\u0447\u0456":F<12?"\u0440\u0430\u043d\u043a\u0443":F<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(F,Y){switch(Y){case"M":case"d":case"DDD":case"w":case"W":return F+"-\u0439";case"D":return F+"-\u0433\u043e";default:return F}},week:{dow:1,doy:7}})}(b(6908))},7052:function(Q,ue,b){!function(L){"use strict";var M=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],T=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];L.defineLocale("ur",{months:M,monthsShort:M,weekdays:T,weekdaysShort:T,weekdaysMin:T,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(A){return"\u0634\u0627\u0645"===A},meridiem:function(A,N,F){return A<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(b(6908))},2233:function(Q,ue,b){!function(L){"use strict";L.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(b(6908))},7967:function(Q,ue,b){!function(L){"use strict";L.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(b(6908))},8615:function(Q,ue,b){!function(L){"use strict";L.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(T){return/^ch$/i.test(T)},meridiem:function(T,R,A){return T<12?A?"sa":"SA":A?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(T){return T},week:{dow:1,doy:4}})}(b(6908))},2320:function(Q,ue,b){!function(L){"use strict";L.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},1313:function(Q,ue,b){!function(L){"use strict";L.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(b(6908))},4490:function(Q,ue,b){!function(L){"use strict";L.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?T:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?T+12:T>=11?T:T+12},meridiem:function(T,R,A){var N=100*T+R;return N<600?"\u51cc\u6668":N<900?"\u65e9\u4e0a":N<1130?"\u4e0a\u5348":N<1230?"\u4e2d\u5348":N<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(T){return T.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(T){return this.week()!==T.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"\u65e5";case"M":return T+"\u6708";case"w":case"W":return T+"\u5468";default:return T}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(b(6908))},5910:function(Q,ue,b){!function(L){"use strict";L.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?T:"\u4e2d\u5348"===R?T>=11?T:T+12:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?T+12:void 0},meridiem:function(T,R,A){var N=100*T+R;return N<600?"\u51cc\u6668":N<900?"\u65e9\u4e0a":N<1200?"\u4e0a\u5348":1200===N?"\u4e2d\u5348":N<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"\u65e5";case"M":return T+"\u6708";case"w":case"W":return T+"\u9031";default:return T}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},8262:function(Q,ue,b){!function(L){"use strict";L.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?T:"\u4e2d\u5348"===R?T>=11?T:T+12:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?T+12:void 0},meridiem:function(T,R,A){var N=100*T+R;return N<600?"\u51cc\u6668":N<900?"\u65e9\u4e0a":N<1130?"\u4e0a\u5348":N<1230?"\u4e2d\u5348":N<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"\u65e5";case"M":return T+"\u6708";case"w":case"W":return T+"\u9031";default:return T}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},4223:function(Q,ue,b){!function(L){"use strict";L.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?T:"\u4e2d\u5348"===R?T>=11?T:T+12:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?T+12:void 0},meridiem:function(T,R,A){var N=100*T+R;return N<600?"\u51cc\u6668":N<900?"\u65e9\u4e0a":N<1130?"\u4e0a\u5348":N<1230?"\u4e2d\u5348":N<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"\u65e5";case"M":return T+"\u6708";case"w":case"W":return T+"\u9031";default:return T}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},6908:function(Q,ue,b){(Q=b.nmd(Q)).exports=function(){"use strict";var L,Te;function M(){return L.apply(null,arguments)}function R(E){return E instanceof Array||"[object Array]"===Object.prototype.toString.call(E)}function A(E){return null!=E&&"[object Object]"===Object.prototype.toString.call(E)}function N(E,I){return Object.prototype.hasOwnProperty.call(E,I)}function F(E){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(E).length;var I;for(I in E)if(N(E,I))return!1;return!0}function Y(E){return void 0===E}function te(E){return"number"==typeof E||"[object Number]"===Object.prototype.toString.call(E)}function oe(E){return E instanceof Date||"[object Date]"===Object.prototype.toString.call(E)}function ae(E,I){var le,q=[],ve=E.length;for(le=0;le<ve;++le)q.push(I(E[le],le));return q}function fe(E,I){for(var q in I)N(I,q)&&(E[q]=I[q]);return N(I,"toString")&&(E.toString=I.toString),N(I,"valueOf")&&(E.valueOf=I.valueOf),E}function me(E,I,q,le){return bi(E,I,q,le,!0).utc()}function ce(E){return null==E._pf&&(E._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),E._pf}function Fe(E){if(null==E._isValid){var I=ce(E),q=Te.call(I.parsedDateParts,function(ve){return null!=ve}),le=!isNaN(E._d.getTime())&&I.overflow<0&&!I.empty&&!I.invalidEra&&!I.invalidMonth&&!I.invalidWeekday&&!I.weekdayMismatch&&!I.nullInput&&!I.invalidFormat&&!I.userInvalidated&&(!I.meridiem||I.meridiem&&q);if(E._strict&&(le=le&&0===I.charsLeftOver&&0===I.unusedTokens.length&&void 0===I.bigHour),null!=Object.isFrozen&&Object.isFrozen(E))return le;E._isValid=le}return E._isValid}function De(E){var I=me(NaN);return null!=E?fe(ce(I),E):ce(I).userInvalidated=!0,I}Te=Array.prototype.some?Array.prototype.some:function(E){var le,I=Object(this),q=I.length>>>0;for(le=0;le<q;le++)if(le in I&&E.call(this,I[le],le,I))return!0;return!1};var Ue=M.momentProperties=[],rt=!1;function Ye(E,I){var q,le,ve,ht=Ue.length;if(Y(I._isAMomentObject)||(E._isAMomentObject=I._isAMomentObject),Y(I._i)||(E._i=I._i),Y(I._f)||(E._f=I._f),Y(I._l)||(E._l=I._l),Y(I._strict)||(E._strict=I._strict),Y(I._tzm)||(E._tzm=I._tzm),Y(I._isUTC)||(E._isUTC=I._isUTC),Y(I._offset)||(E._offset=I._offset),Y(I._pf)||(E._pf=ce(I)),Y(I._locale)||(E._locale=I._locale),ht>0)for(q=0;q<ht;q++)Y(ve=I[le=Ue[q]])||(E[le]=ve);return E}function Oe(E){Ye(this,E),this._d=new Date(null!=E._d?E._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===rt&&(rt=!0,M.updateOffset(this),rt=!1)}function Ke(E){return E instanceof Oe||null!=E&&null!=E._isAMomentObject}function ct(E){!1===M.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+E)}function nt(E,I){var q=!0;return fe(function(){if(null!=M.deprecationHandler&&M.deprecationHandler(null,E),q){var ve,ht,Qt,le=[],Wr=arguments.length;for(ht=0;ht<Wr;ht++){if(ve="","object"==typeof arguments[ht]){for(Qt in ve+="\n["+ht+"] ",arguments[0])N(arguments[0],Qt)&&(ve+=Qt+": "+arguments[0][Qt]+", ");ve=ve.slice(0,-2)}else ve=arguments[ht];le.push(ve)}ct(E+"\nArguments: "+Array.prototype.slice.call(le).join("")+"\n"+(new Error).stack),q=!1}return I.apply(this,arguments)},I)}var Nt,vt={};function Pt(E,I){null!=M.deprecationHandler&&M.deprecationHandler(E,I),vt[E]||(ct(I),vt[E]=!0)}function Ft(E){return"undefined"!=typeof Function&&E instanceof Function||"[object Function]"===Object.prototype.toString.call(E)}function Kt(E,I){var le,q=fe({},E);for(le in I)N(I,le)&&(A(E[le])&&A(I[le])?(q[le]={},fe(q[le],E[le]),fe(q[le],I[le])):null!=I[le]?q[le]=I[le]:delete q[le]);for(le in E)N(E,le)&&!N(I,le)&&A(E[le])&&(q[le]=fe({},q[le]));return q}function Zt(E){null!=E&&this.set(E)}M.suppressDeprecationWarnings=!1,M.deprecationHandler=null,Nt=Object.keys?Object.keys:function(E){var I,q=[];for(I in E)N(E,I)&&q.push(I);return q};function dt(E,I,q){var le=""+Math.abs(E);return(E>=0?q?"+":"":"-")+Math.pow(10,Math.max(0,I-le.length)).toString().substr(1)+le}var Rt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,bn={},Mn={};function Ht(E,I,q,le){var ve=le;"string"==typeof le&&(ve=function(){return this[le]()}),E&&(Mn[E]=ve),I&&(Mn[I[0]]=function(){return dt(ve.apply(this,arguments),I[1],I[2])}),q&&(Mn[q]=function(){return this.localeData().ordinal(ve.apply(this,arguments),E)})}function Zn(E){return E.match(/\[[\s\S]/)?E.replace(/^\[|\]$/g,""):E.replace(/\\/g,"")}function Wn(E,I){return E.isValid()?(I=In(I,E.localeData()),bn[I]=bn[I]||function Un(E){var q,le,I=E.match(Rt);for(q=0,le=I.length;q<le;q++)I[q]=Mn[I[q]]?Mn[I[q]]:Zn(I[q]);return function(ve){var Qt,ht="";for(Qt=0;Qt<le;Qt++)ht+=Ft(I[Qt])?I[Qt].call(ve,E):I[Qt];return ht}}(I),bn[I](E)):E.localeData().invalidDate()}function In(E,I){var q=5;function le(ve){return I.longDateFormat(ve)||ve}for(Yt.lastIndex=0;q>=0&&Yt.test(E);)E=E.replace(Yt,le),Yt.lastIndex=0,q-=1;return E}var Qe={};function St(E,I){var q=E.toLowerCase();Qe[q]=Qe[q+"s"]=Qe[I]=E}function lt(E){return"string"==typeof E?Qe[E]||Qe[E.toLowerCase()]:void 0}function qe(E){var q,le,I={};for(le in E)N(E,le)&&(q=lt(le))&&(I[q]=E[le]);return I}var Xe={};function Ze(E,I){Xe[E]=I}function mt(E){return E%4==0&&E%100!=0||E%400==0}function Ct(E){return E<0?Math.ceil(E)||0:Math.floor(E)}function qt(E){var I=+E,q=0;return 0!==I&&isFinite(I)&&(q=Ct(I)),q}function hn(E,I){return function(q){return null!=q?(Bn(this,E,q),M.updateOffset(this,I),this):Sn(this,E)}}function Sn(E,I){return E.isValid()?E._d["get"+(E._isUTC?"UTC":"")+I]():NaN}function Bn(E,I,q){E.isValid()&&!isNaN(q)&&("FullYear"===I&&mt(E.year())&&1===E.month()&&29===E.date()?(q=qt(q),E._d["set"+(E._isUTC?"UTC":"")+I](q,E.month(),tc(q,E.month()))):E._d["set"+(E._isUTC?"UTC":"")+I](q))}var Ra,ui=/\d/,pi=/\d\d/,Ii=/\d{3}/,vu=/\d{4}/,Xl=/[+-]?\d{6}/,qi=/\d\d?/,la=/\d\d\d\d?/,ua=/\d\d\d\d\d\d?/,Ao=/\d{1,3}/,ms=/\d{1,4}/,Ji=/[+-]?\d{1,6}/,Kl=/\d+/,yu=/[+-]?\d+/,Zl=/Z|[+-]\d\d:?\d\d/gi,gs=/Z|[+-]\d\d(?::?\d\d)?/gi,kc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Qn(E,I,q){Ra[E]=Ft(I)?I:function(le,ve){return le&&q?q:I}}function dh(E,I){return N(Ra,E)?Ra[E](I._strict,I._locale):new RegExp(function ec(E){return Ko(E.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(I,q,le,ve,ht){return q||le||ve||ht}))}(E))}function Ko(E){return E.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Ra={};var fl={};function So(E,I){var q,ve,le=I;for("string"==typeof E&&(E=[E]),te(I)&&(le=function(ht,Qt){Qt[I]=qt(ht)}),ve=E.length,q=0;q<ve;q++)fl[E[q]]=le}function $o(E,I){So(E,function(q,le,ve,ht){ve._w=ve._w||{},I(q,ve._w,ve,ht)})}function Oo(E,I,q){null!=I&&N(fl,E)&&fl[E](I,q._a,q,E)}var ko;function tc(E,I){if(isNaN(E)||isNaN(I))return NaN;var q=function _u(E,I){return(E%I+I)%I}(I,12);return E+=(I-q)/12,1===q?mt(E)?29:28:31-q%7%2}ko=Array.prototype.indexOf?Array.prototype.indexOf:function(E){var I;for(I=0;I<this.length;++I)if(this[I]===E)return I;return-1},Ht("M",["MM",2],"Mo",function(){return this.month()+1}),Ht("MMM",0,0,function(E){return this.localeData().monthsShort(this,E)}),Ht("MMMM",0,0,function(E){return this.localeData().months(this,E)}),St("month","M"),Ze("month",8),Qn("M",qi),Qn("MM",qi,pi),Qn("MMM",function(E,I){return I.monthsShortRegex(E)}),Qn("MMMM",function(E,I){return I.monthsRegex(E)}),So(["M","MM"],function(E,I){I[1]=qt(E)-1}),So(["MMM","MMMM"],function(E,I,q,le){var ve=q._locale.monthsParse(E,le,q._strict);null!=ve?I[1]=ve:ce(q).invalidMonth=E});var ph="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),bu="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,mh=kc,ff=kc;function gh(E,I,q){var le,ve,ht,Qt=E.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],le=0;le<12;++le)ht=me([2e3,le]),this._shortMonthsParse[le]=this.monthsShort(ht,"").toLocaleLowerCase(),this._longMonthsParse[le]=this.months(ht,"").toLocaleLowerCase();return q?"MMM"===I?-1!==(ve=ko.call(this._shortMonthsParse,Qt))?ve:null:-1!==(ve=ko.call(this._longMonthsParse,Qt))?ve:null:"MMM"===I?-1!==(ve=ko.call(this._shortMonthsParse,Qt))||-1!==(ve=ko.call(this._longMonthsParse,Qt))?ve:null:-1!==(ve=ko.call(this._longMonthsParse,Qt))||-1!==(ve=ko.call(this._shortMonthsParse,Qt))?ve:null}function ro(E,I){var q;if(!E.isValid())return E;if("string"==typeof I)if(/^\d+$/.test(I))I=qt(I);else if(!te(I=E.localeData().monthsParse(I)))return E;return q=Math.min(E.date(),tc(E.year(),I)),E._d["set"+(E._isUTC?"UTC":"")+"Month"](I,q),E}function ql(E){return null!=E?(ro(this,E),M.updateOffset(this,!0),this):Sn(this,"Month")}function Qi(){function E(Qt,Wr){return Wr.length-Qt.length}var ve,ht,I=[],q=[],le=[];for(ve=0;ve<12;ve++)ht=me([2e3,ve]),I.push(this.monthsShort(ht,"")),q.push(this.months(ht,"")),le.push(this.months(ht,"")),le.push(this.monthsShort(ht,""));for(I.sort(E),q.sort(E),le.sort(E),ve=0;ve<12;ve++)I[ve]=Ko(I[ve]),q[ve]=Ko(q[ve]);for(ve=0;ve<24;ve++)le[ve]=Ko(le[ve]);this._monthsRegex=new RegExp("^("+le.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+q.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+I.join("|")+")","i")}function zr(E){return mt(E)?366:365}Ht("Y",0,0,function(){var E=this.year();return E<=9999?dt(E,4):"+"+E}),Ht(0,["YY",2],0,function(){return this.year()%100}),Ht(0,["YYYY",4],0,"year"),Ht(0,["YYYYY",5],0,"year"),Ht(0,["YYYYYY",6,!0],0,"year"),St("year","y"),Ze("year",1),Qn("Y",yu),Qn("YY",qi,pi),Qn("YYYY",ms,vu),Qn("YYYYY",Ji,Xl),Qn("YYYYYY",Ji,Xl),So(["YYYYY","YYYYYY"],0),So("YYYY",function(E,I){I[0]=2===E.length?M.parseTwoDigitYear(E):qt(E)}),So("YY",function(E,I){I[0]=M.parseTwoDigitYear(E)}),So("Y",function(E,I){I[0]=parseInt(E,10)}),M.parseTwoDigitYear=function(E){return qt(E)+(qt(E)>68?1900:2e3)};var Pc=hn("FullYear",!0);function sn(E,I,q,le,ve,ht,Qt){var Wr;return E<100&&E>=0?(Wr=new Date(E+400,I,q,le,ve,ht,Qt),isFinite(Wr.getFullYear())&&Wr.setFullYear(E)):Wr=new Date(E,I,q,le,ve,ht,Qt),Wr}function ml(E){var I,q;return E<100&&E>=0?((q=Array.prototype.slice.call(arguments))[0]=E+400,I=new Date(Date.UTC.apply(null,q)),isFinite(I.getUTCFullYear())&&I.setUTCFullYear(E)):I=new Date(Date.UTC.apply(null,arguments)),I}function Qr(E,I,q){var le=7+I-q;return-(7+ml(E,0,le).getUTCDay()-I)%7+le-1}function Bi(E,I,q,le,ve){var Ni,jo,Wr=1+7*(I-1)+(7+q-le)%7+Qr(E,le,ve);return Wr<=0?jo=zr(Ni=E-1)+Wr:Wr>zr(E)?(Ni=E+1,jo=Wr-zr(E)):(Ni=E,jo=Wr),{year:Ni,dayOfYear:jo}}function wd(E,I,q){var ht,Qt,le=Qr(E.year(),I,q),ve=Math.floor((E.dayOfYear()-le-1)/7)+1;return ve<1?ht=ve+wu(Qt=E.year()-1,I,q):ve>wu(E.year(),I,q)?(ht=ve-wu(E.year(),I,q),Qt=E.year()+1):(Qt=E.year(),ht=ve),{week:ht,year:Qt}}function wu(E,I,q){var le=Qr(E,I,q),ve=Qr(E+1,I,q);return(zr(E)-le+ve)/7}Ht("w",["ww",2],"wo","week"),Ht("W",["WW",2],"Wo","isoWeek"),St("week","w"),St("isoWeek","W"),Ze("week",5),Ze("isoWeek",5),Qn("w",qi),Qn("ww",qi,pi),Qn("W",qi),Qn("WW",qi,pi),$o(["w","ww","W","WW"],function(E,I,q,le){I[le.substr(0,1)]=qt(E)});function Md(E,I){return E.slice(I,7).concat(E.slice(0,I))}Ht("d",0,"do","day"),Ht("dd",0,0,function(E){return this.localeData().weekdaysMin(this,E)}),Ht("ddd",0,0,function(E){return this.localeData().weekdaysShort(this,E)}),Ht("dddd",0,0,function(E){return this.localeData().weekdays(this,E)}),Ht("e",0,0,"weekday"),Ht("E",0,0,"isoWeekday"),St("day","d"),St("weekday","e"),St("isoWeekday","E"),Ze("day",11),Ze("weekday",11),Ze("isoWeekday",11),Qn("d",qi),Qn("e",qi),Qn("E",qi),Qn("dd",function(E,I){return I.weekdaysMinRegex(E)}),Qn("ddd",function(E,I){return I.weekdaysShortRegex(E)}),Qn("dddd",function(E,I){return I.weekdaysRegex(E)}),$o(["dd","ddd","dddd"],function(E,I,q,le){var ve=q._locale.weekdaysParse(E,le,q._strict);null!=ve?I.d=ve:ce(q).invalidWeekday=E}),$o(["d","e","E"],function(E,I,q,le){I[le]=qt(E)});var Sp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yg="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ql="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xp=kc,Cp=kc,yh=kc;function Ic(E,I,q){var le,ve,ht,Qt=E.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],le=0;le<7;++le)ht=me([2e3,1]).day(le),this._minWeekdaysParse[le]=this.weekdaysMin(ht,"").toLocaleLowerCase(),this._shortWeekdaysParse[le]=this.weekdaysShort(ht,"").toLocaleLowerCase(),this._weekdaysParse[le]=this.weekdays(ht,"").toLocaleLowerCase();return q?"dddd"===I?-1!==(ve=ko.call(this._weekdaysParse,Qt))?ve:null:"ddd"===I?-1!==(ve=ko.call(this._shortWeekdaysParse,Qt))?ve:null:-1!==(ve=ko.call(this._minWeekdaysParse,Qt))?ve:null:"dddd"===I?-1!==(ve=ko.call(this._weekdaysParse,Qt))||-1!==(ve=ko.call(this._shortWeekdaysParse,Qt))||-1!==(ve=ko.call(this._minWeekdaysParse,Qt))?ve:null:"ddd"===I?-1!==(ve=ko.call(this._shortWeekdaysParse,Qt))||-1!==(ve=ko.call(this._weekdaysParse,Qt))||-1!==(ve=ko.call(this._minWeekdaysParse,Qt))?ve:null:-1!==(ve=ko.call(this._minWeekdaysParse,Qt))||-1!==(ve=ko.call(this._weekdaysParse,Qt))||-1!==(ve=ko.call(this._shortWeekdaysParse,Qt))?ve:null}function Jn(){function E($s,Kc){return Kc.length-$s.length}var ht,Qt,Wr,Ni,jo,I=[],q=[],le=[],ve=[];for(ht=0;ht<7;ht++)Qt=me([2e3,1]).day(ht),Wr=Ko(this.weekdaysMin(Qt,"")),Ni=Ko(this.weekdaysShort(Qt,"")),jo=Ko(this.weekdays(Qt,"")),I.push(Wr),q.push(Ni),le.push(jo),ve.push(Wr),ve.push(Ni),ve.push(jo);I.sort(E),q.sort(E),le.sort(E),ve.sort(E),this._weekdaysRegex=new RegExp("^("+ve.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+le.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+q.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+I.join("|")+")","i")}function ji(){return this.hours()%12||12}function Ss(E,I){Ht(E,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),I)})}function vs(E,I){return I._meridiemParse}Ht("H",["HH",2],0,"hour"),Ht("h",["hh",2],0,ji),Ht("k",["kk",2],0,function Ms(){return this.hours()||24}),Ht("hmm",0,0,function(){return""+ji.apply(this)+dt(this.minutes(),2)}),Ht("hmmss",0,0,function(){return""+ji.apply(this)+dt(this.minutes(),2)+dt(this.seconds(),2)}),Ht("Hmm",0,0,function(){return""+this.hours()+dt(this.minutes(),2)}),Ht("Hmmss",0,0,function(){return""+this.hours()+dt(this.minutes(),2)+dt(this.seconds(),2)}),Ss("a",!0),Ss("A",!1),St("hour","h"),Ze("hour",13),Qn("a",vs),Qn("A",vs),Qn("H",qi),Qn("h",qi),Qn("k",qi),Qn("HH",qi,pi),Qn("hh",qi,pi),Qn("kk",qi,pi),Qn("hmm",la),Qn("hmmss",ua),Qn("Hmm",la),Qn("Hmmss",ua),So(["H","HH"],3),So(["k","kk"],function(E,I,q){var le=qt(E);I[3]=24===le?0:le}),So(["a","A"],function(E,I,q){q._isPm=q._locale.isPM(E),q._meridiem=E}),So(["h","hh"],function(E,I,q){I[3]=qt(E),ce(q).bigHour=!0}),So("hmm",function(E,I,q){var le=E.length-2;I[3]=qt(E.substr(0,le)),I[4]=qt(E.substr(le)),ce(q).bigHour=!0}),So("hmmss",function(E,I,q){var le=E.length-4,ve=E.length-2;I[3]=qt(E.substr(0,le)),I[4]=qt(E.substr(le,2)),I[5]=qt(E.substr(ve)),ce(q).bigHour=!0}),So("Hmm",function(E,I,q){var le=E.length-2;I[3]=qt(E.substr(0,le)),I[4]=qt(E.substr(le))}),So("Hmmss",function(E,I,q){var le=E.length-4,ve=E.length-2;I[3]=qt(E.substr(0,le)),I[4]=qt(E.substr(le,2)),I[5]=qt(E.substr(ve))});var xd=hn("Hours",!0);var qa,zs={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ph,monthsShort:bu,week:{dow:0,doy:6},weekdays:Sp,weekdaysMin:Ql,weekdaysShort:yg,meridiemParse:/[ap]\.?m?\.?/i},es={},_g={};function Mu(E,I){var q,le=Math.min(E.length,I.length);for(q=0;q<le;q+=1)if(E[q]!==I[q])return q;return le}function $x(E){return E&&E.toLowerCase().replace("_","-")}function Po(E){var I=null;if(void 0===es[E]&&Q&&Q.exports&&function Su(E){return null!=E.match("^[^/\\\\]*$")}(E))try{I=qa._abbr,b(6700)("./"+E),bh(I)}catch(le){es[E]=null}return es[E]}function bh(E,I){var q;return E&&((q=Y(I)?Wi(E):Bw(E,I))?qa=q:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+E+" not found. Did you forget to load it?")),qa._abbr}function Bw(E,I){if(null!==I){var q,le=zs;if(I.abbr=E,null!=es[E])Pt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),le=es[E]._config;else if(null!=I.parentLocale)if(null!=es[I.parentLocale])le=es[I.parentLocale]._config;else{if(null==(q=Po(I.parentLocale)))return _g[I.parentLocale]||(_g[I.parentLocale]=[]),_g[I.parentLocale].push({name:E,config:I}),null;le=q._config}return es[E]=new Zt(Kt(le,I)),_g[E]&&_g[E].forEach(function(ve){Bw(ve.name,ve.config)}),bh(E),es[E]}return delete es[E],null}function Wi(E){var I;if(E&&E._locale&&E._locale._abbr&&(E=E._locale._abbr),!E)return qa;if(!R(E)){if(I=Po(E))return I;E=[E]}return function bR(E){for(var q,le,ve,ht,I=0;I<E.length;){for(q=(ht=$x(E[I]).split("-")).length,le=(le=$x(E[I+1]))?le.split("-"):null;q>0;){if(ve=Po(ht.slice(0,q).join("-")))return ve;if(le&&le.length>=q&&Mu(ht,le)>=q-1)break;q--}I++}return qa}(E)}function Rp(E){var I,q=E._a;return q&&-2===ce(E).overflow&&(I=q[1]<0||q[1]>11?1:q[2]<1||q[2]>tc(q[0],q[1])?2:q[3]<0||q[3]>24||24===q[3]&&(0!==q[4]||0!==q[5]||0!==q[6])?3:q[4]<0||q[4]>59?4:q[5]<0||q[5]>59?5:q[6]<0||q[6]>999?6:-1,ce(E)._overflowDayOfYear&&(I<0||I>2)&&(I=2),ce(E)._overflowWeeks&&-1===I&&(I=7),ce(E)._overflowWeekday&&-1===I&&(I=8),ce(E).overflow=I),E}var Py=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vw=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ic=/Z|[+-]\d\d(?::?\d\d)?/,eu=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Nc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ci=/^\/?Date\((-?\d+)/i,Xx=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,zw={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Iy(E){var I,q,ht,Qt,Wr,Ni,le=E._i,ve=Py.exec(le)||Vw.exec(le),jo=eu.length,$s=Nc.length;if(ve){for(ce(E).iso=!0,I=0,q=jo;I<q;I++)if(eu[I][1].exec(ve[1])){Qt=eu[I][0],ht=!1!==eu[I][2];break}if(null==Qt)return void(E._isValid=!1);if(ve[3]){for(I=0,q=$s;I<q;I++)if(Nc[I][1].exec(ve[3])){Wr=(ve[2]||" ")+Nc[I][0];break}if(null==Wr)return void(E._isValid=!1)}if(!ht&&null!=Wr)return void(E._isValid=!1);if(ve[4]){if(!ic.exec(ve[4]))return void(E._isValid=!1);Ni="Z"}E._f=Qt+(Wr||"")+(Ni||""),tu(E)}else E._isValid=!1}function Kx(E){var I=parseInt(E,10);return I<=49?2e3+I:I<=999?1900+I:I}function Yi(E){var q,I=Xx.exec(function Uw(E){return E.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(E._i));if(I){if(q=function mi(E,I,q,le,ve,ht){var Qt=[Kx(E),bu.indexOf(I),parseInt(q,10),parseInt(le,10),parseInt(ve,10)];return ht&&Qt.push(parseInt(ht,10)),Qt}(I[4],I[3],I[2],I[5],I[6],I[7]),!function kn(E,I,q){return!E||yg.indexOf(E)===new Date(I[0],I[1],I[2]).getDay()||(ce(q).weekdayMismatch=!0,q._isValid=!1,!1)}(I[1],q,E))return;E._a=q,E._tzm=function Oa(E,I,q){if(E)return zw[E];if(I)return 0;var le=parseInt(q,10),ve=le%100;return(le-ve)/100*60+ve}(I[8],I[9],I[10]),E._d=ml.apply(null,E._a),E._d.setUTCMinutes(E._d.getUTCMinutes()-E._tzm),ce(E).rfc2822=!0}else E._isValid=!1}function ys(E,I,q){return null!=E?E:null!=I?I:q}function _n(E){var I,q,ve,ht,Qt,le=[];if(!E._d){for(ve=function Dr(E){var I=new Date(M.now());return E._useUTC?[I.getUTCFullYear(),I.getUTCMonth(),I.getUTCDate()]:[I.getFullYear(),I.getMonth(),I.getDate()]}(E),E._w&&null==E._a[2]&&null==E._a[1]&&function Os(E){var I,q,le,ve,ht,Qt,Wr,Ni,jo;null!=(I=E._w).GG||null!=I.W||null!=I.E?(ht=1,Qt=4,q=ys(I.GG,E._a[0],wd(Sr(),1,4).year),le=ys(I.W,1),((ve=ys(I.E,1))<1||ve>7)&&(Ni=!0)):(ht=E._locale._week.dow,Qt=E._locale._week.doy,jo=wd(Sr(),ht,Qt),q=ys(I.gg,E._a[0],jo.year),le=ys(I.w,jo.week),null!=I.d?((ve=I.d)<0||ve>6)&&(Ni=!0):null!=I.e?(ve=I.e+ht,(I.e<0||I.e>6)&&(Ni=!0)):ve=ht),le<1||le>wu(q,ht,Qt)?ce(E)._overflowWeeks=!0:null!=Ni?ce(E)._overflowWeekday=!0:(Wr=Bi(q,le,ve,ht,Qt),E._a[0]=Wr.year,E._dayOfYear=Wr.dayOfYear)}(E),null!=E._dayOfYear&&(Qt=ys(E._a[0],ve[0]),(E._dayOfYear>zr(Qt)||0===E._dayOfYear)&&(ce(E)._overflowDayOfYear=!0),q=ml(Qt,0,E._dayOfYear),E._a[1]=q.getUTCMonth(),E._a[2]=q.getUTCDate()),I=0;I<3&&null==E._a[I];++I)E._a[I]=le[I]=ve[I];for(;I<7;I++)E._a[I]=le[I]=null==E._a[I]?2===I?1:0:E._a[I];24===E._a[3]&&0===E._a[4]&&0===E._a[5]&&0===E._a[6]&&(E._nextDay=!0,E._a[3]=0),E._d=(E._useUTC?ml:sn).apply(null,le),ht=E._useUTC?E._d.getUTCDay():E._d.getDay(),null!=E._tzm&&E._d.setUTCMinutes(E._d.getUTCMinutes()-E._tzm),E._nextDay&&(E._a[3]=24),E._w&&void 0!==E._w.d&&E._w.d!==ht&&(ce(E).weekdayMismatch=!0)}}function tu(E){if(E._f!==M.ISO_8601)if(E._f!==M.RFC_2822){E._a=[],ce(E).empty=!0;var q,le,ve,ht,Qt,jo,$s,I=""+E._i,Wr=I.length,Ni=0;for($s=(ve=In(E._f,E._locale).match(Rt)||[]).length,q=0;q<$s;q++)(le=(I.match(dh(ht=ve[q],E))||[])[0])&&((Qt=I.substr(0,I.indexOf(le))).length>0&&ce(E).unusedInput.push(Qt),I=I.slice(I.indexOf(le)+le.length),Ni+=le.length),Mn[ht]?(le?ce(E).empty=!1:ce(E).unusedTokens.push(ht),Oo(ht,le,E)):E._strict&&!le&&ce(E).unusedTokens.push(ht);ce(E).charsLeftOver=Wr-Ni,I.length>0&&ce(E).unusedInput.push(I),E._a[3]<=12&&!0===ce(E).bigHour&&E._a[3]>0&&(ce(E).bigHour=void 0),ce(E).parsedDateParts=E._a.slice(0),ce(E).meridiem=E._meridiem,E._a[3]=function oc(E,I,q){var le;return null==q?I:null!=E.meridiemHour?E.meridiemHour(I,q):(null!=E.isPM&&((le=E.isPM(q))&&I<12&&(I+=12),!le&&12===I&&(I=0)),I)}(E._locale,E._a[3],E._meridiem),null!==(jo=ce(E).era)&&(E._a[0]=E._locale.erasConvertYear(jo,E._a[0])),_n(E),Rp(E)}else Yi(E);else Iy(E)}function Di(E){var I=E._i,q=E._f;return E._locale=E._locale||Wi(E._l),null===I||void 0===q&&""===I?De({nullInput:!0}):("string"==typeof I&&(E._i=I=E._locale.preparse(I)),Ke(I)?new Oe(Rp(I)):(oe(I)?E._d=I:R(q)?function wh(E){var I,q,le,ve,ht,Qt,Wr=!1,Ni=E._f.length;if(0===Ni)return ce(E).invalidFormat=!0,void(E._d=new Date(NaN));for(ve=0;ve<Ni;ve++)ht=0,Qt=!1,I=Ye({},E),null!=E._useUTC&&(I._useUTC=E._useUTC),I._f=E._f[ve],tu(I),Fe(I)&&(Qt=!0),ht+=ce(I).charsLeftOver,ht+=10*ce(I).unusedTokens.length,ce(I).score=ht,Wr?ht<le&&(le=ht,q=I):(null==le||ht<le||Qt)&&(le=ht,q=I,Qt&&(Wr=!0));fe(E,q||I)}(E):q?tu(E):function qn(E){var I=E._i;Y(I)?E._d=new Date(M.now()):oe(I)?E._d=new Date(I.valueOf()):"string"==typeof I?function Io(E){var I=Ci.exec(E._i);null===I?(Iy(E),!1===E._isValid&&(delete E._isValid,Yi(E),!1===E._isValid&&(delete E._isValid,E._strict?E._isValid=!1:M.createFromInputFallback(E)))):E._d=new Date(+I[1])}(E):R(I)?(E._a=ae(I.slice(0),function(q){return parseInt(q,10)}),_n(E)):A(I)?function fo(E){if(!E._d){var I=qe(E._i);E._a=ae([I.year,I.month,void 0===I.day?I.date:I.day,I.hour,I.minute,I.second,I.millisecond],function(le){return le&&parseInt(le,10)}),_n(E)}}(E):te(I)?E._d=new Date(I):M.createFromInputFallback(E)}(E),Fe(E)||(E._d=null),E))}function bi(E,I,q,le,ve){var ht={};return(!0===I||!1===I)&&(le=I,I=void 0),(!0===q||!1===q)&&(le=q,q=void 0),(A(E)&&F(E)||R(E)&&0===E.length)&&(E=void 0),ht._isAMomentObject=!0,ht._useUTC=ht._isUTC=ve,ht._l=q,ht._i=E,ht._f=I,ht._strict=le,function Ny(E){var I=new Oe(Rp(Di(E)));return I._nextDay&&(I.add(1,"d"),I._nextDay=void 0),I}(ht)}function Sr(E,I,q,le){return bi(E,I,q,le,!1)}M.createFromInputFallback=nt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(E){E._d=new Date(E._i+(E._useUTC?" UTC":""))}),M.ISO_8601=function(){},M.RFC_2822=function(){};var Ce=nt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var E=Sr.apply(null,arguments);return this.isValid()&&E.isValid()?E<this?this:E:De()}),Fc=nt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var E=Sr.apply(null,arguments);return this.isValid()&&E.isValid()?E>this?this:E:De()});function Us(E,I){var q,le;if(1===I.length&&R(I[0])&&(I=I[0]),!I.length)return Sr();for(q=I[0],le=1;le<I.length;++le)(!I[le].isValid()||I[le][E](q))&&(q=I[le]);return q}var nu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Hl(E){var I=qe(E),q=I.year||0,le=I.quarter||0,ve=I.month||0,ht=I.week||I.isoWeek||0,Qt=I.day||0,Wr=I.hour||0,Ni=I.minute||0,jo=I.second||0,$s=I.millisecond||0;this._isValid=function gi(E){var I,le,q=!1,ve=nu.length;for(I in E)if(N(E,I)&&(-1===ko.call(nu,I)||null!=E[I]&&isNaN(E[I])))return!1;for(le=0;le<ve;++le)if(E[nu[le]]){if(q)return!1;parseFloat(E[nu[le]])!==qt(E[nu[le]])&&(q=!0)}return!0}(I),this._milliseconds=+$s+1e3*jo+6e4*Ni+1e3*Wr*60*60,this._days=+Qt+7*ht,this._months=+ve+3*le+12*q,this._data={},this._locale=Wi(),this._bubble()}function ga(E){return E instanceof Hl}function ds(E){return E<0?-1*Math.round(-1*E):Math.round(E)}function sc(E,I){Ht(E,0,0,function(){var q=this.utcOffset(),le="+";return q<0&&(q=-q,le="-"),le+dt(~~(q/60),2)+I+dt(~~q%60,2)})}sc("Z",":"),sc("ZZ",""),Qn("Z",gs),Qn("ZZ",gs),So(["Z","ZZ"],function(E,I,q){q._useUTC=!0,q._tzm=vl(gs,E)});var gl=/([\+\-]|\d\d)/gi;function vl(E,I){var ve,ht,q=(I||"").match(E);return null===q?null:0===(ht=60*(ve=((q[q.length-1]||[])+"").match(gl)||["-",0,0])[1]+qt(ve[2]))?0:"+"===ve[0]?ht:-ht}function gf(E,I){var q,le;return I._isUTC?(q=I.clone(),le=(Ke(E)||oe(E)?E.valueOf():Sr(E).valueOf())-q.valueOf(),q._d.setTime(q._d.valueOf()+le),M.updateOffset(q,!1),q):Sr(E).local()}function Xo(E){return-Math.round(E._d.getTimezoneOffset())}function Sh(){return!!this.isValid()&&this._isUTC&&0===this._offset}M.updateOffset=function(){};var Cu=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,wR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function lc(E,I){var ve,ht,Qt,q=E,le=null;return ga(E)?q={ms:E._milliseconds,d:E._days,M:E._months}:te(E)||!isNaN(+E)?(q={},I?q[I]=+E:q.milliseconds=+E):(le=Cu.exec(E))?(ve="-"===le[1]?-1:1,q={y:0,d:qt(le[2])*ve,h:qt(le[3])*ve,m:qt(le[4])*ve,s:qt(le[5])*ve,ms:qt(ds(1e3*le[6]))*ve}):(le=wR.exec(E))?q={y:Vl(le[2],ve="-"===le[1]?-1:1),M:Vl(le[3],ve),w:Vl(le[4],ve),d:Vl(le[5],ve),h:Vl(le[6],ve),m:Vl(le[7],ve),s:Vl(le[8],ve)}:null==q?q={}:"object"==typeof q&&("from"in q||"to"in q)&&(Qt=function ru(E,I){var q;return E.isValid()&&I.isValid()?(I=gf(I,E),E.isBefore(I)?q=wg(E,I):((q=wg(I,E)).milliseconds=-q.milliseconds,q.months=-q.months),q):{milliseconds:0,months:0}}(Sr(q.from),Sr(q.to)),(q={}).ms=Qt.milliseconds,q.M=Qt.months),ht=new Hl(q),ga(E)&&N(E,"_locale")&&(ht._locale=E._locale),ga(E)&&N(E,"_isValid")&&(ht._isValid=E._isValid),ht}function Vl(E,I){var q=E&&parseFloat(E.replace(",","."));return(isNaN(q)?0:q)*I}function wg(E,I){var q={};return q.months=I.month()-E.month()+12*(I.year()-E.year()),E.clone().add(q.months,"M").isAfter(I)&&--q.months,q.milliseconds=+I-+E.clone().add(q.months,"M"),q}function jw(E,I){return function(q,le){var ht;return null!==le&&!isNaN(+le)&&(Pt(I,"moment()."+I+"(period, number) is deprecated. Please use moment()."+I+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ht=q,q=le,le=ht),Ww(this,lc(q,le),E),this}}function Ww(E,I,q,le){var ve=I._milliseconds,ht=ds(I._days),Qt=ds(I._months);!E.isValid()||(le=null==le||le,Qt&&ro(E,Sn(E,"Month")+Qt*q),ht&&Bn(E,"Date",Sn(E,"Date")+ht*q),ve&&E._d.setTime(E._d.valueOf()+ve*q),le&&M.updateOffset(E,ht||Qt))}lc.fn=Hl.prototype,lc.invalid=function xu(){return lc(NaN)};var yf=jw(1,"add"),Yw=jw(-1,"subtract");function Zx(E){return"string"==typeof E||E instanceof String}function qx(E){return Ke(E)||oe(E)||Zx(E)||te(E)||function Td(E){var I=R(E),q=!1;return I&&(q=0===E.filter(function(le){return!te(le)&&Zx(E)}).length),I&&q}(E)||function Dp(E){var ve,I=A(E)&&!F(E),q=!1,le=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Qt=le.length;for(ve=0;ve<Qt;ve+=1)q=q||N(E,le[ve]);return I&&q}(E)||null==E}function Fy(E){var ve,I=A(E)&&!F(E),q=!1,le=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(ve=0;ve<le.length;ve+=1)q=q||N(E,le[ve]);return I&&q}function Mg(E,I){if(E.date()<I.date())return-Mg(I,E);var q=12*(I.year()-E.year())+(I.month()-E.month()),le=E.clone().add(q,"months");return-(q+(I-le<0?(I-le)/(le-E.clone().add(q-1,"months")):(I-le)/(E.clone().add(q+1,"months")-le)))||0}function Ap(E){var I;return void 0===E?this._locale._abbr:(null!=(I=Wi(E))&&(this._locale=I),this)}M.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",M.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Sg=nt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(E){return void 0===E?this.localeData():this.locale(E)});function zy(){return this._locale}var ts=6e4,Uy=60*ts,zo=3506328*Uy;function ca(E,I){return(E%I+I)%I}function ou(E,I,q){return E<100&&E>=0?new Date(E+400,I,q)-zo:new Date(E,I,q).valueOf()}function xh(E,I,q){return E<100&&E>=0?Date.UTC(E+400,I,q)-zo:Date.UTC(E,I,q)}function zl(E,I){return I.erasAbbrRegex(E)}function jc(){var ve,ht,E=[],I=[],q=[],le=[],Qt=this.eras();for(ve=0,ht=Qt.length;ve<ht;++ve)I.push(Ko(Qt[ve].name)),E.push(Ko(Qt[ve].abbr)),q.push(Ko(Qt[ve].narrow)),le.push(Ko(Qt[ve].name)),le.push(Ko(Qt[ve].abbr)),le.push(Ko(Qt[ve].narrow));this._erasRegex=new RegExp("^("+le.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+I.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+E.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+q.join("|")+")","i")}function Gs(E,I){Ht(0,[E,E.length],0,I)}function bl(E,I,q,le,ve){var ht;return null==E?wd(this,le,ve).year:(I>(ht=wu(E,le,ve))&&(I=ht),Ru.call(this,E,I,q,le,ve))}function Ru(E,I,q,le,ve){var ht=Bi(E,I,q,le,ve),Qt=ml(ht.year,0,ht.dayOfYear);return this.year(Qt.getUTCFullYear()),this.month(Qt.getUTCMonth()),this.date(Qt.getUTCDate()),this}Ht("N",0,0,"eraAbbr"),Ht("NN",0,0,"eraAbbr"),Ht("NNN",0,0,"eraAbbr"),Ht("NNNN",0,0,"eraName"),Ht("NNNNN",0,0,"eraNarrow"),Ht("y",["y",1],"yo","eraYear"),Ht("y",["yy",2],0,"eraYear"),Ht("y",["yyy",3],0,"eraYear"),Ht("y",["yyyy",4],0,"eraYear"),Qn("N",zl),Qn("NN",zl),Qn("NNN",zl),Qn("NNNN",function Eh(E,I){return I.erasNameRegex(E)}),Qn("NNNNN",function Qa(E,I){return I.erasNarrowRegex(E)}),So(["N","NN","NNN","NNNN","NNNNN"],function(E,I,q,le){var ve=q._locale.erasParse(E,le,q._strict);ve?ce(q).era=ve:ce(q).invalidEra=E}),Qn("y",Kl),Qn("yy",Kl),Qn("yyy",Kl),Qn("yyyy",Kl),Qn("yo",function el(E,I){return I._eraYearOrdinalRegex||Kl}),So(["y","yy","yyy","yyyy"],0),So(["yo"],function(E,I,q,le){var ve;q._locale._eraYearOrdinalRegex&&(ve=E.match(q._locale._eraYearOrdinalRegex)),I[0]=q._locale.eraYearOrdinalParse?q._locale.eraYearOrdinalParse(E,ve):parseInt(E,10)}),Ht(0,["gg",2],0,function(){return this.weekYear()%100}),Ht(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Gs("gggg","weekYear"),Gs("ggggg","weekYear"),Gs("GGGG","isoWeekYear"),Gs("GGGGG","isoWeekYear"),St("weekYear","gg"),St("isoWeekYear","GG"),Ze("weekYear",1),Ze("isoWeekYear",1),Qn("G",yu),Qn("g",yu),Qn("GG",qi,pi),Qn("gg",qi,pi),Qn("GGGG",ms,vu),Qn("gggg",ms,vu),Qn("GGGGG",Ji,Xl),Qn("ggggg",Ji,Xl),$o(["gggg","ggggg","GGGG","GGGGG"],function(E,I,q,le){I[le.substr(0,2)]=qt(E)}),$o(["gg","GG"],function(E,I,q,le){I[le]=M.parseTwoDigitYear(E)}),Ht("Q",0,"Qo","quarter"),St("quarter","Q"),Ze("quarter",7),Qn("Q",ui),So("Q",function(E,I){I[1]=3*(qt(E)-1)}),Ht("D",["DD",2],"Do","date"),St("date","D"),Ze("date",9),Qn("D",qi),Qn("DD",qi,pi),Qn("Do",function(E,I){return E?I._dayOfMonthOrdinalParse||I._ordinalParse:I._dayOfMonthOrdinalParseLenient}),So(["D","DD"],2),So("Do",function(E,I){I[2]=qt(E.match(qi)[0])});var Ip=hn("Date",!0);Ht("DDD",["DDDD",3],"DDDo","dayOfYear"),St("dayOfYear","DDD"),Ze("dayOfYear",4),Qn("DDD",Ao),Qn("DDDD",Ii),So(["DDD","DDDD"],function(E,I,q){q._dayOfYear=qt(E)}),Ht("m",["mm",2],0,"minute"),St("minute","m"),Ze("minute",14),Qn("m",qi),Qn("mm",qi,pi),So(["m","mm"],4);var Tg=hn("Minutes",!1);Ht("s",["ss",2],0,"second"),St("second","s"),Ze("second",15),Qn("s",qi),Qn("ss",qi,pi),So(["s","ss"],5);var Ul,Sf,Mf=hn("Seconds",!1);for(Ht("S",0,0,function(){return~~(this.millisecond()/100)}),Ht(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ht(0,["SSS",3],0,"millisecond"),Ht(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Ht(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Ht(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Ht(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Ht(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Ht(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),St("millisecond","ms"),Ze("millisecond",16),Qn("S",Ao,ui),Qn("SS",Ao,pi),Qn("SSS",Ao,Ii),Ul="SSSS";Ul.length<=9;Ul+="S")Qn(Ul,Kl);function xf(E,I){I[6]=qt(1e3*("0."+E))}for(Ul="S";Ul.length<=9;Ul+="S")So(Ul,xf);Sf=hn("Milliseconds",!1),Ht("z",0,0,"zoneAbbr"),Ht("zz",0,0,"zoneName");var ln=Oe.prototype;function Gc(E){return E}ln.add=yf,ln.calendar=function Hy(E,I){1===arguments.length&&(arguments[0]?qx(arguments[0])?(E=arguments[0],I=void 0):Fy(arguments[0])&&(I=arguments[0],E=void 0):(E=void 0,I=void 0));var q=E||Sr(),le=gf(q,this).startOf("day"),ve=M.calendarFormat(this,le)||"sameElse",ht=I&&(Ft(I[ve])?I[ve].call(this,q):I[ve]);return this.format(ht||this.localeData().calendar(ve,this,Sr(q)))},ln.clone=function MR(){return new Oe(this)},ln.diff=function By(E,I,q){var le,ve,ht;if(!this.isValid())return NaN;if(!(le=gf(E,this)).isValid())return NaN;switch(ve=6e4*(le.utcOffset()-this.utcOffset()),I=lt(I)){case"year":ht=Mg(this,le)/12;break;case"month":ht=Mg(this,le);break;case"quarter":ht=Mg(this,le)/3;break;case"second":ht=(this-le)/1e3;break;case"minute":ht=(this-le)/6e4;break;case"hour":ht=(this-le)/36e5;break;case"day":ht=(this-le-ve)/864e5;break;case"week":ht=(this-le-ve)/6048e5;break;default:ht=this-le}return q?ht:Ct(ht)},ln.endOf=function Ja(E){var I,q;if(void 0===(E=lt(E))||"millisecond"===E||!this.isValid())return this;switch(q=this._isUTC?xh:ou,E){case"year":I=q(this.year()+1,0,1)-1;break;case"quarter":I=q(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":I=q(this.year(),this.month()+1,1)-1;break;case"week":I=q(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":I=q(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":I=q(this.year(),this.month(),this.date()+1)-1;break;case"hour":I=this._d.valueOf(),I+=Uy-ca(I+(this._isUTC?0:this.utcOffset()*ts),Uy)-1;break;case"minute":I=this._d.valueOf(),I+=ts-ca(I,ts)-1;break;case"second":I=this._d.valueOf(),I+=1e3-ca(I,1e3)-1}return this._d.setTime(I),M.updateOffset(this,!0),this},ln.format=function Tu(E){E||(E=this.isUtc()?M.defaultFormatUtc:M.defaultFormat);var I=Wn(this,E);return this.localeData().postformat(I)},ln.from=function Vy(E,I){return this.isValid()&&(Ke(E)&&E.isValid()||Sr(E).isValid())?lc({to:this,from:E}).locale(this.locale()).humanize(!I):this.localeData().invalidDate()},ln.fromNow=function Ys(E){return this.from(Sr(),E)},ln.to=function Dd(E,I){return this.isValid()&&(Ke(E)&&E.isValid()||Sr(E).isValid())?lc({from:this,to:E}).locale(this.locale()).humanize(!I):this.localeData().invalidDate()},ln.toNow=function bf(E){return this.to(Sr(),E)},ln.get=function br(E){return Ft(this[E=lt(E)])?this[E]():this},ln.invalidAt=function Cg(){return ce(this).overflow},ln.isAfter=function Jx(E,I){var q=Ke(E)?E:Sr(E);return!(!this.isValid()||!q.isValid())&&("millisecond"===(I=lt(I)||"millisecond")?this.valueOf()>q.valueOf():q.valueOf()<this.clone().startOf(I).valueOf())},ln.isBefore=function Qx(E,I){var q=Ke(E)?E:Sr(E);return!(!this.isValid()||!q.isValid())&&("millisecond"===(I=lt(I)||"millisecond")?this.valueOf()<q.valueOf():this.clone().endOf(I).valueOf()<q.valueOf())},ln.isBetween=function Rd(E,I,q,le){var ve=Ke(E)?E:Sr(E),ht=Ke(I)?I:Sr(I);return!!(this.isValid()&&ve.isValid()&&ht.isValid())&&("("===(le=le||"()")[0]?this.isAfter(ve,q):!this.isBefore(ve,q))&&(")"===le[1]?this.isBefore(ht,q):!this.isAfter(ht,q))},ln.isSame=function eC(E,I){var le,q=Ke(E)?E:Sr(E);return!(!this.isValid()||!q.isValid())&&("millisecond"===(I=lt(I)||"millisecond")?this.valueOf()===q.valueOf():(le=q.valueOf(),this.clone().startOf(I).valueOf()<=le&&le<=this.clone().endOf(I).valueOf()))},ln.isSameOrAfter=function Ws(E,I){return this.isSame(E,I)||this.isAfter(E,I)},ln.isSameOrBefore=function Zr(E,I){return this.isSame(E,I)||this.isBefore(E,I)},ln.isValid=function oi(){return Fe(this)},ln.lang=Sg,ln.locale=Ap,ln.localeData=zy,ln.max=Fc,ln.min=Ce,ln.parsingFlags=function wf(){return fe({},ce(this))},ln.set=function ai(E,I){if("object"==typeof E){var le,q=function yt(E){var q,I=[];for(q in E)N(E,q)&&I.push({unit:q,priority:Xe[q]});return I.sort(function(le,ve){return le.priority-ve.priority}),I}(E=qe(E)),ve=q.length;for(le=0;le<ve;le++)this[q[le].unit](E[q[le].unit])}else if(Ft(this[E=lt(E)]))return this[E](I);return this},ln.startOf=function Ad(E){var I,q;if(void 0===(E=lt(E))||"millisecond"===E||!this.isValid())return this;switch(q=this._isUTC?xh:ou,E){case"year":I=q(this.year(),0,1);break;case"quarter":I=q(this.year(),this.month()-this.month()%3,1);break;case"month":I=q(this.year(),this.month(),1);break;case"week":I=q(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":I=q(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":I=q(this.year(),this.month(),this.date());break;case"hour":I=this._d.valueOf(),I-=ca(I+(this._isUTC?0:this.utcOffset()*ts),Uy);break;case"minute":I=this._d.valueOf(),I-=ca(I,ts);break;case"second":I=this._d.valueOf(),I-=ca(I,1e3)}return this._d.setTime(I),M.updateOffset(this,!0),this},ln.subtract=Yw,ln.toArray=function vo(){var E=this;return[E.year(),E.month(),E.date(),E.hour(),E.minute(),E.second(),E.millisecond()]},ln.toObject=function Op(){var E=this;return{years:E.year(),months:E.month(),date:E.date(),hours:E.hours(),minutes:E.minutes(),seconds:E.seconds(),milliseconds:E.milliseconds()}},ln.toDate=function Uc(){return new Date(this.valueOf())},ln.toISOString=function iu(E){if(!this.isValid())return null;var I=!0!==E,q=I?this.clone().utc():this;return q.year()<0||q.year()>9999?Wn(q,I?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ft(Date.prototype.toISOString)?I?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Wn(q,"Z")):Wn(q,I?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ln.inspect=function Eu(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var q,le,E="moment",I="";return this.isLocal()||(E=0===this.utcOffset()?"moment.utc":"moment.parseZone",I="Z"),q="["+E+'("]',le=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(q+le+"-MM-DD[T]HH:mm:ss.SSS"+I+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(ln[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ln.toJSON=function qr(){return this.isValid()?this.toISOString():null},ln.toString=function Gw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ln.unix=function hr(){return Math.floor(this.valueOf()/1e3)},ln.valueOf=function xg(){return this._d.valueOf()-6e4*(this._offset||0)},ln.creationData=function kp(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ln.eraName=function Pp(){var E,I,q,le=this.localeData().eras();for(E=0,I=le.length;E<I;++E)if(q=this.clone().startOf("day").valueOf(),le[E].since<=q&&q<=le[E].until||le[E].until<=q&&q<=le[E].since)return le[E].name;return""},ln.eraNarrow=function yr(){var E,I,q,le=this.localeData().eras();for(E=0,I=le.length;E<I;++E)if(q=this.clone().startOf("day").valueOf(),le[E].since<=q&&q<=le[E].until||le[E].until<=q&&q<=le[E].since)return le[E].narrow;return""},ln.eraAbbr=function mn(){var E,I,q,le=this.localeData().eras();for(E=0,I=le.length;E<I;++E)if(q=this.clone().startOf("day").valueOf(),le[E].since<=q&&q<=le[E].until||le[E].until<=q&&q<=le[E].since)return le[E].abbr;return""},ln.eraYear=function lo(){var E,I,q,le,ve=this.localeData().eras();for(E=0,I=ve.length;E<I;++E)if(q=ve[E].since<=ve[E].until?1:-1,le=this.clone().startOf("day").valueOf(),ve[E].since<=le&&le<=ve[E].until||ve[E].until<=le&&le<=ve[E].since)return(this.year()-M(ve[E].since).year())*q+ve[E].offset;return this.year()},ln.year=Pc,ln.isLeapYear=function Mp(){return mt(this.year())},ln.weekYear=function Vr(E){return bl.call(this,E,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ln.isoWeekYear=function tC(E){return bl.call(this,E,this.isoWeek(),this.isoWeekday(),1,4)},ln.quarter=ln.quarters=function jy(E){return null==E?Math.ceil((this.month()+1)/3):this.month(3*(E-1)+this.month()%3)},ln.month=ql,ln.daysInMonth=function Lo(){return tc(this.year(),this.month())},ln.week=ln.weeks=function pf(E){var I=this.localeData().week(this);return null==E?I:this.add(7*(E-I),"d")},ln.isoWeek=ln.isoWeeks=function vg(E){var I=wd(this,1,4).week;return null==E?I:this.add(7*(E-I),"d")},ln.weeksInYear=function La(){var E=this.localeData()._week;return wu(this.year(),E.dow,E.doy)},ln.weeksInWeekYear=function Yc(){var E=this.localeData()._week;return wu(this.weekYear(),E.dow,E.doy)},ln.isoWeeksInYear=function Wc(){return wu(this.year(),1,4)},ln.isoWeeksInISOWeekYear=function va(){return wu(this.isoWeekYear(),1,4)},ln.date=Ip,ln.day=ln.days=function fn(E){if(!this.isValid())return null!=E?this:NaN;var I=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=E?(E=function Fl(E,I){return"string"!=typeof E?E:isNaN(E)?"number"==typeof(E=I.weekdaysParse(E))?E:null:parseInt(E,10)}(E,this.localeData()),this.add(E-I,"d")):I},ln.weekday=function Ep(E){if(!this.isValid())return null!=E?this:NaN;var I=(this.day()+7-this.localeData()._week.dow)%7;return null==E?I:this.add(E-I,"d")},ln.isoWeekday=function ni(E){if(!this.isValid())return null!=E?this:NaN;if(null!=E){var I=function Ly(E,I){return"string"==typeof E?I.weekdaysParse(E)%7||7:isNaN(E)?null:E}(E,this.localeData());return this.day(this.day()%7?I:I-7)}return this.day()||7},ln.dayOfYear=function Eg(E){var I=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==E?I:this.add(E-I,"d")},ln.hour=ln.hours=xd,ln.minute=ln.minutes=Tg,ln.second=ln.seconds=Mf,ln.millisecond=ln.milliseconds=Sf,ln.utcOffset=function Cd(E,I,q){var ve,le=this._offset||0;if(!this.isValid())return null!=E?this:NaN;if(null!=E){if("string"==typeof E){if(null===(E=vl(gs,E)))return this}else Math.abs(E)<16&&!q&&(E*=60);return!this._isUTC&&I&&(ve=Xo(this)),this._offset=E,this._isUTC=!0,null!=ve&&this.add(ve,"m"),le!==E&&(!I||this._changeInProgress?Ww(this,lc(E-le,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,M.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?le:Xo(this)},ln.utc=function ka(E){return this.utcOffset(0,E)},ln.local=function yl(E){return this._isUTC&&(this.utcOffset(0,E),this._isUTC=!1,E&&this.subtract(Xo(this),"m")),this},ln.parseZone=function ac(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var E=vl(Zl,this._i);null!=E?this.utcOffset(E):this.utcOffset(0,!0)}return this},ln.hasAlignedHourOffset=function vf(E){return!!this.isValid()&&(E=E?Sr(E).utcOffset():0,(this.utcOffset()-E)%60==0)},ln.isDST=function Mh(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ln.isLocal=function Ed(){return!!this.isValid()&&!this._isUTC},ln.isUtcOffset=function Br(){return!!this.isValid()&&this._isUTC},ln.isUtc=Sh,ln.isUTC=Sh,ln.zoneAbbr=function Wy(){return this._isUTC?"UTC":""},ln.zoneName=function Np(){return this._isUTC?"Coordinated Universal Time":""},ln.dates=nt("dates accessor is deprecated. Use date instead.",Ip),ln.months=nt("months accessor is deprecated. Use month instead",ql),ln.years=nt("years accessor is deprecated. Use year instead",Pc),ln.zone=nt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function zc(E,I){return null!=E?("string"!=typeof E&&(E=-E),this.utcOffset(E,I),this):-this.utcOffset()}),ln.isDSTShifted=nt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function Bl(){if(!Y(this._isDSTShifted))return this._isDSTShifted;var I,E={};return Ye(E,this),(E=Di(E))._a?(I=E._isUTC?me(E._a):Sr(E._a),this._isDSTShifted=this.isValid()&&function Vc(E,I,q){var Qt,le=Math.min(E.length,I.length),ve=Math.abs(E.length-I.length),ht=0;for(Qt=0;Qt<le;Qt++)(q&&E[Qt]!==I[Qt]||!q&&qt(E[Qt])!==qt(I[Qt]))&&ht++;return ht+ve}(E._a,I.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Gi=Zt.prototype;function ks(E,I,q,le){var ve=Wi(),ht=me().set(le,I);return ve[q](ht,E)}function Yy(E,I,q){if(te(E)&&(I=E,E=void 0),E=E||"",null!=I)return ks(E,I,q,"month");var le,ve=[];for(le=0;le<12;le++)ve[le]=ks(E,le,q,"month");return ve}function Gy(E,I,q,le){"boolean"==typeof E?(te(I)&&(q=I,I=void 0),I=I||""):(q=I=E,E=!1,te(I)&&(q=I,I=void 0),I=I||"");var Qt,ve=Wi(),ht=E?ve._week.dow:0,Wr=[];if(null!=q)return ks(I,(q+ht)%7,le,"day");for(Qt=0;Qt<7;Qt++)Wr[Qt]=ks(I,(Qt+ht)%7,le,"day");return Wr}Gi.calendar=function ge(E,I,q){var le=this._calendar[E]||this._calendar.sameElse;return Ft(le)?le.call(I,q):le},Gi.longDateFormat=function Rn(E){var I=this._longDateFormat[E],q=this._longDateFormat[E.toUpperCase()];return I||!q?I:(this._longDateFormat[E]=q.match(Rt).map(function(le){return"MMMM"===le||"MM"===le||"DD"===le||"dddd"===le?le.slice(1):le}).join(""),this._longDateFormat[E])},Gi.invalidDate=function $r(){return this._invalidDate},Gi.ordinal=function fi(E){return this._ordinal.replace("%d",E)},Gi.preparse=Gc,Gi.postformat=Gc,Gi.relativeTime=function _e(E,I,q,le){var ve=this._relativeTime[q];return Ft(ve)?ve(E,I,q,le):ve.replace(/%d/i,E)},Gi.pastFuture=function He(E,I){var q=this._relativeTime[E>0?"future":"past"];return Ft(q)?q(I):q.replace(/%s/i,I)},Gi.set=function Wt(E){var I,q;for(q in E)N(E,q)&&(Ft(I=E[q])?this[q]=I:this["_"+q]=I);this._config=E,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Gi.eras=function Ch(E,I){var q,le,ve,ht=this._eras||Wi("en")._eras;for(q=0,le=ht.length;q<le;++q)switch("string"==typeof ht[q].since&&(ve=M(ht[q].since).startOf("day"),ht[q].since=ve.valueOf()),typeof ht[q].until){case"undefined":ht[q].until=1/0;break;case"string":ve=M(ht[q].until).startOf("day").valueOf(),ht[q].until=ve.valueOf()}return ht},Gi.erasParse=function Lp(E,I,q){var le,ve,Qt,Wr,Ni,ht=this.eras();for(E=E.toUpperCase(),le=0,ve=ht.length;le<ve;++le)if(Qt=ht[le].name.toUpperCase(),Wr=ht[le].abbr.toUpperCase(),Ni=ht[le].narrow.toUpperCase(),q)switch(I){case"N":case"NN":case"NNN":if(Wr===E)return ht[le];break;case"NNNN":if(Qt===E)return ht[le];break;case"NNNNN":if(Ni===E)return ht[le]}else if([Qt,Wr,Ni].indexOf(E)>=0)return ht[le]},Gi.erasConvertYear=function Od(E,I){var q=E.since<=E.until?1:-1;return void 0===I?M(E.since).year():M(E.since).year()+(I-E.offset)*q},Gi.erasAbbrRegex=function da(E){return N(this,"_erasAbbrRegex")||jc.call(this),E?this._erasAbbrRegex:this._erasRegex},Gi.erasNameRegex=function _l(E){return N(this,"_erasNameRegex")||jc.call(this),E?this._erasNameRegex:this._erasRegex},Gi.erasNarrowRegex=function Js(E){return N(this,"_erasNarrowRegex")||jc.call(this),E?this._erasNarrowRegex:this._erasRegex},Gi.months=function Qo(E,I){return E?R(this._months)?this._months[E.month()]:this._months[(this._months.isFormat||nc).test(I)?"format":"standalone"][E.month()]:R(this._months)?this._months:this._months.standalone},Gi.monthsShort=function Lc(E,I){return E?R(this._monthsShort)?this._monthsShort[E.month()]:this._monthsShort[nc.test(I)?"format":"standalone"][E.month()]:R(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Gi.monthsParse=function rc(E,I,q){var le,ve,ht;if(this._monthsParseExact)return gh.call(this,E,I,q);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),le=0;le<12;le++){if(ve=me([2e3,le]),q&&!this._longMonthsParse[le]&&(this._longMonthsParse[le]=new RegExp("^"+this.months(ve,"").replace(".","")+"$","i"),this._shortMonthsParse[le]=new RegExp("^"+this.monthsShort(ve,"").replace(".","")+"$","i")),!q&&!this._monthsParse[le]&&(ht="^"+this.months(ve,"")+"|^"+this.monthsShort(ve,""),this._monthsParse[le]=new RegExp(ht.replace(".",""),"i")),q&&"MMMM"===I&&this._longMonthsParse[le].test(E))return le;if(q&&"MMM"===I&&this._shortMonthsParse[le].test(E))return le;if(!q&&this._monthsParse[le].test(E))return le}},Gi.monthsRegex=function wp(E){return this._monthsParseExact?(N(this,"_monthsRegex")||Qi.call(this),E?this._monthsStrictRegex:this._monthsRegex):(N(this,"_monthsRegex")||(this._monthsRegex=ff),this._monthsStrictRegex&&E?this._monthsStrictRegex:this._monthsRegex)},Gi.monthsShortRegex=function vh(E){return this._monthsParseExact?(N(this,"_monthsRegex")||Qi.call(this),E?this._monthsShortStrictRegex:this._monthsShortRegex):(N(this,"_monthsShortRegex")||(this._monthsShortRegex=mh),this._monthsShortStrictRegex&&E?this._monthsShortStrictRegex:this._monthsShortRegex)},Gi.week=function As(E){return wd(E,this._week.dow,this._week.doy).week},Gi.firstDayOfYear=function gg(){return this._week.doy},Gi.firstDayOfWeek=function Da(){return this._week.dow},Gi.weekdays=function qs(E,I){var q=R(this._weekdays)?this._weekdays:this._weekdays[E&&!0!==E&&this._weekdays.isFormat.test(I)?"format":"standalone"];return!0===E?Md(q,this._week.dow):E?q[E.day()]:q},Gi.weekdaysMin=function Aa(E){return!0===E?Md(this._weekdaysMin,this._week.dow):E?this._weekdaysMin[E.day()]:this._weekdaysMin},Gi.weekdaysShort=function Ui(E){return!0===E?Md(this._weekdaysShort,this._week.dow):E?this._weekdaysShort[E.day()]:this._weekdaysShort},Gi.weekdaysParse=function _h(E,I,q){var le,ve,ht;if(this._weekdaysParseExact)return Ic.call(this,E,I,q);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),le=0;le<7;le++){if(ve=me([2e3,1]).day(le),q&&!this._fullWeekdaysParse[le]&&(this._fullWeekdaysParse[le]=new RegExp("^"+this.weekdays(ve,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[le]=new RegExp("^"+this.weekdaysShort(ve,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[le]=new RegExp("^"+this.weekdaysMin(ve,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[le]||(ht="^"+this.weekdays(ve,"")+"|^"+this.weekdaysShort(ve,"")+"|^"+this.weekdaysMin(ve,""),this._weekdaysParse[le]=new RegExp(ht.replace(".",""),"i")),q&&"dddd"===I&&this._fullWeekdaysParse[le].test(E))return le;if(q&&"ddd"===I&&this._shortWeekdaysParse[le].test(E))return le;if(q&&"dd"===I&&this._minWeekdaysParse[le].test(E))return le;if(!q&&this._weekdaysParse[le].test(E))return le}},Gi.weekdaysRegex=function Pr(E){return this._weekdaysParseExact?(N(this,"_weekdaysRegex")||Jn.call(this),E?this._weekdaysStrictRegex:this._weekdaysRegex):(N(this,"_weekdaysRegex")||(this._weekdaysRegex=xp),this._weekdaysStrictRegex&&E?this._weekdaysStrictRegex:this._weekdaysRegex)},Gi.weekdaysShortRegex=function Et(E){return this._weekdaysParseExact?(N(this,"_weekdaysRegex")||Jn.call(this),E?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(N(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Cp),this._weekdaysShortStrictRegex&&E?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Gi.weekdaysMinRegex=function yn(E){return this._weekdaysParseExact?(N(this,"_weekdaysRegex")||Jn.call(this),E?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(N(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yh),this._weekdaysMinStrictRegex&&E?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Gi.isPM=function Sd(E){return"p"===(E+"").toLowerCase().charAt(0)},Gi.meridiem=function Tp(E,I,q){return E>11?q?"pm":"PM":q?"am":"AM"},bh("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(E){var I=E%10;return E+(1===qt(E%100/10)?"th":1===I?"st":2===I?"nd":3===I?"rd":"th")}}),M.lang=nt("moment.lang is deprecated. Use moment.locale instead.",bh),M.langData=nt("moment.langData is deprecated. Use moment.localeData instead.",Wi);var nl=Math.abs;function Th(E,I,q,le){var ve=lc(I,q);return E._milliseconds+=le*ve._milliseconds,E._days+=le*ve._days,E._months+=le*ve._months,E._bubble()}function uc(E){return E<0?Math.floor(E):Math.ceil(E)}function kd(E){return 4800*E/146097}function Hp(E){return 146097*E/4800}function jl(E){return function(){return this.as(E)}}var rC=jl("ms"),iC=jl("s"),Bp=jl("m"),$y=jl("h"),oC=jl("d"),sC=jl("w"),SR=jl("M"),xR=jl("Q"),Ag=jl("y");function cc(E){return function(){return this.isValid()?this._data[E]:NaN}}var Zw=cc("milliseconds"),qw=cc("seconds"),Ef=cc("minutes"),aC=cc("hours"),Tf=cc("days"),Xy=cc("months"),Og=cc("years");var dc=Math.round,Dh={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function lC(E,I,q,le,ve){return ve.relativeTime(I||1,!!q,E,le)}var zp=Math.abs;function Xc(E){return(E>0)-(E<0)||+E}function Ah(){if(!this.isValid())return this.localeData().invalidDate();var le,ve,ht,Qt,Ni,jo,$s,Kc,E=zp(this._milliseconds)/1e3,I=zp(this._days),q=zp(this._months),Wr=this.asSeconds();return Wr?(le=Ct(E/60),ve=Ct(le/60),E%=60,le%=60,ht=Ct(q/12),q%=12,Qt=E?E.toFixed(3).replace(/\.?0+$/,""):"",Ni=Wr<0?"-":"",jo=Xc(this._months)!==Xc(Wr)?"-":"",$s=Xc(this._days)!==Xc(Wr)?"-":"",Kc=Xc(this._milliseconds)!==Xc(Wr)?"-":"",Ni+"P"+(ht?jo+ht+"Y":"")+(q?jo+q+"M":"")+(I?$s+I+"D":"")+(ve||le||E?"T":"")+(ve?Kc+ve+"H":"")+(le?Kc+le+"M":"")+(E?Kc+Qt+"S":"")):"P0D"}var po=Hl.prototype;return po.isValid=function Bc(){return this._isValid},po.abs=function Rg(){var E=this._data;return this._milliseconds=nl(this._milliseconds),this._days=nl(this._days),this._months=nl(this._months),E.milliseconds=nl(E.milliseconds),E.seconds=nl(E.seconds),E.minutes=nl(E.minutes),E.hours=nl(E.hours),E.months=nl(E.months),E.years=nl(E.years),this},po.add=function Dg(E,I){return Th(this,E,I,1)},po.subtract=function $c(E,I){return Th(this,E,I,-1)},po.as=function nC(E){if(!this.isValid())return NaN;var I,q,le=this._milliseconds;if("month"===(E=lt(E))||"quarter"===E||"year"===E)switch(I=this._days+le/864e5,q=this._months+kd(I),E){case"month":return q;case"quarter":return q/3;case"year":return q/12}else switch(I=this._days+Math.round(Hp(this._months)),E){case"week":return I/7+le/6048e5;case"day":return I+le/864e5;case"hour":return 24*I+le/36e5;case"minute":return 1440*I+le/6e4;case"second":return 86400*I+le/1e3;case"millisecond":return Math.floor(864e5*I)+le;default:throw new Error("Unknown unit "+E)}},po.asMilliseconds=rC,po.asSeconds=iC,po.asMinutes=Bp,po.asHours=$y,po.asDays=oC,po.asWeeks=sC,po.asMonths=SR,po.asQuarters=xR,po.asYears=Ag,po.valueOf=function su(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*qt(this._months/12):NaN},po._bubble=function Rh(){var ve,ht,Qt,Wr,Ni,E=this._milliseconds,I=this._days,q=this._months,le=this._data;return E>=0&&I>=0&&q>=0||E<=0&&I<=0&&q<=0||(E+=864e5*uc(Hp(q)+I),I=0,q=0),le.milliseconds=E%1e3,ve=Ct(E/1e3),le.seconds=ve%60,ht=Ct(ve/60),le.minutes=ht%60,Qt=Ct(ht/60),le.hours=Qt%24,I+=Ct(Qt/24),q+=Ni=Ct(kd(I)),I-=uc(Hp(Ni)),Wr=Ct(q/12),q%=12,le.days=I,le.months=q,le.years=Wr,this},po.clone=function Xw(){return lc(this)},po.get=function Kw(E){return E=lt(E),this.isValid()?this[E+"s"]():NaN},po.milliseconds=Zw,po.seconds=qw,po.minutes=Ef,po.hours=aC,po.days=Tf,po.weeks=function CR(){return Ct(this.days()/7)},po.months=Xy,po.years=Og,po.humanize=function Ky(E,I){if(!this.isValid())return this.localeData().invalidDate();var ve,ht,q=!1,le=Dh;return"object"==typeof E&&(I=E,E=!1),"boolean"==typeof E&&(q=E),"object"==typeof I&&(le=Object.assign({},Dh,I),null!=I.s&&null==I.ss&&(le.ss=I.s-1)),ht=function hc(E,I,q,le){var ve=lc(E).abs(),ht=dc(ve.as("s")),Qt=dc(ve.as("m")),Wr=dc(ve.as("h")),Ni=dc(ve.as("d")),jo=dc(ve.as("M")),$s=dc(ve.as("w")),Kc=dc(ve.as("y")),Fi=ht<=q.ss&&["s",ht]||ht<q.s&&["ss",ht]||Qt<=1&&["m"]||Qt<q.m&&["mm",Qt]||Wr<=1&&["h"]||Wr<q.h&&["hh",Wr]||Ni<=1&&["d"]||Ni<q.d&&["dd",Ni];return null!=q.w&&(Fi=Fi||$s<=1&&["w"]||$s<q.w&&["ww",$s]),(Fi=Fi||jo<=1&&["M"]||jo<q.M&&["MM",jo]||Kc<=1&&["y"]||["yy",Kc])[2]=I,Fi[3]=+E>0,Fi[4]=le,lC.apply(null,Fi)}(this,!q,le,ve=this.localeData()),q&&(ht=ve.pastFuture(+this,ht)),ve.postformat(ht)},po.toISOString=Ah,po.toString=Ah,po.toJSON=Ah,po.locale=Ap,po.localeData=zy,po.toIsoString=nt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ah),po.lang=Sg,Ht("X",0,0,"unix"),Ht("x",0,0,"valueOf"),Qn("x",yu),Qn("X",/[+-]?\d+(\.\d{1,3})?/),So("X",function(E,I,q){q._d=new Date(1e3*parseFloat(E))}),So("x",function(E,I,q){q._d=new Date(qt(E))}),M.version="2.29.4",function T(E){L=E}(Sr),M.fn=ln,M.min=function js(){return Us("isBefore",[].slice.call(arguments,0))},M.max=function Bo(){return Us("isAfter",[].slice.call(arguments,0))},M.now=function(){return Date.now?Date.now():+new Date},M.utc=me,M.unix=function $w(E){return Sr(1e3*E)},M.months=function tl(E,I){return Yy(E,I,"months")},M.isDate=oe,M.locale=bh,M.invalid=De,M.duration=lc,M.isMoment=Ke,M.weekdays=function Uo(E,I,q){return Gy(E,I,q,"weekdays")},M.parseZone=function Fp(){return Sr.apply(null,arguments).parseZone()},M.localeData=Wi,M.isDuration=ga,M.monthsShort=function Ls(E,I){return Yy(E,I,"monthsShort")},M.weekdaysMin=function Cf(E,I,q){return Gy(E,I,q,"weekdaysMin")},M.defineLocale=Bw,M.updateLocale=function mf(E,I){if(null!=I){var q,le,ve=zs;null!=es[E]&&null!=es[E].parentLocale?es[E].set(Kt(es[E]._config,I)):(null!=(le=Po(E))&&(ve=le._config),I=Kt(ve,I),null==le&&(I.abbr=E),(q=new Zt(I)).parentLocale=es[E],es[E]=q),bh(E)}else null!=es[E]&&(null!=es[E].parentLocale?(es[E]=es[E].parentLocale,E===bh()&&bh(E)):null!=es[E]&&delete es[E]);return es[E]},M.locales=function bg(){return Nt(es)},M.weekdaysShort=function ss(E,I,q){return Gy(E,I,q,"weekdaysShort")},M.normalizeUnits=lt,M.relativeTimeRounding=function uC(E){return void 0===E?dc:"function"==typeof E&&(dc=E,!0)},M.relativeTimeThreshold=function Vp(E,I){return void 0!==Dh[E]&&(void 0===I?Dh[E]:(Dh[E]=I,"s"===E&&(Dh.ss=I-1),!0))},M.calendarFormat=function _f(E,I){var q=E.diff(I,"days",!0);return q<-6?"sameElse":q<-1?"lastWeek":q<0?"lastDay":q<1?"sameDay":q<2?"nextDay":q<7?"nextWeek":"sameElse"},M.prototype=ln,M.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},M}()},1046:Q=>{Q.exports=function ue(b,L,M){function T(N,F){if(!L[N]){if(!b[N]){if(R)return R(N,!0);var te=new Error("Cannot find module '"+N+"'");throw te.code="MODULE_NOT_FOUND",te}var oe=L[N]={exports:{}};b[N][0].call(oe.exports,function(ae){return T(b[N][1][ae]||ae)},oe,oe.exports,ue,b,L,M)}return L[N].exports}for(var R=void 0,A=0;A<M.length;A++)T(M[A]);return T}({1:[function(ue,b,L){!function(M){"use strict";var T,R=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,A=Math.ceil,N=Math.floor,F="[BigNumber Error] ",Y=F+"Number primitive has more than 15 significant digits: ",te=1e14,ae=9007199254740991,fe=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],me=1e7,K=1e9;function ce(Oe){var Ke=0|Oe;return 0<Oe||Oe===Ke?Ke:Ke-1}function Te(Oe){for(var Ke,ct,nt=1,vt=Oe.length,Pt=Oe[0]+"";nt<vt;){for(ct=14-(Ke=Oe[nt++]+"").length;ct--;Ke="0"+Ke);Pt+=Ke}for(vt=Pt.length;48===Pt.charCodeAt(--vt););return Pt.slice(0,vt+1||1)}function Fe(Oe,Ke){var ct,nt,vt=Oe.c,Pt=Ke.c,Ft=Oe.s,Wt=Ke.s,Kt=Oe.e,Zt=Ke.e;if(!Ft||!Wt)return null;if(nt=Pt&&!Pt[0],(ct=vt&&!vt[0])||nt)return ct?nt?0:-Wt:Ft;if(Ft!=Wt)return Ft;if(ct=Ft<0,nt=Kt==Zt,!vt||!Pt)return nt?0:!vt^ct?1:-1;if(!nt)return Zt<Kt^ct?1:-1;for(Wt=(Kt=vt.length)<(Zt=Pt.length)?Kt:Zt,Ft=0;Ft<Wt;Ft++)if(vt[Ft]!=Pt[Ft])return vt[Ft]>Pt[Ft]^ct?1:-1;return Kt==Zt?0:Zt<Kt^ct?1:-1}function De(Oe,Ke,ct,nt){if(Oe<Ke||ct<Oe||Oe!==(Oe<0?A(Oe):N(Oe)))throw Error(F+(nt||"Argument")+("number"==typeof Oe?Oe<Ke||ct<Oe?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Oe))}function Ue(Oe){var Ke=Oe.c.length-1;return ce(Oe.e/14)==Ke&&Oe.c[Ke]%2!=0}function rt(Oe,Ke){return(1<Oe.length?Oe.charAt(0)+"."+Oe.slice(1):Oe)+(Ke<0?"e":"e+")+Ke}function Ye(Oe,Ke,ct){var nt,vt;if(Ke<0){for(vt=ct+".";++Ke;vt+=ct);Oe=vt+Oe}else if(++Ke>(nt=Oe.length)){for(vt=ct,Ke-=nt;--Ke;vt+=ct);Oe+=vt}else Ke<nt&&(Oe=Oe.slice(0,Ke)+"."+Oe.slice(Ke));return Oe}(T=function Oe(Ke){var ct,nt,vt,Pt,Ft,Wt,Kt,Zt,Nt,Ne,ge=nn.prototype={constructor:nn,toString:null,valueOf:null},dt=new nn(1),Rt=20,Yt=4,bn=-7,Mn=21,Ht=-1e7,Zn=1e7,Un=!1,Wn=1,In=0,Mr={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},Rn="0123456789abcdefghijklmnopqrstuvwxyz";function nn(_e,He){var Qe,St,lt,qe,Xe,Ze,yt,mt,Ct=this;if(!(Ct instanceof nn))return new nn(_e,He);if(null==He){if(_e instanceof nn)return Ct.s=_e.s,Ct.e=_e.e,void(Ct.c=(_e=_e.c)?_e.slice():_e);if((Ze="number"==typeof _e)&&0*_e==0){if(Ct.s=1/_e<0?(_e=-_e,-1):1,_e===~~_e){for(qe=0,Xe=_e;10<=Xe;Xe/=10,qe++);return Ct.e=qe,void(Ct.c=[_e])}mt=String(_e)}else{if(mt=String(_e),!R.test(mt))return vt(Ct,mt,Ze);Ct.s=45==mt.charCodeAt(0)?(mt=mt.slice(1),-1):1}-1<(qe=mt.indexOf("."))&&(mt=mt.replace(".","")),0<(Xe=mt.search(/e/i))?(qe<0&&(qe=Xe),qe+=+mt.slice(Xe+1),mt=mt.substring(0,Xe)):qe<0&&(qe=mt.length)}else{if(De(He,2,Rn.length,"Base"),mt=String(_e),10==He)return fi(Ct=new nn(_e instanceof nn?_e:mt),Rt+Ct.e+1,Yt);if(Ze="number"==typeof _e){if(0*_e!=0)return vt(Ct,mt,Ze,He);if(Ct.s=1/_e<0?(mt=mt.slice(1),-1):1,nn.DEBUG&&15<mt.replace(/^0\.0*|\./,"").length)throw Error(Y+_e);Ze=!1}else Ct.s=45===mt.charCodeAt(0)?(mt=mt.slice(1),-1):1;for(Qe=Rn.slice(0,He),qe=Xe=0,yt=mt.length;Xe<yt;Xe++)if(Qe.indexOf(St=mt.charAt(Xe))<0){if("."==St){if(qe<Xe){qe=yt;continue}}else if(!lt&&(mt==mt.toUpperCase()&&(mt=mt.toLowerCase())||mt==mt.toLowerCase()&&(mt=mt.toUpperCase()))){lt=!0,Xe=-1,qe=0;continue}return vt(Ct,String(_e),Ze,He)}-1<(qe=(mt=nt(mt,He,10,Ct.s)).indexOf("."))?mt=mt.replace(".",""):qe=mt.length}for(Xe=0;48===mt.charCodeAt(Xe);Xe++);for(yt=mt.length;48===mt.charCodeAt(--yt););if(mt=mt.slice(Xe,++yt)){if(yt-=Xe,Ze&&nn.DEBUG&&15<yt&&(ae<_e||_e!==N(_e)))throw Error(Y+Ct.s*_e);if(Zn<(qe=qe-Xe-1))Ct.c=Ct.e=null;else if(qe<Ht)Ct.c=[Ct.e=0];else{if(Ct.e=qe,Ct.c=[],Xe=(qe+1)%14,qe<0&&(Xe+=14),Xe<yt){for(Xe&&Ct.c.push(+mt.slice(0,Xe)),yt-=14;Xe<yt;)Ct.c.push(+mt.slice(Xe,Xe+=14));Xe=14-(mt=mt.slice(Xe)).length}else Xe-=yt;for(;Xe--;mt+="0");Ct.c.push(+mt)}}else Ct.c=[Ct.e=0]}function $r(_e,He,Qe,St){var lt,qe,Xe,Ze,yt;if(null==Qe?Qe=Yt:De(Qe,0,8),!_e.c)return _e.toString();if(lt=_e.c[0],Xe=_e.e,null==He)yt=Te(_e.c),yt=1==St||2==St&&(Xe<=bn||Mn<=Xe)?rt(yt,Xe):Ye(yt,Xe,"0");else if(qe=(_e=fi(new nn(_e),He,Qe)).e,Ze=(yt=Te(_e.c)).length,1==St||2==St&&(He<=qe||qe<=bn)){for(;Ze<He;yt+="0",Ze++);yt=rt(yt,qe)}else if(He-=Xe,yt=Ye(yt,qe,"0"),Ze<qe+1){if(0<--He)for(yt+=".";He--;yt+="0");}else if(0<(He+=qe-Ze))for(qe+1==Ze&&(yt+=".");He--;yt+="0");return _e.s<0&&lt?"-"+yt:yt}function yi(_e,He){for(var Qe,St=1,lt=new nn(_e[0]);St<_e.length;St++){if(!(Qe=new nn(_e[St])).s){lt=Qe;break}He.call(lt,Qe)&&(lt=Qe)}return lt}function _i(_e,He,Qe){for(var St=1,lt=He.length;!He[--lt];He.pop());for(lt=He[0];10<=lt;lt/=10,St++);return _e.c=(Qe=St+14*Qe-1)>Zn?_e.e=null:Qe<Ht?[_e.e=0]:(_e.e=Qe,He),_e}function fi(_e,He,Qe,St){var lt,qe,Xe,Ze,yt,mt,Ct,qt=_e.c,hn=fe;if(qt){e:{for(lt=1,Ze=qt[0];10<=Ze;Ze/=10,lt++);if((qe=He-lt)<0)qe+=14,Ct=(yt=qt[mt=0])/hn[lt-(Xe=He)-1]%10|0;else if((mt=A((qe+1)/14))>=qt.length){if(!St)break e;for(;qt.length<=mt;qt.push(0));yt=Ct=0,Xe=(qe%=14)-14+(lt=1)}else{for(yt=Ze=qt[mt],lt=1;10<=Ze;Ze/=10,lt++);Ct=(Xe=(qe%=14)-14+lt)<0?0:yt/hn[lt-Xe-1]%10|0}if(St=St||He<0||null!=qt[mt+1]||(Xe<0?yt:yt%hn[lt-Xe-1]),St=Qe<4?(Ct||St)&&(0==Qe||Qe==(_e.s<0?3:2)):5<Ct||5==Ct&&(4==Qe||St||6==Qe&&(0<qe?0<Xe?yt/hn[lt-Xe]:0:qt[mt-1])%10&1||Qe==(_e.s<0?8:7)),He<1||!qt[0])return qt.length=0,St?(qt[0]=hn[(14-(He-=_e.e+1)%14)%14],_e.e=-He||0):qt[0]=_e.e=0,_e;if(0==qe?(qt.length=mt,Ze=1,mt--):(qt.length=mt+1,Ze=hn[14-qe],qt[mt]=0<Xe?N(yt/hn[lt-Xe]%hn[Xe])*Ze:0),St)for(;;){if(0==mt){for(qe=1,Xe=qt[0];10<=Xe;Xe/=10,qe++);for(Xe=qt[0]+=Ze,Ze=1;10<=Xe;Xe/=10,Ze++);qe!=Ze&&(_e.e++,qt[0]==te&&(qt[0]=1));break}if(qt[mt]+=Ze,qt[mt]!=te)break;qt[mt--]=0,Ze=1}for(qe=qt.length;0===qt[--qe];qt.pop());}_e.e>Zn?_e.c=_e.e=null:_e.e<Ht&&(_e.c=[_e.e=0])}return _e}function cr(_e){var He,Qe=_e.e;return null===Qe?_e.toString():(He=Te(_e.c),He=Qe<=bn||Mn<=Qe?rt(He,Qe):Ye(He,Qe,"0"),_e.s<0?"-"+He:He)}return nn.clone=Oe,nn.ROUND_UP=0,nn.ROUND_DOWN=1,nn.ROUND_CEIL=2,nn.ROUND_FLOOR=3,nn.ROUND_HALF_UP=4,nn.ROUND_HALF_DOWN=5,nn.ROUND_HALF_EVEN=6,nn.ROUND_HALF_CEIL=7,nn.ROUND_HALF_FLOOR=8,nn.EUCLID=9,nn.config=nn.set=function(_e){var He,Qe;if(null!=_e){if("object"!=typeof _e)throw Error(F+"Object expected: "+_e);if(_e.hasOwnProperty(He="DECIMAL_PLACES")&&(De(Qe=_e[He],0,K,He),Rt=Qe),_e.hasOwnProperty(He="ROUNDING_MODE")&&(De(Qe=_e[He],0,8,He),Yt=Qe),_e.hasOwnProperty(He="EXPONENTIAL_AT")&&((Qe=_e[He])&&Qe.pop?(De(Qe[0],-K,0,He),De(Qe[1],0,K,He),bn=Qe[0],Mn=Qe[1]):(De(Qe,-K,K,He),bn=-(Mn=Qe<0?-Qe:Qe))),_e.hasOwnProperty(He="RANGE"))if((Qe=_e[He])&&Qe.pop)De(Qe[0],-K,-1,He),De(Qe[1],1,K,He),Ht=Qe[0],Zn=Qe[1];else{if(De(Qe,-K,K,He),!Qe)throw Error(F+He+" cannot be zero: "+Qe);Ht=-(Zn=Qe<0?-Qe:Qe)}if(_e.hasOwnProperty(He="CRYPTO")){if((Qe=_e[He])!==!!Qe)throw Error(F+He+" not true or false: "+Qe);if(Qe){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Un=!Qe,Error(F+"crypto unavailable");Un=Qe}else Un=Qe}if(_e.hasOwnProperty(He="MODULO_MODE")&&(De(Qe=_e[He],0,9,He),Wn=Qe),_e.hasOwnProperty(He="POW_PRECISION")&&(De(Qe=_e[He],0,K,He),In=Qe),_e.hasOwnProperty(He="FORMAT")){if("object"!=typeof(Qe=_e[He]))throw Error(F+He+" not an object: "+Qe);Mr=Qe}if(_e.hasOwnProperty(He="ALPHABET")){if("string"!=typeof(Qe=_e[He])||/^.$|[+-.\s]|(.).*\1/.test(Qe))throw Error(F+He+" invalid: "+Qe);Rn=Qe}}return{DECIMAL_PLACES:Rt,ROUNDING_MODE:Yt,EXPONENTIAL_AT:[bn,Mn],RANGE:[Ht,Zn],CRYPTO:Un,MODULO_MODE:Wn,POW_PRECISION:In,FORMAT:Mr,ALPHABET:Rn}},nn.isBigNumber=function(_e){return _e instanceof nn||_e&&!0===_e._isBigNumber||!1},nn.maximum=nn.max=function(){return yi(arguments,ge.lt)},nn.minimum=nn.min=function(){return yi(arguments,ge.gt)},nn.random=(Pt=9007199254740992,Ft=Math.random()*Pt&2097151?function(){return N(Math.random()*Pt)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(_e){var He,Qe,St,lt,qe,Xe=0,Ze=[],yt=new nn(dt);if(null==_e?_e=Rt:De(_e,0,K),lt=A(_e/14),Un)if(crypto.getRandomValues){for(He=crypto.getRandomValues(new Uint32Array(lt*=2));Xe<lt;)9e15<=(qe=131072*He[Xe]+(He[Xe+1]>>>11))?(Qe=crypto.getRandomValues(new Uint32Array(2)),He[Xe]=Qe[0],He[Xe+1]=Qe[1]):(Ze.push(qe%1e14),Xe+=2);Xe=lt/2}else{if(!crypto.randomBytes)throw Un=!1,Error(F+"crypto unavailable");for(He=crypto.randomBytes(lt*=7);Xe<lt;)9e15<=(qe=281474976710656*(31&He[Xe])+1099511627776*He[Xe+1]+4294967296*He[Xe+2]+16777216*He[Xe+3]+(He[Xe+4]<<16)+(He[Xe+5]<<8)+He[Xe+6])?crypto.randomBytes(7).copy(He,Xe):(Ze.push(qe%1e14),Xe+=7);Xe=lt/7}if(!Un)for(;Xe<lt;)(qe=Ft())<9e15&&(Ze[Xe++]=qe%1e14);for(_e%=14,(lt=Ze[--Xe])&&_e&&(Ze[Xe]=N(lt/(qe=fe[14-_e]))*qe);0===Ze[Xe];Ze.pop(),Xe--);if(Xe<0)Ze=[St=0];else{for(St=-1;0===Ze[0];Ze.splice(0,1),St-=14);for(Xe=1,qe=Ze[0];10<=qe;qe/=10,Xe++);Xe<14&&(St-=14-Xe)}return yt.e=St,yt.c=Ze,yt}),nn.sum=function(){for(var _e=1,He=arguments,Qe=new nn(He[0]);_e<He.length;)Qe=Qe.plus(He[_e++]);return Qe},nt=function(){var _e="0123456789";function He(Qe,St,lt,qe){for(var Xe,Ze,yt=[0],mt=0,Ct=Qe.length;mt<Ct;){for(Ze=yt.length;Ze--;yt[Ze]*=St);for(yt[0]+=qe.indexOf(Qe.charAt(mt++)),Xe=0;Xe<yt.length;Xe++)yt[Xe]>lt-1&&(null==yt[Xe+1]&&(yt[Xe+1]=0),yt[Xe+1]+=yt[Xe]/lt|0,yt[Xe]%=lt)}return yt.reverse()}return function(Qe,St,lt,qe,Xe){var Ze,yt,mt,Ct,qt,hn,Sn,Bn,br=Qe.indexOf("."),ai=Rt,ui=Yt;for(0<=br&&(Ct=In,In=0,Qe=Qe.replace(".",""),hn=(Bn=new nn(St)).pow(Qe.length-br),In=Ct,Bn.c=He(Ye(Te(hn.c),hn.e,"0"),10,lt,_e),Bn.e=Bn.c.length),mt=Ct=(Sn=He(Qe,St,lt,Xe?(Ze=Rn,_e):(Ze=_e,Rn))).length;0==Sn[--Ct];Sn.pop());if(!Sn[0])return Ze.charAt(0);if(br<0?--mt:(hn.c=Sn,hn.e=mt,hn.s=qe,Sn=(hn=ct(hn,Bn,ai,ui,lt)).c,qt=hn.r,mt=hn.e),br=Sn[yt=mt+ai+1],Ct=lt/2,qt=qt||yt<0||null!=Sn[yt+1],qt=ui<4?(null!=br||qt)&&(0==ui||ui==(hn.s<0?3:2)):Ct<br||br==Ct&&(4==ui||qt||6==ui&&1&Sn[yt-1]||ui==(hn.s<0?8:7)),yt<1||!Sn[0])Qe=qt?Ye(Ze.charAt(1),-ai,Ze.charAt(0)):Ze.charAt(0);else{if(Sn.length=yt,qt)for(--lt;++Sn[--yt]>lt;)Sn[yt]=0,yt||(++mt,Sn=[1].concat(Sn));for(Ct=Sn.length;!Sn[--Ct];);for(br=0,Qe="";br<=Ct;Qe+=Ze.charAt(Sn[br++]));Qe=Ye(Qe,mt,Ze.charAt(0))}return Qe}}(),ct=function(){function _e(St,lt,qe){var Xe,Ze,yt,mt,Ct=0,qt=St.length,hn=lt%me,Sn=lt/me|0;for(St=St.slice();qt--;)Ct=((Ze=hn*(yt=St[qt]%me)+(Xe=Sn*yt+(mt=St[qt]/me|0)*hn)%me*me+Ct)/qe|0)+(Xe/me|0)+Sn*mt,St[qt]=Ze%qe;return Ct&&(St=[Ct].concat(St)),St}function He(St,lt,qe,Xe){var Ze,yt;if(qe!=Xe)yt=Xe<qe?1:-1;else for(Ze=yt=0;Ze<qe;Ze++)if(St[Ze]!=lt[Ze]){yt=St[Ze]>lt[Ze]?1:-1;break}return yt}function Qe(St,lt,qe,Xe){for(var Ze=0;qe--;)St[qe]-=Ze,St[qe]=(Ze=St[qe]<lt[qe]?1:0)*Xe+St[qe]-lt[qe];for(;!St[0]&&1<St.length;St.splice(0,1));}return function(St,lt,qe,Xe,Ze){var yt,mt,Ct,qt,hn,Sn,Bn,br,ai,ui,pi,Ii,vu,Xl,qi,la,ua,Ao=St.s==lt.s?1:-1,ms=St.c,Ji=lt.c;if(!(ms&&ms[0]&&Ji&&Ji[0]))return new nn(St.s&&lt.s&&(ms?!Ji||ms[0]!=Ji[0]:Ji)?ms&&0==ms[0]||!Ji?0*Ao:Ao/0:NaN);for(ai=(br=new nn(Ao)).c=[],Ao=qe+(mt=St.e-lt.e)+1,Ze||(Ze=te,mt=ce(St.e/14)-ce(lt.e/14),Ao=Ao/14|0),Ct=0;Ji[Ct]==(ms[Ct]||0);Ct++);if(Ji[Ct]>(ms[Ct]||0)&&mt--,Ao<0)ai.push(1),qt=!0;else{for(Xl=ms.length,la=Ji.length,Ao+=2,1<(hn=N(Ze/(Ji[Ct=0]+1)))&&(Ji=_e(Ji,hn,Ze),ms=_e(ms,hn,Ze),la=Ji.length,Xl=ms.length),vu=la,pi=(ui=ms.slice(0,la)).length;pi<la;ui[pi++]=0);ua=Ji.slice(),ua=[0].concat(ua),qi=Ji[0],Ji[1]>=Ze/2&&qi++;do{if(hn=0,(yt=He(Ji,ui,la,pi))<0){if(Ii=ui[0],la!=pi&&(Ii=Ii*Ze+(ui[1]||0)),1<(hn=N(Ii/qi)))for(Ze<=hn&&(hn=Ze-1),Bn=(Sn=_e(Ji,hn,Ze)).length,pi=ui.length;1==He(Sn,ui,Bn,pi);)hn--,Qe(Sn,la<Bn?ua:Ji,Bn,Ze),Bn=Sn.length,yt=1;else 0==hn&&(yt=hn=1),Bn=(Sn=Ji.slice()).length;if(Bn<pi&&(Sn=[0].concat(Sn)),Qe(ui,Sn,pi,Ze),pi=ui.length,-1==yt)for(;He(Ji,ui,la,pi)<1;)hn++,Qe(ui,la<pi?ua:Ji,pi,Ze),pi=ui.length}else 0===yt&&(hn++,ui=[0]);ai[Ct++]=hn,ui[0]?ui[pi++]=ms[vu]||0:(ui=[ms[vu]],pi=1)}while((vu++<Xl||null!=ui[0])&&Ao--);qt=null!=ui[0],ai[0]||ai.splice(0,1)}if(Ze==te){for(Ct=1,Ao=ai[0];10<=Ao;Ao/=10,Ct++);fi(br,qe+(br.e=Ct+14*mt-1)+1,Xe,qt)}else br.e=mt,br.r=+qt;return br}}(),Wt=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Kt=/^([^.]+)\.$/,Zt=/^\.([^.]+)$/,Nt=/^-?(Infinity|NaN)$/,Ne=/^\s*\+(?=[\w.])|^\s+|\s+$/g,vt=function(_e,He,Qe,St){var lt,qe=Qe?He:He.replace(Ne,"");if(Nt.test(qe))_e.s=isNaN(qe)?null:qe<0?-1:1,_e.c=_e.e=null;else{if(!Qe&&(qe=qe.replace(Wt,function(Xe,Ze,yt){return lt="x"==(yt=yt.toLowerCase())?16:"b"==yt?2:8,St&&St!=lt?Xe:Ze}),St&&(lt=St,qe=qe.replace(Kt,"$1").replace(Zt,"0.$1")),He!=qe))return new nn(qe,lt);if(nn.DEBUG)throw Error(F+"Not a"+(St?" base "+St:"")+" number: "+He);_e.c=_e.e=_e.s=null}},ge.absoluteValue=ge.abs=function(){var _e=new nn(this);return _e.s<0&&(_e.s=1),_e},ge.comparedTo=function(_e,He){return Fe(this,new nn(_e,He))},ge.decimalPlaces=ge.dp=function(_e,He){var Qe,St,lt;if(null!=_e)return De(_e,0,K),null==He?He=Yt:De(He,0,8),fi(new nn(this),_e+this.e+1,He);if(!(Qe=this.c))return null;if(St=14*((lt=Qe.length-1)-ce(this.e/14)),lt=Qe[lt])for(;lt%10==0;lt/=10,St--);return St<0&&(St=0),St},ge.dividedBy=ge.div=function(_e,He){return ct(this,new nn(_e,He),Rt,Yt)},ge.dividedToIntegerBy=ge.idiv=function(_e,He){return ct(this,new nn(_e,He),0,1)},ge.exponentiatedBy=ge.pow=function(_e,He){var Qe,St,lt,qe,Xe,Ze,yt,mt,Ct=this;if((_e=new nn(_e)).c&&!_e.isInteger())throw Error(F+"Exponent not an integer: "+cr(_e));if(null!=He&&(He=new nn(He)),Xe=14<_e.e,!Ct.c||!Ct.c[0]||1==Ct.c[0]&&!Ct.e&&1==Ct.c.length||!_e.c||!_e.c[0])return mt=new nn(Math.pow(+cr(Ct),Xe?2-Ue(_e):+cr(_e))),He?mt.mod(He):mt;if(Ze=_e.s<0,He){if(He.c?!He.c[0]:!He.s)return new nn(NaN);(St=!Ze&&Ct.isInteger()&&He.isInteger())&&(Ct=Ct.mod(He))}else{if(9<_e.e&&(0<Ct.e||Ct.e<-1||(0==Ct.e?1<Ct.c[0]||Xe&&24e7<=Ct.c[1]:Ct.c[0]<8e13||Xe&&Ct.c[0]<=9999975e7)))return qe=Ct.s<0&&Ue(_e)?-0:0,-1<Ct.e&&(qe=1/qe),new nn(Ze?1/qe:qe);In&&(qe=A(In/14+2))}for(yt=Xe?(Qe=new nn(.5),Ze&&(_e.s=1),Ue(_e)):(lt=Math.abs(+cr(_e)))%2,mt=new nn(dt);;){if(yt){if(!(mt=mt.times(Ct)).c)break;qe?mt.c.length>qe&&(mt.c.length=qe):St&&(mt=mt.mod(He))}if(lt){if(0===(lt=N(lt/2)))break;yt=lt%2}else if(fi(_e=_e.times(Qe),_e.e+1,1),14<_e.e)yt=Ue(_e);else{if(0==(lt=+cr(_e)))break;yt=lt%2}Ct=Ct.times(Ct),qe?Ct.c&&Ct.c.length>qe&&(Ct.c.length=qe):St&&(Ct=Ct.mod(He))}return St?mt:(Ze&&(mt=dt.div(mt)),He?mt.mod(He):qe?fi(mt,In,Yt,void 0):mt)},ge.integerValue=function(_e){var He=new nn(this);return null==_e?_e=Yt:De(_e,0,8),fi(He,He.e+1,_e)},ge.isEqualTo=ge.eq=function(_e,He){return 0===Fe(this,new nn(_e,He))},ge.isFinite=function(){return!!this.c},ge.isGreaterThan=ge.gt=function(_e,He){return 0<Fe(this,new nn(_e,He))},ge.isGreaterThanOrEqualTo=ge.gte=function(_e,He){return 1===(He=Fe(this,new nn(_e,He)))||0===He},ge.isInteger=function(){return!!this.c&&ce(this.e/14)>this.c.length-2},ge.isLessThan=ge.lt=function(_e,He){return Fe(this,new nn(_e,He))<0},ge.isLessThanOrEqualTo=ge.lte=function(_e,He){return-1===(He=Fe(this,new nn(_e,He)))||0===He},ge.isNaN=function(){return!this.s},ge.isNegative=function(){return this.s<0},ge.isPositive=function(){return 0<this.s},ge.isZero=function(){return!!this.c&&0==this.c[0]},ge.minus=function(_e,He){var Qe,St,lt,qe,Xe=this,Ze=Xe.s;if(He=(_e=new nn(_e,He)).s,!Ze||!He)return new nn(NaN);if(Ze!=He)return _e.s=-He,Xe.plus(_e);var yt=Xe.e/14,mt=_e.e/14,Ct=Xe.c,qt=_e.c;if(!yt||!mt){if(!Ct||!qt)return Ct?(_e.s=-He,_e):new nn(qt?Xe:NaN);if(!Ct[0]||!qt[0])return qt[0]?(_e.s=-He,_e):new nn(Ct[0]?Xe:3==Yt?-0:0)}if(yt=ce(yt),mt=ce(mt),Ct=Ct.slice(),Ze=yt-mt){for((lt=(qe=Ze<0)?(Ze=-Ze,Ct):(mt=yt,qt)).reverse(),He=Ze;He--;lt.push(0));lt.reverse()}else for(St=(qe=(Ze=Ct.length)<(He=qt.length))?Ze:He,Ze=He=0;He<St;He++)if(Ct[He]!=qt[He]){qe=Ct[He]<qt[He];break}if(qe&&(lt=Ct,Ct=qt,qt=lt,_e.s=-_e.s),0<(He=(St=qt.length)-(Qe=Ct.length)))for(;He--;Ct[Qe++]=0);for(He=te-1;Ze<St;){if(Ct[--St]<qt[St]){for(Qe=St;Qe&&!Ct[--Qe];Ct[Qe]=He);--Ct[Qe],Ct[St]+=te}Ct[St]-=qt[St]}for(;0==Ct[0];Ct.splice(0,1),--mt);return Ct[0]?_i(_e,Ct,mt):(_e.s=3==Yt?-1:1,_e.c=[_e.e=0],_e)},ge.modulo=ge.mod=function(_e,He){var Qe,St,lt=this;return _e=new nn(_e,He),!lt.c||!_e.s||_e.c&&!_e.c[0]?new nn(NaN):!_e.c||lt.c&&!lt.c[0]?new nn(lt):(9==Wn?(St=_e.s,_e.s=1,Qe=ct(lt,_e,0,3),_e.s=St,Qe.s*=St):Qe=ct(lt,_e,0,Wn),(_e=lt.minus(Qe.times(_e))).c[0]||1!=Wn||(_e.s=lt.s),_e)},ge.multipliedBy=ge.times=function(_e,He){var Qe,St,lt,qe,Xe,Ze,yt,mt,Ct,qt,hn,Sn,Bn,br,ai,ui=this,pi=ui.c,Ii=(_e=new nn(_e,He)).c;if(!(pi&&Ii&&pi[0]&&Ii[0]))return!ui.s||!_e.s||pi&&!pi[0]&&!Ii||Ii&&!Ii[0]&&!pi?_e.c=_e.e=_e.s=null:(_e.s*=ui.s,pi&&Ii?(_e.c=[0],_e.e=0):_e.c=_e.e=null),_e;for(St=ce(ui.e/14)+ce(_e.e/14),_e.s*=ui.s,(yt=pi.length)<(qt=Ii.length)&&(Bn=pi,pi=Ii,Ii=Bn,lt=yt,yt=qt,qt=lt),lt=yt+qt,Bn=[];lt--;Bn.push(0));for(br=te,ai=me,lt=qt;0<=--lt;){for(Qe=0,hn=Ii[lt]%ai,Sn=Ii[lt]/ai|0,qe=lt+(Xe=yt);lt<qe;)Qe=((mt=hn*(mt=pi[--Xe]%ai)+(Ze=Sn*mt+(Ct=pi[Xe]/ai|0)*hn)%ai*ai+Bn[qe]+Qe)/br|0)+(Ze/ai|0)+Sn*Ct,Bn[qe--]=mt%br;Bn[qe]=Qe}return Qe?++St:Bn.splice(0,1),_i(_e,Bn,St)},ge.negated=function(){var _e=new nn(this);return _e.s=-_e.s||null,_e},ge.plus=function(_e,He){var Qe,St=this,lt=St.s;if(He=(_e=new nn(_e,He)).s,!lt||!He)return new nn(NaN);if(lt!=He)return _e.s=-He,St.minus(_e);var qe=St.e/14,Xe=_e.e/14,Ze=St.c,yt=_e.c;if(!qe||!Xe){if(!Ze||!yt)return new nn(lt/0);if(!Ze[0]||!yt[0])return yt[0]?_e:new nn(Ze[0]?St:0*lt)}if(qe=ce(qe),Xe=ce(Xe),Ze=Ze.slice(),lt=qe-Xe){for((Qe=0<lt?(Xe=qe,yt):(lt=-lt,Ze)).reverse();lt--;Qe.push(0));Qe.reverse()}for((lt=Ze.length)-(He=yt.length)<0&&(Qe=yt,yt=Ze,Ze=Qe,He=lt),lt=0;He;)lt=(Ze[--He]=Ze[He]+yt[He]+lt)/te|0,Ze[He]=te===Ze[He]?0:Ze[He]%te;return lt&&(Ze=[lt].concat(Ze),++Xe),_i(_e,Ze,Xe)},ge.precision=ge.sd=function(_e,He){var Qe,St,lt;if(null!=_e&&_e!==!!_e)return De(_e,1,K),null==He?He=Yt:De(He,0,8),fi(new nn(this),_e,He);if(!(Qe=this.c))return null;if(St=14*(lt=Qe.length-1)+1,lt=Qe[lt]){for(;lt%10==0;lt/=10,St--);for(lt=Qe[0];10<=lt;lt/=10,St++);}return _e&&this.e+1>St&&(St=this.e+1),St},ge.shiftedBy=function(_e){return De(_e,-ae,ae),this.times("1e"+_e)},ge.squareRoot=ge.sqrt=function(){var _e,He,Qe,St,lt,qe=this,Xe=qe.c,Ze=qe.s,yt=qe.e,mt=Rt+4,Ct=new nn("0.5");if(1!==Ze||!Xe||!Xe[0])return new nn(!Ze||Ze<0&&(!Xe||Xe[0])?NaN:Xe?qe:1/0);if((Qe=0==(Ze=Math.sqrt(+cr(qe)))||Ze==1/0?(((He=Te(Xe)).length+yt)%2==0&&(He+="0"),Ze=Math.sqrt(+He),yt=ce((yt+1)/2)-(yt<0||yt%2),new nn(He=Ze==1/0?"1e"+yt:(He=Ze.toExponential()).slice(0,He.indexOf("e")+1)+yt)):new nn(Ze+"")).c[0])for((Ze=(yt=Qe.e)+mt)<3&&(Ze=0);;)if(Qe=Ct.times((lt=Qe).plus(ct(qe,lt,mt,1))),Te(lt.c).slice(0,Ze)===(He=Te(Qe.c)).slice(0,Ze)){if(Qe.e<yt&&--Ze,"9999"!=(He=He.slice(Ze-3,Ze+1))&&(St||"4999"!=He)){+He&&(+He.slice(1)||"5"!=He.charAt(0))||(fi(Qe,Qe.e+Rt+2,1),_e=!Qe.times(Qe).eq(qe));break}if(!St&&(fi(lt,lt.e+Rt+2,0),lt.times(lt).eq(qe))){Qe=lt;break}mt+=4,Ze+=4,St=1}return fi(Qe,Qe.e+Rt+1,Yt,_e)},ge.toExponential=function(_e,He){return null!=_e&&(De(_e,0,K),_e++),$r(this,_e,He,1)},ge.toFixed=function(_e,He){return null!=_e&&(De(_e,0,K),_e=_e+this.e+1),$r(this,_e,He)},ge.toFormat=function(_e,He,Qe){var St;if(null==Qe)null!=_e&&He&&"object"==typeof He?(Qe=He,He=null):_e&&"object"==typeof _e?(Qe=_e,_e=He=null):Qe=Mr;else if("object"!=typeof Qe)throw Error(F+"Argument not an object: "+Qe);if(St=this.toFixed(_e,He),this.c){var lt,qe=St.split("."),Xe=+Qe.groupSize,Ze=+Qe.secondaryGroupSize,yt=Qe.groupSeparator||"",mt=qe[0],Ct=qe[1],qt=this.s<0,hn=qt?mt.slice(1):mt,Sn=hn.length;if(Ze&&(lt=Xe,Xe=Ze,Sn-=Ze=lt),0<Xe&&0<Sn){for(mt=hn.substr(0,lt=Sn%Xe||Xe);lt<Sn;lt+=Xe)mt+=yt+hn.substr(lt,Xe);0<Ze&&(mt+=yt+hn.slice(lt)),qt&&(mt="-"+mt)}St=Ct?mt+(Qe.decimalSeparator||"")+((Ze=+Qe.fractionGroupSize)?Ct.replace(new RegExp("\\d{"+Ze+"}\\B","g"),"$&"+(Qe.fractionGroupSeparator||"")):Ct):mt}return(Qe.prefix||"")+St+(Qe.suffix||"")},ge.toFraction=function(_e){var He,Qe,St,lt,qe,Xe,Ze,yt,mt,Ct,qt,hn,Sn=this,Bn=Sn.c;if(null!=_e&&(!(Ze=new nn(_e)).isInteger()&&(Ze.c||1!==Ze.s)||Ze.lt(dt)))throw Error(F+"Argument "+(Ze.isInteger()?"out of range: ":"not an integer: ")+cr(Ze));if(!Bn)return new nn(Sn);for(He=new nn(dt),mt=Qe=new nn(dt),St=yt=new nn(dt),hn=Te(Bn),qe=He.e=hn.length-Sn.e-1,He.c[0]=fe[(Xe=qe%14)<0?14+Xe:Xe],_e=!_e||0<Ze.comparedTo(He)?0<qe?He:mt:Ze,Xe=Zn,Zn=1/0,Ze=new nn(hn),yt.c[0]=0;Ct=ct(Ze,He,0,1),1!=(lt=Qe.plus(Ct.times(St))).comparedTo(_e);)Qe=St,St=lt,mt=yt.plus(Ct.times(lt=mt)),yt=lt,He=Ze.minus(Ct.times(lt=He)),Ze=lt;return lt=ct(_e.minus(Qe),St,0,1),yt=yt.plus(lt.times(mt)),Qe=Qe.plus(lt.times(St)),yt.s=mt.s=Sn.s,qt=ct(mt,St,qe*=2,Yt).minus(Sn).abs().comparedTo(ct(yt,Qe,qe,Yt).minus(Sn).abs())<1?[mt,St]:[yt,Qe],Zn=Xe,qt},ge.toNumber=function(){return+cr(this)},ge.toPrecision=function(_e,He){return null!=_e&&De(_e,1,K),$r(this,_e,He,2)},ge.toString=function(_e){var He,Qe=this,St=Qe.s,lt=Qe.e;return null===lt?St?(He="Infinity",St<0&&(He="-"+He)):He="NaN":(He=null==_e?lt<=bn||Mn<=lt?rt(Te(Qe.c),lt):Ye(Te(Qe.c),lt,"0"):10===_e?Ye(Te((Qe=fi(new nn(Qe),Rt+lt+1,Yt)).c),Qe.e,"0"):(De(_e,2,Rn.length,"Base"),nt(Ye(Te(Qe.c),lt,"0"),10,_e,St,!0)),St<0&&Qe.c[0]&&(He="-"+He)),He},ge.valueOf=ge.toJSON=function(){return cr(this)},ge._isBigNumber=!0,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(ge[Symbol.toStringTag]="BigNumber",ge[Symbol.for("nodejs.util.inspect.custom")]=ge.valueOf),null!=Ke&&nn.set(Ke),nn}()).default=T.BigNumber=T,void 0!==b&&b.exports?b.exports=T:(M||(M="undefined"!=typeof self&&self?self:window),M.BigNumber=T)}(this)},{}],2:[function(ue,b,L){"use strict";b.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(M){var T=M%10;return 1==~~(M%100/10)?"th":1===T?"st":2===T?"nd":3===T?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(ue,b,L){"use strict";function M(ce,Te){return function(Fe){if(Array.isArray(Fe))return Fe}(ce)||function(Fe,De){var Ue=[],rt=!0,Ye=!1,Oe=void 0;try{for(var Ke,ct=Fe[Symbol.iterator]();!(rt=(Ke=ct.next()).done)&&(Ue.push(Ke.value),!De||Ue.length!==De);rt=!0);}catch(nt){Ye=!0,Oe=nt}finally{try{rt||null==ct.return||ct.return()}finally{if(Ye)throw Oe}}return Ue}(ce,Te)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T=ue("./globalState"),R=ue("./validating"),A=ue("./parsing"),N=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],F={general:{scale:1024,suffixes:N,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:N,marker:"d"}},Y={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function te(ce){var Te=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Fe=2<arguments.length?arguments[2]:void 0;if("string"==typeof Te&&(Te=A.parseFormat(Te)),!R.validateFormat(Te))return"ERROR: invalid format";var De=Te.prefix||"",Ue=Te.postfix||"",rt=function(Ye,Oe,Ke){switch(Oe.output){case"currency":return function(Rn,nn,$r){var yi=$r.currentCurrency(),_i=Object.assign({},Y,nn),fi=void 0,cr="",_e=!!_i.totalLength||!!_i.forceAverage||_i.average,He=nn.currencyPosition||yi.position,Qe=nn.currencySymbol||yi.symbol;_i.spaceSeparated&&(cr=" "),"infix"===He&&(fi=cr+Qe+cr);var St=me({instance:Rn,providedFormat:nn,state:$r,decimalSeparator:fi});return"prefix"===He&&(St=Rn._value<0&&"sign"===_i.negative?"-".concat(cr).concat(Qe).concat(St.slice(1)):Qe+cr+St),He&&"postfix"!==He||(St=St+(cr=_e?"":cr)+Qe),St}(Ye,Oe=K(Oe,T.currentCurrencyDefaultFormat()),T);case"percent":return Oe=K(Oe,T.currentPercentageDefaultFormat()),$r=T,_i=(nn=Oe).prefixSymbol,fi=me({instance:Ke(100*Ye._value),providedFormat:nn,state:$r}),cr=Object.assign({},Y,nn),_i?"%".concat(cr.spaceSeparated?" ":"").concat(fi):"".concat(fi).concat(cr.spaceSeparated?" ":"","%");case"byte":return Oe=K(Oe,T.currentByteDefaultFormat()),Yt=T,bn=Ke,Mn=(Rt=Oe).base||"binary",Wn=(Zn=oe(Ye._value,(Ht=F[Mn]).suffixes,Ht.scale)).suffix,In=me({instance:bn(Zn.value),providedFormat:Rt,state:Yt,defaults:Yt.currentByteDefaultFormat()}),Mr=Yt.currentAbbreviations(),"".concat(In).concat(Mr.spaced?" ":"").concat(Wn);case"time":return Oe=K(Oe,T.currentTimeDefaultFormat()),Zt=Ye,Nt=Math.floor(Zt._value/60/60),Ne=Math.floor((Zt._value-60*Nt*60)/60),ge=Math.round(Zt._value-60*Nt*60-60*Ne),"".concat(Nt,":").concat(Ne<10?"0":"").concat(Ne,":").concat(ge<10?"0":"").concat(ge);case"ordinal":return ct=Ye,nt=Oe=K(Oe,T.currentOrdinalDefaultFormat()),Pt=(vt=T).currentOrdinal(),Ft=Object.assign({},Y,nt),Wt=me({instance:ct,providedFormat:nt,state:vt}),Kt=Pt(ct._value),"".concat(Wt).concat(Ft.spaceSeparated?" ":"").concat(Kt);default:return me({instance:Ye,providedFormat:Oe,numbro:Ke})}var nn,$r,_i,fi,cr,ct,nt,vt,Pt,Ft,Wt,Kt,Zt,Nt,Ne,ge,Rt,Yt,bn,Mn,Ht,Zn,Wn,In,Mr}(ce,Te,Fe);return(rt=De+rt)+Ue}function oe(ce,Te,Fe){var De=Te[0],Ue=Math.abs(ce);if(Fe<=Ue){for(var rt=1;rt<Te.length;++rt){var Ye=Math.pow(Fe,rt),Oe=Math.pow(Fe,rt+1);if(Ye<=Ue&&Ue<Oe){De=Te[rt],ce/=Ye;break}}De===Te[0]&&(ce/=Math.pow(Fe,Te.length-1),De=Te[Te.length-1])}return{value:ce,suffix:De}}function ae(ce){for(var Te="",Fe=0;Fe<ce;Fe++)Te+="0";return Te}function me(ce){var Te=ce.instance,Fe=ce.providedFormat,De=ce.state,Ue=void 0===De?T:De,rt=ce.decimalSeparator,Ye=ce.defaults,Oe=void 0===Ye?Ue.currentDefaults():Ye,Ke=Te._value;if(0===Ke&&Ue.hasZeroFormat())return Ue.getZeroFormat();if(!isFinite(Ke))return Ke.toString();var ct,nt,vt,Pt,Ft,Kt,Zt,Nt=Object.assign({},Y,Oe,Fe),Ne=Nt.totalLength,ge=Ne?0:Nt.characteristic,dt=Nt.optionalCharacteristic,Rt=Nt.forceAverage,Yt=!!Ne||!!Rt||Nt.average,bn=Ne?-1:Yt&&void 0===Fe.mantissa?0:Nt.mantissa,Mn=!Ne&&(void 0===Fe.optionalMantissa?-1===bn:Nt.optionalMantissa),Ht=Nt.trimMantissa,Zn=Nt.thousandSeparated,Un=Nt.spaceSeparated,Wn=Nt.negative,In=Nt.forceSign,Mr=Nt.exponential,Rn="";if(Yt){var nn=function(_e){var He=_e.value,Qe=_e.forceAverage,St=_e.abbreviations,lt=_e.spaceSeparated,qe=void 0!==lt&&lt,Xe=_e.totalLength,Ze=void 0===Xe?0:Xe,yt="",mt=Math.abs(He),Ct=-1;if(mt>=Math.pow(10,12)&&!Qe||"trillion"===Qe?(yt=St.trillion,He/=Math.pow(10,12)):mt<Math.pow(10,12)&&mt>=Math.pow(10,9)&&!Qe||"billion"===Qe?(yt=St.billion,He/=Math.pow(10,9)):mt<Math.pow(10,9)&&mt>=Math.pow(10,6)&&!Qe||"million"===Qe?(yt=St.million,He/=Math.pow(10,6)):(mt<Math.pow(10,6)&&mt>=Math.pow(10,3)&&!Qe||"thousand"===Qe)&&(yt=St.thousand,He/=Math.pow(10,3)),yt&&(yt=(qe?" ":"")+yt),Ze){var qt=He.toString().split(".")[0];Ct=Math.max(Ze-qt.length,0)}return{value:He,abbreviation:yt,mantissaPrecision:Ct}}({value:Ke,forceAverage:Rt,abbreviations:Ue.currentAbbreviations(),spaceSeparated:Un,totalLength:Ne});Ke=nn.value,Rn+=nn.abbreviation,Ne&&(bn=nn.mantissaPrecision)}if(Mr){var $r=(nt=(ct={value:Ke,characteristicPrecision:ge}).value,Pt=void 0===(vt=ct.characteristicPrecision)?0:vt,Kt=(Ft=M(nt.toExponential().split("e"),2))[1],Zt=+Ft[0],Pt&&1<Pt&&(Zt*=Math.pow(10,Pt-1),Kt=0<=(Kt=+Kt-(Pt-1))?"+".concat(Kt):Kt),{value:Zt,abbreviation:"e".concat(Kt)});Ke=$r.value,Rn=$r.abbreviation+Rn}var yi,_i,fi,cr=function(_e,He,Qe,St,lt){if(-1===St)return _e;var qe=function fe(ce,Te){return-1!==ce.toString().indexOf("e")?function(Fe,De){var Ue=Fe.toString(),rt=M(Ue.split("e"),2),Oe=rt[1],Ke=M(rt[0].split("."),2),ct=Ke[0],nt=Ke[1],vt=void 0===nt?"":nt;if(0<+Oe)Ue=ct+vt+ae(Oe-vt.length);else{var Pt=".";Pt=+ct<0?"-0".concat(Pt):"0".concat(Pt);var Ft=(ae(-Oe-1)+Math.abs(ct)+vt).substr(0,De);Ft.length<De&&(Ft+=ae(De-Ft.length)),Ue=Pt+Ft}return 0<+Oe&&0<De&&(Ue+=".".concat(ae(De))),Ue}(ce,Te):(Math.round(+"".concat(ce,"e+").concat(Te))/Math.pow(10,Te)).toFixed(Te)}(He,St),Xe=M(qe.toString().split("."),2),Ze=Xe[0],yt=Xe[1],mt=void 0===yt?"":yt;if(mt.match(/^0+$/)&&(Qe||lt))return Ze;var Ct=mt.match(/0+$/);return lt&&Ct?"".concat(Ze,".").concat(mt.toString().slice(0,Ct.index)):qe.toString()}(Ke.toString(),Ke,Mn,bn,Ht);return cr=function(_e,He,Qe,St,lt){var qe=St.currentDelimiters(),Xe=qe.thousands;lt=lt||qe.decimal;var Ze=qe.thousandsSize||3,yt=_e.toString(),mt=yt.split(".")[0],Ct=yt.split(".")[1];return Qe&&(He<0&&(mt=mt.slice(1)),function(qt,hn){for(var Sn=[],Bn=0,br=qt;0<br;br--)Bn===hn&&(Sn.unshift(br),Bn=0),Bn++;return Sn}(mt.length,Ze).forEach(function(qt,hn){mt=mt.slice(0,qt+hn)+Xe+mt.slice(qt+hn)}),He<0&&(mt="-".concat(mt))),Ct?mt+lt+Ct:mt}(cr=function(_e,He,Qe,St){var lt=_e,qe=M(lt.toString().split("."),2),Xe=qe[0],Ze=qe[1];if(Xe.match(/^-?0$/)&&Qe)return Ze?"".concat(Xe.replace("0",""),".").concat(Ze):Xe.replace("0","");if(Xe.length<St)for(var yt=St-Xe.length,mt=0;mt<yt;mt++)lt="0".concat(lt);return lt.toString()}(cr,0,dt,ge),Ke,Zn,Ue,rt),(Yt||Mr)&&(cr+=Rn),(In||Ke<0)&&(yi=cr,fi=Wn,cr=0===(_i=Ke)?yi:0==+yi?yi.replace("-",""):0<_i?"+".concat(yi):"sign"===fi?yi:"(".concat(yi.replace("-",""),")")),cr}function K(ce,Te){if(!ce)return Te;var Fe=Object.keys(ce);return 1===Fe.length&&"output"===Fe[0]?Te:ce}b.exports=function(ce){return{format:function(){for(var Te=arguments.length,Fe=new Array(Te),De=0;De<Te;De++)Fe[De]=arguments[De];return te.apply(void 0,Fe.concat([ce]))},getByteUnit:function(){for(var Te=arguments.length,Fe=new Array(Te),De=0;De<Te;De++)Fe[De]=arguments[De];return function(Ue){var rt=F.general;return oe(Ue._value,rt.suffixes,rt.scale).suffix}.apply(void 0,Fe.concat([ce]))},getBinaryByteUnit:function(){for(var Te=arguments.length,Fe=new Array(Te),De=0;De<Te;De++)Fe[De]=arguments[De];return function(Ue){var rt=F.binary;return oe(Ue._value,rt.suffixes,rt.scale).suffix}.apply(void 0,Fe.concat([ce]))},getDecimalByteUnit:function(){for(var Te=arguments.length,Fe=new Array(Te),De=0;De<Te;De++)Fe[De]=arguments[De];return function(Ue){var rt=F.decimal;return oe(Ue._value,rt.suffixes,rt.scale).suffix}.apply(void 0,Fe.concat([ce]))},formatOrDefault:K}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(ue,b,L){"use strict";var M=ue("./en-US"),T=ue("./validating"),R=ue("./parsing"),A={},N=void 0,F={},Y=null,te={};function oe(fe){N=fe}function ae(){return F[N]}A.languages=function(){return Object.assign({},F)},A.currentLanguage=function(){return N},A.currentCurrency=function(){return ae().currency},A.currentAbbreviations=function(){return ae().abbreviations},A.currentDelimiters=function(){return ae().delimiters},A.currentOrdinal=function(){return ae().ordinal},A.currentDefaults=function(){return Object.assign({},ae().defaults,te)},A.currentOrdinalDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().ordinalFormat)},A.currentByteDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().byteFormat)},A.currentPercentageDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().percentageFormat)},A.currentCurrencyDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().currencyFormat)},A.currentTimeDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().timeFormat)},A.setDefaults=function(fe){fe=R.parseFormat(fe),T.validateFormat(fe)&&(te=fe)},A.getZeroFormat=function(){return Y},A.setZeroFormat=function(fe){return Y="string"==typeof fe?fe:null},A.hasZeroFormat=function(){return null!==Y},A.languageData=function(fe){if(fe){if(F[fe])return F[fe];throw new Error('Unknown tag "'.concat(fe,'"'))}return ae()},A.registerLanguage=function(fe){var me=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!T.validateLanguage(fe))throw new Error("Invalid language data");F[fe.languageTag]=fe,me&&oe(fe.languageTag)},A.setLanguage=function(fe){var me=1<arguments.length&&void 0!==arguments[1]?arguments[1]:M.languageTag;if(!F[fe]){var K=fe.split("-")[0],ce=Object.keys(F).find(function(Te){return Te.split("-")[0]===K});return F[ce]?void oe(ce):void oe(me)}oe(fe)},A.registerLanguage(M),N=M.languageTag,b.exports=A},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(ue,b,L){"use strict";b.exports=function(M){return{loadLanguagesInNode:function(T){return R=M,void T.forEach(function(A){var N=void 0;try{N=ue("../languages/".concat(A))}catch(F){console.error('Unable to load "'.concat(A,'". No matching language file found.'))}N&&R.registerLanguage(N)});var R}}}},{}],6:[function(ue,b,L){"use strict";var M=ue("bignumber.js");function T(R,A,N){var F=new M(R._value),Y=A;return N.isNumbro(A)&&(Y=A._value),Y=new M(Y),R._value=F.minus(Y).toNumber(),R}b.exports=function(R){return{add:function(A,N){return Y=N,te=R,oe=new M((F=A)._value),ae=Y,te.isNumbro(Y)&&(ae=Y._value),ae=new M(ae),F._value=oe.plus(ae).toNumber(),F;var F,Y,te,oe,ae},subtract:function(A,N){return T(A,N,R)},multiply:function(A,N){return Y=N,te=R,oe=new M((F=A)._value),ae=Y,te.isNumbro(Y)&&(ae=Y._value),ae=new M(ae),F._value=oe.times(ae).toNumber(),F;var F,Y,te,oe,ae},divide:function(A,N){return Y=N,te=R,oe=new M((F=A)._value),ae=Y,te.isNumbro(Y)&&(ae=Y._value),ae=new M(ae),F._value=oe.dividedBy(ae).toNumber(),F;var F,Y,te,oe,ae},set:function(A,N){return F=A,te=Y=N,R.isNumbro(Y)&&(te=Y._value),F._value=te,F;var F,Y,te},difference:function(A,N){return F=N,T(te=(Y=R)(A._value),F,Y),Math.abs(te._value);var F,Y,te}}}},{"bignumber.js":1}],7:[function(ue,b,L){"use strict";function M(me,K){for(var ce=0;ce<K.length;ce++){var Te=K[ce];Te.enumerable=Te.enumerable||!1,Te.configurable=!0,"value"in Te&&(Te.writable=!0),Object.defineProperty(me,Te.key,Te)}}var T=ue("./globalState"),R=ue("./validating"),A=ue("./loading")(fe),N=ue("./unformatting"),F=ue("./formatting")(fe),Y=ue("./manipulating")(fe),te=ue("./parsing"),oe=function(){function me(Fe){(function(De,Ue){if(!(De instanceof Ue))throw new TypeError("Cannot call a class as a function")})(this,me),this._value=Fe}var K,ce;return K=me,(ce=[{key:"clone",value:function(){return fe(this._value)}},{key:"format",value:function(){return F.format(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"formatCurrency",value:function(Fe){return"string"==typeof Fe&&(Fe=te.parseFormat(Fe)),(Fe=F.formatOrDefault(Fe,T.currentCurrencyDefaultFormat())).output="currency",F.format(this,Fe)}},{key:"formatTime",value:function(){var Fe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Fe.output="time",F.format(this,Fe)}},{key:"binaryByteUnits",value:function(){return F.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return F.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return F.getByteUnit(this)}},{key:"difference",value:function(Fe){return Y.difference(this,Fe)}},{key:"add",value:function(Fe){return Y.add(this,Fe)}},{key:"subtract",value:function(Fe){return Y.subtract(this,Fe)}},{key:"multiply",value:function(Fe){return Y.multiply(this,Fe)}},{key:"divide",value:function(Fe){return Y.divide(this,Fe)}},{key:"set",value:function(Fe){return Y.set(this,ae(Fe))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&M(K.prototype,ce),me}();function ae(me){var K=me;return fe.isNumbro(me)?K=me._value:"string"==typeof me?K=fe.unformat(me):isNaN(me)&&(K=NaN),K}function fe(me){return new oe(ae(me))}fe.version="2.1.2",fe.isNumbro=function(me){return me instanceof oe},fe.language=T.currentLanguage,fe.registerLanguage=T.registerLanguage,fe.setLanguage=T.setLanguage,fe.languages=T.languages,fe.languageData=T.languageData,fe.zeroFormat=T.setZeroFormat,fe.defaultFormat=T.currentDefaults,fe.setDefaults=T.setDefaults,fe.defaultCurrencyFormat=T.currentCurrencyDefaultFormat,fe.validate=R.validate,fe.loadLanguagesInNode=A.loadLanguagesInNode,fe.unformat=N.unformat,b.exports=fe},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(ue,b,L){"use strict";b.exports={parseFormat:function(M){var T,R,A,N,F,Y,te,oe,ae,fe,me,K,ce,Te,Fe,De,Ue,rt,Ye,Oe,Ke=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof M?M:(R=Ke,F=Ke,function(ct,nt){if(-1===ct.indexOf("$")){if(-1===ct.indexOf("%"))return-1!==ct.indexOf("bd")?(nt.output="byte",nt.base="general"):-1!==ct.indexOf("b")?(nt.output="byte",nt.base="binary"):-1!==ct.indexOf("d")?(nt.output="byte",nt.base="decimal"):-1===ct.indexOf(":")?-1!==ct.indexOf("o")&&(nt.output="ordinal"):nt.output="time";nt.output="percent"}else nt.output="currency"}(M=(Y=(N=M=(A=(T=M).match(/^{([^}]*)}/))?(R.prefix=A[1],T.slice(A[0].length)):T).match(/{([^}]*)}$/))?(F.postfix=Y[1],N.slice(0,-Y[0].length)):N,Ke),te=Ke,(oe=M.match(/[1-9]+[0-9]*/))&&(te.totalLength=+oe[0]),ae=Ke,(fe=M.split(".")[0].match(/0+/))&&(ae.characteristic=fe[0].length),function(ct,nt){if(-1!==ct.indexOf(".")){var vt=ct.split(".")[0];nt.optionalCharacteristic=-1===vt.indexOf("0")}}(M,Ke),me=Ke,-1!==M.indexOf("a")&&(me.average=!0),ce=Ke,-1!==(K=M).indexOf("K")?ce.forceAverage="thousand":-1!==K.indexOf("M")?ce.forceAverage="million":-1!==K.indexOf("B")?ce.forceAverage="billion":-1!==K.indexOf("T")&&(ce.forceAverage="trillion"),function(ct,nt){var vt=ct.split(".")[1];if(vt){var Pt=vt.match(/0+/);Pt&&(nt.mantissa=Pt[0].length)}}(M,Ke),Fe=Ke,(Te=M).match(/\[\.]/)?Fe.optionalMantissa=!0:Te.match(/\./)&&(Fe.optionalMantissa=!1),De=Ke,-1!==M.indexOf(",")&&(De.thousandSeparated=!0),Ue=Ke,-1!==M.indexOf(" ")&&(Ue.spaceSeparated=!0),Ye=Ke,(rt=M).match(/^\+?\([^)]*\)$/)&&(Ye.negative="parenthesis"),rt.match(/^\+?-/)&&(Ye.negative="sign"),Oe=Ke,M.match(/^\+/)&&(Oe.forceSign=!0),Ke)}}},{}],9:[function(ue,b,L){"use strict";var M=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function T(A){return A.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}b.exports={unformat:function(A,N){var F,oe=ue("./globalState"),ae=oe.currentDelimiters(),fe=oe.currentCurrency().symbol,me=oe.currentOrdinal(),K=oe.getZeroFormat(),ce=oe.currentAbbreviations(),Te=void 0;if("string"==typeof A)Te=function(Fe,De){if(!Fe.indexOf(":")||":"===De.thousands)return!1;var Ue=Fe.split(":");if(3!==Ue.length)return!1;var Ye=+Ue[1],Oe=+Ue[2];return!isNaN(+Ue[0])&&!isNaN(Ye)&&!isNaN(Oe)}(A,ae)?+(F=A.split(":"))[2]+60*+F[1]+3600*+F[0]:function R(A,N){var F=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",Y=3<arguments.length?arguments[3]:void 0,te=4<arguments.length?arguments[4]:void 0,oe=5<arguments.length?arguments[5]:void 0,ae=6<arguments.length?arguments[6]:void 0;if(""!==A)return A===te?0:function fe(me,K){var ce=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",Te=3<arguments.length?arguments[3]:void 0,Fe=4<arguments.length?arguments[4]:void 0,De=5<arguments.length?arguments[5]:void 0,Ue=6<arguments.length?arguments[6]:void 0;if(!isNaN(+me))return+me;var rt="",Ye=me.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(Ye!==me)return-1*fe(Ye,K,ce,Te,Fe,De,Ue);for(var Oe=0;Oe<M.length;Oe++){var Ke=M[Oe];if((rt=me.replace(Ke.key,""))!==me)return fe(rt,K,ce,Te,Fe,De,Ue)*Ke.factor}if((rt=me.replace("%",""))!==me)return fe(rt,K,ce,Te,Fe,De,Ue)/100;var ct=parseFloat(me);if(!isNaN(ct)){var nt=Te(ct);if(nt&&"."!==nt&&(rt=me.replace(new RegExp("".concat(T(nt),"$")),""))!==me)return fe(rt,K,ce,Te,Fe,De,Ue);var vt={};Object.keys(De).forEach(function(Ne){vt[De[Ne]]=Ne});for(var Pt=Object.keys(vt).sort().reverse(),Ft=Pt.length,Wt=0;Wt<Ft;Wt++){var Kt=Pt[Wt],Zt=vt[Kt];if((rt=me.replace(Kt,""))!==me){var Nt=void 0;switch(Zt){case"thousand":Nt=Math.pow(10,3);break;case"million":Nt=Math.pow(10,6);break;case"billion":Nt=Math.pow(10,9);break;case"trillion":Nt=Math.pow(10,12)}return fe(rt,K,ce,Te,Fe,De,Ue)*Nt}}}}(function(fe,me){var ce=fe.replace(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"","");return(ce=ce.replace(new RegExp("([0-9])".concat(T(me.thousands),"([0-9])"),"g"),"$1$2")).replace(me.decimal,".")}(A,N,F),N,F,Y,te,oe,ae)}(A,ae,fe,me,K,ce,N);else{if("number"!=typeof A)return;Te=A}if(void 0!==Te)return Te}}},{"./globalState":4}],10:[function(ue,b,L){"use strict";function M(ae){return function(fe){if(Array.isArray(fe)){for(var me=0,K=new Array(fe.length);me<fe.length;me++)K[me]=fe[me];return K}}(ae)||function(fe){if(Symbol.iterator in Object(fe)||"[object Arguments]"===Object.prototype.toString.call(fe))return Array.from(fe)}(ae)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(ae){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe})(ae)}var R=ue("./unformatting"),A=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,N={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(ae,fe){return"byte"===fe.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(ae){return"byte"===ae.output}},characteristic:{type:"number",restriction:function(ae){return 0<=ae},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(ae){return 0<=ae},message:"value must be positive"},{restriction:function(ae,fe){return!fe.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(ae){return 0<=ae},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(ae,fe){return"percent"===fe.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},F={languageTag:{type:"string",mandatory:!0,restriction:function(ae){return ae.match(A)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function Y(ae){return!!R.unformat(ae)}function te(ae,fe,me){var K=3<arguments.length&&void 0!==arguments[3]&&arguments[3],ce=Object.keys(ae).map(function(Te){if(!fe[Te])return console.error("".concat(me," Invalid key: ").concat(Te)),!1;var Fe=ae[Te],De=fe[Te];if("string"==typeof De&&(De={type:De}),"format"===De.type){if(!te(Fe,N,"[Validate ".concat(Te,"]"),!0))return!1}else if(T(Fe)!==De.type)return console.error("".concat(me," ").concat(Te,' type mismatched: "').concat(De.type,'" expected, "').concat(T(Fe),'" provided')),!1;if(De.restrictions&&De.restrictions.length)for(var Ue=De.restrictions.length,rt=0;rt<Ue;rt++){var Ye=De.restrictions[rt],Ke=Ye.message;if(!(0,Ye.restriction)(Fe,ae))return console.error("".concat(me," ").concat(Te," invalid value: ").concat(Ke)),!1}return De.restriction&&!De.restriction(Fe,ae)?(console.error("".concat(me," ").concat(Te," invalid value: ").concat(De.message)),!1):De.validValues&&-1===De.validValues.indexOf(Fe)?(console.error("".concat(me," ").concat(Te," invalid value: must be among ").concat(JSON.stringify(De.validValues),', "').concat(Fe,'" provided')),!1):!(De.children&&!te(Fe,De.children,"[Validate ".concat(Te,"]")))});return K||ce.push.apply(ce,M(Object.keys(fe).map(function(Te){var Fe=fe[Te];if("string"==typeof Fe&&(Fe={type:Fe}),Fe.mandatory){var De=Fe.mandatory;if("function"==typeof De&&(De=De(ae)),De&&void 0===ae[Te])return console.error("".concat(me,' Missing mandatory key "').concat(Te,'"')),!1}return!0}))),ce.reduce(function(Te,Fe){return Te&&Fe},!0)}function oe(ae){return te(ae,N,"[Validate format]")}b.exports={validate:function(ae,fe){var me=Y(ae),K=oe(fe);return me&&K},validateFormat:oe,validateInput:Y,validateLanguage:function(ae){return te(ae,F,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)},8183:function(Q,ue,b){!function(L,M){"use strict";var T;try{T=b(6908)}catch(R){}Q.exports=function(L){var M="function"==typeof L,T=!!window.addEventListener,R=window.document,A=window.setTimeout,N=function(Ne,ge,dt,Rt){T?Ne.addEventListener(ge,dt,!!Rt):Ne.attachEvent("on"+ge,dt)},F=function(Ne,ge,dt,Rt){T?Ne.removeEventListener(ge,dt,!!Rt):Ne.detachEvent("on"+ge,dt)},te=function(Ne,ge){return-1!==(" "+Ne.className+" ").indexOf(" "+ge+" ")},oe=function(Ne,ge){te(Ne,ge)||(Ne.className=""===Ne.className?ge:Ne.className+" "+ge)},ae=function(Ne,ge){Ne.className=function(Ne){return Ne.trim?Ne.trim():Ne.replace(/^\s+|\s+$/g,"")}((" "+Ne.className+" ").replace(" "+ge+" "," "))},fe=function(Ne){return/Array/.test(Object.prototype.toString.call(Ne))},me=function(Ne){return/Date/.test(Object.prototype.toString.call(Ne))&&!isNaN(Ne.getTime())},K=function(Ne){var ge=Ne.getDay();return 0===ge||6===ge},ce=function(Ne){return Ne%4==0&&Ne%100!=0||Ne%400==0},Te=function(Ne,ge){return[31,ce(Ne)?29:28,31,30,31,30,31,31,30,31,30,31][ge]},Fe=function(Ne){me(Ne)&&Ne.setHours(0,0,0,0)},De=function(Ne,ge){return Ne.getTime()===ge.getTime()},Ue=function(Ne,ge,dt){var Rt,Yt;for(Rt in ge)(Yt=void 0!==Ne[Rt])&&"object"==typeof ge[Rt]&&null!==ge[Rt]&&void 0===ge[Rt].nodeName?me(ge[Rt])?dt&&(Ne[Rt]=new Date(ge[Rt].getTime())):fe(ge[Rt])?dt&&(Ne[Rt]=ge[Rt].slice(0)):Ne[Rt]=Ue({},ge[Rt],dt):(dt||!Yt)&&(Ne[Rt]=ge[Rt]);return Ne},rt=function(Ne,ge,dt){var Rt;R.createEvent?((Rt=R.createEvent("HTMLEvents")).initEvent(ge,!0,!1),Rt=Ue(Rt,dt),Ne.dispatchEvent(Rt)):R.createEventObject&&(Rt=R.createEventObject(),Rt=Ue(Rt,dt),Ne.fireEvent("on"+ge,Rt))},Ye=function(Ne){return Ne.month<0&&(Ne.year-=Math.ceil(Math.abs(Ne.month)/12),Ne.month+=12),Ne.month>11&&(Ne.year+=Math.floor(Math.abs(Ne.month)/12),Ne.month-=12),Ne},Oe={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},Ke=function(Ne,ge,dt){for(ge+=Ne.firstDay;ge>=7;)ge-=7;return dt?Ne.i18n.weekdaysShort[ge]:Ne.i18n.weekdays[ge]},ct=function(Ne){var ge=[],dt="false";if(Ne.isEmpty){if(!Ne.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';ge.push("is-outside-current-month"),Ne.enableSelectionDaysInNextAndPreviousMonths||ge.push("is-selection-disabled")}return Ne.isDisabled&&ge.push("is-disabled"),Ne.isToday&&ge.push("is-today"),Ne.isSelected&&(ge.push("is-selected"),dt="true"),Ne.hasEvent&&ge.push("has-event"),Ne.isInRange&&ge.push("is-inrange"),Ne.isStartRange&&ge.push("is-startrange"),Ne.isEndRange&&ge.push("is-endrange"),'<td data-day="'+Ne.day+'" class="'+ge.join(" ")+'" aria-selected="'+dt+'"><button class="pika-button pika-day" type="button" data-pika-year="'+Ne.year+'" data-pika-month="'+Ne.month+'" data-pika-day="'+Ne.day+'">'+Ne.day+"</button></td>"},vt=function(Ne,ge,dt,Rt){var Yt=new Date(dt,ge,Ne);return'<td class="pika-week">'+(M?L(Yt).isoWeek():function(Ne,ge){Ne.setHours(0,0,0,0);var dt=Ne.getDate(),Rt=Ne.getDay(),Yt=ge,bn=Yt-1,Ht=function(Mr){return(Mr+7-1)%7};Ne.setDate(dt+bn-Ht(Rt));var Zn=new Date(Ne.getFullYear(),0,Yt),Wn=(Ne.getTime()-Zn.getTime())/864e5;return 1+Math.round((Wn-bn+Ht(Zn.getDay()))/7)}(Yt,Rt))+"</td>"},Pt=function(Ne,ge,dt,Rt){return'<tr class="pika-row'+(dt?" pick-whole-week":"")+(Rt?" is-selected":"")+'">'+(ge?Ne.reverse():Ne).join("")+"</tr>"},Kt=function(Ne,ge,dt,Rt,Yt,bn){var Mn,Ht,Zn,Rn,nn,Un=Ne._o,Wn=dt===Un.minYear,In=dt===Un.maxYear,Mr='<div id="'+bn+'" class="pika-title" role="heading" aria-live="assertive">',$r=!0,yi=!0;for(Zn=[],Mn=0;Mn<12;Mn++)Zn.push('<option value="'+(dt===Yt?Mn-ge:12+Mn-ge)+'"'+(Mn===Rt?' selected="selected"':"")+(Wn&&Mn<Un.minMonth||In&&Mn>Un.maxMonth?' disabled="disabled"':"")+">"+Un.i18n.months[Mn]+"</option>");for(Rn='<div class="pika-label">'+Un.i18n.months[Rt]+'<select class="pika-select pika-select-month" tabindex="-1">'+Zn.join("")+"</select></div>",fe(Un.yearRange)?(Mn=Un.yearRange[0],Ht=Un.yearRange[1]+1):(Mn=dt-Un.yearRange,Ht=1+dt+Un.yearRange),Zn=[];Mn<Ht&&Mn<=Un.maxYear;Mn++)Mn>=Un.minYear&&Zn.push('<option value="'+Mn+'"'+(Mn===dt?' selected="selected"':"")+">"+Mn+"</option>");return nn='<div class="pika-label">'+dt+Un.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+Zn.join("")+"</select></div>",Mr+=Un.showMonthAfterYear?nn+Rn:Rn+nn,Wn&&(0===Rt||Un.minMonth>=Rt)&&($r=!1),In&&(11===Rt||Un.maxMonth<=Rt)&&(yi=!1),0===ge&&(Mr+='<button class="pika-prev'+($r?"":" is-disabled")+'" type="button">'+Un.i18n.previousMonth+"</button>"),ge===Ne._o.numberOfMonths-1&&(Mr+='<button class="pika-next'+(yi?"":" is-disabled")+'" type="button">'+Un.i18n.nextMonth+"</button>"),Mr+"</div>"},Zt=function(Ne,ge,dt){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+dt+'">'+function(Ne){var ge,dt=[];for(Ne.showWeekNumber&&dt.push("<th></th>"),ge=0;ge<7;ge++)dt.push('<th scope="col"><abbr title="'+Ke(Ne,ge)+'">'+Ke(Ne,ge,!0)+"</abbr></th>");return"<thead><tr>"+(Ne.isRTL?dt.reverse():dt).join("")+"</tr></thead>"}(Ne)+function(Ne){return"<tbody>"+Ne.join("")+"</tbody>"}(ge)+"</table>"},Nt=function(Ne){var ge=this,dt=ge.config(Ne);ge._onMouseDown=function(Yt){if(ge._v){var bn=(Yt=Yt||window.event).target||Yt.srcElement;if(bn)if(te(bn,"is-disabled")||(!te(bn,"pika-button")||te(bn,"is-empty")||te(bn.parentNode,"is-disabled")?te(bn,"pika-prev")?ge.prevMonth():te(bn,"pika-next")&&ge.nextMonth():(ge.setDate(new Date(bn.getAttribute("data-pika-year"),bn.getAttribute("data-pika-month"),bn.getAttribute("data-pika-day"))),dt.bound&&A(function(){ge.hide(),dt.blurFieldOnSelect&&dt.field&&dt.field.blur()},100))),te(bn,"pika-select"))ge._c=!0;else{if(!Yt.preventDefault)return Yt.returnValue=!1,!1;Yt.preventDefault()}}},ge._onChange=function(Yt){var bn=(Yt=Yt||window.event).target||Yt.srcElement;!bn||(te(bn,"pika-select-month")?ge.gotoMonth(bn.value):te(bn,"pika-select-year")&&ge.gotoYear(bn.value))},ge._onKeyChange=function(Yt){if(Yt=Yt||window.event,ge.isVisible())switch(Yt.keyCode){case 13:case 27:dt.field&&dt.field.blur();break;case 37:ge.adjustDate("subtract",1);break;case 38:ge.adjustDate("subtract",7);break;case 39:ge.adjustDate("add",1);break;case 40:ge.adjustDate("add",7);break;case 8:case 46:ge.setDate(null)}},ge._parseFieldValue=function(){if(dt.parse)return dt.parse(dt.field.value,dt.format);if(M){var Yt=L(dt.field.value,dt.format,dt.formatStrict);return Yt&&Yt.isValid()?Yt.toDate():null}return new Date(Date.parse(dt.field.value))},ge._onInputChange=function(Yt){var bn;Yt.firedBy!==ge&&(bn=ge._parseFieldValue(),me(bn)&&ge.setDate(bn),ge._v||ge.show())},ge._onInputFocus=function(){ge.show()},ge._onInputClick=function(){ge.show()},ge._onInputBlur=function(){var Yt=R.activeElement;do{if(te(Yt,"pika-single"))return}while(Yt=Yt.parentNode);ge._c||(ge._b=A(function(){ge.hide()},50)),ge._c=!1},ge._onClick=function(Yt){var bn=(Yt=Yt||window.event).target||Yt.srcElement,Mn=bn;if(bn){!T&&te(bn,"pika-select")&&(bn.onchange||(bn.setAttribute("onchange","return;"),N(bn,"change",ge._onChange)));do{if(te(Mn,"pika-single")||Mn===dt.trigger)return}while(Mn=Mn.parentNode);ge._v&&bn!==dt.trigger&&Mn!==dt.trigger&&ge.hide()}},ge.el=R.createElement("div"),ge.el.className="pika-single"+(dt.isRTL?" is-rtl":"")+(dt.theme?" "+dt.theme:""),N(ge.el,"mousedown",ge._onMouseDown,!0),N(ge.el,"touchend",ge._onMouseDown,!0),N(ge.el,"change",ge._onChange),dt.keyboardInput&&N(R,"keydown",ge._onKeyChange),dt.field&&(dt.container?dt.container.appendChild(ge.el):dt.bound?R.body.appendChild(ge.el):dt.field.parentNode.insertBefore(ge.el,dt.field.nextSibling),N(dt.field,"change",ge._onInputChange),dt.defaultDate||(dt.defaultDate=ge._parseFieldValue(),dt.setDefaultDate=!0));var Rt=dt.defaultDate;me(Rt)?dt.setDefaultDate?ge.setDate(Rt,!0):ge.gotoDate(Rt):ge.gotoDate(new Date),dt.bound?(this.hide(),ge.el.className+=" is-bound",N(dt.trigger,"click",ge._onInputClick),N(dt.trigger,"focus",ge._onInputFocus),N(dt.trigger,"blur",ge._onInputBlur)):this.show()};return Nt.prototype={config:function(Ne){this._o||(this._o=Ue({},Oe,!0));var ge=Ue(this._o,Ne,!0);ge.isRTL=!!ge.isRTL,ge.field=ge.field&&ge.field.nodeName?ge.field:null,ge.theme="string"==typeof ge.theme&&ge.theme?ge.theme:null,ge.bound=!!(void 0!==ge.bound?ge.field&&ge.bound:ge.field),ge.trigger=ge.trigger&&ge.trigger.nodeName?ge.trigger:ge.field,ge.disableWeekends=!!ge.disableWeekends,ge.disableDayFn="function"==typeof ge.disableDayFn?ge.disableDayFn:null;var dt=parseInt(ge.numberOfMonths,10)||1;if(ge.numberOfMonths=dt>4?4:dt,me(ge.minDate)||(ge.minDate=!1),me(ge.maxDate)||(ge.maxDate=!1),ge.minDate&&ge.maxDate&&ge.maxDate<ge.minDate&&(ge.maxDate=ge.minDate=!1),ge.minDate&&this.setMinDate(ge.minDate),ge.maxDate&&this.setMaxDate(ge.maxDate),fe(ge.yearRange)){var Rt=(new Date).getFullYear()-10;ge.yearRange[0]=parseInt(ge.yearRange[0],10)||Rt,ge.yearRange[1]=parseInt(ge.yearRange[1],10)||Rt}else ge.yearRange=Math.abs(parseInt(ge.yearRange,10))||Oe.yearRange,ge.yearRange>100&&(ge.yearRange=100);return ge},toString:function(Ne){return Ne=Ne||this._o.format,me(this._d)?this._o.toString?this._o.toString(this._d,Ne):M?L(this._d).format(Ne):this._d.toDateString():""},getMoment:function(){return M?L(this._d):null},setMoment:function(Ne,ge){M&&L.isMoment(Ne)&&this.setDate(Ne.toDate(),ge)},getDate:function(){return me(this._d)?new Date(this._d.getTime()):null},setDate:function(Ne,ge){if(!Ne)return this._d=null,this._o.field&&(this._o.field.value="",rt(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof Ne&&(Ne=new Date(Date.parse(Ne))),me(Ne)){var dt=this._o.minDate,Rt=this._o.maxDate;me(dt)&&Ne<dt?Ne=dt:me(Rt)&&Ne>Rt&&(Ne=Rt),this._d=new Date(Ne.getTime()),Fe(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),rt(this._o.field,"change",{firedBy:this})),!ge&&"function"==typeof this._o.onSelect&&this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(Ne){var ge=!0;if(me(Ne)){if(this.calendars){var dt=new Date(this.calendars[0].year,this.calendars[0].month,1),Rt=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),Yt=Ne.getTime();Rt.setMonth(Rt.getMonth()+1),Rt.setDate(Rt.getDate()-1),ge=Yt<dt.getTime()||Rt.getTime()<Yt}ge&&(this.calendars=[{month:Ne.getMonth(),year:Ne.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(Ne,ge){var Yt,dt=this.getDate()||new Date,Rt=24*parseInt(ge)*60*60*1e3;"add"===Ne?Yt=new Date(dt.valueOf()+Rt):"subtract"===Ne&&(Yt=new Date(dt.valueOf()-Rt)),this.setDate(Yt)},adjustCalendars:function(){this.calendars[0]=Ye(this.calendars[0]);for(var Ne=1;Ne<this._o.numberOfMonths;Ne++)this.calendars[Ne]=Ye({month:this.calendars[0].month+Ne,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(Ne){isNaN(Ne)||(this.calendars[0].month=parseInt(Ne,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(Ne){isNaN(Ne)||(this.calendars[0].year=parseInt(Ne,10),this.adjustCalendars())},setMinDate:function(Ne){Ne instanceof Date?(Fe(Ne),this._o.minDate=Ne,this._o.minYear=Ne.getFullYear(),this._o.minMonth=Ne.getMonth()):(this._o.minDate=Oe.minDate,this._o.minYear=Oe.minYear,this._o.minMonth=Oe.minMonth,this._o.startRange=Oe.startRange),this.draw()},setMaxDate:function(Ne){Ne instanceof Date?(Fe(Ne),this._o.maxDate=Ne,this._o.maxYear=Ne.getFullYear(),this._o.maxMonth=Ne.getMonth()):(this._o.maxDate=Oe.maxDate,this._o.maxYear=Oe.maxYear,this._o.maxMonth=Oe.maxMonth,this._o.endRange=Oe.endRange),this.draw()},setStartRange:function(Ne){this._o.startRange=Ne},setEndRange:function(Ne){this._o.endRange=Ne},draw:function(Ne){if(this._v||Ne){var Ht,ge=this._o,dt=ge.minYear,Rt=ge.maxYear,Yt=ge.minMonth,bn=ge.maxMonth,Mn="";this._y<=dt&&(this._y=dt,!isNaN(Yt)&&this._m<Yt&&(this._m=Yt)),this._y>=Rt&&(this._y=Rt,!isNaN(bn)&&this._m>bn&&(this._m=bn));for(var Zn=0;Zn<ge.numberOfMonths;Zn++)Ht="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),Mn+='<div class="pika-lendar">'+Kt(this,Zn,this.calendars[Zn].year,this.calendars[Zn].month,this.calendars[0].year,Ht)+this.render(this.calendars[Zn].year,this.calendars[Zn].month,Ht)+"</div>";this.el.innerHTML=Mn,ge.bound&&"hidden"!==ge.field.type&&A(function(){ge.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),ge.bound&&ge.field.setAttribute("aria-label",ge.ariaLabel)}},adjustPosition:function(){var Ne,ge,dt,Rt,Yt,bn,Mn,Ht,Zn,Un,Wn,In;if(!this._o.container){if(this.el.style.position="absolute",ge=Ne=this._o.trigger,dt=this.el.offsetWidth,Rt=this.el.offsetHeight,Yt=window.innerWidth||R.documentElement.clientWidth,bn=window.innerHeight||R.documentElement.clientHeight,Mn=window.pageYOffset||R.body.scrollTop||R.documentElement.scrollTop,Wn=!0,In=!0,"function"==typeof Ne.getBoundingClientRect)Ht=(Un=Ne.getBoundingClientRect()).left+window.pageXOffset,Zn=Un.bottom+window.pageYOffset;else for(Ht=ge.offsetLeft,Zn=ge.offsetTop+ge.offsetHeight;ge=ge.offsetParent;)Ht+=ge.offsetLeft,Zn+=ge.offsetTop;(this._o.reposition&&Ht+dt>Yt||this._o.position.indexOf("right")>-1&&Ht-dt+Ne.offsetWidth>0)&&(Ht=Ht-dt+Ne.offsetWidth,Wn=!1),(this._o.reposition&&Zn+Rt>bn+Mn||this._o.position.indexOf("top")>-1&&Zn-Rt-Ne.offsetHeight>0)&&(Zn=Zn-Rt-Ne.offsetHeight,In=!1),this.el.style.left=Ht+"px",this.el.style.top=Zn+"px",oe(this.el,Wn?"left-aligned":"right-aligned"),oe(this.el,In?"bottom-aligned":"top-aligned"),ae(this.el,Wn?"right-aligned":"left-aligned"),ae(this.el,In?"top-aligned":"bottom-aligned")}},render:function(Ne,ge,dt){var Rt=this._o,Yt=new Date,bn=Te(Ne,ge),Mn=new Date(Ne,ge,1).getDay(),Ht=[],Zn=[];Fe(Yt),Rt.firstDay>0&&(Mn-=Rt.firstDay)<0&&(Mn+=7);for(var Un=0===ge?11:ge-1,Wn=11===ge?0:ge+1,In=0===ge?Ne-1:Ne,Mr=11===ge?Ne+1:Ne,Rn=Te(In,Un),nn=bn+Mn,$r=nn;$r>7;)$r-=7;nn+=7-$r;for(var yi=!1,_i=0,fi=0;_i<nn;_i++){var cr=new Date(Ne,ge,_i-Mn+1),_e=!!me(this._d)&&De(cr,this._d),He=De(cr,Yt),Qe=-1!==Rt.events.indexOf(cr.toDateString()),St=_i<Mn||_i>=bn+Mn,lt=_i-Mn+1,qe=ge,Xe=Ne,Ze=Rt.startRange&&De(Rt.startRange,cr),yt=Rt.endRange&&De(Rt.endRange,cr),mt=Rt.startRange&&Rt.endRange&&Rt.startRange<cr&&cr<Rt.endRange,Ct=Rt.minDate&&cr<Rt.minDate||Rt.maxDate&&cr>Rt.maxDate||Rt.disableWeekends&&K(cr)||Rt.disableDayFn&&Rt.disableDayFn(cr);St&&(_i<Mn?(lt=Rn+lt,qe=Un,Xe=In):(lt-=bn,qe=Wn,Xe=Mr)),Rt.pickWholeWeek&&_e&&(yi=!0),Zn.push(ct({day:lt,month:qe,year:Xe,hasEvent:Qe,isSelected:_e,isToday:He,isDisabled:Ct,isEmpty:St,isStartRange:Ze,isEndRange:yt,isInRange:mt,showDaysInNextAndPreviousMonths:Rt.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:Rt.enableSelectionDaysInNextAndPreviousMonths})),7==++fi&&(Rt.showWeekNumber&&Zn.unshift(vt(_i-Mn,ge,Ne,Rt.firstWeekOfYearMinDays)),Ht.push(Pt(Zn,Rt.isRTL,Rt.pickWholeWeek,yi)),Zn=[],fi=0,yi=!1)}return Zt(Rt,Ht,dt)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),ae(this.el,"is-hidden"),this._o.bound&&(N(R,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var Ne=this._v;!1!==Ne&&(this._o.bound&&F(R,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),oe(this.el,"is-hidden"),this._v=!1,void 0!==Ne&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var Ne=this._o;this.hide(),F(this.el,"mousedown",this._onMouseDown,!0),F(this.el,"touchend",this._onMouseDown,!0),F(this.el,"change",this._onChange),Ne.keyboardInput&&F(R,"keydown",this._onKeyChange),Ne.field&&(F(Ne.field,"change",this._onInputChange),Ne.bound&&(F(Ne.trigger,"click",this._onInputClick),F(Ne.trigger,"focus",this._onInputFocus),F(Ne.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},Nt}(T)}()},6700:(Q,ue,b)=>{var L={"./af":8685,"./af.js":8685,"./ar":254,"./ar-dz":4312,"./ar-dz.js":4312,"./ar-kw":2614,"./ar-kw.js":2614,"./ar-ly":8630,"./ar-ly.js":8630,"./ar-ma":8674,"./ar-ma.js":8674,"./ar-sa":9032,"./ar-sa.js":9032,"./ar-tn":4730,"./ar-tn.js":4730,"./ar.js":254,"./az":3052,"./az.js":3052,"./be":150,"./be.js":150,"./bg":3069,"./bg.js":3069,"./bm":3466,"./bm.js":3466,"./bn":8516,"./bn-bd":557,"./bn-bd.js":557,"./bn.js":8516,"./bo":6273,"./bo.js":6273,"./br":9588,"./br.js":9588,"./bs":9815,"./bs.js":9815,"./ca":3331,"./ca.js":3331,"./cs":1320,"./cs.js":1320,"./cv":2219,"./cv.js":2219,"./cy":8266,"./cy.js":8266,"./da":6427,"./da.js":6427,"./de":7435,"./de-at":2871,"./de-at.js":2871,"./de-ch":2994,"./de-ch.js":2994,"./de.js":7435,"./dv":2357,"./dv.js":2357,"./el":5649,"./el.js":5649,"./en-au":9961,"./en-au.js":9961,"./en-ca":9878,"./en-ca.js":9878,"./en-gb":3924,"./en-gb.js":3924,"./en-ie":864,"./en-ie.js":864,"./en-il":1579,"./en-il.js":1579,"./en-in":940,"./en-in.js":940,"./en-nz":6181,"./en-nz.js":6181,"./en-sg":4301,"./en-sg.js":4301,"./eo":5291,"./eo.js":5291,"./es":4529,"./es-do":3764,"./es-do.js":3764,"./es-mx":2584,"./es-mx.js":2584,"./es-us":3425,"./es-us.js":3425,"./es.js":4529,"./et":5203,"./et.js":5203,"./eu":678,"./eu.js":678,"./fa":3483,"./fa.js":3483,"./fi":6262,"./fi.js":6262,"./fil":2521,"./fil.js":2521,"./fo":4555,"./fo.js":4555,"./fr":3131,"./fr-ca":8239,"./fr-ca.js":8239,"./fr-ch":1702,"./fr-ch.js":1702,"./fr.js":3131,"./fy":267,"./fy.js":267,"./ga":3821,"./ga.js":3821,"./gd":1753,"./gd.js":1753,"./gl":4074,"./gl.js":4074,"./gom-deva":2762,"./gom-deva.js":2762,"./gom-latn":5969,"./gom-latn.js":5969,"./gu":2809,"./gu.js":2809,"./he":5402,"./he.js":5402,"./hi":315,"./hi.js":315,"./hr":410,"./hr.js":410,"./hu":8288,"./hu.js":8288,"./hy-am":7928,"./hy-am.js":7928,"./id":1334,"./id.js":1334,"./is":6959,"./is.js":6959,"./it":4864,"./it-ch":1124,"./it-ch.js":1124,"./it.js":4864,"./ja":6141,"./ja.js":6141,"./jv":9187,"./jv.js":9187,"./ka":2136,"./ka.js":2136,"./kk":4332,"./kk.js":4332,"./km":8607,"./km.js":8607,"./kn":4305,"./kn.js":4305,"./ko":234,"./ko.js":234,"./ku":6003,"./ku.js":6003,"./ky":5061,"./ky.js":5061,"./lb":2786,"./lb.js":2786,"./lo":6183,"./lo.js":6183,"./lt":29,"./lt.js":29,"./lv":4169,"./lv.js":4169,"./me":8577,"./me.js":8577,"./mi":8177,"./mi.js":8177,"./mk":337,"./mk.js":337,"./ml":5260,"./ml.js":5260,"./mn":2325,"./mn.js":2325,"./mr":4695,"./mr.js":4695,"./ms":5334,"./ms-my":7151,"./ms-my.js":7151,"./ms.js":5334,"./mt":3570,"./mt.js":3570,"./my":7963,"./my.js":7963,"./nb":8028,"./nb.js":8028,"./ne":6638,"./ne.js":6638,"./nl":302,"./nl-be":6782,"./nl-be.js":6782,"./nl.js":302,"./nn":3501,"./nn.js":3501,"./oc-lnc":563,"./oc-lnc.js":563,"./pa-in":869,"./pa-in.js":869,"./pl":5302,"./pl.js":5302,"./pt":9687,"./pt-br":4884,"./pt-br.js":4884,"./pt.js":9687,"./ro":9107,"./ro.js":9107,"./ru":3627,"./ru.js":3627,"./sd":355,"./sd.js":355,"./se":3427,"./se.js":3427,"./si":1848,"./si.js":1848,"./sk":4590,"./sk.js":4590,"./sl":184,"./sl.js":184,"./sq":6361,"./sq.js":6361,"./sr":8965,"./sr-cyrl":1287,"./sr-cyrl.js":1287,"./sr.js":8965,"./ss":6346,"./ss.js":6346,"./sv":451,"./sv.js":451,"./sw":7558,"./sw.js":7558,"./ta":1356,"./ta.js":1356,"./te":3693,"./te.js":3693,"./tet":1243,"./tet.js":1243,"./tg":2500,"./tg.js":2500,"./th":5768,"./th.js":5768,"./tk":7761,"./tk.js":7761,"./tl-ph":5780,"./tl-ph.js":5780,"./tlh":9590,"./tlh.js":9590,"./tr":3807,"./tr.js":3807,"./tzl":3857,"./tzl.js":3857,"./tzm":654,"./tzm-latn":8806,"./tzm-latn.js":8806,"./tzm.js":654,"./ug-cn":845,"./ug-cn.js":845,"./uk":9232,"./uk.js":9232,"./ur":7052,"./ur.js":7052,"./uz":7967,"./uz-latn":2233,"./uz-latn.js":2233,"./uz.js":7967,"./vi":8615,"./vi.js":8615,"./x-pseudo":2320,"./x-pseudo.js":2320,"./yo":1313,"./yo.js":1313,"./zh-cn":4490,"./zh-cn.js":4490,"./zh-hk":5910,"./zh-hk.js":5910,"./zh-mo":8262,"./zh-mo.js":8262,"./zh-tw":4223,"./zh-tw.js":4223};function M(R){var A=T(R);return b(A)}function T(R){if(!b.o(L,R)){var A=new Error("Cannot find module '"+R+"'");throw A.code="MODULE_NOT_FOUND",A}return L[R]}M.keys=function(){return Object.keys(L)},M.resolve=T,Q.exports=M,M.id=6700},9366:(Q,ue,b)=>{var L=b(4513),M=b(7366),T=TypeError;Q.exports=function(R){if(L(R))return R;throw T(M(R)+" is not a function")}},9493:(Q,ue,b)=>{var L=b(5200),M=b(7366),T=TypeError;Q.exports=function(R){if(L(R))return R;throw T(M(R)+" is not a constructor")}},8254:(Q,ue,b)=>{var L=b(4513),M=String,T=TypeError;Q.exports=function(R){if("object"==typeof R||L(R))return R;throw T("Can't set "+M(R)+" as a prototype")}},5834:(Q,ue,b)=>{var L=b(7014),M=b(1701),T=b(6607).f,R=L("unscopables"),A=Array.prototype;null==A[R]&&T(A,R,{configurable:!0,value:M(null)}),Q.exports=function(N){A[R][N]=!0}},5470:(Q,ue,b)=>{"use strict";var L=b(5940).charAt;Q.exports=function(M,T,R){return T+(R?L(M,T).length:1)}},8734:(Q,ue,b)=>{var L=b(846),M=TypeError;Q.exports=function(T,R){if(L(R,T))return T;throw M("Incorrect invocation")}},6583:(Q,ue,b)=>{var L=b(8886),M=String,T=TypeError;Q.exports=function(R){if(L(R))return R;throw T(M(R)+" is not an object")}},3588:(Q,ue,b)=>{var L=b(7944);Q.exports=L(function(){if("function"==typeof ArrayBuffer){var M=new ArrayBuffer(8);Object.isExtensible(M)&&Object.defineProperty(M,"a",{value:8})}})},3270:(Q,ue,b)=>{"use strict";var L=b(3784),M=b(8064),T=b(7951);Q.exports=function(A){for(var N=L(this),F=T(N),Y=arguments.length,te=M(Y>1?arguments[1]:void 0,F),oe=Y>2?arguments[2]:void 0,ae=void 0===oe?F:M(oe,F);ae>te;)N[te++]=A;return N}},441:(Q,ue,b)=>{"use strict";var L=b(8657).forEach,T=b(1815)("forEach");Q.exports=T?[].forEach:function(A){return L(this,A,arguments.length>1?arguments[1]:void 0)}},2411:(Q,ue,b)=>{"use strict";var L=b(352),M=b(9836),T=b(3784),R=b(9271),A=b(7909),N=b(5200),F=b(7951),Y=b(7182),te=b(6029),oe=b(6644),ae=Array;Q.exports=function(me){var K=T(me),ce=N(this),Te=arguments.length,Fe=Te>1?arguments[1]:void 0,De=void 0!==Fe;De&&(Fe=L(Fe,Te>2?arguments[2]:void 0));var Ye,Oe,Ke,ct,nt,vt,Ue=oe(K),rt=0;if(!Ue||this===ae&&A(Ue))for(Ye=F(K),Oe=ce?new this(Ye):ae(Ye);Ye>rt;rt++)vt=De?Fe(K[rt],rt):K[rt],Y(Oe,rt,vt);else for(nt=(ct=te(K,Ue)).next,Oe=ce?new this:[];!(Ke=M(nt,ct)).done;rt++)vt=De?R(ct,Fe,[Ke.value,rt],!0):Ke.value,Y(Oe,rt,vt);return Oe.length=rt,Oe}},4273:(Q,ue,b)=>{var L=b(8436),M=b(8064),T=b(7951),R=function(A){return function(N,F,Y){var fe,te=L(N),oe=T(te),ae=M(Y,oe);if(A&&F!=F){for(;oe>ae;)if((fe=te[ae++])!=fe)return!0}else for(;oe>ae;ae++)if((A||ae in te)&&te[ae]===F)return A||ae||0;return!A&&-1}};Q.exports={includes:R(!0),indexOf:R(!1)}},8657:(Q,ue,b)=>{var L=b(352),M=b(2006),T=b(2462),R=b(3784),A=b(7951),N=b(4275),F=M([].push),Y=function(te){var oe=1==te,ae=2==te,fe=3==te,me=4==te,K=6==te,ce=7==te,Te=5==te||K;return function(Fe,De,Ue,rt){for(var Ft,Wt,Ye=R(Fe),Oe=T(Ye),Ke=L(De,Ue),ct=A(Oe),nt=0,vt=rt||N,Pt=oe?vt(Fe,ct):ae||ce?vt(Fe,0):void 0;ct>nt;nt++)if((Te||nt in Oe)&&(Wt=Ke(Ft=Oe[nt],nt,Ye),te))if(oe)Pt[nt]=Wt;else if(Wt)switch(te){case 3:return!0;case 5:return Ft;case 6:return nt;case 2:F(Pt,Ft)}else switch(te){case 4:return!1;case 7:F(Pt,Ft)}return K?-1:fe||me?me:Pt}};Q.exports={forEach:Y(0),map:Y(1),filter:Y(2),some:Y(3),every:Y(4),find:Y(5),findIndex:Y(6),filterReject:Y(7)}},28:(Q,ue,b)=>{"use strict";var L=b(5019),M=b(8436),T=b(2048),R=b(7951),A=b(1815),N=Math.min,F=[].lastIndexOf,Y=!!F&&1/[1].lastIndexOf(1,-0)<0,te=A("lastIndexOf");Q.exports=Y||!te?function(fe){if(Y)return L(F,this,arguments)||0;var me=M(this),K=R(me),ce=K-1;for(arguments.length>1&&(ce=N(ce,T(arguments[1]))),ce<0&&(ce=K+ce);ce>=0;ce--)if(ce in me&&me[ce]===fe)return ce||0;return-1}:F},1468:(Q,ue,b)=>{var L=b(7944),M=b(7014),T=b(9905),R=M("species");Q.exports=function(A){return T>=51||!L(function(){var N=[];return(N.constructor={})[R]=function(){return{foo:1}},1!==N[A](Boolean).foo})}},1815:(Q,ue,b)=>{"use strict";var L=b(7944);Q.exports=function(M,T){var R=[][M];return!!R&&L(function(){R.call(null,T||function(){return 1},1)})}},9906:(Q,ue,b)=>{var L=b(9366),M=b(3784),T=b(2462),R=b(7951),A=TypeError,N=function(F){return function(Y,te,oe,ae){L(te);var fe=M(Y),me=T(fe),K=R(fe),ce=F?K-1:0,Te=F?-1:1;if(oe<2)for(;;){if(ce in me){ae=me[ce],ce+=Te;break}if(ce+=Te,F?ce<0:K<=ce)throw A("Reduce of empty array with no initial value")}for(;F?ce>=0:K>ce;ce+=Te)ce in me&&(ae=te(ae,me[ce],ce,fe));return ae}};Q.exports={left:N(!1),right:N(!0)}},6712:(Q,ue,b)=>{"use strict";var L=b(5601),M=b(8143),T=TypeError,R=Object.getOwnPropertyDescriptor,A=L&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(N){return N instanceof TypeError}}();Q.exports=A?function(N,F){if(M(N)&&!R(N,"length").writable)throw T("Cannot set read only .length");return N.length=F}:function(N,F){return N.length=F}},5005:(Q,ue,b)=>{var L=b(8064),M=b(7951),T=b(7182),R=Array,A=Math.max;Q.exports=function(N,F,Y){for(var te=M(N),oe=L(F,te),ae=L(void 0===Y?te:Y,te),fe=R(A(ae-oe,0)),me=0;oe<ae;oe++,me++)T(fe,me,N[oe]);return fe.length=me,fe}},8439:(Q,ue,b)=>{var L=b(2006);Q.exports=L([].slice)},3142:(Q,ue,b)=>{var L=b(5005),M=Math.floor,T=function(N,F){var Y=N.length,te=M(Y/2);return Y<8?R(N,F):A(N,T(L(N,0,te),F),T(L(N,te),F),F)},R=function(N,F){for(var oe,ae,Y=N.length,te=1;te<Y;){for(ae=te,oe=N[te];ae&&F(N[ae-1],oe)>0;)N[ae]=N[--ae];ae!==te++&&(N[ae]=oe)}return N},A=function(N,F,Y,te){for(var oe=F.length,ae=Y.length,fe=0,me=0;fe<oe||me<ae;)N[fe+me]=fe<oe&&me<ae?te(F[fe],Y[me])<=0?F[fe++]:Y[me++]:fe<oe?F[fe++]:Y[me++];return N};Q.exports=T},6511:(Q,ue,b)=>{var L=b(8143),M=b(5200),T=b(8886),A=b(7014)("species"),N=Array;Q.exports=function(F){var Y;return L(F)&&(M(Y=F.constructor)&&(Y===N||L(Y.prototype))||T(Y)&&null===(Y=Y[A]))&&(Y=void 0),void 0===Y?N:Y}},4275:(Q,ue,b)=>{var L=b(6511);Q.exports=function(M,T){return new(L(M))(0===T?0:T)}},9271:(Q,ue,b)=>{var L=b(6583),M=b(9838);Q.exports=function(T,R,A,N){try{return N?R(L(A)[0],A[1]):R(A)}catch(F){M(T,"throw",F)}}},4430:(Q,ue,b)=>{var M=b(7014)("iterator"),T=!1;try{var R=0,A={next:function(){return{done:!!R++}},return:function(){T=!0}};A[M]=function(){return this},Array.from(A,function(){throw 2})}catch(N){}Q.exports=function(N,F){if(!F&&!T)return!1;var Y=!1;try{var te={};te[M]=function(){return{next:function(){return{done:Y=!0}}}},N(te)}catch(oe){}return Y}},1401:(Q,ue,b)=>{var L=b(8331),M=L({}.toString),T=L("".slice);Q.exports=function(R){return T(M(R),8,-1)}},2212:(Q,ue,b)=>{var L=b(5706),M=b(4513),T=b(1401),A=b(7014)("toStringTag"),N=Object,F="Arguments"==T(function(){return arguments}());Q.exports=L?T:function(te){var oe,ae,fe;return void 0===te?"Undefined":null===te?"Null":"string"==typeof(ae=function(te,oe){try{return te[oe]}catch(ae){}}(oe=N(te),A))?ae:F?T(oe):"Object"==(fe=T(oe))&&M(oe.callee)?"Arguments":fe}},3977:(Q,ue,b)=>{"use strict";var L=b(6607).f,M=b(1701),T=b(7125),R=b(352),A=b(8734),N=b(8702),F=b(9423),Y=b(4971),te=b(4761),oe=b(4087),ae=b(5601),fe=b(9346).fastKey,me=b(979),K=me.set,ce=me.getterFor;Q.exports={getConstructor:function(Te,Fe,De,Ue){var rt=Te(function(nt,vt){A(nt,Ye),K(nt,{type:Fe,index:M(null),first:void 0,last:void 0,size:0}),ae||(nt.size=0),N(vt)||F(vt,nt[Ue],{that:nt,AS_ENTRIES:De})}),Ye=rt.prototype,Oe=ce(Fe),Ke=function(nt,vt,Pt){var Kt,Zt,Ft=Oe(nt),Wt=ct(nt,vt);return Wt?Wt.value=Pt:(Ft.last=Wt={index:Zt=fe(vt,!0),key:vt,value:Pt,previous:Kt=Ft.last,next:void 0,removed:!1},Ft.first||(Ft.first=Wt),Kt&&(Kt.next=Wt),ae?Ft.size++:nt.size++,"F"!==Zt&&(Ft.index[Zt]=Wt)),nt},ct=function(nt,vt){var Wt,Pt=Oe(nt),Ft=fe(vt);if("F"!==Ft)return Pt.index[Ft];for(Wt=Pt.first;Wt;Wt=Wt.next)if(Wt.key==vt)return Wt};return T(Ye,{clear:function(){for(var Pt=Oe(this),Ft=Pt.index,Wt=Pt.first;Wt;)Wt.removed=!0,Wt.previous&&(Wt.previous=Wt.previous.next=void 0),delete Ft[Wt.index],Wt=Wt.next;Pt.first=Pt.last=void 0,ae?Pt.size=0:this.size=0},delete:function(nt){var Pt=Oe(this),Ft=ct(this,nt);if(Ft){var Wt=Ft.next,Kt=Ft.previous;delete Pt.index[Ft.index],Ft.removed=!0,Kt&&(Kt.next=Wt),Wt&&(Wt.previous=Kt),Pt.first==Ft&&(Pt.first=Wt),Pt.last==Ft&&(Pt.last=Kt),ae?Pt.size--:this.size--}return!!Ft},forEach:function(vt){for(var Wt,Pt=Oe(this),Ft=R(vt,arguments.length>1?arguments[1]:void 0);Wt=Wt?Wt.next:Pt.first;)for(Ft(Wt.value,Wt.key,this);Wt&&Wt.removed;)Wt=Wt.previous},has:function(vt){return!!ct(this,vt)}}),T(Ye,De?{get:function(vt){var Pt=ct(this,vt);return Pt&&Pt.value},set:function(vt,Pt){return Ke(this,0===vt?0:vt,Pt)}}:{add:function(vt){return Ke(this,vt=0===vt?0:vt,vt)}}),ae&&L(Ye,"size",{get:function(){return Oe(this).size}}),rt},setStrong:function(Te,Fe,De){var Ue=Fe+" Iterator",rt=ce(Fe),Ye=ce(Ue);Y(Te,Fe,function(Oe,Ke){K(this,{type:Ue,target:Oe,state:rt(Oe),kind:Ke,last:void 0})},function(){for(var Oe=Ye(this),Ke=Oe.kind,ct=Oe.last;ct&&ct.removed;)ct=ct.previous;return Oe.target&&(Oe.last=ct=ct?ct.next:Oe.state.first)?te("keys"==Ke?ct.key:"values"==Ke?ct.value:[ct.key,ct.value],!1):(Oe.target=void 0,te(void 0,!0))},De?"entries":"values",!De,!0),oe(Fe)}}},1725:(Q,ue,b)=>{"use strict";var L=b(2006),M=b(7125),T=b(9346).getWeakData,R=b(8734),A=b(6583),N=b(8702),F=b(8886),Y=b(9423),te=b(8657),oe=b(8578),ae=b(979),fe=ae.set,me=ae.getterFor,K=te.find,ce=te.findIndex,Te=L([].splice),Fe=0,De=function(Ye){return Ye.frozen||(Ye.frozen=new Ue)},Ue=function(){this.entries=[]},rt=function(Ye,Oe){return K(Ye.entries,function(Ke){return Ke[0]===Oe})};Ue.prototype={get:function(Ye){var Oe=rt(this,Ye);if(Oe)return Oe[1]},has:function(Ye){return!!rt(this,Ye)},set:function(Ye,Oe){var Ke=rt(this,Ye);Ke?Ke[1]=Oe:this.entries.push([Ye,Oe])},delete:function(Ye){var Oe=ce(this.entries,function(Ke){return Ke[0]===Ye});return~Oe&&Te(this.entries,Oe,1),!!~Oe}},Q.exports={getConstructor:function(Ye,Oe,Ke,ct){var nt=Ye(function(Wt,Kt){R(Wt,vt),fe(Wt,{type:Oe,id:Fe++,frozen:void 0}),N(Kt)||Y(Kt,Wt[ct],{that:Wt,AS_ENTRIES:Ke})}),vt=nt.prototype,Pt=me(Oe),Ft=function(Wt,Kt,Zt){var Nt=Pt(Wt),Ne=T(A(Kt),!0);return!0===Ne?De(Nt).set(Kt,Zt):Ne[Nt.id]=Zt,Wt};return M(vt,{delete:function(Wt){var Kt=Pt(this);if(!F(Wt))return!1;var Zt=T(Wt);return!0===Zt?De(Kt).delete(Wt):Zt&&oe(Zt,Kt.id)&&delete Zt[Kt.id]},has:function(Kt){var Zt=Pt(this);if(!F(Kt))return!1;var Nt=T(Kt);return!0===Nt?De(Zt).has(Kt):Nt&&oe(Nt,Zt.id)}}),M(vt,Ke?{get:function(Kt){var Zt=Pt(this);if(F(Kt)){var Nt=T(Kt);return!0===Nt?De(Zt).get(Kt):Nt?Nt[Zt.id]:void 0}},set:function(Kt,Zt){return Ft(this,Kt,Zt)}}:{add:function(Kt){return Ft(this,Kt,!0)}}),nt}}},7126:(Q,ue,b)=>{"use strict";var L=b(664),M=b(4720),T=b(2006),R=b(9545),A=b(9047),N=b(9346),F=b(9423),Y=b(8734),te=b(4513),oe=b(8702),ae=b(8886),fe=b(7944),me=b(4430),K=b(5387),ce=b(1072);Q.exports=function(Te,Fe,De){var Ue=-1!==Te.indexOf("Map"),rt=-1!==Te.indexOf("Weak"),Ye=Ue?"set":"add",Oe=M[Te],Ke=Oe&&Oe.prototype,ct=Oe,nt={},vt=function(Ne){var ge=T(Ke[Ne]);A(Ke,Ne,"add"==Ne?function(Rt){return ge(this,0===Rt?0:Rt),this}:"delete"==Ne?function(dt){return!(rt&&!ae(dt))&&ge(this,0===dt?0:dt)}:"get"==Ne?function(Rt){return rt&&!ae(Rt)?void 0:ge(this,0===Rt?0:Rt)}:"has"==Ne?function(Rt){return!(rt&&!ae(Rt))&&ge(this,0===Rt?0:Rt)}:function(Rt,Yt){return ge(this,0===Rt?0:Rt,Yt),this})};if(R(Te,!te(Oe)||!(rt||Ke.forEach&&!fe(function(){(new Oe).entries().next()}))))ct=De.getConstructor(Fe,Te,Ue,Ye),N.enable();else if(R(Te,!0)){var Ft=new ct,Wt=Ft[Ye](rt?{}:-0,1)!=Ft,Kt=fe(function(){Ft.has(1)}),Zt=me(function(Ne){new Oe(Ne)}),Nt=!rt&&fe(function(){for(var Ne=new Oe,ge=5;ge--;)Ne[Ye](ge,ge);return!Ne.has(-0)});Zt||((ct=Fe(function(Ne,ge){Y(Ne,Ke);var dt=ce(new Oe,Ne,ct);return oe(ge)||F(ge,dt[Ye],{that:dt,AS_ENTRIES:Ue}),dt})).prototype=Ke,Ke.constructor=ct),(Kt||Nt)&&(vt("delete"),vt("has"),Ue&&vt("get")),(Nt||Wt)&&vt(Ye),rt&&Ke.clear&&delete Ke.clear}return nt[Te]=ct,L({global:!0,constructor:!0,forced:ct!=Oe},nt),K(ct,Te),rt||De.setStrong(ct,Te,Ue),ct}},1975:(Q,ue,b)=>{var L=b(8578),M=b(4432),T=b(313),R=b(6607);Q.exports=function(A,N,F){for(var Y=M(N),te=R.f,oe=T.f,ae=0;ae<Y.length;ae++){var fe=Y[ae];!L(A,fe)&&(!F||!L(F,fe))&&te(A,fe,oe(N,fe))}}},312:(Q,ue,b)=>{var M=b(7014)("match");Q.exports=function(T){var R=/./;try{"/./"[T](R)}catch(A){try{return R[M]=!1,"/./"[T](R)}catch(N){}}return!1}},8745:(Q,ue,b)=>{var L=b(7944);Q.exports=!L(function(){function M(){}return M.prototype.constructor=null,Object.getPrototypeOf(new M)!==M.prototype})},8772:(Q,ue,b)=>{var L=b(2006),M=b(1413),T=b(9005),R=/"/g,A=L("".replace);Q.exports=function(N,F,Y,te){var oe=T(M(N)),ae="<"+F;return""!==Y&&(ae+=" "+Y+'="'+A(T(te),R,"&quot;")+'"'),ae+">"+oe+"</"+F+">"}},4761:Q=>{Q.exports=function(ue,b){return{value:ue,done:b}}},3779:(Q,ue,b)=>{var L=b(5601),M=b(6607),T=b(8808);Q.exports=L?function(R,A,N){return M.f(R,A,T(1,N))}:function(R,A,N){return R[A]=N,R}},8808:Q=>{Q.exports=function(ue,b){return{enumerable:!(1&ue),configurable:!(2&ue),writable:!(4&ue),value:b}}},7182:(Q,ue,b)=>{"use strict";var L=b(2637),M=b(6607),T=b(8808);Q.exports=function(R,A,N){var F=L(A);F in R?M.f(R,F,T(0,N)):R[F]=N}},9047:(Q,ue,b)=>{var L=b(4513),M=b(6607),T=b(6885),R=b(7907);Q.exports=function(A,N,F,Y){Y||(Y={});var te=Y.enumerable,oe=void 0!==Y.name?Y.name:N;if(L(F)&&T(F,oe,Y),Y.global)te?A[N]=F:R(N,F);else{try{Y.unsafe?A[N]&&(te=!0):delete A[N]}catch(ae){}te?A[N]=F:M.f(A,N,{value:F,enumerable:!1,configurable:!Y.nonConfigurable,writable:!Y.nonWritable})}return A}},7125:(Q,ue,b)=>{var L=b(9047);Q.exports=function(M,T,R){for(var A in T)L(M,A,T[A],R);return M}},7907:(Q,ue,b)=>{var L=b(4720),M=Object.defineProperty;Q.exports=function(T,R){try{M(L,T,{value:R,configurable:!0,writable:!0})}catch(A){L[T]=R}return R}},8751:(Q,ue,b)=>{"use strict";var L=b(7366),M=TypeError;Q.exports=function(T,R){if(!delete T[R])throw M("Cannot delete property "+L(R)+" of "+L(T))}},5601:(Q,ue,b)=>{var L=b(7944);Q.exports=!L(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},2935:Q=>{var ue="object"==typeof document&&document.all;Q.exports={all:ue,IS_HTMLDDA:void 0===ue&&void 0!==ue}},7783:(Q,ue,b)=>{var L=b(4720),M=b(8886),T=L.document,R=M(T)&&M(T.createElement);Q.exports=function(A){return R?T.createElement(A):{}}},8194:Q=>{var ue=TypeError;Q.exports=function(L){if(L>9007199254740991)throw ue("Maximum allowed index exceeded");return L}},1331:Q=>{Q.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},4970:(Q,ue,b)=>{var M=b(7783)("span").classList,T=M&&M.constructor&&M.constructor.prototype;Q.exports=T===Object.prototype?void 0:T},8077:(Q,ue,b)=>{var M=b(8684).match(/firefox\/(\d+)/i);Q.exports=!!M&&+M[1]},4268:(Q,ue,b)=>{var L=b(8684);Q.exports=/MSIE|Trident/.test(L)},7001:(Q,ue,b)=>{var L=b(8684);Q.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(L)},2926:(Q,ue,b)=>{var L=b(1401),M=b(4720);Q.exports="process"==L(M.process)},8684:(Q,ue,b)=>{var L=b(2149);Q.exports=L("navigator","userAgent")||""},9905:(Q,ue,b)=>{var F,Y,L=b(4720),M=b(8684),T=L.process,R=L.Deno,A=T&&T.versions||R&&R.version,N=A&&A.v8;N&&(Y=(F=N.split("."))[0]>0&&F[0]<4?1:+(F[0]+F[1])),!Y&&M&&(!(F=M.match(/Edge\/(\d+)/))||F[1]>=74)&&(F=M.match(/Chrome\/(\d+)/))&&(Y=+F[1]),Q.exports=Y},1349:(Q,ue,b)=>{var M=b(8684).match(/AppleWebKit\/(\d+)\./);Q.exports=!!M&&+M[1]},256:Q=>{Q.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},664:(Q,ue,b)=>{var L=b(4720),M=b(313).f,T=b(3779),R=b(9047),A=b(7907),N=b(1975),F=b(9545);Q.exports=function(Y,te){var K,ce,Te,Fe,De,oe=Y.target,ae=Y.global,fe=Y.stat;if(K=ae?L:fe?L[oe]||A(oe,{}):(L[oe]||{}).prototype)for(ce in te){if(Fe=te[ce],Te=Y.dontCallGetSet?(De=M(K,ce))&&De.value:K[ce],!F(ae?ce:oe+(fe?".":"#")+ce,Y.forced)&&void 0!==Te){if(typeof Fe==typeof Te)continue;N(Fe,Te)}(Y.sham||Te&&Te.sham)&&T(Fe,"sham",!0),R(K,ce,Fe,Y)}}},7944:Q=>{Q.exports=function(ue){try{return!!ue()}catch(b){return!0}}},5698:(Q,ue,b)=>{"use strict";b(8068);var L=b(2006),M=b(9047),T=b(8214),R=b(7944),A=b(7014),N=b(3779),F=A("species"),Y=RegExp.prototype;Q.exports=function(te,oe,ae,fe){var me=A(te),K=!R(function(){var De={};return De[me]=function(){return 7},7!=""[te](De)}),ce=K&&!R(function(){var De=!1,Ue=/a/;return"split"===te&&((Ue={}).constructor={},Ue.constructor[F]=function(){return Ue},Ue.flags="",Ue[me]=/./[me]),Ue.exec=function(){return De=!0,null},Ue[me](""),!De});if(!K||!ce||ae){var Te=L(/./[me]),Fe=oe(me,""[te],function(De,Ue,rt,Ye,Oe){var Ke=L(De),ct=Ue.exec;return ct===T||ct===Y.exec?K&&!Oe?{done:!0,value:Te(Ue,rt,Ye)}:{done:!0,value:Ke(rt,Ue,Ye)}:{done:!1}});M(String.prototype,te,Fe[0]),M(Y,me,Fe[1])}fe&&N(Y[me],"sham",!0)}},2655:(Q,ue,b)=>{var L=b(7944);Q.exports=!L(function(){return Object.isExtensible(Object.preventExtensions({}))})},5019:(Q,ue,b)=>{var L=b(7181),M=Function.prototype,T=M.apply,R=M.call;Q.exports="object"==typeof Reflect&&Reflect.apply||(L?R.bind(T):function(){return R.apply(T,arguments)})},352:(Q,ue,b)=>{var L=b(2006),M=b(9366),T=b(7181),R=L(L.bind);Q.exports=function(A,N){return M(A),void 0===N?A:T?R(A,N):function(){return A.apply(N,arguments)}}},7181:(Q,ue,b)=>{var L=b(7944);Q.exports=!L(function(){var M=function(){}.bind();return"function"!=typeof M||M.hasOwnProperty("prototype")})},4697:(Q,ue,b)=>{"use strict";var L=b(2006),M=b(9366),T=b(8886),R=b(8578),A=b(8439),N=b(7181),F=Function,Y=L([].concat),te=L([].join),oe={},ae=function(fe,me,K){if(!R(oe,me)){for(var ce=[],Te=0;Te<me;Te++)ce[Te]="a["+Te+"]";oe[me]=F("C,a","return new C("+te(ce,",")+")")}return oe[me](fe,K)};Q.exports=N?F.bind:function(me){var K=M(this),ce=K.prototype,Te=A(arguments,1),Fe=function(){var Ue=Y(Te,A(arguments));return this instanceof Fe?ae(K,Ue.length,Ue):K.apply(me,Ue)};return T(ce)&&(Fe.prototype=ce),Fe}},9836:(Q,ue,b)=>{var L=b(7181),M=Function.prototype.call;Q.exports=L?M.bind(M):function(){return M.apply(M,arguments)}},2891:(Q,ue,b)=>{var L=b(5601),M=b(8578),T=Function.prototype,R=L&&Object.getOwnPropertyDescriptor,A=M(T,"name"),N=A&&"something"===function(){}.name,F=A&&(!L||L&&R(T,"name").configurable);Q.exports={EXISTS:A,PROPER:N,CONFIGURABLE:F}},8331:(Q,ue,b)=>{var L=b(7181),M=Function.prototype,T=M.call,R=L&&M.bind.bind(T,T);Q.exports=L?R:function(A){return function(){return T.apply(A,arguments)}}},2006:(Q,ue,b)=>{var L=b(1401),M=b(8331);Q.exports=function(T){if("Function"===L(T))return M(T)}},2149:(Q,ue,b)=>{var L=b(4720),M=b(4513),T=function(R){return M(R)?R:void 0};Q.exports=function(R,A){return arguments.length<2?T(L[R]):L[R]&&L[R][A]}},6644:(Q,ue,b)=>{var L=b(2212),M=b(2383),T=b(8702),R=b(8424),N=b(7014)("iterator");Q.exports=function(F){if(!T(F))return M(F,N)||M(F,"@@iterator")||R[L(F)]}},6029:(Q,ue,b)=>{var L=b(9836),M=b(9366),T=b(6583),R=b(7366),A=b(6644),N=TypeError;Q.exports=function(F,Y){var te=arguments.length<2?A(F):Y;if(M(te))return T(L(te,F));throw N(R(F)+" is not iterable")}},2383:(Q,ue,b)=>{var L=b(9366),M=b(8702);Q.exports=function(T,R){var A=T[R];return M(A)?void 0:L(A)}},3653:(Q,ue,b)=>{var L=b(2006),M=b(3784),T=Math.floor,R=L("".charAt),A=L("".replace),N=L("".slice),F=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Y=/\$([$&'`]|\d{1,2})/g;Q.exports=function(te,oe,ae,fe,me,K){var ce=ae+te.length,Te=fe.length,Fe=Y;return void 0!==me&&(me=M(me),Fe=F),A(K,Fe,function(De,Ue){var rt;switch(R(Ue,0)){case"$":return"$";case"&":return te;case"`":return N(oe,0,ae);case"'":return N(oe,ce);case"<":rt=me[N(Ue,1,-1)];break;default:var Ye=+Ue;if(0===Ye)return De;if(Ye>Te){var Oe=T(Ye/10);return 0===Oe?De:Oe<=Te?void 0===fe[Oe-1]?R(Ue,1):fe[Oe-1]+R(Ue,1):De}rt=fe[Ye-1]}return void 0===rt?"":rt})}},4720:Q=>{var ue=function(b){return b&&b.Math==Math&&b};Q.exports=ue("object"==typeof globalThis&&globalThis)||ue("object"==typeof window&&window)||ue("object"==typeof self&&self)||ue("object"==typeof global&&global)||function(){return this}()||Function("return this")()},8578:(Q,ue,b)=>{var L=b(2006),M=b(3784),T=L({}.hasOwnProperty);Q.exports=Object.hasOwn||function(A,N){return T(M(A),N)}},7086:Q=>{Q.exports={}},4989:(Q,ue,b)=>{var L=b(2149);Q.exports=L("document","documentElement")},5873:(Q,ue,b)=>{var L=b(5601),M=b(7944),T=b(7783);Q.exports=!L&&!M(function(){return 7!=Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a})},2462:(Q,ue,b)=>{var L=b(2006),M=b(7944),T=b(1401),R=Object,A=L("".split);Q.exports=M(function(){return!R("z").propertyIsEnumerable(0)})?function(N){return"String"==T(N)?A(N,""):R(N)}:R},1072:(Q,ue,b)=>{var L=b(4513),M=b(8886),T=b(6736);Q.exports=function(R,A,N){var F,Y;return T&&L(F=A.constructor)&&F!==N&&M(Y=F.prototype)&&Y!==N.prototype&&T(R,Y),R}},6073:(Q,ue,b)=>{var L=b(2006),M=b(4513),T=b(5691),R=L(Function.toString);M(T.inspectSource)||(T.inspectSource=function(A){return R(A)}),Q.exports=T.inspectSource},9346:(Q,ue,b)=>{var L=b(664),M=b(2006),T=b(7086),R=b(8886),A=b(8578),N=b(6607).f,F=b(4283),Y=b(3138),te=b(3892),oe=b(1387),ae=b(2655),fe=!1,me=oe("meta"),K=0,ce=function(Ye){N(Ye,me,{value:{objectID:"O"+K++,weakData:{}}})},rt=Q.exports={enable:function(){rt.enable=function(){},fe=!0;var Ye=F.f,Oe=M([].splice),Ke={};Ke[me]=1,Ye(Ke).length&&(F.f=function(ct){for(var nt=Ye(ct),vt=0,Pt=nt.length;vt<Pt;vt++)if(nt[vt]===me){Oe(nt,vt,1);break}return nt},L({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Y.f}))},fastKey:function(Ye,Oe){if(!R(Ye))return"symbol"==typeof Ye?Ye:("string"==typeof Ye?"S":"P")+Ye;if(!A(Ye,me)){if(!te(Ye))return"F";if(!Oe)return"E";ce(Ye)}return Ye[me].objectID},getWeakData:function(Ye,Oe){if(!A(Ye,me)){if(!te(Ye))return!0;if(!Oe)return!1;ce(Ye)}return Ye[me].weakData},onFreeze:function(Ye){return ae&&fe&&te(Ye)&&!A(Ye,me)&&ce(Ye),Ye}};T[me]=!0},979:(Q,ue,b)=>{var fe,me,K,L=b(2488),M=b(4720),T=b(8886),R=b(3779),A=b(8578),N=b(5691),F=b(9660),Y=b(7086),te="Object already initialized",oe=M.TypeError;if(L||N.state){var Fe=N.state||(N.state=new(0,M.WeakMap));Fe.get=Fe.get,Fe.has=Fe.has,Fe.set=Fe.set,fe=function(Ue,rt){if(Fe.has(Ue))throw oe(te);return rt.facade=Ue,Fe.set(Ue,rt),rt},me=function(Ue){return Fe.get(Ue)||{}},K=function(Ue){return Fe.has(Ue)}}else{var De=F("state");Y[De]=!0,fe=function(Ue,rt){if(A(Ue,De))throw oe(te);return rt.facade=Ue,R(Ue,De,rt),rt},me=function(Ue){return A(Ue,De)?Ue[De]:{}},K=function(Ue){return A(Ue,De)}}Q.exports={set:fe,get:me,has:K,enforce:function(Ue){return K(Ue)?me(Ue):fe(Ue,{})},getterFor:function(Ue){return function(rt){var Ye;if(!T(rt)||(Ye=me(rt)).type!==Ue)throw oe("Incompatible receiver, "+Ue+" required");return Ye}}}},7909:(Q,ue,b)=>{var L=b(7014),M=b(8424),T=L("iterator"),R=Array.prototype;Q.exports=function(A){return void 0!==A&&(M.Array===A||R[T]===A)}},8143:(Q,ue,b)=>{var L=b(1401);Q.exports=Array.isArray||function(T){return"Array"==L(T)}},4513:(Q,ue,b)=>{var L=b(2935),M=L.all;Q.exports=L.IS_HTMLDDA?function(T){return"function"==typeof T||T===M}:function(T){return"function"==typeof T}},5200:(Q,ue,b)=>{var L=b(2006),M=b(7944),T=b(4513),R=b(2212),A=b(2149),N=b(6073),F=function(){},Y=[],te=A("Reflect","construct"),oe=/^\s*(?:class|function)\b/,ae=L(oe.exec),fe=!oe.exec(F),me=function(Te){if(!T(Te))return!1;try{return te(F,Y,Te),!0}catch(Fe){return!1}},K=function(Te){if(!T(Te))return!1;switch(R(Te)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return fe||!!ae(oe,N(Te))}catch(Fe){return!0}};K.sham=!0,Q.exports=!te||M(function(){var ce;return me(me.call)||!me(Object)||!me(function(){ce=!0})||ce})?K:me},7859:(Q,ue,b)=>{var L=b(8578);Q.exports=function(M){return void 0!==M&&(L(M,"value")||L(M,"writable"))}},9545:(Q,ue,b)=>{var L=b(7944),M=b(4513),T=/#|\.prototype\./,R=function(te,oe){var ae=N[A(te)];return ae==Y||ae!=F&&(M(oe)?L(oe):!!oe)},A=R.normalize=function(te){return String(te).replace(T,".").toLowerCase()},N=R.data={},F=R.NATIVE="N",Y=R.POLYFILL="P";Q.exports=R},4904:(Q,ue,b)=>{var L=b(8886),M=Math.floor;Q.exports=Number.isInteger||function(R){return!L(R)&&isFinite(R)&&M(R)===R}},8702:Q=>{Q.exports=function(ue){return null==ue}},8886:(Q,ue,b)=>{var L=b(4513),M=b(2935),T=M.all;Q.exports=M.IS_HTMLDDA?function(R){return"object"==typeof R?null!==R:L(R)||R===T}:function(R){return"object"==typeof R?null!==R:L(R)}},2074:Q=>{Q.exports=!1},1185:(Q,ue,b)=>{var L=b(8886),M=b(1401),R=b(7014)("match");Q.exports=function(A){var N;return L(A)&&(void 0!==(N=A[R])?!!N:"RegExp"==M(A))}},2983:(Q,ue,b)=>{var L=b(2149),M=b(4513),T=b(846),R=b(6762),A=Object;Q.exports=R?function(N){return"symbol"==typeof N}:function(N){var F=L("Symbol");return M(F)&&T(F.prototype,A(N))}},9423:(Q,ue,b)=>{var L=b(352),M=b(9836),T=b(6583),R=b(7366),A=b(7909),N=b(7951),F=b(846),Y=b(6029),te=b(6644),oe=b(9838),ae=TypeError,fe=function(K,ce){this.stopped=K,this.result=ce},me=fe.prototype;Q.exports=function(K,ce,Te){var Ke,ct,nt,vt,Pt,Ft,Wt,De=!(!Te||!Te.AS_ENTRIES),Ue=!(!Te||!Te.IS_RECORD),rt=!(!Te||!Te.IS_ITERATOR),Ye=!(!Te||!Te.INTERRUPTED),Oe=L(ce,Te&&Te.that),Kt=function(Nt){return Ke&&oe(Ke,"normal",Nt),new fe(!0,Nt)},Zt=function(Nt){return De?(T(Nt),Ye?Oe(Nt[0],Nt[1],Kt):Oe(Nt[0],Nt[1])):Ye?Oe(Nt,Kt):Oe(Nt)};if(Ue)Ke=K.iterator;else if(rt)Ke=K;else{if(!(ct=te(K)))throw ae(R(K)+" is not iterable");if(A(ct)){for(nt=0,vt=N(K);vt>nt;nt++)if((Pt=Zt(K[nt]))&&F(me,Pt))return Pt;return new fe(!1)}Ke=Y(K,ct)}for(Ft=Ue?K.next:Ke.next;!(Wt=M(Ft,Ke)).done;){try{Pt=Zt(Wt.value)}catch(Nt){oe(Ke,"throw",Nt)}if("object"==typeof Pt&&Pt&&F(me,Pt))return Pt}return new fe(!1)}},9838:(Q,ue,b)=>{var L=b(9836),M=b(6583),T=b(2383);Q.exports=function(R,A,N){var F,Y;M(R);try{if(!(F=T(R,"return"))){if("throw"===A)throw N;return N}F=L(F,R)}catch(te){Y=!0,F=te}if("throw"===A)throw N;if(Y)throw F;return M(F),N}},4020:(Q,ue,b)=>{"use strict";var L=b(2753).IteratorPrototype,M=b(1701),T=b(8808),R=b(5387),A=b(8424),N=function(){return this};Q.exports=function(F,Y,te,oe){var ae=Y+" Iterator";return F.prototype=M(L,{next:T(+!oe,te)}),R(F,ae,!1,!0),A[ae]=N,F}},4971:(Q,ue,b)=>{"use strict";var L=b(664),M=b(9836),T=b(2074),R=b(2891),A=b(4513),N=b(4020),F=b(5456),Y=b(6736),te=b(5387),oe=b(3779),ae=b(9047),fe=b(7014),me=b(8424),K=b(2753),ce=R.PROPER,Te=R.CONFIGURABLE,Fe=K.IteratorPrototype,De=K.BUGGY_SAFARI_ITERATORS,Ue=fe("iterator"),Ye="values",Oe="entries",Ke=function(){return this};Q.exports=function(ct,nt,vt,Pt,Ft,Wt,Kt){N(vt,nt,Pt);var bn,Mn,Ht,Zt=function(Zn){if(Zn===Ft&&Rt)return Rt;if(!De&&Zn in ge)return ge[Zn];switch(Zn){case"keys":case Ye:case Oe:return function(){return new vt(this,Zn)}}return function(){return new vt(this)}},Nt=nt+" Iterator",Ne=!1,ge=ct.prototype,dt=ge[Ue]||ge["@@iterator"]||Ft&&ge[Ft],Rt=!De&&dt||Zt(Ft),Yt="Array"==nt&&ge.entries||dt;if(Yt&&(bn=F(Yt.call(new ct)))!==Object.prototype&&bn.next&&(!T&&F(bn)!==Fe&&(Y?Y(bn,Fe):A(bn[Ue])||ae(bn,Ue,Ke)),te(bn,Nt,!0,!0),T&&(me[Nt]=Ke)),ce&&Ft==Ye&&dt&&dt.name!==Ye&&(!T&&Te?oe(ge,"name",Ye):(Ne=!0,Rt=function(){return M(dt,this)})),Ft)if(Mn={values:Zt(Ye),keys:Wt?Rt:Zt("keys"),entries:Zt(Oe)},Kt)for(Ht in Mn)(De||Ne||!(Ht in ge))&&ae(ge,Ht,Mn[Ht]);else L({target:nt,proto:!0,forced:De||Ne},Mn);return(!T||Kt)&&ge[Ue]!==Rt&&ae(ge,Ue,Rt,{name:Ft}),me[nt]=Rt,Mn}},2753:(Q,ue,b)=>{"use strict";var ae,fe,me,L=b(7944),M=b(4513),T=b(8886),R=b(1701),A=b(5456),N=b(9047),F=b(7014),Y=b(2074),te=F("iterator"),oe=!1;[].keys&&("next"in(me=[].keys())?(fe=A(A(me)))!==Object.prototype&&(ae=fe):oe=!0),!T(ae)||L(function(){var ce={};return ae[te].call(ce)!==ce})?ae={}:Y&&(ae=R(ae)),M(ae[te])||N(ae,te,function(){return this}),Q.exports={IteratorPrototype:ae,BUGGY_SAFARI_ITERATORS:oe}},8424:Q=>{Q.exports={}},7951:(Q,ue,b)=>{var L=b(7832);Q.exports=function(M){return L(M.length)}},6885:(Q,ue,b)=>{var L=b(7944),M=b(4513),T=b(8578),R=b(5601),A=b(2891).CONFIGURABLE,N=b(6073),F=b(979),Y=F.enforce,te=F.get,oe=Object.defineProperty,ae=R&&!L(function(){return 8!==oe(function(){},"length",{value:8}).length}),fe=String(String).split("String"),me=Q.exports=function(K,ce,Te){"Symbol("===String(ce).slice(0,7)&&(ce="["+String(ce).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),Te&&Te.getter&&(ce="get "+ce),Te&&Te.setter&&(ce="set "+ce),(!T(K,"name")||A&&K.name!==ce)&&(R?oe(K,"name",{value:ce,configurable:!0}):K.name=ce),ae&&Te&&T(Te,"arity")&&K.length!==Te.arity&&oe(K,"length",{value:Te.arity});try{Te&&T(Te,"constructor")&&Te.constructor?R&&oe(K,"prototype",{writable:!1}):K.prototype&&(K.prototype=void 0)}catch(De){}var Fe=Y(K);return T(Fe,"source")||(Fe.source=fe.join("string"==typeof ce?ce:"")),K};Function.prototype.toString=me(function(){return M(this)&&te(this).source||N(this)},"toString")},8168:Q=>{var ue=Math.ceil,b=Math.floor;Q.exports=Math.trunc||function(M){var T=+M;return(T>0?b:ue)(T)}},1679:(Q,ue,b)=>{var L=b(1185),M=TypeError;Q.exports=function(T){if(L(T))throw M("The method doesn't accept regular expressions");return T}},5274:(Q,ue,b)=>{"use strict";var L=b(5601),M=b(2006),T=b(9836),R=b(7944),A=b(5159),N=b(6095),F=b(6491),Y=b(3784),te=b(2462),oe=Object.assign,ae=Object.defineProperty,fe=M([].concat);Q.exports=!oe||R(function(){if(L&&1!==oe({b:1},oe(ae({},"a",{enumerable:!0,get:function(){ae(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var me={},K={},ce=Symbol(),Te="abcdefghijklmnopqrst";return me[ce]=7,Te.split("").forEach(function(Fe){K[Fe]=Fe}),7!=oe({},me)[ce]||A(oe({},K)).join("")!=Te})?function(K,ce){for(var Te=Y(K),Fe=arguments.length,De=1,Ue=N.f,rt=F.f;Fe>De;)for(var nt,Ye=te(arguments[De++]),Oe=Ue?fe(A(Ye),Ue(Ye)):A(Ye),Ke=Oe.length,ct=0;Ke>ct;)nt=Oe[ct++],(!L||T(rt,Ye,nt))&&(Te[nt]=Ye[nt]);return Te}:oe},1701:(Q,ue,b)=>{var Fe,L=b(6583),M=b(9106),T=b(256),R=b(7086),A=b(4989),N=b(7783),F=b(9660),oe="prototype",fe=F("IE_PROTO"),me=function(){},K=function(Ue){return"<script>"+Ue+"<\/script>"},ce=function(Ue){Ue.write(K("")),Ue.close();var rt=Ue.parentWindow.Object;return Ue=null,rt},De=function(){try{Fe=new ActiveXObject("htmlfile")}catch(rt){}De="undefined"!=typeof document?document.domain&&Fe?ce(Fe):function(){var Ye,Ue=N("iframe");return Ue.style.display="none",A.appendChild(Ue),Ue.src=String("javascript:"),(Ye=Ue.contentWindow.document).open(),Ye.write(K("document.F=Object")),Ye.close(),Ye.F}():ce(Fe);for(var Ue=T.length;Ue--;)delete De[oe][T[Ue]];return De()};R[fe]=!0,Q.exports=Object.create||function(rt,Ye){var Oe;return null!==rt?(me[oe]=L(rt),Oe=new me,me[oe]=null,Oe[fe]=rt):Oe=De(),void 0===Ye?Oe:M.f(Oe,Ye)}},9106:(Q,ue,b)=>{var L=b(5601),M=b(401),T=b(6607),R=b(6583),A=b(8436),N=b(5159);ue.f=L&&!M?Object.defineProperties:function(Y,te){R(Y);for(var K,oe=A(te),ae=N(te),fe=ae.length,me=0;fe>me;)T.f(Y,K=ae[me++],oe[K]);return Y}},6607:(Q,ue,b)=>{var L=b(5601),M=b(5873),T=b(401),R=b(6583),A=b(2637),N=TypeError,F=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,te="enumerable",oe="configurable",ae="writable";ue.f=L?T?function(me,K,ce){if(R(me),K=A(K),R(ce),"function"==typeof me&&"prototype"===K&&"value"in ce&&ae in ce&&!ce[ae]){var Te=Y(me,K);Te&&Te[ae]&&(me[K]=ce.value,ce={configurable:oe in ce?ce[oe]:Te[oe],enumerable:te in ce?ce[te]:Te[te],writable:!1})}return F(me,K,ce)}:F:function(me,K,ce){if(R(me),K=A(K),R(ce),M)try{return F(me,K,ce)}catch(Te){}if("get"in ce||"set"in ce)throw N("Accessors not supported");return"value"in ce&&(me[K]=ce.value),me}},313:(Q,ue,b)=>{var L=b(5601),M=b(9836),T=b(6491),R=b(8808),A=b(8436),N=b(2637),F=b(8578),Y=b(5873),te=Object.getOwnPropertyDescriptor;ue.f=L?te:function(ae,fe){if(ae=A(ae),fe=N(fe),Y)try{return te(ae,fe)}catch(me){}if(F(ae,fe))return R(!M(T.f,ae,fe),ae[fe])}},3138:(Q,ue,b)=>{var L=b(1401),M=b(8436),T=b(4283).f,R=b(5005),A="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Q.exports.f=function(Y){return A&&"Window"==L(Y)?function(F){try{return T(F)}catch(Y){return R(A)}}(Y):T(M(Y))}},4283:(Q,ue,b)=>{var L=b(3187),T=b(256).concat("length","prototype");ue.f=Object.getOwnPropertyNames||function(A){return L(A,T)}},6095:(Q,ue)=>{ue.f=Object.getOwnPropertySymbols},5456:(Q,ue,b)=>{var L=b(8578),M=b(4513),T=b(3784),R=b(9660),A=b(8745),N=R("IE_PROTO"),F=Object,Y=F.prototype;Q.exports=A?F.getPrototypeOf:function(te){var oe=T(te);if(L(oe,N))return oe[N];var ae=oe.constructor;return M(ae)&&oe instanceof ae?ae.prototype:oe instanceof F?Y:null}},3892:(Q,ue,b)=>{var L=b(7944),M=b(8886),T=b(1401),R=b(3588),A=Object.isExtensible,N=L(function(){A(1)});Q.exports=N||R?function(Y){return!(!M(Y)||R&&"ArrayBuffer"==T(Y))&&(!A||A(Y))}:A},846:(Q,ue,b)=>{var L=b(2006);Q.exports=L({}.isPrototypeOf)},3187:(Q,ue,b)=>{var L=b(2006),M=b(8578),T=b(8436),R=b(4273).indexOf,A=b(7086),N=L([].push);Q.exports=function(F,Y){var fe,te=T(F),oe=0,ae=[];for(fe in te)!M(A,fe)&&M(te,fe)&&N(ae,fe);for(;Y.length>oe;)M(te,fe=Y[oe++])&&(~R(ae,fe)||N(ae,fe));return ae}},5159:(Q,ue,b)=>{var L=b(3187),M=b(256);Q.exports=Object.keys||function(R){return L(R,M)}},6491:(Q,ue)=>{"use strict";var b={}.propertyIsEnumerable,L=Object.getOwnPropertyDescriptor,M=L&&!b.call({1:2},1);ue.f=M?function(R){var A=L(this,R);return!!A&&A.enumerable}:b},6736:(Q,ue,b)=>{var L=b(2006),M=b(6583),T=b(8254);Q.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var N,R=!1,A={};try{(N=L(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(A,[]),R=A instanceof Array}catch(F){}return function(Y,te){return M(Y),T(te),R?N(Y,te):Y.__proto__=te,Y}}():void 0)},8307:(Q,ue,b)=>{var L=b(5601),M=b(2006),T=b(5159),R=b(8436),N=M(b(6491).f),F=M([].push),Y=function(te){return function(oe){for(var Te,ae=R(oe),fe=T(ae),me=fe.length,K=0,ce=[];me>K;)Te=fe[K++],(!L||N(ae,Te))&&F(ce,te?[Te,ae[Te]]:ae[Te]);return ce}};Q.exports={entries:Y(!0),values:Y(!1)}},6482:(Q,ue,b)=>{"use strict";var L=b(5706),M=b(2212);Q.exports=L?{}.toString:function(){return"[object "+M(this)+"]"}},3409:(Q,ue,b)=>{var L=b(9836),M=b(4513),T=b(8886),R=TypeError;Q.exports=function(A,N){var F,Y;if("string"===N&&M(F=A.toString)&&!T(Y=L(F,A))||M(F=A.valueOf)&&!T(Y=L(F,A))||"string"!==N&&M(F=A.toString)&&!T(Y=L(F,A)))return Y;throw R("Can't convert object to primitive value")}},4432:(Q,ue,b)=>{var L=b(2149),M=b(2006),T=b(4283),R=b(6095),A=b(6583),N=M([].concat);Q.exports=L("Reflect","ownKeys")||function(Y){var te=T.f(A(Y)),oe=R.f;return oe?N(te,oe(Y)):te}},5388:(Q,ue,b)=>{var L=b(4720);Q.exports=L},6455:(Q,ue,b)=>{var L=b(6607).f;Q.exports=function(M,T,R){R in M||L(M,R,{configurable:!0,get:function(){return T[R]},set:function(A){T[R]=A}})}},8325:(Q,ue,b)=>{var L=b(9836),M=b(6583),T=b(4513),R=b(1401),A=b(8214),N=TypeError;Q.exports=function(F,Y){var te=F.exec;if(T(te)){var oe=L(te,F,Y);return null!==oe&&M(oe),oe}if("RegExp"===R(F))return L(A,F,Y);throw N("RegExp#exec called on incompatible receiver")}},8214:(Q,ue,b)=>{"use strict";var Oe,Ke,L=b(9836),M=b(2006),T=b(9005),R=b(8167),A=b(1810),N=b(5443),F=b(1701),Y=b(979).get,te=b(1005),oe=b(7633),ae=N("native-string-replace",String.prototype.replace),fe=RegExp.prototype.exec,me=fe,K=M("".charAt),ce=M("".indexOf),Te=M("".replace),Fe=M("".slice),De=(Ke=/b*/g,L(fe,Oe=/a/,"a"),L(fe,Ke,"a"),0!==Oe.lastIndex||0!==Ke.lastIndex),Ue=A.BROKEN_CARET,rt=void 0!==/()??/.exec("")[1];(De||rt||Ue||te||oe)&&(me=function(Ke){var Ft,Wt,Kt,Zt,Nt,Ne,ge,ct=this,nt=Y(ct),vt=T(Ke),Pt=nt.raw;if(Pt)return Pt.lastIndex=ct.lastIndex,Ft=L(me,Pt,vt),ct.lastIndex=Pt.lastIndex,Ft;var dt=nt.groups,Rt=Ue&&ct.sticky,Yt=L(R,ct),bn=ct.source,Mn=0,Ht=vt;if(Rt&&(Yt=Te(Yt,"y",""),-1===ce(Yt,"g")&&(Yt+="g"),Ht=Fe(vt,ct.lastIndex),ct.lastIndex>0&&(!ct.multiline||ct.multiline&&"\n"!==K(vt,ct.lastIndex-1))&&(bn="(?: "+bn+")",Ht=" "+Ht,Mn++),Wt=new RegExp("^(?:"+bn+")",Yt)),rt&&(Wt=new RegExp("^"+bn+"$(?!\\s)",Yt)),De&&(Kt=ct.lastIndex),Zt=L(fe,Rt?Wt:ct,Ht),Rt?Zt?(Zt.input=Fe(Zt.input,Mn),Zt[0]=Fe(Zt[0],Mn),Zt.index=ct.lastIndex,ct.lastIndex+=Zt[0].length):ct.lastIndex=0:De&&Zt&&(ct.lastIndex=ct.global?Zt.index+Zt[0].length:Kt),rt&&Zt&&Zt.length>1&&L(ae,Zt[0],Wt,function(){for(Nt=1;Nt<arguments.length-2;Nt++)void 0===arguments[Nt]&&(Zt[Nt]=void 0)}),Zt&&dt)for(Zt.groups=Ne=F(null),Nt=0;Nt<dt.length;Nt++)Ne[(ge=dt[Nt])[0]]=Zt[ge[1]];return Zt}),Q.exports=me},8167:(Q,ue,b)=>{"use strict";var L=b(6583);Q.exports=function(){var M=L(this),T="";return M.hasIndices&&(T+="d"),M.global&&(T+="g"),M.ignoreCase&&(T+="i"),M.multiline&&(T+="m"),M.dotAll&&(T+="s"),M.unicode&&(T+="u"),M.unicodeSets&&(T+="v"),M.sticky&&(T+="y"),T}},2791:(Q,ue,b)=>{var L=b(9836),M=b(8578),T=b(846),R=b(8167),A=RegExp.prototype;Q.exports=function(N){var F=N.flags;return void 0!==F||"flags"in A||M(N,"flags")||!T(A,N)?F:L(R,N)}},1810:(Q,ue,b)=>{var L=b(7944),T=b(4720).RegExp,R=L(function(){var F=T("a","y");return F.lastIndex=2,null!=F.exec("abcd")}),A=R||L(function(){return!T("a","y").sticky}),N=R||L(function(){var F=T("^r","gy");return F.lastIndex=2,null!=F.exec("str")});Q.exports={BROKEN_CARET:N,MISSED_STICKY:A,UNSUPPORTED_Y:R}},1005:(Q,ue,b)=>{var L=b(7944),T=b(4720).RegExp;Q.exports=L(function(){var R=T(".","s");return!(R.dotAll&&R.exec("\n")&&"s"===R.flags)})},7633:(Q,ue,b)=>{var L=b(7944),T=b(4720).RegExp;Q.exports=L(function(){var R=T("(?<a>b)","g");return"b"!==R.exec("b").groups.a||"bc"!=="b".replace(R,"$<a>c")})},1413:(Q,ue,b)=>{var L=b(8702),M=TypeError;Q.exports=function(T){if(L(T))throw M("Can't call method on "+T);return T}},1517:Q=>{Q.exports=Object.is||function(b,L){return b===L?0!==b||1/b==1/L:b!=b&&L!=L}},9780:(Q,ue,b)=>{var L=b(4720),M=b(5019),T=b(4513),R=b(8684),A=b(8439),N=b(5983),F=/MSIE .\./.test(R),Y=L.Function,te=function(oe){return F?function(ae,fe){var me=N(arguments.length,1)>2,K=T(ae)?ae:Y(ae),ce=me?A(arguments,2):void 0;return oe(me?function(){M(K,this,ce)}:K,fe)}:oe};Q.exports={setTimeout:te(L.setTimeout),setInterval:te(L.setInterval)}},4087:(Q,ue,b)=>{"use strict";var L=b(2149),M=b(6607),T=b(7014),R=b(5601),A=T("species");Q.exports=function(N){var F=L(N);R&&F&&!F[A]&&(0,M.f)(F,A,{configurable:!0,get:function(){return this}})}},5387:(Q,ue,b)=>{var L=b(6607).f,M=b(8578),R=b(7014)("toStringTag");Q.exports=function(A,N,F){A&&!F&&(A=A.prototype),A&&!M(A,R)&&L(A,R,{configurable:!0,value:N})}},9660:(Q,ue,b)=>{var L=b(5443),M=b(1387),T=L("keys");Q.exports=function(R){return T[R]||(T[R]=M(R))}},5691:(Q,ue,b)=>{var L=b(4720),M=b(7907),T="__core-js_shared__",R=L[T]||M(T,{});Q.exports=R},5443:(Q,ue,b)=>{var L=b(2074),M=b(5691);(Q.exports=function(T,R){return M[T]||(M[T]=void 0!==R?R:{})})("versions",[]).push({version:"3.26.0",mode:L?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7347:(Q,ue,b)=>{var L=b(6583),M=b(9493),T=b(8702),A=b(7014)("species");Q.exports=function(N,F){var te,Y=L(N).constructor;return void 0===Y||T(te=L(Y)[A])?F:M(te)}},1558:(Q,ue,b)=>{var L=b(7944);Q.exports=function(M){return L(function(){var T=""[M]('"');return T!==T.toLowerCase()||T.split('"').length>3})}},5940:(Q,ue,b)=>{var L=b(2006),M=b(2048),T=b(9005),R=b(1413),A=L("".charAt),N=L("".charCodeAt),F=L("".slice),Y=function(te){return function(oe,ae){var ce,Te,fe=T(R(oe)),me=M(ae),K=fe.length;return me<0||me>=K?te?"":void 0:(ce=N(fe,me))<55296||ce>56319||me+1===K||(Te=N(fe,me+1))<56320||Te>57343?te?A(fe,me):ce:te?F(fe,me,me+2):Te-56320+(ce-55296<<10)+65536}};Q.exports={codeAt:Y(!1),charAt:Y(!0)}},2666:(Q,ue,b)=>{var L=b(8684);Q.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(L)},8922:(Q,ue,b)=>{var L=b(2006),M=b(7832),T=b(9005),R=b(4437),A=b(1413),N=L(R),F=L("".slice),Y=Math.ceil,te=function(oe){return function(ae,fe,me){var De,Ue,K=T(A(ae)),ce=M(fe),Te=K.length,Fe=void 0===me?" ":T(me);return ce<=Te||""==Fe?K:((Ue=N(Fe,Y((De=ce-Te)/Fe.length))).length>De&&(Ue=F(Ue,0,De)),oe?K+Ue:Ue+K)}};Q.exports={start:te(!1),end:te(!0)}},4437:(Q,ue,b)=>{"use strict";var L=b(2048),M=b(9005),T=b(1413),R=RangeError;Q.exports=function(N){var F=M(T(this)),Y="",te=L(N);if(te<0||te==1/0)throw R("Wrong number of repetitions");for(;te>0;(te>>>=1)&&(F+=F))1&te&&(Y+=F);return Y}},4304:(Q,ue,b)=>{var L=b(2891).PROPER,M=b(7944),T=b(2097);Q.exports=function(A){return M(function(){return!!T[A]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[A]()||L&&T[A].name!==A})}},9916:(Q,ue,b)=>{var L=b(2006),M=b(1413),T=b(9005),R=b(2097),A=L("".replace),N="["+R+"]",F=RegExp("^"+N+N+"*"),Y=RegExp(N+N+"*$"),te=function(oe){return function(ae){var fe=T(M(ae));return 1&oe&&(fe=A(fe,F,"")),2&oe&&(fe=A(fe,Y,"")),fe}};Q.exports={start:te(1),end:te(2),trim:te(3)}},1656:(Q,ue,b)=>{var L=b(9905),M=b(7944);Q.exports=!!Object.getOwnPropertySymbols&&!M(function(){var T=Symbol();return!String(T)||!(Object(T)instanceof Symbol)||!Symbol.sham&&L&&L<41})},5439:(Q,ue,b)=>{var L=b(9836),M=b(2149),T=b(7014),R=b(9047);Q.exports=function(){var A=M("Symbol"),N=A&&A.prototype,F=N&&N.valueOf,Y=T("toPrimitive");N&&!N[Y]&&R(N,Y,function(te){return L(F,this)},{arity:1})}},348:(Q,ue,b)=>{var L=b(1656);Q.exports=L&&!!Symbol.for&&!!Symbol.keyFor},5484:(Q,ue,b)=>{var Ke,ct,nt,vt,L=b(4720),M=b(5019),T=b(352),R=b(4513),A=b(8578),N=b(7944),F=b(4989),Y=b(8439),te=b(7783),oe=b(5983),ae=b(7001),fe=b(2926),me=L.setImmediate,K=L.clearImmediate,ce=L.process,Te=L.Dispatch,Fe=L.Function,De=L.MessageChannel,Ue=L.String,rt=0,Ye={},Oe="onreadystatechange";try{Ke=L.location}catch(Zt){}var Pt=function(Zt){if(A(Ye,Zt)){var Nt=Ye[Zt];delete Ye[Zt],Nt()}},Ft=function(Zt){return function(){Pt(Zt)}},Wt=function(Zt){Pt(Zt.data)},Kt=function(Zt){L.postMessage(Ue(Zt),Ke.protocol+"//"+Ke.host)};(!me||!K)&&(me=function(Nt){oe(arguments.length,1);var Ne=R(Nt)?Nt:Fe(Nt),ge=Y(arguments,1);return Ye[++rt]=function(){M(Ne,void 0,ge)},ct(rt),rt},K=function(Nt){delete Ye[Nt]},fe?ct=function(Zt){ce.nextTick(Ft(Zt))}:Te&&Te.now?ct=function(Zt){Te.now(Ft(Zt))}:De&&!ae?(vt=(nt=new De).port2,nt.port1.onmessage=Wt,ct=T(vt.postMessage,vt)):L.addEventListener&&R(L.postMessage)&&!L.importScripts&&Ke&&"file:"!==Ke.protocol&&!N(Kt)?(ct=Kt,L.addEventListener("message",Wt,!1)):ct=Oe in te("script")?function(Zt){F.appendChild(te("script"))[Oe]=function(){F.removeChild(this),Pt(Zt)}}:function(Zt){setTimeout(Ft(Zt),0)}),Q.exports={set:me,clear:K}},1506:(Q,ue,b)=>{var L=b(2006);Q.exports=L(1..valueOf)},8064:(Q,ue,b)=>{var L=b(2048),M=Math.max,T=Math.min;Q.exports=function(R,A){var N=L(R);return N<0?M(N+A,0):T(N,A)}},8436:(Q,ue,b)=>{var L=b(2462),M=b(1413);Q.exports=function(T){return L(M(T))}},2048:(Q,ue,b)=>{var L=b(8168);Q.exports=function(M){var T=+M;return T!=T||0===T?0:L(T)}},7832:(Q,ue,b)=>{var L=b(2048),M=Math.min;Q.exports=function(T){return T>0?M(L(T),9007199254740991):0}},3784:(Q,ue,b)=>{var L=b(1413),M=Object;Q.exports=function(T){return M(L(T))}},6281:(Q,ue,b)=>{var L=b(9836),M=b(8886),T=b(2983),R=b(2383),A=b(3409),N=b(7014),F=TypeError,Y=N("toPrimitive");Q.exports=function(te,oe){if(!M(te)||T(te))return te;var fe,ae=R(te,Y);if(ae){if(void 0===oe&&(oe="default"),fe=L(ae,te,oe),!M(fe)||T(fe))return fe;throw F("Can't convert object to primitive value")}return void 0===oe&&(oe="number"),A(te,oe)}},2637:(Q,ue,b)=>{var L=b(6281),M=b(2983);Q.exports=function(T){var R=L(T,"string");return M(R)?R:R+""}},5706:(Q,ue,b)=>{var T={};T[b(7014)("toStringTag")]="z",Q.exports="[object z]"===String(T)},9005:(Q,ue,b)=>{var L=b(2212),M=String;Q.exports=function(T){if("Symbol"===L(T))throw TypeError("Cannot convert a Symbol value to a string");return M(T)}},7366:Q=>{var ue=String;Q.exports=function(b){try{return ue(b)}catch(L){return"Object"}}},1387:(Q,ue,b)=>{var L=b(2006),M=0,T=Math.random(),R=L(1..toString);Q.exports=function(A){return"Symbol("+(void 0===A?"":A)+")_"+R(++M+T,36)}},6762:(Q,ue,b)=>{var L=b(1656);Q.exports=L&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},401:(Q,ue,b)=>{var L=b(5601),M=b(7944);Q.exports=L&&M(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},5983:Q=>{var ue=TypeError;Q.exports=function(b,L){if(b<L)throw ue("Not enough arguments");return b}},2488:(Q,ue,b)=>{var L=b(4720),M=b(4513),T=L.WeakMap;Q.exports=M(T)&&/native code/.test(String(T))},8810:(Q,ue,b)=>{var L=b(5388),M=b(8578),T=b(8775),R=b(6607).f;Q.exports=function(A){var N=L.Symbol||(L.Symbol={});M(N,A)||R(N,A,{value:T.f(A)})}},8775:(Q,ue,b)=>{var L=b(7014);ue.f=L},7014:(Q,ue,b)=>{var L=b(4720),M=b(5443),T=b(8578),R=b(1387),A=b(1656),N=b(6762),F=M("wks"),Y=L.Symbol,te=Y&&Y.for,oe=N?Y:Y&&Y.withoutSetter||R;Q.exports=function(ae){if(!T(F,ae)||!A&&"string"!=typeof F[ae]){var fe="Symbol."+ae;F[ae]=A&&T(Y,ae)?Y[ae]:N&&te?te(fe):oe(fe)}return F[ae]}},2097:Q=>{Q.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},2246:(Q,ue,b)=>{"use strict";var L=b(664),M=b(7944),T=b(8143),R=b(8886),A=b(3784),N=b(7951),F=b(8194),Y=b(7182),te=b(4275),oe=b(1468),ae=b(7014),fe=b(9905),me=ae("isConcatSpreadable"),K=fe>=51||!M(function(){var De=[];return De[me]=!1,De.concat()[0]!==De}),ce=oe("concat"),Te=function(De){if(!R(De))return!1;var Ue=De[me];return void 0!==Ue?!!Ue:T(De)};L({target:"Array",proto:!0,arity:1,forced:!K||!ce},{concat:function(Ue){var Ke,ct,nt,vt,Pt,rt=A(this),Ye=te(rt,0),Oe=0;for(Ke=-1,nt=arguments.length;Ke<nt;Ke++)if(Te(Pt=-1===Ke?rt:arguments[Ke]))for(vt=N(Pt),F(Oe+vt),ct=0;ct<vt;ct++,Oe++)ct in Pt&&Y(Ye,Oe,Pt[ct]);else F(Oe+1),Y(Ye,Oe++,Pt);return Ye.length=Oe,Ye}})},3912:(Q,ue,b)=>{var L=b(664),M=b(3270),T=b(5834);L({target:"Array",proto:!0},{fill:M}),T("fill")},3479:(Q,ue,b)=>{"use strict";var L=b(664),M=b(8657).filter;L({target:"Array",proto:!0,forced:!b(1468)("filter")},{filter:function(N){return M(this,N,arguments.length>1?arguments[1]:void 0)}})},4631:(Q,ue,b)=>{"use strict";var L=b(664),M=b(8657).findIndex,T=b(5834),R="findIndex",A=!0;R in[]&&Array(1)[R](function(){A=!1}),L({target:"Array",proto:!0,forced:A},{findIndex:function(F){return M(this,F,arguments.length>1?arguments[1]:void 0)}}),T(R)},7114:(Q,ue,b)=>{"use strict";var L=b(664),M=b(8657).find,T=b(5834),R="find",A=!0;R in[]&&Array(1)[R](function(){A=!1}),L({target:"Array",proto:!0,forced:A},{find:function(F){return M(this,F,arguments.length>1?arguments[1]:void 0)}}),T(R)},8621:(Q,ue,b)=>{var L=b(664),M=b(2411);L({target:"Array",stat:!0,forced:!b(4430)(function(A){Array.from(A)})},{from:M})},7059:(Q,ue,b)=>{"use strict";var L=b(664),M=b(4273).includes,T=b(7944),R=b(5834);L({target:"Array",proto:!0,forced:T(function(){return!Array(1).includes()})},{includes:function(F){return M(this,F,arguments.length>1?arguments[1]:void 0)}}),R("includes")},3382:(Q,ue,b)=>{"use strict";var L=b(664),M=b(2006),T=b(4273).indexOf,R=b(1815),A=M([].indexOf),N=!!A&&1/A([1],1,-0)<0,F=R("indexOf");L({target:"Array",proto:!0,forced:N||!F},{indexOf:function(te){var oe=arguments.length>1?arguments[1]:void 0;return N?A(this,te,oe)||0:T(this,te,oe)}})},4952:(Q,ue,b)=>{"use strict";var L=b(8436),M=b(5834),T=b(8424),R=b(979),A=b(6607).f,N=b(4971),F=b(4761),Y=b(2074),te=b(5601),oe="Array Iterator",ae=R.set,fe=R.getterFor(oe);Q.exports=N(Array,"Array",function(K,ce){ae(this,{type:oe,target:L(K),index:0,kind:ce})},function(){var K=fe(this),ce=K.target,Te=K.kind,Fe=K.index++;return!ce||Fe>=ce.length?(K.target=void 0,F(void 0,!0)):F("keys"==Te?Fe:"values"==Te?ce[Fe]:[Fe,ce[Fe]],!1)},"values");var me=T.Arguments=T.Array;if(M("keys"),M("values"),M("entries"),!Y&&te&&"values"!==me.name)try{A(me,"name",{value:"values"})}catch(K){}},6774:(Q,ue,b)=>{"use strict";var L=b(664),M=b(2006),T=b(2462),R=b(8436),A=b(1815),N=M([].join),F=T!=Object,Y=A("join",",");L({target:"Array",proto:!0,forced:F||!Y},{join:function(oe){return N(R(this),void 0===oe?",":oe)}})},1695:(Q,ue,b)=>{var L=b(664),M=b(28);L({target:"Array",proto:!0,forced:M!==[].lastIndexOf},{lastIndexOf:M})},262:(Q,ue,b)=>{"use strict";var L=b(664),M=b(8657).map;L({target:"Array",proto:!0,forced:!b(1468)("map")},{map:function(N){return M(this,N,arguments.length>1?arguments[1]:void 0)}})},149:(Q,ue,b)=>{"use strict";var L=b(664),M=b(9906).left,T=b(1815),R=b(9905),A=b(2926);L({target:"Array",proto:!0,forced:!T("reduce")||!A&&R>79&&R<83},{reduce:function(te){var oe=arguments.length;return M(this,te,oe,oe>1?arguments[1]:void 0)}})},5975:(Q,ue,b)=>{"use strict";var L=b(664),M=b(2006),T=b(8143),R=M([].reverse),A=[1,2];L({target:"Array",proto:!0,forced:String(A)===String(A.reverse())},{reverse:function(){return T(this)&&(this.length=this.length),R(this)}})},8561:(Q,ue,b)=>{"use strict";var L=b(664),M=b(8143),T=b(5200),R=b(8886),A=b(8064),N=b(7951),F=b(8436),Y=b(7182),te=b(7014),oe=b(1468),ae=b(8439),fe=oe("slice"),me=te("species"),K=Array,ce=Math.max;L({target:"Array",proto:!0,forced:!fe},{slice:function(Fe,De){var Ke,ct,nt,Ue=F(this),rt=N(Ue),Ye=A(Fe,rt),Oe=A(void 0===De?rt:De,rt);if(M(Ue)&&((T(Ke=Ue.constructor)&&(Ke===K||M(Ke.prototype))||R(Ke)&&null===(Ke=Ke[me]))&&(Ke=void 0),Ke===K||void 0===Ke))return ae(Ue,Ye,Oe);for(ct=new(void 0===Ke?K:Ke)(ce(Oe-Ye,0)),nt=0;Ye<Oe;Ye++,nt++)Ye in Ue&&Y(ct,nt,Ue[Ye]);return ct.length=nt,ct}})},6949:(Q,ue,b)=>{"use strict";var L=b(664),M=b(2006),T=b(9366),R=b(3784),A=b(7951),N=b(8751),F=b(9005),Y=b(7944),te=b(3142),oe=b(1815),ae=b(8077),fe=b(4268),me=b(9905),K=b(1349),ce=[],Te=M(ce.sort),Fe=M(ce.push),De=Y(function(){ce.sort(void 0)}),Ue=Y(function(){ce.sort(null)}),rt=oe("sort"),Ye=!Y(function(){if(me)return me<70;if(!(ae&&ae>3)){if(fe)return!0;if(K)return K<603;var nt,vt,Pt,Ft,ct="";for(nt=65;nt<76;nt++){switch(vt=String.fromCharCode(nt),nt){case 66:case 69:case 70:case 72:Pt=3;break;case 68:case 71:Pt=4;break;default:Pt=2}for(Ft=0;Ft<47;Ft++)ce.push({k:vt+Ft,v:Pt})}for(ce.sort(function(Wt,Kt){return Kt.v-Wt.v}),Ft=0;Ft<ce.length;Ft++)vt=ce[Ft].k.charAt(0),ct.charAt(ct.length-1)!==vt&&(ct+=vt);return"DGBEFHACIJK"!==ct}});L({target:"Array",proto:!0,forced:De||!Ue||!rt||!Ye},{sort:function(nt){void 0!==nt&&T(nt);var vt=R(this);if(Ye)return void 0===nt?Te(vt):Te(vt,nt);var Wt,Kt,Pt=[],Ft=A(vt);for(Kt=0;Kt<Ft;Kt++)Kt in vt&&Fe(Pt,vt[Kt]);for(te(Pt,function(ct){return function(nt,vt){return void 0===vt?-1:void 0===nt?1:void 0!==ct?+ct(nt,vt)||0:F(nt)>F(vt)?1:-1}}(nt)),Wt=A(Pt),Kt=0;Kt<Wt;)vt[Kt]=Pt[Kt++];for(;Kt<Ft;)N(vt,Kt++);return vt}})},8193:(Q,ue,b)=>{"use strict";var L=b(664),M=b(3784),T=b(8064),R=b(2048),A=b(7951),N=b(6712),F=b(8194),Y=b(4275),te=b(7182),oe=b(8751),fe=b(1468)("splice"),me=Math.max,K=Math.min;L({target:"Array",proto:!0,forced:!fe},{splice:function(Te,Fe){var Oe,Ke,ct,nt,vt,Pt,De=M(this),Ue=A(De),rt=T(Te,Ue),Ye=arguments.length;for(0===Ye?Oe=Ke=0:1===Ye?(Oe=0,Ke=Ue-rt):(Oe=Ye-2,Ke=K(me(R(Fe),0),Ue-rt)),F(Ue+Oe-Ke),ct=Y(De,Ke),nt=0;nt<Ke;nt++)(vt=rt+nt)in De&&te(ct,nt,De[vt]);if(ct.length=Ke,Oe<Ke){for(nt=rt;nt<Ue-Ke;nt++)Pt=nt+Oe,(vt=nt+Ke)in De?De[Pt]=De[vt]:oe(De,Pt);for(nt=Ue;nt>Ue-Ke+Oe;nt--)oe(De,nt-1)}else if(Oe>Ke)for(nt=Ue-Ke;nt>rt;nt--)Pt=nt+Oe-1,(vt=nt+Ke-1)in De?De[Pt]=De[vt]:oe(De,Pt);for(nt=0;nt<Oe;nt++)De[nt+rt]=arguments[nt+2];return N(De,Ue-Ke+Oe),ct}})},2096:(Q,ue,b)=>{var L=b(5601),M=b(2891).EXISTS,T=b(2006),R=b(6607).f,A=Function.prototype,N=T(A.toString),F=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Y=T(F.exec);L&&!M&&R(A,"name",{configurable:!0,get:function(){try{return Y(F,N(this))[1]}catch(oe){return""}}})},4993:(Q,ue,b)=>{var L=b(664),M=b(2149),T=b(5019),R=b(9836),A=b(2006),N=b(7944),F=b(8143),Y=b(4513),te=b(8886),oe=b(2983),ae=b(8439),fe=b(1656),me=M("JSON","stringify"),K=A(/./.exec),ce=A("".charAt),Te=A("".charCodeAt),Fe=A("".replace),De=A(1..toString),Ue=/[\uD800-\uDFFF]/g,rt=/^[\uD800-\uDBFF]$/,Ye=/^[\uDC00-\uDFFF]$/,Oe=!fe||N(function(){var vt=M("Symbol")();return"[null]"!=me([vt])||"{}"!=me({a:vt})||"{}"!=me(Object(vt))}),Ke=N(function(){return'"\\udf06\\ud834"'!==me("\udf06\ud834")||'"\\udead"'!==me("\udead")}),ct=function(vt,Pt){var Ft=ae(arguments),Wt=Pt;if((te(Pt)||void 0!==vt)&&!oe(vt))return F(Pt)||(Pt=function(Kt,Zt){if(Y(Wt)&&(Zt=R(Wt,this,Kt,Zt)),!oe(Zt))return Zt}),Ft[1]=Pt,T(me,null,Ft)},nt=function(vt,Pt,Ft){var Wt=ce(Ft,Pt-1),Kt=ce(Ft,Pt+1);return K(rt,vt)&&!K(Ye,Kt)||K(Ye,vt)&&!K(rt,Wt)?"\\u"+De(Te(vt,0),16):vt};me&&L({target:"JSON",stat:!0,arity:3,forced:Oe||Ke},{stringify:function(Pt,Ft,Wt){var Kt=ae(arguments),Zt=T(Oe?ct:me,null,Kt);return Ke&&"string"==typeof Zt?Fe(Zt,Ue,nt):Zt}})},5927:(Q,ue,b)=>{"use strict";b(7126)("Map",function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},b(3977))},4564:(Q,ue,b)=>{b(5927)},6522:(Q,ue,b)=>{"use strict";var L=b(5601),M=b(4720),T=b(2006),R=b(9545),A=b(9047),N=b(8578),F=b(1072),Y=b(846),te=b(2983),oe=b(6281),ae=b(7944),fe=b(4283).f,me=b(313).f,K=b(6607).f,ce=b(1506),Te=b(9916).trim,Fe="Number",De=M[Fe],Ue=De.prototype,rt=M.TypeError,Ye=T("".slice),Oe=T("".charCodeAt),Ke=function(Wt){var Kt=oe(Wt,"number");return"bigint"==typeof Kt?Kt:ct(Kt)},ct=function(Wt){var Zt,Nt,Ne,ge,dt,Rt,Yt,bn,Kt=oe(Wt,"number");if(te(Kt))throw rt("Cannot convert a Symbol value to a number");if("string"==typeof Kt&&Kt.length>2)if(Kt=Te(Kt),43===(Zt=Oe(Kt,0))||45===Zt){if(88===(Nt=Oe(Kt,2))||120===Nt)return NaN}else if(48===Zt){switch(Oe(Kt,1)){case 66:case 98:Ne=2,ge=49;break;case 79:case 111:Ne=8,ge=55;break;default:return+Kt}for(Rt=(dt=Ye(Kt,2)).length,Yt=0;Yt<Rt;Yt++)if((bn=Oe(dt,Yt))<48||bn>ge)return NaN;return parseInt(dt,Ne)}return+Kt};if(R(Fe,!De(" 0o1")||!De("0b1")||De("+0x1"))){for(var Ft,nt=function(Kt){var Zt=arguments.length<1?0:De(Ke(Kt)),Nt=this;return Y(Ue,Nt)&&ae(function(){ce(Nt)})?F(Object(Zt),Nt,nt):Zt},vt=L?fe(De):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pt=0;vt.length>Pt;Pt++)N(De,Ft=vt[Pt])&&!N(nt,Ft)&&K(nt,Ft,me(De,Ft));nt.prototype=Ue,Ue.constructor=nt,A(M,Fe,nt,{constructor:!0})}},5296:(Q,ue,b)=>{b(664)({target:"Number",stat:!0},{isInteger:b(4904)})},7528:(Q,ue,b)=>{"use strict";var L=b(664),M=b(2006),T=b(2048),R=b(1506),A=b(4437),N=b(7944),F=RangeError,Y=String,te=Math.floor,oe=M(A),ae=M("".slice),fe=M(1..toFixed),me=function(Ue,rt,Ye){return 0===rt?Ye:rt%2==1?me(Ue,rt-1,Ye*Ue):me(Ue*Ue,rt/2,Ye)},ce=function(Ue,rt,Ye){for(var Oe=-1,Ke=Ye;++Oe<6;)Ue[Oe]=(Ke+=rt*Ue[Oe])%1e7,Ke=te(Ke/1e7)},Te=function(Ue,rt){for(var Ye=6,Oe=0;--Ye>=0;)Ue[Ye]=te((Oe+=Ue[Ye])/rt),Oe=Oe%rt*1e7},Fe=function(Ue){for(var rt=6,Ye="";--rt>=0;)if(""!==Ye||0===rt||0!==Ue[rt]){var Oe=Y(Ue[rt]);Ye=""===Ye?Oe:Ye+oe("0",7-Oe.length)+Oe}return Ye};L({target:"Number",proto:!0,forced:N(function(){return"0.000"!==fe(8e-5,3)||"1"!==fe(.9,0)||"1.25"!==fe(1.255,2)||"1000000000000000128"!==fe(0xde0b6b3a7640080,0)})||!N(function(){fe({})})},{toFixed:function(rt){var vt,Pt,Ft,Wt,Ye=R(this),Oe=T(rt),Ke=[0,0,0,0,0,0],ct="",nt="0";if(Oe<0||Oe>20)throw F("Incorrect fraction digits");if(Ye!=Ye)return"NaN";if(Ye<=-1e21||Ye>=1e21)return Y(Ye);if(Ye<0&&(ct="-",Ye=-Ye),Ye>1e-21)if(vt=function(Ue){for(var rt=0,Ye=Ue;Ye>=4096;)rt+=12,Ye/=4096;for(;Ye>=2;)rt+=1,Ye/=2;return rt}(Ye*me(2,69,1))-69,Pt=vt<0?Ye*me(2,-vt,1):Ye/me(2,vt,1),Pt*=4503599627370496,(vt=52-vt)>0){for(ce(Ke,0,Pt),Ft=Oe;Ft>=7;)ce(Ke,1e7,0),Ft-=7;for(ce(Ke,me(10,Ft,1),0),Ft=vt-1;Ft>=23;)Te(Ke,1<<23),Ft-=23;Te(Ke,1<<Ft),ce(Ke,1,1),Te(Ke,2),nt=Fe(Ke)}else ce(Ke,0,Pt),ce(Ke,1<<-vt,0),nt=Fe(Ke)+oe("0",Oe);return nt=Oe>0?ct+((Wt=nt.length)<=Oe?"0."+oe("0",Oe-Wt)+nt:ae(nt,0,Wt-Oe)+"."+ae(nt,Wt-Oe)):ct+nt}})},7204:(Q,ue,b)=>{var L=b(664),M=b(5274);L({target:"Object",stat:!0,arity:2,forced:Object.assign!==M},{assign:M})},508:(Q,ue,b)=>{var L=b(664),M=b(2655),T=b(7944),R=b(8886),A=b(9346).onFreeze,N=Object.freeze;L({target:"Object",stat:!0,forced:T(function(){N(1)}),sham:!M},{freeze:function(te){return N&&R(te)?N(A(te)):te}})},5379:(Q,ue,b)=>{var L=b(664),M=b(7944),T=b(8436),R=b(313).f,A=b(5601),N=M(function(){R(1)});L({target:"Object",stat:!0,forced:!A||N,sham:!A},{getOwnPropertyDescriptor:function(te,oe){return R(T(te),oe)}})},171:(Q,ue,b)=>{var L=b(664),M=b(5601),T=b(4432),R=b(8436),A=b(313),N=b(7182);L({target:"Object",stat:!0,sham:!M},{getOwnPropertyDescriptors:function(Y){for(var K,ce,te=R(Y),oe=A.f,ae=T(te),fe={},me=0;ae.length>me;)void 0!==(ce=oe(te,K=ae[me++]))&&N(fe,K,ce);return fe}})},5785:(Q,ue,b)=>{var L=b(664),M=b(1656),T=b(7944),R=b(6095),A=b(3784);L({target:"Object",stat:!0,forced:!M||T(function(){R.f(1)})},{getOwnPropertySymbols:function(Y){var te=R.f;return te?te(A(Y)):[]}})},7862:(Q,ue,b)=>{var L=b(664),M=b(7944),T=b(3784),R=b(5456),A=b(8745);L({target:"Object",stat:!0,forced:M(function(){R(1)}),sham:!A},{getPrototypeOf:function(Y){return R(T(Y))}})},6019:(Q,ue,b)=>{var L=b(664),M=b(3784),T=b(5159);L({target:"Object",stat:!0,forced:b(7944)(function(){T(1)})},{keys:function(F){return T(M(F))}})},5281:(Q,ue,b)=>{b(664)({target:"Object",stat:!0},{setPrototypeOf:b(6736)})},1681:(Q,ue,b)=>{var L=b(5706),M=b(9047),T=b(6482);L||M(Object.prototype,"toString",T,{unsafe:!0})},2885:(Q,ue,b)=>{var L=b(664),M=b(8307).values;L({target:"Object",stat:!0},{values:function(R){return M(R)}})},4448:(Q,ue,b)=>{var L=b(664),M=b(2149),T=b(5019),R=b(4697),A=b(9493),N=b(6583),F=b(8886),Y=b(1701),te=b(7944),oe=M("Reflect","construct"),ae=Object.prototype,fe=[].push,me=te(function(){function Te(){}return!(oe(function(){},[],Te)instanceof Te)}),K=!te(function(){oe(function(){})}),ce=me||K;L({target:"Reflect",stat:!0,forced:ce,sham:ce},{construct:function(Fe,De){A(Fe),N(De);var Ue=arguments.length<3?Fe:A(arguments[2]);if(K&&!me)return oe(Fe,De,Ue);if(Fe==Ue){switch(De.length){case 0:return new Fe;case 1:return new Fe(De[0]);case 2:return new Fe(De[0],De[1]);case 3:return new Fe(De[0],De[1],De[2]);case 4:return new Fe(De[0],De[1],De[2],De[3])}var rt=[null];return T(fe,rt,De),new(T(R,Fe,rt))}var Ye=Ue.prototype,Oe=Y(F(Ye)?Ye:ae),Ke=T(Fe,Oe,De);return F(Ke)?Ke:Oe}})},6590:(Q,ue,b)=>{var L=b(664),M=b(9836),T=b(8886),R=b(6583),A=b(7859),N=b(313),F=b(5456);L({target:"Reflect",stat:!0},{get:function Y(te,oe){var fe,me,ae=arguments.length<3?te:arguments[2];return R(te)===ae?te[oe]:(fe=N.f(te,oe))?A(fe)?fe.value:void 0===fe.get?void 0:M(fe.get,ae):T(me=F(te))?Y(me,oe,ae):void 0}})},4881:(Q,ue,b)=>{var L=b(5601),M=b(4720),T=b(2006),R=b(9545),A=b(1072),N=b(3779),F=b(4283).f,Y=b(846),te=b(1185),oe=b(9005),ae=b(2791),fe=b(1810),me=b(6455),K=b(9047),ce=b(7944),Te=b(8578),Fe=b(979).enforce,De=b(4087),Ue=b(7014),rt=b(1005),Ye=b(7633),Oe=Ue("match"),Ke=M.RegExp,ct=Ke.prototype,nt=M.SyntaxError,vt=T(ct.exec),Pt=T("".charAt),Ft=T("".replace),Wt=T("".indexOf),Kt=T("".slice),Zt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Nt=/a/g,Ne=/a/g,ge=new Ke(Nt)!==Nt,dt=fe.MISSED_STICKY,Rt=fe.UNSUPPORTED_Y;if(R("RegExp",L&&(!ge||dt||rt||Ye||ce(function(){return Ne[Oe]=!1,Ke(Nt)!=Nt||Ke(Ne)==Ne||"/a/i"!=Ke(Nt,"i")})))){for(var Ht=function(In,Mr){var fi,cr,_e,He,Qe,St,Rn=Y(ct,this),nn=te(In),$r=void 0===Mr,yi=[],_i=In;if(!Rn&&nn&&$r&&In.constructor===Ht)return In;if((nn||Y(ct,In))&&(In=In.source,$r&&(Mr=ae(_i))),In=void 0===In?"":oe(In),Mr=void 0===Mr?"":oe(Mr),_i=In,rt&&"dotAll"in Nt&&(cr=!!Mr&&Wt(Mr,"s")>-1)&&(Mr=Ft(Mr,/s/g,"")),fi=Mr,dt&&"sticky"in Nt&&(_e=!!Mr&&Wt(Mr,"y")>-1)&&Rt&&(Mr=Ft(Mr,/y/g,"")),Ye&&(He=function(Wn){for(var _e,In=Wn.length,Mr=0,Rn="",nn=[],$r={},yi=!1,_i=!1,fi=0,cr="";Mr<=In;Mr++){if("\\"===(_e=Pt(Wn,Mr)))_e+=Pt(Wn,++Mr);else if("]"===_e)yi=!1;else if(!yi)switch(!0){case"["===_e:yi=!0;break;case"("===_e:vt(Zt,Kt(Wn,Mr+1))&&(Mr+=2,_i=!0),Rn+=_e,fi++;continue;case">"===_e&&_i:if(""===cr||Te($r,cr))throw new nt("Invalid capture group name");$r[cr]=!0,nn[nn.length]=[cr,fi],_i=!1,cr="";continue}_i?cr+=_e:Rn+=_e}return[Rn,nn]}(In),In=He[0],yi=He[1]),Qe=A(Ke(In,Mr),Rn?this:ct,Ht),(cr||_e||yi.length)&&(St=Fe(Qe),cr&&(St.dotAll=!0,St.raw=Ht(function(Wn){for(var $r,In=Wn.length,Mr=0,Rn="",nn=!1;Mr<=In;Mr++)"\\"!==($r=Pt(Wn,Mr))?nn||"."!==$r?("["===$r?nn=!0:"]"===$r&&(nn=!1),Rn+=$r):Rn+="[\\s\\S]":Rn+=$r+Pt(Wn,++Mr);return Rn}(In),fi)),_e&&(St.sticky=!0),yi.length&&(St.groups=yi)),In!==_i)try{N(Qe,"source",""===_i?"(?:)":_i)}catch(lt){}return Qe},Zn=F(Ke),Un=0;Zn.length>Un;)me(Ht,Ke,Zn[Un++]);ct.constructor=Ht,Ht.prototype=ct,K(M,"RegExp",Ht,{constructor:!0})}De("RegExp")},8068:(Q,ue,b)=>{"use strict";var L=b(664),M=b(8214);L({target:"RegExp",proto:!0,forced:/./.exec!==M},{exec:M})},5167:(Q,ue,b)=>{"use strict";var L=b(2891).PROPER,M=b(9047),T=b(6583),R=b(9005),A=b(7944),N=b(2791),F="toString",te=RegExp.prototype[F];(A(function(){return"/a/b"!=te.call({source:"a",flags:"b"})})||L&&te.name!=F)&&M(RegExp.prototype,F,function(){var me=T(this);return"/"+R(me.source)+"/"+R(N(me))},{unsafe:!0})},4906:(Q,ue,b)=>{"use strict";b(7126)("Set",function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},b(3977))},3954:(Q,ue,b)=>{b(4906)},8377:(Q,ue,b)=>{"use strict";var L=b(664),M=b(5940).codeAt;L({target:"String",proto:!0},{codePointAt:function(R){return M(this,R)}})},3487:(Q,ue,b)=>{"use strict";var ce,L=b(664),M=b(2006),T=b(313).f,R=b(7832),A=b(9005),N=b(1679),F=b(1413),Y=b(312),te=b(2074),oe=M("".endsWith),ae=M("".slice),fe=Math.min,me=Y("endsWith");L({target:"String",proto:!0,forced:!(!te&&!me&&(ce=T(String.prototype,"endsWith"),ce&&!ce.writable)||me)},{endsWith:function(Te){var Fe=A(F(this));N(Te);var De=arguments.length>1?arguments[1]:void 0,Ue=Fe.length,rt=void 0===De?Ue:fe(R(De),Ue),Ye=A(Te);return oe?oe(Fe,Ye,rt):ae(Fe,rt-Ye.length,rt)===Ye}})},4176:(Q,ue,b)=>{"use strict";var L=b(664),M=b(2006),T=b(1679),R=b(1413),A=b(9005),N=b(312),F=M("".indexOf);L({target:"String",proto:!0,forced:!N("includes")},{includes:function(te){return!!~F(A(R(this)),A(T(te)),arguments.length>1?arguments[1]:void 0)}})},631:(Q,ue,b)=>{"use strict";var L=b(5940).charAt,M=b(9005),T=b(979),R=b(4971),A=b(4761),N="String Iterator",F=T.set,Y=T.getterFor(N);R(String,"String",function(te){F(this,{type:N,string:M(te),index:0})},function(){var me,oe=Y(this),ae=oe.string,fe=oe.index;return fe>=ae.length?A(void 0,!0):(me=L(ae,fe),oe.index+=me.length,A(me,!1))})},2337:(Q,ue,b)=>{"use strict";var L=b(664),M=b(8772);L({target:"String",proto:!0,forced:b(1558)("link")},{link:function(A){return M(this,"a","href",A)}})},9394:(Q,ue,b)=>{"use strict";var L=b(9836),M=b(5698),T=b(6583),R=b(8702),A=b(7832),N=b(9005),F=b(1413),Y=b(2383),te=b(5470),oe=b(8325);M("match",function(ae,fe,me){return[function(ce){var Te=F(this),Fe=R(ce)?void 0:Y(ce,ae);return Fe?L(Fe,ce,Te):new RegExp(ce)[ae](N(Te))},function(K){var ce=T(this),Te=N(K),Fe=me(fe,ce,Te);if(Fe.done)return Fe.value;if(!ce.global)return oe(ce,Te);var De=ce.unicode;ce.lastIndex=0;for(var Ye,Ue=[],rt=0;null!==(Ye=oe(ce,Te));){var Oe=N(Ye[0]);Ue[rt]=Oe,""===Oe&&(ce.lastIndex=te(Te,A(ce.lastIndex),De)),rt++}return 0===rt?null:Ue}]})},1100:(Q,ue,b)=>{"use strict";var L=b(664),M=b(8922).start;L({target:"String",proto:!0,forced:b(2666)},{padStart:function(A){return M(this,A,arguments.length>1?arguments[1]:void 0)}})},9401:(Q,ue,b)=>{"use strict";var L=b(5019),M=b(9836),T=b(2006),R=b(5698),A=b(7944),N=b(6583),F=b(4513),Y=b(8702),te=b(2048),oe=b(7832),ae=b(9005),fe=b(1413),me=b(5470),K=b(2383),ce=b(3653),Te=b(8325),De=b(7014)("replace"),Ue=Math.max,rt=Math.min,Ye=T([].concat),Oe=T([].push),Ke=T("".indexOf),ct=T("".slice),nt=function(Wt){return void 0===Wt?Wt:String(Wt)},vt="$0"==="a".replace(/./,"$0"),Pt=!!/./[De]&&""===/./[De]("a","$0");R("replace",function(Wt,Kt,Zt){var Nt=Pt?"$":"$0";return[function(ge,dt){var Rt=fe(this),Yt=Y(ge)?void 0:K(ge,De);return Yt?M(Yt,ge,Rt,dt):M(Kt,ae(Rt),ge,dt)},function(Ne,ge){var dt=N(this),Rt=ae(Ne);if("string"==typeof ge&&-1===Ke(ge,Nt)&&-1===Ke(ge,"$<")){var Yt=Zt(Kt,dt,Rt,ge);if(Yt.done)return Yt.value}var bn=F(ge);bn||(ge=ae(ge));var Mn=dt.global;if(Mn){var Ht=dt.unicode;dt.lastIndex=0}for(var Zn=[];;){var Un=Te(dt,Rt);if(null===Un||(Oe(Zn,Un),!Mn))break;""===ae(Un[0])&&(dt.lastIndex=me(Rt,oe(dt.lastIndex),Ht))}for(var In="",Mr=0,Rn=0;Rn<Zn.length;Rn++){for(var nn=ae((Un=Zn[Rn])[0]),$r=Ue(rt(te(Un.index),Rt.length),0),yi=[],_i=1;_i<Un.length;_i++)Oe(yi,nt(Un[_i]));var fi=Un.groups;if(bn){var cr=Ye([nn],yi,$r,Rt);void 0!==fi&&Oe(cr,fi);var _e=ae(L(ge,void 0,cr))}else _e=ce(nn,Rt,$r,yi,fi,ge);$r>=Mr&&(In+=ct(Rt,Mr,$r)+_e,Mr=$r+nn.length)}return In+ct(Rt,Mr)}]},!!A(function(){var Wt=/./;return Wt.exec=function(){var Kt=[];return Kt.groups={a:"7"},Kt},"7"!=="".replace(Wt,"$<a>")})||!vt||Pt)},2024:(Q,ue,b)=>{"use strict";var L=b(9836),M=b(5698),T=b(6583),R=b(8702),A=b(1413),N=b(1517),F=b(9005),Y=b(2383),te=b(8325);M("search",function(oe,ae,fe){return[function(K){var ce=A(this),Te=R(K)?void 0:Y(K,oe);return Te?L(Te,K,ce):new RegExp(K)[oe](F(ce))},function(me){var K=T(this),ce=F(me),Te=fe(ae,K,ce);if(Te.done)return Te.value;var Fe=K.lastIndex;N(Fe,0)||(K.lastIndex=0);var De=te(K,ce);return N(K.lastIndex,Fe)||(K.lastIndex=Fe),null===De?-1:De.index}]})},3035:(Q,ue,b)=>{"use strict";var L=b(5019),M=b(9836),T=b(2006),R=b(5698),A=b(6583),N=b(8702),F=b(1185),Y=b(1413),te=b(7347),oe=b(5470),ae=b(7832),fe=b(9005),me=b(2383),K=b(5005),ce=b(8325),Te=b(8214),Fe=b(1810),De=b(7944),Ue=Fe.UNSUPPORTED_Y,rt=4294967295,Ye=Math.min,Oe=[].push,Ke=T(/./.exec),ct=T(Oe),nt=T("".slice);R("split",function(Pt,Ft,Wt){var Kt;return Kt="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(Zt,Nt){var Ne=fe(Y(this)),ge=void 0===Nt?rt:Nt>>>0;if(0===ge)return[];if(void 0===Zt)return[Ne];if(!F(Zt))return M(Ft,Ne,Zt,ge);for(var Mn,Ht,Zn,dt=[],Yt=0,bn=new RegExp(Zt.source,(Zt.ignoreCase?"i":"")+(Zt.multiline?"m":"")+(Zt.unicode?"u":"")+(Zt.sticky?"y":"")+"g");(Mn=M(Te,bn,Ne))&&!((Ht=bn.lastIndex)>Yt&&(ct(dt,nt(Ne,Yt,Mn.index)),Mn.length>1&&Mn.index<Ne.length&&L(Oe,dt,K(Mn,1)),Zn=Mn[0].length,Yt=Ht,dt.length>=ge));)bn.lastIndex===Mn.index&&bn.lastIndex++;return Yt===Ne.length?(Zn||!Ke(bn,""))&&ct(dt,""):ct(dt,nt(Ne,Yt)),dt.length>ge?K(dt,0,ge):dt}:"0".split(void 0,0).length?function(Zt,Nt){return void 0===Zt&&0===Nt?[]:M(Ft,this,Zt,Nt)}:Ft,[function(Nt,Ne){var ge=Y(this),dt=N(Nt)?void 0:me(Nt,Pt);return dt?M(dt,Nt,ge,Ne):M(Kt,fe(ge),Nt,Ne)},function(Zt,Nt){var Ne=A(this),ge=fe(Zt),dt=Wt(Kt,Ne,ge,Nt,Kt!==Ft);if(dt.done)return dt.value;var Rt=te(Ne,RegExp),Yt=Ne.unicode,Mn=new Rt(Ue?"^(?:"+Ne.source+")":Ne,(Ne.ignoreCase?"i":"")+(Ne.multiline?"m":"")+(Ne.unicode?"u":"")+(Ue?"g":"y")),Ht=void 0===Nt?rt:Nt>>>0;if(0===Ht)return[];if(0===ge.length)return null===ce(Mn,ge)?[ge]:[];for(var Zn=0,Un=0,Wn=[];Un<ge.length;){Mn.lastIndex=Ue?0:Un;var Mr,In=ce(Mn,Ue?nt(ge,Un):ge);if(null===In||(Mr=Ye(ae(Mn.lastIndex+(Ue?Un:0)),ge.length))===Zn)Un=oe(ge,Un,Yt);else{if(ct(Wn,nt(ge,Zn,Un)),Wn.length===Ht)return Wn;for(var Rn=1;Rn<=In.length-1;Rn++)if(ct(Wn,In[Rn]),Wn.length===Ht)return Wn;Un=Zn=Mr}}return ct(Wn,nt(ge,Zn)),Wn}]},!!De(function(){var Pt=/(?:)/,Ft=Pt.exec;Pt.exec=function(){return Ft.apply(this,arguments)};var Wt="ab".split(Pt);return 2!==Wt.length||"a"!==Wt[0]||"b"!==Wt[1]}),Ue)},9778:(Q,ue,b)=>{"use strict";var ce,L=b(664),M=b(2006),T=b(313).f,R=b(7832),A=b(9005),N=b(1679),F=b(1413),Y=b(312),te=b(2074),oe=M("".startsWith),ae=M("".slice),fe=Math.min,me=Y("startsWith");L({target:"String",proto:!0,forced:!(!te&&!me&&(ce=T(String.prototype,"startsWith"),ce&&!ce.writable)||me)},{startsWith:function(Te){var Fe=A(F(this));N(Te);var De=R(fe(arguments.length>1?arguments[1]:void 0,Fe.length)),Ue=A(Te);return oe?oe(Fe,Ue,De):ae(Fe,De,De+Ue.length)===Ue}})},3388:(Q,ue,b)=>{"use strict";var L=b(664),M=b(9916).trim;L({target:"String",proto:!0,forced:b(4304)("trim")},{trim:function(){return M(this)}})},8202:(Q,ue,b)=>{"use strict";var L=b(664),M=b(4720),T=b(9836),R=b(2006),A=b(2074),N=b(5601),F=b(1656),Y=b(7944),te=b(8578),oe=b(846),ae=b(6583),fe=b(8436),me=b(2637),K=b(9005),ce=b(8808),Te=b(1701),Fe=b(5159),De=b(4283),Ue=b(3138),rt=b(6095),Ye=b(313),Oe=b(6607),Ke=b(9106),ct=b(6491),nt=b(9047),vt=b(5443),Pt=b(9660),Ft=b(7086),Wt=b(1387),Kt=b(7014),Zt=b(8775),Nt=b(8810),Ne=b(5439),ge=b(5387),dt=b(979),Rt=b(8657).forEach,Yt=Pt("hidden"),bn="Symbol",Mn="prototype",Ht=dt.set,Zn=dt.getterFor(bn),Un=Object[Mn],Wn=M.Symbol,In=Wn&&Wn[Mn],Mr=M.TypeError,Rn=M.QObject,nn=Ye.f,$r=Oe.f,yi=Ue.f,_i=ct.f,fi=R([].push),cr=vt("symbols"),_e=vt("op-symbols"),He=vt("wks"),Qe=!Rn||!Rn[Mn]||!Rn[Mn].findChild,St=N&&Y(function(){return 7!=Te($r({},"a",{get:function(){return $r(this,"a",{value:7}).a}})).a})?function(hn,Sn,Bn){var br=nn(Un,Sn);br&&delete Un[Sn],$r(hn,Sn,Bn),br&&hn!==Un&&$r(Un,Sn,br)}:$r,lt=function(hn,Sn){var Bn=cr[hn]=Te(In);return Ht(Bn,{type:bn,tag:hn,description:Sn}),N||(Bn.description=Sn),Bn},qe=function(Sn,Bn,br){Sn===Un&&qe(_e,Bn,br),ae(Sn);var ai=me(Bn);return ae(br),te(cr,ai)?(br.enumerable?(te(Sn,Yt)&&Sn[Yt][ai]&&(Sn[Yt][ai]=!1),br=Te(br,{enumerable:ce(0,!1)})):(te(Sn,Yt)||$r(Sn,Yt,ce(1,{})),Sn[Yt][ai]=!0),St(Sn,ai,br)):$r(Sn,ai,br)},Xe=function(Sn,Bn){ae(Sn);var br=fe(Bn),ai=Fe(br).concat(qt(br));return Rt(ai,function(ui){(!N||T(yt,br,ui))&&qe(Sn,ui,br[ui])}),Sn},yt=function(Sn){var Bn=me(Sn),br=T(_i,this,Bn);return!(this===Un&&te(cr,Bn)&&!te(_e,Bn))&&(!(br||!te(this,Bn)||!te(cr,Bn)||te(this,Yt)&&this[Yt][Bn])||br)},mt=function(Sn,Bn){var br=fe(Sn),ai=me(Bn);if(br!==Un||!te(cr,ai)||te(_e,ai)){var ui=nn(br,ai);return ui&&te(cr,ai)&&!(te(br,Yt)&&br[Yt][ai])&&(ui.enumerable=!0),ui}},Ct=function(Sn){var Bn=yi(fe(Sn)),br=[];return Rt(Bn,function(ai){!te(cr,ai)&&!te(Ft,ai)&&fi(br,ai)}),br},qt=function(hn){var Sn=hn===Un,Bn=yi(Sn?_e:fe(hn)),br=[];return Rt(Bn,function(ai){te(cr,ai)&&(!Sn||te(Un,ai))&&fi(br,cr[ai])}),br};F||(nt(In=(Wn=function(){if(oe(In,this))throw Mr("Symbol is not a constructor");var Sn=arguments.length&&void 0!==arguments[0]?K(arguments[0]):void 0,Bn=Wt(Sn),br=function(ai){this===Un&&T(br,_e,ai),te(this,Yt)&&te(this[Yt],Bn)&&(this[Yt][Bn]=!1),St(this,Bn,ce(1,ai))};return N&&Qe&&St(Un,Bn,{configurable:!0,set:br}),lt(Bn,Sn)})[Mn],"toString",function(){return Zn(this).tag}),nt(Wn,"withoutSetter",function(hn){return lt(Wt(hn),hn)}),ct.f=yt,Oe.f=qe,Ke.f=Xe,Ye.f=mt,De.f=Ue.f=Ct,rt.f=qt,Zt.f=function(hn){return lt(Kt(hn),hn)},N&&($r(In,"description",{configurable:!0,get:function(){return Zn(this).description}}),A||nt(Un,"propertyIsEnumerable",yt,{unsafe:!0}))),L({global:!0,constructor:!0,wrap:!0,forced:!F,sham:!F},{Symbol:Wn}),Rt(Fe(He),function(hn){Nt(hn)}),L({target:bn,stat:!0,forced:!F},{useSetter:function(){Qe=!0},useSimple:function(){Qe=!1}}),L({target:"Object",stat:!0,forced:!F,sham:!N},{create:function(Sn,Bn){return void 0===Bn?Te(Sn):Xe(Te(Sn),Bn)},defineProperty:qe,defineProperties:Xe,getOwnPropertyDescriptor:mt}),L({target:"Object",stat:!0,forced:!F},{getOwnPropertyNames:Ct}),Ne(),ge(Wn,bn),Ft[Yt]=!0},2162:(Q,ue,b)=>{"use strict";var L=b(664),M=b(5601),T=b(4720),R=b(2006),A=b(8578),N=b(4513),F=b(846),Y=b(9005),te=b(6607).f,oe=b(1975),ae=T.Symbol,fe=ae&&ae.prototype;if(M&&N(ae)&&(!("description"in fe)||void 0!==ae().description)){var me={},K=function(){var Oe=arguments.length<1||void 0===arguments[0]?void 0:Y(arguments[0]),Ke=F(fe,this)?new ae(Oe):void 0===Oe?ae():ae(Oe);return""===Oe&&(me[Ke]=!0),Ke};oe(K,ae),K.prototype=fe,fe.constructor=K;var ce="Symbol(test)"==String(ae("test")),Te=R(fe.valueOf),Fe=R(fe.toString),De=/^Symbol\((.*)\)[^)]+$/,Ue=R("".replace),rt=R("".slice);te(fe,"description",{configurable:!0,get:function(){var Oe=Te(this);if(A(me,Oe))return"";var Ke=Fe(Oe),ct=ce?rt(Ke,7,-1):Ue(Ke,De,"$1");return""===ct?void 0:ct}}),L({global:!0,constructor:!0,forced:!0},{Symbol:K})}},8774:(Q,ue,b)=>{var L=b(664),M=b(2149),T=b(8578),R=b(9005),A=b(5443),N=b(348),F=A("string-to-symbol-registry"),Y=A("symbol-to-string-registry");L({target:"Symbol",stat:!0,forced:!N},{for:function(te){var oe=R(te);if(T(F,oe))return F[oe];var ae=M("Symbol")(oe);return F[oe]=ae,Y[ae]=oe,ae}})},9117:(Q,ue,b)=>{b(8810)("iterator")},1044:(Q,ue,b)=>{b(8202),b(8774),b(7613),b(4993),b(5785)},7613:(Q,ue,b)=>{var L=b(664),M=b(8578),T=b(2983),R=b(7366),A=b(5443),N=b(348),F=A("symbol-to-string-registry");L({target:"Symbol",stat:!0,forced:!N},{keyFor:function(te){if(!T(te))throw TypeError(R(te)+" is not a symbol");if(M(F,te))return F[te]}})},5128:(Q,ue,b)=>{"use strict";var fe,L=b(4720),M=b(2006),T=b(7125),R=b(9346),A=b(7126),N=b(1725),F=b(8886),Y=b(3892),te=b(979).enforce,oe=b(2488),ae=!L.ActiveXObject&&"ActiveXObject"in L,me=function(rt){return function(){return rt(this,arguments.length?arguments[0]:void 0)}},K=A("WeakMap",me,N);if(oe&&ae){fe=N.getConstructor(me,"WeakMap",!0),R.enable();var ce=K.prototype,Te=M(ce.delete),Fe=M(ce.has),De=M(ce.get),Ue=M(ce.set);T(ce,{delete:function(rt){if(F(rt)&&!Y(rt)){var Ye=te(this);return Ye.frozen||(Ye.frozen=new fe),Te(this,rt)||Ye.frozen.delete(rt)}return Te(this,rt)},has:function(Ye){if(F(Ye)&&!Y(Ye)){var Oe=te(this);return Oe.frozen||(Oe.frozen=new fe),Fe(this,Ye)||Oe.frozen.has(Ye)}return Fe(this,Ye)},get:function(Ye){if(F(Ye)&&!Y(Ye)){var Oe=te(this);return Oe.frozen||(Oe.frozen=new fe),Fe(this,Ye)?De(this,Ye):Oe.frozen.get(Ye)}return De(this,Ye)},set:function(Ye,Oe){if(F(Ye)&&!Y(Ye)){var Ke=te(this);Ke.frozen||(Ke.frozen=new fe),Fe(this,Ye)?Ue(this,Ye,Oe):Ke.frozen.set(Ye,Oe)}else Ue(this,Ye,Oe);return this}})}},3902:(Q,ue,b)=>{b(5128)},7184:(Q,ue,b)=>{"use strict";b(7126)("WeakSet",function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},b(1725))},1514:(Q,ue,b)=>{b(7184)},1606:(Q,ue,b)=>{var L=b(664),M=b(4720),T=b(5484).clear;L({global:!0,bind:!0,enumerable:!0,forced:M.clearImmediate!==T},{clearImmediate:T})},4018:(Q,ue,b)=>{var L=b(4720),M=b(1331),T=b(4970),R=b(441),A=b(3779),N=function(Y){if(Y&&Y.forEach!==R)try{A(Y,"forEach",R)}catch(te){Y.forEach=R}};for(var F in M)M[F]&&N(L[F]&&L[F].prototype);N(T)},223:(Q,ue,b)=>{var L=b(4720),M=b(1331),T=b(4970),R=b(4952),A=b(3779),N=b(7014),F=N("iterator"),Y=N("toStringTag"),te=R.values,oe=function(fe,me){if(fe){if(fe[F]!==te)try{A(fe,F,te)}catch(ce){fe[F]=te}if(fe[Y]||A(fe,Y,me),M[me])for(var K in R)if(fe[K]!==R[K])try{A(fe,K,R[K])}catch(ce){fe[K]=R[K]}}};for(var ae in M)oe(L[ae]&&L[ae].prototype,ae);oe(T,"DOMTokenList")},1261:(Q,ue,b)=>{b(1606),b(2474)},2474:(Q,ue,b)=>{var L=b(664),M=b(4720),T=b(5484).set;L({global:!0,bind:!0,enumerable:!0,forced:M.setImmediate!==T},{setImmediate:T})},7050:(Q,ue,b)=>{var L=b(664),M=b(4720),T=b(9780).setInterval;L({global:!0,bind:!0,forced:M.setInterval!==T},{setInterval:T})},6248:(Q,ue,b)=>{var L=b(664),M=b(4720),T=b(9780).setTimeout;L({global:!0,bind:!0,forced:M.setTimeout!==T},{setTimeout:T})},9443:(Q,ue,b)=>{b(7050),b(6248)},1670:(Q,ue,b)=>{"use strict";function L(T,R,A,N,F,Y,te){try{var oe=T[Y](te),ae=oe.value}catch(fe){return void A(fe)}oe.done?R(ae):Promise.resolve(ae).then(N,F)}function M(T){return function(){var R=this,A=arguments;return new Promise(function(N,F){var Y=T.apply(R,A);function te(ae){L(Y,N,F,te,oe,"next",ae)}function oe(ae){L(Y,N,F,te,oe,"throw",ae)}te(void 0)})}}b.d(ue,{Z:()=>M})}},Q=>{Q(Q.s=743)}]);
//# sourceMappingURL=main.743148ad69c09b11.js.map