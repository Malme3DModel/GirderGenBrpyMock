var Hfe=Math.pow;(self.webpackChunkthreeTest=self.webpackChunkthreeTest||[]).push([[179],{9316:(Q,ue,b)=>{"use strict";var L={};b.r(L),b.d(L,{Decoder:()=>x3,Encoder:()=>hwe,PacketType:()=>Ao,protocol:()=>fwe});var S={};function T(n){return"function"==typeof n}function R(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}b.r(S),b.d(S,{CONTEXTMENU_ITEMS_ADD_COMMENT:()=>ij,CONTEXTMENU_ITEMS_ALIGNMENT:()=>lj,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:()=>mj,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:()=>cj,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:()=>fj,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:()=>uj,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:()=>pj,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:()=>dj,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:()=>hj,CONTEXTMENU_ITEMS_BORDERS:()=>gj,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:()=>_j,CONTEXTMENU_ITEMS_BORDERS_LEFT:()=>bj,CONTEXTMENU_ITEMS_BORDERS_RIGHT:()=>yj,CONTEXTMENU_ITEMS_BORDERS_TOP:()=>vj,CONTEXTMENU_ITEMS_CLEAR_COLUMN:()=>qU,CONTEXTMENU_ITEMS_COPY:()=>JU,CONTEXTMENU_ITEMS_CUT:()=>QU,CONTEXTMENU_ITEMS_EDIT_COMMENT:()=>oj,CONTEXTMENU_ITEMS_FREEZE_COLUMN:()=>ej,CONTEXTMENU_ITEMS_HIDE_COLUMN:()=>xj,CONTEXTMENU_ITEMS_HIDE_ROW:()=>Ej,CONTEXTMENU_ITEMS_INSERT_LEFT:()=>WU,CONTEXTMENU_ITEMS_INSERT_RIGHT:()=>YU,CONTEXTMENU_ITEMS_MERGE_CELLS:()=>nj,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:()=>Sj,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:()=>Mj,CONTEXTMENU_ITEMS_NO_ITEMS:()=>zU,CONTEXTMENU_ITEMS_READ_ONLY:()=>ZU,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:()=>aj,CONTEXTMENU_ITEMS_REDO:()=>KU,CONTEXTMENU_ITEMS_REMOVE_BORDERS:()=>wj,CONTEXTMENU_ITEMS_REMOVE_COLUMN:()=>$U,CONTEXTMENU_ITEMS_REMOVE_COMMENT:()=>sj,CONTEXTMENU_ITEMS_REMOVE_ROW:()=>GU,CONTEXTMENU_ITEMS_ROW_ABOVE:()=>UU,CONTEXTMENU_ITEMS_ROW_BELOW:()=>jU,CONTEXTMENU_ITEMS_SHOW_COLUMN:()=>Cj,CONTEXTMENU_ITEMS_SHOW_ROW:()=>Tj,CONTEXTMENU_ITEMS_UNDO:()=>XU,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:()=>tj,CONTEXTMENU_ITEMS_UNMERGE_CELLS:()=>rj,CONTEXT_MENU_ITEMS_NAMESPACE:()=>Wi,FILTERS_BUTTONS_CANCEL:()=>Qj,FILTERS_BUTTONS_CLEAR:()=>qj,FILTERS_BUTTONS_OK:()=>Jj,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:()=>e4,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:()=>n4,FILTERS_BUTTONS_PLACEHOLDER_VALUE:()=>t4,FILTERS_BUTTONS_SELECT_ALL:()=>Zj,FILTERS_CONDITIONS_AFTER:()=>Uj,FILTERS_CONDITIONS_BEFORE:()=>jj,FILTERS_CONDITIONS_BEGINS_WITH:()=>kj,FILTERS_CONDITIONS_BETWEEN:()=>Vj,FILTERS_CONDITIONS_BY_VALUE:()=>mHe,FILTERS_CONDITIONS_CONTAINS:()=>Ij,FILTERS_CONDITIONS_EMPTY:()=>Rj,FILTERS_CONDITIONS_ENDS_WITH:()=>Lj,FILTERS_CONDITIONS_EQUAL:()=>Aj,FILTERS_CONDITIONS_GREATER_THAN:()=>Nj,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:()=>Fj,FILTERS_CONDITIONS_LESS_THAN:()=>Hj,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:()=>Bj,FILTERS_CONDITIONS_NAMESPACE:()=>ta,FILTERS_CONDITIONS_NONE:()=>RI,FILTERS_CONDITIONS_NOT_BETWEEN:()=>zj,FILTERS_CONDITIONS_NOT_CONTAIN:()=>Pj,FILTERS_CONDITIONS_NOT_EMPTY:()=>Dj,FILTERS_CONDITIONS_NOT_EQUAL:()=>Oj,FILTERS_CONDITIONS_TODAY:()=>Wj,FILTERS_CONDITIONS_TOMORROW:()=>Yj,FILTERS_CONDITIONS_YESTERDAY:()=>Gj,FILTERS_DIVS_FILTER_BY_CONDITION:()=>$j,FILTERS_DIVS_FILTER_BY_VALUE:()=>Xj,FILTERS_LABELS_CONJUNCTION:()=>Kj,FILTERS_LABELS_DISJUNCTION:()=>DI,FILTERS_NAMESPACE:()=>Pu,FILTERS_VALUES_BLANK_CELLS:()=>AI});const A=R(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function N(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class F{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(o){e=o instanceof A?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{oe(o)}catch(s){e=null!=e?e:[],s instanceof A?e=[...e,...s.errors]:e.push(s)}}if(e)throw new A(e)}}add(e){var t;if(e&&e!==this)if(this.closed)oe(e);else{if(e instanceof F){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&N(t,e)}remove(e){const{_finalizers:t}=this;t&&N(t,e),e instanceof F&&e._removeParent(this)}}F.EMPTY=(()=>{const n=new F;return n.closed=!0,n})();const Y=F.EMPTY;function te(n){return n instanceof F||n&&"closed"in n&&T(n.remove)&&T(n.add)&&T(n.unsubscribe)}function oe(n){T(n)?n():n.unsubscribe()}const ae={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},de={setTimeout(n,e,...t){const{delegate:r}=de;return null!=r&&r.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=de;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function pe(n){de.setTimeout(()=>{const{onUnhandledError:e}=ae;if(!e)throw n;e(n)})}function K(){}const ce=Te("C",void 0,void 0);function Te(n,e,t){return{kind:n,value:e,error:t}}let ze=null;function rt(n){if(ae.useDeprecatedSynchronousErrorHandling){const e=!ze;if(e&&(ze={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ze;if(ze=null,t)throw r}}else n()}class Re extends F{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,te(e)&&e.add(this)):this.destination=Gt}static create(e,t,r){return new mt(e,t,r)}next(e){this.isStopped?Wt(function Pe(n){return Te("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Wt(function xe(n){return Te("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wt(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function ut(n,e){return Ge.call(n,e)}class tt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){kt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){kt(r)}else kt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){kt(t)}}}class mt extends Re{constructor(e,t,r){let i;if(super(),T(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let o;this&&ae.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ut(e.next,o),error:e.error&&ut(e.error,o),complete:e.complete&&ut(e.complete,o)}):i=e}this.destination=new tt(i)}}function kt(n){ae.useDeprecatedSynchronousErrorHandling?function Ue(n){ae.useDeprecatedSynchronousErrorHandling&&ze&&(ze.errorThrown=!0,ze.error=n)}(n):pe(n)}function Wt(n,e){const{onStoppedNotification:t}=ae;t&&de.setTimeout(()=>t(n,e))}const Gt={closed:!0,next:K,error:function Ht(n){throw n},complete:K},Xt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pt(n){return n}function me(n){return 0===n.length?Pt:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let dt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function yn(n){return n&&n instanceof Re||function Yt(n){return n&&T(n.next)&&T(n.error)&&T(n.complete)}(n)&&te(n)}(t)?t:new mt(t,r,i);return rt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Dt(r))((i,o)=>{const s=new mt({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Xt](){return this}pipe(...t){return me(t)(this)}toPromise(t){return new(t=Dt(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Dt(n){var e;return null!==(e=null!=n?n:ae.Promise)&&void 0!==e?e:Promise}const wn=R(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Nt=(()=>{class n extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new $n(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new wn}next(t){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Y:(this.currentObservers=null,o.push(t),new F(()=>{this.currentObservers=null,N(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new dt;return t.source=this,t}}return n.create=(e,t)=>new $n(e,t),n})();class $n extends Nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Y}}function Vn(n){return T(null==n?void 0:n.lift)}function Un(n){return e=>{if(Vn(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function kn(n,e,t,r,i){return new _r(n,e,t,r,i)}class _r extends Re{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function En(n,e){return Un((t,r)=>{let i=0;t.subscribe(kn(r,o=>{r.next(n.call(e,o,i++))}))})}function Ct(n){return this instanceof Ct?(this.v=n,this):new Ct(n)}function qt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(y){return new Promise(function(w,M){o.push([g,y,w,M])>1||a(g,y)})})}function a(g,y){try{!function u(g){g.value instanceof Ct?Promise.resolve(g.value.v).then(c,f):p(o[0][2],g)}(r[g](y))}catch(w){p(o[0][3],w)}}function c(g){a("next",g)}function f(g){a("throw",g)}function p(g,y){g(y),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Mn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Ke(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}const kl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Gi(n){return T(null==n?void 0:n.then)}function ia(n){return T(n[Xt])}function oa(n){return Symbol.asyncIterator&&T(null==n?void 0:n[Symbol.asyncIterator])}function Mo(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $i=function ds(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ll(n){return T(null==n?void 0:n[$i])}function au(n){return qt(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ct(t.read());if(i)return yield Ct(void 0);yield yield Ct(r)}}finally{t.releaseLock()}})}function Il(n){return T(null==n?void 0:n.getReader)}function fs(n){if(n instanceof dt)return n;if(null!=n){if(ia(n))return function og(n){return new dt(e=>{const t=n[Xt]();if(T(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(kl(n))return function bc(n){return new dt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Gi(n))return function wa(n){return new dt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,pe)})}(n);if(oa(n))return nf(n);if(Ll(n))return function Jn(n){return new dt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Il(n))return function Uu(n){return nf(au(n))}(n)}throw Mo(n)}function nf(n){return new dt(e=>{(function Wo(n,e){var t,r,i,o;return function Ne(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(p){s(p)}}function u(f){try{c(r.throw(f))}catch(p){s(p)}}function c(f){f.done?o(f.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(f.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Mn(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function rl(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Uo(n,e,t=1/0){return T(e)?Uo((r,i)=>En((o,s)=>e(r,o,i,s))(fs(n(r,i))),t):("number"==typeof e&&(t=e),Un((r,i)=>function go(n,e,t,r,i,o,s,a){const u=[];let c=0,f=0,p=!1;const g=()=>{p&&!u.length&&!c&&e.complete()},y=M=>c<r?w(M):u.push(M),w=M=>{o&&e.next(M),c++;let C=!1;fs(t(M,f++)).subscribe(kn(e,I=>{null==i||i(I),o?y(I):e.next(I)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;u.length&&c<r;){const I=u.shift();s?rl(e,s,()=>w(I)):w(I)}g()}catch(I){e.error(I)}}))};return n.subscribe(kn(e,y,()=>{p=!0,g()})),()=>{null==a||a()}}(r,i,n,t)))}function So(n=1/0){return Uo(Pt,n)}const vo=new dt(n=>n.complete());function bi(n){return n&&T(n.schedule)}function Fs(n){return n[n.length-1]}function za(n){return T(Fs(n))?n.pop():void 0}function Ua(n){return bi(Fs(n))?n.pop():void 0}function sf(n,e=0){return Un((t,r)=>{t.subscribe(kn(r,i=>rl(r,n,()=>r.next(i),e),()=>rl(r,n,()=>r.complete(),e),i=>rl(r,n,()=>r.error(i),e)))})}function lu(n,e=0){return Un((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Wu(n,e){if(!n)throw new Error("Iterable cannot be null");return new dt(t=>{rl(t,e,()=>{const r=n[Symbol.asyncIterator]();rl(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function $o(n,e){return e?function uh(n,e){if(null!=n){if(ia(n))return function xo(n,e){return fs(n).pipe(lu(e),sf(e))}(n,e);if(kl(n))return function af(n,e){return new dt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Gi(n))return function ju(n,e){return fs(n).pipe(lu(e),sf(e))}(n,e);if(oa(n))return Wu(n,e);if(Ll(n))return function uu(n,e){return new dt(t=>{let r;return rl(t,e,()=>{r=n[$i](),rl(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>T(null==r?void 0:r.return)&&r.return()})}(n,e);if(Il(n))return function lf(n,e){return Wu(au(n),e)}(n,e)}throw Mo(n)}(n,e):fs(n)}function wc(...n){const e=Ua(n),t=function rf(n,e){return"number"==typeof Fs(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?fs(r[0]):So(t)($o(r,e)):vo}function uf(n={}){const{connector:e=(()=>new Nt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,f=!1,p=!1;const g=()=>{null==a||a.unsubscribe(),a=void 0},y=()=>{g(),s=u=void 0,f=p=!1},w=()=>{const M=s;y(),null==M||M.unsubscribe()};return Un((M,C)=>{c++,!p&&!f&&g();const I=u=null!=u?u:e();C.add(()=>{c--,0===c&&!p&&!f&&(a=Yu(w,i))}),I.subscribe(C),!s&&c>0&&(s=new mt({next:B=>I.next(B),error:B=>{p=!0,g(),a=Yu(y,t,B),I.error(B)},complete:()=>{f=!0,g(),a=Yu(y,r),I.complete()}}),fs(M).subscribe(s))})(o)}}function Yu(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new mt({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function qi(n){for(let e in n)if(n[e]===qi)return e;throw Error("Could not find renamed property on target object.")}function Pl(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Co(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Co).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function cf(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const fp=qi({__forward_ref__:qi});function no(n){return n.__forward_ref__=no,n.toString=function(){return Co(this())},n}function Vr(n){return Mc(n)?n():n}function Mc(n){return"function"==typeof n&&n.hasOwnProperty(fp)&&n.__forward_ref__===no}class sn extends Error{constructor(e,t){super(function ol(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Kr(n){return"string"==typeof n?n:null==n?"":String(n)}function Nl(n,e){throw new sn(-201,!1)}function $s(n,e){null==n&&function Pi(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function hn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ni(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ar(n){return Et(n,ys)||Et(n,hs)}function Et(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ni(n){return n&&(n.hasOwnProperty(_s)||n.hasOwnProperty(dd))?n[_s]:null}const ys=qi({\u0275prov:qi}),_s=qi({\u0275inj:qi}),hs=qi({ngInjectableDef:qi}),dd=qi({ngInjectorDef:qi});var ur=(()=>((ur=ur||{})[ur.Default=0]="Default",ur[ur.Host=1]="Host",ur[ur.Self=2]="Self",ur[ur.SkipSelf=4]="SkipSelf",ur[ur.Optional=8]="Optional",ur))();let fd;function Hs(n){const e=fd;return fd=n,e}function Xo(n,e,t){const r=Ar(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ur.Optional?null:void 0!==e?e:void Nl(Co(n))}function ja(n){return{toString:n}.toString()}var du=(()=>((du=du||{})[du.OnPush=0]="OnPush",du[du.Default=1]="Default",du))(),fu=(()=>{return(n=fu||(fu={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",fu;var n})();const Eo=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),dh={},Fi=[],cg=qi({\u0275cmp:qi}),_p=qi({\u0275dir:qi}),xy=qi({\u0275pipe:qi}),Ow=qi({\u0275mod:qi}),Gu=qi({\u0275fac:qi}),Hl=qi({__NG_ELEMENT_ID__:qi});let xc=0;function li(n){return ja(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===du.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Fi,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||fu.Emulated,id:"c"+xc++,styles:n.styles||Fi,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=Lw(n.inputs,r),i.outputs=Lw(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(kw).filter(Cy):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(ps).filter(Cy):null,i})}function kw(n){return zi(n)||To(n)}function Cy(n){return null!==n}function pi(n){return ja(()=>({type:n.type,bootstrap:n.bootstrap||Fi,declarations:n.declarations||Fi,imports:n.imports||Fi,exports:n.exports||Fi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Lw(n,e){if(null==n)return dh;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const Ln=li;function zi(n){return n[cg]||null}function To(n){return n[_p]||null}function ps(n){return n[xy]||null}function Er(n,e){const t=n[Ow]||null;if(!t&&!0===e)throw new Error(`Type ${Co(n)} does not have '\u0275mod' property.`);return t}function Ca(n){return Array.isArray(n)&&"object"==typeof n[1]}function ll(n){return Array.isArray(n)&&!0===n[1]}function Ku(n){return 0!=(8&n.flags)}function hh(n){return 2==(2&n.flags)}function mf(n){return 1==(1&n.flags)}function xl(n){return null!==n.template}function pd(n){return 0!=(256&n[2])}function gd(n,e){return n.hasOwnProperty(Gu)?n[Gu]:null}class Wx{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Rs(){return $r}function $r(n){return n.type.prototype.ngOnChanges&&(n.setInput=fg),Dy}function Dy(){const n=Ul(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===dh)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function fg(n,e,t,r){const i=Ul(n)||function mu(n,e){return n[Fw]=e}(n,{previous:dh,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],u=s[a];o[a]=new Wx(u&&u.currentValue,e,s===dh),n[r]=e}Rs.ngInherit=!0;const Fw="__ngSimpleChanges__";function Ul(n){return n[Fw]||null}function Qo(n){for(;Array.isArray(n);)n=n[0];return n}function Po(n,e){return Qo(e[n])}function sa(n,e){return Qo(e[n.index])}function vf(n,e){return n.data[e]}function Wa(n,e){const t=e[n];return Ca(t)?t:t[0]}function pg(n){return 4==(4&n[2])}function cr(n){return 64==(64&n[2])}function co(n,e){return null==e?null:n[e]}function Mp(n){n[18]=0}function Xr(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Qr={lFrame:Rp(null),bindingsEnabled:!0};function _d(){return Qr.bindingsEnabled}function dn(){return Qr.lFrame.lView}function ro(){return Qr.lFrame.tView}function bd(n){return Qr.lFrame.contextLView=n,n[8]}function Wl(n){return Qr.lFrame.contextLView=null,n}function Xs(){let n=El();for(;null!==n&&64===n.type;)n=n.parent;return n}function El(){return Qr.lFrame.currentTNode}function Ya(n,e){const t=Qr.lFrame;t.currentTNode=n,t.isParent=e}function Ga(){return Qr.lFrame.isParent}function Oc(){Qr.lFrame.isParent=!1}function ul(){return Qr.lFrame.bindingIndex++}function gg(n,e){const t=Qr.lFrame;t.bindingIndex=t.bindingRootIndex=n,yh(e)}function yh(n){Qr.lFrame.currentDirectiveIndex=n}function Tl(n){const e=Qr.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function _h(){return Qr.lFrame.currentQueryIndex}function bh(n){Qr.lFrame.currentQueryIndex=n}function Iy(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Tp(n,e,t){if(t&ur.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&ur.Host||(i=Iy(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=Qr.lFrame=Hw();return r.currentTNode=e,r.lView=n,!0}function ln(n){const e=Hw(),t=n[1];Qr.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Hw(){const n=Qr.lFrame,e=null===n?null:n.child;return null===e?Rp(n):e}function Rp(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Ic(){const n=Qr.lFrame;return Qr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ui=Ic;function Ds(){const n=Ic();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $a(){return Qr.lFrame.selectedIndex}function As(n){Qr.lFrame.selectedIndex=n}function No(){const n=Qr.lFrame;return vf(n.tView,n.selectedIndex)}function os(){Qr.lFrame.currentNamespace="svg"}function Pc(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:f}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(t,f)}}function qu(n,e,t){Dp(n,e,3,t)}function wf(n,e,t,r){(3&n[2])===t&&Dp(n,e,t,r)}function wd(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Dp(n,e,t,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<o||-1==o)&&(Gx(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function Gx(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Rl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function bg(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];Vw(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Bw(n){return 3===n||4===n||6===n}function Vw(n){return 64===n.charCodeAt(0)}function Ju(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||zw(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function zw(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Uw(n){return-1!==n}function Mh(n){return 32767&n}function Sh(n,e){let t=function qx(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Hy=!0;function wg(n){const e=Hy;return Hy=n,e}let Jx=0;const ec={};function Op(n,e){const t=kp(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,By(r.data,n),By(e,null),By(r.blueprint,null));const i=Nc(n,e),o=n.injectorIndex;if(Uw(i)){const s=Mh(i),a=Sh(i,e),u=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function By(n,e){n.push(0,0,0,0,0,0,0,0,e)}function kp(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Nc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=bR(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Sf(n,e,t){!function Qx(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Hl)&&(r=t[Hl]),null==r&&(r=t[Hl]=Jx++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function E(n,e,t){if(t&ur.Optional)return n;Nl()}function P(n,e,t,r){if(t&ur.Optional&&void 0===r&&(r=null),0==(t&(ur.Self|ur.Host))){const i=n[9],o=Hs(void 0);try{return i?i.get(e,r,t&ur.Optional):Xo(e,r,t&ur.Optional)}finally{Hs(o)}}return E(r,0,t)}function Z(n,e,t,r=ur.Default,i){if(null!==n){if(1024&e[2]){const s=function $N(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=le(o,s,t,r|ur.Self,ec);if(a!==ec)return a;let u=o.parent;if(!u){const c=s[21];if(c){const f=c.get(t,ec,r);if(f!==ec)return f}u=bR(s),s=s[15]}o=u}return i}(n,e,t,r,ec);if(s!==ec)return s}const o=le(n,e,t,r,ec);if(o!==ec)return o}return P(e,t,r,i)}function le(n,e,t,r,i){const o=function Ur(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Hl)?n[Hl]:void 0;return"number"==typeof e?e>=0?255&e:Fc:e}(t);if("function"==typeof o){if(!Tp(e,n,r))return r&ur.Host?E(i,0,r):P(e,t,r,i);try{const s=o(r);if(null!=s||r&ur.Optional)return s;Nl()}finally{Ui()}}else if("number"==typeof o){let s=null,a=kp(n,e),u=-1,c=r&ur.Host?e[16][6]:null;for((-1===a||r&ur.SkipSelf)&&(u=-1===a?Nc(n,e):e[a+8],-1!==u&&Fo(r,!1)?(s=e[1],a=Mh(u),e=Sh(u,e)):a=-1);-1!==a;){const f=e[1];if(Di(o,a,f.data)){const p=ve(a,e,t,s,r,c);if(p!==ec)return p}u=e[a+8],-1!==u&&Fo(r,e[1].data[a+8]===c)&&Di(o,a,e)?(s=f,a=Mh(u),e=Sh(u,e)):a=-1}}return i}function ve(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],f=ct(a,s,t,null==r?hh(a)&&Hy:r!=s&&0!=(3&a.type),i&ur.Host&&o===a);return null!==f?Qt(e,s,f,a):ec}function ct(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,f=o>>20,g=i?a+f:n.directiveEnd;for(let y=r?a:a+f;y<g;y++){const w=s[y];if(y<u&&t===w||y>=u&&w.type===t)return y}if(i){const y=s[u];if(y&&xl(y)&&y.type===t)return u}return null}function Qt(n,e,t,r){let i=n[t];const o=e.data;if(function $x(n){return n instanceof Rl}(i)){const s=i;s.resolving&&function ud(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new sn(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ki(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Kr(n)}(o[t]));const a=wg(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Hs(s.injectImpl):null;Tp(n,r,ur.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function _g(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=$r(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==u&&Hs(u),wg(a),s.resolving=!1,Ui()}}return i}function Di(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Fo(n,e){return!(n&ur.Self||n&ur.Host&&e)}class js{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Z(this._tNode,this._lView,e,r,t)}}function Fc(){return new js(Xs(),dn())}function Li(n){return ja(()=>{const e=n.prototype.constructor,t=e[Gu]||eC(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Gu]||eC(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function eC(n){return Mc(n)?()=>{const e=eC(Vr(n));return e&&e()}:gd(n)}function bR(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function xh(n){return function ao(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Bw(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Xs(),n)}const Sg="__parameters__";function Cg(n,e,t){return ja(()=>{const r=function tC(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,f){const p=u.hasOwnProperty(Sg)?u[Sg]:Object.defineProperty(u,Sg,{value:[]})[Sg];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Tn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=hn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yu(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),yu(r,e)):e!==n&&e.push(r)}return e}function xf(n,e){n.forEach(t=>Array.isArray(t)?xf(t,e):e(t))}function MR(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function jw(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Uy(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function _u(n,e,t){let r=Eg(n,e);return r>=0?n[1|r]=t:(r=~r,function qN(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function rC(n,e){const t=Eg(n,e);if(t>=0)return n[1|t]}function Eg(n,e){return function CR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const jy={},oC="__NG_DI_FLAG__",Yw="ngTempTokenPath",s2=/\n/gm,ER="__source";let Wy;function Tg(n){const e=Wy;return Wy=n,e}function l2(n,e=ur.Default){if(void 0===Wy)throw new sn(-203,!1);return null===Wy?Xo(n,void 0,e):Wy.get(n,e&ur.Optional?null:void 0,e)}function wt(n,e=ur.Default){return(function yp(){return fd}()||l2)(Vr(n),e)}function ms(n,e=ur.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),wt(n,e)}function sC(n){const e=[];for(let t=0;t<n.length;t++){const r=Vr(n[t]);if(Array.isArray(r)){if(0===r.length)throw new sn(900,!1);let i,o=ur.Default;for(let s=0;s<r.length;s++){const a=r[s],u=u2(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(wt(i,o))}else e.push(wt(r))}return e}function Yy(n,e){return n[oC]=e,n.prototype[oC]=e,n}function u2(n){return n[oC]}const Ch=Yy(Cg("Optional"),8),Rg=Yy(Cg("SkipSelf"),4);let lC,Ag;function Og(n){var e;return(null===(e=function Kw(){if(void 0===Ag&&(Ag=null,Eo.trustedTypes))try{Ag=Eo.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ag}())||void 0===e?void 0:e.createHTML(n))||n}class Ta{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class bu extends Ta{getTypeName(){return"HTML"}}class PR extends Ta{getTypeName(){return"Style"}}class S2 extends Ta{getTypeName(){return"Script"}}class x2 extends Ta{getTypeName(){return"URL"}}class C2 extends Ta{getTypeName(){return"ResourceURL"}}function wu(n){return n instanceof Ta?n.changingThisBreaksApplicationSecurity:n}function Md(n,e){const t=function E2(n){return n instanceof Ta&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class k2{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Og(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class L2{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Og(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Og(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const s=t.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const P2=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,N2=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ky(n){return(n=String(n)).match(P2)||n.match(N2)?n:"unsafe:"+n}function Sd(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Zy(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const HR=Sd("area,br,col,hr,img,wbr"),BR=Sd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),VR=Sd("rp,rt"),dC=Zy(HR,Zy(BR,Sd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zy(VR,Sd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zy(VR,BR)),fC=Sd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hC=Sd("srcset"),pC=Zy(fC,hC,Sd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mC=Sd("script,style,template");class zR{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!dC.hasOwnProperty(t))return this.sanitizedSomething=!0,!mC.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!pC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;fC[a]&&(u=Ky(u)),hC[a]&&(n=u,u=(n=String(n)).split(",").map(e=>Ky(e.trim())).join(", ")),this.buf.push(" ",s,'="',gC(u),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();dC.hasOwnProperty(t)&&!HR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(gC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const H2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Eh=/([^\#-~ |!])/g;function gC(n){return n.replace(/&/g,"&amp;").replace(H2,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Eh,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qw;function UR(n,e){let t=null;try{qw=qw||function NR(n){const e=new L2(n);return function I2(){try{return!!(new window.DOMParser).parseFromString(Og(""),"text/html")}catch(n){return!1}}()?new k2(e):e}(n);let r=e?String(e):"";t=qw.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=qw.getInertBodyElement(r)}while(r!==o);return Og((new zR).sanitizeChildren(Jw(t)||t))}finally{if(t){const r=Jw(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Jw(n){return"content"in n&&function jR(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var fo=(()=>((fo=fo||{})[fo.NONE=0]="NONE",fo[fo.HTML=1]="HTML",fo[fo.STYLE=2]="STYLE",fo[fo.SCRIPT=3]="SCRIPT",fo[fo.URL=4]="URL",fo[fo.RESOURCE_URL=5]="RESOURCE_URL",fo))();const yC=new Tn("ENVIRONMENT_INITIALIZER"),_C=new Tn("INJECTOR",-1),XR=new Tn("INJECTOR_DEF_TYPES");class bC{get(e,t=jy){if(t===jy){const r=new Error(`NullInjectorError: No provider for ${Co(e)}!`);throw r.name="NullInjectorError",r}return t}}function KR(...n){return{\u0275providers:ZR(0,n)}}function ZR(n,...e){const t=[],r=new Set;let i;return xf(e,o=>{const s=o;wC(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&qR(i,t),t}function qR(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];xf(i,o=>{e.push(o)})}}function wC(n,e,t,r){if(!(n=Vr(n)))return!1;let i=null,o=Ni(n);const s=!o&&zi(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=Ni(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)wC(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{xf(o.imports,f=>{wC(f,e,t,r)&&(c||(c=[]),c.push(f))})}finally{}void 0!==c&&qR(c,e)}if(!a){const c=gd(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Fi},{provide:XR,useValue:i,multi:!0},{provide:yC,useValue:()=>wt(i),multi:!0})}const u=o.providers;null==u||a||xf(u,f=>{e.push(f)})}}return i!==n&&void 0!==n.providers}const j2=qi({provide:String,useValue:qi});function MC(n){return null!==n&&"object"==typeof n&&j2 in n}function Ip(n){return"function"==typeof n}const SC=new Tn("Set Injector scope."),Qw={},W2={};let xC;function e0(){return void 0===xC&&(xC=new bC),xC}class Th{}class CC extends Th{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lg(e,s=>this.processProvider(s)),this.records.set(_C,kg(void 0,this)),i.has("environment")&&this.records.set(Th,kg(void 0,this));const o=this.records.get(SC);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(XR.multi,Fi,ur.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Tg(this),r=Hs(void 0);try{return e()}finally{Tg(t),Hs(r)}}get(e,t=jy,r=ur.Default){this.assertNotDestroyed();const i=Tg(this),o=Hs(void 0);try{if(!(r&ur.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function G2(n){return"function"==typeof n||"object"==typeof n&&n instanceof Tn}(e)&&Ar(e);a=u&&this.injectableDefInScope(u)?kg(EC(e),Qw):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ur.Self?e0():this.parent).get(e,t=r&ur.Optional&&t===jy?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Yw]=s[Yw]||[]).unshift(Co(e)),i)throw s;return function c2(n,e,t,r){const i=n[Yw];throw e[ER]&&i.unshift(e[ER]),n.message=function d2(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Co(e);if(Array.isArray(e))i=e.map(Co).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Co(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(s2,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Yw]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Hs(o),Tg(i)}}resolveInjectorInitializers(){const e=Tg(this),t=Hs(void 0);try{const r=this.get(yC.multi,Fi,ur.Self);for(const i of r)i()}finally{Tg(e),Hs(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Co(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new sn(205,!1)}processProvider(e){let t=Ip(e=Vr(e))?e:Vr(e&&e.provide);const r=function n0(n){return MC(n)?kg(void 0,n.useValue):kg(tD(n),Qw)}(e);if(Ip(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=kg(void 0,Qw,!0),i.factory=()=>sC(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Qw&&(t.value=W2,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Y2(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Vr(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function EC(n){const e=Ar(n),t=null!==e?e.factory:gd(n);if(null!==t)return t;if(n instanceof Tn)throw new sn(204,!1);if(n instanceof Function)return function t0(n){const e=n.length;if(e>0)throw Uy(e,"?"),new sn(204,!1);const t=function mn(n){const e=n&&(n[ys]||n[hs]);if(e){const t=function Zn(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new sn(204,!1)}function tD(n,e,t){let r;if(Ip(n)){const i=Vr(n);return gd(i)||EC(i)}if(MC(n))r=()=>Vr(n.useValue);else if(function QR(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...sC(n.deps||[]));else if(function JR(n){return!(!n||!n.useExisting)}(n))r=()=>wt(Vr(n.useExisting));else{const i=Vr(n&&(n.useClass||n.provide));if(!function nD(n){return!!n.deps}(n))return gd(i)||EC(i);r=()=>new i(...sC(n.deps))}return r}function kg(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function rD(n){return!!n.\u0275providers}function Lg(n,e){for(const t of n)Array.isArray(t)?Lg(t,e):rD(t)?Lg(t.\u0275providers,e):e(t)}class Ig{}class Zo{resolveComponentFactory(e){throw function iD(n){const e=Error(`No component factory found for ${Co(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Rh=(()=>{class n{}return n.NULL=new Zo,n})();function Qy(){return xd(Xs(),dn())}function xd(n,e){return new gi(sa(n,e))}let gi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Qy,n})();function Gl(n){return n instanceof gi?n.nativeElement:n}class nc{}let rc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ng(){const n=dn(),t=Wa(Xs().index,n);return(Ca(t)?t:n)[11]}(),n})(),e_=(()=>{class n{}return n.\u0275prov=hn({token:n,providedIn:"root",factory:()=>null}),n})();class ic{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Fg=new ic("14.1.3"),Dh={};function Np(n){return n.ngOriginalError}class Cd{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Np(e);for(;t&&Np(t);)t=Np(t);return t||null}}const d0=new Map;let dD=0;const Cf="__ngContext__";function Ka(n,e){Ca(e)?(n[Cf]=e[20],function IC(n){d0.set(n[20],n)}(e)):n[Cf]=e}function Fp(n){const e=n[Cf];return"number"==typeof e?function o_(n){return d0.get(n)||null}(e):e||null}function Bg(n){const e=Fp(n);return e?Ca(e)?e:e.lView:null}const g0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Eo))();function Ef(n){return n.ownerDocument.defaultView}function Bc(n){return n instanceof Function?n():n}var $l=(()=>(($l=$l||{})[$l.Important=1]="Important",$l[$l.DashCase=2]="DashCase",$l))();function BC(n,e){return undefined(n,e)}function s_(n){const e=n[3];return ll(e)?e[3]:e}function VC(n){return w0(n[13])}function zC(n){return w0(n[4])}function w0(n){for(;null!==n&&!ll(n);)n=n[4];return n}function Vc(n,e,t,r,i){if(null!=r){let o,s=!1;ll(r)?o=r:Ca(r)&&(s=!0,r=r[0]);const a=Qo(r);0===n&&null!==t?null==i?bD(e,t,a):Bp(e,t,a,i||null,!0):1===n&&null!==t?Bp(e,t,a,i||null,!0):2===n?function fl(n,e,t){const r=Td(n,e);r&&function T0(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function A0(n,e,t,r,i){const o=t[7];o!==Qo(t)&&Vc(e,n,r,o,i);for(let a=10;a<t.length;a++){const u=t[a];Rd(u[1],u,n,e,r,o)}}(e,n,o,t,i)}}function S0(n,e,t){return n.createElement(e,t)}function jC(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Xr(i,-1)),t.splice(r,1)}function Hp(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&jC(i,r),e>0&&(n[t-1][4]=r[4]);const o=jw(n,10+e);!function x0(n,e){Rd(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function E0(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Rd(n,e,t,3,null,null),function a_(n){let e=n[13];if(!e)return WC(n[1],n);for(;e;){let t=null;if(Ca(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ca(e)&&WC(e[1],e),e=e[3];null===e&&(e=n),Ca(e)&&WC(e[1],e),t=e&&e[4]}e=t}}(e)}}function WC(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function _D(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Rl)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function Df(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):Qo(e[s]),u=r[i=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&ll(e[3])){t!==e[3]&&jC(t,e);const r=e[19];null!==r&&r.detachView(n)}!function Hc(n){d0.delete(n[20])}(e)}}function YC(n,e,t){return function Ed(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===fu.None||i===fu.Emulated)return null}return sa(r,t)}(n,e.parent,t)}function Bp(n,e,t,r,i){n.insertBefore(e,t,r,i)}function bD(n,e,t){n.appendChild(e,t)}function l_(n,e,t,r,i){null!==r?Bp(n,e,t,r,i):bD(n,e,t)}function Td(n,e){return n.parentNode(e)}function Ug(n,e,t){return jg(n,e,t)}let jg=function wD(n,e,t){return 40&n.type?sa(n,t):null};function Vp(n,e,t,r){const i=YC(n,r,e),o=e[11],a=Ug(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)l_(o,i,t[u],a,!1);else l_(o,i,t,a,!1)}function zp(n,e){if(null!==e){const t=e.type;if(3&t)return sa(e,n);if(4&t)return d_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return zp(n,r);{const i=n[e.index];return ll(i)?d_(-1,i):Qo(i)}}if(32&t)return BC(e,n)()||Qo(n[e.index]);{const r=c_(n,e);return null!==r?Array.isArray(r)?r[0]:zp(s_(n[16]),r):zp(n,e.next)}}return null}function c_(n,e){return null!==e?n[16][6].projection[e.projection]:null}function d_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return zp(r,i)}return e[7]}function f_(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Ka(Qo(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)f_(n,e,t.child,r,i,o,!1),Vc(e,n,i,a,o);else if(32&u){const c=BC(t,r);let f;for(;f=c();)Vc(e,n,i,f,o);Vc(e,n,i,a,o)}else 16&u?Af(n,e,r,t,i,o):Vc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Rd(n,e,t,r,i,o){f_(t,r,n.firstChild,e,i,o,!1)}function Af(n,e,t,r,i,o){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Vc(e,n,i,u[c],o);else f_(n,e,u,s[3],i,o,!0)}function O0(n,e,t){n.setAttribute(e,"style",t)}function h_(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function k0(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const SD="ng-template";function gs(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==k0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Xl(n){return 4===n.type&&n.value!==SD}function L0(n,e,t){return e===(4!==n.type||t?n.value:SD)}function p_(n,e,t){let r=4;const i=n.attrs||[],o=function m_(n){for(let e=0;e<n.length;e++)if(Bw(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!L0(n,u,t)||""===u&&1===e.length){if(Kl(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!gs(n.attrs,c,t)){if(Kl(r))return!1;s=!0}continue}const p=zc(8&r?"class":u,i,Xl(n),t);if(-1===p){if(Kl(r))return!1;s=!0;continue}if(""!==c){let g;g=p>o?"":i[p+1].toLowerCase();const y=8&r?g:null;if(y&&-1!==k0(y,c,0)||2&r&&c!==g){if(Kl(r))return!1;s=!0}}}}else{if(!s&&!Kl(r)&&!Kl(u))return!1;if(s&&Kl(u))continue;s=!1,r=u|1&r}}return Kl(r)||s}function Kl(n){return 0==(1&n)}function zc(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function I0(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Ah(n,e,t=!1){for(let r=0;r<e.length;r++)if(p_(n,e[r],t))return!0;return!1}function Yg(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Oh(n,e){return n?":not("+e.trim()+")":e}function g_(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Kl(s)&&(e+=Oh(o,i),i=""),r=s,o=o||!Kl(r);t++}return""!==i&&(e+=Oh(o,i)),e}const Mi={};function or(n){P0(ro(),dn(),$a()+n,!1)}function P0(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&qu(e,o,t)}else{const o=n.preOrderHooks;null!==o&&wf(e,o,0,t)}As(t)}function y_(n,e=null,t=null,r){const i=hl(n,e,t,r);return i.resolveInjectorInitializers(),i}function hl(n,e=null,t=null,r,i=new Set){const o=[t||Fi,KR(n)];return r=r||("object"==typeof n?void 0:Co(n)),new CC(o,e||e0(),r||null,i)}let ws=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return y_({name:""},r,t,"");{const o=null!==(i=t.name)&&void 0!==i?i:"";return y_({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=jy,n.NULL=new bC,n.\u0275prov=hn({token:n,providedIn:"any",factory:()=>wt(_C)}),n.__NG_ELEMENT_ID__=-1,n})();function De(n,e=ur.Default){const t=dn();return null===t?wt(n,e):Z(Xs(),t,Vr(n),e)}function w_(){throw new Error("invalid")}function M_(n,e){return n<<17|e<<2}function xu(n){return n>>17&32767}function x_(n){return 2|n}function Od(n){return(131068&n)>>2}function C_(n,e){return-131069&n|e<<2}function Y0(n){return 1|n}function YD(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];bh(i),s.contentQueries(2,e[o],o)}}}function Z0(n,e,t,r,i,o,s,a,u,c,f){const p=e.blueprint.slice();return p[0]=i,p[2]=76|r,(null!==f||n&&1024&n[2])&&(p[2]|=1024),Mp(p),p[3]=p[15]=n,p[8]=t,p[10]=s||n&&n[10],p[11]=a||n&&n[11],p[12]=u||n&&n[12]||null,p[9]=c||n&&n[9]||null,p[6]=o,p[20]=function fD(){return dD++}(),p[21]=f,p[16]=2==e.type?n[16]:p,p}function Jg(n,e,t,r,i){let o=n.data[e];if(null===o)o=function aE(n,e,t,r,i){const o=El(),s=Ga(),u=n.data[e]=function _F(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(n,e,t,r,i),function Ly(){return Qr.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function _f(){const n=Qr.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ya(o,!0),o}function Qg(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function q0(n,e,t){ln(e);try{const r=n.viewQuery;null!==r&&Ih(1,r,t);const i=n.template;null!==i&&Za(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&YD(n,e),n.staticViewQueries&&Ih(2,n.viewQuery,t);const o=n.components;null!==o&&function yF(n,e){for(let t=0;t<e.length;t++)xF(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Ds()}}function R_(n,e,t,r){const i=e[2];if(128!=(128&i)){ln(e);try{Mp(e),function Lc(n){return Qr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Za(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&qu(e,c,null)}else{const c=n.preOrderHooks;null!==c&&wf(e,c,0,null),wd(e,0)}if(function Ks(n){for(let e=VC(n);null!==e;e=zC(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&Xr(o,1),i[2]|=512}}}(e),function SF(n){for(let e=VC(n);null!==e;e=zC(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];cr(r)&&R_(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&YD(n,e),s){const c=n.contentCheckHooks;null!==c&&qu(e,c)}else{const c=n.contentHooks;null!==c&&wf(e,c,1),wd(e,1)}!function oE(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)As(~i);else{const o=i,s=t[++r],a=t[++r];gg(s,o),a(2,e[o])}}}finally{As(-1)}}(n,e);const a=n.components;null!==a&&function sE(n,e){for(let t=0;t<e.length;t++)nM(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Ih(2,u,r),s){const c=n.viewCheckHooks;null!==c&&qu(e,c)}else{const c=n.viewHooks;null!==c&&wf(e,c,2),wd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Xr(e[3],-1))}finally{Ds()}}}function GD(n,e,t,r){const i=e[10],s=pg(e);try{!s&&i.begin&&i.begin(),s&&q0(n,e,r),R_(n,e,t,r)}finally{!s&&i.end&&i.end()}}function Za(n,e,t,r,i){const o=$a(),s=2&r;try{As(-1),s&&e.length>22&&P0(n,e,22,!1),t(r,i)}finally{As(o)}}function lE(n,e,t){if(Ku(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function uE(n,e,t){!_d()||(function hE(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||Op(t,e),Ka(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=xl(u);c&&wF(e,t,u);const f=Qt(e,n,a,t);Ka(f,e),null!==s&&rA(0,a-i,f,u,0,s),c&&(Wa(t.index,e)[8]=f)}}(n,e,t,sa(t,e)),128==(128&t.flags)&&function JD(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function vg(){return Qr.lFrame.currentDirectiveIndex}();try{As(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];yh(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&pE(u,c)}}finally{As(-1),yh(s)}}(n,e,t))}function J0(n,e,t=sa){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function D_(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=A_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function A_(n,e,t,r,i,o,s,a,u,c){const f=22+r,p=f+i,g=function cE(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Mi);return t}(f,p),y="function"==typeof c?c():c;return g[1]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function Q0(n,e,t,r){const i=_E(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&bE(n).push(r,i.length-1))}function KD(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function dE(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const f=i[c],p=f.inputs,g=null===o||Xl(e)?null:MF(p,o);s.push(g),a=KD(p,c,a),u=KD(f.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=u}function ql(n,e,t,r,i,o,s,a){const u=sa(e,t);let f,c=e.inputs;!a&&null!=c&&(f=c[r])?(Lf(n,t,f,r,i),hh(e)&&O_(t,e.index)):3&e.type&&(r=function ev(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}function O_(n,e){const t=Wa(e,n);16&t[2]||(t[2]|=32)}function fE(n,e,t,r){let i=!1;if(_d()){const o=function bF(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Ah(t,s.selectors,!1)&&(i||(i=[]),Sf(Op(t,e),n,s.type),xl(s)?(QD(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,nA(t,n.data.length,o.length);for(let f=0;f<o.length;f++){const p=o[f];p.providersResolver&&p.providersResolver(p)}let a=!1,u=!1,c=Qg(n,e,o.length,null);for(let f=0;f<o.length;f++){const p=o[f];t.mergedAttrs=Ju(t.mergedAttrs,p.hostAttrs),mE(n,t,e,c,p),tA(c,p,s),null!==p.contentQueries&&(t.flags|=8),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=128);const g=p.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),c++}dE(n,t)}s&&function eA(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new sn(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=Ju(t.mergedAttrs,t.attrs),i}function kf(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function tM(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function pE(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function QD(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function tA(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;xl(e)&&(t[""]=n)}}function nA(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function mE(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=gd(i.type)),s=new Rl(o,xl(i),De);n.blueprint[r]=s,t[r]=s,kf(n,e,0,r,Qg(n,t,i.hostVars,Mi),i)}function wF(n,e,t){const r=sa(e,n),i=D_(t),o=n[10],s=k_(n,Z0(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}function jc(n,e,t,r,i,o){const s=sa(n,e);!function tv(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Kr(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function rA(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const c=s[u++],f=s[u++],p=s[u++];null!==a?r.setInput(t,p,c,f):t[f]=p}}}function MF(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Os(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function nM(n,e){const t=Wa(e,n);if(cr(t)){const r=t[1];48&t[2]?R_(r,t,r.template,t[8]):t[5]>0&&rM(t)}}function rM(n){for(let r=VC(n);null!==r;r=zC(r))for(let i=10;i<r.length;i++){const o=r[i];if(cr(o))if(512&o[2]){const s=o[1];R_(s,o,s.template,o[8])}else o[5]>0&&rM(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Wa(t[r],n);cr(i)&&i[5]>0&&rM(i)}}function xF(n,e){const t=Wa(e,n),r=t[1];(function CF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),q0(r,t,t[8])}function k_(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function nv(n){for(;n;){n[2]|=32;const e=s_(n);if(pd(n)&&!e)return n;n=e}return null}function yE(n){!function iA(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Bg(t);if(null!==r){const i=r[1];GD(i,r,i.template,t)}}}(n[8])}function Ih(n,e,t){bh(0),e(n,t)}const kd=(()=>Promise.resolve(null))();function _E(n){return n[7]||(n[7]=[])}function bE(n){return n.cleanup||(n.cleanup=[])}function $p(n,e,t){return(null===n||xl(n))&&(t=function Ko(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function Wc(n,e){const t=n[9],r=t?t.get(Cd,null):null;r&&r.handleError(e)}function Lf(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],u=e[s],c=n.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function rv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=cf(i,a):2==o&&(r=cf(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ph(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(Qo(o)),ll(o))for(let a=10;a<o.length;a++){const u=o[a],c=u[1].firstChild;null!==c&&Ph(u[1],u,c,r)}const s=t.type;if(8&s)Ph(n,e,t.child,r);else if(32&s){const a=BC(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=c_(e,t);if(Array.isArray(a))r.push(...a);else{const u=s_(e[16]);Ph(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class iv{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ph(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ll(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Hp(e,r),jw(t,r))}this._attachedToViewContainer=!1}E0(this._lView[1],this._lView)}onDestroy(e){Q0(this._lView[1],this._lView,null,e)}markForCheck(){nv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function iM(n,e,t){const r=e[10];r.begin&&r.begin();try{R_(n,e,n.template,t)}catch(i){throw Wc(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new sn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Q2(n,e){Rd(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new sn(902,!1);this._appRef=e}}class oM extends iv{constructor(e){super(e),this._view=e}detectChanges(){yE(this._view)}checkNoChanges(){}get context(){return null}}class sM extends Rh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=zi(e);return new sv(t,this.ngModule)}}function aM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class ov{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,Dh,r);return i!==Dh||t===Dh?i:this.parentInjector.get(e,t,r)}}class sv extends Ig{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function v_(n){return n.map(g_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return aM(this.componentDef.inputs)}get outputs(){return aM(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Th?i:null==i?void 0:i.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new ov(e,o):e,a=s.get(nc,null);if(null===a)throw new sn(407,!1);const u=s.get(e_,null),c=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function XD(n,e,t){return n.selectRootElement(e,t===fu.ShadowDom)}(c,r,this.componentDef.encapsulation):S0(a.createRenderer(null,this.componentDef),f,function Xp(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),g=this.componentDef.onPush?288:272,y=function TF(n,e){return{components:[],scheduler:n||g0,clean:kd,playerHandler:e||null,flags:0}}(),w=A_(0,null,null,1,0,null,null,null,null,null),M=Z0(null,w,y,g,null,null,a,c,u,s,null);let C,I;ln(M);try{const B=function sA(n,e,t,r,i,o){const s=t[1];t[22]=n;const u=Jg(s,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(rv(u,c,!0),null!==n&&(bg(i,n,c),null!==u.classes&&h_(i,n,u.classes),null!==u.styles&&O0(i,n,u.styles)));const f=r.createRenderer(n,e),p=Z0(t,D_(e),null,e.onPush?32:16,t[22],u,r,f,o||null,null,null);return s.firstCreatePass&&(Sf(Op(u,t),s,e.type),QD(s,u),nA(u,t.length,1)),k_(t,p),t[22]=p}(p,this.componentDef,M,a,c);if(p)if(r)bg(c,p,["ng-version",Fg.full]);else{const{attrs:U,classes:j}=function tF(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Kl(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);U&&bg(c,p,U),j&&j.length>0&&h_(c,p,j.join(" "))}if(I=vf(w,22),void 0!==t){const U=I.projection=[];for(let j=0;j<this.ngContentSelectors.length;j++){const $=t[j];U.push(null!=$?Array.from($):null)}}C=function lM(n,e,t,r,i){const o=t[1],s=function qD(n,e,t){const r=Xs();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),mE(n,r,e,Qg(n,e,1,null),t),dE(n,r));const i=Qt(e,n,r.directiveStart,r);Ka(i,e);const o=sa(r,e);return o&&Ka(o,e),i}(o,t,e);if(r.components.push(s),n[8]=s,null!==i)for(const u of i)u(s,e);if(e.contentQueries){const u=Xs();e.contentQueries(1,s,u.directiveStart)}const a=Xs();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(As(a.index),kf(t[1],a,0,a.directiveStart,a.directiveEnd,e),pE(e,s)),s}(B,this.componentDef,M,y,[aA]),q0(w,M,null)}finally{Ds()}return new EF(this.componentType,C,xd(I,M),M,I)}}class EF extends class Pp{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new oM(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;Lf(o[1],o,i,e,t),O_(o,this._tNode.index)}}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function aA(){const n=Xs();Pc(dn()[1],n)}function pr(n){let e=function uM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(xl(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new sn(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=wE(n.inputs),s.declaredInputs=wE(n.declaredInputs),s.outputs=wE(n.outputs);const a=i.hostBindings;a&&kF(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&AF(n,u),c&&OF(n,c),Pl(n.inputs,i.inputs),Pl(n.declaredInputs,i.declaredInputs),Pl(n.outputs,i.outputs),xl(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===pr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function DF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ju(i.hostAttrs,t=Ju(t,i.hostAttrs))}}(r)}function wE(n){return n===dh?{}:n===Fi?[]:n}function AF(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function OF(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function kF(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let cM=null;function Kp(){if(!cM){const n=Eo.Symbol;if(n&&n.iterator)cM=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(cM=r)}}}return cM}function L_(n){return!!ME(n)&&(Array.isArray(n)||!(n instanceof Map)&&Kp()in n)}function ME(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function pl(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ss(n,e,t,r){const i=dn();return pl(i,ul(),e)&&(ro(),jc(No(),i,n,e,t,r)),ss}function O(n,e,t,r,i,o,s,a){const u=dn(),c=ro(),f=n+22,p=c.firstCreatePass?function k(n,e,t,r,i,o,s,a,u){const c=e.consts,f=Jg(e,n,4,s||null,co(c,a));fE(e,t,f,co(c,u)),Pc(e,f);const p=f.tViews=A_(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}(f,c,u,e,t,r,i,o,s):c.data[f];Ya(p,!1);const g=u[11].createComment("");Vp(c,u,g,p),Ka(g,u),k_(u,u[f]=Os(g,u,g,p)),mf(p)&&uE(c,u,p),null!=s&&J0(u,p,a)}function H(n){return function yd(n,e){return n[e]}(function Fr(){return Qr.lFrame.contextLView}(),22+n)}function V(n,e,t){const r=dn();return pl(r,ul(),e)&&ql(ro(),No(),r,n,e,r[11],t,!1),V}function W(n,e,t,r,i){const s=i?"class":"style";Lf(n,t,e.inputs[s],s,r)}function G(n,e,t,r){const i=dn(),o=ro(),s=22+n,a=i[11],u=i[s]=S0(a,e,function bf(){return Qr.lFrame.currentNamespace}()),c=o.firstCreatePass?function q(n,e,t,r,i,o,s){const a=e.consts,c=Jg(e,n,2,i,co(a,o));return fE(e,t,c,co(a,s)),null!==c.attrs&&rv(c,c.attrs,!1),null!==c.mergedAttrs&&rv(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];Ya(c,!0);const f=c.mergedAttrs;null!==f&&bg(a,u,f);const p=c.classes;null!==p&&h_(a,u,p);const g=c.styles;return null!==g&&O0(a,u,g),64!=(64&c.flags)&&Vp(o,i,u,c),0===function Sp(){return Qr.lFrame.elementDepthCount}()&&Ka(u,i),function yf(){Qr.lFrame.elementDepthCount++}(),mf(c)&&(uE(o,i,c),lE(o,c,i)),null!==r&&J0(i,c),G}function ne(){let n=Xs();Ga()?Oc():(n=n.parent,Ya(n,!1));const e=n;!function xp(){Qr.lFrame.elementDepthCount--}();const t=ro();return t.firstCreatePass&&(Pc(t,n),Ku(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Kx(n){return 0!=(16&n.flags)}(e)&&W(t,e,dn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Zx(n){return 0!=(32&n.flags)}(e)&&W(t,e,dn(),e.stylesWithoutHost,!1),ne}function ie(n,e,t,r){return G(n,e,t,r),ne(),ie}function Ee(n,e,t){const r=dn(),i=ro(),o=n+22,s=i.firstCreatePass?function X(n,e,t,r,i){const o=e.consts,s=co(o,r),a=Jg(e,n,8,"ng-container",s);return null!==s&&rv(a,s,!0),fE(e,t,a,co(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];Ya(s,!0);const a=r[o]=r[11].createComment("");return Vp(i,r,a,s),Ka(a,r),mf(s)&&(uE(i,r,s),lE(i,s,r)),null!=t&&J0(r,s),Ee}function Me(){let n=Xs();const e=ro();return Ga()?Oc():(n=n.parent,Ya(n,!1)),e.firstCreatePass&&(Pc(e,n),Ku(n)&&e.queries.elementEnd(n)),Me}function _e(){return dn()}function et(n){return!!n&&"function"==typeof n.then}const _t=function At(n){return!!n&&"function"==typeof n.subscribe};function nt(n,e,t,r){const i=dn(),o=ro(),s=Xs();return Bt(o,i,i[11],s,n,e,0,r),nt}function Vt(n,e){const t=Xs(),r=dn(),i=ro();return Bt(i,r,$p(Tl(i.data),t,r),t,n,e),Vt}function Bt(n,e,t,r,i,o,s,a){const u=mf(r),f=n.firstCreatePass&&bE(n),p=e[8],g=_E(e);let y=!0;if(3&r.type||a){const C=sa(r,e),I=a?a(C):C,B=g.length,U=a?$=>a(Qo($[r.index])):r.index;let j=null;if(!a&&u&&(j=function en(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,y=!1;else{o=zt(r,e,p,o,!1);const $=t.listen(I,i,o);g.push(o,$),f&&f.push(i,U,B,B+1)}}else o=zt(r,e,p,o,!1);const w=r.outputs;let M;if(y&&null!==w&&(M=w[i])){const C=M.length;if(C)for(let I=0;I<C;I+=2){const se=e[M[I]][M[I+1]].subscribe(o),ge=g.length;g.push(o,se),f&&f.push(i,r.index,ge,-(ge+1))}}}function Rt(n,e,t,r){try{return!1!==t(r)}catch(i){return Wc(n,i),!1}}function zt(n,e,t,r,i){return function o(s){if(s===Function)return r;nv(2&n.flags?Wa(n.index,e):e);let u=Rt(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Rt(e,0,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Kt(n=1){return function Py(n){return(Qr.lFrame.contextLView=function Ny(n,e){for(;n>0;)e=e[15],n--;return e}(n,Qr.lFrame.contextLView))[8]}(n)}function In(n,e){let t=null;const r=function $C(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Ah(n,o,!0):Yg(r,o))return i}else t=i}return t}function jn(n){const e=dn()[16][6];if(!e.projection){const r=e.projection=Uy(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?In(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function zn(n,e=0,t){const r=dn(),i=ro(),o=Jg(i,22+n,16,null,t||null);null===o.projection&&(o.projection=e),Oc(),64!=(64&o.flags)&&function Dd(n,e,t){Af(e[11],0,e,t,YC(n,t,e),Ug(t.parent||e[6],t,e))}(i,r,o)}function Gn(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?xu(o):Od(o),u=!1;for(;0!==a&&(!1===u||s);){const f=n[a+1];rr(n[a],e)&&(u=!0,n[a+1]=r?Y0(f):x_(f)),a=r?xu(f):Od(f)}u&&(n[t+1]=r?x_(o):Y0(o))}function rr(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Eg(n,e)>=0}function kr(n,e,t){return sc(n,e,t,!1),kr}function Hi(n,e){return sc(n,e,null,!0),Hi}function sc(n,e,t,r){const i=dn(),o=ro(),s=function vu(n){const e=Qr.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function hA(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[$a()],s=function fM(n,e){return e>=n.expandoStartIndex}(n,t);(function io(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function P_(n,e,t,r){const i=Tl(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=gv(t=Gc(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=Gc(i,n,e,t,r),null===o){let u=function pA(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Od(r))return n[xu(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Gc(null,n,e,u[1],r),u=gv(u,e.attrs,r),function mA(n,e,t,r){n[xu(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function gA(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=gv(r,n[o].hostAttrs,t);return gv(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function Ho(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=xu(s),u=Od(s);n[r]=t;let f,c=!1;if(Array.isArray(t)){const p=t;f=p[1],(null===f||Eg(p,f)>0)&&(c=!0)}else f=t;if(i)if(0!==u){const g=xu(n[a+1]);n[r+1]=M_(g,a),0!==g&&(n[g+1]=C_(n[g+1],r)),n[a+1]=function S_(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=M_(a,0),0!==a&&(n[a+1]=C_(n[a+1],r)),a=r;else n[r+1]=M_(u,0),0===a?a=r:n[u+1]=C_(n[u+1],r),u=r;c&&(n[r+1]=x_(n[r+1])),Gn(n,f,r,!0),Gn(n,f,r,!1),function An(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Eg(o,e)>=0&&(t[r+1]=Y0(t[r+1]))}(e,f,n,r,o),s=M_(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==Mi&&pl(i,s,e)&&function on(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1];an(function Xg(n){return 1==(1&n)}(c)?Jt(u,e,t,i,Od(c),s):void 0)||(an(o)||function tE(n){return 2==(2&n)}(c)&&(o=Jt(u,null,t,i,a,s)),function GC(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:$l.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=$l.Important),n.setStyle(t,r,i,o))}}(r,s,Po($a(),t),i,o))}(o,o.data[$a()],i,i[11],n,i[s+1]=function ir(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Co(wu(n)))),n}(e,t),r,s)}function Gc(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=gv(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function gv(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),_u(n,s,!!t||e[++o]))}return void 0===n?null:n}function Jt(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),f=c?u[1]:u,p=null===f;let g=t[i+1];g===Mi&&(g=p?Fi:void 0);let y=p?rC(g,r):f===r?g:void 0;if(c&&!an(y)&&(y=rC(u,r)),an(y)&&(a=y,s))return a;const w=n[i+1];i=s?xu(w):Od(w)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=rC(u,r))}return a}function an(n){return void 0!==n}function nn(n,e=""){const t=dn(),r=ro(),i=n+22,o=r.firstCreatePass?Jg(r,i,1,e,null):r.data[i],s=t[i]=function UC(n,e){return n.createText(e)}(t[11],e);Vp(r,t,s,o),Ya(o,!1)}function Ir(n){return ii("",n,""),Ir}function ii(n,e,t){const r=dn(),i=function lv(n,e,t,r){return pl(n,ul(),t)?e+Kr(t)+r:Mi}(r,n,e,t);return i!==Mi&&function If(n,e,t){const r=Po(e,n);!function bs(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,$a(),i),ii}function xE(n,e,t){const r=dn();return pl(r,ul(),e)&&ql(ro(),No(),r,n,e,r[11],t,!0),xE}function VF(n,e,t){const r=dn();if(pl(r,ul(),e)){const o=ro(),s=No();ql(o,s,r,n,e,$p(Tl(o.data),s,r),t,!0)}return VF}const pM="en-US";let U8=pM;function jF(n,e,t,r,i){if(n=Vr(n),Array.isArray(n))for(let o=0;o<n.length;o++)jF(n[o],e,t,r,i);else{const o=ro(),s=dn();let a=Ip(n)?n:Vr(n.provide),u=tD(n);const c=Xs(),f=1048575&c.providerIndexes,p=c.directiveStart,g=c.providerIndexes>>20;if(Ip(n)||!n.multi){const y=new Rl(u,i,De),w=YF(a,e,i?f:f+g,p);-1===w?(Sf(Op(c,s),o,a),WF(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),s.push(y)):(t[w]=y,s[w]=y)}else{const y=YF(a,e,f+g,p),w=YF(a,e,f,f+g),M=y>=0&&t[y],C=w>=0&&t[w];if(i&&!C||!i&&!M){Sf(Op(c,s),o,a);const I=function qhe(n,e,t,r,i){const o=new Rl(n,t,De);return o.multi=[],o.index=e,o.componentProviders=0,h7(o,i,r&&!t),o}(i?Zhe:Khe,t.length,i,r,u);!i&&C&&(t[w].providerFactory=I),WF(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(I),s.push(I)}else WF(o,n,y>-1?y:w,h7(t[i?w:y],u,!i&&r));!i&&r&&C&&t[w].componentProviders++}}}function WF(n,e,t,r){const i=Ip(e),o=function eD(n){return!!n.useClass}(e);if(i||o){const u=(o?Vr(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const f=c.indexOf(t);-1===f?c.push(t,[r,u]):c[f+1].push(r,u)}else c.push(t,u)}}}function h7(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function YF(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Khe(n,e,t,r){return GF(this.multi,[])}function Zhe(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Qt(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),GF(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],GF(i,o);return o}function GF(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ai(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Xhe(n,e,t){const r=ro();if(r.firstCreatePass){const i=xl(n);jF(t,r.data,r.blueprint,i,!0),jF(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class B_{}class p7{}class m7 extends B_{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sM(this);const r=Er(e);this._bootstrapComponents=Bc(r.bootstrap),this._r3Injector=hl(e,t,[{provide:B_,useValue:this},{provide:Rh,useValue:this.componentFactoryResolver}],Co(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class $F extends p7{constructor(e){super(),this.moduleType=e}create(e){return new m7(this.moduleType,e)}}class Qhe extends B_{constructor(e,t,r){super(),this.componentFactoryResolver=new sM(this),this.instance=null;const i=new CC([...e,{provide:B_,useValue:this},{provide:Rh,useValue:this.componentFactoryResolver}],t||e0(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function MA(n,e,t=null){return new Qhe(n,e,t).injector}function KF(n){return e=>{setTimeout(n,void 0,e)}}const Lo=class Tpe extends Nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,o,s;let a=e,u=t||(()=>null),c=r;if(e&&"object"==typeof e){const p=e;a=null===(i=p.next)||void 0===i?void 0:i.bind(p),u=null===(o=p.error)||void 0===o?void 0:o.bind(p),c=null===(s=p.complete)||void 0===s?void 0:s.bind(p)}this.__isAsync&&(u=KF(u),a&&(a=KF(a)),c&&(c=KF(c)));const f=super.subscribe({next:a,error:u,complete:c});return e instanceof F&&e.add(f),f}};function Rpe(){return this._results[Kp()]()}class gM{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Kp(),r=gM.prototype;r[t]||(r[t]=Rpe)}get changes(){return this._changes||(this._changes=new Lo)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=yu(e);(this._changesDetected=!function KN(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qa=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ope,n})();const Dpe=qa,Ape=class extends Dpe{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Z0(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),q0(r,i,e),new iv(i)}};function Ope(){return SA(Xs(),dn())}function SA(n,e){return 4&n.type?new Ape(e,n,xd(n,e)):null}let ml=(()=>{class n{}return n.__NG_ELEMENT_ID__=kpe,n})();function kpe(){return D7(Xs(),dn())}const Lpe=ml,T7=class extends Lpe{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return xd(this._hostTNode,this._hostLView)}get injector(){return new js(this._hostTNode,this._hostLView)}get parentInjector(){const e=Nc(this._hostTNode,this._hostLView);if(Uw(e)){const t=Sh(e,this._hostLView),r=Mh(e);return new js(t[1].data[r+8],t)}return new js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=R7(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function zy(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const u=s?e:new sv(zi(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const g=(s?c:this.parentInjector).get(Th,null);g&&(o=g)}const f=u.create(c,i,void 0,o);return this.insert(f.hostView,a),f}insert(e,t){const r=e._lView,i=r[1];if(function Ac(n){return ll(n[3])}(r)){const f=this.indexOf(e);if(-1!==f)this.detach(f);else{const p=r[3],g=new T7(p,p[6],p[3]);g.detach(g.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function eF(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],MR(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function yD(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=d_(o,s),u=r[11],c=Td(u,s[7]);return null!==c&&function C0(n,e,t,r,i,o){r[0]=i,r[6]=e,Rd(n,r,t,1,i,o)}(i,s[6],u,r,c,a),e.attachToViewContainerRef(),MR(ZF(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=R7(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Hp(this._lContainer,t);r&&(jw(ZF(this._lContainer),t),E0(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Hp(this._lContainer,t);return r&&null!=jw(ZF(this._lContainer),t)?new iv(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function R7(n){return n[8]}function ZF(n){return n[8]||(n[8]=[])}function D7(n,e){let t;const r=e[n.index];if(ll(r))t=r;else{let i;if(8&n.type)i=Qo(r);else{const o=e[11];i=o.createComment("");const s=sa(n,e);Bp(o,Td(o,s),i,function D0(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=Os(r,e,i,n),k_(e,t)}return new T7(t,n,e)}class qF{constructor(e){this.queryList=e,this.matches=null}clone(){return new qF(this.queryList)}setDirty(){this.queryList.setDirty()}}class JF{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new JF(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==I7(e,t).matches&&this.queries[t].setDirty()}}class A7{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class QF{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new QF(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class eH{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new eH(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,Npe(t,o)),this.matchTNodeWithReadOption(e,t,ct(t,e,o,!1,!1))}else r===qa?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ct(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===gi||i===ml||i===qa&&4&t.type)this.addMatch(t.index,-2);else{const o=ct(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Npe(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Hpe(n,e,t,r){return-1===t?function Fpe(n,e){return 11&n.type?xd(n,e):4&n.type?SA(n,e):null}(e,n):-2===t?function Bpe(n,e,t){return t===gi?xd(e,n):t===qa?SA(e,n):t===ml?D7(e,n):void 0}(n,e,r):Qt(n,n[1],t,e)}function O7(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:Hpe(e,o[c],s[u+1],t.metadata.read))}i.matches=a}return i.matches}function tH(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=O7(n,e,i,t);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],f=e[-u];for(let p=10;p<f.length;p++){const g=f[p];g[17]===g[3]&&tH(g[1],g,c,r)}if(null!==f[9]){const p=f[9];for(let g=0;g<p.length;g++){const y=p[g];tH(y[1],y,c,r)}}}}}return r}function _o(n){const e=dn(),t=ro(),r=_h();bh(r+1);const i=I7(t,r);if(n.dirty&&pg(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?tH(t,e,r,[]):O7(t,e,i,r);n.reset(o,Gl),n.notifyOnChanges()}return!0}return!1}function Eu(n,e,t){const r=ro();r.firstCreatePass&&(L7(r,new A7(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),k7(r,dn(),e)}function la(n,e,t,r){const i=ro();if(i.firstCreatePass){const o=Xs();L7(i,new A7(e,t,r),o.index),function zpe(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}k7(i,dn(),t)}function bo(){return function Vpe(n,e){return n[19].queries[e].queryList}(dn(),_h())}function k7(n,e,t){const r=new gM(4==(4&t));Q0(n,e,r,r.destroy),null===e[19]&&(e[19]=new JF),e[19].queries.push(new qF(r))}function L7(n,e,t){null===n.queries&&(n.queries=new QF),n.queries.track(new eH(e,t))}function I7(n,e){return n.queries.getByIndex(e)}function CA(...n){}const EA=new Tn("Application Initializer");let TA=(()=>{class n{constructor(t){this.appInits=t,this.resolve=CA,this.reject=CA,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(et(o))t.push(o);else if(_t(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(wt(EA,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kE=new Tn("AppId",{providedIn:"root",factory:function Q7(){return`${sH()}${sH()}${sH()}`}});function sH(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const e9=new Tn("Platform Initializer"),RA=new Tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),t9=new Tn("appBootstrapListener"),qp=new Tn("AnimationModuleType");let lme=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Nh=new Tn("LocaleId",{providedIn:"root",factory:()=>ms(Nh,ur.Optional|ur.SkipSelf)||function ume(){return"undefined"!=typeof $localize&&$localize.locale||pM}()});class dme{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let aH=(()=>{class n{compileModuleSync(t){return new $F(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Bc(Er(t).declarations).reduce((s,a)=>{const u=zi(a);return u&&s.push(new sv(u)),s},[]);return new dme(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pme=(()=>Promise.resolve(0))();function lH(n){"undefined"==typeof Zone?pme.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class xi{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lo(!1),this.onMicrotaskEmpty=new Lo(!1),this.onStable=new Lo(!1),this.onError=new Lo(!1),"undefined"==typeof Zone)throw new sn(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function mme(){let n=Eo.requestAnimationFrame,e=Eo.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function yme(n){const e=()=>{!function vme(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Eo,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cH(n),n.isCheckStableRunning=!0,uH(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cH(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return i9(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),o9(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return i9(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),o9(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,cH(n),uH(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xi.isInAngularZone())throw new sn(909,!1)}static assertNotInAngularZone(){if(xi.isInAngularZone())throw new sn(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,gme,CA,CA);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const gme={};function uH(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cH(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function i9(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function o9(n){n._nesting--,uH(n)}class _me{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lo,this.onMicrotaskEmpty=new Lo,this.onStable=new Lo,this.onError=new Lo}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const s9=new Tn(""),DA=new Tn("");let LE,dH=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,LE||(function bme(n){LE=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xi.assertNotInAngularZone(),lH(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lH(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(wt(xi),wt(fH),wt(DA))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})(),fH=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){var i;return null!==(i=null==LE?void 0:LE.findTestabilityInTree(this,t,r))&&void 0!==i?i:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Fh=null;const a9=new Tn("AllowMultipleToken"),hH=new Tn("PlatformDestroyListeners");class l9{constructor(e,t){this.name=e,this.token=t}}function c9(n,e,t=[]){const r=`Platform: ${e}`,i=new Tn(r);return(o=[])=>{let s=pH();if(!s||s.injector.get(a9,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function Sme(n){if(Fh&&!Fh.get(a9,!1))throw new sn(400,!1);Fh=n;const e=n.get(f9);(function u9(n){const e=n.get(e9,null);e&&e.forEach(t=>t())})(n)}(function d9(n=[],e){return ws.create({name:e,providers:[{provide:SC,useValue:"platform"},{provide:hH,useValue:new Set([()=>Fh=null])},...n]})}(a,r))}return function Cme(n){const e=pH();if(!e)throw new sn(401,!1);return e}()}}function pH(){var n;return null!==(n=null==Fh?void 0:Fh.get(f9))&&void 0!==n?n:null}let f9=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Eme(n,e){let t;return t="noop"===n?new _me:("zone.js"===n?void 0:n)||new xi(e),t}(null==r?void 0:r.ngZone,function h9(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:xi,useValue:i}];return i.run(()=>{const s=ws.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(Cd,null);if(!u)throw new sn(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:f=>{u.handleError(f)}});a.onDestroy(()=>{AA(this._modules,a),c.unsubscribe()})}),function p9(n,e,t){try{const r=t();return et(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(TA);return c.runInitializers(),c.donePromise.then(()=>(function j8(n){$s(n,"Expected localeId to be defined"),"string"==typeof n&&(U8=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Nh,pM)||pM),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=m9({},r);return function wme(n,e,t){const r=new $F(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(bM);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new sn(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new sn(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(hH,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(wt(ws))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function m9(n,e){return Array.isArray(e)?e.reduce(m9,n):Object.assign(Object.assign({},n),e)}let bM=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new dt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new dt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{xi.assertNotInAngularZone(),lH(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{xi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=wc(o,s.pipe(uf()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Ig;if(!this._injector.get(TA).done)throw!i&&function yM(n){const e=zi(n)||To(n)||ps(n);return null!==e&&e.standalone}(t),new sn(405,false);let s;s=i?t:this._injector.get(Rh).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Mme(n){return n.isBoundToModule}(s)?void 0:this._injector.get(B_),c=s.create(ws.NULL,[],r||s.selector,a),f=c.location.nativeElement,p=c.injector.get(s9,null);return null==p||p.registerApplication(f),c.onDestroy(()=>{this.detachView(c.hostView),AA(this.components,c),null==p||p.unregisterApplication(f)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new sn(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;AA(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(t9,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>AA(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new sn(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(wt(xi),wt(Th),wt(Cd))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let v9=!0,Ru=(()=>{class n{}return n.__NG_ELEMENT_ID__=Dme,n})();function Dme(n){return function Ame(n,e,t){if(hh(n)&&!t){const r=Wa(n.index,e);return new iv(r,r)}return 47&n.type?new iv(e[16],e):null}(Xs(),dn(),16==(16&n))}class M9{constructor(){}supports(e){return L_(e)}create(e){return new Nme(e)}}const Pme=(n,e)=>e;class Nme{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Pme}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<x9(r,i,o)?t:r,a=x9(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,f=u-i;if(c!=f){for(let g=0;g<c;g++){const y=g<o.length?o[g]:o[g]=0,w=y+g;f<=w&&w<c&&(o[g]=y+1)}o[s.previousIndex]=f-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!L_(e))throw new sn(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function FF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Kp()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Fme(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new S9),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new S9),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Fme{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hme{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class S9{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Hme,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function x9(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class C9{constructor(){}supports(e){return e instanceof Map||ME(e)}create(){return new Bme}}class Bme{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ME(e)))throw new sn(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new Vme(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Vme{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function E9(){return new Qp([new M9])}let Qp=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||E9()),deps:[[n,new Rg,new Ch]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new sn(901,!1)}}return n.\u0275prov=hn({token:n,providedIn:"root",factory:E9}),n})();function T9(){return new IE([new C9])}let IE=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||T9()),deps:[[n,new Rg,new Ch]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new sn(901,!1)}}return n.\u0275prov=hn({token:n,providedIn:"root",factory:T9}),n})();const jme=c9(null,"core",[]);let Wme=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(wt(bM))},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({}),n})();let LA=null;function Hh(){return LA}const Ci=new Tn("DocumentToken");let _H=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:function(){return function Xme(){return wt(R9)}()},providedIn:"platform"}),n})();const Kme=new Tn("Location Initialized");let R9=(()=>{class n extends _H{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hh().getBaseHref(this._doc)}onPopState(t){const r=Hh().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Hh().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){D9()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){D9()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci))},n.\u0275prov=hn({token:n,factory:function(){return function Zme(){return new R9(wt(Ci))}()},providedIn:"platform"}),n})();function D9(){return!!window.history.pushState}function bH(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function A9(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tm(n){return n&&"?"!==n[0]?"?"+n:n}let z_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:function(){return ms(k9)},providedIn:"root"}),n})();const O9=new Tn("appBaseHref");let k9=(()=>{class n extends z_{constructor(t,r){var i,o,s;super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=null!==(s=null!==(i=null!=r?r:this._platformLocation.getBaseHrefFromDOM())&&void 0!==i?i:null===(o=ms(Ci).location)||void 0===o?void 0:o.origin)&&void 0!==s?s:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bH(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+tm(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+tm(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+tm(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(wt(_H),wt(O9,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qme=(()=>{class n extends z_{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=bH(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+tm(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+tm(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(wt(_H),wt(O9,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})(),PE=(()=>{class n{constructor(t){this._subject=new Lo,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=A9(L9(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tm(r))}normalize(t){return n.stripTrailingSlash(function Qme(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,L9(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tm(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tm(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._locationStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{var r;const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=tm,n.joinWithSlash=bH,n.stripTrailingSlash=A9,n.\u0275fac=function(t){return new(t||n)(wt(z_))},n.\u0275prov=hn({token:n,factory:function(){return function Jme(){return new PE(wt(z_))}()},providedIn:"root"}),n})();function L9(n){return n.replace(/\/index.html$/,"")}function U9(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let j9=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(L_(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Co(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(De(Qp),De(IE),De(gi),De(rc))},n.\u0275dir=Ln({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Fge{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let G9=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Fge(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),$9(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{$9(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(De(ml),De(qa),De(Qp))},n.\u0275dir=Ln({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $9(n,e){n.context.$implicit=e.item}let HE=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Bge,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){X9("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){X9("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(De(ml),De(qa))},n.\u0275dir=Ln({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Bge{constructor(){this.$implicit=null,this.ngIf=null}}function X9(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Co(e)}'.`)}class AH{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let jA=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),K9=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new AH(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(De(ml),De(qa),De(jA,9))},n.\u0275dir=Ln({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),q9=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:$l.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(IE),De(rc))},n.\u0275dir=Ln({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),U_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({}),n})();const Q9="browser";let pve=(()=>{class n{}return n.\u0275prov=hn({token:n,providedIn:"root",factory:()=>new mve(wt(Ci),window)}),n})();class mve{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function gve(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=e$(this.window.history)||e$(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function e$(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class t${}class LH extends class vve extends class $me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Gme(n){LA||(LA=n)}(new LH)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function yve(){return BE=BE||document.querySelector("base"),BE?BE.getAttribute("href"):null}();return null==t?null:function _ve(n){WA=WA||document.createElement("a"),WA.setAttribute("href",n);const e=WA.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){BE=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return U9(document.cookie,e)}}let WA,BE=null;const n$=new Tn("TRANSITION_ID"),wve=[{provide:EA,useFactory:function bve(n,e,t){return()=>{t.get(TA).donePromise.then(()=>{const r=Hh(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[n$,Ci,ws],multi:!0}];let Sve=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();const YA=new Tn("EventManagerPlugins");let GA=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(wt(YA),wt(xi))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();class r${constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Hh().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let i$=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})(),VE=(()=>{class n extends i${constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(o$),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(o$))}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();function o$(n){Hh().remove(n)}const IH={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},PH=/%COMP%/g;function $A(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?$A(n,i,t):(i=i.replace(PH,n),t.push(i))}return t}function l$(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let XA=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new NH(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case fu.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Dve(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case fu.ShadowDom:return new Ave(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=$A(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(wt(GA),wt(VE),wt(kE))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();class NH{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(IH[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(c$(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(c$(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=IH[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=IH[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&($l.DashCase|$l.Important)?e.style.setProperty(t,r,i&$l.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&$l.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,l$(r)):this.eventManager.addEventListener(e,t,l$(r))}}function c$(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Dve extends NH{constructor(e,t,r,i){super(e),this.component=r;const o=$A(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function Eve(n){return"_ngcontent-%COMP%".replace(PH,n)}(i+"-"+r.id),this.hostAttr=function Tve(n){return"_nghost-%COMP%".replace(PH,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ave extends NH{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=$A(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ove=(()=>{class n extends r${constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();const d$=["alt","control","meta","shift"],Lve={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f$={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ive={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Pve=(()=>{class n extends r${constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hh().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(d$.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function Nve(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&f$.hasOwnProperty(e)&&(e=f$[e]))}return Lve[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),d$.forEach(o=>{o!=i&&(0,Ive[o])(t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();const Vve=c9(jme,"browser",[{provide:RA,useValue:Q9},{provide:e9,useValue:function Fve(){LH.makeCurrent()},multi:!0},{provide:Ci,useFactory:function Bve(){return function b2(n){lC=n}(document),document},deps:[]}]),p$=new Tn(""),m$=[{provide:DA,useClass:class Mve{addToWindow(e){Eo.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Eo.getAllAngularTestabilities=()=>e.getAllTestabilities(),Eo.getAllAngularRootElements=()=>e.getAllRootElements(),Eo.frameworkStabilizers||(Eo.frameworkStabilizers=[]),Eo.frameworkStabilizers.push(r=>{const i=Eo.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Hh().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},deps:[]},{provide:s9,useClass:dH,deps:[xi,fH,DA]},{provide:dH,useClass:dH,deps:[xi,fH,DA]}],g$=[{provide:SC,useValue:"root"},{provide:Cd,useFactory:function Hve(){return new Cd},deps:[]},{provide:YA,useClass:Ove,multi:!0,deps:[Ci,xi,RA]},{provide:YA,useClass:Pve,multi:!0,deps:[Ci]},{provide:XA,useClass:XA,deps:[GA,VE,kE]},{provide:nc,useExisting:XA},{provide:i$,useExisting:VE},{provide:VE,useClass:VE,deps:[Ci]},{provide:GA,useClass:GA,deps:[YA,xi]},{provide:t$,useClass:Sve,deps:[]},[]];let v$=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:kE,useValue:t.appId},{provide:n$,useExisting:kE},wve]}}}return n.\u0275fac=function(t){return new(t||n)(wt(p$,12))},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({providers:[...g$,...m$],imports:[U_,Wme]}),n})(),y$=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci))},n.\u0275prov=hn({token:n,factory:function(t){let r=null;return r=t?new t:function Uve(){return new y$(wt(Ci))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let BH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:function(t){let r=null;return r=t?new(t||n):wt(w$),r},providedIn:"root"}),n})(),w$=(()=>{class n extends BH{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case fo.NONE:return r;case fo.HTML:return Md(r,"HTML")?wu(r):UR(this._doc,String(r)).toString();case fo.STYLE:return Md(r,"Style")?wu(r):r;case fo.SCRIPT:if(Md(r,"Script"))return wu(r);throw new Error("unsafe value used in a script context");case fo.URL:return Md(r,"URL")?wu(r):Ky(String(r));case fo.RESOURCE_URL:if(Md(r,"ResourceURL"))return wu(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function T2(n){return new bu(n)}(t)}bypassSecurityTrustStyle(t){return function R2(n){return new PR(n)}(t)}bypassSecurityTrustScript(t){return function D2(n){return new S2(n)}(t)}bypassSecurityTrustUrl(t){return function A2(n){return new x2(n)}(t)}bypassSecurityTrustResourceUrl(t){return function O2(n){return new C2(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci))},n.\u0275prov=hn({token:n,factory:function(t){let r=null;return r=t?new t:function Kve(n){return new w$(n.get(Ci))}(wt(ws)),r},providedIn:"root"}),n})();function Lr(...n){return $o(n,Ua(n))}class $c extends Nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const KA=R(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Zve}=Array,{getPrototypeOf:qve,prototype:Jve,keys:Qve}=Object;function M$(n){if(1===n.length){const e=n[0];if(Zve(e))return{args:e,keys:null};if(function eye(n){return n&&"object"==typeof n&&qve(n)===Jve}(e)){const t=Qve(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:tye}=Array;function VH(n){return En(e=>function nye(n,e){return tye(e)?n(...e):n(e)}(n,e))}function S$(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zH(...n){const e=Ua(n),t=za(n),{args:r,keys:i}=M$(n);if(0===r.length)return $o([],e);const o=new dt(function rye(n,e,t=Pt){return r=>{x$(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)x$(e,()=>{const c=$o(n[u],e);let f=!1;c.subscribe(kn(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>S$(i,s):Pt));return t?o.pipe(VH(t)):o}function x$(n,e,t){n?rl(t,n,e):e()}function zE(...n){return function iye(){return So(1)}()($o(n,Ua(n)))}function ZA(n){return new dt(e=>{fs(n()).subscribe(e)})}function wM(n,e){const t=T(n)?n:()=>n,r=i=>i.error(t());return new dt(e?i=>e.schedule(r,0,i):r)}function UH(){return Un((n,e)=>{let t=null;n._refCount++;const r=kn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class jH extends dt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Vn(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new F;const t=this.getSubject();e.add(this.source.subscribe(kn(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=F.EMPTY)}return e}refCount(){return UH()(this)}}function Hd(n,e){return Un((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(kn(r,u=>{null==i||i.unsubscribe();let c=0;const f=o++;fs(n(u,f)).subscribe(i=kn(r,p=>r.next(e?e(u,p,f,c++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qa(n){return n<=0?()=>vo:Un((e,t)=>{let r=0;e.subscribe(kn(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function rm(...n){const e=Ua(n);return Un((t,r)=>{(e?zE(n,t,e):zE(n,t)).subscribe(r)})}function Oa(n,e){return Un((t,r)=>{let i=0;t.subscribe(kn(r,o=>n.call(e,o,i++)&&r.next(o)))})}function qA(n){return Un((e,t)=>{let r=!1;e.subscribe(kn(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function C$(n=oye){return Un((e,t)=>{let r=!1;e.subscribe(kn(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function oye(){return new KA}function _v(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Oa((i,o)=>n(i,o,r)):Pt,Qa(1),t?qA(e):C$(()=>new KA))}function bv(n,e){return T(e)?Uo(n,e,1):Uo(n,1)}function ka(n,e,t){const r=T(n)||e||t?{next:n,error:e,complete:t}:n;return r?Un((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(kn(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Pt}function im(n){return Un((e,t)=>{let o,r=null,i=!1;r=e.subscribe(kn(t,void 0,void 0,s=>{o=fs(n(s,im(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function sye(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(kn(s,f=>{const p=c++;u=a?n(u,f,p):(a=!0,f),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function E$(n,e){return Un(sye(n,e,arguments.length>=2,!0))}function WH(n){return n<=0?()=>vo:Un((e,t)=>{let r=[];e.subscribe(kn(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function T$(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Oa((i,o)=>n(i,o,r)):Pt,WH(1),t?qA(e):C$(()=>new KA))}function R$(n){return En(()=>n)}function JA(n){return Un((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const oo="primary";class lye{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function MM(n){return new lye(n)}function uye(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Bh(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!D$(n[i],e[i]))return!1;return!0}function D$(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function A$(n){return Array.prototype.concat.apply([],n)}function O$(n){return n.length>0?n[n.length-1]:null}function Dl(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function om(n){return _t(n)?n:et(n)?$o(Promise.resolve(n)):Lr(n)}const fye={exact:function I$(n,e,t){if(!W_(n.segments,e.segments)||!QA(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!I$(n.children[r],e.children[r],t))return!1;return!0},subset:P$},k$={exact:function hye(n,e){return Bh(n,e)},subset:function pye(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>D$(n[t],e[t]))},ignored:()=>!0};function L$(n,e,t){return fye[t.paths](n.root,e.root,t.matrixParams)&&k$[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function P$(n,e,t){return N$(n,e,e.segments,t)}function N$(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!W_(i,t)||e.hasChildren()||!QA(i,t,r))}if(n.segments.length===t.length){if(!W_(n.segments,t)||!QA(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!P$(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(W_(n.segments,i)&&QA(n.segments,i,r)&&n.children[oo])&&N$(n.children[oo],e,o,r)}}function QA(n,e,t){return e.every((r,i)=>k$[t](n[i].parameters,r.parameters))}class j_{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=MM(this.queryParams)),this._queryParamMap}toString(){return vye.serialize(this)}}class lo{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Dl(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eO(this)}}class UE{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=MM(this.parameters)),this._parameterMap}toString(){return V$(this)}}function W_(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let F$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:function(){return new GH},providedIn:"root"}),n})();class GH{parse(e){const t=new Eye(e);return new j_(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jE(e.root,!0)}`,r=function bye(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${tO(t)}=${tO(i)}`).join("&"):`${tO(t)}=${tO(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function yye(n){return encodeURI(n)}(e.fragment)}`:""}`}}const vye=new GH;function eO(n){return n.segments.map(e=>V$(e)).join("/")}function jE(n,e){if(!n.hasChildren())return eO(n);if(e){const t=n.children[oo]?jE(n.children[oo],!1):"",r=[];return Dl(n.children,(i,o)=>{o!==oo&&r.push(`${o}:${jE(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function gye(n,e){let t=[];return Dl(n.children,(r,i)=>{i===oo&&(t=t.concat(e(r,i)))}),Dl(n.children,(r,i)=>{i!==oo&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===oo?[jE(n.children[oo],!1)]:[`${i}:${jE(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[oo]?`${eO(n)}/${t[0]}`:`${eO(n)}/(${t.join("//")})`}}function H$(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tO(n){return H$(n).replace(/%3B/gi,";")}function $H(n){return H$(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nO(n){return decodeURIComponent(n)}function B$(n){return nO(n.replace(/\+/g,"%20"))}function V$(n){return`${$H(n.path)}${function _ye(n){return Object.keys(n).map(e=>`;${$H(e)}=${$H(n[e])}`).join("")}(n.parameters)}`}const wye=/^[^\/()?;=#]+/;function rO(n){const e=n.match(wye);return e?e[0]:""}const Mye=/^[^=?&#]+/,xye=/^[^&#]+/;class Eye{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new lo([],{}):new lo([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oo]=new lo(e,t)),r}parseSegment(){const e=rO(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new sn(4009,!1);return this.capture(e),new UE(nO(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=rO(this.remaining);i&&(r=i,this.capture(r))}e[nO(t)]=nO(r)}parseQueryParam(e){const t=function Sye(n){const e=n.match(Mye);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Cye(n){const e=n.match(xye);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=B$(t),o=B$(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rO(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new sn(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oo);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[oo]:new lo([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new sn(4011,!1)}}function XH(n){return n.segments.length>0?new lo([],{[oo]:n}):n}function iO(n){const e={};for(const r of Object.keys(n.children)){const o=iO(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Tye(n){if(1===n.numberOfChildren&&n.children[oo]){const e=n.children[oo];return new lo(n.segments.concat(e.segments),e.children)}return n}(new lo(n.segments,e))}function Y_(n){return n instanceof j_}function Aye(n,e,t,r,i){var o;if(0===t.length)return SM(e.root,e.root,e.root,r,i);const a=function j$(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new U$(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Dl(o.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new U$(t,e,r)}(t);return a.toRoot()?SM(e.root,e.root,new lo([],{}),r,i):function u(f){var p;const g=function kye(n,e,t,r){if(n.isAbsolute)return new xM(e.root,!0,0);if(-1===r)return new xM(t,t===e.root,0);return function W$(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new sn(4005,!1);i=r.segments.length}return new xM(r,!1,i-o)}(t,r+(WE(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,null===(p=n.snapshot)||void 0===p?void 0:p._urlSegment,f),y=g.processChildren?GE(g.segmentGroup,g.index,a.commands):ZH(g.segmentGroup,g.index,a.commands);return SM(e.root,g.segmentGroup,y,r,i)}(null===(o=n.snapshot)||void 0===o?void 0:o._lastPathIndex)}function WE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function YE(n){return"object"==typeof n&&null!=n&&n.outlets}function SM(n,e,t,r,i){let s,o={};r&&Dl(r,(u,c)=>{o[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`}),s=n===e?t:z$(n,e,t);const a=XH(iO(s));return new j_(a,o,i)}function z$(n,e,t){const r={};return Dl(n.children,(i,o)=>{r[o]=i===e?t:z$(i,e,t)}),new lo(n.segments,r)}class U${constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&WE(r[0]))throw new sn(4003,!1);const i=r.find(YE);if(i&&i!==O$(r))throw new sn(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xM{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ZH(n,e,t){if(n||(n=new lo([],{})),0===n.segments.length&&n.hasChildren())return GE(n,e,t);const r=function Iye(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(YE(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!G$(u,c,s))return o;r+=2}else{if(!G$(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new lo(n.segments.slice(0,r.pathIndex),{});return o.children[oo]=new lo(n.segments.slice(r.pathIndex),n.children),GE(o,0,i)}return r.match&&0===i.length?new lo(n.segments,{}):r.match&&!n.hasChildren()?qH(n,e,t):r.match?GE(n,0,i):qH(n,e,t)}function GE(n,e,t){if(0===t.length)return new lo(n.segments,{});{const r=function Lye(n){return YE(n[0])?n[0].outlets:{[oo]:n}}(t),i={};return Dl(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=ZH(n.children[s],e,o))}),Dl(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new lo(n.segments,i)}}function qH(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(YE(o)){const u=Pye(o.outlets);return new lo(r,u)}if(0===i&&WE(t[0])){r.push(new UE(n.segments[e].path,Y$(t[0]))),i++;continue}const s=YE(o)?o.outlets[oo]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&WE(a)?(r.push(new UE(s,Y$(a))),i+=2):(r.push(new UE(s,{})),i++)}return new lo(r,{})}function Pye(n){const e={};return Dl(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=qH(new lo([],{}),0,t))}),e}function Y$(n){const e={};return Dl(n,(t,r)=>e[r]=`${t}`),e}function G$(n,e,t){return n==t.path&&Bh(e,t.parameters)}class sm{constructor(e,t){this.id=e,this.url=t}}class JH extends sm{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class G_ extends sm{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class oO extends sm{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $$ extends sm{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nye extends sm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fye extends sm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hye extends sm{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bye extends sm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vye extends sm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zye{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Uye{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jye{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wye{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yye{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gye{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X${constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class K${constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=QH(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=QH(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=e3(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return e3(e,this._root).map(t=>t.value)}}function QH(n,e){if(n===e.value)return e;for(const t of e.children){const r=QH(n,t);if(r)return r}return null}function e3(n,e){if(n===e.value)return[e];for(const t of e.children){const r=e3(n,t);if(r.length)return r.unshift(e),r}return[]}class am{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function CM(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Z$ extends K${constructor(e,t){super(e),this.snapshot=t,t3(this,e)}toString(){return this.snapshot.toString()}}function q$(n,e){const t=function Xye(n,e){const s=new sO([],{},{},"",{},oo,e,null,n.root,-1,{});return new Q$("",new am(s,[]))}(n,e),r=new $c([new UE("",{})]),i=new $c({}),o=new $c({}),s=new $c({}),a=new $c(""),u=new EM(r,i,s,a,o,oo,e,t.root);return u.snapshot=t.root,new Z$(new am(u,[]),t)}class EM{constructor(e,t,r,i,o,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(En(e=>MM(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(En(e=>MM(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function J$(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Kye(n){return n.reduce((e,t)=>{var r;return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),e.resolve),null===(r=t.routeConfig)||void 0===r?void 0:r.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(r))}class sO{constructor(e,t,r,i,o,s,a,u,c,f,p,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=f,this._correctedLastPathIndex=null!=g?g:f,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=MM(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=MM(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Q$ extends K${constructor(e,t){super(t),this.url=e,t3(this,t)}toString(){return eX(this._root)}}function t3(n,e){e.value._routerState=n,e.children.forEach(t=>t3(n,t))}function eX(n){const e=n.children.length>0?` { ${n.children.map(eX).join(", ")} } `:"";return`${n.value}${e}`}function n3(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bh(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Bh(e.params,t.params)||n.params.next(t.params),function cye(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bh(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Bh(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function r3(n,e){const t=Bh(n.params,e.params)&&function mye(n,e){return W_(n,e)&&n.every((t,r)=>Bh(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||r3(n.parent,e.parent))}function $E(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function qye(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $E(n,r,i);return $E(n,r)})}(n,e,t);return new am(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$E(n,a)),s}}const r=function Jye(n){return new EM(new $c(n.url),new $c(n.params),new $c(n.queryParams),new $c(n.fragment),new $c(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>$E(n,o));return new am(r,i)}}const o3="ngNavigationCancelingError";function tX(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Y_(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nX(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function nX(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[o3]=!0,r.cancellationCode=e,t&&(r.url=t),r}function rX(n){return iX(n)&&Y_(n.url)}function iX(n){return n&&n[o3]}class Qye{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new XE,this.attachRef=null}}let XE=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Qye,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aO=!1;let oX=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Lo,this.deactivateEvents=new Lo,this.attachEvents=new Lo,this.detachEvents=new Lo,this.name=i||oo,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new sn(4012,aO);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new sn(4012,aO);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new sn(4012,aO);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new sn(4013,aO);this._activatedRoute=t;const i=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new e_e(t,a,i.injector);if(r&&function t_e(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:null!=r?r:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(De(XE),De(ml),xh("name"),De(Ru),De(Th))},n.\u0275dir=Ln({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class e_e{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===EM?this.route:e===XE?this.childContexts:this.parent.get(e,t)}}let sX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=li({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&ie(0,"router-outlet")},dependencies:[oX],encapsulation:2}),n})();function aX(n,e){var t;return n.providers&&!n._injector&&(n._injector=MA(n.providers,e,`Route: ${n.path}`)),null!==(t=n._injector)&&void 0!==t?t:e}function a3(n){const e=n.children&&n.children.map(a3),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oo&&(t.component=sX),t}function Bd(n){return n.outlet||oo}function lX(n,e){const t=n.filter(r=>Bd(r)===e);return t.push(...n.filter(r=>Bd(r)!==e)),t}function uX(n){var e;if(!n)return null;if(null!==(e=n.routeConfig)&&void 0!==e&&e._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const r=t.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class s_e{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),n3(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=CM(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Dl(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=CM(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=CM(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=CM(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Gye(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Wye(e.value.snapshot))}activateRoutes(e,t,r){var i;const o=e.value,s=t?t.value:null;if(n3(o),o===s)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const u=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),n3(u.route.value),this.activateChildRoutes(e,null,a.children)}else{const u=uX(o.snapshot),c=null!==(i=null==u?void 0:u.get(Rh))&&void 0!==i?i:null;a.attachRef=null,a.route=o,a.resolver=c,a.injector=u,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class cX{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class lO{constructor(e,t){this.component=e,this.route=t}}function a_e(n,e,t){const r=n._root;return KE(r,e?e._root:null,t,[r.value])}function uO(n,e,t){const r=uX(e);return(null!=r?r:t).get(n)}function KE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=CM(e);return n.children.forEach(s=>{(function u_e(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function c_e(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!W_(n.url,e.url);case"pathParamsOrQueryParamsChange":return!W_(n.url,e.url)||!Bh(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!r3(n,e)||!Bh(n.queryParams,e.queryParams);default:return!r3(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new cX(r)):(o.data=s.data,o._resolvedData=s._resolvedData),KE(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new lO(a.outlet.component,s))}else s&&ZE(e,a,i),i.canActivateChecks.push(new cX(r)),KE(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Dl(o,(s,a)=>ZE(s,t.getContext(a),i)),i}function ZE(n,e,t){const r=CM(n),i=n.value;Dl(r,(o,s)=>{ZE(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new lO(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function qE(n){return"function"==typeof n}function l3(n){return n instanceof KA||"EmptyError"===(null==n?void 0:n.name)}const cO=Symbol("INITIAL_VALUE");function TM(){return Hd(n=>zH(n.map(e=>e.pipe(Qa(1),rm(cO)))).pipe(En(e=>{for(const t of e)if(!0!==t){if(t===cO)return cO;if(!1===t||t instanceof j_)return t}return!0}),Oa(e=>e!==cO),Qa(1)))}function dX(n){return function Oe(...n){return me(n)}(ka(e=>{if(Y_(e))throw tX(0,e)}),En(e=>!0===e))}const u3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fX(n,e,t,r,i){const o=c3(n,e,t);return o.matched?function T_e(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Lr(i.map(s=>{const a=n.get(s),u=function g_e(n){return n&&qE(n.canMatch)}(a)?a.canMatch(e,t):a(e,t);return om(u)})).pipe(TM(),dX()):Lr(!0)}(r=aX(e,r),e,t).pipe(En(s=>!0===s?o:Object.assign({},u3))):Lr(o)}function c3(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},u3):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||uye)(t,n,e);if(!o)return Object.assign({},u3);const s={};Dl(o.posParams,(u,c)=>{s[c]=u.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function dO(n,e,t,r,i="corrected"){if(t.length>0&&function A_e(n,e,t){return t.some(r=>fO(n,e,r)&&Bd(r)!==oo)}(n,t,r)){const s=new lo(e,function D_e(n,e,t,r){const i={};i[oo]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Bd(o)!==oo){const s=new lo([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[Bd(o)]=s}return i}(n,e,r,new lo(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function O_e(n,e,t){return t.some(r=>fO(n,e,r))}(n,t,r)){const s=new lo(n.segments,function R_e(n,e,t,r,i,o){const s={};for(const a of r)if(fO(n,t,a)&&!i[Bd(a)]){const u=new lo([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[Bd(a)]=u}return Object.assign(Object.assign({},i),s)}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new lo(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function fO(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function hX(n,e,t,r){return!!(Bd(n)===r||r!==oo&&fO(e,t,n))&&("**"===n.path||c3(e,n,t).matched)}function pX(n,e,t){return 0===e.length&&!n.children[t]}const hO=!1;class pO{constructor(e){this.segmentGroup=e||null}}class mX{constructor(e){this.urlTree=e}}function JE(n){return wM(new pO(n))}function gX(n){return wM(new mX(n))}class P_e{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=dO(this.urlTree.root,[],[],this.config).segmentGroup,t=new lo(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,oo).pipe(En(o=>this.createUrlTree(iO(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(im(o=>{if(o instanceof mX)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof pO?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,oo).pipe(En(i=>this.createUrlTree(iO(i),e.queryParams,e.fragment))).pipe(im(i=>{throw i instanceof pO?this.noMatchError(i):i}))}noMatchError(e){return new sn(4002,hO)}createUrlTree(e,t,r){const i=XH(e);return new j_(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(En(o=>new lo([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return $o(i).pipe(bv(o=>{const s=r.children[o],a=lX(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(En(u=>({segment:u,outlet:o})))}),E$((o,s)=>(o[s.outlet]=s.segment,o),{}),T$())}expandSegment(e,t,r,i,o,s){return $o(r).pipe(bv(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(im(c=>{if(c instanceof pO)return Lr(null);throw c}))),_v(a=>!!a),im((a,u)=>{if(l3(a))return pX(t,i,o)?Lr(new lo([],{})):JE(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return hX(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):JE(t):JE(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gX(o):this.lineralizeSegments(r,o).pipe(Uo(s=>{const a=new lo(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:f}=c3(t,i,o);if(!a)return JE(t);const p=this.applyRedirectCommands(u,i.redirectTo,f);return i.redirectTo.startsWith("/")?gX(p):this.lineralizeSegments(i,p).pipe(Uo(g=>this.expandSegment(e,t,r,g.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=aX(r,e),r.loadChildren?(r._loadedRoutes?Lr({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(En(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new lo(i,{})))):Lr(new lo(i,{}))):fX(t,r,i,e).pipe(Hd(({matched:s,consumedSegments:a,remainingSegments:u})=>{var c;return s?(e=null!==(c=r._injector)&&void 0!==c?c:e,this.getChildConfig(e,r,i).pipe(Uo(p=>{var g;const y=null!==(g=p.injector)&&void 0!==g?g:e,w=p.routes,{segmentGroup:M,slicedSegments:C}=dO(t,a,u,w),I=new lo(M.segments,M.children);if(0===C.length&&I.hasChildren())return this.expandChildren(y,w,I).pipe(En($=>new lo(a,$)));if(0===w.length&&0===C.length)return Lr(new lo(a,{}));const B=Bd(r)===o;return this.expandSegment(y,I,w,C,B?oo:o,!0).pipe(En(j=>new lo(a.concat(j.segments),j.children)))}))):JE(t)}))}getChildConfig(e,t,r){return t.children?Lr({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Lr({routes:t._loadedRoutes,injector:t._loadedInjector}):function E_e(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Lr(!0):Lr(i.map(s=>{const a=n.get(s),u=function f_e(n){return n&&qE(n.canLoad)}(a)?a.canLoad(e,t):a(e,t);return om(u)})).pipe(TM(),dX())}(e,t,r).pipe(Uo(i=>i?this.configLoader.loadChildren(e,t).pipe(ka(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function L_e(n){return wM(nX(hO,3))}())):Lr({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Lr(r);if(i.numberOfChildren>1||!i.children[oo])return wM(new sn(4e3,hO));i=i.children[oo]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new j_(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Dl(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Dl(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,i)}),new lo(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new sn(4001,hO);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class F_e{}class V_e{constructor(e,t,r,i,o,s,a,u){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=dO(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,oo).pipe(En(t=>{if(null===t)return null;const r=new sO([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},oo,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new am(r,t),o=new Q$(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=J$(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return $o(Object.keys(r.children)).pipe(bv(i=>{const o=r.children[i],s=lX(t,i);return this.processSegmentGroup(e,s,o,i)}),E$((i,o)=>i&&o?(i.push(...o),i):null),function aye(n,e=!1){return Un((t,r)=>{let i=0;t.subscribe(kn(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),qA(null),T$(),En(i=>{if(null===i)return null;const o=vX(i);return function z_e(n){n.sort((e,t)=>e.value.outlet===oo?-1:t.value.outlet===oo?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return $o(t).pipe(bv(s=>{var a;return this.processSegmentAgainstRoute(null!==(a=s._injector)&&void 0!==a?a:e,s,r,i,o)}),_v(s=>!!s),im(s=>{if(l3(s))return pX(r,i,o)?Lr([]):Lr(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){var s,a;if(t.redirectTo||!hX(t,r,i,o))return Lr(null);let u;if("**"===t.path){const c=i.length>0?O$(i).parameters:{},f=_X(r)+i.length;u=Lr({snapshot:new sO(i,c,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wX(t),Bd(t),null!==(a=null!==(s=t.component)&&void 0!==s?s:t._loadedComponent)&&void 0!==a?a:null,t,yX(r),f,MX(t),f),consumedSegments:[],remainingSegments:[]})}else u=fX(r,t,i,e).pipe(En(({matched:c,consumedSegments:f,remainingSegments:p,parameters:g})=>{var y,w;if(!c)return null;const M=_X(r)+f.length;return{snapshot:new sO(f,g,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wX(t),Bd(t),null!==(w=null!==(y=t.component)&&void 0!==y?y:t._loadedComponent)&&void 0!==w?w:null,t,yX(r),M,MX(t),M),consumedSegments:f,remainingSegments:p}}));return u.pipe(Hd(c=>{var f,p;if(null===c)return Lr(null);const{snapshot:g,consumedSegments:y,remainingSegments:w}=c;e=null!==(f=t._injector)&&void 0!==f?f:e;const M=null!==(p=t._loadedInjector)&&void 0!==p?p:e,C=function U_e(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:I,slicedSegments:B}=dO(r,y,w,C.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);if(0===B.length&&I.hasChildren())return this.processChildren(M,C,I).pipe(En(j=>null===j?null:[new am(g,j)]));if(0===C.length&&0===B.length)return Lr([new am(g,[])]);const U=Bd(t)===o;return this.processSegment(M,C,I,B,U?oo:o).pipe(En(j=>null===j?null:[new am(g,j)]))}))}}function j_e(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vX(n){const e=[],t=new Set;for(const r of n){if(!j_e(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=vX(r.children);e.push(new am(r.value,i))}return e.filter(r=>!t.has(r))}function yX(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _X(n){var e,t;let r=n,i=null!==(e=r._segmentIndexShift)&&void 0!==e?e:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=null!==(t=r._segmentIndexShift)&&void 0!==t?t:0;return i-1}function wX(n){return n.data||{}}function MX(n){return n.resolve||{}}const d3=Symbol("RouteTitle");function SX(n){return"string"==typeof n.title||null===n.title}function f3(n){return Hd(e=>{const t=n(e);return t?$o(t).pipe(En(()=>e)):Lr(e)})}let xX=(()=>{class n{buildTitle(t){var r;let i,o=t.root;for(;void 0!==o;)i=null!==(r=this.getResolvedTitleForRoute(o))&&void 0!==r?r:i,o=o.children.find(s=>s.outlet===oo);return i}getResolvedTitleForRoute(t){return t.data[d3]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:function(){return ms(CX)},providedIn:"root"}),n})(),CX=(()=>{class n extends xX{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(wt(y$))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class q_e{}class Q_e extends class J_e{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const h3=new Tn("",{providedIn:"root",factory:()=>({})}),p3=new Tn("ROUTES");let m3=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Lr(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=om(t.loadComponent()).pipe(ka(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),JA(()=>{this.componentLoaders.delete(t)})),i=new jH(r,()=>new Nt).pipe(UH());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Lr({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(En(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,f=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=A$(u.get(p3,[],ur.Self|ur.Optional)));return{routes:c.map(a3),injector:u}}),JA(()=>{this.childrenLoaders.delete(r)})),s=new jH(o,()=>new Nt).pipe(UH());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return om(t()).pipe(Uo(r=>r instanceof p7||Array.isArray(r)?Lr(r):$o(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(wt(ws),wt(aH))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tbe{}class nbe{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function rbe(n){throw n}function ibe(n,e,t){return e.parse("/")}const obe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sbe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function TX(){var n,e;const t=ms(F$),r=ms(XE),i=ms(PE),o=ms(ws),s=ms(aH),a=null!==(n=ms(p3,{optional:!0}))&&void 0!==n?n:[],u=null!==(e=ms(h3,{optional:!0}))&&void 0!==e?e:{},c=ms(CX),f=ms(xX,{optional:!0}),p=ms(tbe,{optional:!0}),g=ms(q_e,{optional:!0}),y=new Du(null,t,r,i,o,s,A$(a));return p&&(y.urlHandlingStrategy=p),g&&(y.routeReuseStrategy=g),y.titleStrategy=null!=f?f:c,function abe(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,y),y}let Du=(()=>{class n{constructor(t,r,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Nt,this.errorHandler=rbe,this.malformedUriErrorHandler=ibe,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Lr(void 0),this.urlHandlingStrategy=new nbe,this.routeReuseStrategy=new Q_e,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(m3),this.configLoader.onLoadEndListener=g=>this.triggerEvent(new Uye(g)),this.configLoader.onLoadStartListener=g=>this.triggerEvent(new zye(g)),this.ngModule=s.get(B_),this.console=s.get(lme);const p=s.get(xi);this.isNgZoneEnabled=p instanceof xi&&xi.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function dye(){return new j_(new lo([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=q$(this.currentUrlTree,this.rootComponentType),this.transitions=new $c({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Oa(i=>0!==i.id),En(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Hd(i=>{let o=!1,s=!1;return Lr(i).pipe(ka(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Hd(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return RX(a.source)&&(this.browserUrlTree=a.extractedUrl),Lr(a).pipe(Hd(p=>{const g=this.transitions.getValue();return r.next(new JH(p.id,this.serializeUrl(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions.getValue()?vo:Promise.resolve(p)}),function N_e(n,e,t,r){return Hd(i=>function I_e(n,e,t,r,i){return new P_e(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(En(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ka(p=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:p.urlAfterRedirects}),i.urlAfterRedirects=p.urlAfterRedirects}),function Y_e(n,e,t,r,i,o){return Uo(s=>function B_e(n,e,t,r,i,o,s="emptyOnly",a="legacy"){return new V_e(n,e,t,r,i,s,a,o).recognize().pipe(Hd(u=>null===u?function H_e(n){return new dt(e=>e.error(n))}(new F_e):Lr(u)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(En(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ka(p=>{if(i.targetSnapshot=p.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!p.extras.skipLocationChange){const y=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl);this.setBrowserUrl(y,p)}this.browserUrlTree=p.urlAfterRedirects}const g=new Nye(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);r.next(g)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:g,extractedUrl:y,source:w,restoredState:M,extras:C}=a,I=new JH(g,this.serializeUrl(y),w,M);r.next(I);const B=q$(y,this.rootComponentType).snapshot;return Lr(i=Object.assign(Object.assign({},a),{targetSnapshot:B,urlAfterRedirects:y,extras:Object.assign(Object.assign({},C),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),vo}),ka(a=>{const u=new Fye(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),En(a=>i=Object.assign(Object.assign({},a),{guards:a_e(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function y_e(n,e){return Uo(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Lr(Object.assign(Object.assign({},t),{guardsResult:!0})):function __e(n,e,t,r){return $o(n).pipe(Uo(i=>function C_e(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Lr(o.map(a=>{const u=uO(a,e,i);return om(function m_e(n){return n&&qE(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):u(n,e,t,r)).pipe(_v())})).pipe(TM()):Lr(!0)}(i.component,i.route,t,e,r)),_v(i=>!0!==i,!0))}(s,r,i,n).pipe(Uo(a=>a&&function d_e(n){return"boolean"==typeof n}(a)?function b_e(n,e,t,r){return $o(e).pipe(bv(i=>zE(function M_e(n,e){return null!==n&&e&&e(new jye(n)),Lr(!0)}(i.route.parent,r),function w_e(n,e){return null!==n&&e&&e(new Yye(n)),Lr(!0)}(i.route,r),function x_e(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function l_e(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>ZA(()=>Lr(s.guards.map(u=>{const c=uO(u,s.node,t);return om(function p_e(n){return n&&qE(n.canActivateChild)}(c)?c.canActivateChild(r,n):c(r,n)).pipe(_v())})).pipe(TM())));return Lr(o).pipe(TM())}(n,i.path,t),function S_e(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Lr(!0);const i=r.map(o=>ZA(()=>{const s=uO(o,e,t);return om(function h_e(n){return n&&qE(n.canActivate)}(s)?s.canActivate(e,n):s(e,n)).pipe(_v())}));return Lr(i).pipe(TM())}(n,i.route,t))),_v(i=>!0!==i,!0))}(r,o,n,e):Lr(a)),En(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ka(a=>{if(i.guardsResult=a.guardsResult,Y_(a.guardsResult))throw tX(0,a.guardsResult);const u=new Hye(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Oa(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),f3(a=>{if(a.guards.canActivateChecks.length)return Lr(a).pipe(ka(u=>{const c=new Bye(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Hd(u=>{let c=!1;return Lr(u).pipe(function G_e(n,e){return Uo(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Lr(t);let o=0;return $o(i).pipe(bv(s=>function $_e(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==(null==i?void 0:i.title)&&!SX(i)&&(o[d3]=i.title),function X_e(n,e,t,r){const i=function K_e(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Lr({});const o={};return $o(i).pipe(Uo(s=>function Z_e(n,e,t,r){const i=uO(n,e,r);return om(i.resolve?i.resolve(e,t):i(e,t))}(n[s],e,t,r).pipe(_v(),ka(a=>{o[s]=a}))),WH(1),R$(o),im(s=>l3(s)?vo:wM(s)))}(o,n,e,r).pipe(En(s=>(n._resolvedData=s,n.data=J$(n,t).resolve,i&&SX(i)&&(n.data[d3]=i.title),null)))}(s.route,r,n,e)),ka(()=>o++),WH(1),Uo(s=>o===i.length?Lr(t):vo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ka({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),ka(u=>{const c=new Vye(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),f3(a=>{const u=c=>{var f;const p=[];(null===(f=c.routeConfig)||void 0===f?void 0:f.loadComponent)&&!c.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(c.routeConfig).pipe(ka(g=>{c.component=g}),En(()=>{})));for(const g of c.children)p.push(...u(g));return p};return zH(u(a.targetSnapshot.root)).pipe(qA(),Qa(1))}),f3(()=>this.afterPreactivation()),En(a=>{const u=function Zye(n,e,t){const r=$E(n,e._root,t?t._root:void 0);return new Z$(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i=Object.assign(Object.assign({},a),{targetRouterState:u})}),ka(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>En(r=>(new s_e(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ka({next(){o=!0},complete(){o=!0}}),JA(()=>{var a;o||s||this.cancelNavigationTransition(i,"",1),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),im(a=>{var u;if(s=!0,iX(a)){rX(a)||(this.navigated=!0,this.restoreHistory(i,!0));const c=new oO(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(c),rX(a)){const f=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),p={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||RX(i.source)};this.scheduleNavigation(f,"imperative",null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new $$(i.id,this.serializeUrl(i.extractedUrl),a,null!==(u=i.targetSnapshot)&&void 0!==u?u:void 0);r.next(c);try{i.resolve(this.errorHandler(a))}catch(f){i.reject(f)}}return vo}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=null!==(i=t.state)&&void 0!==i&&i.navigationId?t.state:null;if(s){const u=Object.assign({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(a3),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,f=u?this.currentUrlTree.fragment:s;let p=null;switch(a){case"merge":p=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}return null!==p&&(p=this.removeEmptyProps(p)),Aye(c,this.currentUrlTree,t,p,null!=f?f:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Y_(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function lbe(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new sn(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},obe):!1===r?Object.assign({},sbe):r,Y_(t))return L$(this.currentUrlTree,t,i);const o=this.parseUrl(t);return L$(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{var r;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new G_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){var a,u;if(this.disposed)return Promise.resolve(!1);let c,f,p;s?(c=s.resolve,f=s.reject,p=s.promise):p=new Promise((w,M)=>{c=w,f=M});const g=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):y=0,this.setTransition({id:g,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:c,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new oO(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){w_()},n.\u0275prov=hn({token:n,factory:function(){return TX()},providedIn:"root"}),n})();function RX(n){return"imperative"!==n}class DX{}let AX=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Oa(t=>t instanceof G_),bv(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){var i,o,s;const a=[];for(const u of r){u.providers&&!u._injector&&(u._injector=MA(u.providers,t,`Route: ${u.path}`));const c=null!==(i=u._injector)&&void 0!==i?i:t,f=null!==(o=u._loadedInjector)&&void 0!==o?o:c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?a.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&a.push(this.processRoutes(f,null!==(s=u.children)&&void 0!==s?s:u._loadedRoutes))}return $o(a).pipe(So())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Lr(null);const o=i.pipe(Uo(s=>{var a;return null===s?Lr(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:t,s.routes))}));return r.loadComponent&&!r._loadedComponent?$o([o,this.loader.loadComponent(r)]).pipe(So()):o})}}return n.\u0275fac=function(t){return new(t||n)(wt(Du),wt(aH),wt(Th),wt(DX),wt(m3))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();const OX=new Tn("");let dbe=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof JH?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof G_&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof X$&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new X$(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){w_()},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();const kX=new Tn("ROUTER_FORROOT_GUARD"),LX=new Tn(""),fbe=[PE,{provide:F$,useClass:GH},{provide:Du,useFactory:TX},XE,{provide:EM,useFactory:function hbe(n){return n.routerState.root},deps:[Du]},m3];function pbe(){return new l9("Router",Du)}let IX=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[fbe,[],PX(t),{provide:kX,useFactory:ybe,deps:[[Du,new Ch,new Rg]]},{provide:h3,useValue:r||{}},null!=r&&r.useHash?{provide:z_,useClass:qme}:{provide:z_,useClass:k9},{provide:OX,useFactory:()=>{const n=ms(Du),e=ms(pve),t=ms(h3);return t.scrollOffset&&e.setOffset(t.scrollOffset),new dbe(n,e,t)}},null!=r&&r.preloadingStrategy?Cbe(r.preloadingStrategy):[],{provide:l9,multi:!0,useFactory:pbe},null!=r&&r.initialNavigation?bbe(r):[],[{provide:NX,useFactory:_be},{provide:t9,multi:!0,useExisting:NX}]]}}static forChild(t){return{ngModule:n,providers:[PX(t)]}}}return n.\u0275fac=function(t){return new(t||n)(wt(kX,8))},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({}),n})();function ybe(n){return"guarded"}function PX(n){return[{provide:p3,multi:!0,useValue:n}]}function _be(){const n=ms(ws);return e=>{var t,r;const i=n.get(bM);if(e!==i.components[0])return;const o=n.get(Du),s=n.get(FX);1===n.get(y3)&&o.initialNavigation(),null===(t=n.get(LX,null,ur.Optional))||void 0===t||t.setUpPreloading(),null===(r=n.get(OX,null,ur.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.next(),s.complete()}}const NX=new Tn("");function bbe(n){return["disabled"===n.initialNavigation?[{provide:EA,multi:!0,useFactory:()=>{const n=ms(Du);return()=>{n.setUpLocationChangeListener()}}},{provide:y3,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:y3,useValue:0},{provide:EA,multi:!0,deps:[ws],useFactory:n=>{const e=n.get(Kme,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(i=>{const o=n.get(Du),s=n.get(FX);(function r(i){n.get(Du).events.pipe(Oa(s=>s instanceof G_||s instanceof oO||s instanceof $$),En(s=>s instanceof G_||s instanceof oO&&(0===s.code||1===s.code)&&null),Oa(s=>null!==s),Qa(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),o.afterPreactivation=()=>(i(!0),t||s.closed?Lr(void 0):s),o.initialNavigation()}))}}]:[]]}const FX=new Tn("",{factory:()=>new Nt}),y3=new Tn("",{providedIn:"root",factory:()=>1});function Cbe(n){return[AX,{provide:LX,useExisting:AX},{provide:DX,useExisting:n}]}const Ebe=[];let Tbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[IX.forRoot(Ebe),IX]}),n})();const Vh=Object.create(null);Vh.open="0",Vh.close="1",Vh.ping="2",Vh.pong="3",Vh.message="4",Vh.upgrade="5",Vh.noop="6";const vO=Object.create(null);Object.keys(Vh).forEach(n=>{vO[Vh[n]]=n});const Rbe={type:"error",data:"parser error"},Dbe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Abe="function"==typeof ArrayBuffer,HX=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+r)},t.readAsDataURL(n)},BX=({type:n,data:e},t,r)=>Dbe&&e instanceof Blob?t?r(e):HX(e,r):Abe&&(e instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer)(e))?t?r(e):HX(new Blob([e]),r):r(Vh[n]+(e||"")),RM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",QE="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<RM.length;n++)QE[RM.charCodeAt(n)]=n;const Ibe="function"==typeof ArrayBuffer,Nbe=(n,e)=>{if(Ibe){const t=(n=>{let r,o,s,a,u,e=.75*n.length,t=n.length,i=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const c=new ArrayBuffer(e),f=new Uint8Array(c);for(r=0;r<t;r+=4)o=QE[n.charCodeAt(r)],s=QE[n.charCodeAt(r+1)],a=QE[n.charCodeAt(r+2)],u=QE[n.charCodeAt(r+3)],f[i++]=o<<2|s>>4,f[i++]=(15&s)<<4|a>>2,f[i++]=(3&a)<<6|63&u;return c})(n);return VX(t,e)}return{base64:!0,data:n}},VX=(n,e)=>"blob"===e&&n instanceof ArrayBuffer?new Blob([n]):n,zX=(n,e)=>{if("string"!=typeof n)return{type:"message",data:VX(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:Nbe(n.substring(1),e)}:vO[t]?n.length>1?{type:vO[t],data:n.substring(1)}:{type:vO[t]}:Rbe},UX=String.fromCharCode(30);function La(n){if(n)return function Bbe(n){for(var e in La.prototype)n[e]=La.prototype[e];return n}(n)}La.prototype.on=La.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},La.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},La.prototype.off=La.prototype.removeListener=La.prototype.removeAllListeners=La.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if((r=t[i])===e||r.fn===e){t.splice(i,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},La.prototype.emitReserved=La.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){r=0;for(var i=(t=t.slice(0)).length;r<i;++r)t[r].apply(this,e)}return this},La.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},La.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Mv="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function WX(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const Vbe=setTimeout,zbe=clearTimeout;function yO(n,e){e.useNativeTimers?(n.setTimeoutFn=Vbe.bind(Mv),n.clearTimeoutFn=zbe.bind(Mv)):(n.setTimeoutFn=setTimeout.bind(Mv),n.clearTimeoutFn=clearTimeout.bind(Mv))}function jbe(n){return"string"==typeof n?function Wbe(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}class Ybe extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class YX extends La{constructor(e){super(),this.writable=!1,yO(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new Ybe(e,t,r)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=zX(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const GX="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),$X={};let KX,XX=0,Sv=0;function ZX(n){let e="";do{e=GX[n%64]+e,n=Math.floor(n/64)}while(n>0);return e}function qX(){const n=ZX(+new Date);return n!==KX?(XX=0,KX=n):n+"."+ZX(XX++)}for(;Sv<64;Sv++)$X[GX[Sv]]=Sv;function JX(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}let QX=!1;try{QX="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){}const $be=QX;function eK(n){const e=n.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||$be))return new XMLHttpRequest}catch(t){}if(!e)try{return new(Mv[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function Xbe(){}const Kbe=null!=new eK({xdomain:!1}).responseType;let bO=(()=>{class n extends La{constructor(t,r){super(),yO(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.async=!1!==r.async,this.data=void 0!==r.data?r.data:null,this.create()}create(){const t=WX(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const r=this.xhr=new eK(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof r.status?r.status:0)},0))},r.send(this.data)}catch(i){return void this.setTimeoutFn(()=>{this.onError(i)},0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(null!=this.xhr){if(this.xhr.onreadystatechange=Xbe,t)try{this.xhr.abort()}catch(r){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();function tK(){for(let n in bO.requests)bO.requests.hasOwnProperty(n)&&bO.requests[n].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",tK):"function"==typeof addEventListener&&addEventListener("onpagehide"in Mv?"pagehide":"unload",tK,!1));const qbe="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),wO=Mv.WebSocket||Mv.MozWebSocket,nK="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),ewe={websocket:class Qbe extends YX{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=nK?{}:WX(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=nK?new wO(e,t,r):t?new wO(e,t):new wO(e)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=t===e.length-1;BX(e[t],this.supportsBinary,o=>{try{this.ws.send(o)}catch(a){}i&&qbe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=qX()),this.supportsBinary||(e.b64=1);const i=JX(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!wO}},polling:class Zbe extends YX{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const r="https:"===location.protocol;let i=location.port;i||(i=r?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}this.supportsBinary=Kbe&&!(e&&e.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split(UX),r=[];for(let i=0;i<t.length;i++){const o=zX(t[i],e);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((o,s)=>{BX(o,!1,a=>{r[s]=a,++i===t&&e(r.join(UX))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=qX()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const i=JX(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new bO(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}},twe=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nwe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function b3(n){const e=n,t=n.indexOf("["),r=n.indexOf("]");-1!=t&&-1!=r&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=twe.exec(n||""),o={},s=14;for(;s--;)o[nwe[s]]=i[s]||"";return-1!=t&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function rwe(n,e){const r=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.substr(0,1)||0===e.length)&&r.splice(0,1),"/"==e.substr(e.length-1,1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function iwe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}(0,o.query),o}let rK=(()=>{class n extends La{constructor(t,r={}){super(),t&&"object"==typeof t&&(r=t,t=null),t?(t=b3(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=b3(r.host).host),yO(this,r),this.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=r.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function Gbe(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts.transportOptions[t],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ewe[t](i)}open(){let t;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(r){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),i=!1;n.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",g=>{if(!i)if("pong"===g.type&&"probe"===g.data){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(p(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=r.name,this.emitReserved("upgradeError",y)}}))};function s(){i||(i=!0,p(),r.close(),r=null)}const a=g=>{const y=new Error("probe error: "+g);y.transport=r.name,s(),this.emitReserved("upgradeError",y)};function u(){a("transport closed")}function c(){a("socket closed")}function f(g){r&&g.name!==r.name&&s()}const p=()=>{r.removeListener("open",o),r.removeListener("error",a),r.removeListener("close",u),this.off("close",c),this.off("upgrading",f)};r.once("open",o),r.once("error",a),r.once("close",u),this.once("close",c),this.once("upgrading",f),r.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let t=0;const r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=jbe(o)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(t,r,i){return this.sendPacket("message",t,r,i),this}send(t,r,i){return this.sendPacket("message",t,r,i),this}sendPacket(t,r,i,o){if("function"==typeof r&&(o=r,r=void 0),"function"==typeof i&&(o=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const r=[];let i=0;const o=t.length;for(;i<o;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}return n.protocol=4,n})();const swe="function"==typeof ArrayBuffer,iK=Object.prototype.toString,lwe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===iK.call(Blob),uwe="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===iK.call(File);function w3(n){return swe&&(n instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer)(n))||lwe&&n instanceof Blob||uwe&&n instanceof File}function MO(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(MO(n[t]))return!0;return!1}if(w3(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return MO(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&MO(n[t]))return!0;return!1}function cwe(n){const e=[],r=n;return r.data=M3(n.data,e),r.attachments=e.length,{packet:r,buffers:e}}function M3(n,e){if(!n)return n;if(w3(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=M3(n[r],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=M3(n[r],e));return t}return n}function dwe(n,e){return n.data=S3(n.data,e),n.attachments=void 0,n}function S3(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=S3(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=S3(n[t],e));return n}const fwe=5;var Ao=(()=>{return(n=Ao||(Ao={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",Ao;var n})();class hwe{constructor(e){this.replacer=e}encode(e){return e.type!==Ao.EVENT&&e.type!==Ao.ACK||!MO(e)?[this.encodeAsString(e)]:(e.type=e.type===Ao.EVENT?Ao.BINARY_EVENT:Ao.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return(e.type===Ao.BINARY_EVENT||e.type===Ao.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=cwe(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}class x3 extends La{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e),t.type===Ao.BINARY_EVENT||t.type===Ao.BINARY_ACK?(this.reconstructor=new pwe(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!w3(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===Ao[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Ao.BINARY_EVENT||r.type===Ao.BINARY_ACK){const o=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(o,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(t+1)){const o=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(o,t)}else r.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const o=t+1;for(;++t;){const s=e.charAt(t);if(null==s||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){const o=this.tryParse(e.substr(t));if(!x3.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Ao.CONNECT:return"object"==typeof t;case Ao.DISCONNECT:return void 0===t;case Ao.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Ao.EVENT:case Ao.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Ao.ACK:case Ao.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class pwe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=dwe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Hf(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const mwe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class oK extends La{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Hf(e,"open",this.onopen.bind(this)),Hf(e,"packet",this.onpacket.bind(this)),Hf(e,"error",this.onerror.bind(this)),Hf(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(mwe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');t.unshift(e);const r={type:Ao.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const s=this.ids++,a=t.pop();this._registerAckCallback(s,a),r.id=s}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(void 0===r)return void(this.acks[e]=t);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...o])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this.packet({type:Ao.CONNECT,data:e})}):this.packet({type:Ao.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ao.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ao.EVENT:case Ao.BINARY_EVENT:this.onevent(e);break;case Ao.ACK:case Ao.BINARY_ACK:this.onack(e);break;case Ao.DISCONNECT:this.ondisconnect();break;case Ao.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:Ao.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ao.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function DM(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}DM.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=0==(1&Math.floor(10*e))?n-t:n+t}return 0|Math.min(n,this.max)},DM.prototype.reset=function(){this.attempts=0},DM.prototype.setMin=function(n){this.ms=n},DM.prototype.setMax=function(n){this.max=n},DM.prototype.setJitter=function(n){this.jitter=n};class C3 extends La{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,yO(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new DM({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||L;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new rK(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Hf(t,"open",function(){r.onopen(),e&&e()}),o=Hf(t,"error",s=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",s),e?e(s):r.maybeReconnectOnOpen()});if(!1!==this._timeout){const s=this._timeout;0===s&&i();const a=this.setTimeoutFn(()=>{i(),t.close(),t.emit("error",new Error("timeout"))},s);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Hf(e,"ping",this.onping.bind(this)),Hf(e,"data",this.ondata.bind(this)),Hf(e,"error",this.onerror.bind(this)),Hf(e,"close",this.onclose.bind(this)),Hf(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error")}}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new oK(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const eT={};function SO(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function owe(n,e="",t){let r=n;t=t||"undefined"!=typeof location&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=void 0!==t?t.protocol+"//"+n:"https://"+n),r=b3(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}(n,(e=e||{}).path||"/socket.io"),r=t.source,i=t.id;let u;return e.forceNew||e["force new connection"]||!1===e.multiplex||eT[i]&&t.path in eT[i].nsps?u=new C3(r,e):(eT[i]||(eT[i]=new C3(r,e)),u=eT[i]),t.query&&!e.query&&(e.query=t.queryKey),u.socket(t.path,e)}Object.assign(SO,{Manager:C3,Socket:oK,io:SO,connect:SO});let E3,sK=(()=>{class n{constructor(){this.comments=[{user:!1,content:"\u3054\u8cea\u554f\u306f\u3054\u3056\u3044\u307e\u3059\u304b\uff1f"}]}setupSocketConnection(){console.log("setupSocketConnection:","https://intense-plains-31465.herokuapp.com/"),this.socket=SO("https://intense-plains-31465.herokuapp.com/"),this.socket.on("HelpDesk->Customer",t=>{null!=t&&0!==t.trim().length&&(this.comments.push({user:!1,content:t}),console.log("receive a message from HelpDesk:",t))})}sendMessage(t){null!=t&&0!==t.trim().length&&(this.socket.emit("Customer->HelpDesk",t),this.comments.push({user:!0,content:t}),console.log("send a message to HelpDesk: ",t))}disconnect(){this.socket&&(this.socket.disconnect(),console.log("disconnect"))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{E3="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){E3=!1}let tT,$_,T3,uc=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function hve(n){return n===Q9}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E3)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(wt(RA))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OM(n){return function gwe(){if(null==tT&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>tT=!0}))}finally{tT=tT||!1}return tT}()?n:!!n.capture}function vwe(){if(null==$_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return $_=!1,$_;if("scrollBehavior"in document.documentElement.style)$_=!0;else{const n=Element.prototype.scrollTo;$_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return $_}function lK(n){if(function ywe(){if(null==T3){const n="undefined"!=typeof document?document.head:null;T3=!(!n||!n.createShadowRoot&&!n.attachShadow)}return T3}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function R3(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function X_(n){return n.composedPath?n.composedPath()[0]:n.target}function D3(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class A3{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class O3 extends A3{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class k3 extends A3{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class _we extends A3{constructor(e){super(),this.element=e instanceof gi?e.nativeElement:e}}class L3{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof O3?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof k3?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof _we?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class bwe extends L3{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,u=this._document.createComment("dom-portal");a.parentNode.insertBefore(u,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||ws.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let I3=(()=>{class n extends L3{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Lo,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=r.createComponent(o,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(De(Rh),De(ml),De(Ci))},n.\u0275dir=Ln({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[pr]}),n})(),nT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({}),n})();function K_(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class kwe extends F{constructor(e,t){super()}schedule(e,t=0){return this}}const AO={setInterval(n,e,...t){const{delegate:r}=AO;return null!=r&&r.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=AO;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class N3 extends kwe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return AO.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;AO.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,N(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const pK={now:()=>(pK.delegate||Date).now(),delegate:void 0};class rT{constructor(e,t=rT.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}rT.now=pK.now;class F3 extends rT{constructor(e,t=rT.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const OO=new F3(N3),Lwe=OO;function mK(n,e=OO){return Un((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function u(){const c=s+n,f=e.now();if(f<c)return i=this.schedule(void 0,c-f),void r.add(i);a()}t.subscribe(kn(r,c=>{o=c,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function gK(n){return Oa((e,t)=>n<=t)}function Pwe(n,e){return n===e}function Ql(n){return Un((e,t)=>{fs(n).subscribe(kn(t,()=>t.complete(),K)),!t.closed&&e.subscribe(t)})}function Al(n){return null!=n&&"false"!=`${n}`}function lm(n,e=0){return function Nwe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function kO(n){return Array.isArray(n)?n:[n]}function Ia(n){return null==n?"":"string"==typeof n?n:`${n}px`}function kM(n){return n instanceof gi?n.nativeElement:n}let Fwe=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({providers:[Fwe]}),n})();const yK=new Set;let LM,Hwe=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Vwe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Bwe(n){if(!yK.has(n))try{LM||(LM=document.createElement("style"),LM.setAttribute("type","text/css"),document.head.appendChild(LM)),LM.sheet&&(LM.sheet.insertRule(`@media ${n} {body{ }}`,0),yK.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(wt(uc))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vwe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let zwe=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Nt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return _K(kO(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=zH(_K(kO(t)).map(s=>this._registerQuery(s).observable));return o=zE(o.pipe(Qa(1)),o.pipe(gK(1),mK(0))),o.pipe(En(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:c})=>{a.matches=a.matches||u,a.breakpoints[c]=u}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new dt(s=>{const a=u=>this._zone.run(()=>s.next(u));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(rm(r),En(({matches:s})=>({query:t,matches:s})),Ql(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(wt(Hwe),wt(xi))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _K(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class MK extends class Wwe{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Nt,this._typeaheadSubscription=F.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Nt,this.change=new Nt,e instanceof gM&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ka(t=>this._pressedLetters.push(t)),mK(e),Oa(()=>this._pressedLetters.length>0),En(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,s=r[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||K_(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof gM?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let LO=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Gwe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Ywe(n){try{return n.frameElement}catch(e){return null}}(function e0e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===xK(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=xK(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Jwe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Qwe(n){return!function Xwe(n){return function Zwe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function $we(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Kwe(n){return function qwe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||SK(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(wt(uc))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SK(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function xK(n){if(!SK(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class t0e{constructor(e,t,r,i,o=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Qa(1)).subscribe(e)}}let H3=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new t0e(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(wt(LO),wt(xi),wt(Ci))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function B3(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function V3(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const n0e=new Tn("cdk-input-modality-detector-options"),r0e={ignoreKeys:[18,17,224,91,16]},IM=OM({passive:!0,capture:!0});let i0e=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new $c(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,u;null!==(u=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)&&void 0!==u&&u.some(c=>c===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=X_(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(B3(s)?"keyboard":"mouse"),this._mostRecentTarget=X_(s))},this._onTouchstart=s=>{V3(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=X_(s))},this._options=Object.assign(Object.assign({},r0e),o),this.modalityDetected=this._modality.pipe(gK(1)),this.modalityChanged=this.modalityDetected.pipe(function Iwe(n,e=Pt){return n=null!=n?n:Pwe,Un((t,r)=>{let i,o=!0;t.subscribe(kn(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,IM),i.addEventListener("mousedown",this._onMousedown,IM),i.addEventListener("touchstart",this._onTouchstart,IM)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,IM),document.removeEventListener("mousedown",this._onMousedown,IM),document.removeEventListener("touchstart",this._onTouchstart,IM))}}return n.\u0275fac=function(t){return new(t||n)(wt(uc),wt(xi),wt(Ci),wt(n0e,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s0e=new Tn("cdk-focus-monitor-default-options"),IO=OM({passive:!0,capture:!0});let xv=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Nt,this._rootNodeFocusAndBlurListener=a=>{for(let c=X_(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(t,r=!1){const i=kM(t);if(!this._platform.isBrowser||1!==i.nodeType)return Lr(null);const o=lK(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new Nt,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=kM(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=kM(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,u])=>this._originChanged(a,r,u)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!(null==t||!t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=X_(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,IO),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,IO)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ql(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,IO),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,IO),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(wt(xi),wt(uc),wt(i0e),wt(Ci,8),wt(s0e,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EK="cdk-high-contrast-black-on-white",TK="cdk-high-contrast-white-on-black",z3="cdk-high-contrast-active";let RK=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=ms(zwe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(z3,EK,TK),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(z3,EK):2===r&&t.add(z3,TK)}}}return n.\u0275fac=function(t){return new(t||n)(wt(uc),wt(Ci))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DK=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(wt(RK))},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[vK]}),n})();const a0e=["addListener","removeListener"],l0e=["addEventListener","removeEventListener"],u0e=["on","off"];function U3(n,e,t,r){if(T(t)&&(r=t,t=void 0),r)return U3(n,e,t).pipe(VH(r));const[i,o]=function f0e(n){return T(n.addEventListener)&&T(n.removeEventListener)}(n)?l0e.map(s=>a=>n[s](e,a,t)):function c0e(n){return T(n.addListener)&&T(n.removeListener)}(n)?a0e.map(AK(n,e)):function d0e(n){return T(n.on)&&T(n.off)}(n)?u0e.map(AK(n,e)):[];if(!i&&kl(n))return Uo(s=>U3(s,e,t))(fs(n));if(!i)throw new TypeError("Invalid event target");return new dt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function AK(n,e){return t=>r=>n[t](e,r)}const iT={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=iT;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new F(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=iT;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=iT;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class p0e extends F3{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class h0e extends N3{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=iT.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(iT.cancelAnimationFrame(t),e._scheduled=void 0)}});let j3,g0e=1;const PO={};function OK(n){return n in PO&&(delete PO[n],!0)}const v0e={setImmediate(n){const e=g0e++;return PO[e]=!0,j3||(j3=Promise.resolve()),j3.then(()=>OK(e)&&n()),e},clearImmediate(n){OK(n)}},{setImmediate:y0e,clearImmediate:_0e}=v0e,NO={setImmediate(...n){const{delegate:e}=NO;return((null==e?void 0:e.setImmediate)||y0e)(...n)},clearImmediate(n){const{delegate:e}=NO;return((null==e?void 0:e.clearImmediate)||_0e)(n)},delegate:void 0},W3=new class w0e extends F3{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class b0e extends N3{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=NO.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(NO.clearImmediate(t),e._scheduled=void 0)}});function kK(n=0,e,t=Lwe){let r=-1;return null!=e&&(bi(e)?t=e:r=e),new dt(i=>{let o=function S0e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function LK(n,e=OO){return function M0e(n){return Un((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,r){r=!1;const c=i;i=null,t.next(c)}s&&t.complete()},u=()=>{o=null,s&&t.complete()};e.subscribe(kn(t,c=>{r=!0,i=c,o||fs(n(c)).subscribe(o=kn(t,a,u))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>kK(n,e))}const x0e=new Tn("cdk-dir-doc",{providedIn:"root",factory:function C0e(){return ms(Ci)}}),E0e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let PM=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Lo,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function T0e(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?E0e.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(wt(x0e,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({}),n})(),D0e=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Nt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new dt(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(LK(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Lr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Oa(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=kM(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>U3(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(wt(xi),wt(uc),wt(Ci,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FO=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Nt,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(LK(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(wt(uc),wt(xi),wt(Ci,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({}),n})(),Y3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[oT,sT,oT,sT]}),n})();const IK=vwe();class O0e{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ia(-this._previousScrollPosition.left),e.style.top=Ia(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),IK&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),IK&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class k0e{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class PK{enable(){}disable(){}attach(){}}function G3(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function NK(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class L0e{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();G3(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let I0e=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new PK,this.close=s=>new k0e(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new O0e(this._viewportRuler,this._document),this.reposition=s=>new L0e(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(wt(D0e),wt(FO),wt(xi),wt(Ci))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $3{constructor(e){if(this.scrollStrategy=new PK,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class P0e{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class aT{constructor(e,t,r,i,o,s,a,u,c,f=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=u,this._outsideClickDispatcher=c,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new Nt,this._attachments=new Nt,this._detachments=new Nt,this._locationChanges=F.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new Nt,this._outsidePointerEvents=new Nt,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qa(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof(null==t?void 0:t.onDestroy)&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ia(this._config.width),e.height=Ia(this._config.height),e.minWidth=Ia(this._config.minWidth),e.minHeight=Ia(this._config.minHeight),e.maxWidth=Ia(this._config.maxWidth),e.maxHeight=Ia(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),this._animationsDisabled||"undefined"==typeof requestAnimationFrame?this._backdropElement.classList.add(e):this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})})}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=kO(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ql(wc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let HO=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||D3()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),D3()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci),wt(uc))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FK="cdk-overlay-connected-position-bounding-box",N0e=/([A-Za-z%]+)$/;class F0e{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Nt,this._resizeSubscription=F.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(FK),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let u=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(u,t,a),f=this._getOverlayFit(c,t,r,a);if(f.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,u);this._canFitWithFlexibleDimensions(f,c,r)?o.push({position:a,origin:u,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(u,a)}):(!s||s.overlayFit.visibleArea<f.visibleArea)&&(s={overlayFit:f,overlayPoint:c,originPoint:u,position:a,overlayRect:t})}if(o.length){let a=null,u=-1;for(const c of o){const f=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);f>u&&(u=f,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Z_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FK),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?s:a}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=BK(t);let{x:s,y:a}=e,u=this._getOffset(i,"x"),c=this._getOffset(i,"y");u&&(s+=u),c&&(a+=c);let g=0-a,y=a+o.height-r.height,w=this._subtractOverflows(o.width,0-s,s+o.width-r.width),M=this._subtractOverflows(o.height,g,y),C=w*M;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:M===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=HK(this._overlayRef.getConfig().minHeight),a=HK(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=o;return(e.fitsInViewportVertically||null!=s&&s<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=BK(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),u=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0);let f=0,p=0;return f=i.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,p=i.height<=o.height?u||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:f,y:p},{x:e.x+f,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new P0e(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,f,p,g;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const y=Math.min(r.bottom-e.y+r.top,e.y),w=this._lastBoundingBoxSize.height;o=2*y,s=e.y-y,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)g=r.width-e.x+this._viewportMargin,f=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)p=e.x,f=r.right-e.x;else{const y=Math.min(r.right-e.x+r.left,e.x),w=this._lastBoundingBoxSize.width;f=2*y,p=e.x-y,f>w&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-w/2)}return{top:s,left:p,bottom:a,right:g,width:f,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Ia(r.height),i.top=Ia(r.top),i.bottom=Ia(r.bottom),i.width=Ia(r.width),i.left=Ia(r.left),i.right=Ia(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Ia(o)),s&&(i.maxWidth=Ia(s))}this._lastBoundingBoxSize=r,Z_(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Z_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Z_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const f=this._viewportRuler.getViewportScrollPosition();Z_(r,this._getExactOverlayY(t,e,f)),Z_(r,this._getExactOverlayX(t,e,f))}else r.position="static";let a="",u=this._getOffset(t,"x"),c=this._getOffset(t,"y");u&&(a+=`translateX(${u}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Ia(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Ia(s.maxWidth):o&&(r.maxWidth="")),Z_(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Ia(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Ia(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:NK(e,r),isOriginOutsideView:G3(e,r),isOverlayClipped:NK(t,r),isOverlayOutsideView:G3(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&kO(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof gi)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Z_(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function HK(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(N0e);return t&&"px"!==t?null:parseFloat(e)}return n||null}function BK(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const VK="cdk-global-overlay-wrapper";class H0e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(VK),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,u=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),f=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let y="",w="",M="";u?M="flex-start":"center"===f?(M="center",g?w=p:y=p):g?"left"===f||"end"===f?(M="flex-end",y=p):("right"===f||"start"===f)&&(M="flex-start",w=p):"left"===f||"start"===f?(M="flex-start",y=p):("right"===f||"end"===f)&&(M="flex-end",w=p),e.position=this._cssPosition,e.marginLeft=u?"0":y,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":w,t.justifyContent=M,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(VK),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let B0e=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new H0e}flexibleConnectedTo(t){return new F0e(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(wt(FO),wt(Ci),wt(uc),wt(HO))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zK=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V0e=(()=>{class n extends zK{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci),wt(xi,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z0e=(()=>{class n extends zK{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=X_(o)},this._clickListener=o=>{const s=X_(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let c=u.length-1;c>-1;c--){const f=u[c];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(s)||f.overlayElement.contains(a))break;const p=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci),wt(uc),wt(xi,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U0e=0,Cv=(()=>{class n{constructor(t,r,i,o,s,a,u,c,f,p,g,y){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=u,this._document=c,this._directionality=f,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new $3(t);return s.direction=s.direction||this._directionality.value,new aT(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+U0e++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(bM)),new bwe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(wt(I0e),wt(HO),wt(Rh),wt(B0e),wt(V0e),wt(ws),wt(xi),wt(Ci),wt(PM),wt(PE),wt(z0e),wt(qp,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();const Y0e={provide:new Tn("cdk-connected-overlay-scroll-strategy"),deps:[Cv],useFactory:function W0e(n){return()=>n.scrollStrategies.reposition()}};let X3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({providers:[Cv,Y0e],imports:[oT,nT,Y3,Y3]}),n})();function G0e(n,e){}class BO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let UK=(()=>{class n extends L3{constructor(t,r,i,o,s,a,u,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=u,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=f=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),p},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=R3(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=R3();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=R3())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(H3),De(Ci,8),De(BO),De(LO),De(xi),De(aT),De(xv))},n.\u0275cmp=li({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&Eu(I3,7),2&t){let i;_o(i=bo())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&ss("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[pr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&O(0,G0e,0,0,"ng-template",0)},dependencies:[I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class K3{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Nt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!K_(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=(null==t?void 0:t.focusOrigin)||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const jK=new Tn("DialogScrollStrategy"),$0e=new Tn("DialogData"),X0e=new Tn("DefaultDialogConfig"),Z0e={provide:jK,deps:[Cv],useFactory:function K0e(n){return()=>n.scrollStrategies.block()}};let q0e=0,WK=(()=>{class n{constructor(t,r,i,o,s,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Nt,this._afterOpenedAtThisLevel=new Nt,this._ariaHiddenElements=new Map,this.afterAllClosed=ZA(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(rm(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,r){const i=this._defaultOptions||new BO;(r=Object.assign(Object.assign({},i),r)).id=r.id||"cdk-dialog-"+q0e++,r.id&&this.getDialogById(r.id);const o=this._getOverlayConfig(r),s=this._overlay.create(o),a=new K3(s,r),u=this._attachContainer(s,a,r);return a.containerInstance=u,this._attachDialogContent(t,a,u,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){Z3(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){Z3(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),Z3(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new $3({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){var o;const s=i.injector||(null===(o=i.viewContainerRef)||void 0===o?void 0:o.injector),a=[{provide:BO,useValue:i},{provide:K3,useValue:r},{provide:aT,useValue:t}];let u;i.container?"function"==typeof i.container?u=i.container:(u=i.container.type,a.push(...i.container.providers(i))):u=UK;const c=new O3(u,i.viewContainerRef,ws.create({parent:s||this._injector,providers:a}),i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,o){if(t instanceof qa){const s=this._createInjector(o,r,i,void 0);let a={$implicit:o.data,dialogRef:r};o.templateContext&&(a=Object.assign(Object.assign({},a),"function"==typeof o.templateContext?o.templateContext():o.templateContext)),i.attachTemplatePortal(new k3(t,null,a,s))}else{const s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new O3(t,o.viewContainerRef,s,o.componentFactoryResolver));r.componentInstance=a.instance}}_createInjector(t,r,i,o){var s;const a=t.injector||(null===(s=t.viewContainerRef)||void 0===s?void 0:s.injector),u=[{provide:$0e,useValue:t.data},{provide:K3,useValue:r}];return t.providers&&("function"==typeof t.providers?u.push(...t.providers(r,t,i)):u.push(...t.providers)),t.direction&&(!a||!a.get(PM,null,ur.Optional))&&u.push({provide:PM,useValue:{value:t.direction,change:Lr()}}),ws.create({parent:a||o,providers:u})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const o=r[i];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(wt(Cv),wt(ws),wt(X0e,8),wt(n,12),wt(HO),wt(jK))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();function Z3(n,e){let t=n.length;for(;t--;)e(n[t])}let YK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({providers:[WK,Z0e],imports:[X3,nT,DK,nT]}),n})();const Q0e=new Tn("mat-sanity-checks",{providedIn:"root",factory:function J0e(){return!0}});let Io=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!D3()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(wt(RK),wt(Q0e,8),wt(Ci))},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[oT,oT]}),n})();function VO(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Al(e)}}}function lT(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function NM(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Al(e)}}}function eMe(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?lm(t):this.defaultTabIndex}}}let nMe=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function qK(n,e,t="mat"){n.changes.pipe(rm(n)).subscribe(({length:r})=>{uT(e,`${t}-2-line`,!1),uT(e,`${t}-3-line`,!1),uT(e,`${t}-multi-line`,!1),2===r||3===r?uT(e,`${t}-${r}-line`,!0):r>3&&uT(e,`${t}-multi-line`,!0)})}function uT(n,e,t){n.nativeElement.classList.toggle(e,t)}let JK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[Io,Io]}),n})();class rMe{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const QK={enterDuration:225,exitDuration:150},q3=OM({passive:!0}),eZ=["mousedown","touchstart"],tZ=["mouseup","mouseleave","touchend","touchcancel"];class oMe{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=kM(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},QK),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function sMe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,u=t-i.top,c=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=a-s+"px",f.style.top=u-s+"px",f.style.height=2*s+"px",f.style.width=2*s+"px",null!=r.color&&(f.style.backgroundColor=r.color),f.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(f);const p=window.getComputedStyle(f),y=p.transitionDuration,w="none"===p.transitionProperty||"0s"===y||"0s, 0s"===y,M=new rMe(this,f,r,w);f.style.transform="scale3d(1, 1, 1)",M.state=0,r.persistent||(this._mostRecentTransientRipple=M);let C=null;return!w&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const I=()=>this._finishRippleTransition(M),B=()=>this._destroyRipple(M);f.addEventListener("transitionend",I),f.addEventListener("transitioncancel",B),C={onTransitionEnd:I,onTransitionCancel:B}}),this._activeRipples.set(M,C),(w||!c)&&this._finishRippleTransition(M),M}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r=Object.assign(Object.assign({},QK),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=kM(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(eZ))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(tZ),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){var t;const r=null!==(t=this._activeRipples.get(e))&&void 0!==t?t:null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==r&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=B3(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!V3(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,q3)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(eZ.forEach(e=>{this._triggerElement.removeEventListener(e,this,q3)}),this._pointerUpEventsRegistered&&tZ.forEach(e=>{this._triggerElement.removeEventListener(e,this,q3)}))}}const aMe=new Tn("mat-ripple-global-options");let cT=(()=>{class n{constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new oMe(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(xi),De(uc),De(aMe,8),De(qp,8))},n.\u0275dir=Ln({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Hi("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),J3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[Io,Io]}),n})(),lMe=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(De(qp,8))},n.\u0275cmp=li({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&Hi("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),nZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[Io]}),n})();class rZ{}const um="*";function FM(n,e){return{type:7,name:n,definitions:e,options:{}}}function zh(n,e=null){return{type:4,styles:e,timings:n}}function zO(n,e=null){return{type:3,steps:n,options:e}}function iZ(n,e=null){return{type:2,steps:n,options:e}}function Ol(n){return{type:6,styles:n,offset:null}}function cm(n,e,t){return{type:0,name:n,styles:e,options:t}}function Uh(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function UO(n=null){return{type:9,options:n}}function jO(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function oZ(n){Promise.resolve(null).then(n)}class dT{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oZ(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class sZ{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?oZ(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function cMe(n,e){}const HM={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},dMe={dialogContainer:FM("dialogContainer",[cm("void, exit",Ol({opacity:0,transform:"scale(0.7)"})),cm("enter",Ol({transform:"none"})),Uh("* => enter",zO([zh("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Ol({transform:"none",opacity:1})),jO("@*",UO(),{optional:!0})]),HM),Uh("* => void, * => exit",zO([zh("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Ol({opacity:0})),jO("@*",UO(),{optional:!0})]),HM)])};class WO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=HM.params.enterAnimationDuration,this.exitAnimationDuration=HM.params.exitAnimationDuration}}let fMe=(()=>{class n extends UK{constructor(t,r,i,o,s,a,u,c){super(t,r,i,o,s,a,u,c),this._animationStateChanged=new Lo}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(H3),De(Ci,8),De(WO),De(LO),De(xi),De(aT),De(xv))},n.\u0275cmp=li({type:n,selectors:[["ng-component"]],features:[pr],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),hMe=(()=>{class n extends fMe{constructor(t,r,i,o,s,a,u,c,f){super(t,r,i,o,s,a,u,f),this._changeDetectorRef=c,this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?this._openAnimationDone(r):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||HM.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||HM.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(H3),De(Ci,8),De(WO),De(LO),De(xi),De(aT),De(Ru),De(xv))},n.\u0275cmp=li({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,r){1&t&&Vt("@dialogContainer.start",function(o){return r._onAnimationStart(o)})("@dialogContainer.done",function(o){return r._onAnimationDone(o)}),2&t&&(xE("id",r._config.id),ss("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),VF("@dialogContainer",r._getAnimationState()))},features:[pr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&O(0,cMe,0,0,"ng-template",0)},dependencies:[I3],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[dMe.dialogContainer]}}),n})();class cc{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Nt,this._beforeClosed=new Nt,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Oa(i=>"opened"===i.state),Qa(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Oa(i=>"closed"===i.state),Qa(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),wc(this.backdropClick(),this.keydownEvents().pipe(Oa(i=>27===i.keyCode&&!this.disableClose&&!K_(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),aZ(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Oa(t=>"closing"===t.state),Qa(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function aZ(n,e,t){return n._closeInteractionType=e,n.close(t)}const pMe=new Tn("MatDialogData"),mMe=new Tn("mat-dialog-default-options"),lZ=new Tn("mat-dialog-scroll-strategy"),vMe={provide:lZ,deps:[Cv],useFactory:function gMe(n){return()=>n.scrollStrategies.block()}};let yMe=0,_Me=(()=>{class n{constructor(t,r,i,o,s,a,u,c,f,p){this._overlay=t,this._defaultOptions=i,this._parentDialog=o,this._dialogRefConstructor=u,this._dialogContainerType=c,this._dialogDataToken=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Nt,this._afterOpenedAtThisLevel=new Nt,this._idPrefix="mat-dialog-",this.afterAllClosed=ZA(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(rm(void 0))),this._scrollStrategy=a,this._dialog=r.get(WK)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){let i;(r=Object.assign(Object.assign({},this._defaultOptions||new WO),r)).id=r.id||`${this._idPrefix}${yMe++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,Object.assign(Object.assign({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:WO,useValue:r},{provide:BO,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(s,a,u)=>(i=new this._dialogRefConstructor(s,r,u),i.updatePosition(null==r?void 0:r.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){w_()},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})(),fT=(()=>{class n extends _Me{constructor(t,r,i,o,s,a,u,c){super(t,r,o,a,u,s,cc,hMe,pMe,c)}}return n.\u0275fac=function(t){return new(t||n)(wt(Cv),wt(ws),wt(PE,8),wt(mMe,8),wt(lZ),wt(n,12),wt(HO),wt(qp,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})(),bMe=0,Bf=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=uZ(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){aZ(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(De(cc,8),De(gi),De(fT))},n.\u0275dir=Ln({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&nt("click",function(o){return r._onButtonClick(o)}),2&t&&ss("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Rs]}),n})(),Vf=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+bMe++}ngOnInit(){this._dialogRef||(this._dialogRef=uZ(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(De(cc,8),De(gi),De(fT))},n.\u0275dir=Ln({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&xE("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Uf=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,r){2&t&&Hi("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),n})();function uZ(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let wMe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({providers:[fT,vMe],imports:[YK,X3,nT,Io,Io]}),n})();const MMe=["mat-button",""],SMe=["*"],CMe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],EMe=lT(VO(NM(class{constructor(n){this._elementRef=n}})));let Xc=(()=>{class n extends EMe{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of CMe)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(xv),De(qp,8))},n.\u0275cmp=li({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&Eu(cT,5),2&t){let i;_o(i=bo())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(ss("disabled",r.disabled||null),Hi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[pr],attrs:MMe,ngContentSelectors:SMe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(jn(),G(0,"span",0),zn(1),ne(),ie(2,"span",1)(3,"span",2)),2&t&&(or(2),Hi("mat-button-ripple-round",r.isRoundButton||r.isIconButton),V("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[cT],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),TMe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[J3,Io,Io]}),n})();function RMe(n,e){if(1&n&&(Ee(0),G(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),nn(5),ne()()()(),ie(6,"div",18),Me()),2&n){const t=Kt().$implicit;or(5),ii(" ",t.content," ")}}function DMe(n,e){if(1&n&&(Ee(0),G(1,"div",19)(2,"div",15)(3,"div",16)(4,"div",17),nn(5),ne()()()(),ie(6,"div",18),Me()),2&n){const t=Kt().$implicit;or(5),ii(" ",t.content," ")}}function AMe(n,e){if(1&n&&(Ee(0),O(1,RMe,7,1,"ng-container",13),O(2,DMe,7,1,"ng-container",13),Me()),2&n){const t=e.$implicit;or(1),V("ngIf",!t.user),or(1),V("ngIf",t.user)}}let OMe=(()=>{class n{constructor(t,r){this.socketService=t,this.dialogRef=r}ngOnInit(){this.socketService.setupSocketConnection()}ngOnDestroy(){this.socketService.disconnect()}sendMessage(t){this.socketService.sendMessage(t)}}return n.\u0275fac=function(t){return new(t||n)(De(sK),De(cc))},n.\u0275cmp=li({type:n,selectors:[["app-chat"]],decls:17,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["id","your_container"],["id","bms_messages_container"],["id","bms_messages"],[4,"ngFor","ngForOf"],["id","bms_send"],["id","bms_send_message",3,"keydown.enter"],["send_message",""],["id","bms_send_btn",3,"click"],["send_btn",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],[4,"ngIf"],[1,"bms_message","bms_left"],[1,"bms_message_box"],[1,"bms_message_content"],[1,"bms_message_text"],[1,"bms_clear"],[1,"bms_message","bms_right"]],template:function(t,r){if(1&t){const i=_e();G(0,"h3",0),nn(1,"\u3042\u306a\u305f\u306f\u30e6\u30fc\u30b6\u30fc1\u3067\u3059"),ne(),G(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),O(6,AMe,3,2,"ng-container",5),ne(),G(7,"div",6)(8,"textarea",7,8),nt("keydown.enter",function(){bd(i);const s=H(9);return r.sendMessage(s.value),Wl(s.value="")}),nn(10,"                "),ne(),G(11,"div",9,10),nt("click",function(){bd(i);const s=H(9);return r.sendMessage(s.value),Wl(s.value="")}),nn(13," \u9001\u4fe1 "),ne()()()()(),G(14,"div",11)(15,"button",12),nn(16,"\u9589\u3058\u308b"),ne()()}2&t&&(or(6),V("ngForOf",r.socketService.comments))},dependencies:[G9,HE,Xc,Bf,Vf,zf,Uf],styles:['@charset "UTF-8";#your_container[_ngcontent-%COMP%]{height:70%;width:100%}#bms_messages_container[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#eee}#bms_messages[_ngcontent-%COMP%]{overflow:auto;height:100%;border-right:1px solid #ddd;border-left:1px solid #ddd;background-color:#eee;box-shadow:0 2px 2px #0003 inset}.bms_message[_ngcontent-%COMP%]{margin:0;padding:0 14px;font-size:16px;word-wrap:break-word;white-space:normal}.bms_message_box[_ngcontent-%COMP%]{margin-top:20px;max-width:100%;font-size:16px}.bms_message_content[_ngcontent-%COMP%]{padding:20px}.bms_left[_ngcontent-%COMP%]{float:left;line-height:1.3em}.bms_left[_ngcontent-%COMP%]   .bms_message_box[_ngcontent-%COMP%]{color:#333;background:#fff;border:2px solid #13178e;border-radius:30px 30px 30px 0;margin-right:50px}.bms_right[_ngcontent-%COMP%]{float:right;line-height:1.3em}.bms_right[_ngcontent-%COMP%]   .bms_message_box[_ngcontent-%COMP%]{color:#fff;background:#13178e;border:2px solid #13178e;border-radius:30px 30px 0;margin-left:50px}.bms_clear[_ngcontent-%COMP%]{clear:both}#bms_send[_ngcontent-%COMP%]{background-color:#eee;border-right:1px solid #ddd;border-left:1px solid #ddd;border-bottom:1px solid #ddd;height:48px;padding:4px}#bms_send_message[_ngcontent-%COMP%]{width:calc(100% - 75px);line-height:16px;height:48px;padding:14px 6px 0;border:1px solid #ccc;border-radius:4px;text-align:left;box-shadow:2px 2px 4px #0003 inset;box-sizing:border-box}#bms_send_btn[_ngcontent-%COMP%]{width:72px;height:48px;font-size:16px;line-height:3em;float:right;color:#fff;font-weight:700;background:#bcbcbc;text-align:center;border:1px solid #bbb;border-radius:4px;box-sizing:border-box}#bms_send_btn[_ngcontent-%COMP%]:hover{background:#13178e;cursor:pointer}']}),n})();function cZ(...n){const e=za(n),{args:t,keys:r}=M$(n),i=new dt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let f=0;f<s;f++){let p=!1;fs(t[f]).subscribe(kn(o,g=>{p||(p=!0,c--),a[f]=g},()=>u--,void 0,()=>{(!u||!p)&&(c||o.next(r?S$(r,a):a),o.complete())}))}});return e?i.pipe(VH(e)):i}class dZ{}class fZ{}class jh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof jh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new jh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof jh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class kMe{encodeKey(e){return hZ(e)}encodeValue(e){return hZ(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const IMe=/%(\d[a-f0-9])/gi,PMe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hZ(n){return encodeURIComponent(n).replace(IMe,(e,t)=>{var r;return null!==(r=PMe[t])&&void 0!==r?r:e})}function YO(n){return`${n}`}class Ev{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new kMe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function LMe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(YO):[YO(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ev({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(YO(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(YO(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class NMe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pZ(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function mZ(n){return"undefined"!=typeof Blob&&n instanceof Blob}function gZ(n){return"undefined"!=typeof FormData&&n instanceof FormData}class hT{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function FMe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new jh),this.context||(this.context=new NMe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Ev,this.urlWithParams=t}serializeBody(){return null===this.body?null:pZ(this.body)||mZ(this.body)||gZ(this.body)||function HMe(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ev?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gZ(this.body)?null:mZ(this.body)?this.body.type||null:pZ(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ev?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,f=e.params||this.params;const p=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),c)),e.setParams&&(f=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),f)),new hT(r,i,s,{params:f,headers:c,context:p,reportProgress:u,responseType:o,withCredentials:a})}}var Pa=(()=>((Pa=Pa||{})[Pa.Sent=0]="Sent",Pa[Pa.UploadProgress=1]="UploadProgress",Pa[Pa.ResponseHeader=2]="ResponseHeader",Pa[Pa.DownloadProgress=3]="DownloadProgress",Pa[Pa.Response=4]="Response",Pa[Pa.User=5]="User",Pa))();class eB{constructor(e,t=200,r="OK"){this.headers=e.headers||new jh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class tB extends eB{constructor(e={}){super(e),this.type=Pa.ResponseHeader}clone(e={}){return new tB({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class GO extends eB{constructor(e={}){super(e),this.type=Pa.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new GO({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vZ extends eB{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function nB(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $O=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof hT)o=t;else{let u,c;u=i.headers instanceof jh?i.headers:new jh(i.headers),i.params&&(c=i.params instanceof Ev?i.params:new Ev({fromObject:i.params})),o=new hT(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=Lr(o).pipe(bv(u=>this.handler.handle(u)));if(t instanceof hT||"events"===i.observe)return s;const a=s.pipe(Oa(u=>u instanceof GO));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(En(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(En(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(En(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(En(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ev).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,nB(i,r))}post(t,r,i={}){return this.request("POST",t,nB(i,r))}put(t,r,i={}){return this.request("PUT",t,nB(i,r))}}return n.\u0275fac=function(t){return new(t||n)(wt(dZ))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();class yZ{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const _Z=new Tn("HTTP_INTERCEPTORS");let BMe=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();const VMe=/^\)\]\}',?\n/;let bZ=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new dt(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((y,w)=>i.setRequestHeader(y,w.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&i.setRequestHeader("Content-Type",y)}if(t.responseType){const y=t.responseType.toLowerCase();i.responseType="json"!==y?y:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const y=i.statusText||"OK",w=new jh(i.getAllResponseHeaders()),M=function zMe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new tB({headers:w,status:i.status,statusText:y,url:M}),s},u=()=>{let{headers:y,status:w,statusText:M,url:C}=a(),I=null;204!==w&&(I=void 0===i.response?i.responseText:i.response),0===w&&(w=I?200:0);let B=w>=200&&w<300;if("json"===t.responseType&&"string"==typeof I){const U=I;I=I.replace(VMe,"");try{I=""!==I?JSON.parse(I):null}catch(j){I=U,B&&(B=!1,I={error:j,text:I})}}B?(r.next(new GO({body:I,headers:y,status:w,statusText:M,url:C||void 0})),r.complete()):r.error(new vZ({error:I,headers:y,status:w,statusText:M,url:C||void 0}))},c=y=>{const{url:w}=a(),M=new vZ({error:y,status:i.status||0,statusText:i.statusText||"Unknown Error",url:w||void 0});r.error(M)};let f=!1;const p=y=>{f||(r.next(a()),f=!0);let w={type:Pa.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),"text"===t.responseType&&!!i.responseText&&(w.partialText=i.responseText),r.next(w)},g=y=>{let w={type:Pa.UploadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),r.next(w)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",p),null!==o&&i.upload&&i.upload.addEventListener("progress",g)),i.send(o),r.next({type:Pa.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",p),null!==o&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(wt(t$))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();const rB=new Tn("XSRF_COOKIE_NAME"),iB=new Tn("XSRF_HEADER_NAME");class wZ{}let UMe=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=U9(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci),wt(RA),wt(rB))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})(),oB=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(wt(wZ),wt(iB))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})(),jMe=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(_Z,[]);this.chain=r.reduceRight((i,o)=>new yZ(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(wt(fZ),wt(ws))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})(),WMe=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:oB,useClass:BMe}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:rB,useValue:t.cookieName}:[],t.headerName?{provide:iB,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({providers:[oB,{provide:_Z,useExisting:oB,multi:!0},{provide:wZ,useClass:UMe},{provide:rB,useValue:"XSRF-TOKEN"},{provide:iB,useValue:"X-XSRF-TOKEN"}]}),n})(),YMe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({providers:[$O,{provide:dZ,useClass:jMe},bZ,{provide:fZ,useExisting:bZ}],imports:[WMe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const GMe=["*"];let XO;function pT(n){var e;return(null===(e=function $Me(){if(void 0===XO&&(XO=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(XO=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return XO}())||void 0===e?void 0:e.createHTML(n))||n}function MZ(n){return Error(`Unable to find icon with the name "${n}"`)}function SZ(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function xZ(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class q_{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let KO=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new q_(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const s=this._sanitizer.sanitize(fo.HTML,i);if(!s)throw xZ(i);const a=pT(s);return this._addSvgIconConfig(t,r,new q_("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new q_(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(fo.HTML,r);if(!o)throw xZ(r);const s=pT(o);return this._addSvgIconSetConfig(t,new q_("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(fo.RESOURCE_URL,t);if(!r)throw SZ(t);const i=this._cachedIconsByUrl.get(r);return i?Lr(ZO(i)):this._loadSvgIconFromConfig(new q_(t,null)).pipe(ka(o=>this._cachedIconsByUrl.set(r,o)),En(o=>ZO(o)))}getNamedSvgIcon(t,r=""){const i=CZ(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):wM(MZ(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Lr(ZO(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(En(r=>ZO(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Lr(i):cZ(r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(im(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(fo.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Lr(null)})))).pipe(En(()=>{const s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw MZ(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ka(r=>t.svgText=r),En(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Lr(null):this._fetchIcon(t).pipe(ka(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const a=this._svgElementFromString(pT("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(pT("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:s,value:a}=i[o];"id"!==s&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:o}=t,s=null!==(r=null==o?void 0:o.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function XMe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(fo.RESOURCE_URL,i);if(!a)throw SZ(i);const u=this._inProgressUrlFetches.get(a);if(u)return u;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(En(f=>pT(f)),JA(()=>this._inProgressUrlFetches.delete(a)),uf());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(CZ(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return ZMe(o)?new q_(o.url,null,o.options):new q_(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(wt($O,8),wt(BH),wt(Ci,8),wt(Cd))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZO(n){return n.cloneNode(!0)}function CZ(n,e){return n+":"+e}function ZMe(n){return!(!n.url||!n.options)}const qMe=lT(class{constructor(n){this._elementRef=n}}),JMe=new Tn("MAT_ICON_DEFAULT_OPTIONS"),QMe=new Tn("mat-icon-location",{providedIn:"root",factory:function eSe(){const n=ms(Ci),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),EZ=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tSe=EZ.map(n=>`[${n}]`).join(", "),nSe=/^url\(['"]?#(.*?)['"]?\)$/;let TZ=(()=>{class n extends qMe{constructor(t,r,i,o,s,a){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=F.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Al(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(tSe),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)EZ.forEach(s=>{const a=r[o],u=a.getAttribute(s),c=u?u.match(nSe):null;if(c){let f=i.get(a);f||(f=[],i.set(a,f)),f.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Qa(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(KO),xh("aria-hidden"),De(QMe),De(Cd),De(JMe,8))},n.\u0275cmp=li({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(ss("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Hi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[pr],ngContentSelectors:GMe,decls:1,vars:0,template:function(t,r){1&t&&(jn(),zn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),rSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[Io,Io]}),n})();var iSe=b(1670);const dc=1001,el=1003,Na=1006,tb=1009,nb=1014,Rv=1015,vT=1016,jM=1020,jf=1023,rb=1026,WM=1027,ib=3e3,ua=3001,fm="srgb",ob="srgb-linear";class XM{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const o=i.indexOf(t);-1!==o&&i.splice(o,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const r=this._listeners[e.type];if(void 0!==r){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const eu=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],sb=Math.PI/180,yT=180/Math.PI;function Kc(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(eu[255&n]+eu[n>>8&255]+eu[n>>16&255]+eu[n>>24&255]+"-"+eu[255&e]+eu[e>>8&255]+"-"+eu[e>>16&15|64]+eu[e>>24&255]+"-"+eu[63&t|128]+eu[t>>8&255]+"-"+eu[t>>16&255]+eu[t>>24&255]+eu[255&r]+eu[r>>8&255]+eu[r>>16&255]+eu[r>>24&255]).toLowerCase()}function va(n,e,t){return Math.max(e,Math.min(t,n))}function _T(n,e,t){return(1-t)*n+t*e}function wB(n){return 0==(n&n-1)&&0!==n}function ok(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}class xn{constructor(e=0,t=0){xn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class fc{constructor(){fc.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,u,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=t,f[4]=o,f[5]=u,f[6]=r,f[7]=s,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[3],u=r[6],c=r[1],f=r[4],p=r[7],g=r[2],y=r[5],w=r[8],M=i[0],C=i[3],I=i[6],B=i[1],U=i[4],j=i[7],$=i[2],se=i[5],ge=i[8];return o[0]=s*M+a*B+u*$,o[3]=s*C+a*U+u*se,o[6]=s*I+a*j+u*ge,o[1]=c*M+f*B+p*$,o[4]=c*C+f*U+p*se,o[7]=c*I+f*j+p*ge,o[2]=g*M+y*B+w*$,o[5]=g*C+y*U+w*se,o[8]=g*I+y*j+w*ge,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],f=e[8];return t*s*f-t*a*c-r*o*f+r*a*u+i*o*c-i*s*u}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],f=e[8],p=f*s-a*c,g=a*u-f*o,y=c*o-s*u,w=t*p+r*g+i*y;if(0===w)return this.set(0,0,0,0,0,0,0,0,0);const M=1/w;return e[0]=p*M,e[1]=(i*c-f*r)*M,e[2]=(a*r-i*s)*M,e[3]=g*M,e[4]=(f*t-i*u)*M,e[5]=(i*o-a*t)*M,e[6]=y*M,e[7]=(r*u-c*t)*M,e[8]=(s*t-r*o)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,s,a){const u=Math.cos(o),c=Math.sin(o);return this.set(r*u,r*c,-r*(u*s+c*a)+s+e,-i*c,i*u,-i*(-c*s+u*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],s=i[3],a=i[6],u=i[1],c=i[4],f=i[7];return i[0]=t*o+r*u,i[3]=t*s+r*c,i[6]=t*a+r*f,i[1]=-r*o+t*u,i[4]=-r*s+t*c,i[7]=-r*a+t*f,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function cq(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}function bT(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function ab(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function sk(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const MB={[fm]:{[ob]:ab},[ob]:{[fm]:sk}},Wf={legacyMode:!0,get workingColorSpace(){return ob},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(MB[e]&&void 0!==MB[e][t]){const r=MB[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},dq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},tl={r:0,g:0,b:0},Yf={h:0,s:0,l:0},ak={h:0,s:0,l:0};function SB(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}function lk(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let ZM,Cr=(()=>{class n{constructor(t,r,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===r&&void 0===i?this.set(t):this.setRGB(t,r,i)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,r=fm){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Wf.toWorkingColorSpace(this,r),this}setRGB(t,r,i,o=ob){return this.r=t,this.g=r,this.b=i,Wf.toWorkingColorSpace(this,o),this}setHSL(t,r,i,o=ob){if(t=function bB(n,e){return(n%e+e)%e}(t,1),r=va(r,0,1),i=va(i,0,1),0===r)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+r):i+r-i*r,a=2*i-s;this.r=SB(a,s,t+1/3),this.g=SB(a,s,t),this.b=SB(a,s,t-1/3)}return Wf.toWorkingColorSpace(this,o),this}setStyle(t,r=fm){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let o;if(o=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let s;const u=o[2];switch(o[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Wf.toWorkingColorSpace(this,r),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Wf.toWorkingColorSpace(this,r),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u)){const c=parseFloat(s[1])/360,f=parseInt(s[2],10)/100,p=parseInt(s[3],10)/100;return i(s[4]),this.setHSL(c,f,p,r)}}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=o[1],a=s.length;if(3===a)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Wf.toWorkingColorSpace(this,r),this;if(6===a)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Wf.toWorkingColorSpace(this,r),this}return t&&t.length>0?this.setColorName(t,r):this}setColorName(t,r=fm){const i=dq[t.toLowerCase()];return void 0!==i?this.setHex(i,r):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=ab(t.r),this.g=ab(t.g),this.b=ab(t.b),this}copyLinearToSRGB(t){return this.r=sk(t.r),this.g=sk(t.g),this.b=sk(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=fm){return Wf.fromWorkingColorSpace(lk(this,tl),t),va(255*tl.r,0,255)<<16^va(255*tl.g,0,255)<<8^va(255*tl.b,0,255)<<0}getHexString(t=fm){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,r=ob){Wf.fromWorkingColorSpace(lk(this,tl),r);const i=tl.r,o=tl.g,s=tl.b,a=Math.max(i,o,s),u=Math.min(i,o,s);let c,f;const p=(u+a)/2;if(u===a)c=0,f=0;else{const g=a-u;switch(f=p<=.5?g/(a+u):g/(2-a-u),a){case i:c=(o-s)/g+(o<s?6:0);break;case o:c=(s-i)/g+2;break;case s:c=(i-o)/g+4}c/=6}return t.h=c,t.s=f,t.l=p,t}getRGB(t,r=ob){return Wf.fromWorkingColorSpace(lk(this,tl),r),t.r=tl.r,t.g=tl.g,t.b=tl.b,t}getStyle(t=fm){return Wf.fromWorkingColorSpace(lk(this,tl),t),t!==fm?`color(${t} ${tl.r} ${tl.g} ${tl.b})`:`rgb(${255*tl.r|0},${255*tl.g|0},${255*tl.b|0})`}offsetHSL(t,r,i){return this.getHSL(Yf),Yf.h+=t,Yf.s+=r,Yf.l+=i,this.setHSL(Yf.h,Yf.s,Yf.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this}lerpColors(t,r,i){return this.r=t.r+(r.r-t.r)*i,this.g=t.g+(r.g-t.g)*i,this.b=t.b+(r.b-t.b)*i,this}lerpHSL(t,r){this.getHSL(Yf),t.getHSL(ak);const i=_T(Yf.h,ak.h,r),o=_T(Yf.s,ak.s,r),s=_T(Yf.l,ak.l,r);return this.setHSL(i,o,s),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,r=0){return this.r=t[r],this.g=t[r+1],this.b=t[r+2],this}toArray(t=[],r=0){return t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t}fromBufferAttribute(t,r){return this.r=t.getX(r),this.g=t.getY(r),this.b=t.getZ(r),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return n.NAMES=dq,n})();class fq{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===ZM&&(ZM=bT("canvas")),ZM.width=e.width,ZM.height=e.height;const r=ZM.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=ZM}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=bT("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=255*ab(o[s]/255);return r.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t[r]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*ab(t[r]/255)):ab(t[r]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class qM{constructor(e=null){this.isSource=!0,this.uuid=Kc(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(null!==i){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)o.push(xB(i[s].isDataTexture?i[s].image:i[s]))}else o=xB(i);r.url=o}return t||(e.images[this.uuid]=r),r}}function xB(n){return"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap?fq.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _xe=0,Dv=(()=>{class n extends XM{constructor(t=n.DEFAULT_IMAGE,r=n.DEFAULT_MAPPING,i=dc,o=dc,s=Na,a=1008,u=jf,c=tb,f=1,p=ib){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_xe++}),this.uuid=Kc(),this.name="",this.source=new qM(t),this.mipmaps=[],this.mapping=r,this.wrapS=i,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=f,this.format=u,this.internalFormat=null,this.type=c,this.offset=new xn(0,0),this.repeat=new xn(1,1),this.center=new xn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fc,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),r||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case dc:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case dc:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n})();class ns{constructor(e=0,t=0,r=0,i=1){ns.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o;const u=e.elements,c=u[0],f=u[4],p=u[8],g=u[1],y=u[5],w=u[9],M=u[2],C=u[6],I=u[10];if(Math.abs(f-g)<.01&&Math.abs(p-M)<.01&&Math.abs(w-C)<.01){if(Math.abs(f+g)<.1&&Math.abs(p+M)<.1&&Math.abs(w+C)<.1&&Math.abs(c+y+I-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const U=(c+1)/2,j=(y+1)/2,$=(I+1)/2,se=(f+g)/4,ge=(p+M)/4,re=(w+C)/4;return U>j&&U>$?U<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(U),i=se/r,o=ge/r):j>$?j<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(j),r=se/i,o=re/i):$<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt($),r=ge/o,i=re/o),this.set(r,i,o,t),this}let B=Math.sqrt((C-w)*(C-w)+(p-M)*(p-M)+(g-f)*(g-f));return Math.abs(B)<.001&&(B=1),this.x=(C-w)/B,this.y=(p-M)/B,this.z=(g-f)/B,this.w=Math.acos((c+y+I-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class lb extends XM{constructor(e,t,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ns(0,0,e,t),this.scissorTest=!1,this.viewport=new ns(0,0,e,t),this.texture=new Dv({width:e,height:t,depth:1},r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.internalFormat=void 0!==r.internalFormat?r.internalFormat:null,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:Na,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null,this.samples=void 0!==r.samples?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new qM(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class CB extends Dv{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=el,this.minFilter=el,this.wrapR=dc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hq extends Dv{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=el,this.minFilter=el,this.wrapR=dc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Zc{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,o,s,a){let u=r[i+0],c=r[i+1],f=r[i+2],p=r[i+3];const g=o[s+0],y=o[s+1],w=o[s+2],M=o[s+3];if(0===a)return e[t+0]=u,e[t+1]=c,e[t+2]=f,void(e[t+3]=p);if(1===a)return e[t+0]=g,e[t+1]=y,e[t+2]=w,void(e[t+3]=M);if(p!==M||u!==g||c!==y||f!==w){let C=1-a;const I=u*g+c*y+f*w+p*M,B=I>=0?1:-1,U=1-I*I;if(U>Number.EPSILON){const $=Math.sqrt(U),se=Math.atan2($,I*B);C=Math.sin(C*se)/$,a=Math.sin(a*se)/$}const j=a*B;if(u=u*C+g*j,c=c*C+y*j,f=f*C+w*j,p=p*C+M*j,C===1-a){const $=1/Math.sqrt(u*u+c*c+f*f+p*p);u*=$,c*=$,f*=$,p*=$}}e[t]=u,e[t+1]=c,e[t+2]=f,e[t+3]=p}static multiplyQuaternionsFlat(e,t,r,i,o,s){const a=r[i],u=r[i+1],c=r[i+2],f=r[i+3],p=o[s],g=o[s+1],y=o[s+2],w=o[s+3];return e[t]=a*w+f*p+u*y-c*g,e[t+1]=u*w+f*g+c*p-a*y,e[t+2]=c*w+f*y+a*g-u*p,e[t+3]=f*w-a*p-u*g-c*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,u=Math.sin,c=a(r/2),f=a(i/2),p=a(o/2),g=u(r/2),y=u(i/2),w=u(o/2);switch(s){case"XYZ":this._x=g*f*p+c*y*w,this._y=c*y*p-g*f*w,this._z=c*f*w+g*y*p,this._w=c*f*p-g*y*w;break;case"YXZ":this._x=g*f*p+c*y*w,this._y=c*y*p-g*f*w,this._z=c*f*w-g*y*p,this._w=c*f*p+g*y*w;break;case"ZXY":this._x=g*f*p-c*y*w,this._y=c*y*p+g*f*w,this._z=c*f*w+g*y*p,this._w=c*f*p-g*y*w;break;case"ZYX":this._x=g*f*p-c*y*w,this._y=c*y*p+g*f*w,this._z=c*f*w-g*y*p,this._w=c*f*p+g*y*w;break;case"YZX":this._x=g*f*p+c*y*w,this._y=c*y*p+g*f*w,this._z=c*f*w-g*y*p,this._w=c*f*p-g*y*w;break;case"XZY":this._x=g*f*p-c*y*w,this._y=c*y*p-g*f*w,this._z=c*f*w+g*y*p,this._w=c*f*p+g*y*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],o=t[8],s=t[1],a=t[5],u=t[9],c=t[2],f=t[6],p=t[10],g=r+a+p;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(f-u)*y,this._y=(o-c)*y,this._z=(s-i)*y}else if(r>a&&r>p){const y=2*Math.sqrt(1+r-a-p);this._w=(f-u)/y,this._x=.25*y,this._y=(i+s)/y,this._z=(o+c)/y}else if(a>p){const y=2*Math.sqrt(1+a-r-p);this._w=(o-c)/y,this._x=(i+s)/y,this._y=.25*y,this._z=(u+f)/y}else{const y=2*Math.sqrt(1+p-r-a);this._w=(s-i)/y,this._x=(o+c)/y,this._y=(u+f)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(va(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,o=e._z,s=e._w,a=t._x,u=t._y,c=t._z,f=t._w;return this._x=r*f+s*a+i*c-o*u,this._y=i*f+s*u+o*a-r*c,this._z=o*f+s*c+r*u-i*a,this._w=s*f-r*a-i*u-o*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const u=1-a*a;if(u<=Number.EPSILON){const y=1-t;return this._w=y*s+t*this._w,this._x=y*r+t*this._x,this._y=y*i+t*this._y,this._z=y*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(u),f=Math.atan2(c,a),p=Math.sin((1-t)*f)/c,g=Math.sin(t*f)/c;return this._w=s*p+this._w*g,this._x=r*p+this._x*g,this._y=i*p+this._y*g,this._z=o*p+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(o),r*Math.cos(o),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Fe{constructor(e=0,t=0,r=0){Fe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(pq.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(pq.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,u=e.w,c=u*t+s*i-a*r,f=u*r+a*t-o*i,p=u*i+o*r-s*t,g=-o*t-s*r-a*i;return this.x=c*u+g*-o+f*-a-p*-s,this.y=f*u+g*-s+p*-o-c*-a,this.z=p*u+g*-a+c*-s-f*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,o=e.z,s=t.x,a=t.y,u=t.z;return this.x=i*u-o*a,this.y=o*s-r*u,this.z=r*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return EB.copy(this).projectOnVector(e),this.sub(EB)}reflect(e){return this.sub(EB.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(va(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,r=Math.sqrt(1-Hfe(e,2));return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const EB=new Fe,pq=new Zc;class JM{constructor(e=new Fe(1/0,1/0,1/0),t=new Fe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let u=0,c=e.length;u<c;u+=3){const f=e[u],p=e[u+1],g=e[u+2];f<t&&(t=f),p<r&&(r=p),g<i&&(i=g),f>o&&(o=f),p>s&&(s=p),g>a&&(a=g)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let u=0,c=e.count;u<c;u++){const f=e.getX(u),p=e.getY(u),g=e.getZ(u);f<t&&(t=f),p<r&&(r=p),g<i&&(i=g),f>o&&(o=f),p>s&&(s=p),g>a&&(a=g)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=ub.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r)if(t&&null!=r.attributes&&void 0!==r.attributes.position){const o=r.attributes.position;for(let s=0,a=o.count;s<a;s++)ub.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(ub)}else null===r.boundingBox&&r.computeBoundingBox(),TB.copy(r.boundingBox),TB.applyMatrix4(e.matrixWorld),this.union(TB);const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ub),ub.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(wT),uk.subVectors(this.max,wT),QM.subVectors(e.a,wT),eS.subVectors(e.b,wT),tS.subVectors(e.c,wT),Av.subVectors(eS,QM),Ov.subVectors(tS,eS),cb.subVectors(QM,tS);let t=[0,-Av.z,Av.y,0,-Ov.z,Ov.y,0,-cb.z,cb.y,Av.z,0,-Av.x,Ov.z,0,-Ov.x,cb.z,0,-cb.x,-Av.y,Av.x,0,-Ov.y,Ov.x,0,-cb.y,cb.x,0];return!(!RB(t,QM,eS,tS,uk)||(t=[1,0,0,0,1,0,0,0,1],!RB(t,QM,eS,tS,uk)))&&(ck.crossVectors(Av,Ov),t=[ck.x,ck.y,ck.z],RB(t,QM,eS,tS,uk))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ub.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(ub).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(hm[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),hm[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),hm[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),hm[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),hm[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),hm[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),hm[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),hm[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(hm)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const hm=[new Fe,new Fe,new Fe,new Fe,new Fe,new Fe,new Fe,new Fe],ub=new Fe,TB=new JM,QM=new Fe,eS=new Fe,tS=new Fe,Av=new Fe,Ov=new Fe,cb=new Fe,wT=new Fe,uk=new Fe,ck=new Fe,db=new Fe;function RB(n,e,t,r,i){for(let o=0,s=n.length-3;o<=s;o+=3){db.fromArray(n,o);const a=i.x*Math.abs(db.x)+i.y*Math.abs(db.y)+i.z*Math.abs(db.z),u=e.dot(db),c=t.dot(db),f=r.dot(db);if(Math.max(-Math.max(u,c,f),Math.min(u,c,f))>a)return!1}return!0}const bxe=new JM,mq=new Fe,dk=new Fe,DB=new Fe;class nS{constructor(e=new Fe,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):bxe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){DB.subVectors(e,this.center);const t=DB.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=.5*(r-this.radius);this.center.add(DB.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return!0===this.center.equals(e.center)?dk.set(0,0,1).multiplyScalar(e.radius):dk.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(mq.copy(e.center).add(dk)),this.expandByPoint(mq.copy(e.center).sub(dk)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const pm=new Fe,AB=new Fe,fk=new Fe,kv=new Fe,OB=new Fe,hk=new Fe,kB=new Fe;class pk{constructor(e=new Fe,t=new Fe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,pm)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=pm.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(pm.copy(this.direction).multiplyScalar(t).add(this.origin),pm.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){AB.copy(e).add(t).multiplyScalar(.5),fk.copy(t).sub(e).normalize(),kv.copy(this.origin).sub(AB);const o=.5*e.distanceTo(t),s=-this.direction.dot(fk),a=kv.dot(this.direction),u=-kv.dot(fk),c=kv.lengthSq(),f=Math.abs(1-s*s);let p,g,y,w;if(f>0)if(p=s*u-a,g=s*a-u,w=o*f,p>=0)if(g>=-w)if(g<=w){const M=1/f;p*=M,g*=M,y=p*(p+s*g+2*a)+g*(s*p+g+2*u)+c}else g=o,p=Math.max(0,-(s*g+a)),y=-p*p+g*(g+2*u)+c;else g=-o,p=Math.max(0,-(s*g+a)),y=-p*p+g*(g+2*u)+c;else g<=-w?(p=Math.max(0,-(-s*o+a)),g=p>0?-o:Math.min(Math.max(-o,-u),o),y=-p*p+g*(g+2*u)+c):g<=w?(p=0,g=Math.min(Math.max(-o,-u),o),y=g*(g+2*u)+c):(p=Math.max(0,-(s*o+a)),g=p>0?o:Math.min(Math.max(-o,-u),o),y=-p*p+g*(g+2*u)+c);else g=s>0?-o:o,p=Math.max(0,-(s*g+a)),y=-p*p+g*(g+2*u)+c;return r&&r.copy(this.direction).multiplyScalar(p).add(this.origin),i&&i.copy(fk).multiplyScalar(g).add(AB),y}intersectSphere(e,t){pm.subVectors(e.center,this.origin);const r=pm.dot(this.direction),i=pm.dot(pm)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,u=r+s;return a<0&&u<0?null:this.at(a<0?u:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,s,a,u;const c=1/this.direction.x,f=1/this.direction.y,p=1/this.direction.z,g=this.origin;return c>=0?(r=(e.min.x-g.x)*c,i=(e.max.x-g.x)*c):(r=(e.max.x-g.x)*c,i=(e.min.x-g.x)*c),f>=0?(o=(e.min.y-g.y)*f,s=(e.max.y-g.y)*f):(o=(e.max.y-g.y)*f,s=(e.min.y-g.y)*f),r>s||o>i||((o>r||r!=r)&&(r=o),(s<i||i!=i)&&(i=s),p>=0?(a=(e.min.z-g.z)*p,u=(e.max.z-g.z)*p):(a=(e.max.z-g.z)*p,u=(e.min.z-g.z)*p),r>u||a>i)||((a>r||r!=r)&&(r=a),(u<i||i!=i)&&(i=u),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,pm)}intersectTriangle(e,t,r,i,o){OB.subVectors(t,e),hk.subVectors(r,e),kB.crossVectors(OB,hk);let a,s=this.direction.dot(kB);if(s>0){if(i)return null;a=1}else{if(!(s<0))return null;a=-1,s=-s}kv.subVectors(this.origin,e);const u=a*this.direction.dot(hk.crossVectors(kv,hk));if(u<0)return null;const c=a*this.direction.dot(OB.cross(kv));if(c<0||u+c>s)return null;const f=-a*kv.dot(kB);return f<0?null:this.at(f/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class eo{constructor(){eo.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,u,c,f,p,g,y,w,M,C){const I=this.elements;return I[0]=e,I[4]=t,I[8]=r,I[12]=i,I[1]=o,I[5]=s,I[9]=a,I[13]=u,I[2]=c,I[6]=f,I[10]=p,I[14]=g,I[3]=y,I[7]=w,I[11]=M,I[15]=C,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new eo).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/rS.setFromMatrixColumn(e,0).length(),o=1/rS.setFromMatrixColumn(e,1).length(),s=1/rS.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),u=Math.cos(i),c=Math.sin(i),f=Math.cos(o),p=Math.sin(o);if("XYZ"===e.order){const g=s*f,y=s*p,w=a*f,M=a*p;t[0]=u*f,t[4]=-u*p,t[8]=c,t[1]=y+w*c,t[5]=g-M*c,t[9]=-a*u,t[2]=M-g*c,t[6]=w+y*c,t[10]=s*u}else if("YXZ"===e.order){const g=u*f,y=u*p,w=c*f,M=c*p;t[0]=g+M*a,t[4]=w*a-y,t[8]=s*c,t[1]=s*p,t[5]=s*f,t[9]=-a,t[2]=y*a-w,t[6]=M+g*a,t[10]=s*u}else if("ZXY"===e.order){const g=u*f,y=u*p,w=c*f,M=c*p;t[0]=g-M*a,t[4]=-s*p,t[8]=w+y*a,t[1]=y+w*a,t[5]=s*f,t[9]=M-g*a,t[2]=-s*c,t[6]=a,t[10]=s*u}else if("ZYX"===e.order){const g=s*f,y=s*p,w=a*f,M=a*p;t[0]=u*f,t[4]=w*c-y,t[8]=g*c+M,t[1]=u*p,t[5]=M*c+g,t[9]=y*c-w,t[2]=-c,t[6]=a*u,t[10]=s*u}else if("YZX"===e.order){const g=s*u,y=s*c,w=a*u,M=a*c;t[0]=u*f,t[4]=M-g*p,t[8]=w*p+y,t[1]=p,t[5]=s*f,t[9]=-a*f,t[2]=-c*f,t[6]=y*p+w,t[10]=g-M*p}else if("XZY"===e.order){const g=s*u,y=s*c,w=a*u,M=a*c;t[0]=u*f,t[4]=-p,t[8]=c*f,t[1]=g*p+M,t[5]=s*f,t[9]=y*p-w,t[2]=w*p-y,t[6]=a*f,t[10]=M*p+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(wxe,e,Mxe)}lookAt(e,t,r){const i=this.elements;return qc.subVectors(e,t),0===qc.lengthSq()&&(qc.z=1),qc.normalize(),Lv.crossVectors(r,qc),0===Lv.lengthSq()&&(1===Math.abs(r.z)?qc.x+=1e-4:qc.z+=1e-4,qc.normalize(),Lv.crossVectors(r,qc)),Lv.normalize(),mk.crossVectors(qc,Lv),i[0]=Lv.x,i[4]=mk.x,i[8]=qc.x,i[1]=Lv.y,i[5]=mk.y,i[9]=qc.y,i[2]=Lv.z,i[6]=mk.z,i[10]=qc.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[4],u=r[8],c=r[12],f=r[1],p=r[5],g=r[9],y=r[13],w=r[2],M=r[6],C=r[10],I=r[14],B=r[3],U=r[7],j=r[11],$=r[15],se=i[0],ge=i[4],re=i[8],fe=i[12],we=i[1],Ae=i[5],vt=i[9],pt=i[13],Xe=i[2],xt=i[6],Le=i[10],Ze=i[14],it=i[3],ot=i[7],Mt=i[11],J=i[15];return o[0]=s*se+a*we+u*Xe+c*it,o[4]=s*ge+a*Ae+u*xt+c*ot,o[8]=s*re+a*vt+u*Le+c*Mt,o[12]=s*fe+a*pt+u*Ze+c*J,o[1]=f*se+p*we+g*Xe+y*it,o[5]=f*ge+p*Ae+g*xt+y*ot,o[9]=f*re+p*vt+g*Le+y*Mt,o[13]=f*fe+p*pt+g*Ze+y*J,o[2]=w*se+M*we+C*Xe+I*it,o[6]=w*ge+M*Ae+C*xt+I*ot,o[10]=w*re+M*vt+C*Le+I*Mt,o[14]=w*fe+M*pt+C*Ze+I*J,o[3]=B*se+U*we+j*Xe+$*it,o[7]=B*ge+U*Ae+j*xt+$*ot,o[11]=B*re+U*vt+j*Le+$*Mt,o[15]=B*fe+U*pt+j*Ze+$*J,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],u=e[9],c=e[13],f=e[2],p=e[6],g=e[10],y=e[14];return e[3]*(+o*u*p-i*c*p-o*a*g+r*c*g+i*a*y-r*u*y)+e[7]*(+t*u*y-t*c*g+o*s*g-i*s*y+i*c*f-o*u*f)+e[11]*(+t*c*p-t*a*y-o*s*p+r*s*y+o*a*f-r*c*f)+e[15]*(-i*a*f-t*u*p+t*a*g+i*s*p-r*s*g+r*u*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],f=e[8],p=e[9],g=e[10],y=e[11],w=e[12],M=e[13],C=e[14],I=e[15],B=p*C*c-M*g*c+M*u*y-a*C*y-p*u*I+a*g*I,U=w*g*c-f*C*c-w*u*y+s*C*y+f*u*I-s*g*I,j=f*M*c-w*p*c+w*a*y-s*M*y-f*a*I+s*p*I,$=w*p*u-f*M*u-w*a*g+s*M*g+f*a*C-s*p*C,se=t*B+r*U+i*j+o*$;if(0===se)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ge=1/se;return e[0]=B*ge,e[1]=(M*g*o-p*C*o-M*i*y+r*C*y+p*i*I-r*g*I)*ge,e[2]=(a*C*o-M*u*o+M*i*c-r*C*c-a*i*I+r*u*I)*ge,e[3]=(p*u*o-a*g*o-p*i*c+r*g*c+a*i*y-r*u*y)*ge,e[4]=U*ge,e[5]=(f*C*o-w*g*o+w*i*y-t*C*y-f*i*I+t*g*I)*ge,e[6]=(w*u*o-s*C*o-w*i*c+t*C*c+s*i*I-t*u*I)*ge,e[7]=(s*g*o-f*u*o+f*i*c-t*g*c-s*i*y+t*u*y)*ge,e[8]=j*ge,e[9]=(w*p*o-f*M*o-w*r*y+t*M*y+f*r*I-t*p*I)*ge,e[10]=(s*M*o-w*a*o+w*r*c-t*M*c-s*r*I+t*a*I)*ge,e[11]=(f*a*o-s*p*o-f*r*c+t*p*c+s*r*y-t*a*y)*ge,e[12]=$*ge,e[13]=(f*M*i-w*p*i+w*r*g-t*M*g-f*r*C+t*p*C)*ge,e[14]=(w*a*i-s*M*i-w*r*u+t*M*u+s*r*C-t*a*C)*ge,e[15]=(s*p*i-f*a*i+f*r*u-t*p*u-s*r*g+t*a*g)*ge,this}scale(e){const t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),o=1-r,s=e.x,a=e.y,u=e.z,c=o*s,f=o*a;return this.set(c*s+r,c*a-i*u,c*u+i*a,0,c*a+i*u,f*a+r,f*u-i*s,0,c*u-i*a,f*u+i*s,o*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,o=t._x,s=t._y,a=t._z,u=t._w,c=o+o,f=s+s,p=a+a,g=o*c,y=o*f,w=o*p,M=s*f,C=s*p,I=a*p,B=u*c,U=u*f,j=u*p,$=r.x,se=r.y,ge=r.z;return i[0]=(1-(M+I))*$,i[1]=(y+j)*$,i[2]=(w-U)*$,i[3]=0,i[4]=(y-j)*se,i[5]=(1-(g+I))*se,i[6]=(C+B)*se,i[7]=0,i[8]=(w+U)*ge,i[9]=(C-B)*ge,i[10]=(1-(g+M))*ge,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let o=rS.set(i[0],i[1],i[2]).length();const s=rS.set(i[4],i[5],i[6]).length(),a=rS.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Gf.copy(this);const c=1/o,f=1/s,p=1/a;return Gf.elements[0]*=c,Gf.elements[1]*=c,Gf.elements[2]*=c,Gf.elements[4]*=f,Gf.elements[5]*=f,Gf.elements[6]*=f,Gf.elements[8]*=p,Gf.elements[9]*=p,Gf.elements[10]*=p,t.setFromRotationMatrix(Gf),r.x=o,r.y=s,r.z=a,this}makePerspective(e,t,r,i,o,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*o/(r-i),f=(t+e)/(t-e),p=(r+i)/(r-i),g=-(s+o)/(s-o),y=-2*s*o/(s-o);return a[0]=2*o/(t-e),a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=c,a[9]=p,a[13]=0,a[2]=0,a[6]=0,a[10]=g,a[14]=y,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,o,s){const a=this.elements,u=1/(t-e),c=1/(r-i),f=1/(s-o),p=(t+e)*u,g=(r+i)*c,y=(s+o)*f;return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-p,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-g,a[2]=0,a[6]=0,a[10]=-2*f,a[14]=-y,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const rS=new Fe,Gf=new eo,wxe=new Fe(0,0,0),Mxe=new Fe(1,1,1),Lv=new Fe,mk=new Fe,qc=new Fe,gq=new eo,vq=new Zc;let Sxe=(()=>{class n{constructor(t=0,r=0,i=0,o=n.DefaultOrder){this.isEuler=!0,this._x=t,this._y=r,this._z=i,this._order=o}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,i,o=this._order){return this._x=t,this._y=r,this._z=i,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,i=!0){const o=t.elements,s=o[0],a=o[4],u=o[8],c=o[1],f=o[5],p=o[9],g=o[2],y=o[6],w=o[10];switch(r){case"XYZ":this._y=Math.asin(va(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,w),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-va(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(u,w),this._z=Math.atan2(c,f)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(va(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,w),this._z=Math.atan2(-a,f)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-va(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,w),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,f));break;case"YZX":this._z=Math.asin(va(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(u,w));break;case"XZY":this._z=Math.asin(-va(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-p,w),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,r,i){return gq.makeRotationFromQuaternion(t),this.setFromRotationMatrix(gq,r,i)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return vq.setFromEuler(this),this.setFromQuaternion(vq,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return n.DefaultOrder="XYZ",n.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],n})();class LB{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let xxe=0;const yq=new Fe,iS=new Zc,mm=new eo,gk=new Fe,MT=new Fe,Cxe=new Fe,Exe=new Zc,_q=new Fe(1,0,0),bq=new Fe(0,1,0),wq=new Fe(0,0,1),Txe={type:"added"},Mq={type:"removed"};let Au=(()=>{class n extends XM{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:xxe++}),this.uuid=Kc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DefaultUp.clone();const t=new Fe,r=new Sxe,i=new Zc,o=new Fe(1,1,1);r._onChange(function s(){i.setFromEuler(r,!1)}),i._onChange(function a(){r.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new eo},normalMatrix:{value:new fc}}),this.matrix=new eo,this.matrixWorld=new eo,this.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new LB,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return iS.setFromAxisAngle(t,r),this.quaternion.multiply(iS),this}rotateOnWorldAxis(t,r){return iS.setFromAxisAngle(t,r),this.quaternion.premultiply(iS),this}rotateX(t){return this.rotateOnAxis(_q,t)}rotateY(t){return this.rotateOnAxis(bq,t)}rotateZ(t){return this.rotateOnAxis(wq,t)}translateOnAxis(t,r){return yq.copy(t).applyQuaternion(this.quaternion),this.position.add(yq.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(_q,t)}translateY(t){return this.translateOnAxis(bq,t)}translateZ(t){return this.translateOnAxis(wq,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(mm.copy(this.matrixWorld).invert())}lookAt(t,r,i){t.isVector3?gk.copy(t):gk.set(t,r,i);const o=this.parent;this.updateWorldMatrix(!0,!1),MT.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?mm.lookAt(MT,gk,this.up):mm.lookAt(gk,MT,this.up),this.quaternion.setFromRotationMatrix(mm),o&&(mm.extractRotation(o.matrixWorld),iS.setFromRotationMatrix(mm),this.quaternion.premultiply(iS.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Txe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const r=this.children.indexOf(t);return-1!==r&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(Mq)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const r=this.children[t];r.parent=null,r.dispatchEvent(Mq)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),mm.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),mm.multiply(t.parent.matrixWorld)),t.applyMatrix4(mm),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let i=0,o=this.children.length;i<o;i++){const a=this.children[i].getObjectByProperty(t,r);if(void 0!==a)return a}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(MT,t,Cxe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(MT,Exe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverseVisible(t)}traverseAncestors(t){const r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(t)}updateWorldMatrix(t,r){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===r){const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(t){const r=void 0===t||"string"==typeof t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};function s(u,c){return void 0===u[c.uuid]&&(u[c.uuid]=c.toJSON(t)),c.uuid}if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(o.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(o.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(t.geometries,this.geometry);const u=this.geometry.parameters;if(void 0!==u&&void 0!==u.shapes){const c=u.shapes;if(Array.isArray(c))for(let f=0,p=c.length;f<p;f++)s(t.shapes,c[f]);else s(t.shapes,c)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(t.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const u=[];for(let c=0,f=this.material.length;c<f;c++)u.push(s(t.materials,this.material[c]));o.material=u}else o.material=s(t.materials,this.material);if(this.children.length>0){o.children=[];for(let u=0;u<this.children.length;u++)o.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){o.animations=[];for(let u=0;u<this.animations.length;u++)o.animations.push(s(t.animations,this.animations[u]))}if(r){const u=a(t.geometries),c=a(t.materials),f=a(t.textures),p=a(t.images),g=a(t.shapes),y=a(t.skeletons),w=a(t.animations),M=a(t.nodes);u.length>0&&(i.geometries=u),c.length>0&&(i.materials=c),f.length>0&&(i.textures=f),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),w.length>0&&(i.animations=w),M.length>0&&(i.nodes=M)}return i.object=o,i;function a(u){const c=[];for(const f in u){const p=u[f];delete p.metadata,c.push(p)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}return n.DefaultUp=new Fe(0,1,0),n.DefaultMatrixAutoUpdate=!0,n})();const $f=new Fe,gm=new Fe,IB=new Fe,vm=new Fe,oS=new Fe,sS=new Fe,Sq=new Fe,PB=new Fe,NB=new Fe,FB=new Fe;class Xf{constructor(e=new Fe,t=new Fe,r=new Fe){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),$f.subVectors(e,t),i.cross($f);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){$f.subVectors(i,t),gm.subVectors(r,t),IB.subVectors(e,t);const s=$f.dot($f),a=$f.dot(gm),u=$f.dot(IB),c=gm.dot(gm),f=gm.dot(IB),p=s*c-a*a;if(0===p)return o.set(-2,-1,-1);const g=1/p,y=(c*u-a*f)*g,w=(s*f-a*u)*g;return o.set(1-y-w,w,y)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,vm),vm.x>=0&&vm.y>=0&&vm.x+vm.y<=1}static getUV(e,t,r,i,o,s,a,u){return this.getBarycoord(e,t,r,i,vm),u.set(0,0),u.addScaledVector(o,vm.x),u.addScaledVector(s,vm.y),u.addScaledVector(a,vm.z),u}static isFrontFacing(e,t,r,i){return $f.subVectors(r,t),gm.subVectors(e,t),$f.cross(gm).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return $f.subVectors(this.c,this.b),gm.subVectors(this.a,this.b),.5*$f.cross(gm).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Xf.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Xf.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,o){return Xf.getUV(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return Xf.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Xf.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,o=this.c;let s,a;oS.subVectors(i,r),sS.subVectors(o,r),PB.subVectors(e,r);const u=oS.dot(PB),c=sS.dot(PB);if(u<=0&&c<=0)return t.copy(r);NB.subVectors(e,i);const f=oS.dot(NB),p=sS.dot(NB);if(f>=0&&p<=f)return t.copy(i);const g=u*p-f*c;if(g<=0&&u>=0&&f<=0)return s=u/(u-f),t.copy(r).addScaledVector(oS,s);FB.subVectors(e,o);const y=oS.dot(FB),w=sS.dot(FB);if(w>=0&&y<=w)return t.copy(o);const M=y*c-u*w;if(M<=0&&c>=0&&w<=0)return a=c/(c-w),t.copy(r).addScaledVector(sS,a);const C=f*w-y*p;if(C<=0&&p-f>=0&&y-w>=0)return Sq.subVectors(o,i),a=(p-f)/(p-f+(y-w)),t.copy(i).addScaledVector(Sq,a);const I=1/(C+M+g);return s=M*I,a=g*I,t.copy(r).addScaledVector(oS,s).addScaledVector(sS,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Rxe=0;class aS extends XM{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Rxe++}),this.uuid=Kc(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(o){const s=[];for(const a in o){const u=o[a];delete u.metadata,s.push(u)}return s}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(r.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=this.flatShading),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class Iv extends aS{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Cr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Fa=new Fe,vk=new xn;class gl{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new Cr),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new xn),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new Fe),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new ns),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)vk.fromBufferAttribute(this,t),vk.applyMatrix3(e),this.setXY(t,vk.x,vk.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)Fa.fromBufferAttribute(this,t),Fa.applyMatrix3(e),this.setXYZ(t,Fa.x,Fa.y,Fa.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Fa.fromBufferAttribute(this,t),Fa.applyMatrix4(e),this.setXYZ(t,Fa.x,Fa.y,Fa.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Fa.fromBufferAttribute(this,t),Fa.applyNormalMatrix(e),this.setXYZ(t,Fa.x,Fa.y,Fa.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Fa.fromBufferAttribute(this,t),Fa.transformDirection(e),this.setXYZ(t,Fa.x,Fa.y,Fa.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class xq extends gl{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Cq extends gl{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class zr extends gl{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Dxe=0;const zd=new eo,HB=new Au,lS=new Fe,Jc=new JM,ST=new JM,vl=new Fe;class uo extends XM{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Dxe++}),this.uuid=Kc(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(cq(e)?Cq:xq)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const o=(new fc).getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return zd.makeRotationFromQuaternion(e),this.applyMatrix4(zd),this}rotateX(e){return zd.makeRotationX(e),this.applyMatrix4(zd),this}rotateY(e){return zd.makeRotationY(e),this.applyMatrix4(zd),this}rotateZ(e){return zd.makeRotationZ(e),this.applyMatrix4(zd),this}translate(e,t,r){return zd.makeTranslation(e,t,r),this.applyMatrix4(zd),this}scale(e,t,r){return zd.makeScale(e,t,r),this.applyMatrix4(zd),this}lookAt(e){return HB.lookAt(e),HB.updateMatrix(),this.applyMatrix4(HB.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lS).negate(),this.translate(lS.x,lS.y,lS.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new zr(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new JM);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Fe(-1/0,-1/0,-1/0),new Fe(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++)Jc.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(vl.addVectors(this.boundingBox.min,Jc.min),this.boundingBox.expandByPoint(vl),vl.addVectors(this.boundingBox.max,Jc.max),this.boundingBox.expandByPoint(vl)):(this.boundingBox.expandByPoint(Jc.min),this.boundingBox.expandByPoint(Jc.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new nS);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Fe,1/0);if(e){const r=this.boundingSphere.center;if(Jc.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++)ST.setFromBufferAttribute(t[o]),this.morphTargetsRelative?(vl.addVectors(Jc.min,ST.min),Jc.expandByPoint(vl),vl.addVectors(Jc.max,ST.max),Jc.expandByPoint(vl)):(Jc.expandByPoint(ST.min),Jc.expandByPoint(ST.max));Jc.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)vl.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(vl));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],u=this.morphTargetsRelative;for(let c=0,f=a.count;c<f;c++)vl.fromBufferAttribute(a,c),u&&(lS.fromBufferAttribute(e,c),vl.add(lS)),i=Math.max(i,r.distanceToSquared(vl))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=e.array,i=t.position.array,o=t.normal.array,s=t.uv.array,a=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new gl(new Float32Array(4*a),4));const u=this.getAttribute("tangent").array,c=[],f=[];for(let we=0;we<a;we++)c[we]=new Fe,f[we]=new Fe;const p=new Fe,g=new Fe,y=new Fe,w=new xn,M=new xn,C=new xn,I=new Fe,B=new Fe;function U(we,Ae,vt){p.fromArray(i,3*we),g.fromArray(i,3*Ae),y.fromArray(i,3*vt),w.fromArray(s,2*we),M.fromArray(s,2*Ae),C.fromArray(s,2*vt),g.sub(p),y.sub(p),M.sub(w),C.sub(w);const pt=1/(M.x*C.y-C.x*M.y);!isFinite(pt)||(I.copy(g).multiplyScalar(C.y).addScaledVector(y,-M.y).multiplyScalar(pt),B.copy(y).multiplyScalar(M.x).addScaledVector(g,-C.x).multiplyScalar(pt),c[we].add(I),c[Ae].add(I),c[vt].add(I),f[we].add(B),f[Ae].add(B),f[vt].add(B))}let j=this.groups;0===j.length&&(j=[{start:0,count:r.length}]);for(let we=0,Ae=j.length;we<Ae;++we){const vt=j[we],pt=vt.start;for(let xt=pt,Le=pt+vt.count;xt<Le;xt+=3)U(r[xt+0],r[xt+1],r[xt+2])}const $=new Fe,se=new Fe,ge=new Fe,re=new Fe;function fe(we){ge.fromArray(o,3*we),re.copy(ge);const Ae=c[we];$.copy(Ae),$.sub(ge.multiplyScalar(ge.dot(Ae))).normalize(),se.crossVectors(re,Ae);const pt=se.dot(f[we])<0?-1:1;u[4*we]=$.x,u[4*we+1]=$.y,u[4*we+2]=$.z,u[4*we+3]=pt}for(let we=0,Ae=j.length;we<Ae;++we){const vt=j[we],pt=vt.start;for(let xt=pt,Le=pt+vt.count;xt<Le;xt+=3)fe(r[xt+0]),fe(r[xt+1]),fe(r[xt+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new gl(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let g=0,y=r.count;g<y;g++)r.setXYZ(g,0,0,0);const i=new Fe,o=new Fe,s=new Fe,a=new Fe,u=new Fe,c=new Fe,f=new Fe,p=new Fe;if(e)for(let g=0,y=e.count;g<y;g+=3){const w=e.getX(g+0),M=e.getX(g+1),C=e.getX(g+2);i.fromBufferAttribute(t,w),o.fromBufferAttribute(t,M),s.fromBufferAttribute(t,C),f.subVectors(s,o),p.subVectors(i,o),f.cross(p),a.fromBufferAttribute(r,w),u.fromBufferAttribute(r,M),c.fromBufferAttribute(r,C),a.add(f),u.add(f),c.add(f),r.setXYZ(w,a.x,a.y,a.z),r.setXYZ(M,u.x,u.y,u.z),r.setXYZ(C,c.x,c.y,c.z)}else for(let g=0,y=t.count;g<y;g+=3)i.fromBufferAttribute(t,g+0),o.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),f.subVectors(s,o),p.subVectors(i,o),f.cross(p),r.setXYZ(g+0,f.x,f.y,f.z),r.setXYZ(g+1,f.x,f.y,f.z),r.setXYZ(g+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(void 0===e.attributes[i])continue;const s=r[i].array,a=e.attributes[i],u=a.array,c=a.itemSize*t,f=Math.min(u.length,s.length-c);for(let p=0,g=c;p<f;p++,g++)s[g]=u[p]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)vl.fromBufferAttribute(e,t),vl.normalize(),e.setXYZ(t,vl.x,vl.y,vl.z)}toNonIndexed(){function e(a,u){const c=a.array,f=a.itemSize,p=a.normalized,g=new c.constructor(u.length*f);let y=0,w=0;for(let M=0,C=u.length;M<C;M++){y=a.isInterleavedBufferAttribute?u[M]*a.data.stride+a.offset:u[M]*f;for(let I=0;I<f;I++)g[w++]=c[y++]}return new gl(g,f,p)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new uo,r=this.index.array,i=this.attributes;for(const a in i){const c=e(i[a],r);t.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const u=[],c=o[a];for(let f=0,p=c.length;f<p;f++){const y=e(c[f],r);u.push(y)}t.morphAttributes[a]=u}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,u=s.length;a<u;a++){const c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const u=this.parameters;for(const c in u)void 0!==u[c]&&(e[c]=u[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r)e.data.attributes[u]=r[u].toJSON(e.data);const i={};let o=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],f=[];for(let p=0,g=c.length;p<g;p++)f.push(c[p].toJSON(e.data));f.length>0&&(i[u]=f,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i)this.setAttribute(c,i[c].clone(t));const o=e.morphAttributes;for(const c in o){const f=[],p=o[c];for(let g=0,y=p.length;g<y;g++)f.push(p[g].clone(t));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,f=s.length;c<f;c++){const p=s[c];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const u=e.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Eq=new eo,uS=new pk,BB=new nS,Pv=new Fe,Nv=new Fe,Fv=new Fe,VB=new Fe,zB=new Fe,UB=new Fe,yk=new Fe,_k=new Fe,bk=new Fe,wk=new xn,Mk=new xn,Sk=new xn,jB=new Fe,xk=new Fe;class hc extends Au{constructor(e=new uo,t=new Iv){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}raycast(e,t){const r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0===i||(null===r.boundingSphere&&r.computeBoundingSphere(),BB.copy(r.boundingSphere),BB.applyMatrix4(o),!1===e.ray.intersectsSphere(BB))||(Eq.copy(o).invert(),uS.copy(e.ray).applyMatrix4(Eq),null!==r.boundingBox&&!1===uS.intersectsBox(r.boundingBox)))return;let s;const a=r.index,u=r.attributes.position,c=r.morphAttributes.position,f=r.morphTargetsRelative,p=r.attributes.uv,g=r.attributes.uv2,y=r.groups,w=r.drawRange;if(null!==a)if(Array.isArray(i))for(let M=0,C=y.length;M<C;M++){const I=y[M],B=i[I.materialIndex];for(let $=Math.max(I.start,w.start),se=Math.min(a.count,Math.min(I.start+I.count,w.start+w.count));$<se;$+=3){const ge=a.getX($),re=a.getX($+1),fe=a.getX($+2);s=Ck(this,B,e,uS,u,c,f,p,g,ge,re,fe),s&&(s.faceIndex=Math.floor($/3),s.face.materialIndex=I.materialIndex,t.push(s))}}else for(let I=Math.max(0,w.start),B=Math.min(a.count,w.start+w.count);I<B;I+=3){const U=a.getX(I),j=a.getX(I+1),$=a.getX(I+2);s=Ck(this,i,e,uS,u,c,f,p,g,U,j,$),s&&(s.faceIndex=Math.floor(I/3),t.push(s))}else if(void 0!==u)if(Array.isArray(i))for(let M=0,C=y.length;M<C;M++){const I=y[M],B=i[I.materialIndex];for(let $=Math.max(I.start,w.start),se=Math.min(u.count,Math.min(I.start+I.count,w.start+w.count));$<se;$+=3)s=Ck(this,B,e,uS,u,c,f,p,g,$,$+1,$+2),s&&(s.faceIndex=Math.floor($/3),s.face.materialIndex=I.materialIndex,t.push(s))}else for(let I=Math.max(0,w.start),B=Math.min(u.count,w.start+w.count);I<B;I+=3)s=Ck(this,i,e,uS,u,c,f,p,g,I,I+1,I+2),s&&(s.faceIndex=Math.floor(I/3),t.push(s))}}function Ck(n,e,t,r,i,o,s,a,u,c,f,p){Pv.fromBufferAttribute(i,c),Nv.fromBufferAttribute(i,f),Fv.fromBufferAttribute(i,p);const g=n.morphTargetInfluences;if(o&&g){yk.set(0,0,0),_k.set(0,0,0),bk.set(0,0,0);for(let w=0,M=o.length;w<M;w++){const C=g[w],I=o[w];0!==C&&(VB.fromBufferAttribute(I,c),zB.fromBufferAttribute(I,f),UB.fromBufferAttribute(I,p),s?(yk.addScaledVector(VB,C),_k.addScaledVector(zB,C),bk.addScaledVector(UB,C)):(yk.addScaledVector(VB.sub(Pv),C),_k.addScaledVector(zB.sub(Nv),C),bk.addScaledVector(UB.sub(Fv),C)))}Pv.add(yk),Nv.add(_k),Fv.add(bk)}n.isSkinnedMesh&&(n.boneTransform(c,Pv),n.boneTransform(f,Nv),n.boneTransform(p,Fv));const y=function Axe(n,e,t,r,i,o,s,a){let u;if(u=1===e.side?r.intersectTriangle(s,o,i,!0,a):r.intersectTriangle(i,o,s,2!==e.side,a),null===u)return null;xk.copy(a),xk.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(xk);return c<t.near||c>t.far?null:{distance:c,point:xk.clone(),object:n}}(n,e,t,r,Pv,Nv,Fv,jB);if(y){a&&(wk.fromBufferAttribute(a,c),Mk.fromBufferAttribute(a,f),Sk.fromBufferAttribute(a,p),y.uv=Xf.getUV(jB,Pv,Nv,Fv,wk,Mk,Sk,new xn)),u&&(wk.fromBufferAttribute(u,c),Mk.fromBufferAttribute(u,f),Sk.fromBufferAttribute(u,p),y.uv2=Xf.getUV(jB,Pv,Nv,Fv,wk,Mk,Sk,new xn));const w={a:c,b:f,c:p,normal:new Fe,materialIndex:0};Xf.getNormal(Pv,Nv,Fv,w.normal),y.face=w}return y}class fb extends uo{constructor(e=1,t=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const u=[],c=[],f=[],p=[];let g=0,y=0;function w(M,C,I,B,U,j,$,se,ge,re,fe){const we=j/ge,Ae=$/re,vt=j/2,pt=$/2,Xe=se/2,xt=ge+1,Le=re+1;let Ze=0,it=0;const ot=new Fe;for(let Mt=0;Mt<Le;Mt++){const J=Mt*Ae-pt;for(let ee=0;ee<xt;ee++)ot[M]=(ee*we-vt)*B,ot[C]=J*U,ot[I]=Xe,c.push(ot.x,ot.y,ot.z),ot[M]=0,ot[C]=0,ot[I]=se>0?1:-1,f.push(ot.x,ot.y,ot.z),p.push(ee/ge),p.push(1-Mt/re),Ze+=1}for(let Mt=0;Mt<re;Mt++)for(let J=0;J<ge;J++){const he=g+J+xt*(Mt+1),be=g+(J+1)+xt*(Mt+1),ke=g+(J+1)+xt*Mt;u.push(g+J+xt*Mt,he,ke),u.push(he,be,ke),it+=6}a.addGroup(y,it,fe),y+=it,g+=Ze}w("z","y","x",-1,-1,r,t,e,s,o,0),w("z","y","x",1,-1,r,t,-e,s,o,1),w("x","z","y",1,1,e,r,t,i,s,2),w("x","z","y",1,-1,e,r,-t,i,s,3),w("x","y","z",1,-1,e,t,r,i,o,4),w("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(u),this.setAttribute("position",new zr(c,3)),this.setAttribute("normal",new zr(f,3)),this.setAttribute("uv",new zr(p,2))}static fromJSON(e){return new fb(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cS(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];e[t][r]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.clone():Array.isArray(i)?i.slice():i}}return e}function tu(n){const e={};for(let t=0;t<n.length;t++){const r=cS(n[t]);for(const i in r)e[i]=r[i]}return e}const Oxe={clone:cS,merge:tu};class Hv extends aS{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cS(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;t.uniforms[i]=s&&s.isTexture?{type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?{type:"c",value:s.getHex()}:s&&s.isVector2?{type:"v2",value:s.toArray()}:s&&s.isVector3?{type:"v3",value:s.toArray()}:s&&s.isVector4?{type:"v4",value:s.toArray()}:s&&s.isMatrix3?{type:"m3",value:s.toArray()}:s&&s.isMatrix4?{type:"m4",value:s.toArray()}:{value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)!0===this.extensions[i]&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class WB extends Au{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new eo,this.projectionMatrix=new eo,this.projectionMatrixInverse=new eo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class nu extends WB{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*yT*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*sb*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*yT*Math.atan(Math.tan(.5*sb*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,o,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*sb*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i;const s=this.view;if(null!==this.view&&this.view.enabled){const u=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/u,t-=s.offsetY*r/c,i*=s.width/u,r*=s.height/c}const a=this.filmOffset;0!==a&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class Ixe extends Au{constructor(e,t,r){if(super(),this.type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=r;const i=new nu(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Fe(1,0,0)),this.add(i);const o=new nu(90,1,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Fe(-1,0,0)),this.add(o);const s=new nu(90,1,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Fe(0,1,0)),this.add(s);const a=new nu(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Fe(0,-1,0)),this.add(a);const u=new nu(90,1,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new Fe(0,0,1)),this.add(u);const c=new nu(90,1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Fe(0,0,-1)),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const r=this.renderTarget,[i,o,s,a,u,c]=this.children,f=e.getRenderTarget(),p=e.toneMapping,g=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,u),r.texture.generateMipmaps=y,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(f),e.toneMapping=p,e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class Ek extends Dv{constructor(e,t,r,i,o,s,a,u,c,f){super(e=void 0!==e?e:[],t=void 0!==t?t:301,r,i,o,s,a,u,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Pxe extends lb{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new Ek([r,r,r,r,r,r],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Na}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new fb(5,5,5),o=new Hv({name:"CubemapFromEquirect",uniforms:cS(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});o.uniforms.tEquirect.value=t;const s=new hc(i,o),a=t.minFilter;return 1008===t.minFilter&&(t.minFilter=Na),new Ixe(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(o)}}const YB=new Fe,Nxe=new Fe,Fxe=new fc;class hb{constructor(e=new Fe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=YB.subVectors(r,t).cross(Nxe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(YB),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Fxe.getNormalMatrix(e),i=this.coplanarPoint(YB).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const hS=new nS,Tk=new Fe;class GB{constructor(e=new hb,t=new hb,r=new hb,i=new hb,o=new hb,s=new hb){this.planes=[e,t,r,i,o,s]}set(e,t,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],u=r[4],c=r[5],f=r[6],p=r[7],g=r[8],y=r[9],w=r[10],M=r[11],C=r[12],I=r[13],B=r[14],U=r[15];return t[0].setComponents(a-i,p-u,M-g,U-C).normalize(),t[1].setComponents(a+i,p+u,M+g,U+C).normalize(),t[2].setComponents(a+o,p+c,M+y,U+I).normalize(),t[3].setComponents(a-o,p-c,M-y,U-I).normalize(),t[4].setComponents(a-s,p-f,M-w,U-B).normalize(),t[5].setComponents(a+s,p+f,M+w,U+B).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),hS.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(hS)}intersectsSprite(e){return hS.center.set(0,0,0),hS.radius=.7071067811865476,hS.applyMatrix4(e.matrixWorld),this.intersectsSphere(hS)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Tk.x=i.normal.x>0?e.max.x:e.min.x,Tk.y=i.normal.y>0?e.max.y:e.min.y,Tk.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Tk)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Tq(){let n=null,e=!1,t=null,r=null;function i(o,s){t(o,s),r=n.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==t&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function Hxe(n,e){const t=e.isWebGL2,r=new WeakMap;return{get:function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f&&(n.deleteBuffer(f.buffer),r.delete(c))},update:function u(c,f){if(c.isGLBufferAttribute){const g=r.get(c);return void((!g||g.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const p=r.get(c);void 0===p?r.set(c,function i(c,f){const p=c.array,g=c.usage,y=n.createBuffer();let w;if(n.bindBuffer(f,y),n.bufferData(f,p,g),c.onUploadCallback(),p instanceof Float32Array)w=5126;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");w=5131}else w=5123;else if(p instanceof Int16Array)w=5122;else if(p instanceof Uint32Array)w=5125;else if(p instanceof Int32Array)w=5124;else if(p instanceof Int8Array)w=5120;else if(p instanceof Uint8Array)w=5121;else{if(!(p instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);w=5121}return{buffer:y,type:w,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version}}(c,f)):p.version<c.version&&(function o(c,f,p){const g=f.array,y=f.updateRange;n.bindBuffer(p,c),-1===y.count?n.bufferSubData(p,0,g):(t?n.bufferSubData(p,y.offset*g.BYTES_PER_ELEMENT,g,y.offset,y.count):n.bufferSubData(p,y.offset*g.BYTES_PER_ELEMENT,g.subarray(y.offset,y.offset+y.count)),y.count=-1)}(p.buffer,c,f),p.version=c.version)}}}class xT extends uo{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const o=e/2,s=t/2,a=Math.floor(r),u=Math.floor(i),c=a+1,f=u+1,p=e/a,g=t/u,y=[],w=[],M=[],C=[];for(let I=0;I<f;I++){const B=I*g-s;for(let U=0;U<c;U++)w.push(U*p-o,-B,0),M.push(0,0,1),C.push(U/a),C.push(1-I/u)}for(let I=0;I<u;I++)for(let B=0;B<a;B++){const j=B+c*(I+1),$=B+1+c*(I+1),se=B+1+c*I;y.push(B+c*I,j,se),y.push(j,$,se)}this.setIndex(y),this.setAttribute("position",new zr(w,3)),this.setAttribute("normal",new zr(M,3)),this.setAttribute("uv",new zr(C,2))}static fromJSON(e){return new xT(e.width,e.height,e.widthSegments,e.heightSegments)}}const po={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\nvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\nconst mat3 XYZ_TO_REC709 = mat3(\n    3.2404542, -0.9692660,  0.0556434,\n   -1.5371385,  1.8760108, -0.2040259,\n   -0.4985314,  0.0415560,  1.0572252\n);\nvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n   vec3 sqrtF0 = sqrt( fresnel0 );\n   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n}\nvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n}\nfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n}\nvec3 evalSensitivity( float OPD, vec3 shift ) {\n   float phase = 2.0 * PI * OPD * 1.0e-9;\n   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );\n   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );\n   xyz /= 1.0685e-7;\n   vec3 srgb = XYZ_TO_REC709 * xyz;\n   return srgb;\n}\nvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n   vec3 I;\n   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n   float cosTheta2Sq = 1.0 - sinTheta2Sq;\n   if ( cosTheta2Sq < 0.0 ) {\n       return vec3( 1.0 );\n   }\n   float cosTheta2 = sqrt( cosTheta2Sq );\n   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n   float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n   float R21 = R12;\n   float T121 = 1.0 - R12;\n   float phi12 = 0.0;\n   if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n   float phi21 = PI - phi12;\n   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n   vec3 phi23 = vec3( 0.0 );\n   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;\n   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;\n   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;\n   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n   vec3 phi = vec3( phi21 ) + phi23;\n   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n   vec3 r123 = sqrt( R123 );\n   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n   vec3 C0 = R12 + Rs;\n   I = C0;\n   vec3 Cm = Rs - T121;\n   for ( int m = 1; m <= 2; ++m ) {\n       Cm *= r123;\n       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n       I += Cm * Sm;\n   }\n   return max( I, vec3( 0.0 ) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\nfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\nif ( material.iridescenceThickness == 0.0 ) {\n\tmaterial.iridescence = 0.0;\n} else {\n\tmaterial.iridescence = saturate( material.iridescence );\n}\nif ( material.iridescence > 0.0 ) {\n\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},sr={common:{diffuse:{value:new Cr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new fc},uv2Transform:{value:new fc},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new xn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Cr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Cr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fc}},sprite:{diffuse:{value:new Cr(16777215)},opacity:{value:1},center:{value:new xn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fc}}},Wh={basic:{uniforms:tu([sr.common,sr.specularmap,sr.envmap,sr.aomap,sr.lightmap,sr.fog]),vertexShader:po.meshbasic_vert,fragmentShader:po.meshbasic_frag},lambert:{uniforms:tu([sr.common,sr.specularmap,sr.envmap,sr.aomap,sr.lightmap,sr.emissivemap,sr.fog,sr.lights,{emissive:{value:new Cr(0)}}]),vertexShader:po.meshlambert_vert,fragmentShader:po.meshlambert_frag},phong:{uniforms:tu([sr.common,sr.specularmap,sr.envmap,sr.aomap,sr.lightmap,sr.emissivemap,sr.bumpmap,sr.normalmap,sr.displacementmap,sr.fog,sr.lights,{emissive:{value:new Cr(0)},specular:{value:new Cr(1118481)},shininess:{value:30}}]),vertexShader:po.meshphong_vert,fragmentShader:po.meshphong_frag},standard:{uniforms:tu([sr.common,sr.envmap,sr.aomap,sr.lightmap,sr.emissivemap,sr.bumpmap,sr.normalmap,sr.displacementmap,sr.roughnessmap,sr.metalnessmap,sr.fog,sr.lights,{emissive:{value:new Cr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:po.meshphysical_vert,fragmentShader:po.meshphysical_frag},toon:{uniforms:tu([sr.common,sr.aomap,sr.lightmap,sr.emissivemap,sr.bumpmap,sr.normalmap,sr.displacementmap,sr.gradientmap,sr.fog,sr.lights,{emissive:{value:new Cr(0)}}]),vertexShader:po.meshtoon_vert,fragmentShader:po.meshtoon_frag},matcap:{uniforms:tu([sr.common,sr.bumpmap,sr.normalmap,sr.displacementmap,sr.fog,{matcap:{value:null}}]),vertexShader:po.meshmatcap_vert,fragmentShader:po.meshmatcap_frag},points:{uniforms:tu([sr.points,sr.fog]),vertexShader:po.points_vert,fragmentShader:po.points_frag},dashed:{uniforms:tu([sr.common,sr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:po.linedashed_vert,fragmentShader:po.linedashed_frag},depth:{uniforms:tu([sr.common,sr.displacementmap]),vertexShader:po.depth_vert,fragmentShader:po.depth_frag},normal:{uniforms:tu([sr.common,sr.bumpmap,sr.normalmap,sr.displacementmap,{opacity:{value:1}}]),vertexShader:po.meshnormal_vert,fragmentShader:po.meshnormal_frag},sprite:{uniforms:tu([sr.sprite,sr.fog]),vertexShader:po.sprite_vert,fragmentShader:po.sprite_frag},background:{uniforms:{uvTransform:{value:new fc},t2D:{value:null}},vertexShader:po.background_vert,fragmentShader:po.background_frag},cube:{uniforms:tu([sr.envmap,{opacity:{value:1}}]),vertexShader:po.cube_vert,fragmentShader:po.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:po.equirect_vert,fragmentShader:po.equirect_frag},distanceRGBA:{uniforms:tu([sr.common,sr.displacementmap,{referencePosition:{value:new Fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:po.distanceRGBA_vert,fragmentShader:po.distanceRGBA_frag},shadow:{uniforms:tu([sr.lights,sr.fog,{color:{value:new Cr(0)},opacity:{value:1}}]),vertexShader:po.shadow_vert,fragmentShader:po.shadow_frag}};function NEe(n,e,t,r,i,o){const s=new Cr(0);let u,c,a=!0===i?0:1,f=null,p=0,g=null;function w(M,C){t.buffers.color.setClear(M.r,M.g,M.b,C,o)}return{getClearColor:function(){return s},setClearColor:function(M,C=1){s.set(M),a=C,w(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(M){a=M,w(s,a)},render:function y(M,C){let I=!1,B=!0===C.isScene?C.background:null;B&&B.isTexture&&(B=e.get(B));const U=n.xr,j=U.getSession&&U.getSession();j&&"additive"===j.environmentBlendMode&&(B=null),null===B?w(s,a):B&&B.isColor&&(w(B,1),I=!0),(n.autoClear||I)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),B&&(B.isCubeTexture||306===B.mapping)?(void 0===c&&(c=new hc(new fb(1,1,1),new Hv({name:"BackgroundCubeMaterial",uniforms:cS(Wh.cube.uniforms),vertexShader:Wh.cube.vertexShader,fragmentShader:Wh.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function($,se,ge){this.matrixWorld.copyPosition(ge.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=B,c.material.uniforms.flipEnvMap.value=B.isCubeTexture&&!1===B.isRenderTargetTexture?-1:1,(f!==B||p!==B.version||g!==n.toneMapping)&&(c.material.needsUpdate=!0,f=B,p=B.version,g=n.toneMapping),c.layers.enableAll(),M.unshift(c,c.geometry,c.material,0,0,null)):B&&B.isTexture&&(void 0===u&&(u=new hc(new xT(2,2),new Hv({name:"BackgroundMaterial",uniforms:cS(Wh.background.uniforms),vertexShader:Wh.background.vertexShader,fragmentShader:Wh.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=B,!0===B.matrixAutoUpdate&&B.updateMatrix(),u.material.uniforms.uvTransform.value.copy(B.matrix),(f!==B||p!==B.version||g!==n.toneMapping)&&(u.material.needsUpdate=!0,f=B,p=B.version,g=n.toneMapping),u.layers.enableAll(),M.unshift(u,u.geometry,u.material,0,0,null))}}}function FEe(n,e,t,r){const i=n.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||null!==o,a={},u=C(null);let c=u,f=!1;function y(Xe){return r.isWebGL2?n.bindVertexArray(Xe):o.bindVertexArrayOES(Xe)}function w(Xe){return r.isWebGL2?n.deleteVertexArray(Xe):o.deleteVertexArrayOES(Xe)}function C(Xe){const xt=[],Le=[],Ze=[];for(let it=0;it<i;it++)xt[it]=0,Le[it]=0,Ze[it]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:xt,enabledAttributes:Le,attributeDivisors:Ze,object:Xe,attributes:{},index:null}}function U(){const Xe=c.newAttributes;for(let xt=0,Le=Xe.length;xt<Le;xt++)Xe[xt]=0}function j(Xe){$(Xe,0)}function $(Xe,xt){const Ze=c.enabledAttributes,it=c.attributeDivisors;c.newAttributes[Xe]=1,0===Ze[Xe]&&(n.enableVertexAttribArray(Xe),Ze[Xe]=1),it[Xe]!==xt&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Xe,xt),it[Xe]=xt)}function se(){const Xe=c.newAttributes,xt=c.enabledAttributes;for(let Le=0,Ze=xt.length;Le<Ze;Le++)xt[Le]!==Xe[Le]&&(n.disableVertexAttribArray(Le),xt[Le]=0)}function ge(Xe,xt,Le,Ze,it,ot){!0!==r.isWebGL2||5124!==Le&&5125!==Le?n.vertexAttribPointer(Xe,xt,Le,Ze,it,ot):n.vertexAttribIPointer(Xe,xt,Le,it,ot)}function vt(){pt(),f=!0,c!==u&&(c=u,y(c.object))}function pt(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function p(Xe,xt,Le,Ze,it){let ot=!1;if(s){const Mt=function M(Xe,xt,Le){const Ze=!0===Le.wireframe;let it=a[Xe.id];void 0===it&&(it={},a[Xe.id]=it);let ot=it[xt.id];void 0===ot&&(ot={},it[xt.id]=ot);let Mt=ot[Ze];return void 0===Mt&&(Mt=C(function g(){return r.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}()),ot[Ze]=Mt),Mt}(Ze,Le,xt);c!==Mt&&(c=Mt,y(c.object)),ot=function I(Xe,xt,Le,Ze){const it=c.attributes,ot=xt.attributes;let Mt=0;const J=Le.getAttributes();for(const ee in J)if(J[ee].location>=0){const be=it[ee];let ke=ot[ee];if(void 0===ke&&("instanceMatrix"===ee&&Xe.instanceMatrix&&(ke=Xe.instanceMatrix),"instanceColor"===ee&&Xe.instanceColor&&(ke=Xe.instanceColor)),void 0===be||be.attribute!==ke||ke&&be.data!==ke.data)return!0;Mt++}return c.attributesNum!==Mt||c.index!==Ze}(Xe,Ze,Le,it),ot&&function B(Xe,xt,Le,Ze){const it={},ot=xt.attributes;let Mt=0;const J=Le.getAttributes();for(const ee in J)if(J[ee].location>=0){let be=ot[ee];void 0===be&&("instanceMatrix"===ee&&Xe.instanceMatrix&&(be=Xe.instanceMatrix),"instanceColor"===ee&&Xe.instanceColor&&(be=Xe.instanceColor));const ke={};ke.attribute=be,be&&be.data&&(ke.data=be.data),it[ee]=ke,Mt++}c.attributes=it,c.attributesNum=Mt,c.index=Ze}(Xe,Ze,Le,it)}else{const Mt=!0===xt.wireframe;(c.geometry!==Ze.id||c.program!==Le.id||c.wireframe!==Mt)&&(c.geometry=Ze.id,c.program=Le.id,c.wireframe=Mt,ot=!0)}null!==it&&t.update(it,34963),(ot||f)&&(f=!1,function re(Xe,xt,Le,Ze){if(!1===r.isWebGL2&&(Xe.isInstancedMesh||Ze.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;U();const it=Ze.attributes,ot=Le.getAttributes(),Mt=xt.defaultAttributeValues;for(const J in ot){const ee=ot[J];if(ee.location>=0){let he=it[J];if(void 0===he&&("instanceMatrix"===J&&Xe.instanceMatrix&&(he=Xe.instanceMatrix),"instanceColor"===J&&Xe.instanceColor&&(he=Xe.instanceColor)),void 0!==he){const be=he.normalized,ke=he.itemSize,We=t.get(he);if(void 0===We)continue;const yt=We.buffer,It=We.type,Lt=We.bytesPerElement;if(he.isInterleavedBufferAttribute){const at=he.data,Ot=at.stride,ht=he.offset;if(at.isInstancedInterleavedBuffer){for(let Tt=0;Tt<ee.locationSize;Tt++)$(ee.location+Tt,at.meshPerAttribute);!0!==Xe.isInstancedMesh&&void 0===Ze._maxInstanceCount&&(Ze._maxInstanceCount=at.meshPerAttribute*at.count)}else for(let Tt=0;Tt<ee.locationSize;Tt++)j(ee.location+Tt);n.bindBuffer(34962,yt);for(let Tt=0;Tt<ee.locationSize;Tt++)ge(ee.location+Tt,ke/ee.locationSize,It,be,Ot*Lt,(ht+ke/ee.locationSize*Tt)*Lt)}else{if(he.isInstancedBufferAttribute){for(let at=0;at<ee.locationSize;at++)$(ee.location+at,he.meshPerAttribute);!0!==Xe.isInstancedMesh&&void 0===Ze._maxInstanceCount&&(Ze._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let at=0;at<ee.locationSize;at++)j(ee.location+at);n.bindBuffer(34962,yt);for(let at=0;at<ee.locationSize;at++)ge(ee.location+at,ke/ee.locationSize,It,be,ke*Lt,ke/ee.locationSize*at*Lt)}}else if(void 0!==Mt){const be=Mt[J];if(void 0!==be)switch(be.length){case 2:n.vertexAttrib2fv(ee.location,be);break;case 3:n.vertexAttrib3fv(ee.location,be);break;case 4:n.vertexAttrib4fv(ee.location,be);break;default:n.vertexAttrib1fv(ee.location,be)}}}}se()}(Xe,xt,Le,Ze),null!==it&&n.bindBuffer(34963,t.get(it).buffer))},reset:vt,resetDefaultState:pt,dispose:function fe(){vt();for(const Xe in a){const xt=a[Xe];for(const Le in xt){const Ze=xt[Le];for(const it in Ze)w(Ze[it].object),delete Ze[it];delete xt[Le]}delete a[Xe]}},releaseStatesOfGeometry:function we(Xe){if(void 0===a[Xe.id])return;const xt=a[Xe.id];for(const Le in xt){const Ze=xt[Le];for(const it in Ze)w(Ze[it].object),delete Ze[it];delete xt[Le]}delete a[Xe.id]},releaseStatesOfProgram:function Ae(Xe){for(const xt in a){const Le=a[xt];if(void 0===Le[Xe.id])continue;const Ze=Le[Xe.id];for(const it in Ze)w(Ze[it].object),delete Ze[it];delete Le[Xe.id]}},initAttributes:U,enableAttribute:j,disableUnusedAttributes:se}}function HEe(n,e,t,r){const i=r.isWebGL2;let o;this.setMode=function s(c){o=c},this.render=function a(c,f){n.drawArrays(o,c,f),t.update(f,o,1)},this.renderInstances=function u(c,f,p){if(0===p)return;let g,y;if(i)g=n,y="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",null===g)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g[y](o,c,f,p),t.update(f,o,p)}}function BEe(n,e,t){let r;function o(ge){if("highp"===ge){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";ge="mediump"}return"mediump"===ge&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&n instanceof WebGL2ComputeRenderingContext;let a=void 0!==t.precision?t.precision:"highp";const u=o(a);u!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",u,"instead."),a=u);const c=s||e.has("WEBGL_draw_buffers"),f=!0===t.logarithmicDepthBuffer,p=n.getParameter(34930),g=n.getParameter(35660),y=n.getParameter(3379),w=n.getParameter(34076),M=n.getParameter(34921),C=n.getParameter(36347),I=n.getParameter(36348),B=n.getParameter(36349),U=g>0,j=s||e.has("OES_texture_float");return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:function i(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const ge=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(ge.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:o,precision:a,logarithmicDepthBuffer:f,maxTextures:p,maxVertexTextures:g,maxTextureSize:y,maxCubemapSize:w,maxAttributes:M,maxVertexUniforms:C,maxVaryings:I,maxFragmentUniforms:B,vertexTextures:U,floatFragmentTextures:j,floatVertexTextures:U&&j,maxSamples:s?n.getParameter(36183):0}}function VEe(n){const e=this;let t=null,r=0,i=!1,o=!1;const s=new hb,a=new fc,u={value:null,needsUpdate:!1};function c(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(p,g,y,w){const M=null!==p?p.length:0;let C=null;if(0!==M){if(C=u.value,!0!==w||null===C){const I=y+4*M,B=g.matrixWorldInverse;a.getNormalMatrix(B),(null===C||C.length<I)&&(C=new Float32Array(I));for(let U=0,j=y;U!==M;++U,j+=4)s.copy(p[U]).applyMatrix4(B,a),s.normal.toArray(C,j),C[j+3]=s.constant}u.value=C,u.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,C}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,g,y){const w=0!==p.length||g||0!==r||i;return i=g,t=f(p,y,0),r=p.length,w},this.beginShadows=function(){o=!0,f(null)},this.endShadows=function(){o=!1,c()},this.setState=function(p,g,y){const w=p.clippingPlanes,M=p.clipIntersection,C=p.clipShadows,I=n.get(p);if(!i||null===w||0===w.length||o&&!C)o?f(null):c();else{const B=o?0:r,U=4*B;let j=I.clippingState||null;u.value=j,j=f(w,g,U,y);for(let $=0;$!==U;++$)j[$]=t[$];I.clippingState=j,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=B}}}function zEe(n){let e=new WeakMap;function t(s,a){return 303===a?s.mapping=301:304===a&&(s.mapping=302),s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const u=e.get(a);void 0!==u&&(e.delete(a),u.dispose())}return{get:function r(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){const a=s.mapping;if(303===a||304===a){if(e.has(s))return t(e.get(s).texture,s.mapping);{const u=s.image;if(u&&u.height>0){const c=new Pxe(u.height/2);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}return null}}}return s},dispose:function o(){e=new WeakMap}}}Wh.physical={uniforms:tu([Wh.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new xn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Cr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new xn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Cr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Cr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:po.meshphysical_vert,fragmentShader:po.meshphysical_frag};class Rk extends WB{constructor(e=-1,t=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+t,u=i-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=f*this.view.offsetY,u=a-f*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Rq=[.125,.215,.35,.446,.526,.582],$B=new Rk,Dq=new Cr;let XB=null;const mb=(1+Math.sqrt(5))/2,mS=1/mb,Aq=[new Fe(1,1,1),new Fe(-1,1,1),new Fe(1,1,-1),new Fe(-1,1,-1),new Fe(0,mb,mS),new Fe(0,mb,-mS),new Fe(mS,0,mb),new Fe(-mS,0,mb),new Fe(mb,mS,0),new Fe(-mb,mS,0)];class Oq{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){XB=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Iq(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Lq(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(XB),e.scissorTest=!1,Dk(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),XB=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Na,minFilter:Na,generateMipmaps:!1,type:vT,format:jf,encoding:ib,depthBuffer:!1},i=kq(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=kq(e,t,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function UEe(n){const e=[],t=[],r=[];let i=n;const o=n-4+1+Rq.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);t.push(a);let u=1/a;s>n-4?u=Rq[s-n+4-1]:0===s&&(u=0),r.push(u);const c=1/(a-2),f=-c,p=1+c,g=[f,f,p,f,p,p,f,f,p,p,f,p],y=6,w=6,M=3,C=2,I=1,B=new Float32Array(M*w*y),U=new Float32Array(C*w*y),j=new Float32Array(I*w*y);for(let se=0;se<y;se++){const ge=se%3*2/3-1,re=se>2?0:-1;B.set([ge,re,0,ge+2/3,re,0,ge+2/3,re+1,0,ge,re,0,ge+2/3,re+1,0,ge,re+1,0],M*w*se),U.set(g,C*w*se),j.set([se,se,se,se,se,se],I*w*se)}const $=new uo;$.setAttribute("position",new gl(B,M)),$.setAttribute("uv",new gl(U,C)),$.setAttribute("faceIndex",new gl(j,I)),e.push($),i>4&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}(o)),this._blurMaterial=function jEe(n,e,t){const r=new Float32Array(20),i=new Fe(0,1,0);return new Hv({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(o,e,t)}return i}_compileMaterial(e){const t=new hc(this._lodPlanes[0],e);this._renderer.compile(t,$B)}_sceneToCubeUV(e,t,r,i){const a=new nu(90,1,t,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,p=f.autoClear,g=f.toneMapping;f.getClearColor(Dq),f.toneMapping=0,f.autoClear=!1;const y=new Iv({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),w=new hc(new fb,y);let M=!1;const C=e.background;C?C.isColor&&(y.color.copy(C),e.background=null,M=!0):(y.color.copy(Dq),M=!0);for(let I=0;I<6;I++){const B=I%3;0===B?(a.up.set(0,u[I],0),a.lookAt(c[I],0,0)):1===B?(a.up.set(0,0,u[I]),a.lookAt(0,c[I],0)):(a.up.set(0,u[I],0),a.lookAt(0,0,c[I]));const U=this._cubeSize;Dk(i,B*U,I>2?U:0,U,U),f.setRenderTarget(i),M&&f.render(w,a),f.render(e,a)}w.geometry.dispose(),w.material.dispose(),f.toneMapping=g,f.autoClear=p,e.background=C}_textureToCubeUV(e,t){const r=this._renderer,i=301===e.mapping||302===e.mapping;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=Iq()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Lq());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new hc(this._lodPlanes[0],o);o.uniforms.envMap.value=e;const u=this._cubeSize;Dk(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(s,$B)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]);this._blur(e,i-1,i,o,Aq[(i-1)%Aq.length])}t.autoClear=r}_blur(e,t,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,s,a){const u=this._renderer,c=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const p=new hc(this._lodPlanes[i],c),g=c.uniforms,y=this._sizeLods[r]-1,w=isFinite(o)?Math.PI/(2*y):2*Math.PI/39,M=o/w,C=isFinite(o)?1+Math.floor(3*M):20;C>20&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${C} samples when the maximum is set to 20`);const I=[];let B=0;for(let ge=0;ge<20;++ge){const re=ge/M,fe=Math.exp(-re*re/2);I.push(fe),0===ge?B+=fe:ge<C&&(B+=2*fe)}for(let ge=0;ge<I.length;ge++)I[ge]=I[ge]/B;g.envMap.value=e.texture,g.samples.value=C,g.weights.value=I,g.latitudinal.value="latitudinal"===s,a&&(g.poleAxis.value=a);const{_lodMax:U}=this;g.dTheta.value=w,g.mipInt.value=U-r;const j=this._sizeLods[i];Dk(t,3*j*(i>U-4?i-U+4:0),4*(this._cubeSize-j),3*j,2*j),u.setRenderTarget(t),u.render(p,$B)}}function kq(n,e,t){const r=new lb(n,e,t);return r.texture.mapping=306,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Dk(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Lq(){return new Hv({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Iq(){return new Hv({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function WEe(n){let e=new WeakMap,t=null;function o(a){const u=a.target;u.removeEventListener("dispose",o);const c=e.get(u);void 0!==c&&(e.delete(u),c.dispose())}return{get:function r(a){if(a&&a.isTexture){const u=a.mapping,c=303===u||304===u,f=301===u||302===u;if(c||f){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let p=e.get(a);return null===t&&(t=new Oq(n)),p=c?t.fromEquirectangular(a,p):t.fromCubemap(a,p),e.set(a,p),p.texture}if(e.has(a))return e.get(a).texture;{const p=a.image;if(c&&p&&p.height>0||f&&p&&function i(a){let u=0;for(let f=0;f<6;f++)void 0!==a[f]&&u++;return 6===u}(p)){null===t&&(t=new Oq(n));const g=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,g),a.addEventListener("dispose",o),g.texture}return null}}}return a},dispose:function s(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function YEe(n){const e={};function t(r){if(void 0!==e[r])return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return null!==t(r)},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return null===i&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function GEe(n,e,t,r){const i={},o=new WeakMap;function s(p){const g=p.target;null!==g.index&&e.remove(g.index);for(const w in g.attributes)e.remove(g.attributes[w]);g.removeEventListener("dispose",s),delete i[g.id];const y=o.get(g);y&&(e.remove(y),o.delete(g)),r.releaseStatesOfGeometry(g),!0===g.isInstancedBufferGeometry&&delete g._maxInstanceCount,t.memory.geometries--}function c(p){const g=[],y=p.index,w=p.attributes.position;let M=0;if(null!==y){const B=y.array;M=y.version;for(let U=0,j=B.length;U<j;U+=3){const $=B[U+0],se=B[U+1],ge=B[U+2];g.push($,se,se,ge,ge,$)}}else{M=w.version;for(let U=0,j=w.array.length/3-1;U<j;U+=3){const $=U+0,se=U+1,ge=U+2;g.push($,se,se,ge,ge,$)}}const C=new(cq(g)?Cq:xq)(g,1);C.version=M;const I=o.get(p);I&&e.remove(I),o.set(p,C)}return{get:function a(p,g){return!0===i[g.id]||(g.addEventListener("dispose",s),i[g.id]=!0,t.memory.geometries++),g},update:function u(p){const g=p.attributes;for(const w in g)e.update(g[w],34962);const y=p.morphAttributes;for(const w in y){const M=y[w];for(let C=0,I=M.length;C<I;C++)e.update(M[C],34962)}},getWireframeAttribute:function f(p){const g=o.get(p);if(g){const y=p.index;null!==y&&g.version<y.version&&c(p)}else c(p);return o.get(p)}}}function $Ee(n,e,t,r){const i=r.isWebGL2;let o,a,u;this.setMode=function s(g){o=g},this.setIndex=function c(g){a=g.type,u=g.bytesPerElement},this.render=function f(g,y){n.drawElements(o,y,a,g*u),t.update(y,o,1)},this.renderInstances=function p(g,y,w){if(0===w)return;let M,C;if(i)M=n,C="drawElementsInstanced";else if(M=e.get("ANGLE_instanced_arrays"),C="drawElementsInstancedANGLE",null===M)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");M[C](o,y,a,g*u,w),t.update(y,o,w)}}function XEe(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function r(o,s,a){switch(t.calls++,s){case 4:t.triangles+=a*(o/3);break;case 1:t.lines+=a*(o/2);break;case 3:t.lines+=a*(o-1);break;case 2:t.lines+=a*o;break;case 0:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}function KEe(n,e){return n[0]-e[0]}function ZEe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function ZB(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Uint8Array?t=255:r instanceof Uint16Array?t=65535:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function qEe(n,e,t){const r={},i=new Float32Array(8),o=new WeakMap,s=new ns,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function u(c,f,p,g){const y=c.morphTargetInfluences;if(!0===e.isWebGL2){const w=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,M=void 0!==w?w.length:0;let C=o.get(f);if(void 0===C||C.count!==M){let xt=function(){pt.dispose(),o.delete(f),f.removeEventListener("dispose",xt)};void 0!==C&&C.texture.dispose();const U=void 0!==f.morphAttributes.position,j=void 0!==f.morphAttributes.normal,$=void 0!==f.morphAttributes.color,se=f.morphAttributes.position||[],ge=f.morphAttributes.normal||[],re=f.morphAttributes.color||[];let fe=0;!0===U&&(fe=1),!0===j&&(fe=2),!0===$&&(fe=3);let we=f.attributes.position.count*fe,Ae=1;we>e.maxTextureSize&&(Ae=Math.ceil(we/e.maxTextureSize),we=e.maxTextureSize);const vt=new Float32Array(we*Ae*4*M),pt=new CB(vt,we,Ae,M);pt.type=Rv,pt.needsUpdate=!0;const Xe=4*fe;for(let Le=0;Le<M;Le++){const Ze=se[Le],it=ge[Le],ot=re[Le],Mt=we*Ae*4*Le;for(let J=0;J<Ze.count;J++){const ee=J*Xe;!0===U&&(s.fromBufferAttribute(Ze,J),!0===Ze.normalized&&ZB(s,Ze),vt[Mt+ee+0]=s.x,vt[Mt+ee+1]=s.y,vt[Mt+ee+2]=s.z,vt[Mt+ee+3]=0),!0===j&&(s.fromBufferAttribute(it,J),!0===it.normalized&&ZB(s,it),vt[Mt+ee+4]=s.x,vt[Mt+ee+5]=s.y,vt[Mt+ee+6]=s.z,vt[Mt+ee+7]=0),!0===$&&(s.fromBufferAttribute(ot,J),!0===ot.normalized&&ZB(s,ot),vt[Mt+ee+8]=s.x,vt[Mt+ee+9]=s.y,vt[Mt+ee+10]=s.z,vt[Mt+ee+11]=4===ot.itemSize?s.w:1)}}C={count:M,texture:pt,size:new xn(we,Ae)},o.set(f,C),f.addEventListener("dispose",xt)}let I=0;for(let U=0;U<y.length;U++)I+=y[U];const B=f.morphTargetsRelative?1:1-I;g.getUniforms().setValue(n,"morphTargetBaseInfluence",B),g.getUniforms().setValue(n,"morphTargetInfluences",y),g.getUniforms().setValue(n,"morphTargetsTexture",C.texture,t),g.getUniforms().setValue(n,"morphTargetsTextureSize",C.size)}else{const w=void 0===y?0:y.length;let M=r[f.id];if(void 0===M||M.length!==w){M=[];for(let j=0;j<w;j++)M[j]=[j,0];r[f.id]=M}for(let j=0;j<w;j++){const $=M[j];$[0]=j,$[1]=y[j]}M.sort(ZEe);for(let j=0;j<8;j++)j<w&&M[j][1]?(a[j][0]=M[j][0],a[j][1]=M[j][1]):(a[j][0]=Number.MAX_SAFE_INTEGER,a[j][1]=0);a.sort(KEe);const C=f.morphAttributes.position,I=f.morphAttributes.normal;let B=0;for(let j=0;j<8;j++){const $=a[j],se=$[0],ge=$[1];se!==Number.MAX_SAFE_INTEGER&&ge?(C&&f.getAttribute("morphTarget"+j)!==C[se]&&f.setAttribute("morphTarget"+j,C[se]),I&&f.getAttribute("morphNormal"+j)!==I[se]&&f.setAttribute("morphNormal"+j,I[se]),i[j]=ge,B+=ge):(C&&!0===f.hasAttribute("morphTarget"+j)&&f.deleteAttribute("morphTarget"+j),I&&!0===f.hasAttribute("morphNormal"+j)&&f.deleteAttribute("morphNormal"+j),i[j]=0)}const U=f.morphTargetsRelative?1:1-B;g.getUniforms().setValue(n,"morphTargetBaseInfluence",U),g.getUniforms().setValue(n,"morphTargetInfluences",i)}}}}function JEe(n,e,t,r){let i=new WeakMap;function a(u){const c=u.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function o(u){const c=r.render.frame,p=e.get(u,u.geometry);return i.get(p)!==c&&(e.update(p),i.set(p,c)),u.isInstancedMesh&&(!1===u.hasEventListener("dispose",a)&&u.addEventListener("dispose",a),t.update(u.instanceMatrix,34962),null!==u.instanceColor&&t.update(u.instanceColor,34962)),p},dispose:function s(){i=new WeakMap}}}const Pq=new Dv,Nq=new CB,Fq=new hq,Hq=new Ek,Bq=[],Vq=[],zq=new Float32Array(16),Uq=new Float32Array(9),jq=new Float32Array(4);function gS(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let o=Bq[i];if(void 0===o&&(o=new Float32Array(i),Bq[i]=o),0!==e){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function Ou(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function ku(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Ak(n,e){let t=Vq[e];void 0===t&&(t=new Int32Array(e),Vq[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function QEe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function eTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ou(t,e))return;n.uniform2fv(this.addr,e),ku(t,e)}}function tTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ou(t,e))return;n.uniform3fv(this.addr,e),ku(t,e)}}function nTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ou(t,e))return;n.uniform4fv(this.addr,e),ku(t,e)}}function rTe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Ou(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ku(t,e)}else{if(Ou(t,r))return;jq.set(r),n.uniformMatrix2fv(this.addr,!1,jq),ku(t,r)}}function iTe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Ou(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ku(t,e)}else{if(Ou(t,r))return;Uq.set(r),n.uniformMatrix3fv(this.addr,!1,Uq),ku(t,r)}}function oTe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Ou(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ku(t,e)}else{if(Ou(t,r))return;zq.set(r),n.uniformMatrix4fv(this.addr,!1,zq),ku(t,r)}}function sTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function aTe(n,e){const t=this.cache;Ou(t,e)||(n.uniform2iv(this.addr,e),ku(t,e))}function lTe(n,e){const t=this.cache;Ou(t,e)||(n.uniform3iv(this.addr,e),ku(t,e))}function uTe(n,e){const t=this.cache;Ou(t,e)||(n.uniform4iv(this.addr,e),ku(t,e))}function cTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function dTe(n,e){const t=this.cache;Ou(t,e)||(n.uniform2uiv(this.addr,e),ku(t,e))}function fTe(n,e){const t=this.cache;Ou(t,e)||(n.uniform3uiv(this.addr,e),ku(t,e))}function hTe(n,e){const t=this.cache;Ou(t,e)||(n.uniform4uiv(this.addr,e),ku(t,e))}function pTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Pq,i)}function mTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Fq,i)}function gTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Hq,i)}function vTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Nq,i)}function _Te(n,e){n.uniform1fv(this.addr,e)}function bTe(n,e){const t=gS(e,this.size,2);n.uniform2fv(this.addr,t)}function wTe(n,e){const t=gS(e,this.size,3);n.uniform3fv(this.addr,t)}function MTe(n,e){const t=gS(e,this.size,4);n.uniform4fv(this.addr,t)}function STe(n,e){const t=gS(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function xTe(n,e){const t=gS(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function CTe(n,e){const t=gS(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function ETe(n,e){n.uniform1iv(this.addr,e)}function TTe(n,e){n.uniform2iv(this.addr,e)}function RTe(n,e){n.uniform3iv(this.addr,e)}function DTe(n,e){n.uniform4iv(this.addr,e)}function ATe(n,e){n.uniform1uiv(this.addr,e)}function OTe(n,e){n.uniform2uiv(this.addr,e)}function kTe(n,e){n.uniform3uiv(this.addr,e)}function LTe(n,e){n.uniform4uiv(this.addr,e)}function ITe(n,e,t){const r=e.length,i=Ak(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2D(e[o]||Pq,i[o])}function PTe(n,e,t){const r=e.length,i=Ak(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture3D(e[o]||Fq,i[o])}function NTe(n,e,t){const r=e.length,i=Ak(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTextureCube(e[o]||Hq,i[o])}function FTe(n,e,t){const r=e.length,i=Ak(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||Nq,i[o])}class BTe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function yTe(n){switch(n){case 5126:return QEe;case 35664:return eTe;case 35665:return tTe;case 35666:return nTe;case 35674:return rTe;case 35675:return iTe;case 35676:return oTe;case 5124:case 35670:return sTe;case 35667:case 35671:return aTe;case 35668:case 35672:return lTe;case 35669:case 35673:return uTe;case 5125:return cTe;case 36294:return dTe;case 36295:return fTe;case 36296:return hTe;case 35678:case 36198:case 36298:case 36306:case 35682:return pTe;case 35679:case 36299:case 36307:return mTe;case 35680:case 36300:case 36308:case 36293:return gTe;case 36289:case 36303:case 36311:case 36292:return vTe}}(t.type)}}class VTe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function HTe(n){switch(n){case 5126:return _Te;case 35664:return bTe;case 35665:return wTe;case 35666:return MTe;case 35674:return STe;case 35675:return xTe;case 35676:return CTe;case 5124:case 35670:return ETe;case 35667:case 35671:return TTe;case 35668:case 35672:return RTe;case 35669:case 35673:return DTe;case 5125:return ATe;case 36294:return OTe;case 36295:return kTe;case 36296:return LTe;case 35678:case 36198:case 36298:case 36306:case 35682:return ITe;case 35679:case 36299:case 36307:return PTe;case 35680:case 36300:case 36308:case 36293:return NTe;case 36289:case 36303:case 36311:case 36292:return FTe}}(t.type)}}class zTe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,t[a.id],r)}}}const qB=/(\w+)(\])?(\[|\.)?/g;function Wq(n,e){n.seq.push(e),n.map[e.id]=e}function UTe(n,e,t){const r=n.name,i=r.length;for(qB.lastIndex=0;;){const o=qB.exec(r),s=qB.lastIndex;let a=o[1];const c=o[3];if("]"===o[2]&&(a|=0),void 0===c||"["===c&&s+2===i){Wq(t,void 0===c?new BTe(a,n,e):new VTe(a,n,e));break}{let p=t.map[a];void 0===p&&(p=new zTe(a),Wq(t,p)),t=p}}}class Ok{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const o=e.getActiveUniform(t,i);UTe(o,e.getUniformLocation(t,o.name),this)}}setValue(e,t,r,i){const o=this.map[t];void 0!==o&&o.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];void 0!==i&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let o=0,s=t.length;o!==s;++o){const a=t[o],u=r[a.id];!1!==u.needsUpdate&&a.setValue(e,u.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function Yq(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let jTe=0;function Gq(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return t.toUpperCase()+"\n\n"+i+"\n\n"+function WTe(n,e){const t=n.split("\n"),r=[],i=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return r.join("\n")}(n.getShaderSource(e),s)}return i}function GTe(n,e){const t=function YTe(n){switch(n){case ib:return["Linear","( value )"];case ua:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function $Te(n,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function CT(n){return""!==n}function $q(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Xq(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const qTe=/^[ \t]*#include +<([\w\d./]+)>/gm;function JB(n){return n.replace(qTe,JTe)}function JTe(n,e){const t=po[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return JB(t)}const QTe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,e1e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Kq(n){return n.replace(e1e,Zq).replace(QTe,t1e)}function t1e(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Zq(0,e,t,r)}function Zq(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function qq(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function a1e(n,e,t,r){const i=n.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const u=function n1e(n){let e="SHADOWMAP_TYPE_BASIC";return 1===n.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function r1e(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),f=function i1e(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&302===n.envMapMode&&(e="ENVMAP_MODE_REFRACTION"),e}(t),p=function o1e(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),g=function s1e(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}(t),y=t.isWebGL2?"":function XTe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(CT).join("\n")}(t),w=function KTe(n){const e=[];for(const t in n){const r=n[t];!1!==r&&e.push("#define "+t+" "+r)}return e.join("\n")}(o),M=i.createProgram();let C,I,B=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(C=[w].filter(CT).join("\n"),C.length>0&&(C+="\n"),I=[y,w].filter(CT).join("\n"),I.length>0&&(I+="\n")):(C=[qq(t),"#define SHADER_NAME "+t.shaderName,w,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(CT).join("\n"),I=[y,qq(t),"#define SHADER_NAME "+t.shaderName,w,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?po.tonemapping_pars_fragment:"",0!==t.toneMapping?$Te("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",po.encodings_pars_fragment,GTe("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(CT).join("\n")),s=JB(s),s=$q(s,t),s=Xq(s,t),a=JB(a),a=$q(a,t),a=Xq(a,t),s=Kq(s),a=Kq(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(B="#version 300 es\n",C=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+C,I=["#define varying in","300 es"===t.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+I);const j=B+I+a,$=Yq(i,35633,B+C+s),se=Yq(i,35632,j);if(i.attachShader(M,$),i.attachShader(M,se),void 0!==t.index0AttributeName?i.bindAttribLocation(M,0,t.index0AttributeName):!0===t.morphTargets&&i.bindAttribLocation(M,0,"position"),i.linkProgram(M),n.debug.checkShaderErrors){const fe=i.getProgramInfoLog(M).trim(),we=i.getShaderInfoLog($).trim(),Ae=i.getShaderInfoLog(se).trim();let vt=!0,pt=!0;if(!1===i.getProgramParameter(M,35714)){vt=!1;const Xe=Gq(i,$,"vertex"),xt=Gq(i,se,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(M,35715)+"\n\nProgram Info Log: "+fe+"\n"+Xe+"\n"+xt)}else""!==fe?console.warn("THREE.WebGLProgram: Program Info Log:",fe):(""===we||""===Ae)&&(pt=!1);pt&&(this.diagnostics={runnable:vt,programLog:fe,vertexShader:{log:we,prefix:C},fragmentShader:{log:Ae,prefix:I}})}let ge,re;return i.deleteShader($),i.deleteShader(se),this.getUniforms=function(){return void 0===ge&&(ge=new Ok(i,M)),ge},this.getAttributes=function(){return void 0===re&&(re=function ZTe(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const o=n.getActiveAttrib(e,i),s=o.name;let a=1;35674===o.type&&(a=2),35675===o.type&&(a=3),35676===o.type&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}(i,M)),re},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(M),this.program=void 0},this.name=t.shaderName,this.id=jTe++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=$,this.fragmentShader=se,this}let l1e=0;class u1e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,i=this._getShaderStage(e.vertexShader),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return!1===s.has(i)&&(s.add(i),i.usedTimes++),!1===s.has(o)&&(s.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const r=new c1e(e);t.set(e,r)}return t.get(e)}}class c1e{constructor(e){this.id=l1e++,this.code=e,this.usedTimes=0}}function d1e(n,e,t,r,i,o,s){const a=new LB,u=new u1e,c=[],f=i.isWebGL2,p=i.logarithmicDepthBuffer,g=i.vertexTextures;let y=i.precision;const w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function M(re,fe,we,Ae,vt){const pt=Ae.fog,Xe=vt.geometry,Le=(re.isMeshStandardMaterial?t:e).get(re.envMap||(re.isMeshStandardMaterial?Ae.environment:null)),Ze=Le&&306===Le.mapping?Le.image.height:null,it=w[re.type];null!==re.precision&&(y=i.getMaxPrecision(re.precision),y!==re.precision&&console.warn("THREE.WebGLProgram.getParameters:",re.precision,"not supported, using",y,"instead."));const ot=Xe.morphAttributes.position||Xe.morphAttributes.normal||Xe.morphAttributes.color,Mt=void 0!==ot?ot.length:0;let ee,he,be,ke,J=0;if(void 0!==Xe.morphAttributes.position&&(J=1),void 0!==Xe.morphAttributes.normal&&(J=2),void 0!==Xe.morphAttributes.color&&(J=3),it){const Ot=Wh[it];ee=Ot.vertexShader,he=Ot.fragmentShader}else ee=re.vertexShader,he=re.fragmentShader,u.update(re),be=u.getVertexShaderID(re),ke=u.getFragmentShaderID(re);const We=n.getRenderTarget(),It=re.clearcoat>0,Lt=re.iridescence>0;return{isWebGL2:f,shaderID:it,shaderName:re.type,vertexShader:ee,fragmentShader:he,defines:re.defines,customVertexShaderID:be,customFragmentShaderID:ke,isRawShaderMaterial:!0===re.isRawShaderMaterial,glslVersion:re.glslVersion,precision:y,instancing:!0===vt.isInstancedMesh,instancingColor:!0===vt.isInstancedMesh&&null!==vt.instanceColor,supportsVertexTextures:g,outputEncoding:null===We?n.outputEncoding:!0===We.isXRRenderTarget?We.texture.encoding:ib,map:!!re.map,matcap:!!re.matcap,envMap:!!Le,envMapMode:Le&&Le.mapping,envMapCubeUVHeight:Ze,lightMap:!!re.lightMap,aoMap:!!re.aoMap,emissiveMap:!!re.emissiveMap,bumpMap:!!re.bumpMap,normalMap:!!re.normalMap,objectSpaceNormalMap:1===re.normalMapType,tangentSpaceNormalMap:0===re.normalMapType,decodeVideoTexture:!!re.map&&!0===re.map.isVideoTexture&&re.map.encoding===ua,clearcoat:It,clearcoatMap:It&&!!re.clearcoatMap,clearcoatRoughnessMap:It&&!!re.clearcoatRoughnessMap,clearcoatNormalMap:It&&!!re.clearcoatNormalMap,iridescence:Lt,iridescenceMap:Lt&&!!re.iridescenceMap,iridescenceThicknessMap:Lt&&!!re.iridescenceThicknessMap,displacementMap:!!re.displacementMap,roughnessMap:!!re.roughnessMap,metalnessMap:!!re.metalnessMap,specularMap:!!re.specularMap,specularIntensityMap:!!re.specularIntensityMap,specularColorMap:!!re.specularColorMap,opaque:!1===re.transparent&&1===re.blending,alphaMap:!!re.alphaMap,alphaTest:re.alphaTest>0,gradientMap:!!re.gradientMap,sheen:re.sheen>0,sheenColorMap:!!re.sheenColorMap,sheenRoughnessMap:!!re.sheenRoughnessMap,transmission:re.transmission>0,transmissionMap:!!re.transmissionMap,thicknessMap:!!re.thicknessMap,combine:re.combine,vertexTangents:!!re.normalMap&&!!Xe.attributes.tangent,vertexColors:re.vertexColors,vertexAlphas:!0===re.vertexColors&&!!Xe.attributes.color&&4===Xe.attributes.color.itemSize,vertexUvs:!!(re.map||re.bumpMap||re.normalMap||re.specularMap||re.alphaMap||re.emissiveMap||re.roughnessMap||re.metalnessMap||re.clearcoatMap||re.clearcoatRoughnessMap||re.clearcoatNormalMap||re.iridescenceMap||re.iridescenceThicknessMap||re.displacementMap||re.transmissionMap||re.thicknessMap||re.specularIntensityMap||re.specularColorMap||re.sheenColorMap||re.sheenRoughnessMap),uvsVertexOnly:!(re.map||re.bumpMap||re.normalMap||re.specularMap||re.alphaMap||re.emissiveMap||re.roughnessMap||re.metalnessMap||re.clearcoatNormalMap||re.iridescenceMap||re.iridescenceThicknessMap||re.transmission>0||re.transmissionMap||re.thicknessMap||re.specularIntensityMap||re.specularColorMap||re.sheen>0||re.sheenColorMap||re.sheenRoughnessMap||!re.displacementMap),fog:!!pt,useFog:!0===re.fog,fogExp2:pt&&pt.isFogExp2,flatShading:!!re.flatShading,sizeAttenuation:re.sizeAttenuation,logarithmicDepthBuffer:p,skinning:!0===vt.isSkinnedMesh,morphTargets:void 0!==Xe.morphAttributes.position,morphNormals:void 0!==Xe.morphAttributes.normal,morphColors:void 0!==Xe.morphAttributes.color,morphTargetsCount:Mt,morphTextureStride:J,numDirLights:fe.directional.length,numPointLights:fe.point.length,numSpotLights:fe.spot.length,numRectAreaLights:fe.rectArea.length,numHemiLights:fe.hemi.length,numDirLightShadows:fe.directionalShadowMap.length,numPointLightShadows:fe.pointShadowMap.length,numSpotLightShadows:fe.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:re.dithering,shadowMapEnabled:n.shadowMap.enabled&&we.length>0,shadowMapType:n.shadowMap.type,toneMapping:re.toneMapped?n.toneMapping:0,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:re.premultipliedAlpha,doubleSided:2===re.side,flipSided:1===re.side,useDepthPacking:!!re.depthPacking,depthPacking:re.depthPacking||0,index0AttributeName:re.index0AttributeName,extensionDerivatives:re.extensions&&re.extensions.derivatives,extensionFragDepth:re.extensions&&re.extensions.fragDepth,extensionDrawBuffers:re.extensions&&re.extensions.drawBuffers,extensionShaderTextureLOD:re.extensions&&re.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:re.customProgramCacheKey()}},getProgramCacheKey:function C(re){const fe=[];if(re.shaderID?fe.push(re.shaderID):(fe.push(re.customVertexShaderID),fe.push(re.customFragmentShaderID)),void 0!==re.defines)for(const we in re.defines)fe.push(we),fe.push(re.defines[we]);return!1===re.isRawShaderMaterial&&(function I(re,fe){re.push(fe.precision),re.push(fe.outputEncoding),re.push(fe.envMapMode),re.push(fe.envMapCubeUVHeight),re.push(fe.combine),re.push(fe.vertexUvs),re.push(fe.fogExp2),re.push(fe.sizeAttenuation),re.push(fe.morphTargetsCount),re.push(fe.morphAttributeCount),re.push(fe.numDirLights),re.push(fe.numPointLights),re.push(fe.numSpotLights),re.push(fe.numHemiLights),re.push(fe.numRectAreaLights),re.push(fe.numDirLightShadows),re.push(fe.numPointLightShadows),re.push(fe.numSpotLightShadows),re.push(fe.shadowMapType),re.push(fe.toneMapping),re.push(fe.numClippingPlanes),re.push(fe.numClipIntersection),re.push(fe.depthPacking)}(fe,re),function B(re,fe){a.disableAll(),fe.isWebGL2&&a.enable(0),fe.supportsVertexTextures&&a.enable(1),fe.instancing&&a.enable(2),fe.instancingColor&&a.enable(3),fe.map&&a.enable(4),fe.matcap&&a.enable(5),fe.envMap&&a.enable(6),fe.lightMap&&a.enable(7),fe.aoMap&&a.enable(8),fe.emissiveMap&&a.enable(9),fe.bumpMap&&a.enable(10),fe.normalMap&&a.enable(11),fe.objectSpaceNormalMap&&a.enable(12),fe.tangentSpaceNormalMap&&a.enable(13),fe.clearcoat&&a.enable(14),fe.clearcoatMap&&a.enable(15),fe.clearcoatRoughnessMap&&a.enable(16),fe.clearcoatNormalMap&&a.enable(17),fe.iridescence&&a.enable(18),fe.iridescenceMap&&a.enable(19),fe.iridescenceThicknessMap&&a.enable(20),fe.displacementMap&&a.enable(21),fe.specularMap&&a.enable(22),fe.roughnessMap&&a.enable(23),fe.metalnessMap&&a.enable(24),fe.gradientMap&&a.enable(25),fe.alphaMap&&a.enable(26),fe.alphaTest&&a.enable(27),fe.vertexColors&&a.enable(28),fe.vertexAlphas&&a.enable(29),fe.vertexUvs&&a.enable(30),fe.vertexTangents&&a.enable(31),fe.uvsVertexOnly&&a.enable(32),fe.fog&&a.enable(33),re.push(a.mask),a.disableAll(),fe.useFog&&a.enable(0),fe.flatShading&&a.enable(1),fe.logarithmicDepthBuffer&&a.enable(2),fe.skinning&&a.enable(3),fe.morphTargets&&a.enable(4),fe.morphNormals&&a.enable(5),fe.morphColors&&a.enable(6),fe.premultipliedAlpha&&a.enable(7),fe.shadowMapEnabled&&a.enable(8),fe.physicallyCorrectLights&&a.enable(9),fe.doubleSided&&a.enable(10),fe.flipSided&&a.enable(11),fe.useDepthPacking&&a.enable(12),fe.dithering&&a.enable(13),fe.specularIntensityMap&&a.enable(14),fe.specularColorMap&&a.enable(15),fe.transmission&&a.enable(16),fe.transmissionMap&&a.enable(17),fe.thicknessMap&&a.enable(18),fe.sheen&&a.enable(19),fe.sheenColorMap&&a.enable(20),fe.sheenRoughnessMap&&a.enable(21),fe.decodeVideoTexture&&a.enable(22),fe.opaque&&a.enable(23),re.push(a.mask)}(fe,re),fe.push(n.outputEncoding)),fe.push(re.customProgramCacheKey),fe.join()},getUniforms:function U(re){const fe=w[re.type];let we;return we=fe?Oxe.clone(Wh[fe].uniforms):re.uniforms,we},acquireProgram:function j(re,fe){let we;for(let Ae=0,vt=c.length;Ae<vt;Ae++){const pt=c[Ae];if(pt.cacheKey===fe){we=pt,++we.usedTimes;break}}return void 0===we&&(we=new a1e(n,fe,re,o),c.push(we)),we},releaseProgram:function $(re){if(0==--re.usedTimes){const fe=c.indexOf(re);c[fe]=c[c.length-1],c.pop(),re.destroy()}},releaseShaderCache:function se(re){u.remove(re)},programs:c,dispose:function ge(){u.dispose()}}}function f1e(){let n=new WeakMap;return{get:function e(o){let s=n.get(o);return void 0===s&&(s={},n.set(o,s)),s},remove:function t(o){n.delete(o)},update:function r(o,s,a){n.get(o)[s]=a},dispose:function i(){n=new WeakMap}}}function h1e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Jq(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Qq(){const n=[];let e=0;const t=[],r=[],i=[];function s(p,g,y,w,M,C){let I=n[e];return void 0===I?(I={id:p.id,object:p,geometry:g,material:y,groupOrder:w,renderOrder:p.renderOrder,z:M,group:C},n[e]=I):(I.id=p.id,I.object=p,I.geometry=g,I.material=y,I.groupOrder=w,I.renderOrder=p.renderOrder,I.z=M,I.group=C),e++,I}return{opaque:t,transmissive:r,transparent:i,init:function o(){e=0,t.length=0,r.length=0,i.length=0},push:function a(p,g,y,w,M,C){const I=s(p,g,y,w,M,C);y.transmission>0?r.push(I):!0===y.transparent?i.push(I):t.push(I)},unshift:function u(p,g,y,w,M,C){const I=s(p,g,y,w,M,C);y.transmission>0?r.unshift(I):!0===y.transparent?i.unshift(I):t.unshift(I)},finish:function f(){for(let p=e,g=n.length;p<g;p++){const y=n[p];if(null===y.id)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}},sort:function c(p,g){t.length>1&&t.sort(p||h1e),r.length>1&&r.sort(g||Jq),i.length>1&&i.sort(g||Jq)}}}function p1e(){let n=new WeakMap;return{get:function e(r,i){let o;return!1===n.has(r)?(o=new Qq,n.set(r,[o])):i>=n.get(r).length?(o=new Qq,n.get(r).push(o)):o=n.get(r)[i],o},dispose:function t(){n=new WeakMap}}}function m1e(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Fe,color:new Cr};break;case"SpotLight":t={position:new Fe,direction:new Fe,color:new Cr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Fe,color:new Cr,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Fe,skyColor:new Cr,groundColor:new Cr};break;case"RectAreaLight":t={color:new Cr,position:new Fe,halfWidth:new Fe,halfHeight:new Fe}}return n[e.id]=t,t}}}let v1e=0;function y1e(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function _1e(n,e){const t=new m1e,r=function g1e(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xn};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xn,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let f=0;f<9;f++)i.probe.push(new Fe);const o=new Fe,s=new eo,a=new eo;return{setup:function u(f,p){let g=0,y=0,w=0;for(let fe=0;fe<9;fe++)i.probe[fe].set(0,0,0);let M=0,C=0,I=0,B=0,U=0,j=0,$=0,se=0;f.sort(y1e);const ge=!0!==p?Math.PI:1;for(let fe=0,we=f.length;fe<we;fe++){const Ae=f[fe],vt=Ae.color,pt=Ae.intensity,Xe=Ae.distance,xt=Ae.shadow&&Ae.shadow.map?Ae.shadow.map.texture:null;if(Ae.isAmbientLight)g+=vt.r*pt*ge,y+=vt.g*pt*ge,w+=vt.b*pt*ge;else if(Ae.isLightProbe)for(let Le=0;Le<9;Le++)i.probe[Le].addScaledVector(Ae.sh.coefficients[Le],pt);else if(Ae.isDirectionalLight){const Le=t.get(Ae);if(Le.color.copy(Ae.color).multiplyScalar(Ae.intensity*ge),Ae.castShadow){const Ze=Ae.shadow,it=r.get(Ae);it.shadowBias=Ze.bias,it.shadowNormalBias=Ze.normalBias,it.shadowRadius=Ze.radius,it.shadowMapSize=Ze.mapSize,i.directionalShadow[M]=it,i.directionalShadowMap[M]=xt,i.directionalShadowMatrix[M]=Ae.shadow.matrix,j++}i.directional[M]=Le,M++}else if(Ae.isSpotLight){const Le=t.get(Ae);if(Le.position.setFromMatrixPosition(Ae.matrixWorld),Le.color.copy(vt).multiplyScalar(pt*ge),Le.distance=Xe,Le.coneCos=Math.cos(Ae.angle),Le.penumbraCos=Math.cos(Ae.angle*(1-Ae.penumbra)),Le.decay=Ae.decay,Ae.castShadow){const Ze=Ae.shadow,it=r.get(Ae);it.shadowBias=Ze.bias,it.shadowNormalBias=Ze.normalBias,it.shadowRadius=Ze.radius,it.shadowMapSize=Ze.mapSize,i.spotShadow[I]=it,i.spotShadowMap[I]=xt,i.spotShadowMatrix[I]=Ae.shadow.matrix,se++}i.spot[I]=Le,I++}else if(Ae.isRectAreaLight){const Le=t.get(Ae);Le.color.copy(vt).multiplyScalar(pt),Le.halfWidth.set(.5*Ae.width,0,0),Le.halfHeight.set(0,.5*Ae.height,0),i.rectArea[B]=Le,B++}else if(Ae.isPointLight){const Le=t.get(Ae);if(Le.color.copy(Ae.color).multiplyScalar(Ae.intensity*ge),Le.distance=Ae.distance,Le.decay=Ae.decay,Ae.castShadow){const Ze=Ae.shadow,it=r.get(Ae);it.shadowBias=Ze.bias,it.shadowNormalBias=Ze.normalBias,it.shadowRadius=Ze.radius,it.shadowMapSize=Ze.mapSize,it.shadowCameraNear=Ze.camera.near,it.shadowCameraFar=Ze.camera.far,i.pointShadow[C]=it,i.pointShadowMap[C]=xt,i.pointShadowMatrix[C]=Ae.shadow.matrix,$++}i.point[C]=Le,C++}else if(Ae.isHemisphereLight){const Le=t.get(Ae);Le.skyColor.copy(Ae.color).multiplyScalar(pt*ge),Le.groundColor.copy(Ae.groundColor).multiplyScalar(pt*ge),i.hemi[U]=Le,U++}}B>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(i.rectAreaLTC1=sr.LTC_FLOAT_1,i.rectAreaLTC2=sr.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=sr.LTC_HALF_1,i.rectAreaLTC2=sr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=g,i.ambient[1]=y,i.ambient[2]=w;const re=i.hash;(re.directionalLength!==M||re.pointLength!==C||re.spotLength!==I||re.rectAreaLength!==B||re.hemiLength!==U||re.numDirectionalShadows!==j||re.numPointShadows!==$||re.numSpotShadows!==se)&&(i.directional.length=M,i.spot.length=I,i.rectArea.length=B,i.point.length=C,i.hemi.length=U,i.directionalShadow.length=j,i.directionalShadowMap.length=j,i.pointShadow.length=$,i.pointShadowMap.length=$,i.spotShadow.length=se,i.spotShadowMap.length=se,i.directionalShadowMatrix.length=j,i.pointShadowMatrix.length=$,i.spotShadowMatrix.length=se,re.directionalLength=M,re.pointLength=C,re.spotLength=I,re.rectAreaLength=B,re.hemiLength=U,re.numDirectionalShadows=j,re.numPointShadows=$,re.numSpotShadows=se,i.version=v1e++)},setupView:function c(f,p){let g=0,y=0,w=0,M=0,C=0;const I=p.matrixWorldInverse;for(let B=0,U=f.length;B<U;B++){const j=f[B];if(j.isDirectionalLight){const $=i.directional[g];$.direction.setFromMatrixPosition(j.matrixWorld),o.setFromMatrixPosition(j.target.matrixWorld),$.direction.sub(o),$.direction.transformDirection(I),g++}else if(j.isSpotLight){const $=i.spot[w];$.position.setFromMatrixPosition(j.matrixWorld),$.position.applyMatrix4(I),$.direction.setFromMatrixPosition(j.matrixWorld),o.setFromMatrixPosition(j.target.matrixWorld),$.direction.sub(o),$.direction.transformDirection(I),w++}else if(j.isRectAreaLight){const $=i.rectArea[M];$.position.setFromMatrixPosition(j.matrixWorld),$.position.applyMatrix4(I),a.identity(),s.copy(j.matrixWorld),s.premultiply(I),a.extractRotation(s),$.halfWidth.set(.5*j.width,0,0),$.halfHeight.set(0,.5*j.height,0),$.halfWidth.applyMatrix4(a),$.halfHeight.applyMatrix4(a),M++}else if(j.isPointLight){const $=i.point[y];$.position.setFromMatrixPosition(j.matrixWorld),$.position.applyMatrix4(I),y++}else if(j.isHemisphereLight){const $=i.hemi[C];$.direction.setFromMatrixPosition(j.matrixWorld),$.direction.transformDirection(I),C++}}},state:i}}function eJ(n,e){const t=new _1e(n,e),r=[],i=[];return{init:function o(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:function u(p){t.setup(r,p)},setupLightsView:function c(p){t.setupView(r,p)},pushLight:function s(p){r.push(p)},pushShadow:function a(p){i.push(p)}}}function b1e(n,e){let t=new WeakMap;return{get:function r(o,s=0){let a;return!1===t.has(o)?(a=new eJ(n,e),t.set(o,[a])):s>=t.get(o).length?(a=new eJ(n,e),t.get(o).push(a)):a=t.get(o)[s],a},dispose:function i(){t=new WeakMap}}}class tJ extends aS{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class nJ extends aS{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Fe,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function S1e(n,e,t){let r=new GB;const i=new xn,o=new xn,s=new ns,a=new tJ({depthPacking:3201}),u=new nJ,c={},f=t.maxTextureSize,p={0:1,1:0,2:2},g=new Hv({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),y=g.clone();y.defines.HORIZONTAL_PASS=1;const w=new uo;w.setAttribute("position",new gl(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new hc(w,g),C=this;function I(j,$){const se=e.update(M);g.defines.VSM_SAMPLES!==j.blurSamples&&(g.defines.VSM_SAMPLES=j.blurSamples,y.defines.VSM_SAMPLES=j.blurSamples,g.needsUpdate=!0,y.needsUpdate=!0),null===j.mapPass&&(j.mapPass=new lb(i.x,i.y)),g.uniforms.shadow_pass.value=j.map.texture,g.uniforms.resolution.value=j.mapSize,g.uniforms.radius.value=j.radius,n.setRenderTarget(j.mapPass),n.clear(),n.renderBufferDirect($,null,se,g,M,null),y.uniforms.shadow_pass.value=j.mapPass.texture,y.uniforms.resolution.value=j.mapSize,y.uniforms.radius.value=j.radius,n.setRenderTarget(j.map),n.clear(),n.renderBufferDirect($,null,se,y,M,null)}function B(j,$,se,ge,re,fe){let we=null;const Ae=!0===se.isPointLight?j.customDistanceMaterial:j.customDepthMaterial;if(we=void 0!==Ae?Ae:!0===se.isPointLight?u:a,n.localClippingEnabled&&!0===$.clipShadows&&Array.isArray($.clippingPlanes)&&0!==$.clippingPlanes.length||$.displacementMap&&0!==$.displacementScale||$.alphaMap&&$.alphaTest>0){const vt=we.uuid,pt=$.uuid;let Xe=c[vt];void 0===Xe&&(Xe={},c[vt]=Xe);let xt=Xe[pt];void 0===xt&&(xt=we.clone(),Xe[pt]=xt),we=xt}return we.visible=$.visible,we.wireframe=$.wireframe,we.side=3===fe?null!==$.shadowSide?$.shadowSide:$.side:null!==$.shadowSide?$.shadowSide:p[$.side],we.alphaMap=$.alphaMap,we.alphaTest=$.alphaTest,we.clipShadows=$.clipShadows,we.clippingPlanes=$.clippingPlanes,we.clipIntersection=$.clipIntersection,we.displacementMap=$.displacementMap,we.displacementScale=$.displacementScale,we.displacementBias=$.displacementBias,we.wireframeLinewidth=$.wireframeLinewidth,we.linewidth=$.linewidth,!0===se.isPointLight&&!0===we.isMeshDistanceMaterial&&(we.referencePosition.setFromMatrixPosition(se.matrixWorld),we.nearDistance=ge,we.farDistance=re),we}function U(j,$,se,ge,re){if(!1===j.visible)return;if(j.layers.test($.layers)&&(j.isMesh||j.isLine||j.isPoints)&&(j.castShadow||j.receiveShadow&&3===re)&&(!j.frustumCulled||r.intersectsObject(j))){j.modelViewMatrix.multiplyMatrices(se.matrixWorldInverse,j.matrixWorld);const Ae=e.update(j),vt=j.material;if(Array.isArray(vt)){const pt=Ae.groups;for(let Xe=0,xt=pt.length;Xe<xt;Xe++){const Le=pt[Xe],Ze=vt[Le.materialIndex];if(Ze&&Ze.visible){const it=B(j,Ze,ge,se.near,se.far,re);n.renderBufferDirect(se,null,Ae,it,j,Le)}}}else if(vt.visible){const pt=B(j,vt,ge,se.near,se.far,re);n.renderBufferDirect(se,null,Ae,pt,j,null)}}const we=j.children;for(let Ae=0,vt=we.length;Ae<vt;Ae++)U(we[Ae],$,se,ge,re)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(j,$,se){if(!1===C.enabled||!1===C.autoUpdate&&!1===C.needsUpdate||0===j.length)return;const ge=n.getRenderTarget(),re=n.getActiveCubeFace(),fe=n.getActiveMipmapLevel(),we=n.state;we.setBlending(0),we.buffers.color.setClear(1,1,1,1),we.buffers.depth.setTest(!0),we.setScissorTest(!1);for(let Ae=0,vt=j.length;Ae<vt;Ae++){const pt=j[Ae],Xe=pt.shadow;if(void 0===Xe){console.warn("THREE.WebGLShadowMap:",pt,"has no shadow.");continue}if(!1===Xe.autoUpdate&&!1===Xe.needsUpdate)continue;i.copy(Xe.mapSize);const xt=Xe.getFrameExtents();i.multiply(xt),o.copy(Xe.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(o.x=Math.floor(f/xt.x),i.x=o.x*xt.x,Xe.mapSize.x=o.x),i.y>f&&(o.y=Math.floor(f/xt.y),i.y=o.y*xt.y,Xe.mapSize.y=o.y)),null===Xe.map&&(Xe.map=new lb(i.x,i.y,3!==this.type?{minFilter:el,magFilter:el}:{}),Xe.map.texture.name=pt.name+".shadowMap",Xe.camera.updateProjectionMatrix()),n.setRenderTarget(Xe.map),n.clear();const Le=Xe.getViewportCount();for(let Ze=0;Ze<Le;Ze++){const it=Xe.getViewport(Ze);s.set(o.x*it.x,o.y*it.y,o.x*it.z,o.y*it.w),we.viewport(s),Xe.updateMatrices(pt,Ze),r=Xe.getFrustum(),U($,se,Xe.camera,pt,this.type)}!0!==Xe.isPointLightShadow&&3===this.type&&I(Xe,se),Xe.needsUpdate=!1}C.needsUpdate=!1,n.setRenderTarget(ge,re,fe)}}function x1e(n,e,t){const r=t.isWebGL2,a=new function i(){let st=!1;const Sn=new ns;let Dn=null;const Pr=new ns(0,0,0,0);return{setMask:function(Qn){Dn!==Qn&&!st&&(n.colorMask(Qn,Qn,Qn,Qn),Dn=Qn)},setLocked:function(Qn){st=Qn},setClear:function(Qn,Gr,Bn,Zr,Bi){!0===Bi&&(Qn*=Zr,Gr*=Zr,Bn*=Zr),Sn.set(Qn,Gr,Bn,Zr),!1===Pr.equals(Sn)&&(n.clearColor(Qn,Gr,Bn,Zr),Pr.copy(Sn))},reset:function(){st=!1,Dn=null,Pr.set(-1,0,0,0)}}},u=new function o(){let st=!1,Sn=null,Dn=null,Pr=null;return{setTest:function(Qn){Qn?ke(2929):We(2929)},setMask:function(Qn){Sn!==Qn&&!st&&(n.depthMask(Qn),Sn=Qn)},setFunc:function(Qn){if(Dn!==Qn){if(Qn)switch(Qn){case 0:n.depthFunc(512);break;case 1:n.depthFunc(519);break;case 2:n.depthFunc(513);break;case 3:default:n.depthFunc(515);break;case 4:n.depthFunc(514);break;case 5:n.depthFunc(518);break;case 6:n.depthFunc(516);break;case 7:n.depthFunc(517)}else n.depthFunc(515);Dn=Qn}},setLocked:function(Qn){st=Qn},setClear:function(Qn){Pr!==Qn&&(n.clearDepth(Qn),Pr=Qn)},reset:function(){st=!1,Sn=null,Dn=null,Pr=null}}},c=new function s(){let st=!1,Sn=null,Dn=null,Pr=null,Qn=null,Gr=null,Bn=null,Zr=null,Bi=null;return{setTest:function(Ei){st||(Ei?ke(2960):We(2960))},setMask:function(Ei){Sn!==Ei&&!st&&(n.stencilMask(Ei),Sn=Ei)},setFunc:function(Ei,Jo,iu){(Dn!==Ei||Pr!==Jo||Qn!==iu)&&(n.stencilFunc(Ei,Jo,iu),Dn=Ei,Pr=Jo,Qn=iu)},setOp:function(Ei,Jo,iu){(Gr!==Ei||Bn!==Jo||Zr!==iu)&&(n.stencilOp(Ei,Jo,iu),Gr=Ei,Bn=Jo,Zr=iu)},setLocked:function(Ei){st=Ei},setClear:function(Ei){Bi!==Ei&&(n.clearStencil(Ei),Bi=Ei)},reset:function(){st=!1,Sn=null,Dn=null,Pr=null,Qn=null,Gr=null,Bn=null,Zr=null,Bi=null}}};let f={},p={},g=new WeakMap,y=[],w=null,M=!1,C=null,I=null,B=null,U=null,j=null,$=null,se=null,ge=!1,re=null,fe=null,we=null,Ae=null,vt=null;const pt=n.getParameter(35661);let Xe=!1,xt=0;const Le=n.getParameter(7938);-1!==Le.indexOf("WebGL")?(xt=parseFloat(/^WebGL (\d)/.exec(Le)[1]),Xe=xt>=1):-1!==Le.indexOf("OpenGL ES")&&(xt=parseFloat(/^OpenGL ES (\d)/.exec(Le)[1]),Xe=xt>=2);let Ze=null,it={};const ot=n.getParameter(3088),Mt=n.getParameter(2978),J=(new ns).fromArray(ot),ee=(new ns).fromArray(Mt);function he(st,Sn,Dn){const Pr=new Uint8Array(4),Qn=n.createTexture();n.bindTexture(st,Qn),n.texParameteri(st,10241,9728),n.texParameteri(st,10240,9728);for(let Gr=0;Gr<Dn;Gr++)n.texImage2D(Sn+Gr,0,6408,1,1,0,6408,5121,Pr);return Qn}const be={};function ke(st){!0!==f[st]&&(n.enable(st),f[st]=!0)}function We(st){!1!==f[st]&&(n.disable(st),f[st]=!1)}be[3553]=he(3553,3553,1),be[34067]=he(34067,34069,6),a.setClear(0,0,0,1),u.setClear(1),c.setClear(0),ke(2929),u.setFunc(3),Ft(!1),_n(1),ke(2884),ht(0);const at={100:32774,101:32778,102:32779};if(r)at[103]=32775,at[104]=32776;else{const st=e.get("EXT_blend_minmax");null!==st&&(at[103]=st.MIN_EXT,at[104]=st.MAX_EXT)}const Ot={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function ht(st,Sn,Dn,Pr,Qn,Gr,Bn,Zr){if(0!==st){if(!1===M&&(ke(3042),M=!0),5===st)Qn=Qn||Sn,Gr=Gr||Dn,Bn=Bn||Pr,(Sn!==I||Qn!==j)&&(n.blendEquationSeparate(at[Sn],at[Qn]),I=Sn,j=Qn),(Dn!==B||Pr!==U||Gr!==$||Bn!==se)&&(n.blendFuncSeparate(Ot[Dn],Ot[Pr],Ot[Gr],Ot[Bn]),B=Dn,U=Pr,$=Gr,se=Bn),C=st,ge=null;else if(st!==C||Zr!==ge){if((100!==I||100!==j)&&(n.blendEquation(32774),I=100,j=100),Zr)switch(st){case 1:n.blendFuncSeparate(1,771,1,771);break;case 2:n.blendFunc(1,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",st)}else switch(st){case 1:n.blendFuncSeparate(770,771,1,771);break;case 2:n.blendFunc(770,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",st)}B=null,U=null,$=null,se=null,C=st,ge=Zr}}else!0===M&&(We(3042),M=!1)}function Ft(st){re!==st&&(n.frontFace(st?2304:2305),re=st)}function _n(st){0!==st?(ke(2884),st!==fe&&n.cullFace(1===st?1029:2===st?1028:1032)):We(2884),fe=st}function qn(st,Sn,Dn){st?(ke(32823),(Ae!==Sn||vt!==Dn)&&(n.polygonOffset(Sn,Dn),Ae=Sn,vt=Dn)):We(32823)}function tr(st){void 0===st&&(st=33984+pt-1),Ze!==st&&(n.activeTexture(st),Ze=st)}return{buffers:{color:a,depth:u,stencil:c},enable:ke,disable:We,bindFramebuffer:function yt(st,Sn){return p[st]!==Sn&&(n.bindFramebuffer(st,Sn),p[st]=Sn,r&&(36009===st&&(p[36160]=Sn),36160===st&&(p[36009]=Sn)),!0)},drawBuffers:function It(st,Sn){let Dn=y,Pr=!1;if(st)if(Dn=g.get(Sn),void 0===Dn&&(Dn=[],g.set(Sn,Dn)),st.isWebGLMultipleRenderTargets){const Qn=st.texture;if(Dn.length!==Qn.length||36064!==Dn[0]){for(let Gr=0,Bn=Qn.length;Gr<Bn;Gr++)Dn[Gr]=36064+Gr;Dn.length=Qn.length,Pr=!0}}else 36064!==Dn[0]&&(Dn[0]=36064,Pr=!0);else 1029!==Dn[0]&&(Dn[0]=1029,Pr=!0);Pr&&(t.isWebGL2?n.drawBuffers(Dn):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Dn))},useProgram:function Lt(st){return w!==st&&(n.useProgram(st),w=st,!0)},setBlending:ht,setMaterial:function Tt(st,Sn){2===st.side?We(2884):ke(2884);let Dn=1===st.side;Sn&&(Dn=!Dn),Ft(Dn),1===st.blending&&!1===st.transparent?ht(0):ht(st.blending,st.blendEquation,st.blendSrc,st.blendDst,st.blendEquationAlpha,st.blendSrcAlpha,st.blendDstAlpha,st.premultipliedAlpha),u.setFunc(st.depthFunc),u.setTest(st.depthTest),u.setMask(st.depthWrite),a.setMask(st.colorWrite);const Pr=st.stencilWrite;c.setTest(Pr),Pr&&(c.setMask(st.stencilWriteMask),c.setFunc(st.stencilFunc,st.stencilRef,st.stencilFuncMask),c.setOp(st.stencilFail,st.stencilZFail,st.stencilZPass)),qn(st.polygonOffset,st.polygonOffsetFactor,st.polygonOffsetUnits),!0===st.alphaToCoverage?ke(32926):We(32926)},setFlipSided:Ft,setCullFace:_n,setLineWidth:function fn(st){st!==we&&(Xe&&n.lineWidth(st),we=st)},setPolygonOffset:qn,setScissorTest:function Fn(st){st?ke(3089):We(3089)},activeTexture:tr,bindTexture:function jr(st,Sn){null===Ze&&tr();let Dn=it[Ze];void 0===Dn&&(Dn={type:void 0,texture:void 0},it[Ze]=Dn),(Dn.type!==st||Dn.texture!==Sn)&&(n.bindTexture(st,Sn||be[st]),Dn.type=st,Dn.texture=Sn)},unbindTexture:function Br(){const st=it[Ze];void 0!==st&&void 0!==st.type&&(n.bindTexture(st.type,null),st.type=void 0,st.texture=void 0)},compressedTexImage2D:function Ve(){try{n.compressedTexImage2D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texImage2D:function Dr(){try{n.texImage2D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texImage3D:function jt(){try{n.texImage3D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texStorage2D:function On(){try{n.texStorage2D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texStorage3D:function Yn(){try{n.texStorage3D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texSubImage2D:function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texSubImage3D:function $t(){try{n.texSubImage3D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},compressedTexSubImage2D:function gn(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},scissor:function Sr(st){!1===J.equals(st)&&(n.scissor(st.x,st.y,st.z,st.w),J.copy(st))},viewport:function Kn(st){!1===ee.equals(st)&&(n.viewport(st.x,st.y,st.z,st.w),ee.copy(st))},reset:function Hn(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),!0===r&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},Ze=null,it={},p={},g=new WeakMap,y=[],w=null,M=!1,C=null,I=null,B=null,U=null,j=null,$=null,se=null,ge=!1,re=null,fe=null,we=null,Ae=null,vt=null,J.set(0,0,n.canvas.width,n.canvas.height),ee.set(0,0,n.canvas.width,n.canvas.height),a.reset(),u.reset(),c.reset()}}}function C1e(n,e,t,r,i,o,s){const a=i.isWebGL2,u=i.maxTextures,c=i.maxCubemapSize,f=i.maxTextureSize,p=i.maxSamples,g=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,y=/OculusBrowser/g.test(navigator.userAgent),w=new WeakMap;let M;const C=new WeakMap;let I=!1;try{I="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Ve){}function B(Ve,Ce){return I?new OffscreenCanvas(Ve,Ce):bT("canvas")}function U(Ve,Ce,$t,gn){let On=1;if((Ve.width>gn||Ve.height>gn)&&(On=gn/Math.max(Ve.width,Ve.height)),On<1||!0===Ce){if("undefined"!=typeof HTMLImageElement&&Ve instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&Ve instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&Ve instanceof ImageBitmap){const Yn=Ce?ok:Math.floor,Dr=Yn(On*Ve.width),jt=Yn(On*Ve.height);void 0===M&&(M=B(Dr,jt));const Sr=$t?B(Dr,jt):M;return Sr.width=Dr,Sr.height=jt,Sr.getContext("2d").drawImage(Ve,0,0,Dr,jt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ve.width+"x"+Ve.height+") to ("+Dr+"x"+jt+")."),Sr}return"data"in Ve&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ve.width+"x"+Ve.height+")."),Ve}return Ve}function j(Ve){return wB(Ve.width)&&wB(Ve.height)}function se(Ve,Ce){return Ve.generateMipmaps&&Ce&&Ve.minFilter!==el&&Ve.minFilter!==Na}function ge(Ve){n.generateMipmap(Ve)}function re(Ve,Ce,$t,gn,On=!1){if(!1===a)return Ce;if(null!==Ve){if(void 0!==n[Ve])return n[Ve];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ve+"'")}let Yn=Ce;return 6403===Ce&&(5126===$t&&(Yn=33326),5131===$t&&(Yn=33325),5121===$t&&(Yn=33321)),33319===Ce&&(5126===$t&&(Yn=33328),5131===$t&&(Yn=33327),5121===$t&&(Yn=33323)),6408===Ce&&(5126===$t&&(Yn=34836),5131===$t&&(Yn=34842),5121===$t&&(Yn=gn===ua&&!1===On?35907:32856),32819===$t&&(Yn=32854),32820===$t&&(Yn=32855)),(33325===Yn||33326===Yn||33327===Yn||33328===Yn||34842===Yn||34836===Yn)&&e.get("EXT_color_buffer_float"),Yn}function fe(Ve,Ce,$t){return!0===se(Ve,$t)||Ve.isFramebufferTexture&&Ve.minFilter!==el&&Ve.minFilter!==Na?Math.log2(Math.max(Ce.width,Ce.height))+1:void 0!==Ve.mipmaps&&Ve.mipmaps.length>0?Ve.mipmaps.length:Ve.isCompressedTexture&&Array.isArray(Ve.image)?Ce.mipmaps.length:1}function we(Ve){return Ve===el||1004===Ve||1005===Ve?9728:9729}function Ae(Ve){const Ce=Ve.target;Ce.removeEventListener("dispose",Ae),function pt(Ve){const Ce=r.get(Ve);if(void 0===Ce.__webglInit)return;const $t=Ve.source,gn=C.get($t);if(gn){const On=gn[Ce.__cacheKey];On.usedTimes--,0===On.usedTimes&&Xe(Ve),0===Object.keys(gn).length&&C.delete($t)}r.remove(Ve)}(Ce),Ce.isVideoTexture&&w.delete(Ce)}function vt(Ve){const Ce=Ve.target;Ce.removeEventListener("dispose",vt),function xt(Ve){const Ce=Ve.texture,$t=r.get(Ve),gn=r.get(Ce);if(void 0!==gn.__webglTexture&&(n.deleteTexture(gn.__webglTexture),s.memory.textures--),Ve.depthTexture&&Ve.depthTexture.dispose(),Ve.isWebGLCubeRenderTarget)for(let On=0;On<6;On++)n.deleteFramebuffer($t.__webglFramebuffer[On]),$t.__webglDepthbuffer&&n.deleteRenderbuffer($t.__webglDepthbuffer[On]);else{if(n.deleteFramebuffer($t.__webglFramebuffer),$t.__webglDepthbuffer&&n.deleteRenderbuffer($t.__webglDepthbuffer),$t.__webglMultisampledFramebuffer&&n.deleteFramebuffer($t.__webglMultisampledFramebuffer),$t.__webglColorRenderbuffer)for(let On=0;On<$t.__webglColorRenderbuffer.length;On++)$t.__webglColorRenderbuffer[On]&&n.deleteRenderbuffer($t.__webglColorRenderbuffer[On]);$t.__webglDepthRenderbuffer&&n.deleteRenderbuffer($t.__webglDepthRenderbuffer)}if(Ve.isWebGLMultipleRenderTargets)for(let On=0,Yn=Ce.length;On<Yn;On++){const Dr=r.get(Ce[On]);Dr.__webglTexture&&(n.deleteTexture(Dr.__webglTexture),s.memory.textures--),r.remove(Ce[On])}r.remove(Ce),r.remove(Ve)}(Ce)}function Xe(Ve){const Ce=r.get(Ve);n.deleteTexture(Ce.__webglTexture),delete C.get(Ve.source)[Ce.__cacheKey],s.memory.textures--}let Le=0;function Mt(Ve,Ce){const $t=r.get(Ve);if(Ve.isVideoTexture&&function jr(Ve){const Ce=s.render.frame;w.get(Ve)!==Ce&&(w.set(Ve,Ce),Ve.update())}(Ve),!1===Ve.isRenderTargetTexture&&Ve.version>0&&$t.__version!==Ve.version){const gn=Ve.image;if(null===gn)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==gn.complete)return void It($t,Ve,Ce);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.activeTexture(33984+Ce),t.bindTexture(3553,$t.__webglTexture)}const be={1e3:10497,[dc]:33071,1002:33648},ke={[el]:9728,1004:9984,1005:9986,[Na]:9729,1007:9985,1008:9987};function We(Ve,Ce,$t){if($t?(n.texParameteri(Ve,10242,be[Ce.wrapS]),n.texParameteri(Ve,10243,be[Ce.wrapT]),(32879===Ve||35866===Ve)&&n.texParameteri(Ve,32882,be[Ce.wrapR]),n.texParameteri(Ve,10240,ke[Ce.magFilter]),n.texParameteri(Ve,10241,ke[Ce.minFilter])):(n.texParameteri(Ve,10242,33071),n.texParameteri(Ve,10243,33071),(32879===Ve||35866===Ve)&&n.texParameteri(Ve,32882,33071),(Ce.wrapS!==dc||Ce.wrapT!==dc)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Ve,10240,we(Ce.magFilter)),n.texParameteri(Ve,10241,we(Ce.minFilter)),Ce.minFilter!==el&&Ce.minFilter!==Na&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const gn=e.get("EXT_texture_filter_anisotropic");if(Ce.type===Rv&&!1===e.has("OES_texture_float_linear")||!1===a&&Ce.type===vT&&!1===e.has("OES_texture_half_float_linear"))return;(Ce.anisotropy>1||r.get(Ce).__currentAnisotropy)&&(n.texParameterf(Ve,gn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ce.anisotropy,i.getMaxAnisotropy())),r.get(Ce).__currentAnisotropy=Ce.anisotropy)}}function yt(Ve,Ce){let $t=!1;void 0===Ve.__webglInit&&(Ve.__webglInit=!0,Ce.addEventListener("dispose",Ae));const gn=Ce.source;let On=C.get(gn);void 0===On&&(On={},C.set(gn,On));const Yn=function ot(Ve){const Ce=[];return Ce.push(Ve.wrapS),Ce.push(Ve.wrapT),Ce.push(Ve.magFilter),Ce.push(Ve.minFilter),Ce.push(Ve.anisotropy),Ce.push(Ve.internalFormat),Ce.push(Ve.format),Ce.push(Ve.type),Ce.push(Ve.generateMipmaps),Ce.push(Ve.premultiplyAlpha),Ce.push(Ve.flipY),Ce.push(Ve.unpackAlignment),Ce.push(Ve.encoding),Ce.join()}(Ce);if(Yn!==Ve.__cacheKey){void 0===On[Yn]&&(On[Yn]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,$t=!0),On[Yn].usedTimes++;const Dr=On[Ve.__cacheKey];void 0!==Dr&&(On[Ve.__cacheKey].usedTimes--,0===Dr.usedTimes&&Xe(Ce)),Ve.__cacheKey=Yn,Ve.__webglTexture=On[Yn].texture}return $t}function It(Ve,Ce,$t){let gn=3553;Ce.isDataArrayTexture&&(gn=35866),Ce.isData3DTexture&&(gn=32879);const On=yt(Ve,Ce),Yn=Ce.source;if(t.activeTexture(33984+$t),t.bindTexture(gn,Ve.__webglTexture),Yn.version!==Yn.__currentVersion||!0===On){n.pixelStorei(37440,Ce.flipY),n.pixelStorei(37441,Ce.premultiplyAlpha),n.pixelStorei(3317,Ce.unpackAlignment),n.pixelStorei(37443,0);const Dr=function $(Ve){return!a&&(Ve.wrapS!==dc||Ve.wrapT!==dc||Ve.minFilter!==el&&Ve.minFilter!==Na)}(Ce)&&!1===j(Ce.image);let jt=U(Ce.image,Dr,!1,f);jt=Br(Ce,jt);const Sr=j(jt)||a,Kn=o.convert(Ce.format,Ce.encoding);let Sn,Hn=o.convert(Ce.type),st=re(Ce.internalFormat,Kn,Hn,Ce.encoding,Ce.isVideoTexture);We(gn,Ce,Sr);const Dn=Ce.mipmaps,Pr=a&&!0!==Ce.isVideoTexture,Qn=void 0===Yn.__currentVersion||!0===On,Gr=fe(Ce,jt,Sr);if(Ce.isDepthTexture)st=6402,a?st=Ce.type===Rv?36012:Ce.type===nb?33190:Ce.type===jM?35056:33189:Ce.type===Rv&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ce.format===rb&&6402===st&&1012!==Ce.type&&Ce.type!==nb&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ce.type=nb,Hn=o.convert(Ce.type)),Ce.format===WM&&6402===st&&(st=34041,Ce.type!==jM&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ce.type=jM,Hn=o.convert(Ce.type))),Qn&&(Pr?t.texStorage2D(3553,1,st,jt.width,jt.height):t.texImage2D(3553,0,st,jt.width,jt.height,0,Kn,Hn,null));else if(Ce.isDataTexture)if(Dn.length>0&&Sr){Pr&&Qn&&t.texStorage2D(3553,Gr,st,Dn[0].width,Dn[0].height);for(let Bn=0,Zr=Dn.length;Bn<Zr;Bn++)Sn=Dn[Bn],Pr?t.texSubImage2D(3553,Bn,0,0,Sn.width,Sn.height,Kn,Hn,Sn.data):t.texImage2D(3553,Bn,st,Sn.width,Sn.height,0,Kn,Hn,Sn.data);Ce.generateMipmaps=!1}else Pr?(Qn&&t.texStorage2D(3553,Gr,st,jt.width,jt.height),t.texSubImage2D(3553,0,0,0,jt.width,jt.height,Kn,Hn,jt.data)):t.texImage2D(3553,0,st,jt.width,jt.height,0,Kn,Hn,jt.data);else if(Ce.isCompressedTexture){Pr&&Qn&&t.texStorage2D(3553,Gr,st,Dn[0].width,Dn[0].height);for(let Bn=0,Zr=Dn.length;Bn<Zr;Bn++)Sn=Dn[Bn],Ce.format!==jf?null!==Kn?Pr?t.compressedTexSubImage2D(3553,Bn,0,0,Sn.width,Sn.height,Kn,Sn.data):t.compressedTexImage2D(3553,Bn,st,Sn.width,Sn.height,0,Sn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pr?t.texSubImage2D(3553,Bn,0,0,Sn.width,Sn.height,Kn,Hn,Sn.data):t.texImage2D(3553,Bn,st,Sn.width,Sn.height,0,Kn,Hn,Sn.data)}else if(Ce.isDataArrayTexture)Pr?(Qn&&t.texStorage3D(35866,Gr,st,jt.width,jt.height,jt.depth),t.texSubImage3D(35866,0,0,0,0,jt.width,jt.height,jt.depth,Kn,Hn,jt.data)):t.texImage3D(35866,0,st,jt.width,jt.height,jt.depth,0,Kn,Hn,jt.data);else if(Ce.isData3DTexture)Pr?(Qn&&t.texStorage3D(32879,Gr,st,jt.width,jt.height,jt.depth),t.texSubImage3D(32879,0,0,0,0,jt.width,jt.height,jt.depth,Kn,Hn,jt.data)):t.texImage3D(32879,0,st,jt.width,jt.height,jt.depth,0,Kn,Hn,jt.data);else if(Ce.isFramebufferTexture){if(Qn)if(Pr)t.texStorage2D(3553,Gr,st,jt.width,jt.height);else{let Bn=jt.width,Zr=jt.height;for(let Bi=0;Bi<Gr;Bi++)t.texImage2D(3553,Bi,st,Bn,Zr,0,Kn,Hn,null),Bn>>=1,Zr>>=1}}else if(Dn.length>0&&Sr){Pr&&Qn&&t.texStorage2D(3553,Gr,st,Dn[0].width,Dn[0].height);for(let Bn=0,Zr=Dn.length;Bn<Zr;Bn++)Sn=Dn[Bn],Pr?t.texSubImage2D(3553,Bn,0,0,Kn,Hn,Sn):t.texImage2D(3553,Bn,st,Kn,Hn,Sn);Ce.generateMipmaps=!1}else Pr?(Qn&&t.texStorage2D(3553,Gr,st,jt.width,jt.height),t.texSubImage2D(3553,0,0,0,Kn,Hn,jt)):t.texImage2D(3553,0,st,Kn,Hn,jt);se(Ce,Sr)&&ge(gn),Yn.__currentVersion=Yn.version,Ce.onUpdate&&Ce.onUpdate(Ce)}Ve.__version=Ce.version}function at(Ve,Ce,$t,gn,On){const Yn=o.convert($t.format,$t.encoding),Dr=o.convert($t.type),jt=re($t.internalFormat,Yn,Dr,$t.encoding);r.get(Ce).__hasExternalTextures||(32879===On||35866===On?t.texImage3D(On,0,jt,Ce.width,Ce.height,Ce.depth,0,Yn,Dr,null):t.texImage2D(On,0,jt,Ce.width,Ce.height,0,Yn,Dr,null)),t.bindFramebuffer(36160,Ve),tr(Ce)?g.framebufferTexture2DMultisampleEXT(36160,gn,On,r.get($t).__webglTexture,0,Fn(Ce)):n.framebufferTexture2D(36160,gn,On,r.get($t).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ot(Ve,Ce,$t){if(n.bindRenderbuffer(36161,Ve),Ce.depthBuffer&&!Ce.stencilBuffer){let gn=33189;if($t||tr(Ce)){const On=Ce.depthTexture;On&&On.isDepthTexture&&(On.type===Rv?gn=36012:On.type===nb&&(gn=33190));const Yn=Fn(Ce);tr(Ce)?g.renderbufferStorageMultisampleEXT(36161,Yn,gn,Ce.width,Ce.height):n.renderbufferStorageMultisample(36161,Yn,gn,Ce.width,Ce.height)}else n.renderbufferStorage(36161,gn,Ce.width,Ce.height);n.framebufferRenderbuffer(36160,36096,36161,Ve)}else if(Ce.depthBuffer&&Ce.stencilBuffer){const gn=Fn(Ce);$t&&!1===tr(Ce)?n.renderbufferStorageMultisample(36161,gn,35056,Ce.width,Ce.height):tr(Ce)?g.renderbufferStorageMultisampleEXT(36161,gn,35056,Ce.width,Ce.height):n.renderbufferStorage(36161,34041,Ce.width,Ce.height),n.framebufferRenderbuffer(36160,33306,36161,Ve)}else{const gn=!0===Ce.isWebGLMultipleRenderTargets?Ce.texture:[Ce.texture];for(let On=0;On<gn.length;On++){const Yn=gn[On],Dr=o.convert(Yn.format,Yn.encoding),jt=o.convert(Yn.type),Sr=re(Yn.internalFormat,Dr,jt,Yn.encoding),Kn=Fn(Ce);$t&&!1===tr(Ce)?n.renderbufferStorageMultisample(36161,Kn,Sr,Ce.width,Ce.height):tr(Ce)?g.renderbufferStorageMultisampleEXT(36161,Kn,Sr,Ce.width,Ce.height):n.renderbufferStorage(36161,Sr,Ce.width,Ce.height)}}n.bindRenderbuffer(36161,null)}function Tt(Ve){const Ce=r.get(Ve),$t=!0===Ve.isWebGLCubeRenderTarget;if(Ve.depthTexture&&!Ce.__autoAllocateDepthBuffer){if($t)throw new Error("target.depthTexture not supported in Cube render targets");!function ht(Ve,Ce){if(Ce&&Ce.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Ve),!Ce.depthTexture||!Ce.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Ce.depthTexture).__webglTexture||Ce.depthTexture.image.width!==Ce.width||Ce.depthTexture.image.height!==Ce.height)&&(Ce.depthTexture.image.width=Ce.width,Ce.depthTexture.image.height=Ce.height,Ce.depthTexture.needsUpdate=!0),Mt(Ce.depthTexture,0);const gn=r.get(Ce.depthTexture).__webglTexture,On=Fn(Ce);if(Ce.depthTexture.format===rb)tr(Ce)?g.framebufferTexture2DMultisampleEXT(36160,36096,3553,gn,0,On):n.framebufferTexture2D(36160,36096,3553,gn,0);else{if(Ce.depthTexture.format!==WM)throw new Error("Unknown depthTexture format");tr(Ce)?g.framebufferTexture2DMultisampleEXT(36160,33306,3553,gn,0,On):n.framebufferTexture2D(36160,33306,3553,gn,0)}}(Ce.__webglFramebuffer,Ve)}else if($t){Ce.__webglDepthbuffer=[];for(let gn=0;gn<6;gn++)t.bindFramebuffer(36160,Ce.__webglFramebuffer[gn]),Ce.__webglDepthbuffer[gn]=n.createRenderbuffer(),Ot(Ce.__webglDepthbuffer[gn],Ve,!1)}else t.bindFramebuffer(36160,Ce.__webglFramebuffer),Ce.__webglDepthbuffer=n.createRenderbuffer(),Ot(Ce.__webglDepthbuffer,Ve,!1);t.bindFramebuffer(36160,null)}function Fn(Ve){return Math.min(p,Ve.samples)}function tr(Ve){const Ce=r.get(Ve);return a&&Ve.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==Ce.__useRenderToTexture}function Br(Ve,Ce){const $t=Ve.encoding,gn=Ve.format,On=Ve.type;return!0===Ve.isCompressedTexture||!0===Ve.isVideoTexture||1035===Ve.format||$t!==ib&&($t===ua?!1===a?!0===e.has("EXT_sRGB")&&gn===jf?(Ve.format=1035,Ve.minFilter=Na,Ve.generateMipmaps=!1):Ce=fq.sRGBToLinear(Ce):(gn!==jf||On!==tb)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",$t)),Ce}this.allocateTextureUnit=function it(){const Ve=Le;return Ve>=u&&console.warn("THREE.WebGLTextures: Trying to use "+Ve+" texture units while this GPU supports only "+u),Le+=1,Ve},this.resetTextureUnits=function Ze(){Le=0},this.setTexture2D=Mt,this.setTexture2DArray=function J(Ve,Ce){const $t=r.get(Ve);Ve.version>0&&$t.__version!==Ve.version?It($t,Ve,Ce):(t.activeTexture(33984+Ce),t.bindTexture(35866,$t.__webglTexture))},this.setTexture3D=function ee(Ve,Ce){const $t=r.get(Ve);Ve.version>0&&$t.__version!==Ve.version?It($t,Ve,Ce):(t.activeTexture(33984+Ce),t.bindTexture(32879,$t.__webglTexture))},this.setTextureCube=function he(Ve,Ce){const $t=r.get(Ve);Ve.version>0&&$t.__version!==Ve.version?function Lt(Ve,Ce,$t){if(6!==Ce.image.length)return;const gn=yt(Ve,Ce),On=Ce.source;if(t.activeTexture(33984+$t),t.bindTexture(34067,Ve.__webglTexture),On.version!==On.__currentVersion||!0===gn){n.pixelStorei(37440,Ce.flipY),n.pixelStorei(37441,Ce.premultiplyAlpha),n.pixelStorei(3317,Ce.unpackAlignment),n.pixelStorei(37443,0);const Yn=Ce.isCompressedTexture||Ce.image[0].isCompressedTexture,Dr=Ce.image[0]&&Ce.image[0].isDataTexture,jt=[];for(let Bn=0;Bn<6;Bn++)jt[Bn]=Yn||Dr?Dr?Ce.image[Bn].image:Ce.image[Bn]:U(Ce.image[Bn],!1,!0,c),jt[Bn]=Br(Ce,jt[Bn]);const Sr=jt[0],Kn=j(Sr)||a,Hn=o.convert(Ce.format,Ce.encoding),st=o.convert(Ce.type),Sn=re(Ce.internalFormat,Hn,st,Ce.encoding),Dn=a&&!0!==Ce.isVideoTexture,Pr=void 0===On.__currentVersion||!0===gn;let Gr,Qn=fe(Ce,Sr,Kn);if(We(34067,Ce,Kn),Yn){Dn&&Pr&&t.texStorage2D(34067,Qn,Sn,Sr.width,Sr.height);for(let Bn=0;Bn<6;Bn++){Gr=jt[Bn].mipmaps;for(let Zr=0;Zr<Gr.length;Zr++){const Bi=Gr[Zr];Ce.format!==jf?null!==Hn?Dn?t.compressedTexSubImage2D(34069+Bn,Zr,0,0,Bi.width,Bi.height,Hn,Bi.data):t.compressedTexImage2D(34069+Bn,Zr,Sn,Bi.width,Bi.height,0,Bi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Dn?t.texSubImage2D(34069+Bn,Zr,0,0,Bi.width,Bi.height,Hn,st,Bi.data):t.texImage2D(34069+Bn,Zr,Sn,Bi.width,Bi.height,0,Hn,st,Bi.data)}}}else{Gr=Ce.mipmaps,Dn&&Pr&&(Gr.length>0&&Qn++,t.texStorage2D(34067,Qn,Sn,jt[0].width,jt[0].height));for(let Bn=0;Bn<6;Bn++)if(Dr){Dn?t.texSubImage2D(34069+Bn,0,0,0,jt[Bn].width,jt[Bn].height,Hn,st,jt[Bn].data):t.texImage2D(34069+Bn,0,Sn,jt[Bn].width,jt[Bn].height,0,Hn,st,jt[Bn].data);for(let Zr=0;Zr<Gr.length;Zr++){const Ei=Gr[Zr].image[Bn].image;Dn?t.texSubImage2D(34069+Bn,Zr+1,0,0,Ei.width,Ei.height,Hn,st,Ei.data):t.texImage2D(34069+Bn,Zr+1,Sn,Ei.width,Ei.height,0,Hn,st,Ei.data)}}else{Dn?t.texSubImage2D(34069+Bn,0,0,0,Hn,st,jt[Bn]):t.texImage2D(34069+Bn,0,Sn,Hn,st,jt[Bn]);for(let Zr=0;Zr<Gr.length;Zr++){const Bi=Gr[Zr];Dn?t.texSubImage2D(34069+Bn,Zr+1,0,0,Hn,st,Bi.image[Bn]):t.texImage2D(34069+Bn,Zr+1,Sn,Hn,st,Bi.image[Bn])}}}se(Ce,Kn)&&ge(34067),On.__currentVersion=On.version,Ce.onUpdate&&Ce.onUpdate(Ce)}Ve.__version=Ce.version}($t,Ve,Ce):(t.activeTexture(33984+Ce),t.bindTexture(34067,$t.__webglTexture))},this.rebindTextures=function Ft(Ve,Ce,$t){const gn=r.get(Ve);void 0!==Ce&&at(gn.__webglFramebuffer,Ve,Ve.texture,36064,3553),void 0!==$t&&Tt(Ve)},this.setupRenderTarget=function _n(Ve){const Ce=Ve.texture,$t=r.get(Ve),gn=r.get(Ce);Ve.addEventListener("dispose",vt),!0!==Ve.isWebGLMultipleRenderTargets&&(void 0===gn.__webglTexture&&(gn.__webglTexture=n.createTexture()),gn.__version=Ce.version,s.memory.textures++);const On=!0===Ve.isWebGLCubeRenderTarget,Yn=!0===Ve.isWebGLMultipleRenderTargets,Dr=j(Ve)||a;if(On){$t.__webglFramebuffer=[];for(let jt=0;jt<6;jt++)$t.__webglFramebuffer[jt]=n.createFramebuffer()}else{if($t.__webglFramebuffer=n.createFramebuffer(),Yn)if(i.drawBuffers){const jt=Ve.texture;for(let Sr=0,Kn=jt.length;Sr<Kn;Sr++){const Hn=r.get(jt[Sr]);void 0===Hn.__webglTexture&&(Hn.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Ve.samples>0&&!1===tr(Ve)){const jt=Yn?Ce:[Ce];$t.__webglMultisampledFramebuffer=n.createFramebuffer(),$t.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,$t.__webglMultisampledFramebuffer);for(let Sr=0;Sr<jt.length;Sr++){const Kn=jt[Sr];$t.__webglColorRenderbuffer[Sr]=n.createRenderbuffer(),n.bindRenderbuffer(36161,$t.__webglColorRenderbuffer[Sr]);const Hn=o.convert(Kn.format,Kn.encoding),st=o.convert(Kn.type),Sn=re(Kn.internalFormat,Hn,st,Kn.encoding),Dn=Fn(Ve);n.renderbufferStorageMultisample(36161,Dn,Sn,Ve.width,Ve.height),n.framebufferRenderbuffer(36160,36064+Sr,36161,$t.__webglColorRenderbuffer[Sr])}n.bindRenderbuffer(36161,null),Ve.depthBuffer&&($t.__webglDepthRenderbuffer=n.createRenderbuffer(),Ot($t.__webglDepthRenderbuffer,Ve,!0)),t.bindFramebuffer(36160,null)}}if(On){t.bindTexture(34067,gn.__webglTexture),We(34067,Ce,Dr);for(let jt=0;jt<6;jt++)at($t.__webglFramebuffer[jt],Ve,Ce,36064,34069+jt);se(Ce,Dr)&&ge(34067),t.unbindTexture()}else if(Yn){const jt=Ve.texture;for(let Sr=0,Kn=jt.length;Sr<Kn;Sr++){const Hn=jt[Sr],st=r.get(Hn);t.bindTexture(3553,st.__webglTexture),We(3553,Hn,Dr),at($t.__webglFramebuffer,Ve,Hn,36064+Sr,3553),se(Hn,Dr)&&ge(3553)}t.unbindTexture()}else{let jt=3553;(Ve.isWebGL3DRenderTarget||Ve.isWebGLArrayRenderTarget)&&(a?jt=Ve.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(jt,gn.__webglTexture),We(jt,Ce,Dr),at($t.__webglFramebuffer,Ve,Ce,36064,jt),se(Ce,Dr)&&ge(jt),t.unbindTexture()}Ve.depthBuffer&&Tt(Ve)},this.updateRenderTargetMipmap=function fn(Ve){const Ce=j(Ve)||a,$t=!0===Ve.isWebGLMultipleRenderTargets?Ve.texture:[Ve.texture];for(let gn=0,On=$t.length;gn<On;gn++){const Yn=$t[gn];if(se(Yn,Ce)){const Dr=Ve.isWebGLCubeRenderTarget?34067:3553,jt=r.get(Yn).__webglTexture;t.bindTexture(Dr,jt),ge(Dr),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function qn(Ve){if(a&&Ve.samples>0&&!1===tr(Ve)){const Ce=Ve.isWebGLMultipleRenderTargets?Ve.texture:[Ve.texture],$t=Ve.width,gn=Ve.height;let On=16384;const Yn=[],Dr=Ve.stencilBuffer?33306:36096,jt=r.get(Ve),Sr=!0===Ve.isWebGLMultipleRenderTargets;if(Sr)for(let Kn=0;Kn<Ce.length;Kn++)t.bindFramebuffer(36160,jt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Kn,36161,null),t.bindFramebuffer(36160,jt.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Kn,3553,null,0);t.bindFramebuffer(36008,jt.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,jt.__webglFramebuffer);for(let Kn=0;Kn<Ce.length;Kn++){Yn.push(36064+Kn),Ve.depthBuffer&&Yn.push(Dr);const Hn=void 0!==jt.__ignoreDepthValues&&jt.__ignoreDepthValues;if(!1===Hn&&(Ve.depthBuffer&&(On|=256),Ve.stencilBuffer&&(On|=1024)),Sr&&n.framebufferRenderbuffer(36008,36064,36161,jt.__webglColorRenderbuffer[Kn]),!0===Hn&&(n.invalidateFramebuffer(36008,[Dr]),n.invalidateFramebuffer(36009,[Dr])),Sr){const st=r.get(Ce[Kn]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,st,0)}n.blitFramebuffer(0,0,$t,gn,0,0,$t,gn,On,9728),y&&n.invalidateFramebuffer(36008,Yn)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Sr)for(let Kn=0;Kn<Ce.length;Kn++){t.bindFramebuffer(36160,jt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Kn,36161,jt.__webglColorRenderbuffer[Kn]);const Hn=r.get(Ce[Kn]).__webglTexture;t.bindFramebuffer(36160,jt.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Kn,3553,Hn,0)}t.bindFramebuffer(36009,jt.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Tt,this.setupFrameBufferTexture=at,this.useMultisampledRTT=tr}function E1e(n,e,t){const r=t.isWebGL2;return{convert:function i(o,s=null){let a;if(o===tb)return 5121;if(1017===o)return 32819;if(1018===o)return 32820;if(1010===o)return 5120;if(1011===o)return 5122;if(1012===o)return 5123;if(1013===o)return 5124;if(o===nb)return 5125;if(o===Rv)return 5126;if(o===vT)return r?5131:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===o)return 6406;if(o===jf)return 6408;if(1024===o)return 6409;if(1025===o)return 6410;if(o===rb)return 6402;if(o===WM)return 34041;if(1028===o)return 6403;if(1022===o)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===o)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1029===o)return 36244;if(1030===o)return 33319;if(1031===o)return 33320;if(1033===o)return 36249;if(33776===o||33777===o||33778===o||33779===o)if(s===ua){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===o)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===o)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===o||35841===o||35842===o||35843===o){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===o)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===o)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===o)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===o)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===o)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===o||37496===o){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===o)return s===ua?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===o||37809===o||37810===o||37811===o||37812===o||37813===o||37814===o||37815===o||37816===o||37817===o||37818===o||37819===o||37820===o||37821===o){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===o)return s===ua?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===o){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===o)return s===ua?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return o===jM?r?34042:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[o]?n[o]:null}}}class T1e extends nu{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ls extends Au{constructor(){super(),this.isGroup=!0,this.type="Group"}}const R1e={type:"move"};class QB{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ls,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ls,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Fe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Fe),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ls,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Fe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Fe),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,s=null;const a=this._targetRay,u=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){s=!0;for(const M of e.hand.values()){const C=t.getJointPose(M,r);if(void 0===c.joints[M.jointName]){const B=new ls;B.matrixAutoUpdate=!1,B.visible=!1,c.joints[M.jointName]=B,c.add(B)}const I=c.joints[M.jointName];null!==C&&(I.matrix.fromArray(C.transform.matrix),I.matrix.decompose(I.position,I.rotation,I.scale),I.jointRadius=C.radius),I.visible=null!==C}const g=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),y=.02,w=.005;c.inputState.pinching&&g>y+w?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&g<=y-w&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==u&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),null!==o&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,r),null===i&&null!==o&&(i=o),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(R1e)))}return null!==a&&(a.visible=null!==i),null!==u&&(u.visible=null!==o),null!==c&&(c.visible=null!==s),this}}class D1e extends Dv{constructor(e,t,r,i,o,s,a,u,c,f){if((f=void 0!==f?f:rb)!==rb&&f!==WM)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&f===rb&&(r=nb),void 0===r&&f===WM&&(r=jM),super(null,i,o,s,a,u,f,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:el,this.minFilter=void 0!==u?u:el,this.flipY=!1,this.generateMipmaps=!1}}class A1e extends XM{constructor(e,t){super();const r=this;let i=null,o=1,s=null,a="local-floor",u=null,c=null,f=null,p=null,g=null,y=null;const w=t.getContextAttributes();let M=null,C=null;const I=[],B=[],U=new nu;U.layers.enable(1),U.viewport=new ns;const j=new nu;j.layers.enable(2),j.viewport=new ns;const $=[U,j],se=new T1e;se.layers.enable(1),se.layers.enable(2);let ge=null,re=null;function fe(ot){const Mt=B.indexOf(ot.inputSource);if(-1===Mt)return;const J=I[Mt];void 0!==J&&J.dispatchEvent({type:ot.type,data:ot.inputSource})}function we(){i.removeEventListener("select",fe),i.removeEventListener("selectstart",fe),i.removeEventListener("selectend",fe),i.removeEventListener("squeeze",fe),i.removeEventListener("squeezestart",fe),i.removeEventListener("squeezeend",fe),i.removeEventListener("end",we),i.removeEventListener("inputsourceschange",Ae);for(let ot=0;ot<I.length;ot++){const Mt=B[ot];null!==Mt&&(B[ot]=null,I[ot].disconnect(Mt))}ge=null,re=null,e.setRenderTarget(M),g=null,p=null,f=null,i=null,C=null,it.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}function Ae(ot){for(let Mt=0;Mt<ot.removed.length;Mt++){const J=ot.removed[Mt],ee=B.indexOf(J);ee>=0&&(B[ee]=null,I[ee].dispatchEvent({type:"disconnected",data:J}))}for(let Mt=0;Mt<ot.added.length;Mt++){const J=ot.added[Mt];let ee=B.indexOf(J);if(-1===ee){for(let be=0;be<I.length;be++){if(be>=B.length){B.push(J),ee=be;break}if(null===B[be]){B[be]=J,ee=be;break}}if(-1===ee)break}const he=I[ee];he&&he.dispatchEvent({type:"connected",data:J})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ot){let Mt=I[ot];return void 0===Mt&&(Mt=new QB,I[ot]=Mt),Mt.getTargetRaySpace()},this.getControllerGrip=function(ot){let Mt=I[ot];return void 0===Mt&&(Mt=new QB,I[ot]=Mt),Mt.getGripSpace()},this.getHand=function(ot){let Mt=I[ot];return void 0===Mt&&(Mt=new QB,I[ot]=Mt),Mt.getHandSpace()},this.setFramebufferScaleFactor=function(ot){o=ot,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ot){a=ot,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(ot){u=ot},this.getBaseLayer=function(){return null!==p?p:g},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=function(){var ot=(0,iSe.Z)(function*(Mt){if(i=Mt,null!==i){if(M=e.getRenderTarget(),i.addEventListener("select",fe),i.addEventListener("selectstart",fe),i.addEventListener("selectend",fe),i.addEventListener("squeeze",fe),i.addEventListener("squeezestart",fe),i.addEventListener("squeezeend",fe),i.addEventListener("end",we),i.addEventListener("inputsourceschange",Ae),!0!==w.xrCompatible&&(yield t.makeXRCompatible()),void 0===i.renderState.layers||!1===e.capabilities.isWebGL2)g=new XRWebGLLayer(i,t,{antialias:void 0!==i.renderState.layers||w.antialias,alpha:w.alpha,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:o}),i.updateRenderState({baseLayer:g}),C=new lb(g.framebufferWidth,g.framebufferHeight,{format:jf,type:tb,encoding:e.outputEncoding});else{let J=null,ee=null,he=null;w.depth&&(he=w.stencil?35056:33190,J=w.stencil?WM:rb,ee=w.stencil?jM:nb);const be={colorFormat:32856,depthFormat:he,scaleFactor:o};f=new XRWebGLBinding(i,t),p=f.createProjectionLayer(be),i.updateRenderState({layers:[p]}),C=new lb(p.textureWidth,p.textureHeight,{format:jf,type:tb,depthTexture:new D1e(p.textureWidth,p.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,J),stencilBuffer:w.stencil,encoding:e.outputEncoding,samples:w.antialias?4:0}),e.properties.get(C).__ignoreDepthValues=p.ignoreDepthValues}C.isXRRenderTarget=!0,this.setFoveation(1),u=null,s=yield i.requestReferenceSpace(a),it.setContext(i),it.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(Mt){return ot.apply(this,arguments)}}();const vt=new Fe,pt=new Fe;function xt(ot,Mt){null===Mt?ot.matrixWorld.copy(ot.matrix):ot.matrixWorld.multiplyMatrices(Mt.matrixWorld,ot.matrix),ot.matrixWorldInverse.copy(ot.matrixWorld).invert()}this.updateCamera=function(ot){if(null===i)return;se.near=j.near=U.near=ot.near,se.far=j.far=U.far=ot.far,(ge!==se.near||re!==se.far)&&(i.updateRenderState({depthNear:se.near,depthFar:se.far}),ge=se.near,re=se.far);const Mt=ot.parent,J=se.cameras;xt(se,Mt);for(let he=0;he<J.length;he++)xt(J[he],Mt);se.matrixWorld.decompose(se.position,se.quaternion,se.scale),ot.position.copy(se.position),ot.quaternion.copy(se.quaternion),ot.scale.copy(se.scale),ot.matrix.copy(se.matrix),ot.matrixWorld.copy(se.matrixWorld);const ee=ot.children;for(let he=0,be=ee.length;he<be;he++)ee[he].updateMatrixWorld(!0);2===J.length?function Xe(ot,Mt,J){vt.setFromMatrixPosition(Mt.matrixWorld),pt.setFromMatrixPosition(J.matrixWorld);const ee=vt.distanceTo(pt),he=Mt.projectionMatrix.elements,be=J.projectionMatrix.elements,ke=he[14]/(he[10]-1),We=he[14]/(he[10]+1),yt=(he[9]+1)/he[5],It=(he[9]-1)/he[5],Lt=(he[8]-1)/he[0],at=(be[8]+1)/be[0],Ot=ke*Lt,ht=ke*at,Tt=ee/(-Lt+at),Ft=Tt*-Lt;Mt.matrixWorld.decompose(ot.position,ot.quaternion,ot.scale),ot.translateX(Ft),ot.translateZ(Tt),ot.matrixWorld.compose(ot.position,ot.quaternion,ot.scale),ot.matrixWorldInverse.copy(ot.matrixWorld).invert();const _n=ke+Tt,fn=We+Tt;ot.projectionMatrix.makePerspective(Ot-Ft,ht+(ee-Ft),yt*We/fn*_n,It*We/fn*_n,_n,fn)}(se,U,j):se.projectionMatrix.copy(U.projectionMatrix)},this.getCamera=function(){return se},this.getFoveation=function(){return null!==p?p.fixedFoveation:null!==g?g.fixedFoveation:void 0},this.setFoveation=function(ot){null!==p&&(p.fixedFoveation=ot),null!==g&&void 0!==g.fixedFoveation&&(g.fixedFoveation=ot)};let Le=null;const it=new Tq;it.setAnimationLoop(function Ze(ot,Mt){if(c=Mt.getViewerPose(u||s),y=Mt,null!==c){const J=c.views;null!==g&&(e.setRenderTargetFramebuffer(C,g.framebuffer),e.setRenderTarget(C));let ee=!1;J.length!==se.cameras.length&&(se.cameras.length=0,ee=!0);for(let he=0;he<J.length;he++){const be=J[he];let ke=null;if(null!==g)ke=g.getViewport(be);else{const yt=f.getViewSubImage(p,be);ke=yt.viewport,0===he&&(e.setRenderTargetTextures(C,yt.colorTexture,p.ignoreDepthValues?void 0:yt.depthStencilTexture),e.setRenderTarget(C))}let We=$[he];void 0===We&&(We=new nu,We.layers.enable(he),We.viewport=new ns,$[he]=We),We.matrix.fromArray(be.transform.matrix),We.projectionMatrix.fromArray(be.projectionMatrix),We.viewport.set(ke.x,ke.y,ke.width,ke.height),0===he&&se.matrix.copy(We.matrix),!0===ee&&se.cameras.push(We)}}for(let J=0;J<I.length;J++){const ee=B[J],he=I[J];null!==ee&&void 0!==he&&he.update(ee,Mt,u||s)}Le&&Le(ot,Mt),y=null}),this.setAnimationLoop=function(ot){Le=ot},this.dispose=function(){}}}function O1e(n,e){function i(M,C){M.opacity.value=C.opacity,C.color&&M.diffuse.value.copy(C.color),C.emissive&&M.emissive.value.copy(C.emissive).multiplyScalar(C.emissiveIntensity),C.map&&(M.map.value=C.map),C.alphaMap&&(M.alphaMap.value=C.alphaMap),C.bumpMap&&(M.bumpMap.value=C.bumpMap,M.bumpScale.value=C.bumpScale,1===C.side&&(M.bumpScale.value*=-1)),C.displacementMap&&(M.displacementMap.value=C.displacementMap,M.displacementScale.value=C.displacementScale,M.displacementBias.value=C.displacementBias),C.emissiveMap&&(M.emissiveMap.value=C.emissiveMap),C.normalMap&&(M.normalMap.value=C.normalMap,M.normalScale.value.copy(C.normalScale),1===C.side&&M.normalScale.value.negate()),C.specularMap&&(M.specularMap.value=C.specularMap),C.alphaTest>0&&(M.alphaTest.value=C.alphaTest);const I=e.get(C).envMap;if(I&&(M.envMap.value=I,M.flipEnvMap.value=I.isCubeTexture&&!1===I.isRenderTargetTexture?-1:1,M.reflectivity.value=C.reflectivity,M.ior.value=C.ior,M.refractionRatio.value=C.refractionRatio),C.lightMap){M.lightMap.value=C.lightMap;const j=!0!==n.physicallyCorrectLights?Math.PI:1;M.lightMapIntensity.value=C.lightMapIntensity*j}let B,U;C.aoMap&&(M.aoMap.value=C.aoMap,M.aoMapIntensity.value=C.aoMapIntensity),C.map?B=C.map:C.specularMap?B=C.specularMap:C.displacementMap?B=C.displacementMap:C.normalMap?B=C.normalMap:C.bumpMap?B=C.bumpMap:C.roughnessMap?B=C.roughnessMap:C.metalnessMap?B=C.metalnessMap:C.alphaMap?B=C.alphaMap:C.emissiveMap?B=C.emissiveMap:C.clearcoatMap?B=C.clearcoatMap:C.clearcoatNormalMap?B=C.clearcoatNormalMap:C.clearcoatRoughnessMap?B=C.clearcoatRoughnessMap:C.iridescenceMap?B=C.iridescenceMap:C.iridescenceThicknessMap?B=C.iridescenceThicknessMap:C.specularIntensityMap?B=C.specularIntensityMap:C.specularColorMap?B=C.specularColorMap:C.transmissionMap?B=C.transmissionMap:C.thicknessMap?B=C.thicknessMap:C.sheenColorMap?B=C.sheenColorMap:C.sheenRoughnessMap&&(B=C.sheenRoughnessMap),void 0!==B&&(B.isWebGLRenderTarget&&(B=B.texture),!0===B.matrixAutoUpdate&&B.updateMatrix(),M.uvTransform.value.copy(B.matrix)),C.aoMap?U=C.aoMap:C.lightMap&&(U=C.lightMap),void 0!==U&&(U.isWebGLRenderTarget&&(U=U.texture),!0===U.matrixAutoUpdate&&U.updateMatrix(),M.uv2Transform.value.copy(U.matrix))}return{refreshFogUniforms:function t(M,C){M.fogColor.value.copy(C.color),C.isFog?(M.fogNear.value=C.near,M.fogFar.value=C.far):C.isFogExp2&&(M.fogDensity.value=C.density)},refreshMaterialUniforms:function r(M,C,I,B,U){C.isMeshBasicMaterial||C.isMeshLambertMaterial?i(M,C):C.isMeshToonMaterial?(i(M,C),function f(M,C){C.gradientMap&&(M.gradientMap.value=C.gradientMap)}(M,C)):C.isMeshPhongMaterial?(i(M,C),function c(M,C){M.specular.value.copy(C.specular),M.shininess.value=Math.max(C.shininess,1e-4)}(M,C)):C.isMeshStandardMaterial?(i(M,C),function p(M,C){M.roughness.value=C.roughness,M.metalness.value=C.metalness,C.roughnessMap&&(M.roughnessMap.value=C.roughnessMap),C.metalnessMap&&(M.metalnessMap.value=C.metalnessMap),e.get(C).envMap&&(M.envMapIntensity.value=C.envMapIntensity)}(M,C),C.isMeshPhysicalMaterial&&function g(M,C,I){M.ior.value=C.ior,C.sheen>0&&(M.sheenColor.value.copy(C.sheenColor).multiplyScalar(C.sheen),M.sheenRoughness.value=C.sheenRoughness,C.sheenColorMap&&(M.sheenColorMap.value=C.sheenColorMap),C.sheenRoughnessMap&&(M.sheenRoughnessMap.value=C.sheenRoughnessMap)),C.clearcoat>0&&(M.clearcoat.value=C.clearcoat,M.clearcoatRoughness.value=C.clearcoatRoughness,C.clearcoatMap&&(M.clearcoatMap.value=C.clearcoatMap),C.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=C.clearcoatRoughnessMap),C.clearcoatNormalMap&&(M.clearcoatNormalScale.value.copy(C.clearcoatNormalScale),M.clearcoatNormalMap.value=C.clearcoatNormalMap,1===C.side&&M.clearcoatNormalScale.value.negate())),C.iridescence>0&&(M.iridescence.value=C.iridescence,M.iridescenceIOR.value=C.iridescenceIOR,M.iridescenceThicknessMinimum.value=C.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=C.iridescenceThicknessRange[1],C.iridescenceMap&&(M.iridescenceMap.value=C.iridescenceMap),C.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=C.iridescenceThicknessMap)),C.transmission>0&&(M.transmission.value=C.transmission,M.transmissionSamplerMap.value=I.texture,M.transmissionSamplerSize.value.set(I.width,I.height),C.transmissionMap&&(M.transmissionMap.value=C.transmissionMap),M.thickness.value=C.thickness,C.thicknessMap&&(M.thicknessMap.value=C.thicknessMap),M.attenuationDistance.value=C.attenuationDistance,M.attenuationColor.value.copy(C.attenuationColor)),M.specularIntensity.value=C.specularIntensity,M.specularColor.value.copy(C.specularColor),C.specularIntensityMap&&(M.specularIntensityMap.value=C.specularIntensityMap),C.specularColorMap&&(M.specularColorMap.value=C.specularColorMap)}(M,C,U)):C.isMeshMatcapMaterial?(i(M,C),function y(M,C){C.matcap&&(M.matcap.value=C.matcap)}(M,C)):C.isMeshDepthMaterial?i(M,C):C.isMeshDistanceMaterial?(i(M,C),function w(M,C){M.referencePosition.value.copy(C.referencePosition),M.nearDistance.value=C.nearDistance,M.farDistance.value=C.farDistance}(M,C)):C.isMeshNormalMaterial?i(M,C):C.isLineBasicMaterial?(function o(M,C){M.diffuse.value.copy(C.color),M.opacity.value=C.opacity}(M,C),C.isLineDashedMaterial&&function s(M,C){M.dashSize.value=C.dashSize,M.totalSize.value=C.dashSize+C.gapSize,M.scale.value=C.scale}(M,C)):C.isPointsMaterial?function a(M,C,I,B){let U;M.diffuse.value.copy(C.color),M.opacity.value=C.opacity,M.size.value=C.size*I,M.scale.value=.5*B,C.map&&(M.map.value=C.map),C.alphaMap&&(M.alphaMap.value=C.alphaMap),C.alphaTest>0&&(M.alphaTest.value=C.alphaTest),C.map?U=C.map:C.alphaMap&&(U=C.alphaMap),void 0!==U&&(!0===U.matrixAutoUpdate&&U.updateMatrix(),M.uvTransform.value.copy(U.matrix))}(M,C,I,B):C.isSpriteMaterial?function u(M,C){let I;M.diffuse.value.copy(C.color),M.opacity.value=C.opacity,M.rotation.value=C.rotation,C.map&&(M.map.value=C.map),C.alphaMap&&(M.alphaMap.value=C.alphaMap),C.alphaTest>0&&(M.alphaTest.value=C.alphaTest),C.map?I=C.map:C.alphaMap&&(I=C.alphaMap),void 0!==I&&(!0===I.matrixAutoUpdate&&I.updateMatrix(),M.uvTransform.value.copy(I.matrix))}(M,C):C.isShadowMaterial?(M.color.value.copy(C.color),M.opacity.value=C.opacity):C.isShaderMaterial&&(C.uniformsNeedUpdate=!1)}}}function rJ(n={}){this.isWebGLRenderer=!0;const e=void 0!==n.canvas?n.canvas:function k1e(){const n=bT("canvas");return n.style.display="block",n}(),t=void 0!==n.context?n.context:null,r=void 0===n.depth||n.depth,i=void 0===n.stencil||n.stencil,o=void 0!==n.antialias&&n.antialias,s=void 0===n.premultipliedAlpha||n.premultipliedAlpha,a=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,u=void 0!==n.powerPreference?n.powerPreference:"default",c=void 0!==n.failIfMajorPerformanceCaveat&&n.failIfMajorPerformanceCaveat;let f;f=null!==t?t.getContextAttributes().alpha:void 0!==n.alpha&&n.alpha;let p=null,g=null;const y=[],w=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ib,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const M=this;let C=!1,I=0,B=0,U=null,j=-1,$=null;const se=new ns,ge=new ns;let re=null,fe=e.width,we=e.height,Ae=1,vt=null,pt=null;const Xe=new ns(0,0,fe,we),xt=new ns(0,0,fe,we);let Le=!1;const Ze=new GB;let it=!1,ot=!1,Mt=null;const J=new eo,ee=new xn,he=new Fe,be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ke(){return null===U?Ae:1}let It,Lt,at,Ot,ht,Tt,Ft,_n,fn,qn,Fn,tr,jr,Br,Ve,Ce,$t,gn,On,Yn,Dr,jt,Sr,We=t;function yt(Ie,Ut){for(let rn=0;rn<Ie.length;rn++){const un=e.getContext(Ie[rn],Ut);if(null!==un)return un}return null}try{const Ie={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r142"),e.addEventListener("webglcontextlost",st,!1),e.addEventListener("webglcontextrestored",Sn,!1),e.addEventListener("webglcontextcreationerror",Dn,!1),null===We){const Ut=["webgl2","webgl","experimental-webgl"];if(!0===M.isWebGL1Renderer&&Ut.shift(),We=yt(Ut,Ie),null===We)throw yt(Ut)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===We.getShaderPrecisionFormat&&(We.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ie){throw console.error("THREE.WebGLRenderer: "+Ie.message),Ie}function Kn(){It=new YEe(We),Lt=new BEe(We,It,n),It.init(Lt),jt=new E1e(We,It,Lt),at=new x1e(We,It,Lt),Ot=new XEe,ht=new f1e,Tt=new C1e(We,It,at,ht,Lt,jt,Ot),Ft=new zEe(M),_n=new WEe(M),fn=new Hxe(We,Lt),Sr=new FEe(We,It,fn,Lt),qn=new GEe(We,fn,Ot,Sr),Fn=new JEe(We,qn,fn,Ot),On=new qEe(We,Lt,Tt),Ce=new VEe(ht),tr=new d1e(M,Ft,_n,It,Lt,Sr,Ce),jr=new O1e(M,ht),Br=new p1e,Ve=new b1e(It,Lt),gn=new NEe(M,Ft,at,Fn,f,s),$t=new S1e(M,Fn,Lt),Yn=new HEe(We,It,Ot,Lt),Dr=new $Ee(We,It,Ot,Lt),Ot.programs=tr.programs,M.capabilities=Lt,M.extensions=It,M.properties=ht,M.renderLists=Br,M.shadowMap=$t,M.state=at,M.info=Ot}Kn();const Hn=new A1e(M,We);function st(Ie){Ie.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Sn(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const Ie=Ot.autoReset,Ut=$t.enabled,rn=$t.autoUpdate,Zt=$t.needsUpdate,un=$t.type;Kn(),Ot.autoReset=Ie,$t.enabled=Ut,$t.autoUpdate=rn,$t.needsUpdate=Zt,$t.type=un}function Dn(Ie){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Ie.statusMessage)}function Pr(Ie){const Ut=Ie.target;Ut.removeEventListener("dispose",Pr),function Qn(Ie){(function Gr(Ie){const Ut=ht.get(Ie).programs;void 0!==Ut&&(Ut.forEach(function(rn){tr.releaseProgram(rn)}),Ie.isShaderMaterial&&tr.releaseShaderCache(Ie))})(Ie),ht.remove(Ie)}(Ut)}this.xr=Hn,this.getContext=function(){return We},this.getContextAttributes=function(){return We.getContextAttributes()},this.forceContextLoss=function(){const Ie=It.get("WEBGL_lose_context");Ie&&Ie.loseContext()},this.forceContextRestore=function(){const Ie=It.get("WEBGL_lose_context");Ie&&Ie.restoreContext()},this.getPixelRatio=function(){return Ae},this.setPixelRatio=function(Ie){void 0!==Ie&&(Ae=Ie,this.setSize(fe,we,!1))},this.getSize=function(Ie){return Ie.set(fe,we)},this.setSize=function(Ie,Ut,rn){Hn.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(fe=Ie,we=Ut,e.width=Math.floor(Ie*Ae),e.height=Math.floor(Ut*Ae),!1!==rn&&(e.style.width=Ie+"px",e.style.height=Ut+"px"),this.setViewport(0,0,Ie,Ut))},this.getDrawingBufferSize=function(Ie){return Ie.set(fe*Ae,we*Ae).floor()},this.setDrawingBufferSize=function(Ie,Ut,rn){fe=Ie,we=Ut,Ae=rn,e.width=Math.floor(Ie*rn),e.height=Math.floor(Ut*rn),this.setViewport(0,0,Ie,Ut)},this.getCurrentViewport=function(Ie){return Ie.copy(se)},this.getViewport=function(Ie){return Ie.copy(Xe)},this.setViewport=function(Ie,Ut,rn,Zt){Ie.isVector4?Xe.set(Ie.x,Ie.y,Ie.z,Ie.w):Xe.set(Ie,Ut,rn,Zt),at.viewport(se.copy(Xe).multiplyScalar(Ae).floor())},this.getScissor=function(Ie){return Ie.copy(xt)},this.setScissor=function(Ie,Ut,rn,Zt){Ie.isVector4?xt.set(Ie.x,Ie.y,Ie.z,Ie.w):xt.set(Ie,Ut,rn,Zt),at.scissor(ge.copy(xt).multiplyScalar(Ae).floor())},this.getScissorTest=function(){return Le},this.setScissorTest=function(Ie){at.setScissorTest(Le=Ie)},this.setOpaqueSort=function(Ie){vt=Ie},this.setTransparentSort=function(Ie){pt=Ie},this.getClearColor=function(Ie){return Ie.copy(gn.getClearColor())},this.setClearColor=function(){gn.setClearColor.apply(gn,arguments)},this.getClearAlpha=function(){return gn.getClearAlpha()},this.setClearAlpha=function(){gn.setClearAlpha.apply(gn,arguments)},this.clear=function(Ie=!0,Ut=!0,rn=!0){let Zt=0;Ie&&(Zt|=16384),Ut&&(Zt|=256),rn&&(Zt|=1024),We.clear(Zt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",st,!1),e.removeEventListener("webglcontextrestored",Sn,!1),e.removeEventListener("webglcontextcreationerror",Dn,!1),Br.dispose(),Ve.dispose(),ht.dispose(),Ft.dispose(),_n.dispose(),Fn.dispose(),Sr.dispose(),tr.dispose(),Hn.dispose(),Hn.removeEventListener("sessionstart",Bi),Hn.removeEventListener("sessionend",Ei),Mt&&(Mt.dispose(),Mt=null),Jo.stop()},this.renderBufferDirect=function(Ie,Ut,rn,Zt,un,di){null===Ut&&(Ut=be);const Oi=un.isMesh&&un.matrixWorld.determinant()<0,Yi=function oh(Ie,Ut,rn,Zt,un){!0!==Ut.isScene&&(Ut=be),Tt.resetTextureUnits();const di=Ut.fog,Yi=null===U?M.outputEncoding:!0===U.isXRRenderTarget?U.texture.encoding:ib,Vi=(Zt.isMeshStandardMaterial?_n:Ft).get(Zt.envMap||(Zt.isMeshStandardMaterial?Ut.environment:null)),zo=!0===Zt.vertexColors&&!!rn.attributes.color&&4===rn.attributes.color.itemSize,mo=!!Zt.normalMap&&!!rn.attributes.tangent,wo=!!rn.morphAttributes.position,Cs=!!rn.morphAttributes.normal,sh=!!rn.morphAttributes.color,ah=Zt.toneMapped?M.toneMapping:0,lh=rn.morphAttributes.position||rn.morphAttributes.normal||rn.morphAttributes.color,_c=void 0!==lh?lh.length:0,Oo=ht.get(Zt),ou=g.state.lights;!0!==it||!0!==ot&&Ie===$||Ce.setState(Zt,Ie,Ie===$&&Zt.id===j);let Gs=!1;Zt.version===Oo.__version?(Oo.needsLights&&Oo.lightsStateVersion!==ou.state.version||Oo.outputEncoding!==Yi||un.isInstancedMesh&&!1===Oo.instancing||!un.isInstancedMesh&&!0===Oo.instancing||un.isSkinnedMesh&&!1===Oo.skinning||!un.isSkinnedMesh&&!0===Oo.skinning||Oo.envMap!==Vi||!0===Zt.fog&&Oo.fog!==di||void 0!==Oo.numClippingPlanes&&(Oo.numClippingPlanes!==Ce.numPlanes||Oo.numIntersection!==Ce.numIntersection)||Oo.vertexAlphas!==zo||Oo.vertexTangents!==mo||Oo.morphTargets!==wo||Oo.morphNormals!==Cs||Oo.morphColors!==sh||Oo.toneMapping!==ah||!0===Lt.isWebGL2&&Oo.morphTargetsCount!==_c)&&(Gs=!0):(Gs=!0,Oo.__version=Zt.version);let tf=Oo.currentProgram;!0===Gs&&(tf=rh(Zt,Ut,un));let Ti=!1,fR=!1,X6=!1;const zu=tf.getUniforms(),hR=Oo.uniforms;if(at.useProgram(tf.program)&&(Ti=!0,fR=!0,X6=!0),Zt.id!==j&&(j=Zt.id,fR=!0),Ti||$!==Ie){if(zu.setValue(We,"projectionMatrix",Ie.projectionMatrix),Lt.logarithmicDepthBuffer&&zu.setValue(We,"logDepthBufFC",2/(Math.log(Ie.far+1)/Math.LN2)),$!==Ie&&($=Ie,fR=!0,X6=!0),Zt.isShaderMaterial||Zt.isMeshPhongMaterial||Zt.isMeshToonMaterial||Zt.isMeshStandardMaterial||Zt.envMap){const dp=zu.map.cameraPosition;void 0!==dp&&dp.setValue(We,he.setFromMatrixPosition(Ie.matrixWorld))}(Zt.isMeshPhongMaterial||Zt.isMeshToonMaterial||Zt.isMeshLambertMaterial||Zt.isMeshBasicMaterial||Zt.isMeshStandardMaterial||Zt.isShaderMaterial)&&zu.setValue(We,"isOrthographic",!0===Ie.isOrthographicCamera),(Zt.isMeshPhongMaterial||Zt.isMeshToonMaterial||Zt.isMeshLambertMaterial||Zt.isMeshBasicMaterial||Zt.isMeshStandardMaterial||Zt.isShaderMaterial||Zt.isShadowMaterial||un.isSkinnedMesh)&&zu.setValue(We,"viewMatrix",Ie.matrixWorldInverse)}if(un.isSkinnedMesh){zu.setOptional(We,un,"bindMatrix"),zu.setOptional(We,un,"bindMatrixInverse");const dp=un.skeleton;dp&&(Lt.floatVertexTextures?(null===dp.boneTexture&&dp.computeBoneTexture(),zu.setValue(We,"boneTexture",dp.boneTexture,Tt),zu.setValue(We,"boneTextureSize",dp.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const K6=rn.morphAttributes;return(void 0!==K6.position||void 0!==K6.normal||void 0!==K6.color&&!0===Lt.isWebGL2)&&On.update(un,rn,Zt,tf),(fR||Oo.receiveShadow!==un.receiveShadow)&&(Oo.receiveShadow=un.receiveShadow,zu.setValue(We,"receiveShadow",un.receiveShadow)),fR&&(zu.setValue(We,"toneMappingExposure",M.toneMappingExposure),Oo.needsLights&&function Nx(Ie,Ut){Ie.ambientLightColor.needsUpdate=Ut,Ie.lightProbe.needsUpdate=Ut,Ie.directionalLights.needsUpdate=Ut,Ie.directionalLightShadows.needsUpdate=Ut,Ie.pointLights.needsUpdate=Ut,Ie.pointLightShadows.needsUpdate=Ut,Ie.spotLights.needsUpdate=Ut,Ie.spotLightShadows.needsUpdate=Ut,Ie.rectAreaLights.needsUpdate=Ut,Ie.hemisphereLights.needsUpdate=Ut}(hR,X6),di&&!0===Zt.fog&&jr.refreshFogUniforms(hR,di),jr.refreshMaterialUniforms(hR,Zt,Ae,we,Mt),Ok.upload(We,Oo.uniformsList,hR,Tt)),Zt.isShaderMaterial&&!0===Zt.uniformsNeedUpdate&&(Ok.upload(We,Oo.uniformsList,hR,Tt),Zt.uniformsNeedUpdate=!1),Zt.isSpriteMaterial&&zu.setValue(We,"center",un.center),zu.setValue(We,"modelViewMatrix",un.modelViewMatrix),zu.setValue(We,"normalMatrix",un.normalMatrix),zu.setValue(We,"modelMatrix",un.matrixWorld),tf}(Ie,Ut,rn,Zt,un);at.setMaterial(Zt,Oi);let Vi=rn.index;const zo=rn.attributes.position;if(null===Vi){if(void 0===zo||0===zo.count)return}else if(0===Vi.count)return;let mo=1;!0===Zt.wireframe&&(Vi=qn.getWireframeAttribute(rn),mo=2),Sr.setup(un,Zt,Yi,rn,Vi);let wo,Cs=Yn;null!==Vi&&(wo=fn.get(Vi),Cs=Dr,Cs.setIndex(wo));const sh=null!==Vi?Vi.count:zo.count,ah=rn.drawRange.start*mo,lh=rn.drawRange.count*mo,_c=null!==di?di.start*mo:0,Oo=null!==di?di.count*mo:1/0,ou=Math.max(ah,_c),Gs=Math.min(sh,ah+lh,_c+Oo)-1,tf=Math.max(0,Gs-ou+1);if(0!==tf){if(un.isMesh)!0===Zt.wireframe?(at.setLineWidth(Zt.wireframeLinewidth*ke()),Cs.setMode(1)):Cs.setMode(4);else if(un.isLine){let Ti=Zt.linewidth;void 0===Ti&&(Ti=1),at.setLineWidth(Ti*ke()),Cs.setMode(un.isLineSegments?1:un.isLineLoop?2:3)}else un.isPoints?Cs.setMode(0):un.isSprite&&Cs.setMode(4);if(un.isInstancedMesh)Cs.renderInstances(ou,tf,un.count);else if(rn.isInstancedBufferGeometry){const Ti=Math.min(rn.instanceCount,rn._maxInstanceCount);Cs.renderInstances(ou,tf,Ti)}else Cs.render(ou,tf)}},this.compile=function(Ie,Ut){g=Ve.get(Ie),g.init(),w.push(g),Ie.traverseVisible(function(rn){rn.isLight&&rn.layers.test(Ut.layers)&&(g.pushLight(rn),rn.castShadow&&g.pushShadow(rn))}),g.setupLights(M.physicallyCorrectLights),Ie.traverse(function(rn){const Zt=rn.material;if(Zt)if(Array.isArray(Zt))for(let un=0;un<Zt.length;un++)rh(Zt[un],Ie,rn);else rh(Zt,Ie,rn)}),w.pop(),g=null};let Bn=null;function Bi(){Jo.stop()}function Ei(){Jo.start()}const Jo=new Tq;function iu(Ie,Ut,rn,Zt){if(!1===Ie.visible)return;if(Ie.layers.test(Ut.layers))if(Ie.isGroup)rn=Ie.renderOrder;else if(Ie.isLOD)!0===Ie.autoUpdate&&Ie.update(Ut);else if(Ie.isLight)g.pushLight(Ie),Ie.castShadow&&g.pushShadow(Ie);else if(Ie.isSprite){if(!Ie.frustumCulled||Ze.intersectsSprite(Ie)){Zt&&he.setFromMatrixPosition(Ie.matrixWorld).applyMatrix4(J);const Oi=Fn.update(Ie),Yi=Ie.material;Yi.visible&&p.push(Ie,Oi,Yi,rn,he.z,null)}}else if((Ie.isMesh||Ie.isLine||Ie.isPoints)&&(Ie.isSkinnedMesh&&Ie.skeleton.frame!==Ot.render.frame&&(Ie.skeleton.update(),Ie.skeleton.frame=Ot.render.frame),!Ie.frustumCulled||Ze.intersectsObject(Ie))){Zt&&he.setFromMatrixPosition(Ie.matrixWorld).applyMatrix4(J);const Oi=Fn.update(Ie),Yi=Ie.material;if(Array.isArray(Yi)){const Vi=Oi.groups;for(let zo=0,mo=Vi.length;zo<mo;zo++){const wo=Vi[zo],Cs=Yi[wo.materialIndex];Cs&&Cs.visible&&p.push(Ie,Oi,Cs,rn,he.z,wo)}}else Yi.visible&&p.push(Ie,Oi,Yi,rn,he.z,null)}const di=Ie.children;for(let Oi=0,Yi=di.length;Oi<Yi;Oi++)iu(di[Oi],Ut,rn,Zt)}function cp(Ie,Ut,rn,Zt){const un=Ie.opaque,di=Ie.transmissive,Oi=Ie.transparent;g.setupLightsView(rn),di.length>0&&function Dw(Ie,Ut,rn){const Zt=Lt.isWebGL2;null===Mt&&(Mt=new lb(1,1,{generateMipmaps:!0,type:It.has("EXT_color_buffer_half_float")?vT:tb,minFilter:1008,samples:Zt&&!0===o?4:0})),M.getDrawingBufferSize(ee),Zt?Mt.setSize(ee.x,ee.y):Mt.setSize(ok(ee.x),ok(ee.y));const un=M.getRenderTarget();M.setRenderTarget(Mt),M.clear();const di=M.toneMapping;M.toneMapping=0,ig(Ie,Ut,rn),M.toneMapping=di,Tt.updateMultisampleRenderTarget(Mt),Tt.updateRenderTargetMipmap(Mt),M.setRenderTarget(un)}(un,Ut,rn),Zt&&at.viewport(se.copy(Zt)),un.length>0&&ig(un,Ut,rn),di.length>0&&ig(di,Ut,rn),Oi.length>0&&ig(Oi,Ut,rn),at.buffers.depth.setTest(!0),at.buffers.depth.setMask(!0),at.buffers.color.setMask(!0),at.setPolygonOffset(!1)}function ig(Ie,Ut,rn){const Zt=!0===Ut.isScene?Ut.overrideMaterial:null;for(let un=0,di=Ie.length;un<di;un++){const Oi=Ie[un],Yi=Oi.object,Vi=Oi.geometry,zo=null===Zt?Oi.material:Zt,mo=Oi.group;Yi.layers.test(rn.layers)&&nh(Yi,Ut,rn,Vi,zo,mo)}}function nh(Ie,Ut,rn,Zt,un,di){Ie.onBeforeRender(M,Ut,rn,Zt,un,di),Ie.modelViewMatrix.multiplyMatrices(rn.matrixWorldInverse,Ie.matrixWorld),Ie.normalMatrix.getNormalMatrix(Ie.modelViewMatrix),un.onBeforeRender(M,Ut,rn,Zt,Ie,di),!0===un.transparent&&2===un.side?(un.side=1,un.needsUpdate=!0,M.renderBufferDirect(rn,Ut,Zt,un,Ie,di),un.side=0,un.needsUpdate=!0,M.renderBufferDirect(rn,Ut,Zt,un,Ie,di),un.side=2):M.renderBufferDirect(rn,Ut,Zt,un,Ie,di),Ie.onAfterRender(M,Ut,rn,Zt,un,di)}function rh(Ie,Ut,rn){!0!==Ut.isScene&&(Ut=be);const Zt=ht.get(Ie),un=g.state.lights,Oi=un.state.version,Yi=tr.getParameters(Ie,un.state,g.state.shadowsArray,Ut,rn),Vi=tr.getProgramCacheKey(Yi);let zo=Zt.programs;Zt.environment=Ie.isMeshStandardMaterial?Ut.environment:null,Zt.fog=Ut.fog,Zt.envMap=(Ie.isMeshStandardMaterial?_n:Ft).get(Ie.envMap||Zt.environment),void 0===zo&&(Ie.addEventListener("dispose",Pr),zo=new Map,Zt.programs=zo);let mo=zo.get(Vi);if(void 0!==mo){if(Zt.currentProgram===mo&&Zt.lightsStateVersion===Oi)return ih(Ie,Yi),mo}else Yi.uniforms=tr.getUniforms(Ie),Ie.onBuild(rn,Yi,M),Ie.onBeforeCompile(Yi,M),mo=tr.acquireProgram(Yi,Vi),zo.set(Vi,mo),Zt.uniforms=Yi.uniforms;const wo=Zt.uniforms;(!Ie.isShaderMaterial&&!Ie.isRawShaderMaterial||!0===Ie.clipping)&&(wo.clippingPlanes=Ce.uniform),ih(Ie,Yi),Zt.needsLights=function ld(Ie){return Ie.isMeshLambertMaterial||Ie.isMeshToonMaterial||Ie.isMeshPhongMaterial||Ie.isMeshStandardMaterial||Ie.isShadowMaterial||Ie.isShaderMaterial&&!0===Ie.lights}(Ie),Zt.lightsStateVersion=Oi,Zt.needsLights&&(wo.ambientLightColor.value=un.state.ambient,wo.lightProbe.value=un.state.probe,wo.directionalLights.value=un.state.directional,wo.directionalLightShadows.value=un.state.directionalShadow,wo.spotLights.value=un.state.spot,wo.spotLightShadows.value=un.state.spotShadow,wo.rectAreaLights.value=un.state.rectArea,wo.ltc_1.value=un.state.rectAreaLTC1,wo.ltc_2.value=un.state.rectAreaLTC2,wo.pointLights.value=un.state.point,wo.pointLightShadows.value=un.state.pointShadow,wo.hemisphereLights.value=un.state.hemi,wo.directionalShadowMap.value=un.state.directionalShadowMap,wo.directionalShadowMatrix.value=un.state.directionalShadowMatrix,wo.spotShadowMap.value=un.state.spotShadowMap,wo.spotShadowMatrix.value=un.state.spotShadowMatrix,wo.pointShadowMap.value=un.state.pointShadowMap,wo.pointShadowMatrix.value=un.state.pointShadowMatrix);const Cs=mo.getUniforms(),sh=Ok.seqWithValue(Cs.seq,wo);return Zt.currentProgram=mo,Zt.uniformsList=sh,mo}function ih(Ie,Ut){const rn=ht.get(Ie);rn.outputEncoding=Ut.outputEncoding,rn.instancing=Ut.instancing,rn.skinning=Ut.skinning,rn.morphTargets=Ut.morphTargets,rn.morphNormals=Ut.morphNormals,rn.morphColors=Ut.morphColors,rn.morphTargetsCount=Ut.morphTargetsCount,rn.numClippingPlanes=Ut.numClippingPlanes,rn.numIntersection=Ut.numClipIntersection,rn.vertexAlphas=Ut.vertexAlphas,rn.vertexTangents=Ut.vertexTangents,rn.toneMapping=Ut.toneMapping}Jo.setAnimationLoop(function Zr(Ie){Bn&&Bn(Ie)}),"undefined"!=typeof self&&Jo.setContext(self),this.setAnimationLoop=function(Ie){Bn=Ie,Hn.setAnimationLoop(Ie),null===Ie?Jo.stop():Jo.start()},Hn.addEventListener("sessionstart",Bi),Hn.addEventListener("sessionend",Ei),this.render=function(Ie,Ut){if(void 0===Ut||!0===Ut.isCamera){if(!0!==C){if(!0===Ie.autoUpdate&&Ie.updateMatrixWorld(),null===Ut.parent&&Ut.updateMatrixWorld(),!0===Hn.enabled&&!0===Hn.isPresenting&&(!0===Hn.cameraAutoUpdate&&Hn.updateCamera(Ut),Ut=Hn.getCamera()),!0===Ie.isScene&&Ie.onBeforeRender(M,Ie,Ut,U),g=Ve.get(Ie,w.length),g.init(),w.push(g),J.multiplyMatrices(Ut.projectionMatrix,Ut.matrixWorldInverse),Ze.setFromProjectionMatrix(J),ot=this.localClippingEnabled,it=Ce.init(this.clippingPlanes,ot,Ut),p=Br.get(Ie,y.length),p.init(),y.push(p),iu(Ie,Ut,0,M.sortObjects),p.finish(),!0===M.sortObjects&&p.sort(vt,pt),!0===it&&Ce.beginShadows(),$t.render(g.state.shadowsArray,Ie,Ut),!0===it&&Ce.endShadows(),!0===this.info.autoReset&&this.info.reset(),gn.render(p,Ie),g.setupLights(M.physicallyCorrectLights),Ut.isArrayCamera){const Zt=Ut.cameras;for(let un=0,di=Zt.length;un<di;un++){const Oi=Zt[un];cp(p,Ie,Oi,Oi.viewport)}}else cp(p,Ie,Ut);null!==U&&(Tt.updateMultisampleRenderTarget(U),Tt.updateRenderTargetMipmap(U)),!0===Ie.isScene&&Ie.onAfterRender(M,Ie,Ut),Sr.resetDefaultState(),j=-1,$=null,w.pop(),g=w.length>0?w[w.length-1]:null,y.pop(),p=y.length>0?y[y.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return U},this.setRenderTargetTextures=function(Ie,Ut,rn){ht.get(Ie.texture).__webglTexture=Ut,ht.get(Ie.depthTexture).__webglTexture=rn;const Zt=ht.get(Ie);Zt.__hasExternalTextures=!0,Zt.__hasExternalTextures&&(Zt.__autoAllocateDepthBuffer=void 0===rn,Zt.__autoAllocateDepthBuffer||!0===It.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Zt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Ie,Ut){const rn=ht.get(Ie);rn.__webglFramebuffer=Ut,rn.__useDefaultFramebuffer=void 0===Ut},this.setRenderTarget=function(Ie,Ut=0,rn=0){U=Ie,I=Ut,B=rn;let Zt=!0;if(Ie){const Vi=ht.get(Ie);void 0!==Vi.__useDefaultFramebuffer?(at.bindFramebuffer(36160,null),Zt=!1):void 0===Vi.__webglFramebuffer?Tt.setupRenderTarget(Ie):Vi.__hasExternalTextures&&Tt.rebindTextures(Ie,ht.get(Ie.texture).__webglTexture,ht.get(Ie.depthTexture).__webglTexture)}let un=null,di=!1,Oi=!1;if(Ie){const Vi=Ie.texture;(Vi.isData3DTexture||Vi.isDataArrayTexture)&&(Oi=!0);const zo=ht.get(Ie).__webglFramebuffer;Ie.isWebGLCubeRenderTarget?(un=zo[Ut],di=!0):un=Lt.isWebGL2&&Ie.samples>0&&!1===Tt.useMultisampledRTT(Ie)?ht.get(Ie).__webglMultisampledFramebuffer:zo,se.copy(Ie.viewport),ge.copy(Ie.scissor),re=Ie.scissorTest}else se.copy(Xe).multiplyScalar(Ae).floor(),ge.copy(xt).multiplyScalar(Ae).floor(),re=Le;if(at.bindFramebuffer(36160,un)&&Lt.drawBuffers&&Zt&&at.drawBuffers(Ie,un),at.viewport(se),at.scissor(ge),at.setScissorTest(re),di){const Vi=ht.get(Ie.texture);We.framebufferTexture2D(36160,36064,34069+Ut,Vi.__webglTexture,rn)}else if(Oi){const Vi=ht.get(Ie.texture);We.framebufferTextureLayer(36160,36064,Vi.__webglTexture,rn||0,Ut||0)}j=-1},this.readRenderTargetPixels=function(Ie,Ut,rn,Zt,un,di,Oi){if(!Ie||!Ie.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Yi=ht.get(Ie).__webglFramebuffer;if(Ie.isWebGLCubeRenderTarget&&void 0!==Oi&&(Yi=Yi[Oi]),Yi){at.bindFramebuffer(36160,Yi);try{const Vi=Ie.texture,zo=Vi.format,mo=Vi.type;if(zo!==jf&&jt.convert(zo)!==We.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const wo=mo===vT&&(It.has("EXT_color_buffer_half_float")||Lt.isWebGL2&&It.has("EXT_color_buffer_float"));if(!(mo===tb||jt.convert(mo)===We.getParameter(35738)||mo===Rv&&(Lt.isWebGL2||It.has("OES_texture_float")||It.has("WEBGL_color_buffer_float"))||wo))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ut>=0&&Ut<=Ie.width-Zt&&rn>=0&&rn<=Ie.height-un&&We.readPixels(Ut,rn,Zt,un,jt.convert(zo),jt.convert(mo),di)}finally{const Vi=null!==U?ht.get(U).__webglFramebuffer:null;at.bindFramebuffer(36160,Vi)}}},this.copyFramebufferToTexture=function(Ie,Ut,rn=0){const Zt=Math.pow(2,-rn),un=Math.floor(Ut.image.width*Zt),di=Math.floor(Ut.image.height*Zt);Tt.setTexture2D(Ut,0),We.copyTexSubImage2D(3553,rn,0,0,Ie.x,Ie.y,un,di),at.unbindTexture()},this.copyTextureToTexture=function(Ie,Ut,rn,Zt=0){const un=Ut.image.width,di=Ut.image.height,Oi=jt.convert(rn.format),Yi=jt.convert(rn.type);Tt.setTexture2D(rn,0),We.pixelStorei(37440,rn.flipY),We.pixelStorei(37441,rn.premultiplyAlpha),We.pixelStorei(3317,rn.unpackAlignment),Ut.isDataTexture?We.texSubImage2D(3553,Zt,Ie.x,Ie.y,un,di,Oi,Yi,Ut.image.data):Ut.isCompressedTexture?We.compressedTexSubImage2D(3553,Zt,Ie.x,Ie.y,Ut.mipmaps[0].width,Ut.mipmaps[0].height,Oi,Ut.mipmaps[0].data):We.texSubImage2D(3553,Zt,Ie.x,Ie.y,Oi,Yi,Ut.image),0===Zt&&rn.generateMipmaps&&We.generateMipmap(3553),at.unbindTexture()},this.copyTextureToTexture3D=function(Ie,Ut,rn,Zt,un=0){if(M.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const di=Ie.max.x-Ie.min.x+1,Oi=Ie.max.y-Ie.min.y+1,Yi=Ie.max.z-Ie.min.z+1,Vi=jt.convert(Zt.format),zo=jt.convert(Zt.type);let mo;if(Zt.isData3DTexture)Tt.setTexture3D(Zt,0),mo=32879;else{if(!Zt.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Tt.setTexture2DArray(Zt,0),mo=35866}We.pixelStorei(37440,Zt.flipY),We.pixelStorei(37441,Zt.premultiplyAlpha),We.pixelStorei(3317,Zt.unpackAlignment);const wo=We.getParameter(3314),Cs=We.getParameter(32878),sh=We.getParameter(3316),ah=We.getParameter(3315),lh=We.getParameter(32877),_c=rn.isCompressedTexture?rn.mipmaps[0]:rn.image;We.pixelStorei(3314,_c.width),We.pixelStorei(32878,_c.height),We.pixelStorei(3316,Ie.min.x),We.pixelStorei(3315,Ie.min.y),We.pixelStorei(32877,Ie.min.z),rn.isDataTexture||rn.isData3DTexture?We.texSubImage3D(mo,un,Ut.x,Ut.y,Ut.z,di,Oi,Yi,Vi,zo,_c.data):rn.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),We.compressedTexSubImage3D(mo,un,Ut.x,Ut.y,Ut.z,di,Oi,Yi,Vi,_c.data)):We.texSubImage3D(mo,un,Ut.x,Ut.y,Ut.z,di,Oi,Yi,Vi,zo,_c),We.pixelStorei(3314,wo),We.pixelStorei(32878,Cs),We.pixelStorei(3316,sh),We.pixelStorei(3315,ah),We.pixelStorei(32877,lh),0===un&&Zt.generateMipmaps&&We.generateMipmap(mo),at.unbindTexture()},this.initTexture=function(Ie){Ie.isCubeTexture?Tt.setTextureCube(Ie,0):Ie.isData3DTexture?Tt.setTexture3D(Ie,0):Ie.isDataArrayTexture?Tt.setTexture2DArray(Ie,0):Tt.setTexture2D(Ie,0),at.unbindTexture()},this.resetState=function(){I=0,B=0,U=null,at.reset(),Sr.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class L1e extends rJ{}).prototype.isWebGL1Renderer=!0;class iJ extends Au{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}class pc extends aS{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Cr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _J=new Fe,bJ=new Fe,wJ=new eo,iV=new pk,Fk=new nS;class kT extends Au{constructor(e=new uo,t=new pc){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)_J.fromBufferAttribute(t,i-1),bJ.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=_J.distanceTo(bJ);e.setAttribute("lineDistance",new zr(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Fk.copy(r.boundingSphere),Fk.applyMatrix4(i),Fk.radius+=o,!1===e.ray.intersectsSphere(Fk))return;wJ.copy(i).invert(),iV.copy(e.ray).applyMatrix4(wJ);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,c=new Fe,f=new Fe,p=new Fe,g=new Fe,y=this.isLineSegments?2:1,w=r.index,C=r.attributes.position;if(null!==w)for(let U=Math.max(0,s.start),j=Math.min(w.count,s.start+s.count)-1;U<j;U+=y){const $=w.getX(U),se=w.getX(U+1);if(c.fromBufferAttribute(C,$),f.fromBufferAttribute(C,se),iV.distanceSqToSegment(c,f,g,p)>u)continue;g.applyMatrix4(this.matrixWorld);const re=e.ray.origin.distanceTo(g);re<e.near||re>e.far||t.push({distance:re,point:p.clone().applyMatrix4(this.matrixWorld),index:U,face:null,faceIndex:null,object:this})}else for(let U=Math.max(0,s.start),j=Math.min(C.count,s.start+s.count)-1;U<j;U+=y){if(c.fromBufferAttribute(C,U),f.fromBufferAttribute(C,U+1),iV.distanceSqToSegment(c,f,g,p)>u)continue;g.applyMatrix4(this.matrixWorld);const se=e.ray.origin.distanceTo(g);se<e.near||se>e.far||t.push({distance:se,point:p.clone().applyMatrix4(this.matrixWorld),index:U,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}const MJ=new Fe,SJ=new Fe;class Hk extends kT{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)MJ.fromBufferAttribute(t,i),SJ.fromBufferAttribute(t,i+1),r[i]=0===i?0:r[i-1],r[i+1]=r[i]+MJ.distanceTo(SJ);e.setAttribute("lineDistance",new zr(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}const $k=new Fe,Xk=new Fe,hV=new Fe,Kk=new Xf;class kJ extends uo{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const i=Math.pow(10,4),o=Math.cos(sb*t),s=e.getIndex(),a=e.getAttribute("position"),u=s?s.count:a.count,c=[0,0,0],f=["a","b","c"],p=new Array(3),g={},y=[];for(let w=0;w<u;w+=3){s?(c[0]=s.getX(w),c[1]=s.getX(w+1),c[2]=s.getX(w+2)):(c[0]=w,c[1]=w+1,c[2]=w+2);const{a:M,b:C,c:I}=Kk;if(M.fromBufferAttribute(a,c[0]),C.fromBufferAttribute(a,c[1]),I.fromBufferAttribute(a,c[2]),Kk.getNormal(hV),p[0]=`${Math.round(M.x*i)},${Math.round(M.y*i)},${Math.round(M.z*i)}`,p[1]=`${Math.round(C.x*i)},${Math.round(C.y*i)},${Math.round(C.z*i)}`,p[2]=`${Math.round(I.x*i)},${Math.round(I.y*i)},${Math.round(I.z*i)}`,p[0]!==p[1]&&p[1]!==p[2]&&p[2]!==p[0])for(let B=0;B<3;B++){const U=(B+1)%3,j=p[B],$=p[U],se=Kk[f[B]],ge=Kk[f[U]],re=`${j}_${$}`,fe=`${$}_${j}`;fe in g&&g[fe]?(hV.dot(g[fe].normal)<=o&&(y.push(se.x,se.y,se.z),y.push(ge.x,ge.y,ge.z)),g[fe]=null):re in g||(g[re]={index0:c[B],index1:c[U],normal:hV.clone()})}}for(const w in g)if(g[w]){const{index0:M,index1:C}=g[w];$k.fromBufferAttribute(a,M),Xk.fromBufferAttribute(a,C),y.push($k.x,$k.y,$k.z),y.push(Xk.x,Xk.y,Xk.z)}this.setAttribute("position",new zr(y,3))}}}const Ys={arraySlice:function(n,e,t){return Ys.isTypedArray(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(function e(i,o){return n[i]-n[o]}),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let o=0,s=0;s!==r;++o){const a=t[o]*e;for(let u=0;u!==e;++u)i[s++]=n[a+u]}return i},flattenJSON:function(n,e,t,r){let i=1,o=n[0];for(;void 0!==o&&void 0===o[r];)o=n[i++];if(void 0===o)return;let s=o[r];if(void 0!==s)if(Array.isArray(s))do{s=o[r],void 0!==s&&(e.push(o.time),t.push.apply(t,s)),o=n[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[r],void 0!==s&&(e.push(o.time),s.toArray(t,t.length)),o=n[i++]}while(void 0!==o);else do{s=o[r],void 0!==s&&(e.push(o.time),t.push(s)),o=n[i++]}while(void 0!==o)},subclip:function(n,e,t,r,i=30){const o=n.clone();o.name=e;const s=[];for(let u=0;u<o.tracks.length;++u){const c=o.tracks[u],f=c.getValueSize(),p=[],g=[];for(let y=0;y<c.times.length;++y){const w=c.times[y]*i;if(!(w<t||w>=r)){p.push(c.times[y]);for(let M=0;M<f;++M)g.push(c.values[y*f+M])}}0!==p.length&&(c.times=Ys.convertArray(p,c.times.constructor),c.values=Ys.convertArray(g,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let u=0;u<o.tracks.length;++u)a>o.tracks[u].times[0]&&(a=o.tracks[u].times[0]);for(let u=0;u<o.tracks.length;++u)o.tracks[u].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=t.tracks[s],u=a.ValueTypeName;if("bool"===u||"string"===u)continue;const c=n.tracks.find(function(I){return I.name===a.name&&I.ValueTypeName===u});if(void 0===c)continue;let f=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);let g=0;const y=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);const w=a.times.length-1;let M;if(o<=a.times[0])M=Ys.arraySlice(a.values,f,p-f);else if(o>=a.times[w]){const I=w*p+f;M=Ys.arraySlice(a.values,I,I+p-f)}else{const I=a.createInterpolant(),B=f,U=p-f;I.evaluate(o),M=Ys.arraySlice(I.resultBuffer,B,U)}"quaternion"===u&&(new Zc).fromArray(M).normalize().conjugate().toArray(M);const C=c.times.length;for(let I=0;I<C;++I){const B=I*y+g;if("quaternion"===u)Zc.multiplyQuaternionsFlat(c.values,B,M,0,c.values,B);else{const U=y-2*g;for(let j=0;j<U;++j)c.values[B+j]-=M[j]}}}return n.blendMode=2501,n}};class aL{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(void 0===i){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=t[++r],e<i)break t}s=t.length;break n}if(e>=o)break e;{const a=t[1];e<a&&(r=2,o=a);for(let u=r-2;;){if(void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(i=o,o=t[--r-1],e>=o)break t}s=r,r=0}}for(;r<s;){const a=r+s>>>1;e<t[a]?s=a:r=a+1}if(i=t[r],o=t[r-1],void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=r[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class kRe extends aL{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],u=i[s];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:o=e,a=2*t-r;break;case 2402:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=r}if(void 0===u)switch(this.getSettings_().endingEnd){case 2401:s=e,u=2*r-t;break;case 2402:s=1,u=r+i[1]-i[0];break;default:s=e-1,u=t}const c=.5*(r-t),f=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(u-r),this._offsetPrev=o*f,this._offsetNext=s*f}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,f=this._offsetPrev,p=this._offsetNext,g=this._weightPrev,y=this._weightNext,w=(r-t)/(i-t),M=w*w,C=M*w,I=-g*C+2*g*M-g*w,B=(1+g)*C+(-1.5-2*g)*M+(-.5+g)*w+1,U=(-1-y)*C+(1.5+y)*M+.5*w,j=y*C-y*M;for(let $=0;$!==a;++$)o[$]=I*s[f+$]+B*s[c+$]+U*s[u+$]+j*s[p+$];return o}}class zJ extends aL{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,f=(r-t)/(i-t),p=1-f;for(let g=0;g!==a;++g)o[g]=s[c+g]*p+s[u+g]*f;return o}}class LRe extends aL{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Gh{constructor(e,t,r,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ys.convertArray(t,this.TimeBufferType),this.values=Ys.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Ys.convertArray(e.times,Array),values:Ys.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new LRe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zJ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new kRe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;-1!==s&&r[s]>t;)--s;if(++s,0!==o||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=Ys.arraySlice(r,o,s),this.values=Ys.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const u=r[a];if("number"==typeof u&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(null!==s&&s>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,s),e=!1;break}s=u}if(void 0!==i&&Ys.isTypedArray(i))for(let a=0,u=i.length;a!==u;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Ys.arraySlice(this.times),t=Ys.arraySlice(this.values),r=this.getValueSize(),i=2302===this.getInterpolation(),o=e.length-1;let s=1;for(let a=1;a<o;++a){let u=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(i)u=!0;else{const p=a*r,g=p-r,y=p+r;for(let w=0;w!==r;++w){const M=t[p+w];if(M!==t[g+w]||M!==t[y+w]){u=!0;break}}}if(u){if(a!==s){e[s]=e[a];const p=a*r,g=s*r;for(let y=0;y!==r;++y)t[g+y]=t[p+y]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,u=s*r,c=0;c!==r;++c)t[u+c]=t[a+c];++s}return s!==e.length?(this.times=Ys.arraySlice(e,0,s),this.values=Ys.arraySlice(t,0,s*r)):(this.times=e,this.values=t),this}clone(){const e=Ys.arraySlice(this.times,0),t=Ys.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Gh.prototype.TimeBufferType=Float32Array,Gh.prototype.ValueBufferType=Float32Array,Gh.prototype.DefaultInterpolation=2301;class CS extends Gh{}CS.prototype.ValueTypeName="bool",CS.prototype.ValueBufferType=Array,CS.prototype.DefaultInterpolation=2300,CS.prototype.InterpolantFactoryMethodLinear=void 0,CS.prototype.InterpolantFactoryMethodSmooth=void 0;(class UJ extends Gh{}).prototype.ValueTypeName="color";(class lL extends Gh{}).prototype.ValueTypeName="number";class IRe extends aL{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=(r-t)/(i-t);let c=e*a;for(let f=c+a;c!==f;c+=4)Zc.slerpFlat(o,0,s,c-a,s,c,u);return o}}class zT extends Gh{InterpolantFactoryMethodLinear(e){return new IRe(this.times,this.values,this.getValueSize(),e)}}zT.prototype.ValueTypeName="quaternion",zT.prototype.DefaultInterpolation=2301,zT.prototype.InterpolantFactoryMethodSmooth=void 0;class ES extends Gh{}ES.prototype.ValueTypeName="string",ES.prototype.ValueBufferType=Array,ES.prototype.DefaultInterpolation=2300,ES.prototype.InterpolantFactoryMethodLinear=void 0,ES.prototype.InterpolantFactoryMethodSmooth=void 0;(class uL extends Gh{}).prototype.ValueTypeName="vector";new class jJ{constructor(e,t,r){const i=this;let u,o=!1,s=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(f){a++,!1===o&&void 0!==i.onStart&&i.onStart(f,s,a),o=!0},this.itemEnd=function(f){s++,void 0!==i.onProgress&&i.onProgress(f,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(f){void 0!==i.onError&&i.onError(f)},this.resolveURL=function(f){return u?u(f):f},this.setURLModifier=function(f){return u=f,this},this.addHandler=function(f,p){return c.push(f,p),this},this.removeHandler=function(f){const p=c.indexOf(f);return-1!==p&&c.splice(p,2),this},this.getHandler=function(f){for(let p=0,g=c.length;p<g;p+=2){const y=c[p],w=c[p+1];if(y.global&&(y.lastIndex=0),y.test(f))return w}return null}}};class HRe extends Au{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Cr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class XJ extends HRe{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}const yV="\\[\\]\\.:\\/",nDe=new RegExp("["+yV+"]","g"),_V="[^"+yV+"]",rDe="[^"+yV.replace("\\.","")+"]",lDe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",_V)+/(WCOD+)?/.source.replace("WCOD",rDe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_V)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_V)+"$"),uDe=["material","materials","bones"];class cDe{constructor(e,t,r){const i=r||Is.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}let Is=(()=>{class n{constructor(t,r,i){this.path=r,this.parsedPath=i||n.parseTrackName(r),this.node=n.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,i){return t&&t.isAnimationObjectGroup?new n.Composite(t,r,i):new n(t,r,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(nDe,"")}static parseTrackName(t){const r=lDe.exec(t);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},o=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==o&&-1!==o){const s=i.nodeName.substring(o+1);-1!==uDe.indexOf(s)&&(i.nodeName=i.nodeName.substring(0,o),i.objectName=s)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(r);if(void 0!==i)return i}if(t.children){const i=function(s){for(let a=0;a<s.length;a++){const u=s[a];if(u.name===r||u.uuid===r)return u;const c=i(u.children);if(c)return c}return null},o=i(t.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)t[r++]=i[o]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,i=r.objectName,o=r.propertyName;let s=r.propertyIndex;if(t||(t=n.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(i){let f=r.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let p=0;p<t.length;p++)if(t[p].name===f){f=p;break}break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==f){if(void 0===t[f])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[f]}}const a=t[o];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+o+" but it wasn't found.",t);let u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==s){if("morphTargetInfluences"===o){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[s]&&(s=t.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=cDe,n})();Is.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Is.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Is.prototype.GetterByBindingType=[Is.prototype._getValue_direct,Is.prototype._getValue_array,Is.prototype._getValue_arrayElement,Is.prototype._getValue_toArray],Is.prototype.SetterByBindingTypeAndVersioning=[[Is.prototype._setValue_direct,Is.prototype._setValue_direct_setNeedsUpdate,Is.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Is.prototype._setValue_array,Is.prototype._setValue_array_setNeedsUpdate,Is.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Is.prototype._setValue_arrayElement,Is.prototype._setValue_arrayElement_setNeedsUpdate,Is.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Is.prototype._setValue_fromArray,Is.prototype._setValue_fromArray_setNeedsUpdate,Is.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];function bDe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(r[u]=0,r[256|u]=32768,i[u]=24,i[256|u]=24):c<-14?(r[u]=1024>>-c-14,r[256|u]=1024>>-c-14|32768,i[u]=-c-1,i[256|u]=-c-1):c<=15?(r[u]=c+15<<10,r[256|u]=c+15<<10|32768,i[u]=13,i[256|u]=13):c<128?(r[u]=31744,r[256|u]=64512,i[u]=24,i[256|u]=24):(r[u]=31744,r[256|u]=64512,i[u]=13,i[256|u]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,f=0;for(;0==(8388608&c);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,o[u]=c|f}for(let u=1024;u<2048;++u)o[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)32!==u&&(a[u]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"142"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="142");var SDe=b(4722);let SV=(()=>{class n{constructor(){this.aspectRatio=0,this.Width=0,this.Height=0,this.scene=new iJ,this.scene.background=new Cr(16777215),this.render=this.render.bind(this)}OnInit(t,r,i,o,s){this.aspectRatio=t,this.Width=o,this.Height=s,this.createCamera(t,o,s),this.add(new XJ(15790320)),this.createRender(r,i,o,s),this.addControls()}createHelper(){}addControls(){this.controls=new SDe.OrbitControls(this.camera,this.renderer.domElement),this.controls.addEventListener("change",this.render),this.controls.target.set(0,10,0),this.controls.update()}createCamera(t,r,i){t=null===t?this.aspectRatio:t,r=null===r?this.Width:r,i=null===i?this.Height:i,void 0!==this.scene.getObjectByName("camera")&&this.scene.remove(this.camera),this.camera=new Rk(-r/50,r/50,i/50,-i/50,-1e3,1e3),this.camera.position.set(10,-5,5),this.camera.name="camera",this.scene.add(this.camera)}createRender(t,r,i,o){this.renderer=new rJ({preserveDrawingBuffer:!0,canvas:t,alpha:!0,antialias:!0}),this.renderer.setPixelRatio(r),this.renderer.setSize(i,o),this.renderer.shadowMap.enabled=!0}onResize(t,r,i){this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(t),this.renderer.setSize(r,i),this.render()}render(){this.renderer.render(this.scene,this.camera)}getBoundingClientRect(){return this.renderer.domElement.getBoundingClientRect()}add(...t){for(const r of t)this.scene.add(r)}remove(...t){for(const r of t)this.scene.remove(r)}removeByName(...t){for(const r of t){const i=this.scene.getObjectByName(r);void 0!==i&&this.scene.remove(i)}}getSettingJson(){return{camera:{x:this.camera.position.x,y:this.camera.position.y,z:this.camera.position.z}}}clear(){for(;this.scene.children.length>0;)this.scene.remove(this.scene.children[0]);this.createHelper()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kf=(()=>{class n{constructor(){this.slab={b1:4.25,b2:4.25,b3:.6,i1:.02,i2:.02,SH:.55,T1:.2,T2:.35,n:3,Ss:1.025},this.beam={amount_V:4,W:1.7,D:.31,tw:.028,tf:.024},this.mid={A:.075,B:.075,H:1.24,t:.009,s:.0745,s_in:.16,s_out:.16,dz:.3},this.cross={W2:.12,D3:.18,tf2:.012,tw2:.012,s_edge:.2,s_middle:.2},this.crossbeam={W3:1.28,D4:.25,tf3:.012,tw3:.012,location2:[3],s_edge2:0,s_middle2:0},this.endbeam={D5:.25,tf4:.012,tw4:.012,s_edge3:0,s_middle3:0},this.gusset01={A:.31,B:.49,C:.49,D:.15,t:.009},this.gusset02={A:.23,B:.25,C:.12,D:.15,t:.009,dx:.1},this.gusset03={A:.34,B:.29,C:.1,D:.34,t:.009,dx:.1},this.others={s_BP:.4,s_EP:.4,L:33,amount_H:6},this.ProjectName="\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d",this.Name1="\u6a4b\u6881",this.Name2="\u4e0a\u90e8\u69cb\u9020",this.Name3="\u4e3b\u6841"}palam(){return{slab:this.slab,beam:this.beam,mid:this.mid,cross:this.cross,crossbeam:this.crossbeam,endbeam:this.endbeam,gusset01:this.gusset01,gusset02:this.gusset02,gusset03:this.gusset03,others:this.others}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vQ{parse(e){let t="",r=0,i=0,o=0;const s=new Fe,a=new Cr,u=new Fe,c=new xn,f=[];return e.traverse(function(w){!0===w.isMesh&&function p(w){let M=0,C=0,I=0;const B=w.geometry,U=new fc;if(!0!==B.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const j=B.getAttribute("position"),$=B.getAttribute("normal"),se=B.getAttribute("uv"),ge=B.getIndex();if(t+="o "+w.name+"\n",w.material&&w.material.name&&(t+="usemtl "+w.material.name+"\n"),void 0!==j)for(let re=0,fe=j.count;re<fe;re++,M++)s.fromBufferAttribute(j,re),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z+"\n";if(void 0!==se)for(let re=0,fe=se.count;re<fe;re++,I++)c.fromBufferAttribute(se,re),t+="vt "+c.x+" "+c.y+"\n";if(void 0!==$){U.getNormalMatrix(w.matrixWorld);for(let re=0,fe=$.count;re<fe;re++,C++)u.fromBufferAttribute($,re),u.applyMatrix3(U).normalize(),t+="vn "+u.x+" "+u.y+" "+u.z+"\n"}if(null!==ge)for(let re=0,fe=ge.count;re<fe;re+=3){for(let we=0;we<3;we++){const Ae=ge.getX(re+we)+1;f[we]=r+Ae+($||se?"/"+(se?i+Ae:"")+($?"/"+(o+Ae):""):"")}t+="f "+f.join(" ")+"\n"}else for(let re=0,fe=j.count;re<fe;re+=3){for(let we=0;we<3;we++){const Ae=re+we+1;f[we]=r+Ae+($||se?"/"+(se?i+Ae:"")+($?"/"+(o+Ae):""):"")}t+="f "+f.join(" ")+"\n"}r+=M,i+=I,o+=C}(w),!0===w.isLine&&function g(w){let M=0;const C=w.geometry,I=w.type;if(!0!==C.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const B=C.getAttribute("position");if(t+="o "+w.name+"\n",void 0!==B)for(let U=0,j=B.count;U<j;U++,M++)s.fromBufferAttribute(B,U),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z+"\n";if("Line"===I){t+="l ";for(let U=1,j=B.count;U<=j;U++)t+=r+U+" ";t+="\n"}if("LineSegments"===I)for(let U=1,j=U+1,$=B.count;U<$;U+=2,j=U+1)t+="l "+(r+U)+" "+(r+j)+"\n";r+=M}(w),!0===w.isPoints&&function y(w){let M=0;const C=w.geometry;if(!0!==C.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const I=C.getAttribute("position"),B=C.getAttribute("color");if(t+="o "+w.name+"\n",void 0!==I){for(let U=0,j=I.count;U<j;U++,M++)s.fromBufferAttribute(I,U),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z,void 0!==B&&(a.fromBufferAttribute(B,U).convertLinearToSRGB(),t+=" "+a.r+" "+a.g+" "+a.b),t+="\n";t+="p ";for(let U=1,j=I.count;U<=j;U++)t+=r+U+" ";t+="\n"}r+=M}(w)}),t}}var yQ=b(5226);let jv=(()=>{class n{constructor(){}PolyData(t,r){const i=[];for(let f of t)i.push(new Fe(f[r[1]],f[r[2]],f[r[3]]));const o=(new uo).setFromPoints(i),s=new Iv({transparent:!0,side:2,color:8359839,opacity:.7}),a=new hc(o,s),u=new kJ(o),c=new Hk(u,new pc({color:0}));return a.add(c),a}degrees(t){return t*(180/Math.PI)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jT=(()=>{class n{constructor(t){this.pv=t}CreateBeam(t,r,i,o,s,a){const u=a[0],c=a[1],f=a[2],p=s/2,g=r/2,y=i/2,w=y+o,M=[u-p,c,f-y],C=[u-g,c,f-y],I=[u-g,c,f-w],B=[u+g,c,f-w],U=[u+g,c,f-y],j=[u+p,c,f-y],$=[u+p,c,f+y],se=[u+g,c,f+y],ge=[u+g,c,f+w],re=[u-g,c,f+w],fe=[u-g,c,f+y],we=[u-p,c,f+y],Ae=[u-p,c+t,f-y],vt=[u-g,c+t,f-y],pt=[u-g,c+t,f-w],Xe=[u+g,c+t,f-w],xt=[u+g,c+t,f-y],Le=[u+p,c+t,f-y],Ze=[u+p,c+t,f+y],it=[u+g,c+t,f+y],ot=[u+g,c+t,f+w],Mt=[u-g,c+t,f+w],J=[u-g,c+t,f+y],ee=[u-p,c+t,f+y],be=[C,I,vt],ke=[I,B,pt],We=[B,U,Xe],yt=[U,j,xt],It=[j,$,Le],Lt=[$,se,Ze],at=[se,ge,it],Ot=[ge,re,ot],ht=[re,fe,Mt],Tt=[fe,we,J],Ft=[we,M,ee],_n=[vt,Ae,C],fn=[pt,vt,I],qn=[Xe,pt,B],Fn=[xt,Xe,U],tr=[Le,xt,j],jr=[Ze,Le,$],Br=[it,Ze,se],Ve=[ot,it,ge],Ce=[Mt,ot,re],$t=[J,Mt,fe],gn=[ee,J,we],On=[Ae,ee,M],Yn=this.pv.PolyData([M,C,Ae],[3,0,1,2]),Dr=this.pv.PolyData(be,[3,0,1,2]),jt=this.pv.PolyData(ke,[3,0,1,2]),Sr=this.pv.PolyData(We,[3,0,1,2]),Kn=this.pv.PolyData(yt,[3,0,1,2]),Hn=this.pv.PolyData(It,[3,0,1,2]),st=this.pv.PolyData(Lt,[3,0,1,2]),Sn=this.pv.PolyData(at,[3,0,1,2]),Dn=this.pv.PolyData(Ot,[3,0,1,2]),Pr=this.pv.PolyData(ht,[3,0,1,2]),Qn=this.pv.PolyData(Tt,[3,0,1,2]),Gr=this.pv.PolyData(Ft,[3,0,1,2]),Bn=this.pv.PolyData(_n,[3,0,1,2]),Zr=this.pv.PolyData(fn,[3,0,1,2]),Bi=this.pv.PolyData(qn,[3,0,1,2]),Ei=this.pv.PolyData(Fn,[3,0,1,2]),Jo=this.pv.PolyData(tr,[3,0,1,2]),iu=this.pv.PolyData(jr,[3,0,1,2]),cp=this.pv.PolyData(Br,[3,0,1,2]),Dw=this.pv.PolyData(Ve,[3,0,1,2]),ig=this.pv.PolyData(Ce,[3,0,1,2]),nh=this.pv.PolyData($t,[3,0,1,2]),rh=this.pv.PolyData(gn,[3,0,1,2]),ih=this.pv.PolyData(On,[3,0,1,2]),Nx=[C,B,U],ld=[M,j,$],Ie=[M,$,we],Ut=[se,ge,re],rn=[se,re,fe],Zt=[vt,pt,Xe],un=[vt,Xe,xt],di=[Ae,Le,Ze],Oi=[Ae,Ze,ee],Yi=[it,ot,Mt],Vi=[it,Mt,J],zo=this.pv.PolyData([C,I,B],[3,0,1,2]),mo=this.pv.PolyData(Nx,[3,0,1,2]),wo=this.pv.PolyData(ld,[3,0,1,2]),Cs=this.pv.PolyData(Ie,[3,0,1,2]),sh=this.pv.PolyData(Ut,[3,0,1,2]),ah=this.pv.PolyData(rn,[3,0,1,2]),lh=this.pv.PolyData(Zt,[3,0,1,2]),_c=this.pv.PolyData(un,[3,0,1,2]),Oo=this.pv.PolyData(di,[3,0,1,2]),ou=this.pv.PolyData(Oi,[3,0,1,2]),Gs=this.pv.PolyData(Yi,[3,0,1,2]),tf=this.pv.PolyData(Vi,[3,0,1,2]),Ti=new ls;return Ti.add(Yn),Ti.add(Dr),Ti.add(jt),Ti.add(Sr),Ti.add(Kn),Ti.add(Hn),Ti.add(st),Ti.add(Sn),Ti.add(Dn),Ti.add(Pr),Ti.add(Qn),Ti.add(Gr),Ti.add(Bn),Ti.add(Zr),Ti.add(Bi),Ti.add(Ei),Ti.add(Jo),Ti.add(iu),Ti.add(cp),Ti.add(Dw),Ti.add(ig),Ti.add(nh),Ti.add(rh),Ti.add(ih),Ti.add(zo),Ti.add(mo),Ti.add(wo),Ti.add(Cs),Ti.add(sh),Ti.add(ah),Ti.add(lh),Ti.add(_c),Ti.add(Oo),Ti.add(ou),Ti.add(Gs),Ti.add(tf),Ti}}return n.\u0275fac=function(t){return new(t||n)(wt(jv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xDe=(()=>{class n{constructor(t){this.Hsteel=t}Array(t,r,i,o,s,a,u,c,f){const p=[];let g=-(c-1)*f/2;const y=-(a+u)/2,w=i/2+o;for(let C=0;C<c;C++)p.push([g,y,w]),g+=f;const M=new ls;for(let C=0;C<c;C++){const I=this.Hsteel.CreateBeam(t,r,i,o,s,p[C]);I.name="Hsteel-01-"+String(C),M.add(I)}return M}}return n.\u0275fac=function(t){return new(t||n)(wt(jT))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RS=(()=>{class n{constructor(){}rotate(t,r,i,o,s){new Fe(r[0],r[1],r[2]);const u=Math.floor(i),c=Math.floor(o),f=Math.floor(s);return t.clone().rotateX(u*Math.PI/180).rotateY(c*Math.PI/180).rotateZ(f*Math.PI/180)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wv=(()=>{class n{constructor(){}MoveObject(t,r){const i=new Fe(r[0],r[1],r[2]),o=t.clone();return o.position.set(i.x,i.y,i.z),o}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CDe=(()=>{class n{constructor(t,r,i){this.Hsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,f,p,g,y){const w=f-1,M=g-(s+a),C=g-2*a,B=-C/2;let U=r/2+i;const j=this.Hsteel.CreateBeam(M,t,r,i,o,[0,-M/2,U]),$=this.Hsteel.CreateBeam(C,t,r,i,o,[0,B,U]),se=a-s,ge=this.Rotate.rotate(j,[0,0,0],0,0,90),re=this.Move.MoveObject(ge,[-se,0,0]),fe=this.Move.MoveObject(ge,[se,0,0]),we=this.Rotate.rotate($,[0,0,0],0,0,90),Ae=(w-1)*g/2;let vt=0;U=u;const pt=[];for(let Le=0;Le<c;Le++){const Ze=this.Move.MoveObject(re,[-Ae,vt,U]),it=this.Move.MoveObject(fe,[Ae,vt,U]);let ot=-Ae+g;pt.push(Ze),pt.push(it);for(let Mt=0;Mt<w-2;Mt++){const J=this.Move.MoveObject(we,[ot,vt,U]);pt.push(J),ot+=g}vt+=p}const Xe=new ls;let xt=0;for(let Le=0;Le<y.length;Le++){let Ze=y[Le]*w;for(let it=0;it<w;it++){const ot=pt[Ze];ot.name="Cr_"+String(xt),Xe.add(ot),Ze+=1,xt+=1}}return Xe}}return n.\u0275fac=function(t){return new(t||n)(wt(jT),wt(RS),wt(Wv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EDe=(()=>{class n{constructor(t,r,i,o){this.pv=t,this.Hsteel=r,this.Rotate=i,this.Move=o}Array_V(t,r,i,o,s,a,u,c,f,p,g){const y=Math.sqrt(Math.pow(c/2,2)+Math.pow(f,2))-(s+a),C=this.Hsteel.CreateBeam(y,t,r,i,o,[0,-y/2,r/2+i]),I=s-a;let B=c/4,U=3*c/4;const j=this.Move.MoveObject(C,[I,B,p]),$=this.Move.MoveObject(C,[I,U,p]);let se=Math.round(10*this.pv.degrees(Math.atan(f/(c/2))))/10;se*=1==g?1:-1;const ge=this.Rotate.rotate(j,[0,B,p],0,0,-se),re=this.Rotate.rotate($,[0,U,p],0,0,se),fe=[];fe.push(ge),fe.push(re);const we=new ls;let Ae=0;1==g&&(Ae+=2*(u-1));for(let vt=0;vt<u-1;vt++){const pt=this.Move.MoveObject(fe[0],[I,B,p]);pt.name="Lu_"+String(Ae),we.add(pt);const Xe=this.Move.MoveObject(fe[1],[I,U,p]);we.add(Xe),Xe.name="Lu_"+String(Ae+1),B+=c,U+=c,Ae+=2}return we}Array(t,r,i,o,s,a,u,c,f,p,g,y){const w=this.Array_V(t,r,i,o,s,a,u,f,p,g,!1),M=this.Array_V(t,r,i,o,s,a,u,f,p,g,!0);let C=p/2*(c-2);1==y&&(C*=-1);const I=this.Move.MoveObject(w,[-C,0,0]),B=this.Move.MoveObject(M,[C,0,0]),U=new ls;return U.add(I,B),U}}return n.\u0275fac=function(t){return new(t||n)(wt(jv),wt(jT),wt(RS),wt(Wv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TDe=(()=>{class n{constructor(t,r,i,o){this.pv=t,this.Hsteel=r,this.Rotate=i,this.Move=o}Array_V(t,r,i,o,s,a,u,c,f,p,g){const y=Math.sqrt(Math.pow(c/2,2)+Math.pow(f,2))-(s+a),C=this.Hsteel.CreateBeam(y,t,r,i,o,[0,-y/2,r/2+i]),I=s-a;let B=c/4,U=3*c/4;const j=this.Move.MoveObject(C,[I,B,p]),$=this.Move.MoveObject(C,[I,U,p]);let se=Math.round(10*this.pv.degrees(Math.atan(f/(c/2))))/10;se*=1==g?1:-1;const ge=this.Rotate.rotate(j,[0,B,p],0,0,-se),re=this.Rotate.rotate($,[0,U,p],0,0,se),fe=[];fe.push(ge),fe.push(re);const we=new ls;let Ae=0;1==g&&(Ae+=2*(u-1));for(let vt=0;vt<u-1;vt++){const pt=this.Move.MoveObject(fe[0],[I,B,p]);pt.name="Ll_"+String(Ae),we.add(pt);const Xe=this.Move.MoveObject(fe[1],[I,U,p]);we.add(Xe),Xe.name="Ll_"+String(Ae+1),B+=c,U+=c,Ae+=2}return we}Array(t,r,i,o,s,a,u,c,f,p,g,y){const w=this.Array_V(t,r,i,o,s,a,u,f,p,g,!1),M=this.Array_V(t,r,i,o,s,a,u,f,p,g,!0);let C=p/2*(c-2);1==y&&(C*=-1);const I=this.Move.MoveObject(w,[-C,0,0]),B=this.Move.MoveObject(M,[C,0,0]),U=new ls;return U.add(I,B),U}}return n.\u0275fac=function(t){return new(t||n)(wt(jv),wt(jT),wt(RS),wt(Wv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RDe=(()=>{class n{constructor(t,r,i){this.Hsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,f,p){const g=f-1,y=p-(s+a),w=p-2*a,C=-w/2;let I=r/2+i;const B=this.Hsteel.CreateBeam(y,t,r,i,o,[0,-y/2,I]),U=this.Hsteel.CreateBeam(w,t,r,i,o,[0,C,I]),j=a-s,$=this.Rotate.rotate(B,[0,0,0],0,0,90),se=this.Move.MoveObject($,[-j,0,0]),ge=this.Move.MoveObject($,[j,0,0]),re=this.Rotate.rotate(U,[0,0,0],0,0,90),fe=(g-1)*p/2;I=u;let we=0,Ae=0;const vt=new ls;for(let pt=0;pt<2;pt++){const Xe=this.Move.MoveObject(se,[-fe,we,I]);Xe.name="Cu_"+String(Ae);const xt=this.Move.MoveObject(ge,[fe,we,I]);xt.name="Cu_"+String(Ae+1),vt.add(Xe,xt);let Le=Ae+2,Ze=-fe+p;for(let it=0;it<g-2;it++){const ot=this.Move.MoveObject(re,[Ze,we,I]);ot.name="Cu_"+String(Le),vt.add(ot),Ze+=p,Le+=1}Ae+=g,we+=c}return vt}}return n.\u0275fac=function(t){return new(t||n)(wt(jT),wt(RS),wt(Wv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DDe=(()=>{class n{constructor(t,r,i){this.pv=t,this.Rotate=r,this.Move=i}Create_Lsteel_R(t,r,i,o){const s=[],a=new ls;s.push([[0,0,0],[r,0,0],[r,i,0],[i,i,0],[i,t,0],[0,t,0]]),s.push([[0,0,o],[r,0,o],[r,i,o],[i,i,o],[i,t,o],[0,t,o]]);for(let ee=0;ee<s.length-1;ee++){const he=s[ee],be=s[ee+1],ke=he.concat();ke.splice(0,1),ke.push(he[0]);const We=be.concat();We.splice(0,1),We.push(be[0]);for(let yt=0;yt<he.length;yt++){const Lt=[be[yt],We[yt],ke[yt]],at=this.pv.PolyData([he[yt],ke[yt],be[yt]],[3,0,1,2]),Ot=this.pv.PolyData(Lt,[3,0,1,2]);a.add(Ot,at)}}const j=s[0],$=s[s.length-1],ge=[j[0],j[2],j[3]],re=[j[0],j[3],j[4]],fe=[j[0],j[4],j[5]],we=[$[0],$[1],$[2]],Ae=[$[0],$[2],$[3]],vt=[$[0],$[3],$[4]],pt=[$[0],$[4],$[5]],Xe=this.pv.PolyData([j[0],j[1],j[2]],[3,0,1,2]),xt=this.pv.PolyData(ge,[3,0,1,2]),Le=this.pv.PolyData(re,[3,0,1,2]),Ze=this.pv.PolyData(fe,[3,0,1,2]),it=this.pv.PolyData(we,[3,0,1,2]),ot=this.pv.PolyData(Ae,[3,0,1,2]),Mt=this.pv.PolyData(vt,[3,0,1,2]),J=this.pv.PolyData(pt,[3,0,1,2]);return a.add(Xe,xt,Le,Ze,it,ot,Mt,J),a}Create_Lsteel_L(t,r,i,o){const s=[],a=new ls;s.push([[0,0,0],[-r,0,0],[-r,i,0],[-i,i,0],[-i,t,0],[0,t,0]]),s.push([[0,0,o],[-r,0,o],[-r,i,o],[-i,i,o],[-i,t,o],[0,t,o]]);for(let ee=0;ee<s.length-1;ee++){const he=s[ee],be=s[ee+1],ke=he.concat();ke.splice(0,1),ke.push(he[0]);const We=be.concat();We.splice(0,1),We.push(be[0]);for(let yt=0;yt<he.length;yt++){const Lt=[be[yt],We[yt],ke[yt]],at=this.pv.PolyData([he[yt],ke[yt],be[yt]],[3,0,1,2]),Ot=this.pv.PolyData(Lt,[3,0,1,2]);a.add(at,Ot)}}const j=s[0],$=s[s.length-1],ge=[j[0],j[2],j[3]],re=[j[0],j[3],j[4]],fe=[j[0],j[4],j[5]],we=[$[0],$[1],$[2]],Ae=[$[0],$[2],$[3]],vt=[$[0],$[3],$[4]],pt=[$[0],$[4],$[5]],Xe=this.pv.PolyData([j[0],j[1],j[2]],[3,0,1,2]),xt=this.pv.PolyData(ge,[3,0,1,2]),Le=this.pv.PolyData(re,[3,0,1,2]),Ze=this.pv.PolyData(fe,[3,0,1,2]),it=this.pv.PolyData(we,[3,0,1,2]),ot=this.pv.PolyData(Ae,[3,0,1,2]),Mt=this.pv.PolyData(vt,[3,0,1,2]),J=this.pv.PolyData(pt,[3,0,1,2]);return a.add(Xe,xt,Le,Ze,it,ot,Mt,J),a}exchange(t,r,i){const o=this.Rotate.rotate(t,[0,0,0],0,r,0);return this.Move.MoveObject(o,i)}add_LSteel_R(t,r,i,o,s,a,u,c,f){const p=Math.sqrt(Math.pow(o,2)+Math.pow(s,2))-(a+u),g=a*s/(p+a+u),y=a*o/(p+a+u)+c+f,w=this.Create_Lsteel_R(t,r,i,p),M=Math.round(10*this.pv.degrees(Math.atan(s/o)))/10;return this.exchange(w,M,[g,0,y])}add_LSteel_L(t,r,i,o,s,a,u,c,f){const p=Math.sqrt(Math.pow(o,2)+Math.pow(s,2))-(a+u),g=-a*s/(p+a+u),y=a*o/(p+a+u)+c+f,w=this.Create_Lsteel_L(t,r,i,p),M=-Math.round(10*this.pv.degrees(Math.atan(s/o)))/10;return this.exchange(w,M,[g,0,y])}add_LSteel_T(t,r,i,o,s,a,u,c){const f=2*a-2*o,p=f/2,g=s+u+c,y=this.Create_Lsteel_L(t,r,i,f);return this.exchange(y,-90,[p,0,g])}add_LSteel_D(t,r,i,o,s,a,u){const c=2*s-2*o,f=c/2,p=a+u,g=this.Create_Lsteel_L(t,r,i,c);return this.exchange(g,90,[-f,0,p])}add_LSteel(t,r,i,o,s,a,u,c,f,p,g,y,w,M,C,I,B,U,j){const $=this.add_LSteel_R(t,r,i,w,M,I,B,U,j),se=this.add_LSteel_L(o,s,a,w,M,I,B,U,j),ge=this.add_LSteel_T(u,c,f,C,w,M,U,j),re=this.add_LSteel_D(p,g,y,C,M,U,j),fe=[];return fe.push(se,$,ge,re),fe}}return n.\u0275fac=function(t){return new(t||n)(wt(jv),wt(RS),wt(Wv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ADe=(()=>{class n{constructor(t,r,i){this.Lsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,f,p,g,y,w,M,C,I,B,U,j,$,se,ge,re,fe){const we=this.Lsteel.add_LSteel(t,r,i,o,s,a,u,c,f,p,g,y,w,M,C,I,B,U,j),Ae=[],vt=[],pt=[],Xe=[],xt=[],Le=[],Ze=[],it=[],ot=Math.sqrt(Math.pow(w,2)+Math.pow(M,2))-(I+B);let Mt=0;const J=I*w/(ot+I+B)+U+j;for(let at=0;at<$;at++){let Ot=I*M/(ot+I+B)-(se-2)*re/2;for(let ht=0;ht<se-1;ht++)Ae.push([Ot,Mt,J]),Ot+=re;Mt+=ge}for(let at=0;at<fe.length;at++){let Ot=fe[at]*(se-1);for(let ht=0;ht<se-1;ht++)xt.push(Ae[Ot]),Ot+=1}let ee=0;const he=I*w/(ot+I+B)+U+j;for(let at=0;at<$;at++){let Ot=-I*M/(ot+I+B)-(se-2)*re/2;for(let ht=0;ht<se-1;ht++)vt.push([Ot,ee,he]),Ot+=re;ee+=ge}for(let at=0;at<fe.length;at++){let Ot=fe[at]*(se-1);for(let ht=0;ht<se-1;ht++)Le.push(vt[Ot]),Ot+=1}const be=2*M-2*C;let ke=0;const We=w+U+j;for(let at=0;at<$;at++){let Ot=be/2-(se-2)*re/2;for(let ht=0;ht<se-1;ht++)pt.push([Ot,ke,We]),Ot+=re;ke+=ge}for(let at=0;at<fe.length;at++){let Ot=fe[at]*(se-1);for(let ht=0;ht<se-1;ht++)Ze.push(pt[Ot]),Ot+=1}let yt=0;const It=U+j;for(let at=0;at<$;at++){let Ot=-be/2-(se-2)*re/2;for(let ht=0;ht<se-1;ht++)Xe.push([Ot,yt,It]),Ot+=re;yt+=ge}for(let at=0;at<fe.length;at++){let Ot=fe[at]*(se-1);for(let ht=0;ht<se-1;ht++)it.push(Xe[Ot]),Ot+=1}const Lt=new ls;for(let at=0;at<xt.length;at++){const Ot=this.Move.MoveObject(we[0],Le[at]);Ot.name="Cfl_"+String(at),Lt.add(Ot);const ht=this.Move.MoveObject(we[1],xt[at]);ht.name="Cfr_"+String(at),Lt.add(ht);const Tt=this.Move.MoveObject(we[2],Ze[at]);Tt.name="Cft_"+String(at),Lt.add(Tt);const Ft=this.Move.MoveObject(we[3],it[at]);Ft.name="Cfd_"+String(at),Lt.add(Ft)}return Lt}}return n.\u0275fac=function(t){return new(t||n)(wt(DDe),wt(RS),wt(Wv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ODe=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a){const u=[],c=new ls,f=a[0],p=a[1],g=a[2],y=f-i/2,w=f-r/2,M=f+r/2,C=f+i/2,B=p-s,U=g,j=g+o,$=g+t,se=[f,p,g],ge=[y,p,U],re=[y,p,j],fe=[w,p,$],we=[M,p,$],Ae=[C,p,j],vt=[C,p,U];u.push([se,ge,re,fe,we,Ae,vt]);const pt=[f,B,g],Xe=[y,B,U],xt=[y,B,j],Le=[w,B,$],Ze=[M,B,$],it=[C,B,j],ot=[C,B,U];u.push([pt,Xe,xt,Le,Ze,it,ot]);for(let jr=0;jr<u.length-1;jr++){const Br=u[jr],Ve=u[jr+1],Ce=Br.concat();Ce.splice(0,1),Ce.push(Br[0]);const $t=Ve.concat();$t.splice(0,1),$t.push(Ve[0]);for(let gn=0;gn<Br.length;gn++){const Yn=[Ve[gn],$t[gn],Ce[gn]],Dr=this.pv.PolyData([Br[gn],Ce[gn],Ve[gn]],[3,0,1,2]),jt=this.pv.PolyData(Yn,[3,0,1,2]);c.add(Dr,jt)}}const J=[se,re,fe],ee=[se,fe,we],he=[se,we,Ae],be=[se,Ae,vt],ke=[pt,Xe,xt],We=[pt,xt,Le],yt=[pt,Le,Ze],It=[pt,Ze,it],Lt=[pt,it,ot],at=this.pv.PolyData([se,ge,re],[3,0,1,2]),Ot=this.pv.PolyData(J,[3,0,1,2]),ht=this.pv.PolyData(ee,[3,0,1,2]),Tt=this.pv.PolyData(he,[3,0,1,2]),Ft=this.pv.PolyData(be,[3,0,1,2]),_n=this.pv.PolyData(ke,[3,0,1,2]),fn=this.pv.PolyData(We,[3,0,1,2]),qn=this.pv.PolyData(yt,[3,0,1,2]),Fn=this.pv.PolyData(It,[3,0,1,2]),tr=this.pv.PolyData(Lt,[3,0,1,2]);return c.add(at,Ot,ht,Tt,Ft,_n,fn,qn,Fn,tr),c}}return n.\u0275fac=function(t){return new(t||n)(wt(jv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kDe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,f,p,g,y){const w=[],M=[];let C=0;const I=a+u,B=new ls;for(let U=0;U<c;U++){let j=-g/2*(f-2);for(let $=0;$<f-1;$++)w.push([j,C,I]),j+=g;C+=p}for(let U=0;U<y.length;U++){let j=y[U]*(f-1);for(let $=0;$<f-1;$++)M.push(w[j]),j+=1}for(let U=0;U<M.length;U++){const j=this.Gusset.CreateGusset(t,r,i,o,s,M[U]);j.name="PL1-"+String(U),B.add(j)}return B}}return n.\u0275fac=function(t){return new(t||n)(wt(ODe))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LDe=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a,u){const c=[],f=new ls,p=a[0],g=a[1],y=a[2];let w=1;!0===u&&(w*=-1);const M=p,C=p+i*w,I=p+r*w,U=g-s,j=y+t,$=y+o,se=y,ge=[M,g,se],re=[M,g,j],fe=[C,g,j],we=[I,g,$],Ae=[I,g,se];c.push([ge,re,fe,we,Ae]);const vt=[M,U,se],pt=[M,U,j],Xe=[C,U,j],xt=[I,U,$],Le=[I,U,se];c.push([vt,pt,Xe,xt,Le]);for(let Lt=0;Lt<c.length-1;Lt++){const at=c[Lt],Ot=c[Lt+1],ht=at.concat();ht.splice(0,1),ht.push(at[0]);const Tt=Ot.concat();Tt.splice(0,1),Tt.push(Ot[0]);for(let Ft=0;Ft<at.length;Ft++){const fn=[Ot[Ft],Tt[Ft],ht[Ft]],qn=this.pv.PolyData([at[Ft],ht[Ft],Ot[Ft]],[3,0,1,2]),Fn=this.pv.PolyData(fn,[3,0,1,2]);f.add(qn,Fn)}}const it=[ge,fe,we],ot=[ge,we,Ae],Mt=[vt,pt,Xe],J=[vt,Xe,xt],ee=[vt,xt,Le],he=this.pv.PolyData([ge,re,fe],[3,0,1,2]),be=this.pv.PolyData(it,[3,0,1,2]),ke=this.pv.PolyData(ot,[3,0,1,2]),We=this.pv.PolyData(Mt,[3,0,1,2]),yt=this.pv.PolyData(J,[3,0,1,2]),It=this.pv.PolyData(ee,[3,0,1,2]);return f.add(he,be,ke,We,yt,It),f}}return n.\u0275fac=function(t){return new(t||n)(wt(jv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IDe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,f,p,g,y,w){const M=[],C=[],I=[],B=[];let U=0;const j=a+c,$=new ls;for(let ge=0;ge<f;ge++){let re=-y/2*(p-1)+u;for(let fe=0;fe<p-1;fe++)M.push([re,U,j]),re+=y;U+=g}for(let ge=0;ge<w.length;ge++){let re=w[ge]*(p-1);for(let fe=0;fe<p-1;fe++)C.push(M[re]),re+=1}U=0;for(let ge=0;ge<f;ge++){let re=-y/2*(p-3)-u;for(let fe=0;fe<p-1;fe++)I.push([re,U,j]),re+=y;U+=g}for(let ge=0;ge<w.length;ge++){let re=w[ge]*(p-1);for(let fe=0;fe<p-1;fe++)B.push(I[re]),re+=1}let se=0;for(let ge=0;ge<C.length;ge++){const re=this.Gusset.CreateGusset(t,r,i,o,s,C[ge],!1);re.name="PL2-"+String(se);const fe=this.Gusset.CreateGusset(t,r,i,o,s,B[ge],!0);fe.name="PL2-"+String(se+1),$.add(re),$.add(fe),se+=2}return $}}return n.\u0275fac=function(t){return new(t||n)(wt(LDe))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PDe=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a,u){const c=[],f=new ls,p=a[0],g=a[1],y=a[2];let w=1;!0===u&&(w*=-1);const M=p+r*w,C=p+i*w,I=p,U=g-s,j=y,$=y-o,se=y-t,ge=[I,g,j],re=[M,g,j],fe=[M,g,$],we=[C,g,se],Ae=[I,g,se];c.push([ge,re,fe,we,Ae]);const vt=[I,U,j],pt=[M,U,j],Xe=[M,U,$],xt=[C,U,se],Le=[I,U,se];c.push([vt,pt,Xe,xt,Le]);for(let Lt=0;Lt<c.length-1;Lt++){const at=c[Lt],Ot=c[Lt+1],ht=at.concat();ht.splice(0,1),ht.push(at[0]);const Tt=Ot.concat();Tt.splice(0,1),Tt.push(Ot[0]);for(let Ft=0;Ft<at.length;Ft++){const fn=[Ot[Ft],Tt[Ft],ht[Ft]],qn=this.pv.PolyData([at[Ft],ht[Ft],Ot[Ft]],[3,0,1,2]),Fn=this.pv.PolyData(fn,[3,0,1,2]);f.add(qn,Fn)}}const it=[ge,fe,we],ot=[ge,we,Ae],Mt=[vt,pt,Xe],J=[vt,Xe,xt],ee=[vt,xt,Le],he=this.pv.PolyData([ge,re,fe],[3,0,1,2]),be=this.pv.PolyData(it,[3,0,1,2]),ke=this.pv.PolyData(ot,[3,0,1,2]),We=this.pv.PolyData(Mt,[3,0,1,2]),yt=this.pv.PolyData(J,[3,0,1,2]),It=this.pv.PolyData(ee,[3,0,1,2]);return f.add(he,be,ke,We,yt,It),f}}return n.\u0275fac=function(t){return new(t||n)(wt(jv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NDe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,f,p,g,y,w,M){const C=[],I=[],B=[],U=[];let j=0;const $=a+c+f,se=new ls;for(let re=0;re<p;re++){let fe=-w/2*(g-1)+u;for(let we=0;we<g-1;we++)C.push([fe,j,$]),fe+=w;j+=y}for(let re=0;re<M.length;re++){let fe=M[re]*(g-1);for(let we=0;we<g-1;we++)I.push(C[fe]),fe+=1}j=0;for(let re=0;re<p;re++){let fe=-w/2*(g-3)-u;for(let we=0;we<g-1;we++)B.push([fe,j,$]),fe+=w;j+=y}for(let re=0;re<M.length;re++){let fe=M[re]*(g-1);for(let we=0;we<g-1;we++)U.push(B[fe]),fe+=1}let ge=0;for(let re=0;re<I.length;re++){const fe=this.Gusset.CreateGusset(t,r,i,o,s,I[re],!1);fe.name="PL3-"+String(ge);const we=this.Gusset.CreateGusset(t,r,i,o,s,U[re],!0);we.name="PL3-"+String(ge+1),se.add(fe),se.add(we),ge+=2}return se}}return n.\u0275fac=function(t){return new(t||n)(wt(PDe))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FDe=(()=>{class n{constructor(t,r){this.pv=t,this.Move=r}selection(t,r,i,o,s,a,u,c,f,p,g,y){const w=y[0],M=y[1],C=y[2],B=-(t+i),U=r+i,$=B+(p-g/2),se=U-(p-g/2),ge=$+g,re=se-g,fe=-t*o,Ae=fe-(u-i*o),pt=-c,ot=w+-t,Mt=w+B,J=w+U,ee=w+r,at=C+(fe+(a-u-i*o)),Ot=C+Ae,Tt=C+pt;return[[w,M,C],[ot,M,C+fe],[ot,M,at],[Mt,M,at],[Mt,M,Ot],[w+$,M,Tt],[w+ge,M,Tt],[w+(ge+(Ae-pt+(p-g/2+g)*o)/(1/f-o)),M,C+(pt+(Ae-pt+(p-g/2+g)*o)/(1/f-o)/f)],[w,M,C+-u],[w+(re-(Ae-pt+(p-g/2+g)*s)/(1/f-s)),M,C+(pt+(Ae-pt+(p-g/2+g)*s)/(1/f-s)/f)],[w+re,M,Tt],[w+se,M,Tt],[J,M,Ot],[J,M,at],[ee,M,at],[ee,M,C+-r*s]]}createSlab(t,r,i,o,s,a,u,c,f,p,g,y){const C=[this.selection(t,r,i,o,s,a,u,c,f,p,g,[0,0,0]),this.selection(t,r,i,o,s,a,u,c,f,p,g,[0,y,0])],I=new ls;for(let Tt=0;Tt<C.length-1;Tt++){const Ft=C[Tt],_n=C[Tt+1],fn=Ft.concat();fn.splice(0,1),fn.push(Ft[0]);const qn=_n.concat();qn.splice(0,1),qn.push(_n[0]);for(let Fn=0;Fn<Ft.length;Fn++){const jr=[_n[Fn],qn[Fn],fn[Fn]],Br=this.pv.PolyData([Ft[Fn],fn[Fn],_n[Fn]],[3,0,1,2]),Ve=this.pv.PolyData(jr,[3,0,1,2]);I.add(Br,Ve)}}const B=C[0],j=[B[1],B[2],B[3]],$=[B[1],B[3],B[4]],se=[B[1],B[4],B[5]],ge=[B[1],B[5],B[6]],re=[B[1],B[6],B[7]],fe=[B[1],B[7],B[8]],we=[B[0],B[8],B[15]],Ae=[B[8],B[9],B[15]],vt=[B[9],B[10],B[15]],pt=[B[10],B[11],B[15]],Xe=[B[11],B[12],B[15]],xt=[B[12],B[13],B[15]],Le=[B[13],B[14],B[15]],Ze=this.pv.PolyData([B[0],B[1],B[8]],[3,0,1,2]),it=this.pv.PolyData(j,[3,0,1,2]),ot=this.pv.PolyData($,[3,0,1,2]),Mt=this.pv.PolyData(se,[3,0,1,2]),J=this.pv.PolyData(ge,[3,0,1,2]),ee=this.pv.PolyData(re,[3,0,1,2]),he=this.pv.PolyData(fe,[3,0,1,2]),be=this.pv.PolyData(we,[3,0,1,2]),ke=this.pv.PolyData(Ae,[3,0,1,2]),We=this.pv.PolyData(vt,[3,0,1,2]),yt=this.pv.PolyData(pt,[3,0,1,2]),It=this.pv.PolyData(Xe,[3,0,1,2]),Lt=this.pv.PolyData(xt,[3,0,1,2]),at=this.pv.PolyData(Le,[3,0,1,2]),Ot=new ls;Ot.add(Ze,it,ot,Mt,J,ee,he,be,ke,We,yt,It,Lt,at);const ht=this.Move.MoveObject(Ot,[0,y,0]);return I.add(Ot,ht),I}createHunch(t,r,i,o,s){const a=r-t,u=i/2,c=u+o*a,f=[-u,0,0],p=[-c,0,a],g=[c,0,a],y=[u,0,0],w=[-u,s,0],M=[-c,s,a],C=[c,s,a],I=[u,s,0],U=[f,g,y],j=[w,M,C],$=[w,C,I],se=this.pv.PolyData([f,p,g],[3,0,1,2]),ge=this.pv.PolyData(U,[3,0,1,2]),re=this.pv.PolyData(j,[3,0,1,2]),fe=this.pv.PolyData($,[3,0,1,2]),we=new ls;we.add(se,ge,re,fe);const Ae=[[f,p,g,y],[w,M,C,I]];for(let vt=0;vt<Ae.length-1;vt++){const pt=Ae[vt],Xe=Ae[vt+1],xt=pt.concat();xt.splice(0,1),xt.push(pt[0]);const Le=Xe.concat();Le.splice(0,1),Le.push(Xe[0]);for(let Ze=0;Ze<pt.length;Ze++){const ot=[Xe[Ze],Le[Ze],xt[Ze]],Mt=this.pv.PolyData([pt[Ze],xt[Ze],Xe[Ze]],[3,0,1,2]),J=this.pv.PolyData(ot,[3,0,1,2]);we.add(Mt,J)}}return we}add_Slab(t,r,i,o,s,a,u,c,f,p,g,y,w,M){const C=this.createSlab(t,r,i,o,s,a,u,c,f,p,g,y),I=new ls;I.add(C);const B=this.createHunch(u,c,g,f,y);let U=M/2*-(w-3);const j=-c;for(let $=0;$<w-2;$++){const se=this.Move.MoveObject(B,[U,0,j]);I.add(se),U+=M}return I}}return n.\u0275fac=function(t){return new(t||n)(wt(jv),wt(Wv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ud=(()=>{class n{constructor(t,r,i,o,s,a,u,c,f,p,g,y){this.scene=t,this.ArrayH1=r,this.ArrayH2=i,this.ArrayH3_u=o,this.ArrayH3_l=s,this.ArrayH4=a,this.ArrayL=u,this.ArrayG1=c,this.ArrayG2=f,this.ArrayG3=p,this.AddSlab=g,this.Move=y,this.Exporter=new vQ}createGirder(t){this.scene.clear();const r=t.slab,i=r.b1,o=r.b2,s=r.b3,a=r.i1,u=r.i2,c=r.SH,f=r.T1,p=r.T2,g=r.n,y=r.Ss,M=t.beam,C=M.amount_V,I=M.W,B=M.D,U=M.tw,j=M.tf,$=(i+o+2*s-2*y)/(C-1),se=t.mid,ge=se.A,re=se.B,fe=se.t,we=se.A,Ae=se.B,vt=se.t,pt=se.A,Xe=se.B,xt=se.t,Le=se.A,Ze=se.B,it=se.t,ot=se.H,Mt=se.s,J=$/2-Mt,ee=se.s_in,he=se.s_out,be=se.dz,ke=t.cross,We=ke.W2,yt=ke.D3,It=ke.tf2,Lt=ke.tw2,at=ke.s_edge,Ot=ke.s_middle,ht=be+ot+j-(We+2*It),Tt=t.crossbeam,Ft=Tt.W3,_n=Tt.D4,fn=Tt.tf3,qn=Tt.tw3,Fn=Tt.location2,tr=Tt.s_edge2,jr=Tt.s_middle2,Br=t.endbeam,Ve=Br.D5,Ce=Br.tf4,$t=Br.tw4,gn=I+j-be,On=Br.s_edge3,Yn=Br.s_middle3,Dr=t.gusset01,jt=Dr.A,Sr=Dr.B,Kn=Dr.C,Hn=Dr.D,st=Dr.t,Sn=t.gusset02,Dn=Sn.A,Pr=Sn.B,Qn=Sn.C,Gr=Sn.D,Bn=Sn.t,Zr=Sn.dx,Bi=t.gusset03,Ei=Bi.A,Jo=Bi.B,iu=Bi.C,cp=Bi.D,Dw=Bi.t,nh=t.others,rh=nh.s_BP,ih=nh.s_EP,oh=nh.L,Nx=oh+(rh+ih),ld=nh.amount_H,Ie=oh/(ld-1),Ut=2*j+I+p,rn=(rh+ih)/2,Zt=new Array;for(let ou=0;ou<ld;ou++)Zt.push(ou);let un=Zt;for(let ou=0;ou<Fn.length;ou++)un=un.filter(Gs=>Gs!==Fn[ou]);un.shift(),un.pop();const di=this.ArrayH1.Array(Nx,B,I,j,U,rh,ih,C,$),Oi=this.ArrayL.Array(ge,re,fe,we,Ae,vt,pt,Xe,xt,Le,Ze,it,ot,J,Mt,ee,he,be,j,ld,C,Ie,$,un),Yi=this.ArrayH3_u.Array(yt,We,It,Lt,at,Ot,ld,C,Ie,$,be,!1),Vi=this.ArrayH3_l.Array(yt,We,It,Lt,at,Ot,ld,C,Ie,$,ht,!0),zo=this.ArrayH2.Array(_n,Ft,fn,qn,tr,jr,be,ld,C,Ie,$,Fn),mo=this.ArrayH4.Array(Ve,gn,Ce,$t,On,Yn,be,oh,C,$),wo=this.ArrayG1.Array(jt,Sr,Kn,Hn,st,be,j,ld,C,Ie,$,un),Cs=this.ArrayG2.Array(Dn,Pr,Qn,Gr,Bn,be,Zr,j,ld,C,Ie,$,un),sh=this.ArrayG3.Array(Ei,Jo,iu,cp,Dw,be,Zr,j,ot,ld,C,Ie,$,un),ah=this.AddSlab.add_Slab(i,o,s,a,u,c,f,p,g,y,B,Nx,C,$);ah.name="Slab";const lh=new ls;lh.add(di,Yi,Vi,Oi,zo,mo,wo,Cs,sh);const _c=this.Move.MoveObject(lh,[0,rn,-Ut]),Oo=new ls;Oo.add(ah,_c),this.scene.add(Oo),this.scene.render()}download(){const t=this.Exporter.parse(this.scene.scene),r=new window.Blob([t],{type:"text/plain"});yQ.saveAs(r,"test.obj")}}return n.\u0275fac=function(t){return new(t||n)(wt(SV),wt(xDe),wt(CDe),wt(EDe),wt(TDe),wt(RDe),wt(ADe),wt(kDe),wt(IDe),wt(NDe),wt(FDe),wt(Wv))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HDe=["myCanvas"];let BDe=(()=>{class n{constructor(t,r,i,o){this.ngZone=t,this.scene=r,this.plam=i,this.model=o,Au.DefaultUp.set(0,0,1)}get canvas(){return this.canvasRef.nativeElement}ngAfterViewInit(){this.scene.OnInit(window.devicePixelRatio,this.canvas,devicePixelRatio,window.innerWidth,window.innerHeight),this.animate(),this.model.createGirder(this.plam.palam())}ngOnDestroy(){}animate(){this.ngZone.runOutsideAngular(()=>{window.addEventListener("DOMContentLoaded",()=>{this.scene.render()})})}onMouseDown(t){}onMouseUp(t){}onMouseMove(t){}onResize(t){this.scene.onResize(window.devicePixelRatio,window.innerWidth,window.innerHeight)}}return n.\u0275fac=function(t){return new(t||n)(De(xi),De(SV),De(Kf),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-three"]],viewQuery:function(t,r){if(1&t&&Eu(HDe,7),2&t){let i;_o(i=bo())&&(r.canvasRef=i.first)}},hostBindings:function(t,r){1&t&&nt("mousedown",function(o){return r.onMouseDown(o)})("mouseup",function(o){return r.onMouseUp(o)})("mousemove",function(o){return r.onMouseMove(o)})("resize",function(o){return r.onResize(o)},!1,Ef)},decls:2,vars:0,consts:[["id","myCanvas",3,"mousedown","mouseup","mousemove"],["myCanvas",""]],template:function(t,r){1&t&&(G(0,"canvas",0,1),nt("mousedown",function(o){return r.onMouseDown(o)})("mouseup",function(o){return r.onMouseUp(o)})("mousemove",function(o){return r.onMouseMove(o)}),ne())},styles:["canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0}"]}),n})();function _Q(n,e){return e?t=>zE(e.pipe(Qa(1),function VDe(){return Un((n,e)=>{n.subscribe(kn(e,K))})}()),t.pipe(_Q(n))):Uo((t,r)=>n(t,r).pipe(Qa(1),R$(t)))}function bQ(n,e=OO){const t=kK(n,e);return _Q(()=>t)}const zDe=["mat-menu-item",""];function UDe(n,e){1&n&&(os(),G(0,"svg",2),ie(1,"polygon",3),ne())}const wQ=["*"];function jDe(n,e){if(1&n){const t=_e();G(0,"div",0),nt("keydown",function(i){return bd(t),Wl(Kt()._handleKeydown(i))})("click",function(){return bd(t),Wl(Kt().closed.emit("click"))})("@transformMenu.start",function(i){return bd(t),Wl(Kt()._onAnimationStart(i))})("@transformMenu.done",function(i){return bd(t),Wl(Kt()._onAnimationDone(i))}),G(1,"div",1),zn(2),ne()()}if(2&n){const t=Kt();V("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),ss("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const _L={transformMenu:FM("transformMenu",[cm("void",Ol({opacity:0,transform:"scale(0.8)"})),Uh("void => enter",zh("120ms cubic-bezier(0, 0, 0.2, 1)",Ol({opacity:1,transform:"scale(1)"}))),Uh("* => void",zh("100ms 25ms linear",Ol({opacity:0})))]),fadeInItems:FM("fadeInItems",[cm("showing",Ol({opacity:1})),Uh("void => *",[Ol({opacity:0}),zh("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},WDe=new Tn("MatMenuContent"),xV=new Tn("MAT_MENU_PANEL"),YDe=NM(VO(class{}));let bL=(()=>{class n extends YDe{constructor(t,r,i,o,s){var a;super(),this._elementRef=t,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new Nt,this._focused=new Nt,this._highlighted=!1,this._triggersSubmenu=!1,null===(a=null==o?void 0:o.addItem)||void 0===a||a.call(o,this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t;const r=this._elementRef.nativeElement.cloneNode(!0),i=r.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<i.length;o++)i[o].remove();return(null===(t=r.textContent)||void 0===t?void 0:t.trim())||""}_setHighlighted(t){var r;this._highlighted=t,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(Ci),De(xv),De(xV,8),De(Ru))},n.\u0275cmp=li({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,r){1&t&&nt("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(ss("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),Hi("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[pr],attrs:zDe,ngContentSelectors:wQ,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(jn(),zn(0),ie(1,"div",0),O(2,UDe,2,0,"svg",1)),2&t&&(or(1),V("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),or(1),V("ngIf",r._triggersSubmenu))},dependencies:[HE,cT],encapsulation:2,changeDetection:0}),n})();const MQ=new Tn("mat-menu-default-options",{providedIn:"root",factory:function GDe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let $De=0,WT=(()=>{class n{constructor(t,r,i,o){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new gM,this._tabSubscription=F.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Nt,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Lo,this.close=this.closed,this.panelId="mat-menu-panel-"+$De++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Al(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Al(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new MK(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(rm(this._directDescendantItems),Hd(t=>wc(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{var r;const i=this._keyManager;if("enter"===this._panelAnimationState&&(null===(r=i.activeItem)||void 0===r?void 0:r._hasFocus())){const o=t.toArray(),s=Math.max(0,Math.min(o.length-1,i.activeItemIndex||0));o[s]&&!o[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(rm(this._directDescendantItems),Hd(r=>wc(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:K_(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(Qa(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){var i;const o=this._classList;o["mat-menu-before"]="before"===t,o["mat-menu-after"]="after"===t,o["mat-menu-above"]="above"===r,o["mat-menu-below"]="below"===r,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(rm(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(xi),De(MQ),De(Ru))},n.\u0275dir=Ln({type:n,contentQueries:function(t,r,i){if(1&t&&(la(i,WDe,5),la(i,bL,5),la(i,bL,4)),2&t){let o;_o(o=bo())&&(r.lazyContent=o.first),_o(o=bo())&&(r._allItems=o),_o(o=bo())&&(r.items=o)}},viewQuery:function(t,r){if(1&t&&Eu(qa,5),2&t){let i;_o(i=bo())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),XDe=(()=>{class n extends WT{constructor(t,r,i,o){super(t,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(xi),De(MQ),De(Ru))},n.\u0275cmp=li({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&ss("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Ai([{provide:xV,useExisting:n}]),pr],ngContentSelectors:wQ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&(jn(),O(0,jDe,3,6,"ng-template"))},dependencies:[j9],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[_L.transformMenu,_L.fadeInItems]},changeDetection:0}),n})();const SQ=new Tn("mat-menu-scroll-strategy"),ZDe={provide:SQ,deps:[Cv],useFactory:function KDe(n){return()=>n.scrollStrategies.reposition()}},xQ=OM({passive:!0});let qDe=(()=>{class n{constructor(t,r,i,o,s,a,u,c,f){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=u,this._focusMonitor=c,this._ngZone=f,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=F.EMPTY,this._hoverSubscription=F.EMPTY,this._menuCloseSubscription=F.EMPTY,this._handleTouchStart=p=>{V3(p)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Lo,this.onMenuOpen=this.menuOpened,this.menuClosed=new Lo,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof WT?s:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,xQ),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,xQ),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const r=this._createOverlay(t),i=r.getConfig(),o=i.positionStrategy;this._setPosition(t,o),i.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof WT&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Ql(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){var t;null===(t=this.menu)||void 0===t||t.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){var t;null===(t=this._overlayRef)||void 0===t||t.updatePosition()}_destroyMenu(t){var r;if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof WT?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Oa(o=>"void"===o.toState),Qa(1),Ql(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),null===(r=null==i?void 0:i.lazyContent)||void 0===r||r.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,i=t.parentMenu;for(;i;)r++,i=i.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new $3({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,r){let[i,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[u,c]=[s,a],[f,p]=[i,o],g=0;if(this.triggersSubmenu()){if(p=i="before"===t.xPosition?"start":"end",o=f="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const y=this._parentMaterialMenu.items.first;this._parentInnerPadding=y?y._getHostElement().offsetTop:0}g="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(u="top"===s?"bottom":"top",c="top"===a?"bottom":"top");r.withPositions([{originX:i,originY:u,overlayX:f,overlayY:s,offsetY:g},{originX:o,originY:u,overlayX:p,overlayY:s,offsetY:g},{originX:i,originY:c,overlayX:f,overlayY:a,offsetY:-g},{originX:o,originY:c,overlayX:p,overlayY:a,offsetY:-g}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return wc(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:Lr(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Oa(s=>s!==this._menuItemInstance),Oa(()=>this._menuOpen)):Lr(),r)}_handleMousedown(t){B3(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Oa(t=>t===this._menuItemInstance&&!t.disabled),bQ(0,W3)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof WT&&this.menu._isAnimating?this.menu._animationDone.pipe(Qa(1),bQ(0,W3),Ql(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new k3(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(De(Cv),De(gi),De(ml),De(SQ),De(xV,8),De(bL,10),De(PM,8),De(xv),De(xi))},n.\u0275dir=Ln({type:n,hostVars:3,hostBindings:function(t,r){1&t&&nt("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&t&&ss("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen||null)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),JDe=(()=>{class n extends qDe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Li(n)))(r||n)}}(),n.\u0275dir=Ln({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[pr]}),n})(),QDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({providers:[ZDe],imports:[U_,Io,J3,X3,sT,Io]}),n})();const eAe=["*",[["mat-toolbar-row"]]],tAe=["*","mat-toolbar-row"],nAe=lT(class{constructor(n){this._elementRef=n}});let rAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),iAe=(()=>{class n extends nAe{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(uc),De(Ci))},n.\u0275cmp=li({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&la(i,rAe,5),2&t){let o;_o(o=bo())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Hi("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[pr],ngContentSelectors:tAe,decls:2,vars:0,template:function(t,r){1&t&&(jn(eAe),zn(0),zn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),oAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[Io,Io]}),n})();function sAe(n,e){if(1&n&&(os(),ie(0,"circle",4)),2&n){const t=Kt(),r=H(1);kr("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),ss("r",t._getCircleRadius())}}function aAe(n,e){if(1&n&&(os(),ie(0,"circle",4)),2&n){const t=Kt(),r=H(1);kr("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),ss("r",t._getCircleRadius())}}const uAe=lT(class{constructor(n){this._elementRef=n}},"primary"),cAe=new Tn("mat-progress-spinner-default-options",{providedIn:"root",factory:function dAe(){return{diameter:100}}});class bm extends uAe{constructor(e,t,r,i,o,s,a,u){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=F.EMPTY,this.mode="determinate";const c=bm._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(r.head)||c.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),t.isBrowser&&t.SAFARI&&a&&s&&u&&(this._resizeSubscription=a.change(150).subscribe(()=>{"indeterminate"===this.mode&&u.run(()=>s.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=lm(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=lm(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,lm(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=lK(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const r=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${r}% ${r}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=bm._diameters;let i=r.get(e);if(!i||!i.has(t)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),e.appendChild(o),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}bm._diameters=new WeakMap,bm.\u0275fac=function(e){return new(e||bm)(De(gi),De(uc),De(Ci,8),De(qp,8),De(cAe),De(Ru),De(FO),De(xi))},bm.\u0275cmp=li({type:bm,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(ss("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),kr("width",t.diameter,"px")("height",t.diameter,"px"),Hi("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[pr],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(os(),G(0,"svg",0,1),O(2,sAe,1,11,"circle",2),O(3,aAe,1,9,"circle",3),ne()),2&e&&(kr("width",t.diameter,"px")("height",t.diameter,"px"),V("ngSwitch","indeterminate"===t.mode),ss("viewBox",t._getViewBox()),or(2),V("ngSwitchCase",!0),or(1),V("ngSwitchCase",!1))},dependencies:[jA,K9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let hAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[Io,U_,Io]}),n})();function pAe(n,e){if(1&n){const t=_e();G(0,"button",7),nt("click",function(){return bd(t),Wl(Kt().download())}),G(1,"mat-icon"),nn(2,"cloud_download"),ne()()}}function mAe(n,e){1&n&&(G(0,"div"),ie(1,"mat-spinner",8),ne())}let gAe=(()=>{class n{constructor(t,r,i){this.http=t,this.scene=r,this.pv=i,this.isLoading=!1,this.Exporter=new vQ}ngOnInit(){}download(){const t={headers:new jh({"Content-Type":"application/json",Accept:"application/json"})},r=this.getPostJson(),i="https://kv4hx2ue8c.execute-api.ap-northeast-1.amazonaws.com/default/GirderGenBrpy";this.isLoading=!0,this.http.get(i,t).subscribe(o=>{console.log(o),this.http.post(i,r,t).subscribe(s=>{this.isLoading=!1;let a=s;if(Array.isArray(a)&&(a=s[0]),"string"==typeof a&&(a=JSON.parse(a)),!("body"in a))return;const c=new Blob([a.body],{type:"text/plain;charset=utf-8"});yQ.saveAs(c,"test.ifc")},s=>{this.isLoading=!1,alert(s.message)})},o=>{this.isLoading=!1,alert(o.message)})}getPostJson(){this.Exporter.parse(this.scene.scene);const r=this.scene.scene.getObjectByName("Slab");let i=this.Exporter.parse(r);const o=new Array;for(let M=0;M<100;M++){const C=this.scene.scene.getObjectByName("Hsteel-01-"+String(M));if(null==C)break;let I=this.Exporter.parse(C);o.push(I)}const s=new Array;for(let M=0;M<100;M++){const C=this.scene.scene.getObjectByName("Cr_"+String(M));if(null==C)break;let I=this.Exporter.parse(C);s.push(I)}const a=new Array;for(let M=0;M<100;M++){const C=this.scene.scene.getObjectByName("Ll_"+String(M));if(null==C)break;let I=this.Exporter.parse(C);a.push(I)}const u=new Array;for(let M=0;M<100;M++){const C=this.scene.scene.getObjectByName("Lu_"+String(M));if(null==C)break;let I=this.Exporter.parse(C);u.push(I)}const c=new Array;for(let M=0;M<100;M++){const C=this.scene.scene.getObjectByName("Cu_"+String(M));if(null==C)break;let I=this.Exporter.parse(C);c.push(I)}const f=new Array;for(let M=0;M<100;M++){const C=this.scene.scene.getObjectByName("Cfl_"+String(M));if(null==C)break;let I=this.Exporter.parse(C);f.push(I)}const p=new Array;for(let M=0;M<100;M++){const C=this.scene.scene.getObjectByName("Cfr_"+String(M));if(null==C)break;let I=this.Exporter.parse(C);p.push(I)}const g=new Array;for(let M=0;M<100;M++){const C=this.scene.scene.getObjectByName("Cft_"+String(M));if(null==C)break;let I=this.Exporter.parse(C);g.push(I)}const y=new Array;for(let M=0;M<100;M++){const C=this.scene.scene.getObjectByName("Cfd_"+String(M));if(null==C)break;let I=this.Exporter.parse(C);y.push(I)}return JSON.stringify({body:{ProjectName:"Test01",slab:{obj:i},beam:{obj:o},mid_l:{obj:a},mid_u:{obj:u},cross_L:{obj:f},cross_R:{obj:p},cross_T:{obj:g},cross_D:{obj:y},crossbeam:{obj:s},endbeam:{obj:c}}})}}return n.\u0275fac=function(t){return new(t||n)(De($O),De(SV),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-menu"]],decls:18,vars:3,consts:[["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],[1,"example-spacer"],["mat-icon-button","","class","example-icon favorite-icon","aria-label","download ifc file",3,"click",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon"],["mat-icon-button","","aria-label","download ifc file",1,"example-icon","favorite-icon",3,"click"],["diameter","40"]],template:function(t,r){if(1&t&&(G(0,"mat-toolbar")(1,"button",0)(2,"mat-icon"),nn(3,"menu"),ne()(),G(4,"mat-menu",null,1)(6,"button",2),nn(7,"Item 1"),ne(),G(8,"button",2),nn(9,"Item 2"),ne()(),G(10,"span"),nn(11,"\u5408\u6210\u6841-3D\u30e2\u30c7\u30eb\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc"),ne(),ie(12,"span",3),O(13,pAe,3,0,"button",4),O(14,mAe,2,0,"div",5),G(15,"button",6)(16,"mat-icon"),nn(17,"share"),ne()()()),2&t){const i=H(5);or(1),V("matMenuTriggerFor",i),or(12),V("ngIf",!r.isLoading),or(1),V("ngIf",r.isLoading)}},dependencies:[HE,XDe,bL,JDe,TZ,Xc,iAe,bm],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();var TV,DS,$T;function EV(n){return(EV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}b(7059),b(6949),b(8193),b(5296),b(6522),b(8561),b(2246),b(3912),b(262),b(8068),b(9401),b(8621),b(631),b(3382),b(5975),b(1681),b(4018),b(9443),b(1261),b(4952),b(4564),b(223),b(1044),b(2162),b(9117),b(2096),b(7862),b(4176),b(3479),b(4881),b(5167),b(6774),b(3388);for(var CQ=0,wL=["ms","moz","webkit","o"],YT=window.requestAnimationFrame,ML=window.cancelAnimationFrame,GT=0;GT<wL.length&&!YT;++GT)YT=window["".concat(wL[GT],"RequestAnimationFrame")],ML=window["".concat(wL[GT],"CancelAnimationFrame")]||window["".concat(wL[GT],"CancelRequestAnimationFrame")];function EQ(n){return YT.call(window,n)}function yAe(){return!!document.createTextNode("test").textContent}function SL(n){ML.call(window,n)}function TQ(){return"ontouchstart"in window}function RQ(){return void 0===TV&&function bAe(){var n=document.createElement("TABLE");n.style.borderSpacing="0",n.style.borderWidth="0",n.style.padding="0";var e=document.createElement("TBODY");n.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var t=document.createElement("CAPTION");t.innerHTML="c<br>c<br>c<br>c",t.style.padding="0",t.style.margin="0",n.insertBefore(t,e),document.body.appendChild(n),TV=n.offsetHeight<2*n.lastChild.offsetHeight,document.body.removeChild(n)}(),TV}function MAe(){if(void 0!==$T)return $T;try{var n={get passive(){$T=!0}};window.addEventListener("test",n,n),window.removeEventListener("test",n,n)}catch(e){$T=!1}return $T}function SAe(n){for(var e=n.length,t=0;t<e;)n[t]=[n[t]],t+=1}function DQ(n,e){for(var t=e.length,r=0;r<t;)n.push(e[r]),r+=1}function xL(n){var e=[];if(!n||0===n.length||!n[0]||0===n[0].length)return e;for(var t=n.length,r=n[0].length,i=0;i<t;i++)for(var o=0;o<r;o++)e[o]||(e[o]=[]),e[o][i]=n[i][o];return e}function Ha(n,e,t,r){var i=-1,o=n,s=t;Array.isArray(n)||(o=Array.from(n));var a=o.length;for(r&&a&&(s=o[i+=1]),i+=1;i<a;)s=e(s,o[i],i,o),i+=1;return s}function jd(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length,o=[],s=-1;t<i;){var a=r[t];e(a,t,r)&&(o[s+=1]=a),t+=1}return o}function Ki(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length,o=[],s=-1;t<i;)o[s+=1]=e(r[t],t,r),t+=1;return o}function Qe(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length;t<i&&!1!==e(r[t],t,r);)t+=1;return n}function AQ(n){var e=[];return Qe(n,function(t){-1===e.indexOf(t)&&e.push(t)}),e}function OQ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=[].concat(e),i=r[0],o=r.slice(1),s=i;return Qe(o,function(a){s=s.filter(function(u){return!a.includes(u)})}),s}function kQ(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return n.split(e)}function LQ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function AS(n){return(AS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function XT(n){var e;return Array.isArray(n)?e=[]:(e={},to(n,function(t,r){"__children"!==r&&(e[r]=t&&"object"===AS(t)&&!Array.isArray(t)?XT(t):Array.isArray(t)?t.length&&"object"===AS(t[0])&&!Array.isArray(t[0])?[XT(t[0])]:[]:null)})),e}function Yv(n,e){return e.prototype.constructor=e,n.prototype=new e,n.prototype.constructor=n,n}function Js(n,e,t){var r=Array.isArray(t);return to(e,function(i,o){(!1===r||t.includes(o))&&(n[o]=i)}),n}function CL(n,e){to(e,function(t,r){e[r]&&"object"===AS(e[r])?(n[r]||(n[r]=Array.isArray(e[r])?[]:"[object Date]"===Object.prototype.toString.call(e[r])?e[r]:{}),CL(n[r],e[r])):n[r]=e[r]})}function Iu(n){return"object"===AS(n)?JSON.parse(JSON.stringify(n)):n}function mc(n){var e={};return to(n,function(t,r){e[r]=t}),e}function vs(n){n.MIXINS||(n.MIXINS=[]);for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return Qe(t,function(i){n.MIXINS.push(i.MIXIN_NAME),to(i,function(o,s){if(void 0!==n.prototype[s])throw new Error("Mixin conflict. Property '".concat(s,"' already exist and cannot be overwritten."));var f,p,g;"function"==typeof o?n.prototype[s]=o:Object.defineProperty(n.prototype,s,{get:(f=s,p=o,g="_".concat(f),function(){return void 0===this[g]&&(this[g]=(C=p,(Array.isArray(C)||ji(C))&&(C=Iu(C)),C)),this[g];var C}),set:function(f){var p="_".concat(f);return function(g){this[p]=g}}(s),configurable:!0})})}),n}function IQ(n,e){return JSON.stringify(n)===JSON.stringify(e)}function ji(n){return"[object Object]"===Object.prototype.toString.call(n)}function wm(n,e,t,r){r.value=t,r.writable=!1!==r.writable,r.enumerable=!1!==r.enumerable,r.configurable=!1!==r.configurable,Object.defineProperty(n,e,r)}function to(n,e){for(var t in n)if((!n.hasOwnProperty||n.hasOwnProperty&&Object.prototype.hasOwnProperty.call(n,t))&&!1===e(n[t],t,n))break;return n}function RV(n,e,t){var r=e.split("."),i=n;r.forEach(function(o,s){s!==r.length-1?(Ps(i,o)||(i[o]={}),i=i[o]):i[o]=t})}function DV(n){return ji(n)?function t(r){var i=0;return ji(r)?to(r,function(o,s){"__children"!==s&&(i+=t(o))}):i+=1,i}(n):0}function OS(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",r="_".concat(t),i=(LQ(e={_touched:!1},r,n),LQ(e,"isTouched",function(){return this._touched}),e);return Object.defineProperty(i,t,{get:function(){return this[r]},set:function(s){this._touched=!0,this[r]=s},enumerable:!0,configurable:!0}),i}function Ps(n,e){return Object.prototype.hasOwnProperty.call(n,e)}YT||(YT=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-CQ)),i=window.setTimeout(function(){e(t+r)},r);return CQ=t+r,i}),ML||(ML=function(e){clearTimeout(e)}),b(3954),b(3035);var gc=function(e){var t={value:!1,test:function(r,i){t.value=e(r,i)}};return t},Qc={chrome:gc(function(n,e){return/Chrome/.test(n)&&/Google/.test(e)}),chromeWebKit:gc(function(n){return/CriOS/.test(n)}),edge:gc(function(n){return/Edge/.test(n)}),edgeWebKit:gc(function(n){return/EdgiOS/.test(n)}),firefox:gc(function(n){return/Firefox/.test(n)}),firefoxWebKit:gc(function(n){return/FxiOS/.test(n)}),ie:gc(function(n){return/Trident/.test(n)}),ie9:gc(function(){return!!document.documentMode}),mobile:gc(function(n){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n)}),safari:gc(function(n,e){return/Safari/.test(n)&&/Apple Computer/.test(e)})},kS={mac:gc(function(n){return/^Mac/.test(n)}),win:gc(function(n){return/^Win/.test(n)}),linux:gc(function(n){return/^Linux/.test(n)}),ios:gc(function(n){return/iPhone|iPad|iPod/i.test(n)})};function AV(){return Qc.firefox.value}function $h(){return Qc.mobile.value}function PQ(){return kS.ios.value}function NQ(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator,e=n.maxTouchPoints;return e>2&&kS.mac.value}function FQ(){return kS.win.value}function HQ(){return kS.mac.value}(function TAe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.userAgent,t=void 0===e?navigator.userAgent:e,r=n.vendor,i=void 0===r?navigator.vendor:r;to(Qc,function(o){(0,o.test)(t,i)})})(),function RAe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.platform,t=void 0===e?navigator.platform:e;to(kS,function(r){(0,r.test)(t)})}();var LV,IV,PV,NAe=b(8120);function Mm(n){return n[0].toUpperCase()+n.substr(1)}function BQ(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return n()+n()+n()+n()}function VQ(n){return/^([0-9][0-9]?%$)|(^100%$)/.test(n)}function zQ(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(n).replace(/(?:\\)?\[([^[\]]+)]/g,function(t,r){return"\\"===t.charAt(0)?t.substr(1,t.length-1):void 0===e[r]?"":e[r]})}function UQ(n){return OV("".concat(n),{ALLOWED_TAGS:[]})}function OV(n,e){return NAe.sanitize(n,e)}function jQ(n){return function VAe(n){if(Array.isArray(n))return kV(n)}(n)||function BAe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function HAe(n,e){if(n){if("string"==typeof n)return kV(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kV(n,e)}}(n)||function FAe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kV(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function zAe(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=-1,r=null,i=n;null!==i;){if(t===e){r=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(t+=1,i=i.parentNode)}return r}function EL(n){return function UAe(n){return Object.getPrototypeOf(n.parent)&&n.frameElement}(n)&&n.parent}function wb(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,r=Node,i=r.ELEMENT_NODE,o=r.DOCUMENT_FRAGMENT_NODE,s=n;null!=s&&s!==t;){var a=s,u=a.nodeType,c=a.nodeName;if(u===i&&(e.includes(c)||e.includes(s)))return s;var f=s,p=f.host;s=p&&u===o?p:s.parentNode}return null}function TL(n,e,t){for(var r=[],i=n;i&&(i=wb(i,e,t))&&(!t||t.contains(i));)r.push(i),i=i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.host:i.parentNode;var o=r.length;return o?r[o-1]:null}function Mb(n,e){var t=n.parentNode,r=[];for("string"==typeof e?r=Array.prototype.slice.call(n.defaultView?n.querySelectorAll(e):n.ownerDocument.querySelectorAll(e),0):r.push(e);null!==t;){if(r.indexOf(t)>-1)return!0;t=t.parentNode}return!1}function Sb(n,e,t){var r=t.parentElement.querySelector(".ht_clone_".concat(n));return r?r.contains(e):null}function RL(n){return n&&n.length?n.filter(function(e){return!!e}):[]}if(function vAe(){return!!document.documentElement.classList}()){var WQ=function(e){var t=e.createElement("div");return t.classList.add("test","test2"),t.classList.contains("test2")};LV=function(e,t){return void 0!==e.classList&&"string"==typeof t&&""!==t&&e.classList.contains(t)},IV=function(e,t){var r=e.ownerDocument,i=t;if("string"==typeof i&&(i=i.split(" ")),(i=RL(i)).length>0)if(WQ(r)){var o;(o=e.classList).add.apply(o,jQ(i))}else for(var s=0;i[s];)e.classList.add(i[s]),s+=1},PV=function(e,t){var r=e.ownerDocument,i=t;if("string"==typeof i&&(i=i.split(" ")),(i=RL(i)).length>0)if(WQ(r)){var o;(o=e.classList).remove.apply(o,jQ(i))}else for(var s=0;i[s];)e.classList.remove(i[s]),s+=1}}else{var NV=function(e){return new RegExp("(\\s|^)".concat(e,"(\\s|$)"))};LV=function(e,t){return void 0!==e.className&&NV(t).test(e.className)},IV=function(e,t){var r=e.className,i=t;if("string"==typeof i&&(i=i.split(" ")),i=RL(i),""===r)r=i.join(" ");else for(var o=0;o<i.length;o++)i[o]&&!NV(i[o]).test(r)&&(r+=" ".concat(i[o]));e.className=r},PV=function(e,t){var r=0,i=e.className,o=t;for("string"==typeof o&&(o=o.split(" ")),o=RL(o);o[r];)i=i.replace(NV(o[r])," ").trim(),r+=1;e.className!==i&&(e.className=i)}}function _i(n,e){return LV(n,e)}function Cn(n,e){IV(n,e)}function Ii(n,e){PV(n,e)}function YQ(n){if(3===n.nodeType)n.parentNode.removeChild(n);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(n.nodeName)>-1)for(var e=n.childNodes,t=e.length-1;t>=0;t--)YQ(e[t])}function Zf(n){for(var e;e=n.lastChild;)n.removeChild(e)}var BV,WAe=/(<(.*)>|&(.*);)/;function xb(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];WAe.test(e)?n.innerHTML=t?OV(e):e:Cb(n,e)}function Cb(n,e){var t=n.firstChild;t&&3===t.nodeType&&null===t.nextSibling?yAe?t.textContent=e:t.data=e:(Zf(n),n.appendChild(n.ownerDocument.createTextNode(e)))}function KT(n){for(var e=n.ownerDocument.documentElement,t=n;t!==e;){if(null===t)return!1;if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(t.host){if(t.host.impl)return KT(t.host.impl);if(t.host)return KT(t.host);throw new Error("Lost in Web Components world")}return!1}if(t.style&&"none"===t.style.display)return!1;t=t.parentNode}return!0}function Ba(n){var o,s,a,u,e=n.ownerDocument,t=e.defaultView,r=e.documentElement,i=n;if(RQ()&&i.firstChild&&"CAPTION"===i.firstChild.nodeName)return{top:(u=i.getBoundingClientRect()).top+(t.pageYOffset||r.scrollTop)-(r.clientTop||0),left:u.left+(t.pageXOffset||r.scrollLeft)-(r.clientLeft||0)};for(o=i.offsetLeft,s=i.offsetTop,a=i;(i=i.offsetParent)&&i!==e.body;)o+=i.offsetLeft,s+=i.offsetTop,a=i;return a&&"fixed"===a.style.position&&(o+=t.pageXOffset||r.scrollLeft,s+=t.pageYOffset||r.scrollTop),{left:o,top:s}}function ZT(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.scrollY;return void 0===e&&(e=n.document.documentElement.scrollTop),e}function LS(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.scrollX;return void 0===e&&(e=n.document.documentElement.scrollLeft),e}function DL(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n===e?ZT(e):n.scrollTop}function FV(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n===e?LS(e):n.scrollLeft}function AL(n){var e=n.ownerDocument,t=e?e.defaultView:void 0;e||(t=(e=n.document?n.document:n).defaultView);for(var r=["auto","scroll"],i=function _Ae(){return!!window.getComputedStyle}(),o=n.parentNode;o&&o.style&&e.body!==o;){var s=o.style,a=s.overflow,u=s.overflowX,c=s.overflowY;if([a,u,c].includes("scroll"))return o;if(i){var f=t.getComputedStyle(o);if(u=f.overflowX,c=f.overflowY,r.includes(a=f.overflow)||r.includes(u)||r.includes(c))return o}if(o.clientHeight<=o.scrollHeight+1&&(r.includes(c)||r.includes(a))||o.clientWidth<=o.scrollWidth+1&&(r.includes(u)||r.includes(a)))return o;o=o.parentNode}return t}function qT(n){for(var e=n.ownerDocument,t=e.defaultView,r=n.parentNode;r&&r.style&&e.body!==r;){if("visible"!==r.style.overflow&&""!==r.style.overflow)return r;var i=Eb(r,t),o=["scroll","hidden","auto"],s=i.getPropertyValue("overflow"),a=i.getPropertyValue("overflow-y"),u=i.getPropertyValue("overflow-x");if(o.includes(s)||o.includes(a)||o.includes(u))return r;r=r.parentNode}return t}function HV(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(n){if(n===t)return"width"===e?"".concat(t.innerWidth,"px"):"height"===e?"".concat(t.innerHeight,"px"):void 0;var r=n.style[e];if(""!==r&&void 0!==r)return r;var i=Eb(n,t);return""!==i[e]&&void 0!==i[e]?i[e]:void 0}}function Eb(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n.currentStyle||e.getComputedStyle(n)}function us(n){return n.offsetWidth}function Qs(n){return RQ()&&n.firstChild&&"CAPTION"===n.firstChild.nodeName?n.offsetHeight+n.firstChild.offsetHeight:n.offsetHeight}function Gv(n){return n.clientHeight||n.innerHeight}function OL(n){return n.clientWidth||n.innerWidth}function GQ(n){var e=n.ownerDocument;if(n.selectionStart)return n.selectionStart;if(e.selection){n.focus();var t=e.selection.createRange();if(null===t)return 0;var r=n.createTextRange(),i=r.duplicate();return r.moveToBookmark(t.getBookmark()),i.setEndPoint("EndToStart",r),i.text.length}return 0}function $Q(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.document;n.getSelection?n.getSelection().empty?n.getSelection().empty():n.getSelection().removeAllRanges&&n.getSelection().removeAllRanges():e.selection&&e.selection.empty()}function kL(n,e,t){if(void 0===t&&(t=e),n.setSelectionRange){n.focus();try{n.setSelectionRange(e,t)}catch(o){var r=n.parentNode,i=r.style.display;r.style.display="block",n.setSelectionRange(e,t),r.style.display=i}}}function $Ae(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=n.createElement("div");e.style.height="200px",e.style.width="100%";var t=n.createElement("div");t.style.boxSizing="content-box",t.style.height="150px",t.style.left="0px",t.style.overflow="hidden",t.style.position="absolute",t.style.top="0px",t.style.width="200px",t.style.visibility="hidden",t.appendChild(e),(n.body||n.documentElement).appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;return r===i&&(i=t.clientWidth),(n.body||n.documentElement).removeChild(t),r-i}function yl(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return void 0===BV&&(BV=$Ae(n)),BV}function VV(n,e,t){!function PAe(){return Qc.ie9.value}()?function kAe(){return Qc.safari.value}()?n.style["-webkit-transform"]="translate3d(".concat(e,",").concat(t,",0)"):n.style.transform="translate3d(".concat(e,",").concat(t,",0)"):(n.style.top=t,n.style.left=e)}function LL(n){n.style.transform&&""!==n.style.transform?n.style.transform="":n.style["-webkit-transform"]&&""!==n.style["-webkit-transform"]&&(n.style["-webkit-transform"]="")}function IL(n){return n&&(["INPUT","SELECT","TEXTAREA"].indexOf(n.nodeName)>-1||"true"===n.contentEditable)}function XQ(n){return IL(n)&&!1===n.hasAttribute("data-hot-input")}function KQ(n){return!n.parentNode}b(508),b(8377),b(1100);var ZQ,qQ,JQ,QQ,eee,tee,rs=b(6908);function cs(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=Ha(n,function(o,s,a){return o+s.replace(/\r?\n\s*/g,"")+(t[a]?t[a]:"")},"");return i.trim()}function IS(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function zV(n){return(zV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _a(n){var e;switch(zV(n)){case"string":case"number":e="".concat(n);break;case"object":e=null===n?"":n.toString();break;case"undefined":e="";break;default:e=n.toString()}return e}function fr(n){return void 0!==n}function Ns(n){return void 0===n}function nl(n){return null===n||""===n||Ns(n)}function qAe(n){return"[object RegExp]"===Object.prototype.toString.call(n)}var JT="length",QT=function(e){return parseInt(e,16)},nee=function(e){return parseInt(e,10)},PL=function(e,t,r){return e.substr(t,r)},e1=function(e){return e.codePointAt(0)-65},UV=function(e){return"".concat(e).replace(/\-/g,"")},ree=!1,iee={invalid:function(){return cs(ZQ||(ZQ=IS(["\n    The license key for Handsontable is invalid. \n    If you need any help, contact us at support@handsontable.com."],["\n    The license key for Handsontable is invalid.\\x20\n    If you need any help, contact us at support@handsontable.com."])))},expired:function(e){var t=e.keyValidityDate,r=e.hotVersion;return cs(qQ||(qQ=IS(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior \n    to ",". If you need any help, contact us at sales@handsontable.com."],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior\\x20\n    to ",". If you need any help, contact us at sales@handsontable.com."])),t,r,t)},missing:function(){return cs(JQ||(JQ=IS(["\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact \n    us at support@handsontable.com."],["\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\\x20\n    us at support@handsontable.com."])))},non_commercial:function(){return""}},oee={invalid:function(){return cs(QQ||(QQ=IS(['\n    The license key for Handsontable is invalid. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to \n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is invalid.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\\x20\n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'])))},expired:function(e){var t=e.keyValidityDate,r=e.hotVersion;return cs(eee||(eee=IS(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your \n    license key or downgrade to a version released prior to ','. If you need any \n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.'],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\\x20\n    license key or downgrade to a version released prior to ','. If you need any\\x20\n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.'])),t,r,t)},missing:function(){return cs(tee||(tee=IS(['\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: \'non-commercial-and-evaluation\'. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in \n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: \'non-commercial-and-evaluation\'.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\\x20\n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'])))},non_commercial:function(){return""}};function eOe(n,e){var o,t=!nl(n),r="string"==typeof n&&"non-commercial-and-evaluation"===n.toLowerCase(),i="12.1.3",s="invalid",a="invalid",u=function tOe(n){var e=[][JT],t=e;if(n[JT]!==e1("Z"))return!1;for(var r="",i="B<H4P+".split(""),o=e1(i.shift());o;o=e1(i.shift()||"A"))--o<""[JT]?t|=(nee("".concat(nee(QT(r)+(QT(PL(n,Math.abs(o),2))+[]).padStart(2,"0"))))%97||2)>>1:r=PL(n,o,o?1===i[JT]?9:8:6);return t===e}(n=UV(n||""));if(t||r||u)if(u){var c=rs("22/09/2022","DD/MM/YYYY"),f=Math.floor(c.toDate().getTime()/864e5),p=function(e){return QT(PL(UV(e),QT("12"),e1("F")))/(QT(PL(UV(e),e1("B"),~~![][JT]))||9)}(n);if(o=rs(864e5*(p+1),"x").format("MMMM DD, YYYY"),f>p){var g=rs().diff(c,"days");s=g<=1?"valid":"expired",a=g<=15?"valid":"expired"}else s="valid",a="valid"}else r?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if("undefined"!=typeof location&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host)&&(s="valid",a="valid"),ree||"valid"===s||(iee[s]({keyValidityDate:o,hotVersion:i})&&console["non_commercial"===s?"info":"warn"](iee[s]({keyValidityDate:o,hotVersion:i})),ree=!0),"valid"!==a&&e.parentNode&&oee[a]({keyValidityDate:o,hotVersion:i})){var M=document.createElement("div");M.id="hot-display-license-info",M.innerHTML=oee[a]({keyValidityDate:o,hotVersion:i}),e.parentNode.insertBefore(M,e.nextSibling)}}function Ss(n){return"function"==typeof n}function see(n){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,t=null;function i(){for(var o=this,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return t&&clearTimeout(t),t=setTimeout(function(){r=n.apply(o,a)},e),r}return i}function aee(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n.apply(this,t.concat(s))}}function jV(n,e,t,r,i,o,s,a){return fr(a)?n.call(e,t,r,i,o,s,a):fr(s)?n.call(e,t,r,i,o,s):fr(o)?n.call(e,t,r,i,o):fr(i)?n.call(e,t,r,i):fr(r)?n.call(e,t,r):fr(t)?n.call(e,t):n.call(e)}b(3902);var uee,Rr={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:AV()?182:174,AUDIO_MUTE:AV()?181:173,AUDIO_UP:AV()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},iOe=[Rr.ALT,Rr.ARROW_DOWN,Rr.ARROW_LEFT,Rr.ARROW_RIGHT,Rr.ARROW_UP,Rr.AUDIO_DOWN,Rr.AUDIO_MUTE,Rr.AUDIO_UP,Rr.BACKSPACE,Rr.CAPS_LOCK,Rr.DELETE,Rr.END,Rr.ENTER,Rr.ESCAPE,Rr.F1,Rr.F2,Rr.F3,Rr.F4,Rr.F5,Rr.F6,Rr.F7,Rr.F8,Rr.F9,Rr.F10,Rr.F11,Rr.F12,Rr.F13,Rr.F14,Rr.F15,Rr.F16,Rr.F17,Rr.F18,Rr.F19,Rr.HOME,Rr.INSERT,Rr.MEDIA_NEXT,Rr.MEDIA_PLAY_PAUSE,Rr.MEDIA_PREV,Rr.MEDIA_STOP,Rr.NULL,Rr.NUM_LOCK,Rr.PAGE_DOWN,Rr.PAGE_UP,Rr.PAUSE,Rr.SCROLL_LOCK,Rr.SHIFT,Rr.TAB];function lee(n){return iOe.includes(n)}function t1(n,e){var t=e.split("|"),r=!1;return Qe(t,function(i){if(n===Rr[i])return r=!0,!1}),r}function Xh(n){n.isImmediatePropagationEnabled=!1,n.cancelBubble=!0}function PS(n){return!1===n.isImmediatePropagationEnabled}function Tb(n){return 2===n.button}function WV(n){return 0===n.button}function xs(){var n;fr(console)&&(n=console).warn.apply(n,arguments)}function YV(){var n;fr(console)&&(n=console).error.apply(n,arguments)}function cee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var NS=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeSetCellMeta","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],cOe=cs(uee||(uee=function uOe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['The plugin hook "[hookName]" was removed in Handsontable [removedInVersion]. \n  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to \n  learn about the migration path.'],['The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\\x20\n  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\\x20\n  learn about the migration path.']))),GV=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),$V=new Map([["beforeAutofillInsidePopulate",'The plugin hook "beforeAutofillInsidePopulate" is deprecated and will be removed in the next major release.']]),dee=function(){function n(){(function aOe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.globalBucket=this.createEmptyBucket()}return function lOe(n,e,t){e&&cee(n.prototype,e),t&&cee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createEmptyBucket",value:function(){var t=Object.create(null);return Qe(NS,function(r){return t[r]=[]}),t}},{key:"getBucket",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket}},{key:"add",value:function(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(r))Qe(r,function(u){return i.add(t,u,o)});else{GV.has(t)&&xs(zQ(cOe,{hookName:t,removedInVersion:GV.get(t)})),$V.has(t)&&xs($V.get(t));var s=this.getBucket(o);if(void 0===s[t]&&(this.register(t),s[t]=[]),r.skip=!1,-1===s[t].indexOf(r)){var a=!1;r.initialHook&&Qe(s[t],function(u,c){if(u.initialHook)return s[t][c]=r,a=!0,!1}),a||s[t].push(r)}}return this}},{key:"once",value:function(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(r)?Qe(r,function(s){return i.once(t,s,o)}):(r.runOnce=!0,this.add(t,r,o))}},{key:"remove",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getBucket(i);return void 0!==o[t]&&o[t].indexOf(r)>=0&&(r.skip=!0,!0)}},{key:"has",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.getBucket(r);return!(void 0===i[t]||!i[t].length)}},{key:"run",value:function(t,r,i,o,s,a,u,c){var f=this.globalBucket[r],p=f?f.length:0,g=0;if(p)for(;g<p;)if(f[g]&&!f[g].skip){var y=jV(f[g],t,i,o,s,a,u,c);void 0!==y&&(i=y),f[g]&&f[g].runOnce&&this.remove(r,f[g]),g+=1}else g+=1;var w=this.getBucket(t)[r],M=w?w.length:0,C=0;if(M)for(;C<M;)if(w[C]&&!w[C].skip){var I=jV(w[C],t,i,o,s,a,u,c);void 0!==I&&(i=I),w[C]&&w[C].runOnce&&this.remove(r,w[C],t),C+=1}else C+=1;return i}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;to(this.getBucket(t),function(r,i,o){return o[i].length=0})}},{key:"register",value:function(t){this.isRegistered(t)||NS.push(t)}},{key:"deregister",value:function(t){this.isRegistered(t)&&NS.splice(NS.indexOf(t),1)}},{key:"isDeprecated",value:function(t){return $V.has(t)||GV.has(t)}},{key:"isRegistered",value:function(t){return NS.indexOf(t)>=0}},{key:"getRegistered",value:function(){return NS}}],[{key:"getSingleton",value:function(){return function fOe(){return dOe}()}}]),n}(),dOe=new dee;const wr=dee;function fee(n){return function gOe(n){if(Array.isArray(n))return XV(n)}(n)||function mOe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function pOe(n,e){if(n){if("string"==typeof n)return XV(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return XV(n,e)}}(n)||function hOe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XV(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var KV=new Map;function Wd(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common";KV.has(n)||KV.set(n,new Map);var e=KV.get(n);function t(a,u){e.set(a,u)}function r(a){return e.get(a)}function i(a){return e.has(a)}function o(){return fee(e.keys())}function s(){return fee(e.values())}return{register:t,getItem:r,hasItem:i,getNames:o,getValues:s}}var ZV=new WeakMap,n1=Wd("editors"),vOe=n1.register,hee=n1.getItem,pee=n1.hasItem;function yOe(n){var e={},t=n;this.getConstructor=function(){return n},this.getInstance=function(r){return r.guid in e||(e[r.guid]=new t(r)),e[r.guid]},wr.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function mee(n,e){var t;if("function"==typeof n)ZV.get(n)||ed(null,n),t=ZV.get(n);else{if("string"!=typeof n)throw Error('Only strings and functions can be passed as "editor" parameter');t=hee(n)}if(!t)throw Error('No editor registered under name "'.concat(n,'"'));return t.getInstance(e)}function ed(n,e){n&&"string"!=typeof n&&(n=(e=n).EDITOR_TYPE);var t=new yOe(e);"string"==typeof n&&vOe(n,t),ZV.set(e,t)}function _Oe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function gee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function MOe(n){var e=n.stopImmediatePropagation;return n.stopImmediatePropagation=function(){e.apply(this),Xh(this)},n}const ea=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_Oe(this,n),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}return function bOe(n,e,t){e&&gee(n.prototype,e),t&&gee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addEventListener",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];function a(u){i.call(this,MOe(u))}return"boolean"!=typeof s&&!MAe()&&(s=!1),this.context.eventListeners.push({element:t,event:r,callback:i,callbackProxy:a,options:s,eventManager:this}),t.addEventListener(r,a,s),function(){o.removeEventListener(t,r,i)}}},{key:"removeEventListener",value:function(t,r,i){for(var a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this.context.eventListeners.length;s;)if((a=this.context.eventListeners[s-=1]).event===r&&a.element===t){if(i&&i!==a.callback||o&&a.eventManager!==this)continue;this.context.eventListeners.splice(s,1),a.element.removeEventListener(a.event,a.callbackProxy,a.options)}}},{key:"clearEvents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.context)for(var r=this.context.eventListeners.length;r;){var i=this.context.eventListeners[r-=1];t&&i.eventManager!==this||(this.context.eventListeners.splice(r,1),i.element.removeEventListener(i.event,i.callbackProxy,i.options))}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"destroyWithOwnEventsOnly",value:function(){this.clearEvents(!0),this.context=null}},{key:"fireEvent",value:function(t,r){var i=t.document,o=t;i||(o=(i=t.ownerDocument?t.ownerDocument:t).defaultView);var a,s={bubbles:!0,cancelable:"mousemove"!==r,view:o,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};i.createEvent?(a=i.createEvent("MouseEvents")).initMouseEvent(r,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget||i.body.parentNode):a=i.createEventObject(),t.dispatchEvent?t.dispatchEvent(a):t.fireEvent("on".concat(r),a)}}]),n}();function vee(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var FL="editorManager.navigation",r1="editorManager.handlingEditor",qV=function(){function n(e,t,r){var i=this;(function ROe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.instance=e,this.tableMeta=t,this.selection=r,this.eventManager=new ea(e),this.destroyed=!1,this.lock=!1,this.activeEditor=void 0,this.cellProperties=void 0,this.instance.getShortcutManager().addContext("editor"),this.registerShortcuts(),this.instance.addHook("afterDocumentKeyDown",function(s){return i.onAfterDocumentKeyDown(s)}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"compositionstart",function(s){!i.destroyed&&i.instance.isListening()&&i.openEditor("",s)}),this.instance.view._wt.update("onCellDblClick",function(s,a,u){return i.onCellDblClick(s,a,u)})}return function DOe(n,e,t){e&&yee(n.prototype,e),t&&yee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerShortcuts",value:function(){var t=this,r=this.instance.getShortcutManager(),i=r.getContext("grid"),o=r.getContext("editor"),s={group:r1};o.addShortcuts([{keys:[["Enter"],["Enter","Shift"],["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],callback:function(u,c){t.closeEditorAndSaveChanges(r.isCtrlPressed()),t.moveSelectionAfterEnter(c.includes("shift"))}},{keys:[["Escape"],["Escape","Control/Meta"]],callback:function(){t.closeEditorAndRestoreOriginalValue(r.isCtrlPressed()),t.activeEditor.focus()}}],s),i.addShortcuts([{keys:[["F2"]],callback:function(u){t.openEditor(null,u,!0)}},{keys:[["Backspace"],["Delete"]],callback:function(){t.instance.emptySelectedCells(),t.prepareEditor()}},{keys:[["Enter"],["Enter","Shift"]],callback:function(u,c){t.instance.getSettings().enterBeginsEditing?t.cellProperties.readOnly?t.moveSelectionAfterEnter():t.openEditor(null,u,!0):t.moveSelectionAfterEnter(c.includes("shift")),Xh(u)}}],s)}},{key:"lockEditor",value:function(){this.lock=!0}},{key:"unlockEditor",value:function(){this.lock=!1}},{key:"destroyEditor",value:function(t){this.lock||this.closeEditor(t)}},{key:"getActiveEditor",value:function(){return this.activeEditor}},{key:"prepareEditor",value:function(){var t=this;if(!this.lock){if(this.activeEditor&&this.activeEditor.isWaiting())return void this.closeEditor(!1,!1,function(M){M&&t.prepareEditor()});var r=this.instance.getSelectedRangeLast().highlight,i=r.row,o=r.col,s=this.instance.runHooks("modifyGetCellCoords",i,o),a=i,u=o;if(Array.isArray(s)){var c=function SOe(n,e){return function TOe(n){if(Array.isArray(n))return n}(n)||function EOe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function COe(n,e){if(n){if("string"==typeof n)return vee(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vee(n,e)}}(n,e)||function xOe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2);a=c[0],u=c[1]}this.cellProperties=this.instance.getCellMeta(a,u);var f=this.instance.rootDocument.activeElement;if(f&&f.blur(),!this.isCellEditable())return void this.clearActiveEditor();var p=this.instance.getCell(i,o,!0);if(p){var g=this.instance.getCellEditor(this.cellProperties),y=this.instance.colToProp(u),w=this.instance.getSourceDataAtCell(this.instance.toPhysicalRow(a),u);this.activeEditor=mee(g,this.instance),this.activeEditor.prepare(i,o,y,p,w,this.cellProperties)}}}},{key:"isEditorOpened",value:function(){return this.activeEditor&&this.activeEditor.isOpened()}},{key:"openEditor",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.isCellEditable()){if(!this.activeEditor){var o=this.instance.getSelectedRangeLast().highlight,s=o.row,a=o.col,u=this.instance.rowIndexMapper.getRenderableFromVisualIndex(s),c=this.instance.columnIndexMapper.getRenderableFromVisualIndex(a);this.instance.view.scrollViewport(this.instance._createCellCoords(u,c)),this.instance.view.render(),this.prepareEditor()}this.activeEditor&&(i&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(t,r))}else this.clearActiveEditor()}},{key:"closeEditor",value:function(t,r,i){this.activeEditor?this.activeEditor.finishEditing(t,r,i):i&&i(!1)}},{key:"closeEditorAndSaveChanges",value:function(t){this.closeEditor(!1,t)}},{key:"closeEditorAndRestoreOriginalValue",value:function(t){this.closeEditor(!0,t)}},{key:"clearActiveEditor",value:function(){this.activeEditor=void 0}},{key:"isCellEditable",value:function(){var t=this.instance.getCellEditor(this.cellProperties),r=this.instance.getSelectedRangeLast().highlight,o=r.col,s=this.instance,u=s.columnIndexMapper,c=s.rowIndexMapper.isHidden(this.instance.toPhysicalRow(r.row))||u.isHidden(this.instance.toPhysicalColumn(o));return!(this.cellProperties.readOnly||!t||c)}},{key:"moveSelectionAfterEnter",value:function(t){var r="function"==typeof this.tableMeta.enterMoves?this.tableMeta.enterMoves(event):this.tableMeta.enterMoves;t?this.selection.transformStart(-r.row,-r.col):this.selection.transformStart(r.row,r.col,!0)}},{key:"onAfterDocumentKeyDown",value:function(t){var r=this;if(this.instance.isListening()){var i=t.keyCode;if(this.selection.isSelected()){var o=(t.ctrlKey||t.metaKey)&&!t.altKey;this.activeEditor&&(!this.activeEditor||this.activeEditor.isWaiting())||lee(i)||function sOe(n){return[Rr.CONTROL,Rr.COMMAND_LEFT,Rr.COMMAND_RIGHT,Rr.COMMAND_FIREFOX].includes(n)}(i)||o||this.isEditorOpened()||(this.instance.getShortcutManager().getContext("editor").addShortcuts([{keys:[["ArrowUp"]],callback:function(){r.instance.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:function(){r.instance.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:function(){r.instance.selection.transformStart(0,-1*r.instance.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:function(){r.instance.selection.transformStart(0,r.instance.getDirectionFactor())}}],{runOnlyIf:function(){return fr(r.instance.getSelected())},group:FL}),this.openEditor("",t))}}}},{key:"onCellDblClick",value:function(t,r,i){"TD"===i.nodeName&&this.openEditor(null,t,!0)}},{key:"destroy",value:function(){this.destroyed=!0,this.eventManager.destroy()}}]),n}(),_ee=new WeakMap;qV.getInstance=function(n,e,t){var r=_ee.get(n);return r||(r=new qV(n,e,t),_ee.set(n,r)),r};const AOe=qV;function JV(n){return function IOe(n){if(Array.isArray(n))return QV(n)}(n)||function LOe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function kOe(n,e){if(n){if("string"==typeof n)return QV(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return QV(n,e)}}(n)||function OOe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QV(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}b(6019),b(9394),b(1695),b(149),b(4631);var bee={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},POe=new RegExp(Object.keys(bee).map(function(n){return"(".concat(n,")")}).join("|"),"gi");function NOe(n){return"TABLE"===(n&&n.nodeName||"")}function wee(n){for(var e=n.hasColHeaders(),t=n.hasRowHeaders(),r=[e?-1:0,t?-1:0,n.countRows()-1,n.countCols()-1],i=n.getData.apply(n,r),o=i.length,s=o>0?i[0].length:0,a=["<table>","</table>"],u=e?["<thead>","</thead>"]:[],c=["<tbody>","</tbody>"],f=t?1:0,p=e?1:0,g=0;g<o;g+=1){for(var y=e&&0===g,w=[],M=0;M<s;M+=1){var C=!y&&t&&0===M,I="";if(y)I="<th>".concat(n.getColHeader(M-f),"</th>");else if(C)I="<th>".concat(n.getRowHeader(g-p),"</th>");else{var B=i[g][M],U=n.getCellMeta(g-p,M-f),$=U.rowspan,se=U.colspan;if(!U.hidden){var ge=[];if($&&ge.push('rowspan="'.concat($,'"')),se&&ge.push('colspan="'.concat(se,'"')),nl(B))I="<td ".concat(ge.join(" "),"></td>");else{var re=B.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");I="<td ".concat(ge.join(" "),">").concat(re,"</td>")}}}w.push(I)}var fe=["<tr>"].concat(w,["</tr>"]).join("");y?u.splice(1,0,fe):c.splice(-1,0,fe)}return a.splice(1,0,u.join(""),c.join("")),a.join("")}function Mee(n){for(var e=n.length,t=["<table>"],r=0;r<e;r+=1){var i=n[r],o=i.length,s=[];0===r&&t.push("<tbody>");for(var a=0;a<o;a+=1){var u=i[a],c=nl(u)?"":u.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");s.push("<td>".concat(c,"</td>"))}t.push.apply(t,["<tr>"].concat(s,["</tr>"])),r+1===e&&t.push("</tbody>")}return t.push("</table>"),t.join("")}function HOe(n){return function UOe(n){if(Array.isArray(n))return ez(n)}(n)||function zOe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function VOe(n,e){if(n){if("string"==typeof n)return ez(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ez(n,e)}}(n)||function BOe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ez(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tz(n){return(tz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Yd(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=tz(n);if("number"===t)return!isNaN(n)&&isFinite(n);if("string"===t){if(0===n.length)return!1;if(1===n.length)return/\d/.test(n);var r=Array.from(new Set(["."].concat(HOe(e)))).map(function(i){return"\\".concat(i)}).join("|");return new RegExp("^[+-]?\\s*(((".concat(r,")?\\d+((").concat(r,")\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$"),"i").test(n.trim())}return"object"===t&&!(!n||"number"!=typeof n.valueOf()||n instanceof Date)}function jOe(n){return Yd(n,[","])}function Hr(n,e,t){var r=-1;for("function"==typeof e?(t=e,e=n):r=n-1;++r<=e&&!1!==t(r););}function nz(n,e,t){var r=n+1;for("function"==typeof e&&(t=e,e=0);--r>=e&&!1!==t(r););}function See(n,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(n*e/100,10)}function WOe(n){return function $Oe(n){if(Array.isArray(n))return rz(n)}(n)||function GOe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||xee(n)||function YOe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XOe(n,e){return function qOe(n){if(Array.isArray(n))return n}(n)||function ZOe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||xee(n,e)||function KOe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xee(n,e){if(n){if("string"==typeof n)return rz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rz(n,e)}}function rz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var iz="asc",Cee=new Map([[iz,[-1,1]],["desc",[1,-1]]]),QOe=function(e){return"The priority '".concat(e,"' is already declared in a map.")},eke=function(e){return"The priority '".concat(e,"' is not a number.")};function nke(n){return function oke(n){if(Array.isArray(n))return oz(n)}(n)||function ike(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Tee(n)||function rke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eee(n,e){return function lke(n){if(Array.isArray(n))return n}(n)||function ake(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Tee(n,e)||function ske(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tee(n,e){if(n){if("string"==typeof n)return oz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oz(n,e)}}function oz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}b(7114);var uke=function(e){return"The id '".concat(e,"' is already declared in a map.")};function HL(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorIdExists,t=new Map;function r(f,p){if(c(f))throw new Error(e(f));t.set(f,p)}function i(f){return t.delete(f)}function o(){t.clear()}function s(f){var p=u().find(function(w){var M=Eee(w,2);return f===M[1]&&M[0]})||[null];return Eee(p,1)[0]}function a(f){return t.get(f)}function u(){return nke(t)}function c(f){return t.has(f)}return e=Ss(e)?e:uke,{addItem:r,clear:o,getId:s,getItem:a,getItems:u,hasItem:c,removeItem:i}}function cke(n){return function pke(n){if(Array.isArray(n))return sz(n)}(n)||function hke(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function fke(n,e){if(n){if("string"==typeof n)return sz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sz(n,e)}}(n)||function dke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var mke=function(e){return"'".concat(e,"' value is already declared in a unique set.")};function Ree(n){return function Ske(n){if(Array.isArray(n))return az(n)}(n)||function Mke(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Dee(n)||function wke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dee(n,e){if(n){if("string"==typeof n)return az(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return az(n,e)}}function az(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var lz=function(e){return'There is already registered "'.concat(e,'" plugin.')},Aee=function tke(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorPriorityExists,t=n.errorPriorityNaN,r=new Map;function i(s,a){if(!Yd(s))throw new Error(t(s));if(r.has(s))throw new Error(e(s));r.set(s,a)}function o(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iz,a=Cee.get(s)||Cee.get(iz),u=XOe(a,2),c=u[0],f=u[1];return WOe(r).sort(function(p,g){return p[0]<g[0]?c:f}).map(function(p){return p[1]})}return e=Ss(e)?e:QOe,t=Ss(t)?t:eke,{addItem:i,getItems:o}}({errorPriorityExists:function(e){return'There is already registered plugin on priority "'.concat(e,'".')},errorPriorityNaN:function(e){return'The priority "'.concat(e,'" is not a number.')}}),Oee=function gke(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorItemExists,t=new Set;function r(s){if(t.has(s))throw new Error(e(s));t.add(s)}function i(){return cke(t)}function o(){t.clear()}return e=Ss(e)?e:mke,{addItem:r,clear:o,getItems:i}}({errorItemExists:lz}),uz=HL({errorIdExists:lz});function kee(){return[].concat(Ree(Aee.getItems()),Ree(Oee.getItems()))}function cz(n){var e=Mm(n);return uz.getItem(e)}function Vo(n,e,t){var r=function Rke(n,e,t){return"function"==typeof n&&(n=(e=n).PLUGIN_KEY,t=e.PLUGIN_PRIORITY),[n,e,t]}(n,e,t),i=function vke(n,e){return function bke(n){if(Array.isArray(n))return n}(n)||function _ke(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Dee(n,e)||function yke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,3);e=i[1],t=i[2],void 0===cz(n=i[0])&&function Tke(n,e,t){var r=Mm(n);if(uz.hasItem(r))throw new Error(lz(r));void 0===t?Oee.addItem(r):Aee.addItem(t,r),uz.addItem(r,e)}(n,e,t)}var o1=Wd("renderers"),Dke=o1.register,Ake=o1.getItem,Lee=o1.hasItem;function Oke(n){if("function"==typeof n)return n;if(!Lee(n))throw Error('No registered renderer found under "'.concat(n,'" name'));return Ake(n)}function Sm(n,e){"string"!=typeof n&&(n=(e=n).RENDERER_TYPE),Dke(n,e)}var s1=Wd("validators"),kke=s1.register,Lke=s1.getItem,Iee=s1.hasItem;function Ike(n){if("function"==typeof n)return n;if(!Iee(n))throw Error('No registered validator found under "'.concat(n,'" name'));return Lke(n)}function a1(n,e){"string"!=typeof n&&(n=(e=n).VALIDATOR_TYPE),kke(n,e)}function Pke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Pee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(5281),b(4448);var FS=new WeakMap;const Nee=function(){function n(e,t,r,i,o,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Pke(this,n),this.wtSettings=r,this.domBindings=t,this.wtTable=o,this.selections=s,this.parent=a,this.eventManager=i,this.facadeGetter=e,FS.set(this,{selectedCellBeforeTouchEnd:void 0,dblClickTimeout:[null,null],dblClickOrigin:[null,null]}),this.registerEvents()}return function Nke(n,e,t){e&&Pee(n.prototype,e),t&&Pee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(this.wtTable.holder,"contextmenu",function(o){return t.onContextMenu(o)}),this.eventManager.addEventListener(this.wtTable.TABLE,"mouseover",function(o){return t.onMouseOver(o)}),this.eventManager.addEventListener(this.wtTable.TABLE,"mouseout",function(o){return t.onMouseOut(o)});var r=function(){t.eventManager.addEventListener(t.wtTable.holder,"touchstart",function(s){return t.onTouchStart(s)}),t.eventManager.addEventListener(t.wtTable.holder,"touchend",function(s){return t.onTouchEnd(s)}),t.momentumScrolling||(t.momentumScrolling={}),t.eventManager.addEventListener(t.wtTable.holder,"scroll",function(){clearTimeout(t.momentumScrolling._timeout),t.momentumScrolling.ongoing||t.wtSettings.getSetting("onBeforeTouchScroll"),t.momentumScrolling.ongoing=!0,t.momentumScrolling._timeout=setTimeout(function(){t.touchApplied||(t.momentumScrolling.ongoing=!1,t.wtSettings.getSetting("onAfterMomentumScroll"))},200)})};$h()?r():(TQ()&&r(),t.eventManager.addEventListener(t.wtTable.holder,"mouseup",function(s){return t.onMouseUp(s)}),t.eventManager.addEventListener(t.wtTable.holder,"mousedown",function(s){return t.onMouseDown(s)}))}},{key:"selectedCellWasTouched",value:function(t){var r=FS.get(this),o=this.parentCell(t).coords;if(r.selectedCellBeforeTouchEnd&&o){var s=[o.row,r.selectedCellBeforeTouchEnd.from.row],c=[o.col,r.selectedCellBeforeTouchEnd.from.col];return s[0]===s[1]&&c[0]===c[1]}return!1}},{key:"parentCell",value:function(t){var r={},o=TL(t,["TD","TH"],this.wtTable.TABLE);return o?(r.coords=this.wtTable.getCoords(o),r.TD=o):_i(t,"wtBorder")&&_i(t,"current")?(r.coords=this.selections.getCell().cellRange.highlight,r.TD=this.wtTable.getCell(r.coords)):_i(t,"wtBorder")&&_i(t,"area")&&this.selections.createOrGetArea().cellRange&&(r.coords=this.selections.createOrGetArea().cellRange.to,r.TD=this.wtTable.getCell(r.coords)),r}},{key:"onMouseDown",value:function(t){var r=FS.get(this),i=this.domBindings.rootDocument.activeElement,o=aee(zAe,t.target),s=t.target;if(s!==i&&o(0)!==i&&o(1)!==i){var a=this.parentCell(s);_i(s,"corner")?this.wtSettings.getSetting("onCellCornerMouseDown",t,s):a.TD&&this.wtSettings.has("onCellMouseDown")&&this.callListener("onCellMouseDown",t,a.coords,a.TD),(0===t.button||this.touchApplied)&&a.TD&&(r.dblClickOrigin[0]=a.TD,clearTimeout(r.dblClickTimeout[0]),r.dblClickTimeout[0]=setTimeout(function(){r.dblClickOrigin[0]=null},1e3))}}},{key:"onContextMenu",value:function(t){if(this.wtSettings.has("onCellContextMenu")){var r=this.parentCell(t.target);r.TD&&this.callListener("onCellContextMenu",t,r.coords,r.TD)}}},{key:"onMouseOver",value:function(t){if(this.wtSettings.has("onCellMouseOver")){var r=this.wtTable.TABLE,i=TL(t.target,["TD","TH"],r),o=this.parent||this;i&&i!==o.lastMouseOver&&Mb(i,r)&&(o.lastMouseOver=i,this.callListener("onCellMouseOver",t,this.wtTable.getCoords(i),i))}}},{key:"onMouseOut",value:function(t){if(this.wtSettings.has("onCellMouseOut")){var r=this.wtTable.TABLE,i=TL(t.target,["TD","TH"],r),o=TL(t.relatedTarget,["TD","TH"],r);i&&i!==o&&Mb(i,r)&&this.callListener("onCellMouseOut",t,this.wtTable.getCoords(i),i)}}},{key:"onMouseUp",value:function(t){var r=FS.get(this),i=this.parentCell(t.target);i.TD&&this.wtSettings.has("onCellMouseUp")&&this.callListener("onCellMouseUp",t,i.coords,i.TD),(0===t.button||this.touchApplied)&&(i.TD===r.dblClickOrigin[0]&&i.TD===r.dblClickOrigin[1]?(_i(t.target,"corner")?this.callListener("onCellCornerDblClick",t,i.coords,i.TD):this.callListener("onCellDblClick",t,i.coords,i.TD),r.dblClickOrigin[0]=null,r.dblClickOrigin[1]=null):i.TD===r.dblClickOrigin[0]&&(r.dblClickOrigin[1]=i.TD,clearTimeout(r.dblClickTimeout[1]),r.dblClickTimeout[1]=setTimeout(function(){r.dblClickOrigin[1]=null},500)))}},{key:"onTouchStart",value:function(t){FS.get(this).selectedCellBeforeTouchEnd=this.selections.getCell().cellRange,this.touchApplied=!0,this.onMouseDown(t)}},{key:"onTouchEnd",value:function(t){var r,i=t.target,o=null===(r=this.parentCell(i))||void 0===r?void 0:r.coords,s=fr(o)&&o.row>=0&&o.col>=0;t.cancelable&&s&&this.wtSettings.getSetting("isDataViewInstance")&&(PQ()&&(function AAe(){return Qc.chromeWebKit.value}()||function OAe(){return Qc.firefoxWebKit.value}())&&this.selectedCellWasTouched(i)&&!["A","BUTTON","INPUT"].includes(i.tagName)?t.preventDefault():this.selectedCellWasTouched(i)||t.preventDefault()),this.onMouseUp(t),this.touchApplied=!1}},{key:"callListener",value:function(t,r,i,o){var s=this.wtSettings.getSettingPure(t);s&&s(r,i,o,this.facadeGetter())}},{key:"destroy",value:function(){var t=FS.get(this);clearTimeout(t.dblClickTimeout[0]),clearTimeout(t.dblClickTimeout[1]),this.eventManager.destroy()}}]),n}();function Fee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const zke=function(){function n(e,t,r){(function Hke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.offset=e,this.total=t,this.countTH=r}return function Bke(n,e,t){e&&Fee(n.prototype,e),t&&Fee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),n}();function Hee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Yke=function(){function n(e,t,r){(function Uke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.offset=e,this.total=t,this.countTH=r}return function jke(n,e,t){e&&Hee(n.prototype,e),t&&Hee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceRowToVisibleColHeadedRow",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),n}();function Bee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Vee=function(){function n(){(function $ke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.currentSize=0,this.nextSize=0,this.currentOffset=0,this.nextOffset=0}return function Xke(n,e,t){e&&Bee(n.prototype,e),t&&Bee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){this.currentSize=this.nextSize,this.nextSize=t}},{key:"setOffset",value:function(t){this.currentOffset=this.nextOffset,this.nextOffset=t}}]),n}();function zee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var qke=function(){function n(){(function Kke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.size=new Vee,this.workingSpace=0,this.sharedSize=null}return function Zke(n,e,t){e&&zee(n.prototype,e),t&&zee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){this.size.setSize(t)}},{key:"setOffset",value:function(t){this.size.setOffset(t)}},{key:"getViewSize",value:function(){return this.size}},{key:"isShared",value:function(){return this.sharedSize instanceof Vee}},{key:"isPlaceOn",value:function(t){return this.workingSpace===t}},{key:"append",value:function(t){this.workingSpace=1,t.workingSpace=2,this.sharedSize=t.getViewSize()}},{key:"prepend",value:function(t){this.workingSpace=2,t.workingSpace=1,this.sharedSize=t.getViewSize()}}]),n}();function Uee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var jee=function(){function n(e,t,r){(function Jke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootNode=e,this.nodesPool=t,this.sizeSet=new qke,this.childNodeType=r.toUpperCase(),this.visualIndex=0,this.collectedNodes=[]}return function Qke(n,e,t){e&&Uee(n.prototype,e),t&&Uee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){return this.sizeSet.setSize(t),this}},{key:"setOffset",value:function(t){return this.sizeSet.setOffset(t),this}},{key:"isSharedViewSet",value:function(){return this.sizeSet.isShared()}},{key:"getNode",value:function(t){return t<this.collectedNodes.length?this.collectedNodes[t]:null}},{key:"getCurrentNode",value:function(){var t=this.collectedNodes.length;return t>0?this.collectedNodes[t-1]:null}},{key:"getRenderedChildCount",value:function(){var t=this.rootNode,r=this.sizeSet,i=0;if(this.isSharedViewSet())for(var o=t.firstElementChild;o;){if(o.tagName===this.childNodeType)i+=1;else if(r.isPlaceOn(1))break;o=o.nextElementSibling}else i=t.childElementCount;return i}},{key:"start",value:function(){this.collectedNodes.length=0,this.visualIndex=0;for(var t=this.rootNode,r=this.sizeSet,i=this.isSharedViewSet(),s=r.getViewSize().nextSize,a=this.getRenderedChildCount();a<s;){var u=this.nodesPool();!i||i&&r.isPlaceOn(2)?t.appendChild(u):t.insertBefore(u,t.firstChild),a+=1}for(var c=i&&r.isPlaceOn(1);a>s;)t.removeChild(c?t.firstChild:t.lastChild),a-=1}},{key:"render",value:function(){var t=this.rootNode,r=this.sizeSet,i=this.visualIndex;this.isSharedViewSet()&&r.isPlaceOn(2)&&(i+=r.sharedSize.nextSize);var o=t.childNodes[i];if(o.tagName!==this.childNodeType){var s=this.nodesPool();t.replaceChild(s,o),o=s}this.collectedNodes.push(o),this.visualIndex+=1}},{key:"end",value:function(){}}]),n}();function dz(n){return(dz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function eLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Wee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function fz(n,e){return(fz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function iLe(n,e){if(e&&("object"===dz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function oLe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function zL(n){return(zL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Yee=function(n){!function nLe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&fz(n,e)}(t,n);var e=function rLe(n){var e=function sLe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=zL(n);if(e){var o=zL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return iLe(this,i)}}(t);function t(){return eLe(this,t),e.apply(this,arguments)}return function tLe(n,e,t){e&&Wee(n.prototype,e),t&&Wee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prependView",value:function(i){return this.sizeSet.prepend(i.sizeSet),i.sizeSet.append(this.sizeSet),this}},{key:"appendView",value:function(i){return this.sizeSet.append(i.sizeSet),i.sizeSet.prepend(this.sizeSet),this}}]),t}(jee);function Gee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var uLe=function(){function n(e){(function aLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.nodeType=e.toUpperCase()}return function lLe(n,e,t){e&&Gee(n.prototype,e),t&&Gee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setRootDocument",value:function(t){this.rootDocument=t}},{key:"obtain",value:function(){return this.rootDocument.createElement(this.nodeType)}}]),n}();function $ee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var l1=function(){function n(e,t){(function cLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.nodesPool="string"==typeof e?new uLe(e):null,this.nodeType=e,this.rootNode=t,this.table=null,this.renderedNodes=0}return function dLe(n,e,t){e&&$ee(n.prototype,e),t&&$ee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setTable",value:function(t){this.nodesPool&&this.nodesPool.setRootDocument(t.rootDocument),this.table=t}},{key:"adjust",value:function(){}},{key:"render",value:function(){}}]),n}();function hz(n){return(hz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Xee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function pz(n,e){return(pz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function gLe(n,e){if(e&&("object"===hz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function vLe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function UL(n){return(UL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var _Le=function(n){!function pLe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&pz(n,e)}(t,n);var e=function mLe(n){var e=function yLe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=UL(n);if(e){var o=UL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gLe(this,i)}}(t);function t(){var r;return function fLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this,"TH")).orderViews=new WeakMap,r.sourceRowIndex=0,r}return function hLe(n,e,t){e&&Xee(n.prototype,e),t&&Xee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"obtainOrderView",value:function(i){var s,o=this;return this.orderViews.has(i)?s=this.orderViews.get(i):(s=new Yee(i,function(a){return o.nodesPool.obtain(o.sourceRowIndex,a)},this.nodeType),this.orderViews.set(i,s)),s}},{key:"render",value:function(){for(var i=this.table,o=i.rowsToRender,s=i.rowHeaderFunctions,a=i.rowHeadersCount,u=i.rows,c=i.cells,f=0;f<o;f++){var p=this.table.renderedRowToSource(f),g=u.getRenderedNode(f);this.sourceRowIndex=p;var y=this.obtainOrderView(g),w=c.obtainOrderView(g);y.appendView(w).setSize(a).setOffset(this.table.renderedColumnToSource(0)).start();for(var M=0;M<a;M++){y.render();var C=y.getCurrentNode();C.className="",C.removeAttribute("style"),s[M](p,C,M)}y.end()}}}]),t}(l1);function mz(n){return(mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Kee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function gz(n,e){return(gz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function xLe(n,e){if(e&&("object"===mz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function CLe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function jL(n){return(jL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var TLe=function(n){!function MLe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&gz(n,e)}(t,n);var e=function SLe(n){var e=function ELe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=jL(n);if(e){var o=jL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xLe(this,i)}}(t);function t(r){return function bLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,null,r)}return function wLe(n,e,t){e&&Kee(n.prototype,e),t&&Kee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"adjust",value:function(){var i=this.table,o=i.columnHeadersCount,a=this.rootNode.firstChild;if(o){for(var c=this.table.columnsToRender+i.rowHeadersCount,f=0,p=o;f<p;f++){for((a=this.rootNode.childNodes[f])||(a=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(a)),this.renderedNodes=a.childNodes.length;this.renderedNodes<c;)a.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>c;)a.removeChild(a.lastChild),this.renderedNodes-=1}var g=this.rootNode.childNodes.length;if(g>o)for(var y=o;y<g;y++)this.rootNode.removeChild(this.rootNode.lastChild)}else a&&Zf(a)}},{key:"render",value:function(){for(var i=this.table.columnHeadersCount,o=0;o<i;o+=1)for(var s=this.table,a=s.columnHeaderFunctions,u=s.columnsToRender,c=s.rowHeadersCount,f=this.rootNode.childNodes[o],p=-1*c;p<u;p+=1){var g=this.table.renderedColumnToSource(p),y=f.childNodes[p+c];y.className="",y.removeAttribute("style"),a[o](g,y,o)}}}]),t}(l1);function vz(n){return(vz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Zee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function yz(n,e){return(yz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function kLe(n,e){if(e&&("object"===vz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function LLe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function WL(n){return(WL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var qee,PLe=function(n){!function ALe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&yz(n,e)}(t,n);var e=function OLe(n){var e=function ILe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=WL(n);if(e){var o=WL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kLe(this,i)}}(t);function t(r){return function RLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,null,r)}return function DLe(n,e,t){e&&Zee(n.prototype,e),t&&Zee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"adjust",value:function(){for(var i=this.table,a=i.columnsToRender+i.rowHeadersCount;this.renderedNodes<a;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>a;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}},{key:"render",value:function(){this.adjust();for(var i=this.table,o=i.columnsToRender,s=i.rowHeadersCount,a=0;a<s;a++){var u=this.table.renderedColumnToSource(a),c=this.table.columnUtils.getHeaderWidth(u);this.rootNode.childNodes[a].style.width="".concat(c,"px")}for(var f=0;f<o;f++){var p=this.table.renderedColumnToSource(f),g=this.table.columnUtils.getStretchedColumnWidth(p);this.rootNode.childNodes[f+s].style.width="".concat(g,"px")}var y=this.rootNode.firstChild;y&&Cn(y,"rowHeader")}}]),t}(l1);function _z(n){return(_z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Jee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function bz(n,e){return(bz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function zLe(n,e){if(e&&("object"===_z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function ULe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function YL(n){return(YL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Qee=!1,WLe=function(n){!function BLe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&bz(n,e)}(t,n);var e=function VLe(n){var e=function jLe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=YL(n);if(e){var o=YL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return zLe(this,i)}}(t);function t(r){var i;return function FLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,"TR",r)).orderView=new jee(r,function(o){return i.nodesPool.obtain(o)},i.nodeType),i}return function HLe(n,e,t){e&&Jee(n.prototype,e),t&&Jee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getRenderedNode",value:function(i){return this.orderView.getNode(i)}},{key:"render",value:function(){var i=this.table.rowsToRender;!Qee&&i>1e3&&(Qee=!0,xs(cs(qee||(qee=function NLe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting \n        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.'],['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting\\x20\n        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.']))))),this.orderView.setSize(i).setOffset(this.table.renderedRowToSource(0)).start();for(var o=0;o<i;o++)this.orderView.render();this.orderView.end()}}]),t}(l1);function wz(n){return(wz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ete(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Mz(n,e){return(Mz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function KLe(n,e){if(e&&("object"===wz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function ZLe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function GL(n){return(GL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var JLe=function(n){!function $Le(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Mz(n,e)}(t,n);var e=function XLe(n){var e=function qLe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=GL(n);if(e){var o=GL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return KLe(this,i)}}(t);function t(){var r;return function YLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this,"TD")).orderViews=new WeakMap,r.sourceRowIndex=0,r}return function GLe(n,e,t){e&&ete(n.prototype,e),t&&ete(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"obtainOrderView",value:function(i){var s,o=this;return this.orderViews.has(i)?s=this.orderViews.get(i):(s=new Yee(i,function(a){return o.nodesPool.obtain(o.sourceRowIndex,a)},this.nodeType),this.orderViews.set(i,s)),s}},{key:"render",value:function(){for(var i=this.table,o=i.rowsToRender,s=i.columnsToRender,a=i.rows,u=i.rowHeaders,c=0;c<o;c++){var f=this.table.renderedRowToSource(c),p=a.getRenderedNode(c);this.sourceRowIndex=f;var g=this.obtainOrderView(p),y=u.obtainOrderView(p);g.prependView(y).setSize(s).setOffset(this.table.renderedColumnToSource(0)).start();for(var w=0;w<s;w++){g.render();var M=g.getCurrentNode(),C=this.table.renderedColumnToSource(w);_i(M,"hide")||(M.className=""),M.removeAttribute("style"),M.removeAttribute("dir"),this.table.cellRenderer(f,C,M)}g.end()}}}]),t}(l1);function QLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function tte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var tIe=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.cellRenderer;QLe(this,n),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.rowHeaders=null,this.columnHeaders=null,this.colGroup=null,this.rows=null,this.cells=null,this.rowFilter=null,this.columnFilter=null,this.rowUtils=null,this.columnUtils=null,this.rowsToRender=0,this.columnsToRender=0,this.rowHeaderFunctions=[],this.rowHeadersCount=0,this.columnHeaderFunctions=[],this.columnHeadersCount=0,this.cellRenderer=r}return function eIe(n,e,t){e&&tte(n.prototype,e),t&&tte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setAxisUtils",value:function(t,r){this.rowUtils=t,this.columnUtils=r}},{key:"setViewportSize",value:function(t,r){this.rowsToRender=t,this.columnsToRender=r}},{key:"setFilters",value:function(t,r){this.rowFilter=t,this.columnFilter=r}},{key:"setHeaderContentRenderers",value:function(t,r){this.rowHeaderFunctions=t,this.rowHeadersCount=t.length,this.columnHeaderFunctions=r,this.columnHeadersCount=r.length}},{key:"setRenderers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.rowHeaders,i=t.columnHeaders,o=t.colGroup,s=t.rows,a=t.cells;r.setTable(this),i.setTable(this),o.setTable(this),s.setTable(this),a.setTable(this),this.rowHeaders=r,this.columnHeaders=i,this.colGroup=o,this.rows=s,this.cells=a}},{key:"renderedRowToSource",value:function(t){return this.rowFilter.renderedToSource(t)}},{key:"renderedColumnToSource",value:function(t){return this.columnFilter.renderedToSource(t)}},{key:"render",value:function(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();for(var t=this.rowsToRender,r=this.rows,i=0;i<t;i++){var o=r.getRenderedNode(i);if(o.firstChild){var s=this.renderedRowToSource(i),a=this.rowUtils.getHeight(s);o.firstChild.style.height=a?"".concat(a-1,"px"):""}}}}]),n}();function nIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var iIe=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TABLE,r=e.THEAD,i=e.COLGROUP,o=e.TBODY,s=e.rowUtils,a=e.columnUtils,u=e.cellRenderer;nIe(this,n),this.renderer=new tIe(t,{cellRenderer:u}),this.renderer.setRenderers({rowHeaders:new _Le,columnHeaders:new TLe(r),colGroup:new PLe(i),rows:new WLe(o),cells:new JLe}),this.renderer.setAxisUtils(s,a)}return function rIe(n,e,t){e&&nte(n.prototype,e),t&&nte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setFilters",value:function(t,r){return this.renderer.setFilters(t,r),this}},{key:"setViewportSize",value:function(t,r){return this.renderer.setViewportSize(t,r),this}},{key:"setHeaderContentRenderers",value:function(t,r){return this.renderer.setHeaderContentRenderers(t,r),this}},{key:"adjust",value:function(){this.renderer.adjust()}},{key:"render",value:function(){this.renderer.render()}}]),n}();function rte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var aIe=function(){function n(e,t){(function oIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wtSettings=t,this.headerWidths=new Map}return function sIe(n,e,t){e&&rte(n.prototype,e),t&&rte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getWidth",value:function(t){return this.wtSettings.getSetting("columnWidth",t)||this.wtSettings.getSetting("defaultColumnWidth")}},{key:"getStretchedColumnWidth",value:function(t){var r=this.dataAccessObject.wtViewport.columnsRenderCalculator,i=this.getWidth(t);if(r){var o=r.getStretchedColumnWidth(t,i);o&&(i=o)}return i}},{key:"getHeaderHeight",value:function(t){var r=this.wtSettings.getSetting("defaultRowHeight"),i=this.dataAccessObject.wtViewport.oversizedColumnHeaders[t];return void 0!==i&&(r=r?Math.max(r,i):i),r}},{key:"getHeaderWidth",value:function(t){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(t))}},{key:"calculateWidths",value:function(){var t=this.wtSettings,r=this.dataAccessObject,o=r.wtViewport,s=r.cloneSource,a=s?s.wtTable.holder:r.wtTable.holder,u=a.offsetHeight<a.scrollHeight?yl():0,c=t.getSetting("rowHeaderWidth");if(o.columnsRenderCalculator.refreshStretching(o.getViewportWidth()-u),null!=(c=t.getSetting("onModifyRowHeaderWidth",c)))for(var f=t.getSetting("rowHeaders").length,p=t.getSetting("defaultColumnWidth"),g=0;g<f;g++){var y=Array.isArray(c)?c[g]:c;this.headerWidths.set(g,y=null==y?p:y)}}}]),n}();function ite(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var cIe=function(){function n(e,t){(function lIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wtSettings=t}return function uIe(n,e,t){e&&ite(n.prototype,e),t&&ite(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getHeight",value:function(t){var r=this.wtSettings.getSetting("rowHeight",t),i=this.dataAccessObject.wtViewport.oversizedRows[t];return void 0!==i&&(r=void 0===r?i:Math.max(r,i)),r}}]),n}(),Rb="top",Kh="bottom",Db="inline_start",Ab="top_inline_start_corner",$v="bottom_inline_start_corner",dIe=[Rb,Kh,Db,Ab,$v],fIe=new Map([[Rb,"ht_clone_".concat(Rb)],[Kh,"ht_clone_".concat(Kh)],[Db,"ht_clone_".concat(Db," ht_clone_left")],[Ab,"ht_clone_".concat(Ab," ht_clone_top_left_corner")],[$v,"ht_clone_".concat($v," ht_clone_bottom_left_corner")]]);function ote(n,e){if(n){if("string"==typeof n)return Sz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sz(n,e)}}function Sz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ste(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Zh(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const HS=function(){function n(e,t,r,i,o){var s=this;(function wIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),Zh(this,"wtSettings",null),Zh(this,"domBindings",void 0),Zh(this,"TBODY",null),Zh(this,"THEAD",null),Zh(this,"COLGROUP",null),Zh(this,"hasTableHeight",!0),Zh(this,"hasTableWidth",!0),Zh(this,"isTableVisible",!1),Zh(this,"tableOffset",0),Zh(this,"holderOffset",0),this.domBindings=r,this.isMaster="master"===o,this.name=o,this.dataAccessObject=e,this.facadeGetter=t,this.wtSettings=i,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=r.rootTable,YQ(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var a=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",function(){return s._modifyRowHeaderWidth(a)}),this.rowUtils=new cIe(this.dataAccessObject,this.wtSettings),this.columnUtils=new aIe(this.dataAccessObject,this.wtSettings),this.tableRenderer=new iIe({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}return function MIe(n,e,t){e&&ste(n.prototype,e),t&&ste(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"is",value:function(t){return this.name===t}},{key:"fixTableDomTree",value:function(){var t=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=t.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=t.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=t.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}},{key:"createSpreader",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!_i(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).className="wtSpreader",r&&r.insertBefore(i,t),i.appendChild(t)),i.style.position="relative",i}},{key:"createHider",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!_i(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).className="wtHider",r&&r.insertBefore(i,t),i.appendChild(t)),i}},{key:"createHolder",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!_i(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).style.position="relative",i.className="wtHolder",r&&r.insertBefore(i,t),this.isMaster&&(i.parentNode.className+="ht_master handsontable",i.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr")),i.appendChild(t)),i}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.wtSettings,i=this.dataAccessObject,o=i.wtOverlays,s=i.wtViewport,a=r.getSetting("totalRows"),u=r.getSetting("totalColumns"),c=r.getSetting("rowHeaders"),f=c.length,p=r.getSetting("columnHeaders"),g=p.length,y=!1,w=t;if(this.isMaster&&(this.holderOffset=Ba(this.holder),w=s.createRenderCalculators(w),f&&!r.getSetting("fixedColumnsStart"))){var M=o.inlineStartOverlay.getScrollPosition(),C=this.correctHeaderWidth;this.correctHeaderWidth=0!==M,C!==this.correctHeaderWidth&&(w=!1)}if(this.isMaster&&(y=o.updateStateOfRendering()),w)this.isMaster&&s.createVisibleCalculators(),o&&o.refresh(!0);else{this.tableOffset=this.isMaster?Ba(this.TABLE):this.dataAccessObject.parentTableOffset;var I=a>0?this.getFirstRenderedRow():0,B=u>0?this.getFirstRenderedColumn():0;this.rowFilter=new Yke(I,a,g),this.columnFilter=new zke(B,u,f);var $,U=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();var j={};this.wtSettings.getSetting("beforeDraw",!0,j),U=!0!==j.skipRender}if(U)if(this.tableRenderer.setHeaderContentRenderers(c,p),(this.is(Kh)||this.is($v))&&this.tableRenderer.setHeaderContentRenderers(c,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render(),this.isMaster&&($=this.dataAccessObject.workspaceWidth,this.dataAccessObject.wtViewport.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(Kh))&&this.markOversizedRows(),this.isMaster){this.dataAccessObject.wtViewport.createVisibleCalculators(),this.dataAccessObject.wtOverlays.refresh(!1),this.dataAccessObject.wtOverlays.applyToDOM();var se=us(this.hider),ge=us(this.TABLE);0!==se&&ge!==se&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),$!==this.dataAccessObject.wtViewport.getWorkspaceWidth()&&(this.dataAccessObject.wtViewport.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(Kh)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}var re=!1;return this.isMaster&&(re=o.topOverlay.resetFixedPosition(),o.bottomOverlay.clone&&(re=o.bottomOverlay.resetFixedPosition()||re),re=o.inlineStartOverlay.resetFixedPosition()||re,o.topInlineStartCornerOverlay&&o.topInlineStartCornerOverlay.resetFixedPosition(),o.bottomInlineStartCornerOverlay&&o.bottomInlineStartCornerOverlay.clone&&o.bottomInlineStartCornerOverlay.resetFixedPosition()),re?(o.refreshAll(),o.adjustElementsSize()):this.refreshSelections(w),y&&o.syncScrollWithMaster(),this.dataAccessObject.drawn=!0,this}},{key:"markIfOversizedColumnHeader",value:function(t){for(var s,a,u,r=this.columnFilter.renderedToSource(t),i=this.wtSettings.getSetting("columnHeaders").length,o=this.wtSettings.getSetting("defaultRowHeight"),c=this.wtSettings.getSetting("columnHeaderHeight")||[];i;)s=this.getColumnHeaderHeight(i-=1),(a=this.getColumnHeader(r,i))&&(u=Gv(a),(!s&&o<u||s<u)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=u),Array.isArray(c)?null!=c[i]&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c[i]):isNaN(c)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c),this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]<(c[i]||c)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c[i]||c))}},{key:"adjustColumnHeaderHeights",value:function(){for(var r=this.THEAD.childNodes,i=this.dataAccessObject.wtViewport.oversizedColumnHeaders,s=0,a=this.wtSettings.getSetting("columnHeaders").length;s<a;s++)if(i[s]){if(!r[s]||0===r[s].childNodes.length)return;r[s].childNodes[0].style.height="".concat(i[s],"px")}}},{key:"resetOversizedRows",value:function(){var t=this.wtSettings,r=this.dataAccessObject.wtViewport;if((this.isMaster||this.is(Kh))&&!t.getSetting("externalRowCalculator"))for(var i=this.getRenderedRowsCount(),o=0;o<i;o++){var s=this.rowFilter.renderedToSource(o);r.oversizedRows&&r.oversizedRows[s]&&(r.oversizedRows[s]=void 0)}}},{key:"removeClassFromCells",value:function(t){for(var r=this.TABLE.querySelectorAll(".".concat(t)),i=0,o=r.length;i<o;i++)Ii(r[i],t)}},{key:"refreshSelections",value:function(t){var r=this.wtSettings,i=this.dataAccessObject.selections;if(i){var o=Array.from(i),s=o.length;if(t){for(var a=[],u=0;u<s;u++){for(var c=o[u].settings,f=c.highlightHeaderClassName,p=c.highlightRowClassName,g=c.highlightColumnClassName,y=o[u].classNames,w=y.length,M=0;M<w;M++)a.includes(y[M])||a.push(y[M]);f&&!a.includes(f)&&a.push(f),p&&!a.includes(p)&&a.push(p),g&&!a.includes(g)&&a.push(g)}var C=r.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(C))for(var I=0;I<C.length;I++)a.push(C[I]);for(var B=a.length,U=0;U<B;U++)this.removeClassFromCells(a[U])}for(var j=0;j<s;j++)o[j].draw(this.facadeGetter(),t)}}},{key:"getCell",value:function(t){var a,r=t.row,i=t.col,o=this.wtSettings.getSetting("onModifyGetCellCoords",r,i);if(o&&Array.isArray(o)){var s=function vIe(n,e){return function bIe(n){if(Array.isArray(n))return n}(n)||function _Ie(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||ote(n,e)||function yIe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,2);r=s[0],i=s[1]}if(this.isRowBeforeRenderedRows(r))return-1;if(this.isRowAfterRenderedRows(r))return-2;if(this.isColumnBeforeRenderedColumns(i))return-3;if(this.isColumnAfterRenderedColumns(i))return-4;if(!(a=r<0?this.THEAD.childNodes[this.rowFilter.sourceRowToVisibleColHeadedRow(r)]:this.TBODY.childNodes[this.rowFilter.sourceToRendered(r)])&&r>=0)throw new Error("TR was expected to be rendered but is not");var u=a.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(i)];if(!u&&i>=0)throw new Error("TD or TH was expected to be rendered but is not");return u}},{key:"getColumnHeader",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.THEAD.childNodes[r];return null==i?void 0:i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]}},{key:"getColumnHeaders",value:function(t){var r=[],i=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t);return this.THEAD.childNodes.forEach(function(o){var s=o.childNodes[i];s&&r.push(s)}),r}},{key:"getRowHeader",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0!==this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0)){var i=this.wtSettings.getSetting("rowHeaders").length;if(!(r>=i)){var o=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return null==o?void 0:o.childNodes[r]}}}},{key:"getRowHeaders",value:function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return[];for(var r=[],i=this.wtSettings.getSetting("rowHeaders").length,o=0;o<i;o++){var s=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)],a=null==s?void 0:s.childNodes[o];a&&r.push(a)}return r}},{key:"getCoords",value:function(t){var r=t;if("TD"!==r.nodeName&&"TH"!==r.nodeName&&(r=wb(r,["TD","TH"])),null===r)return null;var i=r.parentNode,o=i.parentNode,s=function jAe(n){var e=0,t=n;if(t.previousSibling)for(;t=t.previousSibling;)e+=1;return e}(i),a=r.cellIndex;return Sb(Ab,r,this.wtRootElement)||Sb(Rb,r,this.wtRootElement)?"THEAD"===o.nodeName&&(s-=o.childNodes.length):s=Sb($v,r,this.wtRootElement)||Sb(Kh,r,this.wtRootElement)?this.wtSettings.getSetting("totalRows")-o.childNodes.length+s:o===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(s):this.rowFilter.renderedToSource(s),a=Sb(Ab,r,this.wtRootElement)||Sb(Db,r,this.wtRootElement)||Sb($v,r,this.wtRootElement)?this.columnFilter.offsettedTH(a):this.columnFilter.visibleRowHeadedColumnToSourceColumn(a),this.wot.createCellCoords(s,a)}},{key:"markOversizedRows",value:function(){if(!this.wtSettings.getSetting("externalRowCalculator")){var o,s,a,u,c,t=this.TBODY.childNodes.length;if(t*this.wtSettings.getSetting("defaultRowHeight")!=Gv(this.TBODY)-1||this.wtSettings.getSetting("fixedRowsBottom"))for(;t;)a=this.rowFilter.renderedToSource(t-=1),o=this.getRowHeight(a),s=(c=(u=this.getTrForRow(a)).querySelector("th"))?Gv(c):Gv(u)-1,(!o&&this.wtSettings.getSetting("defaultRowHeight")<s||o<s)&&(this.dataAccessObject.wtViewport.oversizedRows[a]=s+=1)}}},{key:"getTrForRow",value:function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]}},{key:"isColumnHeaderRendered",value:function(t){if(t>=0)return!1;var i=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(t)<=i}},{key:"isRowHeaderRendered",value:function(t){if(t>=0)return!1;var i=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(t)<=i}},{key:"isRowBeforeRenderedRows",value:function(t){var r=this.getFirstRenderedRow();return t<0&&r<=0?!this.isRowHeaderRendered(t):t<r}},{key:"isRowAfterRenderedRows",value:function(t){return t>this.getLastRenderedRow()}},{key:"isColumnBeforeRenderedColumns",value:function(t){var r=this.getFirstRenderedColumn();return t<0&&r<=0?!this.isColumnHeaderRendered(t):t<r}},{key:"isColumnAfterRenderedColumns",value:function(t){return this.columnFilter&&t>this.getLastRenderedColumn()}},{key:"isColumnAfterViewport",value:function(t){return this.columnFilter&&t>this.getLastVisibleColumn()}},{key:"isRowAfterViewport",value:function(t){return this.rowFilter&&t>this.getLastVisibleRow()}},{key:"isColumnBeforeViewport",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)<0&&t>=0}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"allRowsInViewport",value:function(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}},{key:"allColumnsInViewport",value:function(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}},{key:"getRowHeight",value:function(t){return this.rowUtils.getHeight(t)}},{key:"getColumnHeaderHeight",value:function(t){return this.columnUtils.getHeaderHeight(t)}},{key:"getColumnWidth",value:function(t){return this.columnUtils.getWidth(t)}},{key:"getStretchedColumnWidth",value:function(t){return this.columnUtils.getStretchedColumnWidth(t)}},{key:"hasDefinedSize",value:function(){return this.hasTableHeight&&this.hasTableWidth}},{key:"getWidth",value:function(){return us(this.TABLE)}},{key:"getHeight",value:function(){return Qs(this.TABLE)}},{key:"getTotalWidth",value:function(){var t=us(this.hider);return 0!==t?t:this.getWidth()}},{key:"getTotalHeight",value:function(){var t=Qs(this.hider);return 0!==t?t:this.getHeight()}},{key:"isVisible",value:function(){return KT(this.TABLE)}},{key:"_modifyRowHeaderWidth",value:function(t){var r=Ss(t)?t():null;return Array.isArray(r)?(r=function hIe(n){return function gIe(n){if(Array.isArray(n))return Sz(n)}(n)||function mIe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||ote(n)||function pIe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r))[r.length-1]=this._correctRowHeaderWidth(r[r.length-1]):r=this._correctRowHeaderWidth(r),r}},{key:"_correctRowHeaderWidth",value:function(t){var r=t;return"number"!=typeof t&&(r=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(r+=1),r}}]),n}();var ate={getFirstRenderedRow:function(){return 0===this.wtSettings.getSetting("totalRows")?-1:0},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.getRenderedRowsCount()-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),e)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};wm(ate,"MIXIN_NAME","stickyRowsTop",{writable:!1,enumerable:!1});const lte=ate;var ute={getFirstRenderedColumn:function(){var e=this.dataAccessObject.startColumnRendered;return null===e?-1:e},getFirstVisibleColumn:function(){var e=this.dataAccessObject.startColumnVisible;return null===e?-1:e},getLastRenderedColumn:function(){var e=this.dataAccessObject.endColumnRendered;return null===e?-1:e},getLastVisibleColumn:function(){var e=this.dataAccessObject.endColumnVisible;return null===e?-1:e},getRenderedColumnsCount:function(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount:function(){return this.dataAccessObject.countColumnsVisible}};wm(ute,"MIXIN_NAME","calculatedColumns",{writable:!1,enumerable:!1});const xz=ute;function Cz(n){return(Cz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function cte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ez(n,e){return(Ez=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function AIe(n,e){if(e&&("object"===Cz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function OIe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function $L(n){return($L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Tz=function(n){!function RIe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Ez(n,e)}(t,n);var e=function DIe(n){var e=function kIe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=$L(n);if(e){var o=$L(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return AIe(this,i)}}(t);function t(r,i,o,s){return function TIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,Rb)}return function EIe(n,e,t){return e&&cte(n.prototype,e),t&&cte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(HS);vs(Tz,lte),vs(Tz,xz);const LIe=Tz;function dte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Rz(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const FIe=function(){function n(e){(function IIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),Rz(this,"dataAccessObject",void 0),Rz(this,"lastScrolledColumnPos",-1),Rz(this,"lastScrolledRowPos",-1),this.dataAccessObject=e}return function PIe(n,e,t){e&&dte(n.prototype,e),t&&dte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"scrollViewport",value:function(t,r,i,o,s){var a=this.scrollViewportHorizontally(t.col,i,s),u=this.scrollViewportVertically(t.row,r,o);return a||u}},{key:"scrollViewportHorizontally",value:function(t,r,i){var o=this.dataAccessObject,a=o.totalColumns;if(!o.drawn||!Number.isInteger(t)||t<0||t>a)return!1;var u=this.getFirstVisibleColumn(),c=this.getLastVisibleColumn(),f=void 0===r&&void 0===i,p=this.dataAccessObject,y=p.inlineStartOverlay;if(f&&t<p.fixedColumnsStart)return!1;var w=!1;return-1===u?w=y.scrollTo(t,f?t>this.lastScrolledColumnPos:r):(f&&(t<u||t>c)||!f)&&(w=y.scrollTo(t,f?t>c:r)),w&&(this.lastScrolledColumnPos=t),w}},{key:"scrollViewportVertically",value:function(t,r,i){var o=this.dataAccessObject,a=o.totalRows;if(!o.drawn||!Number.isInteger(t)||t<0||t>a)return!1;var u=this.getFirstVisibleRow(),c=this.getLastVisibleRow(),f=void 0===r&&void 0===i,p=this.dataAccessObject,w=p.topOverlay;if(f&&(t<p.fixedRowsTop||t>a-p.fixedRowsBottom-1))return!1;var M=!1;return-1===u?M=w.scrollTo(t,f?t>this.lastScrolledRowPos:i):(f&&(t<u||t>c)||!f)&&(M=w.scrollTo(t,f?t>c:i)),M&&(this.lastScrolledRowPos=t),M}},{key:"getFirstVisibleRow",value:function(){var t=this.dataAccessObject,r=t.topOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalRows,a=t.fixedRowsTop,u=t.rootWindow,c=i.getFirstVisibleRow();if(r.mainTableScrollableElement===u){var f=Ba(i.wtRootElement),p=Gv(i.hider),g=Gv(u),y=DL(u,u);if(f.top+p-g<=y){var w=o.getColumnHeaderHeight();w+=r.sumCellSizes(0,a);for(var M=s;M>0;M--)if(w+=r.sumCellSizes(M-1,M),f.top+p-w<=y){c=M;break}}}return c}},{key:"getLastVisibleRow",value:function(){var t=this.dataAccessObject,r=t.topOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalRows,a=t.rootWindow,u=i.getLastVisibleRow();if(r.mainTableScrollableElement===a){var c=Ba(i.wtRootElement),f=DL(a,a);if(c.top>f)for(var p=Gv(a),g=o.getColumnHeaderHeight(),y=1;y<=s;y++)if(g+=r.sumCellSizes(y-1,y),c.top+g-f>=p){u=y-2;break}}return u}},{key:"getFirstVisibleColumn",value:function(){var t=this.dataAccessObject,r=t.inlineStartOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalColumns,a=t.rootWindow,u=i.getFirstVisibleColumn();if(r.mainTableScrollableElement===a){var c=Ba(i.wtRootElement),f=OL(i.hider),p=OL(a),g=Math.abs(FV(a,a));if(c.left+f-p<=g)for(var y=o.getRowHeaderWidth(),w=s;w>0;w--)if(y+=r.sumCellSizes(w-1,w),c.left+f-y<=g){u=w;break}}return u}},{key:"getLastVisibleColumn",value:function(){var t=this.dataAccessObject,r=t.inlineStartOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalColumns,a=t.rootWindow,u=i.getLastVisibleColumn();if(r.mainTableScrollableElement===a){var c=Ba(i.wtRootElement),f=Math.abs(FV(a,a));if(c.left>f)for(var p=OL(a),g=o.getRowHeaderWidth(),y=1;y<=s;y++)if(g+=r.sumCellSizes(y-1,y),c.left+g-f>=p){u=y-2;break}}return u}}]),n}();function HIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function VIe(n,e,t){(function zIe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function hte(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u1(n,e){return function UIe(n,e){return e.get?e.get.call(n):e.value}(n,pte(n,e,"get"))}function jIe(n,e,t){return function WIe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,pte(n,e,"set"),t),t}function pte(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Ob=new WeakMap;const Dz=function(){function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];HIe(this,n),hte(this,"row",null),hte(this,"col",null),VIe(this,Ob,{writable:!0,value:!1}),jIe(this,Ob,r),void 0!==e&&void 0!==t&&(this.row=e,this.col=t)}return function BIe(n,e,t){e&&fte(n.prototype,e),t&&fte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"isValid",value:function(t){return!(this.row<0||this.col<0||this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns"))}},{key:"isEqual",value:function(t){return t===this||this.row===t.row&&this.col===t.col}},{key:"isSouthEastOf",value:function(t){return this.row>=t.row&&(u1(this,Ob)?this.col<=t.col:this.col>=t.col)}},{key:"isNorthWestOf",value:function(t){return this.row<=t.row&&(u1(this,Ob)?this.col>=t.col:this.col<=t.col)}},{key:"isSouthWestOf",value:function(t){return this.row>=t.row&&(u1(this,Ob)?this.col>=t.col:this.col<=t.col)}},{key:"isNorthEastOf",value:function(t){return this.row<=t.row&&(u1(this,Ob)?this.col<=t.col:this.col>=t.col)}},{key:"normalize",value:function(){return this.row=null===this.row?this.row:Math.max(this.row,0),this.col=null===this.col?this.col:Math.max(this.col,0),this}},{key:"clone",value:function(){return new n(this.row,this.col,u1(this,Ob))}},{key:"toObject",value:function(){return{row:this.row,col:this.col}}}]),n}();function GIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function mte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function XIe(n,e,t){(function KIe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Az(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qh(n,e){return function ZIe(n,e){return e.get?e.get.call(n):e.value}(n,gte(n,e,"get"))}function qIe(n,e,t){return function JIe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,gte(n,e,"set"),t),t}function gte(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Gd=new WeakMap;const vte=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];GIe(this,n),Az(this,"highlight",null),Az(this,"from",null),Az(this,"to",null),XIe(this,Gd,{writable:!0,value:!1}),this.highlight=e.clone().normalize(),this.from=t.clone(),this.to=r.clone(),qIe(this,Gd,i)}return function $Ie(n,e,t){e&&mte(n.prototype,e),t&&mte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setHighlight",value:function(t){return this.highlight=t.clone().normalize(),this}},{key:"setFrom",value:function(t){return this.from=t.clone(),this}},{key:"setTo",value:function(t){return this.to=t.clone(),this}},{key:"isValid",value:function(t){return this.from.isValid(t)&&this.to.isValid(t)}},{key:"isSingle",value:function(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}},{key:"getOuterHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getOuterWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"getHeight",value:function(){var t=Math.max(this.from.row,0),r=Math.max(this.to.row,0);return Math.max(t,r)-Math.min(t,r)+1}},{key:"getWidth",value:function(){var t=Math.max(this.from.col,0),r=Math.max(this.to.col,0);return Math.max(t,r)-Math.min(t,r)+1}},{key:"getCellsCount",value:function(){return this.getWidth()*this.getHeight()}},{key:"includes",value:function(t){var r=t.row,i=t.col,o=this.getOuterTopStartCorner(),s=this.getOuterBottomEndCorner();return o.row<=r&&s.row>=r&&o.col<=i&&s.col>=i}},{key:"includesRange",value:function(t){return this.includes(t.getOuterTopStartCorner())&&this.includes(t.getOuterBottomEndCorner())}},{key:"isEqual",value:function(t){return Math.min(this.from.row,this.to.row)===Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(t.from.col,t.to.col)}},{key:"overlaps",value:function(t){return t.isSouthEastOf(this.getOuterTopLeftCorner())&&t.isNorthWestOf(this.getOuterBottomRightCorner())}},{key:"isSouthEastOf",value:function(t){return this.getOuterTopLeftCorner().isSouthEastOf(t)||this.getOuterBottomRightCorner().isSouthEastOf(t)}},{key:"isNorthWestOf",value:function(t){return this.getOuterTopLeftCorner().isNorthWestOf(t)||this.getOuterBottomRightCorner().isNorthWestOf(t)}},{key:"isOverlappingHorizontally",value:function(t){return this.getOuterTopRightCorner().col>=t.getOuterTopLeftCorner().col&&this.getOuterTopRightCorner().col<=t.getOuterTopRightCorner().col||this.getOuterTopLeftCorner().col<=t.getOuterTopRightCorner().col&&this.getOuterTopLeftCorner().col>=t.getOuterTopLeftCorner().col}},{key:"isOverlappingVertically",value:function(t){return this.getOuterBottomRightCorner().row>=t.getOuterTopRightCorner().row&&this.getOuterBottomRightCorner().row<=t.getOuterBottomRightCorner().row||this.getOuterTopRightCorner().row<=t.getOuterBottomRightCorner().row&&this.getOuterTopRightCorner().row>=t.getOuterTopRightCorner().row}},{key:"expand",value:function(t){var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();return(t.row<r.row||t.col<r.col||t.row>i.row||t.col>i.col)&&(this.from=this._createCellCoords(Math.min(r.row,t.row),Math.min(r.col,t.col)),this.to=this._createCellCoords(Math.max(i.row,t.row),Math.max(i.col,t.col)),!0)}},{key:"expandByRange",value:function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),o=this.getDirection(),s=t.getOuterTopStartCorner(),a=t.getOuterBottomEndCorner(),u=Math.min(r.row,s.row),c=Math.min(r.col,s.col),f=Math.max(i.row,a.row),p=Math.max(i.col,a.col),g=this._createCellCoords(u,c),y=this._createCellCoords(f,p);return this.from=g,this.to=y,this.setDirection(o),this.highlight.row===this.getOuterBottomRightCorner().row&&"N-S"===this.getVerticalDirection()&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&"W-E"===this.getHorizontalDirection()&&this.flipDirectionHorizontally(),!0}},{key:"getDirection",value:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}},{key:"setDirection",value:function(t){switch(t){case"NW-SE":var r=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];this.from=r[0],this.to=r[1];break;case"NE-SW":var i=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];this.from=i[0],this.to=i[1];break;case"SE-NW":var o=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];this.from=o[0],this.to=o[1];break;case"SW-NE":var s=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];this.from=s[0],this.to=s[1]}}},{key:"getVerticalDirection",value:function(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}},{key:"getHorizontalDirection",value:function(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}},{key:"flipDirectionVertically",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE")}}},{key:"flipDirectionHorizontally",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW")}}},{key:"getTopStartCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getTopLeftCorner",value:function(){return qh(this,Gd)?this.getTopEndCorner():this.getTopStartCorner()}},{key:"getBottomEndCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getBottomRightCorner",value:function(){return qh(this,Gd)?this.getBottomStartCorner():this.getBottomEndCorner()}},{key:"getTopEndCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getTopRightCorner",value:function(){return qh(this,Gd)?this.getTopStartCorner():this.getTopEndCorner()}},{key:"getBottomStartCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getBottomLeftCorner",value:function(){return qh(this,Gd)?this.getBottomEndCorner():this.getBottomStartCorner()}},{key:"getOuterTopStartCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getOuterTopLeftCorner",value:function(){return qh(this,Gd)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}},{key:"getOuterBottomEndCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterBottomRightCorner",value:function(){return qh(this,Gd)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}},{key:"getOuterTopEndCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterTopRightCorner",value:function(){return qh(this,Gd)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}},{key:"getOuterBottomStartCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getOuterBottomLeftCorner",value:function(){return qh(this,Gd)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}},{key:"isCorner",value:function(t,r){return!!(r&&r.includes(t)&&(this.getOuterTopLeftCorner().isEqual(this._createCellCoords(r.from.row,r.from.col))||this.getOuterTopRightCorner().isEqual(this._createCellCoords(r.from.row,r.to.col))||this.getOuterBottomLeftCorner().isEqual(this._createCellCoords(r.to.row,r.from.col))||this.getOuterBottomRightCorner().isEqual(this._createCellCoords(r.to.row,r.to.col))))||t.isEqual(this.getOuterTopLeftCorner())||t.isEqual(this.getOuterTopRightCorner())||t.isEqual(this.getOuterBottomLeftCorner())||t.isEqual(this.getOuterBottomRightCorner())}},{key:"getOppositeCorner",value:function(t,r){if(!(t instanceof Dz))return!1;if(r){var i=r.from,o=r.to;if(r.includes(t)){if(this.getOuterTopStartCorner().isEqual(this._createCellCoords(i.row,i.col)))return this.getOuterBottomEndCorner();if(this.getOuterTopEndCorner().isEqual(this._createCellCoords(i.row,o.col)))return this.getOuterBottomStartCorner();if(this.getOuterBottomStartCorner().isEqual(this._createCellCoords(o.row,i.col)))return this.getOuterTopEndCorner();if(this.getOuterBottomEndCorner().isEqual(this._createCellCoords(o.row,o.col)))return this.getOuterTopStartCorner()}}return t.isEqual(this.getOuterBottomEndCorner())?this.getOuterTopStartCorner():t.isEqual(this.getOuterTopStartCorner())?this.getOuterBottomEndCorner():t.isEqual(this.getOuterTopEndCorner())?this.getOuterBottomStartCorner():t.isEqual(this.getOuterBottomStartCorner())?this.getOuterTopEndCorner():void 0}},{key:"getBordersSharedWith",value:function(t){if(!this.includesRange(t))return[];var r_top=Math.min(this.from.row,this.to.row),r_bottom=Math.max(this.from.row,this.to.row),r_left=Math.min(this.from.col,this.to.col),r_right=Math.max(this.from.col,this.to.col),i_top=Math.min(t.from.row,t.to.row),i_bottom=Math.max(t.from.row,t.to.row),i_left=Math.min(t.from.col,t.to.col),i_right=Math.max(t.from.col,t.to.col),o=[];return r_top===i_top&&o.push("top"),r_right===i_right&&o.push("right"),r_bottom===i_bottom&&o.push("bottom"),r_left===i_left&&o.push("left"),o}},{key:"getInner",value:function(){for(var t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[],o=t.row;o<=r.row;o++)for(var s=t.col;s<=r.col;s++)(this.from.row!==o||this.from.col!==s)&&(this.to.row!==o||this.to.col!==s)&&i.push(this._createCellCoords(o,s));return i}},{key:"getAll",value:function(){for(var t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[],o=t.row;o<=r.row;o++)for(var s=t.col;s<=r.col;s++)i.push(t.row===o&&t.col===s?t:r.row===o&&r.col===s?r:this._createCellCoords(o,s));return i}},{key:"forAll",value:function(t){for(var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),o=r.row;o<=i.row;o++)for(var s=r.col;s<=i.col;s++)if(!1===t(o,s))return}},{key:"clone",value:function(){return new n(this.highlight,this.from,this.to,qh(this,Gd))}},{key:"toObject",value:function(){return{from:this.from.toObject(),to:this.to.toObject()}}},{key:"_createCellCoords",value:function(t,r){return new Dz(t,r,qh(this,Gd))}}]),n}();function yte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function qf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Oz=function(){function n(e,t){(function ePe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),qf(this,"wtTable",void 0),qf(this,"wtScroll",void 0),qf(this,"wtViewport",void 0),qf(this,"wtOverlays",void 0),qf(this,"selections",void 0),qf(this,"wtEvent",void 0),qf(this,"guid","wt_".concat(BQ())),qf(this,"drawInterrupted",!1),qf(this,"drawn",!1),qf(this,"domBindings",void 0),qf(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=t,this.wtScroll=new FIe(this.createScrollDao())}return function tPe(n,e,t){e&&yte(n.prototype,e),t&&yte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"eventManager",get:function(){return new ea(this)}},{key:"findOriginalHeaders",value:function(){var t=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var r=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;r<i;r++)t.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(o,s){Cb(s,t[o])}])}}},{key:"createCellCoords",value:function(t,r){return new Dz(t,r,this.wtSettings.getSetting("rtlMode"))}},{key:"createCellRange",value:function(t,r,i){return new vte(t,r,i,this.wtSettings.getSetting("rtlMode"))}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,t||this.wtTable.isVisible()?this.wtTable.draw(t):this.drawInterrupted=!0,this}},{key:"getCell",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!r)return this.wtTable.getCell(t);var i=this.wtSettings.getSetting("totalRows"),o=this.wtSettings.getSetting("fixedRowsTop"),s=this.wtSettings.getSetting("fixedRowsBottom"),a=this.wtSettings.getSetting("fixedColumnsStart");if(t.row<o&&t.col<a)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(t);if(t.row<o)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<a&&t.row>=i-s){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<a)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(t);if(t.row<i&&t.row>=i-s&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)}},{key:"scrollViewport",value:function(t,r,i,o,s){return!(t.col<0||t.row<0)&&this.wtScroll.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return!(t<0)&&this.wtScroll.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return!(t<0)&&this.wtScroll.scrollViewportVertically(t,r,i)}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}},{key:"createScrollDao",value:function(){var t=this;return{get drawn(){return t.drawn},get topOverlay(){return t.wtOverlays.topOverlay},get inlineStartOverlay(){return t.wtOverlays.inlineStartOverlay},get wtTable(){return t.wtTable},get wtViewport(){return t.wtViewport},get rootWindow(){return t.domBindings.rootWindow},get totalRows(){return t.wtSettings.getSetting("totalRows")},get totalColumns(){return t.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return t.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return t.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return t.wtSettings.getSetting("fixedColumnsStart")}}}},{key:"getTableDao",value:function(){var t=this;return{get wot(){return t},get parentTableOffset(){return t.cloneSource.wtTable.tableOffset},get cloneSource(){return t.cloneSource},get workspaceWidth(){return t.wtViewport.getWorkspaceWidth()},get wtViewport(){return t.wtViewport},get wtOverlays(){return t.wtOverlays},get selections(){return t.selections},get drawn(){return t.drawn},set drawn(r){t.drawn=r},get wtTable(){return t.wtTable},get startColumnRendered(){return t.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return t.wtViewport.columnsVisibleCalculator.startColumn},get endColumnRendered(){return t.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return t.wtViewport.columnsVisibleCalculator.endColumn},get countColumnsRendered(){return t.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return t.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return t.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return t.wtViewport.rowsVisibleCalculator.startRow},get endRowRendered(){return t.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return t.wtViewport.rowsVisibleCalculator.endRow},get countRowsRendered(){return t.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return t.wtViewport.rowsVisibleCalculator.count}}}}]),n}();function kz(n){return(kz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _te(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Lz(n,e){return(Lz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function sPe(n,e){if(e&&("object"===kz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return XL(n)}function XL(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function KL(n){return(KL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function bte(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var lPe=function(n){!function iPe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Lz(n,e)}(t,n);var e=function oPe(n){var e=function aPe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=KL(n);if(e){var o=KL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return sPe(this,i)}}(t);function t(r,i,o){var s;(function rPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),bte(XL(s=e.call(this,r,i)),"cloneSource",void 0),bte(XL(s),"cloneOverlay",void 0);var a=s.wtSettings.getSetting("facade",XL(s));return s.cloneSource=o.source,s.cloneOverlay=o.overlay,s.wtTable=s.cloneOverlay.createTable(s.getTableDao(),a,s.domBindings,s.wtSettings),s.wtViewport=o.viewport,s.selections=o.selections,s.wtEvent=new Nee(a,s.domBindings,s.wtSettings,s.eventManager,s.wtTable,s.selections,o.event),s.findOriginalHeaders(),s}return function nPe(n,e,t){return e&&_te(n.prototype,e),t&&_te(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(Oz);function wte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var c1=function(){function n(e,t,r,i,o){(function uPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function dPe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(this,"wtSettings",null),wm(this,"wot",e,{writable:!1}),this.domBindings=o,this.facadeGetter=t,this.wtSettings=i;var s=this.wot.wtTable,a=s.TABLE,u=s.hider,c=s.spreader,f=s.holder,p=s.wtRootElement;this.instance=this.wot,this.type=r,this.mainTableScrollableElement=null,this.TABLE=a,this.hider=u,this.spreader=c,this.holder=f,this.wtRootElement=p,this.trimmingContainer=qT(this.hider.parentNode.parentNode),this.updateStateOfRendering(),this.clone=this.makeClone()}return function cPe(n,e,t){e&&wte(n.prototype,e),t&&wte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateStateOfRendering",value:function(){var t=this.needFullRender;this.needFullRender=this.shouldBeRendered();var r=t!==this.needFullRender;return r&&!this.needFullRender&&this.reset(),r}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=qT(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){var t=this.wot.wtTable;this.mainTableScrollableElement="hidden"===this.domBindings.rootWindow.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")?this.wot.wtTable.holder:AL(t.TABLE)}},{key:"getRelativeCellPosition",value:function(t,r,i){if(!1!==this.clone.wtTable.holder.contains(t)){var o=this.mainTableScrollableElement===this.domBindings.rootWindow,s=i<this.wtSettings.getSetting("fixedColumnsStart"),a=r<this.wtSettings.getSetting("fixedRowsTop"),u=r>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),c=this.clone.wtTable.spreader,f={start:this.getRelativeStartPosition(c),top:c.offsetTop},p={start:this.getRelativeStartPosition(t),top:t.offsetTop};return o?this.getRelativeCellPositionWithinWindow(a,s,p,f):this.getRelativeCellPositionWithinHolder(a,u,s,p,f)}xs("The provided element is not a child of the ".concat(this.type," overlay"))}},{key:"getRelativeStartPosition",value:function(t){return this.isRtl()?t.offsetParent.offsetWidth-t.offsetLeft-t.offsetWidth:t.offsetLeft}},{key:"getRelativeCellPositionWithinWindow",value:function(t,r,i,o){var s=this.wot.wtTable.wtRootElement.getBoundingClientRect(),a=0,u=0;if(r){var c=s.left;this.isRtl()&&(c=this.domBindings.rootWindow.innerWidth-(s.left+s.width+yl())),a=c<=0?-1*c:0}else a=o.start;return u=t?this.clone.wtTable.TABLE.getBoundingClientRect().top-s.top:o.top,{start:i.start+a,top:i.top+u}}},{key:"getRelativeCellPositionWithinHolder",value:function(t,r,i,o,s){var a_horizontal=this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),a_vertical=this.wot.wtOverlays.topOverlay.getScrollPosition(),u=0,c=0;if(i||(u=a_horizontal-s.start),r){var f=this.wot.wtTable.wtRootElement.getBoundingClientRect();c=-1*this.clone.wtTable.TABLE.getBoundingClientRect().top+f.top}else t||(c=a_vertical-s.top);return{start:o.start-u,top:o.top-c}}},{key:"makeClone",value:function(){if(-1===dIe.indexOf(this.type))throw new Error('Clone type "'.concat(this.type,'" is not supported.'));var t=this.wot.wtTable,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=i.createElement("DIV"),a=i.createElement("TABLE"),u=t.wtRootElement.parentNode;s.className="".concat(fIe.get(this.type)," handsontable"),s.setAttribute("dir",this.isRtl()?"rtl":"ltr"),s.style.position="absolute",s.style.top=0,s.style.overflow="visible",this.isRtl()?s.style.right=0:s.style.left=0,a.className=t.TABLE.className,s.appendChild(a),u.appendChild(s);var c=this.wtSettings.getSetting("preventOverflow");return this.mainTableScrollableElement=!0===c||"horizontal"===c&&this.type===Rb||"vertical"===c&&this.type===Db?o:"hidden"===o.getComputedStyle(u).getPropertyValue("overflow")?t.holder:AL(t.TABLE),new lPe(a,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selections:this.wot.selections})}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.shouldBeRendered();this.clone&&(this.needFullRender||r)&&this.clone.draw(t),this.needFullRender=r}},{key:"reset",value:function(){if(this.clone){var t=this.clone.wtTable.holder;Qe([t.style,this.clone.wtTable.hider.style,t.parentNode.style],function(a){a.width="",a.height=""})}}},{key:"isRtl",value:function(){return this.wtSettings.getSetting("rtlMode")}},{key:"destroy",value:function(){this.clone.eventManager.destroy()}}]),n}();function Iz(n){return(Iz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ZL(n,e,t){return(ZL=xte()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&qL(c,s.prototype),c}).apply(null,arguments)}function Mte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function qL(n,e){return(qL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function gPe(n,e){if(e&&("object"===Iz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ste(n)}function Ste(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function xte(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function JL(n){return(JL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var yPe=function(n){!function pPe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&qL(n,e)}(t,n);var e=function mPe(n){var e=xte();return function(){var i,r=JL(n);if(e){var o=JL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gPe(this,i)}}(t);function t(r,i,o,s){var a;return function fPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function vPe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(Ste(a=e.call(this,r,i,Rb,o,s)),"cachedFixedRowsTop",-1),a.cachedFixedRowsTop=a.wtSettings.getSetting("fixedRowsTop"),a}return function hPe(n,e,t){e&&Mte(n.prototype,e),t&&Mte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return ZL(LIe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var i=this.clone.wtTable.holder.parentNode,o=this.domBindings.rootWindow,s=this.wtSettings.getSetting("preventOverflow"),a=0,u=!1;if(this.trimmingContainer!==o||s&&"vertical"===s)a=this.getScrollPosition(),LL(i);else{var f=this.wot.wtTable.hider.getBoundingClientRect();u=Math.ceil(f.bottom)===i.offsetHeight,a=this.getOverlayOffset(),VV(i,"0px","".concat(a,"px"))}var y=this.adjustHeaderBordersPosition(a,u);return this.adjustElementsSize(),y}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.mainTableScrollableElement===o&&o.scrollY!==i?(o.scrollTo(LS(o),i),s=!0):this.mainTableScrollableElement.scrollTop!==i&&(this.mainTableScrollableElement.scrollTop=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wtSettings.getSetting("defaultRowHeight"),a=i,u=0;a<o;){var c=this.wot.wtTable.getRowHeight(a);u+=void 0===c?s:c,a+=1}return u}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot.wtTable,o=this.domBindings,a=o.rootWindow,u=yl(o.rootDocument),f=this.clone.wtTable.holder.parentNode.style,p=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==a||"horizontal"===p){var g=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(g-=u),g=Math.min(g,i.wtRootElement.scrollWidth),f.width="".concat(g,"px")}else f.width="";this.clone.wtTable.holder.style.width=f.width;var y=Qs(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(y=0),f.height="".concat(y,"px")}},{key:"adjustRootChildrenSize",value:function(){var i,o=this.clone.wtTable.holder,s=this.wot.selections,a=this.facadeGetter(),u=Math.abs(null!==(i=null==s?void 0:s.getCell().getBorder(a).cornerCenterPointOffset)&&void 0!==i?i:0);this.clone.wtTable.hider.style.width=this.hider.style.width,o.style.width=o.parentNode.style.width,o.style.height="".concat(parseInt(o.parentNode.style.height,10)+u,"px")}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalRows");if("number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){var i=this.isRtl()?"right":"left";this.clone.wtTable.spreader.style[i]="number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.wot,a=this.wtSettings,c=(s.cloneSource?s.cloneSource:s).wtTable.holder,f=this.getTableParentOffset(),p=0;if(o&&this.wot.wtTable.getRowHeight(i)>this.wot.wtViewport.getViewportHeight()&&(o=!1),o&&c.offsetHeight!==c.clientHeight&&(p=yl(this.domBindings.rootDocument)),o){var w=a.getSetting("fixedRowsBottom"),M=a.getSetting("totalRows");f+=this.sumCellSizes(0,i+1),f-=s.wtViewport.getViewportHeight()-this.sumCellSizes(M-w,M),f+=1}else f+=this.sumCellSizes(a.getSetting("fixedRowsTop"),i);return this.setScrollPosition(f+=p)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return DL(this.mainTableScrollableElement,this.domBindings.rootWindow)}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;if(this.trimmingContainer===i&&(!o||"vertical"!==o)){var c=this.wot.wtTable.getTotalHeight()-this.clone.wtTable.getTotalHeight();(s=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0))>c&&(s=0)}return s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.wot.wtTable.holder.parentNode,a=this.wtSettings.getSetting("totalColumns");a?Ii(s,"emptyColumns"):Cn(s,"emptyColumns");var u=!1;if(!o){var c=this.wtSettings.getSetting("fixedRowsTop"),f=this.cachedFixedRowsTop!==c,p=this.wtSettings.getSetting("columnHeaders");if((f||0===c)&&p.length>0){var g=_i(s,"innerBorderTop");this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop"),i||0===this.wtSettings.getSetting("totalRows")?(Cn(s,"innerBorderTop"),u=!g):(Ii(s,"innerBorderTop"),u=g)}}return u}}]),t}(c1),Cte={getFirstRenderedRow:function(){var e=this.wtSettings.getSetting("totalRows"),t=this.wtSettings.getSetting("fixedRowsBottom"),r=e-t;return 0===e||0===t?-1:r<0?0:r},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),e)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};wm(Cte,"MIXIN_NAME","stickyRowsBottom",{writable:!1,enumerable:!1});const Ete=Cte;function Pz(n){return(Pz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Tte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Nz(n,e){return(Nz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function xPe(n,e){if(e&&("object"===Pz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function CPe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function QL(n){return(QL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Fz=function(n){!function MPe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Nz(n,e)}(t,n);var e=function SPe(n){var e=function EPe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=QL(n);if(e){var o=QL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xPe(this,i)}}(t);function t(r,i,o,s){return function wPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,Kh)}return function bPe(n,e,t){return e&&Tte(n.prototype,e),t&&Tte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(HS);vs(Fz,Ete),vs(Fz,xz);const TPe=Fz;function Hz(n){return(Hz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function eI(n,e,t){return(eI=Ate()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&tI(c,s.prototype),c}).apply(null,arguments)}function Rte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function tI(n,e){return(tI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function kPe(n,e){if(e&&("object"===Hz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dte(n)}function Dte(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ate(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function nI(n){return(nI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var IPe=function(n){!function APe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&tI(n,e)}(t,n);var e=function OPe(n){var e=Ate();return function(){var i,r=nI(n);if(e){var o=nI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kPe(this,i)}}(t);function t(r,i,o,s){var a;return function RPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function LPe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(Dte(a=e.call(this,r,i,Kh,o,s)),"cachedFixedRowsBottom",-1),a.cachedFixedRowsBottom=a.wtSettings.getSetting("fixedRowsBottom"),a}return function DPe(n,e,t){e&&Rte(n.prototype,e),t&&Rte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return eI(TPe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var i=this.domBindings.rootWindow,o=this.clone.wtTable.holder.parentNode;o.style.top="";var s=0,a=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer!==i||a&&"vertical"===a?(s=this.getScrollPosition(),this.repositionOverlay()):(s=this.getOverlayOffset(),o.style.bottom="".concat(s,"px"));var u=this.adjustHeaderBordersPosition(s);return this.adjustElementsSize(),u}},{key:"repositionOverlay",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings.rootDocument,u=this.clone.wtTable.holder.parentNode,c=0;s.hasVerticalScroll()||(c+=s.getWorkspaceHeight()-o.getTotalHeight()),s.hasVerticalScroll()&&s.hasHorizontalScroll()&&(c+=yl(a)),u.style.bottom="".concat(c,"px")}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.mainTableScrollableElement===o?(o.scrollTo(LS(o),i),s=!0):this.mainTableScrollableElement.scrollTop!==i&&(this.mainTableScrollableElement.scrollTop=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wot,a=s.wtTable,c=s.wtSettings.getSetting("defaultRowHeight"),f=i,p=0;f<o;){var g=a.getRowHeight(f);p+=void 0===g?c:g,f+=1}return p}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings,c=a.rootWindow,f=yl(a.rootDocument),g=this.clone.wtTable.holder.parentNode.style,y=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==c||"horizontal"===y){var w=s.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(w-=f),w=Math.min(w,o.wtRootElement.scrollWidth),g.width="".concat(w,"px")}else g.width="";this.clone.wtTable.holder.style.width=g.width;var M=Qs(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(M=0),g.height="".concat(M,"px")}},{key:"adjustRootChildrenSize",value:function(){var i=this.clone.wtTable.holder;this.clone.wtTable.hider.style.width=this.hider.style.width,i.style.width=i.parentNode.style.width,i.style.height=i.parentNode.style.height}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalRows");if("number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){var i=this.isRtl()?"right":"left";this.clone.wtTable.spreader.style[i]="number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.getTableParentOffset(),u=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,c=0;o&&u.offsetHeight!==u.clientHeight&&(c=yl(this.domBindings.rootDocument)),o?(s+=this.sumCellSizes(0,i+1),s-=this.wot.wtViewport.getViewportHeight(),s+=1):s+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),i),this.setScrollPosition(s+=c)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return DL(this.mainTableScrollableElement,this.domBindings.rootWindow)}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;if(this.trimmingContainer===i&&(!o||"vertical"!==o)){var a=this.wot.wtTable.getTotalHeight(),c=a-this.clone.wtTable.getTotalHeight(),f=this.domBindings.rootDocument.documentElement.clientHeight;(s=Math.max(this.getTableParentOffset()-this.getScrollPosition()-f+a,0))>c&&(s=0)}return s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=this.wtSettings.getSetting("fixedRowsBottom"),s=this.cachedFixedRowsBottom!==o,a=this.wtSettings.getSetting("columnHeaders"),u=!1;if((s||0===o)&&a.length>0){var c=this.wot.wtTable.holder.parentNode,f=_i(c,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),i||0===this.wtSettings.getSetting("totalRows")?(Cn(c,"innerBorderBottom"),u=!f):(Ii(c,"innerBorderBottom"),u=f)}return u}}]),t}(c1),Ote={getFirstRenderedRow:function(){var e=this.dataAccessObject.startRowRendered;return null===e?-1:e},getFirstVisibleRow:function(){var e=this.dataAccessObject.startRowVisible;return null===e?-1:e},getLastRenderedRow:function(){var e=this.dataAccessObject.endRowRendered;return null===e?-1:e},getLastVisibleRow:function(){var e=this.dataAccessObject.endRowVisible;return null===e?-1:e},getRenderedRowsCount:function(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount:function(){return this.dataAccessObject.countRowsVisible}};wm(Ote,"MIXIN_NAME","calculatedRows",{writable:!1,enumerable:!1});const kte=Ote;var Lte={getFirstRenderedColumn:function(){return 0===this.wtSettings.getSetting("totalColumns")?-1:0},getFirstVisibleColumn:function(){return this.getFirstRenderedColumn()},getLastRenderedColumn:function(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn:function(){return this.getLastRenderedColumn()},getRenderedColumnsCount:function(){var e=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),e)},getVisibleColumnsCount:function(){return this.getRenderedColumnsCount()}};wm(Lte,"MIXIN_NAME","stickyColumnsStart",{writable:!1,enumerable:!1});const Bz=Lte;function Vz(n){return(Vz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ite(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function zz(n,e){return(zz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function zPe(n,e){if(e&&("object"===Vz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function UPe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function rI(n){return(rI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Uz=function(n){!function BPe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&zz(n,e)}(t,n);var e=function VPe(n){var e=function jPe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=rI(n);if(e){var o=rI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return zPe(this,i)}}(t);function t(r,i,o,s){return function HPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,Db)}return function FPe(n,e,t){return e&&Ite(n.prototype,e),t&&Ite(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(HS);vs(Uz,kte),vs(Uz,Bz);const WPe=Uz;function jz(n){return(jz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function iI(n,e,t){return(iI=Nte()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&oI(c,s.prototype),c}).apply(null,arguments)}function Pte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function oI(n,e){return(oI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function KPe(n,e){if(e&&("object"===jz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function ZPe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Nte(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function sI(n){return(sI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var qPe=function(n){!function $Pe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oI(n,e)}(t,n);var e=function XPe(n){var e=Nte();return function(){var i,r=sI(n);if(e){var o=sI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return KPe(this,i)}}(t);function t(r,i,o,s){return function YPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,Db,o,s)}return function GPe(n,e,t){e&&Pte(n.prototype,e),t&&Pte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return iI(WPe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var o=this.domBindings.rootWindow,s=this.clone.wtTable.holder.parentNode,a=this.wtSettings.getSetting("preventOverflow"),u=0;this.trimmingContainer!==o||a&&"horizontal"===a?(u=this.getScrollPosition(),LL(s)):(u=this.getOverlayOffset()*(this.isRtl()?-1:1),VV(s,"".concat(u,"px"),"0px"));var c=this.adjustHeaderBordersPosition(u);return this.adjustElementsSize(),c}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.isRtl()&&(i=-i),this.mainTableScrollableElement===o&&o.scrollX!==i?(o.scrollTo(i,ZT(o)),s=!0):this.mainTableScrollableElement.scrollLeft!==i&&(this.mainTableScrollableElement.scrollLeft=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wtSettings.getSetting("defaultColumnWidth"),a=i,u=0;a<o;)u+=this.wot.wtTable.getStretchedColumnWidth(a)||s,a+=1;return u}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot.wtTable,o=this.domBindings,a=o.rootWindow,u=yl(o.rootDocument),f=this.clone.wtTable.holder.parentNode.style,p=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==a||"vertical"===p){var g=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(g-=u),g=Math.min(g,i.wtRootElement.scrollHeight),f.height="".concat(g,"px")}else f.height="";this.clone.wtTable.holder.style.height=f.height;var y=us(this.clone.wtTable.TABLE);f.width="".concat(y,"px")}},{key:"adjustRootChildrenSize",value:function(){var i,o=this.clone.wtTable.holder,s=this.wot.selections,a=this.facadeGetter(),u=Math.abs(null!==(i=null==s?void 0:s.getCell().getBorder(a).cornerCenterPointOffset)&&void 0!==i?i:0);this.clone.wtTable.hider.style.height=this.hider.style.height,o.style.height=o.parentNode.style.height,o.style.width="".concat(parseInt(o.parentNode.style.width,10)+u,"px")}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalColumns"),o=this.isRtl()?"right":"left";if("number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style[o]="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style[o]="0"}this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){this.clone.wtTable.spreader.style.top="number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.getTableParentOffset(),u=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,c=0;return o&&this.wot.wtTable.getColumnWidth(i)>this.wot.wtViewport.getViewportWidth()&&(o=!1),o&&u.offsetWidth!==u.clientWidth&&(c=yl(this.domBindings.rootDocument)),o?(s+=this.sumCellSizes(0,i+1),s-=this.wot.wtViewport.getViewportWidth()):s+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),i),this.setScrollPosition(s+=c)}},{key:"getTableParentOffset",value:function(){var o=0;return!this.wtSettings.getSetting("preventOverflow")&&this.trimmingContainer===this.domBindings.rootWindow&&(o=this.wot.wtTable.holderOffset.left),o}},{key:"getScrollPosition",value:function(){return Math.abs(FV(this.mainTableScrollableElement,this.domBindings.rootWindow))}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;return this.trimmingContainer!==i||o&&"horizontal"===o||(s=this.isRtl()?Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):Math.max(this.getScrollPosition()-this.getTableParentOffset(),0))>this.wot.wtTable.getTotalWidth()-this.clone.wtTable.getTotalWidth()&&(s=0),s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=this.wot.wtTable.holder.parentNode,s=this.wtSettings.getSetting("rowHeaders"),a=this.wtSettings.getSetting("fixedColumnsStart");this.wtSettings.getSetting("totalRows")?Ii(o,"emptyRows"):Cn(o,"emptyRows");var c=!1;if(a&&!s.length)Cn(o,"innerBorderLeft innerBorderInlineStart");else if(!a&&s.length){var f=_i(o,"innerBorderInlineStart");i?(Cn(o,"innerBorderLeft innerBorderInlineStart"),c=!f):(Ii(o,"innerBorderLeft innerBorderInlineStart"),c=f)}return c}}]),t}(c1);function Wz(n){return(Wz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Fte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Yz(n,e){return(Yz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function nNe(n,e){if(e&&("object"===Wz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function rNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function aI(n){return(aI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Gz=function(n){!function eNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Yz(n,e)}(t,n);var e=function tNe(n){var e=function iNe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=aI(n);if(e){var o=aI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return nNe(this,i)}}(t);function t(r,i,o,s){return function QPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,Ab)}return function JPe(n,e,t){return e&&Fte(n.prototype,e),t&&Fte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(HS);vs(Gz,lte),vs(Gz,Bz);const oNe=Gz;function $z(n){return($z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lI(n,e,t){return(lI=Bte()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&uI(c,s.prototype),c}).apply(null,arguments)}function Hte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function uI(n,e){return(uI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function cNe(n,e){if(e&&("object"===$z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xz(n)}function Xz(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Bte(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function cI(n){return(cI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Vte(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var dNe=function(n){!function lNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&uI(n,e)}(t,n);var e=function uNe(n){var e=Bte();return function(){var i,r=cI(n);if(e){var o=cI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return cNe(this,i)}}(t);function t(r,i,o,s,a,u){var c;return function sNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Vte(Xz(c=e.call(this,r,i,Ab,o,s)),"topOverlay",void 0),Vte(Xz(c),"inlineStartOverlay",void 0),c.topOverlay=a,c.inlineStartOverlay=u,c}return function aNe(n,e,t){e&&Hte(n.prototype,e),t&&Hte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return lI(oNe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;var i=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){var o=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),s=this.topOverlay.getOverlayOffset();VV(i,"".concat(o,"px"),"".concat(s,"px"))}else LL(i);var a=Qs(this.clone.wtTable.TABLE),u=us(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(a=0),i.style.height="".concat(a,"px"),i.style.width="".concat(u,"px"),!1}}]),t}(c1);function Kz(n){return(Kz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function zte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Zz(n,e){return(Zz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function gNe(n,e){if(e&&("object"===Kz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function vNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function dI(n){return(dI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var qz=function(n){!function pNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Zz(n,e)}(t,n);var e=function mNe(n){var e=function yNe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=dI(n);if(e){var o=dI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gNe(this,i)}}(t);function t(r,i,o,s){return function hNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,$v)}return function fNe(n,e,t){return e&&zte(n.prototype,e),t&&zte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(HS);vs(qz,Ete),vs(qz,Bz);const _Ne=qz;function Jz(n){return(Jz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function fI(n,e,t){return(fI=jte()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&hI(c,s.prototype),c}).apply(null,arguments)}function Ute(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hI(n,e){return(hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function xNe(n,e){if(e&&("object"===Jz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function CNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function jte(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function pI(n){return(pI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var ENe=function(n){!function MNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hI(n,e)}(t,n);var e=function SNe(n){var e=jte();return function(){var i,r=pI(n);if(e){var o=pI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xNe(this,i)}}(t);function t(r,i,o,s,a,u){var c;return function bNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(c=e.call(this,r,i,$v,o,s)).bottomOverlay=a,c.inlineStartOverlay=u,c}return function wNe(n,e,t){e&&Ute(n.prototype,e),t&&Ute(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return fI(_Ne,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){var i=this.wot;if(this.updateTrimmingContainer(),!i.wtTable.holder.parentNode)return!1;var o=this.clone.wtTable.holder.parentNode;if(o.style.top="",this.trimmingContainer===this.domBindings.rootWindow){var s=this.inlineStartOverlay.getOverlayOffset(),a=this.bottomOverlay.getOverlayOffset();o.style[this.isRtl()?"right":"left"]="".concat(s,"px"),o.style.bottom="".concat(a,"px")}else LL(o),this.repositionOverlay();var u=Qs(this.clone.wtTable.TABLE),c=us(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(u=0),o.style.height="".concat(u,"px"),o.style.width="".concat(c,"px"),!1}},{key:"repositionOverlay",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings.rootDocument,u=this.clone.wtTable.holder.parentNode,c=0;s.hasVerticalScroll()||(c+=s.getWorkspaceHeight()-o.getTotalHeight()),s.hasVerticalScroll()&&s.hasHorizontalScroll()&&(c+=yl(a)),u.style.bottom="".concat(c,"px")}}]),t}(c1);function Xv(n,e,t){return(Xv=TNe()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&Qz(c,s.prototype),c}).apply(null,arguments)}function TNe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function Qz(n,e){return(Qz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Wte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Kv(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const ONe=function(){function n(e,t,r,i,o,s){(function RNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),Kv(this,"wot",null),Kv(this,"topOverlay",null),Kv(this,"bottomOverlay",null),Kv(this,"inlineStartOverlay",null),Kv(this,"topInlineStartCornerOverlay",null),Kv(this,"bottomInlineStartCornerOverlay",null),Kv(this,"browserLineHeight",void 0),Kv(this,"wtSettings",null),this.wot=e,this.wtSettings=i,this.domBindings=r,this.facadeGetter=t,this.wtTable=s;var a=this.domBindings,u=a.rootDocument,c=a.rootWindow;this.instance=this.wot,this.eventManager=o,this.scrollbarSize=yl(u);var f="hidden"===c.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow");this.scrollableElement=f?s.holder:AL(s.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=c.scrollX,this.lastScrollY=c.scrollY}return function DNe(n,e,t){e&&Wte(n.prototype,e),t&&Wte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"initBrowserLineHeight",value:function(){var t=this.domBindings,o=t.rootWindow.getComputedStyle(t.rootDocument.body),s=parseInt(o.lineHeight,10),a=1.2*parseInt(o.fontSize,10);this.browserLineHeight=s||a}},{key:"initOverlays",value:function(){var t=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=Xv(yPe,t),this.bottomOverlay=Xv(IPe,t),this.inlineStartOverlay=Xv(qPe,t),this.topInlineStartCornerOverlay=Xv(dNe,t.concat([this.topOverlay,this.inlineStartOverlay])),this.bottomInlineStartCornerOverlay=Xv(ENe,t.concat([this.bottomOverlay,this.inlineStartOverlay]))}},{key:"updateStateOfRendering",value:function(){var t=this.topOverlay.updateStateOfRendering();return t=this.bottomOverlay.updateStateOfRendering()||t,t=this.inlineStartOverlay.updateStateOfRendering()||t,this.inlineStartOverlay.needFullRender&&(this.topOverlay.needFullRender&&(t=this.topInlineStartCornerOverlay.updateStateOfRendering()||t),this.bottomOverlay.needFullRender&&(t=this.bottomInlineStartCornerOverlay.updateStateOfRendering()||t)),t}},{key:"refreshAll",value:function(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode)return void this.destroy();this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}},{key:"registerListeners",value:function(){var t=this,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=this.topOverlay.mainTableScrollableElement,a=this.inlineStartOverlay.mainTableScrollableElement;this.eventManager.addEventListener(i.documentElement,"keydown",function(w){return t.onKeyDown(w)}),this.eventManager.addEventListener(i.documentElement,"keyup",function(){return t.onKeyUp()}),this.eventManager.addEventListener(i,"visibilitychange",function(){return t.onKeyUp()}),this.eventManager.addEventListener(s,"scroll",function(w){return t.onTableScroll(w)},{passive:!0}),s!==a&&this.eventManager.addEventListener(a,"scroll",function(w){return t.onTableScroll(w)},{passive:!0});var y,u=o.devicePixelRatio&&o.devicePixelRatio>1,c=this.scrollableElement===o,f=this.wtSettings.getSetting("preventWheel"),p={passive:c};(f||u||!function DAe(){return Qc.chrome.value}())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",function(w){return t.onCloneWheel(w,f)},p),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(function(w){w&&w.needFullRender&&t.eventManager.addEventListener(w.clone.wtTable.holder,"wheel",function(C){return t.onCloneWheel(C,f)},p)}),this.eventManager.addEventListener(o,"resize",function(){clearTimeout(y),y=setTimeout(function(){t.wtSettings.getSetting("onWindowResize")},200)})}},{key:"deregisterListeners",value:function(){this.eventManager.clearEvents(!0)}},{key:"onTableScroll",value:function(t){var r=this.domBindings.rootWindow,i=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,s=t.target;this.keyPressed&&(o!==r&&s!==r&&!t.target.contains(o)||i!==r&&s!==r&&!t.target.contains(i))||this.syncScrollPositions(t)}},{key:"onCloneWheel",value:function(t,r){var i=this.domBindings.rootWindow,o=this.inlineStartOverlay.mainTableScrollableElement,s=this.topOverlay.mainTableScrollableElement,a=t.target,u=s!==i&&a!==i&&!a.contains(s),c=o!==i&&a!==i&&!a.contains(o);if(!this.keyPressed||!u&&!c){var f=this.translateMouseWheelToScroll(t);(r||this.scrollableElement!==i&&f)&&t.preventDefault()}}},{key:"onKeyDown",value:function(t){this.keyPressed=t1(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(t){var r=isNaN(t.deltaY)?-1*t.wheelDeltaY:t.deltaY,i=isNaN(t.deltaX)?-1*t.wheelDeltaX:t.deltaX;1===t.deltaMode&&(i+=i*this.browserLineHeight,r+=r*this.browserLineHeight);var o=this.scrollVertically(r),s=this.scrollHorizontally(i);return o||s}},{key:"scrollVertically",value:function(t){var r=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=t,r!==this.scrollableElement.scrollTop}},{key:"scrollHorizontally",value:function(t){var r=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=t,r!==this.scrollableElement.scrollLeft}},{key:"syncScrollPositions",value:function(){if(!this.destroyed){var t=this.domBindings.rootWindow,r=this.topOverlay.clone.wtTable.holder,i=this.inlineStartOverlay.clone.wtTable.holder,o=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop],s=o[0],a=o[1];if(this.horizontalScrolling=r.scrollLeft!==s||this.lastScrollX!==t.scrollX,this.verticalScrolling=i.scrollTop!==a||this.lastScrollY!==t.scrollY,this.lastScrollX=t.scrollX,this.lastScrollY=t.scrollY,this.horizontalScrolling){r.scrollLeft=s;var u=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;u&&(u.scrollLeft=s)}this.verticalScrolling&&(i.scrollTop=a),this.refreshAll()}}},{key:"syncScrollWithMaster",value:function(){var t=this.topOverlay.mainTableScrollableElement,r=t.scrollLeft,i=t.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=r),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=r),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=i)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();var t=this.wtTable;this.scrollableElement="hidden"===this.domBindings.rootWindow.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")?t.holder:AL(t.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.wtTable.spreader,i=r.clientWidth,o=r.clientHeight;(i!==this.spreaderLastSize.width||o!==this.spreaderLastSize.height)&&(this.spreaderLastSize.width=i,this.spreaderLastSize.height=o,this.adjustElementsSize()),this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.inlineStartOverlay.refresh(t),this.topOverlay.refresh(t),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(t),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(t)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.wot.wtViewport,i=this.wtTable,o=this.wtSettings.getSetting("totalColumns"),s=this.wtSettings.getSetting("totalRows"),a=r.getRowHeaderWidth(),u=r.getColumnHeaderHeight(),c=i.hider.style;if(c.width="".concat(a+this.inlineStartOverlay.sumCellSizes(0,o),"px"),c.height="".concat(u+this.topOverlay.sumCellSizes(0,s)+1,"px"),this.scrollbarSize>0){var f=i.wtRootElement,p=f.scrollHeight,g=f.scrollWidth,y=i.holder,w=y.scrollHeight,M=y.scrollWidth;this.hasScrollbarRight=p<w,this.hasScrollbarBottom=g<M,this.hasScrollbarRight&&i.hider.scrollWidth+this.scrollbarSize>g?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&i.hider.scrollHeight+this.scrollbarSize>p&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(t),this.inlineStartOverlay.adjustElementsSize(t),this.bottomOverlay.adjustElementsSize(t)}},{key:"applyToDOM",value:function(){!this.wtTable.isVisible()||(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}},{key:"getParentOverlay",value:function(t){if(!t)return null;var i=null;return Qe([this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],function(o){!o||o.clone&&o.clone.wtTable.TABLE.contains(t)&&(i=o.clone)}),i}},{key:"syncOverlayTableClassNames",value:function(){var t=this.wtTable.TABLE;Qe([this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],function(i){!i||(i.clone.wtTable.TABLE.className=t.className)})}}]),n}();function Yte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Gte(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var INe=function(){function n(e){var t=this;(function kNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),Gte(this,"settings",{}),Gte(this,"defaults",Object.freeze(this.getDefaults())),to(this.defaults,function(r,i){if(void 0!==e[i])t.settings[i]=e[i];else{if(void 0===r)throw new Error('A required setting "'.concat(i,'" was not provided'));t.settings[i]=r}})}return function LNe(n,e,t){e&&Yte(n.prototype,e),t&&Yte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getDefaults",value:function(){var t=this;return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:function(){return t.getSetting("fixedColumnsStart")>0||t.getSetting("rowHeaders").length>0},shouldRenderTopOverlay:function(){return t.getSetting("fixedRowsTop")>0||t.getSetting("columnHeaders").length>0},shouldRenderBottomOverlay:function(){return t.getSetting("fixedRowsBottom")>0},minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(i,o,s){var a=t.getSetting("data",i,o);Cb(s,null==a?"":a)},columnWidth:function(){},rowHeight:function(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(i){return i},onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:function(i){return i},onBeforeHighlightingColumnHeader:function(i){return i},onWindowResize:null,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1}}},{key:"update",value:function(t,r){var i=this;return void 0===r?to(t,function(o,s){i.settings[s]=o}):this.settings[t]=r,this}},{key:"getSetting",value:function(t,r,i,o,s){return"function"==typeof this.settings[t]?this.settings[t](r,i,o,s):void 0!==r&&Array.isArray(this.settings[t])?this.settings[t][r]:this.settings[t]}},{key:"getSettingPure",value:function(t){return this.settings[t]}},{key:"has",value:function(t){return!!this.settings[t]}}]),n}();function eU(n){return(eU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function $te(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function tU(n,e){return(tU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function BNe(n,e){if(e&&("object"===eU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function VNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function mI(n){return(mI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var nU=function(n){!function FNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&tU(n,e)}(t,n);var e=function HNe(n){var e=function zNe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=mI(n);if(e){var o=mI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return BNe(this,i)}}(t);function t(r,i,o,s){return function PNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,"master")}return function NNe(n,e,t){e&&$te(n.prototype,e),t&&$te(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"alignOverlaysWithTrimmingContainer",value:function(){var i=qT(this.wtRootElement),o=this.domBindings.rootWindow;if(i===o)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{var a=i.parentElement,u=HV(i,"height",o),c=HV(i,"overflow",o),f=this.holder.style,p=i.scrollWidth,g=i.scrollHeight,y=i.getBoundingClientRect(),w=y.width,M=y.height;if(a&&["auto","hidden","scroll"].includes(c)){var I=i.cloneNode(!1);I.style.overflow="auto",i.nextElementSibling?a.insertBefore(I,i.nextElementSibling):a.appendChild(I);var B=parseInt(Eb(I,o).height,10);a.removeChild(I),0===B&&(M=0)}M=Math.min(M,g),f.height="auto"===u?"auto":"".concat(M,"px"),w=Math.min(w,p),f.width="".concat(w,"px"),f.overflow="",this.hasTableHeight="auto"===f.height||M>0,this.hasTableWidth=w>0}this.isTableVisible=KT(this.TABLE)}},{key:"markOversizedColumnHeaders",value:function(){var i=this.wtSettings,o=this.dataAccessObject.wtViewport,s="master",u=i.getSetting("columnHeaders").length;if(u&&!o.hasOversizedColumnHeadersMarked[s]){for(var f=i.getSetting("rowHeaders").length,p=this.getRenderedColumnsCount(),g=0;g<u;g++)for(var y=-1*f;y<p;y++)this.markIfOversizedColumnHeader(y);o.hasOversizedColumnHeadersMarked[s]=!0}}}]),t}(HS);vs(nU,kte),vs(nU,xz);const UNe=nU;function jNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Kte=new WeakMap;const Zte=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewportSize,r=e.scrollOffset,i=e.totalItems,o=e.itemSizeFn,s=e.overrideFn,a=e.calculationType,u=e.scrollbarHeight;jNe(this,n),Kte.set(this,{viewportHeight:t,scrollOffset:r,totalRows:i,rowHeightFn:o,overrideFn:s,calculationType:a,horizontalScrollbarHeight:u}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()}return function WNe(n,e,t){e&&Xte(n.prototype,e),t&&Xte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"calculate",value:function(){for(var y,t=0,r=!0,i=[],o=Kte.get(this),s=o.calculationType,a=o.overrideFn,u=o.rowHeightFn,c=o.scrollOffset,f=o.totalRows,p=o.viewportHeight,g=o.horizontalScrollbarHeight||0,w=0;w<f;w++)if(y=u(w),isNaN(y)&&(y=n.DEFAULT_HEIGHT),t<=c&&2!==s&&(this.startRow=w),t>=c&&t+(2===s?y:0)<=c+p-g&&(null===this.startRow&&(this.startRow=w),this.endRow=w),i.push(t),t+=y,2!==s&&(this.endRow=w),t>=c+p-g){r=!1;break}if(this.endRow===f-1&&r)for(this.startRow=this.endRow;this.startRow>0;){var M=i[this.endRow]+y-i[this.startRow-1];if((M<=p-g||2!==s)&&(this.startRow-=1),M>=p-g)break}1===s&&null!==this.startRow&&a&&a(this),this.startPosition=i[this.startRow],void 0===this.startPosition&&(this.startPosition=null),f<this.endRow&&(this.endRow=f-1),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}],[{key:"DEFAULT_HEIGHT",get:function(){return 23}}]),n}();function GNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var BS=new WeakMap;const rU=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewportSize,r=e.scrollOffset,i=e.totalItems,o=e.itemSizeFn,s=e.overrideFn,a=e.calculationType,u=e.stretchMode,c=e.stretchingItemWidthFn,f=void 0===c?function(p){return p}:c;GNe(this,n),BS.set(this,{viewportWidth:t,scrollOffset:r,totalColumns:i,columnWidthFn:o,overrideFn:s,calculationType:a,stretchingColumnWidthFn:f}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=u,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}return function $Ne(n,e,t){e&&qte(n.prototype,e),t&&qte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"calculate",value:function(){for(var o,t=0,r=!0,i=[],s=BS.get(this),a=s.calculationType,u=s.overrideFn,c=s.scrollOffset,f=s.totalColumns,p=s.viewportWidth,g=0;g<f;g++)if(o=this._getColumnWidth(g),t<=c&&2!==a&&(this.startColumn=g),t>=c&&t+(2===a?o:0)<=c+(c>0?p+1:p)&&(null==this.startColumn&&(this.startColumn=g),this.endColumn=g),i.push(t),t+=o,2!==a&&(this.endColumn=g),t>=c+p){r=!1;break}if(this.endColumn===f-1&&r)for(this.startColumn=this.endColumn;this.startColumn>0;){var w=i[this.endColumn]+o-i[this.startColumn-1];if((w<=p||2!==a)&&(this.startColumn-=1),w>p)break}1===a&&null!==this.startColumn&&u&&u(this),this.startPosition=i[this.startColumn],void 0===this.startPosition&&(this.startPosition=null),f<this.endColumn&&(this.endColumn=f-1),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(t){if("none"!==this.stretch){var r=t;this.totalTargetWidth=r;for(var i=BS.get(this),o=i.totalColumns,s=0,a=0;a<o;a++){var u=this._getColumnWidth(a),c=i.stretchingColumnWidthFn(void 0,a);"number"==typeof c?r-=c:s+=u}var f=r-s;if("all"===this.stretch&&f>0)this.stretchAllRatio=r/s,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&r!==1/0){var p=this._getColumnWidth(o-1),g=f+p;this.stretchLastWidth=g>=0?g:p}}}},{key:"getStretchedColumnWidth",value:function(t,r){var i=null;return"all"===this.stretch&&0!==this.stretchAllRatio?i=this._getStretchedAllColumnWidth(t,r):"last"===this.stretch&&0!==this.stretchLastWidth&&(i=this._getStretchedLastColumnWidth(t)),i}},{key:"_getStretchedAllColumnWidth",value:function(t,r){var i=0,o=BS.get(this),s=o.totalColumns;if(!this.stretchAllColumnsWidth[t]){var a=Math.round(r*this.stretchAllRatio),u=o.stretchingColumnWidthFn(a,t);this.stretchAllColumnsWidth[t]=void 0===u?a:isNaN(u)?this._getColumnWidth(t):u}if(this.stretchAllColumnsWidth.length===s&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var c=0;c<this.stretchAllColumnsWidth.length;c++)i+=this.stretchAllColumnsWidth[c];i!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-i)}return this.stretchAllColumnsWidth[t]}},{key:"_getStretchedLastColumnWidth",value:function(t){return t===BS.get(this).totalColumns-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(t){var r=BS.get(this).columnWidthFn(t);return isNaN(r)&&(r=n.DEFAULT_WIDTH),r}}],[{key:"DEFAULT_WIDTH",get:function(){return 50}}]),n}();function Jte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const JNe=function(){function n(e,t,r,i,o){var s=this;(function KNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=t,this.wtSettings=r,this.wtTable=o,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=i,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",function(){s.clientHeight=s.getWorkspaceHeight()})}return function ZNe(n,e,t){e&&Jte(n.prototype,e),t&&Jte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getWorkspaceHeight",value:function(){var r=this.dataAccessObject.topOverlayTrimmingContainer;return r===this.domBindings.rootWindow?this.domBindings.rootDocument.documentElement.clientHeight:Qs(r)>0&&r.clientHeight>0?r.clientHeight:1/0}},{key:"getWorkspaceWidth",value:function(){var w,M,t=this.wtSettings,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=this.dataAccessObject.inlineStartOverlayTrimmingContainer,a=i.documentElement.offsetWidth,u=t.getSetting("totalColumns"),c=t.getSetting("preventOverflow"),f=t.getSetting("rtlMode"),p=this.wtTable.TABLE.getBoundingClientRect(),y=a-(f?p.right-a:p.left);if(c)return us(this.wtTable.wtRootElement);if(w=t.getSetting("freezeOverlays")?Math.min(y,a):Math.min(this.getContainerFillWidth(),y,a),s===o&&u>0&&this.sumColumnWidths(0,u-1)>w)return i.documentElement.clientWidth;if(s!==o&&("scroll"===(M=HV(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",o))||"hidden"===M||"auto"===M))return Math.max(w,s.clientWidth);var C=t.getSetting("stretchH");return"none"!==C&&C?w:Math.max(w,us(this.wtTable.TABLE))}},{key:"hasVerticalScroll",value:function(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(t,r){for(var i=0,o=t;o<r;)i+=this.wtTable.getColumnWidth(o),o+=1;return i}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var t=this.wtTable.holder,r=this.domBindings.rootDocument.createElement("div");r.style.width="100%",r.style.height="1px",t.appendChild(r);var i=r.offsetWidth;return this.containerWidth=i,t.removeChild(r),i}},{key:"getWorkspaceOffset",value:function(){return Ba(this.wtTable.TABLE)}},{key:"getColumnHeaderHeight",value:function(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Qs(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var t=this.getWorkspaceHeight();if(t===1/0)return t;var r=this.getColumnHeaderHeight();return r>0&&(t-=r),t}},{key:"getRowHeaderWidth",value:function(){var t=this.wtSettings.getSetting("rowHeaderWidth"),r=this.wtSettings.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(var i=0,o=r.length;i<o;i++)this.rowHeaderWidth+=t[i]||t}if(isNaN(this.rowHeaderWidth))if(r.length){var s=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var a=0,u=r.length;a<u;a++)s?(this.rowHeaderWidth+=us(s),s=s.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var t=this.getWorkspaceWidth();if(t===1/0)return t;var r=this.getRowHeaderWidth();return r>0?t-r:t}},{key:"createRowsCalculator",value:function(){var o,s,a,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this.wtSettings,i=this.wtTable;this.rowHeaderWidth=NaN,o=r.getSetting("renderAllRows")&&1===t?1/0:this.getViewportHeight();var u=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;u<0&&(u=0);var c=r.getSetting("fixedRowsTop"),f=r.getSetting("fixedRowsBottom"),p=r.getSetting("totalRows");return c&&(u+=a=this.dataAccessObject.topOverlay.sumCellSizes(0,c),o-=a),f&&this.dataAccessObject.bottomOverlay.clone&&(o-=a=this.dataAccessObject.bottomOverlay.sumCellSizes(p-f,p)),s=i.holder.clientHeight===i.holder.offsetHeight?0:yl(this.domBindings.rootDocument),new Zte({viewportSize:o,scrollOffset:u,totalItems:r.getSetting("totalRows"),itemSizeFn:function(y){return i.getRowHeight(y)},overrideFn:r.getSettingPure("viewportRowCalculatorOverride"),calculationType:t,scrollbarHeight:s})}},{key:"createColumnsCalculator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this.wtSettings,i=this.wtTable,o=this.getViewportWidth(),s=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN,s<0&&(s=0);var a=r.getSetting("fixedColumnsStart");if(a){var u=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,a);s+=u,o-=u}return i.holder.clientWidth!==i.holder.offsetWidth&&(o-=yl(this.domBindings.rootDocument)),new rU({viewportSize:o,scrollOffset:Math.abs(s),totalItems:r.getSetting("totalColumns"),itemSizeFn:function(f){return i.getColumnWidth(f)},overrideFn:r.getSettingPure("viewportColumnCalculatorOverride"),calculationType:t,stretchMode:r.getSetting("stretchH"),stretchingItemWidthFn:function(f,p){return r.getSetting("onBeforeStretchingColumnWidth",f,p)}})}},{key:"createRenderCalculators",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t;if(r){var i=this.createRowsCalculator(2),o=this.createColumnsCalculator(2);this.areAllProposedVisibleRowsAlreadyRendered(i)&&this.areAllProposedVisibleColumnsAlreadyRendered(o)||(r=!1)}return r||(this.rowsRenderCalculator=this.createRowsCalculator(1),this.columnsRenderCalculator=this.createColumnsCalculator(1)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,r}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(2),this.columnsVisibleCalculator=this.createColumnsCalculator(2)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(t){if(!this.rowsVisibleCalculator)return!1;var r=t.startRow,i=t.endRow;if(null===r&&null===i)return!1;var o=this.rowsRenderCalculator,s=o.startRow,a=o.endRow;return!(r<s||r===s&&r>0||i>a||i===a&&i<this.wtSettings.getSetting("totalRows")-1)}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(t){if(!this.columnsVisibleCalculator)return!1;var r=t.startColumn,i=t.endColumn;if(null===r&&null===i)return!1;var o=this.columnsRenderCalculator,s=o.startColumn,a=o.endColumn;return!(r<s||r===s&&r>0||i>a||i===a&&i<this.wtSettings.getSetting("totalColumns")-1)}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){to(this.hasOversizedColumnHeadersMarked,function(t,r,i){i[r]=void 0})}}]),n}();function iU(n){return(iU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Qte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function oU(n,e){return(oU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function r2e(n,e){if(e&&("object"===iU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sU(n)}function sU(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gI(n){return(gI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var o2e=function(n){!function t2e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oU(n,e)}(t,n);var e=function n2e(n){var e=function i2e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=gI(n);if(e){var o=gI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return r2e(this,i)}}(t);function t(r,i){var o;!function QNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=(o=e.call(this,r,new INe(i))).wtSettings.getSetting("facade",sU(o));return o.wtTable=new UNe(o.getTableDao(),s,o.domBindings,o.wtSettings),o.wtViewport=new JNe(o.getViewportDao(),o.domBindings,o.wtSettings,o.eventManager,o.wtTable),o.selections=o.wtSettings.getSetting("selections"),o.wtEvent=new Nee(s,o.domBindings,o.wtSettings,o.eventManager,o.wtTable,o.selections),o.wtOverlays=new ONe(sU(o),s,o.domBindings,o.wtSettings,o.eventManager,o.wtTable),o.exportSettingsAsClassNames(),o.findOriginalHeaders(),o}return function e2e(n,e,t){e&&Qte(n.prototype,e),t&&Qte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"exportSettingsAsClassNames",value:function(){var i=this,s=[],a=[];to({rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},function(u,c){i.wtSettings.getSetting(c).length&&a.push(u),s.push(u)}),Ii(this.wtTable.wtRootElement.parentNode,s),Cn(this.wtTable.wtRootElement.parentNode,a)}},{key:"getViewportDao",value:function(){var i=this;return{get wot(){return i},get topOverlayTrimmingContainer(){return i.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return i.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return i.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return i.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return i.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return i.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return i.wtOverlays.topOverlay},get inlineStartOverlay(){return i.wtOverlays.inlineStartOverlay},get bottomOverlay(){return i.wtOverlays.bottomOverlay}}}}]),t}(Oz);function ene(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var l2e=function(){function n(e){(function s2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),e instanceof Oz?this._wot=e:this._initFromSettings(e)}return function a2e(n,e,t){e&&ene(n.prototype,e),t&&ene(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"_initFromSettings",value:function(t){t.facade=function(r){var i=new n(r);return function(){return i}},this._wot=new o2e(t.table,t)}},{key:"guid",get:function(){return this._wot.guid}},{key:"rootDocument",get:function(){return this._wot.domBindings.rootDocument}},{key:"rootWindow",get:function(){return this._wot.domBindings.rootWindow}},{key:"wtSettings",get:function(){return this._wot.wtSettings}},{key:"cloneSource",get:function(){return this._wot.cloneSource}},{key:"cloneOverlay",get:function(){return this._wot.cloneOverlay}},{key:"selections",get:function(){return this._wot.selections}},{key:"wtViewport",get:function(){return this._wot.wtViewport}},{key:"wtOverlays",get:function(){return this._wot.wtOverlays}},{key:"wtTable",get:function(){return this._wot.wtTable}},{key:"wtEvent",get:function(){return this._wot.wtEvent}},{key:"wtScroll",get:function(){return this._wot.wtScroll}},{key:"drawn",get:function(){return this._wot.drawn},set:function(t){this._wot.drawn=t}},{key:"drawInterrupted",get:function(){return this._wot.drawInterrupted},set:function(t){this._wot.drawInterrupted=t}},{key:"lastMouseOver",get:function(){return this._wot.lastMouseOver},set:function(t){this._wot.lastMouseOver=t}},{key:"momentumScrolling",get:function(){return this._wot.momentumScrolling},set:function(t){this._wot.momentumScrolling=t}},{key:"touchApplied",get:function(){return this._wot.touchApplied},set:function(t){this._wot.touchApplied=t}},{key:"domBindings",get:function(){return this._wot.domBindings}},{key:"eventListeners",get:function(){return this._wot.eventListeners},set:function(t){this._wot.eventListeners=t}},{key:"eventManager",get:function(){return this._wot.eventManager}},{key:"createCellCoords",value:function(t,r){return this._wot.createCellCoords(t,r)}},{key:"createCellRange",value:function(t,r,i){return this._wot.createCellRange(t,r,i)}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._wot.draw(t),this}},{key:"getCell",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._wot.getCell(t,r)}},{key:"scrollViewport",value:function(t,r,i,o,s){return this._wot.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return this._wot.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return this._wot.scrollViewportVertically(t,r,i)}},{key:"getViewport",value:function(){return this._wot.getViewport()}},{key:"getOverlayName",value:function(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}},{key:"exportSettingsAsClassNames",value:function(){return this._wot.exportSettingsAsClassNames()}},{key:"update",value:function(t,r){return this._wot.wtSettings.update(t,r),this}},{key:"getSetting",value:function(t,r,i,o,s){return this._wot.wtSettings.getSetting(t,r,i,o,s)}},{key:"hasSetting",value:function(t){return this._wot.wtSettings.hasSetting(t)}},{key:"destroy",value:function(){this._wot.destroy()}}]),n}();function tne(n){var e=n.isShiftKey,t=n.isLeftClick,r=n.isRightClick,i=n.coords,o=n.selection,s=n.controller,a=n.cellCoordsFactory,u=o.isSelected()?o.getSelectedRange().current():null,c=o.isSelectedByCorner(),f=o.isSelectedByRowHeader();if(e&&u)i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(i):(c||f)&&i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(a(i.row,i.col)):c&&i.row<0&&!s.column?o.setRangeEnd(a(u.to.row,i.col)):f&&i.col<0&&!s.row?o.setRangeEnd(a(i.row,u.to.col)):(!c&&!f&&i.col<0||c&&i.col<0)&&!s.row?o.selectRows(Math.max(u.from.row,0),i.row,i.col):(!c&&!f&&i.row<0||f&&i.row<0)&&!s.column&&o.selectColumns(Math.max(u.from.col,0),i.col,i.row);else{var p=!o.inInSelection(i),g=t||r&&p;i.row<0&&i.col>=0&&!s.column?g&&o.selectColumns(i.col,i.col,i.row):i.col<0&&i.row>=0&&!s.row?g&&o.selectRows(i.row,i.row,i.col):i.col>=0&&i.row>=0&&!s.cell?g&&o.setRangeStart(i):i.col<0&&i.row<0&&o.selectAll(!0,!0)}}var c2e=new Map([["mousedown",tne],["mouseover",function u2e(n){var t=n.coords,r=n.selection,i=n.controller,o=n.cellCoordsFactory;if(n.isLeftClick){var s=r.isSelectedByRowHeader(),a=r.isSelectedByColumnHeader(),u=r.tableProps.countCols(),c=r.tableProps.countRows();a&&!i.column?r.setRangeEnd(o(c-1,t.col)):s&&!i.row?r.setRangeEnd(o(t.row,u-1)):i.cell||r.setRangeEnd(t)}}],["touchstart",tne]]);function nne(n,e){var t=e.coords,r=e.selection,i=e.controller,o=e.cellCoordsFactory;c2e.get(n.type)({coords:t,selection:r,controller:i,cellCoordsFactory:o,isShiftKey:n.shiftKey,isLeftClick:WV(n)||"touchstart"===n.type,isRightClick:Tb(n)})}var rne=new WeakMap,aU=Symbol("rootInstance");function d2e(n){rne.set(n,!0)}function f2e(n){return n===aU}function lU(n){return rne.has(n)}function d1(n,e){return function m2e(n){if(Array.isArray(n))return n}(n)||function p2e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||one(n,e)||function h2e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ine(n){return function y2e(n){if(Array.isArray(n))return uU(n)}(n)||function v2e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||one(n)||function g2e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function one(n,e){if(n){if("string"==typeof n)return uU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uU(n,e)}}function uU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function sne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Lb=new WeakMap;const M2e=function(){function n(e){(function _2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.instance=e,this.eventManager=new ea(e),this.settings=e.getSettings(),this.THEAD=void 0,this.TBODY=void 0,this._wt=void 0,this.activeWt=void 0,this.postponedAdjustElementsSize=!1,Lb.set(this,{selectionMouseDown:!1,mouseDown:void 0,table:void 0,lastWidth:0,lastHeight:0}),this.createElements(),this.registerEvents(),this.initializeWalkontable()}return function b2e(n,e,t){e&&sne(n.prototype,e),t&&sne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"render",value:function(){this.instance.isRenderSuspended()||(this.instance.runHooks("beforeRender",this.instance.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.instance.forceFullRender),this.instance.runHooks("afterRender",this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.instance.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize(t)}},{key:"getCellAtCoords",value:function(t,r){var i=this._wt.getCell(t,r);return i<0?null:i}},{key:"scrollViewport",value:function(t,r,i,o,s){return this._wt.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return this._wt.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return this._wt.scrollViewportVertically(t,r,i)}},{key:"createElements",value:function(){var t=Lb.get(this),r=this.instance,i=r.rootElement,o=r.rootDocument,s=i.getAttribute("style");s&&i.setAttribute("data-originalstyle",s),Cn(i,"handsontable"),t.table=o.createElement("TABLE"),Cn(t.table,"htCore"),this.instance.getSettings().tableClassName&&Cn(t.table,this.instance.getSettings().tableClassName),this.THEAD=o.createElement("THEAD"),t.table.appendChild(this.THEAD),this.TBODY=o.createElement("TBODY"),t.table.appendChild(this.TBODY),this.instance.table=t.table,this.instance.container.insertBefore(t.table,this.instance.container.firstChild)}},{key:"registerEvents",value:function(){var t=this,r=Lb.get(this),i=this.instance,o=i.rootElement,s=i.rootDocument,a=i.selection,u=s.documentElement;this.eventManager.addEventListener(o,"mousedown",function(c){if(r.selectionMouseDown=!0,!t.isTextSelectionAllowed(c.target)){var f=t.instance.rootWindow;$Q(f),c.preventDefault(),f.focus()}}),this.eventManager.addEventListener(o,"mouseup",function(){r.selectionMouseDown=!1}),this.eventManager.addEventListener(o,"mousemove",function(c){r.selectionMouseDown&&!t.isTextSelectionAllowed(c.target)&&(t.settings.fragmentSelection&&$Q(t.instance.rootWindow),c.preventDefault())}),this.eventManager.addEventListener(u,"keyup",function(c){a.isInProgress()&&!c.shiftKey&&a.finish()}),this.eventManager.addEventListener(u,"mouseup",function(c){a.isInProgress()&&WV(c)&&a.finish(),r.mouseDown=!1,(XQ(s.activeElement)||!a.isSelected()&&!a.isSelectedByAnyHeader()&&!o.contains(c.target)&&!Tb(c))&&t.instance.unlisten()}),this.eventManager.addEventListener(u,"contextmenu",function(c){a.isInProgress()&&Tb(c)&&(a.finish(),r.mouseDown=!1)}),this.eventManager.addEventListener(u,"touchend",function(){a.isInProgress()&&a.finish(),r.mouseDown=!1}),this.eventManager.addEventListener(u,"mousedown",function(c){var f=c.target,p=c.x||c.clientX,g=c.y||c.clientY,y=c.target;if(!r.mouseDown&&o&&t.instance.view){var w=t.instance.view._wt.wtTable.holder;if(y===w){var M=yl(s);if(s.elementFromPoint(p+M,g)!==w||s.elementFromPoint(p,g+M)!==w)return}else for(;y!==u;){if(null===y){if(c.isTargetWebComponent)break;return}if(y===o)return;y=y.parentNode}("function"==typeof t.settings.outsideClickDeselects?t.settings.outsideClickDeselects(f):t.settings.outsideClickDeselects)?t.instance.deselectCell():t.instance.destroyEditor(!1,!1)}}),this.eventManager.addEventListener(r.table,"selectstart",function(c){t.settings.fragmentSelection||IL(c.target)||c.preventDefault()})}},{key:"translateFromRenderableToVisualCoords",value:function(t){var r;return(r=this.instance)._createCellCoords.apply(r,ine(this.translateFromRenderableToVisualIndex(t.row,t.col)))}},{key:"translateFromRenderableToVisualIndex",value:function(t,r){var i=t>=0?this.instance.rowIndexMapper.getVisualFromRenderableIndex(t):t,o=r>=0?this.instance.columnIndexMapper.getVisualFromRenderableIndex(r):r;return null===i&&(i=t),null===o&&(o=r),[i,o]}},{key:"countRenderableIndexes",value:function(t,r){var i=Math.min(t.getNotTrimmedIndexesLength(),r),o=t.getNearestNotHiddenIndex(i-1,-1);return null===o?0:t.getRenderableFromVisualIndex(o)+1}},{key:"countRenderableColumns",value:function(){return this.countRenderableIndexes(this.instance.columnIndexMapper,this.settings.maxCols)}},{key:"countRenderableRows",value:function(){return this.countRenderableIndexes(this.instance.rowIndexMapper,this.settings.maxRows)}},{key:"countNotHiddenRowIndexes",value:function(t,r){return this.countNotHiddenIndexes(t,r,this.instance.rowIndexMapper,this.countRenderableRows())}},{key:"countNotHiddenColumnIndexes",value:function(t,r){return this.countNotHiddenIndexes(t,r,this.instance.columnIndexMapper,this.countRenderableColumns())}},{key:"countNotHiddenIndexes",value:function(t,r,i,o){if(isNaN(t)||t<0)return 0;var s=i.getNearestNotHiddenIndex(t,r),a=i.getRenderableFromVisualIndex(s);if(!Number.isInteger(a))return 0;var u=0;return r<0?u=a+1:r>0&&(u=o-a),u}},{key:"countNotHiddenFixedColumnsStart",value:function(){var t=this.instance.countCols(),r=Math.min(parseInt(this.settings.fixedColumnsStart,10),t)-1;return this.countNotHiddenColumnIndexes(r,-1)}},{key:"countNotHiddenFixedRowsTop",value:function(){var t=this.instance.countRows(),r=Math.min(parseInt(this.settings.fixedRowsTop,10),t)-1;return this.countNotHiddenRowIndexes(r,-1)}},{key:"countNotHiddenFixedRowsBottom",value:function(){var t=this.instance.countRows(),r=Math.max(t-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(r,1)}},{key:"isMainTableNotFullyCoveredByOverlays",value:function(){var t=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),r=this.countNotHiddenFixedColumnsStart();return this.instance.countRenderedRows()>t&&this.instance.countRenderedCols()>r}},{key:"initializeWalkontable",value:function(){var t=this,r=Lb.get(this),i={rtlMode:this.instance.isRtl(),externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:r.table,isDataViewInstance:function(){return lU(t.instance)},preventOverflow:function(){return t.settings.preventOverflow},preventWheel:function(){return t.settings.preventWheel},stretchH:function(){return t.settings.stretchH},data:function(f,p){var g;return(g=t.instance).getDataAtCell.apply(g,ine(t.translateFromRenderableToVisualIndex(f,p)))},totalRows:function(){return t.countRenderableRows()},totalColumns:function(){return t.countRenderableColumns()},fixedColumnsStart:function(){return t.countNotHiddenFixedColumnsStart()},fixedRowsTop:function(){return t.countNotHiddenFixedRowsTop()},fixedRowsBottom:function(){return t.countNotHiddenFixedRowsBottom()},shouldRenderInlineStartOverlay:function(){return t.settings.fixedColumnsStart>0||i.rowHeaders().length>0},shouldRenderTopOverlay:function(){return t.settings.fixedRowsTop>0||i.columnHeaders().length>0},shouldRenderBottomOverlay:function(){return t.settings.fixedRowsBottom>0},minSpareRows:function(){return t.settings.minSpareRows},renderAllRows:this.settings.renderAllRows,rowHeaders:function(){var f=[];return t.instance.hasRowHeaders()&&f.push(function(p,g){var y=p>=0?t.instance.rowIndexMapper.getVisualFromRenderableIndex(p):p;t.appendRowHeader(y,g)}),t.instance.runHooks("afterGetRowHeaderRenderers",f),f},columnHeaders:function(){var f=[];return t.instance.hasColHeaders()&&f.push(function(p,g){var y=p>=0?t.instance.columnIndexMapper.getVisualFromRenderableIndex(p):p;t.appendColHeader(y,g)}),t.instance.runHooks("afterGetColumnHeaderRenderers",f),f},columnWidth:function(f){var p=t.instance.columnIndexMapper.getVisualFromRenderableIndex(f);return t.instance.getColWidth(null===p?f:p)},rowHeight:function(f){var p=t.instance.rowIndexMapper.getVisualFromRenderableIndex(f);return t.instance.getRowHeight(null===p?f:p)},cellRenderer:function(f,p,g){var w=d1(t.translateFromRenderableToVisualIndex(f,p),2),M=w[0],C=w[1],I=t.instance.runHooks("modifyGetCellCoords",M,C),B=M,U=C;if(Array.isArray(I)){var j=d1(I,2);B=j[0],U=j[1]}var $=t.instance.getCellMeta(B,U),se=t.instance.colToProp(U),ge=t.instance.getDataAtRowProp(B,se);t.instance.hasHook("beforeValueRender")&&(ge=t.instance.runHooks("beforeValueRender",ge,$)),t.instance.runHooks("beforeRenderer",g,M,C,se,ge,$),t.instance.getCellRenderer($)(t.instance,g,M,C,se,ge,$),t.instance.runHooks("afterRenderer",g,M,C,se,ge,$)},selections:this.instance.selection.highlight,hideBorderOnMouseDownOver:function(){return t.settings.fragmentSelection},onWindowResize:function(){!t.instance||t.instance.isDestroyed||t.instance.refreshDimensions()},onCellMouseDown:function(f,p,g,y){var w=t.translateFromRenderableToVisualCoords(p),M={row:!1,column:!1,cell:!1};t.instance.listen(),t.activeWt=y,r.mouseDown=!0,t.instance.runHooks("beforeOnCellMouseDown",f,w,g,M),!PS(f)&&(nne(f,{coords:w,selection:t.instance.selection,controller:M,cellCoordsFactory:function(I,B){return t.instance._createCellCoords(I,B)}}),t.instance.runHooks("afterOnCellMouseDown",f,w,g),t.activeWt=t._wt)},onCellContextMenu:function(f,p,g,y){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=y,r.mouseDown=!1,t.instance.selection.isInProgress()&&t.instance.selection.finish(),t.instance.runHooks("beforeOnCellContextMenu",f,w,g),!PS(f)&&(t.instance.runHooks("afterOnCellContextMenu",f,w,g),t.activeWt=t._wt)},onCellMouseOut:function(f,p,g,y){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=y,t.instance.runHooks("beforeOnCellMouseOut",f,w,g),!PS(f)&&(t.instance.runHooks("afterOnCellMouseOut",f,w,g),t.activeWt=t._wt)},onCellMouseOver:function(f,p,g,y){var w=t.translateFromRenderableToVisualCoords(p),M={row:!1,column:!1,cell:!1};t.activeWt=y,t.instance.runHooks("beforeOnCellMouseOver",f,w,g,M),!PS(f)&&(r.mouseDown&&nne(f,{coords:w,selection:t.instance.selection,controller:M,cellCoordsFactory:function(I,B){return t.instance._createCellCoords(I,B)}}),t.instance.runHooks("afterOnCellMouseOver",f,w,g),t.activeWt=t._wt)},onCellMouseUp:function(f,p,g,y){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=y,t.instance.runHooks("beforeOnCellMouseUp",f,w,g),!PS(f)&&!t.instance.isDestroyed&&(t.instance.runHooks("afterOnCellMouseUp",f,w,g),t.activeWt=t._wt)},onCellCornerMouseDown:function(f){f.preventDefault(),t.instance.runHooks("afterOnCellCornerMouseDown",f)},onCellCornerDblClick:function(f){f.preventDefault(),t.instance.runHooks("afterOnCellCornerDblClick",f)},beforeDraw:function(f,p){return t.beforeRender(f,p)},onDraw:function(f){return t.afterRender(f)},onScrollVertically:function(){return t.instance.runHooks("afterScrollVertically")},onScrollHorizontally:function(){return t.instance.runHooks("afterScrollHorizontally")},onBeforeRemoveCellClassNames:function(){return t.instance.runHooks("beforeRemoveCellClassNames")},onBeforeHighlightingRowHeader:function(f,p,g){var y=t.instance.rowIndexMapper,w=y.getVisualFromRenderableIndex(f),M=t.instance.runHooks("beforeHighlightingRowHeader",w,p,g);return y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex(M,1))},onBeforeHighlightingColumnHeader:function(f,p,g){var y=t.instance.columnIndexMapper,w=y.getVisualFromRenderableIndex(f),M=t.instance.runHooks("beforeHighlightingColumnHeader",w,p,g);return y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex(M,1))},onAfterDrawSelection:function(f,p,g){var y,M=d1(t.translateFromRenderableToVisualIndex(f,p),2),C=M[0],I=M[1],B=t.instance.selection.getSelectedRange(),U=B.size();if(U>0){var $=B.peekByIndex((null!=g?g:0)+1-U);y=[$.from.row,$.from.col,$.to.row,$.to.col]}return t.instance.runHooks("afterDrawSelection",C,I,y,g)},onBeforeDrawBorders:function(f,p){var g=d1(f,4),w=g[1],M=g[2],C=g[3],I=[t.instance.rowIndexMapper.getVisualFromRenderableIndex(g[0]),t.instance.columnIndexMapper.getVisualFromRenderableIndex(w),t.instance.rowIndexMapper.getVisualFromRenderableIndex(M),t.instance.columnIndexMapper.getVisualFromRenderableIndex(C)];return t.instance.runHooks("beforeDrawBorders",I,p)},onBeforeTouchScroll:function(){return t.instance.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){return t.instance.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(f,p){var g=t.instance.columnIndexMapper.getVisualFromRenderableIndex(p);return t.instance.runHooks("beforeStretchingColumnWidth",f,g)},onModifyRowHeaderWidth:function(f){return t.instance.runHooks("modifyRowHeaderWidth",f)},onModifyGetCellCoords:function(f,p,g){var y=t.instance.rowIndexMapper,w=t.instance.columnIndexMapper,M=p>=0?w.getVisualFromRenderableIndex(p):p,C=f>=0?y.getVisualFromRenderableIndex(f):f,I=t.instance.runHooks("modifyGetCellCoords",C,M,g);if(Array.isArray(I)){var B=d1(I,4),U=B[0],j=B[1],$=B[2],se=B[3];return[U>=0?y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex(U,1)):U,j>=0?w.getRenderableFromVisualIndex(w.getNearestNotHiddenIndex(j,1)):j,$>=0?y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex($,-1)):$,se>=0?w.getRenderableFromVisualIndex(w.getNearestNotHiddenIndex(se,-1)):se]}},viewportRowCalculatorOverride:function(f){var p=t.settings.viewportRowRenderingOffset;if("auto"===p&&t.settings.fixedRowsTop&&(p=10),p>0||"auto"===p){var g=t.countRenderableRows(),y=f.startRow,w=f.endRow;if("number"==typeof p)f.startRow=Math.max(y-p,0),f.endRow=Math.min(w+p,g-1);else if("auto"===p){var M=Math.ceil(w/g*12);f.startRow=Math.max(y-M,0),f.endRow=Math.min(w+M,g-1)}}t.instance.runHooks("afterViewportRowCalculatorOverride",f)},viewportColumnCalculatorOverride:function(f){var p=t.settings.viewportColumnRenderingOffset;if("auto"===p&&t.settings.fixedColumnsStart&&(p=10),p>0||"auto"===p){var g=t.countRenderableColumns(),y=f.startColumn,w=f.endColumn;if("number"==typeof p&&(f.startColumn=Math.max(y-p,0),f.endColumn=Math.min(w+p,g-1)),"auto"===p){var M=Math.ceil(w/g*6);f.startColumn=Math.max(y-M,0),f.endColumn=Math.min(w+M,g-1)}}t.instance.runHooks("afterViewportColumnCalculatorOverride",f)},rowHeaderWidth:function(){return t.settings.rowHeaderWidth},columnHeaderHeight:function(){var f=t.instance.runHooks("modifyColumnHeaderHeight");return t.settings.columnHeaderHeight||f}};this.instance.runHooks("beforeInitWalkontable",i),this._wt=new l2e(i),this.activeWt=this._wt;var o=this._wt.wtTable.spreader,s=this.instance.rootElement.getBoundingClientRect();this.setLastSize(s.width,s.height),this.eventManager.addEventListener(o,"mousedown",function(c){c.target===o&&3===c.which&&c.stopPropagation()}),this.eventManager.addEventListener(o,"contextmenu",function(c){c.target===o&&3===c.which&&c.stopPropagation()}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"click",function(){t.settings.observeDOMVisibility&&t._wt.drawInterrupted&&(t.instance.forceFullRender=!0,t.render())})}},{key:"isTextSelectionAllowed",value:function(t){if(IL(t))return!0;var r=Mb(t,this.instance.view._wt.wtTable.spreader);return!!(!0===this.settings.fragmentSelection&&r||"cell"===this.settings.fragmentSelection&&this.isSelectedOnlyCell()&&r||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}},{key:"isMouseDown",value:function(){return Lb.get(this).mouseDown}},{key:"isSelectedOnlyCell",value:function(){var t,r;return null!==(t=null===(r=this.instance.getSelectedRangeLast())||void 0===r?void 0:r.isSingle())&&void 0!==t&&t}},{key:"isCellEdited",value:function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()}},{key:"beforeRender",value:function(t,r){t&&this.instance.runHooks("beforeViewRender",this.instance.forceFullRender,r)}},{key:"afterRender",value:function(t){t&&this.instance.runHooks("afterViewRender",this.instance.forceFullRender)}},{key:"appendRowHeader",value:function(t,r){if(r.firstChild){var i=r.firstChild;if(!_i(i,"relative"))return Zf(r),void this.appendRowHeader(t,r);this.updateCellHeader(i.querySelector(".rowHeader"),t,this.instance.getRowHeader)}else{var o=this.instance,s=o.rootDocument,a=o.getRowHeader,u=s.createElement("div"),c=s.createElement("span");u.className="relative",c.className="rowHeader",this.updateCellHeader(c,t,a),u.appendChild(c),r.appendChild(u)}this.instance.runHooks("afterGetRowHeader",t,r)}},{key:"appendColHeader",value:function(t,r){if(r.firstChild){var i=r.firstChild;_i(i,"relative")?this.updateCellHeader(i.querySelector(".colHeader"),t,this.instance.getColHeader):(Zf(r),this.appendColHeader(t,r))}else{var o=this.instance.rootDocument,s=o.createElement("div"),a=o.createElement("span");s.className="relative",a.className="colHeader",this.updateCellHeader(a,t,this.instance.getColHeader),s.appendChild(a),r.appendChild(s)}this.instance.runHooks("afterGetColHeader",t,r)}},{key:"updateCellHeader",value:function(t,r,i){var o=r,s=this._wt.wtOverlays.getParentOverlay(t)||this._wt;t.parentNode&&(_i(t,"colHeader")?o=s.wtTable.columnFilter.sourceToRendered(r):_i(t,"rowHeader")&&(o=s.wtTable.rowFilter.sourceToRendered(r))),o>-1?xb(t,i(r)):(Cb(t,String.fromCharCode(160)),Cn(t,"cornerHeader"))}},{key:"maximumVisibleElementWidth",value:function(t){var i=this._wt.wtViewport.getWorkspaceWidth()-t;return i>0?i:0}},{key:"maximumVisibleElementHeight",value:function(t){var i=this._wt.wtViewport.getWorkspaceHeight()-t;return i>0?i:0}},{key:"setLastSize",value:function(t,r){var i=Lb.get(this),o=[t,r];i.lastWidth=o[0],i.lastHeight=o[1]}},{key:"getLastSize",value:function(){var t=Lb.get(this);return{width:t.lastWidth,height:t.lastHeight}}},{key:"getFirstFullyVisibleRow",value:function(){return this.instance.rowIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getFirstVisibleRow())}},{key:"getLastFullyVisibleRow",value:function(){return this.instance.rowIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getLastVisibleRow())}},{key:"getFirstFullyVisibleColumn",value:function(){return this.instance.columnIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getFirstVisibleColumn())}},{key:"getLastFullyVisibleColumn",value:function(){return this.instance.columnIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getLastVisibleColumn())}},{key:"destroy",value:function(){this._wt.destroy(),this.eventManager.destroy()}}]),n}();var f1=Wd("cellTypes"),S2e=f1.register,x2e=f1.getItem,ane=f1.hasItem;function lne(n){if(!ane(n))throw Error('You declared cell type "'.concat(n,'" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by\n                 "Handsontable.cellTypes.registerCellType" method'));return x2e(n)}function Jh(n,e){"string"!=typeof n&&(n=(e=n).CELL_TYPE);var r=e.editor,i=e.renderer,o=e.validator;r&&ed(n,r),i&&Sm(n,i),o&&a1(n,o),S2e(n,e)}function cU(n){return(cU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var dU="ABCDEFGHIJKLMNOPQRSTUVWXYZ".length;function fU(n){for(var r,e=n+1,t="";e>0;)r=(e-1)%dU,t=String.fromCharCode(65+r)+t,e=parseInt((e-r)/dU,10);return t}function vI(n,e){var t=void 0===e||e;return function(i,o){return function s(a){if(a){if(Ps(a,n)&&void 0!==a[n])return a[n];if(Ps(a,"type")&&a.type){if("string"!=typeof a.type)throw new Error('Cell "type" must be a string');var u=lne(a.type);if(Ps(u,n))return u[n];if(t)return}return s(Object.getPrototypeOf(a))}}("number"==typeof i?this.getCellMeta(i,o):i)}}function cne(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=n,r=[];return(!Array.isArray(n)||!Array.isArray(n[0]))&&(t=[n]),t.forEach(function(i,o){Array.isArray(i)?i.forEach(function(s,a){r.push([o+e,a,s])}):Object.keys(i).forEach(function(s){r.push([o+e,s,i[s]])})}),r}function dne(n){var e=0;return Array.isArray(n)&&(n[0]&&Array.isArray(n[0])?e=n[0].length:n[0]&&ji(n[0])&&(e=DV(n[0]))),e}function T2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const A2e=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];T2e(this,n),this.hot=e,this.data=t,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}return function R2e(n,e,t){e&&fne(n.prototype,e),t&&fne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"modifyRowData",value:function(t){var r;return this.hot.hasHook("modifyRowData")&&(r=this.hot.runHooks("modifyRowData",t)),void 0===r||Number.isInteger(r)?this.data[t]:r}},{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.data&&0!==this.data.length?this.getByRange(null,null,t):this.data}},{key:"setData",value:function(t){this.data=t}},{key:"getAtColumn",value:function(t){var r=this,i=[];return Qe(this.data,function(o,s){var a=r.getAtCell(s,t);i.push(a)}),i}},{key:"getAtRow",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=void 0===r&&void 0===i,u=null,c=null;if(u=this.modifyRowData(t),Array.isArray(u))c=[],a?u.forEach(function(g,y){c[y]=o.getAtPhysicalCell(t,y,u)}):Hr(r,i,function(g){c[g-r]=o.getAtPhysicalCell(t,g,u)});else if(ji(u)||Ss(u))if(c=s?[]:{},!a||s){var f=0,p=this.countFirstRowKeys()-1;Hr(f,p,function(g){var y=o.colToProp(g);if(g>=(r||f)&&g<=(i||p)&&!Number.isInteger(y)){var w=o.getAtPhysicalCell(t,y,u);s?c.push(w):RV(c,y,w)}})}else to(u,function(g,y){RV(c,y,o.getAtPhysicalCell(t,y,u))});return c}},{key:"setAtCell",value:function(t,r,i){if(!(t>=this.countRows()||r>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){var o=OS(i);this.hot.runHooks("modifySourceData",t,this.propToCol(r),o,"set"),o.isTouched()&&(i=o.value)}Number.isInteger(r)?this.data[t][r]=i:RV(this.data[t],r,i)}}},{key:"getAtPhysicalCell",value:function(t,r,i){var o=null;if(i&&(o="string"==typeof r?function EAe(n,e){var t=e.split("."),r=n;return to(t,function(i){if(void 0===(r=r[i]))return r=void 0,!1}),r}(i,r):"function"==typeof r?r(i):i[r]),this.hot.hasHook("modifySourceData")){var s=OS(o);this.hot.runHooks("modifySourceData",t,this.colToProp(r),s,"get"),s.isTouched()&&(o=s.value)}return o}},{key:"getAtCell",value:function(t,r){var i=this.modifyRowData(t);return this.getAtPhysicalCell(t,this.colToProp(r),i)}},{key:"getByRange",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!1,a=null,u=null,c=null,f=null;null===r||null===i?(s=!0,a=0,c=this.countRows()-1):(a=Math.min(r.row,i.row),u=Math.min(r.col,i.col),c=Math.max(r.row,i.row),f=Math.max(r.col,i.col));var p=[];return Hr(a,c,function(g){p.push(s?t.getAtRow(g,void 0,void 0,o):t.getAtRow(g,u,f,o))}),p}},{key:"countRows",value:function(){if(this.hot.hasHook("modifySourceLength")){var t=this.hot.runHooks("modifySourceLength");if(Number.isInteger(t))return t}return this.data.length}},{key:"countFirstRowKeys",value:function(){return dne(this.data)}},{key:"destroy",value:function(){this.data=null,this.hot=null}}]),n}();b(6590),b(5379);var hne={_localHooks:Object.create(null),addLocalHook:function(e,t){return this._localHooks[e]||(this._localHooks[e]=[]),this._localHooks[e].push(t),this},runLocalHooks:function(e,t,r,i,o,s,a){if(this._localHooks[e])for(var u=this._localHooks[e].length,c=0;c<u;c++)jV(this._localHooks[e][c],this,t,r,i,o,s,a)},clearLocalHooks:function(){return this._localHooks={},this}};wm(hne,"MIXIN_NAME","localHooks",{writable:!1,enumerable:!1});const vc=hne;function k2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Ib=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;k2e(this,n),this.indexedValues=[],this.initValueOrFn=e}return function L2e(n,e,t){e&&pne(n.prototype,e),t&&pne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getValues",value:function(){return this.indexedValues}},{key:"getValueAtIndex",value:function(t){var r=this.indexedValues;if(t<r.length)return r[t]}},{key:"setValues",value:function(t){this.indexedValues=t.slice(),this.runLocalHooks("change")}},{key:"setValueAtIndex",value:function(t,r){return t<this.indexedValues.length&&(this.indexedValues[t]=r,this.runLocalHooks("change"),!0)}},{key:"clear",value:function(){this.setDefaultValues()}},{key:"getLength",value:function(){return this.getValues().length}},{key:"setDefaultValues",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,Ss(this.initValueOrFn)?Hr(r-1,function(i){return t.indexedValues.push(t.initValueOrFn(i))}):Hr(r-1,function(){return t.indexedValues.push(t.initValueOrFn)}),this.runLocalHooks("change")}},{key:"init",value:function(t){return this.setDefaultValues(t),this.runLocalHooks("init"),this}},{key:"insert",value:function(){this.runLocalHooks("change")}},{key:"remove",value:function(){this.runLocalHooks("change")}},{key:"destroy",value:function(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}]),n}();function hU(n){return function F2e(n){if(Array.isArray(n))return pU(n)}(n)||function N2e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function P2e(n,e){if(n){if("string"==typeof n)return pU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pU(n,e)}}(n)||function I2e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function mU(n,e,t,r){var i=t.length?t[0]:void 0;return[].concat(hU(n.slice(0,i)),hU(t.map(function(o,s){return Ss(r)?r(o,s):r})),hU(void 0===i?[]:n.slice(i)))}function gU(n,e){return jd(n,function(t,r){return!1===e.includes(r)})}function vU(n){return(vU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function H2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function mne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function h1(){return h1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=V2e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},h1.apply(this,arguments)}function V2e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Pb(n)););return n}function yU(n,e){return(yU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function j2e(n,e){if(e&&("object"===vU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function W2e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Pb(n){return(Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}vs(Ib,vc);var Zv=function(n){!function z2e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&yU(n,e)}(t,n);var e=function U2e(n){var e=function Y2e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Pb(n);if(e){var o=Pb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return j2e(this,i)}}(t);function t(){return H2e(this,t),e.apply(this,arguments)}return function B2e(n,e,t){e&&mne(n.prototype,e),t&&mne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){this.indexedValues=mU(this.indexedValues,0,o,this.initValueOrFn),h1(Pb(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=gU(this.indexedValues,i),h1(Pb(t.prototype),"remove",this).call(this,i)}}]),t}(Ib);function _U(n){return(_U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function G2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function gne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function bU(n,e){return(bU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Z2e(n,e){if(e&&("object"===_U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function q2e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function yI(n){return(yI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var _I=function(n){!function X2e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&bU(n,e)}(t,n);var e=function K2e(n){var e=function J2e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=yI(n);if(e){var o=yI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Z2e(this,i)}}(t);function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return G2e(this,t),e.call(this,r)}return function $2e(n,e,t){e&&gne(n.prototype,e),t&&gne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getHiddenIndexes",value:function(){return Ha(this.getValues(),function(i,o,s){return o&&i.push(s),i},[])}}]),t}(Zv);function wU(n){return function nFe(n){if(Array.isArray(n))return MU(n)}(n)||function tFe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function eFe(n,e){if(n){if("string"==typeof n)return MU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return MU(n,e)}}(n)||function Q2e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function SU(n,e,t){return[].concat(wU(n.slice(0,e)),wU(t),wU(n.slice(e)))}function p1(n,e){return jd(n,function(t){return!1===e.includes(t)})}function xU(n,e){return Ki(n,function(t){return t-e.filter(function(r){return r<t}).length})}function CU(n,e){var t=e[0],r=e.length;return Ki(n,function(i){return i>=t?i+r:i})}function EU(n){return(EU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function TU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function xm(){return xm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=cFe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xm.apply(this,arguments)}function cFe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Jf(n)););return n}function RU(n,e){return(RU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function hFe(n,e){if(e&&("object"===EU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return yne(n)}function yne(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jf(n){return(Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function mFe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var bI=function(n){!function dFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&RU(n,e)}(t,n);var e=function fFe(n){var e=function pFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Jf(n);if(e){var o=Jf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return hFe(this,i)}}(t);function t(){var r;lFe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return mFe(yne(r=e.call.apply(e,[this].concat(o))),"orderOfIndexes",[]),r}return function uFe(n,e,t){e&&vne(n.prototype,e),t&&vne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValues",value:function(){var i=this;return this.orderOfIndexes.map(function(o){return i.indexedValues[o]})}},{key:"setValues",value:function(i){this.orderOfIndexes=function rFe(n){return function aFe(n){if(Array.isArray(n))return TU(n)}(n)||function sFe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function oFe(n,e){if(n){if("string"==typeof n)return TU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TU(n,e)}}(n)||function iFe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(i.length).keys()),xm(Jf(t.prototype),"setValues",this).call(this,i)}},{key:"setValueAtIndex",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.orderOfIndexes.length;return i<this.indexedValues.length&&(this.indexedValues[i]=o,!1===this.orderOfIndexes.includes(i)&&this.orderOfIndexes.splice(s,0,i),this.runLocalHooks("change"),!0)}},{key:"clearValue",value:function(i){this.orderOfIndexes=p1(this.orderOfIndexes,[i]),Ss(this.initValueOrFn)?xm(Jf(t.prototype),"setValueAtIndex",this).call(this,i,this.initValueOrFn(i)):xm(Jf(t.prototype),"setValueAtIndex",this).call(this,i,this.initValueOrFn)}},{key:"getLength",value:function(){return this.orderOfIndexes.length}},{key:"setDefaultValues",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,xm(Jf(t.prototype),"setDefaultValues",this).call(this,i)}},{key:"insert",value:function(i,o){this.indexedValues=mU(this.indexedValues,0,o,this.initValueOrFn),this.orderOfIndexes=CU(this.orderOfIndexes,o),xm(Jf(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=gU(this.indexedValues,i),this.orderOfIndexes=p1(this.orderOfIndexes,i),this.orderOfIndexes=xU(this.orderOfIndexes,i),xm(Jf(t.prototype),"remove",this).call(this,i)}},{key:"getEntries",value:function(){var i=this;return this.orderOfIndexes.map(function(o){return[o,i.getValueAtIndex(o)]})}}]),t}(Ib);function DU(n){return(DU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function gFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _ne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function AU(n,e){return(AU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function bFe(n,e){if(e&&("object"===DU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function wFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function wI(n){return(wI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var m1=function(n){!function yFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&AU(n,e)}(t,n);var e=function _Fe(n){var e=function MFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=wI(n);if(e){var o=wI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bFe(this,i)}}(t);function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return gFe(this,t),e.call(this,r)}return function vFe(n,e,t){e&&_ne(n.prototype,e),t&&_ne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getTrimmedIndexes",value:function(){return Ha(this.getValues(),function(i,o,s){return o&&i.push(s),i},[])}}]),t}(Zv),bne=new Map([["hiding",_I],["index",Ib],["linkedPhysicalIndexToValue",bI],["physicalIndexToValue",Zv],["trimming",m1]]);function OU(n){return(OU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function wne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function g1(){return g1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=EFe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},g1.apply(this,arguments)}function EFe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Nb(n)););return n}function kU(n,e){return(kU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function DFe(n,e){if(e&&("object"===OU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function AFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Nb(n){return(Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Mne=function(n){!function TFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&kU(n,e)}(t,n);var e=function RFe(n){var e=function OFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Nb(n);if(e){var o=Nb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return DFe(this,i)}}(t);function t(){return function xFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function CFe(n,e,t){e&&wne(n.prototype,e),t&&wne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=CU(this.indexedValues,o);this.indexedValues=SU(s,i,o),g1(Nb(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){var o=p1(this.indexedValues,i);this.indexedValues=xU(o,i),g1(Nb(t.prototype),"remove",this).call(this,i)}}]),t}(Ib);function Sne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var IU=function(){function n(){(function kFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.collection=new Map}return function LFe(n,e,t){e&&Sne(n.prototype,e),t&&Sne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"register",value:function(t,r){var i=this;!1===this.collection.has(t)&&(this.collection.set(t,r),r.addLocalHook("change",function(){return i.runLocalHooks("change",r)}))}},{key:"unregister",value:function(t){var r=this.collection.get(t);fr(r)&&(r.destroy(),this.collection.delete(t),this.runLocalHooks("change",r))}},{key:"unregisterAll",value:function(){var t=this;this.collection.forEach(function(r,i){return t.unregister(i)}),this.collection.clear()}},{key:"get",value:function(t){return Ns(t)?Array.from(this.collection.values()):this.collection.get(t)}},{key:"getLength",value:function(){return this.collection.size}},{key:"removeFromEvery",value:function(t){this.collection.forEach(function(r){r.remove(t)})}},{key:"insertToEvery",value:function(t,r){this.collection.forEach(function(i){i.insert(t,r)})}},{key:"initEvery",value:function(t){this.collection.forEach(function(r){r.init(t)})}}]),n}();function PU(n){return(PU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function NU(n,e){return(NU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function HFe(n,e){if(e&&("object"===PU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function BFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function MI(n){return(MI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}vs(IU,vc);var Cne=function(n){!function NFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&NU(n,e)}(t,n);var e=function FFe(n){var e=function VFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=MI(n);if(e){var o=MI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return HFe(this,i)}}(t);function t(r,i){var o;return function IFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this)).mergedValuesCache=[],o.aggregationFunction=r,o.fallbackValue=i,o}return function PFe(n,e,t){e&&xne(n.prototype,e),t&&xne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getMergedValues",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===i)return this.mergedValuesCache;if(0===this.getLength())return[];for(var o=Ki(this.get(),function(p){return p.getValues()}),s=[],a=fr(o[0])&&o[0].length||0,u=0;u<a;u+=1){for(var c=[],f=0;f<this.getLength();f+=1)c.push(o[f][u]);s.push(c)}return Ki(s,this.aggregationFunction)}},{key:"getMergedValueAtIndex",value:function(i,o){var s=this.getMergedValues(o)[i];return fr(s)?s:this.fallbackValue}},{key:"updateCache",value:function(){this.mergedValuesCache=this.getMergedValues(!1)}}]),t}(IU);function Ene(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Tne(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var FU=new WeakMap,Rne=function(){function n(){(function zFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function jFe(n,e,t){(function WFe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}(this,FU,{writable:!0,value:[]})}return function UFe(n,e,t){e&&Ene(n.prototype,e),t&&Ene(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"subscribe",value:function(t){return this.addLocalHook("change",t),this._write(function $Fe(n,e){return function XFe(n,e){return e.get?e.get.call(n):e.value}(n,Tne(n,e,"get"))}(this,FU)),this}},{key:"unsubscribe",value:function(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}},{key:"_write",value:function(t){return t.length>0&&this.runLocalHooks("change",t),this}},{key:"_writeInitialChanges",value:function(t){!function YFe(n,e,t){return function GFe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Tne(n,e,"set"),t),t}(this,FU,t)}}]),n}();function Dne(n,e){for(var t=[],r=0,i=0;r<n.length&&i<e.length;r++,i++)n[r]!==e[i]&&t.push({op:"replace",index:i,oldValue:n[r],newValue:e[i]});for(;r<e.length;r++)t.push({op:"insert",index:r,oldValue:void 0,newValue:e[r]});for(;i<n.length;i++)t.push({op:"remove",index:i,oldValue:n[i],newValue:void 0});return t}function KFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ane(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function v1(n,e,t){(function qFe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Xd(n,e){return function JFe(n,e){return e.get?e.get.call(n):e.value}(n,One(n,e,"get"))}function SI(n,e,t){return function QFe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,One(n,e,"set"),t),t}function One(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}vs(Rne,vc);var kne,xI=new WeakMap,y1=new WeakMap,CI=new WeakMap,EI=new WeakMap,TI=new WeakMap,eHe=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialIndexValue;KFe(this,n),v1(this,xI,{writable:!0,value:new Set}),v1(this,y1,{writable:!0,value:[]}),v1(this,CI,{writable:!0,value:[]}),v1(this,EI,{writable:!0,value:!1}),v1(this,TI,{writable:!0,value:!1}),SI(this,TI,null!=t&&t)}return function ZFe(n,e,t){e&&Ane(n.prototype,e),t&&Ane(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createObserver",value:function(){var t=this,r=new Rne;return Xd(this,xI).add(r),r.addLocalHook("unsubscribe",function(){Xd(t,xI).delete(r)}),r._writeInitialChanges(Dne(Xd(this,y1),Xd(this,CI))),r}},{key:"emit",value:function(t){var r=Xd(this,CI);(!Xd(this,EI)||Xd(this,y1).length!==t.length)&&(0===t.length?t=new Array(r.length).fill(Xd(this,TI)):SI(this,y1,new Array(t.length).fill(Xd(this,TI))),Xd(this,EI)||(SI(this,EI,!0),r=Xd(this,y1)));var i=Dne(r,t);Xd(this,xI).forEach(function(o){return o._write(i)}),SI(this,CI,t)}}]),n}();function HU(n){return function iHe(n){if(Array.isArray(n))return BU(n)}(n)||function rHe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function nHe(n,e){if(n){if("string"==typeof n)return BU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return BU(n,e)}}(n)||function tHe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function oHe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Lne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Pne,Ine=new Set(["getFirstNotHiddenIndex"]),VU=function(){function n(){var e=this;(function sHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.indexesSequence=new Mne,this.trimmingMapsCollection=new Cne(function(t){return t.some(function(r){return!0===r})},!1),this.hidingMapsCollection=new Cne(function(t){return t.some(function(r){return!0===r})},!1),this.variousMapsCollection=new IU,this.hidingChangesObservable=new eHe({initialIndexValue:!1}),this.notTrimmedIndexesCache=[],this.notHiddenIndexesCache=[],this.isBatched=!1,this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1,this.renderablePhysicalIndexesCache=[],this.fromPhysicalToVisualIndexesCache=new Map,this.fromVisualToRenderableIndexesCache=new Map,this.indexesSequence.addLocalHook("change",function(){e.indexesSequenceChanged=!0,e.updateCache(),e.runLocalHooks("change",e.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",function(t){e.trimmedIndexesChanged=!0,e.updateCache(),e.runLocalHooks("change",t,e.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",function(t){e.hiddenIndexesChanged=!0,e.updateCache(),e.runLocalHooks("change",t,e.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",function(t){e.runLocalHooks("change",t,e.variousMapsCollection)})}return function aHe(n,e,t){e&&Lne(n.prototype,e),t&&Lne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"suspendOperations",value:function(){this.isBatched=!0}},{key:"resumeOperations",value:function(){this.isBatched=!1,this.updateCache()}},{key:"createChangesObserver",value:function(t){if("hiding"!==t)throw new Error('Unsupported index map type "'.concat(t,'".'));return this.hidingChangesObservable.createObserver()}},{key:"createAndRegisterIndexMap",value:function(t,r,i){return this.registerMap(t,function SFe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!bne.has(n))throw new Error('The provided map type ("'.concat(n,'") does not exist.'));return new(bne.get(n))(e)}(r,i))}},{key:"registerMap",value:function(t,r){if(this.trimmingMapsCollection.get(t)||this.hidingMapsCollection.get(t)||this.variousMapsCollection.get(t))throw Error('Map with name "'.concat(t,'" has been already registered.'));r instanceof m1?this.trimmingMapsCollection.register(t,r):r instanceof _I?this.hidingMapsCollection.register(t,r):this.variousMapsCollection.register(t,r);var i=this.getNumberOfIndexes();return i>0&&r.init(i),r}},{key:"unregisterMap",value:function(t){this.trimmingMapsCollection.unregister(t),this.hidingMapsCollection.unregister(t),this.variousMapsCollection.unregister(t)}},{key:"unregisterAll",value:function(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}},{key:"getPhysicalFromVisualIndex",value:function(t){var r=this.notTrimmedIndexesCache[t];return fr(r)?r:null}},{key:"getPhysicalFromRenderableIndex",value:function(t){var r=this.renderablePhysicalIndexesCache[t];return fr(r)?r:null}},{key:"getVisualFromPhysicalIndex",value:function(t){var r=this.fromPhysicalToVisualIndexesCache.get(t);return fr(r)?r:null}},{key:"getVisualFromRenderableIndex",value:function(t){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(t))}},{key:"getRenderableFromVisualIndex",value:function(t){var r=this.fromVisualToRenderableIndexesCache.get(t);return fr(r)?r:null}},{key:"getFirstNotHiddenIndex",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t-r;Ine.has("getFirstNotHiddenIndex")&&(Ine.delete("getFirstNotHiddenIndex"),xs(cs(kne||(kne=oHe(['The method "getFirstNotHiddenIndex" is deprecated and will be removed in the next \n                        major release. Please use "getNearestNotHiddenIndex" instead.'],['The method "getFirstNotHiddenIndex" is deprecated and will be removed in the next\\x20\n                        major release. Please use "getNearestNotHiddenIndex" instead.'])))));var s=this.getPhysicalFromVisualIndex(t);return null===s?!0===i&&o!==t-r?this.getFirstNotHiddenIndex(o,-r,!1,o):null:!1===this.isHidden(s)?t:this.getFirstNotHiddenIndex(t+r,r,i,o)}},{key:"getNearestNotHiddenIndex",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.getPhysicalFromVisualIndex(t);if(null===o)return null;if(this.fromVisualToRenderableIndexesCache.has(t))return t;var s=Array.from(this.fromVisualToRenderableIndexesCache.keys()),a=-1;return-1===(a=r>0?s.findIndex(function(u){return u>t}):s.reverse().findIndex(function(u){return u<t}))?i?this.getNearestNotHiddenIndex(t,-r,!1):null:s[a]}},{key:"initToLength",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=HU(new Array(t).keys()),this.notHiddenIndexesCache=HU(new Array(t).keys()),this.suspendOperations(),this.indexesSequence.init(t),this.trimmingMapsCollection.initEvery(t),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(t),this.variousMapsCollection.initEvery(t),this.resumeOperations(),this.runLocalHooks("init")}},{key:"fitToLength",value:function(t){var r=this.getNumberOfIndexes();if(t<r){var i=HU(Array(this.getNumberOfIndexes()-t).keys()).map(function(o){return o+t});this.removeIndexes(i)}else this.insertIndexes(r,t-r)}},{key:"getIndexesSequence",value:function(){return this.indexesSequence.getValues()}},{key:"setIndexesSequence",value:function(t){this.indexesSequence.setValues(t)}},{key:"getNotTrimmedIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.notTrimmedIndexesCache;var i=this.getIndexesSequence();return i.filter(function(o){return!1===t.isTrimmed(o)})}},{key:"getNotTrimmedIndexesLength",value:function(){return this.getNotTrimmedIndexes().length}},{key:"getNotHiddenIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.notHiddenIndexesCache;var i=this.getIndexesSequence();return i.filter(function(o){return!1===t.isHidden(o)})}},{key:"getNotHiddenIndexesLength",value:function(){return this.getNotHiddenIndexes().length}},{key:"getRenderableIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.renderablePhysicalIndexesCache;var i=this.getNotTrimmedIndexes();return i.filter(function(o){return!1===t.isHidden(o)})}},{key:"getRenderableIndexesLength",value:function(){return this.getRenderableIndexes().length}},{key:"getNumberOfIndexes",value:function(){return this.getIndexesSequence().length}},{key:"moveIndexes",value:function(t,r){var i=this;"number"==typeof t&&(t=[t]);var o=Ki(t,function(p){return i.getPhysicalFromVisualIndex(p)}),s=this.getNotTrimmedIndexesLength(),a=t.length,u=p1(this.getIndexesSequence(),o),c=s-a;if(r+a<s){var f=u.filter(function(p){return!1===i.isTrimmed(p)})[r];c=u.indexOf(f)}this.setIndexesSequence(SU(u,c,o))}},{key:"isTrimmed",value:function(t){return this.trimmingMapsCollection.getMergedValueAtIndex(t)}},{key:"isHidden",value:function(t){return this.hidingMapsCollection.getMergedValueAtIndex(t)}},{key:"insertIndexes",value:function(t,r){var i=this.getNotTrimmedIndexes()[t],o=fr(i)?i:this.getNumberOfIndexes(),s=this.getIndexesSequence().includes(i)?this.getIndexesSequence().indexOf(i):this.getNumberOfIndexes(),a=Ki(new Array(r).fill(o),function(u,c){return u+c});this.suspendOperations(),this.indexesSequence.insert(s,a),this.trimmingMapsCollection.insertToEvery(s,a),this.hidingMapsCollection.insertToEvery(s,a),this.variousMapsCollection.insertToEvery(s,a),this.resumeOperations()}},{key:"removeIndexes",value:function(t){this.suspendOperations(),this.indexesSequence.remove(t),this.trimmingMapsCollection.removeFromEvery(t),this.hidingMapsCollection.removeFromEvery(t),this.variousMapsCollection.removeFromEvery(t),this.resumeOperations()}},{key:"updateCache",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(!0===t||!1===this.isBatched&&!0===r)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}},{key:"cacheFromPhysicalToVisualIndexes",value:function(){var t=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(var r=0;r<t;r+=1){var i=this.getPhysicalFromVisualIndex(r);this.fromPhysicalToVisualIndexesCache.set(i,r)}}},{key:"cacheFromVisualToRenderableIndexes",value:function(){var t=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(var r=0;r<t;r+=1){var i=this.getPhysicalFromRenderableIndex(r),o=this.getVisualFromPhysicalIndex(i);this.fromVisualToRenderableIndexesCache.set(o,r)}}}]),n}();function Nne(n){var t=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(n);return t?"".concat(t[1].toLowerCase(),"-").concat(t[2].toUpperCase()):n}function Fne(n){fr(n)&&YV(cs(Pne||(Pne=function lHe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'],['Language with code "','" was not found. You should register particular language\\x20\n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'])),n))}vs(VU,vc);var Hne=Wd("phraseFormatters"),dHe=Hne.register,fHe=Hne.getValues;!function hHe(n,e){dHe(n,e)}("pluralize",function cHe(n,e){return Array.isArray(n)&&Number.isInteger(e)?n[e]:n});var ar,Wi="ContextMenu:items",zU="".concat(Wi,".noItems"),UU="".concat(Wi,".insertRowAbove"),jU="".concat(Wi,".insertRowBelow"),WU="".concat(Wi,".insertColumnOnTheLeft"),YU="".concat(Wi,".insertColumnOnTheRight"),GU="".concat(Wi,".removeRow"),$U="".concat(Wi,".removeColumn"),XU="".concat(Wi,".undo"),KU="".concat(Wi,".redo"),ZU="".concat(Wi,".readOnly"),qU="".concat(Wi,".clearColumn"),JU="".concat(Wi,".copy"),QU="".concat(Wi,".cut"),ej="".concat(Wi,".freezeColumn"),tj="".concat(Wi,".unfreezeColumn"),nj="".concat(Wi,".mergeCells"),rj="".concat(Wi,".unmergeCells"),ij="".concat(Wi,".addComment"),oj="".concat(Wi,".editComment"),sj="".concat(Wi,".removeComment"),aj="".concat(Wi,".readOnlyComment"),lj="".concat(Wi,".align"),uj="".concat(Wi,".align.left"),cj="".concat(Wi,".align.center"),dj="".concat(Wi,".align.right"),fj="".concat(Wi,".align.justify"),hj="".concat(Wi,".align.top"),pj="".concat(Wi,".align.middle"),mj="".concat(Wi,".align.bottom"),gj="".concat(Wi,".borders"),vj="".concat(Wi,".borders.top"),yj="".concat(Wi,".borders.right"),_j="".concat(Wi,".borders.bottom"),bj="".concat(Wi,".borders.left"),wj="".concat(Wi,".borders.remove"),Mj="".concat(Wi,".nestedHeaders.insertChildRow"),Sj="".concat(Wi,".nestedHeaders.detachFromParent"),xj="".concat(Wi,".hideColumn"),Cj="".concat(Wi,".showColumn"),Ej="".concat(Wi,".hideRow"),Tj="".concat(Wi,".showRow"),Pu="Filters:",ta="".concat(Pu,"conditions"),RI="".concat(ta,".none"),Rj="".concat(ta,".isEmpty"),Dj="".concat(ta,".isNotEmpty"),Aj="".concat(ta,".isEqualTo"),Oj="".concat(ta,".isNotEqualTo"),kj="".concat(ta,".beginsWith"),Lj="".concat(ta,".endsWith"),Ij="".concat(ta,".contains"),Pj="".concat(ta,".doesNotContain"),mHe="".concat(ta,".byValue"),Nj="".concat(ta,".greaterThan"),Fj="".concat(ta,".greaterThanOrEqualTo"),Hj="".concat(ta,".lessThan"),Bj="".concat(ta,".lessThanOrEqualTo"),Vj="".concat(ta,".isBetween"),zj="".concat(ta,".isNotBetween"),Uj="".concat(ta,".after"),jj="".concat(ta,".before"),Wj="".concat(ta,".today"),Yj="".concat(ta,".tomorrow"),Gj="".concat(ta,".yesterday"),$j="".concat(Pu,"labels.filterByCondition"),Xj="".concat(Pu,"labels.filterByValue"),Kj="".concat(Pu,"labels.conjunction"),DI="".concat(Pu,"labels.disjunction"),AI="".concat(Pu,"values.blankCells"),Zj="".concat(Pu,"buttons.selectAll"),qj="".concat(Pu,"buttons.clear"),Jj="".concat(Pu,"buttons.ok"),Qj="".concat(Pu,"buttons.cancel"),e4="".concat(Pu,"buttons.placeholder.search"),t4="".concat(Pu,"buttons.placeholder.value"),n4="".concat(Pu,"buttons.placeholder.secondValue");function hr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Bne=(hr(ar={languageCode:"en-US"},zU,"No available options"),hr(ar,UU,"Insert row above"),hr(ar,jU,"Insert row below"),hr(ar,WU,"Insert column left"),hr(ar,YU,"Insert column right"),hr(ar,GU,["Remove row","Remove rows"]),hr(ar,$U,["Remove column","Remove columns"]),hr(ar,XU,"Undo"),hr(ar,KU,"Redo"),hr(ar,ZU,"Read only"),hr(ar,qU,"Clear column"),hr(ar,lj,"Alignment"),hr(ar,uj,"Left"),hr(ar,cj,"Center"),hr(ar,dj,"Right"),hr(ar,fj,"Justify"),hr(ar,hj,"Top"),hr(ar,pj,"Middle"),hr(ar,mj,"Bottom"),hr(ar,ej,"Freeze column"),hr(ar,tj,"Unfreeze column"),hr(ar,gj,"Borders"),hr(ar,vj,"Top"),hr(ar,yj,"Right"),hr(ar,_j,"Bottom"),hr(ar,bj,"Left"),hr(ar,wj,"Remove border(s)"),hr(ar,ij,"Add comment"),hr(ar,oj,"Edit comment"),hr(ar,sj,"Delete comment"),hr(ar,aj,"Read-only comment"),hr(ar,nj,"Merge cells"),hr(ar,rj,"Unmerge cells"),hr(ar,JU,"Copy"),hr(ar,QU,"Cut"),hr(ar,Mj,"Insert child row"),hr(ar,Sj,"Detach from parent"),hr(ar,xj,["Hide column","Hide columns"]),hr(ar,Cj,["Show column","Show columns"]),hr(ar,Ej,["Hide row","Hide rows"]),hr(ar,Tj,["Show row","Show rows"]),hr(ar,RI,"None"),hr(ar,Rj,"Is empty"),hr(ar,Dj,"Is not empty"),hr(ar,Aj,"Is equal to"),hr(ar,Oj,"Is not equal to"),hr(ar,kj,"Begins with"),hr(ar,Lj,"Ends with"),hr(ar,Ij,"Contains"),hr(ar,Pj,"Does not contain"),hr(ar,Nj,"Greater than"),hr(ar,Fj,"Greater than or equal to"),hr(ar,Hj,"Less than"),hr(ar,Bj,"Less than or equal to"),hr(ar,Vj,"Is between"),hr(ar,zj,"Is not between"),hr(ar,Uj,"After"),hr(ar,jj,"Before"),hr(ar,Wj,"Today"),hr(ar,Yj,"Tomorrow"),hr(ar,Gj,"Yesterday"),hr(ar,AI,"Blank cells"),hr(ar,$j,"Filter by condition"),hr(ar,Xj,"Filter by value"),hr(ar,Kj,"And"),hr(ar,DI,"Or"),hr(ar,Zj,"Select all"),hr(ar,qj,"Clear"),hr(ar,Jj,"OK"),hr(ar,Qj,"Cancel"),hr(ar,e4,"Search"),hr(ar,t4,"Value"),hr(ar,n4,"Second value"),ar);var r4=Bne.languageCode,OI=Wd("languagesDictionaries"),vHe=OI.register,Vne=OI.getItem,yHe=OI.hasItem,_He=OI.getValues;function zne(n,e){var t=n,r=e;return ji(n)&&(t=(r=n).languageCode),function bHe(n,e){n!==r4&&function uHe(n,e){to(e,function(t,r){Ns(n[r])&&(n[r]=t)})}(e,Vne(r4))}(t,r),vHe(t,Iu(r)),Iu(r)}function Une(n){return o4(n)?Iu(Vne(n)):null}function o4(n){return yHe(n)}function jne(n,e,t){var r=Une(n);if(null===r)return null;var i=r[e];if(Ns(i))return null;var o=function MHe(n,e){var t=n;return Qe(function pHe(){return fHe()}(),function(r){t=r(n,e)}),t}(i,t);return Array.isArray(o)?o[0]:o}function SHe(n){var e=Nne(n);return o4(e)||(e=r4,Fne(n)),e}zne(Bne),b(171);var kI="active-header",LI="area",_1="cell",s4="fill",b1="header",a4="custom-selection";function l4(n,e){return function THe(n){if(Array.isArray(n))return n}(n)||function EHe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function CHe(n,e){if(n){if("string"==typeof n)return Wne(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wne(n,e)}}(n,e)||function xHe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wne(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Yne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(2885);const OHe=function(){function n(e,t){(function RHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),t&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=t,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle={width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"},this.cornerCenterPointOffset=-parseInt(this.cornerDefaultStyle.width,10)/2,this.corner=null,this.cornerStyle=null,this.createBorders(t),this.registerListeners())}return function DHe(n,e,t){e&&Yne(n.prototype,e),t&&Yne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerListeners",value:function(){var t=this,r=this.wot.rootDocument.body;this.eventManager.addEventListener(r,"mousedown",function(){return t.onMouseDown()}),this.eventManager.addEventListener(r,"mouseup",function(){return t.onMouseUp()});for(var i=function(u,c){t.eventManager.addEventListener(t.main.childNodes[u],"mouseenter",function(p){return t.onMouseEnter(p,t.main.childNodes[u])})},o=0,s=this.main.childNodes.length;o<s;o++)i(o)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(t,r){if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){t.preventDefault(),Xh(t);var i=this,o=this.wot.rootDocument.body,s=r.getBoundingClientRect();r.style.display="none",this.eventManager.addEventListener(o,"mousemove",function u(c){(function a(c){if(c.clientY<Math.floor(s.top)||c.clientY>Math.ceil(s.top+s.height)||c.clientX<Math.floor(s.left)||c.clientX>Math.ceil(s.left+s.width))return!0})(c)&&(i.eventManager.removeEventListener(o,"mousemove",u),r.style.display="block")})}}},{key:"createBorders",value:function(t){var r=this.wot.rootDocument;this.main=r.createElement("div");var i=["top","start","bottom","end","corner"],o=this.main.style;o.position="absolute",o.top=0,o.left=0;for(var s=0;s<5;s++){var a=i[s],u=r.createElement("div");u.className="wtBorder ".concat(this.settings.className||""),this.settings[a]&&this.settings[a].hide&&(u.className+=" hidden"),(o=u.style).backgroundColor=this.settings[a]&&this.settings[a].color?this.settings[a].color:t.border.color,o.height="".concat(this.settings[a]&&this.settings[a].width?this.settings[a].width:t.border.width,"px"),o.width="".concat(this.settings[a]&&this.settings[a].width?this.settings[a].width:t.border.width,"px"),this.main.appendChild(u)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),$h()&&this.createMultipleSelectorHandles(),this.disappear();var c=this.wot.wtTable,f=c.bordersHolder;f||((f=r.createElement("div")).className="htBorders",c.bordersHolder=f,c.spreader.appendChild(f)),f.appendChild(this.main)}},{key:"createMultipleSelectorHandles",value:function(){var t=this,r=this.wot.rootDocument;this.selectionHandles={top:r.createElement("DIV"),topHitArea:r.createElement("DIV"),bottom:r.createElement("DIV"),bottomHitArea:r.createElement("DIV")},this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style},to({position:"absolute",height:"".concat(40,"px"),width:"".concat(40,"px"),"border-radius":"".concat(parseInt(40/1.5,10),"px")},function(u,c){t.selectionHandles.styles.bottomHitArea[c]=u,t.selectionHandles.styles.topHitArea[c]=u}),to({position:"absolute",height:"".concat(10,"px"),width:"".concat(10,"px"),"border-radius":"".concat(parseInt(10/1.5,10),"px"),background:"#F5F5FF",border:"1px solid #4285c8"},function(u,c){t.selectionHandles.styles.bottom[c]=u,t.selectionHandles.styles.top[c]=u}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}},{key:"isPartRange",value:function(t,r){var i=this.wot.selections.createOrGetArea();return!(!i.cellRange||t===i.cellRange.to.row&&r===i.cellRange.to.col)}},{key:"updateMultipleSelectionHandlesPosition",value:function(t,r,i,o,s,a){var c=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",f=this.selectionHandles.styles,p=f.top,g=f.topHitArea,y=f.bottom,w=f.bottomHitArea,M=parseInt(p.borderWidth,10),C=parseInt(p.width,10),I=parseInt(g.width,10),B=this.wot.wtTable.getWidth(),U=this.wot.wtTable.getHeight();p.top="".concat(parseInt(i-C-1,10),"px"),p[c]="".concat(parseInt(o-C-1,10),"px"),g.top="".concat(parseInt(i-I/4*3,10),"px"),g[c]="".concat(parseInt(o-I/4*3,10),"px");var j=Math.min(parseInt(o+s,10),B-C-2*M),$=Math.min(parseInt(o+s-I/4,10),B-I-2*M);y[c]="".concat(j,"px"),w[c]="".concat($,"px");var se=Math.min(parseInt(i+a,10),U-C-2*M),ge=Math.min(parseInt(i+a-I/4,10),U-I-2*M);y.top="".concat(se,"px"),w.top="".concat(ge,"px"),this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(p.display="block",g.display="block",this.isPartRange(t,r)?(y.display="none",w.display="none"):(y.display="block",w.display="block")):(p.display="none",y.display="none",g.display="none",w.display="none"),t===this.wot.wtSettings.getSetting("fixedRowsTop")||r===this.wot.wtSettings.getSetting("fixedColumnsStart")?(p.zIndex="9999",g.zIndex="9999"):(p.zIndex="",g.zIndex="")}},{key:"appear",value:function(t){if(!this.disabled){for(var a,u,c,f,p,g,r=this.wot,i=r.wtTable,o=r.rootDocument,s=r.rootWindow,y=i.getRenderedRowsCount(),w=0;w<y;w+=1){var M=i.rowFilter.renderedToSource(w);if(M>=t[0]&&M<=t[2]){a=M,p=t[0];break}}for(var C=y-1;C>=0;C-=1){var I=i.rowFilter.renderedToSource(C);if(I>=t[0]&&I<=t[2]){u=I;break}}for(var B=i.getRenderedColumnsCount(),U=0;U<B;U+=1){var j=i.columnFilter.renderedToSource(U);if(j>=t[1]&&j<=t[3]){c=j,g=t[1];break}}for(var $=B-1;$>=0;$-=1){var se=i.columnFilter.renderedToSource($);if(se>=t[1]&&se<=t[3]){f=se;break}}if(void 0===a||void 0===c)return void this.disappear();var ge=i.getCell(this.wot.createCellCoords(a,c)),re=a!==u||c!==f,fe=re?i.getCell(this.wot.createCellCoords(u,f)):ge,we=Ba(ge),Ae=re?Ba(fe):we,vt=Ba(i.TABLE),pt=us(i.TABLE),Xe=we.top,xt=we.left,Le=this.wot.wtSettings.getSetting("rtlMode"),Ze=0,it=0;if(Le){var ot=us(ge);it=xt+ot-Ae.left,Ze=s.innerWidth-xt-ot-(s.innerWidth-vt.left-pt)-1}else it=Ae.left+us(fe)-xt,Ze=xt-vt.left-1;if(this.isEntireColumnSelected(a,u)){var J=this.getDimensionsFromHeader("columns",c,f,p,vt),ee=null;if(J){var he=l4(J,3);ee=he[0],Ze=he[1],it=he[2]}ee&&(ge=ee)}var be=Xe-vt.top-1,ke=Ae.top+Qs(fe)-Xe;if(this.isEntireRowSelected(c,f)){var We=this.getDimensionsFromHeader("rows",a,u,g,vt),yt=null;if(We){var It=l4(We,3);yt=It[0],be=It[1],ke=It[2]}yt&&(ge=yt)}var Lt=Eb(ge,s);parseInt(Lt.borderTopWidth,10)>0&&(be+=1,ke=ke>0?ke-1:0),parseInt(Lt[Le?"borderRightWidth":"borderLeftWidth"],10)>0&&(Ze+=1,it=it>0?it-1:0);var at=Le?"right":"left";this.topStyle.top="".concat(be,"px"),this.topStyle[at]="".concat(Ze,"px"),this.topStyle.width="".concat(it,"px"),this.topStyle.display="block",this.startStyle.top="".concat(be,"px"),this.startStyle[at]="".concat(Ze,"px"),this.startStyle.height="".concat(ke,"px"),this.startStyle.display="block";var Ot=Math.floor(this.settings.border.width/2);this.bottomStyle.top="".concat(be+ke-Ot,"px"),this.bottomStyle[at]="".concat(Ze,"px"),this.bottomStyle.width="".concat(it,"px"),this.bottomStyle.display="block",this.endStyle.top="".concat(be,"px"),this.endStyle[at]="".concat(Ze+it-Ot,"px"),this.endStyle.height="".concat(ke+1,"px"),this.endStyle.display="block";var ht=this.settings.border.cornerVisible;ht="function"==typeof ht?ht(this.settings.layerLevel):ht;var Tt=this.wot.getSetting("onModifyGetCellCoords",u,f),Ft=u,_n=f;if(Tt&&Array.isArray(Tt)){var fn=l4(Tt,4);Ft=fn[2],_n=fn[3]}if($h()||!ht||this.isPartRange(Ft,_n))this.cornerStyle.display="none";else{this.cornerStyle.top="".concat(be+ke+this.cornerCenterPointOffset-1,"px"),this.cornerStyle[at]="".concat(Ze+it+this.cornerCenterPointOffset-1,"px"),this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";var qn=qT(i.TABLE),Fn=qn===s;Fn&&(qn=o.documentElement);var tr=parseInt(this.cornerDefaultStyle.width,10)/2,jr=parseInt(this.cornerDefaultStyle.height,10)/2;if(f===this.wot.getSetting("totalColumns")-1){var Br=Fn?fe.getBoundingClientRect().left:fe.offsetLeft;(Le?Br-parseInt(this.cornerDefaultStyle.width,10)/2<0:Br+us(fe)+parseInt(this.cornerDefaultStyle.width,10)/2>=OL(qn))&&(this.cornerStyle[at]="".concat(Math.floor(Ze+it+this.cornerCenterPointOffset-tr),"px"),this.cornerStyle[Le?"borderLeftWidth":"borderRightWidth"]=0)}u===this.wot.getSetting("totalRows")-1&&(Fn?fe.getBoundingClientRect().top:fe.offsetTop)+Qs(fe)+parseInt(this.cornerDefaultStyle.height,10)/2>=Gv(qn)&&(this.cornerStyle.top="".concat(Math.floor(be+ke+this.cornerCenterPointOffset-jr),"px"),this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}$h()&&this.updateMultipleSelectionHandlesPosition(u,f,be,Ze,it,ke)}}},{key:"isEntireColumnSelected",value:function(t,r){return t===this.wot.wtTable.getFirstRenderedRow()&&r===this.wot.wtTable.getLastRenderedRow()}},{key:"isEntireRowSelected",value:function(t,r){return t===this.wot.wtTable.getFirstRenderedColumn()&&r===this.wot.wtTable.getLastRenderedColumn()}},{key:"getDimensionsFromHeader",value:function(t,r,i,o,s){var a=this.wot.wtTable,u=a.wtRootElement.parentNode,c=null,f=null,p=null,g=null,y=null,w=null,M=null,C=null;switch(t){case"rows":c=function(){return a.getRowHeader.apply(a,arguments)},f=function(){return Qs.apply(void 0,arguments)},p="ht__selection--rows",w="top";break;case"columns":c=function(){return a.getColumnHeader.apply(a,arguments)},f=function(){return us.apply(void 0,arguments)},p="ht__selection--columns",w="left"}if(u.classList.contains(p)){var I=this.wot.getSetting("columnHeaders").length;if(M=c(r,I-o),C=c(i,I-o),!M||!C)return!1;var B=Ba(M),U=Ba(C);return M&&C&&(g=B[w]-s[w]-1,y=U[w]+f(C)-B[w]),[M,g,y]}return!1}},{key:"changeBorderStyle",value:function(t,r){var i=this[t].style,o=r[t];!o||o.hide?Cn(this[t],"hidden"):(_i(this[t],"hidden")&&Ii(this[t],"hidden"),i.backgroundColor=o.color,("top"===t||"bottom"===t)&&(i.height="".concat(o.width,"px")),("start"===t||"end"===t)&&(i.width="".concat(o.width,"px")))}},{key:"changeBorderToDefaultStyle",value:function(t){var i=this[t].style;i.backgroundColor="#000",i.width="".concat(1,"px"),i.height="".concat(1,"px")}},{key:"toggleHiddenClass",value:function(t,r){this.changeBorderToDefaultStyle(t),r?Cn(this[t],"hidden"):Ii(this[t],"hidden")}},{key:"disappear",value:function(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",$h()&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}},{key:"destroy",value:function(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}]),n}();function Gne(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function u4(n){return(u4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function $ne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function c4(n){return(c4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Xne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function II(){return II="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=jHe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},II.apply(this,arguments)}function jHe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=VS(n)););return n}function d4(n,e){return(d4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function GHe(n,e){if(e&&("object"===c4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kne(n)}function Kne(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function VS(n){return(VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const zS=function(n){!function WHe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&d4(n,e)}(t,n);var e=function YHe(n){var e=function $He(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=VS(n);if(e){var o=VS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return GHe(this,i)}}(t);function t(r,i){var o;return function zHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function XHe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(Kne(o=e.call(this,r,null)),"visualCellRange",null),o.visualCellRange=i||null,o.commit(),o}return function UHe(n,e,t){e&&Xne(n.prototype,e),t&&Xne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"add",value:function(i){return null===this.visualCellRange?this.visualCellRange=this.settings.createCellRange(i):this.visualCellRange.expand(i),this}},{key:"clear",value:function(){return this.visualCellRange=null,II(VS(t.prototype),"clear",this).call(this)}},{key:"trimToVisibleCellsRangeOnly",value:function(i){var o=i.from,s=i.to,a=this.getNearestNotHiddenCoords(o,1),u=this.getNearestNotHiddenCoords(s,-1);if(null===a||null===u)return null;if(a.row>u.row||a.col>u.col){if("header"!==this.settings.type&&"active-header"!==this.settings.type)return null;a=o,u=s}return this.settings.createCellRange(a,a,u)}},{key:"getNearestNotHiddenCoords",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper(),i.row,o);if(null===a)return null;var u=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper(),i.col,s);return null===u?null:this.settings.createCellCoords(a,u)}},{key:"getNearestNotHiddenIndex",value:function(i,o,s){if(o<0)return o;var a=i.getNearestNotHiddenIndex(o,s);return"header"!==this.settings.type&&"active-header"!==this.settings.type||null!==a?a:-1}},{key:"commit",value:function(){if(null===this.visualCellRange)return this;var i=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return this.cellRange=null===i?null:this.createRenderableCellRange(i.from,i.to),this}},{key:"syncWith",value:function(i){var o="N-S"===i.getVerticalDirection()?1:-1,s="W-E"===i.getHorizontalDirection()?1:-1,a=this.getNearestNotHiddenCoords(i.from.clone().normalize(),o,s);if(null!==a&&i.overlaps(a)){if(null===this.cellRange){var u=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(u)}return i.setHighlight(a),this}return i.setHighlight(i.from),this}},{key:"getCorners",value:function(){var i=this.cellRange,o=i.from,s=i.to,a=null===o.row||null===s.row,u=null===o.col||null===s.col,c=this.settings.createCellCoords(a?null:Math.min(o.row,s.row),u?null:Math.min(o.col,s.col)),f=this.settings.createCellCoords(a?null:Math.max(o.row,s.row),u?null:Math.max(o.col,s.col));return[c.row,c.col,f.row,f.col]}},{key:"getVisualCorners",value:function(){var i=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),o=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[i.row,i.col,o.row,o.col]}},{key:"createRenderableCellRange",value:function(i,o){var s=this.settings.visualToRenderableCoords(i),a=this.settings.visualToRenderableCoords(o);return this.settings.createCellRange(s,s,a)}}]),t}(function(){function n(e,t){(function FHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.settings=e,this.cellRange=t||null,this.instanceBorders={},this.classNames=[this.settings.className],this.classNameGenerator=this.linearClassNameGenerator(this.settings.className,this.settings.layerLevel)}return function HHe(n,e,t){e&&$ne(n.prototype,e),t&&$ne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getBorder",value:function(t){return this.instanceBorders[t.guid]||(this.instanceBorders[t.guid]=new OHe(t,this.settings)),this.instanceBorders[t.guid]}},{key:"isEmpty",value:function(){return null===this.cellRange}},{key:"add",value:function(t){return this.isEmpty()?this.cellRange=this.settings.createCellRange(t):this.cellRange.expand(t),this}},{key:"replace",value:function(t,r){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=r,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=r,!0}return!1}},{key:"clear",value:function(){return this.cellRange=null,this}},{key:"getCorners",value:function(){var t=this.cellRange.getOuterTopStartCorner(),r=this.cellRange.getOuterBottomEndCorner();return[t.row,t.col,r.row,r.col]}},{key:"addClassAtCoords",value:function(t,r,i,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.wtTable.getCell(this.settings.createCellCoords(r,i));if("object"===u4(a)){var u=o;s&&(u=this.classNameGenerator(a),this.classNames.includes(u)||this.classNames.push(u)),Cn(a,u)}return this}},{key:"linearClassNameGenerator",value:function(t,r){return function i(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0===r||0===s)return t;var a=s>=0?s:r,u=t,c=0==(a-=1)?t:"".concat(t,"-").concat(a);if(_i(o,c)){var f=a+1;u="".concat(t,"-").concat(f)}else u=i(o,a);return u}}},{key:"draw",value:function(t){if(this.isEmpty())this.settings.border&&this.getBorder(t).disappear();else{var r=t.wtTable.getRenderedRowsCount(),i=t.wtTable.getRenderedColumnsCount(),o=this.getCorners(),s=function kHe(n,e){return function NHe(n){if(Array.isArray(n))return n}(n)||function PHe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function IHe(n,e){if(n){if("string"==typeof n)return Gne(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gne(n,e)}}(n,e)||function LHe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,4),a=s[0],u=s[1],c=s[2],f=s[3],p=this.settings,g=p.highlightHeaderClassName,y=p.highlightColumnClassName,w=p.highlightRowClassName,M=p.highlightOnlyClosestHeader,C=p.selectionType,I=void 0===C||["active-header","header"].includes(C);if(I&&null!==u&&null!==f)for(var B=0,U=0;U<i;U+=1){var j=t.wtTable.columnFilter.renderedToSource(U);if(j>=u&&j<=f){var $=t.wtTable.getColumnHeaders(j),se=$.length-1;M&&$.length>1&&($=[$[se]]);for(var ge=0;ge<$.length;ge+=1){var re=[],fe=$[ge];g&&re.push(g),y&&re.push(y);var we=t.getSetting("onBeforeHighlightingColumnHeader",j,ge=M?se:ge,{selectionType:C,columnCursor:B,selectionWidth:f-u+1,classNames:re});we!==j&&(fe=t.wtTable.getColumnHeader(we,ge)),Cn(fe,re)}B+=1}}if(null!==a&&null!==c)for(var Ae=0,vt=0;vt<r;vt+=1){var pt=t.wtTable.rowFilter.renderedToSource(vt);if(I&&pt>=a&&pt<=c){var Xe=t.wtTable.getRowHeaders(pt),xt=Xe.length-1;M&&Xe.length>1&&(Xe=[Xe[xt]]);for(var Le=0;Le<Xe.length;Le+=1){var Ze=[],it=Xe[Le];g&&Ze.push(g),w&&Ze.push(w);var ot=t.getSetting("onBeforeHighlightingRowHeader",pt,Le=M?xt:Le,{selectionType:C,rowCursor:Ae,selectionHeight:c-a+1,classNames:Ze});ot!==pt&&(it=t.wtTable.getRowHeader(ot,Le)),Cn(it,Ze)}Ae+=1}if(null!==u&&null!==f)for(var Mt=0;Mt<i;Mt+=1){var J=t.wtTable.columnFilter.renderedToSource(Mt);pt>=a&&pt<=c&&J>=u&&J<=f?this.settings.className&&this.addClassAtCoords(t,pt,J,this.settings.className,this.settings.markIntersections):pt>=a&&pt<=c?w&&this.addClassAtCoords(t,pt,J,w):J>=u&&J<=f&&y&&this.addClassAtCoords(t,pt,J,y);var ee=t.getSetting("onAfterDrawSelection",pt,J,this.settings.layerLevel);"string"==typeof ee&&this.addClassAtCoords(t,pt,J,ee)}}t.getSetting("onBeforeDrawBorders",o,this.settings.className),this.settings.border&&this.getBorder(t).appear(o)}}},{key:"destroy",value:function(){Object.values(this.instanceBorders).forEach(function(t){return t.destroy()})}}]),n}());var ZHe=["activeHeaderClassName"];function Zne(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qne(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Zne(Object(t),!0).forEach(function(r){qHe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Zne(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qHe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var n3e=["layerLevel","areaCornerVisible"];function Jne(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Qne(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Jne(Object(t),!0).forEach(function(r){r3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jne(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function r3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var l3e=["cellCornerVisible"];function ere(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function tre(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ere(Object(t),!0).forEach(function(r){u3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ere(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function u3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var p3e=["border","visualCellRange"];function nre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function f4(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?nre(Object(t),!0).forEach(function(r){m3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function m3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ire(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?rre(Object(t),!0).forEach(function(r){b3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function b3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}b(7204);var S3e=["headerClassName","rowClassName","columnClassName"];function ore(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function sre(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ore(Object(t),!0).forEach(function(r){x3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ore(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function x3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function are(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function A3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var lre=Wd("highlight/types"),US=lre.register,O3e=lre.getItem;function jS(n,e){return O3e(n)(function D3e(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?are(Object(t),!0).forEach(function(r){A3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):are(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({type:n},e))}function qv(n){return function P3e(n){if(Array.isArray(n))return h4(n)}(n)||function I3e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function L3e(n,e){if(n){if("string"==typeof n)return h4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h4(n,e)}}(n)||function k3e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ure(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function w1(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ure(Object(t),!0).forEach(function(r){N3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ure(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function N3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}US(kI,function e3e(n){var e=n.activeHeaderClassName,t=function JHe(n,e){if(null==n)return{};var r,i,t=function QHe(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,ZHe);return new zS(qne(qne({highlightHeaderClassName:e},t),{},{selectionType:kI}))}),US(LI,function s3e(n){var e=n.layerLevel,t=n.areaCornerVisible,r=function i3e(n,e){if(null==n)return{};var r,i,t=function o3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,n3e);return new zS(Qne(Qne({className:"area",markIntersections:!0,layerLevel:Math.min(e,7),border:{width:1,color:"#4b89ff",cornerVisible:t}},r),{},{selectionType:LI}))}),US(_1,function f3e(n){var e=n.cellCornerVisible,t=function c3e(n,e){if(null==n)return{};var r,i,t=function d3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,l3e);return new zS(tre(tre({className:"current",border:{width:2,color:"#4b89ff",cornerVisible:e}},t),{},{selectionType:_1}))}),US(a4,function y3e(n){var e=n.border,t=n.visualCellRange,r=function g3e(n,e){if(null==n)return{};var r,i,t=function v3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,p3e);return new zS(f4(f4(f4({},e),r),{},{selectionType:a4}),t)}),US(s4,function w3e(n){var e=Object.assign({},n);return new zS(ire(ire({className:"fill",border:{width:1,color:"#ff0000"}},e),{},{selectionType:s4}))}),US(b1,function T3e(n){var e=n.headerClassName,t=n.rowClassName,r=n.columnClassName,i=function C3e(n,e){if(null==n)return{};var r,i,t=function E3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,S3e);return new zS(sre(sre({className:"highlight",highlightHeaderClassName:e,highlightRowClassName:t,highlightColumnClassName:r},i),{},{highlightOnlyClosestHeader:!0,selectionType:b1}))});const V3e=function(n){function e(t){(function F3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=t,this.layerLevel=0,this.cell=jS(_1,t),this.fill=jS(s4,t),this.areas=new Map,this.headers=new Map,this.activeHeaders=new Map,this.customSelections=[]}return function H3e(n,e,t){e&&cre(n.prototype,e),t&&cre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"isEnabledFor",value:function(r,i){var o=r;r===_1&&(o="current");var s=this.options.disabledCellSelection(i.row,i.col);return"string"==typeof s&&(s=[s]),!1===s||Array.isArray(s)&&!s.includes(o)}},{key:"useLayerLevel",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.layerLevel=r,this}},{key:"getCell",value:function(){return this.cell}},{key:"getFill",value:function(){return this.fill}},{key:"createOrGetArea",value:function(){var i,r=this.layerLevel;return this.areas.has(r)?i=this.areas.get(r):(i=jS(LI,w1({layerLevel:r},this.options)),this.areas.set(r,i)),i}},{key:"getAreas",value:function(){return qv(this.areas.values())}},{key:"createOrGetHeader",value:function(){var i,r=this.layerLevel;return this.headers.has(r)?i=this.headers.get(r):(i=jS(b1,w1({},this.options)),this.headers.set(r,i)),i}},{key:"getHeaders",value:function(){return qv(this.headers.values())}},{key:"createOrGetActiveHeader",value:function(){var i,r=this.layerLevel;return this.activeHeaders.has(r)?i=this.activeHeaders.get(r):(i=jS(kI,w1({},this.options)),this.activeHeaders.set(r,i)),i}},{key:"getActiveHeaders",value:function(){return qv(this.activeHeaders.values())}},{key:"getCustomSelections",value:function(){return qv(this.customSelections.values())}},{key:"addCustomSelection",value:function(r){this.customSelections.push(jS(a4,w1(w1({},this.options),r)))}},{key:"clear",value:function(){this.cell.clear(),this.fill.clear(),Qe(this.areas.values(),function(r){r.clear()}),Qe(this.headers.values(),function(r){r.clear()}),Qe(this.activeHeaders.values(),function(r){r.clear()})}},{key:Symbol.iterator,value:function(){return[this.cell,this.fill].concat(qv(this.areas.values()),qv(this.headers.values()),qv(this.activeHeaders.values()),qv(this.customSelections))[Symbol.iterator]()}}]),e}();function dre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const W3e=function(n){function e(t){(function z3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.ranges=[],this.createCellRange=t}return function U3e(n,e,t){e&&dre(n.prototype,e),t&&dre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"isEmpty",value:function(){return 0===this.size()}},{key:"set",value:function(r){return this.clear(),this.ranges.push(this.createCellRange(r)),this}},{key:"add",value:function(r){return this.ranges.push(this.createCellRange(r)),this}},{key:"pop",value:function(){return this.ranges.pop(),this}},{key:"current",value:function(){return this.peekByIndex(0)}},{key:"previous",value:function(){return this.peekByIndex(-1)}},{key:"includes",value:function(r){return this.ranges.some(function(i){return i.includes(r)})}},{key:"clear",value:function(){return this.ranges.length=0,this}},{key:"size",value:function(){return this.ranges.length}},{key:"peekByIndex",value:function(){var o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.size()+r-1;return i>=0&&(o=this.ranges[i]),o}},{key:Symbol.iterator,value:function(){return this.ranges[Symbol.iterator]()}}]),e}();function fre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var hre=function(){function n(e,t){(function Y3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.range=e,this.options=t}return function G3e(n,e,t){e&&fre(n.prototype,e),t&&fre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"transformStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.options.createCellCoords(t,r),s=this.range.current().highlight,a=this.options.visualToRenderableCoords(s),u=a.row,c=a.col,f=s,p=0,g=0;if(this.runLocalHooks("beforeTransformStart",o),null!==u&&null!==c){var y=this.options.countRows(),w=this.options.countCols(),M=this.options.fixedRowsBottom(),C=this.options.minSpareRows(),I=this.options.minSpareCols(),B=this.options.autoWrapRow(),U=this.options.autoWrapCol();u+t>y-1?i&&C>0&&!(M&&u>=y-M-1)?(this.runLocalHooks("insertRowRequire",y),y=this.options.countRows()):U&&(o.row=1-y,o.col=c+o.col===w-1?1-w:1):U&&u+o.row<0&&c+o.col>=0&&(o.row=y-1,o.col=c+o.col===0?w-1:-1),c+o.col>w-1?i&&I>0?(this.runLocalHooks("insertColRequire",w),w=this.options.countCols()):B&&(o.row=u+o.row===y-1?1-y:1,o.col=1-w):B&&c+o.col<0&&u+o.row>=0&&(o.row=u+o.row===0?y-1:-1,o.col=w-1);var j=this.options.createCellCoords(u+o.row,c+o.col);p=0,g=0,j.row<0?(p=-1,j.row=0):j.row>0&&j.row>=y&&(p=1,j.row=y-1),j.col<0?(g=-1,j.col=0):j.col>0&&j.col>=w&&(g=1,j.col=w-1),f=this.options.renderableToVisualCoords(j)}return this.runLocalHooks("afterTransformStart",f,p,g),f}},{key:"transformEnd",value:function(t,r){var i=this.options.createCellCoords(t,r),o=this.range.current(),s=o.to,a=0,u=0;this.runLocalHooks("beforeTransformEnd",i);var c=this.options.visualToRenderableCoords(o.highlight);if(null!==c.row&&null!==c.col){var g=this.options.countRows(),y=this.options.countCols(),w=this.options.visualToRenderableCoords(o.to),I=this.options.createCellCoords(w.row+i.row,w.col+i.col);a=0,u=0,I.row<0?(a=-1,I.row=0):I.row>0&&I.row>=g&&(a=1,I.row=g-1),I.col<0?(u=-1,I.col=0):I.col>0&&I.col>=y&&(u=1,I.col=y-1),s=this.options.renderableToVisualCoords(I)}return this.runLocalHooks("afterTransformEnd",s,a,u),s}}]),n}();vs(hre,vc);const $3e=hre;function pre(n,e){return function q3e(n){if(Array.isArray(n))return n}(n)||function Z3e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function K3e(n,e){if(n){if("string"==typeof n)return mre(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mre(n,e)}}(n,e)||function X3e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mre(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function p4(n){return(p4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var yre,J3e=[3,2],Q3e=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],g4=Symbol("root"),vre=Symbol("child");function WS(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g4;if(e!==g4&&e!==vre)throw new Error("The second argument is used internally only and cannot be overwritten.");var t=Array.isArray(n),r=e===g4,i=0;if(t){var o=n[0];if(0===n.length)i=1;else if(r&&o instanceof vte)i=3;else if(r&&Array.isArray(o))i=WS(o,vre);else if(n.length>=2&&n.length<=4){var s=!n.some(function(a,u){return!Q3e[u].includes(p4(a))});s&&(i=2)}}return i}function M1(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.keepDirection,r=void 0!==t&&t,i=e.propToCol;if(!J3e.includes(n))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){var s=3===n,a=s?o.from.row:o[0],u=s?o.from.col:o[1],c=s?o.to.row:o[2],f=s?o.to.col:o[3];if("function"==typeof i&&("string"==typeof u&&(u=i(u)),"string"==typeof f&&(f=i(f))),Ns(c)&&(c=a),Ns(f)&&(f=u),!r){var p=a,g=u,y=c,w=f;a=Math.min(p,y),u=Math.min(g,w),c=Math.max(p,y),f=Math.max(g,w)}return[a,u,c,f]}}function Jv(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return"number"==typeof n&&n>=0&&n<e}function _re(n,e){return function oBe(n){if(Array.isArray(n))return n}(n)||function iBe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function rBe(n,e){if(n){if("string"==typeof n)return bre(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bre(n,e)}}(n,e)||function nBe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bre(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function wre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Mre=function(){function n(e,t){var r=this;(function aBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.settings=e,this.tableProps=t,this.inProgress=!1,this.selectedByCorner=!1,this.selectedByRowHeader=new Set,this.selectedByColumnHeader=new Set,this.selectedRange=new W3e(function(i,o,s){return r.tableProps.createCellRange(i,o,s)}),this.highlight=new V3e({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,disabledCellSelection:function(o,s){return r.tableProps.isDisabledCellSelection(o,s)},cellCornerVisible:function(){return r.isCellCornerVisible.apply(r,arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible.apply(r,arguments)},visualToRenderableCoords:function(o){return r.tableProps.visualToRenderableCoords(o)},renderableToVisualCoords:function(o){return r.tableProps.renderableToVisualCoords(o)},createCellCoords:function(o,s){return r.tableProps.createCellCoords(o,s)},createCellRange:function(o,s,a){return r.tableProps.createCellRange(o,s,a)},rowIndexMapper:function(){return r.tableProps.rowIndexMapper()},columnIndexMapper:function(){return r.tableProps.columnIndexMapper()}}),this.transformation=new $3e(this.selectedRange,{countRows:function(){return r.tableProps.countRowsTranslated()},countCols:function(){return r.tableProps.countColsTranslated()},visualToRenderableCoords:function(o){return r.tableProps.visualToRenderableCoords(o)},renderableToVisualCoords:function(o){return r.tableProps.renderableToVisualCoords(o)},createCellCoords:function(o,s){return r.tableProps.createCellCoords(o,s)},fixedRowsBottom:function(){return e.fixedRowsBottom},minSpareRows:function(){return e.minSpareRows},minSpareCols:function(){return e.minSpareCols},autoWrapRow:function(){return e.autoWrapRow},autoWrapCol:function(){return e.autoWrapCol}}),this.transformation.addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["beforeModifyTransformStart"].concat(o))}),this.transformation.addLocalHook("afterTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["afterModifyTransformStart"].concat(o))}),this.transformation.addLocalHook("beforeTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["beforeModifyTransformEnd"].concat(o))}),this.transformation.addLocalHook("afterTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["afterModifyTransformEnd"].concat(o))}),this.transformation.addLocalHook("insertRowRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["insertRowRequire"].concat(o))}),this.transformation.addLocalHook("insertColRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["insertColRequire"].concat(o))})}return function lBe(n,e,t){e&&wre(n.prototype,e),t&&wre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSelectedRange",value:function(){return this.selectedRange}},{key:"begin",value:function(){this.inProgress=!0}},{key:"finish",value:function(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}},{key:"isInProgress",value:function(){return this.inProgress}},{key:"setRangeStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="multiple"===this.settings.selectionMode,s=Ns(r)?this.tableProps.getShortcutManager().isCtrlPressed():r,a=t.row<0,u=t.col<0,c=a&&u,f=t.clone();this.selectedByCorner=c,this.runLocalHooks("beforeSetRangeStart".concat(i?"Only":""),f),(!o||o&&!s&&Ns(r))&&this.selectedRange.clear(),this.selectedRange.add(f),0===this.getLayerLevel()&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),!c&&u&&this.selectedByRowHeader.add(this.getLayerLevel()),!c&&a&&this.selectedByColumnHeader.add(this.getLayerLevel()),i||this.setRangeEnd(t)}},{key:"setRangeStartOnly",value:function(t,r){this.setRangeStart(t,r,!0)}},{key:"setRangeEnd",value:function(t){if(!this.selectedRange.isEmpty()){var r=t.clone();this.runLocalHooks("beforeSetRangeEnd",r),this.begin();var i=this.selectedRange.current();"single"!==this.settings.selectionMode&&i.setTo(this.tableProps.createCellCoords(r.row,r.col)),this.highlight.getCell().clear(),this.highlight.isEnabledFor(_1,i.highlight)&&this.highlight.getCell().add(this.selectedRange.current().highlight).commit().syncWith(i);var o=this.getLayerLevel();o<this.highlight.layerLevel&&(Qe(this.highlight.getAreas(),function(M){M.clear()}),Qe(this.highlight.getHeaders(),function(M){M.clear()}),Qe(this.highlight.getActiveHeaders(),function(M){M.clear()})),this.highlight.useLayerLevel(o);var s=this.highlight.createOrGetArea(),a=this.highlight.createOrGetHeader(),u=this.highlight.createOrGetActiveHeader();if(s.clear(),a.clear(),u.clear(),this.highlight.isEnabledFor(LI,i.highlight)&&(this.isMultiple()||o>=1)&&(s.add(i.from).add(i.to).commit(),1===o)){var c=this.selectedRange.previous();this.highlight.useLayerLevel(o-1).createOrGetArea().add(c.from).commit().syncWith(c),this.highlight.useLayerLevel(o)}if(this.highlight.isEnabledFor(b1,i.highlight)){var f=0===this.tableProps.countRowsTranslated(),p=0===this.tableProps.countColsTranslated(),g=i;(f||p)&&(g=i.clone()),f&&(g.from.row=-1),p&&(g.from.col=-1),"single"===this.settings.selectionMode?(this.isSelectedByAnyHeader()&&g.from.normalize(),a.add(g.from).commit()):a.add(g.from).add(g.to).commit(),this.isEntireRowSelected()&&this.tableProps.countCols()===i.getWidth()&&u.add(this.tableProps.createCellCoords(i.from.row,-1)).add(this.tableProps.createCellCoords(i.to.row,-1)).commit(),this.isEntireColumnSelected()&&this.tableProps.countRows()===i.getHeight()&&u.add(this.tableProps.createCellCoords(-1,i.from.col)).add(this.tableProps.createCellCoords(-1,i.to.col)).commit()}this.runLocalHooks("afterSetRangeEnd",t)}}},{key:"isMultiple",value:function(){var t=OS(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",t),t.value}},{key:"transformStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.setRangeStart(this.transformation.transformStart(t,r,i))}},{key:"transformEnd",value:function(t,r){this.setRangeEnd(this.transformation.transformEnd(t,r))}},{key:"getLayerLevel",value:function(){return this.selectedRange.size()-1}},{key:"isSelected",value:function(){return!this.selectedRange.isEmpty()}},{key:"isSelectedByRowHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(t)&&this.isEntireRowSelected(t)}},{key:"isEntireRowSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===t?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(t)}},{key:"isSelectedByColumnHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&this.isEntireColumnSelected(t)}},{key:"isEntireColumnSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===t?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(t)}},{key:"isSelectedByAnyHeader",value:function(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}},{key:"isSelectedByCorner",value:function(){return this.selectedByCorner}},{key:"inInSelection",value:function(t){return this.selectedRange.includes(t)}},{key:"isCellCornerVisible",value:function(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}},{key:"isAreaCornerVisible",value:function(t){return(!Number.isInteger(t)||t===this.getLayerLevel())&&this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}},{key:"clear",value:function(){this.selectedRange.clear(),this.highlight.clear()}},{key:"deselect",value:function(){!this.isSelected()||(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}},{key:"selectAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.tableProps.countRows(),o=this.tableProps.countCols();if(t||r||0!==i&&0!==o){var s=this.tableProps.createCellCoords(r?-1:0,t?-1:0);this.clear(),this.setRangeStartOnly(s),this.selectedByRowHeader.add(this.getLayerLevel()),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(this.tableProps.createCellCoords(i-1,o-1)),this.finish()}}},{key:"selectCells",value:function(t){var r=this,i=WS(t);if(1===i)return!1;if(0===i)throw new Error(cs(yre||(yre=function sBe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Unsupported format of the selection ranges was passed. To select cells pass \n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, \n        columnEnd/columnPropEnd]]) or as an array of CellRange objects."],["Unsupported format of the selection ranges was passed. To select cells pass\\x20\n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\\x20\n        columnEnd/columnPropEnd]]) or as an array of CellRange objects."]))));var o=M1(i,{propToCol:function(f){return r.tableProps.propToCol(f)},keepDirection:!0}),s=this.tableProps.countRows(),a=this.tableProps.countCols(),u=!t.some(function(c){var p=_re(o(c),4),y=p[1],w=p[2],M=p[3];return!(Jv(p[0],s)&&Jv(y,a)&&Jv(w,s)&&Jv(M,a))});return u&&(this.clear(),Qe(t,function(c){var p=_re(o(c),4),w=p[2],M=p[3];r.setRangeStartOnly(r.tableProps.createCellCoords(p[0],p[1]),!1),r.setRangeEnd(r.tableProps.createCellCoords(w,M)),r.finish()})),u}},{key:"selectColumns",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o="string"==typeof t?this.tableProps.propToCol(t):t,s="string"==typeof r?this.tableProps.propToCol(r):r,a=this.tableProps.countCols(),u=this.tableProps.countRows(),c=Jv(o,a)&&Jv(s,a);return c&&(this.setRangeStartOnly(this.tableProps.createCellCoords(i,o)),this.setRangeEnd(this.tableProps.createCellCoords(u-1,s)),this.finish()),c}},{key:"selectRows",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=this.tableProps.countRows(),s=this.tableProps.countCols(),a=Jv(t,o)&&Jv(r,o);return a&&(this.setRangeStartOnly(this.tableProps.createCellCoords(t,i)),this.setRangeEnd(this.tableProps.createCellCoords(r,s-1)),this.finish()),a}},{key:"refresh",value:function(){if(this.highlight.getCustomSelections().forEach(function(c){c.commit()}),this.isSelected()){var r=this.highlight.getCell(),i=this.getLayerLevel();r.commit().syncWith(this.selectedRange.current());for(var o=0;o<this.selectedRange.size();o+=1){this.highlight.useLayerLevel(o);var s=this.highlight.createOrGetArea(),a=this.highlight.createOrGetHeader(),u=this.highlight.createOrGetActiveHeader();s.commit(),a.commit(),u.commit()}this.highlight.useLayerLevel(i)}}}]),n}();vs(Mre,vc);const uBe=Mre;function FI(n,e){var t="string"==typeof n?lne(n):n;if(ji(t)){var r=ji(e),i={};return to(t,function(o,s){"CELL_TYPE"!==s&&(!r||r&&!Ps(e,s))&&(i[s]=o)}),i}}function HI(n){return Number.isInteger(n)&&n>=0}function BI(n,e){if(!n())throw new Error("Assertion failed: ".concat(e))}function VI(n){return null==n}function v4(n){return(v4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}const Sre=function(){return{activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",isEmptyCol:function(e){var t,r;for(t=0,r=this.countRows();t<r;t++)if(!1===nl(this.getDataAtCell(t,e)))return!1;return!0},isEmptyRow:function(e){var t,r,i,o;for(t=0,r=this.countCols();t<r;t++)if(!1===nl(i=this.getDataAtCell(e,t)))return"object"===v4(i)&&(o=this.getCellMeta(e,t),IQ(this.getSchema()[o.prop],i));return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:void 0,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0}};function xre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Cre(n,e,t){return e&&xre(n.prototype,e),t&&xre(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ere(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var fBe=function(){function n(e){Ere(this,n),this.metaCtor=function dBe(){return Cre(function n(){Ere(this,n)})}(),this.meta=this.metaCtor.prototype,Js(this.meta,Sre()),this.meta.instance=e}return Cre(n,[{key:"getMetaConstructor",value:function(){return this.metaCtor}},{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(t){Js(this.meta,t),Js(this.meta,FI(t.type,t))}}]),n}();function Tre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var mBe=function(){function n(e){!function hBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var t=e.getMetaConstructor();this.meta=new t}return function pBe(n,e,t){e&&Tre(n.prototype,e),t&&Tre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(t){Js(this.meta,t),Js(this.meta,FI(t.type,t))}}]),n}();function Rre(n){return function _Be(n){if(Array.isArray(n))return y4(n)}(n)||function yBe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function vBe(n,e){if(n){if("string"==typeof n)return y4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y4(n,e)}}(n)||function gBe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Dre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var _4=function(n){function e(t){(function bBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.valueFactory=t,this.data=[],this.index=[],this.holes=new Set}return function wBe(n,e,t){e&&Dre(n.prototype,e),t&&Dre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"obtain",value:function(r){BI(function(){return HI(r)},"Expecting an unsigned number.");var o,i=this._getStorageIndexByKey(r);if(i>=0)void 0===(o=this.data[i])&&(o=this.valueFactory(r),this.data[i]=o);else if(o=this.valueFactory(r),this.holes.size>0){var s=this.holes.values().next().value;this.holes.delete(s),this.data[s]=o,this.index[r]=s}else this.data.push(o),this.index[r]=this.data.length-1;return o}},{key:"insert",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;BI(function(){return HI(r)||VI(r)},"Expecting an unsigned number or null/undefined argument.");for(var o=[],s=this.data.length,a=0;a<i;a++)o.push(s+a),this.data.push(void 0);var u=VI(r)?this.index.length:r;this.index=[].concat(Rre(this.index.slice(0,u)),o,Rre(this.index.slice(u)))}},{key:"remove",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;BI(function(){return HI(r)||VI(r)},"Expecting an unsigned number or null/undefined argument.");for(var o=this.index.splice(VI(r)?this.index.length-i:r,i),s=0;s<o.length;s++){var a=o[s];"number"==typeof a&&this.holes.add(a)}}},{key:"size",value:function(){return this.data.length-this.holes.size}},{key:"values",value:function(){var r=this;return jd(this.data,function(i,o){return!r.holes.has(o)})[Symbol.iterator]()}},{key:"entries",value:function(){for(var r=[],i=0;i<this.data.length;i++){var o=this._getKeyByStorageIndex(i);-1!==o&&r.push([o,this.data[i]])}var s=0;return{next:function(){if(s<r.length){var u=r[s];return s+=1,{value:u,done:!1}}return{done:!0}}}}},{key:"clear",value:function(){this.data=[],this.index=[],this.holes.clear()}},{key:"_getStorageIndexByKey",value:function(r){return this.index.length>r?this.index[r]:-1}},{key:"_getKeyByStorageIndex",value:function(r){return this.index.indexOf(r)}},{key:Symbol.iterator,value:function(){return this.entries()}}]),e}();function Are(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var xBe=["data","width"],CBe=function(){function n(e){var t=this;(function MBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.globalMeta=e,this.metas=new _4(function(){return t._createMeta()})}return function SBe(n,e,t){e&&Are(n.prototype,e),t&&Are(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateMeta",value:function(t,r){var i=this.getMeta(t);Js(i,r),Js(i,FI(r.type,i))}},{key:"createColumn",value:function(t,r){this.metas.insert(t,r)}},{key:"removeColumn",value:function(t,r){this.metas.remove(t,r)}},{key:"getMeta",value:function(t){return this.metas.obtain(t)}},{key:"getMetaConstructor",value:function(t){return this.metas.obtain(t).constructor}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createMeta",value:function(){return function cBe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function t(){}Yv(t,n);for(var r=0;r<e.length;r++)t.prototype[e[r]]=void 0;return t}(this.globalMeta.getMetaConstructor(),xBe).prototype}}]),n}();function EBe(n){return function ABe(n){if(Array.isArray(n))return b4(n)}(n)||function DBe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function RBe(n,e){if(n){if("string"==typeof n)return b4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b4(n,e)}}(n)||function TBe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ore(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var LBe=function(){function n(e){var t=this;(function OBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.columnMeta=e,this.metas=new _4(function(){return t._createRow()})}return function kBe(n,e,t){e&&Ore(n.prototype,e),t&&Ore(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateMeta",value:function(t,r,i){var o=this.getMeta(t,r);Js(o,i),Js(o,FI(i.type,o))}},{key:"createRow",value:function(t,r){this.metas.insert(t,r)}},{key:"createColumn",value:function(t,r){for(var i=0;i<this.metas.size();i++)this.metas.obtain(i).insert(t,r)}},{key:"removeRow",value:function(t,r){this.metas.remove(t,r)}},{key:"removeColumn",value:function(t,r){for(var i=0;i<this.metas.size();i++)this.metas.obtain(i).remove(t,r)}},{key:"getMeta",value:function(t,r,i){var o=this.metas.obtain(t).obtain(r);return void 0===i?o:o[i]}},{key:"setMeta",value:function(t,r,i,o){this.metas.obtain(t).obtain(r)[i]=o}},{key:"removeMeta",value:function(t,r,i){delete this.metas.obtain(t).obtain(r)[i]}},{key:"getMetas",value:function(){for(var t=[],r=Array.from(this.metas.values()),i=0;i<r.length;i++)t.push.apply(t,EBe(r[i].values()));return t}},{key:"getMetasAtRow",value:function(t){BI(function(){return HI(t)},"Expecting an unsigned number.");var r=new Map(this.metas);return r.has(t)?Array.from(r.get(t).values()):[]}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createRow",value:function(){var t=this;return new _4(function(r){return t._createMeta(r)})}},{key:"_createMeta",value:function(t){return new(this.columnMeta.getMetaConstructor(t))}}]),n}();function IBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function kre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Lre=function(){function n(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];IBe(this,n),this.hot=e,this.globalMeta=new fBe(e),this.tableMeta=new mBe(this.globalMeta),this.columnMeta=new CBe(this.globalMeta),this.cellMeta=new LBe(this.columnMeta),i.forEach(function(o){return new o(t)}),this.globalMeta.updateMeta(r)}return function PBe(n,e,t){e&&kre(n.prototype,e),t&&kre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getGlobalMeta",value:function(){return this.globalMeta.getMeta()}},{key:"updateGlobalMeta",value:function(t){this.globalMeta.updateMeta(t)}},{key:"getTableMeta",value:function(){return this.tableMeta.getMeta()}},{key:"updateTableMeta",value:function(t){this.tableMeta.updateMeta(t)}},{key:"getColumnMeta",value:function(t){return this.columnMeta.getMeta(t)}},{key:"updateColumnMeta",value:function(t,r){this.columnMeta.updateMeta(t,r)}},{key:"getCellMeta",value:function(t,r,i){var o=i.visualRow,s=i.visualColumn,a=this.cellMeta.getMeta(t,r);return a.visualRow=o,a.visualCol=s,a.row=t,a.col=r,this.runLocalHooks("afterGetCellMeta",a),a}},{key:"getCellMetaKeyValue",value:function(t,r,i){if("string"!=typeof i)throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(t,r,i)}},{key:"setCellMeta",value:function(t,r,i,o){this.cellMeta.setMeta(t,r,i,o)}},{key:"updateCellMeta",value:function(t,r,i){this.cellMeta.updateMeta(t,r,i)}},{key:"removeCellMeta",value:function(t,r,i){this.cellMeta.removeMeta(t,r,i)}},{key:"getCellsMeta",value:function(){return this.cellMeta.getMetas()}},{key:"getCellsMetaAtRow",value:function(t){return this.cellMeta.getMetasAtRow(t)}},{key:"createRow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createRow(t,r)}},{key:"removeRow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeRow(t,r)}},{key:"createColumn",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createColumn(t,r),this.columnMeta.createColumn(t,r)}},{key:"removeColumn",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeColumn(t,r),this.columnMeta.removeColumn(t,r)}},{key:"clearCellsCache",value:function(){this.cellMeta.clearCache()}},{key:"clearCache",value:function(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}]),n}();function Ire(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}vs(Lre,vc);var HBe=function(){function n(e){var t=this;(function NBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.metaManager=e,this.metaSyncMemo=new Map,e.addLocalHook("afterGetCellMeta",function(r){return t.extendCellMeta(r)}),wr.getSingleton().add("beforeRender",function(r){r&&t.metaSyncMemo.clear()},this.metaManager.hot)}return function FBe(n,e,t){e&&Ire(n.prototype,e),t&&Ire(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"extendCellMeta",value:function(t){var r,i=t.row,o=t.col;if(null===(r=this.metaSyncMemo.get(i))||void 0===r||!r.has(o)){var s=t.visualRow,a=t.visualCol,u=this.metaManager.hot,c=u.colToProp(a);t.prop=c,u.runHooks("beforeGetCellMeta",s,a,t);var f=Ps(t,"type")?t.type:null,p=Ss(t.cells)?t.cells(i,o,c):null;if(f)if(p){var g;p.type=null!==(g=p.type)&&void 0!==g?g:f}else p={type:f};p&&this.metaManager.updateCellMeta(i,o,p),u.runHooks("afterGetCellMeta",s,a,t),this.metaSyncMemo.has(i)||this.metaSyncMemo.set(i,new Set),this.metaSyncMemo.get(i).add(o)}}}]),n}();function Pre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var zBe=function(){function n(e){(function BBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.metaManager=e,this.usageTracker=new Set,this.propDescriptors=new Map([["fixedColumnsLeft",{target:"fixedColumnsStart",onChange:function(r){if(this.metaManager.hot.isRtl()&&"fixedColumnsLeft"===r)throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{onChange:function(r,i,o){if(!o)throw new Error("The `".concat(r,"` option can not be updated after the Handsontable is initialized."))}}]]),this.extendMetaProps()}return function VBe(n,e,t){e&&Pre(n.prototype,e),t&&Pre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"extendMetaProps",value:function(){var t=this;this.propDescriptors.forEach(function(r,i){var o=r.target,s=r.onChange,a=void 0===s?function(){}:s,u="string"==typeof o,c=u?o:i,f="_".concat(c);t.metaManager.globalMeta.meta[f]=t.metaManager.globalMeta.meta[c],t.installPropWatcher(i,f,a),u&&t.installPropWatcher(o,f,a)})}},{key:"installPropWatcher",value:function(t,r,i){var o=this;Object.defineProperty(this.metaManager.globalMeta.meta,t,{get:function(){return this[r]},set:function(a){var u=!o.usageTracker.has(t);o.usageTracker.add(t),i.call(o,t,a,u),this[r]=a},enumerable:!0,configurable:!0})}}]),n}(),Nre=(b(9778),/^(\r\n|\n\r|\r|\n)/),UBe=/^[^\t\r\n]+/,Fre=/^\t/;function S1(n){var e,t,r,i,s,o="";for(e=0,t=n.length;e<t;e+=1){for(i=n[e].length,r=0;r<i;r+=1)r>0&&(o+="\t"),"string"==typeof(s=n[e][r])?s.indexOf("\n")>-1?o+='"'.concat(s.replace(/"/g,'""'),'"'):o+=s:o+=null==s?"":s;e!==t-1&&(o+="\n")}return o}function w4(n){return function $Be(n){if(Array.isArray(n))return M4(n)}(n)||function GBe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function YBe(n,e){if(n){if("string"==typeof n)return M4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M4(n,e)}}(n)||function WBe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function S4(n){return(S4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Hre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var ZBe=vI("copyable",!1);const JBe=function(){function n(e,t,r){(function XBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.instance=e,this.tableMeta=r,this.dataSource=t,this.duckSchema=this.dataSource&&this.dataSource[0]?XT(this.dataSource[0]):{},this.colToPropCache=void 0,this.propToColCache=void 0,this.createMap()}return function KBe(n,e,t){e&&Hre(n.prototype,e),t&&Hre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createMap",value:function(){var t=this.getSchema();if(void 0===t)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");var i,r=this.tableMeta.columns;if(this.colToPropCache=[],this.propToColCache=new Map,r){var o=0,s=0,a=!1;if("function"==typeof r){var u=DV(t);o=u>0?u:this.countFirstRowKeys(),a=!0}else o=Math.min(this.tableMeta.maxCols,r.length);for(i=0;i<o;i++){var f=a?r(i):r[i];if(ji(f)){if(void 0!==f.data){var p=a?s:i;this.colToPropCache[p]=f.data,this.propToColCache.set(f.data,p)}s+=1}}}else this.recursiveDuckColumns(t)}},{key:"countFirstRowKeys",value:function(){return dne(this.dataSource)}},{key:"recursiveDuckColumns",value:function(t,r,i){var u,o=this,s=r,a=i;return void 0===s&&(s=0,a=""),"object"===S4(t)&&!Array.isArray(t)&&to(t,function(c,f){null===c?(o.colToPropCache.push(u=a+f),o.propToColCache.set(u,s),s+=1):s=o.recursiveDuckColumns(c,s,"".concat(f,"."))}),s}},{key:"colToProp",value:function(t){if(!1===Number.isInteger(t))return t;var r=this.instance.toPhysicalColumn(t);return null===r?t:this.colToPropCache&&fr(this.colToPropCache[r])?this.colToPropCache[r]:r}},{key:"propToCol",value:function(t){var r=this.propToColCache.get(t);if(fr(r))return this.instance.toVisualColumn(r);var i=this.instance.toVisualColumn(t);return null===i?t:i}},{key:"getSchema",value:function(){var t=this.tableMeta.dataSchema;return t?"function"==typeof t?t():t:this.duckSchema}},{key:"createRow",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0,s=this.instance.countSourceRows(),a=s,u=0,c=t;("number"!=typeof c||c>=s)&&(c=s),c<this.instance.countRows()&&(a=this.instance.toPhysicalRow(c));var f=this.instance.runHooks("beforeCreateRow",c,i,o);if(!1===f||null===a)return 0;for(var p=this.tableMeta.maxRows,g=this.instance.countCols(),y=[],w=function(){var C=null;"array"===r.instance.dataType?r.tableMeta.dataSchema?C=Iu(r.getSchema()):(C=[],Hr(g-1,function(){return C.push(null)})):"function"===r.instance.dataType?C=r.tableMeta.dataSchema(c+u):CL(C={},r.getSchema()),y.push(C),u+=1};u<i&&s+u<p;)w();return this.instance.rowIndexMapper.insertIndexes(c,u),this.spliceData(a,0,y),this.instance.runHooks("afterCreateRow",c,u,o),this.instance.forceFullRender=!0,u}},{key:"createCol",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var o=this.dataSource,s=this.tableMeta.maxCols,a=t;("number"!=typeof a||a>=this.instance.countSourceCols())&&(a=this.instance.countSourceCols());var u=this.instance.runHooks("beforeCreateCol",a,r,i);if(!1===u)return 0;var c=this.instance.countSourceCols();a<this.instance.countCols()&&(c=this.instance.toPhysicalColumn(a));for(var f=this.instance.countSourceRows(),p=this.instance.countCols(),g=0,y=c;g<r&&p<s;){if("number"!=typeof a||a>=p)if(f>0)for(var w=0;w<f;w+=1)void 0===o[w]&&(o[w]=[]),o[w].push(null);else o.push([null]);else for(var M=0;M<f;M++)o[M].splice(y,0,null);g+=1,y+=1,p+=1}return this.instance.columnIndexMapper.insertIndexes(a,g),this.instance.runHooks("afterCreateCol",a,g,i),this.instance.forceFullRender=!0,g}},{key:"removeRow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,o=Number.isInteger(t)?t:-r,s=this.visualRowsToPhysical(o,r),a=this.instance.countSourceRows(),u=this.instance.runHooks("beforeRemoveRow",o=(a+o)%a,s.length,s,i);if(!1===u)return!1;var c=s.length;if(this.filterData(o,c,s),o<this.instance.countRows()){this.instance.rowIndexMapper.removeIndexes(s);var f=fr(this.tableMeta.columns)||fr(this.tableMeta.dataSchema);0===this.instance.rowIndexMapper.getNotTrimmedIndexesLength()&&!1===f&&this.instance.columnIndexMapper.setIndexesSequence([])}return this.instance.runHooks("afterRemoveRow",o,c,s,i),this.instance.forceFullRender=!0,!0}},{key:"removeCol",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if("object"===this.instance.dataType||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");var o="number"!=typeof t?-r:t;o=(this.instance.countCols()+o)%this.instance.countCols();var s=this.visualColumnsToPhysical(o,r),a=s.slice(0).sort(function(B,U){return U-B}),u=this.instance.runHooks("beforeRemoveCol",o,r,s,i);if(!1===u)return!1;for(var c=!0,f=a.length,p=this.dataSource,g=0;g<f;g++)c&&s[0]!==s[g]-g&&(c=!1);if(c)for(var y=0,w=this.instance.countSourceRows();y<w;y++)p[y].splice(s[0],r);else for(var M=0,C=this.instance.countSourceRows();M<C;M++)for(var I=0;I<f;I++)p[M].splice(a[I],1);return o<this.instance.countCols()&&(this.instance.columnIndexMapper.removeIndexes(s),0===this.instance.columnIndexMapper.getNotTrimmedIndexesLength()&&this.instance.rowIndexMapper.setIndexesSequence([])),this.instance.runHooks("afterRemoveCol",o,r,s,i),this.instance.forceFullRender=!0,!0}},{key:"spliceCol",value:function(t,r,i){for(var o=this.instance.getDataAtCol(t),s=o.slice(r,r+i),a=o.slice(r+i),u=arguments.length,c=new Array(u>3?u-3:0),f=3;f<u;f++)c[f-3]=arguments[f];DQ(c,a);for(var p=0;p<i;)c.push(null),p+=1;return SAe(c),this.instance.populateFromArray(r,t,c,null,null,"spliceCol"),s}},{key:"spliceRow",value:function(t,r,i){for(var o=this.instance.getSourceDataAtRow(t),s=o.slice(r,r+i),a=o.slice(r+i),u=arguments.length,c=new Array(u>3?u-3:0),f=3;f<u;f++)c[f-3]=arguments[f];DQ(c,a);for(var p=0;p<i;)c.push(null),p+=1;return this.instance.populateFromArray(t,r,[c],null,null,"spliceRow"),s}},{key:"spliceData",value:function(t,r,i){var o=this;if(!1!==this.instance.runHooks("beforeDataSplice",t,r,i)){var a=[].concat(w4(this.dataSource.slice(0,t)),w4(i),w4(this.dataSource.slice(t)));this.dataSource.length=0,a.forEach(function(u){return o.dataSource.push(u)})}}},{key:"filterData",value:function(t,r,i){var o=this.instance.runHooks("filterData",t,r,i);!1===Array.isArray(o)&&(o=this.dataSource.filter(function(s,a){return-1===i.indexOf(a)})),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,o)}},{key:"get",value:function(t,r){var i=this.instance.toPhysicalRow(t),o=this.dataSource[i],s=this.instance.runHooks("modifyRowData",i),a=null;if((o=isNaN(s)?s:o)&&o.hasOwnProperty&&Ps(o,r))a=o[r];else if("string"==typeof r&&r.indexOf(".")>-1){var u=r.split("."),c=o;if(!c)return null;for(var f=0,p=u.length;f<p;f++)if(void 0===(c=c[u[f]]))return null;a=c}else"function"==typeof r&&(a=r(this.dataSource.slice(i,i+1)[0]));if(this.instance.hasHook("modifyData")){var g=OS(a);this.instance.runHooks("modifyData",i,this.propToCol(r),g,"get"),g.isTouched()&&(a=g.value)}return a}},{key:"getCopyable",value:function(t,r){return ZBe.call(this.instance,t,this.propToCol(r))?this.get(t,r):""}},{key:"set",value:function(t,r,i){var o=this.instance.toPhysicalRow(t),s=i,a=this.dataSource[o],u=this.instance.runHooks("modifyRowData",o);if(a=isNaN(u)?u:a,this.instance.hasHook("modifyData")){var c=OS(s);this.instance.runHooks("modifyData",o,this.propToCol(r),c,"set"),c.isTouched()&&(s=c.value)}if(a&&a.hasOwnProperty&&Ps(a,r))a[r]=s;else if("string"==typeof r&&r.indexOf(".")>-1){var y,f=r.split("."),p=a,g=0;for(g=0,y=f.length-1;g<y;g++)void 0===p[f[g]]&&(p[f[g]]={}),p=p[f[g]];p[f[g]]=s}else"function"==typeof r?r(this.dataSource.slice(o,o+1)[0],s):a[r]=s}},{key:"visualRowsToPhysical",value:function(t,r){for(var u,i=this.instance.countSourceRows(),o=[],s=(i+t)%i,a=r;s<i&&a;)u=this.instance.toPhysicalRow(s),o.push(u),a-=1,s+=1;return o}},{key:"visualColumnsToPhysical",value:function(t,r){for(var i=this.instance.countCols(),o=[],s=(i+t)%i,a=r;s<i&&a;){var u=this.instance.toPhysicalColumn(s);o.push(u),a-=1,s+=1}return o}},{key:"clear",value:function(){for(var t=0;t<this.instance.countSourceRows();t++)for(var r=0;r<this.instance.countCols();r++)this.set(t,this.colToProp(r),"")}},{key:"getLength",value:function(){var r,t=this.tableMeta.maxRows;r=t<0||0===t?0:t||1/0;var i=this.instance.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(i,r)}},{key:"getAll",value:function(){var t={row:0,col:0},r={row:Math.max(this.instance.countRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return t.row-r.row!=0||this.instance.countSourceRows()?this.getRange(t,r,n.DESTINATION_RENDERER):[]}},{key:"countCachedColumns",value:function(){return this.colToPropCache.length}},{key:"getRange",value:function(t,r,i){var s,a,u,o=[],c=this.tableMeta.maxRows,f=this.tableMeta.maxCols;if(0===c||0===f)return[];var p=i===n.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,g=Math.min(Math.max(c-1,0),Math.max(t.row,r.row)),y=Math.min(Math.max(f-1,0),Math.max(t.col,r.col));for(s=Math.min(t.row,r.row);s<=g;s++){u=[];var w=s>=0?this.instance.toPhysicalRow(s):s;for(a=Math.min(t.col,r.col);a<=y&&null!==w;a++)u.push(p.call(this,s,this.colToProp(a)));null!==w&&o.push(u)}return o}},{key:"getText",value:function(t,r){return S1(this.getRange(t,r,n.DESTINATION_RENDERER))}},{key:"getCopyableText",value:function(t,r){return S1(this.getRange(t,r,n.DESTINATION_CLIPBOARD_GENERATOR))}},{key:"destroy",value:function(){this.instance=null,this.tableMeta=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}],[{key:"DESTINATION_RENDERER",get:function(){return 1}},{key:"DESTINATION_CLIPBOARD_GENERATOR",get:function(){return 2}}]),n}();function zI(n){return(zI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Bre(n,e,t,r){var i=r.hotInstance,o=r.dataMap,s=r.dataSource,a=r.internalSource,u=r.source,c=r.firstRun,f=Mm(a),p=i.getSettings();i.dataType=Array.isArray(p.dataSchema)?"array":Ss(p.dataSchema)?"function":"object",o&&o.destroy(),n=i.runHooks("before".concat(f),n,c,u);var g=new JBe(i,n,p);if(e(g),"object"===zI(n)&&null!==n)n.push&&n.splice||(n=[n]);else{if(null!==n)throw new Error("".concat(a," only accepts array of objects or array of arrays (").concat(zI(n)," given)"));var y=g.getSchema();n=[];var w,C,M=0;for(M=0,C=p.startRows;M<C;M++)if("object"!==i.dataType&&"function"!==i.dataType||!p.dataSchema)if("array"===i.dataType)w=Iu(y[0]),n.push(w);else{w=[];for(var I=0,B=p.startCols;I<B;I++)w.push(null);n.push(w)}else w=Iu(y),n.push(w)}Array.isArray(n[0])&&(i.dataType="array"),p.data=n,g.dataSource=n,s.data=n,s.dataType=i.dataType,s.colToProp=g.colToProp.bind(g),s.propToCol=g.propToCol.bind(g),s.countCachedColumns=g.countCachedColumns.bind(g),t(g),i.runHooks("after".concat(f),n,c,u),c||(i.runHooks("afterChange",null,a),i.render())}var Ure,Vre=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),UI=function(e){return e.map(function(t){var r=t.toLowerCase();return Vre.has(r)?Vre.get(r):r}).sort().join("+")},zre=function(e){return e.toLowerCase()};function jre(n,e){if(n){if("string"==typeof n)return x4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x4(n,e)}}function x4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lVe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var dVe=["meta","alt","shift","control"],jI=function cVe(){var n=new Set;return{press:function(t){n.add(t)},release:function(t){n.delete(t)},releaseAll:function(){n.clear()},isPressed:function(t){return n.has(t)}}}(),hVe=function(e){var t=e.ownerWindow,r=e.handleEvent,i=e.beforeKeyDown,o=e.afterKeyDown,s=HL({errorIdExists:function(M){return'The "'.concat(M,'" context name is already registered.')}}),a="grid",c=function(){return a},f=function(M){return s.getItem(M)},g=!1,y=function fVe(n,e,t,r,i){var o=function(y){return dVe.includes(y)},s=function(y){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1],M=[];return y.altKey&&M.push("alt"),w&&(y.ctrlKey||y.metaKey)?M.push("control/meta"):(y.ctrlKey&&M.push("control"),y.metaKey&&M.push("meta")),y.shiftKey&&M.push("shift"),M},a=function(y){if(!1!==e(y)){var w=t(y);if(229!==y.keyCode&&!1!==w&&!PS(y)){var M=zre(y.key),C=[];o(M)?jI.press(M):C=s(y);var I=[M].concat(C);!i(y,I)&&(HQ()&&C.includes("meta")||!HQ()&&C.includes("control"))&&i(y,[M].concat(s(y,!0))),r(y)}}},u=function(y){if(!1!==e(y)){var w=zre(y.key);!1!==o(w)&&jI.release(w)}},c=function(){jI.releaseAll()};return{mount:function(){for(var y=n;y;)y.document.documentElement.addEventListener("keydown",a),y.document.documentElement.addEventListener("keyup",u),y.document.documentElement.addEventListener("blur",c),y=EL(y)},unmount:function(){for(var y=n;y;)y.document.documentElement.removeEventListener("keydown",a),y.document.documentElement.removeEventListener("keyup",u),y.document.documentElement.removeEventListener("blur",c),y=EL(y)},isPressed:function(y){return jI.isPressed(y)}}}(t,r,i,o,function(w,M){var C=f(c()),I=!1;if(!C.hasShortcut(M))return I;for(var B=C.getShortcuts(M),U=0;U<B.length;U++){var j=B[U],$=j.callback,ge=j.preventDefault,re=j.stopPropagation,fe=j.captureCtrl;if(!1!==(0,j.runOnlyIf)(w)&&(g=fe,I=!1===$(w,M),g=!1,ge&&w.preventDefault(),re&&w.stopPropagation(),I))break}return I});return y.mount(),{addContext:function(M){var C=function(e){var t=HL({errorIdExists:function(f){return'The "'.concat(f,'" shortcut is already registered in the "').concat(e,'" context.')}}),r=function(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=f.keys,g=f.callback,y=f.group,w=f.runOnlyIf,M=void 0===w?function(){return!0}:w,C=f.captureCtrl,I=void 0!==C&&C,B=f.preventDefault,U=void 0===B||B,j=f.stopPropagation,$=void 0!==j&&j,se=f.relativeToGroup,ge=f.position;if(Ns(y))throw new Error("You need to define the shortcut's group.");if(!1===Ss(g))throw new Error("The shortcut's callback needs to be a function.");if(!1===Array.isArray(p))throw new Error(cs(Ure||(Ure=lVe(["Pass the shortcut's keys as an array of arrays, \n      using the KeyboardEvent.key properties: \n      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values."],["Pass the shortcut\\'s keys as an array of arrays,\\x20\n      using the KeyboardEvent.key properties:\\x20\n      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values."]))));var re={callback:g,group:y,runOnlyIf:M,captureCtrl:I,preventDefault:U,stopPropagation:$};if(fr(se)){var fe=[se,ge];re.relativeToGroup=fe[0],re.position=fe[1]}p.forEach(function(we){var Ae=UI(we);if(t.hasItem(Ae)){var pt=t.getItem(Ae),Xe=pt.findIndex(function(xt){return xt.group===se});-1!==Xe?"before"===ge?Xe-=1:Xe+=1:Xe=pt.length,pt.splice(Xe,0,re)}else t.addItem(Ae,[re])})},o=function(f){var p=UI(f);t.removeItem(p)};return{addShortcut:r,addShortcuts:function(f){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f.forEach(function(g){to(p,function(y,w){!1===Object.prototype.hasOwnProperty.call(g,w)&&(g[w]=p[w])}),r(g)})},getShortcuts:function(f){var p=UI(f),g=t.getItem(p);return fr(g)?g.slice():[]},hasShortcut:function(f){var p=UI(f);return t.hasItem(p)},removeShortcutsByKeys:o,removeShortcutsByGroup:function(f){t.getItems().forEach(function(g){var y=function iVe(n,e){return function aVe(n){if(Array.isArray(n))return n}(n)||function sVe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||jre(n,e)||function oVe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g,2),w=y[0],M=y[1],C=M.filter(function(I){return I.group!==f});0===C.length?o(function(e){return e.split("+")}(w)):(M.length=0,M.push.apply(M,function eVe(n){return function rVe(n){if(Array.isArray(n))return x4(n)}(n)||function nVe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||jre(n)||function tVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(C)))})}}}(M);return s.addItem(M,C),C},getActiveContextName:c,getContext:f,setActiveContextName:function(M){a=M},isCtrlPressed:function(){return!g&&(y.isPressed("control")||y.isPressed("meta"))},destroy:function(){return y.unmount()}}};function yc(n){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Qh(n,e){return function gVe(n){if(Array.isArray(n))return n}(n)||function mVe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Wre(n,e)||function pVe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qv(n){return function _Ve(n){if(Array.isArray(n))return C4(n)}(n)||function yVe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Wre(n)||function vVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wre(n,e){if(n){if("string"==typeof n)return C4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C4(n,e)}}function C4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var bVe="gridDefault",E4=null;function T4(n,e){var t,u,c,f,p,r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1,s=this,a=new ea(s),g=!0;f2e(i)&&d2e(this),this.rootElement=n,this.rootDocument=n.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;var y=null!==(t=null==e?void 0:e.layoutDirection)&&void 0!==t?t:"inherit",w=["rtl","ltr"].includes(y)?y:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",w),this.isRtl=function(){return"rtl"===w},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1},e.language=SHe(e.language);var M=new Lre(s,e,[HBe,zBe]),C=M.getTableMeta(),I=M.getGlobalMeta(),B=HL();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,n.insertBefore(this.container,n.firstChild),lU(this)&&eOe(e.licenseKey,n),this.guid="ht_".concat(BQ()),this.columnIndexMapper=new VU,this.rowIndexMapper=new VU,c=new A2e(s),(!this.rootElement.id||"ht_"===this.rootElement.id.substring(0,3))&&(this.rootElement.id=this.guid);var U=function(ee){var he=ee.row,be=ee.col;return s._createCellCoords(he>=0?s.rowIndexMapper.getRenderableFromVisualIndex(he):he,be>=0?s.columnIndexMapper.getRenderableFromVisualIndex(be):be)},j=function(ee){var he=ee.row,be=ee.col;return s._createCellCoords(he>=0?s.rowIndexMapper.getVisualFromRenderableIndex(he):he,be>=0?s.columnIndexMapper.getVisualFromRenderableIndex(be):be)},$=new uBe(C,{rowIndexMapper:function(){return s.rowIndexMapper},columnIndexMapper:function(){return s.columnIndexMapper},countCols:function(){return s.countCols()},countRows:function(){return s.countRows()},propToCol:function(ee){return u.propToCol(ee)},isEditorOpened:function(){return!!s.getActiveEditor()&&s.getActiveEditor().isOpened()},countColsTranslated:function(){return r.view.countRenderableColumns()},countRowsTranslated:function(){return r.view.countRenderableRows()},getShortcutManager:function(){return s.getShortcutManager()},createCellCoords:function(ee,he){return s._createCellCoords(ee,he)},createCellRange:function(ee,he,be){return s._createCellRange(ee,he,be)},visualToRenderableCoords:U,renderableToVisualCoords:j,isDisabledCellSelection:function(ee,he){return s.getCellMeta(ee,he).disableVisualSelection}});this.selection=$;var se=function(ee){ee.hiddenIndexesChanged&&r.selection.refresh()};function ge(J){var ee=Nne(J);o4(ee)?(s.runHooks("beforeLanguageChange",ee),I.language=ee,s.runHooks("afterLanguageChange",ee)):Fne(J)}function re(J,ee){var he="className"===J?s.rootElement:s.table;if(g)Cn(he,ee);else{var be=[],ke=[];I[J]&&(be=Array.isArray(I[J])?I[J]:kQ(I[J])),ee&&(ke=Array.isArray(ee)?ee:kQ(ee));var We=OQ(be,ke),yt=OQ(ke,be);We.length&&Ii(he,We),yt.length&&Cn(he,yt)}I[J]=ee}function fe(){var J=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue+=1,J=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0===this.validatorsInQueue&&!1===J&&(J=!0,this.onQueueEmpty(this.valid))}}}function we(J){var ee=J.replace(",",".");return!1===isNaN(parseFloat(ee))?parseFloat(ee):J}function Ae(J,ee,he){if(J.length){var be=s.getActiveEditor(),ke=s.runHooks("beforeChange",J,ee||"edit"),We=!0;if(!1===ke)return void(be&&be.cancelChanges());var yt=new fe;yt.onQueueEmpty=function(_n){be&&We&&be.cancelChanges(),he(_n)};for(var It=J.length-1;It>=0;It--)if(null===J[It])J.splice(It,1);else{var Lt=Qh(J[It],4),at=Lt[0],ht=Lt[3],Tt=u.propToCol(Lt[1]),Ft=s.getCellMeta(at,Tt);"numeric"===Ft.type&&"string"==typeof ht&&jOe(ht)&&(J[It][3]=we(ht)),s.getCellValidator(Ft)&&(yt.addValidatorToQueue(),s.validateCell(J[It][3],Ft,function(_n,fn){return function(qn){if("boolean"!=typeof qn)throw new Error("Validation error: result is not boolean");if(!1===qn&&!1===fn.allowInvalid){We=!1,J.splice(_n,1),fn.valid=!0;var Fn=s.getCell(fn.visualRow,fn.visualCol);null!==Fn&&Ii(Fn,C.invalidCellClassName)}yt.removeValidatorFormQueue()}}(It,Ft),ee))}yt.checkIfQueueIsEmpty()}}function vt(J,ee){var he=J.length-1;if(!(he<0)){for(;he>=0;he--){var be=!1;if(null!==J[he]){if(null!=J[he][2]||null!=J[he][3]){if(C.allowInsertRow)for(;J[he][0]>s.countRows()-1;){var ke=u.createRow(void 0,void 0,ee);if(!(ke>=1)){be=!0;break}M.createRow(null,ke)}if("array"===s.dataType&&(!C.columns||0===C.columns.length)&&C.allowInsertColumn)for(;u.propToCol(J[he][1])>s.countCols()-1;){var We=u.createCol(void 0,void 0,ee);if(!(We>=1)){be=!0;break}M.createColumn(null,We)}be||u.set(J[he][0],J[he][1],J[he][3])}}else J.splice(he,1)}s.forceFullRender=!0,f.adjustRowsAndCols(),s.runHooks("beforeChangeRender",J,ee),p.lockEditor(),s._refreshBorders(null),p.unlockEditor(),s.view.adjustElementsSize(),s.runHooks("afterChange",J,ee||"edit");var yt=s.getActiveEditor();yt&&fr(yt.refreshValue)&&yt.refreshValue()}}function pt(J,ee,he){return Array.isArray(J)?J:[[J,ee,he]]}this.columnIndexMapper.addLocalHook("cacheUpdated",se),this.rowIndexMapper.addLocalHook("cacheUpdated",se),this.selection.addLocalHook("beforeSetRangeStart",function(J){r.runHooks("beforeSetRangeStart",J)}),this.selection.addLocalHook("beforeSetRangeStartOnly",function(J){r.runHooks("beforeSetRangeStartOnly",J)}),this.selection.addLocalHook("beforeSetRangeEnd",function(J){r.runHooks("beforeSetRangeEnd",J),J.row<0&&(J.row=r.view._wt.wtTable.getFirstVisibleRow()),J.col<0&&(J.col=r.view._wt.wtTable.getFirstVisibleColumn())}),this.selection.addLocalHook("afterSetRangeEnd",function(J){var ee=OS(!1),he=r.selection.getSelectedRange(),be=he.current(),ke=be.from,We=be.to,yt=he.size()-1;r.runHooks("afterSelection",ke.row,ke.col,We.row,We.col,ee,yt),r.runHooks("afterSelectionByProp",ke.row,s.colToProp(ke.col),We.row,s.colToProp(We.col),ee,yt);var It=r.selection.isSelectedByAnyHeader(),Lt=r.selection.selectedRange.current(),at=!0;o&&(at=!1),ee.isTouched()&&(at=!ee.value);var Ot=r.selection.isSelectedByRowHeader(),ht=r.selection.isSelectedByColumnHeader();!1!==at&&(It?Ot?r.view.scrollViewportVertically(s.rowIndexMapper.getRenderableFromVisualIndex(J.row)):ht&&r.view.scrollViewportHorizontally(s.columnIndexMapper.getRenderableFromVisualIndex(J.col)):Lt&&!r.selection.isMultiple()?r.view.scrollViewport(U(Lt.from)):r.view.scrollViewport(U(J))),Ot&&ht?Cn(r.rootElement,["ht__selection--rows","ht__selection--columns"]):Ot?(Ii(r.rootElement,"ht__selection--columns"),Cn(r.rootElement,"ht__selection--rows")):ht?(Ii(r.rootElement,"ht__selection--rows"),Cn(r.rootElement,"ht__selection--columns")):Ii(r.rootElement,["ht__selection--rows","ht__selection--columns"]),r._refreshBorders(null)}),this.selection.addLocalHook("afterSelectionFinished",function(J){var ee=J.length-1,he=J[ee],be=he.from,ke=he.to;r.runHooks("afterSelectionEnd",be.row,be.col,ke.row,ke.col,ee),r.runHooks("afterSelectionEndByProp",be.row,s.colToProp(be.col),ke.row,s.colToProp(ke.col),ee)}),this.selection.addLocalHook("afterIsMultipleSelection",function(J){var ee=r.runHooks("afterIsMultipleSelection",J.value);J.value&&(J.value=ee)}),this.selection.addLocalHook("beforeModifyTransformStart",function(J){r.runHooks("modifyTransformStart",J)}),this.selection.addLocalHook("afterModifyTransformStart",function(J,ee,he){r.runHooks("afterModifyTransformStart",J,ee,he)}),this.selection.addLocalHook("beforeModifyTransformEnd",function(J){r.runHooks("modifyTransformEnd",J)}),this.selection.addLocalHook("afterModifyTransformEnd",function(J,ee,he){r.runHooks("afterModifyTransformEnd",J,ee,he)}),this.selection.addLocalHook("afterDeselect",function(){p.destroyEditor(),r._refreshBorders(),Ii(r.rootElement,["ht__selection--rows","ht__selection--columns"]),r.runHooks("afterDeselect")}),this.selection.addLocalHook("insertRowRequire",function(J){r.alter("insert_row",J,1,"auto")}),this.selection.addLocalHook("insertColRequire",function(J){r.alter("insert_col",J,1,"auto")}),f={alter:function(ee,he){var yt,be=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,ke=arguments.length>3?arguments[3]:void 0,We=arguments.length>4?arguments[4]:void 0,It=function(Dr){if(0===Dr.length)return[];var jt=Qv(Dr);return jt.sort(function(Kn,Hn){var Sn=Qh(Kn,1)[0],Pr=Qh(Hn,1)[0];return Sn===Pr?0:Sn>Pr?1:-1}),Ha(jt,function(Kn,Hn){var st=Qh(Hn,2),Sn=st[0],Dn=st[1],Pr=Kn[Kn.length-1],Qn=Qh(Pr,2),Zr=Qn[0]+Qn[1];if(Sn<=Zr){var Bi=Math.max(Dn-(Zr-Sn),0);Pr[1]+=Bi}else Kn.push([Sn,Dn]);return Kn},[jt[0]])};switch(ee){case"insert_row":var Lt=s.countSourceRows();if(C.maxRows===Lt)return;if(he=fr(he)?he:Lt,yt=u.createRow(he,be,ke)){M.createRow(s.toPhysicalRow(he),be);var at=$.selectedRange.current(),Ot=null==at?void 0:at.from,ht=null==Ot?void 0:Ot.row;if(fr(ht)&&ht>=he){var Tt=at.to,Ft=Tt.row,_n=Tt.col,fn=Ot.col;$.isSelectedByRowHeader()&&(fn=-1),$.getSelectedRange().pop(),$.setRangeStartOnly(s._createCellCoords(ht+yt,fn),!0),$.setRangeEnd(s._createCellCoords(Ft+yt,_n))}else s._refreshBorders()}break;case"insert_col":if(yt=u.createCol(he,be,ke)){if(M.createColumn(s.toPhysicalColumn(he),be),Array.isArray(C.colHeaders)){var qn=[he,0];qn.length+=yt,Array.prototype.splice.apply(C.colHeaders,qn)}var Fn=$.selectedRange.current(),tr=null==Fn?void 0:Fn.from,jr=null==tr?void 0:tr.col;if(fr(jr)&&jr>=he){var Br=Fn.to,Ve=Br.row,Ce=Br.col,$t=tr.row;$.isSelectedByColumnHeader()&&($t=-1),$.getSelectedRange().pop(),$.setRangeStartOnly(s._createCellCoords($t,jr+yt),!0),$.setRangeEnd(s._createCellCoords(Ve,Ce+yt))}else s._refreshBorders()}break;case"remove_row":var gn=function(Dr){var jt=0;Qe(Dr,function(Sr){var Kn=Qh(Sr,2),Hn=Kn[0],st=Kn[1],Sn=nl(Hn)?s.countRows()-1:Math.max(Hn-jt,0);if(Number.isInteger(Hn)&&(Hn=Math.max(Hn-jt,0)),u.removeRow(Hn,st,ke)){M.removeRow(s.toPhysicalRow(Sn),st);var Pr=s.countRows(),Qn=C.fixedRowsTop;Qn>=Sn+1&&(C.fixedRowsTop-=Math.min(st,Qn-Sn));var Gr=C.fixedRowsBottom;Gr&&Sn>=Pr-Gr&&(C.fixedRowsBottom-=Math.min(st,Gr)),jt+=st}})};Array.isArray(he)?gn(It(he)):gn([[he,be]]),f.adjustRowsAndCols(),s._refreshBorders();break;case"remove_col":var On=function(Dr){var jt=0;Qe(Dr,function(Sr){var Kn=Qh(Sr,2),Hn=Kn[0],st=Kn[1],Sn=nl(Hn)?s.countCols()-1:Math.max(Hn-jt,0),Dn=s.toPhysicalColumn(Sn);if(Number.isInteger(Hn)&&(Hn=Math.max(Hn-jt,0)),u.removeCol(Hn,st,ke)){M.removeColumn(Dn,st);var Qn=C.fixedColumnsStart;Qn>=Sn+1&&(C.fixedColumnsStart-=Math.min(st,Qn-Sn)),Array.isArray(C.colHeaders)&&(void 0===Dn&&(Dn=-1),C.colHeaders.splice(Dn,st)),jt+=st}})};Array.isArray(he)?On(It(he)):On([[he,be]]),f.adjustRowsAndCols(),s._refreshBorders();break;default:throw new Error('There is no such action "'.concat(ee,'"'))}We||f.adjustRowsAndCols()},adjustRowsAndCols:function(){var at,ee=C.minRows,he=C.minSpareRows,be=C.minCols,ke=C.minSpareCols;if(ee){var We=s.countRows();We<ee&&u.createRow(We,ee-We,"auto")}if(he){var yt=s.countEmptyRows(!0);if(yt<he){var Lt=Math.min(he-yt,C.maxRows-s.countSourceRows());u.createRow(s.countRows(),Lt,"auto")}}(be||ke)&&(at=s.countEmptyCols(!0));var Ot=s.countCols();if(be&&!C.columns&&Ot<be){var ht=be-Ot;at+=ht,u.createCol(Ot,ht,"auto")}if(ke&&!C.columns&&"array"===s.dataType&&at<ke){Ot=s.countCols();var Ft=Math.min(ke-at,C.maxCols-Ot);u.createCol(Ot,Ft,"auto")}var _n=s.countRows(),fn=s.countCols();(0===_n||0===fn)&&$.deselect(),$.isSelected()&&Qe($.selectedRange,function(qn){var Fn=!1,tr=qn.from.row,jr=qn.from.col,Br=qn.to.row,Ve=qn.to.col;tr>_n-1?(Fn=!0,Br>(tr=_n-1)&&(Br=tr)):Br>_n-1&&(Fn=!0,tr>(Br=_n-1)&&(tr=Br)),jr>fn-1?(Fn=!0,Ve>(jr=fn-1)&&(Ve=jr)):Ve>fn-1&&(Fn=!0,jr>(Ve=fn-1)&&(jr=Ve)),Fn&&s.selectCell(tr,jr,Br,Ve)}),s.view&&s.view.adjustElementsSize()},populateFromArray:function(ee,he,be,ke,We,yt,It){var Lt,at,Ot,ht,Tt=[],Ft={},_n=[],fn=ee.row,qn=ee.col;if(0===(at=he.length))return!1;var Fn=0,tr=0;switch(ji(be)&&(Fn=be.col-qn+1,tr=be.row-fn+1),We){case"shift_down":var jr=xL(he),Br=jr.length,Ve=Math.max(Br,Fn),Ce=s.getData().slice(fn),$t=xL(Ce).slice(qn,qn+Ve);for(Ot=0;Ot<Ve;Ot+=1)if(Ot<Br){for(Lt=0,at=jr[Ot].length;Lt<tr-at;Lt+=1)jr[Ot].push(jr[Ot][Lt%at]);_n.push(jr[Ot].concat(Ot<$t.length?$t[Ot]:new Array(Ce.length).fill(null)))}else _n.push(jr[Ot%Br].concat($t[Ot]));s.populateFromArray(fn,qn,xL(_n));break;case"shift_right":var gn=he.length,On=Math.max(gn,tr),Yn=s.getData().slice(fn).map(function(nh){return nh.slice(qn)});for(Lt=0;Lt<On;Lt+=1)if(Lt<gn){for(Ot=0,ht=he[Lt].length;Ot<Fn-ht;Ot+=1)he[Lt].push(he[Lt][Ot%ht]);var jt;if(Lt<Yn.length)for(var Dr=0;Dr<Yn[Lt].length;Dr+=1)he[Lt].push(Yn[Lt][Dr]);else(jt=he[Lt]).push.apply(jt,Qv(new Array(Yn[0].length).fill(null)))}else he.push(he[Lt%at].slice(0,On).concat(Yn[Lt]));s.populateFromArray(fn,qn,he);break;default:Ft.row=ee.row,Ft.col=ee.col;var Sn,Sr={row:be&&ee?be.row-ee.row+1:1,col:be&&ee?be.col-ee.col+1:1},Kn=0,Hn=0,st=!0,Dn=function(rh){var ih=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,oh=he[rh%he.length];return null!==ih?oh[ih%oh.length]:oh},Pr=he.length,Qn=be?be.row-ee.row+1:0;for(at=be?Qn:Math.max(Pr,Qn),Lt=0;Lt<at&&!(be&&Ft.row>be.row&&Qn>Pr||!C.allowInsertRow&&Ft.row>s.countRows()-1||Ft.row>=C.maxRows);Lt++){var Gr=Lt-Kn,Bn=Dn(Gr).length,Zr=be?be.col-ee.col+1:0;if(ht=be?Zr:Math.max(Bn,Zr),Ft.col=ee.col,Sn=s.getCellMeta(Ft.row,Ft.col),"CopyPaste.paste"!==ke&&"Autofill.fill"!==ke||!Sn.skipRowOnPaste){for(Hn=0,Ot=0;Ot<ht&&!(be&&Ft.col>be.col&&Zr>Bn||!C.allowInsertColumn&&Ft.col>s.countCols()-1||Ft.col>=C.maxCols);Ot++)if(Sn=s.getCellMeta(Ft.row,Ft.col),"CopyPaste.paste"!==ke&&"Autofill.fill"!==ke||!Sn.skipColumnOnPaste)if(Sn.readOnly&&"UndoRedo.undo"!==ke)Ft.col+=1;else{var Bi=Ot-Hn,Ei=Dn(Gr,Bi),Jo=s.getDataAtCell(Ft.row,Ft.col);if("Autofill.fill"===ke){var cp=s.runHooks("beforeAutofillInsidePopulate",{row:Gr,col:Bi},yt,he,It,{},Sr);cp&&(Ei=Ns(cp.value)?Ei:cp.value)}null!==Ei&&"object"===yc(Ei)?(Array.isArray(Ei)&&null===Jo&&(Jo=[]),null===Jo||"object"!==yc(Jo)?st=!1:IQ(XT(Array.isArray(Jo)?Jo:Jo[0]||Jo),XT(Array.isArray(Ei)?Ei:Ei[0]||Ei))?Ei=Iu(Ei):st=!1):null!==Jo&&"object"===yc(Jo)&&(st=!1),st&&Tt.push([Ft.row,Ft.col,Ei]),st=!0,Ft.col+=1}else Hn+=1,Ft.col+=1,ht+=1;Ft.row+=1}else Kn+=1,Ft.row+=1,at+=1}s.setDataAtCell(Tt,null,null,ke||"populateFromArray")}}},this.init=function(){c.setData(C.data),s.runHooks("beforeInit"),($h()||NQ())&&Cn(s.rootElement,"mobile"),this.updateSettings(C,!0),this.view=new M2e(this),p=AOe.getInstance(s,C,$),s.runHooks("init"),this.forceFullRender=!0,this.view.render(),"object"===yc(g)&&(s.runHooks("afterChange",g[0],g[1]),g=!1),s.runHooks("afterInit")},this._createCellCoords=function(J,ee){return s.view._wt.createCellCoords(J,ee)},this._createCellRange=function(J,ee,he){return s.view._wt.createCellRange(J,ee,he)},this.validateCell=function(J,ee,he,be){var yt,ke=s.getCellValidator(ee);function We(yt){var It=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(It&&!0!==ee.hidden){var Lt=ee.visualCol,at=ee.visualRow,Ot=s.getCell(at,Lt,!0);if(Ot&&"TH"!==Ot.nodeName){var ht=s.rowIndexMapper.getRenderableFromVisualIndex(at),Tt=s.columnIndexMapper.getRenderableFromVisualIndex(Lt);s.view._wt.getSetting("cellRenderer",ht,Tt,Ot)}he(yt)}else he(yt)}qAe(ke)&&(yt=ke,ke=function(It,Lt){Lt(yt.test(It))}),Ss(ke)?(J=s.runHooks("beforeValidate",J,ee.visualRow,ee.prop,be),s._registerImmediate(function(){ke.call(ee,J,function(yt){!s||(yt=s.runHooks("afterValidate",yt,J,ee.visualRow,ee.prop,be),ee.valid=yt,We(yt),s.runHooks("postAfterValidate",yt,J,ee.visualRow,ee.prop,be))})})):s._registerImmediate(function(){ee.valid=!0,We(ee.valid,!1)})},this.setDataAtCell=function(J,ee,he,be){var It,Lt,at,ke=pt(J,ee,he),We=[],yt=be;for(It=0,Lt=ke.length;It<Lt;It++){if("object"!==yc(ke[It]))throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof ke[It][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");at=ke[It][1]>=this.countCols()?ke[It][1]:u.colToProp(ke[It][1]),We.push([ke[It][0],at,c.getAtCell(this.toPhysicalRow(ke[It][0]),ke[It][1]),ke[It][2]])}!yt&&"object"===yc(J)&&(yt=ee),s.runHooks("afterSetDataAtCell",We,yt),Ae(We,yt,function(){vt(We,yt)})},this.setDataAtRowProp=function(J,ee,he,be){var It,Lt,ke=pt(J,ee,he),We=[],yt=be;for(It=0,Lt=ke.length;It<Lt;It++)We.push([ke[It][0],ke[It][1],c.getAtCell(this.toPhysicalRow(ke[It][0]),ke[It][1]),ke[It][2]]);!yt&&"object"===yc(J)&&(yt=ee),s.runHooks("afterSetDataAtRowProp",We,yt),Ae(We,yt,function(){vt(We,yt)})},this.listen=function(){s&&!s.isListening()&&(E4=s.guid,s.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(E4=null,s.runHooks("afterUnlisten"))},this.isListening=function(){return E4===s.guid},this.destroyEditor=function(){var J=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ee=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s._refreshBorders(J,ee)},this.populateFromArray=function(J,ee,he,be,ke,We,yt,It,Lt){if("object"!==yc(he)||"object"!==yc(he[0]))throw new Error("populateFromArray parameter `input` must be an array of arrays");var at="number"==typeof be?s._createCellCoords(be,ke):null;return f.populateFromArray(s._createCellCoords(J,ee),he,at,We,yt,It,Lt)},this.spliceCol=function(J,ee,he){for(var be,ke=arguments.length,We=new Array(ke>3?ke-3:0),yt=3;yt<ke;yt++)We[yt-3]=arguments[yt];return(be=u).spliceCol.apply(be,[J,ee,he].concat(We))},this.spliceRow=function(J,ee,he){for(var be,ke=arguments.length,We=new Array(ke>3?ke-3:0),yt=3;yt<ke;yt++)We[yt-3]=arguments[yt];return(be=u).spliceRow.apply(be,[J,ee,he].concat(We))},this.getSelected=function(){if($.isSelected())return Ki($.getSelectedRange(),function(J){var ee=J.from,he=J.to;return[ee.row,ee.col,he.row,he.col]})},this.getSelectedLast=function(){var ee,J=this.getSelected();return J&&J.length>0&&(ee=J[J.length-1]),ee},this.getSelectedRange=function(){if($.isSelected())return Array.from($.getSelectedRange())},this.getSelectedRangeLast=function(){var ee,J=this.getSelectedRange();return J&&J.length>0&&(ee=J[J.length-1]),ee},this.emptySelectedCells=function(J){var ee=this;if($.isSelected()&&0!==this.countRows()&&0!==this.countCols()){var he=[];Qe($.getSelectedRange(),function(be){var ke=be.getTopStartCorner(),We=be.getBottomEndCorner();Hr(ke.row,We.row,function(yt){Hr(ke.col,We.col,function(It){ee.getCellMeta(yt,It).readOnly||he.push([yt,It,null])})})}),he.length>0&&this.setDataAtCell(he,J)}},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){var J=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(J,0),!this.isRenderSuspended()&&J===this.renderSuspendedCounter&&(this.renderCall?this.render():this._refreshBorders(null))},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||(p.lockEditor(),this._refreshBorders(null),p.unlockEditor()))},this.batchRender=function(J){this.suspendRender();var ee=J();return this.resumeRender(),ee},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){var J=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ee=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(ee,0),(!this.isExecutionSuspended()&&ee===this.executionSuspendedCounter||J)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(J){var ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.suspendExecution();var he=J();return this.resumeExecution(ee),he},this.batch=function(J){this.suspendRender(),this.suspendExecution();var ee=J();return this.resumeExecution(),this.resumeRender(),ee},this.refreshDimensions=function(){if(s.view){var J=s.view.getLastSize(),ee=J.width,he=J.height,be=s.rootElement.getBoundingClientRect(),ke=be.width,We=be.height,yt=ke!==ee||We!==he;!1===s.runHooks("beforeRefreshDimensions",{width:ee,height:he},{width:ke,height:We},yt)||((yt||s.view._wt.wtOverlays.scrollableElement===s.rootWindow)&&(s.view.setLastSize(ke,We),s.render()),s.runHooks("afterRefreshDimensions",{width:ee,height:he},{width:ke,height:We},yt))}},this.updateData=function(J,ee){var he=this;Bre(J,function(be){u=be},function(be){u=be,s.columnIndexMapper.fitToLength(he.getInitialColumnCount()),s.rowIndexMapper.fitToLength(he.countSourceRows()),f.adjustRowsAndCols()},{hotInstance:s,dataMap:u,dataSource:c,internalSource:"updateData",source:ee,firstRun:g})},this.loadData=function(J,ee){Bre(J,function(he){u=he},function(){M.clearCellsCache(),s.initIndexMappers(),f.adjustRowsAndCols(),g&&(g=[null,"loadData"])},{hotInstance:s,dataMap:u,dataSource:c,internalSource:"loadData",source:ee,firstRun:g})},this.getInitialColumnCount=function(){var J=C.columns,ee=0;if(Array.isArray(J))ee=J.length;else if(Ss(J))if("array"===s.dataType)for(var he=this.countSourceCols(),be=0;be<he;be+=1)J(be)&&(ee+=1);else("object"===s.dataType||"function"===s.dataType)&&(ee=u.colToPropCache.length);else if(fr(C.dataSchema)){var ke=u.getSchema();ee=Array.isArray(ke)?ke.length:DV(ke)}else ee=this.countSourceCols();return ee},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(J,ee,he,be){return Ns(J)?u.getAll():u.getRange(s._createCellCoords(J,ee),s._createCellCoords(he,be),u.DESTINATION_RENDERER)},this.getCopyableText=function(J,ee,he,be){return u.getCopyableText(s._createCellCoords(J,ee),s._createCellCoords(he,be))},this.getCopyableData=function(J,ee){return u.getCopyable(J,u.colToProp(ee))},this.getSchema=function(){return u.getSchema()},this.updateSettings=function(J){var ke,We,ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],he=(g?s.loadData:s.updateData).bind(this),be=!1;if(fr(J.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(fr(J.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(fr(J.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(ke in J)"data"===ke||("language"===ke?ge(J.language):"className"===ke?re("className",J.className):"tableClassName"===ke&&s.table?(re("tableClassName",J.tableClassName),s.view._wt.wtOverlays.syncOverlayTableClassNames()):wr.getSingleton().isRegistered(ke)||wr.getSingleton().isDeprecated(ke)?(Ss(J[ke])||Array.isArray(J[ke]))&&(J[ke].initialHook=!0,s.addHook(ke,J[ke])):!ee&&Ps(J,ke)&&(I[ke]=J[ke]));void 0===J.data&&void 0===C.data?he(null,"updateSettings"):void 0!==J.data?he(J.data,"updateSettings"):void 0!==J.columns&&(u.createMap(),s.initIndexMappers());var yt=s.countCols(),It=C.columns;if(It&&Ss(It)&&(be=!0),(void 0!==J.cell||void 0!==J.cells||void 0!==J.columns)&&M.clearCache(),yt>0)for(ke=0,We=0;ke<yt;ke++){if(It){var Lt=be?It(ke):It[We];Lt&&M.updateColumnMeta(We,Lt)}We+=1}fr(J.cell)&&to(J.cell,function(_n){s.setCellMetaObject(_n.row,_n.col,_n)}),s.runHooks("afterCellMetaReset");var at=s.rootElement.style.height;""!==at&&(at=parseInt(s.rootElement.style.height,10));var Ot=J.height;if(Ss(Ot)&&(Ot=Ot()),ee){var ht=s.rootElement.getAttribute("style");ht&&s.rootElement.setAttribute("data-initialstyle",s.rootElement.getAttribute("style"))}if(null===Ot){var Tt=s.rootElement.getAttribute("data-initialstyle");Tt&&(Tt.indexOf("height")>-1||Tt.indexOf("overflow")>-1)?s.rootElement.setAttribute("style",Tt):(s.rootElement.style.height="",s.rootElement.style.overflow="")}else void 0!==Ot&&(s.rootElement.style.height=isNaN(Ot)?"".concat(Ot):"".concat(Ot,"px"),s.rootElement.style.overflow="hidden");if(void 0!==J.width){var Ft=J.width;Ss(Ft)&&(Ft=Ft()),s.rootElement.style.width=isNaN(Ft)?"".concat(Ft):"".concat(Ft,"px")}ee||(s.view&&(s.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),s.view._wt.exportSettingsAsClassNames()),s.runHooks("afterUpdateSettings",J)),f.adjustRowsAndCols(),s.view&&!g&&(s.forceFullRender=!0,p.lockEditor(),s._refreshBorders(null),s.view._wt.wtOverlays.adjustElementsSize(),p.unlockEditor()),!ee&&s.view&&(""===at||""===Ot||void 0===Ot)&&at!==Ot&&s.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var J=s.getSelectedLast();if(C.getValue){if(Ss(C.getValue))return C.getValue.call(s);if(J)return s.getData()[J[0][0]][C.getValue]}else if(J)return s.getDataAtCell(J[0],J[1])},this.getSettings=function(){return C},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(J,ee,he,be,ke){f.alter(J,ee,he,be,ke)},this.getCell=function(J,ee){var he=arguments.length>2&&void 0!==arguments[2]&&arguments[2],be=ee,ke=J;if(ee>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(ee)))return null;be=this.columnIndexMapper.getRenderableFromVisualIndex(ee)}if(J>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(J)))return null;ke=this.rowIndexMapper.getRenderableFromVisualIndex(J)}return null===ke||null===be?null:s.view.getCellAtCoords(s._createCellCoords(ke,be),he)},this.getCoords=function(J){var ee=this.view._wt.wtTable.getCoords(J);if(null===ee)return null;var he=ee.row,be=ee.col,ke=he,We=be;return he>=0&&(ke=this.rowIndexMapper.getVisualFromRenderableIndex(he)),be>=0&&(We=this.columnIndexMapper.getVisualFromRenderableIndex(be)),s._createCellCoords(ke,We)},this.colToProp=function(J){return u.colToProp(J)},this.propToCol=function(J){return u.propToCol(J)},this.toVisualRow=function(J){return r.rowIndexMapper.getVisualFromPhysicalIndex(J)},this.toVisualColumn=function(J){return r.columnIndexMapper.getVisualFromPhysicalIndex(J)},this.toPhysicalRow=function(J){return r.rowIndexMapper.getPhysicalFromVisualIndex(J)},this.toPhysicalColumn=function(J){return r.columnIndexMapper.getPhysicalFromVisualIndex(J)},this.getDataAtCell=function(J,ee){return u.get(J,u.colToProp(ee))},this.getDataAtRowProp=function(J,ee){return u.get(J,ee)},this.getDataAtCol=function(J){var ee;return(ee=[]).concat.apply(ee,Qv(u.getRange(s._createCellCoords(0,J),s._createCellCoords(C.data.length-1,J),u.DESTINATION_RENDERER)))},this.getDataAtProp=function(J){var ee,he=u.getRange(s._createCellCoords(0,u.propToCol(J)),s._createCellCoords(C.data.length-1,u.propToCol(J)),u.DESTINATION_RENDERER);return(ee=[]).concat.apply(ee,Qv(he))},this.getSourceData=function(J,ee,he,be){return void 0===J?c.getData():c.getByRange(s._createCellCoords(J,ee),s._createCellCoords(he,be))},this.getSourceDataArray=function(J,ee,he,be){return void 0===J?c.getData(!0):c.getByRange(s._createCellCoords(J,ee),s._createCellCoords(he,be),!0)},this.getSourceDataAtCol=function(J){return c.getAtColumn(J)},this.setSourceDataAtCell=function(J,ee,he,be){var ke=pt(J,ee,he),We=this.hasHook("afterSetSourceDataAtCell"),yt=[];We&&Qe(ke,function(Lt){var at=Qh(Lt,3),Ot=at[0],ht=at[1],Tt=at[2];yt.push([Ot,ht,c.getAtCell(Ot,ht),Tt])}),Qe(ke,function(Lt){var at=Qh(Lt,3);c.setAtCell(at[0],at[1],at[2])}),We&&this.runHooks("afterSetSourceDataAtCell",yt,be),this.render();var It=s.getActiveEditor();It&&fr(It.refreshValue)&&It.refreshValue()},this.getSourceDataAtRow=function(J){return c.getAtRow(J)},this.getSourceDataAtCell=function(J,ee){return c.getAtCell(J,ee)},this.getDataAtRow=function(J){return u.getRange(s._createCellCoords(J,0),s._createCellCoords(J,this.countCols()-1),u.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(J,ee,he,be){var ke=this,We=void 0===J?[0,0,this.countRows(),this.countCols()]:[J,ee,he,be],yt=We[0],It=We[1],Lt=We[2],at=We[3],Ot=null,ht=null;void 0===Lt&&(Lt=yt),void 0===at&&(at=It);var Tt="mixed";return Hr(Math.max(Math.min(yt,Lt),0),Math.max(yt,Lt),function(Ft){var _n=!0;return Hr(Math.max(Math.min(It,at),0),Math.max(It,at),function(fn){var qn=ke.getCellMeta(Ft,fn);return ht=qn.type,Ot?_n=Ot===ht:Ot=ht,_n}),Tt=_n?ht:"mixed",_n}),Tt},this.removeCellMeta=function(J,ee,he){var be=[this.toPhysicalRow(J),this.toPhysicalColumn(ee)],ke=be[0],We=be[1],yt=M.getCellMetaKeyValue(ke,We,he);!1!==s.runHooks("beforeRemoveCellMeta",J,ee,he,yt)&&(M.removeCellMeta(ke,We,he),s.runHooks("afterRemoveCellMeta",J,ee,he,yt)),yt=null},this.spliceCellsMeta=function(J){for(var ee=this,he=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,be=arguments.length,ke=new Array(be>2?be-2:0),We=2;We<be;We++)ke[We-2]=arguments[We];if(ke.length>0&&!Array.isArray(ke[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");he>0&&M.removeRow(this.toPhysicalRow(J),he),ke.length>0&&Qe(ke.reverse(),function(yt){M.createRow(ee.toPhysicalRow(J)),Qe(yt,function(It,Lt){return ee.setCellMetaObject(J,Lt,It)})}),s.render()},this.setCellMetaObject=function(J,ee,he){var be=this;"object"===yc(he)&&to(he,function(ke,We){be.setCellMeta(J,ee,We,ke)})},this.setCellMeta=function(J,ee,he,be){if(!1!==s.runHooks("beforeSetCellMeta",J,ee,he,be)){var We=J,yt=ee;J<this.countRows()&&(We=this.toPhysicalRow(J)),ee<this.countCols()&&(yt=this.toPhysicalColumn(ee)),M.setCellMeta(We,yt,he,be),s.runHooks("afterSetCellMeta",J,ee,he,be)}},this.getCellsMeta=function(){return M.getCellsMeta()},this.getCellMeta=function(J,ee){var he=this.toPhysicalRow(J),be=this.toPhysicalColumn(ee);return null===he&&(he=J),null===be&&(be=ee),M.getCellMeta(he,be,{visualRow:J,visualColumn:ee})},this.getCellMetaAtRow=function(J){return M.getCellsMetaAtRow(J)},this.isColumnModificationAllowed=function(){return!("object"===s.dataType||C.columns)};var Xe=vI("renderer");this.getCellRenderer=function(J,ee){return Oke(Xe.call(this,J,ee))},this.getCellEditor=vI("editor");var xt=vI("validator");this.getCellValidator=function(J,ee){var he=xt.call(this,J,ee);return"string"==typeof he&&(he=Ike(he)),he},this.validateCells=function(J){this._validateCells(J)},this.validateRows=function(J,ee){if(!Array.isArray(J))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(ee,J)},this.validateColumns=function(J,ee){if(!Array.isArray(J))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(ee,void 0,J)},this._validateCells=function(J,ee,he){var be=new fe;J&&(be.onQueueEmpty=J);for(var ke=s.countRows()-1;ke>=0;)if(void 0===ee||-1!==ee.indexOf(ke)){for(var We=s.countCols()-1;We>=0;)void 0===he||-1!==he.indexOf(We)?(be.addValidatorToQueue(),s.validateCell(s.getDataAtCell(ke,We),s.getCellMeta(ke,We),function(yt){if("boolean"!=typeof yt)throw new Error("Validation error: result is not boolean");!1===yt&&(be.valid=!1),be.removeValidatorFormQueue()},"validateCells"),We-=1):We-=1;ke-=1}else ke-=1;be.checkIfQueueIsEmpty()},this.getRowHeader=function(J){var ee=C.rowHeaders,he=J;return void 0!==he&&(he=s.runHooks("modifyRowHeader",he)),void 0===he?(ee=[],Hr(s.countRows()-1,function(be){ee.push(s.getRowHeader(be))})):Array.isArray(ee)&&void 0!==ee[he]?ee=ee[he]:Ss(ee)?ee=ee(he):ee&&"string"!=typeof ee&&"number"!=typeof ee&&(ee=he+1),ee},this.hasRowHeaders=function(){return!!C.rowHeaders},this.hasColHeaders=function(){if(null!=C.colHeaders)return!!C.colHeaders;for(var J=0,ee=s.countCols();J<ee;J++)if(s.getColHeader(J))return!0;return!1},this.getColHeader=function(J){var ee=s.runHooks("modifyColHeader",J),he=C.colHeaders;if(void 0===ee){for(var be=[],ke=s.countCols(),We=0;We<ke;We++)be.push(s.getColHeader(We));he=be}else{var It=s.toPhysicalColumn(ee),Lt=function(Ot){for(var ht=[],Tt=s.countCols(),Ft=0;Ft<Tt;Ft++)Ss(C.columns)&&C.columns(Ft)&&ht.push(Ft);return ht[Ot]}(It);!1===C.colHeaders?he=null:C.columns&&Ss(C.columns)&&C.columns(Lt)&&C.columns(Lt).title?he=C.columns(Lt).title:C.columns&&C.columns[It]&&C.columns[It].title?he=C.columns[It].title:Array.isArray(C.colHeaders)&&void 0!==C.colHeaders[It]?he=C.colHeaders[It]:Ss(C.colHeaders)?he=C.colHeaders(It):C.colHeaders&&"string"!=typeof C.colHeaders&&"number"!=typeof C.colHeaders&&(he=fU(ee))}return he},this._getColWidthFromSettings=function(J){var ee;if(J>=0&&(ee=s.getCellMeta(0,J).width),(void 0===ee||ee===C.width)&&(ee=C.colWidths),null!=ee){switch(yc(ee)){case"object":ee=ee[J];break;case"function":ee=ee(J)}"string"==typeof ee&&(ee=parseInt(ee,10))}return ee},this.getColWidth=function(J){var ee=s._getColWidthFromSettings(J);return void 0===(ee=s.runHooks("modifyColWidth",ee,J))&&(ee=rU.DEFAULT_WIDTH),ee},this._getRowHeightFromSettings=function(J){var ee=C.rowHeights;if(null!=ee){switch(yc(ee)){case"object":ee=ee[J];break;case"function":ee=ee(J)}"string"==typeof ee&&(ee=parseInt(ee,10))}return ee},this.getRowHeight=function(J){var ee=s._getRowHeightFromSettings(J);return s.runHooks("modifyRowHeight",ee,J)},this.countSourceRows=function(){return c.countRows()},this.countSourceCols=function(){return c.countFirstRowKeys()},this.countRows=function(){return u.getLength()},this.countCols=function(){var J=C.maxCols,ee=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(J,ee)},this.countRenderedRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(){var J=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ee=0;return nz(s.countRows()-1,function(he){if(s.isEmptyRow(he))ee+=1;else if(!0===J)return!1}),ee},this.countEmptyCols=function(){var J=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s.countRows()<1)return 0;var ee=0;return nz(s.countCols()-1,function(he){if(s.isEmptyCol(he))ee+=1;else if(!0===J)return!1}),ee},this.isEmptyRow=function(J){return C.isEmptyRow.call(s,J)},this.isEmptyCol=function(J){return C.isEmptyCol.call(s,J)},this.selectCell=function(J,ee,he,be){var ke=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],We=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return!Ns(J)&&!Ns(ee)&&this.selectCells([[J,ee,he,be]],ke,We)},this.selectCells=function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],ee=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],he=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1===ee&&(o=!0);var be=$.selectCells(J);return be&&he&&s.listen(),o=!1,be},this.selectColumns=function(J){var ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J;return $.selectColumns(J,ee)},this.selectRows=function(J){var ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J;return $.selectRows(J,ee)},this.deselectCell=function(){$.deselect()},this.selectAll=function(){var J=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],ee=J&&this.hasRowHeaders(),he=J&&this.hasColHeaders();o=!0,$.selectAll(ee,he),o=!1};var Le=function(ee,he){return ee.getNearestNotHiddenIndex(he,1,!0)};function Ze(J){return function(){throw new Error('The "'.concat(J,'" method cannot be called because this Handsontable instance has been destroyed'))}}this.scrollViewportTo=function(J,ee){var he=arguments.length>2&&void 0!==arguments[2]&&arguments[2],be=arguments.length>3&&void 0!==arguments[3]&&arguments[3],ke=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],We=!he,yt=!be,It=J,Lt=ee;if(ke){var at=Number.isInteger(J),Ot=Number.isInteger(ee),ht=at?Le(this.rowIndexMapper,J):void 0,Tt=Ot?Le(this.columnIndexMapper,ee):void 0;if(null===ht||null===Tt)return!1;It=at?s.rowIndexMapper.getRenderableFromVisualIndex(ht):void 0,Lt=Ot?s.columnIndexMapper.getRenderableFromVisualIndex(Tt):void 0}var Ft=Number.isInteger(It),_n=Number.isInteger(Lt);return Ft&&_n?s.view.scrollViewport(s._createCellCoords(It,Lt),We,be,he,yt):Ft&&!1===_n?s.view.scrollViewportVertically(It,We,he):!(!_n||!1!==Ft)&&s.view.scrollViewportHorizontally(Lt,be,yt)},this.destroy=function(){if(s._clearTimeouts(),s._clearImmediates(),s.view&&s.view.destroy(),c&&c.destroy(),c=null,this.getShortcutManager().destroy(),M.clearCache(),lU(s)){var J=this.rootDocument.querySelector("#hot-display-license-info");J&&J.parentNode.removeChild(J)}Zf(s.rootElement),a.destroy(),p&&p.destroy(),s.batchExecution(function(){s.rowIndexMapper.unregisterAll(),s.columnIndexMapper.unregisterAll(),B.getItems().forEach(function(ee){Qh(ee,2)[1].destroy()}),B.clear(),s.runHooks("afterDestroy")},!0),wr.getSingleton().destroy(s),to(s,function(ee,he,be){Ss(ee)?be[he]=Ze(he):"guid"!==he&&(be[he]=null)}),s.isDestroyed=!0,u&&u.destroy(),s.rowIndexMapper=null,s.columnIndexMapper=null,u=null,f=null,$=null,p=null,s=null},this.getActiveEditor=function(){return p.getActiveEditor()},this.getPlugin=function(J){var ee=Mm(J);return"UndoRedo"===ee?this.undoRedo:B.getItem(ee)},this.getPluginName=function(J){return J===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:B.getId(J)},this.getInstance=function(){return s},this.addHook=function(J,ee){wr.getSingleton().add(J,ee,s)},this.hasHook=function(J){return wr.getSingleton().has(J,s)||wr.getSingleton().has(J)},this.addHookOnce=function(J,ee){wr.getSingleton().once(J,ee,s)},this.removeHook=function(J,ee){wr.getSingleton().remove(J,ee,s)},this.runHooks=function(J,ee,he,be,ke,We,yt){return wr.getSingleton().run(s,J,ee,he,be,ke,We,yt)},this.getTranslatedPhrase=function(J,ee){return jne(C.language,J,ee)},this.toHTML=function(){return wee(r)},this.toTableElement=function(){var J=r.rootDocument.createElement("div");return J.insertAdjacentHTML("afterbegin",wee(r)),J.firstElementChild},this.timeouts=[],this._registerTimeout=function(J){var ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,he=J;"function"==typeof he&&(he=setTimeout(he,ee)),this.timeouts.push(he)},this._clearTimeouts=function(){Qe(this.timeouts,function(J){clearTimeout(J)})},this.immediates=[],this._registerImmediate=function(J){this.immediates.push(setImmediate(J))},this._clearImmediates=function(){Qe(this.immediates,function(J){clearImmediate(J)})},this._refreshBorders=function(){var J=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ee=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];p.destroyEditor(J),s.view.render(),ee&&$.isSelected()&&p.prepareEditor()},this.isRtl=function(){return"rtl"===s.rootWindow.getComputedStyle(s.rootElement).direction},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1};var it=hVe({handleEvent:function(ee){return s.isListening()&&void 0!==(null==ee?void 0:ee.key)},beforeKeyDown:function(ee){return r.runHooks("beforeKeyDown",ee)},afterKeyDown:function(ee){r.isDestroyed||s.runHooks("afterDocumentKeyDown",ee)},ownerWindow:this.rootWindow});this.getShortcutManager=function(){return it};var ot=it.addContext("grid"),Mt={runOnlyIf:function(){return fr(s.getSelected())&&s.countRenderedRows()>0&&s.countRenderedCols()>0},group:bVe};it.setActiveContextName("grid"),ot.addShortcuts([{keys:[["Control/Meta","A"]],callback:function(){s.selectAll()}},{keys:[["Control/Meta","Enter"]],callback:function(){for(var ee=s.getSelectedRange(),he=ee[ee.length-1].highlight,be=he.row,ke=he.col,We=s.getDataAtCell(be,ke),yt=new Map,It=0;It<ee.length;It++)ee[It].forAll(function(Lt,at){Lt>=0&&at>=0&&(Lt!==be||at!==ke)&&(s.getCellMeta(Lt,at).readOnly||yt.set("".concat(Lt,"x").concat(at),[Lt,at,We]))});s.setDataAtCell(Array.from(yt.values()))},runOnlyIf:function(){return s.getSelectedRangeLast().getCellsCount()>1}},{keys:[["ArrowUp"]],callback:function(){$.transformStart(-1,0)}},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:function(){$.setRangeStart(s._createCellCoords(s.rowIndexMapper.getNearestNotHiddenIndex(0,1),s.getSelectedRangeLast().highlight.col))}},{keys:[["ArrowUp","Shift"]],callback:function(){$.transformEnd(-1,0)}},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var ee=s.getSelectedRangeLast(),he=ee.from,be=ee.to,ke=s.rowIndexMapper.getNearestNotHiddenIndex(0,1);$.setRangeStart(he.clone()),$.setRangeEnd(s._createCellCoords(ke,be.col))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByColumnHeader())}},{keys:[["ArrowDown"]],callback:function(){$.transformStart(1,0)}},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:function(){$.setRangeStart(s._createCellCoords(s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-1,-1),s.getSelectedRangeLast().highlight.col))}},{keys:[["ArrowDown","Shift"]],callback:function(){$.transformEnd(1,0)}},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var ee=s.getSelectedRangeLast(),he=ee.from,be=ee.to,ke=s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-1,-1);$.setRangeStart(he.clone()),$.setRangeEnd(s._createCellCoords(ke,be.col))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByColumnHeader())}},{keys:[["ArrowLeft"]],callback:function(){$.transformStart(0,-1*s.getDirectionFactor())}},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:function(){var ee,he=s.getSelectedRangeLast().highlight.row,be=(ee=s.columnIndexMapper).getNearestNotHiddenIndex.apply(ee,Qv(s.isRtl()?[s.countCols()-1,-1]:[0,1]));$.setRangeStart(s._createCellCoords(he,be))}},{keys:[["ArrowLeft","Shift"]],callback:function(){$.transformEnd(0,-1*s.getDirectionFactor())}},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var ee,he=s.getSelectedRangeLast(),be=he.from,ke=he.to,We=(ee=s.columnIndexMapper).getNearestNotHiddenIndex.apply(ee,Qv(s.isRtl()?[s.countCols()-1,-1]:[0,1]));$.setRangeStart(be.clone()),$.setRangeEnd(s._createCellCoords(ke.row,We))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByRowHeader())}},{keys:[["ArrowRight"]],callback:function(){$.transformStart(0,s.getDirectionFactor())}},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:function(){var ee,he=s.getSelectedRangeLast().highlight.row,be=(ee=s.columnIndexMapper).getNearestNotHiddenIndex.apply(ee,Qv(s.isRtl()?[0,1]:[s.countCols()-1,-1]));$.setRangeStart(s._createCellCoords(he,be))}},{keys:[["ArrowRight","Shift"]],callback:function(){$.transformEnd(0,s.getDirectionFactor())}},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var ee,he=s.getSelectedRangeLast(),be=he.from,ke=he.to,We=(ee=s.columnIndexMapper).getNearestNotHiddenIndex.apply(ee,Qv(s.isRtl()?[0,1]:[s.countCols()-1,-1]));$.setRangeStart(be.clone()),$.setRangeEnd(s._createCellCoords(ke.row,We))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByRowHeader())}},{keys:[["Home"]],captureCtrl:!0,callback:function(){var ee=parseInt(s.getSettings().fixedColumnsStart,10),he=s.getSelectedRangeLast().highlight.row,be=s.columnIndexMapper.getNearestNotHiddenIndex(ee,1);$.setRangeStart(s._createCellCoords(he,be))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["Home","Shift"]],callback:function(){$.setRangeEnd(s._createCellCoords($.selectedRange.current().from.row,s.columnIndexMapper.getNearestNotHiddenIndex(0,1)))}},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:function(){var ee=parseInt(s.getSettings().fixedRowsTop,10),he=parseInt(s.getSettings().fixedColumnsStart,10),be=s.rowIndexMapper.getNearestNotHiddenIndex(ee,1),ke=s.columnIndexMapper.getNearestNotHiddenIndex(he,1);$.setRangeStart(s._createCellCoords(be,ke))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["End"]],captureCtrl:!0,callback:function(){$.setRangeStart(s._createCellCoords(s.getSelectedRangeLast().highlight.row,s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1)))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["End","Shift"]],callback:function(){$.setRangeEnd(s._createCellCoords($.selectedRange.current().from.row,s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1)))}},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:function(){var ee=parseInt(s.getSettings().fixedRowsBottom,10),he=s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-ee-1,-1),be=s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1);$.setRangeStart(s._createCellCoords(he,be))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["PageUp"]],callback:function(){$.transformStart(-s.countVisibleRows(),0)}},{keys:[["PageUp","Shift"]],callback:function(){var he=s.getSelectedRangeLast().to,be=Math.max(he.row-s.countVisibleRows(),0),ke=s.rowIndexMapper.getNearestNotHiddenIndex(be,1);if(null!==ke){var We=s._createCellCoords(ke,he.col),yt=he.row-s.view.getFirstFullyVisibleRow(),It=Math.max(We.row-yt,0);$.setRangeEnd(We),s.scrollViewportTo(It)}}},{keys:[["PageDown"]],callback:function(){$.transformStart(s.countVisibleRows(),0)}},{keys:[["PageDown","Shift"]],callback:function(){var he=s.getSelectedRangeLast().to,be=Math.min(he.row+s.countVisibleRows(),s.countRows()-1),ke=s.rowIndexMapper.getNearestNotHiddenIndex(be,-1);if(null!==ke){var We=s._createCellCoords(ke,he.col),yt=he.row-s.view.getFirstFullyVisibleRow(),It=Math.min(We.row-yt,s.countRows()-1);$.setRangeEnd(We),s.scrollViewportTo(It)}}},{keys:[["Tab"]],callback:function(ee){var he="function"==typeof C.tabMoves?C.tabMoves(ee):C.tabMoves;$.transformStart(he.row,he.col,!0)}},{keys:[["Shift","Tab"]],callback:function(ee){var he="function"==typeof C.tabMoves?C.tabMoves(ee):C.tabMoves;$.transformStart(-he.row,-he.col)}}],Mt),kee().forEach(function(J){var ee=cz(J);B.addItem(J,new ee(r))}),wr.getSingleton().run(s,"construct")}var Yre={_hooksStorage:Object.create(null),addHook:function(e,t){return this._hooksStorage[e]||(this._hooksStorage[e]=[]),this.hot.addHook(e,t),this._hooksStorage[e].push(t),this},removeHooksByKey:function(e){var t=this;Qe(this._hooksStorage[e]||[],function(r){t.hot.removeHook(e,r)})},clearHooks:function(){var e=this;to(this._hooksStorage,function(t,r){return e.removeHooksByKey(r)}),this._hooksStorage={}}};wm(Yre,"MIXIN_NAME","hooksRefRegisterer",{writable:!1,enumerable:!1});const MVe=Yre;function R4(n){return(R4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Gre(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function D4(n,e){return(D4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function AVe(n,e){if(e&&("object"===R4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function OVe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function WI(n){return(WI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function $re(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Kre(n,e,t){return e&&Xre(n.prototype,e),t&&Xre(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var _l=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),A4="baseEditor",YS=function(){function n(e){$re(this,n),this.hot=e,this.instance=e,this.state=_l.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.TD=null,this.row=null,this.col=null,this.prop=null,this.originalValue=null,this.cellProperties=null,this.init()}return Kre(n,[{key:"_fireCallbacks",value:function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)}},{key:"init",value:function(){}},{key:"getValue",value:function(){throw Error("Editor getValue() method unimplemented")}},{key:"setValue",value:function(){throw Error("Editor setValue() method unimplemented")}},{key:"open",value:function(){throw Error("Editor open() method unimplemented")}},{key:"close",value:function(){throw Error("Editor close() method unimplemented")}},{key:"prepare",value:function(t,r,i,o,s,a){this.TD=o,this.row=t,this.col=r,this.prop=i,this.originalValue=s,this.cellProperties=a,this.state=_l.VIRGIN}},{key:"extend",value:function(){return function(t){!function RVe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&D4(n,e)}(i,t);var r=function DVe(n){var e=function kVe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=WI(n);if(e){var o=WI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return AVe(this,i)}}(i);function i(){return $re(this,i),r.apply(this,arguments)}return Kre(i)}(this.constructor)}},{key:"saveValue",value:function(t,r){var o,s,a,u,i=this;if(r){var c=this.hot.getSelectedLast();o=Math.max(Math.min(c[0],c[2]),0),s=Math.max(Math.min(c[1],c[3]),0),a=Math.max(c[0],c[2]),u=Math.max(c[1],c[3])}else{var f=[this.row,this.col,null,null];o=f[0],s=f[1],a=f[2],u=f[3]}var p=this.hot.runHooks("modifyGetCellCoords",o,s);if(Array.isArray(p)){var g=function SVe(n,e){return function TVe(n){if(Array.isArray(n))return n}(n)||function EVe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function CVe(n,e){if(n){if("string"==typeof n)return Gre(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gre(n,e)}}(n,e)||function xVe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p,2);o=g[0],s=g[1]}var w=this.hot.getShortcutManager().getContext("editor"),M={runOnlyIf:function(){return fr(i.hot.getSelected())},group:A4};this.isInFullEditMode()&&w.addShortcuts([{keys:[["ArrowUp"]],callback:function(){i.hot.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:function(){i.hot.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:function(){i.hot.selection.transformStart(0,-1*i.hot.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:function(){i.hot.selection.transformStart(0,i.hot.getDirectionFactor())}}],M),this.hot.populateFromArray(o,s,t,a,u,"edit")}},{key:"beginEditing",value:function(t,r){if(this.state===_l.VIRGIN){var i=this.hot,o=i.rowIndexMapper.getRenderableFromVisualIndex(this.row),s=i.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(i.view.scrollViewport(i._createCellCoords(o,s)),this.state=_l.EDITING,this.isInFullEditMode()){var a="string"==typeof t?t:_a(this.originalValue);this.setValue(a)}this.open(r),this._opened=!0,this.focus(),i.view.render(),i.runHooks("afterBeginEditing",this.row,this.col)}}},{key:"finishEditing",value:function(t,r,i){var s,o=this;if(i){var a=this._closeCallback;this._closeCallback=function(p){a&&a(p),i(p),o.hot.view.render()}}if(!this.isWaiting()){var c=this.hot.getShortcutManager().getContext("editor");if(c.removeShortcutsByGroup(A4),c.removeShortcutsByGroup(FL),this.state===_l.VIRGIN)return void this.hot._registerTimeout(function(){o._fireCallbacks(!0)});if(this.state===_l.EDITING){if(t)return this.cancelChanges(),void this.hot.view.render();var f=this.getValue();s=this.cellProperties.trimWhitespace?[["string"==typeof f?String.prototype.trim.call(f||""):f]]:[[f]],this.state=_l.WAITING,this.saveValue(s,r),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",function(p){o.state=_l.FINISHED,o.discardEditor(p)}):(this.state=_l.FINISHED,this.discardEditor(!0))}}}},{key:"cancelChanges",value:function(){this.state=_l.FINISHED,this.discardEditor()}},{key:"discardEditor",value:function(t){this.state===_l.FINISHED&&(!1===t&&!0!==this.cellProperties.allowInvalid?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=_l.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=_l.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}},{key:"enableFullEditMode",value:function(){this._fullEditMode=!0}},{key:"isInFullEditMode",value:function(){return this._fullEditMode}},{key:"isOpened",value:function(){return this._opened}},{key:"isWaiting",value:function(){return this.state===_l.WAITING}},{key:"getEditedCellRect",value:function(){var t,r=this.getEditedCell();if(r){var i=this.hot.view._wt,o=i.wtOverlays,s=i.wtViewport,a=this.hot.rootWindow,u=Ba(r),c=us(r),f=Ba(this.hot.rootElement),p=us(this.hot.rootElement),g=o.topOverlay.holder,y=o.inlineStartOverlay.holder,w=g!==a?g.scrollTop:0,M=y!==a?y.scrollLeft:0,C=a.innerWidth-f.left-p,B=(null!==(t=o.getParentOverlay(r))&&void 0!==t?t:this.hot.view._wt).wtTable,U=B.name,j=["master","inline_start"].includes(U)?w:0,$=["master","top","bottom"].includes(U)?M:0,ge=u.top-f.top-(u.top===f.top?0:1)-j,re=0;re=this.hot.isRtl()?a.innerWidth-u.left-c-C-1+$:u.left-f.left-1-$,["top","top_inline_start_corner"].includes(U)&&(ge+=o.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(U)&&(re+=Math.abs(o.inlineStartOverlay.getOverlayOffset()));var fe=this.hot.hasColHeaders(),we=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),Ae=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),pt=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(fe&&we<=0||we===pt)&&(ge+=1),Ae<=0&&(re+=1);var Xe=s.rowsRenderCalculator.startPosition,xt=s.columnsRenderCalculator.startPosition,Le=Math.abs(o.inlineStartOverlay.getScrollPosition()),Ze=o.topOverlay.getScrollPosition(),it=yl(this.hot.rootDocument),ot=r.offsetTop+Xe-Ze,Mt=0;if(this.hot.isRtl()){var J=r.offsetLeft;Mt=J>=0?B.getWidth()-r.offsetLeft:Math.abs(J),Mt+=xt-Le-c}else Mt=r.offsetLeft+xt-Le;var ee=Eb(this.TD,this.hot.rootWindow),he=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",be=parseInt(ee[he],10)>0?0:1,ke=parseInt(ee.borderTopWidth,10)>0?0:1,We=us(r)+be,yt=Qs(r)+ke,It=function XAe(n){return n.offsetWidth!==n.clientWidth}(g)?it:0,Lt=function KAe(n){return n.offsetHeight!==n.clientHeight}(y)?it:0,at=this.hot.view.maximumVisibleElementWidth(Mt)-It+be;return{top:ge,start:re,height:yt,maxHeight:Math.max(this.hot.view.maximumVisibleElementHeight(ot)-Lt+ke,23),width:We,maxWidth:at}}}},{key:"getEditedCellsLayerClass",value:function(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}},{key:"getEditedCell",value:function(){return this.hot.getCell(this.row,this.col,!0)}},{key:"checkEditorSection",value:function(){var t=this.hot.countRows(),r="";return this.row<this.hot.getSettings().fixedRowsTop?r=this.col<this.hot.getSettings().fixedColumnsStart?"top-inline-start-corner":"top":this.hot.getSettings().fixedRowsBottom&&this.row>=t-this.hot.getSettings().fixedRowsBottom?r=this.col<this.hot.getSettings().fixedColumnsStart?"bottom-inline-start-corner":"bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(r="inline-start"),r}}],[{key:"EDITOR_TYPE",get:function(){return"base"}}]),n}();function IVe(){var e,n={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},t=document.body,r=document.createTextNode(""),i=document.createElement("SPAN"),o=function(y,w,M){y.addEventListener(w,M,!1)},s=function(y,w,M){y.removeEventListener(w,M,!1)},a=function(y){var w,M;y?/^[a-zA-Z \.,\\\/\|0-9]$/.test(y)||(y="."):y="",void 0!==r.textContent?r.textContent=e.value+y:r.data=e.value+y,i.style.fontSize=p(e).fontSize,i.style.fontFamily=p(e).fontFamily,i.style.whiteSpace="pre",t.appendChild(i),w=i.clientWidth+2,t.removeChild(i),e.style.height=n.minHeight+"px",e.style.width=n.minWidth>w?n.minWidth+"px":w>n.maxWidth?n.maxWidth+"px":w+"px",n.minHeight>(M=e.scrollHeight?e.scrollHeight-1:0)?e.style.height=n.minHeight+"px":n.maxHeight<M?(e.style.height=n.maxHeight+"px",e.style.overflowY="visible"):e.style.height=M+"px"},u=function(){window.setTimeout(a,0)};function p(g){return g.currentStyle||document.defaultView.getComputedStyle(g)}return{init:function(y,w,M){!function(y,w,M){e=y,function(y){if(y&&y.minHeight)if("inherit"==y.minHeight)n.minHeight=e.clientHeight;else{var w=parseInt(y.minHeight);isNaN(w)||(n.minHeight=w)}if(y&&y.maxHeight)if("inherit"==y.maxHeight)n.maxHeight=e.clientHeight;else{var M=parseInt(y.maxHeight);isNaN(M)||(n.maxHeight=M)}if(y&&y.minWidth)if("inherit"==y.minWidth)n.minWidth=e.clientWidth;else{var C=parseInt(y.minWidth);isNaN(C)||(n.minWidth=C)}if(y&&y.maxWidth)if("inherit"==y.maxWidth)n.maxWidth=e.clientWidth;else{var I=parseInt(y.maxWidth);isNaN(I)||(n.maxWidth=I)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))}(w),"TEXTAREA"==e.nodeName&&(e.style.resize="none",e.style.overflowY="",e.style.height=n.minHeight+"px",e.style.minWidth=n.minWidth+"px",e.style.maxWidth=n.maxWidth+"px",e.style.overflowY="hidden"),M&&(o(e,"change",a),o(e,"cut",u),o(e,"paste",u),o(e,"drop",u),o(e,"keydown",u),o(e,"focus",a),o(e,"compositionstart",u),o(e,"compositionupdate",u),o(e,"compositionend",u)),a()}(y,w,M)},unObserve:function(){s(e,"change",a),s(e,"cut",u),s(e,"paste",u),s(e,"drop",u),s(e,"keydown",u),s(e,"focus",a),s(e,"compositionstart",u),s(e,"compositionupdate",u),s(e,"compositionend",u)},resize:a}}function Zre(n,e){for(var t=GQ(e),r=e.value.split("\n"),i=t,o=0,s=0;s<r.length;s++){0!==s&&(o+=r[s-1].length+1);var u=o+r[s].length;if("home"===n?i=o:"end"===n&&(i=u),t<=u)break}kL(e,i)}function O4(n){return(O4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qre(n,e){return function HVe(n){if(Array.isArray(n))return n}(n)||function FVe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function NVe(n,e){if(n){if("string"==typeof n)return Jre(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jre(n,e)}}(n,e)||function PVe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jre(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Qre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function x1(){return x1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=zVe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},x1.apply(this,arguments)}function zVe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Fb(n)););return n}function k4(n,e){return(k4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function WVe(n,e){if(e&&("object"===O4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return eie(n)}function eie(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Fb(n){return(Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}vs(YS,MVe);var YI="ht_editor_hidden",tie="textEditor",Hb=function(n){!function UVe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&k4(n,e)}(t,n);var e=function jVe(n){var e=function YVe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Fb(n);if(e){var o=Fb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return WVe(this,i)}}(t);function t(r){var i;return function BVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(eie(i)),i.autoResize=IVe(),i.TEXTAREA=void 0,i.textareaStyle=void 0,i.TEXTAREA_PARENT=void 0,i.textareaParentStyle=void 0,i.layerClass=void 0,i.createElements(),i.bindEvents(),i.hot.addHookOnce("afterDestroy",function(){return i.destroy()}),i}return function VVe(n,e,t){e&&Qre(n.prototype,e),t&&Qre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValue",value:function(){return this.TEXTAREA.value}},{key:"setValue",value:function(i){this.TEXTAREA.value=i}},{key:"open",value:function(){var i=this;this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.addHook("afterDocumentKeyDown",function(s){return i.onAfterDocumentKeyDown(s)}),this.registerShortcuts()}},{key:"close",value:function(){this.autoResize.unObserve(),this.hot.rootDocument.activeElement===this.TEXTAREA&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts(),this.removeHooksByKey("afterDocumentKeyDown")}},{key:"prepare",value:function(i,o,s,a,u,c){var f=this.state;if(x1(Fb(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),!c.readOnly){this.refreshDimensions(!0);var g=c.fragmentSelection;c.allowInvalid&&(this.TEXTAREA.value=""),f!==_l.FINISHED&&this.hideEditableElement(),!g&&!$h()&&this.focus()}}},{key:"beginEditing",value:function(i,o){this.state===_l.VIRGIN&&(this.TEXTAREA.value="",x1(Fb(t.prototype),"beginEditing",this).call(this,i,o))}},{key:"focus",value:function(){this.TEXTAREA.select(),kL(this.TEXTAREA,this.TEXTAREA.value.length)}},{key:"createElements",value:function(){var i=this.hot.rootDocument;this.TEXTAREA=i.createElement("TEXTAREA"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.tabIndex=-1,Cn(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=i.createElement("DIV"),Cn(this.TEXTAREA_PARENT,"handsontableInputHolder"),_i(this.TEXTAREA_PARENT,this.layerClass)&&Ii(this.TEXTAREA_PARENT,this.layerClass),Cn(this.TEXTAREA_PARENT,YI),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}},{key:"hideEditableElement",value:function(){(function IAe(){return Qc.ie.value}()||function LAe(){return Qc.edge.value}())&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",Ii(this.TEXTAREA_PARENT,this.layerClass),Cn(this.TEXTAREA_PARENT,YI)}},{key:"showEditableElement",value:function(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="",this.textareaStyle.overflowY="hidden";var i=this.TEXTAREA_PARENT.childNodes,o=!1;Hr(i.length-1,function(s){if(_i(i[s],"handsontableEditor"))return o=!0,!1}),_i(this.TEXTAREA_PARENT,YI)&&Ii(this.TEXTAREA_PARENT,YI),o?(this.layerClass="ht_editor_visible",Cn(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),Cn(this.TEXTAREA_PARENT,this.layerClass))}},{key:"refreshValue",value:function(){var i=this.hot.toPhysicalRow(this.row),o=this.hot.getSourceDataAtCell(i,this.col);this.originalValue=o,this.setValue(o),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state===_l.EDITING||i){if(this.TD=this.getEditedCell(),!this.TD)return void(i||this.close());var o=this.getEditedCellRect(),s=o.top,a=o.start,u=o.width,c=o.maxWidth,f=o.height,p=o.maxHeight;this.textareaParentStyle.top="".concat(s,"px"),this.textareaParentStyle[this.hot.isRtl()?"right":"left"]="".concat(a,"px"),this.showEditableElement();var g=Eb(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=g.fontSize,this.TEXTAREA.style.fontFamily=g.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;var y=Eb(this.TEXTAREA),w=parseInt(y.paddingLeft,10)+parseInt(y.paddingRight,10),M=parseInt(y.paddingTop,10)+parseInt(y.paddingBottom,10),C=u-w,I=f-M,B=c-w,U=p-M;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(C,B),minHeight:Math.min(I,U),maxWidth:B,maxHeight:U},!0)}}},{key:"bindEvents",value:function(){var i=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(o){return o.stopPropagation()}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(o){return o.stopPropagation()}),PQ()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",function(){return i.finishEditing(!1)}),this.addHook("afterScrollHorizontally",function(){return i.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return i.refreshDimensions()}),this.addHook("afterColumnResize",function(){i.refreshDimensions(),i.focus()}),this.addHook("afterRowResize",function(){i.refreshDimensions(),i.focus()})}},{key:"allowKeyEventPropagation",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.clearHooks()}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor"),u=function(){i.hot.rootDocument.execCommand("insertText",!1,"\n")};s.addShortcuts([{keys:[["Tab"]],callback:function(f){var p=i.hot.getSettings(),g="function"==typeof p.tabMoves?p.tabMoves(f):p.tabMoves;i.hot.selection.transformStart(g.row,g.col,!0)}},{keys:[["Shift","Tab"]],callback:function(f){var p=i.hot.getSettings(),g="function"==typeof p.tabMoves?p.tabMoves(f):p.tabMoves;i.hot.selection.transformStart(-g.row,-g.col)}},{keys:[["Control","Enter"]],callback:function(){return u(),!1},runOnlyIf:function(f){return!i.hot.selection.isMultiple()&&!f.altKey},relativeToGroup:r1,position:"before"},{keys:[["Meta","Enter"]],callback:function(){return u(),!1},runOnlyIf:function(){return!i.hot.selection.isMultiple()},relativeToGroup:r1,position:"before"},{keys:[["Alt","Enter"]],callback:function(){return u(),!1},relativeToGroup:r1,position:"before"},{keys:[["PageUp"]],callback:function(){i.hot.selection.transformStart(-i.hot.countVisibleRows(),0)}},{keys:[["PageDown"]],callback:function(){i.hot.selection.transformStart(i.hot.countVisibleRows(),0)}},{keys:[["Home"]],callback:function(f,p){Zre(qre(p,1)[0],i.TEXTAREA)}},{keys:[["End"]],callback:function(f,p){Zre(qre(p,1)[0],i.TEXTAREA)}},{keys:[["Control/Meta","Z"]],preventDefault:!1,callback:function(){i.hot._registerTimeout(function(){i.autoResize.resize()},10)}},{keys:[["Control/Meta","Shift","Z"]],preventDefault:!1,callback:function(){i.hot._registerTimeout(function(){i.autoResize.resize()},10)}}],{runOnlyIf:function(){return fr(i.hot.getSelected())},group:tie})}},{key:"unregisterShortcuts",value:function(){var o=this.hot.getShortcutManager().getContext("editor");o.removeShortcutsByGroup(FL),o.removeShortcutsByGroup(tie),o.removeShortcutsByGroup(A4)}},{key:"onAfterDocumentKeyDown",value:function(i){-1===[Rr.ARROW_UP,Rr.ARROW_RIGHT,Rr.ARROW_DOWN,Rr.ARROW_LEFT].indexOf(i.keyCode)&&this.autoResize.resize(String.fromCharCode(i.keyCode))}}],[{key:"EDITOR_TYPE",get:function(){return"text"}}]),t}(YS);function C1(n,e,t,r,i,o,s){var a=[],u=[];s.className&&Cn(e,s.className),s.readOnly&&a.push(s.readOnlyCellClassName),!1===s.valid&&s.invalidCellClassName?a.push(s.invalidCellClassName):u.push(s.invalidCellClassName),!1===s.wordWrap&&s.noWordWrapClassName&&a.push(s.noWordWrapClassName),!o&&s.placeholder&&a.push(s.placeholderCellClassName),Ii(e,u),Cn(e,a)}function ey(n,e,t,r,i,o,s){C1.apply(this,[n,e,t,r,i,o,s]);var a=o;if(!a&&s.placeholder&&(a=s.placeholder),a=_a(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){Zf(e);var u=n.rootDocument.createElement("TEMPLATE");u.setAttribute("bind","{{}}"),u.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(u),u.model=n.getSourceDataAtRow(t),e.appendChild(u)}else Cb(e,a)}C1.RENDERER_TYPE="base",ey.RENDERER_TYPE="text";var nie={CELL_TYPE:"text",editor:Hb,renderer:ey};function Cm(n,e){var t=new T4(n,e||{},aU);return t.init(),t}Jh(nie),Cm.editors={BaseEditor:YS},Cm.Core=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new T4(n,e,aU)},Cm.DefaultSettings=Sre(),Cm.hooks=wr.getSingleton(),Cm.packageName="handsontable",Cm.buildDate="22/09/2022 09:54:36",Cm.version="12.1.3",Cm.languages={dictionaryKeys:S,getLanguageDictionary:Une,getLanguagesDictionaries:function wHe(){return _He()},registerLanguageDictionary:zne,getTranslatedPhrase:jne};const L4=Cm,qVe=["container"],I4=new Map,rie="The Handsontable instance bound to this component was destroyed and cannot be used properly.";let P4=(()=>{class n{getInstance(t){const r=I4.get(t);return r.isDestroyed?(console.warn(rie),null):r}registerInstance(t,r){return I4.set(t,r)}removeInstance(t){return I4.delete(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();const JVe=Object.keys(L4.DefaultSettings),iie=L4.hooks.getRegistered();let oie=(()=>{class n{mergeSettings(t){const r="object"==typeof t.settings,i=r?t.settings:{};return iie.concat(JVe).forEach(s=>{const a=iie.indexOf(s)>-1;let u;r&&a&&(u=t.settings[s]),void 0!==t[s]&&(u=t[s]),void 0!==u&&(i[s]="function"==typeof u&&a?function(...c){return t._ngZone.run(()=>u.apply(this,c))}:u)}),i}prepareChanges(t){const r={};return Object.keys(t).forEach(o=>{t.hasOwnProperty(o)&&(r[o]=t[o].currentValue)}),r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})(),ty=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._hotTableRegisterer=r,this._hotSettingsResolver=i,this.__hotInstance=null,this.columnsComponents=[],this.hotId=""}get hotInstance(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(this._hotTableRegisterer.removeInstance(this.hotId),console.warn(rie),null)}set hotInstance(t){this.__hotInstance=t}ngAfterViewInit(){const t=this._hotSettingsResolver.mergeSettings(this);if(this.columnsComponents.length>0){const r=[];this.columnsComponents.forEach(i=>{r.push(this._hotSettingsResolver.mergeSettings(i))}),t.columns=r}this._ngZone.runOutsideAngular(()=>{this.hotInstance=new L4.Core(this.container.nativeElement,t),this.hotId&&this._hotTableRegisterer.registerInstance(this.hotId,this.hotInstance),this.hotInstance.init()})}ngOnChanges(t){if(null===this.hotInstance)return;const r=this._hotSettingsResolver.prepareChanges(t);this.updateHotTable(r)}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{this.hotInstance&&this.hotInstance.destroy()}),this.hotId&&this._hotTableRegisterer.removeInstance(this.hotId)}updateHotTable(t){!this.hotInstance||this._ngZone.runOutsideAngular(()=>{this.hotInstance.updateSettings(t,!1)})}onAfterColumnsChange(){if(void 0!==this.columnsComponents&&this.columnsComponents.length>0){const t=[];this.columnsComponents.forEach(i=>{t.push(this._hotSettingsResolver.mergeSettings(i))}),this.updateHotTable({columns:t})}}onAfterColumnsNumberChange(){const t=[];this.columnsComponents.length>0&&this.columnsComponents.forEach(r=>{t.push(this._hotSettingsResolver.mergeSettings(r))}),this.updateHotTable({columns:t})}addColumn(t){this.columnsComponents.push(t),this.onAfterColumnsNumberChange()}removeColumn(t){const r=this.columnsComponents.indexOf(t);this.columnsComponents.splice(r,1),this.onAfterColumnsNumberChange()}}return n.\u0275fac=function(t){return new(t||n)(De(xi),De(P4),De(oie))},n.\u0275cmp=li({type:n,selectors:[["hot-table"]],viewQuery:function(t,r){if(1&t&&Eu(qVe,5),2&t){let i;_o(i=bo())&&(r.container=i.first)}},inputs:{hotId:"hotId",settings:"settings",activeHeaderClassName:"activeHeaderClassName",allowEmpty:"allowEmpty",allowHtml:"allowHtml",allowInsertColumn:"allowInsertColumn",allowInsertRow:"allowInsertRow",allowInvalid:"allowInvalid",allowRemoveColumn:"allowRemoveColumn",allowRemoveRow:"allowRemoveRow",autoColumnSize:"autoColumnSize",autoRowSize:"autoRowSize",autoWrapCol:"autoWrapCol",autoWrapRow:"autoWrapRow",bindRowsWithHeaders:"bindRowsWithHeaders",cell:"cell",cells:"cells",checkedTemplate:"checkedTemplate",className:"className",colHeaders:"colHeaders",collapsibleColumns:"collapsibleColumns",columnHeaderHeight:"columnHeaderHeight",columns:"columns",columnSorting:"columnSorting",columnSummary:"columnSummary",colWidths:"colWidths",commentedCellClassName:"commentedCellClassName",comments:"comments",contextMenu:"contextMenu",copyable:"copyable",copyPaste:"copyPaste",correctFormat:"correctFormat",currentColClassName:"currentColClassName",currentHeaderClassName:"currentHeaderClassName",currentRowClassName:"currentRowClassName",customBorders:"customBorders",data:"data",dataSchema:"dataSchema",dateFormat:"dateFormat",defaultDate:"defaultDate",disableVisualSelection:"disableVisualSelection",dragToScroll:"dragToScroll",dropdownMenu:"dropdownMenu",editor:"editor",enterBeginsEditing:"enterBeginsEditing",enterMoves:"enterMoves",fillHandle:"fillHandle",filter:"filter",filteringCaseSensitive:"filteringCaseSensitive",filters:"filters",fixedColumnsLeft:"fixedColumnsLeft",fixedColumnsStart:"fixedColumnsStart",fixedRowsBottom:"fixedRowsBottom",fixedRowsTop:"fixedRowsTop",formulas:"formulas",fragmentSelection:"fragmentSelection",height:"height",hiddenColumns:"hiddenColumns",hiddenRows:"hiddenRows",invalidCellClassName:"invalidCellClassName",label:"label",language:"language",layoutDirection:"layoutDirection",licenseKey:"licenseKey",manualColumnFreeze:"manualColumnFreeze",manualColumnMove:"manualColumnMove",manualColumnResize:"manualColumnResize",manualRowMove:"manualRowMove",manualRowResize:"manualRowResize",maxCols:"maxCols",maxRows:"maxRows",mergeCells:"mergeCells",minCols:"minCols",minRows:"minRows",minSpareCols:"minSpareCols",minSpareRows:"minSpareRows",multiColumnSorting:"multiColumnSorting",nestedHeaders:"nestedHeaders",nestedRows:"nestedRows",noWordWrapClassName:"noWordWrapClassName",numericFormat:"numericFormat",observeDOMVisibility:"observeDOMVisibility",outsideClickDeselects:"outsideClickDeselects",persistentState:"persistentState",placeholder:"placeholder",placeholderCellClassName:"placeholderCellClassName",preventOverflow:"preventOverflow",preventWheel:"preventWheel",readOnly:"readOnly",readOnlyCellClassName:"readOnlyCellClassName",renderAllRows:"renderAllRows",renderer:"renderer",rowHeaders:"rowHeaders",rowHeaderWidth:"rowHeaderWidth",rowHeights:"rowHeights",search:"search",selectionMode:"selectionMode",selectOptions:"selectOptions",skipColumnOnPaste:"skipColumnOnPaste",skipRowOnPaste:"skipRowOnPaste",sortByRelevance:"sortByRelevance",source:"source",startCols:"startCols",startRows:"startRows",stretchH:"stretchH",strict:"strict",tableClassName:"tableClassName",tabMoves:"tabMoves",title:"title",trimDropdown:"trimDropdown",trimRows:"trimRows",trimWhitespace:"trimWhitespace",type:"type",uncheckedTemplate:"uncheckedTemplate",undo:"undo",validator:"validator",viewportColumnRenderingOffset:"viewportColumnRenderingOffset",viewportRowRenderingOffset:"viewportRowRenderingOffset",visibleRows:"visibleRows",width:"width",wordWrap:"wordWrap",afterAddChild:"afterAddChild",afterAutofill:"afterAutofill",afterBeginEditing:"afterBeginEditing",afterCellMetaReset:"afterCellMetaReset",afterChange:"afterChange",afterChangesObserved:"afterChangesObserved",afterColumnCollapse:"afterColumnCollapse",afterColumnExpand:"afterColumnExpand",afterColumnMove:"afterColumnMove",afterColumnResize:"afterColumnResize",afterColumnSort:"afterColumnSort",afterContextMenuDefaultOptions:"afterContextMenuDefaultOptions",afterContextMenuHide:"afterContextMenuHide",afterContextMenuShow:"afterContextMenuShow",afterCopy:"afterCopy",afterCopyLimit:"afterCopyLimit",afterCreateCol:"afterCreateCol",afterCreateRow:"afterCreateRow",afterCut:"afterCut",afterDeselect:"afterDeselect",afterDestroy:"afterDestroy",afterDetachChild:"afterDetachChild",afterDocumentKeyDown:"afterDocumentKeyDown",afterDrawSelection:"afterDrawSelection",afterDropdownMenuDefaultOptions:"afterDropdownMenuDefaultOptions",afterDropdownMenuHide:"afterDropdownMenuHide",afterDropdownMenuShow:"afterDropdownMenuShow",afterFilter:"afterFilter",afterGetCellMeta:"afterGetCellMeta",afterGetColHeader:"afterGetColHeader",afterGetColumnHeaderRenderers:"afterGetColumnHeaderRenderers",afterGetRowHeader:"afterGetRowHeader",afterGetRowHeaderRenderers:"afterGetRowHeaderRenderers",afterHideColumns:"afterHideColumns",afterHideRows:"afterHideRows",afterInit:"afterInit",afterLanguageChange:"afterLanguageChange",afterListen:"afterListen",afterLoadData:"afterLoadData",afterMergeCells:"afterMergeCells",afterModifyTransformEnd:"afterModifyTransformEnd",afterModifyTransformStart:"afterModifyTransformStart",afterMomentumScroll:"afterMomentumScroll",afterOnCellContextMenu:"afterOnCellContextMenu",afterOnCellCornerDblClick:"afterOnCellCornerDblClick",afterOnCellCornerMouseDown:"afterOnCellCornerMouseDown",afterOnCellMouseDown:"afterOnCellMouseDown",afterOnCellMouseOut:"afterOnCellMouseOut",afterOnCellMouseOver:"afterOnCellMouseOver",afterOnCellMouseUp:"afterOnCellMouseUp",afterPaste:"afterPaste",afterPluginsInitialized:"afterPluginsInitialized",afterRedo:"afterRedo",afterRedoStackChange:"afterRedoStackChange",afterRefreshDimensions:"afterRefreshDimensions",afterRemoveCellMeta:"afterRemoveCellMeta",afterRemoveCol:"afterRemoveCol",afterRemoveRow:"afterRemoveRow",afterRender:"afterRender",afterRenderer:"afterRenderer",afterRowMove:"afterRowMove",afterRowResize:"afterRowResize",afterScrollHorizontally:"afterScrollHorizontally",afterScrollVertically:"afterScrollVertically",afterSelection:"afterSelection",afterSelectionByProp:"afterSelectionByProp",afterSelectionEnd:"afterSelectionEnd",afterSelectionEndByProp:"afterSelectionEndByProp",afterSetCellMeta:"afterSetCellMeta",afterSetDataAtCell:"afterSetDataAtCell",afterSetDataAtRowProp:"afterSetDataAtRowProp",afterSetSourceDataAtCell:"afterSetSourceDataAtCell",afterTrimRow:"afterTrimRow",afterUndo:"afterUndo",afterUndoStackChange:"afterUndoStackChange",afterUnhideColumns:"afterUnhideColumns",afterUnhideRows:"afterUnhideRows",afterUnlisten:"afterUnlisten",afterUnmergeCells:"afterUnmergeCells",afterUntrimRow:"afterUntrimRow",afterUpdateSettings:"afterUpdateSettings",afterValidate:"afterValidate",afterViewportColumnCalculatorOverride:"afterViewportColumnCalculatorOverride",afterViewportRowCalculatorOverride:"afterViewportRowCalculatorOverride",afterViewRender:"afterViewRender",beforeAddChild:"beforeAddChild",beforeAutofill:"beforeAutofill",beforeAutofillInsidePopulate:"beforeAutofillInsidePopulate",beforeCellAlignment:"beforeCellAlignment",beforeChange:"beforeChange",beforeChangeRender:"beforeChangeRender",beforeColumnCollapse:"beforeColumnCollapse",beforeColumnExpand:"beforeColumnExpand",beforeColumnMove:"beforeColumnMove",beforeColumnResize:"beforeColumnResize",beforeColumnSort:"beforeColumnSort",beforeContextMenuSetItems:"beforeContextMenuSetItems",beforeContextMenuShow:"beforeContextMenuShow",beforeCopy:"beforeCopy",beforeCreateCol:"beforeCreateCol",beforeCreateRow:"beforeCreateRow",beforeCut:"beforeCut",beforeDetachChild:"beforeDetachChild",beforeDrawBorders:"beforeDrawBorders",beforeDropdownMenuSetItems:"beforeDropdownMenuSetItems",beforeDropdownMenuShow:"beforeDropdownMenuShow",beforeFilter:"beforeFilter",beforeGetCellMeta:"beforeGetCellMeta",beforeHideColumns:"beforeHideColumns",beforeHideRows:"beforeHideRows",beforeInit:"beforeInit",beforeInitWalkontable:"beforeInitWalkontable",beforeKeyDown:"beforeKeyDown",beforeLanguageChange:"beforeLanguageChange",beforeLoadData:"beforeLoadData",beforeMergeCells:"beforeMergeCells",beforeOnCellContextMenu:"beforeOnCellContextMenu",beforeOnCellMouseDown:"beforeOnCellMouseDown",beforeOnCellMouseOut:"beforeOnCellMouseOut",beforeOnCellMouseOver:"beforeOnCellMouseOver",beforeOnCellMouseUp:"beforeOnCellMouseUp",beforePaste:"beforePaste",beforeRedo:"beforeRedo",beforeRedoStackChange:"beforeRedoStackChange",beforeRefreshDimensions:"beforeRefreshDimensions",beforeRemoveCellClassNames:"beforeRemoveCellClassNames",beforeRemoveCellMeta:"beforeRemoveCellMeta",beforeRemoveCol:"beforeRemoveCol",beforeRemoveRow:"beforeRemoveRow",beforeRender:"beforeRender",beforeRenderer:"beforeRenderer",beforeRowMove:"beforeRowMove",beforeRowResize:"beforeRowResize",beforeSetCellMeta:"beforeSetCellMeta",beforeSetRangeEnd:"beforeSetRangeEnd",beforeSetRangeStart:"beforeSetRangeStart",beforeSetRangeStartOnly:"beforeSetRangeStartOnly",beforeStretchingColumnWidth:"beforeStretchingColumnWidth",beforeTouchScroll:"beforeTouchScroll",beforeTrimRow:"beforeTrimRow",beforeUndo:"beforeUndo",beforeUndoStackChange:"beforeUndoStackChange",beforeUnhideColumns:"beforeUnhideColumns",beforeUnhideRows:"beforeUnhideRows",beforeUnmergeCells:"beforeUnmergeCells",beforeUntrimRow:"beforeUntrimRow",beforeValidate:"beforeValidate",beforeValueRender:"beforeValueRender",beforeViewRender:"beforeViewRender",construct:"construct",init:"init",modifyAutoColumnSizeSeed:"modifyAutoColumnSizeSeed",modifyAutofillRange:"modifyAutofillRange",modifyColHeader:"modifyColHeader",modifyColumnHeaderHeight:"modifyColumnHeaderHeight",modifyColWidth:"modifyColWidth",modifyCopyableRange:"modifyCopyableRange",modifyData:"modifyData",modifyGetCellCoords:"modifyGetCellCoords",modifyRowData:"modifyRowData",modifyRowHeader:"modifyRowHeader",modifyRowHeaderWidth:"modifyRowHeaderWidth",modifyRowHeight:"modifyRowHeight",modifySourceData:"modifySourceData",modifyTransformEnd:"modifyTransformEnd",modifyTransformStart:"modifyTransformStart",persistentStateLoad:"persistentStateLoad",persistentStateReset:"persistentStateReset",persistentStateSave:"persistentStateSave"},features:[Ai([P4,oie]),Rs],decls:2,vars:1,consts:[[3,"id"],["container",""]],template:function(t,r){1&t&&ie(0,"div",0,1),2&t&&V("id",r.hotId)},encapsulation:2}),n})(),QVe=(()=>{class n{static forRoot(){return{ngModule:n,providers:[P4]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({}),n.version="12.1.3",n})(),eze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u4e3b\u6841\u672c\u6570","\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a"],this.dataset=[{name:"amount_V",value:this.model.beam.amount_V,unit:"\u672c"},{name:"D",value:this.model.beam.D,unit:"m"},{name:"tf",value:this.model.beam.tf,unit:"m"},{name:"W",value:this.model.beam.W,unit:"m"},{name:"tw",value:this.model.beam.tw,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.integer_cell=[{row:0,col:1,type:"numeric",numericFormat:{pattern:"mantissa"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,cell:this.integer_cell,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,f]of o){let p=parseFloat(f);if(isNaN(p))return!1;const g=this.dataset[a].name;null!=this.integer_cell.find(w=>w.row===a)&&(p=Math.round(p)),this.model.beam[g]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(De(cc),De(Kf),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-side-right-beam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(G(0,"h1",0),nn(1,"\u4e3b\u6841\u306e\u7de8\u96c6"),ne(),G(2,"div",1),ie(3,"hot-table",2),ne(),G(4,"div",3)(5,"button",4),nn(6,"\u9589\u3058\u308b"),ne()()),2&t&&(or(3),V("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[ty,Xc,Bf,Vf,zf,Uf]}),n})(),tze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074","\u96e2\u9694\uff08\u5185\u5074"],this.dataset=[{name:"D3",value:this.model.cross.D3,unit:"m"},{name:"tf2",value:this.model.cross.tf2,unit:"m"},{name:"W2",value:this.model.cross.W2,unit:"m"},{name:"tw2",value:this.model.cross.tw2,unit:"m"},{name:"s_edge",value:this.model.cross.s_edge,unit:"m"},{name:"s_middle",value:this.model.cross.s_middle,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,f]of o){let p=parseFloat(f);if(isNaN(p))return!1;this.model.cross[this.dataset[a].name]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(De(cc),De(Kf),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-side-right-cross"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(G(0,"h1",0),nn(1,"\u6a2a\u69cb\u306e\u7de8\u96c6"),ne(),G(2,"div",1),ie(3,"hot-table",2),ne(),G(4,"div",3)(5,"button",4),nn(6,"\u9589\u3058\u308b"),ne()()),2&t&&(or(3),V("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[ty,Xc,Bf,Vf,zf,Uf]}),n})(),nze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074\uff09","\u96e2\u9694\uff08\u5185\u5074\uff09","\u914d\u7f6e\u5217\u756a\u53f7"],this.dataset=[{name:"D4",value:this.model.crossbeam.D4,unit:"m"},{name:"tf3",value:this.model.crossbeam.tf3,unit:"m"},{name:"W3",value:this.model.crossbeam.W3,unit:"m"},{name:"tw3",value:this.model.crossbeam.tw3,unit:"m"},{name:"s_edge2",value:this.model.crossbeam.s_edge2,unit:"m"},{name:"s_middle2",value:this.model.crossbeam.s_middle2,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,f]of o){let p=parseFloat(f);if(isNaN(p))return!1;this.model.crossbeam[this.dataset[a].name]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(De(cc),De(Kf),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-side-right-crossbeam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(G(0,"h1",0),nn(1,"\u8377\u91cd\u5206\u914d\u6a2a\u6841\u306e\u7de8\u96c6"),ne(),G(2,"div",1),ie(3,"hot-table",2),ne(),G(4,"div",3)(5,"button",4),nn(6,"\u9589\u3058\u308b"),ne()()),2&t&&(or(3),V("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[ty,Xc,Bf,Vf,zf,Uf]}),n})(),rze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074\uff09","\u96e2\u9694\uff08\u5185\u5074\uff09"],this.dataset=[{name:"D5",value:this.model.endbeam.D5,unit:"m"},{name:"tf4",value:this.model.endbeam.tf4,unit:"m"},{name:"tw4",value:this.model.endbeam.tw4,unit:"m"},{name:"s_edge3",value:this.model.endbeam.s_edge3,unit:"m"},{name:"s_middle3",value:this.model.endbeam.s_middle3,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,f]of o){let p=parseFloat(f);if(isNaN(p))return!1;this.model.endbeam[this.dataset[a].name]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(De(cc),De(Kf),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-side-right-endbeam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(G(0,"h1",0),nn(1,"\u7aef\u6a2a\u6841\u306e\u7de8\u96c6"),ne(),G(2,"div",1),ie(3,"hot-table",2),ne(),G(4,"div",3)(5,"button",4),nn(6,"\u9589\u3058\u308b"),ne()()),2&t&&(or(3),V("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[ty,Xc,Bf,Vf,zf,Uf]}),n})(),ize=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["L\u92fc\u5e95\u9762\u5e45","L\u92fc\u5074\u9762\u5e45","L\u92fc\u539a","\u6c34\u5e73\u90e8\u96e2\u9694","\u659c\u90e8\u96e2\u9694\uff08\u5916\u5074\uff09","\u659c\u90e8\u96e2\u9694\uff08\u5185\u5074\uff09","\u659c\u90e8\u63a5\u5408\u70b9\u9593\u8ddd\u96e2\uff08X\u5024\uff09","\u659c\u90e8\u63a5\u5408\u70b9\u9593\u8ddd\u96e2\uff08Z\u5024\uff09"],this.dataset=[{name:"A",value:this.model.mid.A,unit:"m"},{name:"B",value:this.model.mid.B,unit:"m"},{name:"t",value:this.model.mid.t,unit:"m"},{name:"s",value:this.model.mid.s,unit:"m"},{name:"s_out",value:this.model.mid.s_out,unit:"m"},{name:"s_in",value:this.model.mid.s_in,unit:"m"},{name:"dz",value:this.model.mid.dz,unit:"m"},{name:"H",value:this.model.mid.H,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,f]of o){let p=parseFloat(f);if(isNaN(p))return!1;this.model.mid[this.dataset[a].name]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(De(cc),De(Kf),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-side-right-mid"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(G(0,"h1",0),nn(1,"\u4e2d\u9593\u5bfe\u50be\u69cb\u306e\u7de8\u96c6"),ne(),G(2,"div",1),ie(3,"hot-table",2),ne(),G(4,"div",3)(5,"button",4),nn(6,"\u9589\u3058\u308b"),ne()()),2&t&&(or(3),V("settings",r.hotSettings)("rowHeaderWidth",200)("stretchH","last"))},dependencies:[ty,Xc,Bf,Vf,zf,Uf]}),n})(),sie=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(De(rc),De(gi))},n.\u0275dir=Ln({type:n}),n})(),Bb=(()=>{class n extends sie{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Li(n)))(r||n)}}(),n.\u0275dir=Ln({type:n,features:[pr]}),n})();const Kd=new Tn("NgValueAccessor"),sze={provide:Kd,useExisting:no(()=>N4),multi:!0},lze=new Tn("CompositionEventMode");let N4=(()=>{class n extends sie{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function aze(){const n=Hh()?Hh().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(De(rc),De(gi),De(lze,8))},n.\u0275dir=Ln({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&nt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ai([sze]),pr]}),n})();const ru=new Tn("NgValidators"),ry=new Tn("NgAsyncValidators");function vie(n){return null!=n}function yie(n){return et(n)?$o(n):n}function _ie(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function bie(n,e){return e.map(t=>t(n))}function wie(n){return n.map(e=>function dze(n){return!n.validate}(e)?e:t=>e.validate(t))}function F4(n){return null!=n?function Mie(n){if(!n)return null;const e=n.filter(vie);return 0==e.length?null:function(t){return _ie(bie(t,e))}}(wie(n)):null}function H4(n){return null!=n?function Sie(n){if(!n)return null;const e=n.filter(vie);return 0==e.length?null:function(t){return cZ(bie(t,e).map(yie)).pipe(En(_ie))}}(wie(n)):null}function xie(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function B4(n){return n?Array.isArray(n)?n:[n]:[]}function $I(n,e){return Array.isArray(n)?n.includes(e):n===e}function Tie(n,e){const t=B4(e);return B4(n).forEach(i=>{$I(t,i)||t.push(i)}),t}function Rie(n,e){return B4(e).filter(t=>!$I(n,t))}class Die{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=F4(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=H4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class iy extends Die{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nu extends Die{get formDirective(){return null}get path(){return null}}let XI=(()=>{class n extends class Aie{constructor(e){this._cd=e}get isTouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.touched)}get isUntouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.untouched)}get isPristine(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pristine)}get isDirty(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.dirty)}get isValid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.valid)}get isInvalid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.invalid)}get isPending(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(De(iy,2))},n.\u0275dir=Ln({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Hi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pr]}),n})();const E1="VALID",ZI="INVALID",GS="PENDING",T1="DISABLED";function kie(n){return Array.isArray(n)?F4(n):n||null}function Lie(n){return Array.isArray(n)?H4(n):n||null}function qI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function R1(n,e){var t,r;(function G4(n,e){const t=function Cie(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(xie(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Eie(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(xie(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();eP(e._rawValidators,i),eP(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&(null===(r=(t=e.valueAccessor).setDisabledState)||void 0===r||r.call(t,!0)),function wze(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Fie(n,e)})}(n,e),function Sze(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Mze(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Fie(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function bze(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function eP(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Fie(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zie(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Uie(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Oze={provide:iy,useExisting:no(()=>A1)},Gie=(()=>Promise.resolve(null))();let A1=(()=>{class n extends iy{constructor(t,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new class extends class Nie{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=kie(this._rawValidators),this._composedAsyncValidatorFn=Lie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===E1}get invalid(){return this.status===ZI}get pending(){return this.status==GS}get disabled(){return this.status===T1}get enabled(){return this.status!==T1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=kie(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Lie(e)}addValidators(e){this.setValidators(Tie(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Tie(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Rie(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Rie(e,this._rawAsyncValidators))}hasValidator(e){return $I(this._rawValidators,e)}hasAsyncValidator(e){return $I(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=GS,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=T1,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=E1,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===E1||this.status===GS)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?T1:E1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=GS,this._hasOwnPendingAsyncValidator=!0;const t=yie(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Lo,this.statusChanges=new Lo}_calculateStatus(){return this._allControlsDisabled()?T1:this.errors?ZI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(GS)?GS:this._anyControlsHaveStatus(ZI)?ZI:E1}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function j4(n){return(qI(n)?n.validators:n)||null}(t),function W4(n,e){return(qI(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Uie(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zie(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zie(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Uie(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new Lo,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function X4(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===N4?t=o:function Eze(n){return Object.getPrototypeOf(n.constructor)===Bb}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function $4(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){R1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Gie.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function em(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);Gie.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(t){return this._parent?function JI(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(De(Nu,9),De(ru,10),De(ry,10),De(Kd,10),De(Ru,8))},n.\u0275dir=Ln({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ai([Oze]),pr,Rs]}),n})(),Xie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({}),n})();const Z4=new Tn("NgModelWithFormControlWarning");let doe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[Xie]}),n})(),nUe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[doe]}),n})(),rUe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Z4,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[doe]}),n})();class poe{constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Nt,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,r=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!r.has(o)).forEach(o=>this._unmarkSelected(o));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let oUe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[Io,Io]}),n})();const moe=["*"],goe='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}',sUe=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],aUe=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],lUe=["text"];function uUe(n,e){if(1&n&&ie(0,"mat-pseudo-checkbox",5),2&n){const t=Kt();V("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const cUe=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],dUe=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"],fUe=VO(NM(class{})),hUe=NM(class{}),voe=new Tn("MatList"),pUe=new Tn("MatNavList");let iW=(()=>{class n extends fUe{constructor(t){super(),this._elementRef=t,this._stateChanges=new Nt,"action-list"===this._getListType()&&(t.nativeElement.classList.add("mat-action-list"),t.nativeElement.setAttribute("role","group"))}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(De(gi))},n.\u0275cmp=li({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[Ai([{provide:voe,useExisting:n}]),pr,Rs],ngContentSelectors:moe,decls:1,vars:0,template:function(t,r){1&t&&(jn(),zn(0))},styles:[goe],encapsulation:2,changeDetection:0}),n})(),yoe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),_oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),oW=(()=>{class n extends hUe{constructor(t,r,i,o){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Nt,this._disabled=!1,this._isInteractiveList=!!(i||o&&"action-list"===o._getListType()),this._list=i||o;const s=this._getHostElement();"button"===s.nodeName.toLowerCase()&&!s.hasAttribute("type")&&s.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Ql(this._destroyed)).subscribe(()=>{r.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=Al(t)}ngAfterContentInit(){qK(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(Ru),De(pUe,8),De(voe,8))},n.\u0275cmp=li({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,r,i){if(1&t&&(la(i,yoe,5),la(i,_oe,5),la(i,ZK,5)),2&t){let o;_o(o=bo())&&(r._avatar=o.first),_o(o=bo())&&(r._icon=o.first),_o(o=bo())&&(r._lines=o)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(t,r){2&t&&Hi("mat-list-item-disabled",r.disabled)("mat-list-item-with-avatar",r._avatar||r._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[pr],ngContentSelectors:aUe,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,r){1&t&&(jn(sUe),G(0,"span",0),ie(1,"span",1),zn(2),G(3,"span",2),zn(4,1),ne(),zn(5,2),ne()),2&t&&(or(1),V("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()))},dependencies:[cT],encapsulation:2,changeDetection:0}),n})();const mUe=NM(class{}),gUe=NM(class{}),vUe={provide:Kd,useExisting:no(()=>sW),multi:!0};class yUe{constructor(e,t){this.source=e,this.options=t}}let boe=(()=>{class n extends gUe{constructor(t,r,i){super(),this._element=t,this._changeDetector=r,this.selectionList=i,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new Lo,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const r=Al(t);r!==this._disabled&&(this._disabled=r,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const r=Al(t);r!==this._selected&&(this._setSelected(r),(r||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(i=>t.compareWith(this._value,i))&&this._setSelected(!0);const r=this._selected;Promise.resolve().then(()=>{(this._selected||r)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){qK(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,r=this.selectionList._removeOptionFromList(this);t&&r&&r.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(Ru),De(no(()=>sW)))},n.\u0275cmp=li({type:n,selectors:[["mat-list-option"]],contentQueries:function(t,r,i){if(1&t&&(la(i,yoe,5),la(i,_oe,5),la(i,ZK,5)),2&t){let o;_o(o=bo())&&(r._avatar=o.first),_o(o=bo())&&(r._icon=o.first),_o(o=bo())&&(r._lines=o)}},viewQuery:function(t,r){if(1&t&&Eu(lUe,5),2&t){let i;_o(i=bo())&&(r._text=i.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,r){1&t&&nt("focus",function(){return r._handleFocus()})("blur",function(){return r._handleBlur()})("click",function(){return r._handleClick()}),2&t&&(ss("aria-selected",r.selected)("aria-disabled",r.disabled)("tabindex",-1),Hi("mat-list-item-disabled",r.disabled)("mat-list-item-with-avatar",r._avatar||r._icon)("mat-primary","primary"===r.color)("mat-accent","primary"!==r.color&&"warn"!==r.color)("mat-warn","warn"===r.color)("mat-list-single-selected-option",r.selected&&!r.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[pr],ngContentSelectors:dUe,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,r){1&t&&(jn(cUe),G(0,"div",0),ie(1,"div",1),O(2,uUe,1,2,"mat-pseudo-checkbox",2),G(3,"div",3,4),zn(5),ne(),zn(6,1),ne()),2&t&&(Hi("mat-list-item-content-reverse","after"==r.checkboxPosition),or(1),V("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()),or(1),V("ngIf",r.selectionList.multiple))},dependencies:[cT,lMe,HE],encapsulation:2,changeDetection:0}),n})(),sW=(()=>{class n extends mUe{constructor(t,r,i){super(),this._element=t,this._changeDetector=r,this._focusMonitor=i,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new Lo,this.color="accent",this.compareWith=(o,s)=>o===s,this._disabled=!1,this.selectedOptions=new poe(this._multiple),this._tabIndex=-1,this._onChange=o=>{},this._destroyed=new Nt,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=Al(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const r=Al(t);r!==this._multiple&&(this._multiple=r,this.selectedOptions=new poe(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new MK(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Ql(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(rm(null),Ql(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Ql(this._destroyed)).subscribe(t=>{if(t.added)for(let r of t.added)r.selected=!0;if(t.removed)for(let r of t.removed)r.selected=!1}),this._focusMonitor.monitor(this._element).pipe(Ql(this._destroyed)).subscribe(t=>{var r;if("keyboard"===t||"program"===t){let i=0;for(let o=0;o<this.options.length;o++)if(null!==(r=this.options.get(o))&&void 0!==r&&r.selected){i=o;break}this._keyManager.setActiveItem(i)}})}ngOnChanges(t){const r=t.disableRipple,i=t.color;(r&&!r.firstChange||i&&!i.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const r=this._getOptionIndex(t);return r>-1&&this._keyManager.activeItemIndex===r&&(r>0?this._keyManager.updateActiveItem(r-1):0===r&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(r+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const r=t.keyCode,i=this._keyManager,o=i.activeItemIndex,s=K_(t);switch(r){case 32:case 13:!s&&!i.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===r&&this.multiple&&K_(t,"ctrlKey")&&!i.isTyping()){const a=this.options.some(u=>!u.disabled&&!u.selected);this._setAllOptionsSelected(a,!0,!0),t.preventDefault()}else i.onKeydown(t)}this.multiple&&(38===r||40===r)&&t.shiftKey&&i.activeItemIndex!==o&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new yUe(this,t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(r=>r._setSelected(!1)),t.forEach(r=>{const i=this.options.find(o=>!o.selected&&this.compareWith(o.value,r));i&&i._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let r=this.options.toArray()[t];r&&!r.disabled&&(this._multiple||!r.selected)&&(r.toggle(),this._emitChangeEvent([r]))}}_setAllOptionsSelected(t,r,i){const o=[];return this.options.forEach(s=>{(!r||!s.disabled)&&s._setSelected(t)&&o.push(s)}),o.length&&(this._reportValueChange(),i&&this._emitChangeEvent(o)),o}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(Ru),De(xv))},n.\u0275cmp=li({type:n,selectors:[["mat-selection-list"]],contentQueries:function(t,r,i){if(1&t&&la(i,boe,5),2&t){let o;_o(o=bo())&&(r.options=o)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,r){1&t&&nt("keydown",function(o){return r._keydown(o)}),2&t&&ss("aria-multiselectable",r.multiple)("aria-disabled",r.disabled.toString())("tabindex",r._tabIndex)},inputs:{disableRipple:"disableRipple",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Ai([vUe]),pr,Rs],ngContentSelectors:moe,decls:1,vars:0,template:function(t,r){1&t&&(jn(),zn(0))},styles:[goe],encapsulation:2,changeDetection:0}),n})(),_Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[JK,J3,Io,nZ,U_,JK,Io,nZ,oUe]}),n})();const bUe=["sliderWrapper"],Zd=OM({passive:!1}),CUe={provide:Kd,useExisting:no(()=>nP),multi:!0};class EUe{}const TUe=eMe(lT(VO(class{constructor(n){this._elementRef=n}}),"accent"));let nP=(()=>{class n extends TUe{constructor(t,r,i,o,s,a,u,c){super(t),this._focusMonitor=r,this._changeDetectorRef=i,this._dir=o,this._ngZone=a,this._animationMode=c,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new Lo,this.input=new Lo,this.valueChange=new Lo,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=F.EMPTY,this._pointerDown=f=>{this.disabled||this._isSliding||!k1(f)&&0!==f.button||this._ngZone.run(()=>{this._touchId=k1(f)?function RUe(n,e){for(let t=0;t<n.touches.length;t++){const r=n.touches[t].target;if(e===r||e.contains(r))return n.touches[t].identifier}}(f,this._elementRef.nativeElement):void 0;const p=Moe(f,this._touchId);if(p){const g=this.value;this._isSliding="pointer",this._lastPointerEvent=f,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(f),this._focusHostElement(),this._updateValueFromPosition(p),this._valueOnSlideStart=g,f.cancelable&&f.preventDefault(),g!=this.value&&this._emitInputEvent()}})},this._pointerMove=f=>{if("pointer"===this._isSliding){const p=Moe(f,this._touchId);if(p){f.cancelable&&f.preventDefault();const g=this.value;this._lastPointerEvent=f,this._updateValueFromPosition(p),g!=this.value&&this._emitInputEvent()}}},this._pointerUp=f=>{"pointer"===this._isSliding&&(!k1(f)||"number"!=typeof this._touchId||aW(f.changedTouches,this._touchId))&&(f.cancelable&&f.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=u,this.tabIndex=parseInt(s)||0,a.runOutsideAngular(()=>{const f=t.nativeElement;f.addEventListener("mousedown",this._pointerDown,Zd),f.addEventListener("touchstart",this._pointerDown,Zd)})}get invert(){return this._invert}set invert(t){this._invert=Al(t)}get max(){return this._max}set max(t){this._max=lm(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=lm(t,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=lm(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=Al(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?lm(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let r=lm(t,0);this._roundToDecimal&&r!==this.min&&r!==this.max&&(r=parseFloat(r.toFixed(this._roundToDecimal))),this._value=r,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=Al(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const r=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${r})`}}_getTrackFillStyles(){const t=this.percent,i=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${i})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,a={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const u=this._shouldInvertAxis();let c;c=this.vertical?u?"Bottom":"Top":u?"Right":"Left",a[`padding${c}`]=`${this._getThumbGap()}px`}return a}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,Zd),t.removeEventListener("touchstart",this._pointerDown,Zd),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||K_(t)||this._isSliding&&"keyboard"!==this._isSliding)return;const r=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}r!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",t.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const r=this._document,i=k1(t),s=i?"touchend":"mouseup";r.addEventListener(i?"touchmove":"mousemove",this._pointerMove,Zd),r.addEventListener(s,this._pointerUp,Zd),i&&r.addEventListener("touchcancel",this._pointerUp,Zd);const a=this._getWindow();void 0!==a&&a&&a.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,Zd),t.removeEventListener("mouseup",this._pointerUp,Zd),t.removeEventListener("touchmove",this._pointerMove,Zd),t.removeEventListener("touchend",this._pointerUp,Zd),t.removeEventListener("touchcancel",this._pointerUp,Zd);const r=this._getWindow();void 0!==r&&r&&r.removeEventListener("blur",this._windowBlur)}_increment(t){const r=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(r+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let s=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(s=1-s),0===s)this.value=this.min;else if(1===s)this.value=this.max;else{const a=this._calculateValue(s),u=Math.round((a-this.min)/this.step)*this.step+this.min;this.value=this._clamp(u,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let t;if("auto"==this.tickInterval){let r=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;t=Math.ceil(30/(r*this.step/(this.max-this.min)))*this.step/r}else t=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=woe(t)?t:0}_createChangeEvent(t=this.value){let r=new EUe;return r.source=this,r.value=t,r}_calculatePercentage(t){const r=((t||0)-this.min)/(this.max-this.min);return woe(r)?r:0}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,r=0,i=1){return Math.max(r,Math.min(t,i))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)(De(gi),De(xv),De(Ru),De(PM,8),xh("tabindex"),De(xi),De(Ci),De(qp,8))},n.\u0275cmp=li({type:n,selectors:[["mat-slider"]],viewQuery:function(t,r){if(1&t&&Eu(bUe,5),2&t){let i;_o(i=bo())&&(r._sliderWrapper=i.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(t,r){1&t&&nt("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()})("keydown",function(o){return r._onKeydown(o)})("keyup",function(){return r._onKeyup()})("mouseenter",function(){return r._onMouseenter()})("selectstart",function(o){return o.preventDefault()}),2&t&&(xE("tabIndex",r.tabIndex),ss("aria-disabled",r.disabled)("aria-valuemax",r.max)("aria-valuemin",r.min)("aria-valuenow",r.value)("aria-valuetext",null==r.valueText?r.displayValue:r.valueText)("aria-orientation",r.vertical?"vertical":"horizontal"),Hi("mat-slider-disabled",r.disabled)("mat-slider-has-ticks",r.tickInterval)("mat-slider-horizontal",!r.vertical)("mat-slider-axis-inverted",r._shouldInvertAxis())("mat-slider-invert-mouse-coords",r._shouldInvertMouseCoords())("mat-slider-sliding",r._isSliding)("mat-slider-thumb-label-showing",r.thumbLabel)("mat-slider-vertical",r.vertical)("mat-slider-min-value",r._isMinValue())("mat-slider-hide-last-tick",r.disabled||r._isMinValue()&&r._getThumbGap()&&r._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[Ai([CUe]),pr],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,r){1&t&&(G(0,"div",0,1)(2,"div",2),ie(3,"div",3)(4,"div",4),ne(),G(5,"div",5),ie(6,"div",6),ne(),G(7,"div",7),ie(8,"div",8)(9,"div",9),G(10,"div",10)(11,"span",11),nn(12),ne()()()()),2&t&&(or(3),V("ngStyle",r._getTrackBackgroundStyles()),or(1),V("ngStyle",r._getTrackFillStyles()),or(1),V("ngStyle",r._getTicksContainerStyles()),or(1),V("ngStyle",r._getTicksStyles()),or(1),V("ngStyle",r._getThumbContainerStyles()),or(5),Ir(r.displayValue))},dependencies:[q9],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0}),n})();function woe(n){return!isNaN(n)&&isFinite(n)}function k1(n){return"t"===n.type[0]}function Moe(n,e){let t;return t=k1(n)?"number"==typeof e?aW(n.touches,e)||aW(n.changedTouches,e):n.touches[0]||n.changedTouches[0]:n,t?{x:t.clientX,y:t.clientY}:void 0}function aW(n,e){for(let t=0;t<n.length;t++)if(n[t].identifier===e)return n[t]}let DUe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[U_,Io,Io]}),n})(),AUe=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(De(cc),De(Kf),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-side-right-gusset01"]],decls:32,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["role","list"],["role","listitem"],["min","0.1","max","1","step","0.01",3,"ngModel","ngModelChange","change"],[1,"example-value-label"],["min","0.1","max","10","step","0.01",3,"ngModel","ngModelChange","change"],["min","0.001","max","0.01","step","0.001",3,"ngModel","ngModelChange","change"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(G(0,"h1",0),nn(1,"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c81\u306e\u7de8\u96c6"),ne(),G(2,"div",1)(3,"mat-list",2)(4,"mat-list-item",3),nn(5,"A "),G(6,"mat-slider",4),nt("ngModelChange",function(o){return r.model.gusset01.A=o})("change",function(){return r.redraw()}),ne(),G(7,"label",5),nn(8),ne()(),G(9,"mat-list-item",3),nn(10,"B "),G(11,"mat-slider",4),nt("ngModelChange",function(o){return r.model.gusset01.B=o})("change",function(){return r.redraw()}),ne(),G(12,"label",5),nn(13),ne()(),G(14,"mat-list-item",3),nn(15,"C "),G(16,"mat-slider",4),nt("ngModelChange",function(o){return r.model.gusset01.C=o})("change",function(){return r.redraw()}),ne(),G(17,"label",5),nn(18),ne()(),G(19,"mat-list-item",3),nn(20,"D "),G(21,"mat-slider",6),nt("ngModelChange",function(o){return r.model.gusset01.D=o})("change",function(){return r.redraw()}),ne(),G(22,"label",5),nn(23),ne()(),G(24,"mat-list-item",3),nn(25,"t "),G(26,"mat-slider",7),nt("ngModelChange",function(o){return r.model.gusset01.t=o})("change",function(){return r.redraw()}),ne(),G(27,"label",5),nn(28),ne()()()(),G(29,"div",8)(30,"button",9),nn(31,"\u9589\u3058\u308b"),ne()()),2&t&&(or(6),V("ngModel",r.model.gusset01.A),or(2),Ir(r.model.gusset01.A),or(3),V("ngModel",r.model.gusset01.B),or(2),Ir(r.model.gusset01.B),or(3),V("ngModel",r.model.gusset01.C),or(2),Ir(r.model.gusset01.C),or(3),V("ngModel",r.model.gusset01.D),or(2),Ir(r.model.gusset01.D),or(3),V("ngModel",r.model.gusset01.t),or(2),Ir(r.model.gusset01.t))},dependencies:[XI,A1,Xc,iW,oW,nP,Bf,Vf,zf,Uf]}),n})(),OUe=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(De(cc),De(Kf),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-side-right-gusset02"]],decls:37,vars:12,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["role","list"],["role","listitem"],["min","0.1","max","1","step","0.01",3,"ngModel","ngModelChange","change"],[1,"example-value-label"],["min","0.1","max","10","step","0.01",3,"ngModel","ngModelChange","change"],["min","0.001","max","0.01","step","0.001",3,"ngModel","ngModelChange","change"],["min","0.01","max","0.1","step","0.01",3,"ngModel","ngModelChange","change"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(G(0,"h1",0),nn(1,"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c82\u306e\u7de8\u96c6"),ne(),G(2,"div",1)(3,"mat-list",2)(4,"mat-list-item",3),nn(5,"A "),G(6,"mat-slider",4),nt("ngModelChange",function(o){return r.model.gusset02.A=o})("change",function(){return r.redraw()}),ne(),G(7,"label",5),nn(8),ne()(),G(9,"mat-list-item",3),nn(10,"B "),G(11,"mat-slider",4),nt("ngModelChange",function(o){return r.model.gusset02.B=o})("change",function(){return r.redraw()}),ne(),G(12,"label",5),nn(13),ne()(),G(14,"mat-list-item",3),nn(15,"C "),G(16,"mat-slider",4),nt("ngModelChange",function(o){return r.model.gusset02.C=o})("change",function(){return r.redraw()}),ne(),G(17,"label",5),nn(18),ne()(),G(19,"mat-list-item",3),nn(20,"D "),G(21,"mat-slider",6),nt("ngModelChange",function(o){return r.model.gusset02.D=o})("change",function(){return r.redraw()}),ne(),G(22,"label",5),nn(23),ne()(),G(24,"mat-list-item",3),nn(25,"t "),G(26,"mat-slider",7),nt("ngModelChange",function(o){return r.model.gusset02.t=o})("change",function(){return r.redraw()}),ne(),G(27,"label",5),nn(28),ne()(),G(29,"mat-list-item",3),nn(30,"dx "),G(31,"mat-slider",8),nt("ngModelChange",function(o){return r.model.gusset02.dx=o})("change",function(){return r.redraw()}),ne(),G(32,"label",5),nn(33),ne()()()(),G(34,"div",9)(35,"button",10),nn(36,"\u9589\u3058\u308b"),ne()()),2&t&&(or(6),V("ngModel",r.model.gusset02.A),or(2),Ir(r.model.gusset02.A),or(3),V("ngModel",r.model.gusset02.B),or(2),Ir(r.model.gusset02.B),or(3),V("ngModel",r.model.gusset02.C),or(2),Ir(r.model.gusset02.C),or(3),V("ngModel",r.model.gusset02.D),or(2),Ir(r.model.gusset02.D),or(3),V("ngModel",r.model.gusset02.t),or(2),Ir(r.model.gusset02.t),or(3),V("ngModel",r.model.gusset02.dx),or(2),Ir(r.model.gusset02.dx))},dependencies:[XI,A1,Xc,iW,oW,nP,Bf,Vf,zf,Uf]}),n})(),kUe=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(De(cc),De(Kf),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-side-right-gusset03"]],decls:37,vars:12,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["role","list"],["role","listitem"],["min","0.1","max","1","step","0.01",3,"ngModel","ngModelChange","change"],[1,"example-value-label"],["min","0.1","max","10","step","0.01",3,"ngModel","ngModelChange","change"],["min","0.001","max","0.01","step","0.001",3,"ngModel","ngModelChange","change"],["min","0.01","max","0.1","step","0.01",3,"ngModel","ngModelChange","change"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(G(0,"h1",0),nn(1,"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c83\u306e\u7de8\u96c6"),ne(),G(2,"div",1)(3,"mat-list",2)(4,"mat-list-item",3),nn(5,"A "),G(6,"mat-slider",4),nt("ngModelChange",function(o){return r.model.gusset03.A=o})("change",function(){return r.redraw()}),ne(),G(7,"label",5),nn(8),ne()(),G(9,"mat-list-item",3),nn(10,"B "),G(11,"mat-slider",4),nt("ngModelChange",function(o){return r.model.gusset03.B=o})("change",function(){return r.redraw()}),ne(),G(12,"label",5),nn(13),ne()(),G(14,"mat-list-item",3),nn(15,"C "),G(16,"mat-slider",4),nt("ngModelChange",function(o){return r.model.gusset03.C=o})("change",function(){return r.redraw()}),ne(),G(17,"label",5),nn(18),ne()(),G(19,"mat-list-item",3),nn(20,"D "),G(21,"mat-slider",6),nt("ngModelChange",function(o){return r.model.gusset03.D=o})("change",function(){return r.redraw()}),ne(),G(22,"label",5),nn(23),ne()(),G(24,"mat-list-item",3),nn(25,"t "),G(26,"mat-slider",7),nt("ngModelChange",function(o){return r.model.gusset03.t=o})("change",function(){return r.redraw()}),ne(),G(27,"label",5),nn(28),ne()(),G(29,"mat-list-item",3),nn(30,"dx "),G(31,"mat-slider",8),nt("ngModelChange",function(o){return r.model.gusset03.dx=o})("change",function(){return r.redraw()}),ne(),G(32,"label",5),nn(33),ne()()()(),G(34,"div",9)(35,"button",10),nn(36,"\u9589\u3058\u308b"),ne()()),2&t&&(or(6),V("ngModel",r.model.gusset03.A),or(2),Ir(r.model.gusset03.A),or(3),V("ngModel",r.model.gusset03.B),or(2),Ir(r.model.gusset03.B),or(3),V("ngModel",r.model.gusset03.C),or(2),Ir(r.model.gusset03.C),or(3),V("ngModel",r.model.gusset03.D),or(2),Ir(r.model.gusset03.D),or(3),V("ngModel",r.model.gusset03.t),or(2),Ir(r.model.gusset03.t),or(3),V("ngModel",r.model.gusset03.dx),or(2),Ir(r.model.gusset03.dx))},dependencies:[XI,A1,Xc,iW,oW,nP,Bf,Vf,zf,Uf]}),n})(),LUe=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u8d77\u70b9\u7aef\u90e8\u304b\u3089\u7aef\u6a2a\u69cb\u307e\u3067\u306e\u96e2\u9694","\u7d42\u70b9\u7aef\u90e8\u304b\u3089\u7aef\u6a2a\u69cb\u307e\u3067\u306e\u96e2\u9694","\u7aef\u6a2a\u69cb\u3001\u8377\u91cd\u5206\u914d\u6a2a\u6841\u3001\u4e2d\u9593\u5bfe\u50be\u69cb\u306e\u7dcf\u548c","\u6a4b\u9577"],this.dataset=[{name:"s_BP",value:this.model.others.s_BP,unit:"m"},{name:"s_EP",value:this.model.others.s_EP,unit:"m"},{name:"amount_H",value:this.model.others.amount_H,unit:"\u672c"},{name:"L",value:this.model.others.L,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.integer_cell=[{row:2,col:2,type:"numeric",numericFormat:{pattern:"mantissa"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,cell:this.integer_cell,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,f]of o){let p=parseFloat(f);if(isNaN(p))return!1;const g=this.dataset[a].name;null!=this.integer_cell.find(w=>w.row===a)&&(p=Math.round(p)),this.model.others[g]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(De(cc),De(Kf),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-side-right-others"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(G(0,"h1",0),nn(1,"\u305d\u306e\u4ed6\u306e\u9805\u76ee\u306e\u7de8\u96c6"),ne(),G(2,"div",1),ie(3,"hot-table",2),ne(),G(4,"div",3)(5,"button",4),nn(6,"\u9589\u3058\u308b"),ne()()),2&t&&(or(3),V("settings",r.hotSettings)("rowHeaderWidth",200)("stretchH","last"))},dependencies:[ty,Xc,Bf,Vf,zf,Uf]}),n})(),IUe=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u5de6\u5e45\u54e1","\u53f3\u5e45\u54e1","\u5730\u8986\u5e45","\u58c1\u9ad8","\u5e8a\u7248\u52fe\u914d\uff08\u5de6\uff09","\u5e8a\u7248\u52fe\u914d\uff08\u53f3\uff09","\u5e8a\u7248\u539a\uff08\u6700\u5c0f\uff09","\u5e8a\u7248\u539a\uff08\u6700\u5927\uff09","\u30cf\u30f3\u30c1\u52fe\u914d","\u5e8a\u7248\u7aef\u90e8\u304b\u3089\u4e3b\u6841\u307e\u3067\u306e\u96e2\u9694"],this.dataset=[{name:"b1",value:this.model.slab.b1,unit:"m"},{name:"b2",value:this.model.slab.b2,unit:"m"},{name:"b3",value:this.model.slab.b3,unit:"m"},{name:"SH",value:this.model.slab.SH,unit:"m"},{name:"i1",value:this.model.slab.i1,unit:"m"},{name:"i2",value:this.model.slab.i2,unit:"m"},{name:"T1",value:this.model.slab.T1,unit:"m"},{name:"T2",value:this.model.slab.T2,unit:"m"},{name:"n",value:this.model.slab.n,unit:"m"},{name:"Ss",value:this.model.slab.Ss,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,f]of o){let p=parseFloat(f);if(isNaN(p))return!1;this.model.slab[this.dataset[a].name]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(De(cc),De(Kf),De(Ud))},n.\u0275cmp=li({type:n,selectors:[["app-side-right-slab"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(G(0,"h1",0),nn(1,"\u30b9\u30e9\u30d6\u306e\u7de8\u96c6"),ne(),G(2,"div",1),ie(3,"hot-table",2),ne(),G(4,"div",3)(5,"button",4),nn(6,"\u9589\u3058\u308b"),ne()()),2&t&&(or(3),V("settings",r.hotSettings)("rowHeaderWidth",200)("stretchH","last"))},dependencies:[ty,Xc,Bf,Vf,zf,Uf]}),n})(),PUe=(()=>{class n{constructor(t){this.dialog=t}openDialog(t){let r=null;"slab"===t?r=IUe:"beam"===t?r=eze:"mid"===t?r=ize:"cross"===t?r=tze:"crossbeam"===t?r=nze:"endbeam"===t?r=rze:"gusset01"===t?r=AUe:"gusset02"===t?r=OUe:"gusset03"===t?r=kUe:"others"===t&&(r=LUe),null!=r&&this.dialog.open(r,{width:"350px",position:{right:"10px",top:"70px"},hasBackdrop:!1})}}return n.\u0275fac=function(t){return new(t||n)(De(fT))},n.\u0275cmp=li({type:n,selectors:[["app-side-left"]],decls:22,vars:1,consts:[[3,"multiple"],["shoes",""],[3,"click"]],template:function(t,r){1&t&&(G(0,"mat-selection-list",0,1)(2,"mat-list-option",2),nt("click",function(){return r.openDialog("slab")}),nn(3,"\u5e8a\u7248"),ne(),G(4,"mat-list-option",2),nt("click",function(){return r.openDialog("beam")}),nn(5,"\u4e3b\u6841"),ne(),G(6,"mat-list-option",2),nt("click",function(){return r.openDialog("mid")}),nn(7,"\u4e2d\u9593\u5bfe\u50be\u69cb"),ne(),G(8,"mat-list-option",2),nt("click",function(){return r.openDialog("cross")}),nn(9,"\u6a2a\u69cb"),ne(),G(10,"mat-list-option",2),nt("click",function(){return r.openDialog("crossbeam")}),nn(11,"\u8377\u91cd\u5206\u914d\u6a2a\u6841"),ne(),G(12,"mat-list-option",2),nt("click",function(){return r.openDialog("endbeam")}),nn(13,"\u7aef\u6a2a\u6841"),ne(),G(14,"mat-list-option",2),nt("click",function(){return r.openDialog("gusset01")}),nn(15,"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c801"),ne(),G(16,"mat-list-option",2),nt("click",function(){return r.openDialog("gusset02")}),nn(17,"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c802"),ne(),G(18,"mat-list-option",2),nt("click",function(){return r.openDialog("gusset03")}),nn(19,"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c803"),ne(),G(20,"mat-list-option",2),nt("click",function(){return r.openDialog("others")}),nn(21,"\u305d\u306e\u4ed6"),ne()()),2&t&&V("multiple",!1)},dependencies:[sW,boe],styles:["mat-selection-list[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}mat-list-option[_ngcontent-%COMP%]{margin:10px}"]}),n})(),NUe=(()=>{class n{constructor(t,r){this.changeDetectorRef=t,this.dialog=r}openChat(){this.dialog.open(OMe,{width:"350px",position:{right:"10px",bottom:"10px"},hasBackdrop:!1})}}return n.\u0275fac=function(t){return new(t||n)(De(Ru),De(fT))},n.\u0275cmp=li({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"over-three"],[1,"over-three","right-buttom"],["mat-icon-button","","aria-label","start chat",1,"example-icon",3,"click"]],template:function(t,r){1&t&&(ie(0,"app-menu",0)(1,"app-side-left",0),G(2,"div",1)(3,"button",2),nt("click",function(){return r.openChat()}),G(4,"mat-icon"),nn(5,"chat_bubble"),ne()()(),ie(6,"app-three"))},dependencies:[TZ,Xc,BDe,gAe,PUe],styles:[".over-three[_ngcontent-%COMP%]{z-index:10;position:relative}.right-buttom[_ngcontent-%COMP%]{z-index:10;position:fixed;right:50px;bottom:50px;transition:1s;opacity:.7}.right-buttom[_ngcontent-%COMP%]:hover{opacity:1}app-side-left[_ngcontent-%COMP%]{width:15%;display:block}"]}),n})();function Soe(n){return new sn(3e3,!1)}function vje(){return"undefined"!=typeof window&&void 0!==window.document}function lW(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function oy(n){switch(n.length){case 0:return new dT;case 1:return n[0];default:return new sZ(n)}}function xoe(n,e,t,r,i=new Map,o=new Map){const s=[],a=[];let u=-1,c=null;if(r.forEach(f=>{const p=f.get("offset"),g=p==u,y=g&&c||new Map;f.forEach((w,M)=>{let C=M,I=w;if("offset"!==M)switch(C=e.normalizePropertyName(C,s),I){case"!":I=i.get(M);break;case um:I=o.get(M);break;default:I=e.normalizeStyleValue(M,C,I,s)}y.set(C,I)}),g||a.push(y),c=y,u=p}),s.length)throw function oje(n){return new sn(3502,!1)}();return a}function uW(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&cW(t,"start",n)));break;case"done":n.onDone(()=>r(t&&cW(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&cW(t,"destroy",n)))}}function cW(n,e,t){const r=t.totalTime,o=dW(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function dW(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function td(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Coe(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let fW=(n,e)=>!1,Eoe=(n,e,t)=>[],Toe=null;function hW(n){const e=n.parentNode||n.host;return e===Toe?null:e}(lW()||"undefined"!=typeof Element)&&(vje()?(Toe=(()=>document.documentElement)(),fW=(n,e)=>{for(;e;){if(e===n)return!0;e=hW(e)}return!1}):fW=(n,e)=>n.contains(e),Eoe=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let zb=null,Roe=!1;const Doe=fW,Aoe=Eoe;let Ooe=(()=>{class n{validateStyleProperty(t){return function _je(n){zb||(zb=function bje(){return"undefined"!=typeof document?document.body:null}()||{},Roe=!!zb.style&&"WebkitAppearance"in zb.style);let e=!0;return zb.style&&!function yje(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in zb.style,!e&&Roe&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in zb.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Doe(t,r)}getParentElement(t){return hW(t)}query(t,r,i){return Aoe(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],u){return new dT(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})(),pW=(()=>{class n{}return n.NOOP=new Ooe,n})();const mW="ng-enter",rP="ng-leave",iP="ng-trigger",oP=".ng-trigger",Loe="ng-animating",gW=".ng-animating";function sy(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vW(parseFloat(e[1]),e[2])}function vW(n,e){return"s"===e?1e3*n:n}function sP(n,e,t){return n.hasOwnProperty("duration")?n:function Sje(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Soe()),{duration:0,delay:0,easing:""};i=vW(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(o=vW(parseFloat(u),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function FUe(){return new sn(3100,!1)}()),a=!0),o<0&&(e.push(function HUe(){return new sn(3101,!1)}()),a=!0),a&&e.splice(u,0,Soe())}return{duration:i,delay:o,easing:s}}(n,e,t)}function L1(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ioe(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ay(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Noe(n,e,t){return t?e+":"+t+";":""}function Foe(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Noe(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Noe(0,Tje(t),n.style[t]));n.setAttribute("style",e)}function ep(n,e,t){n.style&&(e.forEach((r,i)=>{const o=_W(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),lW()&&Foe(n))}function Ub(n,e){n.style&&(e.forEach((t,r)=>{const i=_W(r);n.style[i]=""}),lW()&&Foe(n))}function I1(n){return Array.isArray(n)?1==n.length?n[0]:iZ(n):n}const yW=new RegExp("{{\\s*(.+?)\\s*}}","g");function Hoe(n){let e=[];if("string"==typeof n){let t;for(;t=yW.exec(n);)e.push(t[1]);yW.lastIndex=0}return e}function aP(n,e,t){const r=n.toString(),i=r.replace(yW,(o,s)=>{let a=e[s];return null==a&&(t.push(function VUe(n){return new sn(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function lP(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Eje=/-+([a-z0-9])/g;function _W(n){return n.replace(Eje,(...e)=>e[1].toUpperCase())}function Tje(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function nd(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function zUe(n){return new sn(3004,!1)}()}}function Boe(n,e){return window.getComputedStyle(n)[e]}function Lje(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Ije(n,e,t){if(":"==n[0]){const u=function Pje(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function tje(n){return new sn(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function eje(n){return new sn(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(Voe(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(Voe(s,i))}(r,t,e)):t.push(n),t}const fP=new Set(["true","1"]),hP=new Set(["false","0"]);function Voe(n,e){const t=fP.has(n)||hP.has(n),r=fP.has(e)||hP.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?fP.has(n):hP.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?fP.has(e):hP.has(e)),s&&a}}const Nje=new RegExp("s*:selfs*,?","g");function bW(n,e,t,r){return new Fje(n).build(e,t,r)}class Fje{constructor(e){this._driver=e}build(e,t,r){const i=new Vje(t);return this._resetContextStyleTimingState(i),nd(this,I1(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function jUe(){return new sn(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,o.push(this.visitState(u,t))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,s.push(u)}else t.errors.push(function WUe(){return new sn(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{Hoe(u).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(lP(o.values()),t.errors.push(function YUe(n,e){return new sn(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=nd(this,I1(e.animation),t);return{type:1,matchers:Lje(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:jb(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>nd(this,r,t)),options:jb(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=nd(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:jb(e.options)}}visitAnimate(e,t){const r=function Uje(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return wW(sP(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=wW(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=sP(t,e);return wW(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Ol({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=Ol(c)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(s,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===um?r.push(a):t.errors.push(new sn(3002,!1)):r.push(Ioe(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let u of a.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,u)=>{const c=t.collectedStyles.get(t.currentQuerySelector),f=c.get(u);let p=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push(function $Ue(n,e,t,r,i){return new sn(3010,!1)}()),p=!1),o=f.startTime),p&&c.set(u,{startTime:o,endTime:i}),t.options&&function Cje(n,e,t){const r=e.params||{},i=Hoe(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function BUe(n){return new sn(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function XUe(){return new sn(3011,!1)}()),r;let o=0;const s=[];let a=!1,u=!1,c=0;const f=e.steps.map(I=>{const B=this._makeStyleAst(I,t);let U=null!=B.offset?B.offset:function zje(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(B.styles),j=0;return null!=U&&(o++,j=B.offset=U),u=u||j<0||j>1,a=a||j<c,c=j,s.push(j),B});u&&t.errors.push(function KUe(){return new sn(3012,!1)}()),a&&t.errors.push(function ZUe(){return new sn(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function qUe(){return new sn(3202,!1)}()):0==o&&(g=1/(p-1));const y=p-1,w=t.currentTime,M=t.currentAnimateTimings,C=M.duration;return f.forEach((I,B)=>{const U=g>0?B==y?1:g*B:s[B],j=U*C;t.currentTime=w+M.delay+j,M.duration=j,this._validateStyleAst(I,t),I.offset=U,r.styles.push(I)}),r}visitReference(e,t){return{type:8,animation:nd(this,I1(e.animation),t),options:jb(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:jb(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:jb(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Hje(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Nje,"")),n=n.replace(/@\*/g,oP).replace(/@\w+/g,t=>oP+"-"+t.slice(1)).replace(/:animating/g,gW),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,td(t.collectedStyles,t.currentQuerySelector,new Map);const a=nd(this,I1(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:jb(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function JUe(){return new sn(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:sP(e.timings,t.errors,!0);return{type:12,animation:nd(this,I1(e.animation),t),timings:r,options:null}}}class Vje{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jb(n){return n?(n=L1(n)).params&&(n.params=function Bje(n){return n?L1(n):null}(n.params)):n={},n}function wW(n,e,t){return{duration:n,delay:e,easing:t}}function MW(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class pP{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Yje=new RegExp(":enter","g"),$je=new RegExp(":leave","g");function SW(n,e,t,r,i,o=new Map,s=new Map,a,u,c=[]){return(new Xje).buildKeyframes(n,e,t,r,i,o,s,a,u,c)}class Xje{buildKeyframes(e,t,r,i,o,s,a,u,c,f=[]){c=c||new pP;const p=new xW(e,t,c,i,o,f,[]);p.options=u;const g=u.delay?sy(u.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,u),nd(this,r,p);const y=p.timelines.filter(w=>w.containsAnimation());if(y.length&&a.size){let w;for(let M=y.length-1;M>=0;M--){const C=y[M];if(C.element===t){w=C;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,p.errors,u)}return y.length?y.map(w=>w.buildKeyframes()):[MW(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?sy(r.duration):null,a=null!=r.delay?sy(r.delay):null;return 0!==s&&e.forEach(u=>{const c=t.appendInstructionToTimeline(u,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),nd(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=mP);const s=sy(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>nd(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?sy(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),nd(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return sP(t.params?aP(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*o),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?sy(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=mP);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((c,f)=>{t.currentQueryIndex=f;const p=t.createSubContext(e.options,c);o&&p.delayNextStep(o),c===t.element&&(u=p.currentTimeline),nd(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let u=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const f=t.currentTimeline;u&&f.delayNextStep(u);const p=f.currentTime;nd(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}}const mP={};class xW{constructor(e,t,r,i,o,s,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mP,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new gP(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=sy(r.duration)),null!=r.delay&&(i.delay=sy(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=aP(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new xW(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=mP,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},o=new Kje(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Yje,"."+this._enterClassName)).replace($je,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function QUe(n){return new sn(3014,!1)}()),a}}class gP{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new gP(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||um),this._currentKeyframe.set(t,um);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){var o;t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},a=function Zje(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,um)}else ay(i,t)}),t}(e,this._globalTimelineStyles);for(let[u,c]of a){const f=aP(c,s,r);this._pendingStyles.set(u,f),this._localTimelineStyles.has(u)||this._backFill.set(u,null!==(o=this._globalTimelineStyles.get(u))&&void 0!==o?o:um),this._updateStyle(u,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=ay(a,new Map,this._backFill);c.forEach((f,p)=>{"!"===f?e.add(p):f===um&&t.add(p)}),r||c.set("offset",u/this.duration),i.push(c)});const o=e.size?lP(e.values()):[],s=t.size?lP(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return MW(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class Kje extends gP{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,u=ay(e[0]);u.set("offset",0),o.push(u);const c=ay(e[0]);c.set("offset",joe(a)),o.push(c);const f=e.length-1;for(let p=1;p<=f;p++){let g=ay(e[p]);const y=g.get("offset");g.set("offset",joe((t+y*r)/s)),o.push(g)}r=s,t=0,i="",e=o}return MW(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function joe(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class CW{}const qje=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Jje extends CW{normalizePropertyName(e,t){return _W(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(qje.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function UUe(n,e){return new sn(3005,!1)}())}return s+o}}function Woe(n,e,t,r,i,o,s,a,u,c,f,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:f,totalTime:p,errors:g}}const EW={};class Yoe{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Qje(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(null==e?void 0:e.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,u,c,f){var p;const g=[],y=this.ast.options&&this.ast.options.params||EW,M=this.buildStyles(r,a&&a.params||EW,g),C=u&&u.params||EW,I=this.buildStyles(i,C,g),B=new Set,U=new Map,j=new Map,$="void"===i,se={params:e4e(C,y),delay:null===(p=this.ast.options)||void 0===p?void 0:p.delay},ge=f?[]:SW(e,t,this.ast.animation,o,s,M,I,se,c,g);let re=0;if(ge.forEach(we=>{re=Math.max(we.duration+we.delay,re)}),g.length)return Woe(t,this._triggerName,r,i,$,M,I,[],[],U,j,re,g);ge.forEach(we=>{const Ae=we.element,vt=td(U,Ae,new Set);we.preStyleProps.forEach(Xe=>vt.add(Xe));const pt=td(j,Ae,new Set);we.postStyleProps.forEach(Xe=>pt.add(Xe)),Ae!==t&&B.add(Ae)});const fe=lP(B.values());return Woe(t,this._triggerName,r,i,$,M,I,ge,fe,U,j,re)}}function e4e(n,e){const t=L1(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class t4e{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=L1(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=aP(s,i,t));const u=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,u,s,t),r.set(u,s)})}),r}}class r4e{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new t4e(i.style,i.options&&i.options.params||{},r))}),Goe(this.states,"true","1"),Goe(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Yoe(e,i,this.states))}),this.fallbackTransition=function i4e(n,e,t){return new Yoe(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Goe(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const o4e=new pP;class s4e{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=bW(this._driver,t,r,[]);if(r.length)throw function sje(n){return new sn(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=xoe(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=SW(this._driver,t,o,mW,rP,new Map,new Map,r,o4e,i),s.forEach(f=>{const p=td(a,f.element,new Map);f.postStyleProps.forEach(g=>p.set(g,null))})):(i.push(function aje(){return new sn(3300,!1)}()),s=[]),i.length)throw function lje(n){return new sn(3504,!1)}();a.forEach((f,p)=>{f.forEach((g,y)=>{f.set(y,this._driver.computeStyle(p,y,um))})});const c=oy(s.map(f=>{const p=a.get(f.element);return this._buildPlayer(f,new Map,p)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function uje(n){return new sn(3301,!1)}();return t}listen(e,t,r,i){const o=dW(t,"","","");return uW(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const $oe="ng-animate-queued",TW="ng-animate-disabled",d4e=[],Xoe={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},f4e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qd="__ng_removed";class RW{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function g4e(n){return null!=n?n:null}(r?e.value:e),r){const o=L1(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const P1="void",DW=new RW(P1);class h4e{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Jd(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function cje(n,e){return new sn(3302,!1)}();if(null==r||0==r.length)throw function dje(n){return new sn(3303,!1)}();if(!function v4e(n){return"start"==n||"done"==n}(r))throw function fje(n,e){return new sn(3400,!1)}();const o=td(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=td(this._engine.statesByElement,e,new Map);return a.has(t)||(Jd(e,iP),Jd(e,iP+"-"+t),a.set(t,DW)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(s);u>=0&&o.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function hje(n){return new sn(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new AW(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Jd(e,iP),Jd(e,iP+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const c=new RW(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(t,c),u||(u=DW),c.value!==P1&&u.value===c.value){if(!function b4e(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(u.params,c.params)){const M=[],C=o.matchStyles(u.value,u.params,M),I=o.matchStyles(c.value,c.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{Ub(e,C),ep(e,I)})}return}const g=td(this._engine.playersByElement,e,[]);g.forEach(M=>{M.namespaceId==this.id&&M.triggerName==t&&M.queued&&M.destroy()});let y=o.matchTransition(u.value,c.value,e,c.params),w=!1;if(!y){if(!i)return;y=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:u,toState:c,player:s,isFallbackTransition:w}),w||(Jd(e,$oe),s.onStart(()=>{$S(e,$oe)})),s.onDone(()=>{let M=this.players.indexOf(s);M>=0&&this.players.splice(M,1);const C=this._engine.playersByElement.get(e);if(C){let I=C.indexOf(s);I>=0&&C.splice(I,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,oP,!0);r.forEach(i=>{if(i[qd])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((u,c)=>{if(s.set(c,u.value),this._triggers.has(c)){const f=this.trigger(e,c,P1,i);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&oy(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const u=this._triggers.get(s).fallbackTransition,c=r.get(s)||DW,f=new RW(P1),p=new AW(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:u,fromState:c,toState:f,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[qd];(!o||o===Xoe)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Jd(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const u=dW(o,r.triggerName,r.fromState.value,r.toState.value);u._data=e,uW(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class p4e{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new h4e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(vP(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!vP(t))return;const o=t[qd];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Jd(e,TW)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$S(e,TW))}removeNode(e,t,r,i){if(vP(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[qd]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return vP(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,oP,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gW,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return oy(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[qd];if(r&&r.setForRemoval){if(e[qd]=Xoe,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}!(null===(t=e.classList)||void 0===t)&&t.contains(TW)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Jd(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?oy(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function pje(n){return new sn(3402,!1)}()}_flushAnimations(e,t){const r=new pP,i=[],o=new Map,s=[],a=new Map,u=new Map,c=new Map,f=new Set;this.disabledNodes.forEach(Le=>{f.add(Le);const Ze=this.driver.query(Le,".ng-animate-queued",!0);for(let it=0;it<Ze.length;it++)f.add(Ze[it])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=qoe(g,this.collectedEnterElements),w=new Map;let M=0;y.forEach((Le,Ze)=>{const it=mW+M++;w.set(Ze,it),Le.forEach(ot=>Jd(ot,it))});const C=[],I=new Set,B=new Set;for(let Le=0;Le<this.collectedLeaveElements.length;Le++){const Ze=this.collectedLeaveElements[Le],it=Ze[qd];it&&it.setForRemoval&&(C.push(Ze),I.add(Ze),it.hasAnimation?this.driver.query(Ze,".ng-star-inserted",!0).forEach(ot=>I.add(ot)):B.add(Ze))}const U=new Map,j=qoe(g,Array.from(I));j.forEach((Le,Ze)=>{const it=rP+M++;U.set(Ze,it),Le.forEach(ot=>Jd(ot,it))}),e.push(()=>{y.forEach((Le,Ze)=>{const it=w.get(Ze);Le.forEach(ot=>$S(ot,it))}),j.forEach((Le,Ze)=>{const it=U.get(Ze);Le.forEach(ot=>$S(ot,it))}),C.forEach(Le=>{this.processLeaveNode(Le)})});const $=[],se=[];for(let Le=this._namespaceList.length-1;Le>=0;Le--)this._namespaceList[Le].drainQueuedTransitions(t).forEach(it=>{const ot=it.player,Mt=it.element;if($.push(ot),this.collectedEnterElements.length){const yt=Mt[qd];if(yt&&yt.setForMove){if(yt.previousTriggersValues&&yt.previousTriggersValues.has(it.triggerName)){const It=yt.previousTriggersValues.get(it.triggerName),Lt=this.statesByElement.get(it.element);if(Lt&&Lt.has(it.triggerName)){const at=Lt.get(it.triggerName);at.value=It,Lt.set(it.triggerName,at)}}return void ot.destroy()}}const J=!p||!this.driver.containsElement(p,Mt),ee=U.get(Mt),he=w.get(Mt),be=this._buildInstruction(it,r,he,ee,J);if(be.errors&&be.errors.length)return void se.push(be);if(J)return ot.onStart(()=>Ub(Mt,be.fromStyles)),ot.onDestroy(()=>ep(Mt,be.toStyles)),void i.push(ot);if(it.isFallbackTransition)return ot.onStart(()=>Ub(Mt,be.fromStyles)),ot.onDestroy(()=>ep(Mt,be.toStyles)),void i.push(ot);const ke=[];be.timelines.forEach(yt=>{yt.stretchStartingKeyframe=!0,this.disabledNodes.has(yt.element)||ke.push(yt)}),be.timelines=ke,r.append(Mt,be.timelines),s.push({instruction:be,player:ot,element:Mt}),be.queriedElements.forEach(yt=>td(a,yt,[]).push(ot)),be.preStyleProps.forEach((yt,It)=>{if(yt.size){let Lt=u.get(It);Lt||u.set(It,Lt=new Set),yt.forEach((at,Ot)=>Lt.add(Ot))}}),be.postStyleProps.forEach((yt,It)=>{let Lt=c.get(It);Lt||c.set(It,Lt=new Set),yt.forEach((at,Ot)=>Lt.add(Ot))})});if(se.length){const Le=[];se.forEach(Ze=>{Le.push(function mje(n,e){return new sn(3505,!1)}())}),$.forEach(Ze=>Ze.destroy()),this.reportError(Le)}const ge=new Map,re=new Map;s.forEach(Le=>{const Ze=Le.element;r.has(Ze)&&(re.set(Ze,Ze),this._beforeAnimationBuild(Le.player.namespaceId,Le.instruction,ge))}),i.forEach(Le=>{const Ze=Le.element;this._getPreviousPlayers(Ze,!1,Le.namespaceId,Le.triggerName,null).forEach(ot=>{td(ge,Ze,[]).push(ot),ot.destroy()})});const fe=C.filter(Le=>Qoe(Le,u,c)),we=new Map;Zoe(we,this.driver,B,c,um).forEach(Le=>{Qoe(Le,u,c)&&fe.push(Le)});const vt=new Map;y.forEach((Le,Ze)=>{Zoe(vt,this.driver,new Set(Le),u,"!")}),fe.forEach(Le=>{var Ze,it;const ot=we.get(Le),Mt=vt.get(Le);we.set(Le,new Map([...Array.from(null!==(Ze=null==ot?void 0:ot.entries())&&void 0!==Ze?Ze:[]),...Array.from(null!==(it=null==Mt?void 0:Mt.entries())&&void 0!==it?it:[])]))});const pt=[],Xe=[],xt={};s.forEach(Le=>{const{element:Ze,player:it,instruction:ot}=Le;if(r.has(Ze)){if(f.has(Ze))return it.onDestroy(()=>ep(Ze,ot.toStyles)),it.disabled=!0,it.overrideTotalTime(ot.totalTime),void i.push(it);let Mt=xt;if(re.size>1){let ee=Ze;const he=[];for(;ee=ee.parentNode;){const be=re.get(ee);if(be){Mt=be;break}he.push(ee)}he.forEach(be=>re.set(be,Mt))}const J=this._buildAnimation(it.namespaceId,ot,ge,o,vt,we);if(it.setRealPlayer(J),Mt===xt)pt.push(it);else{const ee=this.playersByElement.get(Mt);ee&&ee.length&&(it.parentPlayer=oy(ee)),i.push(it)}}else Ub(Ze,ot.fromStyles),it.onDestroy(()=>ep(Ze,ot.toStyles)),Xe.push(it),f.has(Ze)&&i.push(it)}),Xe.forEach(Le=>{const Ze=o.get(Le.element);if(Ze&&Ze.length){const it=oy(Ze);Le.setRealPlayer(it)}}),i.forEach(Le=>{Le.parentPlayer?Le.syncPlayerEvents(Le.parentPlayer):Le.destroy()});for(let Le=0;Le<C.length;Le++){const Ze=C[Le],it=Ze[qd];if($S(Ze,rP),it&&it.hasAnimation)continue;let ot=[];if(a.size){let J=a.get(Ze);J&&J.length&&ot.push(...J);let ee=this.driver.query(Ze,gW,!0);for(let he=0;he<ee.length;he++){let be=a.get(ee[he]);be&&be.length&&ot.push(...be)}}const Mt=ot.filter(J=>!J.destroyed);Mt.length?y4e(this,Ze,Mt):this.processLeaveNode(Ze)}return C.length=0,pt.forEach(Le=>{this.players.push(Le),Le.onDone(()=>{Le.destroy();const Ze=this.players.indexOf(Le);this.players.splice(Ze,1)}),Le.play()}),pt}elementContainsData(e,t){let r=!1;const i=t[qd];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const u=!o||o==P1;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const c=u.element,f=c!==o,p=td(r,c,[]);this._getPreviousPlayers(c,f,s,a,t.toState).forEach(y=>{const w=y.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),y.destroy(),p.push(y)})}Ub(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,u=t.element,c=[],f=new Set,p=new Set,g=t.timelines.map(w=>{const M=w.element;f.add(M);const C=M[qd];if(C&&C.removedBeforeQueried)return new dT(w.duration,w.delay);const I=M!==u,B=function _4e(n){const e=[];return Joe(n,e),e}((r.get(M)||d4e).map(ge=>ge.getRealPlayer())).filter(ge=>!!ge.element&&ge.element===M),U=o.get(M),j=s.get(M),$=xoe(0,this._normalizer,0,w.keyframes,U,j),se=this._buildPlayer(w,$,B);if(w.subTimeline&&i&&p.add(M),I){const ge=new AW(e,a,M);ge.setRealPlayer(se),c.push(ge)}return se});c.forEach(w=>{td(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function m4e(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,w.element,w))}),f.forEach(w=>Jd(w,Loe));const y=oy(g);return y.onDestroy(()=>{f.forEach(w=>$S(w,Loe)),ep(u,t.toStyles)}),p.forEach(w=>{td(i,w,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new dT(e.duration,e.delay)}}class AW{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new dT,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>uW(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){td(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function vP(n){return n&&1===n.nodeType}function Koe(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Zoe(n,e,t,r,i){const o=[];t.forEach(u=>o.push(Koe(u)));const s=[];r.forEach((u,c)=>{const f=new Map;u.forEach(p=>{const g=e.computeStyle(c,p,i);f.set(p,g),(!g||0==g.length)&&(c[qd]=f4e,s.push(c))}),n.set(c,f)});let a=0;return t.forEach(u=>Koe(u,o[a++])),s}function qoe(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let u=o.get(a);if(u)return u;const c=a.parentNode;return u=t.has(c)?c:i.has(c)?1:s(c),o.set(a,u),u}return e.forEach(a=>{const u=s(a);1!==u&&t.get(u).push(a)}),t}function Jd(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function $S(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function y4e(n,e,t){oy(t).onDone(()=>n.processLeaveNode(e))}function Joe(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof sZ?Joe(r.players,e):e.push(r)}}function Qoe(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class yP{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new p4e(e,t,r),this._timelineEngine=new s4e(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const u=[],f=bW(this._driver,o,u,[]);if(u.length)throw function ije(n,e){return new sn(3404,!1)}();a=function n4e(n,e,t){return new r4e(n,e,t)}(i,f,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=Coe(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=Coe(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let M4e=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ep(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ep(this._element,this._initialStyles),this._endStyles&&(ep(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ub(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ub(this._element,this._endStyles),this._endStyles=null),ep(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function OW(n){let e=null;return n.forEach((t,r)=>{(function S4e(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class ese{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Boe(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class x4e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Doe(e,t)}getParentElement(e){return hW(e)}query(e,t,r){return Aoe(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,s=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(u.easing=o);const c=new Map,f=s.filter(y=>y instanceof ese);(function Rje(n,e){return 0===n||0===e})(r,i)&&f.forEach(y=>{y.currentSnapshot.forEach((w,M)=>c.set(M,w))});let p=function xje(n){return n.length?n[0]instanceof Map?n:n.map(e=>Ioe(e)):[]}(t).map(y=>ay(y));p=function Dje(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Boe(n,a)))}}return e}(e,p,c);const g=function w4e(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=OW(e[0]),e.length>1&&(r=OW(e[e.length-1]))):e instanceof Map&&(t=OW(e)),t||r?new M4e(n,t,r):null}(e,p);return new ese(e,p,u,g)}}let C4e=(()=>{class n extends rZ{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:fu.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?iZ(t):t;return tse(this._renderer,null,r,"register",[i]),new E4e(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(wt(nc),wt(Ci))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();class E4e extends class uMe{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new T4e(this._id,e,t||{},this._renderer)}}class T4e{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tse(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function tse(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const nse="@.disabled";let R4e=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(o);return f||(f=new rse("",o,this.engine),this._rendererCache.set(o,f)),f}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(s,a,t,f.name,f)};return r.data.animation.forEach(u),new D4e(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(wt(nc),wt(yP),wt(xi))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})();class rse{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==nse?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class D4e extends rse{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nse?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function A4e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function O4e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}const ise=[{provide:rZ,useClass:C4e},{provide:CW,useFactory:function L4e(){return new Jje}},{provide:yP,useClass:(()=>{class n extends yP{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(wt(Ci),wt(pW),wt(CW),wt(bM))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})()},{provide:nc,useFactory:function I4e(n,e,t){return new R4e(n,e,t)},deps:[XA,yP,xi]}],kW=[{provide:pW,useFactory:()=>new x4e},{provide:qp,useValue:"BrowserAnimations"},...ise],ose=[{provide:pW,useClass:Ooe},{provide:qp,useValue:"NoopAnimations"},...ise];let P4e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ose:kW}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({providers:kW,imports:[v$]}),n})();function LW(n){return(LW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function N4e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Qf(){return Qf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=H4e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Qf.apply(this,arguments)}function H4e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=rd(n)););return n}function IW(n,e){return(IW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function z4e(n,e){if(e&&("object"===LW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function U4e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function rd(n){return(rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var ase="handsontableEditor",PW=function(n){!function B4e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&IW(n,e)}(t,n);var e=function V4e(n){var e=function j4e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=rd(n);if(e){var o=rd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return z4e(this,i)}}(t);function t(){return N4e(this,t),e.apply(this,arguments)}return function F4e(n,e,t){e&&sse(n.prototype,e),t&&sse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"open",value:function(){Qf(rd(t.prototype),"open",this).call(this),this.htEditor&&this.htEditor.destroy(),"none"===this.htContainer.style.display&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),kL(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}},{key:"close",value:function(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),Qf(rd(t.prototype),"close",this).call(this)}},{key:"prepare",value:function(i,o,s,a,u,c){Qf(rd(t.prototype),"prepare",this).call(this,i,o,s,a,u,c);var f=this,p={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,afterOnCellMouseDown:function(y,w){var M=this.getSourceData(w.row,w.col);void 0!==M&&f.setValue(M),f.instance.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&Js(p,c.handsontable),this.htOptions=p}},{key:"beginEditing",value:function(i,o){var s=this.hot.getSettings().onBeginEditing;s&&!1===s()||Qf(rd(t.prototype),"beginEditing",this).call(this,i,o)}},{key:"createElements",value:function(){Qf(rd(t.prototype),"createElements",this).call(this);var i=this.hot.rootDocument.createElement("DIV");i.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(i),this.htContainer=i,this.assignHooks()}},{key:"finishEditing",value:function(i,o,s){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){var a=this.htEditor.getInstance().getValue();void 0!==a&&this.setValue(a)}Qf(rd(t.prototype),"finishEditing",this).call(this,i,o,s)}},{key:"assignHooks",value:function(){var i=this;this.hot.addHook("afterDestroy",function(){i.htEditor&&i.htEditor.destroy()})}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor");Qf(rd(t.prototype),"registerShortcuts",this).call(this);var u=function(f,p){var g=i.htEditor.getInstance();if(void 0!==f&&(f<0||g.flipped&&f>g.countRows()-1?g.deselectCell():g.selectCell(f,0),g.getData().length))return p.preventDefault(),Xh(p),i.hot.listen(),i.TEXTAREA.focus(),!1};s.addShortcuts([{keys:[["ArrowUp"]],callback:function(f){var g,y,p=i.htEditor.getInstance();return!p.getSelectedLast()&&p.flipped?g=p.countRows()-1:p.getSelectedLast()&&(p.flipped?(y=p.getSelectedLast()[0],g=Math.max(0,y-1)):g=(y=p.getSelectedLast()[0])-1),u(g,f)},preventDefault:!1},{keys:[["ArrowDown"]],callback:function(f){var g,y,p=i.htEditor.getInstance();if(p.getSelectedLast()||p.flipped){if(p.getSelectedLast())if(p.flipped)g=p.getSelectedLast()[0]+1;else if(!p.flipped){var w=p.countRows()-1;y=p.getSelectedLast()[0],g=Math.min(w,y+1)}}else g=0;return u(g,f)},preventDefault:!1}],{group:ase,relativeToGroup:FL,position:"before"})}},{key:"unregisterShortcuts",value:function(){Qf(rd(t.prototype),"unregisterShortcuts",this).call(this),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(ase)}}],[{key:"EDITOR_TYPE",get:function(){return"handsontable"}}]),t}(Hb);function NW(n){return(NW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Wb(){return Wb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=$4e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Wb.apply(this,arguments)}function $4e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Em(n)););return n}function FW(n,e){return(FW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Z4e(n,e){if(e&&("object"===NW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return HW(n)}function HW(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Em(n){return(Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var BW=new WeakMap,VW=function(n){!function X4e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&FW(n,e)}(t,n);var e=function K4e(n){var e=function q4e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Em(n);if(e){var o=Em(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Z4e(this,i)}}(t);function t(r){var i;return function Y4e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function J4e(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(HW(i=e.call(this,r)),"sortByRelevance",function(o,s,a){var y,w,M,u=[],c=[],f=o.length,p=s.length;if(0===f){for(w=0;w<p;w++)c.push(w);return c}for(w=0;w<p;w++){if(y=UQ(_a(s[w])),a)M=y.indexOf(o);else{var C=this.cellProperties.locale;M=y.toLocaleLowerCase(C).indexOf(o.toLocaleLowerCase(C))}-1!==M&&u.push({baseIndex:w,index:M,charsLeft:y.length-M-f,value:y})}for(u.sort(function(I,B){if(-1===B.index)return-1;if(-1===I.index)return 1;if(I.index<B.index)return-1;if(B.index<I.index)return 1;if(I.index===B.index){if(I.charsLeft<B.charsLeft)return-1;if(I.charsLeft>B.charsLeft)return 1}return 0}),w=0,p=u.length;w<p;w++)c.push(u[w].baseIndex);return c}),i.query=null,i.strippedChoices=[],i.rawChoices=[],BW.set(HW(i),{skipOne:!1,isMacOS:i.hot.rootWindow.navigator.platform.indexOf("Mac")>-1}),i}return function G4e(n,e,t){e&&lse(n.prototype,e),t&&lse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValue",value:function(){var i=this,o=this.rawChoices.find(function(s){return i.stripValueIfNeeded(s)===i.TEXTAREA.value});return fr(o)?o:this.TEXTAREA.value}},{key:"createElements",value:function(){Wb(Em(t.prototype),"createElements",this).call(this),Cn(this.htContainer,"autocompleteEditor"),Cn(this.htContainer,-1===this.hot.rootWindow.navigator.platform.indexOf("Mac")?"":"htMacScroll")}},{key:"open",value:function(){var i=this,o=BW.get(this);Wb(Em(t.prototype),"open",this).call(this);var s=this.htEditor.getInstance(),a=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown;this.showEditableElement(),this.focus();var u=yl();0===u&&o.isMacOS&&(u+=15),this.addHook("beforeKeyDown",function(c){return i.onBeforeKeyDown(c)}),s.updateSettings({colWidths:a?[us(this.TEXTAREA)-2]:void 0,width:a?us(this.TEXTAREA)+u:void 0,renderer:function(f,p,g,y,w,M,C){ey(f,p,g,y,w,M,C);var ge,re,I=i.cellProperties,B=I.filteringCaseSensitive,U=I.allowHtml,j=I.locale,$=i.query,se=_a(M);se&&!U&&-1!==(ge=!0===B?se.indexOf($):se.toLocaleLowerCase(j).indexOf($.toLocaleLowerCase(j)))&&(re=se.substr(ge,$.length),se=se.replace(re,"<strong>".concat(re,"</strong>"))),p.innerHTML=se},autoColumnSize:!0}),o.skipOne&&(o.skipOne=!1),this.hot._registerTimeout(function(){i.queryChoices(i.TEXTAREA.value)})}},{key:"close",value:function(){this.removeHooksByKey("beforeKeyDown"),Wb(Em(t.prototype),"close",this).call(this)}},{key:"discardEditor",value:function(i){Wb(Em(t.prototype),"discardEditor",this).call(this,i),this.hot.view.render()}},{key:"queryChoices",value:function(i){var o=this,s=this.cellProperties.source;this.query=i,"function"==typeof s?s.call(this.cellProperties,i,function(a){o.rawChoices=a,o.updateChoicesList(o.stripValuesIfNeeded(a))}):Array.isArray(s)?(this.rawChoices=s,this.updateChoicesList(this.stripValuesIfNeeded(s))):this.updateChoicesList([])}},{key:"updateChoicesList",value:function(i){var o=GQ(this.TEXTAREA),s=function YAe(n){var e=n.ownerDocument;if(n.selectionEnd)return n.selectionEnd;if(e.selection){var t=e.selection.createRange();return null===t?0:n.createTextRange().text.indexOf(t.text)+t.text.length}return 0}(this.TEXTAREA),a=this.cellProperties.sortByRelevance,u=this.cellProperties.filter,c=null,f=null,p=i;a&&(c=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),p,this.cellProperties.filteringCaseSensitive));var g=Array.isArray(c)?c.length:0;if(!1===u)g&&(f=c[0]);else{for(var y=[],w=0,M=p.length;w<M&&!(a&&g<=w);w++)y.push(g?p[c[w]]:p[w]);f=0,p=y}this.strippedChoices=p,this.htEditor.loadData(xL([p])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(f),this.hot.listen(),kL(this.TEXTAREA,o,o===s?void 0:s)}},{key:"flipDropdownIfNeeded",value:function(){var i=qT(this.hot.view._wt.wtTable.TABLE),o=i===this.hot.rootWindow,s=this.cellProperties.preventOverflow;if(o||!o&&(s||"horizontal"===s))return!1;var a=Ba(this.TEXTAREA),u=Qs(this.TEXTAREA),c=this.getDropdownHeight(),f=i.scrollTop,p=Qs(this.hot.view._wt.wtTable.THEAD),g=Ba(i),y=a.top-g.top-p+f,w=i.scrollHeight-y-p-u,M=c>w&&y>w;return M?this.flipDropdown(c):this.unflipDropdown(),this.limitDropdownIfNeeded(M?y:w,c),M}},{key:"limitDropdownIfNeeded",value:function(i,o){if(o>i){var c,s=0,a=0,u=0;do{s+=u=this.htEditor.getRowHeight(a)||this.htEditor.view._wt.getSetting("defaultRowHeight"),a+=1}while(s<i);c=s-u,this.htEditor.flipped&&(this.htEditor.rootElement.style.top="".concat(parseInt(this.htEditor.rootElement.style.top,10)+o-c,"px")),this.setDropdownHeight(s-u)}}},{key:"flipDropdown",value:function(i){var o=this.htEditor.rootElement.style;o.position="absolute",o.top="".concat(-i,"px"),this.htEditor.flipped=!0}},{key:"unflipDropdown",value:function(){var i=this.htEditor.rootElement.style;i.position="absolute",i.top="",this.htEditor.flipped=void 0}},{key:"updateDropdownHeight",value:function(){var i=this.htEditor.getColWidth(0)+yl(this.hot.rootDocument)+2,o=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:o?void 0:i}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}},{key:"setDropdownHeight",value:function(i){this.htEditor.updateSettings({height:i})}},{key:"highlightBestMatchingChoice",value:function(i){"number"==typeof i?this.htEditor.selectCell(i,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}},{key:"getDropdownHeight",value:function(){var i=this.htEditor.getInstance().getRowHeight(0)||23,o=this.cellProperties.visibleRows;return this.strippedChoices.length>=o?o*i:this.strippedChoices.length*i+8}},{key:"stripValueIfNeeded",value:function(i){return this.stripValuesIfNeeded([i])[0]}},{key:"stripValuesIfNeeded",value:function(i){var o=this.cellProperties.allowHtml,s=Ki(i,function(u){return _a(u)});return Ki(s,function(u){return o?u:UQ(u)})}},{key:"allowKeyEventPropagation",value:function(i){var o=this.htEditor.getSelectedRangeLast(),s_row=o?o.from.row:-1,a=!1;return i===Rr.ARROW_DOWN&&s_row>0&&s_row<this.htEditor.countRows()-1&&(a=!0),i===Rr.ARROW_UP&&s_row>-1&&(a=!0),a}},{key:"onBeforeKeyDown",value:function(i){var o=this,s=BW.get(this);if(s.skipOne=!1,function oOe(n){return 32===n||n>=48&&n<=57||n>=96&&n<=111||n>=186&&n<=192||n>=219&&n<=222||n>=226||n>=65&&n<=90}(i.keyCode)||i.keyCode===Rr.BACKSPACE||i.keyCode===Rr.DELETE||i.keyCode===Rr.INSERT){var a=10;if(i.keyCode===Rr.C&&(i.ctrlKey||i.metaKey))return;this.isOpened()||(a+=10),this.htEditor&&this.hot._registerTimeout(function(){o.queryChoices(o.TEXTAREA.value),s.skipOne=!0},a)}}}],[{key:"EDITOR_TYPE",get:function(){return"autocomplete"}}]),t}(PW);function zW(n){return(zW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function eWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function use(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function UW(n,e){return(UW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function iWe(n,e){if(e&&("object"===zW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function oWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function bP(n){return(bP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var cse=function(n){!function nWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&UW(n,e)}(t,n);var e=function rWe(n){var e=function sWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=bP(n);if(e){var o=bP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return iWe(this,i)}}(t);function t(){return eWe(this,t),e.apply(this,arguments)}return function tWe(n,e,t){e&&use(n.prototype,e),t&&use(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"beginEditing",value:function(i,o){if(o&&"mouseup"===o.type){var s=this.TD.querySelector('input[type="checkbox"]');_i(s,"htBadValue")||s.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}],[{key:"EDITOR_TYPE",get:function(){return"checkbox"}}]),t}(YS),dse=b(8183);function jW(n){return(jW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function fse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Tm(){return Tm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=cWe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Tm.apply(this,arguments)}function cWe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=eh(n)););return n}function WW(n,e){return(WW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function hWe(n,e){if(e&&("object"===jW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function pWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function eh(n){return(eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var pse="dateEditor",mse=function(n){!function dWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&WW(n,e)}(t,n);var e=function fWe(n){var e=function mWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=eh(n);if(e){var o=eh(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return hWe(this,i)}}(t);function t(r){var i;return function lWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).defaultDateFormat="DD/MM/YYYY",i.isCellEdited=!1,i.parentDestroyed=!1,i.$datePicker=null,i}return function uWe(n,e,t){e&&fse(n.prototype,e),t&&fse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"init",value:function(){var i=this;if("function"!=typeof rs)throw new Error("You need to include moment.js to your project.");if("function"!=typeof dse)throw new Error("You need to include Pikaday to your project.");Tm(eh(t.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",function(){i.parentDestroyed=!0,i.destroyElements()})}},{key:"createElements",value:function(){Tm(eh(t.prototype),"createElements",this).call(this),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),Cn(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),new ea(this).addEventListener(this.datePicker,"mousedown",function(o){return o.stopPropagation()})}},{key:"destroyElements",value:function(){var i=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),i&&i.removeChild(this.datePicker)}},{key:"prepare",value:function(i,o,s,a,u,c){Tm(eh(t.prototype),"prepare",this).call(this,i,o,s,a,u,c)}},{key:"open",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=this.hot.getShortcutManager(),s=o.getContext("editor");Tm(eh(t.prototype),"open",this).call(this),this.showDatepicker(i),s.addShortcut({keys:[["Enter"]],callback:function(u){u.stopPropagation()},group:pse})}},{key:"close",value:function(){var i,o=this;this._opened=!1,null!==(i=this.$datePicker)&&void 0!==i&&i.destroy&&this.$datePicker.destroy(),this.instance._registerTimeout(function(){o.instance._refreshBorders()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(pse),Tm(eh(t.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i){var s=this.originalValue;void 0!==s&&this.setValue(s)}Tm(eh(t.prototype),"finishEditing",this).call(this,i,o)}},{key:"showDatepicker",value:function(i){var c,o=this.TD.getBoundingClientRect(),s=this.cellProperties.dateFormat||this.defaultDateFormat,a=this.instance.view.isMouseDown(),u=!!i&&lee(i.keyCode);this.datePicker.style.display="block",this.$datePicker=new dse(this.getDatePickerConfig()),this.$datePicker._onInputFocus=function(){},this.datePickerStyle.top="".concat(this.hot.rootWindow.pageYOffset+o.top+Qs(this.TD),"px");var f;f=this.hot.isRtl()?o.right-us(this.datePicker):o.left,this.datePickerStyle.left="".concat(f,"px"),this.originalValue?(rs(c=this.originalValue,s,!0).isValid()&&this.$datePicker.setMoment(rs(c,s),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!u&&!a&&this.setValue("")):this.cellProperties.defaultDate?(rs(c=this.cellProperties.defaultDate,s,!0).isValid()&&this.$datePicker.setMoment(rs(c,s),!0),!u&&!a&&this.setValue("")):this.$datePicker.gotoToday()}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var i=this,o=this.TEXTAREA,s={};this.cellProperties&&this.cellProperties.datePickerConfig&&CL(s,this.cellProperties.datePickerConfig);var a=s.onSelect,u=s.onClose;return s.field=o,s.trigger=o,s.container=this.datePicker,s.bound=!1,s.format=s.format||this.defaultDateFormat,s.reposition=s.reposition||!1,s.isRTL=!1,s.onSelect=function(c){var f=c;isNaN(f.getTime())||(f=rs(f).format(i.cellProperties.dateFormat||i.defaultDateFormat)),i.setValue(f),i.hideDatepicker(),a&&a()},s.onClose=function(){i.parentDestroyed||i.finishEditing(!1),u&&u()},s}}],[{key:"EDITOR_TYPE",get:function(){return"date"}}]),t}(Hb);function YW(n){return(YW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function gWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function gse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function wP(){return wP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=yWe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},wP.apply(this,arguments)}function yWe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=XS(n)););return n}function GW(n,e){return(GW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function wWe(n,e){if(e&&("object"===YW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function MWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function XS(n){return(XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var $W=function(n){!function _We(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&GW(n,e)}(t,n);var e=function bWe(n){var e=function SWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=XS(n);if(e){var o=XS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return wWe(this,i)}}(t);function t(){return gWe(this,t),e.apply(this,arguments)}return function vWe(n,e,t){e&&gse(n.prototype,e),t&&gse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prepare",value:function(i,o,s,a,u,c){wP(XS(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}],[{key:"EDITOR_TYPE",get:function(){return"dropdown"}}]),t}(VW);function XW(n){return(XW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function CWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function KW(n,e){return(KW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function DWe(n,e){if(e&&("object"===XW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function AWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function MP(n){return(MP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}wr.getSingleton().add("beforeValidate",function(n,e,t){var r=this.getCellMeta(e,this.propToCol(t));r.editor===$W&&void 0===r.strict&&(r.filter=!1,r.strict=!0)});var yse=function(n){!function TWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&KW(n,e)}(t,n);var e=function RWe(n){var e=function OWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=MP(n);if(e){var o=MP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return DWe(this,i)}}(t);function t(){return CWe(this,t),e.apply(this,arguments)}return function EWe(n,e,t){e&&vse(n.prototype,e),t&&vse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,null,[{key:"EDITOR_TYPE",get:function(){return"numeric"}}]),t}(Hb);function ZW(n){return(ZW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function LWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _se(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function SP(){return SP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=PWe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},SP.apply(this,arguments)}function PWe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=KS(n)););return n}function qW(n,e){return(qW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function HWe(n,e){if(e&&("object"===ZW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function BWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function KS(n){return(KS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var bse=function(n){!function NWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&qW(n,e)}(t,n);var e=function FWe(n){var e=function VWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=KS(n);if(e){var o=KS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return HWe(this,i)}}(t);function t(){return LWe(this,t),e.apply(this,arguments)}return function IWe(n,e,t){e&&_se(n.prototype,e),t&&_se(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createElements",value:function(){SP(KS(t.prototype),"createElements",this).call(this),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,Zf(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}],[{key:"EDITOR_TYPE",get:function(){return"password"}}]),t}(Hb);function xP(n){return(xP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function UWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function wse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function CP(){return CP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=WWe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},CP.apply(this,arguments)}function WWe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ZS(n)););return n}function JW(n,e){return(JW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $We(n,e){if(e&&("object"===xP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function XWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ZS(n){return(ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var QW="ht_editor_visible",Mse="selectEditor",qWe=function(n){!function YWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&JW(n,e)}(t,n);var e=function GWe(n){var e=function KWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ZS(n);if(e){var o=ZS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $We(this,i)}}(t);function t(){return UWe(this,t),e.apply(this,arguments)}return function jWe(n,e,t){e&&wse(n.prototype,e),t&&wse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"init",value:function(){this.select=this.hot.rootDocument.createElement("SELECT"),Cn(this.select,"htSelectEditor"),this.select.style.display="none",this.hot.rootElement.appendChild(this.select),this.registerHooks()}},{key:"getValue",value:function(){return this.select.value}},{key:"setValue",value:function(i){this.select.value=i}},{key:"open",value:function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}},{key:"close",value:function(){this._opened=!1,this.select.style.display="none",_i(this.select,QW)&&Ii(this.select,QW),this.unregisterShortcuts(),this.clearHooks()}},{key:"focus",value:function(){this.select.focus()}},{key:"registerHooks",value:function(){var i=this;this.addHook("afterScrollHorizontally",function(){return i.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return i.refreshDimensions()}),this.addHook("afterColumnResize",function(){return i.refreshDimensions()}),this.addHook("afterRowResize",function(){return i.refreshDimensions()})}},{key:"prepare",value:function(i,o,s,a,u,c){var f=this;CP(ZS(t.prototype),"prepare",this).call(this,i,o,s,a,u,c);var g,p=this.cellProperties.selectOptions;g=this.prepareOptions("function"==typeof p?p(this.row,this.col,this.prop):p),Zf(this.select),to(g,function(y,w){var M=f.hot.rootDocument.createElement("OPTION");M.value=w,xb(M,y),f.select.appendChild(M)})}},{key:"prepareOptions",value:function(i){var o={};if(Array.isArray(i))for(var s=0,a=i.length;s<a;s++)o[i[s]]=i[s];else"object"===xP(i)&&(o=i);return o}},{key:"refreshValue",value:function(){var i=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=i,this.setValue(i),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){if(this.state===_l.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close();var i=this.getEditedCellRect(),o=i.top,s=i.start,a=i.width,c=this.select.style;c.height="".concat(i.height,"px"),c.width="".concat(a,"px"),c.top="".concat(o,"px"),c[this.hot.isRtl()?"right":"left"]="".concat(s,"px"),c.margin="0px",Cn(this.select,QW)}}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor"),a={group:Mse};!1!==this.isInFullEditMode()&&s.addShortcuts([{keys:[["ArrowUp"]],callback:function(){var c=i.select.selectedIndex-1;c>=0&&(i.select[c].selected=!0)}},{keys:[["ArrowDown"]],callback:function(){var c=i.select.selectedIndex+1;c<=i.select.length-1&&(i.select[c].selected=!0)}}],a)}},{key:"unregisterShortcuts",value:function(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(Mse)}}],[{key:"EDITOR_TYPE",get:function(){return"select"}}]),t}(YS);function eY(n){return(eY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function JWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Sse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function EP(){return EP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=eYe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},EP.apply(this,arguments)}function eYe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=qS(n)););return n}function tY(n,e){return(tY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function rYe(n,e){if(e&&("object"===eY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function iYe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function qS(n){return(qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var xse=function(n){!function tYe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&tY(n,e)}(t,n);var e=function nYe(n){var e=function oYe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=qS(n);if(e){var o=qS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return rYe(this,i)}}(t);function t(){return JWe(this,t),e.apply(this,arguments)}return function QWe(n,e,t){e&&Sse(n.prototype,e),t&&Sse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prepare",value:function(i,o,s,a,u,c){EP(qS(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),this.TEXTAREA.dir="ltr"}}],[{key:"EDITOR_TYPE",get:function(){return"time"}}]),t}(Hb);function nY(n,e,t,r,i,o,s){C1.apply(this,[n,e,t,r,i,o,s]),xb(e,null==o?"":o,!1)}function JS(n,e,t,r,i,o,s){var a=n.rootDocument,u=s.allowHtml?nY:ey,c=a.createElement("DIV");if(c.className="htAutocompleteArrow",c.appendChild(a.createTextNode(String.fromCharCode(9660))),u.apply(this,[n,e,t,r,i,o,s]),e.firstChild||e.appendChild(a.createTextNode(String.fromCharCode(160))),e.insertBefore(c,e.firstChild),Cn(e,"htAutocomplete"),!n.acArrowListener){var f=new ea(n);n.acArrowListener=function(p){_i(p.target,"htAutocompleteArrow")&&n.view._wt.getSetting("onCellDblClick",null,n._createCellCoords(t,r),e)},f.addEventListener(n.rootElement,"mousedown",n.acArrowListener),n.addHookOnce("afterDestroy",function(){f.destroy()})}}nY.RENDERER_TYPE="html",JS.RENDERER_TYPE="autocomplete";var Cse=new WeakMap,Ese=new WeakMap,QS="data-row",ex="data-col";function rY(n,e,t,r,i,o,s){var a=n.rootDocument;C1.apply(this,[n,e,t,r,i,o,s]),function fYe(n){var e=Ese.get(n);if(!e){var t=n.rootElement;(e=new ea(n)).addEventListener(t,"click",function(r){return function gYe(n,e){var t=n.target;if(iY(t)&&t.hasAttribute(QS)&&t.hasAttribute(ex)){var r=parseInt(t.getAttribute(QS),10),i=parseInt(t.getAttribute(ex),10);e.getCellMeta(r,i).readOnly&&n.preventDefault()}}(r,n)}),e.addEventListener(t,"mouseup",function(r){return function mYe(n,e){var t=n.target;!iY(t)||!t.hasAttribute(QS)||!t.hasAttribute(ex)||setTimeout(e.listen,10)}(r,n)}),e.addEventListener(t,"change",function(r){return function vYe(n,e){var t=n.target;if(iY(t)&&t.hasAttribute(QS)&&t.hasAttribute(ex)){var r=parseInt(t.getAttribute(QS),10),i=parseInt(t.getAttribute(ex),10),o=e.getCellMeta(r,i);o.readOnly||e.setDataAtCell(r,i,n.target.checked?void 0===o.uncheckedTemplate||o.checkedTemplate:void 0!==o.uncheckedTemplate&&o.uncheckedTemplate)}}(r,n)}),Ese.set(n,e)}}(n);var u=function hYe(n){var e=n.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("autocomplete","off"),e.setAttribute("tabindex","-1"),e.cloneNode(!1)}(a),c=s.label,f=!1;if(void 0===s.checkedTemplate&&(s.checkedTemplate=!0),void 0===s.uncheckedTemplate&&(s.uncheckedTemplate=!1),Zf(e),o===s.checkedTemplate||_a(o).toLocaleLowerCase(s.locale)===_a(s.checkedTemplate).toLocaleLowerCase(s.locale)?u.checked=!0:o===s.uncheckedTemplate||_a(o).toLocaleLowerCase(s.locale)===_a(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?u.checked=!1:nl(o)?Cn(u,"noValue"):(u.style.display="none",Cn(u,"htBadValue"),f=!0),u.setAttribute(QS,t),u.setAttribute(ex,r),!f&&c){var p="";if(c.value)p="function"==typeof c.value?c.value.call(this,t,r,i,o):c.value;else if(c.property){var g=n.getDataAtRowProp(t,c.property);p=null!==g?g:""}var y=function pYe(n,e,t){var r=n.createElement("label");return r.className="htCheckboxRendererLabel ".concat(t?"fullWidth":""),r.appendChild(n.createTextNode(e)),r.cloneNode(!0)}(a,p,!0!==c.separated);"before"===c.position?c.separated?(e.appendChild(y),e.appendChild(u)):(y.appendChild(u),u=y):(!c.position||"after"===c.position)&&(c.separated?(e.appendChild(u),e.appendChild(y)):(y.insertBefore(u,y.firstChild),u=y))}function M(){var I=arguments.length>0&&void 0!==arguments[0]&&arguments[0],B=n.getSelectedRange();if(B)for(var U=0;U<B.length;U++){for(var j=B[U].getTopStartCorner(),$=j.row,se=j.col,ge=B[U].getBottomEndCorner(),re=ge.row,fe=ge.col,we=[],Ae=$;Ae<=re;Ae+=1)for(var vt=se;vt<=fe;vt+=1){var pt=n.getCellMeta(Ae,vt);if("checkbox"!==pt.type)return;if(!0!==pt.readOnly){void 0===pt.checkedTemplate&&(pt.checkedTemplate=!0),void 0===pt.uncheckedTemplate&&(pt.uncheckedTemplate=!1);var Xe=n.getDataAtCell(Ae,vt);!1===I?[pt.checkedTemplate,pt.checkedTemplate.toString()].includes(Xe)?we.push([Ae,vt,pt.uncheckedTemplate]):[pt.uncheckedTemplate,pt.uncheckedTemplate.toString(),null,void 0].includes(Xe)&&we.push([Ae,vt,pt.checkedTemplate]):we.push([Ae,vt,pt.uncheckedTemplate])}}we.length>0&&n.setDataAtCell(we)}}function C(){var I=n.getSelectedRange();if(I){for(var B=0;B<I.length;B++)for(var U=I[B].getTopStartCorner(),j=I[B].getBottomEndCorner(),$=U.row;$<=j.row;$++)for(var se=U.col;se<=j.col;se++){var ge=n.getCellMeta($,se);if("checkbox"!==ge.type)return!1;var re=n.getCell($,se);if(null==re)return!0;if(re.querySelectorAll("input[type=checkbox]").length>0&&!ge.readOnly)return!0}return!1}}(!c||c&&!c.separated)&&e.appendChild(u),f&&e.appendChild(a.createTextNode("#bad-value#")),Cse.has(n)||(Cse.set(n,!0),function w(){n.getShortcutManager().getContext("grid").addShortcuts([{keys:[["space"]],callback:function(){return M(),!C()}},{keys:[["enter"]],callback:function(){return M(),!C()},runOnlyIf:function(){return n.getSettings().enterBeginsEditing}},{keys:[["delete"],["backspace"]],callback:function(){return M(!0),!C()},relativeToGroup:r1,position:"before"}],{group:"checkboxRenderer"})}())}function iY(n){return"INPUT"===n.tagName&&"checkbox"===n.getAttribute("type")}wr.getSingleton().add("modifyAutoColumnSizeSeed",function(n,e,t){var r=e.label,o=e.row;if("checkbox"===e.type){if(r){var u=r.value,c=r.property,f=t;if(u)f="function"==typeof u?u(o,e.column,e.prop,t):u;else if(c){var p=this.getDataAtRowProp(o,c);f=null!==p?p:t}n=f}return n}}),rY.RENDERER_TYPE="checkbox";var Yb=b(1046);function oY(n,e,t,r,i,o,s){var a=o;if(Yd(a)){var u=s.numericFormat,c=u&&u.culture||"-",f=u&&u.pattern,p=s.className||"",g=p.length?p.split(" "):[];if(void 0!==c&&!Yb.languages()[c]){var y=c.replace("-",""),w=Yb.allLanguages?Yb.allLanguages[c]:Yb[y];w&&Yb.registerLanguage(w)}Yb.setLanguage(c),a=Yb(a).format(f||"0"),g.indexOf("htLeft")<0&&g.indexOf("htCenter")<0&&g.indexOf("htRight")<0&&g.indexOf("htJustify")<0&&g.push("htRight"),g.indexOf("htNumeric")<0&&g.push("htNumeric"),s.className=g.join(" "),e.dir="ltr"}ey(n,e,t,r,i,a,s)}function sY(n,e,t,r,i,o,s){ey.apply(this,[n,e,t,r,i,o,s]);var u=s.hashSymbol||"*",c="";Hr((s.hashLength||e.innerHTML.length)-1,function(){c+=u}),xb(e,c)}function aY(n,e,t,r,i,o,s){ey.apply(this,[n,e,t,r,i,o,s]),e.dir="ltr"}function TP(n,e){var t=n;null==t&&(t=""),this.allowEmpty&&""===t?e(!0):this.strict&&this.source?"function"==typeof this.source?this.source(t,Rse(t,e)):Rse(t,e)(this.source):e(!0)}function Rse(n,e){var t=n;return function(r){for(var i=!1,o=0,s=r.length;o<s;o++)if(t===r[o]){i=!0;break}e(i)}}function lY(n,e){var t=mee("date",this.instance),r=n,i=!0;null==r&&(r="");var o=rs(r,this.dateFormat||t.defaultDateFormat,!0).isValid(),s=rs(new Date(r)).isValid()||o;if(this.allowEmpty&&""===r&&(s=!0,o=!0),s||(i=!1),!s&&o&&(i=!0),s&&!o)if(!0===this.correctFormat){var a=function CYe(n,e){var t=rs(function SYe(n){var e=new Date(n);return isNaN(new Date("".concat(n,"T00:00")).getDate())?e:new Date(e.getTime()+6e4*e.getTimezoneOffset())}(n)),r=rs(n,e),i=n.search(/[A-z]/g)>-1;return(t.isValid()&&t.format("x")===r.format("x")||!r.isValid()||i?t:r).format(e)}(r,this.dateFormat),u=this.instance.toVisualRow(this.row),c=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(u,c,a,"dateValidator"),i=!0}else i=!1;e(i)}function uY(n,e){var t=n;null==t&&(t=""),e(!(!this.allowEmpty||""!==t)||""!==t&&Yd(n))}oY.RENDERER_TYPE="numeric",sY.RENDERER_TYPE="password",aY.RENDERER_TYPE="time",TP.VALIDATOR_TYPE="autocomplete",b(2024),lY.VALIDATOR_TYPE="date",uY.VALIDATOR_TYPE="numeric";var TYe=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"];function cY(n,e){var t=this.timeFormat||"h:mm:ss a",r=!0,i=n;null===i&&(i=""),i=/^\d{3,}$/.test(i)?parseInt(i,10):i;var o=/^\d{1,2}$/.test(i);o&&(i+=":00");var s=rs(i,TYe,!0).isValid()?rs(i):rs(i,t),a=s.isValid(),u=rs(i,t,!0).isValid()&&!o;if(this.allowEmpty&&""===i&&(a=!0,u=!0),a||(r=!1),!a&&u&&(r=!0),a&&!u)if(!0===this.correctFormat){var c=s.format(t),f=this.instance.toVisualRow(this.row),p=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(f,p,c,"timeValidator"),r=!0}else r=!1;e(r)}cY.VALIDATOR_TYPE="time";var OYe={CELL_TYPE:"autocomplete",editor:VW,renderer:JS,validator:TP},LYe={CELL_TYPE:"checkbox",editor:cse,renderer:rY},PYe={CELL_TYPE:"date",editor:mse,renderer:JS,validator:lY},FYe={CELL_TYPE:"dropdown",editor:$W,renderer:JS,validator:TP},BYe={CELL_TYPE:"handsontable",editor:PW,renderer:JS},zYe={CELL_TYPE:"numeric",editor:yse,renderer:oY,validator:uY,dataType:"number"},jYe={CELL_TYPE:"password",editor:bse,renderer:sY,copyable:!1},YYe={CELL_TYPE:"time",editor:xse,renderer:aY,validator:cY};function Dse(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ase(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(1514);var Ose=new Map([["plugin",function Eke(n){return!!cz(n)}],["cell-type",ane],["editor",pee],["renderer",Lee],["validator",Iee]]),Gb=new WeakMap,dY=[],tp=null,kse=new WeakSet,Go=function(){function n(e){var t=this;(function JYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function eGe(n,e){(function tGe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.add(n)}(this,kse),wm(this,"hot",e,{writable:!1}),Gb.set(this,{hooks:{}}),tp=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return t.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(r){return t.onUpdateSettings(r)}),this.hot.addHook("beforeInit",function(){return t.init()})}return function QYe(n,e,t){e&&Ase(n.prototype,e),t&&Ase(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"init",value:function(){var t=this;this.pluginName=this.hot.getPluginName(this);var r=this.constructor.PLUGIN_DEPS,i=Array.isArray(r)?r:[];if(i.length>0){var o=[];if(i.forEach(function(c){var p=function $Ye(n,e){return function qYe(n){if(Array.isArray(n))return n}(n)||function ZYe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function KYe(n,e){if(n){if("string"==typeof n)return Dse(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dse(n,e)}}(n,e)||function XYe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(c.split(":"),2),g=p[0],y=p[1];if(!Ose.has(g))throw new Error('Unknown plugin dependency type "'.concat(g,'" was found.'));Ose.get(g)(y)||o.push(" - ".concat(y," (").concat(g,")"))}),o.length>0){var s=["The ".concat(this.pluginName," plugin requires the following modules:\n"),"".concat(o.join("\n"),"\n")].join("");dY.push(s)}}if(tp||(tp=kee()),tp.indexOf("UndoRedo")>=0&&tp.splice(tp.indexOf("UndoRedo"),1),tp.indexOf(this.pluginName)>=0&&tp.splice(tp.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",function(){t.isEnabled&&t.isEnabled()&&t.enablePlugin()}),0===tp.length){if(dY.length>0){var u=["".concat(dY.join("\n"),"\n"),"You have to import and register them manually."].join("");throw new Error(u)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(t,r){Gb.get(this).hooks[t]=Gb.get(this).hooks[t]||[];var i=Gb.get(this).hooks[t];this.hot.addHook(t,r),i.push(r),Gb.get(this).hooks[t]=i}},{key:"removeHooks",value:function(t){var r=this;Qe(Gb.get(this).hooks[t]||[],function(i){r.hot.removeHook(t,i)})}},{key:"clearHooks",value:function(){var t=this,r=Gb.get(this).hooks;to(r,function(i,o){return t.removeHooks(o)}),r.length=0}},{key:"callOnPluginsReady",value:function(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)}},{key:"onAfterPluginsInitialized",value:function(){Qe(this.pluginsInitializedCallbacks,function(t){return t()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(t){var r=function nGe(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}(this,kse,iGe).call(this,t);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&r&&this.updatePlugin(t))}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var t=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),to(this,function(r,i){"hot"!==i&&(t[i]=null)}),delete this.t,delete this.hot}}],[{key:"PLUGIN_KEY",get:function(){return"base"}},{key:"SETTING_KEYS",get:function(){return[this.PLUGIN_KEY]}}]),n}();function iGe(n){if(!n)return!1;var e=this.constructor.SETTING_KEYS;if("boolean"==typeof e)return e;for(var t=0;t<e.length;t++)if(void 0!==n[e[t]])return!0;return!1}function Lse(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ise(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Pse=function(){function n(e){(function cGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}return function dGe(n,e,t){e&&Ise(n.prototype,e),t&&Ise(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addRow",value:function(t,r){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var i={row:t};this.rows.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}},{key:"addColumnHeadersRow",value:function(t){if(null!=this.hot.getColHeader(0)){var i={row:-1};this.rows.push(i),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}}},{key:"addColumn",value:function(t,r){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var i={col:t};this.columns.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(t)&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}},{key:"getHeights",value:function(t){this.injected||this.injectTable(),Qe(this.rows,function(r){t(r.row,Qs(r.table)-1)})}},{key:"getWidths",value:function(t){this.injected||this.injectTable(),Qe(this.columns,function(r){var i=r.table.getBoundingClientRect();t(r.col,Math.ceil(i.width))})}},{key:"setSettings",value:function(t){this.settings=t}},{key:"setSetting",value:function(t,r){this.settings||(this.settings={}),this.settings[t]=r}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(t){return this.settings?this.settings[t]:null}},{key:"createColGroupsCol",value:function(){var t=this,r=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&r.appendChild(this.createColElement(-1)),this.samples.forEach(function(i){Qe(i.strings,function(o){r.appendChild(t.createColElement(o.col))})}),r}},{key:"createRow",value:function(t){var r=this,i=this.hot.rootDocument,o=i.createDocumentFragment(),s=i.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,s),o.appendChild(s)),this.samples.forEach(function(a){Qe(a.strings,function(u){var c=u.col,f=r.hot.getCellMeta(t,c);f.col=c,f.row=t;var p=r.hot.getCellRenderer(f),g=i.createElement("td");g.setAttribute("ghost-table",1),p(r.hot,g,t,c,r.hot.colToProp(c),u.value,f),o.appendChild(g)})}),o}},{key:"appendColumnHeadersRow",value:function(){var t=this,r=this.hot.rootDocument,i=r.createDocumentFragment(),o=[];if(this.hot.hasRowHeaders()){var s=r.createElement("th");o.push([-1,s]),i.appendChild(s)}this.samples.forEach(function(a){Qe(a.strings,function(u){var c=u.col,f=r.createElement("th");o.push([c,f]),i.appendChild(f)})}),this.table.tHead.appendChild(i),Qe(o,function(a){var u=function oGe(n,e){return function uGe(n){if(Array.isArray(n))return n}(n)||function lGe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function aGe(n,e){if(n){if("string"==typeof n)return Lse(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lse(n,e)}}(n,e)||function sGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a,2);t.hot.view.appendColHeader(u[0],u[1])})}},{key:"createCol",value:function(t){var r=this,i=this.hot.rootDocument,o=i.createDocumentFragment();return this.samples.forEach(function(s){Qe(s.strings,function(a){var u=a.row,c=r.hot.getCellMeta(u,t);c.col=t,c.row=u;var f=r.hot.getCellRenderer(c),p=i.createElement("td"),g=i.createElement("tr");p.setAttribute("ghost-table",1),f(r.hot,p,u,t,r.hot.colToProp(t),a.value,c),g.appendChild(p),o.appendChild(g)})}),o}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(t){var r=this.hot.rootDocument.createElement("col");return r.style.width="".concat(this.hot.view._wt.wtTable.getStretchedColumnWidth(t),"px"),r}},{key:"createTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.hot.rootDocument,i=r.createDocumentFragment(),o=r.createElement("table"),s=r.createElement("thead"),a=r.createElement("tbody"),u=r.createElement("colgroup"),c=r.createElement("tr"),f=r.createElement("th");return this.isVertical()&&o.appendChild(u),this.isHorizontal()&&(c.appendChild(f),s.appendChild(c),o.style.tableLayout="auto",o.style.width="auto"),o.appendChild(s),this.isVertical()&&a.appendChild(c),o.appendChild(a),Cn(o,t),i.appendChild(o),{fragment:i,table:o,tHead:s,tBody:a,colGroup:u,tr:c,th:f}}},{key:"createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.hot.rootDocument,i=r.createDocumentFragment(),o=r.createElement("div"),s="htGhostTable htAutoSize ".concat(t.trim());return Cn(o,s),i.appendChild(o),{fragment:i,container:o}}},{key:"isVertical",value:function(){return!(!this.rows.length||this.columns.length)}},{key:"isHorizontal",value:function(){return!(!this.columns.length||this.rows.length)}}]),n}();function Nse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Fse=function(){function n(e){(function pGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.samples=null,this.dataFactory=e,this.customSampleCount=null,this.allowDuplicates=!1}return function mGe(n,e,t){e&&Nse(n.prototype,e),t&&Nse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:n.SAMPLE_COUNT}},{key:"setSampleCount",value:function(t){this.customSampleCount=t}},{key:"setAllowDuplicates",value:function(t){this.allowDuplicates=t}},{key:"generateRowSamples",value:function(t,r){return this.generateSamples("row",r,t)}},{key:"generateColumnSamples",value:function(t,r){return this.generateSamples("col",r,t)}},{key:"generateSamples",value:function(t,r,i){var o=this,s=new Map,a="number"==typeof i?{from:i,to:i}:i;return Hr(a.from,a.to,function(f){var p=o.generateSample(t,r,f);s.set(f,p)}),s}},{key:"generateSample",value:function(t,r,i){var o=this;if("row"!==t&&"col"!==t)throw new Error("Unsupported sample type");var s=new Map,a="row"===t?"col":"row",u=[];return Hr(r.from,r.to,function(c){var w,f="row"===t?o.dataFactory(i,c):o.dataFactory(c,i),p=f.value,g=f.bundleSeed,y="string"==typeof g&&g.length>0;w=y?g:ji(p)?"".concat(Object.keys(p).length):Array.isArray(p)?"".concat(p.length):"".concat(_a(p).length),s.has(w)||s.set(w,{needed:o.getSampleCount(),strings:[]});var M=s.get(w);M.needed&&(!(u.indexOf(p)>-1)||o.allowDuplicates||y)&&(M.strings.push(function hGe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}({value:p},a,c)),u.push(p),M.needed-=1)}),s}}],[{key:"SAMPLE_COUNT",get:function(){return 3}}]),n}();function fY(n){return(fY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Hse(n,e){return function bGe(n){if(Array.isArray(n))return n}(n)||function _Ge(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function yGe(n,e){if(n){if("string"==typeof n)return Bse(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bse(n,e)}}(n,e)||function vGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bse(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Vse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function $b(){return $b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=SGe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},$b.apply(this,arguments)}function SGe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Rm(n)););return n}function hY(n,e){return(hY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function EGe(n,e){if(e&&("object"===fY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zse(n)}function zse(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Rm(n){return(Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}wr.getSingleton().register("modifyAutoColumnSizeSeed");var N1="autoColumnSize",pY=new WeakMap,AGe=function(n){!function xGe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hY(n,e)}(t,n);var e=function CGe(n){var e=function TGe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Rm(n);if(e){var o=Rm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return EGe(this,i)}}(t);function t(r){var i;return function wGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),pY.set(zse(i),{cachedColumnHeaders:[]}),i.ghostTable=new Pse(i.hot),i.samplesGenerator=new Fse(function(o,s){var a=i.hot.getCellMeta(o,s),u="";a.spanned||(u=i.hot.getDataAtCell(o,s));var c="";return i.hot.hasHook("modifyAutoColumnSizeSeed")&&(c=i.hot.runHooks("modifyAutoColumnSizeSeed",c,a,u)),{value:u,bundleSeed:c}}),i.firstCalculation=!0,i.inProgress=!1,i.measuredColumns=0,i.columnWidthsMap=new Zv,i.hot.columnIndexMapper.registerMap("autoColumnSize",i.columnWidthsMap),i.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)}),i}return function MGe(n,e,t){e&&Vse(n.prototype,e),t&&Vse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!1!==this.hot.getSettings()[N1]&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[N1];o&&null!=o.useHeaders&&this.ghostTable.setSetting("useHeaders",o.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeChangeRender",function(s){return i.onBeforeChange(s)}),this.addHook("afterFormulasValuesUpdate",function(s){return i.onAfterFormulasValuesUpdate(s)}),this.addHook("beforeViewRender",function(s){return i.onBeforeViewRender(s)}),this.addHook("modifyColWidth",function(s,a){return i.getColumnWidth(a,s)}),this.addHook("afterInit",function(){return i.onAfterInit()}),$b(Rm(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var i=this.findColumnsWhereHeaderWasChanged();i.length&&(this.clearCache(i),this.calculateVisibleColumnsWidth()),$b(Rm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var i=this;$b(Rm(t.prototype),"disablePlugin",this).call(this),this.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)})}},{key:"calculateVisibleColumnsWidth",value:function(){if(this.hot.countRows()){var o=this.hot.renderCall,s=this.getFirstVisibleColumn(),a=this.getLastVisibleColumn();-1===s||-1===a||this.calculateColumnsWidth({from:s,to:a},void 0,o)}}},{key:"calculateColumnsWidth",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="number"==typeof o?{from:o,to:o}:o,c="number"==typeof s?{from:s,to:s}:s;Hr(u.from,u.to,function(f){var p=i.hot.toPhysicalColumn(f);null===p&&(p=f),(a||null===i.columnWidthsMap.getValueAtIndex(p)&&!i.hot._getColWidthFromSettings(p))&&Qe(i.samplesGenerator.generateColumnSamples(f,c),function(y){var w=Hse(y,2);return i.ghostTable.addColumn(w[0],w[1])})}),this.ghostTable.columns.length&&(this.hot.batchExecution(function(){i.ghostTable.getWidths(function(f,p){var g=i.hot.toPhysicalColumn(f);i.columnWidthsMap.setValueAtIndex(g,p)})},!0),this.measuredColumns=u.to+1,this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},s=0,a=this.hot.countCols()-1,u=null;this.inProgress=!0;var c=function p(){if(!i.hot)return SL(u),void(i.inProgress=!1);i.calculateColumnsWidth({from:s,to:Math.min(s+t.CALCULATION_STEP,a)},o),(s=s+t.CALCULATION_STEP+1)<a?u=EQ(p):(SL(u),i.inProgress=!1,i.hot.view.adjustElementsSize())},f=this.getSyncCalculationLimit();this.firstCalculation&&f>=0&&(this.calculateColumnsWidth({from:0,to:f},o),this.firstCalculation=!1,s=f+1),s<a?c():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var i=this.hot.getSettings()[N1],o=i&&Ps(i,"samplingRatio")?i.samplingRatio:void 0,s=i&&Ps(i,"allowSampleDuplicates")?i.allowSampleDuplicates:void 0;o&&!isNaN(o)&&this.samplesGenerator.setSampleCount(parseInt(o,10)),s&&this.samplesGenerator.setAllowDuplicates(s)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var i=this.hot.getSettings()[N1],o=t.SYNC_CALCULATION_LIMIT,s=this.hot.countCols()-1;return ji(i)&&(VQ(o=i.syncLimit)?o=See(s,o):o>>=0),Math.min(o,s)}},{key:"getColumnWidth",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=o;return void 0===a&&(a=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(i)),s&&"number"==typeof a&&(a=Math.max(a,rU.DEFAULT_WIDTH))),a}},{key:"getFirstVisibleColumn",value:function(){var i=this.hot.view._wt;if(i.wtViewport.columnsVisibleCalculator){var o=i.wtTable.getFirstVisibleColumn();if(-1!==o)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)}if(i.wtViewport.columnsRenderCalculator){var s=i.wtTable.getFirstRenderedColumn();if(-1!==s)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(s)}return-1}},{key:"getLastVisibleColumn",value:function(){var i=this.hot.view._wt;if(i.wtViewport.columnsVisibleCalculator){var o=i.wtTable.getLastVisibleColumn();if(-1!==o)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)}if(i.wtViewport.columnsRenderCalculator){var s=i.wtTable.getLastRenderedColumn();if(-1!==s)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(s)}return-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var i=this.hot.getColHeader(),s=pY.get(this).cachedColumnHeaders;return Ha(i,function(u,c,f){var p=s.length;return(p-1<f||s[f]!==c)&&u.push(f),p-1<f?s.push(c):s[f]=c,u},[])}},{key:"clearCache",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.length?this.hot.batchExecution(function(){Qe(o,function(s){i.columnWidthsMap.setValueAtIndex(s,null)})},!0):this.columnWidthsMap.clear()}},{key:"isNeedRecalculate",value:function(){return!!jd(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),function(i){return null===i}).length}},{key:"onBeforeViewRender",value:function(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}},{key:"onAfterLoadData",value:function(){var i=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){i.hot&&i.recalculateAllColumnsWidth()},0)}},{key:"onBeforeChange",value:function(i){var o=this,s=Ki(i,function(a){var u=Hse(a,2);return o.hot.toPhysicalColumn(o.hot.propToCol(u[1]))});this.clearCache(Array.from(new Set(s)))}},{key:"onBeforeColumnResize",value:function(i,o,s){var a=i;return s&&(this.calculateColumnsWidth(o,void 0,!0),a=this.getColumnWidth(o,void 0,!1)),a}},{key:"onAfterInit",value:function(){pY.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"onAfterFormulasValuesUpdate",value:function(i){var s=Ki(jd(i,function(a){var u;return fr(null===(u=a.address)||void 0===u?void 0:u.col)}),function(a){return a.address.col});this.clearCache(Array.from(new Set(s)))}},{key:"destroy",value:function(){this.ghostTable.clean(),$b(Rm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return N1}},{key:"PLUGIN_PRIORITY",get:function(){return 10}},{key:"SETTING_KEYS",get:function(){return!0}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}]),t}(Go),Xb={horizontal:"horizontal",vertical:"vertical"};function mY(n){return(mY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Use(n,e){if(n){if("string"==typeof n)return gY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gY(n,e)}}function gY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Kb(){return Kb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=WGe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Kb.apply(this,arguments)}function WGe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Dm(n)););return n}function vY(n,e){return(vY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $Ge(n,e){if(e&&("object"===mY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wse(n)}function Wse(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Dm(n){return(Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}wr.getSingleton().register("modifyAutofillRange"),wr.getSingleton().register("beforeAutofill"),wr.getSingleton().register("afterAutofill");var Yse="autofill",ZGe=["fillHandle"],QGe=function(n){!function YGe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&vY(n,e)}(t,n);var e=function GGe(n){var e=function XGe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Dm(n);if(e){var o=Dm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $Ge(this,i)}}(t);function t(r){var i;return function UGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(Wse(i)),i.addingStarted=!1,i.mouseDownOnCellCorner=!1,i.mouseDragOutside=!1,i.handleDraggedCells=0,i.directions=[],i.autoInsertRow=!1,i}return function jGe(n,e,t){e&&jse(n.prototype,e),t&&jse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(o){return i.onAfterCellCornerMouseDown(o)}),this.addHook("afterOnCellCornerDblClick",function(o){return i.onCellCornerDblClick(o)}),this.addHook("beforeOnCellMouseOver",function(o,s){return i.onBeforeCellMouseOver(s)}),Kb(Dm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Kb(Dm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),Kb(Dm(t.prototype),"disablePlugin",this).call(this)}},{key:"getSelectionData",value:function(){var i=this,o=this.hot.getSelectedRangeLast(),s=o.getTopStartCorner(),a=s.row,u=s.col,c=o.getBottomEndCorner(),g=this.hot.runHooks("modifyCopyableRange",[{startRow:a,startCol:u,endRow:c.row,endCol:c.col}]),y=[],w=[],M=[];return Qe(g,function(C){for(var I=C.startRow;I<=C.endRow;I+=1)-1===y.indexOf(I)&&y.push(I);for(var B=C.startCol;B<=C.endCol;B+=1)-1===w.indexOf(B)&&w.push(B)}),Qe(y,function(C){var I=[];Qe(w,function(B){I.push(i.hot.getCopyableData(C,B))}),M.push(I)}),M}},{key:"fillIn",value:function(){var i=this;if(this.hot.selection.highlight.getFill().isEmpty())return!1;var s=function HGe(n,e){return function zGe(n){if(Array.isArray(n))return n}(n)||function VGe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Use(n,e)||function BGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.hot.selection.highlight.getFill().getVisualCorners(),4),a=s[0],u=s[1],c=s[2],f=s[3],p=this.hot.getSelectedRangeLast(),g=p.getTopStartCorner(),y=p.getBottomEndCorner();this.resetSelectionOfDraggedArea();var w=[g.row,g.col,y.row,y.col],M=this.hot.runHooks("modifyAutofillRange",[Math.min(g.row,a),Math.min(g.col,u),Math.max(y.row,c),Math.max(y.col,f)],w),C=function kGe(n,e,t){var r,i,o;return e[0]===n[0]&&e[1]<n[1]?(o="left",r=t(e[0],e[1]),i=t(e[2],n[1]-1)):e[2]===n[2]&&e[0]===n[0]&&e[3]>n[3]?(o="right",r=t(e[0],n[3]+1),i=t(e[2],e[3])):e[0]<n[0]&&e[1]===n[1]?(o="up",r=t(e[0],e[1]),i=t(n[0]-1,e[3])):e[2]>n[2]&&e[1]===n[1]&&(o="down",r=t(n[2]+1,e[1]),i=t(e[2],e[3])),r&&r.normalize(),i&&i.normalize(),{directionOfDrag:o,startOfDragCoords:r,endOfDragCoords:i}}(w,M,function(it,ot){return i.hot._createCellCoords(it,ot)}),I=C.directionOfDrag,B=C.startOfDragCoords,U=C.endOfDragCoords;if(B&&B.row>-1&&B.col>-1){var j=this.getSelectionData(),$=p.clone(),se=this.hot._createCellRange(B,B,U),ge=this.hot.runHooks("beforeAutofill",j,$,se,I);if(!1===ge)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;var re=function OGe(n,e,t,r){var i=t.length,o=t?t[0].length:0,s=[],a=e.row-n.row,u=e.col-n.col;if(-1!==["down","up"].indexOf(r)){for(var c=[],f=0;f<u;f++){var p=parseInt(t[0][f],10),g=parseInt(t[i-1][f],10);c.push(("down"===r?g-p:p-g)/(i-1)||0)}s.push(c)}if(-1!==["right","left"].indexOf(r))for(var w=0;w<a;w++){var M=parseInt(t[w][0],10),C=parseInt(t[w][o-1],10);s.push([("right"===r?C-M:M-C)/(o-1)||0])}return s}(B,U,j,I),fe=ge,we=ge;if(["up","left"].indexOf(I)>-1&&(1!==we.length||0!==we[0].length))if(fe=[],"up"===I)for(var Ae=U.row-B.row+1,vt=Ae%we.length,pt=0;pt<Ae;pt++)fe.push(we[(pt+(we.length-vt))%we.length]);else for(var Xe=U.col-B.col+1,xt=Xe%we[0].length,Le=0;Le<we.length;Le++){fe.push([]);for(var Ze=0;Ze<Xe;Ze++)fe[Le].push(we[Le][(Ze+(we[Le].length-xt))%we[Le].length])}this.hot.populateFromArray(B.row,B.col,fe,U.row,U.col,"".concat(this.pluginName,".fill"),null,I,re),this.setSelection(M),this.hot.runHooks("afterAutofill",fe,$,se,I),this.hot.render()}else this.hot._refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(i){return i.row<0&&(i.row=0),i.col<0&&(i.col=0),i}},{key:"getCoordsOfDragAndDropBorders",value:function(i){var o=this.hot.getSelectedRangeLast(),s=o.getBottomEndCorner(),a=i;if(this.directions.includes(Xb.vertical)&&this.directions.includes(Xb.horizontal)){var u=o.getTopStartCorner();(s.col<=i.col||u.col>=i.col)&&(a=this.hot._createCellCoords(s.row,i.col)),(s.row<i.row||u.row>i.row)&&(a=this.hot._createCellCoords(i.row,s.col))}else if(this.directions.includes(Xb.vertical))a=this.hot._createCellCoords(i.row,s.col);else{if(!this.directions.includes(Xb.horizontal))return;a=this.hot._createCellCoords(s.row,i.col)}return this.reduceSelectionAreaIfNeeded(a)}},{key:"showBorder",value:function(i){var o=this.getCoordsOfDragAndDropBorders(i);o&&this.redrawBorders(o)}},{key:"addRow",value:function(){var i=this;this.hot._registerTimeout(function(){i.hot.alter("insert_row",void 0,1,"".concat(i.pluginName,".fill")),i.addingStarted=!1},200)}},{key:"addNewRowIfNeeded",value:function(){if(!this.hot.selection.highlight.getFill().isEmpty()&&!1===this.addingStarted&&this.autoInsertRow){var i=this.hot.getSelectedLast(),o=this.hot.selection.highlight.getFill().getVisualCorners(),s=this.hot.countRows();i[2]<s-1&&o[2]===s-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(i){for(var a,o=this.hot.getData(),s=this.hot.countRows(),u=i[2]+1;u<s;u++){for(var c=i[1];c<=i[3];c++)if(o[u][c])return-1;(o[u][i[1]-1]||o[u][i[3]+1])&&(a=u)}return a}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(i,o){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(i[0],i[1])).add(this.hot._createCellCoords(o,i[3])).commit()}},{key:"setSelection",value:function(i){var o;(o=this.hot).selectCell.apply(o,function IGe(n){return function FGe(n){if(Array.isArray(n))return gY(n)}(n)||function NGe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Use(n)||function PGe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ki(i,function(s){return Math.max(s,0)})).concat([!1,!1]))}},{key:"selectAdjacent",value:function(){var i=this.hot.getSelectedLast(),o=this.getIndexOfLastAdjacentFilledInRow(i);return-1!==o&&void 0!==o&&(this.addSelectionFromStartAreaToSpecificRowIndex(i,o),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}},{key:"redrawBorders",value:function(i){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(i).commit(),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(i){var o=this.hot.rootDocument.documentElement,s=Ba(this.hot.table).top-(this.hot.rootWindow.pageYOffset||o.scrollTop)+Qs(this.hot.table),a=Ba(this.hot.table).left-(this.hot.rootWindow.pageXOffset||o.scrollLeft)+us(this.hot.table);return i.clientY>s&&i.clientX<=a}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()}),this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)})}},{key:"onCellCornerDblClick",value:function(){this.selectAdjacent()&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(i){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(i),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(i){var o=this.getIfMouseWasDraggedOutside(i);!1===this.addingStarted&&this.handleDraggedCells>0&&o?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var i=function LGe(n){var e={};return!0===n?(e.directions=Object.keys(Xb),e.autoInsertRow=!0):ji(n)?(e.autoInsertRow=!!fr(n.autoInsertRow)&&n.direction!==Xb.horizontal&&n.autoInsertRow,e.directions=fr(n.direction)?[n.direction]:Object.keys(Xb)):"string"==typeof n?(e.directions=[n],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}(this.hot.getSettings().fillHandle);this.directions=i.directions,this.autoInsertRow=i.autoInsertRow}},{key:"destroy",value:function(){Kb(Dm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Yse}},{key:"PLUGIN_PRIORITY",get:function(){return 20}},{key:"SETTING_KEYS",get:function(){return[Yse].concat(ZGe)}}]),t}(Go);function yY(n){return(yY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function e5e(n,e){return function i5e(n){if(Array.isArray(n))return n}(n)||function r5e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function n5e(n,e){if(n){if("string"==typeof n)return Gse(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gse(n,e)}}(n,e)||function t5e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gse(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function $se(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function tx(){return tx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=a5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},tx.apply(this,arguments)}function a5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ly(n)););return n}function _Y(n,e){return(_Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function c5e(n,e){if(e&&("object"===yY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function d5e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ly(n){return(ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var RP="autoRowSize",m5e=function(n){!function l5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_Y(n,e)}(t,n);var e=function u5e(n){var e=function f5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ly(n);if(e){var o=ly(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return c5e(this,i)}}(t);function t(r){var i;return function o5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).rowHeightsMap=void 0,i.headerHeight=null,i.ghostTable=new Pse(i.hot),i.samplesGenerator=new Fse(function(o,s){var a;return o>=0?a=i.hot.getDataAtCell(o,s):-1===o&&(a=i.hot.getColHeader(s)),{value:a}}),i.firstCalculation=!0,i.inProgress=!1,i.measuredRows=0,i.rowHeightsMap=new Zv,i.hot.rowIndexMapper.registerMap("autoRowSize",i.rowHeightsMap),i.addHook("beforeRowResize",function(o,s,a){return i.onBeforeRowResize(o,s,a)}),i}return function s5e(n,e,t){e&&$se(n.prototype,e),t&&$se(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){var i=this.hot.getSettings()[RP];return!0===i||ji(i)}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeChangeRender",function(o){return i.onBeforeChange(o)}),this.addHook("beforeColumnResize",function(){return i.recalculateAllRowsHeight()}),this.addHook("beforeViewRender",function(o){return i.onBeforeViewRender(o)}),this.addHook("modifyRowHeight",function(o,s){return i.getRowHeight(s,o)}),this.addHook("modifyColumnHeaderHeight",function(){return i.getColumnHeaderHeight()}),tx(ly(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var i=this;this.headerHeight=null,tx(ly(t.prototype),"disablePlugin",this).call(this),this.addHook("beforeRowResize",function(o,s,a){return i.onBeforeRowResize(o,s,a)})}},{key:"calculateRowsHeight",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="number"==typeof o?{from:o,to:o}:o,c="number"==typeof s?{from:s,to:s}:s;if(null!==this.hot.getColHeader(0)){var f=this.samplesGenerator.generateRowSamples(-1,c);this.ghostTable.addColumnHeadersRow(f.get(-1))}Hr(u.from,u.to,function(p){(a||null===i.rowHeightsMap.getValueAtIndex(p))&&Qe(i.samplesGenerator.generateRowSamples(p,c),function(y){var w=e5e(y,2);return i.ghostTable.addRow(w[0],w[1])})}),this.ghostTable.rows.length&&(this.hot.batchExecution(function(){i.ghostTable.getHeights(function(p,g){p<0?i.headerHeight=g:i.rowHeightsMap.setValueAtIndex(i.hot.toPhysicalRow(p),g)})},!0),this.measuredRows=u.to+1,this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},s=0,a=this.hot.countRows()-1,u=null;this.inProgress=!0;var c=function p(){if(!i.hot)return SL(u),void(i.inProgress=!1);i.calculateRowsHeight({from:s,to:Math.min(s+t.CALCULATION_STEP,a)},o),(s=s+t.CALCULATION_STEP+1)<a?u=EQ(p):(SL(u),i.inProgress=!1,i.hot.view.adjustElementsSize(!0),i.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&i.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},f=this.getSyncCalculationLimit();this.firstCalculation&&f>=0&&(this.calculateRowsHeight({from:0,to:f},o),this.firstCalculation=!1,s=f+1),s<a?c():(this.inProgress=!1,this.hot.view.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var i=this.hot.getSettings()[RP],o=i&&Ps(i,"samplingRatio")?i.samplingRatio:void 0,s=i&&Ps(i,"allowSampleDuplicates")?i.allowSampleDuplicates:void 0;o&&!isNaN(o)&&this.samplesGenerator.setSampleCount(parseInt(o,10)),s&&this.samplesGenerator.setAllowDuplicates(s)}},{key:"recalculateAllRowsHeight",value:function(){KT(this.hot.view._wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var i=this.hot.getSettings()[RP],o=t.SYNC_CALCULATION_LIMIT,s=this.hot.countRows()-1;return ji(i)&&(VQ(o=i.syncLimit)?o=See(s,o):o>>=0),Math.min(o,s)}},{key:"getRowHeight",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=i<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(i)),a=o;return null!==s&&s>(o||0)&&(a=s),a}},{key:"getColumnHeaderHeight",value:function(){return this.headerHeight}},{key:"getFirstVisibleRow",value:function(){var i=this.hot.view._wt;return i.wtViewport.rowsVisibleCalculator?i.wtTable.getFirstVisibleRow():i.wtViewport.rowsRenderCalculator?i.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var i=this.hot.view._wt;return i.wtViewport.rowsVisibleCalculator?i.wtTable.getLastVisibleRow():i.wtViewport.rowsRenderCalculator?i.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.headerHeight=null,this.rowHeightsMap.init()}},{key:"clearCacheByRange",value:function(i){var o=this,s="number"==typeof i?{from:i,to:i}:i,a=s.from,u=s.to;this.hot.batchExecution(function(){Hr(Math.min(a,u),Math.max(a,u),function(c){o.rowHeightsMap.setValueAtIndex(c,null)})},!0)}},{key:"isNeedRecalculate",value:function(){return!!jd(this.rowHeightsMap.getValues().slice(0,this.measuredRows),function(i){return null===i}).length}},{key:"onBeforeViewRender",value:function(){var i=this.hot.renderCall,o=this.hot.getSettings().fixedRowsBottom,s=this.getFirstVisibleRow(),a=this.getLastVisibleRow();if(-1!==s&&-1!==a){if(this.calculateRowsHeight({from:s,to:a},void 0,i),o){var u=this.hot.countRows()-1;this.calculateRowsHeight({from:u-o,to:u})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}},{key:"onBeforeRowMove",value:function(i,o){this.clearCacheByRange({from:i,to:o}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(i,o,s){var a=i;return s&&(this.calculateRowsHeight(o,void 0,!0),a=this.getRowHeight(o)),a}},{key:"onAfterLoadData",value:function(){var i=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){i.hot&&i.recalculateAllRowsHeight()},0)}},{key:"onBeforeChange",value:function(i){var o=null;1===i.length?o=i[0][0]:i.length>1&&(o={from:i[0][0],to:i[i.length-1][0]}),null!==o&&this.clearCacheByRange(o)}},{key:"destroy",value:function(){this.ghostTable.clean(),tx(ly(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return RP}},{key:"PLUGIN_PRIORITY",get:function(){return 40}},{key:"SETTING_KEYS",get:function(){return!0}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}]),t}(Go),Xse=new Map([["indexesSequence",{getListWithInsertedItems:SU,getListWithRemovedItems:p1}],["physicallyIndexed",{getListWithInsertedItems:mU,getListWithRemovedItems:gU}]]),Kse=function(e){if(!1===Xse.has(e))throw new Error("Alter strategy with ID '".concat(e,"' does not exist."));return Xse.get(e)};function bY(n){return(bY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Zse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function F1(){return F1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=y5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},F1.apply(this,arguments)}function y5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Zb(n)););return n}function wY(n,e){return(wY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function w5e(n,e){if(e&&("object"===bY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function M5e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Zb(n){return(Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var qse=Kse("physicallyIndexed"),x5e=qse.getListWithInsertedItems,C5e=qse.getListWithRemovedItems;const T5e=function(n){!function _5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&wY(n,e)}(t,n);var e=function b5e(n){var e=function S5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Zb(n);if(e){var o=Zb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return w5e(this,i)}}(t);function t(){return function g5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function v5e(n,e,t){e&&Zse(n.prototype,e),t&&Zse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=CU(this.indexedValues,o);this.indexedValues=x5e(s,i,o,this.initValueOrFn),F1(Zb(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){var o=C5e(this.indexedValues,i);this.indexedValues=xU(o,i),F1(Zb(t.prototype),"remove",this).call(this,i)}}]),t}(Ib);function MY(n){return(MY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function SY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Jse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function H1(){return H1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=P5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},H1.apply(this,arguments)}function P5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=qb(n)););return n}function xY(n,e){return(xY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function H5e(n,e){if(e&&("object"===MY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function B5e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function qb(n){return(qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Qse=Kse("physicallyIndexed"),z5e=Qse.getListWithInsertedItems,U5e=Qse.getListWithRemovedItems;function CY(n){return(CY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function eae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function nx(){return nx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=$5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},nx.apply(this,arguments)}function $5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=uy(n)););return n}function EY(n,e){return(EY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Z5e(n,e){if(e&&("object"===CY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function q5e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function uy(n){return(uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var TY="bindRowsWithHeaders",t6e=new Map([["loose",T5e],["strict",function(n){!function N5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&xY(n,e)}(t,n);var e=function F5e(n){var e=function V5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=qb(n);if(e){var o=qb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return H5e(this,i)}}(t);function t(){return function L5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function I5e(n,e,t){e&&Jse(n.prototype,e),t&&Jse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=this;this.indexedValues=z5e(this.indexedValues,i,o,function(a,u){return s.getNextValue(u)}),H1(qb(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=U5e(this.indexedValues,i),H1(qb(t.prototype),"remove",this).call(this,i)}},{key:"getNextValue",value:function(i){return Math.max.apply(Math,function R5e(n){return function k5e(n){if(Array.isArray(n))return SY(n)}(n)||function O5e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function A5e(n,e){if(n){if("string"==typeof n)return SY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return SY(n,e)}}(n)||function D5e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.getValues()))+1+i}}]),t}(Ib)]]),n6e=function(n){!function X5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&EY(n,e)}(t,n);var e=function K5e(n){var e=function J5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=uy(n);if(e){var o=uy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Z5e(this,i)}}(t);function t(r){var i;return function Y5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).headerIndexes=null,i}return function G5e(n,e,t){e&&eae(n.prototype,e),t&&eae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[TY]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[TY];"string"!=typeof o&&(o="loose");var s=t6e.get(o);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new s),this.addHook("modifyRowHeader",function(a){return i.onModifyRowHeader(a)}),nx(uy(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),nx(uy(t.prototype),"disablePlugin",this).call(this)}},{key:"onModifyRowHeader",value:function(i){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(i))}},{key:"destroy",value:function(){nx(uy(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return TY}},{key:"PLUGIN_PRIORITY",get:function(){return 210}}]),t}(Go);function RY(n){return(RY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function tae(n){return function s6e(n){if(Array.isArray(n))return DY(n)}(n)||function o6e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function i6e(n,e){if(n){if("string"==typeof n)return DY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return DY(n,e)}}(n)||function r6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function a6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Jb(){return Jb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=u6e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Jb.apply(this,arguments)}function u6e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Am(n)););return n}function AY(n,e){return(AY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function f6e(n,e){if(e&&("object"===RY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rx(n)}function rx(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Am(n){return(Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function p6e(n,e,t){(function m6e(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function OY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rae(n,e){return function g6e(n,e){return e.get?e.get.call(n):e.value}(n,iae(n,e,"get"))}function kY(n,e,t){return function v6e(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,iae(n,e,"set"),t),t}function iae(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var LY="collapsibleColumns",_6e=["nestedHeaders"],oae=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]),ix=new WeakMap,b6e=function(n){!function c6e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&AY(n,e)}(t,n);var e=function d6e(n){var e=function h6e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Am(n);if(e){var o=Am(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return f6e(this,i)}}(t);function t(){var r;a6e(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return OY(rx(r=e.call.apply(e,[this].concat(o))),"nestedHeadersPlugin",null),OY(rx(r),"eventManager",new ea(rx(r))),OY(rx(r),"headerStateManager",null),p6e(rx(r),ix,{writable:!0,value:null}),r}return function l6e(n,e,t){e&&nae(n.prototype,e),t&&nae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[LY]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.hot.getSettings().nestedHeaders||xs("You need to configure the Nested Headers plugin in order to use collapsible headers."),kY(this,ix,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",function(){return i.onInit()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("afterGetColHeader",function(a,u){return i.onAfterGetColHeader(a,u)}),this.addHook("beforeOnCellMouseDown",function(a,u,c){return i.onBeforeOnCellMouseDown(a,u,c)}),Jb(Am(t.prototype),"enablePlugin",this).call(this),this.updatePlugin())}},{key:"updatePlugin",value:function(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){var o=this.hot.getSettings().collapsibleColumns;"boolean"==typeof o?this.headerStateManager.mapState(function(s){return{collapsible:s.origColspan>1}}):Array.isArray(o)&&(this.headerStateManager.mapState(function(){return{collapsible:!1}}),this.headerStateManager.mergeStateWith(o))}Jb(Am(t.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),kY(this,ix,null),this.nestedHeadersPlugin=null,this.clearButtons(),Jb(Am(t.prototype),"disablePlugin",this).call(this)}},{key:"clearButtons",value:function(){if(this.hot.view){var i=this.hot.view._wt.getSetting("columnHeaders").length,o=this.hot.view._wt.wtTable.THEAD,s=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,a=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,u=function(f){f&&f.parentNode.removeChild(f)};Hr(0,i-1,function(c){var f=o.childNodes[c],p=s.childNodes[c],g=a?a.childNodes[c]:null;Hr(0,f.childNodes.length-1,function(y){var w=f.childNodes[y].querySelector(".collapsibleIndicator");u(w),p&&p.childNodes[y]&&(w=p.childNodes[y].querySelector(".collapsibleIndicator"),u(w)),a&&g&&g.childNodes[y]&&(w=g.childNodes[y].querySelector(".collapsibleIndicator"),u(w))})})}}},{key:"expandSection",value:function(i){this.toggleCollapsibleSection([i],"expand")}},{key:"collapseSection",value:function(i){this.toggleCollapsibleSection([i],"collapse")}},{key:"toggleAllCollapsibleSections",value:function(i){var o=this,s=this.headerStateManager.mapNodes(function(a){var p=a.columnIndex,g=a.isCollapsed;if(!0===a.collapsible&&a.origColspan>1&&(g&&"expand"===i||!g&&"collapse"===i))return{row:o.headerStateManager.levelToRowCoords(a.headerLevel),col:p}});this.toggleCollapsibleSection(s,i)}},{key:"collapseAll",value:function(){this.toggleAllCollapsibleSections("collapse")}},{key:"expandAll",value:function(){this.toggleAllCollapsibleSections("expand")}},{key:"toggleCollapsibleSection",value:function(i,o){var s=this;if(!oae.has(o))throw new Error("Unsupported action is passed (".concat(o,")."));if(Array.isArray(i)){var a=jd(i,function(C){return C.row<0}),u=a.length>0;Qe(a,function(C){var I,j=null!==(I=s.headerStateManager.getHeaderSettings(C.row,C.col))&&void 0!==I?I:{},se=j.isCollapsed;if(!j.collapsible||se&&"collapse"===o||!se&&"expand"===o)return u=!1,!1});var c=[],f=[];u&&Qe(a,function(C){var U=s.headerStateManager.triggerNodeModification(o,C.row,C.col),se=U.rollbackModification;U.colspanCompensation>0&&(f.push.apply(f,tae(U.affectedColumns)),c.push(se))});var p=this.getCollapsedColumns(),g=[];"collapse"===o?g=AQ([].concat(tae(p),f)):"expand"===o&&(g=jd(p,function(C){return!f.includes(C)}));var y=oae.get(o);if(!1===this.hot.runHooks(y.beforeHook,p,g,u))return void Qe(c,function(C){C()});this.hot.batchExecution(function(){Qe(f,function(C){rae(s,ix).setValueAtIndex(s.hot.toPhysicalColumn(C),y.hideColumn)})},!0);var M=this.getCollapsedColumns().length!==p.length;this.hot.runHooks(y.afterHook,p,g,u,M),this.hot.render(),this.hot.view.adjustElementsSize(!0)}}},{key:"getCollapsedColumns",value:function(){return rae(this,ix).getHiddenIndexes()}},{key:"generateIndicator",value:function(i,o){var s=this.hot.rootDocument.createElement("div"),a=this.headerStateManager.getHeaderSettings(i,o);return Cn(s,"collapsibleIndicator"),a.isCollapsed?(Cn(s,"collapsed"),Cb(s,"+")):(Cn(s,"expanded"),Cb(s,"-")),s}},{key:"onAfterGetColHeader",value:function(i,o){var s,a=o.parentNode,u=a.parentNode,c=-1*u.childNodes.length+Array.prototype.indexOf.call(u.childNodes,a),f=null!==(s=this.headerStateManager.getHeaderSettings(c,i))&&void 0!==s?s:{};if(f.collapsible&&f.origColspan>1&&i>=this.hot.getSettings().fixedColumnsStart){var y=this.generateIndicator(c,i);o.querySelector("div:first-child").appendChild(y)}}},{key:"onBeforeOnCellMouseDown",value:function(i,o){_i(i.target,"collapsibleIndicator")&&(_i(i.target,"expanded")?(this.eventManager.fireEvent(i.target,"mouseup"),this.toggleCollapsibleSection([o],"collapse")):_i(i.target,"collapsed")&&(this.eventManager.fireEvent(i.target,"mouseup"),this.toggleCollapsibleSection([o],"expand")),Xh(i))}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(i,o){o||this.updatePlugin()}},{key:"destroy",value:function(){kY(this,ix,null),Jb(Am(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return LY}},{key:"PLUGIN_PRIORITY",get:function(){return 290}},{key:"PLUGIN_DEPS",get:function(){return["plugin:NestedHeaders"]}},{key:"SETTING_KEYS",get:function(){return[LY].concat(_6e)}}]),t}(Go);function sae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function M6e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aae(n,e){return function E6e(n){if(Array.isArray(n))return n}(n)||function C6e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function x6e(n,e){if(n){if("string"==typeof n)return lae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lae(n,e)}}(n,e)||function S6e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function uae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var D6e=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],L6e=function(){function n(e,t){(function T6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.sortingStates=new bI,this.sortEmptyCells=!1,this.indicator=!0,this.headerAction=!0,this.compareFunctionFactory=void 0,this.mapName=t,this.hot.columnIndexMapper.registerMap(t,this.sortingStates)}return function R6e(n,e,t){e&&uae(n.prototype,e),t&&uae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateAllColumnsProperties",value:function(t){var r=this;!ji(t)||to(t,function(i,o){D6e.includes(o)&&(r[o]=i)})}},{key:"getAllColumnsProperties",value:function(){var t={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return"function"==typeof this.compareFunctionFactory&&(t.compareFunctionFactory=this.compareFunctionFactory),t}},{key:"getSortOrderOfColumn",value:function(t){var r;return null===(r=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))||void 0===r?void 0:r.sortOrder}},{key:"getIndexOfColumnInSortQueue",value:function(t){return t=this.hot.toPhysicalColumn(t),this.sortingStates.getEntries().findIndex(function(r){return aae(r,1)[0]===t})}},{key:"getNumberOfSortedColumns",value:function(){return this.sortingStates.getLength()}},{key:"isListOfSortedColumnsEmpty",value:function(){return 0===this.getNumberOfSortedColumns()}},{key:"isColumnSorted",value:function(t){return ji(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))}},{key:"getSortStates",value:function(){var t=this;return null===this.sortingStates?[]:this.sortingStates.getEntries().map(function(i){var o=aae(i,2),a=o[1];return function w6e(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?sae(Object(t),!0).forEach(function(r){M6e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sae(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({column:t.hot.toVisualColumn(o[0])},a)})}},{key:"getColumnSortState",value:function(t){var r=this.getSortOrderOfColumn(t);if(fr(r))return{column:t,sortOrder:r}}},{key:"setSortStates",value:function(t){this.sortingStates.clear();for(var r=0;r<t.length;r+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(t[r].column),{sortOrder:t[r].sortOrder})}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}]),n}(),DP="asc",AP="desc";function cae(n){if(n!==AP)return n===DP?AP:DP}function dae(n){return n.querySelector(".".concat("colHeader"))}function fae(n,e){if(n<0||!e.parentNode)return!1;var t=e.parentNode.parentNode.childNodes;return-1==Array.from(t).indexOf(e.parentNode)-t.length}function IY(n,e,t){return-1===n&&e>=0&&!1===Tb(t)}var hae="indicatorDisabled",pae="columnSorting",mae="sortAction",gae=new Map([[DP,"ascending"],[AP,"descending"]]);function B6e(n,e,t,r){var i=[pae];if(r&&i.push(mae),!1===t)return i.push(hae),i;var o=n.getSortOrderOfColumn(e);return fr(o)&&i.push(gae.get(o)),i}function V6e(){return Array.from(gae.values()).concat(mae,hae,pae)}function vae(n,e,t){var r=e.locale;return function(i,o){var s=t.sortEmptyCells;return"string"==typeof i&&(i=i.toLocaleLowerCase(r)),"string"==typeof o&&(o=o.toLocaleLowerCase(r)),i===o?0:nl(i)?nl(o)?0:s&&"asc"===n?-1:1:nl(o)?s&&"asc"===n?1:-1:isNaN(i)&&!isNaN(o)?"asc"===n?1:-1:!isNaN(i)&&isNaN(o)||(isNaN(i)||isNaN(o)||(i=parseFloat(i),o=parseFloat(o)),i<o)?"asc"===n?-1:1:i>o?"asc"===n?1:-1:0}}var PY=Wd("sorting.compareFunctionFactory"),OP=PY.register,_ae=PY.getItem,X6e=PY.hasItem,bae=Wd("sorting.mainSortComparator"),wae=bae.register,K6e=bae.getItem;function Mae(n){return X6e(n)?_ae(n):_ae("default")}function Sae(n){return function Q6e(n){if(Array.isArray(n))return n}(n)||function J6e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function q6e(n,e){if(n){if("string"==typeof n)return xae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xae(n,e)}}(n)||function Z6e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function NY(n){return(NY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}OP("numeric",function U6e(n,e,t){return function(r,i){var o=parseFloat(r),s=parseFloat(i),a=t.sortEmptyCells;if(o===s||isNaN(o)&&isNaN(s))return 0;if(a){if(nl(r))return"asc"===n?-1:1;if(nl(i))return"asc"===n?1:-1}return isNaN(o)?1:isNaN(s)?-1:o<s?"asc"===n?-1:1:o>s?"asc"===n?1:-1:0}}),OP("checkbox",function W6e(n,e,t){var r=e.checkedTemplate,i=e.uncheckedTemplate,o=t.sortEmptyCells;return function(s,a){var u=nl(s),c=nl(a),f=u?i:s,p=c?i:a,g=f===i||f===r,y=p===i||p===r;if(!1===o){if(u&&!1===c)return 1;if(!1===u&&c)return-1}return!1===g&&y?"asc"===n?-1:1:g&&!1===y?"asc"===n?1:-1:!1===g&&!1===y?vae(n,e,t)(s,a):f===i&&p===r?"asc"===n?-1:1:f===r&&p===i?"asc"===n?1:-1:0}}),OP("date",function G6e(n,e,t){return function(r,i){var o=t.sortEmptyCells;if(r===i)return 0;if(nl(r))return nl(i)?0:o&&"asc"===n?-1:1;if(nl(i))return o&&"asc"===n?1:-1;var s=e.dateFormat,a=rs(r,s),u=rs(i,s);return a.isValid()?u.isValid()?u.isAfter(a)?"asc"===n?-1:1:u.isBefore(a)?"asc"===n?1:-1:0:-1:1}}),OP("default",vae);var t8e=["column"],n8e=["column"];function ox(n){return function s8e(n){if(Array.isArray(n))return FY(n)}(n)||function o8e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function i8e(n,e){if(n){if("string"==typeof n)return FY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FY(n,e)}}(n)||function r8e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Cae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Eae(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Cae(Object(t),!0).forEach(function(r){a8e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cae(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function a8e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tae(n,e){if(null==n)return{};var r,i,t=function l8e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function Rae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Qb(){return Qb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=d8e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Qb.apply(this,arguments)}function d8e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Om(n)););return n}function HY(n,e){return(HY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function p8e(n,e){if(e&&("object"===NY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function m8e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Om(n){return(Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var BY="columnSorting",Dae="append";wae(BY,function e8e(n,e){return function(t,r){var f,p,g,y,w,o=Sae(t).slice(1),a=Sae(r).slice(1);return f=n[0],g=o[0],y=a[0],((w=(p=e[0]).columnSorting).compareFunctionFactory?w.compareFunctionFactory:Mae(p.type))(f,p,w)(g,y)}}),wr.getSingleton().register("beforeColumnSort"),wr.getSingleton().register("afterColumnSort");var Aae=function(n){!function f8e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&HY(n,e)}(t,n);var e=function h8e(n){var e=function g8e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Om(n);if(e){var o=Om(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return p8e(this,i)}}(t);function t(r){var i;return function u8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).columnStatesManager=null,i.columnMetaCache=null,i.pluginKey=BY,i.indexesSequenceCache=null,i}return function c8e(n,e,t){e&&Rae(n.prototype,e),t&&Rae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[this.pluginKey]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.columnStatesManager=new L6e(this.hot,"".concat(this.pluginKey,".sortingStates")),this.columnMetaCache=new Zv(function(o){var s=i.hot.toVisualColumn(o);return null===s&&(s=o),i.getMergedPluginSettings(s)}),this.hot.columnIndexMapper.registerMap("".concat(this.pluginKey,".columnMeta"),this.columnMetaCache),this.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("afterOnCellMouseDown",function(o,s){return i.onAfterOnCellMouseDown(o,s)}),this.addHook("afterInit",function(){return i.loadOrSortBySettings()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.hot.view&&this.loadOrSortBySettings(),Qb(Om(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var i=this,o=function(a,u){var c=dae(u);!1===fae(a,u)||null===c||i.updateHeaderClasses(c)};this.hot.addHook("afterGetColHeader",o),this.hot.addHookOnce("afterViewRender",function(){i.hot.removeHook("afterGetColHeader",o)}),this.hot.batchExecution(function(){null!==i.indexesSequenceCache&&(i.hot.rowIndexMapper.setIndexesSequence(i.indexesSequenceCache.getValues()),i.hot.rowIndexMapper.unregisterMap(i.pluginKey))},!0),this.hot.columnIndexMapper.unregisterMap("".concat(this.pluginKey,".columnMeta")),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,Qb(Om(t.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(i){var o=this.getSortConfig(),s=this.getNormalizedSortConfigs(i),a=this.areValidSortConfigs(s);!1!==this.hot.runHooks("beforeColumnSort",o,s,a)&&(0===o.length&&null===this.indexesSequenceCache&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new Mne),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),a&&(this.columnStatesManager.setSortStates(s),this.sortByPresetSortStates(s),this.saveAllSortSettings(s)),this.hot.runHooks("afterColumnSort",o,a?s:o,a),a&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}},{key:"clearSort",value:function(){this.sort([])}},{key:"isSorted",value:function(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}},{key:"getSortConfig",value:function(i){return fr(i)?this.columnStatesManager.getColumnSortState(i):this.columnStatesManager.getSortStates()}},{key:"setSortConfig",value:function(i){var o=this.getNormalizedSortConfigs(i);this.areValidSortConfigs(o)&&this.columnStatesManager.setSortStates(o)}},{key:"getNormalizedSortConfigs",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(i)?i.slice(0,1):[i]}},{key:"areValidSortConfigs",value:function(i){var o=this.hot.countCols();return function N6e(n){if(n.some(function(t){return!1===function P6e(n){if(!1===ji(n))return!1;var t=n.sortOrder;return Number.isInteger(n.column)&&[DP,AP].includes(t)}(t)}))return!1;var e=n.map(function(t){return t.column});return new Set(e).size===e.length}(i)&&i.every(function(s){var a=s.column;return a<=o&&a>=0})}},{key:"saveAllSortSettings",value:function(i){var o=this,s=this.columnStatesManager.getAllColumnsProperties();s.initialConfig=Ki(i,function(c){var f=c.column,p=Tae(c,t8e);return Eae({column:o.hot.toPhysicalColumn(f)},p)}),this.hot.runHooks("persistentStateSave","columnSorting",s)}},{key:"getAllSavedSortSettings",value:function(){var i=this,o={};this.hot.runHooks("persistentStateLoad","columnSorting",o);var s=o.value;return fr(s)&&Array.isArray(s.initialConfig)&&(s.initialConfig=Ki(s.initialConfig,function(c){var f=c.column,p=Tae(c,n8e);return Eae({column:i.hot.toVisualColumn(f)},p)})),s}},{key:"getColumnNextConfig",value:function(i){var o=this.columnStatesManager.getSortOrderOfColumn(i);if(fr(o)){var s=cae(o);return fr(s)?{column:i,sortOrder:s}:void 0}var a=this.hot.countCols();if(Number.isInteger(i)&&i>=0&&i<a)return{column:i,sortOrder:cae()}}},{key:"getNextSortConfig",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dae,s=this.columnStatesManager.getIndexOfColumnInSortQueue(i),a=-1!==s,u=this.getSortConfig(),c=this.getColumnNextConfig(i);if(a){if(Ns(c))return[].concat(ox(u.slice(0,s)),ox(u.slice(s+1)));if(o===Dae)return[].concat(ox(u.slice(0,s)),ox(u.slice(s+1)),[c]);if("replace"===o)return[].concat(ox(u.slice(0,s)),[c],ox(u.slice(s+1)))}return fr(c)?u.concat(c):u}},{key:"getPluginColumnConfig",value:function(i){if(ji(i)){var o=i[this.pluginKey];if(ji(o))return o}return{}}},{key:"getMergedPluginSettings",value:function(i){var o=this.hot.getSettings()[this.pluginKey],s=this.columnStatesManager.getAllColumnsProperties(),a=this.hot.getCellMeta(0,i),u=Object.getPrototypeOf(a);return Array.isArray(u.columns)?Object.assign(s,o,this.getPluginColumnConfig(u.columns[i])):Ss(u.columns)?Object.assign(s,o,this.getPluginColumnConfig(u.columns(i))):Object.assign(s,o)}},{key:"getFirstCellSettings",value:function(i){var o=this.hot.getCellMeta(0,i),s=Object.create(o);return s[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(i)),s}},{key:"getNumberOfRowsToSort",value:function(i){var o=this.hot.getSettings();return o.maxRows<=i?o.maxRows:i-o.minSpareRows}},{key:"sortByPresetSortStates",value:function(i){var o=this;if(0!==i.length){for(var s=[],a=this.hot.countRows(),u=function(C){return Ki(i,function(I){return o.hot.getDataAtCell(C,I.column)})},c=0;c<this.getNumberOfRowsToSort(a);c+=1)s.push([this.hot.toPhysicalRow(c)].concat(u(c)));var f=Ki(s,function(M){return M[0]});!function z6e(n,e){for(var t=K6e(e),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];n.sort(t.apply(void 0,i))}(s,this.pluginKey,Ki(i,function(M){return M.sortOrder}),Ki(i,function(M){return o.getFirstCellSettings(M.column)}));for(var p=s.length;p<a;p+=1)s.push([p].concat(u(p)));var g=Ki(s,function(M){return M[0]}),y=new Map(Ki(f,function(M,C){return[M,g[C]]})),w=Ki(this.hot.rowIndexMapper.getIndexesSequence(),function(M){return y.has(M)?y.get(M):M});this.hot.rowIndexMapper.setIndexesSequence(w)}else this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues())}},{key:"loadOrSortBySettings",value:function(){var i=this.getAllSavedSortSettings();if(ji(i))this.sortBySettings(i);else{var o=this.hot.getSettings()[this.pluginKey];this.sortBySettings(o)}}},{key:"sortBySettings",value:function(i){if(ji(i)){this.columnStatesManager.updateAllColumnsProperties(i);var o=i.initialConfig;(Array.isArray(o)||ji(o))&&this.sort(o)}else this.hot.render()}},{key:"onAfterGetColHeader",value:function(i,o){var s=dae(o);if(!1!==fae(i,o)&&null!==s){var a=this.getFirstCellSettings(i)[this.pluginKey];this.updateHeaderClasses(s,this.columnStatesManager,i,a.indicator,a.headerAction)}}},{key:"updateHeaderClasses",value:function(i){if(Ii(i,V6e()),!1!==this.enabled){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];Cn(i,B6e.apply(void 0,s))}}},{key:"onUpdateSettings",value:function(i){Qb(Om(t.prototype),"onUpdateSettings",this).call(this),null!==this.columnMetaCache&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),fr(i[this.pluginKey])&&this.sortBySettings(i[this.pluginKey])}},{key:"onAfterLoadData",value:function(i){!0===i&&this.hot.view&&this.loadOrSortBySettings()}},{key:"wasClickableHeaderClicked",value:function(i,o){return this.getFirstCellSettings(o)[this.pluginKey].headerAction&&"SPAN"===i.target.nodeName}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){!1!==IY(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(a.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(i,o){!1!==IY(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&(this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(o.col)),this.sort(this.getColumnNextConfig(o.col)))}},{key:"destroy",value:function(){var i;null===(i=this.columnStatesManager)||void 0===i||i.destroy(),Qb(Om(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return BY}},{key:"PLUGIN_PRIORITY",get:function(){return 50}}]),t}(Go);function Oae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(7528);const M8e=function(){function n(e,t){(function _8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=this.plugin.hot,this.endpoints=[],this.settings=t,this.settingsType="array",this.currentEndpoint=null,this.cellsToSetCache=[]}return function b8e(n,e,t){e&&Oae(n.prototype,e),t&&Oae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getEndpoint",value:function(t){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings)[t]:this.endpoints[t]}},{key:"getAllEndpoints",value:function(){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings):this.endpoints}},{key:"fillMissingEndpointData",value:function(t){return this.parseSettings(t.call(this))}},{key:"parseSettings",value:function(t){var r=this,i=[],o=t;if(o||"function"!=typeof this.settings)return o||(o=this.settings),Qe(o,function(s){var a={};r.assignSetting(s,a,"ranges",[[0,r.hot.countRows()-1]]),r.assignSetting(s,a,"reversedRowCoords",!1),r.assignSetting(s,a,"destinationRow",new Error("\n        You must provide a destination row for the Column Summary plugin in order to work properly!\n      ")),r.assignSetting(s,a,"destinationColumn",new Error("\n        You must provide a destination column for the Column Summary plugin in order to work properly!\n      ")),r.assignSetting(s,a,"sourceColumn",s.destinationColumn),r.assignSetting(s,a,"type","sum"),r.assignSetting(s,a,"forceNumeric",!1),r.assignSetting(s,a,"suppressDataTypeErrors",!0),r.assignSetting(s,a,"suppressDataTypeErrors",!0),r.assignSetting(s,a,"customFunction",null),r.assignSetting(s,a,"readOnly",!0),r.assignSetting(s,a,"roundFloat",!1),i.push(a)}),i;this.settingsType="function"}},{key:"assignSetting",value:function(t,r,i,o){if("ranges"!==i||void 0!==t[i]){if("ranges"!==i||0!==t[i].length)if(void 0===t[i]){if(o instanceof Error)throw o;r[i]=o}else r[i]="destinationRow"===i&&r.reversedRowCoords?this.hot.countRows()-t[i]-1:t[i]}else r[i]=o}},{key:"resetSetupBeforeStructureAlteration",value:function(t,r,i){if("function"===this.settingsType){var o=t.indexOf("row")>-1?"row":"col",s=this.getAllEndpoints();Qe(s,function(a){"row"===o&&a.destinationRow>=r&&("insert_row"===t?a.alterRowOffset=i:"remove_row"===t&&(a.alterRowOffset=-1*i)),"col"===o&&a.destinationColumn>=r&&("insert_col"===t?a.alterColumnOffset=i:"remove_col"===t&&(a.alterColumnOffset=-1*i))}),this.resetAllEndpoints(s,!1)}}},{key:"resetSetupAfterStructureAlteration",value:function(t,r,i,o,s){var a=this,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if("function"!==this.settingsType){var f=t.indexOf("row")>-1?"row":"col",p=t.indexOf("remove")>-1?-1:1,g=this.getAllEndpoints(),y=0===t.indexOf("move_row"),w=r;Qe(g,function(M){"row"===f&&M.destinationRow>=w&&(M.alterRowOffset=p*i),"col"===f&&M.destinationColumn>=w&&(M.alterColumnOffset=p*i)}),this.resetAllEndpoints(g,!y),Qe(g,y?function(M){a.extendEndpointRanges(M,w,o[0],o.length),a.recreatePhysicalRanges(M),a.clearOffsetInformation(M)}:function(M){a.shiftEndpointCoordinates(M,w)}),u&&this.refreshAllEndpoints()}else{var c=function M(){return a.hot.removeHook("beforeViewRender",M),a.refreshAllEndpoints()};this.hot.addHookOnce("beforeViewRender",c)}}},{key:"clearOffsetInformation",value:function(t){t.alterRowOffset=void 0,t.alterColumnOffset=void 0}},{key:"extendEndpointRanges",value:function(t,r,i,o){Qe(t.ranges,function(s){s[1]&&(r>=s[0]&&r<=s[1]?i>s[1]?s[1]+=o:i<s[0]&&(s[0]-=o):i>=s[0]&&i<=s[1]&&(s[1]-=o,r<=s[0]&&(s[0]+=1,s[1]+=1)))})}},{key:"recreatePhysicalRanges",value:function(t){var r=this,o=[],s=[];Qe(t.ranges,function(a){var u=[];if(a[1])for(var c=a[0];c<=a[1];c++)u.push(r.hot.toPhysicalRow(c));else u.push(r.hot.toPhysicalRow(a[0]));s.push(u)}),Qe(s,function(a){var u=[];Qe(a,function(c,f){0===f?u.push(c):a[f]!==a[f-1]+1&&(u.push(a[f-1]),o.push(u),(u=[]).push(c)),f===a.length-1&&(u.push(c),o.push(u))})}),t.ranges=o}},{key:"shiftEndpointCoordinates",value:function(t,r){t.alterRowOffset&&0!==t.alterRowOffset?(t.destinationRow+=t.alterRowOffset||0,Qe(t.ranges,function(i){Qe(i,function(o,s){o>=r&&(i[s]+=t.alterRowOffset||0)})})):t.alterColumnOffset&&0!==t.alterColumnOffset&&(t.destinationColumn+=t.alterColumnOffset||0,t.sourceColumn+=t.alterColumnOffset||0)}},{key:"resetAllEndpoints",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAllEndpoints(),i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=r.some(function(s){var u=s.alterColumnOffset||0;return s.destinationRow+(s.alterRowOffset||0)>=t.hot.countRows()||s.destinationColumn+u>=t.hot.countCols()});o||(this.cellsToSetCache=[],Qe(r,function(s){t.resetEndpointValue(s,i)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}},{key:"refreshAllEndpoints",value:function(){var t=this;this.cellsToSetCache=[],Qe(this.getAllEndpoints(),function(r){t.currentEndpoint=r,t.plugin.calculate(r),t.setEndpointValue(r,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshChangedEndpoints",value:function(t){var r=this,i=[];this.cellsToSetCache=[],Qe(t,function(o,s,a){"".concat(o[2]||"")!=="".concat(o[3])&&Qe(r.getAllEndpoints(),function(u,c){r.hot.propToCol(a[s][1])===u.sourceColumn&&-1===i.indexOf(c)&&i.push(c)})}),Qe(i,function(o){r.refreshEndpoint(r.getEndpoint(o))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshEndpoint",value:function(t){this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t),this.currentEndpoint=null}},{key:"resetEndpointValue",value:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.alterRowOffset||0,o=t.alterColumnOffset||0,s=[this.hot.toVisualRow(t.destinationRow),this.hot.toVisualColumn(t.destinationColumn)],a=s[0],u=s[1];if(null!==u&&null!==a){var c=this.hot.getCellMeta(a,u);c.readOnly=!1,c.className=""}this.cellsToSetCache.push([this.hot.toVisualRow(t.destinationRow+(r?i:0)),this.hot.toVisualColumn(t.destinationColumn+(r?o:0)),""])}},{key:"setEndpointValue",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1*t.alterRowOffset||0,s=-1*t.alterColumnOffset||0,a=this.hot.toVisualRow(t.destinationRow);if(t.destinationRow>=this.hot.countRows()||t.destinationColumn>=this.hot.countCols())this.throwOutOfBoundsWarning();else{var u=this.hot.toVisualRow(t.destinationRow+o);if(null!==u){var c=this.hot.getCellMeta(u,t.destinationColumn+s);("init"===r||c.readOnly!==t.readOnly)&&(c.readOnly=t.readOnly,c.className="columnSummaryResult")}t.roundFloat&&!isNaN(t.result)&&(t.result=t.result.toFixed(t.roundFloat)),i?this.hot.setDataAtCell(a,t.destinationColumn,t.result,"ColumnSummary.set"):this.cellsToSetCache.push([a,t.destinationColumn,t.result]),t.alterRowOffset=void 0,t.alterColumnOffset=void 0}}},{key:"throwOutOfBoundsWarning",value:function(){xs("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}]),n}();function VY(n){return null==n||isNaN(n)}function zY(n){return(zY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var kae;function Lae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function kP(){return kP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=E8e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},kP.apply(this,arguments)}function E8e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=sx(n)););return n}function UY(n,e){return(UY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function D8e(n,e){if(e&&("object"===zY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function A8e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function sx(n){return(sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var jY="columnSummary",L8e=function(n){!function T8e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&UY(n,e)}(t,n);var e=function R8e(n){var e=function O8e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=sx(n);if(e){var o=sx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return D8e(this,i)}}(t);function t(r){var i;return function x8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).endpoints=null,i}return function C8e(n,e,t){e&&Lae(n.prototype,e),t&&Lae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[jY]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.settings=this.hot.getSettings()[jY],this.endpoints=new M8e(this,this.settings),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("afterChange",function(){return i.onAfterChange.apply(i,arguments)}),this.addHook("beforeCreateRow",function(o,s,a){return i.endpoints.resetSetupBeforeStructureAlteration("insert_row",o,s,null,a)}),this.addHook("beforeCreateCol",function(o,s,a){return i.endpoints.resetSetupBeforeStructureAlteration("insert_col",o,s,null,a)}),this.addHook("beforeRemoveRow",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupBeforeStructureAlteration.apply(o,["remove_row"].concat(a))}),this.addHook("beforeRemoveCol",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupBeforeStructureAlteration.apply(o,["remove_col"].concat(a))}),this.addHook("afterCreateRow",function(o,s,a){return i.endpoints.resetSetupAfterStructureAlteration("insert_row",o,s,null,a)}),this.addHook("afterCreateCol",function(o,s,a){return i.endpoints.resetSetupAfterStructureAlteration("insert_col",o,s,null,a)}),this.addHook("afterRemoveRow",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupAfterStructureAlteration.apply(o,["remove_row"].concat(a))}),this.addHook("afterRemoveCol",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupAfterStructureAlteration.apply(o,["remove_col"].concat(a))}),this.addHook("afterRowMove",function(){return i.onAfterRowMove.apply(i,arguments)}),kP(sx(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.endpoints=null,this.settings=null,this.currentEndpoint=null}},{key:"calculate",value:function(i){switch(i.type.toLowerCase()){case"sum":i.result=this.calculateSum(i);break;case"min":case"max":i.result=this.calculateMinMax(i,i.type);break;case"count":i.result=this.countEntries(i);break;case"average":i.result=this.calculateAverage(i);break;case"custom":i.result=i.customFunction.call(this,i)}}},{key:"calculateSum",value:function(i){var o=this,s=0;return to(i.ranges,function(a){s+=o.getPartialSum(a,i.sourceColumn)}),s}},{key:"getPartialSum",value:function(i,o){var s=0,a=i[1]||i[0],u=null,c=0;do{if(null!==(u=VY(u=this.getCellValue(a,o))?null:u)){var f=("".concat(u).split(".")[1]||[]).length||1;f>c&&(c=f)}s+=u||0,a-=1}while(a>=i[0]);return Math.round(s*Math.pow(10,c))/Math.pow(10,c)}},{key:"calculateMinMax",value:function(i,o){var s=this,a=null;return to(i.ranges,function(u){var c=s.getPartialMinMax(u,i.sourceColumn,o);if(null===a&&null!==c&&(a=c),null!==c)switch(o){case"min":a=Math.min(a,c);break;case"max":a=Math.max(a,c)}}),null===a?"Not enough data":a}},{key:"getPartialMinMax",value:function(i,o,s){var c,a=null,u=i[1]||i[0];do{if(c=VY(c=this.getCellValue(u,o))?null:c,null===a)a=c;else if(null!==c)switch(s){case"min":a=Math.min(a,c);break;case"max":a=Math.max(a,c)}u-=1}while(u>=i[0]);return a}},{key:"countEmpty",value:function(i,o){var s,a=0,u=i[1]||i[0];do{null===(s=VY(s=this.getCellValue(u,o))?null:s)&&(a+=1),u-=1}while(u>=i[0]);return a}},{key:"countEntries",value:function(i){var o=this,s=0;return to(i.ranges,function(u){var c=void 0===u[1]?1:u[1]-u[0]+1,f=o.countEmpty(u,i.sourceColumn);s+=c,s-=f}),s}},{key:"calculateAverage",value:function(i){return this.calculateSum(i)/this.countEntries(i)}},{key:"getCellValue",value:function(i,o){var s=this.hot.toVisualRow(i),a=this.hot.toVisualColumn(o),u=this.hot.getSourceDataAtCell(i,o),c="";if(null!==s&&null!==a&&(c=this.hot.getCellMeta(s,a).className||""),c.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&("string"==typeof u&&(u=u.replace(/,/,".")),u=parseFloat(u)),isNaN(u)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(cs(kae||(kae=function S8e(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["ColumnSummary plugin: cell at (",", ",") is not in a \n          numeric format. Cannot do the calculation."],["ColumnSummary plugin: cell at (",", ",") is not in a\\x20\n          numeric format. Cannot do the calculation."])),i,o));return u}},{key:"onAfterInit",value:function(){this.endpoints.endpoints=this.endpoints.parseSettings(),this.endpoints.refreshAllEndpoints(!0)}},{key:"onAfterChange",value:function(i,o){i&&"ColumnSummary.reset"!==o&&"ColumnSummary.set"!==o&&"loadData"!==o&&this.endpoints.refreshChangedEndpoints(i)}},{key:"onAfterRowMove",value:function(i,o){this.endpoints.resetSetupBeforeStructureAlteration("move_row",i[0],i.length,i,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",o,i.length,i,this.pluginName)}}],[{key:"PLUGIN_KEY",get:function(){return jY}},{key:"PLUGIN_PRIORITY",get:function(){return 220}}]),t}(Go);function Iae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const F8e=function(){function n(e,t){(function I8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootDocument=e,this.isRtl=t,this.container=null,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}return function P8e(n,e,t){e&&Iae(n.prototype,e),t&&Iae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setPosition",value:function(t,r){this.editorStyle.left="".concat(t,"px"),this.editorStyle.top="".concat(r,"px")}},{key:"setSize",value:function(t,r){if(t&&r){var i=this.getInputElement();i.style.width="".concat(t,"px"),i.style.height="".concat(r,"px")}}},{key:"getSize",value:function(){return{width:us(this.getInputElement()),height:Qs(this.getInputElement())}}},{key:"resetSize",value:function(){var t=this.getInputElement();t.style.width="",t.style.height=""}},{key:"setReadOnlyState",value:function(t){this.getInputElement().readOnly=t}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.hidden||(this.editorStyle.display="none"),this.hidden=!0}},{key:"isVisible",value:function(){return"block"===this.editorStyle.display}},{key:"setValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t||"";this.getInputElement().value=r}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return this.rootDocument.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var t=this.rootDocument.createElement("div"),r=this.rootDocument.createElement("textarea");return t.style.display="none",this.container=this.rootDocument.createElement("div"),this.container.setAttribute("dir",this.isRtl?"rtl":"ltr"),Cn(this.container,n.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),Cn(t,n.CLASS_EDITOR),Cn(r,n.CLASS_INPUT),t.appendChild(r),this.container.appendChild(t),t}},{key:"getInputElement",value:function(){return this.editor.querySelector(".".concat(n.CLASS_INPUT))}},{key:"destroy",value:function(){var t=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,t&&t.removeChild(this.container)}}],[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}]),n}();var Zi="---------";function LP(n){return _i(n,"htSeparator")}function IP(n){return _i(n,"htDisabled")}function PP(n){return _i(n,"htSelectionDisabled")}function ew(n){var e=n.getSelected();return!e||e[0]<0?null:e}function tw(n,e){var t={};return Qe(n,function(r){r.forAll(function(i,o){i>=0&&o>=0&&(t[i]||(t[i]=[]),t[i][o]=e(i,o))})}),t}function cy(n,e,t,r,i){Qe(n,function(o){o.forAll(function(s,a){s>=0&&a>=0&&function j8e(n,e,t,r,i,o){var s=i(n,e),a=r;s.className&&(a="vertical"===t?function z8e(n,e){if(-1!==n.indexOf(e))return n;var t=n.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","");return"".concat(t," ").concat(e)}(s.className,r):function U8e(n,e){if(-1!==n.indexOf(e))return n;var t=n.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","");return"".concat(t," ").concat(e)}(s.className,r)),o(n,e,"className",a)}(s,a,e,t,r,i)})})}function rp(n,e){var t=!1;return Array.isArray(n)&&Qe(n,function(r){return r.forAll(function(i,o){if(i>=0&&o>=0&&e(i,o))return t=!0,!1}),t}),t}function km(n){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(n)}function Pae(n,e){for(var t=n.slice(0);0<t.length&&t[0].name===e;)t.shift();return t}function Y8e(n,e){var t=n.slice(0);return t.reverse(),(t=Pae(t,e)).reverse(),t}function G8e(n){var e=[];return Qe(n,function(t,r){r>0?e[e.length-1].name!==t.name&&e.push(t):e.push(t)}),e}function Nae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Fae=function(){function n(e){(function X8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.wasLastActionShow=!0,this.showDebounced=null,this.hidingTimer=null,this.updateDelay(e)}return function K8e(n,e,t){e&&Nae(n.prototype,e),t&&Nae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"hide",value:function(){var t=this;this.wasLastActionShow=!1,this.hidingTimer=setTimeout(function(){!1===t.wasLastActionShow&&t.runLocalHooks("hide")},250)}},{key:"show",value:function(t){this.wasLastActionShow=!0,this.showDebounced(t)}},{key:"cancelHiding",value:function(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}},{key:"updateDelay",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;this.showDebounced=see(function(i){t.wasLastActionShow&&t.runLocalHooks("show",i.from.row,i.from.col)},r)}},{key:"destroy",value:function(){this.clearLocalHooks()}}]),n}();vs(Fae,vc);const J8e=Fae;function WY(n){return(WY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function YY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Hae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function nw(){return nw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=t7e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},nw.apply(this,arguments)}function t7e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Lm(n)););return n}function GY(n,e){return(GY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function i7e(n,e){if(e&&("object"===WY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bae(n)}function Bae(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Lm(n){return(Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var $Y="comments",NP=new WeakMap,ip="comment",ax="value",FP="readOnly",a7e=function(n){!function n7e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&GY(n,e)}(t,n);var e=function r7e(n){var e=function o7e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Lm(n);if(e){var o=Lm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return i7e(this,i)}}(t);function t(r){var i;return function Q8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).editor=null,i.displaySwitch=null,i.eventManager=null,i.range={},i.preventEditorAutoSwitch=!1,NP.set(Bae(i),{tempEditorDimensions:{},cellBelowCursor:null}),i}return function e7e(n,e,t){e&&Hae(n.prototype,e),t&&Hae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[$Y]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.editor||(this.editor=new F8e(this.hot.rootDocument,this.hot.isRtl())),this.eventManager||(this.eventManager=new ea(this)),this.displaySwitch||(this.displaySwitch=new J8e(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",function(o){return i.addToContextMenu(o)}),this.addHook("afterRenderer",function(o,s,a,u,c,f){return i.onAfterRenderer(o,f)}),this.addHook("afterScrollHorizontally",function(){return i.hide()}),this.addHook("afterScrollVertically",function(){return i.hide()}),this.addHook("afterBeginEditing",function(){return i.hide()}),this.displaySwitch.addLocalHook("hide",function(){return i.hide()}),this.displaySwitch.addLocalHook("show",function(o,s){return i.showAtCell(o,s)}),this.registerListeners(),nw(Lm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),nw(Lm(t.prototype),"updatePlugin",this).call(this),this.displaySwitch.updateDelay(this.getDisplayDelaySetting())}},{key:"disablePlugin",value:function(){nw(Lm(t.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var i=this,o=this.hot.rootDocument;this.eventManager.addEventListener(o,"mouseover",function(s){return i.onMouseOver(s)}),this.eventManager.addEventListener(o,"mousedown",function(s){return i.onMouseDown(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(){return i.onEditorBlur()}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(s){return i.onEditorMouseDown(s)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(s){return i.onEditorMouseUp(s)})}},{key:"setRange",value:function(i){this.range=i}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(i){var o=wb(i.target,"TD","TBODY");return!!(o&&_i(o,"htCommentCell")&&wb(o,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(i){return this.editor.getInputElement()===i.target}},{key:"setComment",value:function(i){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var o=this.editor.getValue(),s="";null!=i?s=i:null!=o&&(s=o),this.updateCommentMeta(this.range.from.row,this.range.from.col,YY({},ax,s)),this.hot.render()}},{key:"setCommentAtCell",value:function(i,o,s){this.setRange({from:this.hot._createCellCoords(i,o)}),this.setComment(s)}},{key:"removeComment",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,ip),i&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(i,o){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setRange({from:this.hot._createCellCoords(i,o)}),this.removeComment(s)}},{key:"getComment",value:function(){return this.getCommentMeta(this.range.from.row,this.range.from.col,ax)}},{key:"getCommentAtCell",value:function(i,o){return this.getCommentMeta(i,o,ax)}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var i=this.range.from,o=i.row,s=i.col;if(o<0||o>this.hot.countSourceRows()-1||s<0||s>this.hot.countSourceCols()-1)return!1;var a=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.editor.setValue(a[ip]?a[ip][ax]:""),this.editor.show(),this.refreshEditor(!0),!0}},{key:"showAtCell",value:function(i,o){return this.setRange({from:this.hot._createCellCoords(i,o)}),this.show()}},{key:"hide",value:function(){this.editor.hide()}},{key:"refreshEditor",value:function(){var i,o,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s||this.range.from&&this.editor.isVisible()){var a=this.hot,u=a.rowIndexMapper,c=a.columnIndexMapper,f=this.range.from,p=f.row,g=f.col,y=u.getRenderableFromVisualIndex(p),w=c.getRenderableFromVisualIndex(g),M=null===y;null===y&&(y=u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(p,-1))),null===w&&(w=c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(g,-1)));var C=null===y,I=null===w;y=null!==(i=y)&&void 0!==i?i:0,w=null!==(o=w)&&void 0!==o?o:0;var B=this.hot,U=B.rootWindow,j=B.view._wt,$=j.wtTable,se=$.getCell({row:y,col:w}),ge=this.getCommentMeta(p,g,"style");ge?this.editor.setSize(ge.width,ge.height):this.editor.resetSize();var re=I?0:$.getStretchedColumnWidth(w),fe=M&&!C?Qs(se):0,we=se.getBoundingClientRect(),Ae=we.left,vt=we.top,pt=we.width,Xe=we.height,xt=this.editor.getSize(),Le=xt.width,Ze=xt.height,it=this.hot.rootWindow,ot=it.innerWidth,Mt=it.innerHeight,J=this.hot.rootDocument.documentElement,ee=Ae+U.scrollX+re,he=vt+U.scrollY+fe;this.hot.isRtl()&&(ee-=Le+re),this.hot.isLtr()&&Ae+pt+Le>ot?ee=Ae+U.scrollX-Le-1:this.hot.isRtl()&&ee<-(J.scrollWidth-J.clientWidth)&&(ee=Ae+U.scrollX+re+1),vt+Ze>Mt&&(he-=Ze-Xe+1),this.editor.setPosition(ee,he),this.editor.setReadOnlyState(this.getCommentMeta(p,g,FP))}}},{key:"checkSelectionCommentsConsistency",value:function(){var i=this.hot.getSelectedRangeLast();if(!i)return!1;var o=!1,s=i.getTopStartCorner();return this.getCommentMeta(s.row,s.col,ax)&&(o=!0),o}},{key:"updateCommentMeta",value:function(i,o,s){var u,a=this.hot.getCellMeta(i,o)[ip];a?CL(u=Iu(a),s):u=s,this.hot.setCellMeta(i,o,ip,u)}},{key:"getCommentMeta",value:function(i,o,s){var a=this.hot.getCellMeta(i,o);if(a[ip])return a[ip][s]}},{key:"onMouseDown",value:function(i){if(this.hot.view&&this.hot.view._wt&&!this.preventEditorAutoSwitch&&!this.targetIsCommentTextArea(i)){var o=wb(i.target,"TD","TBODY"),s=null;o&&(s=this.hot.getCoords(o)),(!o||this.range.from&&s&&(this.range.from.row!==s.row||this.range.from.col!==s.col))&&this.hide()}}},{key:"onMouseOver",value:function(i){var o=NP.get(this),s=this.hot.rootDocument;if(!(this.preventEditorAutoSwitch||this.editor.isFocused()||_i(i.target,"wtBorder")||o.cellBelowCursor===i.target)&&this.editor)if(o.cellBelowCursor=s.elementFromPoint(i.clientX,i.clientY),this.targetIsCellWithComment(i)){var a=this.hot._createCellRange(this.hot.getCoords(i.target));this.displaySwitch.show(a)}else Mb(i.target,s)&&!this.targetIsCommentTextArea(i)&&this.displaySwitch.hide()}},{key:"onMouseUp",value:function(){this.preventEditorAutoSwitch=!1}},{key:"onAfterRenderer",value:function(i,o){o[ip]&&o[ip][ax]&&Cn(i,o.commentedCellClassName)}},{key:"onEditorBlur",value:function(){this.setComment()}},{key:"onEditorMouseDown",value:function(i){NP.get(this).tempEditorDimensions={width:us(i.target),height:Qs(i.target)}}},{key:"onEditorMouseUp",value:function(i){var o=NP.get(this),s=us(i.target),a=Qs(i.target);(s!==o.tempEditorDimensions.width+1||a!==o.tempEditorDimensions.height+2)&&this.updateCommentMeta(this.range.from.row,this.range.from.col,YY({},"style",{width:s,height:a}))}},{key:"onContextMenuAddComment",value:function(){var i=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,this.displaySwitch.cancelHiding(),this.setRange({from:i.highlight}),this.show(),this.hot.deselectCell(),this.editor.focus()}},{key:"onContextMenuRemoveComment",value:function(){var i=this,o=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,o.forAll(function(s,a){s>=0&&a>=0&&i.removeCommentAtCell(s,a,!1)}),this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(){var i=this,o=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,o.forAll(function(s,a){if(s>=0&&a>=0){var u=!!i.getCommentMeta(s,a,FP);i.updateCommentMeta(s,a,YY({},FP,!u))}})}},{key:"addToContextMenu",value:function(i){var o=this,s=function(){return o.hot.rowIndexMapper.getRenderableIndexesLength()>0&&o.hot.columnIndexMapper.getRenderableIndexesLength()>0};i.items.push({name:"---------"},{key:"commentsAddEdit",name:function(){return o.checkSelectionCommentsConsistency()?o.hot.getTranslatedPhrase(oj):o.hot.getTranslatedPhrase(ij)},callback:function(){return o.onContextMenuAddComment()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner())}},{key:"commentsRemove",name:function(){return this.getTranslatedPhrase(sj)},callback:function(){return o.onContextMenuRemoveComment()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner())}},{key:"commentsReadOnly",name:function(){var u=this,c=this.getTranslatedPhrase(aj);return rp(this.getSelectedRangeLast(),function(p,g){var y=u.getCellMeta(p,g)[ip];if(y&&(y=y[FP]),y)return!0})&&(c=km(c)),c},callback:function(){return o.onContextMenuMakeReadOnly()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner()&&o.checkSelectionCommentsConsistency())}})}},{key:"getDisplayDelaySetting",value:function(){var i=this.hot.getSettings()[$Y];if(ji(i))return i.displayDelay}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),this.displaySwitch&&this.displaySwitch.destroy(),nw(Lm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return $Y}},{key:"PLUGIN_PRIORITY",get:function(){return 60}}]),t}(Go);function zae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function d7e(n,e){var t;return Qe(e,function(r){var i=r.key?r.key.split(":"):null;if(Array.isArray(i)&&i[1]===n)return t=r,!1}),t}const Uae=function(){function n(e){(function l7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.commands={},this.commonCallback=null}return function u7e(n,e,t){e&&zae(n.prototype,e),t&&zae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerCommand",value:function(t,r){this.commands[t]=r}},{key:"setCommonCallback",value:function(t){this.commonCallback=t}},{key:"execute",value:function(t){for(var r=this,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a=t.split(":"),u=a[0],c=2===a.length?a[1]:null,f=this.commands[u];if(!f)throw new Error("Menu command '".concat(u,"' not exists."));if(c&&f.submenu&&(f=d7e(c,f.submenu.items)),!0!==f.disabled&&("function"!=typeof f.disabled||!0!==f.disabled.call(this.hot))&&!Ps(f,"submenu")){var p=[];"function"==typeof f.callback&&p.push(f.callback),"function"==typeof this.commonCallback&&p.push(this.commonCallback),o.unshift(a.join(":")),Qe(p,function(g){return g.apply(r.hot,o)})}}}]),n}();var Qd="alignment",HP="clear_column",B1="col_left",V1="col_right",z1="make_read_only",BP="redo";function jae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var U1="remove_col";function Wae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Fu,VP="remove_row",zP="row_above",UP="row_below",j1="no_items",jP="undo";function id(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Yae=[zP,UP,B1,V1,HP,VP,U1,jP,BP,z1,Qd,Zi,j1],Gae=(id(Fu={},Zi,function H8e(){return{name:Zi}}),id(Fu,j1,function k7e(){return{key:j1,name:function(){return this.getTranslatedPhrase(zU)},disabled:!0,isCommand:!1}}),id(Fu,zP,function A7e(){return{key:zP,name:function(){return this.getTranslatedPhrase(UU)},callback:function(e,t){var r=this.selection.isSelectedByCorner(),i=0;r||(i=t[Math.max(t.length-1,0)].start.row),this.alter("insert_row",i,1,"ContextMenu.rowAbove"),r&&this.selectAll()},disabled:function(){return!ew(this)||(this.selection.isSelectedByCorner()?0===this.countRows():this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}}),id(Fu,UP,function O7e(){return{key:UP,name:function(){return this.getTranslatedPhrase(jU)},callback:function(e,t){var r=this.selection.isSelectedByCorner(),i=0;if(r)i=this.countRows();else{var o,s=t[Math.max(t.length-1,0)],a=null==s||null===(o=s.end)||void 0===o?void 0:o.row;i=fr(a)?a+1:0}this.alter("insert_row",i,1,"ContextMenu.rowBelow"),r&&this.selectAll()},disabled:function(){return!ew(this)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}}),id(Fu,B1,function p7e(){return{key:B1,name:function(){return this.getTranslatedPhrase(WU)},callback:function(){var e=this.selection.isSelectedByCorner(),t=this.isRtl()?this.countCols():0;if(!e){var r=this.getSelectedRangeLast();if(fr(r)){var o=r.getTopLeftCorner().col;t=this.isRtl()?o+1:o}}this.alter("insert_col",t,1,"ContextMenu.columnLeft"),e&&this.selectAll()},disabled:function(){return!this.isColumnModificationAllowed()||!ew(this)||(this.selection.isSelectedByCorner()?0===this.countCols():this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols)},hidden:function(){return!this.getSettings().allowInsertColumn}}}),id(Fu,V1,function m7e(){return{key:V1,name:function(){return this.getTranslatedPhrase(YU)},callback:function(){var e=this.selection.isSelectedByCorner(),t=this.isRtl()?0:this.countCols();if(!e){var r=this.getSelectedRangeLast();if(fr(r)){var o=r.getTopRightCorner().col;t=this.isRtl()?o:o+1}}this.alter("insert_col",t,1,"ContextMenu.columnRight"),e&&this.selectAll()},disabled:function(){return!this.isColumnModificationAllowed()||!ew(this)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols)},hidden:function(){return!this.getSettings().allowInsertColumn}}}),id(Fu,HP,function h7e(){return{key:HP,name:function(){return this.getTranslatedPhrase(qU)},callback:function(e,t){var r=t[0].start.col,i=t[0].end.col;this.countRows()&&this.populateFromArray(0,r,[[null]],Math.max(t[0].start.row,t[0].end.row),i,"ContextMenu.clearColumn")},disabled:function(){return!ew(this)||!this.selection.isSelectedByColumnHeader()}}}),id(Fu,VP,function D7e(){return{key:VP,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var r=function x7e(n,e){return function R7e(n){if(Array.isArray(n))return n}(n)||function T7e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function E7e(n,e){if(n){if("string"==typeof n)return Wae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wae(n,e)}}(n,e)||function C7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e[0],3);r[0]-r[2]!=0&&(t=1)}return this.getTranslatedPhrase(GU,t)},callback:function(){this.alter("remove_row",function tBe(n){var e=WS(n);if(0===e||1===e)return[];var t=M1(e),r=new Set;return Qe(n,function(s){var u=pre(t(s),3),f=u[2],p=Math.max(u[0],0);Qe(Array.from(new Array(f-p+1),function(y,w){return p+w}),function(y){r.has(y)||r.add(y)})}),Ha(Array.from(r).sort(function(s,a){return s-a}),function(s,a,u,c){return 0!==u&&a===c[u-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s},[])}(this.getSelected()),1,"ContextMenu.removeRow")},disabled:function(){if(!ew(this))return!0;var t=this.countRows();return this.selection.isSelectedByCorner()?0===t:this.selection.isSelectedByColumnHeader()||0===t},hidden:function(){return!this.getSettings().allowRemoveRow}}}),id(Fu,U1,function S7e(){return{key:U1,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var r=function y7e(n,e){return function M7e(n){if(Array.isArray(n))return n}(n)||function w7e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function b7e(n,e){if(n){if("string"==typeof n)return jae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jae(n,e)}}(n,e)||function _7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e[0],4);r[1]-r[3]!=0&&(t=1)}return this.getTranslatedPhrase($U,t)},callback:function(){this.alter("remove_col",function eBe(n){var e=WS(n);if(0===e||1===e)return[];var t=M1(e),r=new Set;return Qe(n,function(s){var u=pre(t(s),4),f=u[3],p=Math.max(u[1],0);Qe(Array.from(new Array(f-p+1),function(y,w){return p+w}),function(y){r.has(y)||r.add(y)})}),Ha(Array.from(r).sort(function(s,a){return s-a}),function(s,a,u,c){return 0!==u&&a===c[u-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s},[])}(this.getSelected()),null,"ContextMenu.removeColumn")},disabled:function(){if(!this.isColumnModificationAllowed())return!0;if(!ew(this))return!0;var t=this.countCols();return this.selection.isSelectedByCorner()?0===t:this.selection.isSelectedByRowHeader()||0===t},hidden:function(){return!this.getSettings().allowRemoveColumn}}}),id(Fu,jP,function L7e(){return{key:jP,name:function(){return this.getTranslatedPhrase(XU)},callback:function(){this.undo()},hidden:function(){var e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}),id(Fu,BP,function v7e(){return{key:BP,name:function(){return this.getTranslatedPhrase(KU)},callback:function(){this.redo()},hidden:function(){var e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}),id(Fu,z1,function g7e(){return{key:z1,name:function(){var e=this,t=this.getTranslatedPhrase(ZU);return rp(this.getSelectedRange(),function(i,o){return e.getCellMeta(i,o).readOnly})&&(t=km(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=rp(t,function(i,o){return e.getCellMeta(i,o).readOnly});Qe(t,function(i){i.forAll(function(o,s){o>=0&&s>=0&&e.setCellMeta(o,s,"readOnly",!r)})}),this.render()},disabled:function(){return!(!this.selection.isSelectedByCorner()&&0!==this.countRows()&&0!==this.countCols()&&this.getSelectedRange()&&0!==this.getSelectedRange().length)}}}),id(Fu,Qd,function f7e(){return{key:Qd,name:function(){return this.getTranslatedPhrase(lj)},disabled:function(){return 0===this.countRows()||0===this.countCols()||!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:"".concat(Qd,":left"),name:function(){var e=this,t=this.getTranslatedPhrase(uj);return rp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htLeft"))return!0})&&(t=km(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=tw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htLeft";this.runHooks("beforeCellAlignment",r,t,i,o),cy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(Qd,":center"),name:function(){var e=this,t=this.getTranslatedPhrase(cj);return rp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htCenter"))return!0})&&(t=km(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=tw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htCenter";this.runHooks("beforeCellAlignment",r,t,i,o),cy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(Qd,":right"),name:function(){var e=this,t=this.getTranslatedPhrase(dj);return rp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htRight"))return!0})&&(t=km(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=tw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htRight";this.runHooks("beforeCellAlignment",r,t,i,o),cy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(Qd,":justify"),name:function(){var e=this,t=this.getTranslatedPhrase(fj);return rp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htJustify"))return!0})&&(t=km(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=tw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htJustify";this.runHooks("beforeCellAlignment",r,t,i,o),cy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{name:Zi},{key:"".concat(Qd,":top"),name:function(){var e=this,t=this.getTranslatedPhrase(hj);return rp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htTop"))return!0})&&(t=km(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=tw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htTop";this.runHooks("beforeCellAlignment",r,t,i,o),cy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(Qd,":middle"),name:function(){var e=this,t=this.getTranslatedPhrase(pj);return rp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htMiddle"))return!0})&&(t=km(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=tw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htMiddle";this.runHooks("beforeCellAlignment",r,t,i,o),cy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(Qd,":bottom"),name:function(){var e=this,t=this.getTranslatedPhrase(mj);return rp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htBottom"))return!0})&&(t=km(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=tw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htBottom";this.runHooks("beforeCellAlignment",r,t,i,o),cy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1}]}}}),Fu);function $ae(){var n={};return to(Gae,function(e,t){n[t]=e()}),n}function I7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function F7e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=n;return i&&i.items?i=i.items:Array.isArray(i)||(i=e),ji(i)?to(i,function(o,s){var a=t["string"==typeof o?o:s];a||(a=o),ji(o)?Js(a,o):"string"==typeof a&&(a={name:a}),void 0===a.key&&(a.key=s),r.push(a)}):Qe(i,function(o,s){var a=t[o];!a&&Yae.indexOf(o)>=0||(a||(a={name:o,key:"".concat(s)}),ji(o)&&Js(a,o),void 0===a.key&&(a.key=s),r.push(a))}),r}const Kae=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;I7e(this,n),this.hot=e,this.predefinedItems=$ae(),this.defaultOrderPattern=t}return function P7e(n,e,t){e&&Xae(n.prototype,e),t&&Xae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setPredefinedItems",value:function(t){var r=this,i={};this.defaultOrderPattern.length=0,to(t,function(o,s){var a="";o.name===Zi?(i[Zi]=o,a=Zi):isNaN(parseInt(s,10))?(o.key=void 0===o.key?s:o.key,i[s]=o,a=o.key):(i[o.key]=o,a=o.key),r.defaultOrderPattern.push(a)}),this.predefinedItems=i}},{key:"getItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return F7e(t,this.defaultOrderPattern,this.predefinedItems)}}]),n}();function Zae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const z7e=function(){function n(e,t){!function H7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var o,s,a,u,c,f,r=ZT(t),i=LS(t);this.rootWindow=t,this.type=this.getSourceType(e),"literal"===this.type?(o=parseInt(e.top,10),a=parseInt(e.left,10),c=e.height||0,f=e.width||0,s=o,u=a,o+=r,a+=i):"event"===this.type&&(o=parseInt(e.pageY,10),a=parseInt(e.pageX,10),c=e.target.clientHeight,f=e.target.clientWidth,s=o-r,u=a-i),this.top=o,this.topRelative=s,this.left=a,this.leftRelative=u,this.scrollTop=r,this.scrollLeft=i,this.cellHeight=c,this.cellWidth=f}return function B7e(n,e,t){e&&Zae(n.prototype,e),t&&Zae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSourceType",value:function(t){var r="literal";return t instanceof Event&&(r="event"),r}},{key:"fitsAbove",value:function(t){return this.topRelative>=t.offsetHeight}},{key:"fitsBelow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+t.offsetHeight<=r}},{key:"fitsOnRight",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=r}},{key:"fitsOnLeft",value:function(t){return this.leftRelative>=t.offsetWidth}}]),n}();function qae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Jae(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?qae(Object(t),!0).forEach(function(r){U7e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qae(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function U7e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var nle=function(){function n(e,t){(function j7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.options=t||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:215,container:this.hot.rootDocument.documentElement},this.eventManager=new ea(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}return function W7e(n,e,t){e&&Qae(n.prototype,e),t&&Qae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerEvents",value:function(){for(var t=this,r=this.hot.rootWindow;r;)this.eventManager.addEventListener(r.document,"mousedown",function(i){return t.onDocumentMouseDown(i)}),this.eventManager.addEventListener(r.document,"contextmenu",function(i){return t.onDocumentContextMenu(i)}),r=EL(r)}},{key:"setMenuItems",value:function(t){this.menuItems=t}},{key:"getSelectedItem",value:function(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}},{key:"hasSelectedItem",value:function(){return Array.isArray(this.hotMenu.getSelectedLast())}},{key:"setOffset",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.offset[t]=r}},{key:"isSubMenu",value:function(){return null!==this.parentMenu}},{key:"open",value:function(){var t=this;this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";var r=see(function(y){return t.openSubMenu(y)},300),i=this.options.minWidth||215,o=!1,s=jd(this.menuItems,function(y){return y.key===j1&&(o=!0),function W8e(n,e){return!n.hidden||!("function"==typeof n.hidden&&n.hidden.call(e))}(y,t.hot)});if(s.length<1&&!o)s.push($ae()[j1]);else if(0===s.length)return;s=function $8e(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zi,t=n.slice(0);return G8e(t=Y8e(t=Pae(t,e),e))}(s,Zi);var a=!1,u={data:s,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth:function(w){return fr(w)&&w<i?i:w},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,maxCols:1,columns:[{data:"name",renderer:function(w,M,C,I,B,U){return t.menuItemRenderer(w,M,C,I,B,U)}}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",afterOnCellMouseOver:function(w,M){t.isAllSubMenusClosed()?r(M.row):t.openSubMenu(M.row)},rowHeights:function(w){return s[w].name===Zi?1:23},afterOnCellContextMenu:function(w){w.preventDefault(),FQ()&&a&&t.hasSelectedItem()&&t.close(!0)},beforeOnCellMouseUp:function(w){t.hasSelectedItem()&&(a=!t.isCommandPassive(t.getSelectedItem()),t.executeCommand(w))},afterOnCellMouseUp:function(w){(!FQ()||!Tb(w))&&a&&t.hasSelectedItem()&&($h()||NQ()?setTimeout(function(){return t.close(!0)},325):t.close(!0))},afterUnlisten:function(){!t.hasSelectedItem()&&t.isOpened()&&t.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new T4(this.container,u),this.hotMenu.addHook("afterInit",function(){return t.onAfterInit()}),this.hotMenu.addHook("afterSelection",function(){return t.onAfterSelection.apply(t,arguments)}),this.hotMenu.init(),this.hotMenu.listen();var c=this.hotMenu.getShortcutManager(),f=c.addContext("menu"),g=Jae(Jae({},{group:"menu"}),{},{runOnlyIf:function(w){return!1===IL(w.target)||!1===t.container.contains(w.target)}});c.setActiveContextName("menu"),f.addShortcuts([{keys:[["Escape"]],callback:function(){t.keyEvent=!0,t.close(),t.keyEvent=!1}},{keys:[["ArrowDown"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.selectNextCell(w[0],w[1]):t.selectFirstCell(),t.keyEvent=!1}},{keys:[["ArrowUp"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.selectPrevCell(w[0],w[1]):t.selectLastCell(),t.keyEvent=!1}},{keys:[["ArrowRight"]],callback:function(){var w=t.hotMenu.getSelectedLast();if(t.keyEvent=!0,w){var M=t.openSubMenu(w[0]);M&&M.selectFirstCell()}t.keyEvent=!1}},{keys:[["ArrowLeft"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w&&t.isSubMenu()&&(t.close(),t.parentMenu&&t.parentMenu.hotMenu.listen()),t.keyEvent=!1}},{keys:[["Enter"]],callback:function(w){var M=t.hotMenu.getSelectedLast();t.keyEvent=!0,t.hotMenu.getSourceDataAtRow(M[0]).submenu||(t.executeCommand(w),t.close(!0)),t.keyEvent=!1}},{keys:[["PageUp"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.hotMenu.selection.transformStart(-t.hotMenu.countVisibleRows(),0):t.selectFirstCell(),t.keyEvent=!1}},{keys:[["PageDown"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.hotMenu.selection.transformStart(t.hotMenu.countVisibleRows(),0):t.selectLastCell(),t.keyEvent=!1}}],g),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!this.isOpened()||(t&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))}},{key:"openSubMenu",value:function(t){if(!this.hotMenu)return!1;var r=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!r||!function V8e(n){return _i(n,"htSubmenu")}(r))return!1;var i=this.hotMenu.getSourceDataAtRow(t),o=new n(this.hot,{parent:this,name:i.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return o.setMenuItems(i.submenu.items),o.open(),o.setPosition(r.getBoundingClientRect()),this.hotSubMenus[i.key]=o,o}},{key:"closeSubMenu",value:function(t){var r=this.hotMenu.getSourceDataAtRow(t),i=this.hotSubMenus[r.key];i&&(i.destroy(),delete this.hotSubMenus[r.key])}},{key:"closeAllSubMenus",value:function(){var t=this;Qe(this.hotMenu.getData(),function(r,i){return t.closeSubMenu(i)})}},{key:"isAllSubMenusClosed",value:function(){return 0===Object.keys(this.hotSubMenus).length}},{key:"destroy",value:function(){var t=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),t&&t.removeChild(this.container)}},{key:"isOpened",value:function(){return null!==this.hotMenu}},{key:"executeCommand",value:function(t){if(this.isOpened()&&this.hasSelectedItem()){var r=this.getSelectedItem();if(this.runLocalHooks("select",r,t),!this.isCommandPassive(r)){var i=this.hot.getSelectedRange(),o=i?function B8e(n){return Ki(n,function(e){return{start:e.getTopStartCorner(),end:e.getBottomEndCorner()}})}(i):[];this.runLocalHooks("executeCommand",r.key,o,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",r.key,o,t)}}}},{key:"isCommandPassive",value:function(t){var r=t.isCommand,i=t.name,o=t.disabled,s=t.submenu,a=!0===o||"function"==typeof o&&!0===o.call(this.hot);return!1===r||i===Zi||!0===a||s}},{key:"setPosition",value:function(t){var r=new z7e(t,this.container.ownerDocument.defaultView);this.options.keepInViewport?(r.fitsBelow(this.container)?this.setPositionBelowCursor(r):r.fitsAbove(this.container)?this.setPositionAboveCursor(r):this.setPositionBelowCursor(r),this.hot.isLtr()?this.setHorizontalPositionForLtr(r):this.setHorizontalPositionForRtl(r)):(this.setPositionBelowCursor(r),this.setPositionOnRightOfCursor(r))}},{key:"setHorizontalPositionForRtl",value:function(t){t.fitsOnLeft(this.container)?this.setPositionOnLeftOfCursor(t):this.setPositionOnRightOfCursor(t)}},{key:"setHorizontalPositionForLtr",value:function(t){t.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(t):this.setPositionOnLeftOfCursor(t)}},{key:"setPositionAboveCursor",value:function(t){var r=this.offset.above+t.top-this.container.offsetHeight;this.isSubMenu()&&(r=t.top+t.cellHeight-this.container.offsetHeight+3),this.container.style.top="".concat(r,"px")}},{key:"setPositionBelowCursor",value:function(t){var r=this.offset.below+t.top+1;this.isSubMenu()&&(r=t.top-1),this.container.style.top="".concat(r,"px")}},{key:"setPositionOnRightOfCursor",value:function(t){var r=t.left;if(this.isSubMenu()){var i=this.parentMenu.container.getBoundingClientRect();r+=t.cellWidth+i.right-(t.left+t.cellWidth)}else r+=this.offset.right;this.container.style.left="".concat(r,"px")}},{key:"setPositionOnLeftOfCursor",value:function(t){var r=this.offset.left+t.left-this.container.offsetWidth;if(this.isSubMenu()){var i=this.parentMenu.container.getBoundingClientRect();r-=t.left-i.left}this.container.style.left="".concat(r,"px")}},{key:"selectFirstCell",value:function(){var t=this.hotMenu.getCell(0,0);LP(t)||IP(t)||PP(t)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var t=this.hotMenu.countRows()-1,r=this.hotMenu.getCell(t,0);LP(r)||IP(r)||PP(r)?this.selectPrevCell(t,0):(this.hotMenu.selectCell(t,0,void 0,void 0,!1),this.hotMenu.scrollViewportTo(t,0,!0,!1))}},{key:"selectNextCell",value:function(t,r){var i=t+1,o=i<this.hotMenu.countRows()?this.hotMenu.getCell(i,r):null;!o||(LP(o)||IP(o)||PP(o)?this.selectNextCell(i,r):this.hotMenu.selectCell(i,r))}},{key:"selectPrevCell",value:function(t,r){var i=t-1,o=i>=0?this.hotMenu.getCell(i,r):null;!o||(LP(o)||IP(o)||PP(o)?this.selectPrevCell(i,r):this.hotMenu.selectCell(i,r))}},{key:"menuItemRenderer",value:function(t,r,i,o,s,a){var I,u=this,c=t.getSourceDataAtRow(i),f=this.hot.rootDocument.createElement("div"),w=function(I){return I.disableSelection},M=a;"function"==typeof M&&(M=M.call(this.hot)),Zf(r),Cn(f,"htItemWrapper"),r.appendChild(f),I=c,new RegExp(Zi,"i").test(I.name)?Cn(r,"htSeparator"):"function"==typeof c.renderer?(Cn(r,"htCustomMenuRenderer"),r.appendChild(c.renderer(t,f,i,o,s,M))):xb(f,M),function(I){return!0===I.disabled||"function"==typeof I.disabled&&!0===I.disabled.call(u.hot)}(c)?(Cn(r,"htDisabled"),this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()})):w(c)?(Cn(r,"htSelectionDisabled"),this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()})):function(I){return Ps(I,"submenu")}(c)?(Cn(r,"htSubmenu"),w(c)?this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(r,"mouseenter",function(){return t.selectCell(i,o,void 0,void 0,!1,!1)})):(Ii(r,["htSubmenu","htDisabled"]),w(c)?this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(r,"mouseenter",function(){return t.selectCell(i,o,void 0,void 0,!1,!1)}))}},{key:"createContainer",value:function(){var o,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this.options.container.ownerDocument,i=t;return i&&(Ss(i)&&(i=null===(i=i.call(this.hot))||Ns(i)?"":i.toString()),i=i.replace(/[^A-z0-9]/g,"_"),i="".concat(this.options.className,"Sub_").concat(i),o=r.querySelector(".".concat(this.options.className,".").concat(i))),o||(Cn(o=r.createElement("div"),"htMenu ".concat(this.options.className)),i&&Cn(o,i),this.options.container.appendChild(o)),o}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onAfterInit",value:function(){var t=this.hotMenu.view._wt.wtTable,r=this.hotMenu.getSettings().data,i=t.hider.style,o=t.holder.style,s=parseInt(i.width,10),a=Ha(r,function(u,c){return u+(c.name===Zi?1:26)},0);o.width="".concat(s+3,"px"),o.height="".concat(a+3,"px"),i.height=o.height}},{key:"onAfterSelection",value:function(t,r,i,o,s){!1===this.keyEvent&&(s.value=!0)}},{key:"onDocumentMouseDown",value:function(t){!this.isOpened()||(this.options.standalone&&this.hotMenu&&!Mb(t.target,this.hotMenu.rootElement)||(this.isAllSubMenusClosed()||this.isSubMenu())&&!Mb(t.target,".htMenu"))&&this.close(!0)}},{key:"onDocumentContextMenu",value:function(t){!this.isOpened()||_i(t.target,"htCore")&&Mb(t.target,this.hotMenu.rootElement)&&t.preventDefault()}}]),n}();vs(nle,vc);const XY=nle;function KY(n){return(KY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function rle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function rw(){return rw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=X7e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},rw.apply(this,arguments)}function X7e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Im(n)););return n}function ZY(n,e){return(ZY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function q7e(n,e){if(e&&("object"===KY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ile(n)}function ile(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Im(n){return(Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var WP="contextMenu";wr.getSingleton().register("afterContextMenuDefaultOptions"),wr.getSingleton().register("beforeContextMenuShow"),wr.getSingleton().register("afterContextMenuShow"),wr.getSingleton().register("afterContextMenuHide"),wr.getSingleton().register("afterContextMenuExecute");var ole=function(n){!function K7e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ZY(n,e)}(t,n);var e=function Z7e(n){var e=function J7e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Im(n);if(e){var o=Im(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return q7e(this,i)}}(t);function t(r){var i;return function G7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(ile(i)),i.commandExecutor=new Uae(i.hot),i.itemsFactory=null,i.menu=null,i}return function $7e(n,e,t){e&&rle(n.prototype,e),t&&rle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[WP]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[WP];"function"==typeof o.callback&&this.commandExecutor.setCommonCallback(o.callback),this.menu=new XY(this.hot,{className:"htContextMenu",keepInViewport:!0,container:o.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",function(){return i.onMenuBeforeOpen()}),this.menu.addLocalHook("afterOpen",function(){return i.onMenuAfterOpen()}),this.menu.addLocalHook("afterClose",function(){return i.onMenuAfterClose()}),this.menu.addLocalHook("executeCommand",function(){for(var s,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return(s=i.executeCommand).call.apply(s,[i].concat(u))}),this.addHook("afterOnCellContextMenu",function(s){return i.onAfterOnCellContextMenu(s)}),rw(Im(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),rw(Im(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),rw(Im(t.prototype),"disablePlugin",this).call(this)}},{key:"open",value:function(i){if(this.menu&&(this.prepareMenuItems(),this.menu.open(),this.menu.isOpened())){var o=0,s=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var u=this.hot.rootWindow.frameElement.getBoundingClientRect(),f=u.left;o=u.top-ZT(i.view),s=f-LS(i.view)}else o=-1*ZT(this.menu.hotMenu.rootWindow),s=-1*LS(this.menu.hotMenu.rootWindow);this.menu.setPosition({top:parseInt(i.pageY,10)+o,left:parseInt(i.pageX,10)+s})}}},{key:"close",value:function(){!this.menu||(this.menu.close(),this.itemsFactory=null)}},{key:"executeCommand",value:function(i){var o;null===this.itemsFactory&&this.prepareMenuItems();for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=this.commandExecutor).execute.apply(o,[i].concat(a))}},{key:"prepareMenuItems",value:function(){var i=this;this.itemsFactory=new Kae(this.hot,t.DEFAULT_ITEMS);var o=this.hot.getSettings()[WP],s={items:this.itemsFactory.getItems(o)};this.hot.runHooks("afterContextMenuDefaultOptions",s),this.itemsFactory.setPredefinedItems(s.items);var a=this.itemsFactory.getItems(o);this.hot.runHooks("beforeContextMenuSetItems",a),this.menu.setMenuItems(a),Qe(a,function(u){return i.commandExecutor.registerCommand(u.key,u)})}},{key:"onAfterOnCellContextMenu",value:function(i){var o=this.hot.getSettings(),s=o.rowHeaders,a=o.colHeaders,c=i.target;this.close(),!_i(c,"handsontableInput")&&(i.preventDefault(),i.stopPropagation(),(s||a||function u(f){return"TD"===f.nodeName||"TD"===f.parentNode.nodeName}(c)||_i(c,"current")&&_i(c,"wtBorder"))&&this.open(i))}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeContextMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),rw(Im(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return WP}},{key:"PLUGIN_PRIORITY",get:function(){return 70}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[zP,UP,Zi,B1,V1,Zi,VP,U1,Zi,jP,BP,Zi,z1,Zi,Qd]}}]),t}(Go);function sle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}ole.SEPARATOR={name:Zi};var i9e=function(){function n(){(function n9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.data={}}return function r9e(n,e,t){e&&sle(n.prototype,e),t&&sle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setData",value:function(t,r){this.data[t]=r}},{key:"getData",value:function(t){return this.data[t]||void 0}}]),n}();function ale(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function o9e(n,e,t){return e&&ale(n.prototype,e),t&&ale(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var a9e=o9e(function n(){(function s9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.clipboardData=new i9e});function lle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var qY=function(){function n(e){(function l9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootDocument=e.defaultView?e:e.ownerDocument,this.mainElement=null,this.eventManager=new ea(this),this.listenersCount=new WeakSet,this.container=e}return function u9e(n,e,t){e&&lle(n.prototype,e),t&&lle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"useSecondaryElement",value:function(){var t=function f9e(n){var e=GP.get(n);if(e)return e.parentElement||n.appendChild(e),e;var r=(n.defaultView?n:n.ownerDocument).createElement("textarea");return GP.set(n,r),r.setAttribute("data-hot-input",""),r.className="HandsontableCopyPaste",r.tabIndex=-1,r.autocomplete="off",r.wrap="hard",r.value=" ",n.appendChild(r),r}(this.container);this.listenersCount.has(t)||(this.listenersCount.add(t),ule(this.eventManager,t,this)),this.mainElement=t}},{key:"setFocusableElement",value:function(t){this.listenersCount.has(t)||(this.listenersCount.add(t),ule(this.eventManager,t,this)),this.mainElement=t}},{key:"getFocusableElement",value:function(){return this.mainElement}},{key:"focus",value:function(){this.mainElement.value=" ",$h()||function ZAe(n){XQ(n.ownerDocument.activeElement)||n.select()}(this.mainElement)}}]),n}();vs(qY,vc);var YP=new WeakMap,JY=function(e,t){return function(r){return t.runLocalHooks(e,r)}};function ule(n,e,t){n.addEventListener(e,"copy",JY("copy",t)),n.addEventListener(e,"cut",JY("cut",t)),n.addEventListener(e,"paste",JY("paste",t))}var GP=new WeakMap;function cle(n){if(n instanceof qY){var e=YP.get(n.container);if((e=isNaN(e)?0:e)>0&&(e-=1),function d9e(n){n.eventManager.clear()}(n),e<=0){e=0;var t=GP.get(n.container);t&&t.parentNode&&(t.parentNode.removeChild(t),GP.delete(n.container)),n.mainElement=null}YP.set(n.container,e)}}function dle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function $P(n){return($P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function fle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function iw(){return iw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=b9e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},iw.apply(this,arguments)}function b9e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Pm(n)););return n}function QY(n,e){return(QY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function S9e(n,e){if(e&&("object"===$P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hle(n)}function hle(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Pm(n){return(Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}wr.getSingleton().register("afterCopyLimit"),wr.getSingleton().register("modifyCopyableRange"),wr.getSingleton().register("beforeCut"),wr.getSingleton().register("afterCut"),wr.getSingleton().register("beforePaste"),wr.getSingleton().register("afterPaste"),wr.getSingleton().register("beforeCopy"),wr.getSingleton().register("afterCopy");var XP="copyPaste",E9e=["fragmentSelection"],ow=new WeakMap,ple=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join(""),D9e=function(n){!function w9e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&QY(n,e)}(t,n);var e=function M9e(n){var e=function x9e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Pm(n);if(e){var o=Pm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return S9e(this,i)}}(t);function t(r){var i;return function y9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).columnsLimit=1/0,i.copyableRanges=[],i.focusableElement=void 0,i.pasteMode="overwrite",i.rowsLimit=1/0,i.uiContainer=i.hot.rootDocument.body,ow.set(hle(i),{isTriggeredByCopy:!1,isTriggeredByCut:!1,isBeginEditing:!1,isFragmentSelectionEnabled:!1}),i}return function _9e(n,e,t){e&&fle(n.prototype,e),t&&fle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[XP]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings(),s=o[XP],a=o.fragmentSelection;ow.get(this).isFragmentSelectionEnabled=!!a,"object"===$P(s)&&(this.pasteMode=s.pasteMode||this.pasteMode,this.rowsLimit=isNaN(s.rowsLimit)?this.rowsLimit:s.rowsLimit,this.columnsLimit=isNaN(s.columnsLimit)?this.columnsLimit:s.columnsLimit,this.uiContainer=s.uiContainer||this.uiContainer),this.addHook("afterContextMenuDefaultOptions",function(c){return i.onAfterContextMenuDefaultOptions(c)}),this.addHook("afterOnCellMouseUp",function(){return i.onAfterOnCellMouseUp()}),this.addHook("afterSelectionEnd",function(){return i.onAfterSelectionEnd()}),this.addHook("beforeKeyDown",function(){return i.onBeforeKeyDown()}),this.focusableElement=function c9e(n){var e=new qY(n),t=YP.get(n);return t=isNaN(t)?0:t,YP.set(n,t+1),e}(this.uiContainer),this.focusableElement.addLocalHook("copy",function(c){return i.onCopy(c)}).addLocalHook("cut",function(c){return i.onCut(c)}).addLocalHook("paste",function(c){return i.onPaste(c)}),iw(Pm(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.getOrCreateFocusableElement(),iw(Pm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.focusableElement&&cle(this.focusableElement),iw(Pm(t.prototype),"disablePlugin",this).call(this)}},{key:"copy",value:function(){ow.get(this).isTriggeredByCopy=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("copy")}},{key:"cut",value:function(){ow.get(this).isTriggeredByCut=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("cut")}},{key:"getRangedCopyableData",value:function(i){var o=this,s=[],a=[],u=[];return Qe(i,function(c){Hr(c.startRow,c.endRow,function(f){-1===a.indexOf(f)&&a.push(f)}),Hr(c.startCol,c.endCol,function(f){-1===u.indexOf(f)&&u.push(f)})}),Qe(a,function(c){var f=[];Qe(u,function(p){f.push(o.hot.getCopyableData(c,p))}),s.push(f)}),S1(s)}},{key:"getRangedData",value:function(i){var o=this,s=[],a=[],u=[];return Qe(i,function(c){Hr(c.startRow,c.endRow,function(f){-1===a.indexOf(f)&&a.push(f)}),Hr(c.startCol,c.endCol,function(f){-1===u.indexOf(f)&&u.push(f)})}),Qe(a,function(c){var f=[];Qe(u,function(p){f.push(o.hot.getCopyableData(c,p))}),s.push(f)}),s}},{key:"paste",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if(i||o){var s=new a9e;i&&s.clipboardData.setData("text/plain",i),o&&s.clipboardData.setData("text/html",o),this.getOrCreateFocusableElement(),this.onPaste(s)}}},{key:"setCopyableText",value:function(){var i=this.hot.getSelectedRangeLast();if(i){var o=i.getTopStartCorner(),s=i.getBottomEndCorner(),a=o.row,u=o.col,c=s.row,f=s.col,p=Math.min(c,a+this.rowsLimit-1),g=Math.min(f,u+this.columnsLimit-1);this.copyableRanges.length=0,this.copyableRanges.push({startRow:a,startCol:u,endRow:p,endCol:g}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges),(c!==p||f!==g)&&this.hot.runHooks("afterCopyLimit",c-a+1,f-u+1,this.rowsLimit,this.columnsLimit)}}},{key:"getOrCreateFocusableElement",value:function(){var i=this.hot.getActiveEditor(),o=i?i.TEXTAREA:void 0;o?this.focusableElement.setFocusableElement(o):this.focusableElement.useSecondaryElement()}},{key:"isEditorOpened",value:function(){var i=this.hot.getActiveEditor();return i&&i.isOpened()}},{key:"populateValues",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.hot.getSelectedRangeLast();if(i.length){for(var s=i.length,a=i[0].length,u=[],c=o.getTopStartCorner(),f=c.row,p=c.col,g=o.getBottomEndCorner(),y=g.row,w=g.col,M=f,C=p,I=f,B=p;u.length<s||M<=y;){var U=this.hot.getCellMeta(M,p),j=U.skipRowOnPaste,$=U.visualRow;if(M=$+1,!0!==j){I=$,C=p;for(var se=[],ge=u.length%s;se.length<a||C<=w;){var re=this.hot.getCellMeta(f,C),fe=re.skipColumnOnPaste,we=re.visualCol;if(C=we+1,!0!==fe){B=we;var Ae=se.length%a;se.push(i[ge][Ae])}}u.push(se)}}return this.hot.populateFromArray(f,p,u,void 0,void 0,"CopyPaste.paste",this.pasteMode),[f,p,I,B]}}},{key:"onCopy",value:function(i){var o=ow.get(this);if((this.hot.isListening()||o.isTriggeredByCopy)&&!this.isEditorOpened()){this.setCopyableText(),o.isTriggeredByCopy=!1;var s=this.getRangedData(this.copyableRanges);if(this.hot.runHooks("beforeCopy",s,this.copyableRanges)){var u=S1(s);if(i&&i.clipboardData){var c=Mee(s);i.clipboardData.setData("text/plain",u),i.clipboardData.setData("text/html",[ple,c].join(""))}else"undefined"==typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",u);this.hot.runHooks("afterCopy",s,this.copyableRanges)}i.preventDefault()}}},{key:"onCut",value:function(i){var o=ow.get(this);if((this.hot.isListening()||o.isTriggeredByCut)&&!this.isEditorOpened()){this.setCopyableText(),o.isTriggeredByCut=!1;var s=this.getRangedData(this.copyableRanges);if(this.hot.runHooks("beforeCut",s,this.copyableRanges)){var u=S1(s);if(i&&i.clipboardData){var c=Mee(s);i.clipboardData.setData("text/plain",u),i.clipboardData.setData("text/html",[ple,c].join(""))}else"undefined"==typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",u);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",s,this.copyableRanges)}i.preventDefault()}}},{key:"onPaste",value:function(i){if(this.hot.isListening()&&!this.isEditorOpened()){var o;if(i&&i.preventDefault&&i.preventDefault(),i&&void 0!==i.clipboardData){var s=OV(i.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});if(s&&/(<table)|(<TABLE)/g.test(s)){var a=function FOe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,t={},r=e.createDocumentFragment(),i=e.createElement("div");r.appendChild(i);var o=n;if("string"==typeof o){var s=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,function(ee){var he=ee.match(/<td\b[^>]*?>/g)[0],be=ee.substring(he.length,ee.lastIndexOf("<")).replace(/(<(?!br)([^>]+)>)/gi,"");return"".concat(he).concat(be).concat("</td>")});i.insertAdjacentHTML("afterbegin","".concat(s)),o=i.querySelector("table")}if(o&&NOe(o)){var a=i.querySelector('meta[name$="enerator"]'),u=null!==o.querySelector("tbody th"),c=o.querySelector("tr"),f=c?Array.from(c.cells).reduce(function(ee,he){return ee+he.colSpan},0)-(u?1:0):0,p=o.tFoot&&Array.from(o.tFoot.rows)||[],g=[],y=!1,w=0,M=0;if(o.tHead){var C=Array.from(o.tHead.rows).filter(function(ee){var he=null!==ee.querySelector("td");return he&&g.push(ee),!he});y=(w=C.length)>0,w>1?t.nestedHeaders=Array.from(C).reduce(function(ee,he){var be=Array.from(he.cells).reduce(function(ke,We,yt){if(u&&0===yt)return ke;var It=We.colSpan,Lt=We.innerHTML;return ke.push(It>1?{label:Lt,colspan:It}:Lt),ke},[]);return ee.push(be),ee},[]):y&&(t.colHeaders=Array.from(C[0].children).reduce(function(ee,he,be){return u&&0===be||ee.push(he.innerHTML),ee},[]))}g.length&&(t.fixedRowsTop=g.length),p.length&&(t.fixedRowsBottom=p.length);var I=[].concat(g,JV(Array.from(o.tBodies).reduce(function(ee,he){return ee.push.apply(ee,JV(Array.from(he.rows))),ee},[])),JV(p));M=I.length;for(var B=new Array(M),U=0;U<M;U++)B[U]=new Array(f);for(var j=[],$=[],se=0;se<M;se++)for(var re=Array.from(I[se].cells),fe=re.length,we=0;we<fe;we++){var Ae=re[we],vt=Ae.nodeName,pt=Ae.innerHTML,Xe=Ae.rowSpan,xt=Ae.colSpan,Le=B[se].findIndex(function(ee){return void 0===ee});if("TD"===vt){if(Xe>1||xt>1){for(var Ze=se;Ze<se+Xe;Ze++)if(Ze<M)for(var it=Le;it<Le+xt;it++)B[Ze][it]=null;var ot=Ae.getAttribute("style");ot&&ot.includes("mso-ignore:colspan")||j.push({col:Le,row:se,rowspan:Xe,colspan:xt})}var J="";J=a&&/excel/gi.test(a.content)?pt.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,"\r\n"):pt.replace(/<br(\s*|\/)>[\r\n]?/gim,"\r\n"),B[se][Le]=J.replace(POe,function(ee){return bee[ee]})}else $.push(pt)}return j.length&&(t.mergeCells=j),$.length&&(t.rowHeaders=$),B.length&&(t.data=B),t}}(s,this.hot.rootDocument);o=a.data}else o=i.clipboardData.getData("text/plain")}else"undefined"==typeof ClipboardEvent&&void 0!==this.hot.rootWindow.clipboardData&&(o=this.hot.rootWindow.clipboardData.getData("Text"));if("string"==typeof o&&(o=function jBe(n){var e=[[""]];if(0===n.length)return e;for(var i,t=0,r=0;n.length>0&&i!==n.length;)if(i=n.length,n.match(Fre))n=n.replace(Fre,""),e[r][t+=1]="";else if(n.match(Nre))n=n.replace(Nre,""),t=0,e[r+=1]=[""];else{var o="";if(n.startsWith('"')){for(var s=0,a=!0;a;){var u=n.slice(0,1);'"'===u&&(s+=1),o+=u,(0===(n=n.slice(1)).length||n.match(/^[\t\r\n]/)&&s%2==0)&&(a=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,function(f){return new Array(Math.floor(f.length/2)).fill('"').join("")})}else{var c=n.match(UBe);n=n.slice((o=c?c[0]:"").length)}e[r][t]=o}return e}(o)),(!o||0!==o.length)&&!1!==this.hot.runHooks("beforePaste",o,this.copyableRanges)){var c=function h9e(n,e){return function v9e(n){if(Array.isArray(n))return n}(n)||function g9e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function m9e(n,e){if(n){if("string"==typeof n)return dle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dle(n,e)}}(n,e)||function p9e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.populateValues(o),4),g=c[2],y=c[3];this.hot.selectCell(c[0],c[1],Math.min(this.hot.countRows()-1,g),Math.min(this.hot.countCols()-1,y)),this.hot.runHooks("afterPaste",o,this.copyableRanges)}}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:"---------"},function e9e(n){return{key:"copy",name:function(){return this.getTranslatedPhrase(JU)},callback:function(){n.copy()},disabled:function(){if(0===this.countRows()||0===this.countCols())return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this),function t9e(n){return{key:"cut",name:function(){return this.getTranslatedPhrase(QU)},callback:function(){n.cut()},disabled:function(){if(0===this.countRows()||0===this.countCols())return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this))}},{key:"onAfterOnCellMouseUp",value:function(){!this.hot.isListening()||this.isEditorOpened()||this.hot.getSettings().fragmentSelection||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}},{key:"onAfterSelectionEnd",value:function(){var o=ow.get(this).isFragmentSelectionEnabled;this.isEditorOpened()||(this.getOrCreateFocusableElement(),(!o||this.focusableElement.getFocusableElement()===this.hot.rootDocument.activeElement||!function GAe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.document,t="";return n.getSelection?t=n.getSelection().toString():e.selection&&"Control"!==e.selection.type&&(t=e.selection.createRange().text),t}())&&(this.setCopyableText(),this.focusableElement.focus()))}},{key:"onBeforeKeyDown",value:function(){if(this.hot.isListening()&&!this.isEditorOpened()){var i=this.hot.rootDocument.activeElement,o=this.hot.getActiveEditor();!o||i!==this.focusableElement.getFocusableElement()&&i!==o.select||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}}},{key:"destroy",value:function(){this.focusableElement&&(cle(this.focusableElement),this.focusableElement=null),iw(Pm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return XP}},{key:"SETTING_KEYS",get:function(){return[XP].concat(E9e)}},{key:"PLUGIN_PRIORITY",get:function(){return 80}}]),t}(Go);function mle(n,e){return"border_row".concat(n,"col").concat(e)}function eG(n){var e,t;return(fr(n.start)||fr(n.left))&&(n.start=null!==(e=n.start)&&void 0!==e?e:n.left),(fr(n.end)||fr(n.right))&&(n.end=null!==(t=n.end)&&void 0!==t?t:n.right),delete n.left,delete n.right,n}function Y1(n){return fr(n.start)&&(n.left=n.start),fr(n.end)&&(n.right=n.end),n}function tG(n,e){return{id:mle(n,e),border:{width:1,color:"#000",cornerVisible:!1},row:n,col:e,top:{hide:!0},bottom:{hide:!0},start:{hide:!0},end:{hide:!0}}}function Fm(n,e){var t=!1;return Qe(n.getSelectedRange(),function(r){r.forAll(function(i,o){if(!(i<0||o<0)){var s=n.getCellMeta(i,o).borders;if(s){if(!e)return t=!0,!1;if(!Ps(s[e],"hide")||!1===s[e].hide)return t=!0,!1}}})}),t}function KP(n){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(n)}var I9e=new Map([["left","start"],["right","end"]]);function N9e(n){return{key:"borders:top",name:function(){var t=this.getTranslatedPhrase(vj);return Fm(this,"top")&&(t=KP(t)),t},callback:function(t,r){var i=Fm(this,"top");n.prepareBorder(r,"top",i)}}}function F9e(n){var e=n.hot.isRtl()?"start":"end";return{key:"borders:right",name:function(){var r=this.getTranslatedPhrase(yj);return Fm(this,e)&&(r=KP(r)),r},callback:function(r,i){var o=Fm(this,e);n.prepareBorder(i,e,o)}}}function H9e(n){return{key:"borders:bottom",name:function(){var t=this.getTranslatedPhrase(_j);return Fm(this,"bottom")&&(t=KP(t)),t},callback:function(t,r){var i=Fm(this,"bottom");n.prepareBorder(r,"bottom",i)}}}function B9e(n){var e=n.hot.isRtl()?"end":"start";return{key:"borders:left",name:function(){var r=this.getTranslatedPhrase(bj);return Fm(this,e)&&(r=KP(r)),r},callback:function(r,i){var o=Fm(this,e);n.prepareBorder(i,e,o)}}}function V9e(n){return{key:"borders:no_borders",name:function(){return this.getTranslatedPhrase(wj)},callback:function(t,r){n.prepareBorder(r,"noBorders")},disabled:function(){return!Fm(this)}}}function nG(n){return(nG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function gle(n,e){return function W9e(n){if(Array.isArray(n))return n}(n)||function j9e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function U9e(n,e){if(n){if("string"==typeof n)return vle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vle(n,e)}}(n,e)||function z9e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Y9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function sw(){return sw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=$9e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},sw.apply(this,arguments)}function $9e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Hm(n)););return n}function rG(n,e){return(rG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Z9e(n,e){if(e&&("object"===nG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _le(n)}function _le(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Hm(n){return(Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function J9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var ZP="customBorders",e$e=function(n){!function X9e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rG(n,e)}(t,n);var e=function K9e(n){var e=function q9e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Hm(n);if(e){var o=Hm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Z9e(this,i)}}(t);function t(){var r;Y9e(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return J9e(_le(r=e.call.apply(e,[this].concat(o))),"savedBorders",[]),r}return function G9e(n,e,t){e&&yle(n.prototype,e),t&&yle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[ZP]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(o){return i.onAfterContextMenuDefaultOptions(o)}),this.addHook("init",function(){return i.onAfterInit()}),sw(Hm(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hideBorders(),sw(Hm(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),sw(Hm(t.prototype),"updatePlugin",this).call(this)}},{key:"setBorders",value:function(i,o){var s=this,a=["top","bottom","start","end"],u=null;o&&(this.checkSettingsCohesion([o]),a=Object.keys(o),u=eG(o));var f=M1(WS(i));Qe(i,function(p){for(var y=gle(f(p),4),M=y[1],C=y[2],I=y[3],B=function($){for(var se=function(fe){Qe(a,function(we){s.prepareBorderFromCustomAdded($,fe,u,function P9e(n){var e;return null!==(e=I9e.get(n))&&void 0!==e?e:n}(we))})},ge=M;ge<=I;ge+=1)se(ge)},U=y[0];U<=C;U+=1)B(U)}),this.hot.view.render()}},{key:"getBorders",value:function(i){var o=this;if(!Array.isArray(i))return this.savedBorders;var a=M1(WS(i)),u=[];return Qe(i,function(c){for(var p=gle(a(c),4),y=p[1],w=p[2],M=p[3],C=function(U){for(var j=function(ge){Qe(o.savedBorders,function(re){re.row===U&&re.col===ge&&u.push(Y1(re))})},$=y;$<=M;$+=1)j($)},I=p[0];I<=w;I+=1)C(I)}),u}},{key:"clearBorders",value:function(i){var o=this;i?this.setBorders(i):(Qe(this.savedBorders,function(s){o.clearBordersFromSelectionSettings(s.id),o.clearNullCellRange(),o.hot.removeCellMeta(s.row,s.col,"borders")}),this.savedBorders.length=0)}},{key:"insertBorderIntoSettings",value:function(i,o){this.checkSavedBorders(i)||this.savedBorders.push(i);var a=this.hot._createCellRange(this.hot._createCellCoords(i.row,i.col));this.checkCustomSelections(i,a,o)||this.hot.selection.highlight.addCustomSelection({border:i,visualCellRange:a})}},{key:"prepareBorderFromCustomAdded",value:function(i,o,s,a){var u=this.hot.countRows(),c=this.hot.countCols();if(!(i>=u||o>=c)){var f=tG(i,o);s&&(f=function O9e(n,e){return Ps(e,"border")&&e.border&&(n.border=e.border),Ps(e,"top")&&fr(e.top)&&(e.top?(ji(e.top)||(e.top={width:1,color:"#000"}),n.top=e.top):(e.top={hide:!0},n.top=e.top)),Ps(e,"bottom")&&fr(e.bottom)&&(e.bottom?(ji(e.bottom)||(e.bottom={width:1,color:"#000"}),n.bottom=e.bottom):(e.bottom={hide:!0},n.bottom=e.bottom)),Ps(e,"start")&&fr(e.start)&&(e.start?(ji(e.start)||(e.start={width:1,color:"#000"}),n.start=e.start):(e.start={hide:!0},n.start=e.start)),Ps(e,"end")&&fr(e.end)&&(e.end?(ji(e.end)||(e.end={width:1,color:"#000"}),n.end=e.end):(e.end={hide:!0},n.end=e.end)),n}(f,s),Qe(this.hot.selection.highlight.customSelections,function(p){if(f.id===p.settings.id)return Object.assign(p.settings,s),f.id=p.settings.id,f.top=p.settings.top,f.bottom=p.settings.bottom,f.start=p.settings.start,f.end=p.settings.end,!1})),this.hot.setCellMeta(i,o,"borders",Y1(f)),this.insertBorderIntoSettings(f,a)}}},{key:"prepareBorderFromCustomAddedRange",value:function(i,o){var s=this,a=Math.min(i.to.row,this.hot.countRows()-1),u=Math.min(i.to.col,this.hot.countCols()-1);Hr(i.from.row,a,function(c){Hr(i.from.col,u,function(f){var p=tG(c,f),g=0;c===i.from.row&&Ps(o,"top")&&(g+=1,p.top=o.top),c===i.to.row&&Ps(o,"bottom")&&(g+=1,p.bottom=o.bottom),f===i.from.col&&Ps(o,"start")&&(g+=1,p.start=o.start),f===i.to.col&&Ps(o,"end")&&(g+=1,p.end=o.end),g>0&&(s.hot.setCellMeta(c,f,"borders",Y1(p)),s.insertBorderIntoSettings(p))})})}},{key:"removeAllBorders",value:function(i,o){var s=mle(i,o);this.spliceBorder(s),this.clearBordersFromSelectionSettings(s),this.clearNullCellRange(),this.hot.removeCellMeta(i,o,"borders")}},{key:"setBorder",value:function(i,o,s,a){var u=this.hot.getCellMeta(i,o).borders;u=u&&void 0!==u.border?eG(u):tG(i,o),a?(u[s]={hide:!0},4===this.countHide(u)?this.removeAllBorders(i,o):(this.checkCustomSelectionsFromContextMenu(u,s,a)||this.insertBorderIntoSettings(u),this.hot.setCellMeta(i,o,"borders",Y1(u)))):(u[s]={width:1,color:"#000"},this.checkCustomSelectionsFromContextMenu(u,s,a)||this.insertBorderIntoSettings(u),this.hot.setCellMeta(i,o,"borders",Y1(u)))}},{key:"prepareBorder",value:function(i,o,s){var a=this;Qe(i,function(u){var c=u.start,f=u.end;if(c.row===f.row&&c.col===f.col)"noBorders"===o?a.removeAllBorders(c.row,c.col):a.setBorder(c.row,c.col,o,s);else switch(o){case"noBorders":Hr(c.col,f.col,function(p){Hr(c.row,f.row,function(g){a.removeAllBorders(g,p)})});break;case"top":Hr(c.col,f.col,function(p){a.setBorder(c.row,p,o,s)});break;case"bottom":Hr(c.col,f.col,function(p){a.setBorder(f.row,p,o,s)});break;case"start":Hr(c.row,f.row,function(p){a.setBorder(p,c.col,o,s)});break;case"end":Hr(c.row,f.row,function(p){a.setBorder(p,f.col,o,s)})}})}},{key:"createCustomBorders",value:function(i){var o=this;Qe(i,function(s){var a=eG(s);s.range?o.prepareBorderFromCustomAddedRange(s.range,a):o.prepareBorderFromCustomAdded(s.row,s.col,a)})}},{key:"countHide",value:function(i){return Ha([i.top,i.bottom,i.start,i.end],function(f,p){var g=f;return p&&p.hide&&(g+=1),g},0)}},{key:"clearBordersFromSelectionSettings",value:function(i){var o=Ki(this.hot.selection.highlight.customSelections,function(s){return s.settings.id}).indexOf(i);o>-1&&this.hot.selection.highlight.customSelections[o].clear()}},{key:"clearNullCellRange",value:function(){var i=this;Qe(this.hot.selection.highlight.customSelections,function(o,s){if(null===o.cellRange)return i.hot.selection.highlight.customSelections[s].destroy(),i.hot.selection.highlight.customSelections.splice(s,1),!1})}},{key:"hideBorders",value:function(){var i=this;Qe(this.savedBorders,function(o){i.clearBordersFromSelectionSettings(o.id),i.clearNullCellRange()})}},{key:"spliceBorder",value:function(i){var o=Ki(this.savedBorders,function(s){return s.id}).indexOf(i);o>-1&&this.savedBorders.splice(o,1)}},{key:"checkSavedBorders",value:function(i){var o=this,s=!1;return 4===this.countHide(i)?(this.spliceBorder(i.id),s=!0):Qe(this.savedBorders,function(u,c){if(i.id===u.id)return o.savedBorders[c]=i,s=!0,!1}),s}},{key:"checkCustomSelectionsFromContextMenu",value:function(i,o,s){var a=!1;return Qe(this.hot.selection.highlight.customSelections,function(u){if(i.id===u.settings.id)return to(u.instanceBorders,function(c){c.toggleHiddenClass(o,s)}),a=!0,!1}),a}},{key:"checkCustomSelections",value:function(i,o,s){var a=this.countHide(i),u=!1;return 4===a?(this.removeAllBorders(i.row,i.col),u=!0):Qe(this.hot.selection.highlight.customSelections,function(c){if(i.id===c.settings.id)return c.visualCellRange=o,c.commit(),s&&to(c.instanceBorders,function(f){f.changeBorderStyle(s,i)}),u=!0,!1}),u}},{key:"changeBorderSettings",value:function(){var i=this.hot.getSettings()[ZP];if(Array.isArray(i)){var o=Iu(i);this.checkSettingsCohesion(o),o.length||(this.savedBorders=o),this.createCustomBorders(o)}else void 0!==i&&this.createCustomBorders(this.savedBorders)}},{key:"checkSettingsCohesion",value:function(i){var o=function k9e(n){return n.some(function(e){return fr(e.left)||fr(e.right)})}(i),s=function L9e(n){return n.some(function(e){return fr(e.start)||fr(e.end)})}(i);if(o&&s)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&o)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}},{key:"onAfterContextMenuDefaultOptions",value:function(i){!this.hot.getSettings()[ZP]||i.items.push({name:"---------"},{key:"borders",name:function(){return this.getTranslatedPhrase(gj)},disabled:function(){return this.selection.isSelectedByCorner()},submenu:{items:[N9e(this),F9e(this),H9e(this),B9e(this),V9e(this)]}})}},{key:"onAfterInit",value:function(){this.changeBorderSettings()}},{key:"destroy",value:function(){sw(Hm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return ZP}},{key:"PLUGIN_PRIORITY",get:function(){return 90}}]),t}(Go);function iG(n){return(iG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ble(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function aw(){return aw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=r$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},aw.apply(this,arguments)}function r$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Bm(n)););return n}function oG(n,e){return(oG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function s$e(n,e){if(e&&("object"===iG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wle(n)}function wle(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Bm(n){return(Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Mle="dragToScroll",u$e=function(n){!function i$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oG(n,e)}(t,n);var e=function o$e(n){var e=function a$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Bm(n);if(e){var o=Bm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return s$e(this,i)}}(t);function t(r){var i;return function t$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(wle(i)),i.boundaries=null,i.callback=null,i.listening=!1,i}return function n$e(n,e,t){e&&ble(n.prototype,e),t&&ble(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Mle]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterOnCellMouseDown",function(o){return i.setupListening(o)}),this.addHook("afterOnCellCornerMouseDown",function(o){return i.setupListening(o)}),this.registerEvents(),aw(Bm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),aw(Bm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.unregisterEvents(),aw(Bm(t.prototype),"disablePlugin",this).call(this)}},{key:"setBoundaries",value:function(i){this.boundaries=i}},{key:"setCallback",value:function(i){this.callback=i}},{key:"check",value:function(i,o){var s=0,a=0;o<this.boundaries.top?a=o-this.boundaries.top:o>this.boundaries.bottom&&(a=o-this.boundaries.bottom),i<this.boundaries.left?s=i-this.boundaries.left:i>this.boundaries.right&&(s=i-this.boundaries.right),this.callback(s,a)}},{key:"listen",value:function(){this.listening=!0}},{key:"unlisten",value:function(){this.listening=!1}},{key:"isListening",value:function(){return this.listening}},{key:"registerEvents",value:function(){for(var i=this,s=this.hot.rootWindow;s;)this.eventManager.addEventListener(s.document,"contextmenu",function(){return i.unlisten()}),this.eventManager.addEventListener(s.document,"mouseup",function(){return i.unlisten()}),this.eventManager.addEventListener(s.document,"mousemove",function(a){return i.onMouseMove(a)}),s=EL(s)}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"setupListening",value:function(i){if(!Tb(i)){var o=this.hot.view._wt.wtTable.holder;o!==this.hot.rootWindow&&(this.setBoundaries(o.getBoundingClientRect()),this.setCallback(function(s,a){s<0?o.scrollLeft-=50:s>0&&(o.scrollLeft+=50),a<0?o.scrollTop-=20:a>0&&(o.scrollTop+=20)}),this.listen())}}},{key:"onMouseMove",value:function(i){!this.isListening()||this.check(i.clientX,i.clientY)}},{key:"destroy",value:function(){aw(Bm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Mle}},{key:"PLUGIN_PRIORITY",get:function(){return 100}}]),t}(Go);function sG(n){return(sG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Sle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function lw(){return lw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=f$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},lw.apply(this,arguments)}function f$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Vm(n)););return n}function aG(n,e){return(aG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function m$e(n,e){if(e&&("object"===sG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xle(n)}function xle(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Vm(n){return(Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}wr.getSingleton().register("afterDropdownMenuDefaultOptions"),wr.getSingleton().register("beforeDropdownMenuShow"),wr.getSingleton().register("afterDropdownMenuShow"),wr.getSingleton().register("afterDropdownMenuHide"),wr.getSingleton().register("afterDropdownMenuExecute");var lG="dropdownMenu",uG="changeType",Cle=function(n){!function h$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&aG(n,e)}(t,n);var e=function p$e(n){var e=function g$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Vm(n);if(e){var o=Vm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return m$e(this,i)}}(t);function t(r){var i;return function c$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(xle(i)),i.commandExecutor=new Uae(i.hot),i.itemsFactory=null,i.menu=null,i.hot.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),i}return function d$e(n,e,t){e&&Sle(n.prototype,e),t&&Sle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[lG]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){this.itemsFactory=new Kae(this.hot,t.DEFAULT_ITEMS);var o=this.hot.getSettings()[lG],s={items:this.itemsFactory.getItems(o)};this.registerEvents(),"function"==typeof o.callback&&this.commandExecutor.setCommonCallback(o.callback),lw(Vm(t.prototype),"enablePlugin",this).call(this),this.callOnPluginsReady(function(){i.hot.runHooks("afterDropdownMenuDefaultOptions",s),i.itemsFactory.setPredefinedItems(s.items);var a=i.itemsFactory.getItems(o);i.menu&&i.menu.destroy(),i.menu=new XY(i.hot,{className:"htDropdownMenu",keepInViewport:!0,container:o.uiContainer||i.hot.rootDocument.body}),i.hot.runHooks("beforeDropdownMenuSetItems",a),i.menu.setMenuItems(a),i.menu.addLocalHook("beforeOpen",function(){return i.onMenuBeforeOpen()}),i.menu.addLocalHook("afterOpen",function(){return i.onMenuAfterOpen()}),i.menu.addLocalHook("afterClose",function(){return i.onMenuAfterClose()}),i.menu.addLocalHook("executeCommand",function(){for(var u,c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];return(u=i.executeCommand).call.apply(u,[i].concat(f))}),Qe(a,function(u){return i.commandExecutor.registerCommand(u.key,u)})})}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),lw(Vm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&this.menu.destroy(),lw(Vm(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var i=this;this.eventManager.addEventListener(this.hot.rootElement,"click",function(o){return i.onTableClick(o)})}},{key:"open",value:function(i){!this.menu||(this.menu.open(),i.width&&this.menu.setOffset("left",i.width),this.menu.setPosition(i))}},{key:"close",value:function(){!this.menu||this.menu.close()}},{key:"executeCommand",value:function(i){for(var o,s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=this.commandExecutor).execute.apply(o,[i].concat(a))}},{key:"setListening",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.menu.isOpened()&&(i?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}},{key:"onTableClick",value:function(i){if(i.stopPropagation(),_i(i.target,uG)&&!this.menu.isOpened()){var o=0,s=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var u=this.hot.rootWindow.frameElement.getBoundingClientRect();o=u.top,s=u.left}var p=i.target.getBoundingClientRect();this.open({left:p.left+s,top:p.top+i.target.offsetHeight+3+o,width:p.width,height:p.height})}}},{key:"onAfterGetColHeader",value:function(i,o){var s=o.parentNode;if(s){var a=s.parentNode.childNodes,u=Array.prototype.indexOf.call(a,s);if(!(i<0||u!==a.length-1)){var c=o.querySelector(".".concat(uG));if(!this.enabled||!c){if(!this.enabled)return void(c&&c.parentNode.removeChild(c));var f=this.hot.rootDocument.createElement("button");f.className=uG,f.type="button",f.onclick=function(){return!1},o.firstChild.insertBefore(f,o.firstChild.firstChild)}}}}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeDropdownMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterDropdownMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),lw(Vm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return lG}},{key:"PLUGIN_PRIORITY",get:function(){return 230}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[B1,V1,Zi,U1,Zi,HP,Zi,z1,Zi,Qd]}}]),t}(Go);function Ele(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Tle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}Cle.SEPARATOR={name:Zi};const E$e=function(){function n(e){(function S$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.options={}}return function x$e(n,e,t){e&&Tle(n.prototype,e),t&&Tle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"getData",value:function(){var t=this,r=this._getDataRange(),o=r.startCol,a=r.endCol,u=this.options,c=[];return Hr(r.startRow,r.endRow,function(f){var p=[];!u.exportHiddenRows&&t._isHiddenRow(f)||(Hr(o,a,function(g){!u.exportHiddenColumns&&t._isHiddenColumn(g)||p.push(t.hot.getDataAtCell(f,g))}),c.push(p))}),c}},{key:"getRowHeaders",value:function(){var t=this,r=[];if(this.options.rowHeaders){var i=this._getDataRange(),o=i.startRow,s=i.endRow,a=this.hot.getRowHeader();Hr(o,s,function(u){!t.options.exportHiddenRows&&t._isHiddenRow(u)||r.push(a[u])})}return r}},{key:"getColumnHeaders",value:function(){var t=this,r=[];if(this.options.columnHeaders){var i=this._getDataRange(),o=i.startCol,s=i.endCol,a=this.hot.getColHeader();Hr(o,s,function(u){!t.options.exportHiddenColumns&&t._isHiddenColumn(u)||r.push(a[u])})}return r}},{key:"_getDataRange",value:function(){var t=this.hot.countCols()-1,r=this.hot.countRows()-1,i=function y$e(n,e){return function M$e(n){if(Array.isArray(n))return n}(n)||function w$e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function b$e(n,e){if(n){if("string"==typeof n)return Ele(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ele(n,e)}}(n,e)||function _$e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.options.range,4),o=i[0],s=void 0===o?0:o,a=i[1],u=void 0===a?0:a,c=i[2],f=void 0===c?r:c,p=i[3],g=void 0===p?t:p;return{startRow:s=Math.max(s,0),startCol:u=Math.max(u,0),endRow:f=Math.min(f,r),endCol:g=Math.min(g,t)}}},{key:"_isHiddenRow",value:function(t){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(t))}},{key:"_isHiddenColumn",value:function(t){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(t))}}]),n}();function Rle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const A$e=function(){function n(e,t){(function T$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataProvider=e,this.options=this._mergeOptions(t),this.dataProvider.setOptions(this.options)}return function R$e(n,e,t){e&&Rle(n.prototype,e),t&&Rle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"_mergeOptions",value:function(t){var r=mc(this.constructor.DEFAULT_OPTIONS),i=new Date;return r=Js(mc(n.DEFAULT_OPTIONS),r),(r=Js(r,t)).filename=zQ(r.filename,{YYYY:i.getFullYear(),MM:"".concat(i.getMonth()+1).padStart(2,"0"),DD:"".concat(i.getDate()).padStart(2,"0")}),r}}],[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}}]),n}();function cG(n){return(cG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function O$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Dle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function dG(n,e){return(dG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function P$e(n,e){if(e&&("object"===cG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function N$e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function qP(n){return(qP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var H$e=String.fromCharCode(13),B$e=String.fromCharCode(34),V$e=String.fromCharCode(10),fG=function j$e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}({},"csv",function(n){!function L$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dG(n,e)}(t,n);var e=function I$e(n){var e=function F$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=qP(n);if(e){var o=qP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return P$e(this,i)}}(t);function t(){return O$e(this,t),e.apply(this,arguments)}return function k$e(n,e,t){e&&Dle(n.prototype,e),t&&Dle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"export",value:function(){var i=this,o=this.options,s=this.dataProvider.getData(),a=this.dataProvider.getColumnHeaders(),u=a.length>0,c=this.dataProvider.getRowHeaders(),f=c.length>0,p=o.bom?String.fromCharCode(65279):"";return u&&(a=Ki(a,function(g){return i._escapeCell(g,!0)}),f&&(p+=o.columnDelimiter),p+=a.join(o.columnDelimiter),p+=o.rowDelimiter),Qe(s,function(g,y){y>0&&(p+=o.rowDelimiter),f&&(p+=i._escapeCell(c[y])+o.columnDelimiter),p+=g.map(function(w){return i._escapeCell(w)}).join(o.columnDelimiter)}),p}},{key:"_escapeCell",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=_a(i);return""!==s&&(o||s.indexOf(H$e)>=0||s.indexOf(B$e)>=0||s.indexOf(V$e)>=0||s.indexOf(this.options.columnDelimiter)>=0)&&(s=s.replace(new RegExp('"',"g"),'""'),s='"'.concat(s,'"')),s}}],[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:"\r\n"}}}]),t}(A$e));function Y$e(n,e,t){return"function"==typeof fG[n]?new fG[n](e,t):null}function hG(n){return(hG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function G$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ale(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function pG(n,e){return(pG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Z$e(n,e){if(e&&("object"===hG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function q$e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function JP(n){return(JP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var tXe=function(n){!function X$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&pG(n,e)}(t,n);var e=function K$e(n){var e=function J$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=JP(n);if(e){var o=JP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Z$e(this,i)}}(t);function t(){return G$e(this,t),e.apply(this,arguments)}return function $$e(n,e,t){e&&Ale(n.prototype,e),t&&Ale(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!0}},{key:"exportAsString",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createTypeFormatter(i,o).export()}},{key:"exportAsBlob",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createBlob(this._createTypeFormatter(i,o))}},{key:"downloadFile",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.hot,a=s.rootDocument,u=s.rootWindow,c=this._createTypeFormatter(i,o),f=this._createBlob(c),p=u.URL||u.webkitURL,g=a.createElement("a"),y="".concat(c.options.filename,".").concat(c.options.fileExtension);if(void 0!==g.download){var w=p.createObjectURL(f);g.style.display="none",g.setAttribute("href",w),g.setAttribute("download",y),a.body.appendChild(g),g.dispatchEvent(new MouseEvent("click")),a.body.removeChild(g),setTimeout(function(){p.revokeObjectURL(w)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(f,y)}},{key:"_createTypeFormatter",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!fG[i])throw new Error('Export format type "'.concat(i,'" is not supported.'));return Y$e(i,new E$e(this.hot),o)}},{key:"_createBlob",value:function(i){var o=null;return"undefined"!=typeof Blob&&(o=new Blob([i.export()],{type:"".concat(i.options.mimeType,";charset=").concat(i.options.encoding)})),o}}],[{key:"PLUGIN_KEY",get:function(){return"exportFile"}},{key:"PLUGIN_PRIORITY",get:function(){return 240}}]),t}(Go);function Ole(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var kle=function(){function n(e,t){var r=t.id,i=t.stateless,o=void 0===i||i;(function nXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.id=r,this.elements=[],this.hidden=!1,this.stateId="Filters.component.".concat(this.id),this.state=o?null:this.hot.columnIndexMapper.registerMap(this.stateId,new bI)}return function rXe(n,e,t){e&&Ole(n.prototype,e),t&&Ole(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"reset",value:function(){Qe(this.elements,function(t){return t.reset()})}},{key:"hide",value:function(){this.hidden=!0}},{key:"show",value:function(){this.hidden=!1}},{key:"isHidden",value:function(){return null===this.hot||this.hidden}},{key:"restoreState",value:function(t){this.state&&this.setState(this.state.getValueAtIndex(t))}},{key:"setState",value:function(){throw new Error("The state setting logic is not implemented")}},{key:"saveState",value:function(t){this.state&&this.state.setValueAtIndex(t,this.getState())}},{key:"getState",value:function(){throw new Error("The state gathering logic is not implemented")}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),Qe(this.elements,function(t){return t.destroy()}),this.state=null,this.elements=null,this.hot=null}}]),n}();vs(kle,vc);const QP=kle;var G1={};function dy(n,e){if(!G1[n])throw Error('Filter condition "'.concat(n,'" does not exist.'));var t=G1[n],r=t.condition,i=t.descriptor,o=e;return i.inputValuesDecorator&&(o=i.inputValuesDecorator(o)),function(s){return r.apply(s.meta.instance,[].concat([s],[o]))}}function uw(n){if(!G1[n])throw Error('Filter condition "'.concat(n,'" does not exist.'));return G1[n].descriptor}function ba(n,e,t){t.key=n,G1[n]={condition:e,descriptor:t}}var bl="none";ba(bl,function iXe(){return!0},{name:RI,inputsCount:0,showOperators:!1});var $1="empty";ba($1,function oXe(n){return nl(n.value)},{name:Rj,inputsCount:0,showOperators:!0});var eN="not_empty";function Lle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}ba(eN,function sXe(n,e){return!dy($1,e)(n)},{name:Dj,inputsCount:0,showOperators:!0});var X1="eq";ba(X1,function fXe(n,e){var r=function aXe(n,e){return function dXe(n){if(Array.isArray(n))return n}(n)||function cXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function uXe(n,e){if(n){if("string"==typeof n)return Lle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lle(n,e)}}(n,e)||function lXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return _a(n.value).toLocaleLowerCase(n.meta.locale)===_a(r)},{name:Aj,inputsCount:1,showOperators:!0});var tN="neq";function Ile(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Nle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Hle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Vle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ule(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}ba(tN,function hXe(n,e){return!dy(X1,e)(n)},{name:Oj,inputsCount:1,showOperators:!0}),ba("gt",function _Xe(n,e){var i=function pXe(n,e){return function yXe(n){if(Array.isArray(n))return n}(n)||function vXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function gXe(n,e){if(n){if("string"==typeof n)return Ile(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ile(n,e)}}(n,e)||function mXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value>i},{name:Nj,inputsCount:1,showOperators:!0}),ba("gte",function CXe(n,e){var i=function bXe(n,e){return function xXe(n){if(Array.isArray(n))return n}(n)||function SXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function MXe(n,e){if(n){if("string"==typeof n)return Nle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nle(n,e)}}(n,e)||function wXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value>=i},{name:Fj,inputsCount:1,showOperators:!0}),ba("lt",function OXe(n,e){var i=function EXe(n,e){return function AXe(n){if(Array.isArray(n))return n}(n)||function DXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function RXe(n,e){if(n){if("string"==typeof n)return Hle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hle(n,e)}}(n,e)||function TXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value<i},{name:Hj,inputsCount:1,showOperators:!0}),ba("lte",function FXe(n,e){var i=function kXe(n,e){return function NXe(n){if(Array.isArray(n))return n}(n)||function PXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function IXe(n,e){if(n){if("string"==typeof n)return Vle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vle(n,e)}}(n,e)||function LXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value<=i},{name:Bj,inputsCount:1,showOperators:!0});var mG="date_after";function jle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}ba(mG,function jXe(n,e){var r=function HXe(n,e){return function UXe(n){if(Array.isArray(n))return n}(n)||function zXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function VXe(n,e){if(n){if("string"==typeof n)return Ule(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ule(n,e)}}(n,e)||function BXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0],i=rs(n.value,n.meta.dateFormat),o=rs(r,n.meta.dateFormat);return!(!i.isValid()||!o.isValid())&&i.diff(o)>=0},{name:Uj,inputsCount:1,showOperators:!0});var gG="date_before";function Wle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}ba(gG,function KXe(n,e){var r=function WXe(n,e){return function XXe(n){if(Array.isArray(n))return n}(n)||function $Xe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function GXe(n,e){if(n){if("string"==typeof n)return jle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jle(n,e)}}(n,e)||function YXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0],i=rs(n.value,n.meta.dateFormat),o=rs(r,n.meta.dateFormat);return!(!i.isValid()||!o.isValid())&&i.diff(o)<=0},{name:jj,inputsCount:1,showOperators:!0});var nN="between";ba(nN,function tKe(n,e){var t=function ZXe(n,e){return function eKe(n){if(Array.isArray(n))return n}(n)||function QXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function JXe(n,e){if(n){if("string"==typeof n)return Wle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wle(n,e)}}(n,e)||function qXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),o=t[0],s=t[1];if("numeric"===n.meta.type){var a=parseFloat(o,10),u=parseFloat(s,10);o=Math.min(a,u),s=Math.max(a,u)}else if("date"===n.meta.type){var c=dy(gG,[s]),f=dy(mG,[o]);return c(n)&&f(n)}return n.value>=o&&n.value<=s},{name:Vj,inputsCount:2,showOperators:!0});var Yle="not_between";function Gle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}ba(Yle,function nKe(n,e){return!dy(nN,e)(n)},{name:zj,inputsCount:2,showOperators:!0});var $le="begins_with";function Xle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Zle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}ba($le,function lKe(n,e){var r=function rKe(n,e){return function aKe(n){if(Array.isArray(n))return n}(n)||function sKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function oKe(n,e){if(n){if("string"==typeof n)return Gle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gle(n,e)}}(n,e)||function iKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return _a(n.value).toLocaleLowerCase(n.meta.locale).startsWith(_a(r))},{name:kj,inputsCount:1,showOperators:!0}),b(3487),ba("ends_with",function pKe(n,e){var r=function uKe(n,e){return function hKe(n){if(Array.isArray(n))return n}(n)||function fKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function dKe(n,e){if(n){if("string"==typeof n)return Xle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xle(n,e)}}(n,e)||function cKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return _a(n.value).toLocaleLowerCase(n.meta.locale).endsWith(_a(r))},{name:Lj,inputsCount:1,showOperators:!0});var vG="contains";ba(vG,function bKe(n,e){var r=function mKe(n,e){return function _Ke(n){if(Array.isArray(n))return n}(n)||function yKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function vKe(n,e){if(n){if("string"==typeof n)return Zle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zle(n,e)}}(n,e)||function gKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return _a(n.value).toLocaleLowerCase(n.meta.locale).indexOf(_a(r))>=0},{name:Ij,inputsCount:1,showOperators:!0});var qle="not_contains";ba(qle,function wKe(n,e){return!dy(vG,e)(n)},{name:Pj,inputsCount:1,showOperators:!0});var Jle="date_tomorrow";ba(Jle,function MKe(n){var e=rs(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(rs().subtract(-1,"days").startOf("day"),"d")},{name:Yj,inputsCount:0});var Qle="date_today";ba(Qle,function SKe(n){var e=rs(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(rs().startOf("day"),"d")},{name:Wj,inputsCount:0});var K1,eue="date_yesterday";function yG(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}ba(eue,function xKe(n){var e=rs(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(rs().subtract(1,"days").startOf("day"),"d")},{name:Gj,inputsCount:0});var nue=(yG(K1={},"numeric",[bl,Zi,$1,eN,Zi,X1,tN,Zi,"gt","gte","lt","lte",nN,Yle]),yG(K1,"text",[bl,Zi,$1,eN,Zi,X1,tN,Zi,$le,"ends_with",Zi,vG,qle]),yG(K1,"date",[bl,Zi,$1,eN,Zi,X1,tN,Zi,gG,mG,nN,Zi,Jle,Qle,eue]),K1);function rue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var _G="built",bG="building",iue=["click","input","keydown","keypress","keyup","focus","blur","change"],oue=function(){function n(e,t){(function RKe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.eventManager=new ea(this),this.options=Js(n.DEFAULTS,t),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName),this.buildState=null}return function DKe(n,e,t){e&&rue(n.prototype,e),t&&rue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setValue",value:function(t){this.options.value=t,this.update()}},{key:"getValue",value:function(){return this.options.value}},{key:"element",get:function(){return this.buildState===bG?this._element:this.buildState===_G?(this.update(),this._element):(this.buildState=bG,this.build(),this.buildState=_G,this._element)}},{key:"isBuilt",value:function(){return this.buildState===_G}},{key:"translateIfPossible",value:function(t){return"string"==typeof t&&t.startsWith(Pu)?this.hot.getTranslatedPhrase(t):t}},{key:"build",value:function(){var t=this,r=function(s,a){t.eventManager.addEventListener(s,a,function(u){return t.runLocalHooks(a,u,t)})};if(this.buildState||(this.buildState=bG),this.options.className&&Cn(this._element,this.options.className),this.options.children.length)Qe(this.options.children,function(o){return t._element.appendChild(o.element)});else if(this.options.wrapIt){var i=this.hot.rootDocument.createElement(this.options.tagName);to(this.options,function(o,s){void 0!==i[s]&&"className"!==s&&"tagName"!==s&&"children"!==s&&(i[s]=t.translateIfPossible(o))}),this._element.appendChild(i),Qe(iue,function(o){return r(i,o)})}else Qe(iue,function(o){return r(t._element,o)})}},{key:"update",value:function(){}},{key:"reset",value:function(){this.options.value="",this.update()}},{key:"show",value:function(){this.element.style.display=""}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"focus",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}}],[{key:"DEFAULTS",get:function(){return mc({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}}]),n}();vs(oue,vc);const fy=oue;function wG(n){return(wG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function sue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function rN(){return rN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=kKe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},rN.apply(this,arguments)}function kKe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=lx(n)););return n}function MG(n,e){return(MG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function PKe(n,e){if(e&&("object"===wG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return aue(n)}function aue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lx(n){return(lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var iN=new WeakMap;const ux=function(n){!function LKe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&MG(n,e)}(t,n);var e=function IKe(n){var e=function NKe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=lx(n);if(e){var o=lx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return PKe(this,i)}}(t);function t(r,i){var o;return function AKe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,Js(t.DEFAULTS,i)),iN.set(aue(o),{}),o.registerHooks(),o}return function OKe(n,e,t){e&&sue(n.prototype,e),t&&sue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.addLocalHook("click",function(){return i.onClick()}),this.addLocalHook("keyup",function(o){return i.onKeyup(o)})}},{key:"build",value:function(){rN(lx(t.prototype),"build",this).call(this);var i=iN.get(this),o=this.hot.rootDocument.createElement("div");i.input=this._element.firstChild,Cn(this._element,"htUIInput"),Cn(o,"htUIInputIcon"),this._element.appendChild(o),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var i=iN.get(this).input;i.type=this.options.type,i.placeholder=this.translateIfPossible(this.options.placeholder),i.value=this.translateIfPossible(this.options.value)}}},{key:"focus",value:function(){this.isBuilt()&&iN.get(this).input.focus()}},{key:"onClick",value:function(){}},{key:"onKeyup",value:function(i){this.options.value=i.target.value}}],[{key:"DEFAULTS",get:function(){return mc({placeholder:"",type:"text",tagName:"input"})}}]),t}(fy);function SG(n){return(SG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function cx(){return cx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=VKe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},cx.apply(this,arguments)}function VKe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=hy(n)););return n}function xG(n,e){return(xG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function jKe(n,e){if(e&&("object"===SG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return uue(n)}function uue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hy(n){return(hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var oN=new WeakMap;const cue=function(n){!function zKe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&xG(n,e)}(t,n);var e=function UKe(n){var e=function WKe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=hy(n);if(e){var o=hy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return jKe(this,i)}}(t);function t(r,i){var o;return function HKe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,Js(t.DEFAULTS,i)),oN.set(uue(o),{}),o.menu=null,o.items=[],o.registerHooks(),o}return function BKe(n,e,t){e&&lue(n.prototype,e),t&&lue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.addLocalHook("click",function(){return i.onClick()})}},{key:"setItems",value:function(i){this.items=this.translateNames(i),this.menu&&this.menu.setMenuItems(this.items)}},{key:"translateNames",value:function(i){var o=this;return Qe(i,function(s){s.name=o.translateIfPossible(s.name)}),i}},{key:"build",value:function(){var i=this;cx(hy(t.prototype),"build",this).call(this),this.menu=new XY(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer}),this.menu.setMenuItems(this.items);var o=new fy(this.hot,{className:"htUISelectCaption"}),s=new fy(this.hot,{className:"htUISelectDropdown"}),a=oN.get(this);a.caption=o,a.captionElement=o.element,a.dropdown=s,Qe([o,s],function(u){return i._element.appendChild(u.element)}),this.menu.addLocalHook("select",function(u){return i.onMenuSelect(u)}),this.menu.addLocalHook("afterClose",function(){return i.onMenuClosed()}),this.update()}},{key:"update",value:function(){var i;this.isBuilt()&&(i=this.options.value?this.options.value.name:this.menu.hot.getTranslatedPhrase(RI),oN.get(this).captionElement.textContent=i,cx(hy(t.prototype),"update",this).call(this))}},{key:"openOptions",value:function(){var i=this.element.getBoundingClientRect();this.menu&&(this.menu.open(),this.menu.setPosition({left:this.hot.isLtr()?i.left-5:i.left-31,top:i.top-1,width:i.width,height:i.height}))}},{key:"closeOptions",value:function(){this.menu&&this.menu.close()}},{key:"onMenuSelect",value:function(i){i.name!==Zi&&(this.options.value=i,this.update(),this.runLocalHooks("select",this.options.value))}},{key:"onMenuClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onClick",value:function(){this.openOptions()}},{key:"destroy",value:function(){this.menu&&(this.menu.destroy(),this.menu=null);var i=oN.get(this),o=i.caption,s=i.dropdown;o&&o.destroy(),s&&s.destroy(),cx(hy(t.prototype),"destroy",this).call(this)}}],[{key:"DEFAULTS",get:function(){return mc({className:"htUISelect",wrapIt:!1})}}]),t}(fy);function CG(n){return(CG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function due(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function sN(){return sN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=XKe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},sN.apply(this,arguments)}function XKe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=dx(n)););return n}function EG(n,e){return(EG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function qKe(n,e){if(e&&("object"===CG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function JKe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function dx(n){return(dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const TG=function(n){!function KKe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&EG(n,e)}(t,n);var e=function ZKe(n){var e=function QKe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=dx(n);if(e){var o=dx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return qKe(this,i)}}(t);function t(r,i){var o;return function GKe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.addSeparator=i.addSeparator,o.elements.push(new cue(o.hot,{menuContainer:i.menuContainer})),o.elements.push(new ux(o.hot,{placeholder:t4})),o.elements.push(new ux(o.hot,{placeholder:n4})),o.registerHooks(),o}return function $Ke(n,e,t){e&&due(n.prototype,e),t&&due(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.getSelectElement().addLocalHook("select",function(o){return i.onConditionSelect(o)}),this.getSelectElement().addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),Qe(this.getInputElements(),function(o){o.addLocalHook("keydown",function(s){return i.onInputKeyDown(s)})})}},{key:"setState",value:function(i){var o=this;if(this.reset(),i){var s=mc(i.command);s.name.startsWith(ta)&&(s.name=this.hot.getTranslatedPhrase(s.name)),this.getSelectElement().setValue(s),Qe(i.args,function(a,u){if(u>s.inputsCount-1)return!1;var c=o.getInputElement(u);c.setValue(a),c[s.inputsCount>u?"show":"hide"](),u||setTimeout(function(){return c.focus()},10)})}}},{key:"getState",value:function(){var i=this.getSelectElement().getValue()||uw(bl),o=[];return Qe(this.getInputElements(),function(s,a){i.inputsCount>a&&o.push(s.getValue())}),{command:i,args:o}}},{key:"updateState",value:function(i,o){var s=uw(i?i.name:bl);this.state.setValueAtIndex(o,{command:s,args:i?i.args:[]}),i||Qe(this.getInputElements(),function(a){return a.setValue(null)})}},{key:"getSelectElement",value:function(){return this.elements.filter(function(i){return i instanceof cue})[0]}},{key:"getInputElement",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getInputElements()[i]}},{key:"getInputElements",value:function(){return this.elements.filter(function(i){return i instanceof ux})}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a,u,c,f,p){Cn(a.parentNode,"htFiltersMenuCondition"),i.addSeparator&&Cn(a.parentNode,"border");var g=i.hot.rootDocument.createElement("div");return Cn(g,"htFiltersMenuLabel"),g.textContent=p,a.appendChild(g),a.parentNode.hasAttribute("ghost-table")||Qe(i.elements,function(y){return a.appendChild(y.element)}),a}}}},{key:"reset",value:function(){var i=this.hot.getPlugin("filters").getSelectedColumn(),o=[uw(bl)];if(null!==i){var s=i.visualIndex;o=function TKe(n){var e=[],t=n;return nue[t]||(t="text"),Qe(nue[t],function(r){var i;i=r===Zi?{name:Zi}:mc(uw(r)),e.push(i)}),e}(this.hot.getDataType(0,s,this.hot.countRows(),s))}Qe(this.getInputElements(),function(a){return a.hide()}),this.getSelectElement().setItems(o),sN(dx(t.prototype),"reset",this).call(this),this.getSelectElement().setValue(o[0])}},{key:"onConditionSelect",value:function(i){Qe(this.getInputElements(),function(o,s){o[i.inputsCount>s?"show":"hide"](),0===s&&setTimeout(function(){return o.focus()},10)}),this.runLocalHooks("change",i)}},{key:"onSelectUIClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onInputKeyDown",value:function(i){t1(i.keyCode,"ENTER")?(this.runLocalHooks("accept"),Xh(i)):t1(i.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Xh(i))}}]),t}(QP);var Z1={};function tZe(n){if(!Z1[n])throw Error('Operation with id "'.concat(n,'" does not exist.'));var e=Z1[n].func;return function(t,r){return e(t,r)}}function nZe(n){return Z1[n].name}function RG(n,e,t){Z1[n]={name:e,func:t}}var py="conjunction";RG(py,Kj,function iZe(n,e){return n.every(function(t){return t.func(e)})});var aN="disjunction";RG(aN,DI,function sZe(n,e){return n.some(function(t){return t.func(e)})});var DG="disjunctionWithExtraCondition";function AG(n){return(AG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function fue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function lN(){return lN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=dZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},lN.apply(this,arguments)}function dZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=fx(n)););return n}function OG(n,e){return(OG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function pZe(n,e){if(e&&("object"===AG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hue(n)}function hue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fx(n){return(fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}RG(DG,DI,function lZe(n,e){if(n.length<3)throw Error("Operation doesn't work on less then three conditions.");return n.slice(0,n.length-1).some(function(t){return t.func(e)})&&n[n.length-1].func(e)});var uN=new WeakMap;const pue=function(n){!function fZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&OG(n,e)}(t,n);var e=function hZe(n){var e=function mZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=fx(n);if(e){var o=fx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return pZe(this,i)}}(t);function t(r,i){var o;return function uZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,Js(t.DEFAULTS,i)),uN.set(hue(o),{}),o}return function cZe(n,e,t){e&&fue(n.prototype,e),t&&fue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){lN(fx(t.prototype),"build",this).call(this);var i=uN.get(this);i.input=this._element.firstChild;var o=this.hot.rootDocument.createElement("label");o.textContent=this.translateIfPossible(this.options.label.textContent),o.htmlFor=this.translateIfPossible(this.options.label.htmlFor),i.label=o,this._element.appendChild(o),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var i=uN.get(this);i.input.checked=this.options.checked,i.label.textContent=this.translateIfPossible(this.options.label.textContent)}}},{key:"isChecked",value:function(){return this.options.checked}},{key:"setChecked",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.checked=i,this.update()}},{key:"focus",value:function(){this.isBuilt()&&uN.get(this).input.focus()}}],[{key:"DEFAULTS",get:function(){return mc({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}}]),t}(fy);function kG(n){return(kG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var mue;function gue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function LG(n,e){return(LG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function MZe(n,e){if(e&&("object"===kG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function SZe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function cN(n){return(cN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const EZe=function(n){!function bZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&LG(n,e)}(t,n);var e=function wZe(n){var e=function xZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=cN(n);if(e){var o=cN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return MZe(this,i)}}(t);function t(r,i){var o;return function yZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.buildOperatorsElement(),o}return function _Ze(n,e,t){e&&gue(n.prototype,e),t&&gue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a){return Cn(a.parentNode,"htFiltersMenuOperators"),a.parentNode.hasAttribute("ghost-table")||Qe(i.elements,function(u){return a.appendChild(u.element)}),a}}}},{key:"buildOperatorsElement",value:function(){var i=this,o=[py,aN];Qe(o,function(s){var a=new pue(i.hot,{name:"operator",label:{htmlFor:s,textContent:nZe(s)},value:s,checked:s===o[0],id:s});a.addLocalHook("change",function(u){return i.onRadioInputChange(u)}),i.elements.push(a)})}},{key:"setChecked",value:function(i){if(this.elements.length<i)throw Error(cs(mue||(mue=function vZe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Radio button with index "," doesn't exist."])),i));Qe(this.elements,function(o,s){o.setChecked(s===i)})}},{key:"getActiveOperationId",value:function(){var i=this.elements.find(function(o){return o instanceof pue&&o.isChecked()});return i?i.getValue():py}},{key:"getState",value:function(){return this.getActiveOperationId()}},{key:"setState",value:function(i){this.reset(),i&&this.getActiveOperationId()!==i&&Qe(this.elements,function(o){o.setChecked(o.getValue()===i)})}},{key:"updateState",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:py,o=arguments.length>1?arguments[1]:void 0,s=i;s===DG&&(s=aN),this.state.setValueAtIndex(o,s)}},{key:"reset",value:function(){this.setChecked(0)}},{key:"onRadioInputChange",value:function(i){this.setState(i.target.value)}}]),t}(QP);function RZe(n,e){var t=n;return""===t&&(t="(".concat(e,")")),t}!function wAe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};DS||(DS="object"===("undefined"==typeof Intl?"undefined":EV(Intl))?new Intl.Collator(n,e).compare:"function"==typeof String.prototype.localeCompare?function(r,i){return"".concat(r).localeCompare(i)}:function(r,i){return r===i?0:r>i?-1:1})}();var IG=new Set([1]).has(1),DZe=IG&&"function"==typeof Array.from;function q1(n){var e=n;return IG&&(e=new Set(e)),function(t){return IG?e.has(t):!!~e.indexOf(t)}}function yue(n){return null==n?"":n}function PG(n){var e=n;return(e=DZe?Array.from(new Set(e)):AQ(e)).sort(function(t,r){return"number"==typeof t&&"number"==typeof r?t-r:t===r?0:t>r?1:-1})}function _ue(n,e,t,r){var s,i=[],o=n===e;return o||(s=q1(e)),Qe(n,function(a){var u=!1;(o||s(a))&&(u=!0);var c={checked:u,value:a,visualValue:RZe(a,t)};r&&r(c),i.push(c)}),i}function NG(n){return(NG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function bue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function dN(){return dN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=kZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},dN.apply(this,arguments)}function kZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=hx(n)););return n}function FG(n,e){return(FG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function PZe(n,e){if(e&&("object"===NG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wue(n)}function wue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hx(n){return(hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}b(2337);var HG=new WeakMap;const Mue=function(n){!function LZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&FG(n,e)}(t,n);var e=function IZe(n){var e=function NZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=hx(n);if(e){var o=hx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return PZe(this,i)}}(t);function t(r,i){var o;return function AZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,Js(t.DEFAULTS,i)),HG.set(wue(o),{}),o}return function OZe(n,e,t){e&&bue(n.prototype,e),t&&bue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){dN(hx(t.prototype),"build",this).call(this),HG.get(this).link=this._element.firstChild}},{key:"update",value:function(){!this.isBuilt()||(HG.get(this).link.textContent=this.translateIfPossible(this.options.textContent))}}],[{key:"DEFAULTS",get:function(){return mc({href:"#",tagName:"a"})}}]),t}(fy);function BG(n){return(BG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Sue(n){return function zZe(n){if(Array.isArray(n))return VG(n)}(n)||function VZe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function BZe(n,e){if(n){if("string"==typeof n)return VG(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return VG(n,e)}}(n)||function HZe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VG(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function xue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function px(){return px="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=WZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},px.apply(this,arguments)}function WZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=my(n)););return n}function zG(n,e){return(zG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $Ze(n,e){if(e&&("object"===BG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Cue(n)}function Cue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function my(n){return(my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var KZe=new WeakMap;const Eue=function(n){!function YZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&zG(n,e)}(t,n);var e=function GZe(n){var e=function XZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=my(n);if(e){var o=my(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $Ze(this,i)}}(t);function t(r,i){var o;return function UZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,Js(t.DEFAULTS,i)),KZe.set(Cue(o),{}),o.searchInput=new ux(o.hot,{placeholder:e4,className:"htUIMultipleSelectSearch"}),o.selectAllUI=new Mue(o.hot,{textContent:Zj,className:"htUISelectAll"}),o.clearAllUI=new Mue(o.hot,{textContent:qj,className:"htUIClearAll"}),o.items=[],o.itemsBox=null,o.registerHooks(),o}return function jZe(n,e,t){e&&xue(n.prototype,e),t&&xue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.searchInput.addLocalHook("keydown",function(o){return i.onInputKeyDown(o)}),this.searchInput.addLocalHook("input",function(o){return i.onInput(o)}),this.selectAllUI.addLocalHook("click",function(o){return i.onSelectAllClick(o)}),this.clearAllUI.addLocalHook("click",function(o){return i.onClearAllClick(o)})}},{key:"setItems",value:function(i){this.items=i,this.itemsBox&&this.itemsBox.loadData(this.items)}},{key:"setLocale",value:function(i){this.locale=i}},{key:"getLocale",value:function(){return this.locale}},{key:"getItems",value:function(){return Sue(this.items)}},{key:"getValue",value:function(){return function QZe(n){var e=[];return Qe(n,function(t){t.checked&&e.push(t.value)}),e}(this.items)}},{key:"isSelectedAllValues",value:function(){return this.items.length===this.getValue().length}},{key:"build",value:function(){var i=this;px(my(t.prototype),"build",this).call(this);var o=this.hot.rootDocument,s=o.createElement("div"),a=new fy(this.hot,{className:"htUISelectionControls",children:[this.selectAllUI,this.clearAllUI]});this._element.appendChild(this.searchInput.element),this._element.appendChild(a.element),this._element.appendChild(s);var u=function(f){i._element&&(i.itemsBox&&i.itemsBox.destroy(),Cn(f,"htUIMultipleSelectHot"),i.itemsBox=new i.hot.constructor(f,{data:i.items,columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:function(w,M,C,I,B,U){w.title=U.instance.getDataAtRowProp(M,U.label.property)},maxCols:1,autoWrapCol:!0,height:110,colWidths:function(){return i.itemsBox.container.scrollWidth-yl(o)},copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:i.hot.isRtl()?"rtl":"ltr"}),i.itemsBox.init(),i.itemsBox.getShortcutManager().getContext("grid").addShortcut({keys:[["Escape"]],callback:function(w){i.runLocalHooks("keydown",w,i)},group:"multipleSelect.itemBox"}))};u(s),setTimeout(function(){return u(s)},100)}},{key:"reset",value:function(){this.searchInput.reset(),this.selectAllUI.reset(),this.clearAllUI.reset()}},{key:"update",value:function(){!this.isBuilt()||(this.itemsBox.loadData(function JZe(n,e){var t=q1(e);return Ki(n,function(r){return r.checked=t(r.value),r})}(this.items,this.options.value)),px(my(t.prototype),"update",this).call(this))}},{key:"destroy",value:function(){this.itemsBox&&this.itemsBox.destroy(),this.searchInput.destroy(),this.clearAllUI.destroy(),this.selectAllUI.destroy(),this.searchInput=null,this.clearAllUI=null,this.selectAllUI=null,this.itemsBox=null,this.items=null,px(my(t.prototype),"destroy",this).call(this)}},{key:"onInput",value:function(i){var a,o=this,s=i.target.value.toLocaleLowerCase(this.getLocale());a=""===s?Sue(this.items):jd(this.items,function(u){return"".concat(u.value).toLocaleLowerCase(o.getLocale()).indexOf(s)>=0}),this.itemsBox.loadData(a)}},{key:"onInputKeyDown",value:function(i){this.runLocalHooks("keydown",i,this),aee(t1,i.keyCode)("ARROW_DOWN|TAB")&&!this.itemsBox.isListening()&&(Xh(i),this.itemsBox.listen(),this.itemsBox.selectCell(0,0))}},{key:"onSelectAllClick",value:function(i){var o=[];i.preventDefault(),Qe(this.itemsBox.getSourceData(),function(s,a){s.checked=!0,o.push(cne(s,a)[0])}),this.itemsBox.setSourceDataAtCell(o)}},{key:"onClearAllClick",value:function(i){var o=[];i.preventDefault(),Qe(this.itemsBox.getSourceData(),function(s,a){s.checked=!1,o.push(cne(s,a)[0])}),this.itemsBox.setSourceDataAtCell(o)}}],[{key:"DEFAULTS",get:function(){return mc({className:"htUIMultipleSelect",value:[]})}}]),t}(fy);function Tue(n,e){return function rqe(n){if(Array.isArray(n))return n}(n)||function nqe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function tqe(n,e){if(n){if("string"==typeof n)return Rue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rue(n,e)}}(n,e)||function eqe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var cw="by_value";function UG(n){return(UG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Due(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Aue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function fN(){return fN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=fqe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},fN.apply(this,arguments)}function fqe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=mx(n)););return n}function jG(n,e){return(jG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function mqe(n,e){if(e&&("object"===UG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function gqe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function mx(n){return(mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}ba(cw,function iqe(n,e){return(0,Tue(e,1)[0])(n.value)},{name:"By value",inputsCount:0,inputValuesDecorator:function(e){return[q1(Tue(e,1)[0])]},showOperators:!1});const _qe=function(n){!function hqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&jG(n,e)}(t,n);var e=function pqe(n){var e=function vqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=mx(n);if(e){var o=mx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return mqe(this,i)}}(t);function t(r,i){var o;return function cqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.elements.push(new Eue(o.hot)),o.registerHooks(),o}return function dqe(n,e,t){e&&Aue(n.prototype,e),t&&Aue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.getMultipleSelectElement().addLocalHook("keydown",function(o){return i.onInputKeyDown(o)})}},{key:"setState",value:function(i){if(this.reset(),i&&i.command.key===cw){var o=this.getMultipleSelectElement();o.setItems(i.itemsSnapshot),o.setValue(i.args[0]),o.setLocale(i.locale)}}},{key:"getState",value:function(){var i=this.getMultipleSelectElement(),o=i.getItems();return{command:{key:i.isSelectedAllValues()||!o.length?bl:cw},args:[i.getValue()],itemsSnapshot:o}}},{key:"updateState",value:function(i){var o=this,s=function(u,c,f,p,g){var M=function oqe(n,e){return function uqe(n){if(Array.isArray(n))return n}(n)||function lqe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function aqe(n,e){if(n){if("string"==typeof n)return Due(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Due(n,e)}}(n,e)||function sqe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(jd(c,function(se){return se.name===cw}),1)[0],C={},I=o.hot.getTranslatedPhrase(AI);if(M){var B=PG(Ki(p(u,g),function(se){return se.value}));f&&(M.args[0]=f);var U=[],j=_ue(B,M.args[0],I,function(se){se.checked&&U.push(se.value)});C.locale=o.hot.getCellMeta(0,i.editedConditionStack.column).locale,C.args=[U],C.command=uw(cw),C.itemsSnapshot=j}else C.args=[],C.command=uw(bl);o.state.setValueAtIndex(u,C)};s(i.editedConditionStack.column,i.editedConditionStack.conditions,i.conditionArgsChange,i.filteredRowsFactory),i.dependentConditionStacks.length&&s(i.dependentConditionStacks[0].column,i.dependentConditionStacks[0].conditions,i.conditionArgsChange,i.filteredRowsFactory,i.editedConditionStack)}},{key:"getMultipleSelectElement",value:function(){return this.elements.filter(function(i){return i instanceof Eue})[0]}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a,u,c,f,p){Cn(a.parentNode,"htFiltersMenuValue");var g=i.hot.rootDocument.createElement("div");return Cn(g,"htFiltersMenuLabel"),g.textContent=p,a.appendChild(g),a.parentNode.hasAttribute("ghost-table")||Qe(i.elements,function(y){return a.appendChild(y.element)}),a}}}},{key:"reset",value:function(){var i=this.hot.getTranslatedPhrase(AI),o=PG(this._getColumnVisibleValues()),s=_ue(o,o,i);this.getMultipleSelectElement().setItems(s),fN(mx(t.prototype),"reset",this).call(this),this.getMultipleSelectElement().setValue(o);var a=this.hot.getPlugin("filters").getSelectedColumn();null!==a&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}},{key:"onInputKeyDown",value:function(i){t1(i.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Xh(i))}},{key:"_getColumnVisibleValues",value:function(){var i=this.hot.getPlugin("filters").getSelectedColumn();return null===i?[]:Ki(this.hot.getDataAtCol(i.visualIndex),function(o){return yue(o)})}}]),t}(QP);function WG(n){return(WG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Oue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function YG(n,e){return(YG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function xqe(n,e){if(e&&("object"===WG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Cqe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function hN(n){return(hN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const Rqe=function(n){!function Mqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&YG(n,e)}(t,n);var e=function Sqe(n){var e=function Eqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=hN(n);if(e){var o=hN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xqe(this,i)}}(t);function t(r,i){var o;return function bqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!0})).name=i.name,o.elements.push(new ux(o.hot,{type:"button",value:Jj,className:"htUIButton htUIButtonOK",identifier:t.BUTTON_OK})),o.elements.push(new ux(o.hot,{type:"button",value:Qj,className:"htUIButton htUIButtonCancel",identifier:t.BUTTON_CANCEL})),o.registerHooks(),o}return function wqe(n,e,t){e&&Oue(n.prototype,e),t&&Oue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;Qe(this.elements,function(o){o.addLocalHook("click",function(s,a){return i.onButtonClick(s,a)})})}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a){return Cn(a.parentNode,"htFiltersMenuActionBar"),a.parentNode.hasAttribute("ghost-table")||Qe(i.elements,function(u){return a.appendChild(u.element)}),a}}}},{key:"accept",value:function(){this.runLocalHooks("accept")}},{key:"cancel",value:function(){this.runLocalHooks("cancel")}},{key:"onButtonClick",value:function(i,o){o.options.identifier===t.BUTTON_OK?this.accept():this.cancel()}}],[{key:"BUTTON_OK",get:function(){return"ok"}},{key:"BUTTON_CANCEL",get:function(){return"cancel"}}]),t}(QP);var kue,Lue;function Iue(n,e){return function kqe(n){if(Array.isArray(n))return n}(n)||function Oqe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function Aqe(n,e){if(n){if("string"==typeof n)return Pue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pue(n,e)}}(n,e)||function Dqe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Nue(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Lqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Fue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Hue="ConditionCollection.filteringStates",Bue=function(){function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Lqe(this,n),this.hot=e,this.isMapRegistrable=t,this.filteringStates=new bI,!0===this.isMapRegistrable?this.hot.columnIndexMapper.registerMap(Hue,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}return function Iqe(n,e,t){e&&Fue(n.prototype,e),t&&Fue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"isEmpty",value:function(){return 0===this.getFilteredColumns().length}},{key:"isMatch",value:function(t,r){var i,o=this.filteringStates.getValueAtIndex(r),s=null!==(i=null==o?void 0:o.conditions)&&void 0!==i?i:[];return this.isMatchInConditions(s,t,null==o?void 0:o.operation)}},{key:"isMatchInConditions",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:py;return!t.length||tZe(i)(t,r)}},{key:"addCondition",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:py,o=arguments.length>3?arguments[3]:void 0,s=this.hot.getCellMeta(0,t).locale,a=Ki(r.args,function(p){return"string"==typeof p?p.toLocaleLowerCase(s):p}),u=r.name||r.command.key;this.runLocalHooks("beforeAdd",t);var c=this.getOperation(t);if(c){if(c!==i)throw Error(cs(kue||(kue=Nue(["The column of index "," has been already applied with a `","` \n        filter operation. Use `removeConditions` to clear the current conditions and then add new ones. \n        Mind that you cannot mix different types of operations (for instance, if you use `conjunction`, \n        use it consequently for a particular column)."],["The column of index "," has been already applied with a \\`","\\`\\x20\n        filter operation. Use \\`removeConditions\\` to clear the current conditions and then add new ones.\\x20\n        Mind that you cannot mix different types of operations (for instance, if you use \\`conjunction\\`,\\x20\n        use it consequently for a particular column)."])),t,c))}else if(Ns(Z1[i]))throw new Error(cs(Lue||(Lue=Nue(["Unexpected operation named `","`. Possible ones are \n        `disjunction` and `conjunction`."],["Unexpected operation named \\`","\\`. Possible ones are\\x20\n        \\`disjunction\\` and \\`conjunction\\`."])),i));var f=this.getConditions(t);0===f.length?this.filteringStates.setValueAtIndex(t,{operation:i,conditions:[{name:u,args:a,func:dy(u,a)}]},o):f.push({name:u,args:a,func:dy(u,a)}),this.runLocalHooks("afterAdd",t)}},{key:"getConditions",value:function(t){var r,i;return null!==(r=null===(i=this.filteringStates.getValueAtIndex(t))||void 0===i?void 0:i.conditions)&&void 0!==r?r:[]}},{key:"getOperation",value:function(t){var r;return null===(r=this.filteringStates.getValueAtIndex(t))||void 0===r?void 0:r.operation}},{key:"getFilteredColumns",value:function(){return this.filteringStates.getEntries().map(function(t){return Iue(t,1)[0]})}},{key:"getColumnStackPosition",value:function(t){return this.getFilteredColumns().indexOf(t)}},{key:"exportAllConditions",value:function(){return Ha(this.filteringStates.getEntries(),function(t,r){var i=Iue(r,2),s=i[1];return t.push({column:i[0],operation:s.operation,conditions:Ki(s.conditions,function(c){return{name:c.name,args:c.args}})}),t},[])}},{key:"importAllConditions",value:function(t){var r=this;this.clean(),Qe(t,function(i){Qe(i.conditions,function(o){return r.addCondition(i.column,o)})})}},{key:"removeConditions",value:function(t){this.runLocalHooks("beforeRemove",t),this.filteringStates.clearValue(t),this.runLocalHooks("afterRemove",t)}},{key:"clean",value:function(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}},{key:"hasConditions",value:function(t,r){var i=this.getConditions(t);return r?i.some(function(o){return o.name===r}):i.length>0}},{key:"destroy",value:function(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(Hue),this.filteringStates=null,this.clearLocalHooks()}}]),n}();vs(Bue,vc);const Vue=Bue;function Pqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Uue=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return[]};Pqe(this,n),this.conditionCollection=e,this.columnDataFactory=t}return function Nqe(n,e,t){e&&zue(n.prototype,e),t&&zue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"filter",value:function(){var t=this,r=[];return Qe(this.conditionCollection.getFilteredColumns(),function(i,o){var s=t.columnDataFactory(i);o&&(s=t._getIntersectData(s,r)),r=t.filterByColumn(i,s)}),r}},{key:"filterByColumn",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=[];return Qe(i,function(s){void 0!==s&&r.conditionCollection.isMatch(s,t)&&o.push(s)}),o}},{key:"_getIntersectData",value:function(t,r){var i=[];return Qe(r,function(o){var s=o.meta.visualRow;void 0!==t[s]&&(i[s]=t[s])}),i}}]),n}();function Hqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Wue=function(){function n(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]};Hqe(this,n),this.hot=e,this.conditionCollection=t,this.columnDataFactory=i,this.changes=[],this.grouping=!1,this.latestEditedColumnPosition=-1,this.latestOrderStack=[],this.conditionCollection.addLocalHook("beforeRemove",function(o){return r._onConditionBeforeModify(o)}),this.conditionCollection.addLocalHook("afterRemove",function(o){return r.updateStatesAtColumn(o)}),this.conditionCollection.addLocalHook("afterAdd",function(o){return r.updateStatesAtColumn(o)}),this.conditionCollection.addLocalHook("beforeClean",function(){return r._onConditionBeforeClean()}),this.conditionCollection.addLocalHook("afterClean",function(){return r._onConditionAfterClean()})}return function Bqe(n,e,t){e&&jue(n.prototype,e),t&&jue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"groupChanges",value:function(){this.grouping=!0}},{key:"flush",value:function(){var t=this;this.grouping=!1,Qe(this.changes,function(r){t.updateStatesAtColumn(r)}),this.changes.length=0}},{key:"_onConditionBeforeModify",value:function(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}},{key:"updateStatesAtColumn",value:function(t,r){var i=this;if(this.grouping)-1===this.changes.indexOf(t)&&this.changes.push(t);else{var o=this.conditionCollection.exportAllConditions(),s=this.conditionCollection.getColumnStackPosition(t);-1===s&&(s=this.latestEditedColumnPosition);var a=o.slice(0,s),u=o.slice(s);u.length&&u[0].column===t&&u.shift();var c=function rOe(n){var e=n.length;return function t(r){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var u=r.concat(s);return u.length>=e?n.apply(this,u):t(u)}}([])}(function(p,g){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],w=new Vue(i.hot,!1),M=[].concat(p,y);w.importAllConditions(M);var C=i.columnDataFactory(g),B=q1(Ki(w.isEmpty()?C:new Uue(w,function(U){return i.columnDataFactory(U)}).filter(),function(U){return U.meta.visualRow}));return w.destroy(),jd(C,function(U){return B(U.meta.visualRow)})})(a),f=[].concat(this.conditionCollection.getConditions(t));this.runLocalHooks("update",{editedConditionStack:{column:t,conditions:f},dependentConditionStacks:u,filteredRowsFactory:c,conditionArgsChange:r})}}},{key:"_onConditionBeforeClean",value:function(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}},{key:"_onConditionAfterClean",value:function(){var t=this;Qe(this.latestOrderStack,function(r){t.updateStatesAtColumn(r)})}},{key:"destroy",value:function(){var t=this;this.clearLocalHooks(),to(this,function(r,i){t[i]=null})}}]),n}();vs(Wue,vc);const Vqe=Wue;function GG(n){return(GG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Yue;function Gue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function $ue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function gx(){return gx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Kqe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},gx.apply(this,arguments)}function Kqe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=gy(n)););return n}function $G(n,e){return($G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Jqe(n,e){if(e&&("object"===GG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xue(n)}function Xue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gy(n){return(gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var tJe=function(n){!function Zqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&$G(n,e)}(t,n);var e=function qqe(n){var e=function Qqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=gy(n);if(e){var o=gy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Jqe(this,i)}}(t);function t(r){var i;return function $qe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(Xue(i)),i.dropdownMenuPlugin=null,i.conditionCollection=null,i.conditionUpdateObserver=null,i.components=new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]]),i.lastSelectedColumn=null,i.filtersRowsMap=null,i.hot.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),i}return function Xqe(n,e,t){e&&$ue(n.prototype,e),t&&$ue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().filters}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new m1),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");var o=this.hot.getSettings().dropdownMenu,s=o&&o.uiContainer||this.hot.rootDocument.body,a=function(y){return y.addLocalHook("accept",function(){return i.onActionBarSubmit("accept")}),y.addLocalHook("cancel",function(){return i.onActionBarSubmit("cancel")}),y.addLocalHook("change",function(w){return i.onComponentChange(y,w)}),y};if(!this.components.get("filter_by_condition")){var f=new TG(this.hot,{id:"filter_by_condition",name:function(){return"".concat(i.hot.getTranslatedPhrase($j),":")},addSeparator:!1,menuContainer:s});f.addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),this.components.set("filter_by_condition",a(f))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new EZe(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){var p=new TG(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:s});p.addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),this.components.set("filter_by_condition2",a(p))}this.components.get("filter_by_value")||this.components.set("filter_by_value",a(new _qe(this.hot,{id:"filter_by_value",name:function(){return"".concat(i.hot.getTranslatedPhrase(Xj),":")}}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",a(new Rqe(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new Vue(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new Vqe(this.hot,this.conditionCollection,function(g){return i.getDataMapAtColumn(g)}),this.conditionUpdateObserver.addLocalHook("update",function(g){return i.updateComponents(g)})),this.components.forEach(function(g){return g.show()}),this.addHook("beforeDropdownMenuSetItems",function(g){return i.onBeforeDropdownMenuSetItems(g)}),this.addHook("afterDropdownMenuDefaultOptions",function(g){return i.onAfterDropdownMenuDefaultOptions(g)}),this.addHook("afterDropdownMenuShow",function(){return i.onAfterDropdownMenuShow()}),this.addHook("afterDropdownMenuHide",function(){return i.onAfterDropdownMenuHide()}),this.addHook("afterChange",function(g){return i.onAfterChange(g)}),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),gx(gy(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var o,i=this;this.enabled&&(null!==(o=this.dropdownMenuPlugin)&&void 0!==o&&o.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach(function(s,a){s.destroy(),i.components.set(a,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)),gx(gy(t.prototype),"disablePlugin",this).call(this)}},{key:"addCondition",value:function(i,o,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:py,u=this.hot.toPhysicalColumn(i);this.conditionCollection.addCondition(u,{command:{key:o},args:s},a)}},{key:"removeConditions",value:function(i){var o=this.hot.toPhysicalColumn(i);this.conditionCollection.removeConditions(o)}},{key:"clearConditions",value:function(i){if(void 0===i)this.conditionCollection.clean();else{var o=this.hot.toPhysicalColumn(i);this.conditionCollection.removeConditions(o)}}},{key:"filter",value:function(){var i=this,o=this._createDataFilter(),s=!this.conditionCollection.isEmpty(),a=[],u=this.conditionCollection.exportAllConditions();if(!1!==this.hot.runHooks("beforeFilter",u))if(s){var f=[];this.hot.batchExecution(function(){i.filtersRowsMap.clear();var p=q1(a=Ki(o.filter(),function(g){return g.meta.visualRow}));Hr(i.hot.countSourceRows()-1,function(g){p(g)||f.push(g)}),Qe(f,function(g){i.filtersRowsMap.setValueAtIndex(g,!0)})},!0),a.length||this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",u),this.hot.view.adjustElementsSize(!0),this.hot.render(),this.clearColumnSelection()}},{key:"getSelectedColumn",value:function(){var i,o=null===(i=this.hot.getSelectedRangeLast())||void 0===i?void 0:i.highlight;return o?{visualIndex:o.col,physicalIndex:this.hot.toPhysicalColumn(o.col)}:null}},{key:"clearColumnSelection",value:function(){var i=this.getSelectedColumn();null!==i&&this.hot.selectCell(0,i.visualIndex)}},{key:"getDataMapAtColumn",value:function(i){var o=this,s=this.hot.toVisualColumn(i),a=[];return Qe(this.hot.getSourceDataAtCol(s),function(u,c){var f,p=o.hot.getCellMeta(c,s),g=p.row,y=p.col,w=p.visualCol,M=p.visualRow,C=p.type,I=p.instance,B=p.dateFormat,U=p.locale,j=null!==(f=o.hot.getDataAtCell(o.hot.toVisualRow(c),s))&&void 0!==f?f:u;a.push({meta:{row:g,col:y,visualCol:w,visualRow:M,type:C,instance:I,dateFormat:B,locale:U},value:yue(j)})}),a}},{key:"onAfterChange",value:function(i){var o=this;i&&Qe(i,function(s){var a=function Uqe(n,e){return function Gqe(n){if(Array.isArray(n))return n}(n)||function Yqe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function Wqe(n,e){if(n){if("string"==typeof n)return Gue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gue(n,e)}}(n,e)||function jqe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2),c=o.hot.propToCol(a[1]);o.conditionCollection.hasConditions(c)&&o.updateValueComponentCondition(c)})}},{key:"updateValueComponentCondition",value:function(i){var s=PG(this.hot.getDataAtCol(i));this.conditionUpdateObserver.updateStatesAtColumn(i,s)}},{key:"restoreComponents",value:function(i){var o,s=null===(o=this.getSelectedColumn())||void 0===o?void 0:o.physicalIndex;i.forEach(function(a){a.isHidden()||a.restoreState(s)}),this.updateDependentComponentsVisibility()}},{key:"onAfterDropdownMenuShow",value:function(){this.restoreComponents(Array.from(this.components.values()))}},{key:"onAfterDropdownMenuHide",value:function(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}},{key:"onBeforeDropdownMenuSetItems",value:function(){var i=this;this.dropdownMenuPlugin&&this.dropdownMenuPlugin.menu.addLocalHook("afterOpen",function(){i.dropdownMenuPlugin.menu.hotMenu.updateSettings({hiddenRows:!0})})}},{key:"onAfterDropdownMenuDefaultOptions",value:function(i){i.items.push({name:Zi}),this.components.forEach(function(o){i.items.push(o.getMenuItemDescriptor())})}},{key:"getOperationBasedOnArguments",value:function(i,o,s,a){var u=i;return u===aN&&o.command.key!==bl&&s.command.key!==bl&&a.command.key!==bl?u=DG:a.command.key!==bl&&(o.command.key===bl||s.command.key===bl)&&(u=py),u}},{key:"onActionBarSubmit",value:function(i){var o;if("accept"===i){var a,s=this.getSelectedColumn();if(null===s)return void(null===(a=this.dropdownMenuPlugin)||void 0===a||a.close());var u=s.physicalIndex,c=this.components.get("filter_by_condition").getState(),f=this.components.get("filter_by_condition2").getState(),p=this.components.get("filter_by_value").getState(),g=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),c,f,p);this.conditionUpdateObserver.groupChanges();var y=this.conditionCollection.getColumnStackPosition(u);-1===y&&(y=void 0),this.conditionCollection.removeConditions(u),c.command.key!==bl&&(this.conditionCollection.addCondition(u,c,g,y),f.command.key!==bl&&this.conditionCollection.addCondition(u,f,g,y)),p.command.key!==bl&&this.conditionCollection.addCondition(u,p,g,y),this.conditionUpdateObserver.flush(),this.components.forEach(function(w){return w.saveState(u)}),this.filtersRowsMap.clear(),this.filter()}null===(o=this.dropdownMenuPlugin)||void 0===o||o.close()}},{key:"onComponentChange",value:function(i,o){this.updateDependentComponentsVisibility(),i.constructor===TG&&!o.inputsCount&&this.setListeningDropdownMenu()}},{key:"onSelectUIClosed",value:function(){this.setListeningDropdownMenu()}},{key:"setListeningDropdownMenu",value:function(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}},{key:"updateDependentComponentsVisibility",value:function(){var s=this.components.get("filter_by_condition").getState().command,a=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];s.showOperators?this.showComponents.apply(this,a):this.hideComponents.apply(this,a)}},{key:"onAfterGetColHeader",value:function(i,o){var s=this.hot.toPhysicalColumn(i);this.enabled&&this.conditionCollection.hasConditions(s)?Cn(o,"htFiltersActive"):Ii(o,"htFiltersActive")}},{key:"_createDataFilter",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.conditionCollection;return new Uue(o,function(s){return i.getDataMapAtColumn(s)})}},{key:"updateComponents",value:function(i){var o;if(null!==(o=this.dropdownMenuPlugin)&&void 0!==o&&o.enabled){var s=i.editedConditionStack,a=s.conditions,u=s.column,c=a.filter(function(g){return g.name===cw}),f=a.filter(function(g){return g.name!==cw});if(c.length>=2||f.length>=3)xs(cs(Yue||(Yue=function zqe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The filter conditions have been applied properly, but couldn\u2019t be displayed visually. \n        The overall amount of conditions exceed the capability of the dropdown menu. \n        For more details see the documentation."],["The filter conditions have been applied properly, but couldn\u2019t be displayed visually.\\x20\n        The overall amount of conditions exceed the capability of the dropdown menu.\\x20\n        For more details see the documentation."]))));else{var p=this.conditionCollection.getOperation(u);this.components.get("filter_by_condition").updateState(f[0],u),this.components.get("filter_by_condition2").updateState(f[1],u),this.components.get("filter_operators").updateState(p,u),this.components.get("filter_by_value").updateState(i)}}}},{key:"getIndexesOfComponents",value:function(){var i=[];if(!this.dropdownMenuPlugin)return i;for(var o=this.dropdownMenuPlugin.menu,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return Qe(a,function(c){Qe(o.menuItems,function(f,p){f.key===c.getMenuItemDescriptor().key&&i.push(p)})}),i}},{key:"changeComponentsVisibility",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.dropdownMenuPlugin){for(var o=this.dropdownMenuPlugin.menu,s=o.hotMenu,a=s.getPlugin("hiddenRows"),u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];var p=this.getIndexesOfComponents.apply(this,c);i?a.showRows(p):a.hideRows(p),s.render()}}},{key:"hideComponents",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.changeComponentsVisibility.apply(this,[!1].concat(o))}},{key:"showComponents",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.changeComponentsVisibility.apply(this,[!0].concat(o))}},{key:"destroy",value:function(){var i=this;this.enabled&&(this.components.forEach(function(o,s){null!==o&&(o.destroy(),i.components.set(s,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),gx(gy(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return"filters"}},{key:"PLUGIN_PRIORITY",get:function(){return 250}},{key:"PLUGIN_DEPS",get:function(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}}]),t}(Go);function Zue(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function J1(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Zue(Object(t),!0).forEach(function(r){nJe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Zue(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nJe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var que="internal-use-in-handsontable",rJe={licenseKey:que,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!0,nullDate:{year:1899,month:12,day:31},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function Jue(n){var e,t;return{maxColumns:n.maxColumns,maxRows:n.maxRows,language:null===(e=n[Hu])||void 0===e||null===(t=e.language)||void 0===t?void 0:t.langCode}}function Que(n){return Object.keys(n).reduce(function(e,t){return"hyperformula"!==t&&(e[t]=n[t]),e},{})}function XG(n){return(XG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pN(){var n="engine_relationship",e=Wd(Hu);return e.hasItem(n)||e.register(n,new Map),e.getItem(n)}function KG(){var n="shared_engine_usage",e=Wd(Hu);return e.hasItem(n)||e.register(n,new Map),e.getItem(n)}function ece(n){var e,t=pN(),r=0===t.size?[]:Array.from(null!==(e=t.get(n))&&void 0!==e?e:[]);return new Map(r.map(function(i){return[i.getPlugin("formulas").sheetId,i]}))}function tce(n,e){if(n){var t=pN(),r=t.get(n),i=KG(),o=i.get(n);r&&r.includes(e)&&(r.splice(r.indexOf(e),1),0===r.length&&t.delete(n)),o&&o.includes(e.guid)&&(o.splice(o.indexOf(e.guid),1),0===o.length&&(i.delete(n),n.destroy()))}}function dJe(n,e){return(Ns(e)||!n.doesSheetExist(e))&&(e=n.addSheet(e)),e}function nce(n){return"string"==typeof n&&"'"===n.charAt(0)&&"="===n.charAt(1)}function rce(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ice(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?rce(Object(t),!0).forEach(function(r){mN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rce(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Q1(n){return(Q1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function vx(n,e){return function _Je(n){if(Array.isArray(n))return n}(n)||function yJe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||oce(n,e)||function vJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oce(n,e){if(n){if("string"==typeof n)return ZG(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ZG(n,e)}}function ZG(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function bJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function dw(){return dw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=MJe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},dw.apply(this,arguments)}function MJe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=zm(n)););return n}function qG(n,e){return(qG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function CJe(n,e){if(e&&("object"===Q1(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fw(n)}function fw(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zm(n){return(zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function mN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JG(n,e,t){(function TJe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function yx(n,e,t){return function RJe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,ace(n,e,"set"),t),t}function _x(n,e){return function DJe(n,e){return e.get?e.get.call(n):e.value}(n,ace(n,e,"get"))}function ace(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Hu="formulas";wr.getSingleton().register("afterNamedExpressionAdded"),wr.getSingleton().register("afterNamedExpressionRemoved"),wr.getSingleton().register("afterSheetAdded"),wr.getSingleton().register("afterSheetRemoved"),wr.getSingleton().register("afterSheetRenamed"),wr.getSingleton().register("afterFormulasValuesUpdate");var bx=function(e){return"UndoRedo.undo"===e||"UndoRedo.redo"===e||"auto"===e},hw=new WeakMap,QG=new WeakMap,eR=new WeakMap,OJe=function(n){!function SJe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&qG(n,e)}(t,n);var e=function xJe(n){var e=function EJe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=zm(n);if(e){var o=zm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return CJe(this,i)}}(t);function t(){var r;bJe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return JG(fw(r=e.call.apply(e,[this].concat(o))),hw,{writable:!0,value:!1}),JG(fw(r),QG,{writable:!0,value:!1}),JG(fw(r),eR,{writable:!0,value:[["valuesUpdated",function(){var a;return(a=r).onEngineValuesUpdated.apply(a,arguments)}],["namedExpressionAdded",function(){var a;return(a=r).onEngineNamedExpressionsAdded.apply(a,arguments)}],["namedExpressionRemoved",function(){var a;return(a=r).onEngineNamedExpressionsRemoved.apply(a,arguments)}],["sheetAdded",function(){var a;return(a=r).onEngineSheetAdded.apply(a,arguments)}],["sheetRenamed",function(){var a;return(a=r).onEngineSheetRenamed.apply(a,arguments)}],["sheetRemoved",function(){var a;return(a=r).onEngineSheetRemoved.apply(a,arguments)}]]}),mN(fw(r),"staticRegister",Wd("formulas")),mN(fw(r),"engine",null),mN(fw(r),"sheetName",null),r}return function wJe(n,e,t){e&&sce(n.prototype,e),t&&sce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"sheetId",get:function(){return null===this.sheetName?null:this.engine.getSheetId(this.sheetName)}},{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Hu]}},{key:"enablePlugin",value:function(){var i,o=this;if(!this.enabled){if(this.engine=null!==(i=function sJe(n){var i,e=n.getSettings(),t=e[Hu],r=null==t?void 0:t.engine;if(!0===t||Ns(r))return null;if("function"==typeof r.hyperformula||"function"==typeof r)return function aJe(n,e,t){var r=e[Hu],i=function iJe(n){var e,t=n[Hu],r=Que(null!=t&&null!==(e=t.engine)&&void 0!==e&&e.hyperformula?t.engine:{}),i=Jue(n);return J1(J1(J1({},rJe),r),i)}(e),o=pN(),s=KG();(function lJe(n,e){e&&e.forEach(function(t){var r=t.name,i=t.plugin,o=t.translations;try{n.registerFunction(r,i,o)}catch(s){xs(s.message)}})})(n,r.functions),function uJe(n,e){if(e){var t=e.langCode;try{n.registerLanguage(t,e)}catch(r){xs(r.message)}}}(n,r.language);var a=n.buildEmpty(i);return o.set(a,[t]),s.set(a,[t.guid]),function cJe(n,e){e&&(n.suspendEvaluation(),e.forEach(function(t){var r=t.name,i=t.expression,o=t.scope,s=t.options;try{n.addNamedExpression(r,i,o,s)}catch(a){xs(a.message)}}),n.resumeEvaluation())}(a,r.namedExpressions),a.on("sheetAdded",function(){a.rebuildAndRecalculate()}),a.on("sheetRemoved",function(){a.rebuildAndRecalculate()}),a}(null!==(i=r.hyperformula)&&void 0!==i?i:r,e,n);if("object"===XG(r)&&Ns(r.hyperformula)){var o=pN(),s=KG().get(r);return o.has(r)||o.set(r,[]),o.get(r).push(n),s&&s.push(n.guid),r.getConfig().licenseKey||r.updateConfig({licenseKey:que}),r}return null}(this.hot))&&void 0!==i?i:this.engine,!this.engine)return void xs("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");if(null!==this.sheetName&&!this.engine.doesSheetExist(this.sheetName)){var s=this.addSheet(this.sheetName,this.hot.getSourceDataArray());!1!==s&&(this.sheetName=s)}this.addHook("beforeLoadData",function(){return o.onBeforeLoadData.apply(o,arguments)}),this.addHook("afterLoadData",function(){return o.onAfterLoadData.apply(o,arguments)}),this.addHook("modifyData",function(){return o.onModifyData.apply(o,arguments)}),this.addHook("modifySourceData",function(){return o.onModifySourceData.apply(o,arguments)}),this.addHook("beforeValidate",function(){return o.onBeforeValidate.apply(o,arguments)}),this.addHook("afterSetSourceDataAtCell",function(){return o.onAfterSetSourceDataAtCell.apply(o,arguments)}),this.addHook("afterSetDataAtCell",function(){return o.onAfterSetDataAtCell.apply(o,arguments)}),this.addHook("afterSetDataAtRowProp",function(){return o.onAfterSetDataAtCell.apply(o,arguments)}),this.addHook("beforeCreateRow",function(){return o.onBeforeCreateRow.apply(o,arguments)}),this.addHook("beforeCreateCol",function(){return o.onBeforeCreateCol.apply(o,arguments)}),this.addHook("afterCreateRow",function(){return o.onAfterCreateRow.apply(o,arguments)}),this.addHook("afterCreateCol",function(){return o.onAfterCreateCol.apply(o,arguments)}),this.addHook("beforeRemoveRow",function(){return o.onBeforeRemoveRow.apply(o,arguments)}),this.addHook("beforeRemoveCol",function(){return o.onBeforeRemoveCol.apply(o,arguments)}),this.addHook("afterRemoveRow",function(){return o.onAfterRemoveRow.apply(o,arguments)}),this.addHook("afterRemoveCol",function(){return o.onAfterRemoveCol.apply(o,arguments)}),this.addHook("beforeUndo",function(a){"row_move"!==(null==a?void 0:a.actionType)&&o.engine.undo()}),this.addHook("beforeRedo",function(a){"row_move"!==(null==a?void 0:a.actionType)&&o.engine.redo()}),this.addHook("afterDetachChild",function(){return o.onAfterDetachChild.apply(o,arguments)}),this.addHook("beforeAutofill",function(){return o.onBeforeAutofill.apply(o,arguments)}),_x(this,eR).forEach(function(a){var u=vx(a,2);return o.engine.on(u[0],u[1])}),dw(zm(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var i=this;_x(this,eR).forEach(function(o){var s=vx(o,2);return i.engine.off(s[0],s[1])}),tce(this.engine,this.hot),this.engine=null,dw(zm(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(i){this.engine.updateConfig(function oJe(n){var e,t=n[Hu],r=Que(null!=t&&null!==(e=t.engine)&&void 0!==e&&e.hyperformula?t.engine:{}),i=Jue(n);return J1(J1({},r),i)}(this.hot.getSettings()));var o=this.hot.getSettings()[Hu];if(fr(o)&&fr(o.sheetName)&&o.sheetName!==this.sheetName&&this.switchSheet(o.sheetName),!i.data&&null===this.sheetName){var s=this.hot.getSettings()[Hu].sheetName;s&&this.engine.doesSheetExist(s)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(null!=s?s:void 0,this.hot.getSourceDataArray())}dw(zm(t.prototype),"updatePlugin",this).call(this,i)}},{key:"destroy",value:function(){var i=this;_x(this,eR).forEach(function(o){var s,a=vx(o,2);return null===(s=i.engine)||void 0===s?void 0:s.off(a[0],a[1])}),yx(this,eR,null),tce(this.engine,this.hot),this.engine=null,dw(zm(t.prototype),"destroy",this).call(this)}},{key:"getPhysicalIndexPosition",value:function(i,o,s,a,u){return!u&&i>=s?a+(i-s):o}},{key:"toPhysicalRowPosition",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPhysicalIndexPosition(i,this.hot.toPhysicalRow(i),this.hot.countRows(),this.hot.countSourceRows(),o)}},{key:"toPhysicalColumnPosition",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPhysicalIndexPosition(i,this.hot.toPhysicalColumn(i),this.hot.countCols(),this.hot.countSourceCols(),o)}},{key:"addSheet",value:function(i,o){if(fr(o)&&!function C2e(n){return!!(Array.isArray(n)&&n.length&&n.every(function(e){return Array.isArray(e)}))}(o))return xs("The provided data should be an array of arrays."),!1;if(null!=i&&this.engine.doesSheetExist(i))return xs("Sheet with the provided name already exists."),!1;try{var s=this.engine.addSheet(null!=i?i:void 0);return o&&this.engine.setSheetContent(this.engine.getSheetId(s),o),s}catch(a){return xs(a.message),!1}}},{key:"switchSheet",value:function(i){if(this.engine.doesSheetExist(i)){this.sheetName=i;var o=this.engine.getSheetSerialized(this.sheetId);o.length>0&&this.hot.loadData(o,"".concat(Mm(Hu),".switchSheet"))}else YV("The sheet named `".concat(i,"` does not exist, switch aborted."))}},{key:"getCellType",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId,a=this.hot.toPhysicalRow(i),u=this.hot.toPhysicalColumn(o);return null!==a&&null!==u?this.engine.getCellType({sheet:s,row:a,col:u}):"EMPTY"}},{key:"isFormulaCellType",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId,a=this.hot.toPhysicalRow(i),u=this.hot.toPhysicalColumn(o);return null!==a&&null!==u&&this.engine.doesCellHaveFormula({sheet:s,row:a,col:u})}},{key:"renderDependentSheets",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Set;i.forEach(function(u){var c,f=null==u||null===(c=u.address)||void 0===c?void 0:c.sheet;void 0!==f&&(a.has(f)||a.add(f))}),ece(this.engine).forEach(function(u,c){var f;(s||c!==o.sheetId)&&a.has(c)&&(u.render(),null===(f=u.view)||void 0===f||f.adjustElementsSize())})}},{key:"validateDependentCells",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=function(f){var p,g=null!==(p=null==f?void 0:f.address)&&void 0!==p?p:{},y=g.row,w=g.col,M=g.sheet;return fr(M)?"".concat(M,":").concat(y,"x").concat(w):""},u=new Set(s.map(function(c){return a(c)}));i.forEach(function(c){var f,p,g=null!==(f=c.address)&&void 0!==f?f:{},y=g.row,w=g.col,M=fr(y)?o.hot.toVisualRow(y):null,C=fr(w)?o.hot.toVisualColumn(w):null;if(null!==M&&null!==C){var I=null==c||null===(p=c.address)||void 0===p?void 0:p.sheet,B=a(c);if(void 0!==I&&!u.has(B)){var U=ece(o.engine).get(I);if(!U)return;U.validateCell(U.getDataAtCell(M,C),U.getCellMeta(M,C),function(){})}}})}},{key:"syncChangeWithEngine",value:function(i,o,s){var a={row:this.toPhysicalRowPosition(i),col:this.toPhysicalColumnPosition(o),sheet:this.sheetId};if(this.engine.isItPossibleToSetCellContents(a))return this.engine.setCellContents(a,s);xs("Not possible to set cell data at ".concat(JSON.stringify(a)))}},{key:"onBeforeValidate",value:function(i,o,s){var a=this.hot.propToCol(s);if(this.isFormulaCellType(o,a)){var u={row:this.hot.toPhysicalRow(o),col:this.hot.toPhysicalColumn(a),sheet:this.sheetId},c=this.engine.getCellValue(u);return"object"===Q1(c)&&null!==c?c.value:c}return i}},{key:"onBeforeAutofill",value:function(i,o,s){var a=this,u=function(g){return ice(ice({},g),{},{sheet:a.sheetId})},c={start:u(o.getTopStartCorner()),end:u(o.getBottomEndCorner())},f={start:u(s.getTopStartCorner()),end:u(s.getBottomEndCorner())};return!1!==this.engine.isItPossibleToSetCellContents(f)&&this.engine.getFillRangeData(c,f)}},{key:"onBeforeLoadData",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";s.includes(Mm(Hu))||yx(this,QG,Ns(this.hot.getSettings().data))}},{key:"onAfterLoadData",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!s.includes(Mm(Hu)))if(this.sheetName=dJe(this.engine,this.hot.getSettings()[Hu].sheetName),_x(this,QG))this.switchSheet(this.sheetName);else{var a=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,a)){yx(this,hw,!0);var u=this.engine.setSheetContent(this.sheetId,this.hot.getSourceDataArray());this.renderDependentSheets(u),yx(this,hw,!1)}}}},{key:"onModifyData",value:function(i,o,s,a){if("get"===a&&!_x(this,hw)&&null!==this.sheetName&&this.engine.doesSheetExist(this.sheetName)){var u=this.hot.toVisualRow(i);if(!this.isFormulaCellType(u,o)&&"ARRAY"!==this.getCellType(u,o))return void(nce(s.value)&&(s.value=function fJe(n){return nce(n)?n.substr(1):n}(s.value)));var p={row:i,col:this.toPhysicalColumnPosition(o),sheet:this.sheetId},g=this.engine.getCellValue(p),y="object"===Q1(g)&&null!==g?g.value:g;s.value=y}}},{key:"onModifySourceData",value:function(i,o,s,a){if("get"===a&&!_x(this,hw)&&null!==this.sheetName&&this.engine.doesSheetExist(this.sheetName)){var u=this.hot.toVisualRow(i),c=this.hot.propToCol(o);if(!this.isFormulaCellType(u,c)&&"ARRAY"!==this.getCellType(u,c))return;var g=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(0!==g.width||0!==g.height){var y={row:i,col:this.toPhysicalColumnPosition(c),sheet:this.sheetId};s.value=this.engine.getCellSerialized(y)}}}},{key:"onAfterSetDataAtCell",value:function(i,o){var s=this;if(!bx(o)){var a=[],u=[],c=this.engine.batch(function(){i.forEach(function(f){var p=vx(f,4),g=p[0],w=p[3],M=s.hot.propToCol(p[1]),C=s.hot.toPhysicalRow(g),I=s.hot.toPhysicalColumn(M),B={row:C,col:I,sheet:s.sheetId};null!==C&&null!==I?s.syncChangeWithEngine(g,M,w):a.push([g,M,w]),u.push({address:B})})});a.length&&this.hot.addHookOnce("afterChange",function(){var f=s.engine.batch(function(){a.forEach(function(p){var g=vx(p,3);s.syncChangeWithEngine(g[0],g[1],g[2])})});s.renderDependentSheets(f,!0)}),this.renderDependentSheets(c),this.validateDependentCells(c,u)}}},{key:"onAfterSetSourceDataAtCell",value:function(i,o){var s=this;if(!bx(o)){var a=[],u=[];i.forEach(function(c){var f=vx(c,4),p=f[0],y=f[3],w=s.hot.propToCol(f[1]);if(Yd(w)){var M={row:p,col:s.toPhysicalColumnPosition(w),sheet:s.sheetId};if(!s.engine.isItPossibleToSetCellContents(M))return void xs("Not possible to set source cell data at ".concat(JSON.stringify(M)));u.push({address:M}),a.push.apply(a,function hJe(n){return function gJe(n){if(Array.isArray(n))return ZG(n)}(n)||function mJe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||oce(n)||function pJe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s.engine.setCellContents(M,y)))}}),this.renderDependentSheets(a),this.validateDependentCells(a,u)}}},{key:"onBeforeCreateRow",value:function(i,o){if(null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[this.toPhysicalRowPosition(i),o]))return!1}},{key:"onBeforeCreateCol",value:function(i,o){if(null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[this.toPhysicalColumnPosition(i),o]))return!1}},{key:"onBeforeRemoveRow",value:function(i,o,s){var a=this;return!1!==s.every(function(c){return a.engine.isItPossibleToRemoveRows(a.sheetId,[c,1])})&&void 0}},{key:"onBeforeRemoveCol",value:function(i,o,s){var a=this;return!1!==s.every(function(c){return a.engine.isItPossibleToRemoveColumns(a.sheetId,[c,1])})&&void 0}},{key:"onAfterCreateRow",value:function(i,o,s){if(!bx(s)){var a=this.engine.addRows(this.sheetId,[this.toPhysicalRowPosition(i),o]);this.renderDependentSheets(a)}}},{key:"onAfterCreateCol",value:function(i,o,s){if(!bx(s)){var a=this.engine.addColumns(this.sheetId,[this.toPhysicalColumnPosition(i),o]);this.renderDependentSheets(a)}}},{key:"onAfterRemoveRow",value:function(i,o,s,a){var u=this;if(!bx(a)){var c=s.sort().reverse(),f=this.engine.batch(function(){c.forEach(function(p){u.engine.removeRows(u.sheetId,[p,1])})});this.renderDependentSheets(f)}}},{key:"onAfterRemoveCol",value:function(i,o,s,a){var u=this;if(!bx(a)){var c=s.sort().reverse(),f=this.engine.batch(function(){c.forEach(function(p){u.engine.removeColumns(u.sheetId,[p,1])})});this.renderDependentSheets(f)}}},{key:"onAfterDetachChild",value:function(i,o,s){var a,u=this;yx(this,hw,!0);var c=this.hot.getSourceDataArray(s,0,s+((null===(a=o.__children)||void 0===a?void 0:a.length)||0),this.hot.countSourceCols());yx(this,hw,!1),c.forEach(function(f,p){f.forEach(function(g,y){u.engine.setCellContents({col:y,row:s+p,sheet:u.sheetId},[[g]])})})}},{key:"onEngineValuesUpdated",value:function(i){this.hot.runHooks("afterFormulasValuesUpdate",i)}},{key:"onEngineNamedExpressionsAdded",value:function(i,o){this.hot.runHooks("afterNamedExpressionAdded",i,o)}},{key:"onEngineNamedExpressionsRemoved",value:function(i,o){this.hot.runHooks("afterNamedExpressionRemoved",i,o)}},{key:"onEngineSheetAdded",value:function(i){this.hot.runHooks("afterSheetAdded",i)}},{key:"onEngineSheetRenamed",value:function(i,o){this.hot.runHooks("afterSheetRenamed",i,o)}},{key:"onEngineSheetRemoved",value:function(i,o){this.hot.runHooks("afterSheetRemoved",i,o)}}],[{key:"PLUGIN_KEY",get:function(){return Hu}},{key:"PLUGIN_PRIORITY",get:function(){return 260}}]),t}(Go);function uce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function gN(n){return function zJe(n){if(Array.isArray(n))return e5(n)}(n)||function VJe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function BJe(n,e){if(n){if("string"==typeof n)return e5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return e5(n,e)}}(n)||function HJe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function t5(n){return(t5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function jJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function pw(){return pw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=YJe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},pw.apply(this,arguments)}function YJe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Um(n)););return n}function n5(n,e){return(n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function XJe(n,e){if(e&&("object"===t5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return r5(n)}function r5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Um(n){return(Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function dce(n,e,t){(function ZJe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function od(n,e){return function qJe(n,e){return e.get?e.get.call(n):e.value}(n,fce(n,e,"get"))}function tR(n,e,t){return function JJe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,fce(n,e,"set"),t),t}function fce(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}wr.getSingleton().register("beforeHideColumns"),wr.getSingleton().register("afterHideColumns"),wr.getSingleton().register("beforeUnhideColumns"),wr.getSingleton().register("afterUnhideColumns");var o5="hiddenColumns",op=new WeakMap,sp=new WeakMap,eQe=function(n){!function GJe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&n5(n,e)}(t,n);var e=function $Je(n){var e=function KJe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Um(n);if(e){var o=Um(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return XJe(this,i)}}(t);function t(){var r;jJe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dce(r5(r=e.call.apply(e,[this].concat(o))),op,{writable:!0,value:{}}),dce(r5(r),sp,{writable:!0,value:null}),r}return function WJe(n,e,t){e&&cce(n.prototype,e),t&&cce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[o5]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[o5];ji(o)&&(tR(this,op,o),Ns(o.copyPasteEnabled)&&(o.copyPasteEnabled=!0)),tR(this,sp,new _I),od(this,sp).addLocalHook("init",function(){return i.onMapInit()}),this.hot.columnIndexMapper.registerMap(this.pluginName,od(this,sp)),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(s,a,u){return i.onAfterGetCellMeta(s,a,u)}),this.addHook("modifyColWidth",function(s,a){return i.onModifyColWidth(s,a)}),this.addHook("afterGetColHeader",function(){return i.onAfterGetColHeader.apply(i,arguments)}),this.addHook("modifyCopyableRange",function(s){return i.onModifyCopyableRange(s)}),pw(Um(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),pw(Um(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),tR(this,op,{}),pw(Um(t.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showColumns",value:function(i){var o=this,s=this.getHiddenColumns(),a=this.isValidConfig(i),u=s,c=od(this,sp).getValues().slice(),f=i.length>0;a&&f&&(Qe(i.map(function(y){return o.hot.toPhysicalColumn(y)}),function(y){c[y]=!1}),u=Ha(c,function(y,w,M){return w&&y.push(o.hot.toVisualColumn(M)),y},[])),!1!==this.hot.runHooks("beforeUnhideColumns",s,u,a&&f)&&(a&&f&&od(this,sp).setValues(c),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",s,u,a&&f,a&&u.length<s.length))}},{key:"showColumn",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.showColumns(o)}},{key:"hideColumns",value:function(i){var o=this,s=this.getHiddenColumns(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeHideColumns",s,u,a)&&(a&&this.hot.batchExecution(function(){Qe(i,function(f){od(o,sp).setValueAtIndex(o.hot.toPhysicalColumn(f),!0)})},!0),this.hot.runHooks("afterHideColumns",s,u,a,a&&u.length>s.length))}},{key:"hideColumn",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.hideColumns(o)}},{key:"getHiddenColumns",value:function(){var i=this;return Ki(od(this,sp).getHiddenIndexes(),function(o){return i.hot.toVisualColumn(o)})}},{key:"isHidden",value:function(i){return od(this,sp).getValueAtIndex(this.hot.toPhysicalColumn(i))||!1}},{key:"isValidConfig",value:function(i){var o=this.hot.countCols();return!!(Array.isArray(i)&&i.length>0)&&i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"resetCellsMeta",value:function(){Qe(this.hot.getCellsMeta(),function(i){i&&(i.skipColumnOnPaste=!1)})}},{key:"onModifyColWidth",value:function(i,o){return this.isHidden(o)?0:od(this,op).indicators&&(this.isHidden(o+1)||this.isHidden(o-1))&&"number"==typeof i&&this.hot.hasColHeaders()?i+15:void 0}},{key:"onAfterGetCellMeta",value:function(i,o,s){if(!1===od(this,op).copyPasteEnabled&&this.isHidden(o)&&(s.skipColumnOnPaste=!0),this.isHidden(o-1))s.className=s.className||"",-1===s.className.indexOf("afterHiddenColumn")&&(s.className+=" afterHiddenColumn");else if(s.className){var a=s.className.split(" ");if(a.length>0){var u=a.indexOf("afterHiddenColumn");u>-1&&a.splice(u,1),s.className=a.join(" ")}}}},{key:"onModifyCopyableRange",value:function(i){var o=this;if(od(this,op).copyPasteEnabled)return i;var s=[],a=function(c,f,p,g){s.push({startRow:c,endRow:f,startCol:p,endCol:g})};return Qe(i,function(u){var c=!0,f=0;Hr(u.startCol,u.endCol,function(p){o.isHidden(p)?(c||a(u.startRow,u.endRow,f,p-1),c=!0):(c&&(f=p),p===u.endCol&&a(u.startRow,u.endRow,f,p),c=!1)})}),s}},{key:"onAfterGetColHeader",value:function(i,o){if(od(this,op).indicators&&!(i<0)){var s=[];i>=1&&this.isHidden(i-1)&&s.push("afterHiddenColumn"),i<this.hot.countCols()-1&&this.isHidden(i+1)&&s.push("beforeHiddenColumn"),Cn(o,s)}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:Zi},function FJe(n){return{key:"hidden_columns_hide",name:function(){var t=this.getSelectedLast(),r=0;if(Array.isArray(t)){var i=function kJe(n,e){return function NJe(n){if(Array.isArray(n))return n}(n)||function PJe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function IJe(n,e){if(n){if("string"==typeof n)return uce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uce(n,e)}}(n,e)||function LJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,4);i[1]-i[3]!=0&&(r=1)}return this.getTranslatedPhrase(xj,r)},callback:function(){for(var t=this.getSelectedRangeLast(),r=t.from,i=t.to,o=Math.max(Math.min(r.col,i.col),0),s=Math.max(r.col,i.col),a=[],u=o;u<=s;u+=1)a.push(u);n.hideColumns(a);var f=this.columnIndexMapper.getNearestNotHiddenIndex(a[a.length-1],1,!0);Number.isInteger(f)&&f>=0?this.selectColumns(f):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}(this),function UJe(n){var e=[];return{key:"hidden_columns_show",name:function(){return this.getTranslatedPhrase(Cj,e.length>1?1:0)},callback:function(){var r,i;if(0!==e.length){var o=e[0],s=e[e.length-1];o=null!==(r=this.columnIndexMapper.getNearestNotHiddenIndex(o-1,-1))&&void 0!==r?r:0,s=null!==(i=this.columnIndexMapper.getNearestNotHiddenIndex(s+1,1))&&void 0!==i?i:this.countCols()-1,n.showColumns(e),this.render(),this.view.adjustElementsSize(!0),s-o+1===this.countCols()||this.selectColumns(o,s)}},disabled:!1,hidden:function(){var r=this,i=Ki(n.getHiddenColumns(),function(B){return r.toPhysicalColumn(B)});if(!this.selection.isSelectedByColumnHeader()&&!this.selection.isSelectedByCorner()||i.length<1)return!0;e.length=0;var o=this.getSelectedRangeLast(),s=o.getTopStartCorner().col,a=o.getBottomEndCorner().col,u=this.columnIndexMapper,c=u.getRenderableFromVisualIndex(s),f=u.getRenderableFromVisualIndex(a),p=u.getNotTrimmedIndexes(),g=[];if(s!==a){if(a-s+1>f-c+1){var M=p.slice(s,a+1);g.push.apply(g,gN(M.filter(function(B){return i.includes(B)})))}}else if(0===c&&c<s)g.push.apply(g,gN(p.slice(0,s)));else if(null===c)g.push.apply(g,gN(p.slice(0,this.countCols())));else{var C=this.countCols()-1;f===u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(C,-1))&&C>a&&g.push.apply(g,gN(p.slice(a+1)))}return Qe(g,function(B){e.push(r.toVisualColumn(B))}),0===e.length}}}(this))}},{key:"onMapInit",value:function(){Array.isArray(od(this,op).columns)&&this.hideColumns(od(this,op).columns)}},{key:"destroy",value:function(){tR(this,op,null),tR(this,sp,null),pw(Um(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return o5}},{key:"PLUGIN_PRIORITY",get:function(){return 310}}]),t}(Go);function hce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vN(n){return function cQe(n){if(Array.isArray(n))return s5(n)}(n)||function uQe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function lQe(n,e){if(n){if("string"==typeof n)return s5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s5(n,e)}}(n)||function aQe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function a5(n){return(a5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function fQe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function mw(){return mw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=pQe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},mw.apply(this,arguments)}function pQe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=jm(n)););return n}function l5(n,e){return(l5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function vQe(n,e){if(e&&("object"===a5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u5(n)}function u5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jm(n){return(jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function mce(n,e,t){(function _Qe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function ef(n,e){return function bQe(n,e){return e.get?e.get.call(n):e.value}(n,gce(n,e,"get"))}function nR(n,e,t){return function wQe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,gce(n,e,"set"),t),t}function gce(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}wr.getSingleton().register("beforeHideRows"),wr.getSingleton().register("afterHideRows"),wr.getSingleton().register("beforeUnhideRows"),wr.getSingleton().register("afterUnhideRows");var c5="hiddenRows",Wm=new WeakMap,ap=new WeakMap,SQe=function(n){!function mQe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&l5(n,e)}(t,n);var e=function gQe(n){var e=function yQe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=jm(n);if(e){var o=jm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vQe(this,i)}}(t);function t(){var r;fQe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return mce(u5(r=e.call.apply(e,[this].concat(o))),Wm,{writable:!0,value:{}}),mce(u5(r),ap,{writable:!0,value:null}),r}return function hQe(n,e,t){e&&pce(n.prototype,e),t&&pce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[c5]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[c5];ji(o)&&(nR(this,Wm,o),Ns(o.copyPasteEnabled)&&(o.copyPasteEnabled=!0)),nR(this,ap,new _I),ef(this,ap).addLocalHook("init",function(){return i.onMapInit()}),this.hot.rowIndexMapper.registerMap(this.pluginName,ef(this,ap)),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(s,a,u){return i.onAfterGetCellMeta(s,a,u)}),this.addHook("modifyRowHeight",function(s,a){return i.onModifyRowHeight(s,a)}),this.addHook("afterGetRowHeader",function(){return i.onAfterGetRowHeader.apply(i,arguments)}),this.addHook("modifyCopyableRange",function(s){return i.onModifyCopyableRange(s)}),mw(jm(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),mw(jm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),nR(this,Wm,{}),mw(jm(t.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showRows",value:function(i){var o=this,s=this.getHiddenRows(),a=this.isValidConfig(i),u=s,c=ef(this,ap).getValues().slice(),f=i.length>0;a&&f&&(Qe(i.map(function(y){return o.hot.toPhysicalRow(y)}),function(y){c[y]=!1}),u=Ha(c,function(y,w,M){return w&&y.push(o.hot.toVisualRow(M)),y},[])),!1!==this.hot.runHooks("beforeUnhideRows",s,u,a&&f)&&(a&&f&&ef(this,ap).setValues(c),this.hot.runHooks("afterUnhideRows",s,u,a&&f,a&&u.length<s.length))}},{key:"showRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.showRows(o)}},{key:"hideRows",value:function(i){var o=this,s=this.getHiddenRows(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeHideRows",s,u,a)&&(a&&this.hot.batchExecution(function(){Qe(i,function(f){ef(o,ap).setValueAtIndex(o.hot.toPhysicalRow(f),!0)})},!0),this.hot.runHooks("afterHideRows",s,u,a,a&&u.length>s.length))}},{key:"hideRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.hideRows(o)}},{key:"getHiddenRows",value:function(){var i=this;return Ki(ef(this,ap).getHiddenIndexes(),function(o){return i.hot.toVisualRow(o)})}},{key:"isHidden",value:function(i){return ef(this,ap).getValueAtIndex(this.hot.toPhysicalRow(i))||!1}},{key:"isValidConfig",value:function(i){var o=this.hot.countRows();return!!(Array.isArray(i)&&i.length>0)&&i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"resetCellsMeta",value:function(){Qe(this.hot.getCellsMeta(),function(i){i&&(i.skipRowOnPaste=!1)})}},{key:"onModifyRowHeight",value:function(i,o){return this.isHidden(o)?0:i}},{key:"onAfterGetCellMeta",value:function(i,o,s){if(!1===ef(this,Wm).copyPasteEnabled&&this.isHidden(i)&&(s.skipRowOnPaste=!0),this.isHidden(i-1))s.className=s.className||"",-1===s.className.indexOf("afterHiddenRow")&&(s.className+=" afterHiddenRow");else if(s.className){var a=s.className.split(" ");if(a.length>0){var u=a.indexOf("afterHiddenRow");u>-1&&a.splice(u,1),s.className=a.join(" ")}}}},{key:"onModifyCopyableRange",value:function(i){var o=this;if(ef(this,Wm).copyPasteEnabled)return i;var s=[],a=function(c,f,p,g){s.push({startRow:c,endRow:f,startCol:p,endCol:g})};return Qe(i,function(u){var c=!0,f=0;Hr(u.startRow,u.endRow,function(p){o.isHidden(p)?(c||a(f,p-1,u.startCol,u.endCol),c=!0):(c&&(f=p),p===u.endRow&&a(f,p,u.startCol,u.endCol),c=!1)})}),s}},{key:"onAfterGetRowHeader",value:function(i,o){if(ef(this,Wm).indicators&&!(i<0)){var s=[];i>=1&&this.isHidden(i-1)&&s.push("afterHiddenRow"),i<this.hot.countRows()-1&&this.isHidden(i+1)&&s.push("beforeHiddenRow"),Cn(o,s)}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:Zi},function sQe(n){return{key:"hidden_rows_hide",name:function(){var t=this.getSelectedLast(),r=0;if(Array.isArray(t)){var i=function tQe(n,e){return function oQe(n){if(Array.isArray(n))return n}(n)||function iQe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function rQe(n,e){if(n){if("string"==typeof n)return hce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hce(n,e)}}(n,e)||function nQe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,3);i[0]-i[2]!=0&&(r=1)}return this.getTranslatedPhrase(Ej,r)},callback:function(){for(var t=this.getSelectedRangeLast(),r=t.from,i=t.to,o=Math.max(Math.min(r.row,i.row),0),s=Math.max(r.row,i.row),a=[],u=o;u<=s;u+=1)a.push(u);n.hideRows(a);var f=this.rowIndexMapper.getNearestNotHiddenIndex(a[a.length-1],1,!0);Number.isInteger(f)&&f>=0?this.selectRows(f):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}(this),function dQe(n){var e=[];return{key:"hidden_rows_show",name:function(){return this.getTranslatedPhrase(Tj,e.length>1?1:0)},callback:function(){var r,i;if(0!==e.length){var o=e[0],s=e[e.length-1];o=null!==(r=this.rowIndexMapper.getNearestNotHiddenIndex(o-1,-1))&&void 0!==r?r:0,s=null!==(i=this.rowIndexMapper.getNearestNotHiddenIndex(s+1,1))&&void 0!==i?i:this.countRows()-1,n.showRows(e),this.render(),this.view.adjustElementsSize(!0),s-o+1===this.countRows()||this.selectRows(o,s)}},disabled:!1,hidden:function(){var r=this,i=Ki(n.getHiddenRows(),function(B){return r.toPhysicalRow(B)});if(!this.selection.isSelectedByRowHeader()&&!this.selection.isSelectedByCorner()||i.length<1)return!0;e.length=0;var o=this.getSelectedRangeLast(),s=o.getTopStartCorner().row,a=o.getBottomEndCorner().row,u=this.rowIndexMapper,c=u.getRenderableFromVisualIndex(s),f=u.getRenderableFromVisualIndex(a),p=u.getNotTrimmedIndexes(),g=[];if(s!==a){if(a-s+1>f-c+1){var M=p.slice(s,a+1);g.push.apply(g,vN(M.filter(function(B){return i.includes(B)})))}}else if(0===c&&c<s)g.push.apply(g,vN(p.slice(0,s)));else if(null===c)g.push.apply(g,vN(p.slice(0,this.countRows())));else{var C=this.countRows()-1;f===u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(C,-1))&&C>a&&g.push.apply(g,vN(p.slice(a+1)))}return Qe(g,function(B){e.push(r.toVisualRow(B))}),0===e.length}}}(this))}},{key:"onMapInit",value:function(){Array.isArray(ef(this,Wm).rows)&&this.hideRows(ef(this,Wm).rows)}},{key:"destroy",value:function(){nR(this,Wm,null),nR(this,ap,null),mw(jm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return c5}},{key:"PLUGIN_PRIORITY",get:function(){return 320}}]),t}(Go);function vce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function d5(n){return(d5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _ce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function wx(){return wx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=HQe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},wx.apply(this,arguments)}function HQe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=vy(n)););return n}function f5(n,e){return(f5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function zQe(n,e){if(e&&("object"===d5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bce(n)}function bce(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vy(n){return(vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}wr.getSingleton().register("beforeColumnFreeze"),wr.getSingleton().register("afterColumnFreeze"),wr.getSingleton().register("beforeColumnUnfreeze"),wr.getSingleton().register("afterColumnUnfreeze");var wce="manualColumnFreeze",rR=new WeakMap,WQe=function(n){!function BQe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&f5(n,e)}(t,n);var e=function VQe(n){var e=function UQe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=vy(n);if(e){var o=vy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return zQe(this,i)}}(t);function t(r){var i;return function NQe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),rR.set(bce(i),{afterFirstUse:!1}),i}return function FQe(n,e,t){e&&_ce(n.prototype,e),t&&_ce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[wce]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(o){return i.addContextMenuEntry(o)}),this.addHook("beforeColumnMove",function(o,s){return i.onBeforeColumnMove(o,s)}),wx(vy(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){rR.get(this).afterFirstUse=!1,wx(vy(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),wx(vy(t.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(i){var o=rR.get(this),s=this.hot.getSettings(),a=s.fixedColumnsStart<this.hot.countCols()&&i>s.fixedColumnsStart-1;o.afterFirstUse||(o.afterFirstUse=!0),!1!==this.hot.runHooks("beforeColumnFreeze",i,a)&&(a&&(this.hot.columnIndexMapper.moveIndexes(i,s.fixedColumnsStart),s._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",i,a))}},{key:"unfreezeColumn",value:function(i){var o=rR.get(this),s=this.hot.getSettings(),a=s.fixedColumnsStart>0&&i<=s.fixedColumnsStart-1;o.afterFirstUse||(o.afterFirstUse=!0),!1!==this.hot.runHooks("beforeColumnUnfreeze",i,a)&&(a&&(s._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(i,s.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",i,a))}},{key:"addContextMenuEntry",value:function(i){i.items.push({name:"---------"},function DQe(n){return{key:"freeze_column",name:function(){return this.getTranslatedPhrase(ej)},callback:function(t,r){var i=function xQe(n,e){return function RQe(n){if(Array.isArray(n))return n}(n)||function TQe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function EQe(n,e){if(n){if("string"==typeof n)return vce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vce(n,e)}}(n,e)||function CQe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,1);n.freezeColumn(i[0].start.col),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),r=!1;return(void 0===t||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(r=!0),r}}}(this),function PQe(n){return{key:"unfreeze_column",name:function(){return this.getTranslatedPhrase(tj)},callback:function(t,r){var i=function AQe(n,e){return function IQe(n){if(Array.isArray(n))return n}(n)||function LQe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function kQe(n,e){if(n){if("string"==typeof n)return yce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yce(n,e)}}(n,e)||function OQe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,1);n.unfreezeColumn(i[0].start.col),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),r=!1;return(void 0===t||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col>=this.getSettings().fixedColumnsStart)&&(r=!0),r}}}(this))}},{key:"onBeforeColumnMove",value:function(i,o){if(rR.get(this).afterFirstUse){var a=this.hot.getSettings().fixedColumnsStart;if(o<a||i.some(function(u){return u<a}))return!1}}}],[{key:"PLUGIN_KEY",get:function(){return wce}},{key:"PLUGIN_PRIORITY",get:function(){return 110}}]),t}(Go);function Mce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Mx="px";const Cce=function(){function n(e){(function YQe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this._element=null,this.state=0,this.inlineProperty=e.isRtl()?"right":"left"}return function GQe(n,e,t){e&&Mce(n.prototype,e),t&&Mce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){0===this.state&&(this._element=this.hot.rootDocument.createElement("div"),this.state=1)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,r){Yd(t)&&(this._element.style.top=t+Mx),Yd(r)&&(this._element.style[this.inlineProperty]=r+Mx)}},{key:"getPosition",value:function(){var t=this._element.style;return{top:t.top?parseInt(t.top,10):0,start:t[this.inlineProperty]?parseInt(t[this.inlineProperty],10):0}}},{key:"setSize",value:function(t,r){Yd(t)&&(this._element.style.width=t+Mx),Yd(r)&&(this._element.style.height=r+Mx)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,r){Yd(t)&&(this._element.style.marginTop=t+Mx),Yd(r)&&(this._element.style["margin".concat(Mm(this.inlineProperty))]=r+Mx)}},{key:"getOffset",value:function(){var t=this._element.style,r="margin".concat(Mm(this.inlineProperty));return{top:t.marginTop?parseInt(t.marginTop,10):0,start:t[r]?parseInt(t[r],10):0}}}]),n}();function p5(n){return(p5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function XQe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ece(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function yN(){return yN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=ZQe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},yN.apply(this,arguments)}function ZQe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Sx(n)););return n}function m5(n,e){return(m5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function QQe(n,e){if(e&&("object"===p5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function eet(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Sx(n){return(Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const iet=function(n){!function qQe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&m5(n,e)}(t,n);var e=function JQe(n){var e=function tet(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Sx(n);if(e){var o=Sx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return QQe(this,i)}}(t);function t(){return XQe(this,t),e.apply(this,arguments)}return function KQe(n,e,t){e&&Ece(n.prototype,e),t&&Ece(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){yN(Sx(t.prototype),"build",this).call(this),Cn(this._element,"ht__manualColumnMove--backlight")}}]),t}(Cce);function g5(n){return(g5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function oet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _N(){return _N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=aet(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},_N.apply(this,arguments)}function aet(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=xx(n)););return n}function v5(n,e){return(v5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function det(n,e){if(e&&("object"===g5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function fet(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function xx(n){return(xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const get=function(n){!function uet(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&v5(n,e)}(t,n);var e=function cet(n){var e=function het(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=xx(n);if(e){var o=xx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return det(this,i)}}(t);function t(){return oet(this,t),e.apply(this,arguments)}return function set(n,e,t){e&&Tce(n.prototype,e),t&&Tce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){_N(xx(t.prototype),"build",this).call(this),Cn(this._element,"ht__manualColumnMove--guideline")}}]),t}(Cce);function y5(n){return(y5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Rce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function gw(){return gw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=_et(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},gw.apply(this,arguments)}function _et(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Ym(n)););return n}function _5(n,e){return(_5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Met(n,e){if(e&&("object"===y5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b5(n)}function b5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ym(n){return(Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}wr.getSingleton().register("beforeColumnMove"),wr.getSingleton().register("afterColumnMove");var w5="manualColumnMove",yy=new WeakMap,Dce="ht__manualColumnMove",bN="show-ui",M5="on-moving--columns",S5="after-selection--columns",Eet=function(n){!function bet(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_5(n,e)}(t,n);var e=function wet(n){var e=function xet(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Ym(n);if(e){var o=Ym(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Met(this,i)}}(t);function t(r){var i;return function vet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),yy.set(b5(i),{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0},cachedDropIndex:void 0}),i.eventManager=new ea(b5(i)),i.backlight=new iet(r),i.guideline=new get(r),i}return function yet(n,e,t){e&&Rce(n.prototype,e),t&&Rce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[w5]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterScrollVertically",function(){return i.onAfterScrollVertically()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.buildPluginUI(),this.registerEvents(),Cn(this.hot.rootElement,Dce),gw(Ym(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),gw(Ym(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Ii(this.hot.rootElement,Dce),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),gw(Ym(t.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(i,o){return this.moveColumns([i],o)}},{key:"moveColumns",value:function(i,o){var s=yy.get(this),a=s.cachedDropIndex,u=this.isMovePossible(i,o),c=this.hot.runHooks("beforeColumnMove",i,o,a,u);if(s.cachedDropIndex=void 0,!1!==c){u&&this.hot.columnIndexMapper.moveIndexes(i,o);var f=u&&this.isColumnOrderChanged(i,o);return this.hot.runHooks("afterColumnMove",i,o,a,u,f),f}}},{key:"dragColumn",value:function(i,o){return this.dragColumns([i],o)}},{key:"dragColumns",value:function(i,o){var s=this.countFinalIndex(i,o);return yy.get(this).cachedDropIndex=o,this.moveColumns(i,s)}},{key:"isMovePossible",value:function(i,o){var s=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),a=i.length+o>s,u=o<0,c=i.some(function(p){return p<0}),f=i.some(function(p){return p>=s});return!(a||u||c||f)}},{key:"isColumnOrderChanged",value:function(i,o){return i.some(function(s,a){return s-a!==o})}},{key:"countFinalIndex",value:function(i,o){var s=Ha(i,function(a,u){return u<o&&(a+=1),a},0);return o-s}},{key:"getColumnsWidth",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=0,u=i;u<=o;u+=1){var c=s.getRenderableFromVisualIndex(u);u<0?a+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:null!==c&&(a+=this.hot.view._wt.wtTable.getStretchedColumnWidth(c)||0)}return a}},{key:"moveBySettingsOrLoad",value:function(){var i=this.hot.getSettings()[w5];if(Array.isArray(i))this.moveColumns(i,0);else if(void 0!==i){var o=this.persistentStateLoad();o.length&&this.moveColumns(o,0)}}},{key:"isFixedColumnsStart",value:function(i){return i<this.hot.getSettings().fixedColumnsStart}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var i={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",i),i.value?i.value:[]}},{key:"prepareColumnsToMoving",value:function(i,o){var s=[];return Hr(i,o,function(a){s.push(a)}),s}},{key:"refreshPositions",value:function(){var i=yy.get(this),o=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(i.hoveredColumn)&&o>0&&this.hot.scrollViewportTo(void 0,this.hot.columnIndexMapper.getNearestNotHiddenIndex(o-1,-1));var s=this.hot.view._wt.wtTable,a=this.hot.view._wt.wtOverlays.scrollableElement,u="number"==typeof a.scrollX?a.scrollX:a.scrollLeft,c=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,i.hoveredColumn-1),f=s.hider.offsetWidth,p=s.TBODY.offsetLeft,g=this.backlight.getOffset().start,y=this.backlight.getSize().width,w=0,M=0;if(this.hot.isRtl()){var C=this.hot.rootWindow,I=us(this.hot.rootElement);M=C.innerWidth-i.target.eventPageX-(C.innerWidth-i.rootElementOffset-I)-(void 0===a.scrollX?u:0)}else M=i.target.eventPageX-(i.rootElementOffset-(void 0===a.scrollX?u:0));i.hasRowHeaders&&(w=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(i.hoveredColumn)&&(c+=u),c+=w,i.hoveredColumn<0?i.target.col=i.fixedColumnsStart>0?0:o>0?o-1:o:i.target.TD.offsetWidth/2+c<=M?(i.target.col=(i.hoveredColumn>=i.countCols?i.countCols-1:i.hoveredColumn)+1,c+=i.target.TD.offsetWidth):i.target.col=i.hoveredColumn;var j=M,$=c;M+y+g>=f?j=f-y-g:M+g<p+w&&(j=p+w+Math.abs(g)),c>=f-1?$=f-1:0===$?$=1:void 0!==a.scrollX&&i.hoveredColumn<i.fixedColumnsStart&&($-=i.rootElementOffset<=a.scrollX?i.rootElementOffset:0),this.backlight.setPosition(null,j),this.guideline.setPosition(null,$)}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){var u=this.hot.view._wt.wtTable,c=this.hot.selection.isSelectedByColumnHeader(),f=this.hot.getSelectedRangeLast(),p=yy.get(this),g=_i(i.target,"sortAction");if(!f||!c||p.pressed||0!==i.button||g)return p.pressed=!1,p.columnsToMove.length=0,void Ii(this.hot.rootElement,[M5,bN]);var y=this.guideline.isBuilt()&&!this.guideline.isAppended(),w=this.backlight.isBuilt()&&!this.backlight.isAppended();y&&w&&(this.guideline.appendTo(u.hider),this.backlight.appendTo(u.hider));var M=f.from,C=f.to,I=Math.min(M.col,C.col),B=Math.max(M.col,C.col);if(o.row<0&&o.col>=I&&o.col<=B){a.column=!0,p.pressed=!0,p.target.eventPageX=i.pageX,p.target.eventOffsetX=i.offsetX,p.hoveredColumn=o.col,p.target.TD=s,p.target.col=o.col,p.columnsToMove=this.prepareColumnsToMoving(I,B),p.hasRowHeaders=!!this.hot.getSettings().rowHeaders,p.countCols=this.hot.countCols(),p.fixedColumnsStart=this.hot.getSettings().fixedColumnsStart,p.rootElementOffset=Ba(this.hot.rootElement).left;var U=p.hasRowHeaders?-1:0,j=u.holder.scrollTop+u.getColumnHeaderHeight(0)+1,$=o.col<p.fixedColumnsStart,se=Math.abs(this.hot.view._wt.wtOverlays.inlineStartOverlay.getScrollPosition()),ge=Math.abs(i.offsetX-(this.hot.isRtl()?i.target.offsetWidth:0)),re=this.getColumnsWidth(I,o.col-1)+ge,fe=this.getColumnsWidth(U,I-1)+($?se:0)+re;this.backlight.setPosition(j,fe),this.backlight.setSize(this.getColumnsWidth(I,B),u.hider.offsetHeight-j),this.backlight.setOffset(null,-re),Cn(this.hot.rootElement,M5)}else Ii(this.hot.rootElement,S5),p.pressed=!1,p.columnsToMove.length=0}},{key:"onMouseMove",value:function(i){var o=yy.get(this);if(o.pressed){if(i.target===this.backlight.element){var s=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(s)})}o.target.eventPageX=i.pageX,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u=this.hot.getSelectedRangeLast(),c=yy.get(this);!u||!c.pressed||(c.columnsToMove.indexOf(o.col)>-1?Ii(this.hot.rootElement,bN):Cn(this.hot.rootElement,bN),a.row=!0,a.column=!0,a.cell=!0,c.hoveredColumn=o.col,c.target.TD=s)}},{key:"onMouseUp",value:function(){var i=yy.get(this),o=i.target.col,s=i.columnsToMove.length;if(i.hoveredColumn=void 0,i.pressed=!1,i.backlightWidth=0,Ii(this.hot.rootElement,[M5,bN,S5]),this.hot.selection.isSelectedByColumnHeader()&&Cn(this.hot.rootElement,S5),!(s<1||void 0===o)){var u=this.hot.toPhysicalColumn(i.columnsToMove[0]),c=this.dragColumns(i.columnsToMove,o);if(i.columnsToMove.length=0,!0===c){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var f=this.hot.toVisualColumn(u);this.hot.selectColumns(f,f+s-1)}}}},{key:"onAfterScrollVertically",value:function(){var i=this.hot.view._wt.wtTable,a=i.getColumnHeaderHeight(0)+1+i.holder.scrollTop;this.backlight.setPosition(a),this.backlight.setSize(null,i.hider.offsetHeight-a)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),gw(Ym(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return w5}},{key:"PLUGIN_PRIORITY",get:function(){return 120}}]),t}(Go);function x5(n){return(x5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ace(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function vw(){return vw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Det(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},vw.apply(this,arguments)}function Det(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Gm(n)););return n}function C5(n,e){return(C5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ket(n,e){if(e&&("object"===x5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E5(n)}function E5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Gm(n){return(Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var wN="manualColumnResize",Oce="manualColumnWidths",T5=new WeakMap,Pet=function(n){!function Aet(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&C5(n,e)}(t,n);var e=function Oet(n){var e=function Let(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Gm(n);if(e){var o=Gm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ket(this,i)}}(t);function t(r){var i;!function Tet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,r)).hot.rootDocument;return i.currentTH=null,i.currentCol=null,i.selectedCols=[],i.currentWidth=null,i.newSize=null,i.startY=null,i.startWidth=null,i.startOffset=null,i.handle=o.createElement("DIV"),i.guide=o.createElement("DIV"),i.eventManager=new ea(E5(i)),i.pressed=null,i.dblclick=0,i.autoresizeTimeout=null,i.columnWidthsMap=void 0,T5.set(E5(i),{config:void 0}),Cn(i.handle,"manualColumnResizer"),Cn(i.guide,"manualColumnResizerGuide"),i}return function Ret(n,e,t){e&&Ace(n.prototype,e),t&&Ace(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"inlineDir",get:function(){return this.hot.isRtl()?"right":"left"}},{key:"isEnabled",value:function(){return this.hot.getSettings()[wN]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.columnWidthsMap=new Zv,this.columnWidthsMap.addLocalHook("init",function(){return i.onMapInit()}),this.hot.columnIndexMapper.registerMap(this.pluginName,this.columnWidthsMap),this.addHook("modifyColWidth",function(o,s){return i.onModifyColWidth(o,s)}),this.addHook("beforeStretchingColumnWidth",function(o,s){return i.onBeforeStretchingColumnWidth(o,s)}),this.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)}),this.bindEvents(),vw(Gm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),vw(Gm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){T5.get(this).config=this.columnWidthsMap.getValues(),this.hot.columnIndexMapper.unregisterMap(this.pluginName),vw(Gm(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave",Oce,this.columnWidthsMap.getValues())}},{key:"loadManualColumnWidths",value:function(){var i={};return this.hot.runHooks("persistentStateLoad",Oce,i),i.value}},{key:"setManualSize",value:function(i,o){var s=Math.max(o,20),a=this.hot.toPhysicalColumn(i);return this.columnWidthsMap.setValueAtIndex(a,s),s}},{key:"clearManualSize",value:function(i){var o=this.hot.toPhysicalColumn(i);this.columnWidthsMap.setValueAtIndex(o,null)}},{key:"onMapInit",value:function(){var i=this,o=T5.get(this),s=this.hot.getSettings()[wN],a=this.loadManualColumnWidths();void 0!==a?this.hot.batchExecution(function(){a.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0):Array.isArray(s)?(this.hot.batchExecution(function(){s.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0),o.config=s):!0===s&&Array.isArray(o.config)&&this.hot.batchExecution(function(){o.config.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0)}},{key:"setupHandlePosition",value:function(i){var o=this;if(i.parentNode){this.currentTH=i;var s=this.hot.view._wt,a=s.wtTable.getCoords(this.currentTH),u=a.col;if(!(u<0)){var g,c=Qs(this.currentTH),f=this.currentTH.getBoundingClientRect();u<s.getSetting("fixedColumnsStart")&&(g=s.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,a.row,a.col)),g||(g=s.wtOverlays.topOverlay.getRelativeCellPosition(this.currentTH,a.row,a.col)),this.currentCol=this.hot.columnIndexMapper.getVisualFromRenderableIndex(u),this.selectedCols=[];var y=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();this.hot.selection.isSelected()&&y&&Qe(this.hot.getSelectedRange(),function(M){Hr(M.getTopStartCorner().col,M.getBottomEndCorner().col,function(B){o.selectedCols.includes(B)||o.selectedCols.push(B)})}),this.selectedCols.includes(this.currentCol)||(this.selectedCols=[this.currentCol]),this.startOffset=g.start-6,this.startWidth=parseInt(f.width,10),this.handle.style.top="".concat(g.top,"px"),this.handle.style[this.inlineDir]="".concat(this.startOffset+this.startWidth,"px"),this.handle.style.height="".concat(c,"px"),this.hot.rootElement.appendChild(this.handle)}}}},{key:"refreshHandlePosition",value:function(){this.handle.style[this.inlineDir]="".concat(this.startOffset+this.currentWidth,"px")}},{key:"setupGuidePosition",value:function(){var i=parseInt(Qs(this.handle),10),o=parseInt(this.handle.style.top,10)+i,s=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);Cn(this.handle,"active"),Cn(this.guide,"active"),this.guide.style.top="".concat(o,"px"),this.refreshGuidePosition(),this.guide.style.height="".concat(s-i,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style[this.inlineDir]=this.handle.style[this.inlineDir]}},{key:"hideHandleAndGuide",value:function(){Ii(this.handle,"active"),Ii(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(i){return!!wb(i,["THEAD"],this.hot.rootElement)}},{key:"getClosestTHParent",value:function(i){return"TABLE"!==i.tagName?"TH"===i.tagName?i:this.getClosestTHParent(i.parentNode):null}},{key:"onMouseOver",value:function(i){if(!KQ(i.target)&&this.checkIfColumnHeader(i.target)){var o=this.getClosestTHParent(i.target);if(!o)return;var s=o.getAttribute("colspan");o&&(null===s||"1"===s)&&(this.pressed||this.setupHandlePosition(o))}}},{key:"afterMouseDownTimeout",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,f){var p=i.hot.runHooks("beforeColumnResize",i.newSize,c,!0);void 0!==p&&(i.newSize=p),"all"===i.hot.getSettings().stretchH?i.clearManualSize(c):i.setManualSize(c,i.newSize),i.saveManualColumnWidths(),i.hot.runHooks("afterColumnResize",i.newSize,c,!0),f&&o()};this.dblclick>=2&&(this.selectedCols.length>1?(Qe(this.selectedCols,function(u){s(u)}),o()):Qe(this.selectedCols,function(u){s(u,!0)})),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(i){var o=this;_i(i.target,"manualColumnResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return o.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startX=i.pageX,this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(i){var o=this;if(this.pressed){var s=(i.pageX-this.startX)*this.hot.getDirectionFactor();this.currentWidth=this.startWidth+s,Qe(this.selectedCols,function(a){o.newSize=o.setManualSize(a,o.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition()}}},{key:"onMouseUp",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,f){i.hot.runHooks("beforeColumnResize",i.newSize,c,!1),f&&o(),i.saveManualColumnWidths(),i.hot.runHooks("afterColumnResize",i.newSize,c,!1)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startWidth&&(this.selectedCols.length>1?(Qe(this.selectedCols,function(u){s(u)}),o()):Qe(this.selectedCols,function(u){s(u,!0)})),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var i=this,o=this.hot,s=o.rootWindow,a=o.rootElement;this.eventManager.addEventListener(a,"mouseover",function(u){return i.onMouseOver(u)}),this.eventManager.addEventListener(a,"mousedown",function(u){return i.onMouseDown(u)}),this.eventManager.addEventListener(s,"mousemove",function(u){return i.onMouseMove(u)}),this.eventManager.addEventListener(s,"mouseup",function(){return i.onMouseUp()})}},{key:"onModifyColWidth",value:function(i,o){var s=i;if(this.enabled){var a=this.hot.toPhysicalColumn(o),u=this.columnWidthsMap.getValueAtIndex(a);this.hot.getSettings()[wN]&&u&&(s=u)}return s}},{key:"onBeforeStretchingColumnWidth",value:function(i,o){var s=this.columnWidthsMap.getValueAtIndex(o);return null===s&&(s=i),s}},{key:"onBeforeColumnResize",value:function(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}},{key:"destroy",value:function(){vw(Gm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return wN}},{key:"PLUGIN_PRIORITY",get:function(){return 130}}]),t}(Go);function kce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Cx="px";const Pce=function(){function n(e){(function Net(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this._element=null,this.state=0}return function Fet(n,e,t){e&&kce(n.prototype,e),t&&kce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){0===this.state&&(this._element=this.hot.rootDocument.createElement("div"),this.state=1)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,r){void 0!==t&&(this._element.style.top=t+Cx),void 0!==r&&(this._element.style.left=r+Cx)}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,r){t&&(this._element.style.width=t+Cx),r&&(this._element.style.height=r+Cx)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,r){t&&(this._element.style.marginTop=t+Cx),r&&(this._element.style.marginLeft=r+Cx)}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),n}();function D5(n){return(D5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Bet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Nce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function MN(){return MN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=zet(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},MN.apply(this,arguments)}function zet(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Ex(n)););return n}function A5(n,e){return(A5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Wet(n,e){if(e&&("object"===D5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Yet(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Ex(n){return(Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const Ket=function(n){!function Uet(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&A5(n,e)}(t,n);var e=function jet(n){var e=function Get(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Ex(n);if(e){var o=Ex(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Wet(this,i)}}(t);function t(){return Bet(this,t),e.apply(this,arguments)}return function Vet(n,e,t){e&&Nce(n.prototype,e),t&&Nce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){MN(Ex(t.prototype),"build",this).call(this),Cn(this._element,"ht__manualRowMove--backlight")}}]),t}(Pce);function O5(n){return(O5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Zet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Fce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function SN(){return SN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Jet(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},SN.apply(this,arguments)}function Jet(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Tx(n)););return n}function k5(n,e){return(k5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ttt(n,e){if(e&&("object"===O5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function ntt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Tx(n){return(Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const stt=function(n){!function Qet(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&k5(n,e)}(t,n);var e=function ett(n){var e=function rtt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Tx(n);if(e){var o=Tx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ttt(this,i)}}(t);function t(){return Zet(this,t),e.apply(this,arguments)}return function qet(n,e,t){e&&Fce(n.prototype,e),t&&Fce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){SN(Tx(t.prototype),"build",this).call(this),Cn(this._element,"ht__manualRowMove--guideline")}}]),t}(Pce);function L5(n){return(L5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Hce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function yw(){return yw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=utt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},yw.apply(this,arguments)}function utt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=$m(n)););return n}function I5(n,e){return(I5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ftt(n,e){if(e&&("object"===L5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return P5(n)}function P5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $m(n){return($m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}wr.getSingleton().register("beforeRowMove"),wr.getSingleton().register("afterRowMove");var N5="manualRowMove",_y=new WeakMap,Bce="ht__manualRowMove",xN="show-ui",F5="on-moving--rows",H5="after-selection--rows",mtt=function(n){!function ctt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&I5(n,e)}(t,n);var e=function dtt(n){var e=function htt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=$m(n);if(e){var o=$m(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ftt(this,i)}}(t);function t(r){var i;return function att(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),_y.set(P5(i),{rowsToMove:[],pressed:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0},cachedDropIndex:void 0}),i.eventManager=new ea(P5(i)),i.backlight=new Ket(r),i.guideline=new stt(r),i}return function ltt(n,e,t){e&&Hce(n.prototype,e),t&&Hce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[N5]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterScrollHorizontally",function(){return i.onAfterScrollHorizontally()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.buildPluginUI(),this.registerEvents(),Cn(this.hot.rootElement,Bce),yw($m(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),yw($m(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Ii(this.hot.rootElement,Bce),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),yw($m(t.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(i,o){return this.moveRows([i],o)}},{key:"moveRows",value:function(i,o){var s=_y.get(this),a=s.cachedDropIndex,u=this.isMovePossible(i,o),c=this.hot.runHooks("beforeRowMove",i,o,a,u);if(s.cachedDropIndex=void 0,!1!==c){u&&this.hot.rowIndexMapper.moveIndexes(i,o);var f=u&&this.isRowOrderChanged(i,o);return this.hot.runHooks("afterRowMove",i,o,a,u,f),f}}},{key:"dragRow",value:function(i,o){return this.dragRows([i],o)}},{key:"dragRows",value:function(i,o){var s=this.countFinalIndex(i,o);return _y.get(this).cachedDropIndex=o,this.moveRows(i,s)}},{key:"isMovePossible",value:function(i,o){var s=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),a=i.length+o>s,u=o<0,c=i.some(function(p){return p<0}),f=i.some(function(p){return p>=s});return!(a||u||c||f)}},{key:"isRowOrderChanged",value:function(i,o){return i.some(function(s,a){return s-a!==o})}},{key:"countFinalIndex",value:function(i,o){var s=Ha(i,function(a,u){return u<o&&(a+=1),a},0);return o-s}},{key:"getRowsHeight",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=0,u=i;u<=o;u++){var c=s.getRenderableFromVisualIndex(u);null!==c&&(a+=this.hot.view._wt.wtTable.getRowHeight(c)||23)}return a}},{key:"moveBySettingsOrLoad",value:function(){var i=this.hot.getSettings()[N5];if(Array.isArray(i))this.moveRows(i,0);else if(void 0!==i){var o=this.persistentStateLoad();o.length&&this.moveRows(o,0)}}},{key:"isFixedRowTop",value:function(i){return i<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(i){return i>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var i={};return this.hot.runHooks("persistentStateLoad","manualRowMove",i),i.value?i.value:[]}},{key:"prepareRowsToMoving",value:function(){var i=this.hot.getSelectedRangeLast(),o=[];if(!i)return o;var s=i.from,a=i.to;return Hr(Math.min(s.row,a.row),Math.max(s.row,a.row),function(f){o.push(f)}),o}},{key:"refreshPositions",value:function(){var i=_y.get(this),o=i.target.coords,s=this.hot.view.getFirstFullyVisibleRow(),a=this.hot.view.getLastFullyVisibleRow(),u=this.hot.countRows();this.isFixedRowTop(o.row)&&s>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(s-1,-1)),this.isFixedRowBottom(o.row)&&a<u&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(a+1,1),void 0,!0);var c=this.hot.view._wt.wtTable,f=i.target.TD,p=Ba(this.hot.rootElement),g=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,o.row-1),y=i.target.eventPageY-p.top+c.holder.scrollTop,w=c.hider.offsetHeight,M=c.TBODY.offsetTop,C=this.backlight.getOffset().top,I=this.backlight.getSize().height;this.isFixedRowTop(o.row)&&(g+=c.holder.scrollTop),o.row<0?i.target.row=s>0?s-1:s:f.offsetHeight/2+g<=y?(i.target.row=o.row+1,g+=0===o.row?f.offsetHeight-1:f.offsetHeight):i.target.row=o.row;var B=y,U=g;y+I+C>=w?B=w-I-C:y+C<M&&(B=M+Math.abs(C)),g>=w-1&&(U=w-1),this.backlight.setPosition(B),this.guideline.setPosition(U)}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){var u=this.hot.view._wt,c=u.wtTable,f=u.wtViewport,p=this.hot.selection.isSelectedByRowHeader(),g=this.hot.getSelectedRangeLast(),y=_y.get(this);if(!g||!p||y.pressed||0!==i.button)return y.pressed=!1,y.rowsToMove.length=0,void Ii(this.hot.rootElement,[F5,xN]);var w=this.guideline.isBuilt()&&!this.guideline.isAppended(),M=this.backlight.isBuilt()&&!this.backlight.isAppended();w&&M&&(this.guideline.appendTo(c.hider),this.backlight.appendTo(c.hider));var C=g.from,I=g.to,B=Math.min(C.row,I.row),U=Math.max(C.row,I.row);if(o.col<0&&o.row>=B&&o.row<=U){a.row=!0,y.pressed=!0,y.target.eventPageY=i.pageY,y.target.coords=o,y.target.TD=s,y.rowsToMove=this.prepareRowsToMoving();var j=c.holder.scrollLeft+f.getRowHeaderWidth();this.backlight.setPosition(null,j),this.backlight.setSize(c.hider.offsetWidth-j,this.getRowsHeight(B,U)),this.backlight.setOffset(-1*(this.getRowsHeight(B,o.row-1)+i.offsetY),null),Cn(this.hot.rootElement,F5),this.refreshPositions()}else Ii(this.hot.rootElement,H5),y.pressed=!1,y.rowsToMove.length=0}},{key:"onMouseMove",value:function(i){var o=_y.get(this);if(o.pressed){if(i.target===this.backlight.element){var s=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,s)})}o.target.eventPageY=i.pageY,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u=this.hot.getSelectedRangeLast(),c=_y.get(this);!u||!c.pressed||(c.rowsToMove.indexOf(o.row)>-1?Ii(this.hot.rootElement,xN):Cn(this.hot.rootElement,xN),a.row=!0,a.column=!0,a.cell=!0,c.target.coords=o,c.target.TD=s)}},{key:"onMouseUp",value:function(){var i=_y.get(this),o=i.target.row,s=i.rowsToMove.length;if(i.pressed=!1,i.backlightHeight=0,Ii(this.hot.rootElement,[F5,xN,H5]),this.hot.selection.isSelectedByRowHeader()&&Cn(this.hot.rootElement,H5),!(s<1||void 0===o)){var u=this.hot.toPhysicalRow(i.rowsToMove[0]),c=this.dragRows(i.rowsToMove,o);if(i.rowsToMove.length=0,!0===c){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var f=this.hot.toVisualRow(u);this.hot.selectRows(f,f+s-1)}}}},{key:"onAfterScrollHorizontally",value:function(){var i=this.hot.view._wt.wtTable,a=this.hot.view._wt.wtViewport.getRowHeaderWidth()+i.holder.scrollLeft;this.backlight.setPosition(null,a),this.backlight.setSize(i.hider.offsetWidth-a)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),yw($m(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return N5}},{key:"PLUGIN_PRIORITY",get:function(){return 140}}]),t}(Go);function B5(n){return(B5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Vce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _w(){return _w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=ytt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},_w.apply(this,arguments)}function ytt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Xm(n)););return n}function V5(n,e){return(V5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function wtt(n,e){if(e&&("object"===B5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return z5(n)}function z5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Xm(n){return(Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Uce,jce,Wce,Yce,CN="manualRowResize",zce="manualRowHeights",U5=new WeakMap,xtt=function(n){!function _tt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&V5(n,e)}(t,n);var e=function btt(n){var e=function Mtt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Xm(n);if(e){var o=Xm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return wtt(this,i)}}(t);function t(r){var i;!function gtt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,r)).hot.rootDocument;return i.currentTH=null,i.currentRow=null,i.selectedRows=[],i.currentHeight=null,i.newSize=null,i.startY=null,i.startHeight=null,i.startOffset=null,i.handle=o.createElement("DIV"),i.guide=o.createElement("DIV"),i.eventManager=new ea(z5(i)),i.pressed=null,i.dblclick=0,i.autoresizeTimeout=null,i.rowHeightsMap=void 0,U5.set(z5(i),{config:void 0}),Cn(i.handle,"manualRowResizer"),Cn(i.guide,"manualRowResizerGuide"),i}return function vtt(n,e,t){e&&Vce(n.prototype,e),t&&Vce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"inlineDir",get:function(){return this.hot.isRtl()?"right":"left"}},{key:"isEnabled",value:function(){return this.hot.getSettings()[CN]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.rowHeightsMap=new Zv,this.rowHeightsMap.addLocalHook("init",function(){return i.onMapInit()}),this.hot.rowIndexMapper.registerMap(this.pluginName,this.rowHeightsMap),this.addHook("modifyRowHeight",function(o,s){return i.onModifyRowHeight(o,s)}),this.bindEvents(),_w(Xm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),_w(Xm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){U5.get(this).config=this.rowHeightsMap.getValues(),this.hot.rowIndexMapper.unregisterMap(this.pluginName),_w(Xm(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave",zce,this.rowHeightsMap.getValues())}},{key:"loadManualRowHeights",value:function(){var i={};return this.hot.runHooks("persistentStateLoad",zce,i),i.value}},{key:"setManualSize",value:function(i,o){var s=this.hot.toPhysicalRow(i),a=Math.max(o,Zte.DEFAULT_HEIGHT);return this.rowHeightsMap.setValueAtIndex(s,a),a}},{key:"setupHandlePosition",value:function(i){var o=this;this.currentTH=i;var s=this.hot.view,a=s._wt,u=a.wtTable.getCoords(this.currentTH),c=u.row;if(!(c<0)){var w,f=us(this.currentTH),p=this.currentTH.getBoundingClientRect(),g=c<a.getSetting("fixedRowsTop"),y=c>=s.countNotHiddenRowIndexes(0,1)-a.getSetting("fixedRowsBottom");g?w=a.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col):y&&(w=a.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col)),w||(w=a.wtOverlays.inlineStartOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col)),this.currentRow=this.hot.rowIndexMapper.getVisualFromRenderableIndex(c),this.selectedRows=[];var M=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();this.hot.selection.isSelected()&&M&&Qe(this.hot.getSelectedRange(),function(I){Hr(I.getTopStartCorner().row,I.getBottomStartCorner().row,function(j){o.selectedRows.includes(j)||o.selectedRows.push(j)})}),this.selectedRows.includes(this.currentRow)||(this.selectedRows=[this.currentRow]),this.startOffset=w.top-6,this.startHeight=parseInt(p.height,10),this.handle.style.top="".concat(this.startOffset+this.startHeight,"px"),this.handle.style[this.inlineDir]="".concat(w.start,"px"),this.handle.style.width="".concat(f,"px"),this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top="".concat(this.startOffset+this.currentHeight,"px")}},{key:"setupGuidePosition",value:function(){var i=parseInt(us(this.handle),10),o=parseInt(this.handle.style[this.inlineDir],10)+i,s=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);Cn(this.handle,"active"),Cn(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style[this.inlineDir]="".concat(o,"px"),this.guide.style.width="".concat(s-i,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){Ii(this.handle,"active"),Ii(this.guide,"active")}},{key:"checkIfRowHeader",value:function(i){var o,s;return wb(i,["TH"],this.hot.rootElement)&&"TBODY"===(null===(o=i.parentNode)||void 0===o||null===(s=o.parentNode)||void 0===s?void 0:s.tagName)}},{key:"getClosestTHParent",value:function(i){return"TABLE"!==i.tagName?"TH"===i.tagName?i:this.getClosestTHParent(i.parentNode):null}},{key:"getActualRowHeight",value:function(i){var o=this.hot.view._wt.wtTable.getRowHeight(i);return void 0!==o&&this.newSize<o?o:this.newSize}},{key:"onMouseOver",value:function(i){if(!KQ(i.target)&&this.checkIfRowHeader(i.target)){var o=this.getClosestTHParent(i.target);o&&(this.pressed||this.setupHandlePosition(o))}}},{key:"afterMouseDownTimeout",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,f){var p=i.hot.runHooks("beforeRowResize",i.getActualRowHeight(c),c,!0);void 0!==p&&(i.newSize=p),i.setManualSize(c,i.newSize),i.hot.runHooks("afterRowResize",i.getActualRowHeight(c),c,!0),f&&o()};this.dblclick>=2&&(this.selectedRows.length>1?(Qe(this.selectedRows,function(u){s(u)}),o()):Qe(this.selectedRows,function(u){s(u,!0)})),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(i){var o=this;_i(i.target,"manualRowResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return o.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startY=i.pageY,this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(i){var o=this;this.pressed&&(this.currentHeight=this.startHeight+(i.pageY-this.startY),Qe(this.selectedRows,function(s){o.newSize=o.setManualSize(s,o.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,f){i.hot.runHooks("beforeRowResize",i.getActualRowHeight(c),c,!1),f&&o(),i.saveManualRowHeights(),i.hot.runHooks("afterRowResize",i.getActualRowHeight(c),c,!1)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startHeight&&(this.selectedRows.length>1?(Qe(this.selectedRows,function(u){s(u)}),o()):Qe(this.selectedRows,function(u){s(u,!0)})),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var i=this,o=this.hot,s=o.rootElement,a=o.rootWindow;this.eventManager.addEventListener(s,"mouseover",function(u){return i.onMouseOver(u)}),this.eventManager.addEventListener(s,"mousedown",function(u){return i.onMouseDown(u)}),this.eventManager.addEventListener(a,"mousemove",function(u){return i.onMouseMove(u)}),this.eventManager.addEventListener(a,"mouseup",function(){return i.onMouseUp()})}},{key:"onModifyRowHeight",value:function(i,o){var s=i;if(this.enabled){var a=this.hot.toPhysicalRow(o),u=this.rowHeightsMap.getValueAtIndex(a);this.hot.getSettings()[CN]&&u&&(s=u)}return s}},{key:"onMapInit",value:function(){var i=this,o=U5.get(this),s=this.hot.getSettings()[CN],a=this.loadManualRowHeights();this.hot.batchExecution(function(){void 0!==a?a.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)}):Array.isArray(s)?(s.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)}),o.config=s):!0===s&&Array.isArray(o.config)&&o.config.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)})},!0)}},{key:"destroy",value:function(){_w(Xm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return CN}},{key:"PLUGIN_PRIORITY",get:function(){return 30}}]),t}(Go);function EN(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Gce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const lp=function(){function n(e,t,r,i,o,s){(function Ctt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.row=e,this.col=t,this.rowspan=r,this.colspan=i,this.removed=!1,this.cellCoordsFactory=o,this.cellRangeFactory=s}return function Ett(n,e,t){e&&Gce(n.prototype,e),t&&Gce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"normalize",value:function(t){var r=t.countRows(),i=t.countCols();this.row<0?this.row=0:this.row>r-1&&(this.row=r-1),this.col<0?this.col=0:this.col>i-1&&(this.col=i-1),this.row+this.rowspan>r-1&&(this.rowspan=r-this.row),this.col+this.colspan>i-1&&(this.colspan=i-this.col)}},{key:"includes",value:function(t,r){return this.row<=t&&this.col<=r&&this.row+this.rowspan-1>=t&&this.col+this.colspan-1>=r}},{key:"includesHorizontally",value:function(t){return this.col<=t&&this.col+this.colspan-1>=t}},{key:"includesVertically",value:function(t){return this.row<=t&&this.row+this.rowspan-1>=t}},{key:"shift",value:function(t,r){var i=t[0]||t[1],o=r+Math.abs(t[0]||t[1])-1,s=t[0]?"colspan":"rowspan",a=t[0]?"col":"row",u=Math.min(r,o),c=Math.max(r,o),f=this[a],p=this[a]+this[s]-1;if(f>=r&&(this[a]+=i),i>0)r<=p&&r>f&&(this[s]+=i);else if(i<0){if(u<=f&&c>=p)return this.removed=!0,!1;if(f>=u&&f<=c){var g=c-f+1,y=Math.abs(i)-g;this[a]-=y+i,this[s]-=g}else f<=u&&p>=c?this[s]+=i:f<=u&&p>=u&&p<c&&(this[s]-=p-u+1)}return!0}},{key:"isFarther",value:function(t,r){return!t||("down"===r?t.row+t.rowspan-1<this.row+this.rowspan-1:"up"===r?t.row>this.row:"right"===r?t.col+t.colspan-1<this.col+this.colspan-1:"left"===r?t.col>this.col:null)}},{key:"getLastRow",value:function(){return this.row+this.rowspan-1}},{key:"getLastColumn",value:function(){return this.col+this.colspan-1}},{key:"getRange",value:function(){return this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))}}],[{key:"NEGATIVE_VALUES_WARNING",value:function(t){return cs(Uce||(Uce=EN(["The merged cell declared with {row: ",", col: ",", \n      rowspan: ",", colspan: ","} contains negative values, which is \n      not supported. It will not be added to the collection."],["The merged cell declared with {row: ",", col: ",",\\x20\n      rowspan: ",", colspan: ","} contains negative values, which is\\x20\n      not supported. It will not be added to the collection."])),t.row,t.col,t.rowspan,t.colspan)}},{key:"IS_OUT_OF_BOUNDS_WARNING",value:function(t){return cs(jce||(jce=EN(["The merged cell declared at [",", ","] is positioned \n      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup."],["The merged cell declared at [",", ","] is positioned\\x20\n      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup."])),t.row,t.col)}},{key:"IS_SINGLE_CELL",value:function(t){return cs(Wce||(Wce=EN(["The merged cell declared at [",", ",'] has both "rowspan" \n      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has both "rowspan"\\x20\n      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'])),t.row,t.col)}},{key:"ZERO_SPAN_WARNING",value:function(t){return cs(Yce||(Yce=EN(["The merged cell declared at [",", ",'] has "rowspan" \n      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has "rowspan"\\x20\n      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.'])),t.row,t.col)}},{key:"containsNegativeValues",value:function(t){return t.row<0||t.col<0||t.rowspan<0||t.colspan<0}},{key:"isSingleCell",value:function(t){return 1===t.colspan&&1===t.rowspan}},{key:"containsZeroSpan",value:function(t){return 0===t.colspan||0===t.rowspan}},{key:"isOutOfBounds",value:function(t,r,i){return t.row<0||t.col<0||t.row>=r||t.row+t.rowspan-1>=r||t.col>=i||t.col+t.colspan-1>=i}}]),n}();function j5(n,e,t,r){e?e.row===t&&e.col===r?(n.setAttribute("rowspan",e.rowspan.toString()),n.setAttribute("colspan",e.colspan.toString())):(n.removeAttribute("rowspan"),n.removeAttribute("colspan"),n.style.display="none"):(n.removeAttribute("rowspan"),n.removeAttribute("colspan"),n.style.display="")}var $ce;function Xce(n){return function ktt(n){if(Array.isArray(n))return W5(n)}(n)||function Ott(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Att(n,e){if(n){if("string"==typeof n)return W5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return W5(n,e)}}(n)||function Dtt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Kce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Ntt=function(){function n(e){(function Ltt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.mergedCells=[],this.hot=e.hot}return function Itt(n,e,t){e&&Kce(n.prototype,e),t&&Kce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"get",value:function(t,r){var o=!1;return Qe(this.mergedCells,function(s){return!(s.row<=t&&s.row+s.rowspan-1>=t&&s.col<=r&&s.col+s.colspan-1>=r&&(o=s,1))}),o}},{key:"getByRange",value:function(t){var i=!1;return Qe(this.mergedCells,function(o){return!(o.row<=t.from.row&&o.row+o.rowspan-1>=t.to.row&&o.col<=t.from.col&&o.col+o.colspan-1>=t.to.col)||(i=o)}),i}},{key:"getWithinRange",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.mergedCells,s=[],a=t;if(!a.includesRange){var u=this.hot._createCellCoords(a.from.row,a.from.col),c=this.hot._createCellCoords(a.to.row,a.to.col);a=this.hot._createCellRange(u,u,c)}return Qe(o,function(f){var p=r.hot._createCellCoords(f.row,f.col),g=r.hot._createCellCoords(f.row+f.rowspan-1,f.col+f.colspan-1),y=r.hot._createCellRange(p,p,g);i?a.overlaps(y)&&s.push(f):a.includesRange(y)&&s.push(f)}),!!s.length&&s}},{key:"add",value:function(t){var r=this.mergedCells,i=t.row,o=t.col,u=new lp(i,o,t.rowspan,t.colspan,this.hot._createCellCoords,this.hot._createCellRange),c=this.get(i,o),f=this.isOverlapping(u);return c||f?(xs(n.IS_OVERLAPPING_WARNING(u)),!1):(this.hot&&u.normalize(this.hot),r.push(u),u)}},{key:"remove",value:function(t,r){var i=this.mergedCells,o=this.get(t,r),s=o?this.mergedCells.indexOf(o):-1;return!(!o||-1===s)&&(i.splice(s,1),o)}},{key:"clear",value:function(){var t=this,i=[],o=[];Qe(this.mergedCells,function(s){var a=t.hot.getCell(s.row,s.col);a&&i.push([a,t.get(s.row,s.col),s.row,s.col])}),this.mergedCells.length=0,Qe(i,function(s,a){Hr(0,s.rowspan-1,function(u){Hr(0,s.colspan-1,function(c){if(0!==c||0!==u){var f=t.hot.getCell(s.row+u,s.col+c);f&&o.push([f,null,null,null])}})}),i[a][1]=null}),Qe(i,function(s){j5.apply(void 0,Xce(s))}),Qe(o,function(s){j5.apply(void 0,Xce(s))})}},{key:"isOverlapping",value:function(t){var r=this,i=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(t.row,t.col),this.hot._createCellCoords(t.row+t.rowspan-1,t.col+t.colspan-1)),o=!1;return Qe(this.mergedCells,function(s){return!r.hot._createCellRange(r.hot._createCellCoords(0,0),r.hot._createCellCoords(s.row,s.col),r.hot._createCellCoords(s.row+s.rowspan-1,s.col+s.colspan-1)).overlaps(i)||(o=!0,!1)}),o}},{key:"isFirstRenderableMergedCell",value:function(t,r){var i=this.get(t,r);return i&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1)===t&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1)===r}},{key:"getFirstRenderableCoords",value:function(t,r){var i=this.get(t,r);if(!i||this.isFirstRenderableMergedCell(t,r))return this.hot._createCellCoords(t,r);var o=this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1),s=this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1);return this.hot._createCellCoords(o,s)}},{key:"shiftCollections",value:function(t,r,i){var o=this,s=[0,0];switch(t){case"right":s[0]+=i;break;case"left":s[0]-=i;break;case"down":s[1]+=i;break;case"up":s[1]-=i}Qe(this.mergedCells,function(a){a.shift(s,r)}),nz(this.mergedCells.length-1,0,function(a){var u=o.mergedCells[a];u&&u.removed&&o.mergedCells.splice(o.mergedCells.indexOf(u),1)})}}],[{key:"IS_OVERLAPPING_WARNING",value:function(t){return cs($ce||($ce=function Rtt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The merged cell declared at [",", ","], overlaps \n      with the other declared merged cell. The overlapping merged cell was not added to the table, please \n      fix your setup."],["The merged cell declared at [",", ","], overlaps\\x20\n      with the other declared merged cell. The overlapping merged cell was not added to the table, please\\x20\n      fix your setup."])),t.row,t.col)}}]),n}();function bw(n,e){return function Vtt(n){if(Array.isArray(n))return n}(n)||function Btt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function Htt(n,e){if(n){if("string"==typeof n)return Zce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zce(n,e)}}(n,e)||function Ftt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function qce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Wtt=function(){function n(e){(function ztt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection,this.currentFillData=null}return function Utt(n,e,t){e&&qce(n.prototype,e),t&&qce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"correctSelectionAreaSize",value:function(t){if(t[0]===t[2]&&t[1]===t[3]){var r=this.mergedCellsCollection.get(t[0],t[1]);r&&(t[2]=t[0]+r.rowspan-1,t[3]=t[1]+r.colspan-1)}}},{key:"getDirection",value:function(t,r){return r[0]===t[0]&&r[1]===t[1]&&r[3]===t[3]?"down":r[2]===t[2]&&r[1]===t[1]&&r[3]===t[3]?"up":r[1]===t[1]&&r[2]===t[2]?"right":"left"}},{key:"snapDragArea",value:function(t,r,i,o){var s=r.slice(0),a=this.getAutofillSize(t,r,i),u=bw(t,4),c=u[0],f=u[1],p=u[2],g=u[3],w=["up","down"].indexOf(i)>-1?p-c+1:g-f+1,C=a-Math.floor(a/w)*w,I=this.getFarthestCollection(t,r,i,o);if(I)if("down"===i){var B=I.row+I.rowspan-c-C;s[2]+B>=this.plugin.hot.countRows()?s[2]-=C:s[2]+=C?B:0}else if("right"===i){var j=I.col+I.colspan-f-C;s[3]+j>=this.plugin.hot.countCols()?s[3]-=C:s[3]+=C?j:0}else if("up"===i){var se=p-C-I.row+1;s[0]+se<0?s[0]+=C:s[0]-=C?se:0}else if("left"===i){var re=g-C-I.col+1;s[1]+re<0?s[1]+=C:s[1]-=C?re:0}return this.updateCurrentFillCache({baseArea:t,dragDirection:i,foundMergedCells:o,fillSize:a,dragArea:s,cycleLength:w}),s}},{key:"updateCurrentFillCache",value:function(t){this.currentFillData||(this.currentFillData={}),Js(this.currentFillData,t)}},{key:"getAutofillSize",value:function(t,r,i){var o=bw(t,4),s=o[0],a=o[1],u=o[2],c=o[3],f=bw(r,4),p=f[0],g=f[1],y=f[2],w=f[3];switch(i){case"up":return s-p;case"down":return y-u;case"left":return a-g;case"right":return w-c;default:return null}}},{key:"getDragArea",value:function(t,r,i){var o=bw(t,4),s=o[0],a=o[1],u=o[2],c=o[3],f=bw(r,4),p=f[0],g=f[1],y=f[2],w=f[3];switch(i){case"up":return[p,g,s-1,c];case"down":return[u+1,a,y,c];case"left":return[p,g,u,a-1];case"right":return[s,c+1,y,w];default:return null}}},{key:"getFarthestCollection",value:function(t,r,i,o){var s=bw(t,4),a=s[0],u=s[1],c=s[2],f=s[3],p=["up","down"].indexOf(i)>-1,g=p?c:f,y=p?a:u,w=this.getAutofillSize(t,r,i),M=p?c-a+1:f-u+1,I=w-Math.floor(w/M)*M,B=null,U=null,j=null;switch(i){case"up":B="includesVertically",j=g-I+1;break;case"left":B="includesHorizontally",j=g-I+1;break;case"down":B="includesVertically",j=y+I-1;break;case"right":B="includesHorizontally",j=y+I-1}return Qe(o,function($){$[B](j)&&$.isFarther(U,i)&&(U=$)}),U}},{key:"recreateAfterDataPopulation",value:function(t){if(this.currentFillData){var r=this.getRangeFromChanges(t),i=this.currentFillData.foundMergedCells,o=this.currentFillData.dragDirection,s=function(g,y){switch(o){case"up":return g.row-y>=r.from.row;case"down":return g.row+g.rowspan-1+y<=r.to.row;case"left":return g.col-y>=r.from.column;case"right":return g.col+g.colspan-1+y<=r.to.column;default:return null}},a=0,u=null,c=1;do{for(var f=0;f<i.length;f+=1){if(s(u=i[f],a=c*this.currentFillData.cycleLength))switch(o){case"up":this.plugin.mergedCellsCollection.add({row:u.row-a,rowspan:u.rowspan,col:u.col,colspan:u.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:u.row+a,rowspan:u.rowspan,col:u.col,colspan:u.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:u.row,rowspan:u.rowspan,col:u.col-a,colspan:u.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:u.row,rowspan:u.rowspan,col:u.col+a,colspan:u.colspan})}f===i.length-1&&(c+=1)}}while(s(u,a));this.currentFillData=null,this.plugin.hot.render()}}},{key:"getRangeFromChanges",value:function(t){var r=this,i={min:null,max:null},o={min:null,max:null};return Qe(t,function(s){var a=s[0],u=r.plugin.hot.propToCol(s[1]);(null===i.min||a<i.min)&&(i.min=a),(null===i.max||a>i.max)&&(i.max=a),(null===o.min||u<o.min)&&(o.min=u),(null===o.max||u>o.max)&&(o.max=u)}),{from:{row:i.min,column:o.min},to:{row:i.max,column:o.max}}}},{key:"dragAreaOverlapsCollections",value:function(t,r,i){var s=bw(this.getDragArea(t,r,i),4),c=s[2],f=s[3],p=this.plugin.hot._createCellCoords(s[0],s[1]),g=this.plugin.hot._createCellCoords(c,f),y=this.plugin.hot._createCellRange(p,p,g);return!!this.mergedCellsCollection.getWithinRange(y,!0)}}]),n}();function Jce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Xtt=function(){function n(e){(function Ytt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=e.hot,this.fullySelectedMergedCellClassName="fullySelectedMergedCell"}return function Gtt(n,e,t){e&&Jce(n.prototype,e),t&&Jce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"snapDelta",value:function(t,r,i){var o=r.to,a=o.col+t.col;t.row?this.jumpOverMergedCell(t,i,o.row+t.row):t.col&&this.jumpOverMergedCell(t,i,a)}},{key:"jumpOverMergedCell",value:function(t,r,i){var o=t.row||t.col,s=null,a=null,u=null;t.row?(s=r.includesVertically(i),a=r.row,u=r.getLastRow()):t.col&&(s=r.includesHorizontally(i),a=r.col,u=r.getLastColumn()),0!==o&&(o>0?s&&i!==a&&(o+=u-i+1):s&&i!==u&&(o-=i-a+1),t.row?t.row=o:t.col&&(t.col=o))}},{key:"getUpdatedSelectionRange",value:function(t,r){return this.hot._createCellRange(t.highlight,t.from,this.hot._createCellCoords(t.to.row+r.row,t.to.col+r.col))}},{key:"getSelectedMergedCellClassName",value:function(t,r,i,o){var s=Math.min(i[0],i[2]),a=Math.min(i[1],i[3]),u=Math.max(i[0],i[2]),c=Math.max(i[1],i[3]);if(void 0!==o&&this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(t,r)){var p=this.plugin.mergedCellsCollection.get(t,r);if(p){var g=p.getLastRow(),y=p.getLastColumn();if(s<=p.row&&a<=p.col&&u>=g&&c>=y)return"".concat(this.fullySelectedMergedCellClassName,"-").concat(o);if(this.plugin.selectionCalculations.isMergeCellFullySelected(p,this.plugin.hot.getSelectedRange()))return"".concat(this.fullySelectedMergedCellClassName,"-multiple")}}}},{key:"isMergeCellFullySelected",value:function(t,r){var i=[];if(!r||!t)return!1;for(var o=0;o<t.rowspan;o+=1)for(var s=0;s<t.colspan;s+=1)i.push(this.hot._createCellCoords(t.row+o,t.col+s));for(var a=0;a<i.length;a+=1){for(var u=[],c=0;c<r.length;c+=1)u[c]=r[c].includes(i[a]);if(!u.includes(!0))return!1}return!0}},{key:"getSelectedMergedCellClassNameToRemove",value:function(){for(var t=[],r=0;r<=7;r+=1)t.push("".concat(this.fullySelectedMergedCellClassName,"-").concat(r));return t.push("".concat(this.fullySelectedMergedCellClassName,"-multiple")),t}}]),n}();function Y5(n){return(Y5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Qce(n,e){return function Jtt(n){if(Array.isArray(n))return n}(n)||function qtt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||tde(n,e)||function Ztt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ede(n){return function tnt(n){if(Array.isArray(n))return G5(n)}(n)||function ent(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||tde(n)||function Qtt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tde(n,e){if(n){if("string"==typeof n)return G5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G5(n,e)}}function G5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function nde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Rx(){return Rx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=int(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Rx.apply(this,arguments)}function int(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=by(n)););return n}function $5(n,e){return($5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ant(n,e){if(e&&("object"===Y5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rde(n)}function rde(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function by(n){return(by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}wr.getSingleton().register("beforeMergeCells"),wr.getSingleton().register("afterMergeCells"),wr.getSingleton().register("beforeUnmergeCells"),wr.getSingleton().register("afterUnmergeCells");var lde,iR="mergeCells",ide=new WeakMap,ode=iR,cnt=function(n){!function ont(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&$5(n,e)}(t,n);var e=function snt(n){var e=function lnt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=by(n);if(e){var o=by(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ant(this,i)}}(t);function t(r){var i;return function nnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),ide.set(rde(i),{lastDesiredCoords:null}),i.mergedCellsCollection=null,i.autofillCalculations=null,i.selectionCalculations=null,i}return function rnt(n,e,t){e&&nde(n.prototype,e),t&&nde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[iR]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.mergedCellsCollection=new Ntt(this),this.autofillCalculations=new Wtt(this),this.selectionCalculations=new Xtt(this),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("modifyTransformStart",function(){return i.onModifyTransformStart.apply(i,arguments)}),this.addHook("afterModifyTransformStart",function(){return i.onAfterModifyTransformStart.apply(i,arguments)}),this.addHook("modifyTransformEnd",function(){return i.onModifyTransformEnd.apply(i,arguments)}),this.addHook("modifyGetCellCoords",function(){return i.onModifyGetCellCoords.apply(i,arguments)}),this.addHook("beforeSetRangeStart",function(){return i.onBeforeSetRangeStart.apply(i,arguments)}),this.addHook("beforeSetRangeStartOnly",function(){return i.onBeforeSetRangeStart.apply(i,arguments)}),this.addHook("beforeSetRangeEnd",function(){return i.onBeforeSetRangeEnd.apply(i,arguments)}),this.addHook("afterIsMultipleSelection",function(){return i.onAfterIsMultipleSelection.apply(i,arguments)}),this.addHook("afterRenderer",function(){return i.onAfterRenderer.apply(i,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return i.addMergeActionsToContextMenu.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(){return i.onAfterGetCellMeta.apply(i,arguments)}),this.addHook("afterViewportRowCalculatorOverride",function(){return i.onAfterViewportRowCalculatorOverride.apply(i,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return i.onAfterViewportColumnCalculatorOverride.apply(i,arguments)}),this.addHook("modifyAutofillRange",function(){return i.onModifyAutofillRange.apply(i,arguments)}),this.addHook("afterCreateCol",function(){return i.onAfterCreateCol.apply(i,arguments)}),this.addHook("afterRemoveCol",function(){return i.onAfterRemoveCol.apply(i,arguments)}),this.addHook("afterCreateRow",function(){return i.onAfterCreateRow.apply(i,arguments)}),this.addHook("afterRemoveRow",function(){return i.onAfterRemoveRow.apply(i,arguments)}),this.addHook("afterChange",function(){return i.onAfterChange.apply(i,arguments)}),this.addHook("beforeDrawBorders",function(){return i.onBeforeDrawAreaBorders.apply(i,arguments)}),this.addHook("afterDrawSelection",function(){return i.onAfterDrawSelection.apply(i,arguments)}),this.addHook("beforeRemoveCellClassNames",function(){return i.onBeforeRemoveCellClassNames.apply(i,arguments)}),this.addHook("beforeUndoStackChange",function(o,s){if("MergeCells"===s)return!1}),this.registerShortcuts(),Rx(by(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),Rx(by(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var i=this.hot.getSettings()[iR];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(i),Rx(by(t.prototype),"updatePlugin",this).call(this)}},{key:"validateSetting",value:function(i){var o=!0;return!!i&&(lp.containsNegativeValues(i)?(xs(lp.NEGATIVE_VALUES_WARNING(i)),o=!1):lp.isOutOfBounds(i,this.hot.countRows(),this.hot.countCols())?(xs(lp.IS_OUT_OF_BOUNDS_WARNING(i)),o=!1):lp.isSingleCell(i)?(xs(lp.IS_SINGLE_CELL(i)),o=!1):lp.containsZeroSpan(i)&&(xs(lp.ZERO_SPAN_WARNING(i)),o=!1),o)}},{key:"generateFromSettings",value:function(i){var o=this;if(Array.isArray(i)){var s,a=[];Qe(i,function(c){if(o.validateSetting(c)){var f=o.hot._createCellCoords(c.row,c.col),p=o.hot._createCellCoords(c.row+c.rowspan-1,c.col+c.colspan-1),g=o.hot._createCellRange(f,f,p);a.push(o.mergeRange(g,!0,!0))}}),a=a.filter(function(c){return!0!==c});var u=this.getBulkCollectionData(a);(s=this.hot).populateFromArray.apply(s,ede(u))}}},{key:"getBulkCollectionData",value:function(i){var o,s=this.getBulkCollectionDataRange(i),u=(o=this.hot).getData.apply(o,ede(s)).splice(0);return Qe(i,function(c){var f=Qce(c,3),p=f[0],g=f[1];Qe(f[2],function(w,M){Qe(w,function(C,I){u[p-s[0]+M][g-s[1]+I]=C})})}),[s[0],s[1],u]}},{key:"getBulkCollectionDataRange",value:function(i){var o=[0,0],s=[0,0],a=null,u=null,c=null;return Qe(i,function(f){a=f[0],u=f[1],c=f[2],o[0]=Math.min(a,o[0]),o[1]=Math.min(u,o[1]),s[0]=Math.max(a+c.length-1,s[0]),s[1]=Math.max(u+c[0].length-1,s[1])}),[].concat(o,s)}},{key:"clearCollections",value:function(){this.mergedCellsCollection.clear()}},{key:"canMergeRange",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!o||this.validateSetting(i)}},{key:"toggleMergeOnSelection",value:function(){var i=this.hot.getSelectedRangeLast();if(i){i.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");var o=i.from,s=i.to;this.toggleMerge(i),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"mergeSelection",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(i){i.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");var o=i.from,s=i.to;this.unmergeRange(i,!0),this.mergeRange(i),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"unmergeSelection",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(i){var o=i.from,s=i.to;this.unmergeRange(i,!0),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"mergeRange",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=i.getTopStartCorner(),c=i.getBottomEndCorner(),f={row:u.row,col:u.col,rowspan:c.row-u.row+1,colspan:c.col-u.col+1},p=[],g=null;if(!this.canMergeRange(f,s))return!1;this.hot.runHooks("beforeMergeCells",i,s),Hr(0,f.rowspan-1,function(w){Hr(0,f.colspan-1,function(M){var C=null;p[w]||(p[w]=[]),0===w&&0===M?C=o.hot.getDataAtCell(f.row,f.col):o.hot.setCellMeta(f.row+w,f.col+M,"hidden",!0),p[w][M]=C})}),this.hot.setCellMeta(f.row,f.col,"spanned",!0);var y=this.mergedCellsCollection.add(f);return!y||(a?g=[f.row,f.col,p]:this.hot.populateFromArray(f.row,f.col,p,void 0,void 0,this.pluginName),this.hot.runHooks("afterMergeCells",i,f,s),g)}},{key:"unmergeRange",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.mergedCellsCollection.getWithinRange(i);!a||(this.hot.runHooks("beforeUnmergeCells",i,s),Qe(a,function(u){o.mergedCellsCollection.remove(u.row,u.col),Hr(0,u.rowspan-1,function(c){Hr(0,u.colspan-1,function(f){o.hot.removeCellMeta(u.row+c,u.col+f,"hidden")})}),o.hot.removeCellMeta(u.row,u.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",i,s),this.hot.render())}},{key:"toggleMerge",value:function(i){var o=this.mergedCellsCollection.get(i.from.row,i.from.col);o.row===i.from.row&&o.col===i.from.col&&o.row+o.rowspan-1===i.to.row&&o.col+o.colspan-1===i.to.col?this.unmergeRange(i):this.mergeSelection(i)}},{key:"merge",value:function(i,o,s,a){var u=this.hot._createCellCoords(i,o),c=this.hot._createCellCoords(s,a);this.mergeRange(this.hot._createCellRange(u,u,c))}},{key:"unmerge",value:function(i,o,s,a){var u=this.hot._createCellCoords(i,o),c=this.hot._createCellCoords(s,a);this.unmergeRange(this.hot._createCellRange(u,u,c))}},{key:"onAfterInit",value:function(){this.generateFromSettings(this.hot.getSettings()[iR]),this.hot.render()}},{key:"registerShortcuts",value:function(){var i=this;this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:function(){i.toggleMerge(i.hot.getSelectedRangeLast()),i.hot.render()},runOnlyIf:function(u){return!u.altKey},group:ode})}},{key:"unregisterShortcuts",value:function(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(ode)}},{key:"onAfterIsMultipleSelection",value:function(i){if(i)for(var o=this.mergedCellsCollection.mergedCells,s=this.hot.getSelectedRangeLast(),a=0;a<o.length;a+=1)if(s.from.row===o[a].row&&s.from.col===o[a].col&&s.to.row===o[a].row+o[a].rowspan-1&&s.to.col===o[a].col+o[a].colspan-1)return!1;return i}},{key:"onModifyTransformStart",value:function(i){var u,o=ide.get(this),s=this.hot.getSelectedRangeLast(),a={row:i.row,col:i.col},c=this.hot._createCellCoords(s.highlight.row,s.highlight.col),f=this.mergedCellsCollection.get(c.row,c.col);if(o.lastDesiredCoords||(o.lastDesiredCoords=this.hot._createCellCoords(null,null)),f){var p=this.hot._createCellCoords(f.row,f.col),g=this.hot._createCellCoords(f.row+f.rowspan-1,f.col+f.colspan-1);this.hot._createCellRange(p,p,g).includes(o.lastDesiredCoords)||(o.lastDesiredCoords=this.hot._createCellCoords(null,null)),a.row=o.lastDesiredCoords.row?o.lastDesiredCoords.row-c.row:a.row,a.col=o.lastDesiredCoords.col?o.lastDesiredCoords.col-c.col:a.col,i.row>0?a.row=f.row+f.rowspan-1-c.row+i.row:i.row<0&&(a.row=c.row-f.row+i.row),i.col>0?a.col=f.col+f.colspan-1-c.col+i.col:i.col<0&&(a.col=c.col-f.col+i.col)}u=this.hot._createCellCoords(s.highlight.row+a.row,s.highlight.col+a.col);var w=this.mergedCellsCollection.get(u.row,u.col);if(w){var M=this.mergedCellsCollection.getFirstRenderableCoords(w.row,w.col);o.lastDesiredCoords=u,a={row:M.row-c.row,col:M.col-c.col}}0!==a.row&&(i.row=a.row),0!==a.col&&(i.col=a.col)}},{key:"onModifyTransformEnd",value:function(i){var o=this,s=this.hot.getSelectedRangeLast(),a=mc(i),u=this.selectionCalculations.getUpdatedSelectionRange(s,i),c=mc(a),f=this.mergedCellsCollection.getWithinRange(u,!0);do{c=mc(a),this.selectionCalculations.getUpdatedSelectionRange(s,a),Qe(f,function(p){o.selectionCalculations.snapDelta(a,s,p)})}while(a.row!==c.row||a.col!==c.col);i.row=a.row,i.col=a.col}},{key:"onModifyGetCellCoords",value:function(i,o){if(!(i<0||o<0)){var s=this.mergedCellsCollection.get(i,o);if(s){var a=s.row,u=s.col;return[a,u,a+s.rowspan-1,u+s.colspan-1]}}}},{key:"addMergeActionsToContextMenu",value:function(i){i.items.push({name:"---------"},function Ktt(n){return{key:"mergeCells",name:function(){var t=this.getSelectedLast();if(t){var r=n.mergedCellsCollection.get(t[0],t[1]);if(r.row===t[0]&&r.col===t[1]&&r.row+r.rowspan-1===t[2]&&r.col+r.colspan-1===t[3])return this.getTranslatedPhrase(rj)}return this.getTranslatedPhrase(nj)},callback:function(){n.toggleMergeOnSelection()},disabled:function(){var t=this.getSelectedLast();return!t||lp.isSingleCell({row:t[0],col:t[1],rowspan:t[2]-t[0]+1,colspan:t[3]-t[1]+1})||this.selection.isSelectedByCorner()},hidden:!1}}(this))}},{key:"onAfterRenderer",value:function(i,o,s){var a=this.mergedCellsCollection.get(o,s),u=ji(a)?mc(a):void 0;if(ji(u)){var c=this.hot,f=c.rowIndexMapper,p=c.columnIndexMapper,I=Qce(this.translateMergedCellToRenderable(u.row,u.rowspan,u.col,u.colspan),2),U=I[1],se=I[0]-f.getRenderableFromVisualIndex(o)+1,ge=U-p.getRenderableFromVisualIndex(s)+1;u.row=f.getNearestNotHiddenIndex(u.row,1),u.col=p.getNearestNotHiddenIndex(u.col,1),u.rowspan=Math.min(u.rowspan,se),u.colspan=Math.min(u.colspan,ge)}j5(i,u,o,s)}},{key:"onBeforeSetRangeStart",value:function(i){if(this.mergedCellsCollection.isFirstRenderableMergedCell(i.row,i.col)){var o=this.mergedCellsCollection.get(i.row,i.col),s=[o.row,o.col];i.row=s[0],i.col=s[1]}}},{key:"onBeforeSetRangeEnd",value:function(i){var o=this.hot.getSelectedRangeLast();o.highlight=this.hot._createCellCoords(o.highlight.row,o.highlight.col),o.to=i;var s=!1;if(!this.hot.selection.isSelectedByColumnHeader()&&!this.hot.selection.isSelectedByRowHeader())do{s=!1;for(var a=0;a<this.mergedCellsCollection.mergedCells.length;a+=1){var c=this.mergedCellsCollection.mergedCells[a].getRange();o.expandByRange(c)&&(i.row=o.to.row,i.col=o.to.col,s=!0)}}while(s)}},{key:"onAfterGetCellMeta",value:function(i,o,s){var a=this.mergedCellsCollection.get(i,o);a&&(a.row!==i||a.col!==o?s.copyable=!1:(s.rowspan=a.rowspan,s.colspan=a.colspan))}},{key:"onAfterViewportRowCalculatorOverride",value:function(i){var o=this.hot.countCols();this.modifyViewportRowStart(i,o),this.modifyViewportRowEnd(i,o)}},{key:"modifyViewportRowStart",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=s.getVisualFromRenderableIndex(i.startRow),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(a,u);if(ji(c)){var f=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.row,1));if(f<i.startRow)return i.startRow=f,void this.modifyViewportRowStart(i,o)}}}},{key:"modifyViewportRowEnd",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=s.getVisualFromRenderableIndex(i.endRow),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(a,u);if(ji(c)){var p=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.row+c.rowspan-1,-1));if(p>i.endRow)return i.endRow=p,void this.modifyViewportRowEnd(i,o)}}}},{key:"onAfterViewportColumnCalculatorOverride",value:function(i){var o=this.hot.countRows();this.modifyViewportColumnStart(i,o),this.modifyViewportColumnEnd(i,o)}},{key:"modifyViewportColumnStart",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=s.getVisualFromRenderableIndex(i.startColumn),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(u,a);if(ji(c)){var f=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.col,1));if(f<i.startColumn)return i.startColumn=f,void this.modifyViewportColumnStart(i,o)}}}},{key:"modifyViewportColumnEnd",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=s.getVisualFromRenderableIndex(i.endColumn),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(u,a);if(ji(c)){var p=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.col+c.colspan-1,-1));if(p>i.endColumn)return i.endColumn=p,void this.modifyViewportColumnEnd(i,o)}}}},{key:"translateMergedCellToRenderable",value:function(i,o,s,a){var p,g,u=this.hot,c=u.rowIndexMapper,f=u.columnIndexMapper;return p=0===o?c.getNearestNotHiddenIndex(i,1):c.getNearestNotHiddenIndex(i+o-1,-1),g=0===a?f.getNearestNotHiddenIndex(s,1):f.getNearestNotHiddenIndex(s+a-1,-1),[i>=0?c.getRenderableFromVisualIndex(p):i,s>=0?f.getRenderableFromVisualIndex(g):s]}},{key:"onModifyAutofillRange",value:function(i,o){this.autofillCalculations.correctSelectionAreaSize(o);var s=this.autofillCalculations.getDirection(o,i),a=i;if(this.autofillCalculations.dragAreaOverlapsCollections(o,a,s))return o;var u=this.mergedCellsCollection.getWithinRange({from:{row:o[0],col:o[1]},to:{row:o[2],col:o[3]}});return u&&(a=this.autofillCalculations.snapDragArea(o,a,s,u)),a}},{key:"onAfterCreateCol",value:function(i,o){this.mergedCellsCollection.shiftCollections("right",i,o)}},{key:"onAfterRemoveCol",value:function(i,o){this.mergedCellsCollection.shiftCollections("left",i,o)}},{key:"onAfterCreateRow",value:function(i,o,s){"auto"!==s&&this.mergedCellsCollection.shiftCollections("down",i,o)}},{key:"onAfterRemoveRow",value:function(i,o){this.mergedCellsCollection.shiftCollections("up",i,o)}},{key:"onAfterChange",value:function(i,o){"Autofill.fill"===o&&this.autofillCalculations.recreateAfterDataPopulation(i)}},{key:"onBeforeDrawAreaBorders",value:function(i,o){if(o&&"area"===o){var s=this.hot.getSelectedRangeLast();Qe(this.mergedCellsCollection.getWithinRange(s),function(u){s.getBottomEndCorner().row===u.getLastRow()&&s.getBottomEndCorner().col===u.getLastColumn()&&(i[2]=u.row,i[3]=u.col)})}}},{key:"onAfterModifyTransformStart",value:function(i,o,s){if(this.enabled){var a=this.mergedCellsCollection.get(i.row,i.col);if(a){var u=o>0,c=o<0,f=s<0,p=s>0,g=a.row+a.rowspan-1==this.hot.countRows()-1,y=0===a.row,w=a.col+a.colspan-1==this.hot.countCols()-1;(u&&g||c&&y||p&&w||f&&0===a.col)&&(i.row=a.row,i.col=a.col)}}}},{key:"onAfterDrawSelection",value:function(i,o,s,a){if(s)return this.selectionCalculations.getSelectedMergedCellClassName(i,o,s,a)}},{key:"onBeforeRemoveCellClassNames",value:function(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}}],[{key:"PLUGIN_KEY",get:function(){return iR}},{key:"PLUGIN_PRIORITY",get:function(){return 150}}]),t}(Go);function sde(n){return function pnt(n){if(Array.isArray(n))return n}(n)||function hnt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function fnt(n,e){if(n){if("string"==typeof n)return ade(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ade(n,e)}}(n)||function dnt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ade(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ude(){xs(cs(lde||(lde=function gnt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Plugins `columnSorting` and `multiColumnSorting` should not be enabled simultaneously. \n    Only `multiColumnSorting` will work."],["Plugins \\`columnSorting\\` and \\`multiColumnSorting\\` should not be enabled simultaneously. \n    Only \\`multiColumnSorting\\` will work."]))))}function vnt(n,e,t){var r=[];return!1===t||n.isColumnSorted(e)&&n.getNumberOfSortedColumns()>1&&r.push("".concat("sort","-").concat(n.getIndexOfColumnInSortQueue(e)+1)),r}function ynt(n){var e=n.className.split(" "),t=new RegExp("^".concat("sort","-[0-9]{1,2}$"));return e.filter(function(r){return t.test(r)})}function X5(n){return(X5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function dde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function sd(){return sd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=wnt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},sd.apply(this,arguments)}function wnt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Bu(n)););return n}function K5(n,e){return(K5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function xnt(n,e){if(e&&("object"===X5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Cnt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Bu(n){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Z5="multiColumnSorting",fde="columnSorting";wae(Z5,function mnt(n,e){return function(t,r){var o=sde(t).slice(1),a=sde(r).slice(1);return function u(c){var f=n[c],p=e[c],g=o[c],y=a[c],w=p.multiColumnSorting,C=(w.compareFunctionFactory?w.compareFunctionFactory:Mae(p.type))(f,p,w)(g,y);if(0===C){var I=c+1;if(void 0!==e[I])return u(I)}return C}(0)}});var Dnt=function(n){!function Mnt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&K5(n,e)}(t,n);var e=function Snt(n){var e=function Ent(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Bu(n);if(e){var o=Bu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xnt(this,i)}}(t);function t(r){var i;return function _nt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).pluginKey=Z5,i}return function bnt(n,e,t){e&&dde(n.prototype,e),t&&dde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return sd(Bu(t.prototype),"isEnabled",this).call(this)}},{key:"enablePlugin",value:function(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[fde]&&ude(),sd(Bu(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){sd(Bu(t.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(i){sd(Bu(t.prototype),"sort",this).call(this,i)}},{key:"clearSort",value:function(){sd(Bu(t.prototype),"clearSort",this).call(this)}},{key:"isSorted",value:function(){return sd(Bu(t.prototype),"isSorted",this).call(this)}},{key:"getSortConfig",value:function(i){return sd(Bu(t.prototype),"getSortConfig",this).call(this,i)}},{key:"setSortConfig",value:function(i){sd(Bu(t.prototype),"setSortConfig",this).call(this,i)}},{key:"getNormalizedSortConfigs",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(i)?i:[i]}},{key:"updateHeaderClasses",value:function(i){for(var o,s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=sd(Bu(t.prototype),"updateHeaderClasses",this)).call.apply(o,[this,i].concat(a)),Ii(i,ynt(i)),!1!==this.enabled&&Cn(i,vnt.apply(void 0,a))}},{key:"onUpdateSettings",value:function(i){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[fde]&&ude(),sd(Bu(t.prototype),"onUpdateSettings",this).call(this,i)}},{key:"onAfterOnCellMouseDown",value:function(i,o){!1!==IY(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(o.col),this.sort(this.getNextSortConfig(o.col,"append"))):this.sort(this.getColumnNextConfig(o.col)))}}],[{key:"PLUGIN_KEY",get:function(){return Z5}},{key:"PLUGIN_PRIORITY",get:function(){return 170}}]),t}(Aae);function q5(n){return(q5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function TN(){return TN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=knt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},TN.apply(this,arguments)}function knt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Dx(n)););return n}function J5(n,e){return(J5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Pnt(n,e){if(e&&("object"===q5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Nnt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Dx(n){return(Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Vnt=function(n){!function Lnt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&J5(n,e)}(t,n);var e=function Int(n){var e=function Fnt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Dx(n);if(e){var o=Dx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Pnt(this,i)}}(t);function t(r){var i;return function Ant(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).dragged=[],i.eventManager=null,i.lastSetCell=null,i}return function Ont(n,e,t){e&&hde(n.prototype,e),t&&hde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return $h()}},{key:"enablePlugin",value:function(){this.enabled||(this.eventManager||(this.eventManager=new ea(this)),this.registerListeners(),TN(Dx(t.prototype),"enablePlugin",this).call(this))}},{key:"registerListeners",value:function(){var i=this,o=this,s=this.hot.rootElement;function a(u){if(1===o.dragged.length)return o.dragged.splice(0,o.dragged.length),!0;var c=o.dragged.indexOf(u);if(-1===c)return!1;0===c?o.dragged=o.dragged.slice(0,1):1===c&&(o.dragged=o.dragged.slice(-1))}this.eventManager.addEventListener(s,"touchstart",function(u){var c;return _i(u.target,"topSelectionHandle-HitArea")?(c=o.hot.getSelectedRangeLast(),o.dragged.push("top"),o.touchStartRange={width:c.getWidth(),height:c.getHeight(),direction:c.getDirection()},u.preventDefault(),!1):_i(u.target,"bottomSelectionHandle-HitArea")?(c=o.hot.getSelectedRangeLast(),o.dragged.push("bottom"),o.touchStartRange={width:c.getWidth(),height:c.getHeight(),direction:c.getDirection()},u.preventDefault(),!1):void 0}),this.eventManager.addEventListener(s,"touchend",function(u){return _i(u.target,"topSelectionHandle-HitArea")?(a.call(o,"top"),o.touchStartRange=void 0,u.preventDefault(),!1):_i(u.target,"bottomSelectionHandle-HitArea")?(a.call(o,"bottom"),o.touchStartRange=void 0,u.preventDefault(),!1):void 0}),this.eventManager.addEventListener(s,"touchmove",function(u){var f,p,g,y,w,M;if(0!==o.dragged.length){var C=i.hot.rootDocument.elementFromPoint(u.touches[0].clientX,u.touches[0].clientY);!C||C===o.lastSetCell||(("TD"===C.nodeName||"TH"===C.nodeName)&&(-1===(f=o.hot.getCoords(C)).col&&(f.col=0),g=(p=o.hot.getSelectedRangeLast()).getWidth(),y=p.getHeight(),w=p.getDirection(),1===g&&1===y&&o.hot.selection.setRangeEnd(f),null!==(M=o.getCurrentRangeCoords(p,f,o.touchStartRange.direction,w,o.dragged[0])).start&&o.hot.selection.setRangeStart(M.start),o.hot.selection.setRangeEnd(M.end),o.lastSetCell=C),u.preventDefault())}})}},{key:"getCurrentRangeCoords",value:function(i,o,s,a,u){var c=i.getTopStartCorner(),f=i.getBottomEndCorner(),p=i.getBottomStartCorner(),g=i.getTopEndCorner(),y={start:null,end:null};switch(s){case"NE-SW":switch(a){case"NE-SW":case"NW-SE":y="top"===u?{start:this.hot._createCellCoords(o.row,i.highlight.col),end:this.hot._createCellCoords(p.row,o.col)}:{start:this.hot._createCellCoords(i.highlight.row,o.col),end:this.hot._createCellCoords(o.row,c.col)};break;case"SE-NW":"bottom"===u&&(y={start:this.hot._createCellCoords(f.row,o.col),end:this.hot._createCellCoords(o.row,c.col)})}break;case"NW-SE":switch(a){case"NE-SW":"top"===u?y={start:o,end:p}:y.end=o;break;case"NW-SE":"top"===u?y={start:o,end:f}:y.end=o;break;case"SE-NW":"top"===u?y={start:o,end:c}:y.end=o;break;case"SW-NE":"top"===u?y={start:o,end:g}:y.end=o}break;case"SW-NE":switch(a){case"NW-SE":y="bottom"===u?{start:this.hot._createCellCoords(o.row,c.col),end:this.hot._createCellCoords(p.row,o.col)}:{start:this.hot._createCellCoords(c.row,o.col),end:this.hot._createCellCoords(o.row,f.col)};break;case"SW-NE":y="top"===u?{start:this.hot._createCellCoords(i.highlight.row,o.col),end:this.hot._createCellCoords(o.row,f.col)}:{start:this.hot._createCellCoords(o.row,c.col),end:this.hot._createCellCoords(c.row,o.col)};break;case"SE-NW":"bottom"===u?y={start:this.hot._createCellCoords(o.row,g.col),end:this.hot._createCellCoords(c.row,o.col)}:"top"===u&&(y={start:p,end:o})}break;case"SE-NW":switch(a){case"NW-SE":case"NE-SW":case"SW-NE":"top"===u&&(y.end=o);break;case"SE-NW":"top"===u?y.end=o:y={start:o,end:c}}}return y}},{key:"isDragged",value:function(){return this.dragged.length>0}}],[{key:"PLUGIN_KEY",get:function(){return"multipleSelectionHandles"}},{key:"PLUGIN_PRIORITY",get:function(){return 160}}]),t}(Go);function Q5(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.label,t=void 0===e?"":e,r=n.colspan,i=void 0===r?1:r,o=n.origColspan,s=void 0===o?1:o,a=n.collapsible,u=void 0!==a&&a,c=n.crossHiddenColumns,f=void 0===c?[]:c,p=n.isCollapsed,g=void 0!==p&&p,y=n.isHidden,w=void 0!==y&&y,M=n.isRoot,C=void 0!==M&&M,I=n.isPlaceholder,B=void 0!==I&&I;return{label:t,colspan:i,origColspan:s,collapsible:u,isCollapsed:g,crossHiddenColumns:f,isHidden:w,isRoot:C,isPlaceholder:B}}function mde(n){return function Wnt(n){if(Array.isArray(n))return e6(n)}(n)||function jnt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Unt(n,e){if(n){if("string"==typeof n)return e6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return e6(n,e)}}(n)||function znt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ynt(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,t=[];if(0===e)return t;Qe(n,function(i){var o=[],s=0;t.push(o),Qe(i,function(a){var u=Q5();if(ji(a)){var f=a.colspan;u.label=_a(a.label),"number"==typeof f&&f>1&&(u.colspan=f,u.origColspan=f)}else u.label=_a(a);var p=!1;if((s+=u.origColspan)>=e&&(u.colspan=u.origColspan-(s-e),u.origColspan=u.colspan,p=!0),o.push(u),u.colspan>1)for(var g=0;g<u.colspan-1;g++)o.push({label:"",isPlaceholder:!0});return!p})});var r=Math.max.apply(Math,mde(Ki(t,function(i){return i.length})));return Qe(t,function(i){if(i.length<r){var o=Ki(new Array(r-i.length),function(){return Q5()});i.splice.apply(i,[i.length,0].concat(mde(o)))}}),t}var Gnt=["row","col"];function gde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Xnt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function t6(n,e,t){(function Qnt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function th(n,e){return function ert(n,e){return e.get?e.get.call(n):e.value}(n,yde(n,e,"get"))}function oR(n,e,t){return function trt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,yde(n,e,"set"),t),t}function yde(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var _de=["label","collapsible"],Km=new WeakMap,ww=new WeakMap,n6=new WeakMap,nrt=function(){function n(){(function qnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),t6(this,Km,{writable:!0,value:[]}),t6(this,ww,{writable:!0,value:0}),t6(this,n6,{writable:!0,value:1/0})}return function Jnt(n,e,t){e&&vde(n.prototype,e),t&&vde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setColumnsLimit",value:function(t){oR(this,n6,t)}},{key:"setData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];oR(this,Km,Ynt(t,th(this,n6))),oR(this,ww,th(this,Km).length)}},{key:"getData",value:function(){return th(this,Km)}},{key:"mergeWith",value:function(t){var r=this;Qe(t,function(i){var o=i.row,s=i.col,a=function Knt(n,e){if(null==n)return{};var r,i,t=function Znt(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(i,Gnt),u=r.getHeaderSettings(o,s);null!==u&&Js(u,a,_de)})}},{key:"map",value:function(t){Qe(th(this,Km),function(r){Qe(r,function(i){var o=t(function $nt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?gde(Object(t),!0).forEach(function(r){Xnt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({},i));ji(o)&&Js(i,o,_de)})})}},{key:"getHeaderSettings",value:function(t,r){var i;if(t>=th(this,ww)||t<0)return null;var o=th(this,Km)[t];return r>=o.length?null:null!==(i=o[r])&&void 0!==i?i:null}},{key:"getHeadersSettings",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=[];if(t>=th(this,ww)||t<0)return o;for(var s=th(this,Km)[t],a=0,u=r;u<s.length;u++){var c=s[u];if(c.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(a+=c.colspan,o.push(c),c.colspan>1&&(u+=c.colspan-1),a===i)break;if(a>i)throw new Error("The last column settings cannot overlap the other header layers")}return o}},{key:"getLayersCount",value:function(){return th(this,ww)}},{key:"getColumnsCount",value:function(){return th(this,ww)>0?th(this,Km)[0].length:0}},{key:"clear",value:function(){oR(this,Km,[]),oR(this,ww,0)}}]),n}();function bde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wde(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?bde(Object(t),!0).forEach(function(r){RN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Mde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function RN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Ede=new Map([["DF-pre-order",function Sde(n,e){for(var t=n.call(e,this),r=0;r<this.childs.length;r++){if(!1===t)return!1;t=Sde.call(this.childs[r],n,e)}return t}],["DF-post-order",function xde(n,e){for(var t=0;t<this.childs.length;t++)if(!1===xde.call(this.childs[t],n,e))return!1;return n.call(e,this)}],["BF",function frt(n,e){var t=[this];!function r(){if(0!==t.length){var i=t.shift();t.push.apply(t,function ort(n){return function urt(n){if(Array.isArray(n))return r6(n)}(n)||function lrt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function art(n,e){if(n){if("string"==typeof n)return r6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r6(n,e)}}(n)||function srt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.childs)),!1!==n.call(e,i)&&r()}}()}]]),Tde=function(){function n(e){(function rrt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),RN(this,"data",{}),RN(this,"parent",null),RN(this,"childs",[]),this.data=e}return function irt(n,e,t){e&&Mde(n.prototype,e),t&&Mde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addChild",value:function(t){t.parent=this,this.childs.push(t)}},{key:"cloneTree",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,r=new n(wde({},t.data)),i=0;i<t.childs.length;i++)r.addChild(this.cloneTree(t.childs[i]));return r}},{key:"replaceTreeWith",value:function(t){this.data=wde({},t.data),this.childs=[];for(var r=0;r<t.childs.length;r++)this.addChild(t.childs[r])}},{key:"walkDown",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BF";if(!Ede.has(r))throw new Error('Traversal strategy "'.concat(r,'" does not exist'));Ede.get(r).call(this,t,this)}},{key:"walkUp",value:function(t){var r=this;!function o(s){!1!==t.call(r,s)&&null!==s.parent&&o(s.parent)}(this)}}]),n}();function Rde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Dde(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Rde(Object(t),!0).forEach(function(r){prt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function prt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ade(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ode(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function i6(n,e,t){(function Mrt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Vu(n,e){return function Srt(n,e){return e.get?e.get.call(n):e.value}(n,kde(n,e,"get"))}function kde(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Ide,Pde,Ax=new WeakMap,Mw=new WeakMap,Ox=new WeakMap,Ert=function(){function n(e){(function brt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),i6(this,Ax,{writable:!0,value:new Map}),i6(this,Mw,{writable:!0,value:new Map}),i6(this,Ox,{writable:!0,value:null}),function xrt(n,e,t){return function Crt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,kde(n,e,"set"),t),t}(this,Ox,e)}return function wrt(n,e,t){e&&Ode(n.prototype,e),t&&Ode(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getRoots",value:function(){return Array.from(Vu(this,Ax).values())}},{key:"getRootByColumn",value:function(t){var r;return Vu(this,Mw).has(t)&&(r=Vu(this,Ax).get(Vu(this,Mw).get(t))),r}},{key:"getNode",value:function(t,r){var i=this.getRootByColumn(r);if(i){var a,o=r-Vu(this,Mw).get(r),s=0;return i.walkDown(function(u){var c=u.data,f=c.origColspan;if(t===c.headerLevel){if(o>=s&&o<=s+f-1)return a=u,!1;s+=f}}),a}}},{key:"rebuildTreeIndex",value:function(){var t=this,r=0;Vu(this,Mw).clear(),Qe(Vu(this,Ax),function(i){for(var s=function mrt(n,e){return function _rt(n){if(Array.isArray(n))return n}(n)||function yrt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function vrt(n,e){if(n){if("string"==typeof n)return Ade(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ade(n,e)}}(n,e)||function grt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i,2)[1].data.colspan,a=r;a<r+s;a++)Vu(t,Mw).set(a,r);r+=s})}},{key:"buildTree",value:function(){this.clear();for(var t=Vu(this,Ox).getColumnsCount(),r=0;r<t;){var i=Vu(this,Ox).getHeaderSettings(0,r),o=new Tde;Vu(this,Ax).set(r,o),this.buildLeaves(o,r,0,i.origColspan),r+=i.origColspan}this.rebuildTreeIndex()}},{key:"buildLeaves",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=Vu(this,Ox).getHeadersSettings(i,r,s);i+=1,Qe(a,function(u){var f,c=Dde(Dde({},u),{},{headerLevel:i-1,columnIndex:r});1===i?(t.data=c,f=t):(f=new Tde(c),t.addChild(f)),i<Vu(o,Ox).getLayersCount()&&o.buildLeaves(f,r,i,u.origColspan),r+=u.origColspan})}},{key:"clear",value:function(){Vu(this,Ax).clear(),Vu(this,Mw).clear()}}]),n}();function Lde(n,e){n.walkDown(function(t){var r=t.data,i=t.childs;if(!r.isHidden&&(e(r.columnIndex),0===i.length))for(var o=1;o<r.colspan;o++)e(r.columnIndex+o)})}function DN(n,e){var t=n.childs;if(0!==t.length)return t[0].data[e]}function AN(n){return DN(n,"origColspan")===n.data.origColspan}function o6(n){var e=n.data,t=n.childs;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};if(AN(n))return o6(t[0]);e.isCollapsed=!1;var i=t.slice(1),o=new Set,s=0;if(i.length>0)Qe(i,function(p){p.replaceTreeWith(p.data.clonedTree),p.data.clonedTree=null,s+=p.data.colspan,Lde(p,function(y){o.add(y)})});else{var u=e.origColspan,c=e.columnIndex;s=u-e.colspan;for(var f=1;f<u;f++)o.add(c+f)}return n.walkUp(function(p){var g=p.data;g.colspan+=s,g.colspan>=g.origColspan?(g.colspan=g.origColspan,g.isCollapsed=!1):AN(p)&&(g.isCollapsed=DN(p,"isCollapsed"))}),{rollbackModification:function(){return s6(n)},affectedColumns:Array.from(o),colspanCompensation:s}}function s6(n){var e,t=n.data,r=n.childs;if(t.isCollapsed||t.isHidden||t.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};if(AN(n))return s6(r[0]);t.isCollapsed=!0;var o=r.slice(1),s=new Set;if(o.length>0)Qe(o,function(g){Lde(g,function(y){s.add(y)}),g.data.clonedTree=g.cloneTree(),g.walkDown(function(y){y.data.isHidden=!0})});else for(var a=t.origColspan,u=t.columnIndex,c=1;c<a;c++)s.add(u+c);var p=t.colspan-(null!==(e=DN(n,"colspan"))&&void 0!==e?e:1);return n.walkUp(function(g){var y=g.data;y.colspan-=p,y.colspan<=1?(y.colspan=1,y.isCollapsed=!0):AN(g)&&(y.isCollapsed=DN(g,"isCollapsed"))}),{rollbackModification:function(){return o6(n)},affectedColumns:Array.from(s),colspanCompensation:p}}var Nde=new Map([["collapse",s6],["expand",o6],["hide-column",function Rrt(n,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(n.childs.length>0)throw new Error(cs(Ide||(Ide=function Trt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The passed node is not the last node on the tree. Only for \nthe last node, the hide column modification can be applied."],["The passed node is not the last node on the tree. Only for\\x20\nthe last node, the hide column modification can be applied."]))));if(!n.data.crossHiddenColumns.includes(e)){var r=!1;n.walkUp(function(i){if(i.data.collapsible)return r=!0,!1}),!r&&n.walkUp(function(i){var o=i.data;o.crossHiddenColumns.push(e),o.colspan>1?o.colspan-=1:o.isHidden=!0})}}],["show-column",function Art(n,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(n.childs.length>0)throw new Error(cs(Pde||(Pde=function Drt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The passed node is not the last node on the tree. Only for \nthe last node, the show column modification can be applied."],["The passed node is not the last node on the tree. Only for\\x20\nthe last node, the show column modification can be applied."]))));if(n.data.crossHiddenColumns.includes(e)){var r=!1;n.walkUp(function(i){if(i.data.collapsible)return r=!0,!1}),!r&&n.walkUp(function(i){var o=i.data;o.crossHiddenColumns.splice(o.crossHiddenColumns.indexOf(e),1),!o.isHidden&&o.colspan<o.origColspan&&(o.colspan+=1),o.isHidden=!1})}}]]),krt=["crossHiddenColumns"];function ON(n){var e=[];return Qe(n,function(t){t.walkDown(function(r){for(var i=r.data,o=i.origColspan,s=i.columnIndex,u=i.crossHiddenColumns,c=function Nrt(n,e){var t;return Array.isArray(n[e])?t=n[e]:n[e]=t=[],t}(e,i.headerLevel),f=!1,p=s;p<s+o;p++)if(u.includes(p)||f)c.push({label:"",isPlaceholder:!0});else{var y=Prt(i);y.isRoot=!0,c.push(y),f=!0}})}),e}function Prt(n){return function Lrt(n,e){if(null==n)return{};var r,i,t=function Irt(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(Q5(n),krt)}var Frt=["row"];function Fde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hde(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Fde(Object(t),!0).forEach(function(r){Hrt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Hrt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function a6(n,e,t){(function jrt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function sR(n,e,t){return function Wrt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Vde(n,e,"set"),t),t}function da(n,e){return function Yrt(n,e){return e.get?e.get.call(n):e.value}(n,Vde(n,e,"get"))}function Vde(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var up=new WeakMap,ad=new WeakMap,Sw=new WeakMap,Grt=function(){function n(){(function zrt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),a6(this,up,{writable:!0,value:new nrt}),a6(this,ad,{writable:!0,value:new Ert(da(this,up))}),a6(this,Sw,{writable:!0,value:[[]]})}return function Urt(n,e,t){e&&Bde(n.prototype,e),t&&Bde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setState",value:function(t){da(this,up).setData(t);var r=!1;try{da(this,ad).buildTree()}catch(i){da(this,ad).clear(),da(this,up).clear(),r=!0}return sR(this,Sw,ON(da(this,ad).getRoots())),r}},{key:"setColumnsLimit",value:function(t){da(this,up).setColumnsLimit(t)}},{key:"mergeStateWith",value:function(t){var r=this,i=Ki(t,function(o){var s=o.row,a=function Brt(n,e){if(null==n)return{};var r,i,t=function Vrt(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(o,Frt);return Hde({row:s<0?r.rowCoordsToLevel(s):s},a)});da(this,up).mergeWith(i),da(this,ad).buildTree(),sR(this,Sw,ON(da(this,ad).getRoots()))}},{key:"mapState",value:function(t){da(this,up).map(t),da(this,ad).buildTree(),sR(this,Sw,ON(da(this,ad).getRoots()))}},{key:"mapNodes",value:function(t){return Ha(da(this,ad).getRoots(),function(r,i){return i.walkDown(function(o){var s=t(o.data);void 0!==s&&r.push(s)}),r},[])}},{key:"triggerNodeModification",value:function(t,r,i){r<0&&(r=this.rowCoordsToLevel(r));var s,o=da(this,ad).getNode(r,i);return o&&(s=function Ort(n,e,t){if(!Nde.has(n))throw new Error('The node modifier action ("'.concat(n,'") does not exist.'));return Nde.get(n)(e,t)}(t,o,i),sR(this,Sw,ON(da(this,ad).getRoots()))),s}},{key:"triggerColumnModification",value:function(t,r){return this.triggerNodeModification(t,-1,r)}},{key:"rowCoordsToLevel",value:function(t){var r=Math.max(this.getLayersCount(),1),i=r-1;return Math.min(Math.max(t+r,0),i)}},{key:"levelToRowCoords",value:function(t){var r=Math.max(this.getLayersCount(),1);return Math.min(Math.max(t-r,-r),-1)}},{key:"getHeaderSettings",value:function(t,r){var i,o;return t<0&&(t=this.rowCoordsToLevel(t)),t>=this.getLayersCount()?null:null!==(i=null===(o=da(this,Sw)[t])||void 0===o?void 0:o[r])&&void 0!==i?i:null}},{key:"getHeaderTreeNodeData",value:function(t,r){t<0&&(t=this.rowCoordsToLevel(t));var i=da(this,ad).getNode(t,r);return i?Hde({},i.data):null}},{key:"findLeftMostColumnIndex",value:function(t,r){var i;if((null!==(i=this.getHeaderSettings(t,r))&&void 0!==i?i:{isRoot:!0}).isRoot)return r;for(var a=r-1;a>=0;){var u;if((null!==(u=this.getHeaderSettings(t,a))&&void 0!==u?u:{isRoot:!0}).isRoot)break;a-=1}return a}},{key:"getLayersCount",value:function(){return da(this,up).getLayersCount()}},{key:"getColumnsCount",value:function(){return da(this,up).getColumnsCount()}},{key:"clear",value:function(){sR(this,Sw,[]),da(this,up).clear(),da(this,ad).clear()}}]),n}();function zde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function aR(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Zrt=function(){function n(e,t){(function $rt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),aR(this,"hot",void 0),aR(this,"nestedHeaderSettingsGetter",void 0),aR(this,"layersCount",0),aR(this,"container",void 0),aR(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=t,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}return function Xrt(n,e,t){e&&zde(n.prototype,e),t&&zde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setLayersCount",value:function(t){return this.layersCount=t,this}},{key:"getWidth",value:function(t){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(t))}},{key:"buildWidthsMap",value:function(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);var t=this.container.querySelectorAll("tr:last-of-type th"),r=t.length;this.widthsMap.clear();for(var i=0;i<r;i++){var o=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i),s=this.hot.toPhysicalColumn(o);this.widthsMap.setValueAtIndex(s,t[i].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}},{key:"_buildGhostTable",value:function(t){for(var r=this.hot,i=r.rootDocument,o=r.columnIndexMapper,s=i.createDocumentFragment(),a=i.createElement("table"),u=!!this.hot.getSettings().dropdownMenu,c=o.getRenderableIndexesLength(),f=0;f<this.layersCount;f++){for(var p=i.createElement("tr"),g=0;g<c;g++){var y=o.getVisualFromRenderableIndex(g);null===y&&(y=g);var w=i.createElement("th"),M=this.nestedHeaderSettingsGetter(f,y);if(M&&(!M.isPlaceholder||M.isHidden)){var C=M.label;u&&(C+='<button class="changeType"></button>'),xb(w,C),w.colSpan=M.colspan,p.appendChild(w)}}a.appendChild(p)}s.appendChild(a),t.appendChild(s)}},{key:"clear",value:function(){this.widthsMap.clear(),this.container=null}}]),n}();function l6(n){return(l6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Ude,jde;function Wde(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function qrt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Yde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function xw(){return xw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Qrt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xw.apply(this,arguments)}function Qrt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Zm(n)););return n}function u6(n,e){return(u6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function nit(n,e){if(e&&("object"===l6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return lR(n)}function lR(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Zm(n){return(Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Gde(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $de(n,e,t){(function iit(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function kN(n,e,t){return function oit(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Xde(n,e,"set"),t),t}function Va(n,e){return function sit(n,e){return e.get?e.get.call(n):e.value}(n,Xde(n,e,"get"))}function Xde(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Kde="nestedHeaders",wl=new WeakMap,wy=new WeakMap,lit=function(n){!function eit(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&u6(n,e)}(t,n);var e=function tit(n){var e=function rit(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Zm(n);if(e){var o=Zm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return nit(this,i)}}(t);function t(){var r;qrt(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return $de(lR(r=e.call.apply(e,[this].concat(o))),wl,{writable:!0,value:new Grt}),$de(lR(r),wy,{writable:!0,value:null}),Gde(lR(r),"ghostTable",new Zrt(r.hot,function(a,u){return r.getHeaderSettings(a,u)})),Gde(lR(r),"detectedOverlappedHeaders",!1),r}return function Jrt(n,e,t){e&&Yde(n.prototype,e),t&&Yde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Kde]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var s=this.hot.getSettings().nestedHeaders;(!Array.isArray(s)||!Array.isArray(s[0]))&&xs(cs(Ude||(Ude=Wde(["Your Nested Headers plugin configuration is invalid. The settings has to be \n                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]"],["Your Nested Headers plugin configuration is invalid. The settings has to be\\x20\n                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]"])))),this.addHook("init",function(){return i.onInit()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("afterOnCellMouseDown",function(){return i.onAfterOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterGetColumnHeaderRenderers",function(a){return i.onAfterGetColumnHeaderRenderers(a)}),this.addHook("modifyColWidth",function(){return i.onModifyColWidth.apply(i,arguments)}),this.addHook("beforeHighlightingColumnHeader",function(){return i.onBeforeHighlightingColumnHeader.apply(i,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return i.onAfterViewportColumnCalculatorOverride.apply(i,arguments)}),xw(Zm(t.prototype),"enablePlugin",this).call(this),this.updatePlugin()}}},{key:"updatePlugin",value:function(){var i=this;if(this.hot.view){var s=this.hot.getSettings().nestedHeaders;Va(this,wl).setColumnsLimit(this.hot.countCols()),Array.isArray(s)&&(this.detectedOverlappedHeaders=Va(this,wl).setState(s)),this.detectedOverlappedHeaders&&xs(cs(jde||(jde=Wde(["Your Nested Headers plugin setup contains overlapping headers. This kind of configuration \n                        is currently not supported."],["Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\\x20\n                        is currently not supported."])))),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach(function(a,u){var c=!0===a?"hide-column":"show-column";Va(i,wl).triggerColumnModification(c,u)}),!Va(this,wy)&&this.enabled&&kN(this,wy,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(function(a){a.forEach(function(u){var f=u.index;if("replace"===u.op){var g=!0===u.newValue?"hide-column":"show-column";Va(i,wl).triggerColumnModification(g,f)}}),i.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),xw(Zm(t.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.clearColspans(),Va(this,wl).clear(),Va(this,wy).unsubscribe(),kN(this,wy,null),this.ghostTable.clear(),xw(Zm(t.prototype),"disablePlugin",this).call(this)}},{key:"getStateManager",value:function(){return Va(this,wl)}},{key:"getLayersCount",value:function(){return Va(this,wl).getLayersCount()}},{key:"getHeaderSettings",value:function(i,o){return Va(this,wl).getHeaderSettings(i,o)}},{key:"clearColspans",value:function(){if(this.hot.view)for(var i=this.hot.view._wt,o=i.getSetting("columnHeaders").length,s=i.wtTable.THEAD,a=i.wtOverlays.topOverlay.clone.wtTable.THEAD,u=i.wtOverlays.topInlineStartCornerOverlay?i.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,c=0;c<o;c++){var f=s.childNodes[c];if(!f)break;for(var p=a.childNodes[c],g=u?u.childNodes[c]:null,y=0,w=f.childNodes.length;y<w;y++)f.childNodes[y].removeAttribute("colspan"),Ii(f.childNodes[y],"hiddenHeader"),p&&p.childNodes[y]&&(p.childNodes[y].removeAttribute("colspan"),Ii(p.childNodes[y],"hiddenHeader")),u&&g&&g.childNodes[y]&&(g.childNodes[y].removeAttribute("colspan"),Ii(g.childNodes[y],"hiddenHeader"))}}},{key:"headerRendererFactory",value:function(i){var o=this,s=this.hot.view._wt.getSetting("fixedColumnsStart");return function(a,u){var c,f=o.hot,p=f.rootDocument,y=f.view,w=f.columnIndexMapper.getVisualFromRenderableIndex(a);null===w&&(w=a),u.removeAttribute("colspan"),Ii(u,"hiddenHeader");var M=null!==(c=Va(o,wl).getHeaderSettings(i,w))&&void 0!==c?c:{label:""},C=M.colspan,I=M.label;if(M.isPlaceholder||M.isHidden)Cn(u,"hiddenHeader");else if(C>1){var j,$,se=y._wt.wtOverlays,ge=null===(j=se.topInlineStartCornerOverlay)||void 0===j?void 0:j.clone.wtTable.THEAD.contains(u),re=null===($=se.inlineStartOverlay)||void 0===$?void 0:$.clone.wtTable.THEAD.contains(u),fe=ge||re?Math.min(C,s-a):C;fe>1&&u.setAttribute("colspan",fe)}var we=p.createElement("div"),Ae=p.createElement("span");Cn(we,"relative"),Cn(Ae,"colHeader"),xb(Ae,I),we.appendChild(Ae),Zf(u),u.appendChild(we),o.hot.runHooks("afterGetColHeader",w,u)}}},{key:"onBeforeHighlightingColumnHeader",value:function(i,o,s){var a=Va(this,wl).getHeaderTreeNodeData(o,i);if(!a)return i;var u=s.classNames,c=s.columnCursor,f=s.selectionType,p=s.selectionWidth,g=Va(this,wl).getHeaderSettings(o,i),y=g.isRoot;if(f===b1){if(!y)return a.columnIndex}else f===kI&&(g.colspan>p-c||!y)&&(u.length=0);return i}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){this._getHeaderTreeNodeDataByCoords(o)&&(a.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(i,o){var s=this._getHeaderTreeNodeDataByCoords(o);if(s){var a=this.hot.selection,u=a.isSelected()?a.getSelectedRange().current():null,c=[],f=s.columnIndex,p=s.origColspan,g=!a.inInSelection(o);i.shiftKey&&u?o.col<u.from.col?c.push(u.getTopEndCorner().col,f,o.row):c.push(o.col>u.from.col?u.getTopStartCorner().col:f,f+p-1,o.row):(WV(i)||Tb(i)&&g)&&c.push(f,f+p-1,o.row),a.selectColumns.apply(a,c)}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u;if(this.hot.view.isMouseDown()){var c=this._getHeaderTreeNodeDataByCoords(o);if(c){var f=c.columnIndex,p=c.origColspan,g=this.hot.getSelectedRangeLast(),y=g.getTopStartCorner(),w=g.getBottomEndCorner(),M=g.from;a.column=!0,a.cell=!0;var C=[];o.col<M.col?C.push(w.col,f):C.push(o.col>M.col?y.col:f,f+p-1),(u=this.hot).selectColumns.apply(u,C)}}}},{key:"onAfterGetColumnHeaderRenderers",value:function(i){if(i){i.length=0;for(var o=0;o<Va(this,wl).getLayersCount();o++)i.push(this.headerRendererFactory(o))}}},{key:"onAfterViewportColumnCalculatorOverride",value:function(i){for(var o=Va(this,wl).getLayersCount(),s=i.startColumn,a=!!o,u=0;u<o;u++){var c=Va(this,wl).findLeftMostColumnIndex(u,i.startColumn),f=this.hot.columnIndexMapper.getRenderableFromVisualIndex(c);if(c>=0&&(a=!1),Yd(f)&&f<i.startColumn){s=f;break}}i.startColumn=a?Va(this,wl).getHeaderTreeNodeData(0,s).columnIndex:s}},{key:"onModifyColWidth",value:function(i,o){var s=this.ghostTable.getWidth(o);return i>s?i:s}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(i,o){o||this.updatePlugin()}},{key:"destroy",value:function(){kN(this,wl,null),null!==Va(this,wy)&&(Va(this,wy).unsubscribe(),kN(this,wy,null)),xw(Zm(t.prototype),"destroy",this).call(this)}},{key:"_getHeaderTreeNodeDataByCoords",value:function(i){if(!(i.row>=0||i.col<0))return Va(this,wl).getHeaderTreeNodeData(i.row,i.col)}}],[{key:"PLUGIN_KEY",get:function(){return Kde}},{key:"PLUGIN_PRIORITY",get:function(){return 280}}]),t}(Go);function Zde(n){return function fit(n){if(Array.isArray(n))return c6(n)}(n)||function dit(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function cit(n,e){if(n){if("string"==typeof n)return c6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c6(n,e)}}(n)||function uit(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function d6(n){return(d6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const git=function(){function n(e,t){(function hit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=t,this.data=null,this.plugin=e,this.parentReference=new WeakMap,this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}}return function pit(n,e,t){e&&qde(n.prototype,e),t&&qde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setData",value:function(t){this.data=t}},{key:"getData",value:function(){return this.data}},{key:"getRawSourceData",value:function(){var t;return this.plugin.disableCoreAPIModifiers(),t=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),t}},{key:"updateWithData",value:function(t){this.setData(t),this.rewriteCache()}},{key:"rewriteCache",value:function(){var t=this;this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Hr(0,this.data.length-1,function(r){t.cacheNode(t.data[r],0,null)})}},{key:"cacheNode",value:function(t,r,i){var o=this;this.cache.levels[r]||(this.cache.levels[r]=[],this.cache.levelCount+=1),this.cache.levels[r].push(t),this.cache.rows.push(t),this.cache.nodeInfo.set(t,{parent:i,row:this.cache.rows.length-1,level:r}),this.hasChildren(t)&&Qe(t.__children,function(s){o.cacheNode(s,r+1,t)})}},{key:"getDataObject",value:function(t){return null==t?null:this.cache.rows[t]}},{key:"readTreeNodes",value:function(t,r,i,o){var s=this,a=!1,u=r;if(isNaN(u)&&u.end)return u;var c=t;return c||(c={__children:this.data},a=!0,u-=1),null!=i&&u===i?{result:c,end:!0}:null!=o&&c===o?{result:u,end:!0}:(u+=1,c.__children&&Qe(c.__children,function(f){if(s.parentReference.set(f,a?null:c),u=s.readTreeNodes(f,u,i,o),isNaN(u)&&u.end)return!1}),u)}},{key:"mockParent",value:function(){var t=this.mockNode();return t.__children=this.data,t}},{key:"mockNode",value:function(){var t={};return to(this.data[0],function(r,i){t[i]=null}),t}},{key:"getRowIndex",value:function(t){return null==t?null:this.cache.nodeInfo.get(t).row}},{key:"getRowIndexWithinParent",value:function(t){var r;r=isNaN(t)?t:this.getDataObject(t);var i=this.getRowParent(t);return null==i?this.data.indexOf(r):i.__children.indexOf(r)}},{key:"countAllRows",value:function(){return this.countChildren({__children:this.data})}},{key:"countChildren",value:function(t){var r=this,i=0,o=t;return isNaN(o)||(o=this.getDataObject(o)),o&&o.__children?(Qe(o.__children,function(s){i+=1,s.__children&&(i+=r.countChildren(s))}),i):0}},{key:"getRowParent",value:function(t){var r;return r=isNaN(t)?t:this.getDataObject(t),this.getRowObjectParent(r)}},{key:"getRowObjectParent",value:function(t){return t&&"object"===d6(t)?this.cache.nodeInfo.get(t).parent:null}},{key:"getRowLevel",value:function(t){var r;return(r=isNaN(t)?t:this.getDataObject(t))?this.getRowObjectLevel(r):null}},{key:"getRowObjectLevel",value:function(t){return null==t?null:this.cache.nodeInfo.get(t).level}},{key:"hasChildren",value:function(t){var r=t;return isNaN(r)||(r=this.getDataObject(r)),!(!r.__children||!r.__children.length)}},{key:"isChild",value:function(t){return null!==this.getRowParent(t)}},{key:"getChild",value:function(t,r){var i;return(null===(i=t.__children)||void 0===i?void 0:i[r])||null}},{key:"isRowHighestLevel",value:function(t){return!this.isChild(t)}},{key:"isParent",value:function(t){var r,i=t;return isNaN(i)||(i=this.getDataObject(i)),i&&!!i.__children&&0!==(null===(r=i.__children)||void 0===r?void 0:r.length)}},{key:"addChild",value:function(t,r){var i=r;this.hot.runHooks("beforeAddChild",t,i);var o=null;t&&(o=this.getRowIndex(t)),this.hot.runHooks("beforeCreateRow",o+this.countChildren(t)+1,1);var s=t;t||(s=this.mockParent()),s.__children||(s.__children=[]),i||(i=this.mockNode()),s.__children.push(i),this.rewriteCache();var a=this.getRowIndex(i);this.hot.rowIndexMapper.insertIndexes(a,1),this.hot.runHooks("afterCreateRow",a,1),this.hot.runHooks("afterAddChild",t,i)}},{key:"addChildAtIndex",value:function(t,r,i){var s,o=i;if(o||(o=this.mockNode()),this.hot.runHooks("beforeAddChild",t,o,r),t){var u=this.getRowIndex(t)+r+1;this.hot.runHooks("beforeCreateRow",u,1),t.__children.splice(r,null,o),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(t),"__children",t.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(u,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",u,1),s=u}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row",r,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),s=this.getRowIndex(this.data[r]);o=this.getDataObject(s),this.hot.runHooks("afterAddChild",t,o,r)}},{key:"addSibling",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"below",i=this.translateTrimmedRow(t),o=this.getRowParent(i),s=this.getRowIndexWithinParent(i);switch(r){case"below":this.addChildAtIndex(o,s+1,null);break;case"above":this.addChildAtIndex(o,s,null)}}},{key:"detachFromParent",value:function(t){var r=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=null,s=[];Array.isArray(t)?(Hr(t[0],t[2],function(I){var B=r.translateTrimmedRow(I);s.push(r.getDataObject(B))}),Hr(0,s.length-2,function(I){r.detachFromParent(s[I],!1)}),o=s[s.length-1]):o=t;var a=this.getRowIndex(o),u=this.countChildren(o),c=this.getRowIndexWithinParent(o),f=this.getRowParent(o),p=this.getRowParent(f),g=this.getRowIndex(p),y=null;if(this.hot.runHooks("beforeDetachChild",f,o),null!=c){var w=Array.from(new Array(a+u+1).keys()).splice(-1*(u+1));if(this.hot.runHooks("beforeRemoveRow",a,u+1,w,this.plugin.pluginName),f.__children.splice(c,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",a,u+1,w,this.plugin.pluginName),p){y=g+this.countChildren(p);var M=this.getChild(p,this.countChildren(p)-1),C=this.getRowIndex(M);this.hot.runHooks("beforeCreateRow",C+1,u+1,this.plugin.pluginName),p.__children.push(o)}else y=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",y-2,u+1,this.plugin.pluginName),this.data.push(o)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",y-2,u+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",f,o,this.getRowIndex(o)),i&&this.hot.render()}},{key:"filterData",value:function(t,r,i){var o=this,s=[];Qe(i,function(a){s.push(o.getDataObject(a))}),Qe(s,function(a){var u=o.getRowIndexWithinParent(a),c=o.getRowParent(a);null===c?o.data.splice(u,1):c.__children.splice(u,1)}),this.rewriteCache()}},{key:"spliceData",value:function(t,r,i){var o=this.getDataObject(t-1),s=null,a=t;if(o&&o.__children&&0===o.__children.length?(s=o,a=0):t<this.countAllRows()&&(s=this.getRowParent(t),a=this.getRowIndexWithinParent(t)),s)if(i){var u;(u=s.__children).splice.apply(u,[a,r].concat(Zde(i)))}else s.__children.splice(a,r);else if(i){var c;(c=this.data).splice.apply(c,[a,r].concat(Zde(i)))}else this.data.splice(a,r);this.rewriteCache()}},{key:"syncRowWithRawSource",value:function(t){var r=t,i=null;do{null!==(i=this.getRowParent(i))&&(r=i)}while(null!==i);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(r),"__children",r.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}},{key:"moveRow",value:function(t,r,i,o){var s=r===this.hot.countRows(),a=this.getRowParent(t),u=this.getRowIndexWithinParent(t),c=a.__children.slice(u,u+1),f=t>r,p=this.getRowParent(s?r-1:r);null==p&&(p=this.getRowParent(r-1)),null==p&&(p=this.getDataObject(r-1)),p?p.__children||(p.__children=[]):(p=this.getDataObject(r)).__children=[];var g=s||i||o?p.__children.length:this.getRowIndexWithinParent(r),y=a===p;p.__children.splice(g,0,c[0]),a.__children.splice(u+(f&&y?1:0),1),this.syncRowWithRawSource(a),y||this.syncRowWithRawSource(p)}},{key:"translateTrimmedRow",value:function(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(t):t}},{key:"untranslateTrimmedRow",value:function(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(t):t}}]),n}();function Jde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function vit(n,e,t){return e&&Jde(n.prototype,e),t&&Jde(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}const f6=vit(function n(e,t){(function yit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=t,this.plugin=e});function h6(n){return(h6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Qde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function p6(n,e){return(p6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function xit(n,e){if(e&&("object"===h6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Cit(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function LN(n){return(LN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const efe=function(n){!function Mit(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&p6(n,e)}(t,n);var e=function Sit(n){var e=function Eit(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=LN(n);if(e){var o=LN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xit(this,i)}}(t);function t(r,i){var o;return function bit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,i)).dataManager=o.plugin.dataManager,o.collapsingUI=o.plugin.collapsingUI,o.rowHeaderWidthCache=null,o}return function wit(n,e,t){e&&Qde(n.prototype,e),t&&Qde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"appendLevelIndicators",value:function(i,o){var s=this.hot.toPhysicalRow(i),a=this.dataManager.getRowLevel(s),u=this.dataManager.getDataObject(s),c=o.getElementsByTagName("DIV")[0],f=c.querySelector("span.rowHeader");if(Qe(c.querySelectorAll('[class^="ht_nesting"]'),function(M){M&&c.removeChild(M)}),Cn(o,t.CSS_CLASSES.indicatorContainer),a){var g=this.hot.rootDocument,y=f.cloneNode(!0);c.innerHTML="",Hr(0,a-1,function(){var M=g.createElement("SPAN");Cn(M,t.CSS_CLASSES.emptyIndicator),c.appendChild(M)}),c.appendChild(y)}if(this.dataManager.hasChildren(u)){var w=this.hot.rootDocument.createElement("DIV");Cn(o,t.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(s)?Cn(w,"".concat(t.CSS_CLASSES.button," ").concat(t.CSS_CLASSES.expandButton)):Cn(w,"".concat(t.CSS_CLASSES.button," ").concat(t.CSS_CLASSES.collapseButton)),c.appendChild(w)}}},{key:"updateRowHeaderWidth",value:function(i){var o=i;o||(o=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*o+25),this.hot.render()}}],[{key:"CSS_CLASSES",get:function(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}}]),t}(f6);function m6(n){return(m6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function tfe(n){return function Oit(n){if(Array.isArray(n))return g6(n)}(n)||function Ait(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Dit(n,e){if(n){if("string"==typeof n)return g6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g6(n,e)}}(n)||function Rit(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function nfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function v6(n,e){return(v6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Nit(n,e){if(e&&("object"===m6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Fit(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function IN(n){return(IN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const Vit=function(n){!function Iit(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&v6(n,e)}(t,n);var e=function Pit(n){var e=function Hit(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=IN(n);if(e){var o=IN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Nit(this,i)}}(t);function t(r,i){var o;return function kit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,i)).dataManager=o.plugin.dataManager,o.collapsedRows=[],o.collapsedRowsStash={stash:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.lastCollapsedRows=o.collapsedRows.slice(0),o.expandMultipleChildren(o.lastCollapsedRows,a)},shiftStash:function(a,u){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null==u&&(u=1/0),Qe(o.lastCollapsedRows,function(f,p){f>=a&&f<u&&(o.lastCollapsedRows[p]=f+c)})},applyStash:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.collapseMultipleChildren(o.lastCollapsedRows,a),o.lastCollapsedRows=void 0},trimStash:function(a,u){Hr(a,a+u-1,function(c){var f=o.lastCollapsedRows.indexOf(c);f>-1&&o.lastCollapsedRows.splice(f,1)})}},o}return function Lit(n,e,t){e&&nfe(n.prototype,e),t&&nfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"collapseChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[],c=null,f=null,p=null;return isNaN(i)?f=this.dataManager.getRowIndex(c=i):(c=this.dataManager.getDataObject(i),f=i),this.dataManager.hasChildren(c)&&Qe(c.__children,function(g){u.push(o.dataManager.getRowIndex(g))}),p=this.collapseRows(u,!0,!1),a&&this.trimRows(p),s&&this.renderAndAdjust(),-1===this.collapsedRows.indexOf(f)&&this.collapsedRows.push(f),p}},{key:"collapseMultipleChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[];Qe(i,function(c){u.push.apply(u,tfe(o.collapseChildren(c,!1,!1)))}),a&&this.trimRows(u),s&&this.renderAndAdjust()}},{key:"collapseRow",value:function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.collapseRows([i],o)}},{key:"collapseRows",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=[];return Qe(i,function(c){u.push(c),s&&o.collapseChildRows(c,u)}),a&&this.trimRows(u),u}},{key:"collapseChildRows",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(i)){var c=this.dataManager.getDataObject(i);Qe(c.__children,function(f){var p=o.dataManager.getRowIndex(f);s.push(p),o.collapseChildRows(p,s)})}u&&this.trimRows(s)}},{key:"expandRow",value:function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.expandRows([i],o)}},{key:"expandRows",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=[];return Qe(i,function(c){u.push(c),s&&o.expandChildRows(c,u)}),a&&this.untrimRows(u),u}},{key:"expandChildRows",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(i)){var c=this.dataManager.getDataObject(i);Qe(c.__children,function(f){if(!o.isAnyParentCollapsed(f)){var p=o.dataManager.getRowIndex(f);s.push(p),o.expandChildRows(p,s)}})}u&&this.untrimRows(s)}},{key:"expandChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[],c=null,f=null,p=null;return isNaN(i)?(c=i,f=this.dataManager.getRowIndex(i)):(c=this.dataManager.getDataObject(i),f=i),this.collapsedRows.splice(this.collapsedRows.indexOf(f),1),this.dataManager.hasChildren(c)&&Qe(c.__children,function(g){var y=o.dataManager.getRowIndex(g);u.push(y)}),p=this.expandRows(u,!0,!1),a&&this.untrimRows(p),s&&this.renderAndAdjust(),p}},{key:"expandMultipleChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[];Qe(i,function(c){u.push.apply(u,tfe(o.expandChildren(c,!1,!1)))}),a&&this.untrimRows(u),s&&this.renderAndAdjust()}},{key:"collapseAll",value:function(){var i=this,o=this.dataManager.getData(),s=[];Qe(o,function(a){i.dataManager.hasChildren(a)&&s.push(a)}),this.collapseMultipleChildren(s),this.renderAndAdjust()}},{key:"expandAll",value:function(){var i=this,o=this.dataManager.getData(),s=[];Qe(o,function(a){i.dataManager.hasChildren(a)&&s.push(a)}),this.expandMultipleChildren(s),this.renderAndAdjust()}},{key:"trimRows",value:function(i){var o=this;this.hot.batchExecution(function(){Qe(i,function(s){o.plugin.collapsedRowsMap.setValueAtIndex(s,!0)})},!0)}},{key:"untrimRows",value:function(i){var o=this;this.hot.batchExecution(function(){Qe(i,function(s){o.plugin.collapsedRowsMap.setValueAtIndex(s,!1)})},!0)}},{key:"areChildrenCollapsed",value:function(i){var o=this,s=isNaN(i)?i:this.dataManager.getDataObject(i),a=!0;return null===s&&(s={__children:this.dataManager.data}),this.dataManager.hasChildren(s)&&Qe(s.__children,function(u){var c=o.dataManager.getRowIndex(u);if(!o.plugin.collapsedRowsMap.getValueAtIndex(c))return a=!1,!1}),a}},{key:"isAnyParentCollapsed",value:function(i){for(var o=i;null!==o;){o=this.dataManager.getRowParent(o);var s=this.dataManager.getRowIndex(o);if(this.collapsedRows.indexOf(s)>-1)return!0}return!1}},{key:"toggleState",value:function(i,o){if(!(o.col>=0)){var s=this.translateTrimmedRow(o.row);_i(i.target,efe.CSS_CLASSES.button)&&(this.areChildrenCollapsed(s)?this.expandChildren(s):this.collapseChildren(s),Xh(i))}}},{key:"translateTrimmedRow",value:function(i){return this.hot.toPhysicalRow(i)}},{key:"untranslateTrimmedRow",value:function(i){return this.hot.toVisualRow(i)}},{key:"renderAndAdjust",value:function(){this.hot.render(),this.hot.view.adjustElementsSize()}}]),t}(f6);function y6(n){return(y6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function rfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _6(n,e){return(_6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Yit(n,e){if(e&&("object"===y6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ife(n)}function ife(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function PN(n){return(PN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var ofe=new WeakMap;const Xit=function(n){!function jit(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_6(n,e)}(t,n);var e=function Wit(n){var e=function Git(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=PN(n);if(e){var o=PN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Yit(this,i)}}(t);function t(r,i){var o;return function zit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,i),ofe.set(ife(o),{row_above:function(a,u){o.dataManager.addSibling(u[u.length-1].start.row,"above")},row_below:function(a,u){o.dataManager.addSibling(u[u.length-1].start.row,"below")}}),o.dataManager=o.plugin.dataManager,o}return function Uit(n,e,t){e&&rfe(n.prototype,e),t&&rfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"appendOptions",value:function(i){var o=this,s=[{key:"add_child",name:function(){return this.getTranslatedPhrase(Mj)},callback:function(){var u=o.dataManager.translateTrimmedRow(o.hot.getSelectedLast()[0]),c=o.dataManager.getDataObject(u);o.dataManager.addChild(c)},disabled:function(){var u=o.hot.getSelectedLast();return!u||u[0]<0||o.hot.selection.isSelectedByColumnHeader()||o.hot.countRows()>=o.hot.getSettings().maxRows}},{key:"detach_from_parent",name:function(){return this.getTranslatedPhrase(Sj)},callback:function(){o.dataManager.detachFromParent(o.hot.getSelectedLast())},disabled:function(){var u=o.hot.getSelectedLast(),c=o.dataManager.translateTrimmedRow(u[0]);return!o.dataManager.getRowParent(c)||!u||u[0]<0||o.hot.selection.isSelectedByColumnHeader()||o.hot.countRows()>=o.hot.getSettings().maxRows}},{name:"---------"}];return Hr(0,i.items.length-1,function(a){if(0===a)return Qe(s,function(u,c){i.items.splice(a+c,0,u)}),!1}),this.modifyRowInsertingOptions(i)}},{key:"modifyRowInsertingOptions",value:function(i){var o=ofe.get(this);return Hr(0,i.items.length-1,function(s){var a=o[i.items[s].key];null!=a&&(i.items[s].callback=a)}),i}}]),t}(f6);var sfe;function afe(n){return function Jit(n){if(Array.isArray(n))return b6(n)}(n)||function qit(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Zit(n,e){if(n){if("string"==typeof n)return b6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b6(n,e)}}(n)||function Kit(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var not=function(){function n(e){(function eot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}return function tot(n,e,t){e&&lfe(n.prototype,e),t&&lfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"onBeforeRowMove",value:function(t,r,i,o){var s=this;if(this.displayAPICompatibilityWarning({rows:t,finalIndex:r,dropIndex:i,movePossible:o}))return!1;this.movedToCollapsed=!1;var u=i===this.hot.countRows(),c=u?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(i),f=!0,p=t.map(function(C){if(!f)return!1;var I=s.dataManager.translateTrimmedRow(C);return f=s.shouldAllowMoving(I,c),I}),g=-1===p.indexOf(c);if(!f||!g)return!1;var y=this.getBaseParent(p),w=this.getTargetParent(u,c),M=y===w;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(w),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(p,c,M),this.moveRows(p,c,w),this.dataManager.rewriteCache(),this.moveCellsMeta(p,c),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",t,r,i,o,o&&this.isRowOrderChanged(t,r)),this.hot.render(),this.selectCells(t,i),!1}},{key:"displayAPICompatibilityWarning",value:function(t){var r=t.rows,i=t.finalIndex,o=t.dropIndex,s=t.movePossible,a=!1;return Ns(o)&&(xs(cs(sfe||(sfe=function Qit(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows \n      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead."],["Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\\x20\n      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead."])))),this.hot.runHooks("afterRowMove",r,i,o,s,!1),a=!0),a}},{key:"shouldAllowMoving",value:function(t,r){return!(this.dataManager.isParent(t)||this.dataManager.isRowHighestLevel(t)||t===r||0===r)}},{key:"getBaseParent",value:function(t){return this.dataManager.getRowParent(t[0])}},{key:"getTargetParent",value:function(t,r){var i=this.dataManager.getRowParent(t?r-1:r);return null==i&&(i=this.dataManager.getRowParent(r-1)),i}},{key:"shiftCollapsibleParentsLocations",value:function(t,r,i){i||(Math.max.apply(Math,afe(t))<=r?this.collapsingUI.collapsedRowsStash.shiftStash(t[0],r,-1*t.length):this.collapsingUI.collapsedRowsStash.shiftStash(r,t[0],t.length))}},{key:"moveRows",value:function(t,r,i){var o=this,s=r===this.dataManager.getRowIndex(i)+this.dataManager.countChildren(i)+1;this.hot.batchRender(function(){t.forEach(function(a){o.dataManager.moveRow(a,r,o.movedToCollapsed,s)})})}},{key:"moveCellsMeta",value:function(t,r){var o,i=this,s=[],a=Math.max.apply(Math,afe(t))<r;t.forEach(function(u){s.push(i.hot.getCellMetaAtRow(u))}),this.hot.spliceCellsMeta(t[0],t.length),(o=this.hot).spliceCellsMeta.apply(o,[r-(a?s.length:0),0].concat(s))}},{key:"selectCells",value:function(t,r){var u,i=t.length,o=0,s=0,a=null;if(this.movedToCollapsed){var c;c=this.dataManager.translateTrimmedRow(t[i-1]<r?r-i:r);var f=this.dataManager.getRowParent(null===c?this.hot.countSourceRows()-1:c-1),p=this.dataManager.getRowIndex(f);s=o=this.dataManager.untranslateTrimmedRow(p)}else t[i-1]<r?o=(s=r-1)-i+1:s=(o=r)+i-1;a=this.hot.selection,u=this.hot.countCols()-1,a.setRangeStart(this.hot._createCellCoords(o,0)),a.setRangeEnd(this.hot._createCellCoords(s,u),!0)}},{key:"isRowOrderChanged",value:function(t,r){return t.some(function(i,o){return i-o!==r})}}]),n}();function w6(n){return(w6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function M6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ufe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Cw(){return Cw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=cot(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Cw.apply(this,arguments)}function cot(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=qm(n)););return n}function S6(n,e){return(S6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function hot(n,e){if(e&&("object"===w6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cfe(n)}function cfe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qm(n){return(qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var x6="nestedRows",Jm=new WeakMap,vot=function(n){!function dot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&S6(n,e)}(t,n);var e=function fot(n){var e=function pot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=qm(n);if(e){var o=qm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return hot(this,i)}}(t);function t(r){var i;return function lot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).dataManager=null,i.headersUI=null,i.collapsedRowsMap=null,Jm.set(cfe(i),{movedToCollapsed:!1,skipRender:null,skipCoreAPIModifiers:!1}),i}return function uot(n,e,t){e&&ufe(n.prototype,e),t&&ufe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[x6]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new m1),this.dataManager=new git(this,this.hot),this.collapsingUI=new Vit(this,this.hot),this.headersUI=new efe(this,this.hot),this.contextMenuUI=new Xit(this,this.hot),this.rowMoveController=new not(this),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("beforeViewRender",function(){return i.onBeforeViewRender.apply(i,arguments)}),this.addHook("modifyRowData",function(){return i.onModifyRowData.apply(i,arguments)}),this.addHook("modifySourceLength",function(){return i.onModifySourceLength.apply(i,arguments)}),this.addHook("beforeDataSplice",function(){return i.onBeforeDataSplice.apply(i,arguments)}),this.addHook("filterData",function(){return i.onFilterData.apply(i,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetRowHeader",function(){return i.onAfterGetRowHeader.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeRemoveRow",function(){return i.onBeforeRemoveRow.apply(i,arguments)}),this.addHook("afterRemoveRow",function(){return i.onAfterRemoveRow.apply(i,arguments)}),this.addHook("beforeAddChild",function(){return i.onBeforeAddChild.apply(i,arguments)}),this.addHook("afterAddChild",function(){return i.onAfterAddChild.apply(i,arguments)}),this.addHook("beforeDetachChild",function(){return i.onBeforeDetachChild.apply(i,arguments)}),this.addHook("afterDetachChild",function(){return i.onAfterDetachChild.apply(i,arguments)}),this.addHook("modifyRowHeaderWidth",function(){return i.onModifyRowHeaderWidth.apply(i,arguments)}),this.addHook("afterCreateRow",function(){return i.onAfterCreateRow.apply(i,arguments)}),this.addHook("beforeRowMove",function(){return i.onBeforeRowMove.apply(i,arguments)}),this.addHook("beforeLoadData",function(o){return i.onBeforeLoadData(o)}),Cw(qm(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),Cw(qm(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin();var i=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(i),Cw(qm(t.prototype),"updatePlugin",this).call(this)}},{key:"onBeforeRowMove",value:function(i,o,s,a){return this.rowMoveController.onBeforeRowMove(i,o,s,a)}},{key:"disableCoreAPIModifiers",value:function(){Jm.get(this).skipCoreAPIModifiers=!0}},{key:"enableCoreAPIModifiers",value:function(){Jm.get(this).skipCoreAPIModifiers=!1}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s){this.collapsingUI.toggleState(i,o,s)}},{key:"onModifyRowData",value:function(i){if(!Jm.get(this).skipCoreAPIModifiers)return this.dataManager.getDataObject(i)}},{key:"onModifySourceLength",value:function(){if(!Jm.get(this).skipCoreAPIModifiers)return this.dataManager.countAllRows()}},{key:"onBeforeDataSplice",value:function(i,o,s){return!(!Jm.get(this).skipCoreAPIModifiers&&!this.dataManager.isRowHighestLevel(i)&&(this.dataManager.spliceData(i,o,s),1))}},{key:"onFilterData",value:function(i,o,s){var a=Jm.get(this);return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(s[0],o),this.collapsingUI.collapsedRowsStash.shiftStash(s[0],null,-1*o),this.dataManager.filterData(i,o,s),a.skipRender=!0,this.dataManager.getData().slice()}},{key:"onAfterContextMenuDefaultOptions",value:function(i){return this.contextMenuUI.appendOptions(i)}},{key:"onAfterGetRowHeader",value:function(i,o){this.headersUI.appendLevelIndicators(i,o)}},{key:"onModifyRowHeaderWidth",value:function(i){return this.headersUI.rowHeaderWidthCache||i}},{key:"onAfterRemoveRow",value:function(i,o,s,a){var u=this;if(a!==this.pluginName){var c=Jm.get(this);setTimeout(function(){c.skipRender=null,u.headersUI.updateRowHeaderWidth(),u.collapsingUI.collapsedRowsStash.applyStash()},0)}}},{key:"onBeforeRemoveRow",value:function(i,o,s){var a=this,u=Array.from(s.reduce(function(c,f){if(a.dataManager.isParent(f)){var p=a.dataManager.getDataObject(f).__children;return c.add(f),Array.isArray(p)&&p.forEach(function(g){return c.add(a.dataManager.getRowIndex(g))}),c}return c.add(f)},new Set));s.length=0,s.push.apply(s,u)}},{key:"onBeforeAddChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterAddChild",value:function(i,o){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(o)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onBeforeDetachChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterDetachChild",value:function(i,o,s){this.collapsingUI.collapsedRowsStash.shiftStash(s,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onAfterCreateRow",value:function(){this.dataManager.rewriteCache()}},{key:"onAfterInit",value:function(){var i=Math.max.apply(Math,function rot(n){return function aot(n){if(Array.isArray(n))return M6(n)}(n)||function sot(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function oot(n,e){if(n){if("string"==typeof n)return M6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M6(n,e)}}(n)||function iot(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.dataManager.cache.levels));i>0&&this.headersUI.updateRowHeaderWidth(i)}},{key:"onBeforeViewRender",value:function(i,o){Jm.get(this).skipRender&&(o.skipRender=!0)}},{key:"destroy",value:function(){Cw(qm(t.prototype),"destroy",this).call(this)}},{key:"onBeforeLoadData",value:function(i){if(!function E2e(n){return!!(Array.isArray(n)&&n.length&&n.every(function(e){return"object"===cU(e)&&!Array.isArray(e)&&null!==e}))}(i))return YV("The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled."),this.hot.getSettings()[x6]=!1,void this.disablePlugin();this.dataManager.setData(i),this.dataManager.rewriteCache()}}],[{key:"PLUGIN_KEY",get:function(){return x6}},{key:"PLUGIN_PRIORITY",get:function(){return 300}}]),t}(Go);function yot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function dfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const wot=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;yot(this,n),this.rootWindow=t,this.prefix=e,this.savedKeys=[],this.loadSavedKeys()}return function _ot(n,e,t){e&&dfe(n.prototype,e),t&&dfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"saveValue",value:function(t,r){this.rootWindow.localStorage.setItem("".concat(this.prefix,"_").concat(t),JSON.stringify(r)),-1===this.savedKeys.indexOf(t)&&(this.savedKeys.push(t),this.saveSavedKeys())}},{key:"loadValue",value:function(t,r){var i=void 0===t?r:t,o=this.rootWindow.localStorage.getItem("".concat(this.prefix,"_").concat(i));return null===o?void 0:JSON.parse(o)}},{key:"reset",value:function(t){this.rootWindow.localStorage.removeItem("".concat(this.prefix,"_").concat(t))}},{key:"resetAll",value:function(){var t=this;Qe(this.savedKeys,function(r,i){t.rootWindow.localStorage.removeItem("".concat(t.prefix,"_").concat(t.savedKeys[i]))}),this.clearSavedKeys()}},{key:"loadSavedKeys",value:function(){var t=this.rootWindow.localStorage.getItem("".concat(this.prefix,"__persistentStateKeys")),r="string"==typeof t?JSON.parse(t):void 0;this.savedKeys=r||[]}},{key:"saveSavedKeys",value:function(){this.rootWindow.localStorage.setItem("".concat(this.prefix,"__persistentStateKeys"),JSON.stringify(this.savedKeys))}},{key:"clearSavedKeys",value:function(){this.savedKeys.length=0,this.saveSavedKeys()}}]),n}();function C6(n){return(C6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ffe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ew(){return Ew="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=xot(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ew.apply(this,arguments)}function xot(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Qm(n)););return n}function E6(n,e){return(E6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Tot(n,e){if(e&&("object"===C6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Rot(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Qm(n){return(Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}wr.getSingleton().register("persistentStateSave"),wr.getSingleton().register("persistentStateLoad"),wr.getSingleton().register("persistentStateReset");var hfe="persistentState",Oot=function(n){!function Cot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&E6(n,e)}(t,n);var e=function Eot(n){var e=function Dot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Qm(n);if(e){var o=Qm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Tot(this,i)}}(t);function t(r){var i;return function Mot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).storage=void 0,i}return function Sot(n,e,t){e&&ffe(n.prototype,e),t&&ffe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[hfe]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.storage||(this.storage=new wot(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",function(o,s){return i.saveValue(o,s)}),this.addHook("persistentStateLoad",function(o,s){return i.loadValue(o,s)}),this.addHook("persistentStateReset",function(){return i.resetValue()}),Ew(Qm(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.storage=void 0,Ew(Qm(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Ew(Qm(t.prototype),"updatePlugin",this).call(this)}},{key:"loadValue",value:function(i,o){o.value=this.storage.loadValue(i)}},{key:"saveValue",value:function(i,o){this.storage.saveValue(i,o)}},{key:"resetValue",value:function(i){void 0===i?this.storage.resetAll():this.storage.reset(i)}},{key:"destroy",value:function(){Ew(Qm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return hfe}},{key:"PLUGIN_PRIORITY",get:function(){return 0}}]),t}(Go);function T6(n){return(T6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function R6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function pfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Tw(){return Tw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Bot(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Tw.apply(this,arguments)}function Bot(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=eg(n)););return n}function D6(n,e){return(D6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Uot(n,e){if(e&&("object"===T6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function jot(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function eg(n){return(eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var A6="search",$ot=function(e,t,r,i,o){e.getCellMeta(t,r).isSearchResult=o},Xot=function(e,t,r){return!(Ns(e)||null===e||!e.toLocaleLowerCase||0===e.length||Ns(t)||null===t)&&-1!==t.toString().toLocaleLowerCase(r.locale).indexOf(e.toLocaleLowerCase(r.locale))},Kot=function(n){!function Vot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&D6(n,e)}(t,n);var e=function zot(n){var e=function Wot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=eg(n);if(e){var o=eg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Uot(this,i)}}(t);function t(r){var i;return function Fot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).callback=$ot,i.queryMethod=Xot,i.searchResultClass="htSearchResult",i}return function Hot(n,e,t){e&&pfe(n.prototype,e),t&&pfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[A6]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[A6];this.updatePluginSettings(o),this.addHook("beforeRenderer",function(){return i.onBeforeRenderer.apply(i,arguments)}),Tw(eg(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var i=this,o=function(){return i.onBeforeRenderer.apply(i,arguments)};this.hot.addHook("beforeRenderer",o),this.hot.addHookOnce("afterViewRender",function(){i.hot.removeHook("beforeRenderer",o)}),Tw(eg(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Tw(eg(t.prototype),"updatePlugin",this).call(this)}},{key:"query",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCallback(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getQueryMethod(),u=this.hot.countRows(),c=this.hot.countCols(),f=[],p=this.hot;return Hr(0,u-1,function(g){Hr(0,c-1,function(y){var w=o.hot.getDataAtCell(g,y),M=o.hot.getCellMeta(g,y),C=M.search.callback||s,B=(M.search.queryMethod||a)(i,w,M);B&&f.push({row:g,col:y,data:w}),C&&C(p,g,y,w,B)})}),f}},{key:"getCallback",value:function(){return this.callback}},{key:"setCallback",value:function(i){this.callback=i}},{key:"getQueryMethod",value:function(){return this.queryMethod}},{key:"setQueryMethod",value:function(i){this.queryMethod=i}},{key:"getSearchResultClass",value:function(){return this.searchResultClass}},{key:"setSearchResultClass",value:function(i){this.searchResultClass=i}},{key:"updatePluginSettings",value:function(i){ji(i)&&(i.searchResultClass&&this.setSearchResultClass(i.searchResultClass),i.queryMethod&&this.setQueryMethod(i.queryMethod),i.callback&&this.setCallback(i.callback))}},{key:"onBeforeRenderer",value:function(i,o,s,a,u,c){var g,f=c.className||[],p=[];"string"==typeof f?p=f.split(" "):(g=p).push.apply(g,function kot(n){return function Not(n){if(Array.isArray(n))return R6(n)}(n)||function Pot(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Iot(n,e){if(n){if("string"==typeof n)return R6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return R6(n,e)}}(n)||function Lot(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(f)),this.isEnabled()&&c.isSearchResult?p.includes(this.searchResultClass)||p.push("".concat(this.searchResultClass)):p.includes(this.searchResultClass)&&p.splice(p.indexOf(this.searchResultClass),1),c.className=p.join(" ")}},{key:"destroy",value:function(){Tw(eg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return A6}},{key:"PLUGIN_PRIORITY",get:function(){return 190}}]),t}(Go);function O6(n){return(O6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function mfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function kx(){return kx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Jot(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},kx.apply(this,arguments)}function Jot(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=My(n)););return n}function k6(n,e){return(k6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function tst(n,e){if(e&&("object"===O6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function nst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function My(n){return(My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var sst=function(n){!function Qot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&k6(n,e)}(t,n);var e=function est(n){var e=function rst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=My(n);if(e){var o=My(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return tst(this,i)}}(t);function t(r){var i;return function Zot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).scrollbars=[],i.clones=[],i.lockedCollection=!1,i.freezeOverlays=!1,i}return function qot(n,e,t){e&&mfe(n.prototype,e),t&&mfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return TQ()}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterViewRender",function(){return i.onAfterViewRender()}),this.registerEvents(),kx(My(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,kx(My(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){kx(My(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var i=this;this.addHook("beforeTouchScroll",function(){return i.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return i.onAfterMomentumScroll()})}},{key:"onAfterViewRender",value:function(){if(!this.lockedCollection){var i=this.hot.view._wt.wtOverlays,o=i.topOverlay,s=i.bottomOverlay,a=i.inlineStartOverlay,u=i.topInlineStartCornerOverlay,c=i.bottomInlineStartCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(o),s.clone&&this.scrollbars.push(s),this.scrollbars.push(a),u&&this.scrollbars.push(u),c&&c.clone&&this.scrollbars.push(c),this.clones=[],o.needFullRender&&this.clones.push(o.clone.wtTable.holder.parentNode),s.needFullRender&&this.clones.push(s.clone.wtTable.holder.parentNode),a.needFullRender&&this.clones.push(a.clone.wtTable.holder.parentNode),u&&this.clones.push(u.clone.wtTable.holder.parentNode),c&&c.clone&&this.clones.push(c.clone.wtTable.holder.parentNode)}}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,Qe(this.clones,function(i){Cn(i,"hide-tween")})}},{key:"onAfterMomentumScroll",value:function(){var i=this;this.freezeOverlays=!1,Qe(this.clones,function(o){Ii(o,"hide-tween"),Cn(o,"show-tween")}),this.hot._registerTimeout(function(){Qe(i.clones,function(o){Ii(o,"show-tween")})},400),Qe(this.scrollbars,function(o){o.refresh(),o.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}}],[{key:"PLUGIN_KEY",get:function(){return"touchScroll"}},{key:"PLUGIN_PRIORITY",get:function(){return 200}},{key:"SETTING_KEYS",get:function(){return!0}}]),t}(Go);function L6(n){return(L6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function gfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Rw(){return Rw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=ust(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Rw.apply(this,arguments)}function ust(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=tg(n)););return n}function I6(n,e){return(I6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function fst(n,e){if(e&&("object"===L6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function hst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function tg(n){return(tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var NN="trimRows",gst=function(n){!function cst(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&I6(n,e)}(t,n);var e=function dst(n){var e=function pst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=tg(n);if(e){var o=tg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return fst(this,i)}}(t);function t(r){var i;return function ast(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).trimmedRowsMap=null,i}return function lst(n,e,t){e&&gfe(n.prototype,e),t&&gfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[NN]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new m1),this.trimmedRowsMap.addLocalHook("init",function(){return i.onMapInit()}),Rw(tg(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){var i=this,o=this.hot.getSettings()[NN];Array.isArray(o)&&this.hot.batchExecution(function(){i.trimmedRowsMap.clear(),Qe(o,function(s){i.trimmedRowsMap.setValueAtIndex(s,!0)})},!0),Rw(tg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("trimRows"),Rw(tg(t.prototype),"disablePlugin",this).call(this)}},{key:"getTrimmedRows",value:function(){return this.trimmedRowsMap.getTrimmedIndexes()}},{key:"trimRows",value:function(i){var o=this,s=this.getTrimmedRows(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeTrimRow",s,u,a)&&(a&&this.hot.batchExecution(function(){Qe(i,function(f){o.trimmedRowsMap.setValueAtIndex(f,!0)})},!0),this.hot.runHooks("afterTrimRow",s,u,a,a&&u.length>s.length))}},{key:"trimRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.trimRows(o)}},{key:"untrimRows",value:function(i){var o=this.getTrimmedRows(),s=this.isValidConfig(i),a=o,u=this.trimmedRowsMap.getValues().slice(),c=i.length>0;s&&c&&(Qe(i,function(p){u[p]=!1}),a=Ha(u,function(p,g,y){return g&&p.push(y),p},[])),!1!==this.hot.runHooks("beforeUntrimRow",o,a,s&&c)&&(s&&c&&this.trimmedRowsMap.setValues(u),this.hot.runHooks("afterUntrimRow",o,a,s&&c,s&&a.length<o.length))}},{key:"untrimRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.untrimRows(o)}},{key:"isTrimmed",value:function(i){return this.trimmedRowsMap.getValueAtIndex(i)||!1}},{key:"untrimAll",value:function(){this.untrimRows(this.getTrimmedRows())}},{key:"isValidConfig",value:function(i){var o=this.hot.countSourceRows();return i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"onMapInit",value:function(){var i=this,o=this.hot.getSettings()[NN];Array.isArray(o)&&this.hot.batchExecution(function(){Qe(o,function(s){i.trimmedRowsMap.setValueAtIndex(s,!0)})},!0)}},{key:"destroy",value:function(){Rw(tg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return NN}},{key:"PLUGIN_PRIORITY",get:function(){return 330}}]),t}(Go);function P6(n){return(P6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function vfe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _fe(n,e,t){return e&&yfe(n.prototype,e),t&&yfe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function bfe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&N6(n,e)}function N6(n,e){return(N6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function wfe(n){var e=function _st(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=FN(n);if(e){var o=FN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vst(this,i)}}function vst(n,e){if(e&&("object"===P6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function yst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function FN(n){return(FN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Mfe(n,e){return function Est(n){if(Array.isArray(n))return n}(n)||function Cst(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Sfe(n,e)||function xst(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sfe(n,e){if(n){if("string"==typeof n)return F6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return F6(n,e)}}function F6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vr(n){var e=this;this.instance=n,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,n.addHook("afterChange",function(t,r){var i=this,o=t&&t.length;o&&t.find(function(u){var c=Mfe(u,4);return c[2]!==c[3]})&&e.done(function(){var c=t.reduce(function(p,g){return p.push(function bst(n){return function Sst(n){if(Array.isArray(n))return F6(n)}(n)||function Mst(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Sfe(n)||function wst(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g)),p},[]);Qe(c,function(p){p[1]=n.propToCol(p[1])});var f=o>1?i.getSelected():[[c[0][0],c[0][1]]];return new vr.ChangeAction(c,f)},r)}),n.addHook("afterCreateRow",function(t,r,i){e.done(function(){return new vr.CreateRowAction(t,r)},i)}),n.addHook("beforeRemoveRow",function(t,r,i,o){e.done(function(){var u=e.instance.getSourceDataArray(),c=(u.length+t)%u.length,f=n.toPhysicalRow(c),p=Iu(u.slice(f,f+r));return new vr.RemoveRowAction(c,p,n.getSettings().fixedRowsBottom,n.getSettings().fixedRowsTop)},o)}),n.addHook("afterCreateCol",function(t,r,i){e.done(function(){return new vr.CreateColumnAction(t,r)},i)}),n.addHook("beforeRemoveCol",function(t,r,i,o){e.done(function(){var u=e.instance.getSourceDataArray(),c=(e.instance.countCols()+t)%e.instance.countCols(),f=[],p=[],g=[];Hr(u.length-1,function(M){var C=[],I=u[M];Hr(c,c+(r-1),function(B){C.push(I[n.toPhysicalColumn(B)])}),f.push(C)}),Hr(r-1,function(M){g.push(n.toPhysicalColumn(c+M))}),Array.isArray(n.getSettings().colHeaders)&&Hr(r-1,function(M){p.push(n.getSettings().colHeaders[n.toPhysicalColumn(c+M)]||null)});var y=n.columnIndexMapper.getIndexesSequence(),w=n.rowIndexMapper.getIndexesSequence();return new vr.RemoveColumnAction(c,g,f,p,y,w,n.getSettings().fixedColumnsStart)},o)}),n.addHook("beforeCellAlignment",function(t,r,i,o){e.done(function(){return new vr.CellAlignmentAction(t,r,i,o)})}),n.addHook("beforeFilter",function(t){e.done(function(){return new vr.FiltersAction(t)})}),n.addHook("beforeRowMove",function(t,r){!1!==t&&e.done(function(){return new vr.RowMoveAction(t,r)})}),n.addHook("beforeMergeCells",function(t,r){r||e.done(function(){return new vr.MergeCellsAction(n,t)})}),n.addHook("afterUnmergeCells",function(t,r){r||e.done(function(){return new vr.UnmergeCellsAction(n,t)})}),n.addHook("afterInit",function(){e.init()})}function Cfe(n,e){if("loadData"===e)return this.undoRedo.clear()}vr.prototype.done=function(n,e){if(!this.ignoreNewActions&&"UndoRedo.undo"!==e&&"UndoRedo.redo"!==e&&"auto"!==e){var r=this.doneActions.slice();if(!1!==this.instance.runHooks("beforeUndoStackChange",r,e)){var o=n(),s=this.undoneActions.slice();this.doneActions.push(o),this.instance.runHooks("afterUndoStackChange",r,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",s),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",s,this.undoneActions.slice())}}},vr.prototype.undo=function(){if(this.isUndoAvailable()){var n=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",n);var e=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",n,this.doneActions.slice());var t=Iu(e);if(!1===this.instance.runHooks("beforeUndo",t))return;this.ignoreNewActions=!0;var i=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),e.undo(this.instance,function(){i.ignoreNewActions=!1,i.undoneActions.push(e)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",t)}},vr.prototype.redo=function(){if(this.isRedoAvailable()){var n=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",n);var e=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",n,this.undoneActions.slice());var t=Iu(e);if(!1===this.instance.runHooks("beforeRedo",t))return;this.ignoreNewActions=!0;var i=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),e.redo(this.instance,function(){i.ignoreNewActions=!1,i.doneActions.push(e)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",t)}},vr.prototype.isUndoAvailable=function(){return this.doneActions.length>0},vr.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},vr.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},vr.prototype.isEnabled=function(){return this.enabled},vr.prototype.enable=function(){if(!this.isEnabled()){var n=this.instance;this.enabled=!0,function Ast(n){n.undo=function(){return n.undoRedo.undo()},n.redo=function(){return n.undoRedo.redo()},n.isUndoAvailable=function(){return n.undoRedo.isUndoAvailable()},n.isRedoAvailable=function(){return n.undoRedo.isRedoAvailable()},n.clearUndo=function(){return n.undoRedo.clear()}}(n),this.registerShortcuts(),n.addHook("afterChange",Cfe)}},vr.prototype.disable=function(){if(this.isEnabled()){var n=this.instance;this.enabled=!1,function Ost(n){delete n.undo,delete n.redo,delete n.isUndoAvailable,delete n.isRedoAvailable,delete n.clearUndo}(n),this.unregisterShortcuts(),n.removeHook("afterChange",Cfe)}},vr.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null},(vr.Action=function(){}).prototype.undo=function(){},vr.Action.prototype.redo=function(){},Yv(vr.ChangeAction=function(n,e){this.changes=n,this.selected=e,this.actionType="change"},vr.Action),vr.ChangeAction.prototype.undo=function(n,e){for(var t=Iu(this.changes),r=n.countEmptyRows(!0),i=n.countEmptyCols(!0),o=0,s=t.length;o<s;o++)t[o].splice(3,1);n.addHookOnce("afterChange",e),n.setDataAtCell(t,null,null,"UndoRedo.undo");for(var a=0,u=t.length;a<u;a++){var c=Mfe(t[a],2),f=c[0],p=c[1];n.getSettings().minSpareRows&&f+1+n.getSettings().minSpareRows===n.countRows()&&r===n.getSettings().minSpareRows&&(n.alter("remove_row",parseInt(f+1,10),n.getSettings().minSpareRows),n.undoRedo.doneActions.pop()),n.getSettings().minSpareCols&&p+1+n.getSettings().minSpareCols===n.countCols()&&i===n.getSettings().minSpareCols&&(n.alter("remove_col",parseInt(p+1,10),n.getSettings().minSpareCols),n.undoRedo.doneActions.pop())}n.selectCells(this.selected,!1,!1)},vr.ChangeAction.prototype.redo=function(n,e){for(var t=Iu(this.changes),r=0,i=t.length;r<i;r++)t[r].splice(2,1);n.addHookOnce("afterChange",e),n.setDataAtCell(t,null,null,"UndoRedo.redo"),this.selected&&n.selectCells(this.selected,!1,!1)},Yv(vr.CreateRowAction=function(n,e){this.index=n,this.amount=e,this.actionType="insert_row"},vr.Action),vr.CreateRowAction.prototype.undo=function(n,e){var t=n.countRows(),r=n.getSettings().minSpareRows;this.index>=t&&this.index-r<t&&(this.index-=r),n.addHookOnce("afterRemoveRow",e),n.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},vr.CreateRowAction.prototype.redo=function(n,e){n.addHookOnce("afterCreateRow",e),n.alter("insert_row",this.index,this.amount,"UndoRedo.redo")},Yv(vr.RemoveRowAction=function(n,e,t,r){this.index=n,this.data=e,this.actionType="remove_row",this.fixedRowsBottom=t,this.fixedRowsTop=r},vr.Action),vr.RemoveRowAction.prototype.undo=function(n,e){var t=n.getSettings();t.fixedRowsBottom=this.fixedRowsBottom,t.fixedRowsTop=this.fixedRowsTop,n.alter("insert_row",this.index,this.data.length,"UndoRedo.undo"),n.addHookOnce("afterViewRender",e),n.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")},vr.RemoveRowAction.prototype.redo=function(n,e){n.addHookOnce("afterRemoveRow",e),n.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},Yv(vr.CreateColumnAction=function(n,e){this.index=n,this.amount=e,this.actionType="insert_col"},vr.Action),vr.CreateColumnAction.prototype.undo=function(n,e){n.addHookOnce("afterRemoveCol",e),n.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},vr.CreateColumnAction.prototype.redo=function(n,e){n.addHookOnce("afterCreateCol",e),n.alter("insert_col",this.index,this.amount,"UndoRedo.redo")},Yv(vr.RemoveColumnAction=function(n,e,t,r,i,o,s){this.index=n,this.indexes=e,this.data=t,this.amount=this.data[0].length,this.headers=r,this.columnPositions=i.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s},vr.Action),vr.RemoveColumnAction.prototype.undo=function(n,e){var t=this;n.getSettings().fixedColumnsStart=this.fixedColumnsStart;for(var i=this.indexes.slice(0).sort(),o=function(g,y,w){return w[t.indexes.indexOf(i[y])]},s=this.data.length,a=[],u=0;u<s;u++)a.push(Ki(this.data[u],o));var c=Ki(this.headers,o),f=[];n.alter("insert_col",this.indexes[0],this.indexes.length,"UndoRedo.undo"),Qe(n.getSourceDataArray(),function(p,g){Qe(i,function(y,w){p[y]=a[g][w],f.push([g,y,p[y]])})}),n.setSourceDataAtCell(f,void 0,void 0,"UndoRedo.undo"),n.columnIndexMapper.insertIndexes(i[0],i.length),void 0!==this.headers&&Qe(c,function(p,g){n.getSettings().colHeaders[i[g]]=p}),n.batchExecution(function(){n.rowIndexMapper.setIndexesSequence(t.rowPositions),n.columnIndexMapper.setIndexesSequence(t.columnPositions)},!0),n.addHookOnce("afterViewRender",e),n.render()},vr.RemoveColumnAction.prototype.redo=function(n,e){n.addHookOnce("afterRemoveCol",e),n.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},(vr.CellAlignmentAction=function(n,e,t,r){this.stateBefore=n,this.range=e,this.type=t,this.alignment=r}).prototype.undo=function(n,e){var t=this;Qe(this.range,function(r){r.forAll(function(i,o){i>=0&&o>=0&&n.setCellMeta(i,o,"className",t.stateBefore[i][o]||" htLeft")})}),n.addHookOnce("afterViewRender",e),n.render()},vr.CellAlignmentAction.prototype.redo=function(n,e){cy(this.range,this.type,this.alignment,function(t,r){return n.getCellMeta(t,r)},function(t,r,i,o){return n.setCellMeta(t,r,i,o)}),n.addHookOnce("afterViewRender",e),n.render()},Yv(vr.FiltersAction=function(n){this.conditionsStack=n,this.actionType="filter"},vr.Action),vr.FiltersAction.prototype.undo=function(n,e){var t=n.getPlugin("filters");n.addHookOnce("afterViewRender",e),t.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),t.filter()},vr.FiltersAction.prototype.redo=function(n,e){var t=n.getPlugin("filters");n.addHookOnce("afterViewRender",e),t.conditionCollection.importAllConditions(this.conditionsStack),t.filter()},vr.MergeCellsAction=function(n){bfe(t,n);var e=wfe(t);function t(r,i){var o;vfe(this,t),(o=e.call(this)).cellRange=i;var s=o.cellRange.getTopStartCorner(),a=o.cellRange.getBottomEndCorner();return o.rangeData=r.getData(s.row,s.col,a.row,a.col),o}return _fe(t,[{key:"undo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.unmergeRange(this.cellRange,!0);var a=this.cellRange.getTopStartCorner();i.populateFromArray(a.row,a.col,this.rangeData,void 0,void 0,"MergeCells")}},{key:"redo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.mergeRange(this.cellRange)}}]),t}(vr.Action),vr.UnmergeCellsAction=function(n){bfe(t,n);var e=wfe(t);function t(r,i){var o;return vfe(this,t),(o=e.call(this)).cellRange=i,o}return _fe(t,[{key:"undo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.mergeRange(this.cellRange,!0)}},{key:"redo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.unmergeRange(this.cellRange,!0),i.render()}}]),t}(vr.Action),Yv(vr.RowMoveAction=function(n,e){this.rows=n.slice(),this.finalIndex=e,this.actionType="row_move"},vr.Action),vr.RowMoveAction.prototype.undo=function(n,e){var t=this,r=n.getPlugin("manualRowMove"),i=[].concat(this.rows),o=i.filter(function(f){return f>t.finalIndex}),s=i.filter(function(f){return f<=t.finalIndex}),a=o.sort(function(f,p){return p-f}).concat(s.sort(function(f,p){return f-p}));n.addHookOnce("afterViewRender",e);for(var u=0;u<a.length;u+=1){var c=n.toVisualRow(a[u]);r.moveRow(c,a[u])}n.render(),n.deselectCell(),n.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)},vr.RowMoveAction.prototype.redo=function(n,e){var t=n.getPlugin("manualRowMove");n.addHookOnce("afterViewRender",e),t.moveRows(this.rows.slice(),this.finalIndex),n.render(),n.deselectCell(),n.selectRows(this.finalIndex,this.finalIndex+this.rows.length-1)},vr.prototype.init=function(){var n=this.instance.getSettings().undo,e=void 0===n||n;this.instance.undoRedo||(this.instance.undoRedo=this),e?this.instance.undoRedo.enable():this.instance.undoRedo.disable()},vr.prototype.registerShortcuts=function(){var n=this;this.instance.getShortcutManager().getContext("grid").addShortcuts([{keys:[["Control/Meta","z"]],callback:function(){n.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:function(){n.redo()}}],{runOnlyIf:function(s){return!s.altKey},group:"undoRedo"})},vr.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup("undoRedo")};var uR=wr.getSingleton();uR.add("afterUpdateSettings",function(){var n;null===(n=this.getPlugin("undoRedo"))||void 0===n||n.init()}),uR.register("beforeUndo"),uR.register("afterUndo"),uR.register("beforeRedo"),uR.register("afterRedo"),vr.PLUGIN_KEY="undoRedo",vr.SETTING_KEYS=!0;const kst=vr;let Nst=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[U_,Io,sT,sT,Io]}),n})(),Fst=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[DK,Io,Io]}),n})(),Efe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[U_,Io,vK,Io]}),n})(),Tfe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({}),n})(),Ust=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({providers:[nMe],imports:[Tfe,Efe,Io,Tfe,Efe]}),n})(),rat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[Y3]}),n})(),bat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[rat,Io,Io]}),n})(),Mat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n}),n.\u0275inj=ni({imports:[YK,Io,nT,Io]}),n})();!function Ist(){(function aYe(){ed(YS),ed(VW),ed(cse),ed(mse),ed($W),ed(PW),ed(yse),ed(bse),ed(qWe),ed(Hb),ed(xse)})(),function wYe(){Sm(JS),Sm(C1),Sm(rY),Sm(nY),Sm(oY),Sm(sY),Sm(ey),Sm(aY)}(),function DYe(){a1(TP),a1(lY),a1(uY),a1(cY)}(),function GYe(){Jh(OYe),Jh(LYe),Jh(PYe),Jh(FYe),Jh(BYe),Jh(zYe),Jh(jYe),Jh(nie),Jh(YYe)}(),function Lst(){Vo(AGe),Vo(QGe),Vo(m5e),Vo(n6e),Vo(b6e),Vo(Aae),Vo(L8e),Vo(a7e),Vo(ole),Vo(D9e),Vo(e$e),Vo(u$e),Vo(Cle),Vo(tXe),Vo(tJe),Vo(OJe),Vo(eQe),Vo(SQe),Vo(WQe),Vo(Eet),Vo(Pet),Vo(mtt),Vo(xtt),Vo(cnt),Vo(Dnt),Vo(Vnt),Vo(lit),Vo(vot),Vo(Oot),Vo(Kot),Vo(sst),Vo(gst),Vo(kst)}()}();let Sat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pi({type:n,bootstrap:[NUe]}),n.\u0275inj=ni({providers:[sK],imports:[v$,nUe,rUe,Tbe,YMe,QVe,Nst,QDe,rSe,TMe,oAe,_Ue,DUe,Fst,Ust,bat,wMe,Mat,hAe,P4e]}),n})();(function Rme(){v9=!1})(),Vve().bootstrapModule(Sat).catch(n=>console.error(n))},4722:function(Q,ue,b){"use strict";var te,L=this&&this.__extends||(te=function(oe,ae){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(de,pe){de.__proto__=pe}||function(de,pe){for(var K in pe)Object.prototype.hasOwnProperty.call(pe,K)&&(de[K]=pe[K])})(oe,ae)},function(oe,ae){if("function"!=typeof ae&&null!==ae)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function de(){this.constructor=oe}te(oe,ae),oe.prototype=null===ae?Object.create(ae):(de.prototype=ae.prototype,new de)});Object.defineProperty(ue,"__esModule",{value:!0}),ue.OrbitControls=void 0;var S=b(3643),R={type:"change"},A={type:"start"},N={type:"end"},F=1e-6,Y=function(te){function oe(ae,de,pe){var K=te.call(this)||this;return K.object=ae,K.domElement=void 0!==de?de:document,K.window=void 0!==pe?pe:window,K.enabled=!0,K.target=new S.Vector3,K.minDistance=0,K.maxDistance=1/0,K.minZoom=0,K.maxZoom=1/0,K.minPolarAngle=0,K.maxPolarAngle=Math.PI,K.minAzimuthAngle=-1/0,K.maxAzimuthAngle=1/0,K.enableDamping=!1,K.dampingFactor=.25,K.enableZoom=!0,K.zoomSpeed=1,K.enableRotate=!0,K.rotateSpeed=1,K.enablePan=!0,K.keyPanSpeed=7,K.autoRotate=!1,K.autoRotateSpeed=2,K.enableKeys=!0,K.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},K.mouseButtons={ORBIT:S.MOUSE.LEFT,ZOOM:S.MOUSE.MIDDLE,PAN:S.MOUSE.RIGHT},K.target0=K.target.clone(),K.position0=K.object.position.clone(),K.zoom0=K.object.zoom,K.updateOffset=new S.Vector3,K.updateQuat=(new S.Quaternion).setFromUnitVectors(ae.up,new S.Vector3(0,1,0)),K.updateQuatInverse=K.updateQuat.clone().invert(),K.updateLastPosition=new S.Vector3,K.updateLastQuaternion=new S.Quaternion,K.state=-1,K.scale=1,K.spherical=new S.Spherical,K.sphericalDelta=new S.Spherical,K.panOffset=new S.Vector3,K.zoomChanged=!1,K.rotateStart=new S.Vector2,K.rotateEnd=new S.Vector2,K.rotateDelta=new S.Vector2,K.panStart=new S.Vector2,K.panEnd=new S.Vector2,K.panDelta=new S.Vector2,K.dollyStart=new S.Vector2,K.dollyEnd=new S.Vector2,K.dollyDelta=new S.Vector2,K.panLeftV=new S.Vector3,K.panUpV=new S.Vector3,K.panInternalOffset=new S.Vector3,K.onMouseDown=function(ce){if(!1!==K.enabled){if(ce.preventDefault(),ce.button===K.mouseButtons.ORBIT){if(!1===K.enableRotate)return;K.rotateStart.set(ce.clientX,ce.clientY),K.state=0}else if(ce.button===K.mouseButtons.ZOOM){if(!1===K.enableZoom)return;K.dollyStart.set(ce.clientX,ce.clientY),K.state=1}else if(ce.button===K.mouseButtons.PAN){if(!1===K.enablePan)return;K.panStart.set(ce.clientX,ce.clientY),K.state=2}-1!==K.state&&(document.addEventListener("mousemove",K.onMouseMove,!1),document.addEventListener("mouseup",K.onMouseUp,!1),K.dispatchEvent(A))}},K.onMouseMove=function(ce){if(!1!==K.enabled)if(ce.preventDefault(),0===K.state){if(!1===K.enableRotate)return;K.rotateEnd.set(ce.clientX,ce.clientY),K.rotateDelta.subVectors(K.rotateEnd,K.rotateStart);var xe=K.domElement===document?K.domElement.body:K.domElement;K.rotateLeft(2*Math.PI*K.rotateDelta.x/xe.clientWidth*K.rotateSpeed),K.rotateUp(2*Math.PI*K.rotateDelta.y/xe.clientHeight*K.rotateSpeed),K.rotateStart.copy(K.rotateEnd),K.update()}else if(1===K.state){if(!1===K.enableZoom)return;K.dollyEnd.set(ce.clientX,ce.clientY),K.dollyDelta.subVectors(K.dollyEnd,K.dollyStart),K.dollyDelta.y>0?K.dollyIn(K.getZoomScale()):K.dollyDelta.y<0&&K.dollyOut(K.getZoomScale()),K.dollyStart.copy(K.dollyEnd),K.update()}else if(2===K.state){if(!1===K.enablePan)return;K.panEnd.set(ce.clientX,ce.clientY),K.panDelta.subVectors(K.panEnd,K.panStart),K.pan(K.panDelta.x,K.panDelta.y),K.panStart.copy(K.panEnd),K.update()}},K.onMouseUp=function(ce){!1!==K.enabled&&(document.removeEventListener("mousemove",K.onMouseMove,!1),document.removeEventListener("mouseup",K.onMouseUp,!1),K.dispatchEvent(N),K.state=-1)},K.onMouseWheel=function(ce){!1===K.enabled||!1===K.enableZoom||-1!==K.state&&0!==K.state||(ce.preventDefault(),ce.stopPropagation(),ce.deltaY<0?K.dollyOut(K.getZoomScale()):ce.deltaY>0&&K.dollyIn(K.getZoomScale()),K.update(),K.dispatchEvent(A),K.dispatchEvent(N))},K.onKeyDown=function(ce){if(!1!==K.enabled&&!1!==K.enableKeys&&!1!==K.enablePan)switch(ce.keyCode){case K.keys.UP:K.pan(0,K.keyPanSpeed),K.update();break;case K.keys.BOTTOM:K.pan(0,-K.keyPanSpeed),K.update();break;case K.keys.LEFT:K.pan(K.keyPanSpeed,0),K.update();break;case K.keys.RIGHT:K.pan(-K.keyPanSpeed,0),K.update()}},K.onTouchStart=function(ce){if(!1!==K.enabled){switch(ce.touches.length){case 1:if(!1===K.enableRotate)return;K.rotateStart.set(ce.touches[0].pageX,ce.touches[0].pageY),K.state=3;break;case 2:if(!1===K.enableZoom)return;var xe=ce.touches[0].pageX-ce.touches[1].pageX,Pe=ce.touches[0].pageY-ce.touches[1].pageY,Te=Math.sqrt(xe*xe+Pe*Pe);K.dollyStart.set(0,Te),K.state=4;break;case 3:if(!1===K.enablePan)return;K.panStart.set(ce.touches[0].pageX,ce.touches[0].pageY),K.state=5;break;default:K.state=-1}-1!==K.state&&K.dispatchEvent(A)}},K.onTouchMove=function(ce){if(!1!==K.enabled)switch(ce.preventDefault(),ce.stopPropagation(),ce.touches.length){case 1:if(!1===K.enableRotate||3!==K.state)return;K.rotateEnd.set(ce.touches[0].pageX,ce.touches[0].pageY),K.rotateDelta.subVectors(K.rotateEnd,K.rotateStart);var xe=K.domElement===document?K.domElement.body:K.domElement;K.rotateLeft(2*Math.PI*K.rotateDelta.x/xe.clientWidth*K.rotateSpeed),K.rotateUp(2*Math.PI*K.rotateDelta.y/xe.clientHeight*K.rotateSpeed),K.rotateStart.copy(K.rotateEnd),K.update();break;case 2:if(!1===K.enableZoom||4!==K.state)return;var Pe=ce.touches[0].pageX-ce.touches[1].pageX,Te=ce.touches[0].pageY-ce.touches[1].pageY,ze=Math.sqrt(Pe*Pe+Te*Te);K.dollyEnd.set(0,ze),K.dollyDelta.subVectors(K.dollyEnd,K.dollyStart),K.dollyDelta.y>0?K.dollyOut(K.getZoomScale()):K.dollyDelta.y<0&&K.dollyIn(K.getZoomScale()),K.dollyStart.copy(K.dollyEnd),K.update();break;case 3:if(!1===K.enablePan||5!==K.state)return;K.panEnd.set(ce.touches[0].pageX,ce.touches[0].pageY),K.panDelta.subVectors(K.panEnd,K.panStart),K.pan(K.panDelta.x,K.panDelta.y),K.panStart.copy(K.panEnd),K.update();break;default:K.state=-1}},K.onTouchEnd=function(ce){!1!==K.enabled&&(K.dispatchEvent(N),K.state=-1)},K.onContextMenu=function(ce){ce.preventDefault()},K.domElement.addEventListener("contextmenu",K.onContextMenu,!1),K.domElement.addEventListener("mousedown",K.onMouseDown,!1),K.domElement.addEventListener("wheel",K.onMouseWheel,!1),K.domElement.addEventListener("touchstart",K.onTouchStart,!1),K.domElement.addEventListener("touchend",K.onTouchEnd,!1),K.domElement.addEventListener("touchmove",K.onTouchMove,!1),K.window.addEventListener("keydown",K.onKeyDown,!1),K.update(),K}return L(oe,te),oe.prototype.update=function(){var ae=this.object.position;return this.updateOffset.copy(ae).sub(this.target),this.updateOffset.applyQuaternion(this.updateQuat),this.spherical.setFromVector3(this.updateOffset),this.autoRotate&&-1===this.state&&this.rotateLeft(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),this.updateOffset.setFromSpherical(this.spherical),this.updateOffset.applyQuaternion(this.updateQuatInverse),ae.copy(this.target).add(this.updateOffset),this.object.lookAt(this.target),!0===this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.panOffset.set(0,0,0),!!(this.zoomChanged||this.updateLastPosition.distanceToSquared(this.object.position)>F||8*(1-this.updateLastQuaternion.dot(this.object.quaternion))>F)&&(this.dispatchEvent(R),this.updateLastPosition.copy(this.object.position),this.updateLastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0)},oe.prototype.panLeft=function(ae,de){this.panLeftV.setFromMatrixColumn(de,0),this.panLeftV.multiplyScalar(-ae),this.panOffset.add(this.panLeftV)},oe.prototype.panUp=function(ae,de){this.panUpV.setFromMatrixColumn(de,1),this.panUpV.multiplyScalar(ae),this.panOffset.add(this.panUpV)},oe.prototype.pan=function(ae,de){var pe=this.domElement===document?this.domElement.body:this.domElement;if(this._checkPerspectiveCamera(this.object)){this.panInternalOffset.copy(this.object.position).sub(this.target);var ce=this.panInternalOffset.length();ce*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*ae*ce/pe.clientHeight,this.object.matrix),this.panUp(2*de*ce/pe.clientHeight,this.object.matrix)}else this._checkOrthographicCamera(this.object)?(this.panLeft(ae*(this.object.right-this.object.left)/this.object.zoom/pe.clientWidth,this.object.matrix),this.panUp(de*(this.object.top-this.object.bottom)/this.object.zoom/pe.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)},oe.prototype.dollyIn=function(ae){this._checkPerspectiveCamera(this.object)?this.scale/=ae:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*ae)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},oe.prototype.dollyOut=function(ae){this._checkPerspectiveCamera(this.object)?this.scale*=ae:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/ae)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},oe.prototype.getAutoRotationAngle=function(){return 2*Math.PI/60/60*this.autoRotateSpeed},oe.prototype.getZoomScale=function(){return Math.pow(.95,this.zoomSpeed)},oe.prototype.rotateLeft=function(ae){this.sphericalDelta.theta-=ae},oe.prototype.rotateUp=function(ae){this.sphericalDelta.phi-=ae},oe.prototype.getPolarAngle=function(){return this.spherical.phi},oe.prototype.getAzimuthalAngle=function(){return this.spherical.theta},oe.prototype.dispose=function(){this.domElement.removeEventListener("contextmenu",this.onContextMenu,!1),this.domElement.removeEventListener("mousedown",this.onMouseDown,!1),this.domElement.removeEventListener("wheel",this.onMouseWheel,!1),this.domElement.removeEventListener("touchstart",this.onTouchStart,!1),this.domElement.removeEventListener("touchend",this.onTouchEnd,!1),this.domElement.removeEventListener("touchmove",this.onTouchMove,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.window.removeEventListener("keydown",this.onKeyDown,!1)},oe.prototype.reset=function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(R),this.update(),this.state=-1},oe.prototype.saveState=function(){this.target0.copy(this.target),this.position0.copy(this.object.position),(this._checkOrthographicCamera(this.object)||this._checkPerspectiveCamera(this.object))&&(this.zoom0=this.object.zoom)},Object.defineProperty(oe.prototype,"center",{get:function(){return console.warn("Three.OrbitControls: .center has been renamed to .target"),this.target},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"noZoom",{get:function(){return console.warn("Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(ae){console.warn("Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!ae},enumerable:!1,configurable:!0}),oe.prototype._checkPerspectiveCamera=function(ae){return ae.isPerspectiveCamera},oe.prototype._checkOrthographicCamera=function(ae){return ae.isOrthographicCamera},oe}(S.EventDispatcher);ue.OrbitControls=Y},3643:(Q,ue,b)=>{"use strict";b.r(ue),b.d(ue,{ACESFilmicToneMapping:()=>qe,AddEquation:()=>ut,AddOperation:()=>hi,AdditiveAnimationBlendMode:()=>vp,AdditiveBlending:()=>rt,AlphaFormat:()=>nf,AlwaysDepth:()=>$n,AlwaysStencilFunc:()=>Gu,AmbientLight:()=>G0,AmbientLightProbe:()=>fF,AnimationClip:()=>v_,AnimationLoader:()=>nF,AnimationMixer:()=>J0,AnimationObjectGroup:()=>lE,AnimationUtils:()=>gs,ArcCurve:()=>ZC,ArrayCamera:()=>Lg,ArrowHelper:()=>iA,Audio:()=>T_,AudioAnalyser:()=>WD,AudioContext:()=>zD,AudioListener:()=>UD,AudioLoader:()=>cF,AxesHelper:()=>iM,AxisHelper:()=>lv,BackSide:()=>K,BasicDepthPacking:()=>fd,BasicShadowMap:()=>te,BinaryTextureLoader:()=>hv,Bone:()=>Np,BooleanKeyframeTrack:()=>Ah,BoundingBoxHelper:()=>uv,Box2:()=>ev,Box3:()=>Vs,Box3Helper:()=>xF,BoxBufferGeometry:()=>Ic,BoxGeometry:()=>Ic,BoxHelper:()=>rM,BufferAttribute:()=>Xr,BufferGeometry:()=>Fr,BufferGeometryLoader:()=>ID,ByteType:()=>Mo,Cache:()=>or,Camera:()=>No,CameraHelper:()=>SF,CanvasRenderer:()=>mv,CanvasTexture:()=>mD,CatmullRomCurve3:()=>TD,CineonToneMapping:()=>Ne,CircleBufferGeometry:()=>m0,CircleGeometry:()=>m0,ClampToEdgeWrapping:()=>cn,Clock:()=>mF,Color:()=>cr,ColorKeyframeTrack:()=>$C,CompressedTexture:()=>p0,CompressedTextureLoader:()=>N0,ConeBufferGeometry:()=>g0,ConeGeometry:()=>g0,CubeCamera:()=>yg,CubeReflectionMapping:()=>Ke,CubeRefractionMapping:()=>Ye,CubeTexture:()=>bf,CubeTextureLoader:()=>xD,CubeUVReflectionMapping:()=>ft,CubeUVRefractionMapping:()=>Ct,CubicBezierCurve:()=>B0,CubicBezierCurve3:()=>JC,CubicInterpolant:()=>L0,CullFaceBack:()=>N,CullFaceFront:()=>F,CullFaceFrontBack:()=>Y,CullFaceNone:()=>A,Curve:()=>hl,CurvePath:()=>QC,CustomBlending:()=>Ge,CustomToneMapping:()=>bt,CylinderBufferGeometry:()=>zg,CylinderGeometry:()=>zg,Cylindrical:()=>KD,DataTexture:()=>Pc,DataTexture2DArray:()=>Xw,DataTexture3D:()=>Ag,DataTextureLoader:()=>KC,DataUtils:()=>T8,DecrementStencilOp:()=>pR,DecrementWrapStencilOp:()=>Eo,DefaultLoadingManager:()=>XC,DepthFormat:()=>So,DepthStencilFormat:()=>vo,DepthTexture:()=>NC,DirectionalLight:()=>kD,DirectionalLightHelper:()=>MF,DiscreteInterpolant:()=>Kl,DodecahedronBufferGeometry:()=>v0,DodecahedronGeometry:()=>v0,DoubleSide:()=>ce,DstAlphaFactor:()=>dt,DstColorFactor:()=>Yt,DynamicBufferAttribute:()=>ME,DynamicCopyUsage:()=>Bx,DynamicDrawUsage:()=>xc,DynamicReadUsage:()=>kw,EdgesGeometry:()=>FC,EdgesHelper:()=>cv,EllipseCurve:()=>ws,EqualDepth:()=>kn,EqualStencilFunc:()=>Fi,EquirectangularReflectionMapping:()=>$e,EquirectangularRefractionMapping:()=>gt,Euler:()=>ph,EventDispatcher:()=>zi,ExtrudeBufferGeometry:()=>Ed,ExtrudeGeometry:()=>Ed,FaceColors:()=>OF,FileLoader:()=>Mu,FlatShading:()=>xe,Float16BufferAttribute:()=>Cp,Float32Attribute:()=>ss,Float32BufferAttribute:()=>gr,Float64Attribute:()=>av,Float64BufferAttribute:()=>dn,FloatType:()=>Il,Fog:()=>xd,FogExp2:()=>Qy,Font:()=>HD,FontLoader:()=>uF,FrontSide:()=>pe,Frustum:()=>wd,GLBufferAttribute:()=>cE,GLSL1:()=>Ln,GLSL3:()=>xa,GammaEncoding:()=>Ni,GreaterDepth:()=>En,GreaterEqualDepth:()=>_r,GreaterEqualStencilFunc:()=>Ow,GreaterStencilFunc:()=>_p,GridHelper:()=>mE,Group:()=>Pp,HalfFloatType:()=>fs,HemisphereLight:()=>eE,HemisphereLightHelper:()=>nA,HemisphereLightProbe:()=>dF,IcosahedronBufferGeometry:()=>l_,IcosahedronGeometry:()=>l_,ImageBitmapLoader:()=>ND,ImageLoader:()=>F0,ImageUtils:()=>$u,ImmediateRenderObject:()=>eM,IncrementStencilOp:()=>Fx,IncrementWrapStencilOp:()=>fu,InstancedBufferAttribute:()=>nE,InstancedBufferGeometry:()=>Wp,InstancedInterleavedBuffer:()=>A_,InstancedMesh:()=>c0,Int16Attribute:()=>pl,Int16BufferAttribute:()=>Sp,Int32Attribute:()=>dM,Int32BufferAttribute:()=>xp,Int8Attribute:()=>HF,Int8BufferAttribute:()=>Qr,IntType:()=>Ll,InterleavedBuffer:()=>Gl,InterleavedBufferAttribute:()=>nc,Interpolant:()=>Xl,InterpolateDiscrete:()=>df,InterpolateLinear:()=>$s,InterpolateSmooth:()=>Pi,InvertStencilOp:()=>hf,JSONLoader:()=>lA,KeepStencilOp:()=>ja,KeyframeTrack:()=>zc,LOD:()=>s0,LatheBufferGeometry:()=>T0,LatheGeometry:()=>T0,Layers:()=>Nw,LensFlare:()=>cA,LessDepth:()=>Vn,LessEqualDepth:()=>Un,LessEqualStencilFunc:()=>cg,LessStencilFunc:()=>dh,Light:()=>Su,LightProbe:()=>kh,Line:()=>Hc,Line3:()=>ZD,LineBasicMaterial:()=>Ra,LineCurve:()=>b_,LineCurve3:()=>OD,LineDashedMaterial:()=>MD,LineLoop:()=>f0,LinePieces:()=>wE,LineSegments:()=>Xa,LineStrip:()=>DF,LinearEncoding:()=>mn,LinearFilter:()=>Ri,LinearInterpolant:()=>p_,LinearMipMapLinearFilter:()=>ia,LinearMipMapNearestFilter:()=>kl,LinearMipmapLinearFilter:()=>Gi,LinearMipmapNearestFilter:()=>su,LinearToneMapping:()=>lr,Loader:()=>Ws,LoaderUtils:()=>E_,LoadingManager:()=>P0,LogLuvEncoding:()=>_s,LoopOnce:()=>Fl,LoopPingPong:()=>gp,LoopRepeat:()=>mp,LuminanceAlphaFormat:()=>go,LuminanceFormat:()=>rl,MOUSE:()=>T,Material:()=>Po,MaterialLoader:()=>$0,Math:()=>Er,MathUtils:()=>Er,Matrix3:()=>Ts,Matrix4:()=>Nr,MaxEquation:()=>Ht,Mesh:()=>ln,MeshBasicMaterial:()=>Ac,MeshDepthMaterial:()=>t0,MeshDistanceMaterial:()=>n0,MeshFaceMaterial:()=>LF,MeshLambertMaterial:()=>h_,MeshMatcapMaterial:()=>k0,MeshNormalMaterial:()=>O0,MeshPhongMaterial:()=>A0,MeshPhysicalMaterial:()=>Af,MeshStandardMaterial:()=>Dd,MeshToonMaterial:()=>GC,MinEquation:()=>kt,MirroredRepeatWrapping:()=>Mn,MixOperation:()=>fi,MultiMaterial:()=>IF,MultiplyBlending:()=>Re,MultiplyOperation:()=>Wr,NearestFilter:()=>Pn,NearestMipMapLinearFilter:()=>ai,NearestMipMapNearestFilter:()=>ti,NearestMipmapLinearFilter:()=>ri,NearestMipmapNearestFilter:()=>yr,NeverDepth:()=>Nt,NeverStencilFunc:()=>Aw,NoBlending:()=>Te,NoColors:()=>AF,NoToneMapping:()=>si,NormalAnimationBlendMode:()=>hn,NormalBlending:()=>ze,NotEqualDepth:()=>tn,NotEqualStencilFunc:()=>xy,NumberKeyframeTrack:()=>m_,Object3D:()=>$r,ObjectLoader:()=>aF,ObjectSpaceNormalMap:()=>Xo,OctahedronBufferGeometry:()=>R0,OctahedronGeometry:()=>R0,OneFactor:()=>Gt,OneMinusDstAlphaFactor:()=>Dt,OneMinusDstColorFactor:()=>yn,OneMinusSrcAlphaFactor:()=>me,OneMinusSrcColorFactor:()=>Pt,OrthographicCamera:()=>Xg,PCFShadowMap:()=>oe,PCFSoftShadowMap:()=>ae,PMREMGenerator:()=>R8,ParametricBufferGeometry:()=>Td,ParametricGeometry:()=>Td,Particle:()=>cM,ParticleBasicMaterial:()=>L_,ParticleSystem:()=>Kp,ParticleSystemMaterial:()=>NF,Path:()=>Up,PerspectiveCamera:()=>os,Plane:()=>Ul,PlaneBufferGeometry:()=>Yl,PlaneGeometry:()=>Yl,PlaneHelper:()=>CF,PointCloud:()=>PF,PointCloudMaterial:()=>A8,PointLight:()=>C_,PointLightHelper:()=>bF,Points:()=>Vg,PointsMaterial:()=>Cf,PolarGridHelper:()=>wF,PolyhedronBufferGeometry:()=>Ef,PolyhedronGeometry:()=>Ef,PositionalAudio:()=>jD,PropertyBinding:()=>Za,PropertyMixer:()=>K0,QuadraticBezierCurve:()=>V0,QuadraticBezierCurve3:()=>z0,Quaternion:()=>br,QuaternionKeyframeTrack:()=>Yg,QuaternionLinearInterpolant:()=>I0,REVISION:()=>S,RGBADepthPacking:()=>yp,RGBAFormat:()=>Wo,RGBAIntegerFormat:()=>Ua,RGBA_ASTC_10x10_Format:()=>hp,RGBA_ASTC_10x5_Format:()=>no,RGBA_ASTC_10x6_Format:()=>Vr,RGBA_ASTC_10x8_Format:()=>Mc,RGBA_ASTC_12x10_Format:()=>sn,RGBA_ASTC_12x12_Format:()=>ol,RGBA_ASTC_4x4_Format:()=>wc,RGBA_ASTC_5x4_Format:()=>uf,RGBA_ASTC_5x5_Format:()=>Yu,RGBA_ASTC_6x5_Format:()=>qi,RGBA_ASTC_6x6_Format:()=>Pl,RGBA_ASTC_8x5_Format:()=>Co,RGBA_ASTC_8x6_Format:()=>cf,RGBA_ASTC_8x8_Format:()=>fp,RGBA_BPTC_Format:()=>Kr,RGBA_ETC2_EAC_Format:()=>$o,RGBA_PVRTC_2BPPV1_Format:()=>Wu,RGBA_PVRTC_4BPPV1_Format:()=>uu,RGBA_S3TC_DXT1_Format:()=>sf,RGBA_S3TC_DXT3_Format:()=>lu,RGBA_S3TC_DXT5_Format:()=>xo,RGBDEncoding:()=>ur,RGBEEncoding:()=>ys,RGBEFormat:()=>Uo,RGBFormat:()=>Uu,RGBIntegerFormat:()=>za,RGBM16Encoding:()=>dd,RGBM7Encoding:()=>hs,RGB_ETC1_Format:()=>lf,RGB_ETC2_Format:()=>uh,RGB_PVRTC_2BPPV1_Format:()=>af,RGB_PVRTC_4BPPV1_Format:()=>ju,RGB_S3TC_DXT1_Format:()=>rf,RGFormat:()=>bi,RGIntegerFormat:()=>Fs,RawShaderMaterial:()=>Rd,Ray:()=>pd,Raycaster:()=>$D,RectAreaLight:()=>LD,RedFormat:()=>Yo,RedIntegerFormat:()=>il,ReinhardToneMapping:()=>ye,RepeatWrapping:()=>qt,ReplaceStencilOp:()=>du,ReverseSubtractEquation:()=>mt,RingBufferGeometry:()=>D0,RingGeometry:()=>D0,SRGB8_ALPHA8_ASTC_10x10_Format:()=>cd,SRGB8_ALPHA8_ASTC_10x5_Format:()=>ag,SRGB8_ALPHA8_ASTC_10x6_Format:()=>Ml,SRGB8_ALPHA8_ASTC_10x8_Format:()=>Sy,SRGB8_ALPHA8_ASTC_12x10_Format:()=>pp,SRGB8_ALPHA8_ASTC_12x12_Format:()=>lg,SRGB8_ALPHA8_ASTC_4x4_Format:()=>ki,SRGB8_ALPHA8_ASTC_5x4_Format:()=>ud,SRGB8_ALPHA8_ASTC_5x5_Format:()=>cu,SRGB8_ALPHA8_ASTC_6x5_Format:()=>Es,SRGB8_ALPHA8_ASTC_6x6_Format:()=>Nl,SRGB8_ALPHA8_ASTC_8x5_Format:()=>Ma,SRGB8_ALPHA8_ASTC_8x6_Format:()=>sg,SRGB8_ALPHA8_ASTC_8x8_Format:()=>ch,Scene:()=>gi,SceneUtils:()=>uA,ShaderChunk:()=>Ji,ShaderLib:()=>tc,ShaderMaterial:()=>As,ShadowMaterial:()=>f_,Shape:()=>jp,ShapeBufferGeometry:()=>Ug,ShapeGeometry:()=>Ug,ShapePath:()=>FD,ShapeUtils:()=>Df,ShortType:()=>ds,Skeleton:()=>r_,SkeletonHelper:()=>JD,SkinnedMesh:()=>n_,SmoothShading:()=>Pe,Sphere:()=>hd,SphereBufferGeometry:()=>jg,SphereGeometry:()=>jg,Spherical:()=>_F,SphericalHarmonics3:()=>Kg,SplineCurve:()=>U0,SpotLight:()=>xu,SpotLightHelper:()=>fE,Sprite:()=>RC,SpriteMaterial:()=>rc,SrcAlphaFactor:()=>Oe,SrcAlphaSaturateFactor:()=>wn,SrcColorFactor:()=>Xt,StaticCopyUsage:()=>pi,StaticDrawUsage:()=>Hl,StaticReadUsage:()=>Hx,StereoCamera:()=>C8,StreamCopyUsage:()=>Lw,StreamDrawUsage:()=>li,StreamReadUsage:()=>Cy,StringKeyframeTrack:()=>Oh,SubtractEquation:()=>tt,SubtractiveBlending:()=>Ue,TOUCH:()=>R,TangentSpaceNormalMap:()=>Hs,TetrahedronBufferGeometry:()=>Wg,TetrahedronGeometry:()=>Wg,TextBufferGeometry:()=>u_,TextGeometry:()=>u_,Texture:()=>so,TextureLoader:()=>y_,TorusBufferGeometry:()=>Vp,TorusGeometry:()=>Vp,TorusKnotBufferGeometry:()=>zp,TorusKnotGeometry:()=>zp,Triangle:()=>Ko,TriangleFanDrawMode:()=>Et,TriangleStripDrawMode:()=>Ar,TrianglesDrawMode:()=>ni,TubeBufferGeometry:()=>c_,TubeGeometry:()=>c_,UVMapping:()=>lt,Uint16Attribute:()=>Zp,Uint16BufferAttribute:()=>yf,Uint32Attribute:()=>oc,Uint32BufferAttribute:()=>_d,Uint8Attribute:()=>Ld,Uint8BufferAttribute:()=>vh,Uint8ClampedAttribute:()=>I_,Uint8ClampedBufferAttribute:()=>mg,Uniform:()=>D_,UniformsLib:()=>nr,UniformsUtils:()=>Py,UnsignedByteType:()=>oa,UnsignedInt248Type:()=>Jn,UnsignedIntType:()=>au,UnsignedShort4444Type:()=>og,UnsignedShort5551Type:()=>bc,UnsignedShort565Type:()=>wa,UnsignedShortType:()=>$i,VSMShadowMap:()=>de,Vector2:()=>vn,Vector3:()=>Se,Vector4:()=>wi,VectorKeyframeTrack:()=>g_,Vertex:()=>FF,VertexColors:()=>kF,VideoTexture:()=>pD,WebGL1Renderer:()=>Rh,WebGLCubeRenderTarget:()=>_g,WebGLMultisampleRenderTarget:()=>mi,WebGLRenderTarget:()=>Xn,WebGLRenderTargetCube:()=>pv,WebGLRenderer:()=>Zo,WebGLUtils:()=>rD,WireframeGeometry:()=>d_,WireframeHelper:()=>dv,WrapAroundEnding:()=>ff,XHRLoader:()=>fv,ZeroCurvatureEnding:()=>Sa,ZeroFactor:()=>Wt,ZeroSlopeEnding:()=>Sc,ZeroStencilOp:()=>ug,sRGBEncoding:()=>Zn});var L=b(1670);const S="126",T={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},R={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},A=0,N=1,F=2,Y=3,te=0,oe=1,ae=2,de=3,pe=0,K=1,ce=2,xe=1,Pe=2,Te=0,ze=1,rt=2,Ue=3,Re=4,Ge=5,ut=100,tt=101,mt=102,kt=103,Ht=104,Wt=200,Gt=201,Xt=202,Pt=203,Oe=204,me=205,dt=206,Dt=207,Yt=208,yn=209,wn=210,Nt=0,$n=1,Vn=2,Un=3,kn=4,_r=5,En=6,tn=7,Wr=0,fi=1,hi=2,si=0,lr=1,ye=2,Ne=3,qe=4,bt=5,lt=300,Ke=301,Ye=302,$e=303,gt=304,ft=306,Ct=307,qt=1e3,cn=1001,Mn=1002,Pn=1003,yr=1004,ti=1004,ri=1005,ai=1005,Ri=1006,su=1007,kl=1007,Gi=1008,ia=1008,oa=1009,Mo=1010,ds=1011,$i=1012,Ll=1013,au=1014,Il=1015,fs=1016,og=1017,bc=1018,wa=1019,Jn=1020,nf=1021,Uu=1022,Wo=1023,rl=1024,go=1025,Uo=Wo,So=1026,vo=1027,Yo=1028,il=1029,bi=1030,Fs=1031,za=1032,Ua=1033,rf=33776,sf=33777,lu=33778,xo=33779,ju=35840,af=35841,uu=35842,Wu=35843,lf=36196,uh=37492,$o=37496,wc=37808,uf=37809,Yu=37810,qi=37811,Pl=37812,Co=37813,cf=37814,fp=37815,no=37816,Vr=37817,Mc=37818,hp=37819,sn=37820,ol=37821,Kr=36492,ki=37840,ud=37841,cu=37842,Es=37843,Nl=37844,Ma=37845,sg=37846,ch=37847,ag=37848,Ml=37849,Sy=37850,cd=37851,pp=37852,lg=37853,Fl=2200,mp=2201,gp=2202,df=2300,$s=2301,Pi=2302,Sa=2400,Sc=2401,ff=2402,hn=2500,vp=2501,ni=0,Ar=1,Et=2,mn=3e3,Zn=3001,Ni=3007,ys=3002,_s=3003,hs=3004,dd=3005,ur=3006,fd=3200,yp=3201,Hs=0,Xo=1,ug=0,ja=7680,du=7681,Fx=7682,pR=7683,fu=34055,Eo=34056,hf=5386,Aw=512,dh=513,Fi=514,cg=515,_p=516,xy=517,Ow=518,Gu=519,Hl=35044,xc=35048,li=35040,Hx=35045,kw=35049,Cy=35041,pi=35046,Bx=35050,Lw=35042,Ln="100",xa="300 es";function zi(){}Object.assign(zi.prototype,{addEventListener:function(h,l){void 0===this._listeners&&(this._listeners={});const d=this._listeners;void 0===d[h]&&(d[h]=[]),-1===d[h].indexOf(l)&&d[h].push(l)},hasEventListener:function(h,l){if(void 0===this._listeners)return!1;const d=this._listeners;return void 0!==d[h]&&-1!==d[h].indexOf(l)},removeEventListener:function(h,l){if(void 0===this._listeners)return;const m=this._listeners[h];if(void 0!==m){const v=m.indexOf(l);-1!==v&&m.splice(v,1)}},dispatchEvent:function(h){if(void 0===this._listeners)return;const d=this._listeners[h.type];if(void 0!==d){h.target=this;const m=d.slice(0);for(let v=0,_=m.length;v<_;v++)m[v].call(this,h)}}});const To=[];for(let h=0;h<256;h++)To[h]=(h<16?"0":"")+h.toString(16);let ps=1234567;const Er={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const h=4294967295*Math.random()|0,l=4294967295*Math.random()|0,d=4294967295*Math.random()|0,m=4294967295*Math.random()|0;return(To[255&h]+To[h>>8&255]+To[h>>16&255]+To[h>>24&255]+"-"+To[255&l]+To[l>>8&255]+"-"+To[l>>16&15|64]+To[l>>24&255]+"-"+To[63&d|128]+To[d>>8&255]+"-"+To[d>>16&255]+To[d>>24&255]+To[255&m]+To[m>>8&255]+To[m>>16&255]+To[m>>24&255]).toUpperCase()},clamp:function(h,l,d){return Math.max(l,Math.min(d,h))},euclideanModulo:function(h,l){return(h%l+l)%l},mapLinear:function(h,l,d,m,v){return m+(h-l)*(v-m)/(d-l)},lerp:function(h,l,d){return(1-d)*h+d*l},damp:function(h,l,d,m){return Er.lerp(h,l,1-Math.exp(-d*m))},pingpong:function(h,l=1){return l-Math.abs(Er.euclideanModulo(h,2*l)-l)},smoothstep:function(h,l,d){return h<=l?0:h>=d?1:(h=(h-l)/(d-l))*h*(3-2*h)},smootherstep:function(h,l,d){return h<=l?0:h>=d?1:(h=(h-l)/(d-l))*h*h*(h*(6*h-15)+10)},randInt:function(h,l){return h+Math.floor(Math.random()*(l-h+1))},randFloat:function(h,l){return h+Math.random()*(l-h)},randFloatSpread:function(h){return h*(.5-Math.random())},seededRandom:function(h){return void 0!==h&&(ps=h%2147483647),ps=16807*ps%2147483647,(ps-1)/2147483646},degToRad:function(h){return h*Er.DEG2RAD},radToDeg:function(h){return h*Er.RAD2DEG},isPowerOfTwo:function(h){return 0==(h&h-1)&&0!==h},ceilPowerOfTwo:function(h){return Math.pow(2,Math.ceil(Math.log(h)/Math.LN2))},floorPowerOfTwo:function(h){return Math.pow(2,Math.floor(Math.log(h)/Math.LN2))},setQuaternionFromProperEuler:function(h,l,d,m,v){const _=Math.cos,x=Math.sin,D=_(d/2),k=x(d/2),O=_((l+m)/2),z=x((l+m)/2),H=_((l-m)/2),V=x((l-m)/2),W=_((m-l)/2),q=x((m-l)/2);switch(v){case"XYX":h.set(D*z,k*H,k*V,D*O);break;case"YZY":h.set(k*V,D*z,k*H,D*O);break;case"ZXZ":h.set(k*H,k*V,D*z,D*O);break;case"XZX":h.set(D*z,k*q,k*W,D*O);break;case"YXY":h.set(k*W,D*z,k*q,D*O);break;case"ZYZ":h.set(k*q,k*W,D*z,D*O);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+v)}}};class vn{constructor(l=0,d=0){this.x=l,this.y=d}get width(){return this.x}set width(l){this.x=l}get height(){return this.y}set height(l){this.y=l}set(l,d){return this.x=l,this.y=d,this}setScalar(l){return this.x=l,this.y=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y)}copy(l){return this.x=l.x,this.y=l.y,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this)}addScalar(l){return this.x+=l,this.y+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this)}subScalar(l){return this.x-=l,this.y-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this}multiply(l){return this.x*=l.x,this.y*=l.y,this}multiplyScalar(l){return this.x*=l,this.y*=l,this}divide(l){return this.x/=l.x,this.y/=l.y,this}divideScalar(l){return this.multiplyScalar(1/l)}applyMatrix3(l){const d=this.x,m=this.y,v=l.elements;return this.x=v[0]*d+v[3]*m+v[6],this.y=v[1]*d+v[4]*m+v[7],this}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(l){return this.x*l.x+this.y*l.y}cross(l){return this.x*l.y-this.y*l.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(l){return Math.sqrt(this.distanceToSquared(l))}distanceToSquared(l){const d=this.x-l.x,m=this.y-l.y;return d*d+m*m}manhattanDistanceTo(l){return Math.abs(this.x-l.x)+Math.abs(this.y-l.y)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this}equals(l){return l.x===this.x&&l.y===this.y}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this}rotateAround(l,d){const m=Math.cos(d),v=Math.sin(d),_=this.x-l.x,x=this.y-l.y;return this.x=_*m-x*v+l.x,this.y=_*v+x*m+l.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}vn.prototype.isVector2=!0;class Ts{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(l,d,m,v,_,x,D,k,O){const z=this.elements;return z[0]=l,z[1]=v,z[2]=D,z[3]=d,z[4]=_,z[5]=k,z[6]=m,z[7]=x,z[8]=O,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(l){const d=this.elements,m=l.elements;return d[0]=m[0],d[1]=m[1],d[2]=m[2],d[3]=m[3],d[4]=m[4],d[5]=m[5],d[6]=m[6],d[7]=m[7],d[8]=m[8],this}extractBasis(l,d,m){return l.setFromMatrix3Column(this,0),d.setFromMatrix3Column(this,1),m.setFromMatrix3Column(this,2),this}setFromMatrix4(l){const d=l.elements;return this.set(d[0],d[4],d[8],d[1],d[5],d[9],d[2],d[6],d[10]),this}multiply(l){return this.multiplyMatrices(this,l)}premultiply(l){return this.multiplyMatrices(l,this)}multiplyMatrices(l,d){const m=l.elements,v=d.elements,_=this.elements,x=m[0],D=m[3],k=m[6],O=m[1],z=m[4],H=m[7],V=m[2],W=m[5],q=m[8],G=v[0],ne=v[3],ie=v[6],X=v[1],Ee=v[4],Me=v[7],He=v[2],_e=v[5],et=v[8];return _[0]=x*G+D*X+k*He,_[3]=x*ne+D*Ee+k*_e,_[6]=x*ie+D*Me+k*et,_[1]=O*G+z*X+H*He,_[4]=O*ne+z*Ee+H*_e,_[7]=O*ie+z*Me+H*et,_[2]=V*G+W*X+q*He,_[5]=V*ne+W*Ee+q*_e,_[8]=V*ie+W*Me+q*et,this}multiplyScalar(l){const d=this.elements;return d[0]*=l,d[3]*=l,d[6]*=l,d[1]*=l,d[4]*=l,d[7]*=l,d[2]*=l,d[5]*=l,d[8]*=l,this}determinant(){const l=this.elements,d=l[0],m=l[1],v=l[2],_=l[3],x=l[4],D=l[5],k=l[6],O=l[7],z=l[8];return d*x*z-d*D*O-m*_*z+m*D*k+v*_*O-v*x*k}invert(){const l=this.elements,d=l[0],m=l[1],v=l[2],_=l[3],x=l[4],D=l[5],k=l[6],O=l[7],z=l[8],H=z*x-D*O,V=D*k-z*_,W=O*_-x*k,q=d*H+m*V+v*W;if(0===q)return this.set(0,0,0,0,0,0,0,0,0);const G=1/q;return l[0]=H*G,l[1]=(v*O-z*m)*G,l[2]=(D*m-v*x)*G,l[3]=V*G,l[4]=(z*d-v*k)*G,l[5]=(v*_-D*d)*G,l[6]=W*G,l[7]=(m*k-O*d)*G,l[8]=(x*d-m*_)*G,this}transpose(){let l;const d=this.elements;return l=d[1],d[1]=d[3],d[3]=l,l=d[2],d[2]=d[6],d[6]=l,l=d[5],d[5]=d[7],d[7]=l,this}getNormalMatrix(l){return this.setFromMatrix4(l).invert().transpose()}transposeIntoArray(l){const d=this.elements;return l[0]=d[0],l[1]=d[3],l[2]=d[6],l[3]=d[1],l[4]=d[4],l[5]=d[7],l[6]=d[2],l[7]=d[5],l[8]=d[8],this}setUvTransform(l,d,m,v,_,x,D){const k=Math.cos(_),O=Math.sin(_);return this.set(m*k,m*O,-m*(k*x+O*D)+x+l,-v*O,v*k,-v*(-O*x+k*D)+D+d,0,0,1),this}scale(l,d){const m=this.elements;return m[0]*=l,m[3]*=l,m[6]*=l,m[1]*=d,m[4]*=d,m[7]*=d,this}rotate(l){const d=Math.cos(l),m=Math.sin(l),v=this.elements,_=v[0],x=v[3],D=v[6],k=v[1],O=v[4],z=v[7];return v[0]=d*_+m*k,v[3]=d*x+m*O,v[6]=d*D+m*z,v[1]=-m*_+d*k,v[4]=-m*x+d*O,v[7]=-m*D+d*z,this}translate(l,d){const m=this.elements;return m[0]+=l*m[2],m[3]+=l*m[5],m[6]+=l*m[8],m[1]+=d*m[2],m[4]+=d*m[5],m[7]+=d*m[8],this}equals(l){const d=this.elements,m=l.elements;for(let v=0;v<9;v++)if(d[v]!==m[v])return!1;return!0}fromArray(l,d=0){for(let m=0;m<9;m++)this.elements[m]=l[m+d];return this}toArray(l=[],d=0){const m=this.elements;return l[d]=m[0],l[d+1]=m[1],l[d+2]=m[2],l[d+3]=m[3],l[d+4]=m[4],l[d+5]=m[5],l[d+6]=m[6],l[d+7]=m[7],l[d+8]=m[8],l}clone(){return(new this.constructor).fromArray(this.elements)}}let Bl;Ts.prototype.isMatrix3=!0;const $u={getDataURL:function(h){if(/^data:/i.test(h.src)||"undefined"==typeof HTMLCanvasElement)return h.src;let l;if(h instanceof HTMLCanvasElement)l=h;else{void 0===Bl&&(Bl=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Bl.width=h.width,Bl.height=h.height;const d=Bl.getContext("2d");h instanceof ImageData?d.putImageData(h,0,0):d.drawImage(h,0,0,h.width,h.height),l=Bl}return l.width>2048||l.height>2048?l.toDataURL("image/jpeg",.6):l.toDataURL("image/png")}};let pf=0;class so extends zi{constructor(l=so.DEFAULT_IMAGE,d=so.DEFAULT_MAPPING,m=cn,v=cn,_=Ri,x=Gi,D=Wo,k=oa,O=1,z=mn){super(),Object.defineProperty(this,"id",{value:pf++}),this.uuid=Er.generateUUID(),this.name="",this.image=l,this.mipmaps=[],this.mapping=d,this.wrapS=m,this.wrapT=v,this.magFilter=_,this.minFilter=x,this.anisotropy=O,this.format=D,this.internalFormat=null,this.type=k,this.offset=new vn(0,0),this.repeat=new vn(1,1),this.center=new vn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ts,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=z,this.version=0,this.onUpdate=null}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(l){return this.name=l.name,this.image=l.image,this.mipmaps=l.mipmaps.slice(0),this.mapping=l.mapping,this.wrapS=l.wrapS,this.wrapT=l.wrapT,this.magFilter=l.magFilter,this.minFilter=l.minFilter,this.anisotropy=l.anisotropy,this.format=l.format,this.internalFormat=l.internalFormat,this.type=l.type,this.offset.copy(l.offset),this.repeat.copy(l.repeat),this.center.copy(l.center),this.rotation=l.rotation,this.matrixAutoUpdate=l.matrixAutoUpdate,this.matrix.copy(l.matrix),this.generateMipmaps=l.generateMipmaps,this.premultiplyAlpha=l.premultiplyAlpha,this.flipY=l.flipY,this.unpackAlignment=l.unpackAlignment,this.encoding=l.encoding,this}toJSON(l){const d=void 0===l||"string"==typeof l;if(!d&&void 0!==l.textures[this.uuid])return l.textures[this.uuid];const m={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const v=this.image;if(void 0===v.uuid&&(v.uuid=Er.generateUUID()),!d&&void 0===l.images[v.uuid]){let _;if(Array.isArray(v)){_=[];for(let x=0,D=v.length;x<D;x++)_.push(Ey(v[x].isDataTexture?v[x].image:v[x]))}else _=Ey(v);l.images[v.uuid]={uuid:v.uuid,url:_}}m.image=v.uuid}return d||(l.textures[this.uuid]=m),m}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(l){if(this.mapping!==lt)return l;if(l.applyMatrix3(this.matrix),l.x<0||l.x>1)switch(this.wrapS){case qt:l.x=l.x-Math.floor(l.x);break;case cn:l.x=l.x<0?0:1;break;case Mn:l.x=1===Math.abs(Math.floor(l.x)%2)?Math.ceil(l.x)-l.x:l.x-Math.floor(l.x)}if(l.y<0||l.y>1)switch(this.wrapT){case qt:l.y=l.y-Math.floor(l.y);break;case cn:l.y=l.y<0?0:1;break;case Mn:l.y=1===Math.abs(Math.floor(l.y)%2)?Math.ceil(l.y)-l.y:l.y-Math.floor(l.y)}return this.flipY&&(l.y=1-l.y),l}set needsUpdate(l){!0===l&&this.version++}}function Ey(h){return"undefined"!=typeof HTMLImageElement&&h instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&h instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&h instanceof ImageBitmap?$u.getDataURL(h):h.data?{data:Array.prototype.slice.call(h.data),width:h.width,height:h.height,type:h.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}so.DEFAULT_IMAGE=void 0,so.DEFAULT_MAPPING=lt,so.prototype.isTexture=!0;class wi{constructor(l=0,d=0,m=0,v=1){this.x=l,this.y=d,this.z=m,this.w=v}get width(){return this.z}set width(l){this.z=l}get height(){return this.w}set height(l){this.w=l}set(l,d,m,v){return this.x=l,this.y=d,this.z=m,this.w=v,this}setScalar(l){return this.x=l,this.y=l,this.z=l,this.w=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setZ(l){return this.z=l,this}setW(l){return this.w=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;case 2:this.z=d;break;case 3:this.w=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(l){return this.x=l.x,this.y=l.y,this.z=l.z,this.w=void 0!==l.w?l.w:1,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this.z+=l.z,this.w+=l.w,this)}addScalar(l){return this.x+=l,this.y+=l,this.z+=l,this.w+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this.z=l.z+d.z,this.w=l.w+d.w,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this.z+=l.z*d,this.w+=l.w*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this.z-=l.z,this.w-=l.w,this)}subScalar(l){return this.x-=l,this.y-=l,this.z-=l,this.w-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this.z=l.z-d.z,this.w=l.w-d.w,this}multiply(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z,this.w*=l.w,this}multiplyScalar(l){return this.x*=l,this.y*=l,this.z*=l,this.w*=l,this}applyMatrix4(l){const d=this.x,m=this.y,v=this.z,_=this.w,x=l.elements;return this.x=x[0]*d+x[4]*m+x[8]*v+x[12]*_,this.y=x[1]*d+x[5]*m+x[9]*v+x[13]*_,this.z=x[2]*d+x[6]*m+x[10]*v+x[14]*_,this.w=x[3]*d+x[7]*m+x[11]*v+x[15]*_,this}divideScalar(l){return this.multiplyScalar(1/l)}setAxisAngleFromQuaternion(l){this.w=2*Math.acos(l.w);const d=Math.sqrt(1-l.w*l.w);return d<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=l.x/d,this.y=l.y/d,this.z=l.z/d),this}setAxisAngleFromRotationMatrix(l){let d,m,v,_;const k=l.elements,O=k[0],z=k[4],H=k[8],V=k[1],W=k[5],q=k[9],G=k[2],ne=k[6],ie=k[10];if(Math.abs(z-V)<.01&&Math.abs(H-G)<.01&&Math.abs(q-ne)<.01){if(Math.abs(z+V)<.1&&Math.abs(H+G)<.1&&Math.abs(q+ne)<.1&&Math.abs(O+W+ie-3)<.1)return this.set(1,0,0,0),this;d=Math.PI;const Ee=(O+1)/2,Me=(W+1)/2,He=(ie+1)/2,_e=(z+V)/4,et=(H+G)/4,At=(q+ne)/4;return Ee>Me&&Ee>He?Ee<.01?(m=0,v=.707106781,_=.707106781):(m=Math.sqrt(Ee),v=_e/m,_=et/m):Me>He?Me<.01?(m=.707106781,v=0,_=.707106781):(v=Math.sqrt(Me),m=_e/v,_=At/v):He<.01?(m=.707106781,v=.707106781,_=0):(_=Math.sqrt(He),m=et/_,v=At/_),this.set(m,v,_,d),this}let X=Math.sqrt((ne-q)*(ne-q)+(H-G)*(H-G)+(V-z)*(V-z));return Math.abs(X)<.001&&(X=1),this.x=(ne-q)/X,this.y=(H-G)/X,this.z=(V-z)/X,this.w=Math.acos((O+W+ie-1)/2),this}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this.w=Math.min(this.w,l.w),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this.w=Math.max(this.w,l.w),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this.z=Math.max(l.z,Math.min(d.z,this.z)),this.w=Math.max(l.w,Math.min(d.w,this.w)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this.z=Math.max(l,Math.min(d,this.z)),this.w=Math.max(l,Math.min(d,this.w)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(l){return this.x*l.x+this.y*l.y+this.z*l.z+this.w*l.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this.z+=(l.z-this.z)*d,this.w+=(l.w-this.w)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this.z=l.z+(d.z-l.z)*m,this.w=l.w+(d.w-l.w)*m,this}equals(l){return l.x===this.x&&l.y===this.y&&l.z===this.z&&l.w===this.w}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this.z=l[d+2],this.w=l[d+3],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l[d+2]=this.z,l[d+3]=this.w,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this.z=l.getZ(d),this.w=l.getW(d),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}wi.prototype.isVector4=!0;class Xn extends zi{constructor(l,d,m){super(),this.width=l,this.height=d,this.depth=1,this.scissor=new wi(0,0,l,d),this.scissorTest=!1,this.viewport=new wi(0,0,l,d),this.texture=new so(void 0,(m=m||{}).mapping,m.wrapS,m.wrapT,m.magFilter,m.minFilter,m.format,m.type,m.anisotropy,m.encoding),this.texture.image={},this.texture.image.width=l,this.texture.image.height=d,this.texture.image.depth=1,this.texture.generateMipmaps=void 0!==m.generateMipmaps&&m.generateMipmaps,this.texture.minFilter=void 0!==m.minFilter?m.minFilter:Ri,this.depthBuffer=void 0===m.depthBuffer||m.depthBuffer,this.stencilBuffer=void 0!==m.stencilBuffer&&m.stencilBuffer,this.depthTexture=void 0!==m.depthTexture?m.depthTexture:null}setTexture(l){l.image={width:this.width,height:this.height,depth:this.depth},this.texture=l}setSize(l,d,m=1){(this.width!==l||this.height!==d||this.depth!==m)&&(this.width=l,this.height=d,this.depth=m,this.texture.image.width=l,this.texture.image.height=d,this.texture.image.depth=m,this.dispose()),this.viewport.set(0,0,l,d),this.scissor.set(0,0,l,d)}clone(){return(new this.constructor).copy(this)}copy(l){return this.width=l.width,this.height=l.height,this.depth=l.depth,this.viewport.copy(l.viewport),this.texture=l.texture.clone(),this.depthBuffer=l.depthBuffer,this.stencilBuffer=l.stencilBuffer,this.depthTexture=l.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Xn.prototype.isWebGLRenderTarget=!0;class mi extends Xn{constructor(l,d,m){super(l,d,m),this.samples=4}copy(l){return super.copy.call(this,l),this.samples=l.samples,this}}mi.prototype.isWebGLMultisampleRenderTarget=!0;class br{constructor(l=0,d=0,m=0,v=1){this._x=l,this._y=d,this._z=m,this._w=v}static slerp(l,d,m,v){return m.copy(l).slerp(d,v)}static slerpFlat(l,d,m,v,_,x,D){let k=m[v+0],O=m[v+1],z=m[v+2],H=m[v+3];const V=_[x+0],W=_[x+1],q=_[x+2],G=_[x+3];if(0===D)return l[d+0]=k,l[d+1]=O,l[d+2]=z,void(l[d+3]=H);if(1===D)return l[d+0]=V,l[d+1]=W,l[d+2]=q,void(l[d+3]=G);if(H!==G||k!==V||O!==W||z!==q){let ne=1-D;const ie=k*V+O*W+z*q+H*G,X=ie>=0?1:-1,Ee=1-ie*ie;if(Ee>Number.EPSILON){const He=Math.sqrt(Ee),_e=Math.atan2(He,ie*X);ne=Math.sin(ne*_e)/He,D=Math.sin(D*_e)/He}const Me=D*X;if(k=k*ne+V*Me,O=O*ne+W*Me,z=z*ne+q*Me,H=H*ne+G*Me,ne===1-D){const He=1/Math.sqrt(k*k+O*O+z*z+H*H);k*=He,O*=He,z*=He,H*=He}}l[d]=k,l[d+1]=O,l[d+2]=z,l[d+3]=H}static multiplyQuaternionsFlat(l,d,m,v,_,x){const D=m[v],k=m[v+1],O=m[v+2],z=m[v+3],H=_[x],V=_[x+1],W=_[x+2],q=_[x+3];return l[d]=D*q+z*H+k*W-O*V,l[d+1]=k*q+z*V+O*H-D*W,l[d+2]=O*q+z*W+D*V-k*H,l[d+3]=z*q-D*H-k*V-O*W,l}get x(){return this._x}set x(l){this._x=l,this._onChangeCallback()}get y(){return this._y}set y(l){this._y=l,this._onChangeCallback()}get z(){return this._z}set z(l){this._z=l,this._onChangeCallback()}get w(){return this._w}set w(l){this._w=l,this._onChangeCallback()}set(l,d,m,v){return this._x=l,this._y=d,this._z=m,this._w=v,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(l){return this._x=l.x,this._y=l.y,this._z=l.z,this._w=l.w,this._onChangeCallback(),this}setFromEuler(l,d){if(!l||!l.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const m=l._x,v=l._y,_=l._z,x=l._order,D=Math.cos,k=Math.sin,O=D(m/2),z=D(v/2),H=D(_/2),V=k(m/2),W=k(v/2),q=k(_/2);switch(x){case"XYZ":this._x=V*z*H+O*W*q,this._y=O*W*H-V*z*q,this._z=O*z*q+V*W*H,this._w=O*z*H-V*W*q;break;case"YXZ":this._x=V*z*H+O*W*q,this._y=O*W*H-V*z*q,this._z=O*z*q-V*W*H,this._w=O*z*H+V*W*q;break;case"ZXY":this._x=V*z*H-O*W*q,this._y=O*W*H+V*z*q,this._z=O*z*q+V*W*H,this._w=O*z*H-V*W*q;break;case"ZYX":this._x=V*z*H-O*W*q,this._y=O*W*H+V*z*q,this._z=O*z*q-V*W*H,this._w=O*z*H+V*W*q;break;case"YZX":this._x=V*z*H+O*W*q,this._y=O*W*H+V*z*q,this._z=O*z*q-V*W*H,this._w=O*z*H-V*W*q;break;case"XZY":this._x=V*z*H-O*W*q,this._y=O*W*H-V*z*q,this._z=O*z*q+V*W*H,this._w=O*z*H+V*W*q;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+x)}return!1!==d&&this._onChangeCallback(),this}setFromAxisAngle(l,d){const m=d/2,v=Math.sin(m);return this._x=l.x*v,this._y=l.y*v,this._z=l.z*v,this._w=Math.cos(m),this._onChangeCallback(),this}setFromRotationMatrix(l){const d=l.elements,m=d[0],v=d[4],_=d[8],x=d[1],D=d[5],k=d[9],O=d[2],z=d[6],H=d[10],V=m+D+H;if(V>0){const W=.5/Math.sqrt(V+1);this._w=.25/W,this._x=(z-k)*W,this._y=(_-O)*W,this._z=(x-v)*W}else if(m>D&&m>H){const W=2*Math.sqrt(1+m-D-H);this._w=(z-k)/W,this._x=.25*W,this._y=(v+x)/W,this._z=(_+O)/W}else if(D>H){const W=2*Math.sqrt(1+D-m-H);this._w=(_-O)/W,this._x=(v+x)/W,this._y=.25*W,this._z=(k+z)/W}else{const W=2*Math.sqrt(1+H-m-D);this._w=(x-v)/W,this._x=(_+O)/W,this._y=(k+z)/W,this._z=.25*W}return this._onChangeCallback(),this}setFromUnitVectors(l,d){let v=l.dot(d)+1;return v<1e-6?(v=0,Math.abs(l.x)>Math.abs(l.z)?(this._x=-l.y,this._y=l.x,this._z=0,this._w=v):(this._x=0,this._y=-l.z,this._z=l.y,this._w=v)):(this._x=l.y*d.z-l.z*d.y,this._y=l.z*d.x-l.x*d.z,this._z=l.x*d.y-l.y*d.x,this._w=v),this.normalize()}angleTo(l){return 2*Math.acos(Math.abs(Er.clamp(this.dot(l),-1,1)))}rotateTowards(l,d){const m=this.angleTo(l);if(0===m)return this;const v=Math.min(1,d/m);return this.slerp(l,v),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(l){return this._x*l._x+this._y*l._y+this._z*l._z+this._w*l._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let l=this.length();return 0===l?(this._x=0,this._y=0,this._z=0,this._w=1):(l=1/l,this._x=this._x*l,this._y=this._y*l,this._z=this._z*l,this._w=this._w*l),this._onChangeCallback(),this}multiply(l,d){return void 0!==d?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(l,d)):this.multiplyQuaternions(this,l)}premultiply(l){return this.multiplyQuaternions(l,this)}multiplyQuaternions(l,d){const m=l._x,v=l._y,_=l._z,x=l._w,D=d._x,k=d._y,O=d._z,z=d._w;return this._x=m*z+x*D+v*O-_*k,this._y=v*z+x*k+_*D-m*O,this._z=_*z+x*O+m*k-v*D,this._w=x*z-m*D-v*k-_*O,this._onChangeCallback(),this}slerp(l,d){if(0===d)return this;if(1===d)return this.copy(l);const m=this._x,v=this._y,_=this._z,x=this._w;let D=x*l._w+m*l._x+v*l._y+_*l._z;if(D<0?(this._w=-l._w,this._x=-l._x,this._y=-l._y,this._z=-l._z,D=-D):this.copy(l),D>=1)return this._w=x,this._x=m,this._y=v,this._z=_,this;const k=1-D*D;if(k<=Number.EPSILON){const W=1-d;return this._w=W*x+d*this._w,this._x=W*m+d*this._x,this._y=W*v+d*this._y,this._z=W*_+d*this._z,this.normalize(),this._onChangeCallback(),this}const O=Math.sqrt(k),z=Math.atan2(O,D),H=Math.sin((1-d)*z)/O,V=Math.sin(d*z)/O;return this._w=x*H+this._w*V,this._x=m*H+this._x*V,this._y=v*H+this._y*V,this._z=_*H+this._z*V,this._onChangeCallback(),this}equals(l){return l._x===this._x&&l._y===this._y&&l._z===this._z&&l._w===this._w}fromArray(l,d=0){return this._x=l[d],this._y=l[d+1],this._z=l[d+2],this._w=l[d+3],this._onChangeCallback(),this}toArray(l=[],d=0){return l[d]=this._x,l[d+1]=this._y,l[d+2]=this._z,l[d+3]=this._w,l}fromBufferAttribute(l,d){return this._x=l.getX(d),this._y=l.getY(d),this._z=l.getZ(d),this._w=l.getW(d),this}_onChange(l){return this._onChangeCallback=l,this}_onChangeCallback(){}}br.prototype.isQuaternion=!0;class Se{constructor(l=0,d=0,m=0){this.x=l,this.y=d,this.z=m}set(l,d,m){return void 0===m&&(m=this.z),this.x=l,this.y=d,this.z=m,this}setScalar(l){return this.x=l,this.y=l,this.z=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setZ(l){return this.z=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;case 2:this.z=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(l){return this.x=l.x,this.y=l.y,this.z=l.z,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this.z+=l.z,this)}addScalar(l){return this.x+=l,this.y+=l,this.z+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this.z=l.z+d.z,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this.z+=l.z*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this.z-=l.z,this)}subScalar(l){return this.x-=l,this.y-=l,this.z-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this.z=l.z-d.z,this}multiply(l,d){return void 0!==d?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(l,d)):(this.x*=l.x,this.y*=l.y,this.z*=l.z,this)}multiplyScalar(l){return this.x*=l,this.y*=l,this.z*=l,this}multiplyVectors(l,d){return this.x=l.x*d.x,this.y=l.y*d.y,this.z=l.z*d.z,this}applyEuler(l){return l&&l.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Bs.setFromEuler(l))}applyAxisAngle(l,d){return this.applyQuaternion(Bs.setFromAxisAngle(l,d))}applyMatrix3(l){const d=this.x,m=this.y,v=this.z,_=l.elements;return this.x=_[0]*d+_[3]*m+_[6]*v,this.y=_[1]*d+_[4]*m+_[7]*v,this.z=_[2]*d+_[5]*m+_[8]*v,this}applyNormalMatrix(l){return this.applyMatrix3(l).normalize()}applyMatrix4(l){const d=this.x,m=this.y,v=this.z,_=l.elements,x=1/(_[3]*d+_[7]*m+_[11]*v+_[15]);return this.x=(_[0]*d+_[4]*m+_[8]*v+_[12])*x,this.y=(_[1]*d+_[5]*m+_[9]*v+_[13])*x,this.z=(_[2]*d+_[6]*m+_[10]*v+_[14])*x,this}applyQuaternion(l){const d=this.x,m=this.y,v=this.z,_=l.x,x=l.y,D=l.z,k=l.w,O=k*d+x*v-D*m,z=k*m+D*d-_*v,H=k*v+_*m-x*d,V=-_*d-x*m-D*v;return this.x=O*k+V*-_+z*-D-H*-x,this.y=z*k+V*-x+H*-_-O*-D,this.z=H*k+V*-D+O*-x-z*-_,this}project(l){return this.applyMatrix4(l.matrixWorldInverse).applyMatrix4(l.projectionMatrix)}unproject(l){return this.applyMatrix4(l.projectionMatrixInverse).applyMatrix4(l.matrixWorld)}transformDirection(l){const d=this.x,m=this.y,v=this.z,_=l.elements;return this.x=_[0]*d+_[4]*m+_[8]*v,this.y=_[1]*d+_[5]*m+_[9]*v,this.z=_[2]*d+_[6]*m+_[10]*v,this.normalize()}divide(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z,this}divideScalar(l){return this.multiplyScalar(1/l)}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this.z=Math.max(l.z,Math.min(d.z,this.z)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this.z=Math.max(l,Math.min(d,this.z)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(l){return this.x*l.x+this.y*l.y+this.z*l.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this.z+=(l.z-this.z)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this.z=l.z+(d.z-l.z)*m,this}cross(l,d){return void 0!==d?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(l,d)):this.crossVectors(this,l)}crossVectors(l,d){const m=l.x,v=l.y,_=l.z,x=d.x,D=d.y,k=d.z;return this.x=v*k-_*D,this.y=_*x-m*k,this.z=m*D-v*x,this}projectOnVector(l){const d=l.lengthSq();if(0===d)return this.set(0,0,0);const m=l.dot(this)/d;return this.copy(l).multiplyScalar(m)}projectOnPlane(l){return Cc.copy(this).projectOnVector(l),this.sub(Cc)}reflect(l){return this.sub(Cc.copy(l).multiplyScalar(2*this.dot(l)))}angleTo(l){const d=Math.sqrt(this.lengthSq()*l.lengthSq());if(0===d)return Math.PI/2;const m=this.dot(l)/d;return Math.acos(Er.clamp(m,-1,1))}distanceTo(l){return Math.sqrt(this.distanceToSquared(l))}distanceToSquared(l){const d=this.x-l.x,m=this.y-l.y,v=this.z-l.z;return d*d+m*m+v*v}manhattanDistanceTo(l){return Math.abs(this.x-l.x)+Math.abs(this.y-l.y)+Math.abs(this.z-l.z)}setFromSpherical(l){return this.setFromSphericalCoords(l.radius,l.phi,l.theta)}setFromSphericalCoords(l,d,m){const v=Math.sin(d)*l;return this.x=v*Math.sin(m),this.y=Math.cos(d)*l,this.z=v*Math.cos(m),this}setFromCylindrical(l){return this.setFromCylindricalCoords(l.radius,l.theta,l.y)}setFromCylindricalCoords(l,d,m){return this.x=l*Math.sin(d),this.y=m,this.z=l*Math.cos(d),this}setFromMatrixPosition(l){const d=l.elements;return this.x=d[12],this.y=d[13],this.z=d[14],this}setFromMatrixScale(l){const d=this.setFromMatrixColumn(l,0).length(),m=this.setFromMatrixColumn(l,1).length(),v=this.setFromMatrixColumn(l,2).length();return this.x=d,this.y=m,this.z=v,this}setFromMatrixColumn(l,d){return this.fromArray(l.elements,4*d)}setFromMatrix3Column(l,d){return this.fromArray(l.elements,3*d)}equals(l){return l.x===this.x&&l.y===this.y&&l.z===this.z}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this.z=l[d+2],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l[d+2]=this.z,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this.z=l.getZ(d),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}Se.prototype.isVector3=!0;const Cc=new Se,Bs=new br;class Vs{constructor(l=new Se(1/0,1/0,1/0),d=new Se(-1/0,-1/0,-1/0)){this.min=l,this.max=d}set(l,d){return this.min.copy(l),this.max.copy(d),this}setFromArray(l){let d=1/0,m=1/0,v=1/0,_=-1/0,x=-1/0,D=-1/0;for(let k=0,O=l.length;k<O;k+=3){const z=l[k],H=l[k+1],V=l[k+2];z<d&&(d=z),H<m&&(m=H),V<v&&(v=V),z>_&&(_=z),H>x&&(x=H),V>D&&(D=V)}return this.min.set(d,m,v),this.max.set(_,x,D),this}setFromBufferAttribute(l){let d=1/0,m=1/0,v=1/0,_=-1/0,x=-1/0,D=-1/0;for(let k=0,O=l.count;k<O;k++){const z=l.getX(k),H=l.getY(k),V=l.getZ(k);z<d&&(d=z),H<m&&(m=H),V<v&&(v=V),z>_&&(_=z),H>x&&(x=H),V>D&&(D=V)}return this.min.set(d,m,v),this.max.set(_,x,D),this}setFromPoints(l){this.makeEmpty();for(let d=0,m=l.length;d<m;d++)this.expandByPoint(l[d]);return this}setFromCenterAndSize(l,d){const m=Ec.copy(d).multiplyScalar(.5);return this.min.copy(l).sub(m),this.max.copy(l).add(m),this}setFromObject(l){return this.makeEmpty(),this.expandByObject(l)}clone(){return(new this.constructor).copy(this)}copy(l){return this.min.copy(l.min),this.max.copy(l.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(l){return void 0===l&&(console.warn("THREE.Box3: .getCenter() target is now required"),l=new Se),this.isEmpty()?l.set(0,0,0):l.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(l){return void 0===l&&(console.warn("THREE.Box3: .getSize() target is now required"),l=new Se),this.isEmpty()?l.set(0,0,0):l.subVectors(this.max,this.min)}expandByPoint(l){return this.min.min(l),this.max.max(l),this}expandByVector(l){return this.min.sub(l),this.max.add(l),this}expandByScalar(l){return this.min.addScalar(-l),this.max.addScalar(l),this}expandByObject(l){l.updateWorldMatrix(!1,!1);const d=l.geometry;void 0!==d&&(null===d.boundingBox&&d.computeBoundingBox(),Vl.copy(d.boundingBox),Vl.applyMatrix4(l.matrixWorld),this.union(Vl));const m=l.children;for(let v=0,_=m.length;v<_;v++)this.expandByObject(m[v]);return this}containsPoint(l){return!(l.x<this.min.x||l.x>this.max.x||l.y<this.min.y||l.y>this.max.y||l.z<this.min.z||l.z>this.max.z)}containsBox(l){return this.min.x<=l.min.x&&l.max.x<=this.max.x&&this.min.y<=l.min.y&&l.max.y<=this.max.y&&this.min.z<=l.min.z&&l.max.z<=this.max.z}getParameter(l,d){return void 0===d&&(console.warn("THREE.Box3: .getParameter() target is now required"),d=new Se),d.set((l.x-this.min.x)/(this.max.x-this.min.x),(l.y-this.min.y)/(this.max.y-this.min.y),(l.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(l){return!(l.max.x<this.min.x||l.min.x>this.max.x||l.max.y<this.min.y||l.min.y>this.max.y||l.max.z<this.min.z||l.min.z>this.max.z)}intersectsSphere(l){return this.clampPoint(l.center,Ec),Ec.distanceToSquared(l.center)<=l.radius*l.radius}intersectsPlane(l){let d,m;return l.normal.x>0?(d=l.normal.x*this.min.x,m=l.normal.x*this.max.x):(d=l.normal.x*this.max.x,m=l.normal.x*this.min.x),l.normal.y>0?(d+=l.normal.y*this.min.y,m+=l.normal.y*this.max.y):(d+=l.normal.y*this.max.y,m+=l.normal.y*this.min.y),l.normal.z>0?(d+=l.normal.z*this.min.z,m+=l.normal.z*this.max.z):(d+=l.normal.z*this.max.z,m+=l.normal.z*this.min.z),d<=-l.constant&&m>=-l.constant}intersectsTriangle(l){if(this.isEmpty())return!1;this.getCenter(Rc),Xu.subVectors(this.max,Rc),ui.subVectors(l.a,Rc),Tc.subVectors(l.b,Rc),hu.subVectors(l.c,Rc),Sl.subVectors(Tc,ui),fa.subVectors(hu,Tc),is.subVectors(ui,hu);let d=[0,-Sl.z,Sl.y,0,-fa.z,fa.y,0,-is.z,is.y,Sl.z,0,-Sl.x,fa.z,0,-fa.x,is.z,0,-is.x,-Sl.y,Sl.x,0,-fa.y,fa.x,0,-is.y,is.x,0];return!(!fh(d,ui,Tc,hu,Xu)||(d=[1,0,0,0,1,0,0,0,1],!fh(d,ui,Tc,hu,Xu)))&&(sl.crossVectors(Sl,fa),d=[sl.x,sl.y,sl.z],fh(d,ui,Tc,hu,Xu))}clampPoint(l,d){return void 0===d&&(console.warn("THREE.Box3: .clampPoint() target is now required"),d=new Se),d.copy(l).clamp(this.min,this.max)}distanceToPoint(l){return Ec.copy(l).clamp(this.min,this.max).sub(l).length()}getBoundingSphere(l){return void 0===l&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(l.center),l.radius=.5*this.getSize(Ec).length(),l}intersect(l){return this.min.max(l.min),this.max.min(l.max),this.isEmpty()&&this.makeEmpty(),this}union(l){return this.min.min(l.min),this.max.max(l.max),this}applyMatrix4(l){return this.isEmpty()||(ko[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(l),ko[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(l),ko[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(l),ko[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(l),ko[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(l),ko[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(l),ko[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(l),ko[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(l),this.setFromPoints(ko)),this}translate(l){return this.min.add(l),this.max.add(l),this}equals(l){return l.min.equals(this.min)&&l.max.equals(this.max)}}Vs.prototype.isBox3=!0;const ko=[new Se,new Se,new Se,new Se,new Se,new Se,new Se,new Se],Ec=new Se,Vl=new Vs,ui=new Se,Tc=new Se,hu=new Se,Sl=new Se,fa=new Se,is=new Se,Rc=new Se,Xu=new Se,sl=new Se,al=new Se;function fh(h,l,d,m,v){for(let _=0,x=h.length-3;_<=x;_+=3){al.fromArray(h,_);const D=v.x*Math.abs(al.x)+v.y*Math.abs(al.y)+v.z*Math.abs(al.z),k=l.dot(al),O=d.dot(al),z=m.dot(al);if(Math.max(-Math.max(k,O,z),Math.min(k,O,z))>D)return!1}return!0}const jo=new Vs;class hd{constructor(l=new Se,d=-1){this.center=l,this.radius=d}set(l,d){return this.center.copy(l),this.radius=d,this}setFromPoints(l,d){const m=this.center;void 0!==d?m.copy(d):jo.setFromPoints(l).getCenter(m);let v=0;for(let _=0,x=l.length;_<x;_++)v=Math.max(v,m.distanceToSquared(l[_]));return this.radius=Math.sqrt(v),this}copy(l){return this.center.copy(l.center),this.radius=l.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(l){return l.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(l){return l.distanceTo(this.center)-this.radius}intersectsSphere(l){const d=this.radius+l.radius;return l.center.distanceToSquared(this.center)<=d*d}intersectsBox(l){return l.intersectsSphere(this)}intersectsPlane(l){return Math.abs(l.distanceToPoint(this.center))<=this.radius}clampPoint(l,d){const m=this.center.distanceToSquared(l);return void 0===d&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),d=new Se),d.copy(l),m>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center)),d}getBoundingBox(l){return void 0===l&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),l=new Vs),this.isEmpty()?(l.makeEmpty(),l):(l.set(this.center,this.center),l.expandByScalar(this.radius),l)}applyMatrix4(l){return this.center.applyMatrix4(l),this.radius=this.radius*l.getMaxScaleOnAxis(),this}translate(l){return this.center.add(l),this}equals(l){return l.center.equals(this.center)&&l.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Dc=new Se,Ca=new Se,ll=new Se,Ku=new Se,hh=new Se,mf=new Se,xl=new Se;class pd{constructor(l=new Se,d=new Se(0,0,-1)){this.origin=l,this.direction=d}set(l,d){return this.origin.copy(l),this.direction.copy(d),this}copy(l){return this.origin.copy(l.origin),this.direction.copy(l.direction),this}at(l,d){return void 0===d&&(console.warn("THREE.Ray: .at() target is now required"),d=new Se),d.copy(this.direction).multiplyScalar(l).add(this.origin)}lookAt(l){return this.direction.copy(l).sub(this.origin).normalize(),this}recast(l){return this.origin.copy(this.at(l,Dc)),this}closestPointToPoint(l,d){void 0===d&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),d=new Se),d.subVectors(l,this.origin);const m=d.dot(this.direction);return m<0?d.copy(this.origin):d.copy(this.direction).multiplyScalar(m).add(this.origin)}distanceToPoint(l){return Math.sqrt(this.distanceSqToPoint(l))}distanceSqToPoint(l){const d=Dc.subVectors(l,this.origin).dot(this.direction);return d<0?this.origin.distanceToSquared(l):(Dc.copy(this.direction).multiplyScalar(d).add(this.origin),Dc.distanceToSquared(l))}distanceSqToSegment(l,d,m,v){Ca.copy(l).add(d).multiplyScalar(.5),ll.copy(d).sub(l).normalize(),Ku.copy(this.origin).sub(Ca);const _=.5*l.distanceTo(d),x=-this.direction.dot(ll),D=Ku.dot(this.direction),k=-Ku.dot(ll),O=Ku.lengthSq(),z=Math.abs(1-x*x);let H,V,W,q;if(z>0)if(H=x*k-D,V=x*D-k,q=_*z,H>=0)if(V>=-q)if(V<=q){const G=1/z;H*=G,V*=G,W=H*(H+x*V+2*D)+V*(x*H+V+2*k)+O}else V=_,H=Math.max(0,-(x*V+D)),W=-H*H+V*(V+2*k)+O;else V=-_,H=Math.max(0,-(x*V+D)),W=-H*H+V*(V+2*k)+O;else V<=-q?(H=Math.max(0,-(-x*_+D)),V=H>0?-_:Math.min(Math.max(-_,-k),_),W=-H*H+V*(V+2*k)+O):V<=q?(H=0,V=Math.min(Math.max(-_,-k),_),W=V*(V+2*k)+O):(H=Math.max(0,-(x*_+D)),V=H>0?_:Math.min(Math.max(-_,-k),_),W=-H*H+V*(V+2*k)+O);else V=x>0?-_:_,H=Math.max(0,-(x*V+D)),W=-H*H+V*(V+2*k)+O;return m&&m.copy(this.direction).multiplyScalar(H).add(this.origin),v&&v.copy(ll).multiplyScalar(V).add(Ca),W}intersectSphere(l,d){Dc.subVectors(l.center,this.origin);const m=Dc.dot(this.direction),v=Dc.dot(Dc)-m*m,_=l.radius*l.radius;if(v>_)return null;const x=Math.sqrt(_-v),D=m-x,k=m+x;return D<0&&k<0?null:this.at(D<0?k:D,d)}intersectsSphere(l){return this.distanceSqToPoint(l.center)<=l.radius*l.radius}distanceToPlane(l){const d=l.normal.dot(this.direction);if(0===d)return 0===l.distanceToPoint(this.origin)?0:null;const m=-(this.origin.dot(l.normal)+l.constant)/d;return m>=0?m:null}intersectPlane(l,d){const m=this.distanceToPlane(l);return null===m?null:this.at(m,d)}intersectsPlane(l){const d=l.distanceToPoint(this.origin);return 0===d||l.normal.dot(this.direction)*d<0}intersectBox(l,d){let m,v,_,x,D,k;const O=1/this.direction.x,z=1/this.direction.y,H=1/this.direction.z,V=this.origin;return O>=0?(m=(l.min.x-V.x)*O,v=(l.max.x-V.x)*O):(m=(l.max.x-V.x)*O,v=(l.min.x-V.x)*O),z>=0?(_=(l.min.y-V.y)*z,x=(l.max.y-V.y)*z):(_=(l.max.y-V.y)*z,x=(l.min.y-V.y)*z),m>x||_>v||((_>m||m!=m)&&(m=_),(x<v||v!=v)&&(v=x),H>=0?(D=(l.min.z-V.z)*H,k=(l.max.z-V.z)*H):(D=(l.max.z-V.z)*H,k=(l.min.z-V.z)*H),m>k||D>v)||((D>m||m!=m)&&(m=D),(k<v||v!=v)&&(v=k),v<0)?null:this.at(m>=0?m:v,d)}intersectsBox(l){return null!==this.intersectBox(l,Dc)}intersectTriangle(l,d,m,v,_){hh.subVectors(d,l),mf.subVectors(m,l),xl.crossVectors(hh,mf);let D,x=this.direction.dot(xl);if(x>0){if(v)return null;D=1}else{if(!(x<0))return null;D=-1,x=-x}Ku.subVectors(this.origin,l);const k=D*this.direction.dot(mf.crossVectors(Ku,mf));if(k<0)return null;const O=D*this.direction.dot(hh.cross(Ku));if(O<0||k+O>x)return null;const z=-D*Ku.dot(xl);return z<0?null:this.at(z/x,_)}applyMatrix4(l){return this.origin.applyMatrix4(l),this.direction.transformDirection(l),this}equals(l){return l.origin.equals(this.origin)&&l.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Nr{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(l,d,m,v,_,x,D,k,O,z,H,V,W,q,G,ne){const ie=this.elements;return ie[0]=l,ie[4]=d,ie[8]=m,ie[12]=v,ie[1]=_,ie[5]=x,ie[9]=D,ie[13]=k,ie[2]=O,ie[6]=z,ie[10]=H,ie[14]=V,ie[3]=W,ie[7]=q,ie[11]=G,ie[15]=ne,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Nr).fromArray(this.elements)}copy(l){const d=this.elements,m=l.elements;return d[0]=m[0],d[1]=m[1],d[2]=m[2],d[3]=m[3],d[4]=m[4],d[5]=m[5],d[6]=m[6],d[7]=m[7],d[8]=m[8],d[9]=m[9],d[10]=m[10],d[11]=m[11],d[12]=m[12],d[13]=m[13],d[14]=m[14],d[15]=m[15],this}copyPosition(l){const d=this.elements,m=l.elements;return d[12]=m[12],d[13]=m[13],d[14]=m[14],this}setFromMatrix3(l){const d=l.elements;return this.set(d[0],d[3],d[6],0,d[1],d[4],d[7],0,d[2],d[5],d[8],0,0,0,0,1),this}extractBasis(l,d,m){return l.setFromMatrixColumn(this,0),d.setFromMatrixColumn(this,1),m.setFromMatrixColumn(this,2),this}makeBasis(l,d,m){return this.set(l.x,d.x,m.x,0,l.y,d.y,m.y,0,l.z,d.z,m.z,0,0,0,0,1),this}extractRotation(l){const d=this.elements,m=l.elements,v=1/gf.setFromMatrixColumn(l,0).length(),_=1/gf.setFromMatrixColumn(l,1).length(),x=1/gf.setFromMatrixColumn(l,2).length();return d[0]=m[0]*v,d[1]=m[1]*v,d[2]=m[2]*v,d[3]=0,d[4]=m[4]*_,d[5]=m[5]*_,d[6]=m[6]*_,d[7]=0,d[8]=m[8]*x,d[9]=m[9]*x,d[10]=m[10]*x,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,this}makeRotationFromEuler(l){l&&l.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const d=this.elements,m=l.x,v=l.y,_=l.z,x=Math.cos(m),D=Math.sin(m),k=Math.cos(v),O=Math.sin(v),z=Math.cos(_),H=Math.sin(_);if("XYZ"===l.order){const V=x*z,W=x*H,q=D*z,G=D*H;d[0]=k*z,d[4]=-k*H,d[8]=O,d[1]=W+q*O,d[5]=V-G*O,d[9]=-D*k,d[2]=G-V*O,d[6]=q+W*O,d[10]=x*k}else if("YXZ"===l.order){const V=k*z,W=k*H,q=O*z,G=O*H;d[0]=V+G*D,d[4]=q*D-W,d[8]=x*O,d[1]=x*H,d[5]=x*z,d[9]=-D,d[2]=W*D-q,d[6]=G+V*D,d[10]=x*k}else if("ZXY"===l.order){const V=k*z,W=k*H,q=O*z,G=O*H;d[0]=V-G*D,d[4]=-x*H,d[8]=q+W*D,d[1]=W+q*D,d[5]=x*z,d[9]=G-V*D,d[2]=-x*O,d[6]=D,d[10]=x*k}else if("ZYX"===l.order){const V=x*z,W=x*H,q=D*z,G=D*H;d[0]=k*z,d[4]=q*O-W,d[8]=V*O+G,d[1]=k*H,d[5]=G*O+V,d[9]=W*O-q,d[2]=-O,d[6]=D*k,d[10]=x*k}else if("YZX"===l.order){const V=x*k,W=x*O,q=D*k,G=D*O;d[0]=k*z,d[4]=G-V*H,d[8]=q*H+W,d[1]=H,d[5]=x*z,d[9]=-D*z,d[2]=-O*z,d[6]=W*H+q,d[10]=V-G*H}else if("XZY"===l.order){const V=x*k,W=x*O,q=D*k,G=D*O;d[0]=k*z,d[4]=-H,d[8]=O*z,d[1]=V*H+G,d[5]=x*z,d[9]=W*H-q,d[2]=q*H-W,d[6]=D*z,d[10]=G*H+V}return d[3]=0,d[7]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,this}makeRotationFromQuaternion(l){return this.compose(mR,l,Zu)}lookAt(l,d,m){const v=this.elements;return zl.subVectors(l,d),0===zl.lengthSq()&&(zl.z=1),zl.normalize(),Cl.crossVectors(m,zl),0===Cl.lengthSq()&&(1===Math.abs(m.z)?zl.x+=1e-4:zl.z+=1e-4,zl.normalize(),Cl.crossVectors(m,zl)),Cl.normalize(),dg.crossVectors(zl,Cl),v[0]=Cl.x,v[4]=dg.x,v[8]=zl.x,v[1]=Cl.y,v[5]=dg.y,v[9]=zl.y,v[2]=Cl.z,v[6]=dg.z,v[10]=zl.z,this}multiply(l,d){return void 0!==d?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(l,d)):this.multiplyMatrices(this,l)}premultiply(l){return this.multiplyMatrices(l,this)}multiplyMatrices(l,d){const m=l.elements,v=d.elements,_=this.elements,x=m[0],D=m[4],k=m[8],O=m[12],z=m[1],H=m[5],V=m[9],W=m[13],q=m[2],G=m[6],ne=m[10],ie=m[14],X=m[3],Ee=m[7],Me=m[11],He=m[15],_e=v[0],et=v[4],At=v[8],_t=v[12],nt=v[1],Vt=v[5],en=v[9],Bt=v[13],Rt=v[2],zt=v[6],Kt=v[10],In=v[14],jn=v[3],zn=v[7],Or=v[11],xr=v[15];return _[0]=x*_e+D*nt+k*Rt+O*jn,_[4]=x*et+D*Vt+k*zt+O*zn,_[8]=x*At+D*en+k*Kt+O*Or,_[12]=x*_t+D*Bt+k*In+O*xr,_[1]=z*_e+H*nt+V*Rt+W*jn,_[5]=z*et+H*Vt+V*zt+W*zn,_[9]=z*At+H*en+V*Kt+W*Or,_[13]=z*_t+H*Bt+V*In+W*xr,_[2]=q*_e+G*nt+ne*Rt+ie*jn,_[6]=q*et+G*Vt+ne*zt+ie*zn,_[10]=q*At+G*en+ne*Kt+ie*Or,_[14]=q*_t+G*Bt+ne*In+ie*xr,_[3]=X*_e+Ee*nt+Me*Rt+He*jn,_[7]=X*et+Ee*Vt+Me*zt+He*zn,_[11]=X*At+Ee*en+Me*Kt+He*Or,_[15]=X*_t+Ee*Bt+Me*In+He*xr,this}multiplyScalar(l){const d=this.elements;return d[0]*=l,d[4]*=l,d[8]*=l,d[12]*=l,d[1]*=l,d[5]*=l,d[9]*=l,d[13]*=l,d[2]*=l,d[6]*=l,d[10]*=l,d[14]*=l,d[3]*=l,d[7]*=l,d[11]*=l,d[15]*=l,this}determinant(){const l=this.elements,d=l[0],m=l[4],v=l[8],_=l[12],x=l[1],D=l[5],k=l[9],O=l[13],z=l[2],H=l[6],V=l[10],W=l[14];return l[3]*(+_*k*H-v*O*H-_*D*V+m*O*V+v*D*W-m*k*W)+l[7]*(+d*k*W-d*O*V+_*x*V-v*x*W+v*O*z-_*k*z)+l[11]*(+d*O*H-d*D*W-_*x*H+m*x*W+_*D*z-m*O*z)+l[15]*(-v*D*z-d*k*H+d*D*V+v*x*H-m*x*V+m*k*z)}transpose(){const l=this.elements;let d;return d=l[1],l[1]=l[4],l[4]=d,d=l[2],l[2]=l[8],l[8]=d,d=l[6],l[6]=l[9],l[9]=d,d=l[3],l[3]=l[12],l[12]=d,d=l[7],l[7]=l[13],l[13]=d,d=l[11],l[11]=l[14],l[14]=d,this}setPosition(l,d,m){const v=this.elements;return l.isVector3?(v[12]=l.x,v[13]=l.y,v[14]=l.z):(v[12]=l,v[13]=d,v[14]=m),this}invert(){const l=this.elements,d=l[0],m=l[1],v=l[2],_=l[3],x=l[4],D=l[5],k=l[6],O=l[7],z=l[8],H=l[9],V=l[10],W=l[11],q=l[12],G=l[13],ne=l[14],ie=l[15],X=H*ne*O-G*V*O+G*k*W-D*ne*W-H*k*ie+D*V*ie,Ee=q*V*O-z*ne*O-q*k*W+x*ne*W+z*k*ie-x*V*ie,Me=z*G*O-q*H*O+q*D*W-x*G*W-z*D*ie+x*H*ie,He=q*H*k-z*G*k-q*D*V+x*G*V+z*D*ne-x*H*ne,_e=d*X+m*Ee+v*Me+_*He;if(0===_e)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const et=1/_e;return l[0]=X*et,l[1]=(G*V*_-H*ne*_-G*v*W+m*ne*W+H*v*ie-m*V*ie)*et,l[2]=(D*ne*_-G*k*_+G*v*O-m*ne*O-D*v*ie+m*k*ie)*et,l[3]=(H*k*_-D*V*_-H*v*O+m*V*O+D*v*W-m*k*W)*et,l[4]=Ee*et,l[5]=(z*ne*_-q*V*_+q*v*W-d*ne*W-z*v*ie+d*V*ie)*et,l[6]=(q*k*_-x*ne*_-q*v*O+d*ne*O+x*v*ie-d*k*ie)*et,l[7]=(x*V*_-z*k*_+z*v*O-d*V*O-x*v*W+d*k*W)*et,l[8]=Me*et,l[9]=(q*H*_-z*G*_-q*m*W+d*G*W+z*m*ie-d*H*ie)*et,l[10]=(x*G*_-q*D*_+q*m*O-d*G*O-x*m*ie+d*D*ie)*et,l[11]=(z*D*_-x*H*_-z*m*O+d*H*O+x*m*W-d*D*W)*et,l[12]=He*et,l[13]=(z*G*v-q*H*v+q*m*V-d*G*V-z*m*ne+d*H*ne)*et,l[14]=(q*D*v-x*G*v-q*m*k+d*G*k+x*m*ne-d*D*ne)*et,l[15]=(x*H*v-z*D*v+z*m*k-d*H*k-x*m*V+d*D*V)*et,this}scale(l){const d=this.elements,m=l.x,v=l.y,_=l.z;return d[0]*=m,d[4]*=v,d[8]*=_,d[1]*=m,d[5]*=v,d[9]*=_,d[2]*=m,d[6]*=v,d[10]*=_,d[3]*=m,d[7]*=v,d[11]*=_,this}getMaxScaleOnAxis(){const l=this.elements;return Math.sqrt(Math.max(l[0]*l[0]+l[1]*l[1]+l[2]*l[2],l[4]*l[4]+l[5]*l[5]+l[6]*l[6],l[8]*l[8]+l[9]*l[9]+l[10]*l[10]))}makeTranslation(l,d,m){return this.set(1,0,0,l,0,1,0,d,0,0,1,m,0,0,0,1),this}makeRotationX(l){const d=Math.cos(l),m=Math.sin(l);return this.set(1,0,0,0,0,d,-m,0,0,m,d,0,0,0,0,1),this}makeRotationY(l){const d=Math.cos(l),m=Math.sin(l);return this.set(d,0,m,0,0,1,0,0,-m,0,d,0,0,0,0,1),this}makeRotationZ(l){const d=Math.cos(l),m=Math.sin(l);return this.set(d,-m,0,0,m,d,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(l,d){const m=Math.cos(d),v=Math.sin(d),_=1-m,x=l.x,D=l.y,k=l.z,O=_*x,z=_*D;return this.set(O*x+m,O*D-v*k,O*k+v*D,0,O*D+v*k,z*D+m,z*k-v*x,0,O*k-v*D,z*k+v*x,_*k*k+m,0,0,0,0,1),this}makeScale(l,d,m){return this.set(l,0,0,0,0,d,0,0,0,0,m,0,0,0,0,1),this}makeShear(l,d,m){return this.set(1,d,m,0,l,1,m,0,l,d,1,0,0,0,0,1),this}compose(l,d,m){const v=this.elements,_=d._x,x=d._y,D=d._z,k=d._w,O=_+_,z=x+x,H=D+D,V=_*O,W=_*z,q=_*H,G=x*z,ne=x*H,ie=D*H,X=k*O,Ee=k*z,Me=k*H,He=m.x,_e=m.y,et=m.z;return v[0]=(1-(G+ie))*He,v[1]=(W+Me)*He,v[2]=(q-Ee)*He,v[3]=0,v[4]=(W-Me)*_e,v[5]=(1-(V+ie))*_e,v[6]=(ne+X)*_e,v[7]=0,v[8]=(q+Ee)*et,v[9]=(ne-X)*et,v[10]=(1-(V+G))*et,v[11]=0,v[12]=l.x,v[13]=l.y,v[14]=l.z,v[15]=1,this}decompose(l,d,m){const v=this.elements;let _=gf.set(v[0],v[1],v[2]).length();const x=gf.set(v[4],v[5],v[6]).length(),D=gf.set(v[8],v[9],v[10]).length();this.determinant()<0&&(_=-_),l.x=v[12],l.y=v[13],l.z=v[14],pu.copy(this);const O=1/_,z=1/x,H=1/D;return pu.elements[0]*=O,pu.elements[1]*=O,pu.elements[2]*=O,pu.elements[4]*=z,pu.elements[5]*=z,pu.elements[6]*=z,pu.elements[8]*=H,pu.elements[9]*=H,pu.elements[10]*=H,d.setFromRotationMatrix(pu),m.x=_,m.y=x,m.z=D,this}makePerspective(l,d,m,v,_,x){void 0===x&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const D=this.elements,O=2*_/(m-v),z=(d+l)/(d-l),H=(m+v)/(m-v),V=-(x+_)/(x-_),W=-2*x*_/(x-_);return D[0]=2*_/(d-l),D[4]=0,D[8]=z,D[12]=0,D[1]=0,D[5]=O,D[9]=H,D[13]=0,D[2]=0,D[6]=0,D[10]=V,D[14]=W,D[3]=0,D[7]=0,D[11]=-1,D[15]=0,this}makeOrthographic(l,d,m,v,_,x){const D=this.elements,k=1/(d-l),O=1/(m-v),z=1/(x-_),H=(d+l)*k,V=(m+v)*O,W=(x+_)*z;return D[0]=2*k,D[4]=0,D[8]=0,D[12]=-H,D[1]=0,D[5]=2*O,D[9]=0,D[13]=-V,D[2]=0,D[6]=0,D[10]=-2*z,D[14]=-W,D[3]=0,D[7]=0,D[11]=0,D[15]=1,this}equals(l){const d=this.elements,m=l.elements;for(let v=0;v<16;v++)if(d[v]!==m[v])return!1;return!0}fromArray(l,d=0){for(let m=0;m<16;m++)this.elements[m]=l[m+d];return this}toArray(l=[],d=0){const m=this.elements;return l[d]=m[0],l[d+1]=m[1],l[d+2]=m[2],l[d+3]=m[3],l[d+4]=m[4],l[d+5]=m[5],l[d+6]=m[6],l[d+7]=m[7],l[d+8]=m[8],l[d+9]=m[9],l[d+10]=m[10],l[d+11]=m[11],l[d+12]=m[12],l[d+13]=m[13],l[d+14]=m[14],l[d+15]=m[15],l}}Nr.prototype.isMatrix4=!0;const gf=new Se,pu=new Nr,mR=new Se(0,0,0),Zu=new Se(1,1,1),Cl=new Se,dg=new Se,zl=new Se,Iw=new Nr,Pw=new br;class ph{constructor(l=0,d=0,m=0,v=ph.DefaultOrder){this._x=l,this._y=d,this._z=m,this._order=v}get x(){return this._x}set x(l){this._x=l,this._onChangeCallback()}get y(){return this._y}set y(l){this._y=l,this._onChangeCallback()}get z(){return this._z}set z(l){this._z=l,this._onChangeCallback()}get order(){return this._order}set order(l){this._order=l,this._onChangeCallback()}set(l,d,m,v){return this._x=l,this._y=d,this._z=m,this._order=v||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(l){return this._x=l._x,this._y=l._y,this._z=l._z,this._order=l._order,this._onChangeCallback(),this}setFromRotationMatrix(l,d,m){const v=Er.clamp,_=l.elements,x=_[0],D=_[4],k=_[8],O=_[1],z=_[5],H=_[9],V=_[2],W=_[6],q=_[10];switch(d=d||this._order){case"XYZ":this._y=Math.asin(v(k,-1,1)),Math.abs(k)<.9999999?(this._x=Math.atan2(-H,q),this._z=Math.atan2(-D,x)):(this._x=Math.atan2(W,z),this._z=0);break;case"YXZ":this._x=Math.asin(-v(H,-1,1)),Math.abs(H)<.9999999?(this._y=Math.atan2(k,q),this._z=Math.atan2(O,z)):(this._y=Math.atan2(-V,x),this._z=0);break;case"ZXY":this._x=Math.asin(v(W,-1,1)),Math.abs(W)<.9999999?(this._y=Math.atan2(-V,q),this._z=Math.atan2(-D,z)):(this._y=0,this._z=Math.atan2(O,x));break;case"ZYX":this._y=Math.asin(-v(V,-1,1)),Math.abs(V)<.9999999?(this._x=Math.atan2(W,q),this._z=Math.atan2(O,x)):(this._x=0,this._z=Math.atan2(-D,z));break;case"YZX":this._z=Math.asin(v(O,-1,1)),Math.abs(O)<.9999999?(this._x=Math.atan2(-H,z),this._y=Math.atan2(-V,x)):(this._x=0,this._y=Math.atan2(k,q));break;case"XZY":this._z=Math.asin(-v(D,-1,1)),Math.abs(D)<.9999999?(this._x=Math.atan2(W,z),this._y=Math.atan2(k,x)):(this._x=Math.atan2(-H,q),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+d)}return this._order=d,!1!==m&&this._onChangeCallback(),this}setFromQuaternion(l,d,m){return Iw.makeRotationFromQuaternion(l),this.setFromRotationMatrix(Iw,d,m)}setFromVector3(l,d){return this.set(l.x,l.y,l.z,d||this._order)}reorder(l){return Pw.setFromEuler(this),this.setFromQuaternion(Pw,l)}equals(l){return l._x===this._x&&l._y===this._y&&l._z===this._z&&l._order===this._order}fromArray(l){return this._x=l[0],this._y=l[1],this._z=l[2],void 0!==l[3]&&(this._order=l[3]),this._onChangeCallback(),this}toArray(l=[],d=0){return l[d]=this._x,l[d+1]=this._y,l[d+2]=this._z,l[d+3]=this._order,l}toVector3(l){return l?l.set(this._x,this._y,this._z):new Se(this._x,this._y,this._z)}_onChange(l){return this._onChangeCallback=l,this}_onChangeCallback(){}}ph.prototype.isEuler=!0,ph.DefaultOrder="XYZ",ph.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Nw{constructor(){this.mask=1}set(l){this.mask=1<<l|0}enable(l){this.mask|=1<<l|0}enableAll(){this.mask=-1}toggle(l){this.mask^=1<<l|0}disable(l){this.mask&=~(1<<l|0)}disableAll(){this.mask=0}test(l){return 0!=(this.mask&l.mask)}}let Vx=0;const zx=new Se,bp=new br,md=new Nr,Ty=new Se,mh=new Se,Ry=new Se,gR=new br,Ux=new Se(1,0,0),jx=new Se(0,1,0),gd=new Se(0,0,1),Wx={type:"added"},Rs={type:"removed"};function $r(){Object.defineProperty(this,"id",{value:Vx++}),this.uuid=Er.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=$r.DefaultUp.clone();const h=new Se,l=new ph,d=new br,m=new Se(1,1,1);l._onChange(function v(){d.setFromEuler(l,!1)}),d._onChange(function _(){l.setFromQuaternion(d,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:h},rotation:{configurable:!0,enumerable:!0,value:l},quaternion:{configurable:!0,enumerable:!0,value:d},scale:{configurable:!0,enumerable:!0,value:m},modelViewMatrix:{value:new Nr},normalMatrix:{value:new Ts}}),this.matrix=new Nr,this.matrixWorld=new Nr,this.matrixAutoUpdate=$r.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Nw,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}$r.DefaultUp=new Se(0,1,0),$r.DefaultMatrixAutoUpdate=!0,$r.prototype=Object.assign(Object.create(zi.prototype),{constructor:$r,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(h){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(h),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(h){return this.quaternion.premultiply(h),this},setRotationFromAxisAngle:function(h,l){this.quaternion.setFromAxisAngle(h,l)},setRotationFromEuler:function(h){this.quaternion.setFromEuler(h,!0)},setRotationFromMatrix:function(h){this.quaternion.setFromRotationMatrix(h)},setRotationFromQuaternion:function(h){this.quaternion.copy(h)},rotateOnAxis:function(h,l){return bp.setFromAxisAngle(h,l),this.quaternion.multiply(bp),this},rotateOnWorldAxis:function(h,l){return bp.setFromAxisAngle(h,l),this.quaternion.premultiply(bp),this},rotateX:function(h){return this.rotateOnAxis(Ux,h)},rotateY:function(h){return this.rotateOnAxis(jx,h)},rotateZ:function(h){return this.rotateOnAxis(gd,h)},translateOnAxis:function(h,l){return zx.copy(h).applyQuaternion(this.quaternion),this.position.add(zx.multiplyScalar(l)),this},translateX:function(h){return this.translateOnAxis(Ux,h)},translateY:function(h){return this.translateOnAxis(jx,h)},translateZ:function(h){return this.translateOnAxis(gd,h)},localToWorld:function(h){return h.applyMatrix4(this.matrixWorld)},worldToLocal:function(h){return h.applyMatrix4(md.copy(this.matrixWorld).invert())},lookAt:function(h,l,d){h.isVector3?Ty.copy(h):Ty.set(h,l,d);const m=this.parent;this.updateWorldMatrix(!0,!1),mh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?md.lookAt(mh,Ty,this.up):md.lookAt(Ty,mh,this.up),this.quaternion.setFromRotationMatrix(md),m&&(md.extractRotation(m.matrixWorld),bp.setFromRotationMatrix(md),this.quaternion.premultiply(bp.invert()))},add:function(h){if(arguments.length>1){for(let l=0;l<arguments.length;l++)this.add(arguments[l]);return this}return h===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",h),this):(h&&h.isObject3D?(null!==h.parent&&h.parent.remove(h),h.parent=this,this.children.push(h),h.dispatchEvent(Wx)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",h),this)},remove:function(h){if(arguments.length>1){for(let d=0;d<arguments.length;d++)this.remove(arguments[d]);return this}const l=this.children.indexOf(h);return-1!==l&&(h.parent=null,this.children.splice(l,1),h.dispatchEvent(Rs)),this},clear:function(){for(let h=0;h<this.children.length;h++){const l=this.children[h];l.parent=null,l.dispatchEvent(Rs)}return this.children.length=0,this},attach:function(h){return this.updateWorldMatrix(!0,!1),md.copy(this.matrixWorld).invert(),null!==h.parent&&(h.parent.updateWorldMatrix(!0,!1),md.multiply(h.parent.matrixWorld)),h.applyMatrix4(md),this.add(h),h.updateWorldMatrix(!1,!0),this},getObjectById:function(h){return this.getObjectByProperty("id",h)},getObjectByName:function(h){return this.getObjectByProperty("name",h)},getObjectByProperty:function(h,l){if(this[h]===l)return this;for(let d=0,m=this.children.length;d<m;d++){const _=this.children[d].getObjectByProperty(h,l);if(void 0!==_)return _}},getWorldPosition:function(h){return void 0===h&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),h=new Se),this.updateWorldMatrix(!0,!1),h.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(h){return void 0===h&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),h=new br),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mh,h,Ry),h},getWorldScale:function(h){return void 0===h&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),h=new Se),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mh,gR,h),h},getWorldDirection:function(h){void 0===h&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),h=new Se),this.updateWorldMatrix(!0,!1);const l=this.matrixWorld.elements;return h.set(l[8],l[9],l[10]).normalize()},raycast:function(){},traverse:function(h){h(this);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].traverse(h)},traverseVisible:function(h){if(!1===this.visible)return;h(this);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].traverseVisible(h)},traverseAncestors:function(h){const l=this.parent;null!==l&&(h(l),l.traverseAncestors(h))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(h){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||h)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,h=!0);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].updateMatrixWorld(h)},updateWorldMatrix:function(h,l){const d=this.parent;if(!0===h&&null!==d&&d.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===l){const m=this.children;for(let v=0,_=m.length;v<_;v++)m[v].updateWorldMatrix(!1,!0)}},toJSON:function(h){const l=void 0===h||"string"==typeof h,d={};l&&(h={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},d.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const m={};function v(x,D){return void 0===x[D.uuid]&&(x[D.uuid]=D.toJSON(h)),D.uuid}if(m.uuid=this.uuid,m.type=this.type,""!==this.name&&(m.name=this.name),!0===this.castShadow&&(m.castShadow=!0),!0===this.receiveShadow&&(m.receiveShadow=!0),!1===this.visible&&(m.visible=!1),!1===this.frustumCulled&&(m.frustumCulled=!1),0!==this.renderOrder&&(m.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(m.userData=this.userData),m.layers=this.layers.mask,m.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(m.matrixAutoUpdate=!1),this.isInstancedMesh&&(m.type="InstancedMesh",m.count=this.count,m.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){m.geometry=v(h.geometries,this.geometry);const x=this.geometry.parameters;if(void 0!==x&&void 0!==x.shapes){const D=x.shapes;if(Array.isArray(D))for(let k=0,O=D.length;k<O;k++)v(h.shapes,D[k]);else v(h.shapes,D)}}if(this.isSkinnedMesh&&(m.bindMode=this.bindMode,m.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(v(h.skeletons,this.skeleton),m.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const x=[];for(let D=0,k=this.material.length;D<k;D++)x.push(v(h.materials,this.material[D]));m.material=x}else m.material=v(h.materials,this.material);if(this.children.length>0){m.children=[];for(let x=0;x<this.children.length;x++)m.children.push(this.children[x].toJSON(h).object)}if(this.animations.length>0){m.animations=[];for(let x=0;x<this.animations.length;x++)m.animations.push(v(h.animations,this.animations[x]))}if(l){const x=_(h.geometries),D=_(h.materials),k=_(h.textures),O=_(h.images),z=_(h.shapes),H=_(h.skeletons),V=_(h.animations);x.length>0&&(d.geometries=x),D.length>0&&(d.materials=D),k.length>0&&(d.textures=k),O.length>0&&(d.images=O),z.length>0&&(d.shapes=z),H.length>0&&(d.skeletons=H),V.length>0&&(d.animations=V)}return d.object=m,d;function _(x){const D=[];for(const k in x){const O=x[k];delete O.metadata,D.push(O)}return D}},clone:function(h){return(new this.constructor).copy(this,h)},copy:function(h,l=!0){if(this.name=h.name,this.up.copy(h.up),this.position.copy(h.position),this.rotation.order=h.rotation.order,this.quaternion.copy(h.quaternion),this.scale.copy(h.scale),this.matrix.copy(h.matrix),this.matrixWorld.copy(h.matrixWorld),this.matrixAutoUpdate=h.matrixAutoUpdate,this.matrixWorldNeedsUpdate=h.matrixWorldNeedsUpdate,this.layers.mask=h.layers.mask,this.visible=h.visible,this.castShadow=h.castShadow,this.receiveShadow=h.receiveShadow,this.frustumCulled=h.frustumCulled,this.renderOrder=h.renderOrder,this.userData=JSON.parse(JSON.stringify(h.userData)),!0===l)for(let d=0;d<h.children.length;d++)this.add(h.children[d].clone());return this}});const Dy=new Se,fg=new Se,Fw=new Ts;class Ul{constructor(l=new Se(1,0,0),d=0){this.normal=l,this.constant=d}set(l,d){return this.normal.copy(l),this.constant=d,this}setComponents(l,d,m,v){return this.normal.set(l,d,m),this.constant=v,this}setFromNormalAndCoplanarPoint(l,d){return this.normal.copy(l),this.constant=-d.dot(this.normal),this}setFromCoplanarPoints(l,d,m){const v=Dy.subVectors(m,d).cross(fg.subVectors(l,d)).normalize();return this.setFromNormalAndCoplanarPoint(v,l),this}copy(l){return this.normal.copy(l.normal),this.constant=l.constant,this}normalize(){const l=1/this.normal.length();return this.normal.multiplyScalar(l),this.constant*=l,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(l){return this.normal.dot(l)+this.constant}distanceToSphere(l){return this.distanceToPoint(l.center)-l.radius}projectPoint(l,d){return void 0===d&&(console.warn("THREE.Plane: .projectPoint() target is now required"),d=new Se),d.copy(this.normal).multiplyScalar(-this.distanceToPoint(l)).add(l)}intersectLine(l,d){void 0===d&&(console.warn("THREE.Plane: .intersectLine() target is now required"),d=new Se);const m=l.delta(Dy),v=this.normal.dot(m);if(0===v)return 0===this.distanceToPoint(l.start)?d.copy(l.start):void 0;const _=-(l.start.dot(this.normal)+this.constant)/v;return _<0||_>1?void 0:d.copy(m).multiplyScalar(_).add(l.start)}intersectsLine(l){const d=this.distanceToPoint(l.start),m=this.distanceToPoint(l.end);return d<0&&m>0||m<0&&d>0}intersectsBox(l){return l.intersectsPlane(this)}intersectsSphere(l){return l.intersectsPlane(this)}coplanarPoint(l){return void 0===l&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),l=new Se),l.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(l,d){const m=d||Fw.getNormalMatrix(l),v=this.coplanarPoint(Dy).applyMatrix4(l),_=this.normal.applyMatrix3(m).normalize();return this.constant=-v.dot(_),this}translate(l){return this.constant-=l.dot(this.normal),this}equals(l){return l.normal.equals(this.normal)&&l.constant===this.constant}clone(){return(new this.constructor).copy(this)}}Ul.prototype.isPlane=!0;const mu=new Se,gu=new Se,Ay=new Se,zs=new Se,vd=new Se,gh=new Se,wp=new Se,hg=new Se,Oy=new Se,Qo=new Se;class Ko{constructor(l=new Se,d=new Se,m=new Se){this.a=l,this.b=d,this.c=m}static getNormal(l,d,m,v){void 0===v&&(console.warn("THREE.Triangle: .getNormal() target is now required"),v=new Se),v.subVectors(m,d),mu.subVectors(l,d),v.cross(mu);const _=v.lengthSq();return _>0?v.multiplyScalar(1/Math.sqrt(_)):v.set(0,0,0)}static getBarycoord(l,d,m,v,_){mu.subVectors(v,d),gu.subVectors(m,d),Ay.subVectors(l,d);const x=mu.dot(mu),D=mu.dot(gu),k=mu.dot(Ay),O=gu.dot(gu),z=gu.dot(Ay),H=x*O-D*D;if(void 0===_&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),_=new Se),0===H)return _.set(-2,-1,-1);const V=1/H,W=(O*k-D*z)*V,q=(x*z-D*k)*V;return _.set(1-W-q,q,W)}static containsPoint(l,d,m,v){return this.getBarycoord(l,d,m,v,zs),zs.x>=0&&zs.y>=0&&zs.x+zs.y<=1}static getUV(l,d,m,v,_,x,D,k){return this.getBarycoord(l,d,m,v,zs),k.set(0,0),k.addScaledVector(_,zs.x),k.addScaledVector(x,zs.y),k.addScaledVector(D,zs.z),k}static isFrontFacing(l,d,m,v){return mu.subVectors(m,d),gu.subVectors(l,d),mu.cross(gu).dot(v)<0}set(l,d,m){return this.a.copy(l),this.b.copy(d),this.c.copy(m),this}setFromPointsAndIndices(l,d,m,v){return this.a.copy(l[d]),this.b.copy(l[m]),this.c.copy(l[v]),this}clone(){return(new this.constructor).copy(this)}copy(l){return this.a.copy(l.a),this.b.copy(l.b),this.c.copy(l.c),this}getArea(){return mu.subVectors(this.c,this.b),gu.subVectors(this.a,this.b),.5*mu.cross(gu).length()}getMidpoint(l){return void 0===l&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),l=new Se),l.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(l){return Ko.getNormal(this.a,this.b,this.c,l)}getPlane(l){return void 0===l&&(console.warn("THREE.Triangle: .getPlane() target is now required"),l=new Ul),l.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(l,d){return Ko.getBarycoord(l,this.a,this.b,this.c,d)}getUV(l,d,m,v,_){return Ko.getUV(l,this.a,this.b,this.c,d,m,v,_)}containsPoint(l){return Ko.containsPoint(l,this.a,this.b,this.c)}isFrontFacing(l){return Ko.isFrontFacing(this.a,this.b,this.c,l)}intersectsBox(l){return l.intersectsTriangle(this)}closestPointToPoint(l,d){void 0===d&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),d=new Se);const m=this.a,v=this.b,_=this.c;let x,D;vd.subVectors(v,m),gh.subVectors(_,m),hg.subVectors(l,m);const k=vd.dot(hg),O=gh.dot(hg);if(k<=0&&O<=0)return d.copy(m);Oy.subVectors(l,v);const z=vd.dot(Oy),H=gh.dot(Oy);if(z>=0&&H<=z)return d.copy(v);const V=k*H-z*O;if(V<=0&&k>=0&&z<=0)return x=k/(k-z),d.copy(m).addScaledVector(vd,x);Qo.subVectors(l,_);const W=vd.dot(Qo),q=gh.dot(Qo);if(q>=0&&W<=q)return d.copy(_);const G=W*O-k*q;if(G<=0&&O>=0&&q<=0)return D=O/(O-q),d.copy(m).addScaledVector(gh,D);const ne=z*q-W*H;if(ne<=0&&H-z>=0&&W-q>=0)return wp.subVectors(_,v),D=(H-z)/(H-z+(W-q)),d.copy(v).addScaledVector(wp,D);const ie=1/(ne+G+V);return x=G*ie,D=V*ie,d.copy(m).addScaledVector(vd,x).addScaledVector(gh,D)}equals(l){return l.a.equals(this.a)&&l.b.equals(this.b)&&l.c.equals(this.c)}}let ky=0;function Po(){Object.defineProperty(this,"id",{value:ky++}),this.uuid=Er.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=ze,this.side=pe,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Oe,this.blendDst=me,this.blendEquation=ut,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Un,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Gu,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ja,this.stencilZFail=ja,this.stencilZPass=ja,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Po.prototype=Object.assign(Object.create(zi.prototype),{constructor:Po,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(h){if(void 0!==h)for(const l in h){const d=h[l];if(void 0===d){console.warn("THREE.Material: '"+l+"' parameter is undefined.");continue}if("shading"===l){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=d===xe;continue}const m=this[l];void 0!==m?m&&m.isColor?m.set(d):m&&m.isVector3&&d&&d.isVector3?m.copy(d):this[l]=d:console.warn("THREE."+this.type+": '"+l+"' is not a property of this material.")}},toJSON:function(h){const l=void 0===h||"string"==typeof h;l&&(h={textures:{},images:{}});const d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function m(v){const _=[];for(const x in v){const D=v[x];delete D.metadata,_.push(D)}return _}if(d.uuid=this.uuid,d.type=this.type,""!==this.name&&(d.name=this.name),this.color&&this.color.isColor&&(d.color=this.color.getHex()),void 0!==this.roughness&&(d.roughness=this.roughness),void 0!==this.metalness&&(d.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(d.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(d.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex()),void 0!==this.shininess&&(d.shininess=this.shininess),void 0!==this.clearcoat&&(d.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(d.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(d.clearcoatMap=this.clearcoatMap.toJSON(h).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(d.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(h).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(d.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(h).uuid,d.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(d.map=this.map.toJSON(h).uuid),this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(h).uuid),this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(h).uuid),this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(h).uuid,d.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(h).uuid,d.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(h).uuid,d.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(h).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(h).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(h).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(h).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(h).uuid),this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(h).uuid),this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(h).uuid,d.reflectivity=this.reflectivity,d.refractionRatio=this.refractionRatio,void 0!==this.combine&&(d.combine=this.combine),void 0!==this.envMapIntensity&&(d.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(h).uuid),void 0!==this.size&&(d.size=this.size),void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation),this.blending!==ze&&(d.blending=this.blending),this.side!==pe&&(d.side=this.side),this.vertexColors&&(d.vertexColors=!0),this.opacity<1&&(d.opacity=this.opacity),!0===this.transparent&&(d.transparent=this.transparent),d.depthFunc=this.depthFunc,d.depthTest=this.depthTest,d.depthWrite=this.depthWrite,d.stencilWrite=this.stencilWrite,d.stencilWriteMask=this.stencilWriteMask,d.stencilFunc=this.stencilFunc,d.stencilRef=this.stencilRef,d.stencilFuncMask=this.stencilFuncMask,d.stencilFail=this.stencilFail,d.stencilZFail=this.stencilZFail,d.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(d.rotation=this.rotation),!0===this.polygonOffset&&(d.polygonOffset=!0),0!==this.polygonOffsetFactor&&(d.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(d.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(d.linewidth=this.linewidth),void 0!==this.dashSize&&(d.dashSize=this.dashSize),void 0!==this.gapSize&&(d.gapSize=this.gapSize),void 0!==this.scale&&(d.scale=this.scale),!0===this.dithering&&(d.dithering=!0),this.alphaTest>0&&(d.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(d.wireframe=this.wireframe),this.wireframeLinewidth>1&&(d.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(d.morphTargets=!0),!0===this.morphNormals&&(d.morphNormals=!0),!0===this.skinning&&(d.skinning=!0),!0===this.flatShading&&(d.flatShading=this.flatShading),!1===this.visible&&(d.visible=!1),!1===this.toneMapped&&(d.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData),l){const v=m(h.textures),_=m(h.images);v.length>0&&(d.textures=v),_.length>0&&(d.images=_)}return d},clone:function(){return(new this.constructor).copy(this)},copy:function(h){this.name=h.name,this.fog=h.fog,this.blending=h.blending,this.side=h.side,this.vertexColors=h.vertexColors,this.opacity=h.opacity,this.transparent=h.transparent,this.blendSrc=h.blendSrc,this.blendDst=h.blendDst,this.blendEquation=h.blendEquation,this.blendSrcAlpha=h.blendSrcAlpha,this.blendDstAlpha=h.blendDstAlpha,this.blendEquationAlpha=h.blendEquationAlpha,this.depthFunc=h.depthFunc,this.depthTest=h.depthTest,this.depthWrite=h.depthWrite,this.stencilWriteMask=h.stencilWriteMask,this.stencilFunc=h.stencilFunc,this.stencilRef=h.stencilRef,this.stencilFuncMask=h.stencilFuncMask,this.stencilFail=h.stencilFail,this.stencilZFail=h.stencilZFail,this.stencilZPass=h.stencilZPass,this.stencilWrite=h.stencilWrite;const l=h.clippingPlanes;let d=null;if(null!==l){const m=l.length;d=new Array(m);for(let v=0;v!==m;++v)d[v]=l[v].clone()}return this.clippingPlanes=d,this.clipIntersection=h.clipIntersection,this.clipShadows=h.clipShadows,this.shadowSide=h.shadowSide,this.colorWrite=h.colorWrite,this.precision=h.precision,this.polygonOffset=h.polygonOffset,this.polygonOffsetFactor=h.polygonOffsetFactor,this.polygonOffsetUnits=h.polygonOffsetUnits,this.dithering=h.dithering,this.alphaTest=h.alphaTest,this.premultipliedAlpha=h.premultipliedAlpha,this.visible=h.visible,this.toneMapped=h.toneMapped,this.userData=JSON.parse(JSON.stringify(h.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Po.prototype,"needsUpdate",{set:function(h){!0===h&&this.version++}});const sa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jl={h:0,s:0,l:0},vf={h:0,s:0,l:0};function yd(h,l,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?h+6*(l-h)*d:d<.5?l:d<2/3?h+6*(l-h)*(2/3-d):h}function Wa(h){return h<.04045?.0773993808*h:Math.pow(.9478672986*h+.0521327014,2.4)}function pg(h){return h<.0031308?12.92*h:1.055*Math.pow(h,.41666)-.055}let cr=(()=>{class h{constructor(d,m,v){return void 0===m&&void 0===v?this.set(d):this.setRGB(d,m,v)}set(d){return d&&d.isColor?this.copy(d):"number"==typeof d?this.setHex(d):"string"==typeof d&&this.setStyle(d),this}setScalar(d){return this.r=d,this.g=d,this.b=d,this}setHex(d){return d=Math.floor(d),this.r=(d>>16&255)/255,this.g=(d>>8&255)/255,this.b=(255&d)/255,this}setRGB(d,m,v){return this.r=d,this.g=m,this.b=v,this}setHSL(d,m,v){if(d=Er.euclideanModulo(d,1),m=Er.clamp(m,0,1),v=Er.clamp(v,0,1),0===m)this.r=this.g=this.b=v;else{const _=v<=.5?v*(1+m):v+m-v*m,x=2*v-_;this.r=yd(x,_,d+1/3),this.g=yd(x,_,d),this.b=yd(x,_,d-1/3)}return this}setStyle(d){function m(_){void 0!==_&&parseFloat(_)<1&&console.warn("THREE.Color: Alpha component of "+d+" will be ignored.")}let v;if(v=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(d)){let _;const D=v[2];switch(v[1]){case"rgb":case"rgba":if(_=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D))return this.r=Math.min(255,parseInt(_[1],10))/255,this.g=Math.min(255,parseInt(_[2],10))/255,this.b=Math.min(255,parseInt(_[3],10))/255,m(_[4]),this;if(_=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D))return this.r=Math.min(100,parseInt(_[1],10))/100,this.g=Math.min(100,parseInt(_[2],10))/100,this.b=Math.min(100,parseInt(_[3],10))/100,m(_[4]),this;break;case"hsl":case"hsla":if(_=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D)){const k=parseFloat(_[1])/360,O=parseInt(_[2],10)/100,z=parseInt(_[3],10)/100;return m(_[4]),this.setHSL(k,O,z)}}}else if(v=/^\#([A-Fa-f\d]+)$/.exec(d)){const _=v[1],x=_.length;if(3===x)return this.r=parseInt(_.charAt(0)+_.charAt(0),16)/255,this.g=parseInt(_.charAt(1)+_.charAt(1),16)/255,this.b=parseInt(_.charAt(2)+_.charAt(2),16)/255,this;if(6===x)return this.r=parseInt(_.charAt(0)+_.charAt(1),16)/255,this.g=parseInt(_.charAt(2)+_.charAt(3),16)/255,this.b=parseInt(_.charAt(4)+_.charAt(5),16)/255,this}return d&&d.length>0?this.setColorName(d):this}setColorName(d){const m=sa[d];return void 0!==m?this.setHex(m):console.warn("THREE.Color: Unknown color "+d),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(d){return this.r=d.r,this.g=d.g,this.b=d.b,this}copyGammaToLinear(d,m=2){return this.r=Math.pow(d.r,m),this.g=Math.pow(d.g,m),this.b=Math.pow(d.b,m),this}copyLinearToGamma(d,m=2){const v=m>0?1/m:1;return this.r=Math.pow(d.r,v),this.g=Math.pow(d.g,v),this.b=Math.pow(d.b,v),this}convertGammaToLinear(d){return this.copyGammaToLinear(this,d),this}convertLinearToGamma(d){return this.copyLinearToGamma(this,d),this}copySRGBToLinear(d){return this.r=Wa(d.r),this.g=Wa(d.g),this.b=Wa(d.b),this}copyLinearToSRGB(d){return this.r=pg(d.r),this.g=pg(d.g),this.b=pg(d.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(d){void 0===d&&(console.warn("THREE.Color: .getHSL() target is now required"),d={h:0,s:0,l:0});const m=this.r,v=this.g,_=this.b,x=Math.max(m,v,_),D=Math.min(m,v,_);let k,O;const z=(D+x)/2;if(D===x)k=0,O=0;else{const H=x-D;switch(O=z<=.5?H/(x+D):H/(2-x-D),x){case m:k=(v-_)/H+(v<_?6:0);break;case v:k=(_-m)/H+2;break;case _:k=(m-v)/H+4}k/=6}return d.h=k,d.s=O,d.l=z,d}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(d,m,v){return this.getHSL(jl),jl.h+=d,jl.s+=m,jl.l+=v,this.setHSL(jl.h,jl.s,jl.l),this}add(d){return this.r+=d.r,this.g+=d.g,this.b+=d.b,this}addColors(d,m){return this.r=d.r+m.r,this.g=d.g+m.g,this.b=d.b+m.b,this}addScalar(d){return this.r+=d,this.g+=d,this.b+=d,this}sub(d){return this.r=Math.max(0,this.r-d.r),this.g=Math.max(0,this.g-d.g),this.b=Math.max(0,this.b-d.b),this}multiply(d){return this.r*=d.r,this.g*=d.g,this.b*=d.b,this}multiplyScalar(d){return this.r*=d,this.g*=d,this.b*=d,this}lerp(d,m){return this.r+=(d.r-this.r)*m,this.g+=(d.g-this.g)*m,this.b+=(d.b-this.b)*m,this}lerpColors(d,m,v){return this.r=d.r+(m.r-d.r)*v,this.g=d.g+(m.g-d.g)*v,this.b=d.b+(m.b-d.b)*v,this}lerpHSL(d,m){this.getHSL(jl),d.getHSL(vf);const v=Er.lerp(jl.h,vf.h,m),_=Er.lerp(jl.s,vf.s,m),x=Er.lerp(jl.l,vf.l,m);return this.setHSL(v,_,x),this}equals(d){return d.r===this.r&&d.g===this.g&&d.b===this.b}fromArray(d,m=0){return this.r=d[m],this.g=d[m+1],this.b=d[m+2],this}toArray(d=[],m=0){return d[m]=this.r,d[m+1]=this.g,d[m+2]=this.b,d}fromBufferAttribute(d,m){return this.r=d.getX(m),this.g=d.getY(m),this.b=d.getZ(m),!0===d.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return h.NAMES=sa,h})();cr.prototype.isColor=!0,cr.prototype.r=1,cr.prototype.g=1,cr.prototype.b=1;class Ac extends Po{constructor(l){super(),this.type="MeshBasicMaterial",this.color=new cr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wr,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this}}Ac.prototype.isMeshBasicMaterial=!0;const co=new Se,Mp=new vn;function Xr(h,l,d){if(Array.isArray(h))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=h,this.itemSize=l,this.count=void 0!==h?h.length/l:0,this.normalized=!0===d,this.usage=Hl,this.updateRange={offset:0,count:-1},this.version=0}function Qr(h,l,d){Xr.call(this,new Int8Array(h),l,d)}function vh(h,l,d){Xr.call(this,new Uint8Array(h),l,d)}function mg(h,l,d){Xr.call(this,new Uint8ClampedArray(h),l,d)}function Sp(h,l,d){Xr.call(this,new Int16Array(h),l,d)}function yf(h,l,d){Xr.call(this,new Uint16Array(h),l,d)}function xp(h,l,d){Xr.call(this,new Int32Array(h),l,d)}function _d(h,l,d){Xr.call(this,new Uint32Array(h),l,d)}function Cp(h,l,d){Xr.call(this,new Uint16Array(h),l,d)}function gr(h,l,d){Xr.call(this,new Float32Array(h),l,d)}function dn(h,l,d){Xr.call(this,new Float64Array(h),l,d)}function ro(h){if(0===h.length)return-1/0;let l=h[0];for(let d=1,m=h.length;d<m;++d)h[d]>l&&(l=h[d]);return l}Object.defineProperty(Xr.prototype,"needsUpdate",{set:function(h){!0===h&&this.version++}}),Object.assign(Xr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(h){return this.usage=h,this},copy:function(h){return this.name=h.name,this.array=new h.array.constructor(h.array),this.itemSize=h.itemSize,this.count=h.count,this.normalized=h.normalized,this.usage=h.usage,this},copyAt:function(h,l,d){h*=this.itemSize,d*=l.itemSize;for(let m=0,v=this.itemSize;m<v;m++)this.array[h+m]=l.array[d+m];return this},copyArray:function(h){return this.array.set(h),this},copyColorsArray:function(h){const l=this.array;let d=0;for(let m=0,v=h.length;m<v;m++){let _=h[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",m),_=new cr),l[d++]=_.r,l[d++]=_.g,l[d++]=_.b}return this},copyVector2sArray:function(h){const l=this.array;let d=0;for(let m=0,v=h.length;m<v;m++){let _=h[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",m),_=new vn),l[d++]=_.x,l[d++]=_.y}return this},copyVector3sArray:function(h){const l=this.array;let d=0;for(let m=0,v=h.length;m<v;m++){let _=h[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",m),_=new Se),l[d++]=_.x,l[d++]=_.y,l[d++]=_.z}return this},copyVector4sArray:function(h){const l=this.array;let d=0;for(let m=0,v=h.length;m<v;m++){let _=h[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",m),_=new wi),l[d++]=_.x,l[d++]=_.y,l[d++]=_.z,l[d++]=_.w}return this},applyMatrix3:function(h){if(2===this.itemSize)for(let l=0,d=this.count;l<d;l++)Mp.fromBufferAttribute(this,l),Mp.applyMatrix3(h),this.setXY(l,Mp.x,Mp.y);else if(3===this.itemSize)for(let l=0,d=this.count;l<d;l++)co.fromBufferAttribute(this,l),co.applyMatrix3(h),this.setXYZ(l,co.x,co.y,co.z);return this},applyMatrix4:function(h){for(let l=0,d=this.count;l<d;l++)co.x=this.getX(l),co.y=this.getY(l),co.z=this.getZ(l),co.applyMatrix4(h),this.setXYZ(l,co.x,co.y,co.z);return this},applyNormalMatrix:function(h){for(let l=0,d=this.count;l<d;l++)co.x=this.getX(l),co.y=this.getY(l),co.z=this.getZ(l),co.applyNormalMatrix(h),this.setXYZ(l,co.x,co.y,co.z);return this},transformDirection:function(h){for(let l=0,d=this.count;l<d;l++)co.x=this.getX(l),co.y=this.getY(l),co.z=this.getZ(l),co.transformDirection(h),this.setXYZ(l,co.x,co.y,co.z);return this},set:function(h,l=0){return this.array.set(h,l),this},getX:function(h){return this.array[h*this.itemSize]},setX:function(h,l){return this.array[h*this.itemSize]=l,this},getY:function(h){return this.array[h*this.itemSize+1]},setY:function(h,l){return this.array[h*this.itemSize+1]=l,this},getZ:function(h){return this.array[h*this.itemSize+2]},setZ:function(h,l){return this.array[h*this.itemSize+2]=l,this},getW:function(h){return this.array[h*this.itemSize+3]},setW:function(h,l){return this.array[h*this.itemSize+3]=l,this},setXY:function(h,l,d){return this.array[0+(h*=this.itemSize)]=l,this.array[h+1]=d,this},setXYZ:function(h,l,d,m){return this.array[0+(h*=this.itemSize)]=l,this.array[h+1]=d,this.array[h+2]=m,this},setXYZW:function(h,l,d,m,v){return this.array[0+(h*=this.itemSize)]=l,this.array[h+1]=d,this.array[h+2]=m,this.array[h+3]=v,this},onUpload:function(h){return this.onUploadCallback=h,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(Qr.prototype=Object.create(Xr.prototype)).constructor=Qr,(vh.prototype=Object.create(Xr.prototype)).constructor=vh,(mg.prototype=Object.create(Xr.prototype)).constructor=mg,(Sp.prototype=Object.create(Xr.prototype)).constructor=Sp,(yf.prototype=Object.create(Xr.prototype)).constructor=yf,(xp.prototype=Object.create(Xr.prototype)).constructor=xp,(_d.prototype=Object.create(Xr.prototype)).constructor=_d,(Cp.prototype=Object.create(Xr.prototype)).constructor=Cp,Cp.prototype.isFloat16BufferAttribute=!0,(gr.prototype=Object.create(Xr.prototype)).constructor=gr,(dn.prototype=Object.create(Xr.prototype)).constructor=dn;const bd={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wl(h,l){return new bd[h](l)}let Xs=0;const El=new Nr,_f=new $r,Ya=new Se,Ga=new Vs,Oc=new Vs,Us=new Se;function Fr(){Object.defineProperty(this,"id",{value:Xs++}),this.uuid=Er.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Fr.prototype=Object.assign(Object.create(zi.prototype),{constructor:Fr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(h){return this.index=Array.isArray(h)?new(ro(h)>65535?_d:yf)(h,1):h,this},getAttribute:function(h){return this.attributes[h]},setAttribute:function(h,l){return this.attributes[h]=l,this},deleteAttribute:function(h){return delete this.attributes[h],this},hasAttribute:function(h){return void 0!==this.attributes[h]},addGroup:function(h,l,d=0){this.groups.push({start:h,count:l,materialIndex:d})},clearGroups:function(){this.groups=[]},setDrawRange:function(h,l){this.drawRange.start=h,this.drawRange.count=l},applyMatrix4:function(h){const l=this.attributes.position;void 0!==l&&(l.applyMatrix4(h),l.needsUpdate=!0);const d=this.attributes.normal;if(void 0!==d){const v=(new Ts).getNormalMatrix(h);d.applyNormalMatrix(v),d.needsUpdate=!0}const m=this.attributes.tangent;return void 0!==m&&(m.transformDirection(h),m.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(h){return El.makeRotationX(h),this.applyMatrix4(El),this},rotateY:function(h){return El.makeRotationY(h),this.applyMatrix4(El),this},rotateZ:function(h){return El.makeRotationZ(h),this.applyMatrix4(El),this},translate:function(h,l,d){return El.makeTranslation(h,l,d),this.applyMatrix4(El),this},scale:function(h,l,d){return El.makeScale(h,l,d),this.applyMatrix4(El),this},lookAt:function(h){return _f.lookAt(h),_f.updateMatrix(),this.applyMatrix4(_f.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ya).negate(),this.translate(Ya.x,Ya.y,Ya.z),this},setFromPoints:function(h){const l=[];for(let d=0,m=h.length;d<m;d++){const v=h[d];l.push(v.x,v.y,v.z||0)}return this.setAttribute("position",new gr(l,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Vs);const h=this.attributes.position,l=this.morphAttributes.position;if(h&&h.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Se(-1/0,-1/0,-1/0),new Se(1/0,1/0,1/0));if(void 0!==h){if(this.boundingBox.setFromBufferAttribute(h),l)for(let d=0,m=l.length;d<m;d++)Ga.setFromBufferAttribute(l[d]),this.morphTargetsRelative?(Us.addVectors(this.boundingBox.min,Ga.min),this.boundingBox.expandByPoint(Us),Us.addVectors(this.boundingBox.max,Ga.max),this.boundingBox.expandByPoint(Us)):(this.boundingBox.expandByPoint(Ga.min),this.boundingBox.expandByPoint(Ga.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new hd);const h=this.attributes.position,l=this.morphAttributes.position;if(h&&h.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Se,1/0);if(h){const d=this.boundingSphere.center;if(Ga.setFromBufferAttribute(h),l)for(let v=0,_=l.length;v<_;v++)Oc.setFromBufferAttribute(l[v]),this.morphTargetsRelative?(Us.addVectors(Ga.min,Oc.min),Ga.expandByPoint(Us),Us.addVectors(Ga.max,Oc.max),Ga.expandByPoint(Us)):(Ga.expandByPoint(Oc.min),Ga.expandByPoint(Oc.max));Ga.getCenter(d);let m=0;for(let v=0,_=h.count;v<_;v++)Us.fromBufferAttribute(h,v),m=Math.max(m,d.distanceToSquared(Us));if(l)for(let v=0,_=l.length;v<_;v++){const x=l[v],D=this.morphTargetsRelative;for(let k=0,O=x.count;k<O;k++)Us.fromBufferAttribute(x,k),D&&(Ya.fromBufferAttribute(h,k),Us.add(Ya)),m=Math.max(m,d.distanceToSquared(Us))}this.boundingSphere.radius=Math.sqrt(m),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){const h=this.index,l=this.attributes;if(null===h||void 0===l.position||void 0===l.normal||void 0===l.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const d=h.array,m=l.position.array,v=l.normal.array,_=l.uv.array,x=m.length/3;void 0===l.tangent&&this.setAttribute("tangent",new Xr(new Float32Array(4*x),4));const D=l.tangent.array,k=[],O=[];for(let _t=0;_t<x;_t++)k[_t]=new Se,O[_t]=new Se;const z=new Se,H=new Se,V=new Se,W=new vn,q=new vn,G=new vn,ne=new Se,ie=new Se;function X(_t,nt,Vt){z.fromArray(m,3*_t),H.fromArray(m,3*nt),V.fromArray(m,3*Vt),W.fromArray(_,2*_t),q.fromArray(_,2*nt),G.fromArray(_,2*Vt),H.sub(z),V.sub(z),q.sub(W),G.sub(W);const en=1/(q.x*G.y-G.x*q.y);!isFinite(en)||(ne.copy(H).multiplyScalar(G.y).addScaledVector(V,-q.y).multiplyScalar(en),ie.copy(V).multiplyScalar(q.x).addScaledVector(H,-G.x).multiplyScalar(en),k[_t].add(ne),k[nt].add(ne),k[Vt].add(ne),O[_t].add(ie),O[nt].add(ie),O[Vt].add(ie))}let Ee=this.groups;0===Ee.length&&(Ee=[{start:0,count:d.length}]);for(let _t=0,nt=Ee.length;_t<nt;++_t){const Vt=Ee[_t],en=Vt.start;for(let Rt=en,zt=en+Vt.count;Rt<zt;Rt+=3)X(d[Rt+0],d[Rt+1],d[Rt+2])}const Me=new Se,He=new Se,_e=new Se,et=new Se;function At(_t){_e.fromArray(v,3*_t),et.copy(_e);const nt=k[_t];Me.copy(nt),Me.sub(_e.multiplyScalar(_e.dot(nt))).normalize(),He.crossVectors(et,nt);const en=He.dot(O[_t])<0?-1:1;D[4*_t]=Me.x,D[4*_t+1]=Me.y,D[4*_t+2]=Me.z,D[4*_t+3]=en}for(let _t=0,nt=Ee.length;_t<nt;++_t){const Vt=Ee[_t],en=Vt.start;for(let Rt=en,zt=en+Vt.count;Rt<zt;Rt+=3)At(d[Rt+0]),At(d[Rt+1]),At(d[Rt+2])}},computeVertexNormals:function(){const h=this.index,l=this.getAttribute("position");if(void 0!==l){let d=this.getAttribute("normal");if(void 0===d)d=new Xr(new Float32Array(3*l.count),3),this.setAttribute("normal",d);else for(let H=0,V=d.count;H<V;H++)d.setXYZ(H,0,0,0);const m=new Se,v=new Se,_=new Se,x=new Se,D=new Se,k=new Se,O=new Se,z=new Se;if(h)for(let H=0,V=h.count;H<V;H+=3){const W=h.getX(H+0),q=h.getX(H+1),G=h.getX(H+2);m.fromBufferAttribute(l,W),v.fromBufferAttribute(l,q),_.fromBufferAttribute(l,G),O.subVectors(_,v),z.subVectors(m,v),O.cross(z),x.fromBufferAttribute(d,W),D.fromBufferAttribute(d,q),k.fromBufferAttribute(d,G),x.add(O),D.add(O),k.add(O),d.setXYZ(W,x.x,x.y,x.z),d.setXYZ(q,D.x,D.y,D.z),d.setXYZ(G,k.x,k.y,k.z)}else for(let H=0,V=l.count;H<V;H+=3)m.fromBufferAttribute(l,H+0),v.fromBufferAttribute(l,H+1),_.fromBufferAttribute(l,H+2),O.subVectors(_,v),z.subVectors(m,v),O.cross(z),d.setXYZ(H+0,O.x,O.y,O.z),d.setXYZ(H+1,O.x,O.y,O.z),d.setXYZ(H+2,O.x,O.y,O.z);this.normalizeNormals(),d.needsUpdate=!0}},merge:function(h,l){if(!h||!h.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",h);void 0===l&&(l=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const d=this.attributes;for(const m in d){if(void 0===h.attributes[m])continue;const _=d[m].array,x=h.attributes[m],D=x.array,k=x.itemSize*l,O=Math.min(D.length,_.length-k);for(let z=0,H=k;z<O;z++,H++)_[H]=D[z]}return this},normalizeNormals:function(){const h=this.attributes.normal;for(let l=0,d=h.count;l<d;l++)Us.fromBufferAttribute(h,l),Us.normalize(),h.setXYZ(l,Us.x,Us.y,Us.z)},toNonIndexed:function(){function h(x,D){const k=x.array,O=x.itemSize,z=x.normalized,H=new k.constructor(D.length*O);let V=0,W=0;for(let q=0,G=D.length;q<G;q++){V=D[q]*O;for(let ne=0;ne<O;ne++)H[W++]=k[V++]}return new Xr(H,O,z)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const l=new Fr,d=this.index.array,m=this.attributes;for(const x in m){const k=h(m[x],d);l.setAttribute(x,k)}const v=this.morphAttributes;for(const x in v){const D=[],k=v[x];for(let O=0,z=k.length;O<z;O++){const V=h(k[O],d);D.push(V)}l.morphAttributes[x]=D}l.morphTargetsRelative=this.morphTargetsRelative;const _=this.groups;for(let x=0,D=_.length;x<D;x++){const k=_[x];l.addGroup(k.start,k.count,k.materialIndex)}return l},toJSON:function(){const h={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(h.uuid=this.uuid,h.type=this.type,""!==this.name&&(h.name=this.name),Object.keys(this.userData).length>0&&(h.userData=this.userData),void 0!==this.parameters){const D=this.parameters;for(const k in D)void 0!==D[k]&&(h[k]=D[k]);return h}h.data={attributes:{}};const l=this.index;null!==l&&(h.data.index={type:l.array.constructor.name,array:Array.prototype.slice.call(l.array)});const d=this.attributes;for(const D in d){const k=d[D],O=k.toJSON(h.data);""!==k.name&&(O.name=k.name),h.data.attributes[D]=O}const m={};let v=!1;for(const D in this.morphAttributes){const k=this.morphAttributes[D],O=[];for(let z=0,H=k.length;z<H;z++){const V=k[z],W=V.toJSON(h.data);""!==V.name&&(W.name=V.name),O.push(W)}O.length>0&&(m[D]=O,v=!0)}v&&(h.data.morphAttributes=m,h.data.morphTargetsRelative=this.morphTargetsRelative);const _=this.groups;_.length>0&&(h.data.groups=JSON.parse(JSON.stringify(_)));const x=this.boundingSphere;return null!==x&&(h.data.boundingSphere={center:x.center.toArray(),radius:x.radius}),h},clone:function(){return(new Fr).copy(this)},copy:function(h){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const l={};this.name=h.name;const d=h.index;null!==d&&this.setIndex(d.clone(l));const m=h.attributes;for(const k in m)this.setAttribute(k,m[k].clone(l));const v=h.morphAttributes;for(const k in v){const O=[],z=v[k];for(let H=0,V=z.length;H<V;H++)O.push(z[H].clone(l));this.morphAttributes[k]=O}this.morphTargetsRelative=h.morphTargetsRelative;const _=h.groups;for(let k=0,O=_.length;k<O;k++){const z=_[k];this.addGroup(z.start,z.count,z.materialIndex)}const x=h.boundingBox;null!==x&&(this.boundingBox=x.clone());const D=h.boundingSphere;return null!==D&&(this.boundingSphere=D.clone()),this.drawRange.start=h.drawRange.start,this.drawRange.count=h.drawRange.count,this.userData=h.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Yx=new Nr,kc=new pd,ha=new hd,Ea=new Se,Lc=new Se,ul=new Se,vu=new Se,Ly=new Se,Ep=new Se,gg=new Se,vg=new Se,yh=new Se,Tl=new vn,_h=new vn,bh=new vn,Iy=new Se,Tp=new Se;function ln(h=new Fr,l=new Ac){$r.call(this),this.type="Mesh",this.geometry=h,this.material=l,this.updateMorphTargets()}function Rp(h,l,d,m,v,_,x,D,k,O,z,H){Ea.fromBufferAttribute(v,O),Lc.fromBufferAttribute(v,z),ul.fromBufferAttribute(v,H);const V=h.morphTargetInfluences;if(l.morphTargets&&_&&V){gg.set(0,0,0),vg.set(0,0,0),yh.set(0,0,0);for(let q=0,G=_.length;q<G;q++){const ne=V[q],ie=_[q];0!==ne&&(vu.fromBufferAttribute(ie,O),Ly.fromBufferAttribute(ie,z),Ep.fromBufferAttribute(ie,H),x?(gg.addScaledVector(vu,ne),vg.addScaledVector(Ly,ne),yh.addScaledVector(Ep,ne)):(gg.addScaledVector(vu.sub(Ea),ne),vg.addScaledVector(Ly.sub(Lc),ne),yh.addScaledVector(Ep.sub(ul),ne)))}Ea.add(gg),Lc.add(vg),ul.add(yh)}h.isSkinnedMesh&&l.skinning&&(h.boneTransform(O,Ea),h.boneTransform(z,Lc),h.boneTransform(H,ul));const W=function Hw(h,l,d,m,v,_,x,D){let k;if(k=l.side===K?m.intersectTriangle(x,_,v,!0,D):m.intersectTriangle(v,_,x,l.side!==ce,D),null===k)return null;Tp.copy(D),Tp.applyMatrix4(h.matrixWorld);const O=d.ray.origin.distanceTo(Tp);return O<d.near||O>d.far?null:{distance:O,point:Tp.clone(),object:h}}(h,l,d,m,Ea,Lc,ul,Iy);if(W){D&&(Tl.fromBufferAttribute(D,O),_h.fromBufferAttribute(D,z),bh.fromBufferAttribute(D,H),W.uv=Ko.getUV(Iy,Ea,Lc,ul,Tl,_h,bh,new vn)),k&&(Tl.fromBufferAttribute(k,O),_h.fromBufferAttribute(k,z),bh.fromBufferAttribute(k,H),W.uv2=Ko.getUV(Iy,Ea,Lc,ul,Tl,_h,bh,new vn));const q={a:O,b:z,c:H,normal:new Se,materialIndex:0};Ko.getNormal(Ea,Lc,ul,q.normal),W.face=q}return W}ln.prototype=Object.assign(Object.create($r.prototype),{constructor:ln,isMesh:!0,copy:function(h){return $r.prototype.copy.call(this,h),void 0!==h.morphTargetInfluences&&(this.morphTargetInfluences=h.morphTargetInfluences.slice()),void 0!==h.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},h.morphTargetDictionary)),this.material=h.material,this.geometry=h.geometry,this},updateMorphTargets:function(){const h=this.geometry;if(h.isBufferGeometry){const l=h.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let v=0,_=m.length;v<_;v++){const x=m[v].name||String(v);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=v}}}}else{const l=h.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(h,l){const d=this.geometry,m=this.material,v=this.matrixWorld;if(void 0===m||(null===d.boundingSphere&&d.computeBoundingSphere(),ha.copy(d.boundingSphere),ha.applyMatrix4(v),!1===h.ray.intersectsSphere(ha))||(Yx.copy(v).invert(),kc.copy(h.ray).applyMatrix4(Yx),null!==d.boundingBox&&!1===kc.intersectsBox(d.boundingBox)))return;let _;if(d.isBufferGeometry){const x=d.index,D=d.attributes.position,k=d.morphAttributes.position,O=d.morphTargetsRelative,z=d.attributes.uv,H=d.attributes.uv2,V=d.groups,W=d.drawRange;if(null!==x)if(Array.isArray(m))for(let q=0,G=V.length;q<G;q++){const ne=V[q],ie=m[ne.materialIndex];for(let Me=Math.max(ne.start,W.start),He=Math.min(ne.start+ne.count,W.start+W.count);Me<He;Me+=3){const _e=x.getX(Me),et=x.getX(Me+1),At=x.getX(Me+2);_=Rp(this,ie,h,kc,D,k,O,z,H,_e,et,At),_&&(_.faceIndex=Math.floor(Me/3),_.face.materialIndex=ne.materialIndex,l.push(_))}}else for(let ne=Math.max(0,W.start),ie=Math.min(x.count,W.start+W.count);ne<ie;ne+=3){const X=x.getX(ne),Ee=x.getX(ne+1),Me=x.getX(ne+2);_=Rp(this,m,h,kc,D,k,O,z,H,X,Ee,Me),_&&(_.faceIndex=Math.floor(ne/3),l.push(_))}else if(void 0!==D)if(Array.isArray(m))for(let q=0,G=V.length;q<G;q++){const ne=V[q],ie=m[ne.materialIndex];for(let Me=Math.max(ne.start,W.start),He=Math.min(ne.start+ne.count,W.start+W.count);Me<He;Me+=3)_=Rp(this,ie,h,kc,D,k,O,z,H,Me,Me+1,Me+2),_&&(_.faceIndex=Math.floor(Me/3),_.face.materialIndex=ne.materialIndex,l.push(_))}else for(let ne=Math.max(0,W.start),ie=Math.min(D.count,W.start+W.count);ne<ie;ne+=3)_=Rp(this,m,h,kc,D,k,O,z,H,ne,ne+1,ne+2),_&&(_.faceIndex=Math.floor(ne/3),l.push(_))}else d.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});class Ic extends Fr{constructor(l=1,d=1,m=1,v=1,_=1,x=1){super(),this.type="BoxGeometry",this.parameters={width:l,height:d,depth:m,widthSegments:v,heightSegments:_,depthSegments:x};const D=this;v=Math.floor(v),_=Math.floor(_),x=Math.floor(x);const k=[],O=[],z=[],H=[];let V=0,W=0;function q(G,ne,ie,X,Ee,Me,He,_e,et,At,_t){const nt=Me/et,Vt=He/At,en=Me/2,Bt=He/2,Rt=_e/2,zt=et+1,Kt=At+1;let In=0,jn=0;const zn=new Se;for(let Or=0;Or<Kt;Or++){const xr=Or*Vt-Bt;for(let Qi=0;Qi<zt;Qi++)zn[G]=(Qi*nt-en)*X,zn[ne]=xr*Ee,zn[ie]=Rt,O.push(zn.x,zn.y,zn.z),zn[G]=0,zn[ne]=0,zn[ie]=_e>0?1:-1,z.push(zn.x,zn.y,zn.z),H.push(Qi/et),H.push(1-Or/At),In+=1}for(let Or=0;Or<At;Or++)for(let xr=0;xr<et;xr++){const vi=V+xr+zt*(Or+1),qo=V+(xr+1)+zt*(Or+1),Ro=V+(xr+1)+zt*Or;k.push(V+xr+zt*Or,vi,Ro),k.push(vi,qo,Ro),jn+=6}D.addGroup(W,jn,_t),W+=jn,V+=In}q("z","y","x",-1,-1,m,d,l,x,_,0),q("z","y","x",1,-1,m,d,-l,x,_,1),q("x","z","y",1,1,l,m,d,v,x,2),q("x","z","y",1,-1,l,m,-d,v,x,3),q("x","y","z",1,-1,l,d,m,v,_,4),q("x","y","z",-1,-1,l,d,-m,v,_,5),this.setIndex(k),this.setAttribute("position",new gr(O,3)),this.setAttribute("normal",new gr(z,3)),this.setAttribute("uv",new gr(H,2))}}function Ui(h){const l={};for(const d in h){l[d]={};for(const m in h[d]){const v=h[d][m];l[d][m]=v&&(v.isColor||v.isMatrix3||v.isMatrix4||v.isVector2||v.isVector3||v.isVector4||v.isTexture||v.isQuaternion)?v.clone():Array.isArray(v)?v.slice():v}}return l}function Ds(h){const l={};for(let d=0;d<h.length;d++){const m=Ui(h[d]);for(const v in m)l[v]=m[v]}return l}const Py={clone:Ui,merge:Ds};function As(h){Po.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==h&&(void 0!==h.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(h))}function No(){$r.call(this),this.type="Camera",this.matrixWorldInverse=new Nr,this.projectionMatrix=new Nr,this.projectionMatrixInverse=new Nr}function os(h=50,l=1,d=.1,m=2e3){No.call(this),this.type="PerspectiveCamera",this.fov=h,this.zoom=1,this.near=d,this.far=m,this.focus=10,this.aspect=l,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}(As.prototype=Object.create(Po.prototype)).constructor=As,As.prototype.isShaderMaterial=!0,As.prototype.copy=function(h){return Po.prototype.copy.call(this,h),this.fragmentShader=h.fragmentShader,this.vertexShader=h.vertexShader,this.uniforms=Ui(h.uniforms),this.defines=Object.assign({},h.defines),this.wireframe=h.wireframe,this.wireframeLinewidth=h.wireframeLinewidth,this.lights=h.lights,this.clipping=h.clipping,this.skinning=h.skinning,this.morphTargets=h.morphTargets,this.morphNormals=h.morphNormals,this.extensions=Object.assign({},h.extensions),this.glslVersion=h.glslVersion,this},As.prototype.toJSON=function(h){const l=Po.prototype.toJSON.call(this,h);l.glslVersion=this.glslVersion,l.uniforms={};for(const m in this.uniforms){const _=this.uniforms[m].value;l.uniforms[m]=_&&_.isTexture?{type:"t",value:_.toJSON(h).uuid}:_&&_.isColor?{type:"c",value:_.getHex()}:_&&_.isVector2?{type:"v2",value:_.toArray()}:_&&_.isVector3?{type:"v3",value:_.toArray()}:_&&_.isVector4?{type:"v4",value:_.toArray()}:_&&_.isMatrix3?{type:"m3",value:_.toArray()}:_&&_.isMatrix4?{type:"m4",value:_.toArray()}:{value:_}}Object.keys(this.defines).length>0&&(l.defines=this.defines),l.vertexShader=this.vertexShader,l.fragmentShader=this.fragmentShader;const d={};for(const m in this.extensions)!0===this.extensions[m]&&(d[m]=!0);return Object.keys(d).length>0&&(l.extensions=d),l},No.prototype=Object.assign(Object.create($r.prototype),{constructor:No,isCamera:!0,copy:function(h,l){return $r.prototype.copy.call(this,h,l),this.matrixWorldInverse.copy(h.matrixWorldInverse),this.projectionMatrix.copy(h.projectionMatrix),this.projectionMatrixInverse.copy(h.projectionMatrixInverse),this},getWorldDirection:function(h){void 0===h&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),h=new Se),this.updateWorldMatrix(!0,!1);const l=this.matrixWorld.elements;return h.set(-l[8],-l[9],-l[10]).normalize()},updateMatrixWorld:function(h){$r.prototype.updateMatrixWorld.call(this,h),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(h,l){$r.prototype.updateWorldMatrix.call(this,h,l),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),os.prototype=Object.assign(Object.create(No.prototype),{constructor:os,isPerspectiveCamera:!0,copy:function(h,l){return No.prototype.copy.call(this,h,l),this.fov=h.fov,this.zoom=h.zoom,this.near=h.near,this.far=h.far,this.focus=h.focus,this.aspect=h.aspect,this.view=null===h.view?null:Object.assign({},h.view),this.filmGauge=h.filmGauge,this.filmOffset=h.filmOffset,this},setFocalLength:function(h){const l=.5*this.getFilmHeight()/h;this.fov=2*Er.RAD2DEG*Math.atan(l),this.updateProjectionMatrix()},getFocalLength:function(){const h=Math.tan(.5*Er.DEG2RAD*this.fov);return.5*this.getFilmHeight()/h},getEffectiveFOV:function(){return 2*Er.RAD2DEG*Math.atan(Math.tan(.5*Er.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(h,l,d,m,v,_){this.aspect=h/l,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=h,this.view.fullHeight=l,this.view.offsetX=d,this.view.offsetY=m,this.view.width=v,this.view.height=_,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const h=this.near;let l=h*Math.tan(.5*Er.DEG2RAD*this.fov)/this.zoom,d=2*l,m=this.aspect*d,v=-.5*m;const _=this.view;if(null!==this.view&&this.view.enabled){const D=_.fullWidth,k=_.fullHeight;v+=_.offsetX*m/D,l-=_.offsetY*d/k,m*=_.width/D,d*=_.height/k}const x=this.filmOffset;0!==x&&(v+=h*x/this.getFilmWidth()),this.projectionMatrix.makePerspective(v,v+m,l,l-d,h,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(h){const l=$r.prototype.toJSON.call(this,h);return l.object.fov=this.fov,l.object.zoom=this.zoom,l.object.near=this.near,l.object.far=this.far,l.object.focus=this.focus,l.object.aspect=this.aspect,null!==this.view&&(l.object.view=Object.assign({},this.view)),l.object.filmGauge=this.filmGauge,l.object.filmOffset=this.filmOffset,l}});class yg extends $r{constructor(l,d,m){if(super(),this.type="CubeCamera",!0!==m.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=m;const v=new os(90,1,l,d);v.layers=this.layers,v.up.set(0,-1,0),v.lookAt(new Se(1,0,0)),this.add(v);const _=new os(90,1,l,d);_.layers=this.layers,_.up.set(0,-1,0),_.lookAt(new Se(-1,0,0)),this.add(_);const x=new os(90,1,l,d);x.layers=this.layers,x.up.set(0,0,1),x.lookAt(new Se(0,1,0)),this.add(x);const D=new os(90,1,l,d);D.layers=this.layers,D.up.set(0,0,-1),D.lookAt(new Se(0,-1,0)),this.add(D);const k=new os(90,1,l,d);k.layers=this.layers,k.up.set(0,-1,0),k.lookAt(new Se(0,0,1)),this.add(k);const O=new os(90,1,l,d);O.layers=this.layers,O.up.set(0,-1,0),O.lookAt(new Se(0,0,-1)),this.add(O)}update(l,d){null===this.parent&&this.updateMatrixWorld();const m=this.renderTarget,[v,_,x,D,k,O]=this.children,z=l.xr.enabled,H=l.getRenderTarget();l.xr.enabled=!1;const V=m.texture.generateMipmaps;m.texture.generateMipmaps=!1,l.setRenderTarget(m,0),l.render(d,v),l.setRenderTarget(m,1),l.render(d,_),l.setRenderTarget(m,2),l.render(d,x),l.setRenderTarget(m,3),l.render(d,D),l.setRenderTarget(m,4),l.render(d,k),m.texture.generateMipmaps=V,l.setRenderTarget(m,5),l.render(d,O),l.setRenderTarget(H),l.xr.enabled=z}}class bf extends so{constructor(l,d,m,v,_,x,D,k,O,z){super(l=void 0!==l?l:[],d=void 0!==d?d:Ke,m,v,_,x,D=void 0!==D?D:Uu,k,O,z),this._needsFlipEnvMap=!0,this.flipY=!1}get images(){return this.image}set images(l){this.image=l}}bf.prototype.isCubeTexture=!0;class _g extends Xn{constructor(l,d,m){Number.isInteger(d)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),d=m),super(l,l,d),this.texture=new bf(void 0,(d=d||{}).mapping,d.wrapS,d.wrapT,d.magFilter,d.minFilter,d.format,d.type,d.anisotropy,d.encoding),this.texture.generateMipmaps=void 0!==d.generateMipmaps&&d.generateMipmaps,this.texture.minFilter=void 0!==d.minFilter?d.minFilter:Ri,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(l,d){this.texture.type=d.type,this.texture.format=Wo,this.texture.encoding=d.encoding,this.texture.generateMipmaps=d.generateMipmaps,this.texture.minFilter=d.minFilter,this.texture.magFilter=d.magFilter;const m_uniforms={tEquirect:{value:null}},m_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",m_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",v=new Ic(5,5,5),_=new As({name:"CubemapFromEquirect",uniforms:Ui(m_uniforms),vertexShader:m_vertexShader,fragmentShader:m_fragmentShader,side:K,blending:Te});_.uniforms.tEquirect.value=d;const x=new ln(v,_),D=d.minFilter;return d.minFilter===Gi&&(d.minFilter=Ri),new yg(1,10,this).update(l,x),d.minFilter=D,x.geometry.dispose(),x.material.dispose(),this}clear(l,d,m,v){const _=l.getRenderTarget();for(let x=0;x<6;x++)l.setRenderTarget(this,x),l.clear(d,m,v);l.setRenderTarget(_)}}_g.prototype.isWebGLCubeRenderTarget=!0;class Pc extends so{constructor(l,d,m,v,_,x,D,k,O,z,H,V){super(null,x,D,k,O,z,v,_,H,V),this.image={data:l||null,width:d||1,height:m||1},this.magFilter=void 0!==O?O:Pn,this.minFilter=void 0!==z?z:Pn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Pc.prototype.isDataTexture=!0;const qu=new hd,wf=new Se;class wd{constructor(l=new Ul,d=new Ul,m=new Ul,v=new Ul,_=new Ul,x=new Ul){this.planes=[l,d,m,v,_,x]}set(l,d,m,v,_,x){const D=this.planes;return D[0].copy(l),D[1].copy(d),D[2].copy(m),D[3].copy(v),D[4].copy(_),D[5].copy(x),this}copy(l){const d=this.planes;for(let m=0;m<6;m++)d[m].copy(l.planes[m]);return this}setFromProjectionMatrix(l){const d=this.planes,m=l.elements,v=m[0],_=m[1],x=m[2],D=m[3],k=m[4],O=m[5],z=m[6],H=m[7],V=m[8],W=m[9],q=m[10],G=m[11],ne=m[12],ie=m[13],X=m[14],Ee=m[15];return d[0].setComponents(D-v,H-k,G-V,Ee-ne).normalize(),d[1].setComponents(D+v,H+k,G+V,Ee+ne).normalize(),d[2].setComponents(D+_,H+O,G+W,Ee+ie).normalize(),d[3].setComponents(D-_,H-O,G-W,Ee-ie).normalize(),d[4].setComponents(D-x,H-z,G-q,Ee-X).normalize(),d[5].setComponents(D+x,H+z,G+q,Ee+X).normalize(),this}intersectsObject(l){const d=l.geometry;return null===d.boundingSphere&&d.computeBoundingSphere(),qu.copy(d.boundingSphere).applyMatrix4(l.matrixWorld),this.intersectsSphere(qu)}intersectsSprite(l){return qu.center.set(0,0,0),qu.radius=.7071067811865476,qu.applyMatrix4(l.matrixWorld),this.intersectsSphere(qu)}intersectsSphere(l){const d=this.planes,m=l.center,v=-l.radius;for(let _=0;_<6;_++)if(d[_].distanceToPoint(m)<v)return!1;return!0}intersectsBox(l){const d=this.planes;for(let m=0;m<6;m++){const v=d[m];if(wf.x=v.normal.x>0?l.max.x:l.min.x,wf.y=v.normal.y>0?l.max.y:l.min.y,wf.z=v.normal.z>0?l.max.z:l.min.z,v.distanceToPoint(wf)<0)return!1}return!0}containsPoint(l){const d=this.planes;for(let m=0;m<6;m++)if(d[m].distanceToPoint(l)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Dp(){let h=null,l=!1,d=null,m=null;function v(_,x){d(_,x),m=h.requestAnimationFrame(v)}return{start:function(){!0!==l&&null!==d&&(m=h.requestAnimationFrame(v),l=!0)},stop:function(){h.cancelAnimationFrame(m),l=!1},setAnimationLoop:function(_){d=_},setContext:function(_){h=_}}}function Gx(h,l){const d=l.isWebGL2,m=new WeakMap;return{get:function x(O){return O.isInterleavedBufferAttribute&&(O=O.data),m.get(O)},remove:function D(O){O.isInterleavedBufferAttribute&&(O=O.data);const z=m.get(O);z&&(h.deleteBuffer(z.buffer),m.delete(O))},update:function k(O,z){if(O.isGLBufferAttribute){const V=m.get(O);return void((!V||V.version<O.version)&&m.set(O,{buffer:O.buffer,type:O.type,bytesPerElement:O.elementSize,version:O.version}))}O.isInterleavedBufferAttribute&&(O=O.data);const H=m.get(O);void 0===H?m.set(O,function v(O,z){const H=O.array,V=O.usage,W=h.createBuffer();h.bindBuffer(z,W),h.bufferData(z,H,V),O.onUploadCallback();let q=5126;return H instanceof Float32Array?q=5126:H instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):H instanceof Uint16Array?O.isFloat16BufferAttribute?d?q=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):q=5123:H instanceof Int16Array?q=5122:H instanceof Uint32Array?q=5125:H instanceof Int32Array?q=5124:H instanceof Int8Array?q=5120:H instanceof Uint8Array&&(q=5121),{buffer:W,type:q,bytesPerElement:H.BYTES_PER_ELEMENT,version:O.version}}(O,z)):H.version<O.version&&(function _(O,z,H){const V=z.array,W=z.updateRange;h.bindBuffer(H,O),-1===W.count?h.bufferSubData(H,0,V):(d?h.bufferSubData(H,W.offset*V.BYTES_PER_ELEMENT,V,W.offset,W.count):h.bufferSubData(H,W.offset*V.BYTES_PER_ELEMENT,V.subarray(W.offset,W.offset+W.count)),W.count=-1)}(H.buffer,O,z),H.version=O.version)}}}class Yl extends Fr{constructor(l=1,d=1,m=1,v=1){super(),this.type="PlaneGeometry",this.parameters={width:l,height:d,widthSegments:m,heightSegments:v};const _=l/2,x=d/2,D=Math.floor(m),k=Math.floor(v),O=D+1,z=k+1,H=l/D,V=d/k,W=[],q=[],G=[],ne=[];for(let ie=0;ie<z;ie++){const X=ie*V-x;for(let Ee=0;Ee<O;Ee++)q.push(Ee*H-_,-X,0),G.push(0,0,1),ne.push(Ee/D),ne.push(1-ie/k)}for(let ie=0;ie<k;ie++)for(let X=0;X<D;X++){const Me=X+O*(ie+1),He=X+1+O*(ie+1),_e=X+1+O*ie;W.push(X+O*ie,Me,_e),W.push(Me,He,_e)}this.setIndex(W),this.setAttribute("position",new gr(q,3)),this.setAttribute("normal",new gr(G,3)),this.setAttribute("uv",new gr(ne,2))}}const Ji={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},nr={common:{diffuse:{value:new cr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ts},uv2Transform:{value:new Ts},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new vn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new cr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new cr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Ts}},sprite:{diffuse:{value:new cr(15658734)},opacity:{value:1},center:{value:new vn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Ts}}},tc={basic:{uniforms:Ds([nr.common,nr.specularmap,nr.envmap,nr.aomap,nr.lightmap,nr.fog]),vertexShader:Ji.meshbasic_vert,fragmentShader:Ji.meshbasic_frag},lambert:{uniforms:Ds([nr.common,nr.specularmap,nr.envmap,nr.aomap,nr.lightmap,nr.emissivemap,nr.fog,nr.lights,{emissive:{value:new cr(0)}}]),vertexShader:Ji.meshlambert_vert,fragmentShader:Ji.meshlambert_frag},phong:{uniforms:Ds([nr.common,nr.specularmap,nr.envmap,nr.aomap,nr.lightmap,nr.emissivemap,nr.bumpmap,nr.normalmap,nr.displacementmap,nr.fog,nr.lights,{emissive:{value:new cr(0)},specular:{value:new cr(1118481)},shininess:{value:30}}]),vertexShader:Ji.meshphong_vert,fragmentShader:Ji.meshphong_frag},standard:{uniforms:Ds([nr.common,nr.envmap,nr.aomap,nr.lightmap,nr.emissivemap,nr.bumpmap,nr.normalmap,nr.displacementmap,nr.roughnessmap,nr.metalnessmap,nr.fog,nr.lights,{emissive:{value:new cr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ji.meshphysical_vert,fragmentShader:Ji.meshphysical_frag},toon:{uniforms:Ds([nr.common,nr.aomap,nr.lightmap,nr.emissivemap,nr.bumpmap,nr.normalmap,nr.displacementmap,nr.gradientmap,nr.fog,nr.lights,{emissive:{value:new cr(0)}}]),vertexShader:Ji.meshtoon_vert,fragmentShader:Ji.meshtoon_frag},matcap:{uniforms:Ds([nr.common,nr.bumpmap,nr.normalmap,nr.displacementmap,nr.fog,{matcap:{value:null}}]),vertexShader:Ji.meshmatcap_vert,fragmentShader:Ji.meshmatcap_frag},points:{uniforms:Ds([nr.points,nr.fog]),vertexShader:Ji.points_vert,fragmentShader:Ji.points_frag},dashed:{uniforms:Ds([nr.common,nr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ji.linedashed_vert,fragmentShader:Ji.linedashed_frag},depth:{uniforms:Ds([nr.common,nr.displacementmap]),vertexShader:Ji.depth_vert,fragmentShader:Ji.depth_frag},normal:{uniforms:Ds([nr.common,nr.bumpmap,nr.normalmap,nr.displacementmap,{opacity:{value:1}}]),vertexShader:Ji.normal_vert,fragmentShader:Ji.normal_frag},sprite:{uniforms:Ds([nr.sprite,nr.fog]),vertexShader:Ji.sprite_vert,fragmentShader:Ji.sprite_frag},background:{uniforms:{uvTransform:{value:new Ts},t2D:{value:null}},vertexShader:Ji.background_vert,fragmentShader:Ji.background_frag},cube:{uniforms:Ds([nr.envmap,{opacity:{value:1}}]),vertexShader:Ji.cube_vert,fragmentShader:Ji.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ji.equirect_vert,fragmentShader:Ji.equirect_frag},distanceRGBA:{uniforms:Ds([nr.common,nr.displacementmap,{referencePosition:{value:new Se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ji.distanceRGBA_vert,fragmentShader:Ji.distanceRGBA_frag},shadow:{uniforms:Ds([nr.lights,nr.fog,{color:{value:new cr(0)},opacity:{value:1}}]),vertexShader:Ji.shadow_vert,fragmentShader:Ji.shadow_frag}};function m2(h,l,d,m,v){const _=new cr(0);let D,k,x=0,O=null,z=0,H=null;function W(q,G){d.buffers.color.setClear(q.r,q.g,q.b,G,v)}return{getClearColor:function(){return _},setClearColor:function(q,G=1){_.set(q),x=G,W(_,x)},getClearAlpha:function(){return x},setClearAlpha:function(q){x=q,W(_,x)},render:function V(q,G,ne,ie){let X=!0===G.isScene?G.background:null;X&&X.isTexture&&(X=l.get(X));const Ee=h.xr,Me=Ee.getSession&&Ee.getSession();Me&&"additive"===Me.environmentBlendMode&&(X=null),null===X?W(_,x):X&&X.isColor&&(W(X,1),ie=!0),(h.autoClear||ie)&&h.clear(h.autoClearColor,h.autoClearDepth,h.autoClearStencil),X&&(X.isCubeTexture||X.isWebGLCubeRenderTarget||X.mapping===ft)?(void 0===k&&(k=new ln(new Ic(1,1,1),new As({name:"BackgroundCubeMaterial",uniforms:Ui(tc.cube.uniforms),vertexShader:tc.cube.vertexShader,fragmentShader:tc.cube.fragmentShader,side:K,depthTest:!1,depthWrite:!1,fog:!1})),k.geometry.deleteAttribute("normal"),k.geometry.deleteAttribute("uv"),k.onBeforeRender=function(He,_e,et){this.matrixWorld.copyPosition(et.matrixWorld)},Object.defineProperty(k.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),m.update(k)),X.isWebGLCubeRenderTarget&&(X=X.texture),k.material.uniforms.envMap.value=X,k.material.uniforms.flipEnvMap.value=X.isCubeTexture&&X._needsFlipEnvMap?-1:1,(O!==X||z!==X.version||H!==h.toneMapping)&&(k.material.needsUpdate=!0,O=X,z=X.version,H=h.toneMapping),q.unshift(k,k.geometry,k.material,0,0,null)):X&&X.isTexture&&(void 0===D&&(D=new ln(new Yl(2,2),new As({name:"BackgroundMaterial",uniforms:Ui(tc.background.uniforms),vertexShader:tc.background.vertexShader,fragmentShader:tc.background.fragmentShader,side:pe,depthTest:!1,depthWrite:!1,fog:!1})),D.geometry.deleteAttribute("normal"),Object.defineProperty(D.material,"map",{get:function(){return this.uniforms.t2D.value}}),m.update(D)),D.material.uniforms.t2D.value=X,!0===X.matrixAutoUpdate&&X.updateMatrix(),D.material.uniforms.uvTransform.value.copy(X.matrix),(O!==X||z!==X.version||H!==h.toneMapping)&&(D.material.needsUpdate=!0,O=X,z=X.version,H=h.toneMapping),q.unshift(D,D.geometry,D.material,0,0,null))}}}function d8(h,l,d,m){const v=h.getParameter(34921),_=m.isWebGL2?null:l.get("OES_vertex_array_object"),x=m.isWebGL2||null!==_,D={},k=G(null);let O=k;function V(Bt){return m.isWebGL2?h.bindVertexArray(Bt):_.bindVertexArrayOES(Bt)}function W(Bt){return m.isWebGL2?h.deleteVertexArray(Bt):_.deleteVertexArrayOES(Bt)}function G(Bt){const Rt=[],zt=[],Kt=[];for(let In=0;In<v;In++)Rt[In]=0,zt[In]=0,Kt[In]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Rt,enabledAttributes:zt,attributeDivisors:Kt,object:Bt,attributes:{},index:null}}function X(){const Bt=O.newAttributes;for(let Rt=0,zt=Bt.length;Rt<zt;Rt++)Bt[Rt]=0}function Ee(Bt){Me(Bt,0)}function Me(Bt,Rt){const Kt=O.enabledAttributes,In=O.attributeDivisors;O.newAttributes[Bt]=1,0===Kt[Bt]&&(h.enableVertexAttribArray(Bt),Kt[Bt]=1),In[Bt]!==Rt&&((m.isWebGL2?h:l.get("ANGLE_instanced_arrays"))[m.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Bt,Rt),In[Bt]=Rt)}function He(){const Bt=O.newAttributes,Rt=O.enabledAttributes;for(let zt=0,Kt=Rt.length;zt<Kt;zt++)Rt[zt]!==Bt[zt]&&(h.disableVertexAttribArray(zt),Rt[zt]=0)}function _e(Bt,Rt,zt,Kt,In,jn){!0!==m.isWebGL2||5124!==zt&&5125!==zt?h.vertexAttribPointer(Bt,Rt,zt,Kt,In,jn):h.vertexAttribIPointer(Bt,Rt,zt,In,jn)}function Vt(){en(),O!==k&&(O=k,V(O.object))}function en(){k.geometry=null,k.program=null,k.wireframe=!1}return{setup:function z(Bt,Rt,zt,Kt,In){let jn=!1;if(x){const zn=function q(Bt,Rt,zt){const Kt=!0===zt.wireframe;let In=D[Bt.id];void 0===In&&(In={},D[Bt.id]=In);let jn=In[Rt.id];void 0===jn&&(jn={},In[Rt.id]=jn);let zn=jn[Kt];return void 0===zn&&(zn=G(function H(){return m.isWebGL2?h.createVertexArray():_.createVertexArrayOES()}()),jn[Kt]=zn),zn}(Kt,zt,Rt);O!==zn&&(O=zn,V(O.object)),jn=function ne(Bt,Rt){const zt=O.attributes,Kt=Bt.attributes;let In=0;for(const jn in Kt){const zn=zt[jn],Or=Kt[jn];if(void 0===zn||zn.attribute!==Or||zn.data!==Or.data)return!0;In++}return O.attributesNum!==In||O.index!==Rt}(Kt,In),jn&&function ie(Bt,Rt){const zt={},Kt=Bt.attributes;let In=0;for(const jn in Kt){const zn=Kt[jn],Or={};Or.attribute=zn,zn.data&&(Or.data=zn.data),zt[jn]=Or,In++}O.attributes=zt,O.attributesNum=In,O.index=Rt}(Kt,In)}else{const zn=!0===Rt.wireframe;(O.geometry!==Kt.id||O.program!==zt.id||O.wireframe!==zn)&&(O.geometry=Kt.id,O.program=zt.id,O.wireframe=zn,jn=!0)}!0===Bt.isInstancedMesh&&(jn=!0),null!==In&&d.update(In,34963),jn&&(function et(Bt,Rt,zt,Kt){if(!1===m.isWebGL2&&(Bt.isInstancedMesh||Kt.isInstancedBufferGeometry)&&null===l.get("ANGLE_instanced_arrays"))return;X();const In=Kt.attributes,jn=zt.getAttributes(),zn=Rt.defaultAttributeValues;for(const Or in jn){const xr=jn[Or];if(xr>=0){const Qi=In[Or];if(void 0!==Qi){const vi=Qi.normalized,qo=Qi.itemSize,Ro=d.get(Qi);if(void 0===Ro)continue;const pn=Ro.buffer,as=Ro.type,yo=Ro.bytesPerElement;if(Qi.isInterleavedBufferAttribute){const Do=Qi.data,yi=Do.stride,Ho=Qi.offset;Do&&Do.isInstancedInterleavedBuffer?(Me(xr,Do.meshPerAttribute),void 0===Kt._maxInstanceCount&&(Kt._maxInstanceCount=Do.meshPerAttribute*Do.count)):Ee(xr),h.bindBuffer(34962,pn),_e(xr,qo,as,vi,yi*yo,Ho*yo)}else Qi.isInstancedBufferAttribute?(Me(xr,Qi.meshPerAttribute),void 0===Kt._maxInstanceCount&&(Kt._maxInstanceCount=Qi.meshPerAttribute*Qi.count)):Ee(xr),h.bindBuffer(34962,pn),_e(xr,qo,as,vi,0,0)}else if("instanceMatrix"===Or){const vi=d.get(Bt.instanceMatrix);if(void 0===vi)continue;const qo=vi.buffer,Ro=vi.type;Me(xr+0,1),Me(xr+1,1),Me(xr+2,1),Me(xr+3,1),h.bindBuffer(34962,qo),h.vertexAttribPointer(xr+0,4,Ro,!1,64,0),h.vertexAttribPointer(xr+1,4,Ro,!1,64,16),h.vertexAttribPointer(xr+2,4,Ro,!1,64,32),h.vertexAttribPointer(xr+3,4,Ro,!1,64,48)}else if("instanceColor"===Or){const vi=d.get(Bt.instanceColor);if(void 0===vi)continue;const qo=vi.buffer,Ro=vi.type;Me(xr,1),h.bindBuffer(34962,qo),h.vertexAttribPointer(xr,3,Ro,!1,12,0)}else if(void 0!==zn){const vi=zn[Or];if(void 0!==vi)switch(vi.length){case 2:h.vertexAttrib2fv(xr,vi);break;case 3:h.vertexAttrib3fv(xr,vi);break;case 4:h.vertexAttrib4fv(xr,vi);break;default:h.vertexAttrib1fv(xr,vi)}}}}He()}(Bt,Rt,zt,Kt),null!==In&&h.bindBuffer(34963,d.get(In).buffer))},reset:Vt,resetDefaultState:en,dispose:function At(){Vt();for(const Bt in D){const Rt=D[Bt];for(const zt in Rt){const Kt=Rt[zt];for(const In in Kt)W(Kt[In].object),delete Kt[In];delete Rt[zt]}delete D[Bt]}},releaseStatesOfGeometry:function _t(Bt){if(void 0===D[Bt.id])return;const Rt=D[Bt.id];for(const zt in Rt){const Kt=Rt[zt];for(const In in Kt)W(Kt[In].object),delete Kt[In];delete Rt[zt]}delete D[Bt.id]},releaseStatesOfProgram:function nt(Bt){for(const Rt in D){const zt=D[Rt];if(void 0===zt[Bt.id])continue;const Kt=zt[Bt.id];for(const In in Kt)W(Kt[In].object),delete Kt[In];delete zt[Bt.id]}},initAttributes:X,enableAttribute:Ee,disableUnusedAttributes:He}}function g2(h,l,d,m){const v=m.isWebGL2;let _;this.setMode=function x(O){_=O},this.render=function D(O,z){h.drawArrays(_,O,z),d.update(z,_,1)},this.renderInstances=function k(O,z,H){if(0===H)return;let V,W;if(v)V=h,W="drawArraysInstanced";else if(V=l.get("ANGLE_instanced_arrays"),W="drawArraysInstancedANGLE",null===V)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");V[W](_,O,z,H),d.update(z,_,H)}}function v2(h,l,d){let m;function _(_e){if("highp"===_e){if(h.getShaderPrecisionFormat(35633,36338).precision>0&&h.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";_e="mediump"}return"mediump"===_e&&h.getShaderPrecisionFormat(35633,36337).precision>0&&h.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const x="undefined"!=typeof WebGL2RenderingContext&&h instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&h instanceof WebGL2ComputeRenderingContext;let D=void 0!==d.precision?d.precision:"highp";const k=_(D);k!==D&&(console.warn("THREE.WebGLRenderer:",D,"not supported, using",k,"instead."),D=k);const O=!0===d.logarithmicDepthBuffer,z=h.getParameter(34930),H=h.getParameter(35660),V=h.getParameter(3379),W=h.getParameter(34076),q=h.getParameter(34921),G=h.getParameter(36347),ne=h.getParameter(36348),ie=h.getParameter(36349),X=H>0,Ee=x||l.has("OES_texture_float");return{isWebGL2:x,getMaxAnisotropy:function v(){if(void 0!==m)return m;if(!0===l.has("EXT_texture_filter_anisotropic")){const _e=l.get("EXT_texture_filter_anisotropic");m=h.getParameter(_e.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else m=0;return m},getMaxPrecision:_,precision:D,logarithmicDepthBuffer:O,maxTextures:z,maxVertexTextures:H,maxTextureSize:V,maxCubemapSize:W,maxAttributes:q,maxVertexUniforms:G,maxVaryings:ne,maxFragmentUniforms:ie,vertexTextures:X,floatFragmentTextures:Ee,floatVertexTextures:X&&Ee,maxSamples:x?h.getParameter(36183):0}}function y2(h){const l=this;let d=null,m=0,v=!1,_=!1;const x=new Ul,D=new Ts,k={value:null,needsUpdate:!1};function O(){k.value!==d&&(k.value=d,k.needsUpdate=m>0),l.numPlanes=m,l.numIntersection=0}function z(H,V,W,q){const G=null!==H?H.length:0;let ne=null;if(0!==G){if(ne=k.value,!0!==q||null===ne){const ie=W+4*G,X=V.matrixWorldInverse;D.getNormalMatrix(X),(null===ne||ne.length<ie)&&(ne=new Float32Array(ie));for(let Ee=0,Me=W;Ee!==G;++Ee,Me+=4)x.copy(H[Ee]).applyMatrix4(X,D),x.normal.toArray(ne,Me),ne[Me+3]=x.constant}k.value=ne,k.needsUpdate=!0}return l.numPlanes=G,l.numIntersection=0,ne}this.uniform=k,this.numPlanes=0,this.numIntersection=0,this.init=function(H,V,W){const q=0!==H.length||V||0!==m||v;return v=V,d=z(H,W,0),m=H.length,q},this.beginShadows=function(){_=!0,z(null)},this.endShadows=function(){_=!1,O()},this.setState=function(H,V,W){const q=H.clippingPlanes,G=H.clipIntersection,ne=H.clipShadows,ie=h.get(H);if(!v||null===q||0===q.length||_&&!ne)_?z(null):O();else{const X=_?0:m,Ee=4*X;let Me=ie.clippingState||null;k.value=Me,Me=z(q,V,Ee,W);for(let He=0;He!==Ee;++He)Me[He]=d[He];ie.clippingState=Me,this.numIntersection=G?this.numPlanes:0,this.numPlanes+=X}}}function $w(h){let l=new WeakMap;function d(x,D){return D===$e?x.mapping=Ke:D===gt&&(x.mapping=Ye),x}function v(x){const D=x.target;D.removeEventListener("dispose",v);const k=l.get(D);void 0!==k&&(l.delete(D),k.dispose())}return{get:function m(x){if(x&&x.isTexture){const D=x.mapping;if(D===$e||D===gt){if(l.has(x))return d(l.get(x).texture,x.mapping);{const k=x.image;if(k&&k.height>0){const O=h.getRenderTarget(),z=new _g(k.height/2);return z.fromEquirectangularTexture(h,x),l.set(x,z),h.setRenderTarget(O),x.addEventListener("dispose",v),d(z.texture,x.mapping)}return null}}}return x},dispose:function _(){l=new WeakMap}}}function OR(h){const l={};function d(m){if(void 0!==l[m])return l[m];let v;switch(m){case"WEBGL_depth_texture":v=h.getExtension("WEBGL_depth_texture")||h.getExtension("MOZ_WEBGL_depth_texture")||h.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":v=h.getExtension("EXT_texture_filter_anisotropic")||h.getExtension("MOZ_EXT_texture_filter_anisotropic")||h.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":v=h.getExtension("WEBGL_compressed_texture_s3tc")||h.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||h.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":v=h.getExtension("WEBGL_compressed_texture_pvrtc")||h.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:v=h.getExtension(m)}return l[m]=v,v}return{has:function(m){return null!==d(m)},init:function(m){m.isWebGL2?d("EXT_color_buffer_float"):(d("WEBGL_depth_texture"),d("OES_texture_float"),d("OES_texture_half_float"),d("OES_texture_half_float_linear"),d("OES_standard_derivatives"),d("OES_element_index_uint"),d("OES_vertex_array_object"),d("ANGLE_instanced_arrays")),d("OES_texture_float_linear"),d("EXT_color_buffer_half_float")},get:function(m){const v=d(m);return null===v&&console.warn("THREE.WebGLRenderer: "+m+" extension not supported."),v}}}function _2(h,l,d,m){const v={},_=new WeakMap;function x(H){const V=H.target;null!==V.index&&l.remove(V.index);for(const q in V.attributes)l.remove(V.attributes[q]);V.removeEventListener("dispose",x),delete v[V.id];const W=_.get(V);W&&(l.remove(W),_.delete(V)),m.releaseStatesOfGeometry(V),!0===V.isInstancedBufferGeometry&&delete V._maxInstanceCount,d.memory.geometries--}function O(H){const V=[],W=H.index,q=H.attributes.position;let G=0;if(null!==W){const X=W.array;G=W.version;for(let Ee=0,Me=X.length;Ee<Me;Ee+=3){const He=X[Ee+0],_e=X[Ee+1],et=X[Ee+2];V.push(He,_e,_e,et,et,He)}}else{G=q.version;for(let Ee=0,Me=q.array.length/3-1;Ee<Me;Ee+=3){const He=Ee+0,_e=Ee+1,et=Ee+2;V.push(He,_e,_e,et,et,He)}}const ne=new(ro(V)>65535?_d:yf)(V,1);ne.version=G;const ie=_.get(H);ie&&l.remove(ie),_.set(H,ne)}return{get:function D(H,V){return!0===v[V.id]||(V.addEventListener("dispose",x),v[V.id]=!0,d.memory.geometries++),V},update:function k(H){const V=H.attributes;for(const q in V)l.update(V[q],34962);const W=H.morphAttributes;for(const q in W){const G=W[q];for(let ne=0,ie=G.length;ne<ie;ne++)l.update(G[ne],34962)}},getWireframeAttribute:function z(H){const V=_.get(H);if(V){const W=H.index;null!==W&&V.version<W.version&&O(H)}else O(H);return _.get(H)}}}function kR(h,l,d,m){const v=m.isWebGL2;let _,D,k;this.setMode=function x(V){_=V},this.setIndex=function O(V){D=V.type,k=V.bytesPerElement},this.render=function z(V,W){h.drawElements(_,W,D,V*k),d.update(W,_,1)},this.renderInstances=function H(V,W,q){if(0===q)return;let G,ne;if(v)G=h,ne="drawElementsInstanced";else if(G=l.get("ANGLE_instanced_arrays"),ne="drawElementsInstancedANGLE",null===G)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");G[ne](_,W,D,V*k,q),d.update(W,_,q)}}function f8(h){const d={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:d,programs:null,autoReset:!0,reset:function v(){d.frame++,d.calls=0,d.triangles=0,d.points=0,d.lines=0},update:function m(_,x,D){switch(d.calls++,x){case 4:d.triangles+=D*(_/3);break;case 1:d.lines+=D*(_/2);break;case 3:d.lines+=D*(_-1);break;case 2:d.lines+=D*_;break;case 0:d.points+=D*_;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",x)}}}}function LR(h,l){return h[0]-l[0]}function h8(h,l){return Math.abs(l[1])-Math.abs(h[1])}function lC(h){const l={},d=new Float32Array(8),m=[];for(let _=0;_<8;_++)m[_]=[_,0];return{update:function v(_,x,D,k){const O=_.morphTargetInfluences,z=void 0===O?0:O.length;let H=l[x.id];if(void 0===H){H=[];for(let ne=0;ne<z;ne++)H[ne]=[ne,0];l[x.id]=H}for(let ne=0;ne<z;ne++){const ie=H[ne];ie[0]=ne,ie[1]=O[ne]}H.sort(h8);for(let ne=0;ne<8;ne++)ne<z&&H[ne][1]?(m[ne][0]=H[ne][0],m[ne][1]=H[ne][1]):(m[ne][0]=Number.MAX_SAFE_INTEGER,m[ne][1]=0);m.sort(LR);const V=D.morphTargets&&x.morphAttributes.position,W=D.morphNormals&&x.morphAttributes.normal;let q=0;for(let ne=0;ne<8;ne++){const ie=m[ne],X=ie[0],Ee=ie[1];X!==Number.MAX_SAFE_INTEGER&&Ee?(V&&x.getAttribute("morphTarget"+ne)!==V[X]&&x.setAttribute("morphTarget"+ne,V[X]),W&&x.getAttribute("morphNormal"+ne)!==W[X]&&x.setAttribute("morphNormal"+ne,W[X]),d[ne]=Ee,q+=Ee):(V&&!0===x.hasAttribute("morphTarget"+ne)&&x.deleteAttribute("morphTarget"+ne),W&&!0===x.hasAttribute("morphNormal"+ne)&&x.deleteAttribute("morphNormal"+ne),d[ne]=0)}const G=x.morphTargetsRelative?1:1-q;k.getUniforms().setValue(h,"morphTargetBaseInfluence",G),k.getUniforms().setValue(h,"morphTargetInfluences",d)}}}function b2(h,l,d,m){let v=new WeakMap;function D(k){const O=k.target;O.removeEventListener("dispose",D),d.remove(O.instanceMatrix),null!==O.instanceColor&&d.remove(O.instanceColor)}return{update:function _(k){const O=m.render.frame,H=l.get(k,k.geometry);return v.get(H)!==O&&(l.update(H),v.set(H,O)),k.isInstancedMesh&&(!1===k.hasEventListener("dispose",D)&&k.addEventListener("dispose",D),d.update(k.instanceMatrix,34962),null!==k.instanceColor&&d.update(k.instanceColor,34962)),H},dispose:function x(){v=new WeakMap}}}tc.physical={uniforms:Ds([tc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new vn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new cr(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Ji.meshphysical_vert,fragmentShader:Ji.meshphysical_frag};class Xw extends so{constructor(l=null,d=1,m=1,v=1){super(null),this.image={data:l,width:d,height:m,depth:v},this.magFilter=Pn,this.minFilter=Pn,this.wrapR=cn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}Xw.prototype.isDataTexture2DArray=!0;class Ag extends so{constructor(l=null,d=1,m=1,v=1){super(null),this.image={data:l,width:d,height:m,depth:v},this.magFilter=Pn,this.minFilter=Pn,this.wrapR=cn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}Ag.prototype.isDataTexture3D=!0;const Kw=new so,Og=new Xw,w2=new Ag,IR=new bf,M2=[],Xy=[],Zw=new Float32Array(16),uC=new Float32Array(9),cC=new Float32Array(4);function Lp(h,l,d){const m=h[0];if(m<=0||m>0)return h;const v=l*d;let _=M2[v];if(void 0===_&&(_=new Float32Array(v),M2[v]=_),0!==l){m.toArray(_,0);for(let x=1,D=0;x!==l;++x)D+=d,h[x].toArray(_,D)}return _}function Ta(h,l){if(h.length!==l.length)return!1;for(let d=0,m=h.length;d<m;d++)if(h[d]!==l[d])return!1;return!0}function bu(h,l){for(let d=0,m=l.length;d<m;d++)h[d]=l[d]}function PR(h,l){let d=Xy[l];void 0===d&&(d=new Int32Array(l),Xy[l]=d);for(let m=0;m!==l;++m)d[m]=h.allocateTextureUnit();return d}function S2(h,l){const d=this.cache;d[0]!==l&&(h.uniform1f(this.addr,l),d[0]=l)}function x2(h,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y)&&(h.uniform2f(this.addr,l.x,l.y),d[0]=l.x,d[1]=l.y);else{if(Ta(d,l))return;h.uniform2fv(this.addr,l),bu(d,l)}}function C2(h,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y||d[2]!==l.z)&&(h.uniform3f(this.addr,l.x,l.y,l.z),d[0]=l.x,d[1]=l.y,d[2]=l.z);else if(void 0!==l.r)(d[0]!==l.r||d[1]!==l.g||d[2]!==l.b)&&(h.uniform3f(this.addr,l.r,l.g,l.b),d[0]=l.r,d[1]=l.g,d[2]=l.b);else{if(Ta(d,l))return;h.uniform3fv(this.addr,l),bu(d,l)}}function wu(h,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y||d[2]!==l.z||d[3]!==l.w)&&(h.uniform4f(this.addr,l.x,l.y,l.z,l.w),d[0]=l.x,d[1]=l.y,d[2]=l.z,d[3]=l.w);else{if(Ta(d,l))return;h.uniform4fv(this.addr,l),bu(d,l)}}function Md(h,l){const d=this.cache,m=l.elements;if(void 0===m){if(Ta(d,l))return;h.uniformMatrix2fv(this.addr,!1,l),bu(d,l)}else{if(Ta(d,m))return;cC.set(m),h.uniformMatrix2fv(this.addr,!1,cC),bu(d,m)}}function E2(h,l){const d=this.cache,m=l.elements;if(void 0===m){if(Ta(d,l))return;h.uniformMatrix3fv(this.addr,!1,l),bu(d,l)}else{if(Ta(d,m))return;uC.set(m),h.uniformMatrix3fv(this.addr,!1,uC),bu(d,m)}}function T2(h,l){const d=this.cache,m=l.elements;if(void 0===m){if(Ta(d,l))return;h.uniformMatrix4fv(this.addr,!1,l),bu(d,l)}else{if(Ta(d,m))return;Zw.set(m),h.uniformMatrix4fv(this.addr,!1,Zw),bu(d,m)}}function R2(h,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(h.uniform1i(this.addr,v),m[0]=v),d.safeSetTexture2D(l||Kw,v)}function D2(h,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(h.uniform1i(this.addr,v),m[0]=v),d.setTexture2DArray(l||Og,v)}function A2(h,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(h.uniform1i(this.addr,v),m[0]=v),d.setTexture3D(l||w2,v)}function O2(h,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(h.uniform1i(this.addr,v),m[0]=v),d.safeSetTextureCube(l||IR,v)}function NR(h,l){const d=this.cache;d[0]!==l&&(h.uniform1i(this.addr,l),d[0]=l)}function k2(h,l){const d=this.cache;Ta(d,l)||(h.uniform2iv(this.addr,l),bu(d,l))}function L2(h,l){const d=this.cache;Ta(d,l)||(h.uniform3iv(this.addr,l),bu(d,l))}function I2(h,l){const d=this.cache;Ta(d,l)||(h.uniform4iv(this.addr,l),bu(d,l))}function P2(h,l){const d=this.cache;d[0]!==l&&(h.uniform1ui(this.addr,l),d[0]=l)}function N2(h,l){h.uniform1fv(this.addr,l)}function Ky(h,l){h.uniform1iv(this.addr,l)}function FR(h,l){h.uniform2iv(this.addr,l)}function Sd(h,l){h.uniform3iv(this.addr,l)}function Zy(h,l){h.uniform4iv(this.addr,l)}function HR(h,l){const d=Lp(l,this.size,2);h.uniform2fv(this.addr,d)}function BR(h,l){const d=Lp(l,this.size,3);h.uniform3fv(this.addr,d)}function VR(h,l){const d=Lp(l,this.size,4);h.uniform4fv(this.addr,d)}function m8(h,l){const d=Lp(l,this.size,4);h.uniformMatrix2fv(this.addr,!1,d)}function g8(h,l){const d=Lp(l,this.size,9);h.uniformMatrix3fv(this.addr,!1,d)}function v8(h,l){const d=Lp(l,this.size,16);h.uniformMatrix4fv(this.addr,!1,d)}function dC(h,l,d){const m=l.length,v=PR(d,m);h.uniform1iv(this.addr,v);for(let _=0;_!==m;++_)d.safeSetTexture2D(l[_]||Kw,v[_])}function fC(h,l,d){const m=l.length,v=PR(d,m);h.uniform1iv(this.addr,v);for(let _=0;_!==m;++_)d.safeSetTextureCube(l[_]||IR,v[_])}function y8(h,l,d){this.id=h,this.addr=d,this.cache=[],this.setValue=function p8(h){switch(h){case 5126:return S2;case 35664:return x2;case 35665:return C2;case 35666:return wu;case 35674:return Md;case 35675:return E2;case 35676:return T2;case 5124:case 35670:return NR;case 35667:case 35671:return k2;case 35668:case 35672:return L2;case 35669:case 35673:return I2;case 5125:return P2;case 35678:case 36198:case 36298:case 36306:case 35682:return R2;case 35679:case 36299:case 36307:return A2;case 35680:case 36300:case 36308:case 36293:return O2;case 36289:case 36303:case 36311:case 36292:return D2}}(l.type)}function F2(h,l,d){this.id=h,this.addr=d,this.cache=[],this.size=l.size,this.setValue=function hC(h){switch(h){case 5126:return N2;case 35664:return HR;case 35665:return BR;case 35666:return VR;case 35674:return m8;case 35675:return g8;case 35676:return v8;case 5124:case 35670:return Ky;case 35667:case 35671:return FR;case 35668:case 35672:return Sd;case 35669:case 35673:return Zy;case 35678:case 36198:case 36298:case 36306:case 35682:return dC;case 35680:case 36300:case 36308:case 36293:return fC}}(l.type)}function pC(h){this.id=h,this.seq=[],this.map={}}F2.prototype.updateCache=function(h){const l=this.cache;h instanceof Float32Array&&l.length!==h.length&&(this.cache=new Float32Array(h.length)),bu(l,h)},pC.prototype.setValue=function(h,l,d){const m=this.seq;for(let v=0,_=m.length;v!==_;++v){const x=m[v];x.setValue(h,l[x.id],d)}};const mC=/(\w+)(\])?(\[|\.)?/g;function zR(h,l){h.seq.push(l),h.map[l.id]=l}function H2(h,l,d){const m=h.name,v=m.length;for(mC.lastIndex=0;;){const _=mC.exec(m),x=mC.lastIndex;let D=_[1];const O=_[3];if("]"===_[2]&&(D|=0),void 0===O||"["===O&&x+2===v){zR(d,void 0===O?new y8(D,h,l):new F2(D,h,l));break}{let H=d.map[D];void 0===H&&(H=new pC(D),zR(d,H)),d=H}}}function Eh(h,l){this.seq=[],this.map={};const d=h.getProgramParameter(l,35718);for(let m=0;m<d;++m){const v=h.getActiveUniform(l,m);H2(v,h.getUniformLocation(l,v.name),this)}}function gC(h,l,d){const m=h.createShader(l);return h.shaderSource(m,d),h.compileShader(m),m}Eh.prototype.setValue=function(h,l,d,m){const v=this.map[l];void 0!==v&&v.setValue(h,d,m)},Eh.prototype.setOptional=function(h,l,d){const m=l[d];void 0!==m&&this.setValue(h,d,m)},Eh.upload=function(h,l,d,m){for(let v=0,_=l.length;v!==_;++v){const x=l[v],D=d[x.id];!1!==D.needsUpdate&&x.setValue(h,D.value,m)}},Eh.seqWithValue=function(h,l){const d=[];for(let m=0,v=h.length;m!==v;++m){const _=h[m];_.id in l&&d.push(_)}return d};let qw=0;function Jw(h){switch(h){case mn:return["Linear","( value )"];case Zn:return["sRGB","( value )"];case ys:return["RGBE","( value )"];case hs:return["RGBM","( value, 7.0 )"];case dd:return["RGBM","( value, 16.0 )"];case ur:return["RGBD","( value, 256.0 )"];case Ni:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case _s:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",h),["Linear","( value )"]}}function jR(h,l,d){const m=h.getShaderParameter(l,35713),v=h.getShaderInfoLog(l).trim();return m&&""===v?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+d+"\n"+v+function UR(h){const l=h.split("\n");for(let d=0;d<l.length;d++)l[d]=d+1+": "+l[d];return l.join("\n")}(h.getShaderSource(l))}function fo(h,l){const d=Jw(l);return"vec4 "+h+"( vec4 value ) { return "+d[0]+"ToLinear"+d[1]+"; }"}function B2(h,l){const d=Jw(l);return"vec4 "+h+"( vec4 value ) { return LinearTo"+d[0]+d[1]+"; }"}function V2(h,l){let d;switch(l){case lr:d="Linear";break;case ye:d="Reinhard";break;case Ne:d="OptimizedCineon";break;case qe:d="ACESFilmic";break;case bt:d="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",l),d="Linear"}return"vec3 "+h+"( vec3 color ) { return "+d+"ToneMapping( color ); }"}function qy(h){return""!==h}function YR(h,l){return h.replace(/NUM_DIR_LIGHTS/g,l.numDirLights).replace(/NUM_SPOT_LIGHTS/g,l.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,l.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,l.numPointLights).replace(/NUM_HEMI_LIGHTS/g,l.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,l.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,l.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,l.numPointLightShadows)}function GR(h,l){return h.replace(/NUM_CLIPPING_PLANES/g,l.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,l.numClippingPlanes-l.numClipIntersection)}const U2=/^[ \t]*#include +<([\w\d./]+)>/gm;function $R(h){return h.replace(U2,_8)}function _8(h,l){const d=Ji[l];if(void 0===d)throw new Error("Can not resolve #include <"+l+">");return $R(d)}const Jy=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,yC=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _C(h){return h.replace(yC,bC).replace(Jy,XR)}function XR(h,l,d,m){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),bC(0,l,d,m)}function bC(h,l,d,m){let v="";for(let _=parseInt(l);_<parseInt(d);_++)v+=m.replace(/\[\s*i\s*\]/g,"[ "+_+" ]").replace(/UNROLLED_LOOP_INDEX/g,_);return v}function KR(h){let l="precision "+h.precision+" float;\nprecision "+h.precision+" int;";return"highp"===h.precision?l+="\n#define HIGH_PRECISION":"mediump"===h.precision?l+="\n#define MEDIUM_PRECISION":"lowp"===h.precision&&(l+="\n#define LOW_PRECISION"),l}function j2(h,l,d,m){const v=h.getContext(),_=d.defines;let x=d.vertexShader,D=d.fragmentShader;const k=function ZR(h){let l="SHADOWMAP_TYPE_BASIC";return h.shadowMapType===oe?l="SHADOWMAP_TYPE_PCF":h.shadowMapType===ae?l="SHADOWMAP_TYPE_PCF_SOFT":h.shadowMapType===de&&(l="SHADOWMAP_TYPE_VSM"),l}(d),O=function qR(h){let l="ENVMAP_TYPE_CUBE";if(h.envMap)switch(h.envMapMode){case Ke:case Ye:l="ENVMAP_TYPE_CUBE";break;case ft:case Ct:l="ENVMAP_TYPE_CUBE_UV"}return l}(d),z=function wC(h){let l="ENVMAP_MODE_REFLECTION";if(h.envMap)switch(h.envMapMode){case Ye:case Ct:l="ENVMAP_MODE_REFRACTION"}return l}(d),H=function b8(h){let l="ENVMAP_BLENDING_NONE";if(h.envMap)switch(h.combine){case Wr:l="ENVMAP_BLENDING_MULTIPLY";break;case fi:l="ENVMAP_BLENDING_MIX";break;case hi:l="ENVMAP_BLENDING_ADD"}return l}(d),V=h.gammaFactor>0?h.gammaFactor:1,W=d.isWebGL2?"":function vC(h){return[h.extensionDerivatives||h.envMapCubeUV||h.bumpMap||h.tangentSpaceNormalMap||h.clearcoatNormalMap||h.flatShading||"physical"===h.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(h.extensionFragDepth||h.logarithmicDepthBuffer)&&h.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",h.extensionDrawBuffers&&h.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(h.extensionShaderTextureLOD||h.envMap)&&h.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(qy).join("\n")}(d),q=function WR(h){const l=[];for(const d in h){const m=h[d];!1!==m&&l.push("#define "+d+" "+m)}return l.join("\n")}(_),G=v.createProgram();let ne,ie,X=d.glslVersion?"#version "+d.glslVersion+"\n":"";d.isRawShaderMaterial?(ne=[q].filter(qy).join("\n"),ne.length>0&&(ne+="\n"),ie=[W,q].filter(qy).join("\n"),ie.length>0&&(ie+="\n")):(ne=[KR(d),"#define SHADER_NAME "+d.shaderName,q,d.instancing?"#define USE_INSTANCING":"",d.instancingColor?"#define USE_INSTANCING_COLOR":"",d.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+V,"#define MAX_BONES "+d.maxBones,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+z:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.displacementMap&&d.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors?"#define USE_COLOR":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.flatShading?"#define FLAT_SHADED":"",d.skinning?"#define USE_SKINNING":"",d.useVertexTexture?"#define BONE_TEXTURE":"",d.morphTargets?"#define USE_MORPHTARGETS":"",d.morphNormals&&!1===d.flatShading?"#define USE_MORPHNORMALS":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+k:"",d.sizeAttenuation?"#define USE_SIZEATTENUATION":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(qy).join("\n"),ie=[W,KR(d),"#define SHADER_NAME "+d.shaderName,q,d.alphaTest?"#define ALPHATEST "+d.alphaTest+(d.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+V,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.matcap?"#define USE_MATCAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+O:"",d.envMap?"#define "+z:"",d.envMap?"#define "+H:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.sheen?"#define USE_SHEEN":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors||d.instancingColor?"#define USE_COLOR":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.gradientMap?"#define USE_GRADIENTMAP":"",d.flatShading?"#define FLAT_SHADED":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+k:"",d.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",d.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(d.extensionShaderTextureLOD||d.envMap)&&d.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",d.toneMapping!==si?"#define TONE_MAPPING":"",d.toneMapping!==si?Ji.tonemapping_pars_fragment:"",d.toneMapping!==si?V2("toneMapping",d.toneMapping):"",d.dithering?"#define DITHERING":"",Ji.encodings_pars_fragment,d.map?fo("mapTexelToLinear",d.mapEncoding):"",d.matcap?fo("matcapTexelToLinear",d.matcapEncoding):"",d.envMap?fo("envMapTexelToLinear",d.envMapEncoding):"",d.emissiveMap?fo("emissiveMapTexelToLinear",d.emissiveMapEncoding):"",d.lightMap?fo("lightMapTexelToLinear",d.lightMapEncoding):"",B2("linearToOutputTexel",d.outputEncoding),d.depthPacking?"#define DEPTH_PACKING "+d.depthPacking:"","\n"].filter(qy).join("\n")),x=$R(x),x=YR(x,d),x=GR(x,d),D=$R(D),D=YR(D,d),D=GR(D,d),x=_C(x),D=_C(D),d.isWebGL2&&!0!==d.isRawShaderMaterial&&(X="#version 300 es\n",ne=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+ne,ie=["#define varying in",d.glslVersion===xa?"":"out highp vec4 pc_fragColor;",d.glslVersion===xa?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+ie);const Me=X+ie+D,He=gC(v,35633,X+ne+x),_e=gC(v,35632,Me);if(v.attachShader(G,He),v.attachShader(G,_e),void 0!==d.index0AttributeName?v.bindAttribLocation(G,0,d.index0AttributeName):!0===d.morphTargets&&v.bindAttribLocation(G,0,"position"),v.linkProgram(G),h.debug.checkShaderErrors){const _t=v.getProgramInfoLog(G).trim(),nt=v.getShaderInfoLog(He).trim(),Vt=v.getShaderInfoLog(_e).trim();let en=!0,Bt=!0;if(!1===v.getProgramParameter(G,35714)){en=!1;const Rt=jR(v,He,"vertex"),zt=jR(v,_e,"fragment");console.error("THREE.WebGLProgram: shader error: ",v.getError(),"35715",v.getProgramParameter(G,35715),"gl.getProgramInfoLog",_t,Rt,zt)}else""!==_t?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",_t):(""===nt||""===Vt)&&(Bt=!1);Bt&&(this.diagnostics={runnable:en,programLog:_t,vertexShader:{log:nt,prefix:ne},fragmentShader:{log:Vt,prefix:ie}})}let et,At;return v.deleteShader(He),v.deleteShader(_e),this.getUniforms=function(){return void 0===et&&(et=new Eh(v,G)),et},this.getAttributes=function(){return void 0===At&&(At=function z2(h,l){const d={},m=h.getProgramParameter(l,35721);for(let v=0;v<m;v++){const x=h.getActiveAttrib(l,v).name;d[x]=h.getAttribLocation(l,x)}return d}(v,G)),At},this.destroy=function(){m.releaseStatesOfProgram(this),v.deleteProgram(G),this.program=void 0},this.name=d.shaderName,this.id=qw++,this.cacheKey=l,this.usedTimes=1,this.program=G,this.vertexShader=He,this.fragmentShader=_e,this}function MC(h,l,d,m,v,_){const x=[],D=m.isWebGL2,k=m.logarithmicDepthBuffer,O=m.floatVertexTextures,z=m.maxVertexUniforms,H=m.vertexTextures;let V=m.precision;const W={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},q=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function ne(_e){let et;return _e&&_e.isTexture?et=_e.encoding:_e&&_e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),et=_e.texture.encoding):et=mn,et}return{getParameters:function ie(_e,et,At,_t,nt){const Vt=_t.fog,Bt=l.get(_e.envMap||(_e.isMeshStandardMaterial?_t.environment:null)),Rt=W[_e.type],zt=nt.isSkinnedMesh?function G(_e){const At=_e.skeleton.bones;if(O)return 1024;{const nt=Math.floor((z-20)/4),Vt=Math.min(nt,At.length);return Vt<At.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+At.length+" bones. This GPU supports "+Vt+"."),0):Vt}}(nt):0;let Kt,In;if(null!==_e.precision&&(V=m.getMaxPrecision(_e.precision),V!==_e.precision&&console.warn("THREE.WebGLProgram.getParameters:",_e.precision,"not supported, using",V,"instead.")),Rt){const Or=tc[Rt];Kt=Or.vertexShader,In=Or.fragmentShader}else Kt=_e.vertexShader,In=_e.fragmentShader;const jn=h.getRenderTarget();return{isWebGL2:D,shaderID:Rt,shaderName:_e.type,vertexShader:Kt,fragmentShader:In,defines:_e.defines,isRawShaderMaterial:!0===_e.isRawShaderMaterial,glslVersion:_e.glslVersion,precision:V,instancing:!0===nt.isInstancedMesh,instancingColor:!0===nt.isInstancedMesh&&null!==nt.instanceColor,supportsVertexTextures:H,outputEncoding:null!==jn?ne(jn.texture):h.outputEncoding,map:!!_e.map,mapEncoding:ne(_e.map),matcap:!!_e.matcap,matcapEncoding:ne(_e.matcap),envMap:!!Bt,envMapMode:Bt&&Bt.mapping,envMapEncoding:ne(Bt),envMapCubeUV:!!Bt&&(Bt.mapping===ft||Bt.mapping===Ct),lightMap:!!_e.lightMap,lightMapEncoding:ne(_e.lightMap),aoMap:!!_e.aoMap,emissiveMap:!!_e.emissiveMap,emissiveMapEncoding:ne(_e.emissiveMap),bumpMap:!!_e.bumpMap,normalMap:!!_e.normalMap,objectSpaceNormalMap:_e.normalMapType===Xo,tangentSpaceNormalMap:_e.normalMapType===Hs,clearcoatMap:!!_e.clearcoatMap,clearcoatRoughnessMap:!!_e.clearcoatRoughnessMap,clearcoatNormalMap:!!_e.clearcoatNormalMap,displacementMap:!!_e.displacementMap,roughnessMap:!!_e.roughnessMap,metalnessMap:!!_e.metalnessMap,specularMap:!!_e.specularMap,alphaMap:!!_e.alphaMap,gradientMap:!!_e.gradientMap,sheen:!!_e.sheen,transmissionMap:!!_e.transmissionMap,combine:_e.combine,vertexTangents:_e.normalMap&&_e.vertexTangents,vertexColors:_e.vertexColors,vertexUvs:!!(_e.map||_e.bumpMap||_e.normalMap||_e.specularMap||_e.alphaMap||_e.emissiveMap||_e.roughnessMap||_e.metalnessMap||_e.clearcoatMap||_e.clearcoatRoughnessMap||_e.clearcoatNormalMap||_e.displacementMap||_e.transmissionMap),uvsVertexOnly:!(_e.map||_e.bumpMap||_e.normalMap||_e.specularMap||_e.alphaMap||_e.emissiveMap||_e.roughnessMap||_e.metalnessMap||_e.clearcoatNormalMap||_e.transmissionMap||!_e.displacementMap),fog:!!Vt,useFog:_e.fog,fogExp2:Vt&&Vt.isFogExp2,flatShading:!!_e.flatShading,sizeAttenuation:_e.sizeAttenuation,logarithmicDepthBuffer:k,skinning:_e.skinning&&zt>0,maxBones:zt,useVertexTexture:O,morphTargets:_e.morphTargets,morphNormals:_e.morphNormals,maxMorphTargets:h.maxMorphTargets,maxMorphNormals:h.maxMorphNormals,numDirLights:et.directional.length,numPointLights:et.point.length,numSpotLights:et.spot.length,numRectAreaLights:et.rectArea.length,numHemiLights:et.hemi.length,numDirLightShadows:et.directionalShadowMap.length,numPointLightShadows:et.pointShadowMap.length,numSpotLightShadows:et.spotShadowMap.length,numClippingPlanes:_.numPlanes,numClipIntersection:_.numIntersection,dithering:_e.dithering,shadowMapEnabled:h.shadowMap.enabled&&At.length>0,shadowMapType:h.shadowMap.type,toneMapping:_e.toneMapped?h.toneMapping:si,physicallyCorrectLights:h.physicallyCorrectLights,premultipliedAlpha:_e.premultipliedAlpha,alphaTest:_e.alphaTest,doubleSided:_e.side===ce,flipSided:_e.side===K,depthPacking:void 0!==_e.depthPacking&&_e.depthPacking,index0AttributeName:_e.index0AttributeName,extensionDerivatives:_e.extensions&&_e.extensions.derivatives,extensionFragDepth:_e.extensions&&_e.extensions.fragDepth,extensionDrawBuffers:_e.extensions&&_e.extensions.drawBuffers,extensionShaderTextureLOD:_e.extensions&&_e.extensions.shaderTextureLOD,rendererExtensionFragDepth:D||d.has("EXT_frag_depth"),rendererExtensionDrawBuffers:D||d.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:D||d.has("EXT_shader_texture_lod"),customProgramCacheKey:_e.customProgramCacheKey()}},getProgramCacheKey:function X(_e){const et=[];if(_e.shaderID?et.push(_e.shaderID):(et.push(_e.fragmentShader),et.push(_e.vertexShader)),void 0!==_e.defines)for(const At in _e.defines)et.push(At),et.push(_e.defines[At]);if(!1===_e.isRawShaderMaterial){for(let At=0;At<q.length;At++)et.push(_e[q[At]]);et.push(h.outputEncoding),et.push(h.gammaFactor)}return et.push(_e.customProgramCacheKey),et.join()},getUniforms:function Ee(_e){const et=W[_e.type];let At;return At=et?Py.clone(tc[et].uniforms):_e.uniforms,At},acquireProgram:function Me(_e,et){let At;for(let _t=0,nt=x.length;_t<nt;_t++){const Vt=x[_t];if(Vt.cacheKey===et){At=Vt,++At.usedTimes;break}}return void 0===At&&(At=new j2(h,et,_e,v),x.push(At)),At},releaseProgram:function He(_e){if(0==--_e.usedTimes){const et=x.indexOf(_e);x[et]=x[x.length-1],x.pop(),_e.destroy()}},programs:x}}function JR(){let h=new WeakMap;return{get:function l(_){let x=h.get(_);return void 0===x&&(x={},h.set(_,x)),x},remove:function d(_){h.delete(_)},update:function m(_,x,D){h.get(_)[x]=D},dispose:function v(){h=new WeakMap}}}function QR(h,l){return h.groupOrder!==l.groupOrder?h.groupOrder-l.groupOrder:h.renderOrder!==l.renderOrder?h.renderOrder-l.renderOrder:h.program!==l.program?h.program.id-l.program.id:h.material.id!==l.material.id?h.material.id-l.material.id:h.z!==l.z?h.z-l.z:h.id-l.id}function Ip(h,l){return h.groupOrder!==l.groupOrder?h.groupOrder-l.groupOrder:h.renderOrder!==l.renderOrder?h.renderOrder-l.renderOrder:h.z!==l.z?l.z-h.z:h.id-l.id}function eD(h){const l=[];let d=0;const m=[],v=[],_={id:-1};function D(V,W,q,G,ne,ie){let X=l[d];const Ee=h.get(q);return void 0===X?(X={id:V.id,object:V,geometry:W,material:q,program:Ee.program||_,groupOrder:G,renderOrder:V.renderOrder,z:ne,group:ie},l[d]=X):(X.id=V.id,X.object=V,X.geometry=W,X.material=q,X.program=Ee.program||_,X.groupOrder=G,X.renderOrder=V.renderOrder,X.z=ne,X.group=ie),d++,X}return{opaque:m,transparent:v,init:function x(){d=0,m.length=0,v.length=0},push:function k(V,W,q,G,ne,ie){const X=D(V,W,q,G,ne,ie);(!0===q.transparent?v:m).push(X)},unshift:function O(V,W,q,G,ne,ie){const X=D(V,W,q,G,ne,ie);(!0===q.transparent?v:m).unshift(X)},finish:function H(){for(let V=d,W=l.length;V<W;V++){const q=l[V];if(null===q.id)break;q.id=null,q.object=null,q.geometry=null,q.material=null,q.program=null,q.group=null}},sort:function z(V,W){m.length>1&&m.sort(V||QR),v.length>1&&v.sort(W||Ip)}}}function SC(h){let l=new WeakMap;return{get:function d(v,_){let x;return!1===l.has(v)?(x=new eD(h),l.set(v,[x])):_>=l.get(v).length?(x=new eD(h),l.get(v).push(x)):x=l.get(v)[_],x},dispose:function m(){l=new WeakMap}}}function Qw(){const h={};return{get:function(l){if(void 0!==h[l.id])return h[l.id];let d;switch(l.type){case"DirectionalLight":d={direction:new Se,color:new cr};break;case"SpotLight":d={position:new Se,direction:new Se,color:new cr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":d={position:new Se,color:new cr,distance:0,decay:0};break;case"HemisphereLight":d={direction:new Se,skyColor:new cr,groundColor:new cr};break;case"RectAreaLight":d={color:new cr,position:new Se,halfWidth:new Se,halfHeight:new Se}}return h[l.id]=d,d}}}let xC=0;function e0(h,l){return(l.castShadow?1:0)-(h.castShadow?1:0)}function Th(h,l){const d=new Qw,m=function W2(){const h={};return{get:function(l){if(void 0!==h[l.id])return h[l.id];let d;switch(l.type){case"DirectionalLight":case"SpotLight":d={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vn};break;case"PointLight":d={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vn,shadowCameraNear:1,shadowCameraFar:1e3}}return h[l.id]=d,d}}}(),v={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let z=0;z<9;z++)v.probe.push(new Se);const _=new Se,x=new Nr,D=new Nr;return{setup:function k(z){let H=0,V=0,W=0;for(let et=0;et<9;et++)v.probe[et].set(0,0,0);let q=0,G=0,ne=0,ie=0,X=0,Ee=0,Me=0,He=0;z.sort(e0);for(let et=0,At=z.length;et<At;et++){const _t=z[et],nt=_t.color,Vt=_t.intensity,en=_t.distance,Bt=_t.shadow&&_t.shadow.map?_t.shadow.map.texture:null;if(_t.isAmbientLight)H+=nt.r*Vt,V+=nt.g*Vt,W+=nt.b*Vt;else if(_t.isLightProbe)for(let Rt=0;Rt<9;Rt++)v.probe[Rt].addScaledVector(_t.sh.coefficients[Rt],Vt);else if(_t.isDirectionalLight){const Rt=d.get(_t);if(Rt.color.copy(_t.color).multiplyScalar(_t.intensity),_t.castShadow){const zt=_t.shadow,Kt=m.get(_t);Kt.shadowBias=zt.bias,Kt.shadowNormalBias=zt.normalBias,Kt.shadowRadius=zt.radius,Kt.shadowMapSize=zt.mapSize,v.directionalShadow[q]=Kt,v.directionalShadowMap[q]=Bt,v.directionalShadowMatrix[q]=_t.shadow.matrix,Ee++}v.directional[q]=Rt,q++}else if(_t.isSpotLight){const Rt=d.get(_t);if(Rt.position.setFromMatrixPosition(_t.matrixWorld),Rt.color.copy(nt).multiplyScalar(Vt),Rt.distance=en,Rt.coneCos=Math.cos(_t.angle),Rt.penumbraCos=Math.cos(_t.angle*(1-_t.penumbra)),Rt.decay=_t.decay,_t.castShadow){const zt=_t.shadow,Kt=m.get(_t);Kt.shadowBias=zt.bias,Kt.shadowNormalBias=zt.normalBias,Kt.shadowRadius=zt.radius,Kt.shadowMapSize=zt.mapSize,v.spotShadow[ne]=Kt,v.spotShadowMap[ne]=Bt,v.spotShadowMatrix[ne]=_t.shadow.matrix,He++}v.spot[ne]=Rt,ne++}else if(_t.isRectAreaLight){const Rt=d.get(_t);Rt.color.copy(nt).multiplyScalar(Vt),Rt.halfWidth.set(.5*_t.width,0,0),Rt.halfHeight.set(0,.5*_t.height,0),v.rectArea[ie]=Rt,ie++}else if(_t.isPointLight){const Rt=d.get(_t);if(Rt.color.copy(_t.color).multiplyScalar(_t.intensity),Rt.distance=_t.distance,Rt.decay=_t.decay,_t.castShadow){const zt=_t.shadow,Kt=m.get(_t);Kt.shadowBias=zt.bias,Kt.shadowNormalBias=zt.normalBias,Kt.shadowRadius=zt.radius,Kt.shadowMapSize=zt.mapSize,Kt.shadowCameraNear=zt.camera.near,Kt.shadowCameraFar=zt.camera.far,v.pointShadow[G]=Kt,v.pointShadowMap[G]=Bt,v.pointShadowMatrix[G]=_t.shadow.matrix,Me++}v.point[G]=Rt,G++}else if(_t.isHemisphereLight){const Rt=d.get(_t);Rt.skyColor.copy(_t.color).multiplyScalar(Vt),Rt.groundColor.copy(_t.groundColor).multiplyScalar(Vt),v.hemi[X]=Rt,X++}}ie>0&&(l.isWebGL2||!0===h.has("OES_texture_float_linear")?(v.rectAreaLTC1=nr.LTC_FLOAT_1,v.rectAreaLTC2=nr.LTC_FLOAT_2):!0===h.has("OES_texture_half_float_linear")?(v.rectAreaLTC1=nr.LTC_HALF_1,v.rectAreaLTC2=nr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),v.ambient[0]=H,v.ambient[1]=V,v.ambient[2]=W;const _e=v.hash;(_e.directionalLength!==q||_e.pointLength!==G||_e.spotLength!==ne||_e.rectAreaLength!==ie||_e.hemiLength!==X||_e.numDirectionalShadows!==Ee||_e.numPointShadows!==Me||_e.numSpotShadows!==He)&&(v.directional.length=q,v.spot.length=ne,v.rectArea.length=ie,v.point.length=G,v.hemi.length=X,v.directionalShadow.length=Ee,v.directionalShadowMap.length=Ee,v.pointShadow.length=Me,v.pointShadowMap.length=Me,v.spotShadow.length=He,v.spotShadowMap.length=He,v.directionalShadowMatrix.length=Ee,v.pointShadowMatrix.length=Me,v.spotShadowMatrix.length=He,_e.directionalLength=q,_e.pointLength=G,_e.spotLength=ne,_e.rectAreaLength=ie,_e.hemiLength=X,_e.numDirectionalShadows=Ee,_e.numPointShadows=Me,_e.numSpotShadows=He,v.version=xC++)},setupView:function O(z,H){let V=0,W=0,q=0,G=0,ne=0;const ie=H.matrixWorldInverse;for(let X=0,Ee=z.length;X<Ee;X++){const Me=z[X];if(Me.isDirectionalLight){const He=v.directional[V];He.direction.setFromMatrixPosition(Me.matrixWorld),_.setFromMatrixPosition(Me.target.matrixWorld),He.direction.sub(_),He.direction.transformDirection(ie),V++}else if(Me.isSpotLight){const He=v.spot[q];He.position.setFromMatrixPosition(Me.matrixWorld),He.position.applyMatrix4(ie),He.direction.setFromMatrixPosition(Me.matrixWorld),_.setFromMatrixPosition(Me.target.matrixWorld),He.direction.sub(_),He.direction.transformDirection(ie),q++}else if(Me.isRectAreaLight){const He=v.rectArea[G];He.position.setFromMatrixPosition(Me.matrixWorld),He.position.applyMatrix4(ie),D.identity(),x.copy(Me.matrixWorld),x.premultiply(ie),D.extractRotation(x),He.halfWidth.set(.5*Me.width,0,0),He.halfHeight.set(0,.5*Me.height,0),He.halfWidth.applyMatrix4(D),He.halfHeight.applyMatrix4(D),G++}else if(Me.isPointLight){const He=v.point[W];He.position.setFromMatrixPosition(Me.matrixWorld),He.position.applyMatrix4(ie),W++}else if(Me.isHemisphereLight){const He=v.hemi[ne];He.direction.setFromMatrixPosition(Me.matrixWorld),He.direction.transformDirection(ie),He.direction.normalize(),ne++}}},state:v}}function CC(h,l){const d=new Th(h,l),m=[],v=[];return{init:function _(){m.length=0,v.length=0},state:{lightsArray:m,shadowsArray:v,lights:d},setupLights:function k(){d.setup(m)},setupLightsView:function O(H){d.setupView(m,H)},pushLight:function x(H){m.push(H)},pushShadow:function D(H){v.push(H)}}}function EC(h,l){let d=new WeakMap;return{get:function m(_,x=0){let D;return!1===d.has(_)?(D=new CC(h,l),d.set(_,[D])):x>=d.get(_).length?(D=new CC(h,l),d.get(_).push(D)):D=d.get(_)[x],D},dispose:function v(){d=new WeakMap}}}class t0 extends Po{constructor(l){super(),this.type="MeshDepthMaterial",this.depthPacking=fd,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(l)}copy(l){return super.copy(l),this.depthPacking=l.depthPacking,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.map=l.map,this.alphaMap=l.alphaMap,this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this}}t0.prototype.isMeshDepthMaterial=!0;class n0 extends Po{constructor(l){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Se,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(l)}copy(l){return super.copy(l),this.referencePosition.copy(l.referencePosition),this.nearDistance=l.nearDistance,this.farDistance=l.farDistance,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.map=l.map,this.alphaMap=l.alphaMap,this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this}}function nD(h,l,d){let m=new wd;const v=new vn,_=new vn,x=new wi,D=[],k=[],O={},z={0:K,1:pe,2:ce},H=new As({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new vn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),V=H.clone();V.defines.HORIZONTAL_PASS=1;const W=new Fr;W.setAttribute("position",new Xr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const q=new ln(W,H),G=this;function ne(He,_e){const et=l.update(q);H.uniforms.shadow_pass.value=He.map.texture,H.uniforms.resolution.value=He.mapSize,H.uniforms.radius.value=He.radius,h.setRenderTarget(He.mapPass),h.clear(),h.renderBufferDirect(_e,null,et,H,q,null),V.uniforms.shadow_pass.value=He.mapPass.texture,V.uniforms.resolution.value=He.mapSize,V.uniforms.radius.value=He.radius,h.setRenderTarget(He.map),h.clear(),h.renderBufferDirect(_e,null,et,V,q,null)}function ie(He,_e,et){const At=He<<0|_e<<1|et<<2;let _t=D[At];return void 0===_t&&(_t=new t0({depthPacking:yp,morphTargets:He,skinning:_e}),D[At]=_t),_t}function X(He,_e,et){const At=He<<0|_e<<1|et<<2;let _t=k[At];return void 0===_t&&(_t=new n0({morphTargets:He,skinning:_e}),k[At]=_t),_t}function Ee(He,_e,et,At,_t,nt,Vt){let en=null,Bt=ie,Rt=He.customDepthMaterial;if(!0===At.isPointLight&&(Bt=X,Rt=He.customDistanceMaterial),void 0===Rt){let zt=!1;!0===et.morphTargets&&(zt=_e.morphAttributes&&_e.morphAttributes.position&&_e.morphAttributes.position.length>0);let Kt=!1;!0===He.isSkinnedMesh&&(!0===et.skinning?Kt=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",He)),en=Bt(zt,Kt,!0===He.isInstancedMesh)}else en=Rt;if(h.localClippingEnabled&&!0===et.clipShadows&&0!==et.clippingPlanes.length){const zt=en.uuid,Kt=et.uuid;let In=O[zt];void 0===In&&(In={},O[zt]=In);let jn=In[Kt];void 0===jn&&(jn=en.clone(),In[Kt]=jn),en=jn}return en.visible=et.visible,en.wireframe=et.wireframe,en.side=Vt===de?null!==et.shadowSide?et.shadowSide:et.side:null!==et.shadowSide?et.shadowSide:z[et.side],en.clipShadows=et.clipShadows,en.clippingPlanes=et.clippingPlanes,en.clipIntersection=et.clipIntersection,en.wireframeLinewidth=et.wireframeLinewidth,en.linewidth=et.linewidth,!0===At.isPointLight&&!0===en.isMeshDistanceMaterial&&(en.referencePosition.setFromMatrixPosition(At.matrixWorld),en.nearDistance=_t,en.farDistance=nt),en}function Me(He,_e,et,At,_t){if(!1===He.visible)return;if(He.layers.test(_e.layers)&&(He.isMesh||He.isLine||He.isPoints)&&(He.castShadow||He.receiveShadow&&_t===de)&&(!He.frustumCulled||m.intersectsObject(He))){He.modelViewMatrix.multiplyMatrices(et.matrixWorldInverse,He.matrixWorld);const en=l.update(He),Bt=He.material;if(Array.isArray(Bt)){const Rt=en.groups;for(let zt=0,Kt=Rt.length;zt<Kt;zt++){const In=Rt[zt],jn=Bt[In.materialIndex];if(jn&&jn.visible){const zn=Ee(He,en,jn,At,et.near,et.far,_t);h.renderBufferDirect(et,null,en,zn,He,In)}}}else if(Bt.visible){const Rt=Ee(He,en,Bt,At,et.near,et.far,_t);h.renderBufferDirect(et,null,en,Rt,He,null)}}const Vt=He.children;for(let en=0,Bt=Vt.length;en<Bt;en++)Me(Vt[en],_e,et,At,_t)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=oe,this.render=function(He,_e,et){if(!1===G.enabled||!1===G.autoUpdate&&!1===G.needsUpdate||0===He.length)return;const At=h.getRenderTarget(),_t=h.getActiveCubeFace(),nt=h.getActiveMipmapLevel(),Vt=h.state;Vt.setBlending(Te),Vt.buffers.color.setClear(1,1,1,1),Vt.buffers.depth.setTest(!0),Vt.setScissorTest(!1);for(let en=0,Bt=He.length;en<Bt;en++){const Rt=He[en],zt=Rt.shadow;if(void 0===zt){console.warn("THREE.WebGLShadowMap:",Rt,"has no shadow.");continue}if(!1===zt.autoUpdate&&!1===zt.needsUpdate)continue;v.copy(zt.mapSize);const Kt=zt.getFrameExtents();if(v.multiply(Kt),_.copy(zt.mapSize),(v.x>d||v.y>d)&&(v.x>d&&(_.x=Math.floor(d/Kt.x),v.x=_.x*Kt.x,zt.mapSize.x=_.x),v.y>d&&(_.y=Math.floor(d/Kt.y),v.y=_.y*Kt.y,zt.mapSize.y=_.y)),null===zt.map&&!zt.isPointLightShadow&&this.type===de){const jn={minFilter:Ri,magFilter:Ri,format:Wo};zt.map=new Xn(v.x,v.y,jn),zt.map.texture.name=Rt.name+".shadowMap",zt.mapPass=new Xn(v.x,v.y,jn),zt.camera.updateProjectionMatrix()}null===zt.map&&(zt.map=new Xn(v.x,v.y,{minFilter:Pn,magFilter:Pn,format:Wo}),zt.map.texture.name=Rt.name+".shadowMap",zt.camera.updateProjectionMatrix()),h.setRenderTarget(zt.map),h.clear();const In=zt.getViewportCount();for(let jn=0;jn<In;jn++){const zn=zt.getViewport(jn);x.set(_.x*zn.x,_.y*zn.y,_.x*zn.z,_.y*zn.w),Vt.viewport(x),zt.updateMatrices(Rt,jn),m=zt.getFrustum(),Me(_e,et,zt.camera,Rt,this.type)}!zt.isPointLightShadow&&this.type===de&&ne(zt,et),zt.needsUpdate=!1}G.needsUpdate=!1,h.setRenderTarget(At,_t,nt)}}function Y2(h,l,d){const m=d.isWebGL2,D=new function v(){let St=!1;const Wn=new wi;let er=null;const Tr=new wi(0,0,0,0);return{setMask:function(Nn){er!==Nn&&!St&&(h.colorMask(Nn,Nn,Nn,Nn),er=Nn)},setLocked:function(Nn){St=Nn},setClear:function(Nn,qr,ei,Yr,Jr){!0===Jr&&(Nn*=Yr,qr*=Yr,ei*=Yr),Wn.set(Nn,qr,ei,Yr),!1===Tr.equals(Wn)&&(h.clearColor(Nn,qr,ei,Yr),Tr.copy(Wn))},reset:function(){St=!1,er=null,Tr.set(-1,0,0,0)}}},k=new function _(){let St=!1,Wn=null,er=null,Tr=null;return{setTest:function(Nn){Nn?Or(2929):xr(2929)},setMask:function(Nn){Wn!==Nn&&!St&&(h.depthMask(Nn),Wn=Nn)},setFunc:function(Nn){if(er!==Nn){if(Nn)switch(Nn){case Nt:h.depthFunc(512);break;case $n:h.depthFunc(519);break;case Vn:h.depthFunc(513);break;case Un:h.depthFunc(515);break;case kn:h.depthFunc(514);break;case _r:h.depthFunc(518);break;case En:h.depthFunc(516);break;case tn:h.depthFunc(517);break;default:h.depthFunc(515)}else h.depthFunc(515);er=Nn}},setLocked:function(Nn){St=Nn},setClear:function(Nn){Tr!==Nn&&(h.clearDepth(Nn),Tr=Nn)},reset:function(){St=!1,Wn=null,er=null,Tr=null}}},O=new function x(){let St=!1,Wn=null,er=null,Tr=null,Nn=null,qr=null,ei=null,Yr=null,Jr=null;return{setTest:function(kr){St||(kr?Or(2960):xr(2960))},setMask:function(kr){Wn!==kr&&!St&&(h.stencilMask(kr),Wn=kr)},setFunc:function(kr,Hi,ks){(er!==kr||Tr!==Hi||Nn!==ks)&&(h.stencilFunc(kr,Hi,ks),er=kr,Tr=Hi,Nn=ks)},setOp:function(kr,Hi,ks){(qr!==kr||ei!==Hi||Yr!==ks)&&(h.stencilOp(kr,Hi,ks),qr=kr,ei=Hi,Yr=ks)},setLocked:function(kr){St=kr},setClear:function(kr){Jr!==kr&&(h.clearStencil(kr),Jr=kr)},reset:function(){St=!1,Wn=null,er=null,Tr=null,Nn=null,qr=null,ei=null,Yr=null,Jr=null}}};let z={},H=null,V=!1,W=null,q=null,G=null,ne=null,ie=null,X=null,Ee=null,Me=!1,He=null,_e=null,et=null,At=null,_t=null;const nt=h.getParameter(35661);let Vt=!1,en=0;const Bt=h.getParameter(7938);-1!==Bt.indexOf("WebGL")?(en=parseFloat(/^WebGL (\d)/.exec(Bt)[1]),Vt=en>=1):-1!==Bt.indexOf("OpenGL ES")&&(en=parseFloat(/^OpenGL ES (\d)/.exec(Bt)[1]),Vt=en>=2);let Rt=null,zt={};const Kt=new wi,In=new wi;function jn(St,Wn,er){const Tr=new Uint8Array(4),Nn=h.createTexture();h.bindTexture(St,Nn),h.texParameteri(St,10241,9728),h.texParameteri(St,10240,9728);for(let qr=0;qr<er;qr++)h.texImage2D(Wn+qr,0,6408,1,1,0,6408,5121,Tr);return Nn}const zn={};function Or(St){!0!==z[St]&&(h.enable(St),z[St]=!0)}function xr(St){!1!==z[St]&&(h.disable(St),z[St]=!1)}zn[3553]=jn(3553,3553,1),zn[34067]=jn(34067,34069,6),D.setClear(0,0,0,1),k.setClear(1),O.setClear(0),Or(2929),k.setFunc(Un),as(!1),yo(N),Or(2884),Ro(Te);const vi={[ut]:32774,[tt]:32778,[mt]:32779};if(m)vi[kt]=32775,vi[Ht]=32776;else{const St=l.get("EXT_blend_minmax");null!==St&&(vi[kt]=St.MIN_EXT,vi[Ht]=St.MAX_EXT)}const qo={[Wt]:0,[Gt]:1,[Xt]:768,[Oe]:770,[wn]:776,[Yt]:774,[dt]:772,[Pt]:769,[me]:771,[yn]:775,[Dt]:773};function Ro(St,Wn,er,Tr,Nn,qr,ei,Yr){if(St!==Te){if(!1===V&&(Or(3042),V=!0),St===Ge)Nn=Nn||Wn,qr=qr||er,ei=ei||Tr,(Wn!==q||Nn!==ie)&&(h.blendEquationSeparate(vi[Wn],vi[Nn]),q=Wn,ie=Nn),(er!==G||Tr!==ne||qr!==X||ei!==Ee)&&(h.blendFuncSeparate(qo[er],qo[Tr],qo[qr],qo[ei]),G=er,ne=Tr,X=qr,Ee=ei),W=St,Me=null;else if(St!==W||Yr!==Me){if((q!==ut||ie!==ut)&&(h.blendEquation(32774),q=ut,ie=ut),Yr)switch(St){case ze:h.blendFuncSeparate(1,771,1,771);break;case rt:h.blendFunc(1,1);break;case Ue:h.blendFuncSeparate(0,0,769,771);break;case Re:h.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",St)}else switch(St){case ze:h.blendFuncSeparate(770,771,1,771);break;case rt:h.blendFunc(770,1);break;case Ue:h.blendFunc(0,769);break;case Re:h.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",St)}G=null,ne=null,X=null,Ee=null,W=St,Me=Yr}}else!0===V&&(xr(3042),V=!1)}function as(St){He!==St&&(h.frontFace(St?2304:2305),He=St)}function yo(St){St!==A?(Or(2884),St!==_e&&h.cullFace(St===N?1029:St===F?1028:1032)):xr(2884),_e=St}function yi(St,Wn,er){St?(Or(32823),(At!==Wn||_t!==er)&&(h.polygonOffset(Wn,er),At=Wn,_t=er)):xr(32823)}function An(St){void 0===St&&(St=33984+nt-1),Rt!==St&&(h.activeTexture(St),Rt=St)}return{buffers:{color:D,depth:k,stencil:O},enable:Or,disable:xr,useProgram:function Qi(St){return H!==St&&(h.useProgram(St),H=St,!0)},setBlending:Ro,setMaterial:function pn(St,Wn){St.side===ce?xr(2884):Or(2884);let er=St.side===K;Wn&&(er=!er),as(er),St.blending===ze&&!1===St.transparent?Ro(Te):Ro(St.blending,St.blendEquation,St.blendSrc,St.blendDst,St.blendEquationAlpha,St.blendSrcAlpha,St.blendDstAlpha,St.premultipliedAlpha),k.setFunc(St.depthFunc),k.setTest(St.depthTest),k.setMask(St.depthWrite),D.setMask(St.colorWrite);const Tr=St.stencilWrite;O.setTest(Tr),Tr&&(O.setMask(St.stencilWriteMask),O.setFunc(St.stencilFunc,St.stencilRef,St.stencilFuncMask),O.setOp(St.stencilFail,St.stencilZFail,St.stencilZPass)),yi(St.polygonOffset,St.polygonOffsetFactor,St.polygonOffsetUnits)},setFlipSided:as,setCullFace:yo,setLineWidth:function Do(St){St!==et&&(Vt&&h.lineWidth(St),et=St)},setPolygonOffset:yi,setScissorTest:function Ho(St){St?Or(3089):xr(3089)},activeTexture:An,bindTexture:function Gn(St,Wn){null===Rt&&An();let er=zt[Rt];void 0===er&&(er={type:void 0,texture:void 0},zt[Rt]=er),(er.type!==St||er.texture!==Wn)&&(h.bindTexture(St,Wn||zn[St]),er.type=St,er.texture=Wn)},unbindTexture:function rr(){const St=zt[Rt];void 0!==St&&void 0!==St.type&&(h.bindTexture(St.type,null),St.type=void 0,St.texture=void 0)},compressedTexImage2D:function dr(){try{h.compressedTexImage2D.apply(h,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},texImage2D:function Mr(){try{h.texImage2D.apply(h,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},texImage3D:function Je(){try{h.texImage3D.apply(h,arguments)}catch(St){console.error("THREE.WebGLState:",St)}},scissor:function je(St){!1===Kt.equals(St)&&(h.scissor(St.x,St.y,St.z,St.w),Kt.copy(St))},viewport:function bn(St){!1===In.equals(St)&&(h.viewport(St.x,St.y,St.z,St.w),In.copy(St))},reset:function Rn(){h.disable(3042),h.disable(2884),h.disable(2929),h.disable(32823),h.disable(3089),h.disable(2960),h.blendEquation(32774),h.blendFunc(1,0),h.blendFuncSeparate(1,0,1,0),h.colorMask(!0,!0,!0,!0),h.clearColor(0,0,0,0),h.depthMask(!0),h.depthFunc(513),h.clearDepth(1),h.stencilMask(4294967295),h.stencilFunc(519,0,4294967295),h.stencilOp(7680,7680,7680),h.clearStencil(0),h.cullFace(1029),h.frontFace(2305),h.polygonOffset(0,0),h.activeTexture(33984),h.useProgram(null),h.lineWidth(1),h.scissor(0,0,h.canvas.width,h.canvas.height),h.viewport(0,0,h.canvas.width,h.canvas.height),z={},Rt=null,zt={},H=null,V=!1,W=null,q=null,G=null,ne=null,ie=null,X=null,Ee=null,Me=!1,He=null,_e=null,et=null,At=null,_t=null,D.reset(),k.reset(),O.reset()}}}function G2(h,l,d,m,v,_,x){const D=v.isWebGL2,k=v.maxTextures,O=v.maxCubemapSize,z=v.maxTextureSize,H=v.maxSamples,V=new WeakMap;let W,q=!1;try{q="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Je){}function G(Je,je){return q?new OffscreenCanvas(Je,je):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function ne(Je,je,bn,Rn){let St=1;if((Je.width>Rn||Je.height>Rn)&&(St=Rn/Math.max(Je.width,Je.height)),St<1||!0===je){if("undefined"!=typeof HTMLImageElement&&Je instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&Je instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&Je instanceof ImageBitmap){const Wn=je?Er.floorPowerOfTwo:Math.floor,er=Wn(St*Je.width),Tr=Wn(St*Je.height);void 0===W&&(W=G(er,Tr));const Nn=bn?G(er,Tr):W;return Nn.width=er,Nn.height=Tr,Nn.getContext("2d").drawImage(Je,0,0,er,Tr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Je.width+"x"+Je.height+") to ("+er+"x"+Tr+")."),Nn}return"data"in Je&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Je.width+"x"+Je.height+")."),Je}return Je}function ie(Je){return Er.isPowerOfTwo(Je.width)&&Er.isPowerOfTwo(Je.height)}function Ee(Je,je){return Je.generateMipmaps&&je&&Je.minFilter!==Pn&&Je.minFilter!==Ri}function Me(Je,je,bn,Rn){h.generateMipmap(Je),m.get(je).__maxMipLevel=Math.log2(Math.max(bn,Rn))}function He(Je,je,bn){if(!1===D)return je;if(null!==Je){if(void 0!==h[Je])return h[Je];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Je+"'")}let Rn=je;return 6403===je&&(5126===bn&&(Rn=33326),5131===bn&&(Rn=33325),5121===bn&&(Rn=33321)),6407===je&&(5126===bn&&(Rn=34837),5131===bn&&(Rn=34843),5121===bn&&(Rn=32849)),6408===je&&(5126===bn&&(Rn=34836),5131===bn&&(Rn=34842),5121===bn&&(Rn=32856)),(33325===Rn||33326===Rn||34842===Rn||34836===Rn)&&l.get("EXT_color_buffer_float"),Rn}function _e(Je){return Je===Pn||Je===yr||Je===ri?9728:9729}function et(Je){const je=Je.target;je.removeEventListener("dispose",et),function _t(Je){const je=m.get(Je);void 0!==je.__webglInit&&(h.deleteTexture(je.__webglTexture),m.remove(Je))}(je),je.isVideoTexture&&V.delete(je),x.memory.textures--}function At(Je){const je=Je.target;je.removeEventListener("dispose",At),function nt(Je){const je=Je.texture,bn=m.get(Je),Rn=m.get(je);if(Je){if(void 0!==Rn.__webglTexture&&h.deleteTexture(Rn.__webglTexture),Je.depthTexture&&Je.depthTexture.dispose(),Je.isWebGLCubeRenderTarget)for(let St=0;St<6;St++)h.deleteFramebuffer(bn.__webglFramebuffer[St]),bn.__webglDepthbuffer&&h.deleteRenderbuffer(bn.__webglDepthbuffer[St]);else h.deleteFramebuffer(bn.__webglFramebuffer),bn.__webglDepthbuffer&&h.deleteRenderbuffer(bn.__webglDepthbuffer),bn.__webglMultisampledFramebuffer&&h.deleteFramebuffer(bn.__webglMultisampledFramebuffer),bn.__webglColorRenderbuffer&&h.deleteRenderbuffer(bn.__webglColorRenderbuffer),bn.__webglDepthRenderbuffer&&h.deleteRenderbuffer(bn.__webglDepthRenderbuffer);m.remove(je),m.remove(Je)}}(je),x.memory.textures--}let Vt=0;function Rt(Je,je){const bn=m.get(Je);if(Je.isVideoTexture&&function An(Je){const je=x.render.frame;V.get(Je)!==je&&(V.set(Je,je),Je.update())}(Je),Je.version>0&&bn.__version!==Je.version){const Rn=Je.image;if(void 0===Rn)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==Rn.complete)return void Qi(bn,Je,je);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}d.activeTexture(33984+je),d.bindTexture(3553,bn.__webglTexture)}function In(Je,je){const bn=m.get(Je);Je.version>0&&bn.__version!==Je.version?function vi(Je,je,bn){if(6!==je.image.length)return;xr(Je,je),d.activeTexture(33984+bn),d.bindTexture(34067,Je.__webglTexture),h.pixelStorei(37440,je.flipY),h.pixelStorei(37441,je.premultiplyAlpha),h.pixelStorei(3317,je.unpackAlignment),h.pixelStorei(37443,0);const Rn=je&&(je.isCompressedTexture||je.image[0].isCompressedTexture),St=je.image[0]&&je.image[0].isDataTexture,Wn=[];for(let Jr=0;Jr<6;Jr++)Wn[Jr]=Rn||St?St?je.image[Jr].image:je.image[Jr]:ne(je.image[Jr],!1,!0,O);const er=Wn[0],Tr=ie(er)||D,Nn=_.convert(je.format),qr=_.convert(je.type),ei=He(je.internalFormat,Nn,qr);let Yr;if(Or(34067,je,Tr),Rn){for(let Jr=0;Jr<6;Jr++){Yr=Wn[Jr].mipmaps;for(let kr=0;kr<Yr.length;kr++){const Hi=Yr[kr];je.format!==Wo&&je.format!==Uu?null!==Nn?d.compressedTexImage2D(34069+Jr,kr,ei,Hi.width,Hi.height,0,Hi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):d.texImage2D(34069+Jr,kr,ei,Hi.width,Hi.height,0,Nn,qr,Hi.data)}}Je.__maxMipLevel=Yr.length-1}else{Yr=je.mipmaps;for(let Jr=0;Jr<6;Jr++)if(St){d.texImage2D(34069+Jr,0,ei,Wn[Jr].width,Wn[Jr].height,0,Nn,qr,Wn[Jr].data);for(let kr=0;kr<Yr.length;kr++){const ks=Yr[kr].image[Jr].image;d.texImage2D(34069+Jr,kr+1,ei,ks.width,ks.height,0,Nn,qr,ks.data)}}else{d.texImage2D(34069+Jr,0,ei,Nn,qr,Wn[Jr]);for(let kr=0;kr<Yr.length;kr++)d.texImage2D(34069+Jr,kr+1,ei,Nn,qr,Yr[kr].image[Jr])}Je.__maxMipLevel=Yr.length}Ee(je,Tr)&&Me(34067,je,er.width,er.height),Je.__version=je.version,je.onUpdate&&je.onUpdate(je)}(bn,Je,je):(d.activeTexture(33984+je),d.bindTexture(34067,bn.__webglTexture))}const jn={[qt]:10497,[cn]:33071,[Mn]:33648},zn={[Pn]:9728,[yr]:9984,[ri]:9986,[Ri]:9729,[su]:9985,[Gi]:9987};function Or(Je,je,bn){if(bn?(h.texParameteri(Je,10242,jn[je.wrapS]),h.texParameteri(Je,10243,jn[je.wrapT]),(32879===Je||35866===Je)&&h.texParameteri(Je,32882,jn[je.wrapR]),h.texParameteri(Je,10240,zn[je.magFilter]),h.texParameteri(Je,10241,zn[je.minFilter])):(h.texParameteri(Je,10242,33071),h.texParameteri(Je,10243,33071),(32879===Je||35866===Je)&&h.texParameteri(Je,32882,33071),(je.wrapS!==cn||je.wrapT!==cn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),h.texParameteri(Je,10240,_e(je.magFilter)),h.texParameteri(Je,10241,_e(je.minFilter)),je.minFilter!==Pn&&je.minFilter!==Ri&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===l.has("EXT_texture_filter_anisotropic")){const Rn=l.get("EXT_texture_filter_anisotropic");if(je.type===Il&&!1===l.has("OES_texture_float_linear")||!1===D&&je.type===fs&&!1===l.has("OES_texture_half_float_linear"))return;(je.anisotropy>1||m.get(je).__currentAnisotropy)&&(h.texParameterf(Je,Rn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(je.anisotropy,v.getMaxAnisotropy())),m.get(je).__currentAnisotropy=je.anisotropy)}}function xr(Je,je){void 0===Je.__webglInit&&(Je.__webglInit=!0,je.addEventListener("dispose",et),Je.__webglTexture=h.createTexture(),x.memory.textures++)}function Qi(Je,je,bn){let Rn=3553;je.isDataTexture2DArray&&(Rn=35866),je.isDataTexture3D&&(Rn=32879),xr(Je,je),d.activeTexture(33984+bn),d.bindTexture(Rn,Je.__webglTexture),h.pixelStorei(37440,je.flipY),h.pixelStorei(37441,je.premultiplyAlpha),h.pixelStorei(3317,je.unpackAlignment),h.pixelStorei(37443,0);const St=function X(Je){return!D&&(Je.wrapS!==cn||Je.wrapT!==cn||Je.minFilter!==Pn&&Je.minFilter!==Ri)}(je)&&!1===ie(je.image),Wn=ne(je.image,St,!1,z),er=ie(Wn)||D,Tr=_.convert(je.format);let ei,Nn=_.convert(je.type),qr=He(je.internalFormat,Tr,Nn);Or(Rn,je,er);const Yr=je.mipmaps;if(je.isDepthTexture)qr=6402,D?qr=je.type===Il?36012:je.type===au?33190:je.type===Jn?35056:33189:je.type===Il&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),je.format===So&&6402===qr&&je.type!==$i&&je.type!==au&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),je.type=$i,Nn=_.convert(je.type)),je.format===vo&&6402===qr&&(qr=34041,je.type!==Jn&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),je.type=Jn,Nn=_.convert(je.type))),d.texImage2D(3553,0,qr,Wn.width,Wn.height,0,Tr,Nn,null);else if(je.isDataTexture)if(Yr.length>0&&er){for(let Jr=0,kr=Yr.length;Jr<kr;Jr++)ei=Yr[Jr],d.texImage2D(3553,Jr,qr,ei.width,ei.height,0,Tr,Nn,ei.data);je.generateMipmaps=!1,Je.__maxMipLevel=Yr.length-1}else d.texImage2D(3553,0,qr,Wn.width,Wn.height,0,Tr,Nn,Wn.data),Je.__maxMipLevel=0;else if(je.isCompressedTexture){for(let Jr=0,kr=Yr.length;Jr<kr;Jr++)ei=Yr[Jr],je.format!==Wo&&je.format!==Uu?null!==Tr?d.compressedTexImage2D(3553,Jr,qr,ei.width,ei.height,0,ei.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):d.texImage2D(3553,Jr,qr,ei.width,ei.height,0,Tr,Nn,ei.data);Je.__maxMipLevel=Yr.length-1}else if(je.isDataTexture2DArray)d.texImage3D(35866,0,qr,Wn.width,Wn.height,Wn.depth,0,Tr,Nn,Wn.data),Je.__maxMipLevel=0;else if(je.isDataTexture3D)d.texImage3D(32879,0,qr,Wn.width,Wn.height,Wn.depth,0,Tr,Nn,Wn.data),Je.__maxMipLevel=0;else if(Yr.length>0&&er){for(let Jr=0,kr=Yr.length;Jr<kr;Jr++)ei=Yr[Jr],d.texImage2D(3553,Jr,qr,Tr,Nn,ei);je.generateMipmaps=!1,Je.__maxMipLevel=Yr.length-1}else d.texImage2D(3553,0,qr,Tr,Nn,Wn),Je.__maxMipLevel=0;Ee(je,er)&&Me(Rn,je,Wn.width,Wn.height),Je.__version=je.version,je.onUpdate&&je.onUpdate(je)}function qo(Je,je,bn,Rn){const St=je.texture,Wn=_.convert(St.format),er=_.convert(St.type),Tr=He(St.internalFormat,Wn,er);32879===Rn||35866===Rn?d.texImage3D(Rn,0,Tr,je.width,je.height,je.depth,0,Wn,er,null):d.texImage2D(Rn,0,Tr,je.width,je.height,0,Wn,er,null),h.bindFramebuffer(36160,Je),h.framebufferTexture2D(36160,bn,Rn,m.get(St).__webglTexture,0),h.bindFramebuffer(36160,null)}function Ro(Je,je,bn){if(h.bindRenderbuffer(36161,Je),je.depthBuffer&&!je.stencilBuffer){let Rn=33189;if(bn){const St=je.depthTexture;St&&St.isDepthTexture&&(St.type===Il?Rn=36012:St.type===au&&(Rn=33190));const Wn=Ho(je);h.renderbufferStorageMultisample(36161,Wn,Rn,je.width,je.height)}else h.renderbufferStorage(36161,Rn,je.width,je.height);h.framebufferRenderbuffer(36160,36096,36161,Je)}else if(je.depthBuffer&&je.stencilBuffer){if(bn){const Rn=Ho(je);h.renderbufferStorageMultisample(36161,Rn,35056,je.width,je.height)}else h.renderbufferStorage(36161,34041,je.width,je.height);h.framebufferRenderbuffer(36160,33306,36161,Je)}else{const Rn=je.texture,St=_.convert(Rn.format),Wn=_.convert(Rn.type),er=He(Rn.internalFormat,St,Wn);if(bn){const Tr=Ho(je);h.renderbufferStorageMultisample(36161,Tr,er,je.width,je.height)}else h.renderbufferStorage(36161,er,je.width,je.height)}h.bindRenderbuffer(36161,null)}function Ho(Je){return D&&Je.isWebGLMultisampleRenderTarget?Math.min(H,Je.samples):0}let Gn=!1,rr=!1;this.allocateTextureUnit=function Bt(){const Je=Vt;return Je>=k&&console.warn("THREE.WebGLTextures: Trying to use "+Je+" texture units while this GPU supports only "+k),Vt+=1,Je},this.resetTextureUnits=function en(){Vt=0},this.setTexture2D=Rt,this.setTexture2DArray=function zt(Je,je){const bn=m.get(Je);Je.version>0&&bn.__version!==Je.version?Qi(bn,Je,je):(d.activeTexture(33984+je),d.bindTexture(35866,bn.__webglTexture))},this.setTexture3D=function Kt(Je,je){const bn=m.get(Je);Je.version>0&&bn.__version!==Je.version?Qi(bn,Je,je):(d.activeTexture(33984+je),d.bindTexture(32879,bn.__webglTexture))},this.setTextureCube=In,this.setupRenderTarget=function yo(Je){const je=Je.texture,bn=m.get(Je),Rn=m.get(je);Je.addEventListener("dispose",At),Rn.__webglTexture=h.createTexture(),x.memory.textures++;const St=!0===Je.isWebGLCubeRenderTarget,Wn=!0===Je.isWebGLMultisampleRenderTarget,er=je.isDataTexture3D||je.isDataTexture2DArray,Tr=ie(Je)||D;if(D&&je.format===Uu&&(je.type===Il||je.type===fs)&&(je.format=Wo,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),St){bn.__webglFramebuffer=[];for(let Nn=0;Nn<6;Nn++)bn.__webglFramebuffer[Nn]=h.createFramebuffer()}else if(bn.__webglFramebuffer=h.createFramebuffer(),Wn)if(D){bn.__webglMultisampledFramebuffer=h.createFramebuffer(),bn.__webglColorRenderbuffer=h.createRenderbuffer(),h.bindRenderbuffer(36161,bn.__webglColorRenderbuffer);const Nn=_.convert(je.format),qr=_.convert(je.type),ei=He(je.internalFormat,Nn,qr),Yr=Ho(Je);h.renderbufferStorageMultisample(36161,Yr,ei,Je.width,Je.height),h.bindFramebuffer(36160,bn.__webglMultisampledFramebuffer),h.framebufferRenderbuffer(36160,36064,36161,bn.__webglColorRenderbuffer),h.bindRenderbuffer(36161,null),Je.depthBuffer&&(bn.__webglDepthRenderbuffer=h.createRenderbuffer(),Ro(bn.__webglDepthRenderbuffer,Je,!0)),h.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(St){d.bindTexture(34067,Rn.__webglTexture),Or(34067,je,Tr);for(let Nn=0;Nn<6;Nn++)qo(bn.__webglFramebuffer[Nn],Je,36064,34069+Nn);Ee(je,Tr)&&Me(34067,je,Je.width,Je.height),d.bindTexture(34067,null)}else{let Nn=3553;er&&(D?Nn=je.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),d.bindTexture(Nn,Rn.__webglTexture),Or(Nn,je,Tr),qo(bn.__webglFramebuffer,Je,36064,Nn),Ee(je,Tr)&&Me(3553,je,Je.width,Je.height),d.bindTexture(3553,null)}Je.depthBuffer&&function as(Je){const je=m.get(Je),bn=!0===Je.isWebGLCubeRenderTarget;if(Je.depthTexture){if(bn)throw new Error("target.depthTexture not supported in Cube render targets");!function pn(Je,je){if(je&&je.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(h.bindFramebuffer(36160,Je),!je.depthTexture||!je.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!m.get(je.depthTexture).__webglTexture||je.depthTexture.image.width!==je.width||je.depthTexture.image.height!==je.height)&&(je.depthTexture.image.width=je.width,je.depthTexture.image.height=je.height,je.depthTexture.needsUpdate=!0),Rt(je.depthTexture,0);const Rn=m.get(je.depthTexture).__webglTexture;if(je.depthTexture.format===So)h.framebufferTexture2D(36160,36096,3553,Rn,0);else{if(je.depthTexture.format!==vo)throw new Error("Unknown depthTexture format");h.framebufferTexture2D(36160,33306,3553,Rn,0)}}(je.__webglFramebuffer,Je)}else if(bn){je.__webglDepthbuffer=[];for(let Rn=0;Rn<6;Rn++)h.bindFramebuffer(36160,je.__webglFramebuffer[Rn]),je.__webglDepthbuffer[Rn]=h.createRenderbuffer(),Ro(je.__webglDepthbuffer[Rn],Je,!1)}else h.bindFramebuffer(36160,je.__webglFramebuffer),je.__webglDepthbuffer=h.createRenderbuffer(),Ro(je.__webglDepthbuffer,Je,!1);h.bindFramebuffer(36160,null)}(Je)},this.updateRenderTargetMipmap=function Do(Je){const je=Je.texture;if(Ee(je,ie(Je)||D)){const Rn=Je.isWebGLCubeRenderTarget?34067:3553,St=m.get(je).__webglTexture;d.bindTexture(Rn,St),Me(Rn,je,Je.width,Je.height),d.bindTexture(Rn,null)}},this.updateMultisampleRenderTarget=function yi(Je){if(Je.isWebGLMultisampleRenderTarget)if(D){const je=m.get(Je);h.bindFramebuffer(36008,je.__webglMultisampledFramebuffer),h.bindFramebuffer(36009,je.__webglFramebuffer);const bn=Je.width,Rn=Je.height;let St=16384;Je.depthBuffer&&(St|=256),Je.stencilBuffer&&(St|=1024),h.blitFramebuffer(0,0,bn,Rn,0,0,bn,Rn,St,9728),h.bindFramebuffer(36160,je.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function dr(Je,je){Je&&Je.isWebGLRenderTarget&&(!1===Gn&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Gn=!0),Je=Je.texture),Rt(Je,je)},this.safeSetTextureCube=function Mr(Je,je){Je&&Je.isWebGLCubeRenderTarget&&(!1===rr&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),rr=!0),Je=Je.texture),In(Je,je)}}function rD(h,l,d){const m=d.isWebGL2;return{convert:function v(_){let x;if(_===oa)return 5121;if(_===og)return 32819;if(_===bc)return 32820;if(_===wa)return 33635;if(_===Mo)return 5120;if(_===ds)return 5122;if(_===$i)return 5123;if(_===Ll)return 5124;if(_===au)return 5125;if(_===Il)return 5126;if(_===fs)return m?5131:(x=l.get("OES_texture_half_float"),null!==x?x.HALF_FLOAT_OES:null);if(_===nf)return 6406;if(_===Uu)return 6407;if(_===Wo)return 6408;if(_===rl)return 6409;if(_===go)return 6410;if(_===So)return 6402;if(_===vo)return 34041;if(_===Yo)return 6403;if(_===il)return 36244;if(_===bi)return 33319;if(_===Fs)return 33320;if(_===za)return 36248;if(_===Ua)return 36249;if(_===rf||_===sf||_===lu||_===xo){if(x=l.get("WEBGL_compressed_texture_s3tc"),null===x)return null;if(_===rf)return x.COMPRESSED_RGB_S3TC_DXT1_EXT;if(_===sf)return x.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(_===lu)return x.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(_===xo)return x.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(_===ju||_===af||_===uu||_===Wu){if(x=l.get("WEBGL_compressed_texture_pvrtc"),null===x)return null;if(_===ju)return x.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(_===af)return x.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(_===uu)return x.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(_===Wu)return x.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(_===lf)return x=l.get("WEBGL_compressed_texture_etc1"),null!==x?x.COMPRESSED_RGB_ETC1_WEBGL:null;if((_===uh||_===$o)&&(x=l.get("WEBGL_compressed_texture_etc"),null!==x)){if(_===uh)return x.COMPRESSED_RGB8_ETC2;if(_===$o)return x.COMPRESSED_RGBA8_ETC2_EAC}return _===wc||_===uf||_===Yu||_===qi||_===Pl||_===Co||_===cf||_===fp||_===no||_===Vr||_===Mc||_===hp||_===sn||_===ol||_===ki||_===ud||_===cu||_===Es||_===Nl||_===Ma||_===sg||_===ch||_===ag||_===Ml||_===Sy||_===cd||_===pp||_===lg?(x=l.get("WEBGL_compressed_texture_astc"),null!==x?_:null):_===Kr?(x=l.get("EXT_texture_compression_bptc"),null!==x?_:null):_===Jn?m?34042:(x=l.get("WEBGL_depth_texture"),null!==x?x.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function Lg(h=[]){os.call(this),this.cameras=h}n0.prototype.isMeshDistanceMaterial=!0,Lg.prototype=Object.assign(Object.create(os.prototype),{constructor:Lg,isArrayCamera:!0});class Pp extends $r{constructor(){super(),this.type="Group"}}function Ig(){this._targetRay=null,this._grip=null,this._hand=null}function iD(h,l){const d=this;let m=null,v=1,_=null,x="local-floor",D=null;const k=[],O=new Map,z=new os;z.layers.enable(1),z.viewport=new wi;const H=new os;H.layers.enable(2),H.viewport=new wi;const V=[z,H],W=new Lg;W.layers.enable(1),W.layers.enable(2);let q=null,G=null;function ne(nt){const Vt=O.get(nt.inputSource);Vt&&Vt.dispatchEvent({type:nt.type,data:nt.inputSource})}function ie(){O.forEach(function(nt,Vt){nt.disconnect(Vt)}),O.clear(),q=null,G=null,h.setFramebuffer(null),h.setRenderTarget(h.getRenderTarget()),_t.stop(),d.isPresenting=!1,d.dispatchEvent({type:"sessionend"})}function X(nt){const Vt=m.inputSources;for(let en=0;en<k.length;en++)O.set(Vt[en],k[en]);for(let en=0;en<nt.removed.length;en++){const Bt=nt.removed[en],Rt=O.get(Bt);Rt&&(Rt.dispatchEvent({type:"disconnected",data:Bt}),O.delete(Bt))}for(let en=0;en<nt.added.length;en++){const Bt=nt.added[en],Rt=O.get(Bt);Rt&&Rt.dispatchEvent({type:"connected",data:Bt})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(nt){let Vt=k[nt];return void 0===Vt&&(Vt=new Ig,k[nt]=Vt),Vt.getTargetRaySpace()},this.getControllerGrip=function(nt){let Vt=k[nt];return void 0===Vt&&(Vt=new Ig,k[nt]=Vt),Vt.getGripSpace()},this.getHand=function(nt){let Vt=k[nt];return void 0===Vt&&(Vt=new Ig,k[nt]=Vt),Vt.getHandSpace()},this.setFramebufferScaleFactor=function(nt){v=nt,!0===d.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(nt){x=nt,!0===d.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return _},this.getSession=function(){return m},this.setSession=function(){var nt=(0,L.Z)(function*(Vt){if(m=Vt,null!==m){m.addEventListener("select",ne),m.addEventListener("selectstart",ne),m.addEventListener("selectend",ne),m.addEventListener("squeeze",ne),m.addEventListener("squeezestart",ne),m.addEventListener("squeezeend",ne),m.addEventListener("end",ie),m.addEventListener("inputsourceschange",X);const en=l.getContextAttributes();!0!==en.xrCompatible&&(yield l.makeXRCompatible());const Rt=new XRWebGLLayer(m,l,{antialias:en.antialias,alpha:en.alpha,depth:en.depth,stencil:en.stencil,framebufferScaleFactor:v});m.updateRenderState({baseLayer:Rt}),_=yield m.requestReferenceSpace(x),_t.setContext(m),_t.start(),d.isPresenting=!0,d.dispatchEvent({type:"sessionstart"})}});return function(Vt){return nt.apply(this,arguments)}}();const Ee=new Se,Me=new Se;function _e(nt,Vt){null===Vt?nt.matrixWorld.copy(nt.matrix):nt.matrixWorld.multiplyMatrices(Vt.matrixWorld,nt.matrix),nt.matrixWorldInverse.copy(nt.matrixWorld).invert()}this.getCamera=function(nt){W.near=H.near=z.near=nt.near,W.far=H.far=z.far=nt.far,(q!==W.near||G!==W.far)&&(m.updateRenderState({depthNear:W.near,depthFar:W.far}),q=W.near,G=W.far);const Vt=nt.parent,en=W.cameras;_e(W,Vt);for(let Rt=0;Rt<en.length;Rt++)_e(en[Rt],Vt);nt.matrixWorld.copy(W.matrixWorld),nt.matrix.copy(W.matrix),nt.matrix.decompose(nt.position,nt.quaternion,nt.scale);const Bt=nt.children;for(let Rt=0,zt=Bt.length;Rt<zt;Rt++)Bt[Rt].updateMatrixWorld(!0);return 2===en.length?function He(nt,Vt,en){Ee.setFromMatrixPosition(Vt.matrixWorld),Me.setFromMatrixPosition(en.matrixWorld);const Bt=Ee.distanceTo(Me),Rt=Vt.projectionMatrix.elements,zt=en.projectionMatrix.elements,Kt=Rt[14]/(Rt[10]-1),In=Rt[14]/(Rt[10]+1),jn=(Rt[9]+1)/Rt[5],zn=(Rt[9]-1)/Rt[5],Or=(Rt[8]-1)/Rt[0],xr=(zt[8]+1)/zt[0],Qi=Kt*Or,vi=Kt*xr,qo=Bt/(-Or+xr),Ro=qo*-Or;Vt.matrixWorld.decompose(nt.position,nt.quaternion,nt.scale),nt.translateX(Ro),nt.translateZ(qo),nt.matrixWorld.compose(nt.position,nt.quaternion,nt.scale),nt.matrixWorldInverse.copy(nt.matrixWorld).invert();const pn=Kt+qo,as=In+qo;nt.projectionMatrix.makePerspective(Qi-Ro,vi+(Bt-Ro),jn*In/as*pn,zn*In/as*pn,pn,as)}(W,z,H):W.projectionMatrix.copy(z.projectionMatrix),W};let et=null;const _t=new Dp;_t.setAnimationLoop(function At(nt,Vt){if(D=Vt.getViewerPose(_),null!==D){const Bt=D.views,Rt=m.renderState.baseLayer;h.setFramebuffer(Rt.framebuffer);let zt=!1;Bt.length!==W.cameras.length&&(W.cameras.length=0,zt=!0);for(let Kt=0;Kt<Bt.length;Kt++){const In=Bt[Kt],jn=Rt.getViewport(In),zn=V[Kt];zn.matrix.fromArray(In.transform.matrix),zn.projectionMatrix.fromArray(In.projectionMatrix),zn.viewport.set(jn.x,jn.y,jn.width,jn.height),0===Kt&&W.matrix.copy(zn.matrix),!0===zt&&W.cameras.push(zn)}}const en=m.inputSources;for(let Bt=0;Bt<k.length;Bt++)k[Bt].update(en[Bt],Vt,_);et&&et(nt,Vt)}),this.setAnimationLoop=function(nt){et=nt},this.dispose=function(){}}function oD(h){function m(ie,X){ie.opacity.value=X.opacity,X.color&&ie.diffuse.value.copy(X.color),X.emissive&&ie.emissive.value.copy(X.emissive).multiplyScalar(X.emissiveIntensity),X.map&&(ie.map.value=X.map),X.alphaMap&&(ie.alphaMap.value=X.alphaMap),X.specularMap&&(ie.specularMap.value=X.specularMap);const Ee=h.get(X).envMap;if(Ee){ie.envMap.value=Ee,ie.flipEnvMap.value=Ee.isCubeTexture&&Ee._needsFlipEnvMap?-1:1,ie.reflectivity.value=X.reflectivity,ie.refractionRatio.value=X.refractionRatio;const _e=h.get(Ee).__maxMipLevel;void 0!==_e&&(ie.maxMipLevel.value=_e)}let Me,He;X.lightMap&&(ie.lightMap.value=X.lightMap,ie.lightMapIntensity.value=X.lightMapIntensity),X.aoMap&&(ie.aoMap.value=X.aoMap,ie.aoMapIntensity.value=X.aoMapIntensity),X.map?Me=X.map:X.specularMap?Me=X.specularMap:X.displacementMap?Me=X.displacementMap:X.normalMap?Me=X.normalMap:X.bumpMap?Me=X.bumpMap:X.roughnessMap?Me=X.roughnessMap:X.metalnessMap?Me=X.metalnessMap:X.alphaMap?Me=X.alphaMap:X.emissiveMap?Me=X.emissiveMap:X.clearcoatMap?Me=X.clearcoatMap:X.clearcoatNormalMap?Me=X.clearcoatNormalMap:X.clearcoatRoughnessMap&&(Me=X.clearcoatRoughnessMap),void 0!==Me&&(Me.isWebGLRenderTarget&&(Me=Me.texture),!0===Me.matrixAutoUpdate&&Me.updateMatrix(),ie.uvTransform.value.copy(Me.matrix)),X.aoMap?He=X.aoMap:X.lightMap&&(He=X.lightMap),void 0!==He&&(He.isWebGLRenderTarget&&(He=He.texture),!0===He.matrixAutoUpdate&&He.updateMatrix(),ie.uv2Transform.value.copy(He.matrix))}function H(ie,X){ie.roughness.value=X.roughness,ie.metalness.value=X.metalness,X.roughnessMap&&(ie.roughnessMap.value=X.roughnessMap),X.metalnessMap&&(ie.metalnessMap.value=X.metalnessMap),X.emissiveMap&&(ie.emissiveMap.value=X.emissiveMap),X.bumpMap&&(ie.bumpMap.value=X.bumpMap,ie.bumpScale.value=X.bumpScale,X.side===K&&(ie.bumpScale.value*=-1)),X.normalMap&&(ie.normalMap.value=X.normalMap,ie.normalScale.value.copy(X.normalScale),X.side===K&&ie.normalScale.value.negate()),X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias),h.get(X).envMap&&(ie.envMapIntensity.value=X.envMapIntensity)}return{refreshFogUniforms:function l(ie,X){ie.fogColor.value.copy(X.color),X.isFog?(ie.fogNear.value=X.near,ie.fogFar.value=X.far):X.isFogExp2&&(ie.fogDensity.value=X.density)},refreshMaterialUniforms:function d(ie,X,Ee,Me){X.isMeshBasicMaterial?m(ie,X):X.isMeshLambertMaterial?(m(ie,X),function k(ie,X){X.emissiveMap&&(ie.emissiveMap.value=X.emissiveMap)}(ie,X)):X.isMeshToonMaterial?(m(ie,X),function z(ie,X){X.gradientMap&&(ie.gradientMap.value=X.gradientMap),X.emissiveMap&&(ie.emissiveMap.value=X.emissiveMap),X.bumpMap&&(ie.bumpMap.value=X.bumpMap,ie.bumpScale.value=X.bumpScale,X.side===K&&(ie.bumpScale.value*=-1)),X.normalMap&&(ie.normalMap.value=X.normalMap,ie.normalScale.value.copy(X.normalScale),X.side===K&&ie.normalScale.value.negate()),X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias)}(ie,X)):X.isMeshPhongMaterial?(m(ie,X),function O(ie,X){ie.specular.value.copy(X.specular),ie.shininess.value=Math.max(X.shininess,1e-4),X.emissiveMap&&(ie.emissiveMap.value=X.emissiveMap),X.bumpMap&&(ie.bumpMap.value=X.bumpMap,ie.bumpScale.value=X.bumpScale,X.side===K&&(ie.bumpScale.value*=-1)),X.normalMap&&(ie.normalMap.value=X.normalMap,ie.normalScale.value.copy(X.normalScale),X.side===K&&ie.normalScale.value.negate()),X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias)}(ie,X)):X.isMeshStandardMaterial?(m(ie,X),X.isMeshPhysicalMaterial?function V(ie,X){H(ie,X),ie.reflectivity.value=X.reflectivity,ie.clearcoat.value=X.clearcoat,ie.clearcoatRoughness.value=X.clearcoatRoughness,X.sheen&&ie.sheen.value.copy(X.sheen),X.clearcoatMap&&(ie.clearcoatMap.value=X.clearcoatMap),X.clearcoatRoughnessMap&&(ie.clearcoatRoughnessMap.value=X.clearcoatRoughnessMap),X.clearcoatNormalMap&&(ie.clearcoatNormalScale.value.copy(X.clearcoatNormalScale),ie.clearcoatNormalMap.value=X.clearcoatNormalMap,X.side===K&&ie.clearcoatNormalScale.value.negate()),ie.transmission.value=X.transmission,X.transmissionMap&&(ie.transmissionMap.value=X.transmissionMap)}(ie,X):H(ie,X)):X.isMeshMatcapMaterial?(m(ie,X),function W(ie,X){X.matcap&&(ie.matcap.value=X.matcap),X.bumpMap&&(ie.bumpMap.value=X.bumpMap,ie.bumpScale.value=X.bumpScale,X.side===K&&(ie.bumpScale.value*=-1)),X.normalMap&&(ie.normalMap.value=X.normalMap,ie.normalScale.value.copy(X.normalScale),X.side===K&&ie.normalScale.value.negate()),X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias)}(ie,X)):X.isMeshDepthMaterial?(m(ie,X),function q(ie,X){X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias)}(ie,X)):X.isMeshDistanceMaterial?(m(ie,X),function G(ie,X){X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias),ie.referencePosition.value.copy(X.referencePosition),ie.nearDistance.value=X.nearDistance,ie.farDistance.value=X.farDistance}(ie,X)):X.isMeshNormalMaterial?(m(ie,X),function ne(ie,X){X.bumpMap&&(ie.bumpMap.value=X.bumpMap,ie.bumpScale.value=X.bumpScale,X.side===K&&(ie.bumpScale.value*=-1)),X.normalMap&&(ie.normalMap.value=X.normalMap,ie.normalScale.value.copy(X.normalScale),X.side===K&&ie.normalScale.value.negate()),X.displacementMap&&(ie.displacementMap.value=X.displacementMap,ie.displacementScale.value=X.displacementScale,ie.displacementBias.value=X.displacementBias)}(ie,X)):X.isLineBasicMaterial?(function v(ie,X){ie.diffuse.value.copy(X.color),ie.opacity.value=X.opacity}(ie,X),X.isLineDashedMaterial&&function _(ie,X){ie.dashSize.value=X.dashSize,ie.totalSize.value=X.dashSize+X.gapSize,ie.scale.value=X.scale}(ie,X)):X.isPointsMaterial?function x(ie,X,Ee,Me){let He;ie.diffuse.value.copy(X.color),ie.opacity.value=X.opacity,ie.size.value=X.size*Ee,ie.scale.value=.5*Me,X.map&&(ie.map.value=X.map),X.alphaMap&&(ie.alphaMap.value=X.alphaMap),X.map?He=X.map:X.alphaMap&&(He=X.alphaMap),void 0!==He&&(!0===He.matrixAutoUpdate&&He.updateMatrix(),ie.uvTransform.value.copy(He.matrix))}(ie,X,Ee,Me):X.isSpriteMaterial?function D(ie,X){let Ee;ie.diffuse.value.copy(X.color),ie.opacity.value=X.opacity,ie.rotation.value=X.rotation,X.map&&(ie.map.value=X.map),X.alphaMap&&(ie.alphaMap.value=X.alphaMap),X.map?Ee=X.map:X.alphaMap&&(Ee=X.alphaMap),void 0!==Ee&&(!0===Ee.matrixAutoUpdate&&Ee.updateMatrix(),ie.uvTransform.value.copy(Ee.matrix))}(ie,X):X.isShadowMaterial?(ie.color.value.copy(X.color),ie.opacity.value=X.opacity):X.isShaderMaterial&&(X.uniformsNeedUpdate=!1)}}}function Zo(h){const l=void 0!==(h=h||{}).canvas?h.canvas:function w8(){const h=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return h.style.display="block",h}(),d=void 0!==h.context?h.context:null,m=void 0!==h.alpha&&h.alpha,v=void 0===h.depth||h.depth,_=void 0===h.stencil||h.stencil,x=void 0!==h.antialias&&h.antialias,D=void 0===h.premultipliedAlpha||h.premultipliedAlpha,k=void 0!==h.preserveDrawingBuffer&&h.preserveDrawingBuffer,O=void 0!==h.powerPreference?h.powerPreference:"default",z=void 0!==h.failIfMajorPerformanceCaveat&&h.failIfMajorPerformanceCaveat;let H=null,V=null;const W=[],q=[];this.domElement=l,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=mn,this.physicallyCorrectLights=!1,this.toneMapping=si,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const G=this;let ne=!1,ie=null,X=0,Ee=0,Me=null,He=null,_e=-1,et=null;const At=new wi,_t=new wi;let nt=null,Vt=l.width,en=l.height,Bt=1,Rt=null,zt=null;const Kt=new wi(0,0,Vt,en),In=new wi(0,0,Vt,en);let jn=!1;const zn=new wd;let Or=!1,xr=!1;const Qi=new Nr,vi=new Se,qo={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ro(){return null===Me?Bt:1}let yo,Do,yi,Ho,An,Gn,rr,dr,Mr,Je,je,bn,Rn,St,Wn,er,Tr,Nn,qr,ei,Yr,pn=d;function as(Be,on){for(let Jt=0;Jt<Be.length;Jt++){const ir=l.getContext(Be[Jt],on);if(null!==ir)return ir}return null}try{const Be={alpha:m,depth:v,stencil:_,antialias:x,premultipliedAlpha:D,preserveDrawingBuffer:k,powerPreference:O,failIfMajorPerformanceCaveat:z};if(l.addEventListener("webglcontextlost",ks,!1),l.addEventListener("webglcontextrestored",dA,!1),null===pn){const on=["webgl2","webgl","experimental-webgl"];if(!0===G.isWebGL1Renderer&&on.shift(),pn=as(on,Be),null===pn)throw as(on)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===pn.getShaderPrecisionFormat&&(pn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Be){throw console.error("THREE.WebGLRenderer: "+Be.message),Be}function Jr(){yo=new OR(pn),Do=new v2(pn,yo,h),yo.init(Do),ei=new rD(pn,yo,Do),yi=new Y2(pn,yo,Do),yi.scissor(_t.copy(In).multiplyScalar(Bt).floor()),yi.viewport(At.copy(Kt).multiplyScalar(Bt).floor()),Ho=new f8(pn),An=new JR,Gn=new G2(pn,yo,yi,An,Do,ei,Ho),rr=new $w(G),dr=new Gx(pn,Do),Yr=new d8(pn,yo,dr,Do),Mr=new _2(pn,dr,Ho,Yr),Je=new b2(pn,Mr,dr,Ho),Tr=new lC(pn),Wn=new y2(An),je=new MC(G,rr,yo,Do,Yr,Wn),bn=new oD(An),Rn=new SC(An),St=new EC(yo,Do),er=new m2(G,rr,yi,Je,D),Nn=new g2(pn,yo,Ho,Do),qr=new kR(pn,yo,Ho,Do),Ho.programs=je.programs,G.capabilities=Do,G.extensions=yo,G.properties=An,G.renderLists=Rn,G.state=yi,G.info=Ho}Jr();const kr=new iD(G,pn);this.xr=kr;const Hi=new nD(G,Je,Do.maxTextureSize);function ks(Be){Be.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ne=!0}function dA(){console.log("THREE.WebGLRenderer: Context Restored."),ne=!1,Jr()}function fA(Be){const on=Be.target;on.removeEventListener("dispose",fA),function Id(Be){sc(Be),An.remove(Be)}(on)}function sc(Be){const on=An.get(Be).program;void 0!==on&&je.releaseProgram(on)}this.shadowMap=Hi,this.getContext=function(){return pn},this.getContextAttributes=function(){return pn.getContextAttributes()},this.forceContextLoss=function(){const Be=yo.get("WEBGL_lose_context");Be&&Be.loseContext()},this.forceContextRestore=function(){const Be=yo.get("WEBGL_lose_context");Be&&Be.restoreContext()},this.getPixelRatio=function(){return Bt},this.setPixelRatio=function(Be){void 0!==Be&&(Bt=Be,this.setSize(Vt,en,!1))},this.getSize=function(Be){return void 0===Be&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Be=new vn),Be.set(Vt,en)},this.setSize=function(Be,on,Jt){kr.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Vt=Be,en=on,l.width=Math.floor(Be*Bt),l.height=Math.floor(on*Bt),!1!==Jt&&(l.style.width=Be+"px",l.style.height=on+"px"),this.setViewport(0,0,Be,on))},this.getDrawingBufferSize=function(Be){return void 0===Be&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Be=new vn),Be.set(Vt*Bt,en*Bt).floor()},this.setDrawingBufferSize=function(Be,on,Jt){Vt=Be,en=on,Bt=Jt,l.width=Math.floor(Be*Jt),l.height=Math.floor(on*Jt),this.setViewport(0,0,Be,on)},this.getCurrentViewport=function(Be){return void 0===Be&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Be=new wi),Be.copy(At)},this.getViewport=function(Be){return Be.copy(Kt)},this.setViewport=function(Be,on,Jt,an){Be.isVector4?Kt.set(Be.x,Be.y,Be.z,Be.w):Kt.set(Be,on,Jt,an),yi.viewport(At.copy(Kt).multiplyScalar(Bt).floor())},this.getScissor=function(Be){return Be.copy(In)},this.setScissor=function(Be,on,Jt,an){Be.isVector4?In.set(Be.x,Be.y,Be.z,Be.w):In.set(Be,on,Jt,an),yi.scissor(_t.copy(In).multiplyScalar(Bt).floor())},this.getScissorTest=function(){return jn},this.setScissorTest=function(Be){yi.setScissorTest(jn=Be)},this.setOpaqueSort=function(Be){Rt=Be},this.setTransparentSort=function(Be){zt=Be},this.getClearColor=function(Be){return void 0===Be&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),Be=new cr),Be.copy(er.getClearColor())},this.setClearColor=function(){er.setClearColor.apply(er,arguments)},this.getClearAlpha=function(){return er.getClearAlpha()},this.setClearAlpha=function(){er.setClearAlpha.apply(er,arguments)},this.clear=function(Be,on,Jt){let an=0;(void 0===Be||Be)&&(an|=16384),(void 0===on||on)&&(an|=256),(void 0===Jt||Jt)&&(an|=1024),pn.clear(an)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){l.removeEventListener("webglcontextlost",ks,!1),l.removeEventListener("webglcontextrestored",dA,!1),Rn.dispose(),St.dispose(),An.dispose(),rr.dispose(),Je.dispose(),Yr.dispose(),kr.dispose(),P_.stop()},this.renderBufferImmediate=function(Be,on){Yr.initAttributes();const Jt=An.get(Be);Be.hasPositions&&!Jt.position&&(Jt.position=pn.createBuffer()),Be.hasNormals&&!Jt.normal&&(Jt.normal=pn.createBuffer()),Be.hasUvs&&!Jt.uv&&(Jt.uv=pn.createBuffer()),Be.hasColors&&!Jt.color&&(Jt.color=pn.createBuffer());const an=on.getAttributes();Be.hasPositions&&(pn.bindBuffer(34962,Jt.position),pn.bufferData(34962,Be.positionArray,35048),Yr.enableAttribute(an.position),pn.vertexAttribPointer(an.position,3,5126,!1,0,0)),Be.hasNormals&&(pn.bindBuffer(34962,Jt.normal),pn.bufferData(34962,Be.normalArray,35048),Yr.enableAttribute(an.normal),pn.vertexAttribPointer(an.normal,3,5126,!1,0,0)),Be.hasUvs&&(pn.bindBuffer(34962,Jt.uv),pn.bufferData(34962,Be.uvArray,35048),Yr.enableAttribute(an.uv),pn.vertexAttribPointer(an.uv,2,5126,!1,0,0)),Be.hasColors&&(pn.bindBuffer(34962,Jt.color),pn.bufferData(34962,Be.colorArray,35048),Yr.enableAttribute(an.color),pn.vertexAttribPointer(an.color,3,5126,!1,0,0)),Yr.disableUnusedAttributes(),pn.drawArrays(4,0,Be.count),Be.count=0},this.renderBufferDirect=function(Be,on,Jt,an,ir,io){null===on&&(on=qo);const nn=ir.isMesh&&ir.matrixWorld.determinant()<0,Ir=gv(Be,on,an,ir);yi.setMaterial(an,nn);let ii=Jt.index;const Ls=Jt.attributes.position;if(null===ii){if(void 0===Ls||0===Ls.count)return}else if(0===ii.count)return;let es=1;!0===an.wireframe&&(ii=Mr.getWireframeAttribute(Jt),es=2),(an.morphTargets||an.morphNormals)&&Tr.update(ir,Jt,an,Ir),Yr.setup(ir,an,Ir,Jt,ii);let Si,Bo=Nn;null!==ii&&(Si=dr.get(ii),Bo=qr,Bo.setIndex(Si));const ac=null!==ii?ii.count:Ls.count,ts=Jt.drawRange.start*es,Pd=Jt.drawRange.count*es,ma=null!==io?io.start*es:0,SE=null!==io?io.count*es:1/0,Jl=Math.max(ts,ma),N_=Math.min(ac,ts+Pd,ma+SE)-1,vv=Math.max(0,N_-Jl+1);if(0!==vv){if(ir.isMesh)!0===an.wireframe?(yi.setLineWidth(an.wireframeLinewidth*Ro()),Bo.setMode(1)):Bo.setMode(4);else if(ir.isLine){let F_=an.linewidth;void 0===F_&&(F_=1),yi.setLineWidth(F_*Ro()),Bo.setMode(ir.isLineSegments?1:ir.isLineLoop?2:3)}else ir.isPoints?Bo.setMode(0):ir.isSprite&&Bo.setMode(4);if(ir.isInstancedMesh)Bo.renderInstances(Jl,vv,ir.count);else if(Jt.isInstancedBufferGeometry){const F_=Math.min(Jt.instanceCount,Jt._maxInstanceCount);Bo.renderInstances(Jl,vv,F_)}else Bo.render(Jl,vv)}},this.compile=function(Be,on){V=St.get(Be),V.init(),Be.traverseVisible(function(an){an.isLight&&an.layers.test(on.layers)&&(V.pushLight(an),an.castShadow&&V.pushShadow(an))}),V.setupLights();const Jt=new WeakMap;Be.traverse(function(an){const ir=an.material;if(ir)if(Array.isArray(ir))for(let io=0;io<ir.length;io++){const nn=ir[io];!1===Jt.has(nn)&&(Gc(nn,Be,an),Jt.set(nn))}else!1===Jt.has(ir)&&(Gc(ir,Be,an),Jt.set(ir))})};let fM=null;const P_=new Dp;function pA(Be,on,Jt,an){if(!1===Be.visible)return;if(Be.layers.test(on.layers))if(Be.isGroup)Jt=Be.renderOrder;else if(Be.isLOD)!0===Be.autoUpdate&&Be.update(on);else if(Be.isLight)V.pushLight(Be),Be.castShadow&&V.pushShadow(Be);else if(Be.isSprite){if(!Be.frustumCulled||zn.intersectsSprite(Be)){an&&vi.setFromMatrixPosition(Be.matrixWorld).applyMatrix4(Qi);const nn=Je.update(Be),Ir=Be.material;Ir.visible&&H.push(Be,nn,Ir,Jt,vi.z,null)}}else if(Be.isImmediateRenderObject)an&&vi.setFromMatrixPosition(Be.matrixWorld).applyMatrix4(Qi),H.push(Be,null,Be.material,Jt,vi.z,null);else if((Be.isMesh||Be.isLine||Be.isPoints)&&(Be.isSkinnedMesh&&Be.skeleton.frame!==Ho.render.frame&&(Be.skeleton.update(),Be.skeleton.frame=Ho.render.frame),!Be.frustumCulled||zn.intersectsObject(Be))){an&&vi.setFromMatrixPosition(Be.matrixWorld).applyMatrix4(Qi);const nn=Je.update(Be),Ir=Be.material;if(Array.isArray(Ir)){const ii=nn.groups;for(let Ls=0,es=ii.length;Ls<es;Ls++){const Si=ii[Ls],Bo=Ir[Si.materialIndex];Bo&&Bo.visible&&H.push(Be,nn,Bo,Jt,vi.z,Si)}}else Ir.visible&&H.push(Be,nn,Ir,Jt,vi.z,null)}const io=Be.children;for(let nn=0,Ir=io.length;nn<Ir;nn++)pA(io[nn],on,Jt,an)}function mA(Be,on,Jt){const an=!0===on.isScene?on.overrideMaterial:null;for(let ir=0,io=Be.length;ir<io;ir++){const nn=Be[ir],Ir=nn.object,ii=nn.geometry,Ls=null===an?nn.material:an,es=nn.group;if(Jt.isArrayCamera){const Si=Jt.cameras;for(let Bo=0,ac=Si.length;Bo<ac;Bo++){const ts=Si[Bo];Ir.layers.test(ts.layers)&&(yi.viewport(At.copy(ts.viewport)),V.setupLightsView(ts),gA(Ir,on,ts,ii,Ls,es))}}else gA(Ir,on,Jt,ii,Ls,es)}}function gA(Be,on,Jt,an,ir,io){if(Be.onBeforeRender(G,on,Jt,an,ir,io),Be.modelViewMatrix.multiplyMatrices(Jt.matrixWorldInverse,Be.matrixWorld),Be.normalMatrix.getNormalMatrix(Be.modelViewMatrix),Be.isImmediateRenderObject){const nn=gv(Jt,on,ir,Be);yi.setMaterial(ir),Yr.reset(),function Yc(Be,on){Be.render(function(Jt){G.renderBufferImmediate(Jt,on)})}(Be,nn)}else G.renderBufferDirect(Jt,on,an,ir,Be,io);Be.onAfterRender(G,on,Jt,an,ir,io)}function Gc(Be,on,Jt){!0!==on.isScene&&(on=qo);const an=An.get(Be),ir=V.state.lights,nn=ir.state.version,Ir=je.getParameters(Be,ir.state,V.state.shadowsArray,on,Jt),ii=je.getProgramCacheKey(Ir);let Ls=an.program,es=!0;if(an.environment=Be.isMeshStandardMaterial?on.environment:null,an.fog=on.fog,an.envMap=rr.get(Be.envMap||an.environment),void 0===Ls)Be.addEventListener("dispose",fA);else if(Ls.cacheKey!==ii)sc(Be);else if(an.lightsStateVersion!==nn)es=!1;else{if(void 0!==Ir.shaderID)return;es=!1}es&&(Ir.uniforms=je.getUniforms(Be),Be.onBeforeCompile(Ir,G),Ls=je.acquireProgram(Ir,ii),an.program=Ls,an.uniforms=Ir.uniforms,an.outputEncoding=Ir.outputEncoding);const Si=an.uniforms;(!Be.isShaderMaterial&&!Be.isRawShaderMaterial||!0===Be.clipping)&&(an.numClippingPlanes=Wn.numPlanes,an.numIntersection=Wn.numIntersection,Si.clippingPlanes=Wn.uniform),an.needsLights=function vA(Be){return Be.isMeshLambertMaterial||Be.isMeshToonMaterial||Be.isMeshPhongMaterial||Be.isMeshStandardMaterial||Be.isShadowMaterial||Be.isShaderMaterial&&!0===Be.lights}(Be),an.lightsStateVersion=nn,an.needsLights&&(Si.ambientLightColor.value=ir.state.ambient,Si.lightProbe.value=ir.state.probe,Si.directionalLights.value=ir.state.directional,Si.directionalLightShadows.value=ir.state.directionalShadow,Si.spotLights.value=ir.state.spot,Si.spotLightShadows.value=ir.state.spotShadow,Si.rectAreaLights.value=ir.state.rectArea,Si.ltc_1.value=ir.state.rectAreaLTC1,Si.ltc_2.value=ir.state.rectAreaLTC2,Si.pointLights.value=ir.state.point,Si.pointLightShadows.value=ir.state.pointShadow,Si.hemisphereLights.value=ir.state.hemi,Si.directionalShadowMap.value=ir.state.directionalShadowMap,Si.directionalShadowMatrix.value=ir.state.directionalShadowMatrix,Si.spotShadowMap.value=ir.state.spotShadowMap,Si.spotShadowMatrix.value=ir.state.spotShadowMatrix,Si.pointShadowMap.value=ir.state.pointShadowMap,Si.pointShadowMatrix.value=ir.state.pointShadowMatrix);const Bo=an.program.getUniforms(),ac=Eh.seqWithValue(Bo.seq,Si);an.uniformsList=ac}function gv(Be,on,Jt,an){!0!==on.isScene&&(on=qo),Gn.resetTextureUnits();const ir=on.fog,io=Jt.isMeshStandardMaterial?on.environment:null,nn=null===Me?G.outputEncoding:Me.texture.encoding,Ir=rr.get(Jt.envMap||io),ii=An.get(Jt),Ls=V.state.lights;!0!==Or||!0!==xr&&Be===et||Wn.setState(Jt,Be,Be===et&&Jt.id===_e),Jt.version===ii.__version?(Jt.fog&&ii.fog!==ir||ii.environment!==io||ii.needsLights&&ii.lightsStateVersion!==Ls.state.version||void 0!==ii.numClippingPlanes&&(ii.numClippingPlanes!==Wn.numPlanes||ii.numIntersection!==Wn.numIntersection)||ii.outputEncoding!==nn||ii.envMap!==Ir)&&Gc(Jt,on,an):(Gc(Jt,on,an),ii.__version=Jt.version);let es=!1,Si=!1,Bo=!1;const ac=ii.program,ts=ac.getUniforms(),Pd=ii.uniforms;if(yi.useProgram(ac.program)&&(es=!0,Si=!0,Bo=!0),Jt.id!==_e&&(_e=Jt.id,Si=!0),es||et!==Be){if(ts.setValue(pn,"projectionMatrix",Be.projectionMatrix),Do.logarithmicDepthBuffer&&ts.setValue(pn,"logDepthBufFC",2/(Math.log(Be.far+1)/Math.LN2)),et!==Be&&(et=Be,Si=!0,Bo=!0),Jt.isShaderMaterial||Jt.isMeshPhongMaterial||Jt.isMeshToonMaterial||Jt.isMeshStandardMaterial||Jt.envMap){const ma=ts.map.cameraPosition;void 0!==ma&&ma.setValue(pn,vi.setFromMatrixPosition(Be.matrixWorld))}(Jt.isMeshPhongMaterial||Jt.isMeshToonMaterial||Jt.isMeshLambertMaterial||Jt.isMeshBasicMaterial||Jt.isMeshStandardMaterial||Jt.isShaderMaterial)&&ts.setValue(pn,"isOrthographic",!0===Be.isOrthographicCamera),(Jt.isMeshPhongMaterial||Jt.isMeshToonMaterial||Jt.isMeshLambertMaterial||Jt.isMeshBasicMaterial||Jt.isMeshStandardMaterial||Jt.isShaderMaterial||Jt.isShadowMaterial||Jt.skinning)&&ts.setValue(pn,"viewMatrix",Be.matrixWorldInverse)}if(Jt.skinning){ts.setOptional(pn,an,"bindMatrix"),ts.setOptional(pn,an,"bindMatrixInverse");const ma=an.skeleton;if(ma){const SE=ma.bones;if(Do.floatVertexTextures){if(null===ma.boneTexture){let Jl=Math.sqrt(4*SE.length);Jl=Er.ceilPowerOfTwo(Jl),Jl=Math.max(Jl,4);const N_=new Float32Array(Jl*Jl*4);N_.set(ma.boneMatrices);const vv=new Pc(N_,Jl,Jl,Wo,Il);ma.boneMatrices=N_,ma.boneTexture=vv,ma.boneTextureSize=Jl}ts.setValue(pn,"boneTexture",ma.boneTexture,Gn),ts.setValue(pn,"boneTextureSize",ma.boneTextureSize)}else ts.setOptional(pn,ma,"boneMatrices")}}return(Si||ii.receiveShadow!==an.receiveShadow)&&(ii.receiveShadow=an.receiveShadow,ts.setValue(pn,"receiveShadow",an.receiveShadow)),Si&&(ts.setValue(pn,"toneMappingExposure",G.toneMappingExposure),ii.needsLights&&function BF(Be,on){Be.ambientLightColor.needsUpdate=on,Be.lightProbe.needsUpdate=on,Be.directionalLights.needsUpdate=on,Be.directionalLightShadows.needsUpdate=on,Be.pointLights.needsUpdate=on,Be.pointLightShadows.needsUpdate=on,Be.spotLights.needsUpdate=on,Be.spotLightShadows.needsUpdate=on,Be.rectAreaLights.needsUpdate=on,Be.hemisphereLights.needsUpdate=on}(Pd,Bo),ir&&Jt.fog&&bn.refreshFogUniforms(Pd,ir),bn.refreshMaterialUniforms(Pd,Jt,Bt,en),Eh.upload(pn,ii.uniformsList,Pd,Gn)),Jt.isShaderMaterial&&!0===Jt.uniformsNeedUpdate&&(Eh.upload(pn,ii.uniformsList,Pd,Gn),Jt.uniformsNeedUpdate=!1),Jt.isSpriteMaterial&&ts.setValue(pn,"center",an.center),ts.setValue(pn,"modelViewMatrix",an.modelViewMatrix),ts.setValue(pn,"normalMatrix",an.normalMatrix),ts.setValue(pn,"modelMatrix",an.matrixWorld),ac}P_.setAnimationLoop(function hA(Be){kr.isPresenting||fM&&fM(Be)}),"undefined"!=typeof window&&P_.setContext(window),this.setAnimationLoop=function(Be){fM=Be,kr.setAnimationLoop(Be),null===Be?P_.stop():P_.start()},this.render=function(Be,on){let Jt,an;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Jt=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),an=arguments[3]),void 0!==on&&!0!==on.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===ne)return;Yr.resetDefaultState(),_e=-1,et=null,!0===Be.autoUpdate&&Be.updateMatrixWorld(),null===on.parent&&on.updateMatrixWorld(),!0===kr.enabled&&!0===kr.isPresenting&&(on=kr.getCamera(on)),!0===Be.isScene&&Be.onBeforeRender(G,Be,on,Jt||Me),V=St.get(Be,q.length),V.init(),q.push(V),Qi.multiplyMatrices(on.projectionMatrix,on.matrixWorldInverse),zn.setFromProjectionMatrix(Qi),xr=this.localClippingEnabled,Or=Wn.init(this.clippingPlanes,xr,on),H=Rn.get(Be,W.length),H.init(),W.push(H),pA(Be,on,0,G.sortObjects),H.finish(),!0===G.sortObjects&&H.sort(Rt,zt),!0===Or&&Wn.beginShadows();const ir=V.state.shadowsArray;Hi.render(ir,Be,on),V.setupLights(),V.setupLightsView(on),!0===Or&&Wn.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==Jt&&this.setRenderTarget(Jt),er.render(H,Be,on,an);const io=H.opaque,nn=H.transparent;io.length>0&&mA(io,Be,on),nn.length>0&&mA(nn,Be,on),!0===Be.isScene&&Be.onAfterRender(G,Be,on),null!==Me&&(Gn.updateRenderTargetMipmap(Me),Gn.updateMultisampleRenderTarget(Me)),yi.buffers.depth.setTest(!0),yi.buffers.depth.setMask(!0),yi.buffers.color.setMask(!0),yi.setPolygonOffset(!1),q.pop(),V=q.length>0?q[q.length-1]:null,W.pop(),H=W.length>0?W[W.length-1]:null},this.setFramebuffer=function(Be){ie!==Be&&null===Me&&pn.bindFramebuffer(36160,Be),ie=Be},this.getActiveCubeFace=function(){return X},this.getActiveMipmapLevel=function(){return Ee},this.getRenderTarget=function(){return Me},this.setRenderTarget=function(Be,on=0,Jt=0){Me=Be,X=on,Ee=Jt,Be&&void 0===An.get(Be).__webglFramebuffer&&Gn.setupRenderTarget(Be);let an=ie,ir=!1,io=!1;if(Be){const nn=Be.texture;(nn.isDataTexture3D||nn.isDataTexture2DArray)&&(io=!0);const Ir=An.get(Be).__webglFramebuffer;Be.isWebGLCubeRenderTarget?(an=Ir[on],ir=!0):an=Be.isWebGLMultisampleRenderTarget?An.get(Be).__webglMultisampledFramebuffer:Ir,At.copy(Be.viewport),_t.copy(Be.scissor),nt=Be.scissorTest}else At.copy(Kt).multiplyScalar(Bt).floor(),_t.copy(In).multiplyScalar(Bt).floor(),nt=jn;if(He!==an&&(pn.bindFramebuffer(36160,an),He=an),yi.viewport(At),yi.scissor(_t),yi.setScissorTest(nt),ir){const nn=An.get(Be.texture);pn.framebufferTexture2D(36160,36064,34069+on,nn.__webglTexture,Jt)}else if(io){const nn=An.get(Be.texture);pn.framebufferTextureLayer(36160,36064,nn.__webglTexture,Jt||0,on||0)}},this.readRenderTargetPixels=function(Be,on,Jt,an,ir,io,nn){if(!Be||!Be.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ir=An.get(Be).__webglFramebuffer;if(Be.isWebGLCubeRenderTarget&&void 0!==nn&&(Ir=Ir[nn]),Ir){let ii=!1;Ir!==He&&(pn.bindFramebuffer(36160,Ir),ii=!0);try{const Ls=Be.texture,es=Ls.format,Si=Ls.type;if(es!==Wo&&ei.convert(es)!==pn.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Bo=Si===fs&&(yo.has("EXT_color_buffer_half_float")||Do.isWebGL2&&yo.has("EXT_color_buffer_float"));if(!(Si===oa||ei.convert(Si)===pn.getParameter(35738)||Si===Il&&(Do.isWebGL2||yo.has("OES_texture_float")||yo.has("WEBGL_color_buffer_float"))||Bo))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===pn.checkFramebufferStatus(36160)?on>=0&&on<=Be.width-an&&Jt>=0&&Jt<=Be.height-ir&&pn.readPixels(on,Jt,an,ir,ei.convert(es),ei.convert(Si),io):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{ii&&pn.bindFramebuffer(36160,He)}}},this.copyFramebufferToTexture=function(Be,on,Jt=0){const an=Math.pow(2,-Jt),ir=Math.floor(on.image.width*an),io=Math.floor(on.image.height*an),nn=ei.convert(on.format);Gn.setTexture2D(on,0),pn.copyTexImage2D(3553,Jt,nn,Be.x,Be.y,ir,io,0),yi.unbindTexture()},this.copyTextureToTexture=function(Be,on,Jt,an=0){const ir=on.image.width,io=on.image.height,nn=ei.convert(Jt.format),Ir=ei.convert(Jt.type);Gn.setTexture2D(Jt,0),pn.pixelStorei(37440,Jt.flipY),pn.pixelStorei(37441,Jt.premultiplyAlpha),pn.pixelStorei(3317,Jt.unpackAlignment),on.isDataTexture?pn.texSubImage2D(3553,an,Be.x,Be.y,ir,io,nn,Ir,on.image.data):on.isCompressedTexture?pn.compressedTexSubImage2D(3553,an,Be.x,Be.y,on.mipmaps[0].width,on.mipmaps[0].height,nn,on.mipmaps[0].data):pn.texSubImage2D(3553,an,Be.x,Be.y,nn,Ir,on.image),0===an&&Jt.generateMipmaps&&pn.generateMipmap(3553),yi.unbindTexture()},this.copyTextureToTexture3D=function(Be,on,Jt,an,ir=0){if(G.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const{width:io,height:nn,data:Ir}=Jt.image,ii=ei.convert(an.format),Ls=ei.convert(an.type);let es;if(an.isDataTexture3D)Gn.setTexture3D(an,0),es=32879;else{if(!an.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Gn.setTexture2DArray(an,0),es=35866}pn.pixelStorei(37440,an.flipY),pn.pixelStorei(37441,an.premultiplyAlpha),pn.pixelStorei(3317,an.unpackAlignment);const Si=pn.getParameter(3314),Bo=pn.getParameter(32878),ac=pn.getParameter(3316),ts=pn.getParameter(3315),Pd=pn.getParameter(32877);pn.pixelStorei(3314,io),pn.pixelStorei(32878,nn),pn.pixelStorei(3316,Be.min.x),pn.pixelStorei(3315,Be.min.y),pn.pixelStorei(32877,Be.min.z),pn.texSubImage3D(es,ir,on.x,on.y,on.z,Be.max.x-Be.min.x+1,Be.max.y-Be.min.y+1,Be.max.z-Be.min.z+1,ii,Ls,Ir),pn.pixelStorei(3314,Si),pn.pixelStorei(32878,Bo),pn.pixelStorei(3316,ac),pn.pixelStorei(3315,ts),pn.pixelStorei(32877,Pd),0===ir&&an.generateMipmaps&&pn.generateMipmap(es),yi.unbindTexture()},this.initTexture=function(Be){Gn.setTexture2D(Be,0),yi.unbindTexture()},this.resetState=function(){yi.reset(),Yr.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Pp.prototype.isGroup=!0,Object.assign(Ig.prototype,{constructor:Ig,getHandSpace:function(){return null===this._hand&&(this._hand=new Pp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Pp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Pp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(h){return null!==this._targetRay&&this._targetRay.dispatchEvent(h),null!==this._grip&&this._grip.dispatchEvent(h),null!==this._hand&&this._hand.dispatchEvent(h),this},disconnect:function(h){return this.dispatchEvent({type:"disconnected",data:h}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(h,l,d){let m=null,v=null,_=null;const x=this._targetRay,D=this._grip,k=this._hand;if(h&&"visible-blurred"!==l.session.visibilityState)if(k&&h.hand){_=!0;for(const q of h.hand.values()){const G=l.getJointPose(q,d);if(void 0===k.joints[q.jointName]){const ie=new Pp;ie.matrixAutoUpdate=!1,ie.visible=!1,k.joints[q.jointName]=ie,k.add(ie)}const ne=k.joints[q.jointName];null!==G&&(ne.matrix.fromArray(G.transform.matrix),ne.matrix.decompose(ne.position,ne.rotation,ne.scale),ne.jointRadius=G.radius),ne.visible=null!==G}const H=k.joints["index-finger-tip"].position.distanceTo(k.joints["thumb-tip"].position),V=.02,W=.005;k.inputState.pinching&&H>V+W?(k.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:h.handedness,target:this})):!k.inputState.pinching&&H<=V-W&&(k.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:h.handedness,target:this}))}else null!==x&&(m=l.getPose(h.targetRaySpace,d),null!==m&&(x.matrix.fromArray(m.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale))),null!==D&&h.gripSpace&&(v=l.getPose(h.gripSpace,d),null!==v&&(D.matrix.fromArray(v.transform.matrix),D.matrix.decompose(D.position,D.rotation,D.scale)));return null!==x&&(x.visible=null!==m),null!==D&&(D.visible=null!==v),null!==k&&(k.visible=null!==_),this}}),Object.assign(iD.prototype,zi.prototype);class Rh extends Zo{}Rh.prototype.isWebGL1Renderer=!0;class Qy{constructor(l,d){this.name="",this.color=new cr(l),this.density=void 0!==d?d:25e-5}clone(){return new Qy(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Qy.prototype.isFogExp2=!0;class xd{constructor(l,d,m){this.name="",this.color=new cr(l),this.near=void 0!==d?d:1,this.far=void 0!==m?m:1e3}clone(){return new xd(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}xd.prototype.isFog=!0;class gi extends $r{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(l,d){return super.copy(l,d),null!==l.background&&(this.background=l.background.clone()),null!==l.environment&&(this.environment=l.environment.clone()),null!==l.fog&&(this.fog=l.fog.clone()),null!==l.overrideMaterial&&(this.overrideMaterial=l.overrideMaterial.clone()),this.autoUpdate=l.autoUpdate,this.matrixAutoUpdate=l.matrixAutoUpdate,this}toJSON(l){const d=super.toJSON(l);return null!==this.background&&(d.object.background=this.background.toJSON(l)),null!==this.environment&&(d.object.environment=this.environment.toJSON(l)),null!==this.fog&&(d.object.fog=this.fog.toJSON()),d}}function Gl(h,l){this.array=h,this.stride=l,this.count=void 0!==h?h.length/l:0,this.usage=Hl,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Er.generateUUID()}gi.prototype.isScene=!0,Object.defineProperty(Gl.prototype,"needsUpdate",{set:function(h){!0===h&&this.version++}}),Object.assign(Gl.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(h){return this.usage=h,this},copy:function(h){return this.array=new h.array.constructor(h.array),this.count=h.count,this.stride=h.stride,this.usage=h.usage,this},copyAt:function(h,l,d){h*=this.stride,d*=l.stride;for(let m=0,v=this.stride;m<v;m++)this.array[h+m]=l.array[d+m];return this},set:function(h,l=0){return this.array.set(h,l),this},clone:function(h){void 0===h.arrayBuffers&&(h.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Er.generateUUID()),void 0===h.arrayBuffers[this.array.buffer._uuid]&&(h.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const d=new Gl(new this.array.constructor(h.arrayBuffers[this.array.buffer._uuid]),this.stride);return d.setUsage(this.usage),d},onUpload:function(h){return this.onUploadCallback=h,this},toJSON:function(h){return void 0===h.arrayBuffers&&(h.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Er.generateUUID()),void 0===h.arrayBuffers[this.array.buffer._uuid]&&(h.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const Pg=new Se;function nc(h,l,d,m){this.name="",this.data=h,this.itemSize=l,this.offset=d,this.normalized=!0===m}Object.defineProperties(nc.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(h){this.data.needsUpdate=h}}}),Object.assign(nc.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(h){for(let l=0,d=this.data.count;l<d;l++)Pg.x=this.getX(l),Pg.y=this.getY(l),Pg.z=this.getZ(l),Pg.applyMatrix4(h),this.setXYZ(l,Pg.x,Pg.y,Pg.z);return this},setX:function(h,l){return this.data.array[h*this.data.stride+this.offset]=l,this},setY:function(h,l){return this.data.array[h*this.data.stride+this.offset+1]=l,this},setZ:function(h,l){return this.data.array[h*this.data.stride+this.offset+2]=l,this},setW:function(h,l){return this.data.array[h*this.data.stride+this.offset+3]=l,this},getX:function(h){return this.data.array[h*this.data.stride+this.offset]},getY:function(h){return this.data.array[h*this.data.stride+this.offset+1]},getZ:function(h){return this.data.array[h*this.data.stride+this.offset+2]},getW:function(h){return this.data.array[h*this.data.stride+this.offset+3]},setXY:function(h,l,d){return this.data.array[(h=h*this.data.stride+this.offset)+0]=l,this.data.array[h+1]=d,this},setXYZ:function(h,l,d,m){return this.data.array[(h=h*this.data.stride+this.offset)+0]=l,this.data.array[h+1]=d,this.data.array[h+2]=m,this},setXYZW:function(h,l,d,m,v){return this.data.array[(h=h*this.data.stride+this.offset)+0]=l,this.data.array[h+1]=d,this.data.array[h+2]=m,this.data.array[h+3]=v,this},clone:function(h){if(void 0===h){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const l=[];for(let d=0;d<this.count;d++){const m=d*this.data.stride+this.offset;for(let v=0;v<this.itemSize;v++)l.push(this.data.array[m+v])}return new Xr(new this.array.constructor(l),this.itemSize,this.normalized)}return void 0===h.interleavedBuffers&&(h.interleavedBuffers={}),void 0===h.interleavedBuffers[this.data.uuid]&&(h.interleavedBuffers[this.data.uuid]=this.data.clone(h)),new nc(h.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(h){if(void 0===h){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const l=[];for(let d=0;d<this.count;d++){const m=d*this.data.stride+this.offset;for(let v=0;v<this.itemSize;v++)l.push(this.data.array[m+v])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:l,normalized:this.normalized}}return void 0===h.interleavedBuffers&&(h.interleavedBuffers={}),void 0===h.interleavedBuffers[this.data.uuid]&&(h.interleavedBuffers[this.data.uuid]=this.data.toJSON(h)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});class rc extends Po{constructor(l){super(),this.type="SpriteMaterial",this.color=new cr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.alphaMap=l.alphaMap,this.rotation=l.rotation,this.sizeAttenuation=l.sizeAttenuation,this}}let Ng;rc.prototype.isSpriteMaterial=!0;const e_=new Se,ic=new Se,Fg=new Se,Dh=new vn,t_=new vn,sD=new Nr,Hg=new Se,r0=new Se,TC=new Se,o0=new vn,aD=new vn,$2=new vn;class RC extends $r{constructor(l){if(super(),this.type="Sprite",void 0===Ng){Ng=new Fr;const m=new Gl(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Ng.setIndex([0,1,2,0,2,3]),Ng.setAttribute("position",new nc(m,3,0,!1)),Ng.setAttribute("uv",new nc(m,2,3,!1))}this.geometry=Ng,this.material=void 0!==l?l:new rc,this.center=new vn(.5,.5)}raycast(l,d){null===l.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ic.setFromMatrixScale(this.matrixWorld),sD.copy(l.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(l.camera.matrixWorldInverse,this.matrixWorld),Fg.setFromMatrixPosition(this.modelViewMatrix),l.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ic.multiplyScalar(-Fg.z);const m=this.material.rotation;let v,_;0!==m&&(_=Math.cos(m),v=Math.sin(m));const x=this.center;DC(Hg.set(-.5,-.5,0),Fg,x,ic,v,_),DC(r0.set(.5,-.5,0),Fg,x,ic,v,_),DC(TC.set(.5,.5,0),Fg,x,ic,v,_),o0.set(0,0),aD.set(1,0),$2.set(1,1);let D=l.ray.intersectTriangle(Hg,r0,TC,!1,e_);if(null===D&&(DC(r0.set(-.5,.5,0),Fg,x,ic,v,_),aD.set(0,1),D=l.ray.intersectTriangle(Hg,TC,r0,!1,e_),null===D))return;const k=l.ray.origin.distanceTo(e_);k<l.near||k>l.far||d.push({distance:k,point:e_.clone(),uv:Ko.getUV(e_,Hg,r0,TC,o0,aD,$2,new vn),face:null,object:this})}copy(l){return super.copy(l),void 0!==l.center&&this.center.copy(l.center),this.material=l.material,this}}function DC(h,l,d,m,v,_){Dh.subVectors(h,d).addScalar(.5).multiply(m),void 0!==v?(t_.x=_*Dh.x-v*Dh.y,t_.y=v*Dh.x+_*Dh.y):t_.copy(Dh),h.copy(l),h.x+=t_.x,h.y+=t_.y,h.applyMatrix4(sD)}RC.prototype.isSprite=!0;const AC=new Se,lD=new Se;class s0 extends $r{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(l){super.copy(l,!1);const d=l.levels;for(let m=0,v=d.length;m<v;m++){const _=d[m];this.addLevel(_.object.clone(),_.distance)}return this.autoUpdate=l.autoUpdate,this}addLevel(l,d=0){d=Math.abs(d);const m=this.levels;let v;for(v=0;v<m.length&&!(d<m[v].distance);v++);return m.splice(v,0,{distance:d,object:l}),this.add(l),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(l){const d=this.levels;if(d.length>0){let m,v;for(m=1,v=d.length;m<v&&!(l<d[m].distance);m++);return d[m-1].object}return null}raycast(l,d){if(this.levels.length>0){AC.setFromMatrixPosition(this.matrixWorld);const v=l.ray.origin.distanceTo(AC);this.getObjectForDistance(v).raycast(l,d)}}update(l){const d=this.levels;if(d.length>1){AC.setFromMatrixPosition(l.matrixWorld),lD.setFromMatrixPosition(this.matrixWorld);const m=AC.distanceTo(lD)/l.zoom;let v,_;for(d[0].object.visible=!0,v=1,_=d.length;v<_&&m>=d[v].distance;v++)d[v-1].object.visible=!1,d[v].object.visible=!0;for(this._currentLevel=v-1;v<_;v++)d[v].object.visible=!1}}toJSON(l){const d=super.toJSON(l);!1===this.autoUpdate&&(d.object.autoUpdate=!1),d.object.levels=[];const m=this.levels;for(let v=0,_=m.length;v<_;v++){const x=m[v];d.object.levels.push({object:x.object.uuid,distance:x.distance})}return d}}const a0=new Se,OC=new wi,kC=new wi,uD=new Se,l0=new Nr;function n_(h,l){ln.call(this,h,l),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Nr,this.bindMatrixInverse=new Nr}function Np(){$r.call(this),this.type="Bone"}n_.prototype=Object.assign(Object.create(ln.prototype),{constructor:n_,isSkinnedMesh:!0,copy:function(h){return ln.prototype.copy.call(this,h),this.bindMode=h.bindMode,this.bindMatrix.copy(h.bindMatrix),this.bindMatrixInverse.copy(h.bindMatrixInverse),this.skeleton=h.skeleton,this},bind:function(h,l){this.skeleton=h,void 0===l&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),l=this.matrixWorld),this.bindMatrix.copy(l),this.bindMatrixInverse.copy(l).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const h=new wi,l=this.geometry.attributes.skinWeight;for(let d=0,m=l.count;d<m;d++){h.x=l.getX(d),h.y=l.getY(d),h.z=l.getZ(d),h.w=l.getW(d);const v=1/h.manhattanLength();v!==1/0?h.multiplyScalar(v):h.set(1,0,0,0),l.setXYZW(d,h.x,h.y,h.z,h.w)}},updateMatrixWorld:function(h){ln.prototype.updateMatrixWorld.call(this,h),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(h,l){const d=this.skeleton,m=this.geometry;OC.fromBufferAttribute(m.attributes.skinIndex,h),kC.fromBufferAttribute(m.attributes.skinWeight,h),a0.fromBufferAttribute(m.attributes.position,h).applyMatrix4(this.bindMatrix),l.set(0,0,0);for(let v=0;v<4;v++){const _=kC.getComponent(v);if(0!==_){const x=OC.getComponent(v);l0.multiplyMatrices(d.bones[x].matrixWorld,d.boneInverses[x]),l.addScaledVector(uD.copy(a0).applyMatrix4(l0),_)}}return l.applyMatrix4(this.bindMatrixInverse)}}),Np.prototype=Object.assign(Object.create($r.prototype),{constructor:Np,isBone:!0});const Cd=new Nr,X2=new Nr;class r_{constructor(l=[],d=[]){this.uuid=Er.generateUUID(),this.bones=l.slice(0),this.boneInverses=d,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const l=this.bones,d=this.boneInverses;if(this.boneMatrices=new Float32Array(16*l.length),0===d.length)this.calculateInverses();else if(l.length!==d.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let m=0,v=this.bones.length;m<v;m++)this.boneInverses.push(new Nr)}}calculateInverses(){this.boneInverses.length=0;for(let l=0,d=this.bones.length;l<d;l++){const m=new Nr;this.bones[l]&&m.copy(this.bones[l].matrixWorld).invert(),this.boneInverses.push(m)}}pose(){for(let l=0,d=this.bones.length;l<d;l++){const m=this.bones[l];m&&m.matrixWorld.copy(this.boneInverses[l]).invert()}for(let l=0,d=this.bones.length;l<d;l++){const m=this.bones[l];m&&(m.parent&&m.parent.isBone?(m.matrix.copy(m.parent.matrixWorld).invert(),m.matrix.multiply(m.matrixWorld)):m.matrix.copy(m.matrixWorld),m.matrix.decompose(m.position,m.quaternion,m.scale))}}update(){const l=this.bones,d=this.boneInverses,m=this.boneMatrices,v=this.boneTexture;for(let _=0,x=l.length;_<x;_++)Cd.multiplyMatrices(l[_]?l[_].matrixWorld:X2,d[_]),Cd.toArray(m,16*_);null!==v&&(v.needsUpdate=!0)}clone(){return new r_(this.bones,this.boneInverses)}getBoneByName(l){for(let d=0,m=this.bones.length;d<m;d++){const v=this.bones[d];if(v.name===l)return v}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(l,d){this.uuid=l.uuid;for(let m=0,v=l.bones.length;m<v;m++){const _=l.bones[m];let x=d[_];void 0===x&&(console.warn("THREE.Skeleton: No bone found with UUID:",_),x=new Np),this.bones.push(x),this.boneInverses.push((new Nr).fromArray(l.boneInverses[m]))}return this.init(),this}toJSON(){const l={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};l.uuid=this.uuid;const d=this.bones,m=this.boneInverses;for(let v=0,_=d.length;v<_;v++)l.bones.push(d[v].uuid),l.boneInverses.push(m[v].toArray());return l}}const cD=new Nr,LC=new Nr,u0=[],i_=new ln;function c0(h,l,d){ln.call(this,h,l),this.instanceMatrix=new Xr(new Float32Array(16*d),16),this.instanceColor=null,this.count=d,this.frustumCulled=!1}c0.prototype=Object.assign(Object.create(ln.prototype),{constructor:c0,isInstancedMesh:!0,copy:function(h){return ln.prototype.copy.call(this,h),this.instanceMatrix.copy(h.instanceMatrix),null!==h.instanceColor&&(this.instanceColor=h.instanceColor.clone()),this.count=h.count,this},getColorAt:function(h,l){l.fromArray(this.instanceColor.array,3*h)},getMatrixAt:function(h,l){l.fromArray(this.instanceMatrix.array,16*h)},raycast:function(h,l){const d=this.matrixWorld,m=this.count;if(i_.geometry=this.geometry,i_.material=this.material,void 0!==i_.material)for(let v=0;v<m;v++){this.getMatrixAt(v,cD),LC.multiplyMatrices(d,cD),i_.matrixWorld=LC,i_.raycast(h,u0);for(let _=0,x=u0.length;_<x;_++){const D=u0[_];D.instanceId=v,D.object=this,l.push(D)}u0.length=0}},setColorAt:function(h,l){null===this.instanceColor&&(this.instanceColor=new Xr(new Float32Array(3*this.count),3)),l.toArray(this.instanceColor.array,3*h)},setMatrixAt:function(h,l){l.toArray(this.instanceMatrix.array,16*h)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Ra extends Po{constructor(l){super(),this.type="LineBasicMaterial",this.color=new cr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.linewidth=l.linewidth,this.linecap=l.linecap,this.linejoin=l.linejoin,this.morphTargets=l.morphTargets,this}}Ra.prototype.isLineBasicMaterial=!0;const d0=new Se,dD=new Se,fD=new Nr,IC=new pd,o_=new hd;function Hc(h=new Fr,l=new Ra){$r.call(this),this.type="Line",this.geometry=h,this.material=l,this.updateMorphTargets()}Hc.prototype=Object.assign(Object.create($r.prototype),{constructor:Hc,isLine:!0,copy:function(h){return $r.prototype.copy.call(this,h),this.material=h.material,this.geometry=h.geometry,this},computeLineDistances:function(){const h=this.geometry;if(h.isBufferGeometry)if(null===h.index){const l=h.attributes.position,d=[0];for(let m=1,v=l.count;m<v;m++)d0.fromBufferAttribute(l,m-1),dD.fromBufferAttribute(l,m),d[m]=d[m-1],d[m]+=d0.distanceTo(dD);h.setAttribute("lineDistance",new gr(d,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else h.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(h,l){const d=this.geometry,m=this.matrixWorld,v=h.params.Line.threshold;if(null===d.boundingSphere&&d.computeBoundingSphere(),o_.copy(d.boundingSphere),o_.applyMatrix4(m),o_.radius+=v,!1===h.ray.intersectsSphere(o_))return;fD.copy(m).invert(),IC.copy(h.ray).applyMatrix4(fD);const _=v/((this.scale.x+this.scale.y+this.scale.z)/3),x=_*_,D=new Se,k=new Se,O=new Se,z=new Se,H=this.isLineSegments?2:1;if(d.isBufferGeometry){const V=d.index,q=d.attributes.position;if(null!==V){const G=V.array;for(let ne=0,ie=G.length-1;ne<ie;ne+=H){const Ee=G[ne+1];if(D.fromBufferAttribute(q,G[ne]),k.fromBufferAttribute(q,Ee),IC.distanceSqToSegment(D,k,z,O)>x)continue;z.applyMatrix4(this.matrixWorld);const He=h.ray.origin.distanceTo(z);He<h.near||He>h.far||l.push({distance:He,point:O.clone().applyMatrix4(this.matrixWorld),index:ne,face:null,faceIndex:null,object:this})}}else for(let G=0,ne=q.count-1;G<ne;G+=H){if(D.fromBufferAttribute(q,G),k.fromBufferAttribute(q,G+1),IC.distanceSqToSegment(D,k,z,O)>x)continue;z.applyMatrix4(this.matrixWorld);const X=h.ray.origin.distanceTo(z);X<h.near||X>h.far||l.push({distance:X,point:O.clone().applyMatrix4(this.matrixWorld),index:G,face:null,faceIndex:null,object:this})}}else d.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const h=this.geometry;if(h.isBufferGeometry){const l=h.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let v=0,_=m.length;v<_;v++){const x=m[v].name||String(v);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=v}}}}else{const l=h.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const hD=new Se,dl=new Se;function Xa(h,l){Hc.call(this,h,l),this.type="LineSegments"}Xa.prototype=Object.assign(Object.create(Hc.prototype),{constructor:Xa,isLineSegments:!0,computeLineDistances:function(){const h=this.geometry;if(h.isBufferGeometry)if(null===h.index){const l=h.attributes.position,d=[];for(let m=0,v=l.count;m<v;m+=2)hD.fromBufferAttribute(l,m),dl.fromBufferAttribute(l,m+1),d[m]=0===m?0:d[m-1],d[m+1]=d[m]+hD.distanceTo(dl);h.setAttribute("lineDistance",new gr(d,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else h.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}});class f0 extends Hc{constructor(l,d){super(l,d),this.type="LineLoop"}}f0.prototype.isLineLoop=!0;class Cf extends Po{constructor(l){super(),this.type="PointsMaterial",this.color=new cr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.alphaMap=l.alphaMap,this.size=l.size,this.sizeAttenuation=l.sizeAttenuation,this.morphTargets=l.morphTargets,this}}Cf.prototype.isPointsMaterial=!0;const Ka=new Nr,Fp=new pd,Bg=new hd,h0=new Se;function Vg(h=new Fr,l=new Cf){$r.call(this),this.type="Points",this.geometry=h,this.material=l,this.updateMorphTargets()}function PC(h,l,d,m,v,_,x){const D=Fp.distanceSqToPoint(h);if(D<d){const k=new Se;Fp.closestPointToPoint(h,k),k.applyMatrix4(m);const O=v.ray.origin.distanceTo(k);if(O<v.near||O>v.far)return;_.push({distance:O,distanceToRay:Math.sqrt(D),point:k,index:l,face:null,object:x})}}Vg.prototype=Object.assign(Object.create($r.prototype),{constructor:Vg,isPoints:!0,copy:function(h){return $r.prototype.copy.call(this,h),this.material=h.material,this.geometry=h.geometry,this},raycast:function(h,l){const d=this.geometry,m=this.matrixWorld,v=h.params.Points.threshold;if(null===d.boundingSphere&&d.computeBoundingSphere(),Bg.copy(d.boundingSphere),Bg.applyMatrix4(m),Bg.radius+=v,!1===h.ray.intersectsSphere(Bg))return;Ka.copy(m).invert(),Fp.copy(h.ray).applyMatrix4(Ka);const _=v/((this.scale.x+this.scale.y+this.scale.z)/3),x=_*_;if(d.isBufferGeometry){const D=d.index,O=d.attributes.position;if(null!==D){const z=D.array;for(let H=0,V=z.length;H<V;H++){const W=z[H];h0.fromBufferAttribute(O,W),PC(h0,W,x,m,h,l,this)}}else for(let z=0,H=O.count;z<H;z++)h0.fromBufferAttribute(O,z),PC(h0,z,x,m,h,l,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const h=this.geometry;if(h.isBufferGeometry){const l=h.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let v=0,_=m.length;v<_;v++){const x=m[v].name||String(v);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=v}}}}else{const l=h.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});class pD extends so{constructor(l,d,m,v,_,x,D,k,O){super(l,d,m,v,_,x,D,k,O),this.format=void 0!==D?D:Uu,this.minFilter=void 0!==x?x:Ri,this.magFilter=void 0!==_?_:Ri,this.generateMipmaps=!1;const z=this;"requestVideoFrameCallback"in l&&l.requestVideoFrameCallback(function H(){z.needsUpdate=!0,l.requestVideoFrameCallback(H)})}clone(){return new this.constructor(this.image).copy(this)}update(){const l=this.image;"requestVideoFrameCallback"in l==0&&l.readyState>=l.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}pD.prototype.isVideoTexture=!0;class p0 extends so{constructor(l,d,m,v,_,x,D,k,O,z,H,V){super(null,x,D,k,O,z,v,_,H,V),this.image={width:d,height:m},this.mipmaps=l,this.flipY=!1,this.generateMipmaps=!1}}p0.prototype.isCompressedTexture=!0;class mD extends so{constructor(l,d,m,v,_,x,D,k,O){super(l,d,m,v,_,x,D,k,O),this.needsUpdate=!0}}mD.prototype.isCanvasTexture=!0;class NC extends so{constructor(l,d,m,v,_,x,D,k,O,z){if((z=void 0!==z?z:So)!==So&&z!==vo)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===m&&z===So&&(m=$i),void 0===m&&z===vo&&(m=Jn),super(null,v,_,x,D,k,z,m,O),this.image={width:l,height:d},this.magFilter=void 0!==D?D:Pn,this.minFilter=void 0!==k?k:Pn,this.flipY=!1,this.generateMipmaps=!1}}NC.prototype.isDepthTexture=!0;class m0 extends Fr{constructor(l=1,d=8,m=0,v=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:l,segments:d,thetaStart:m,thetaLength:v},d=Math.max(3,d);const _=[],x=[],D=[],k=[],O=new Se,z=new vn;x.push(0,0,0),D.push(0,0,1),k.push(.5,.5);for(let H=0,V=3;H<=d;H++,V+=3){const W=m+H/d*v;O.x=l*Math.cos(W),O.y=l*Math.sin(W),x.push(O.x,O.y,O.z),D.push(0,0,1),z.x=(x[V]/l+1)/2,z.y=(x[V+1]/l+1)/2,k.push(z.x,z.y)}for(let H=1;H<=d;H++)_.push(H,H+1,0);this.setIndex(_),this.setAttribute("position",new gr(x,3)),this.setAttribute("normal",new gr(D,3)),this.setAttribute("uv",new gr(k,2))}}class zg extends Fr{constructor(l=1,d=1,m=1,v=8,_=1,x=!1,D=0,k=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:l,radiusBottom:d,height:m,radialSegments:v,heightSegments:_,openEnded:x,thetaStart:D,thetaLength:k};const O=this;v=Math.floor(v),_=Math.floor(_);const z=[],H=[],V=[],W=[];let q=0;const G=[],ne=m/2;let ie=0;function Ee(Me){const He=q,_e=new vn,et=new Se;let At=0;const _t=!0===Me?l:d,nt=!0===Me?1:-1;for(let en=1;en<=v;en++)H.push(0,ne*nt,0),V.push(0,nt,0),W.push(.5,.5),q++;const Vt=q;for(let en=0;en<=v;en++){const Rt=en/v*k+D,zt=Math.cos(Rt),Kt=Math.sin(Rt);et.x=_t*Kt,et.y=ne*nt,et.z=_t*zt,H.push(et.x,et.y,et.z),V.push(0,nt,0),_e.x=.5*zt+.5,_e.y=.5*Kt*nt+.5,W.push(_e.x,_e.y),q++}for(let en=0;en<v;en++){const Bt=He+en,Rt=Vt+en;!0===Me?z.push(Rt,Rt+1,Bt):z.push(Rt+1,Rt,Bt),At+=3}O.addGroup(ie,At,!0===Me?1:2),ie+=At}(function X(){const Me=new Se,He=new Se;let _e=0;const et=(d-l)/m;for(let At=0;At<=_;At++){const _t=[],nt=At/_,Vt=nt*(d-l)+l;for(let en=0;en<=v;en++){const Bt=en/v,Rt=Bt*k+D,zt=Math.sin(Rt),Kt=Math.cos(Rt);He.x=Vt*zt,He.y=-nt*m+ne,He.z=Vt*Kt,H.push(He.x,He.y,He.z),Me.set(zt,et,Kt).normalize(),V.push(Me.x,Me.y,Me.z),W.push(Bt,1-nt),_t.push(q++)}G.push(_t)}for(let At=0;At<v;At++)for(let _t=0;_t<_;_t++){const Vt=G[_t+1][At],en=G[_t+1][At+1],Bt=G[_t][At+1];z.push(G[_t][At],Vt,Bt),z.push(Vt,en,Bt),_e+=6}O.addGroup(ie,_e,0),ie+=_e})(),!1===x&&(l>0&&Ee(!0),d>0&&Ee(!1)),this.setIndex(z),this.setAttribute("position",new gr(H,3)),this.setAttribute("normal",new gr(V,3)),this.setAttribute("uv",new gr(W,2))}}class g0 extends zg{constructor(l=1,d=1,m=8,v=1,_=!1,x=0,D=2*Math.PI){super(0,l,d,m,v,_,x,D),this.type="ConeGeometry",this.parameters={radius:l,height:d,radialSegments:m,heightSegments:v,openEnded:_,thetaStart:x,thetaLength:D}}}class Ef extends Fr{constructor(l,d,m=1,v=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:l,indices:d,radius:m,detail:v};const _=[],x=[];function k(X,Ee,Me,He){const _e=He+1,et=[];for(let At=0;At<=_e;At++){et[At]=[];const _t=X.clone().lerp(Me,At/_e),nt=Ee.clone().lerp(Me,At/_e),Vt=_e-At;for(let en=0;en<=Vt;en++)et[At][en]=0===en&&At===_e?_t:_t.clone().lerp(nt,en/Vt)}for(let At=0;At<_e;At++)for(let _t=0;_t<2*(_e-At)-1;_t++){const nt=Math.floor(_t/2);_t%2==0?(V(et[At][nt+1]),V(et[At+1][nt]),V(et[At][nt])):(V(et[At][nt+1]),V(et[At+1][nt+1]),V(et[At+1][nt]))}}function V(X){_.push(X.x,X.y,X.z)}function W(X,Ee){const Me=3*X;Ee.x=l[Me+0],Ee.y=l[Me+1],Ee.z=l[Me+2]}function G(X,Ee,Me,He){He<0&&1===X.x&&(x[Ee]=X.x-1),0===Me.x&&0===Me.z&&(x[Ee]=He/2/Math.PI+.5)}function ne(X){return Math.atan2(X.z,-X.x)}function ie(X){return Math.atan2(-X.y,Math.sqrt(X.x*X.x+X.z*X.z))}(function D(X){const Ee=new Se,Me=new Se,He=new Se;for(let _e=0;_e<d.length;_e+=3)W(d[_e+0],Ee),W(d[_e+1],Me),W(d[_e+2],He),k(Ee,Me,He,X)})(v),function O(X){const Ee=new Se;for(let Me=0;Me<_.length;Me+=3)Ee.x=_[Me+0],Ee.y=_[Me+1],Ee.z=_[Me+2],Ee.normalize().multiplyScalar(X),_[Me+0]=Ee.x,_[Me+1]=Ee.y,_[Me+2]=Ee.z}(m),function z(){const X=new Se;for(let Ee=0;Ee<_.length;Ee+=3){X.x=_[Ee+0],X.y=_[Ee+1],X.z=_[Ee+2];const Me=ne(X)/2/Math.PI+.5,He=ie(X)/Math.PI+.5;x.push(Me,1-He)}(function q(){const X=new Se,Ee=new Se,Me=new Se,He=new Se,_e=new vn,et=new vn,At=new vn;for(let _t=0,nt=0;_t<_.length;_t+=9,nt+=6){X.set(_[_t+0],_[_t+1],_[_t+2]),Ee.set(_[_t+3],_[_t+4],_[_t+5]),Me.set(_[_t+6],_[_t+7],_[_t+8]),_e.set(x[nt+0],x[nt+1]),et.set(x[nt+2],x[nt+3]),At.set(x[nt+4],x[nt+5]),He.copy(X).add(Ee).add(Me).divideScalar(3);const Vt=ne(He);G(_e,nt+0,X,Vt),G(et,nt+2,Ee,Vt),G(At,nt+4,Me,Vt)}})(),function H(){for(let X=0;X<x.length;X+=6){const Ee=x[X+0],Me=x[X+2],He=x[X+4],_e=Math.max(Ee,Me,He),et=Math.min(Ee,Me,He);_e>.9&&et<.1&&(Ee<.2&&(x[X+0]+=1),Me<.2&&(x[X+2]+=1),He<.2&&(x[X+4]+=1))}}()}(),this.setAttribute("position",new gr(_,3)),this.setAttribute("normal",new gr(_.slice(),3)),this.setAttribute("uv",new gr(x,2)),0===v?this.computeVertexNormals():this.normalizeNormals()}}class v0 extends Ef{constructor(l=1,d=0){const m=(1+Math.sqrt(5))/2,v=1/m;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-v,-m,0,-v,m,0,v,-m,0,v,m,-v,-m,0,-v,m,0,v,-m,0,v,m,0,-m,0,-v,m,0,-v,-m,0,v,m,0,v],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],l,d),this.type="DodecahedronGeometry",this.parameters={radius:l,detail:d}}}const y0=new Se,Tf=new Se,Bc=new Se,_0=new Ko;class FC extends Fr{constructor(l,d){if(super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:d},d=void 0!==d?d:1,!0===l.isGeometry)return void console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const v=Math.pow(10,4),_=Math.cos(Er.DEG2RAD*d),x=l.getIndex(),D=l.getAttribute("position"),k=x?x.count:D.count,O=[0,0,0],z=["a","b","c"],H=new Array(3),V={},W=[];for(let q=0;q<k;q+=3){x?(O[0]=x.getX(q),O[1]=x.getX(q+1),O[2]=x.getX(q+2)):(O[0]=q,O[1]=q+1,O[2]=q+2);const{a:G,b:ne,c:ie}=_0;if(G.fromBufferAttribute(D,O[0]),ne.fromBufferAttribute(D,O[1]),ie.fromBufferAttribute(D,O[2]),_0.getNormal(Bc),H[0]=`${Math.round(G.x*v)},${Math.round(G.y*v)},${Math.round(G.z*v)}`,H[1]=`${Math.round(ne.x*v)},${Math.round(ne.y*v)},${Math.round(ne.z*v)}`,H[2]=`${Math.round(ie.x*v)},${Math.round(ie.y*v)},${Math.round(ie.z*v)}`,H[0]!==H[1]&&H[1]!==H[2]&&H[2]!==H[0])for(let X=0;X<3;X++){const Ee=(X+1)%3,Me=H[X],He=H[Ee],_e=_0[z[X]],et=_0[z[Ee]],At=`${Me}_${He}`,_t=`${He}_${Me}`;_t in V&&V[_t]?(Bc.dot(V[_t].normal)<=_&&(W.push(_e.x,_e.y,_e.z),W.push(et.x,et.y,et.z)),V[_t]=null):At in V||(V[At]={index0:O[X],index1:O[Ee],normal:Bc.clone()})}}for(const q in V)if(V[q]){const{index0:G,index1:ne}=V[q];y0.fromBufferAttribute(D,G),Tf.fromBufferAttribute(D,ne),W.push(y0.x,y0.y,y0.z),W.push(Tf.x,Tf.y,Tf.z)}this.setAttribute("position",new gr(W,3))}}function K2(h,l,d,m,v){let _,x;if(v===function WC(h,l,d,m){let v=0;for(let _=l,x=d-m;_<d;_+=m)v+=(h[x]-h[_])*(h[_+1]+h[x+1]),x=_;return v}(h,l,d,m)>0)for(_=l;_<d;_+=m)x=jC(_,h[_],h[_+1],x);else for(_=d-m;_>=l;_-=m)x=jC(_,h[_],h[_+1],x);return x&&M0(x,x.next)&&(Hp(x),x=x.next),x}function Rf(h,l){if(!h)return h;l||(l=h);let m,d=h;do{if(m=!1,d.steiner||!M0(d,d.next)&&0!==bs(d.prev,d,d.next))d=d.next;else{if(Hp(d),d=l=d.prev,d===d.next)break;m=!0}}while(m||d!==l);return l}function b0(h,l,d,m,v,_,x){if(!h)return;!x&&_&&function VC(h,l,d,m){let v=h;do{null===v.z&&(v.z=w0(v.x,v.y,l,d,m)),v.prevZ=v.prev,v.nextZ=v.next,v=v.next}while(v!==h);v.prevZ.nextZ=null,v.prevZ=null,function zC(h){let l,d,m,v,_,x,D,k,O=1;do{for(d=h,h=null,_=null,x=0;d;){for(x++,m=d,D=0,l=0;l<O&&(D++,m=m.nextZ,m);l++);for(k=O;D>0||k>0&&m;)0!==D&&(0===k||!m||d.z<=m.z)?(v=d,d=d.nextZ,D--):(v=m,m=m.nextZ,k--),_?_.nextZ=v:h=v,v.prevZ=_,_=v;d=m}_.nextZ=null,O*=2}while(x>1)}(v)}(h,m,v,_);let k,O,D=h;for(;h.prev!==h.next;)if(k=h.prev,O=h.next,_?HC(h,m,v,_):$l(h))l.push(k.i/d),l.push(h.i/d),l.push(O.i/d),Hp(h),h=O.next,D=O.next;else if((h=O)===D){x?1===x?b0(h=BC(Rf(h),l,d),l,d,m,v,_,2):2===x&&Z2(h,l,d,m,v,_):b0(Rf(h),l,d,m,v,_,1);break}}function $l(h){const l=h.prev,d=h,m=h.next;if(bs(l,d,m)>=0)return!1;let v=h.next.next;for(;v!==h.prev;){if(Vc(l.x,l.y,d.x,d.y,m.x,m.y,v.x,v.y)&&bs(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function HC(h,l,d,m){const v=h.prev,_=h,x=h.next;if(bs(v,_,x)>=0)return!1;const O=v.x>_.x?v.x>x.x?v.x:x.x:_.x>x.x?_.x:x.x,z=v.y>_.y?v.y>x.y?v.y:x.y:_.y>x.y?_.y:x.y,H=w0(v.x<_.x?v.x<x.x?v.x:x.x:_.x<x.x?_.x:x.x,v.y<_.y?v.y<x.y?v.y:x.y:_.y<x.y?_.y:x.y,l,d,m),V=w0(O,z,l,d,m);let W=h.prevZ,q=h.nextZ;for(;W&&W.z>=H&&q&&q.z<=V;){if(W!==h.prev&&W!==h.next&&Vc(v.x,v.y,_.x,_.y,x.x,x.y,W.x,W.y)&&bs(W.prev,W,W.next)>=0||(W=W.prevZ,q!==h.prev&&q!==h.next&&Vc(v.x,v.y,_.x,_.y,x.x,x.y,q.x,q.y)&&bs(q.prev,q,q.next)>=0))return!1;q=q.nextZ}for(;W&&W.z>=H;){if(W!==h.prev&&W!==h.next&&Vc(v.x,v.y,_.x,_.y,x.x,x.y,W.x,W.y)&&bs(W.prev,W,W.next)>=0)return!1;W=W.prevZ}for(;q&&q.z<=V;){if(q!==h.prev&&q!==h.next&&Vc(v.x,v.y,_.x,_.y,x.x,x.y,q.x,q.y)&&bs(q.prev,q,q.next)>=0)return!1;q=q.nextZ}return!0}function BC(h,l,d){let m=h;do{const v=m.prev,_=m.next.next;!M0(v,_)&&S0(v,m,m.next,_)&&a_(v,_)&&a_(_,v)&&(l.push(v.i/d),l.push(m.i/d),l.push(_.i/d),Hp(m),Hp(m.next),m=h=_),m=m.next}while(m!==h);return Rf(m)}function Z2(h,l,d,m,v,_){let x=h;do{let D=x.next.next;for(;D!==x.prev;){if(x.i!==D.i&&UC(x,D)){let k=yD(x,D);return x=Rf(x,x.next),k=Rf(k,k.next),b0(x,l,d,m,v,_),void b0(k,l,d,m,v,_)}D=D.next}x=x.next}while(x!==h)}function q2(h,l){return h.x-l.x}function s_(h,l){if(l=function J2(h,l){let d=l;const m=h.x,v=h.y;let x,_=-1/0;do{if(v<=d.y&&v>=d.next.y&&d.next.y!==d.y){const V=d.x+(v-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(V<=m&&V>_){if(_=V,V===m){if(v===d.y)return d;if(v===d.next.y)return d.next}x=d.x<d.next.x?d:d.next}}d=d.next}while(d!==l);if(!x)return null;if(m===_)return x;const D=x,k=x.x,O=x.y;let H,z=1/0;d=x;do{m>=d.x&&d.x>=k&&m!==d.x&&Vc(v<O?m:_,v,k,O,v<O?_:m,v,d.x,d.y)&&(H=Math.abs(v-d.y)/(m-d.x),a_(d,h)&&(H<z||H===z&&(d.x>x.x||d.x===x.x&&vD(x,d)))&&(x=d,z=H)),d=d.next}while(d!==D);return x}(h,l),l){const d=yD(l,h);Rf(l,l.next),Rf(d,d.next)}}function vD(h,l){return bs(h.prev,h,l.prev)<0&&bs(l.next,h,h.next)<0}function w0(h,l,d,m,v){return(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h=32767*(h-d)*v)|h<<8))|h<<4))|h<<2))|h<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=32767*(l-m)*v)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function S8(h){let l=h,d=h;do{(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next}while(l!==h);return d}function Vc(h,l,d,m,v,_,x,D){return(v-x)*(l-D)-(h-x)*(_-D)>=0&&(h-x)*(m-D)-(d-x)*(l-D)>=0&&(d-x)*(_-D)-(v-x)*(m-D)>=0}function UC(h,l){return h.next.i!==l.i&&h.prev.i!==l.i&&!function Q2(h,l){let d=h;do{if(d.i!==h.i&&d.next.i!==h.i&&d.i!==l.i&&d.next.i!==l.i&&S0(d,d.next,h,l))return!0;d=d.next}while(d!==h);return!1}(h,l)&&(a_(h,l)&&a_(l,h)&&function eF(h,l){let d=h,m=!1;const v=(h.x+l.x)/2,_=(h.y+l.y)/2;do{d.y>_!=d.next.y>_&&d.next.y!==d.y&&v<(d.next.x-d.x)*(_-d.y)/(d.next.y-d.y)+d.x&&(m=!m),d=d.next}while(d!==h);return m}(h,l)&&(bs(h.prev,h,l.prev)||bs(h,l.prev,l))||M0(h,l)&&bs(h.prev,h,h.next)>0&&bs(l.prev,l,l.next)>0)}function bs(h,l,d){return(l.y-h.y)*(d.x-l.x)-(l.x-h.x)*(d.y-l.y)}function M0(h,l){return h.x===l.x&&h.y===l.y}function S0(h,l,d,m){const v=C0(bs(h,l,d)),_=C0(bs(h,l,m)),x=C0(bs(d,m,h)),D=C0(bs(d,m,l));return!!(v!==_&&x!==D||0===v&&x0(h,d,l)||0===_&&x0(h,m,l)||0===x&&x0(d,h,m)||0===D&&x0(d,l,m))}function x0(h,l,d){return l.x<=Math.max(h.x,d.x)&&l.x>=Math.min(h.x,d.x)&&l.y<=Math.max(h.y,d.y)&&l.y>=Math.min(h.y,d.y)}function C0(h){return h>0?1:h<0?-1:0}function a_(h,l){return bs(h.prev,h,h.next)<0?bs(h,l,h.next)>=0&&bs(h,h.prev,l)>=0:bs(h,l,h.prev)<0||bs(h,h.next,l)<0}function yD(h,l){const d=new E0(h.i,h.x,h.y),m=new E0(l.i,l.x,l.y),v=h.next,_=l.prev;return h.next=l,l.prev=h,d.next=v,v.prev=d,m.next=d,d.prev=m,_.next=m,m.prev=_,m}function jC(h,l,d,m){const v=new E0(h,l,d);return m?(v.next=m.next,v.prev=m,m.next.prev=v,m.next=v):(v.prev=v,v.next=v),v}function Hp(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function E0(h,l,d){this.i=h,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Df={area:function(h){const l=h.length;let d=0;for(let m=l-1,v=0;v<l;m=v++)d+=h[m].x*h[v].y-h[v].x*h[m].y;return.5*d},isClockWise:function(h){return Df.area(h)<0},triangulateShape:function(h,l){const d=[],m=[],v=[];_D(h),YC(d,h);let _=h.length;l.forEach(_D);for(let D=0;D<l.length;D++)m.push(_),_+=l[D].length,YC(d,l[D]);const x=function(h,l,d){d=d||2;const m=l&&l.length,v=m?l[0]*d:h.length;let _=K2(h,0,v,d,!0);const x=[];if(!_||_.next===_.prev)return x;let D,k,O,z,H,V,W;if(m&&(_=function gD(h,l,d,m){const v=[];let _,x,D,k,O;for(_=0,x=l.length;_<x;_++)D=l[_]*m,k=_<x-1?l[_+1]*m:h.length,O=K2(h,D,k,m,!1),O===O.next&&(O.steiner=!0),v.push(S8(O));for(v.sort(q2),_=0;_<v.length;_++)s_(v[_],d),d=Rf(d,d.next);return d}(h,l,_,d)),h.length>80*d){D=O=h[0],k=z=h[1];for(let q=d;q<v;q+=d)H=h[q],V=h[q+1],H<D&&(D=H),V<k&&(k=V),H>O&&(O=H),V>z&&(z=V);W=Math.max(O-D,z-k),W=0!==W?1/W:0}return b0(_,x,d,D,k,W),x}(d,m);for(let D=0;D<x.length;D+=3)v.push(x.slice(D,D+3));return v}};function _D(h){const l=h.length;l>2&&h[l-1].equals(h[0])&&h.pop()}function YC(h,l){for(let d=0;d<l.length;d++)h.push(l[d].x),h.push(l[d].y)}class Ed extends Fr{constructor(l,d){super(),this.type="ExtrudeGeometry",this.parameters={shapes:l,options:d},l=Array.isArray(l)?l:[l];const m=this,v=[],_=[];for(let D=0,k=l.length;D<k;D++)x(l[D]);function x(D){const k=[],O=void 0!==d.curveSegments?d.curveSegments:12,z=void 0!==d.steps?d.steps:1;let H=void 0!==d.depth?d.depth:100,V=void 0===d.bevelEnabled||d.bevelEnabled,W=void 0!==d.bevelThickness?d.bevelThickness:6,q=void 0!==d.bevelSize?d.bevelSize:W-2,G=void 0!==d.bevelOffset?d.bevelOffset:0,ne=void 0!==d.bevelSegments?d.bevelSegments:3;const ie=d.extrudePath,X=void 0!==d.UVGenerator?d.UVGenerator:Bp;void 0!==d.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),H=d.amount);let Ee,He,_e,et,At,Me=!1;ie&&(Ee=ie.getSpacedPoints(z),Me=!0,V=!1,He=ie.computeFrenetFrames(z,!1),_e=new Se,et=new Se,At=new Se),V||(ne=0,W=0,q=0,G=0);const _t=D.extractPoints(O);let nt=_t.shape;const Vt=_t.holes;if(!Df.isClockWise(nt)){nt=nt.reverse();for(let An=0,Gn=Vt.length;An<Gn;An++){const rr=Vt[An];Df.isClockWise(rr)&&(Vt[An]=rr.reverse())}}const Bt=Df.triangulateShape(nt,Vt),Rt=nt;for(let An=0,Gn=Vt.length;An<Gn;An++)nt=nt.concat(Vt[An]);function zt(An,Gn,rr){return Gn||console.error("THREE.ExtrudeGeometry: vec does not exist"),Gn.clone().multiplyScalar(rr).add(An)}const Kt=nt.length,In=Bt.length;function jn(An,Gn,rr){let dr,Mr,Je;const je=An.x-Gn.x,bn=An.y-Gn.y,Rn=rr.x-An.x,St=rr.y-An.y,Wn=je*je+bn*bn;if(Math.abs(je*St-bn*Rn)>Number.EPSILON){const Tr=Math.sqrt(Wn),Nn=Math.sqrt(Rn*Rn+St*St),qr=Gn.x-bn/Tr,ei=Gn.y+je/Tr,kr=((rr.x-St/Nn-qr)*St-(rr.y+Rn/Nn-ei)*Rn)/(je*St-bn*Rn);dr=qr+je*kr-An.x,Mr=ei+bn*kr-An.y;const Hi=dr*dr+Mr*Mr;if(Hi<=2)return new vn(dr,Mr);Je=Math.sqrt(Hi/2)}else{let Tr=!1;je>Number.EPSILON?Rn>Number.EPSILON&&(Tr=!0):je<-Number.EPSILON?Rn<-Number.EPSILON&&(Tr=!0):Math.sign(bn)===Math.sign(St)&&(Tr=!0),Tr?(dr=-bn,Mr=je,Je=Math.sqrt(Wn)):(dr=je,Mr=bn,Je=Math.sqrt(Wn/2))}return new vn(dr/Je,Mr/Je)}const zn=[];for(let An=0,Gn=Rt.length,rr=Gn-1,dr=An+1;An<Gn;An++,rr++,dr++)rr===Gn&&(rr=0),dr===Gn&&(dr=0),zn[An]=jn(Rt[An],Rt[rr],Rt[dr]);const Or=[];let xr,Qi=zn.concat();for(let An=0,Gn=Vt.length;An<Gn;An++){const rr=Vt[An];xr=[];for(let dr=0,Mr=rr.length,Je=Mr-1,je=dr+1;dr<Mr;dr++,Je++,je++)Je===Mr&&(Je=0),je===Mr&&(je=0),xr[dr]=jn(rr[dr],rr[Je],rr[je]);Or.push(xr),Qi=Qi.concat(xr)}for(let An=0;An<ne;An++){const Gn=An/ne,rr=W*Math.cos(Gn*Math.PI/2),dr=q*Math.sin(Gn*Math.PI/2)+G;for(let Mr=0,Je=Rt.length;Mr<Je;Mr++){const je=zt(Rt[Mr],zn[Mr],dr);as(je.x,je.y,-rr)}for(let Mr=0,Je=Vt.length;Mr<Je;Mr++){const je=Vt[Mr];xr=Or[Mr];for(let bn=0,Rn=je.length;bn<Rn;bn++){const St=zt(je[bn],xr[bn],dr);as(St.x,St.y,-rr)}}}const vi=q+G;for(let An=0;An<Kt;An++){const Gn=V?zt(nt[An],Qi[An],vi):nt[An];Me?(et.copy(He.normals[0]).multiplyScalar(Gn.x),_e.copy(He.binormals[0]).multiplyScalar(Gn.y),At.copy(Ee[0]).add(et).add(_e),as(At.x,At.y,At.z)):as(Gn.x,Gn.y,0)}for(let An=1;An<=z;An++)for(let Gn=0;Gn<Kt;Gn++){const rr=V?zt(nt[Gn],Qi[Gn],vi):nt[Gn];Me?(et.copy(He.normals[An]).multiplyScalar(rr.x),_e.copy(He.binormals[An]).multiplyScalar(rr.y),At.copy(Ee[An]).add(et).add(_e),as(At.x,At.y,At.z)):as(rr.x,rr.y,H/z*An)}for(let An=ne-1;An>=0;An--){const Gn=An/ne,rr=W*Math.cos(Gn*Math.PI/2),dr=q*Math.sin(Gn*Math.PI/2)+G;for(let Mr=0,Je=Rt.length;Mr<Je;Mr++){const je=zt(Rt[Mr],zn[Mr],dr);as(je.x,je.y,H+rr)}for(let Mr=0,Je=Vt.length;Mr<Je;Mr++){const je=Vt[Mr];xr=Or[Mr];for(let bn=0,Rn=je.length;bn<Rn;bn++){const St=zt(je[bn],xr[bn],dr);Me?as(St.x,St.y+Ee[z-1].y,Ee[z-1].x+rr):as(St.x,St.y,H+rr)}}}function pn(An,Gn){let rr=An.length;for(;--rr>=0;){const dr=rr;let Mr=rr-1;Mr<0&&(Mr=An.length-1);for(let Je=0,je=z+2*ne;Je<je;Je++){const bn=Kt*Je,Rn=Kt*(Je+1);Do(Gn+dr+bn,Gn+Mr+bn,Gn+Mr+Rn,Gn+dr+Rn)}}}function as(An,Gn,rr){k.push(An),k.push(Gn),k.push(rr)}function yo(An,Gn,rr){yi(An),yi(Gn),yi(rr);const dr=v.length/3,Mr=X.generateTopUV(m,v,dr-3,dr-2,dr-1);Ho(Mr[0]),Ho(Mr[1]),Ho(Mr[2])}function Do(An,Gn,rr,dr){yi(An),yi(Gn),yi(dr),yi(Gn),yi(rr),yi(dr);const Mr=v.length/3,Je=X.generateSideWallUV(m,v,Mr-6,Mr-3,Mr-2,Mr-1);Ho(Je[0]),Ho(Je[1]),Ho(Je[3]),Ho(Je[1]),Ho(Je[2]),Ho(Je[3])}function yi(An){v.push(k[3*An+0]),v.push(k[3*An+1]),v.push(k[3*An+2])}function Ho(An){_.push(An.x),_.push(An.y)}(function qo(){const An=v.length/3;if(V){let Gn=0,rr=Kt*Gn;for(let dr=0;dr<In;dr++){const Mr=Bt[dr];yo(Mr[2]+rr,Mr[1]+rr,Mr[0]+rr)}Gn=z+2*ne,rr=Kt*Gn;for(let dr=0;dr<In;dr++){const Mr=Bt[dr];yo(Mr[0]+rr,Mr[1]+rr,Mr[2]+rr)}}else{for(let Gn=0;Gn<In;Gn++){const rr=Bt[Gn];yo(rr[2],rr[1],rr[0])}for(let Gn=0;Gn<In;Gn++){const rr=Bt[Gn];yo(rr[0]+Kt*z,rr[1]+Kt*z,rr[2]+Kt*z)}}m.addGroup(An,v.length/3-An,0)})(),function Ro(){const An=v.length/3;let Gn=0;pn(Rt,Gn),Gn+=Rt.length;for(let rr=0,dr=Vt.length;rr<dr;rr++){const Mr=Vt[rr];pn(Mr,Gn),Gn+=Mr.length}m.addGroup(An,v.length/3-An,1)}()}this.setAttribute("position",new gr(v,3)),this.setAttribute("uv",new gr(_,2)),this.computeVertexNormals()}toJSON(){const l=Fr.prototype.toJSON.call(this);return function bD(h,l,d){if(d.shapes=[],Array.isArray(h))for(let m=0,v=h.length;m<v;m++)d.shapes.push(h[m].uuid);else d.shapes.push(h.uuid);return void 0!==l.extrudePath&&(d.options.extrudePath=l.extrudePath.toJSON()),d}(this.parameters.shapes,this.parameters.options,l)}}const Bp={generateTopUV:function(h,l,d,m,v){const D=l[3*m],k=l[3*m+1],O=l[3*v],z=l[3*v+1];return[new vn(l[3*d],l[3*d+1]),new vn(D,k),new vn(O,z)]},generateSideWallUV:function(h,l,d,m,v,_){const x=l[3*d],D=l[3*d+1],k=l[3*d+2],O=l[3*m],z=l[3*m+1],H=l[3*m+2],V=l[3*v],W=l[3*v+1],q=l[3*v+2],G=l[3*_],ne=l[3*_+1],ie=l[3*_+2];return Math.abs(D-z)<.01?[new vn(x,1-k),new vn(O,1-H),new vn(V,1-q),new vn(G,1-ie)]:[new vn(D,1-k),new vn(z,1-H),new vn(W,1-q),new vn(ne,1-ie)]}};class l_ extends Ef{constructor(l=1,d=0){const m=(1+Math.sqrt(5))/2;super([-1,m,0,1,m,0,-1,-m,0,1,-m,0,0,-1,m,0,1,m,0,-1,-m,0,1,-m,m,0,-1,m,0,1,-m,0,-1,-m,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],l,d),this.type="IcosahedronGeometry",this.parameters={radius:l,detail:d}}}class T0 extends Fr{constructor(l,d=12,m=0,v=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:l,segments:d,phiStart:m,phiLength:v},d=Math.floor(d),v=Er.clamp(v,0,2*Math.PI);const _=[],x=[],D=[],k=1/d,O=new Se,z=new vn;for(let H=0;H<=d;H++){const V=m+H*k*v,W=Math.sin(V),q=Math.cos(V);for(let G=0;G<=l.length-1;G++)O.x=l[G].x*W,O.y=l[G].y,O.z=l[G].x*q,x.push(O.x,O.y,O.z),z.x=H/d,z.y=G/(l.length-1),D.push(z.x,z.y)}for(let H=0;H<d;H++)for(let V=0;V<l.length-1;V++){const W=V+H*l.length,G=W+l.length,ne=W+l.length+1,ie=W+1;_.push(W,G,ie),_.push(G,ne,ie)}if(this.setIndex(_),this.setAttribute("position",new gr(x,3)),this.setAttribute("uv",new gr(D,2)),this.computeVertexNormals(),v===2*Math.PI){const H=this.attributes.normal.array,V=new Se,W=new Se,q=new Se,G=d*l.length*3;for(let ne=0,ie=0;ne<l.length;ne++,ie+=3)V.x=H[ie+0],V.y=H[ie+1],V.z=H[ie+2],W.x=H[G+ie+0],W.y=H[G+ie+1],W.z=H[G+ie+2],q.addVectors(V,W).normalize(),H[ie+0]=H[G+ie+0]=q.x,H[ie+1]=H[G+ie+1]=q.y,H[ie+2]=H[G+ie+2]=q.z}}}class R0 extends Ef{constructor(l=1,d=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],l,d),this.type="OctahedronGeometry",this.parameters={radius:l,detail:d}}}function Td(h,l,d){Fr.call(this),this.type="ParametricGeometry",this.parameters={func:h,slices:l,stacks:d};const m=[],v=[],_=[],x=[],D=1e-5,k=new Se,O=new Se,z=new Se,H=new Se,V=new Se;h.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const W=l+1;for(let q=0;q<=d;q++){const G=q/d;for(let ne=0;ne<=l;ne++){const ie=ne/l;h(ie,G,O),v.push(O.x,O.y,O.z),ie-D>=0?(h(ie-D,G,z),H.subVectors(O,z)):(h(ie+D,G,z),H.subVectors(z,O)),G-D>=0?(h(ie,G-D,z),V.subVectors(O,z)):(h(ie,G+D,z),V.subVectors(z,O)),k.crossVectors(H,V).normalize(),_.push(k.x,k.y,k.z),x.push(ie,G)}}for(let q=0;q<d;q++)for(let G=0;G<l;G++){const ie=q*W+G+1,X=(q+1)*W+G+1,Ee=(q+1)*W+G;m.push(q*W+G,ie,Ee),m.push(ie,X,Ee)}this.setIndex(m),this.setAttribute("position",new gr(v,3)),this.setAttribute("normal",new gr(_,3)),this.setAttribute("uv",new gr(x,2))}(Td.prototype=Object.create(Fr.prototype)).constructor=Td;class D0 extends Fr{constructor(l=.5,d=1,m=8,v=1,_=0,x=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:l,outerRadius:d,thetaSegments:m,phiSegments:v,thetaStart:_,thetaLength:x},m=Math.max(3,m);const D=[],k=[],O=[],z=[];let H=l;const V=(d-l)/(v=Math.max(1,v)),W=new Se,q=new vn;for(let G=0;G<=v;G++){for(let ne=0;ne<=m;ne++){const ie=_+ne/m*x;W.x=H*Math.cos(ie),W.y=H*Math.sin(ie),k.push(W.x,W.y,W.z),O.push(0,0,1),q.x=(W.x/d+1)/2,q.y=(W.y/d+1)/2,z.push(q.x,q.y)}H+=V}for(let G=0;G<v;G++){const ne=G*(m+1);for(let ie=0;ie<m;ie++){const X=ie+ne,Me=X+m+1,He=X+m+2,_e=X+1;D.push(X,Me,_e),D.push(Me,He,_e)}}this.setIndex(D),this.setAttribute("position",new gr(k,3)),this.setAttribute("normal",new gr(O,3)),this.setAttribute("uv",new gr(z,2))}}class Ug extends Fr{constructor(l,d=12){super(),this.type="ShapeGeometry",this.parameters={shapes:l,curveSegments:d};const m=[],v=[],_=[],x=[];let D=0,k=0;if(!1===Array.isArray(l))O(l);else for(let z=0;z<l.length;z++)O(l[z]),this.addGroup(D,k,z),D+=k,k=0;function O(z){const H=v.length/3,V=z.extractPoints(d);let W=V.shape;const q=V.holes;!1===Df.isClockWise(W)&&(W=W.reverse());for(let ne=0,ie=q.length;ne<ie;ne++){const X=q[ne];!0===Df.isClockWise(X)&&(q[ne]=X.reverse())}const G=Df.triangulateShape(W,q);for(let ne=0,ie=q.length;ne<ie;ne++)W=W.concat(q[ne]);for(let ne=0,ie=W.length;ne<ie;ne++){const X=W[ne];v.push(X.x,X.y,0),_.push(0,0,1),x.push(X.x,X.y)}for(let ne=0,ie=G.length;ne<ie;ne++){const X=G[ne];m.push(X[0]+H,X[1]+H,X[2]+H),k+=3}}this.setIndex(m),this.setAttribute("position",new gr(v,3)),this.setAttribute("normal",new gr(_,3)),this.setAttribute("uv",new gr(x,2))}toJSON(){const l=Fr.prototype.toJSON.call(this);return function wD(h,l){if(l.shapes=[],Array.isArray(h))for(let d=0,m=h.length;d<m;d++)l.shapes.push(h[d].uuid);else l.shapes.push(h.uuid);return l}(this.parameters.shapes,l)}}class jg extends Fr{constructor(l=1,d=8,m=6,v=0,_=2*Math.PI,x=0,D=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:l,widthSegments:d,heightSegments:m,phiStart:v,phiLength:_,thetaStart:x,thetaLength:D},d=Math.max(3,Math.floor(d)),m=Math.max(2,Math.floor(m));const k=Math.min(x+D,Math.PI);let O=0;const z=[],H=new Se,V=new Se,W=[],q=[],G=[],ne=[];for(let ie=0;ie<=m;ie++){const X=[],Ee=ie/m;let Me=0;0==ie&&0==x?Me=.5/d:ie==m&&k==Math.PI&&(Me=-.5/d);for(let He=0;He<=d;He++){const _e=He/d;H.x=-l*Math.cos(v+_e*_)*Math.sin(x+Ee*D),H.y=l*Math.cos(x+Ee*D),H.z=l*Math.sin(v+_e*_)*Math.sin(x+Ee*D),q.push(H.x,H.y,H.z),V.copy(H).normalize(),G.push(V.x,V.y,V.z),ne.push(_e+Me,1-Ee),X.push(O++)}z.push(X)}for(let ie=0;ie<m;ie++)for(let X=0;X<d;X++){const Ee=z[ie][X+1],Me=z[ie][X],He=z[ie+1][X],_e=z[ie+1][X+1];(0!==ie||x>0)&&W.push(Ee,Me,_e),(ie!==m-1||k<Math.PI)&&W.push(Me,He,_e)}this.setIndex(W),this.setAttribute("position",new gr(q,3)),this.setAttribute("normal",new gr(G,3)),this.setAttribute("uv",new gr(ne,2))}}class Wg extends Ef{constructor(l=1,d=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],l,d),this.type="TetrahedronGeometry",this.parameters={radius:l,detail:d}}}class u_ extends Ed{constructor(l,d={}){const m=d.font;if(!m||!m.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Fr;const v=m.generateShapes(l,d.size);d.depth=void 0!==d.height?d.height:50,void 0===d.bevelThickness&&(d.bevelThickness=10),void 0===d.bevelSize&&(d.bevelSize=8),void 0===d.bevelEnabled&&(d.bevelEnabled=!1),super(v,d),this.type="TextGeometry"}}class Vp extends Fr{constructor(l=1,d=.4,m=8,v=6,_=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:l,tube:d,radialSegments:m,tubularSegments:v,arc:_},m=Math.floor(m),v=Math.floor(v);const x=[],D=[],k=[],O=[],z=new Se,H=new Se,V=new Se;for(let W=0;W<=m;W++)for(let q=0;q<=v;q++){const G=q/v*_,ne=W/m*Math.PI*2;H.x=(l+d*Math.cos(ne))*Math.cos(G),H.y=(l+d*Math.cos(ne))*Math.sin(G),H.z=d*Math.sin(ne),D.push(H.x,H.y,H.z),z.x=l*Math.cos(G),z.y=l*Math.sin(G),V.subVectors(H,z).normalize(),k.push(V.x,V.y,V.z),O.push(q/v),O.push(W/m)}for(let W=1;W<=m;W++)for(let q=1;q<=v;q++){const ne=(v+1)*(W-1)+q-1,ie=(v+1)*(W-1)+q,X=(v+1)*W+q;x.push((v+1)*W+q-1,ne,X),x.push(ne,ie,X)}this.setIndex(x),this.setAttribute("position",new gr(D,3)),this.setAttribute("normal",new gr(k,3)),this.setAttribute("uv",new gr(O,2))}}class zp extends Fr{constructor(l=1,d=.4,m=64,v=8,_=2,x=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:l,tube:d,tubularSegments:m,radialSegments:v,p:_,q:x},m=Math.floor(m),v=Math.floor(v);const D=[],k=[],O=[],z=[],H=new Se,V=new Se,W=new Se,q=new Se,G=new Se,ne=new Se,ie=new Se;for(let Ee=0;Ee<=m;++Ee){const Me=Ee/m*_*Math.PI*2;X(Me,_,x,l,W),X(Me+.01,_,x,l,q),ne.subVectors(q,W),ie.addVectors(q,W),G.crossVectors(ne,ie),ie.crossVectors(G,ne),G.normalize(),ie.normalize();for(let He=0;He<=v;++He){const _e=He/v*Math.PI*2,et=-d*Math.cos(_e),At=d*Math.sin(_e);H.x=W.x+(et*ie.x+At*G.x),H.y=W.y+(et*ie.y+At*G.y),H.z=W.z+(et*ie.z+At*G.z),k.push(H.x,H.y,H.z),V.subVectors(H,W).normalize(),O.push(V.x,V.y,V.z),z.push(Ee/m),z.push(He/v)}}for(let Ee=1;Ee<=m;Ee++)for(let Me=1;Me<=v;Me++){const _e=(v+1)*Ee+(Me-1),et=(v+1)*Ee+Me,At=(v+1)*(Ee-1)+Me;D.push((v+1)*(Ee-1)+(Me-1),_e,At),D.push(_e,et,At)}function X(Ee,Me,He,_e,et){const At=Math.cos(Ee),_t=Math.sin(Ee),nt=He/Me*Ee,Vt=Math.cos(nt);et.x=_e*(2+Vt)*.5*At,et.y=_e*(2+Vt)*_t*.5,et.z=_e*Math.sin(nt)*.5}this.setIndex(D),this.setAttribute("position",new gr(k,3)),this.setAttribute("normal",new gr(O,3)),this.setAttribute("uv",new gr(z,2))}}class c_ extends Fr{constructor(l,d=64,m=1,v=8,_=!1){super(),this.type="TubeGeometry",this.parameters={path:l,tubularSegments:d,radius:m,radialSegments:v,closed:_};const x=l.computeFrenetFrames(d,_);this.tangents=x.tangents,this.normals=x.normals,this.binormals=x.binormals;const D=new Se,k=new Se,O=new vn;let z=new Se;const H=[],V=[],W=[],q=[];function ne(Ee){z=l.getPointAt(Ee/d,z);const Me=x.normals[Ee],He=x.binormals[Ee];for(let _e=0;_e<=v;_e++){const et=_e/v*Math.PI*2,At=Math.sin(et),_t=-Math.cos(et);k.x=_t*Me.x+At*He.x,k.y=_t*Me.y+At*He.y,k.z=_t*Me.z+At*He.z,k.normalize(),V.push(k.x,k.y,k.z),D.x=z.x+m*k.x,D.y=z.y+m*k.y,D.z=z.z+m*k.z,H.push(D.x,D.y,D.z)}}(function G(){for(let Ee=0;Ee<d;Ee++)ne(Ee);ne(!1===_?d:0),function X(){for(let Ee=0;Ee<=d;Ee++)for(let Me=0;Me<=v;Me++)O.x=Ee/d,O.y=Me/v,W.push(O.x,O.y)}(),function ie(){for(let Ee=1;Ee<=d;Ee++)for(let Me=1;Me<=v;Me++){const _e=(v+1)*Ee+(Me-1),et=(v+1)*Ee+Me,At=(v+1)*(Ee-1)+Me;q.push((v+1)*(Ee-1)+(Me-1),_e,At),q.push(_e,et,At)}}()})(),this.setIndex(q),this.setAttribute("position",new gr(H,3)),this.setAttribute("normal",new gr(V,3)),this.setAttribute("uv",new gr(W,2))}toJSON(){const l=Fr.prototype.toJSON.call(this);return l.path=this.parameters.path.toJSON(),l}}class d_ extends Fr{constructor(l){if(super(),this.type="WireframeGeometry",!0===l.isGeometry)return void console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const d=[],m=[0,0],v={},_=new Se;if(null!==l.index){const x=l.attributes.position,D=l.index;let k=l.groups;0===k.length&&(k=[{start:0,count:D.count,materialIndex:0}]);for(let O=0,z=k.length;O<z;++O){const H=k[O],V=H.start;for(let q=V,G=V+H.count;q<G;q+=3)for(let ne=0;ne<3;ne++){const ie=D.getX(q+ne),X=D.getX(q+(ne+1)%3);m[0]=Math.min(ie,X),m[1]=Math.max(ie,X);const Ee=m[0]+","+m[1];void 0===v[Ee]&&(v[Ee]={index1:m[0],index2:m[1]})}}for(const O in v){const z=v[O];_.fromBufferAttribute(x,z.index1),d.push(_.x,_.y,_.z),_.fromBufferAttribute(x,z.index2),d.push(_.x,_.y,_.z)}}else{const x=l.attributes.position;for(let D=0,k=x.count/3;D<k;D++)for(let O=0;O<3;O++)_.fromBufferAttribute(x,3*D+O),d.push(_.x,_.y,_.z),_.fromBufferAttribute(x,3*D+(O+1)%3),d.push(_.x,_.y,_.z)}this.setAttribute("position",new gr(d,3))}}var fl=Object.freeze({__proto__:null,BoxGeometry:Ic,BoxBufferGeometry:Ic,CircleGeometry:m0,CircleBufferGeometry:m0,ConeGeometry:g0,ConeBufferGeometry:g0,CylinderGeometry:zg,CylinderBufferGeometry:zg,DodecahedronGeometry:v0,DodecahedronBufferGeometry:v0,EdgesGeometry:FC,ExtrudeGeometry:Ed,ExtrudeBufferGeometry:Ed,IcosahedronGeometry:l_,IcosahedronBufferGeometry:l_,LatheGeometry:T0,LatheBufferGeometry:T0,OctahedronGeometry:R0,OctahedronBufferGeometry:R0,ParametricGeometry:Td,ParametricBufferGeometry:Td,PlaneGeometry:Yl,PlaneBufferGeometry:Yl,PolyhedronGeometry:Ef,PolyhedronBufferGeometry:Ef,RingGeometry:D0,RingBufferGeometry:D0,ShapeGeometry:Ug,ShapeBufferGeometry:Ug,SphereGeometry:jg,SphereBufferGeometry:jg,TetrahedronGeometry:Wg,TetrahedronBufferGeometry:Wg,TextGeometry:u_,TextBufferGeometry:u_,TorusGeometry:Vp,TorusBufferGeometry:Vp,TorusKnotGeometry:zp,TorusKnotBufferGeometry:zp,TubeGeometry:c_,TubeBufferGeometry:c_,WireframeGeometry:d_});class f_ extends Po{constructor(l){super(),this.type="ShadowMaterial",this.color=new cr(0),this.transparent=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this}}f_.prototype.isShadowMaterial=!0;class Rd extends As{constructor(l){super(l),this.type="RawShaderMaterial"}}function Dd(h){Po.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new cr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hs,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(h)}function Af(h){Dd.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new vn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(l){this.reflectivity=Er.clamp(2.5*(l-1)/(l+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(h)}Rd.prototype.isRawShaderMaterial=!0,(Dd.prototype=Object.create(Po.prototype)).constructor=Dd,Dd.prototype.isMeshStandardMaterial=!0,Dd.prototype.copy=function(h){return Po.prototype.copy.call(this,h),this.defines={STANDARD:""},this.color.copy(h.color),this.roughness=h.roughness,this.metalness=h.metalness,this.map=h.map,this.lightMap=h.lightMap,this.lightMapIntensity=h.lightMapIntensity,this.aoMap=h.aoMap,this.aoMapIntensity=h.aoMapIntensity,this.emissive.copy(h.emissive),this.emissiveMap=h.emissiveMap,this.emissiveIntensity=h.emissiveIntensity,this.bumpMap=h.bumpMap,this.bumpScale=h.bumpScale,this.normalMap=h.normalMap,this.normalMapType=h.normalMapType,this.normalScale.copy(h.normalScale),this.displacementMap=h.displacementMap,this.displacementScale=h.displacementScale,this.displacementBias=h.displacementBias,this.roughnessMap=h.roughnessMap,this.metalnessMap=h.metalnessMap,this.alphaMap=h.alphaMap,this.envMap=h.envMap,this.envMapIntensity=h.envMapIntensity,this.refractionRatio=h.refractionRatio,this.wireframe=h.wireframe,this.wireframeLinewidth=h.wireframeLinewidth,this.wireframeLinecap=h.wireframeLinecap,this.wireframeLinejoin=h.wireframeLinejoin,this.skinning=h.skinning,this.morphTargets=h.morphTargets,this.morphNormals=h.morphNormals,this.flatShading=h.flatShading,this.vertexTangents=h.vertexTangents,this},(Af.prototype=Object.create(Dd.prototype)).constructor=Af,Af.prototype.isMeshPhysicalMaterial=!0,Af.prototype.copy=function(h){return Dd.prototype.copy.call(this,h),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=h.clearcoat,this.clearcoatMap=h.clearcoatMap,this.clearcoatRoughness=h.clearcoatRoughness,this.clearcoatRoughnessMap=h.clearcoatRoughnessMap,this.clearcoatNormalMap=h.clearcoatNormalMap,this.clearcoatNormalScale.copy(h.clearcoatNormalScale),this.reflectivity=h.reflectivity,this.sheen=h.sheen?(this.sheen||new cr).copy(h.sheen):null,this.transmission=h.transmission,this.transmissionMap=h.transmissionMap,this};class A0 extends Po{constructor(l){super(),this.type="MeshPhongMaterial",this.color=new cr(16777215),this.specular=new cr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hs,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wr,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.specular.copy(l.specular),this.shininess=l.shininess,this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}A0.prototype.isMeshPhongMaterial=!0;class GC extends Po{constructor(l){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new cr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hs,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.gradientMap=l.gradientMap,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.alphaMap=l.alphaMap,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this}}GC.prototype.isMeshToonMaterial=!0;class O0 extends Po{constructor(l){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hs,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}O0.prototype.isMeshNormalMaterial=!0;class h_ extends Po{constructor(l){super(),this.type="MeshLambertMaterial",this.color=new cr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wr,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this}}h_.prototype.isMeshLambertMaterial=!0;class k0 extends Po{constructor(l){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new cr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hs,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.defines={MATCAP:""},this.color.copy(l.color),this.matcap=l.matcap,this.map=l.map,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.alphaMap=l.alphaMap,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}k0.prototype.isMeshMatcapMaterial=!0;class MD extends Ra{constructor(l){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(l)}copy(l){return super.copy(l),this.scale=l.scale,this.dashSize=l.dashSize,this.gapSize=l.gapSize,this}}MD.prototype.isLineDashedMaterial=!0;var SD=Object.freeze({__proto__:null,ShadowMaterial:f_,SpriteMaterial:rc,RawShaderMaterial:Rd,ShaderMaterial:As,PointsMaterial:Cf,MeshPhysicalMaterial:Af,MeshStandardMaterial:Dd,MeshPhongMaterial:A0,MeshToonMaterial:GC,MeshNormalMaterial:O0,MeshLambertMaterial:h_,MeshDepthMaterial:t0,MeshDistanceMaterial:n0,MeshBasicMaterial:Ac,MeshMatcapMaterial:k0,LineDashedMaterial:MD,LineBasicMaterial:Ra,Material:Po});const gs={arraySlice:function(h,l,d){return gs.isTypedArray(h)?new h.constructor(h.subarray(l,void 0!==d?d:h.length)):h.slice(l,d)},convertArray:function(h,l,d){return!h||!d&&h.constructor===l?h:"number"==typeof l.BYTES_PER_ELEMENT?new l(h):Array.prototype.slice.call(h)},isTypedArray:function(h){return ArrayBuffer.isView(h)&&!(h instanceof DataView)},getKeyframeOrder:function(h){const d=h.length,m=new Array(d);for(let v=0;v!==d;++v)m[v]=v;return m.sort(function l(v,_){return h[v]-h[_]}),m},sortedArray:function(h,l,d){const m=h.length,v=new h.constructor(m);for(let _=0,x=0;x!==m;++_){const D=d[_]*l;for(let k=0;k!==l;++k)v[x++]=h[D+k]}return v},flattenJSON:function(h,l,d,m){let v=1,_=h[0];for(;void 0!==_&&void 0===_[m];)_=h[v++];if(void 0===_)return;let x=_[m];if(void 0!==x)if(Array.isArray(x))do{x=_[m],void 0!==x&&(l.push(_.time),d.push.apply(d,x)),_=h[v++]}while(void 0!==_);else if(void 0!==x.toArray)do{x=_[m],void 0!==x&&(l.push(_.time),x.toArray(d,d.length)),_=h[v++]}while(void 0!==_);else do{x=_[m],void 0!==x&&(l.push(_.time),d.push(x)),_=h[v++]}while(void 0!==_)},subclip:function(h,l,d,m,v=30){const _=h.clone();_.name=l;const x=[];for(let k=0;k<_.tracks.length;++k){const O=_.tracks[k],z=O.getValueSize(),H=[],V=[];for(let W=0;W<O.times.length;++W){const q=O.times[W]*v;if(!(q<d||q>=m)){H.push(O.times[W]);for(let G=0;G<z;++G)V.push(O.values[W*z+G])}}0!==H.length&&(O.times=gs.convertArray(H,O.times.constructor),O.values=gs.convertArray(V,O.values.constructor),x.push(O))}_.tracks=x;let D=1/0;for(let k=0;k<_.tracks.length;++k)D>_.tracks[k].times[0]&&(D=_.tracks[k].times[0]);for(let k=0;k<_.tracks.length;++k)_.tracks[k].shift(-1*D);return _.resetDuration(),_},makeClipAdditive:function(h,l=0,d=h,m=30){m<=0&&(m=30);const v=d.tracks.length,_=l/m;for(let x=0;x<v;++x){const D=d.tracks[x],k=D.ValueTypeName;if("bool"===k||"string"===k)continue;const O=h.tracks.find(function(ie){return ie.name===D.name&&ie.ValueTypeName===k});if(void 0===O)continue;let z=0;const H=D.getValueSize();D.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(z=H/3);let V=0;const W=O.getValueSize();O.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(V=W/3);const q=D.times.length-1;let G;if(_<=D.times[0])G=gs.arraySlice(D.values,z,H-z);else if(_>=D.times[q]){const ie=q*H+z;G=gs.arraySlice(D.values,ie,ie+H-z)}else{const ie=D.createInterpolant(),X=z,Ee=H-z;ie.evaluate(_),G=gs.arraySlice(ie.resultBuffer,X,Ee)}"quaternion"===k&&(new br).fromArray(G).normalize().conjugate().toArray(G);const ne=O.times.length;for(let ie=0;ie<ne;++ie){const X=ie*W+V;if("quaternion"===k)br.multiplyQuaternionsFlat(O.values,X,G,0,O.values,X);else{const Ee=W-2*V;for(let Me=0;Me<Ee;++Me)O.values[X+Me]-=G[Me]}}}return h.blendMode=vp,h}};function Xl(h,l,d,m){this.parameterPositions=h,this._cachedIndex=0,this.resultBuffer=void 0!==m?m:new l.constructor(d),this.sampleValues=l,this.valueSize=d}function L0(h,l,d,m){Xl.call(this,h,l,d,m),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function p_(h,l,d,m){Xl.call(this,h,l,d,m)}function Kl(h,l,d,m){Xl.call(this,h,l,d,m)}Object.assign(Xl.prototype,{evaluate:function(h){const l=this.parameterPositions;let d=this._cachedIndex,m=l[d],v=l[d-1];e:{t:{let _;n:{r:if(!(h<m)){for(let x=d+2;;){if(void 0===m){if(h<v)break r;return d=l.length,this._cachedIndex=d,this.afterEnd_(d-1,h,v)}if(d===x)break;if(v=m,m=l[++d],h<m)break t}_=l.length;break n}if(h>=v)break e;{const x=l[1];h<x&&(d=2,v=x);for(let D=d-2;;){if(void 0===v)return this._cachedIndex=0,this.beforeStart_(0,h,m);if(d===D)break;if(m=v,v=l[--d-1],h>=v)break t}_=d,d=0}}for(;d<_;){const x=d+_>>>1;h<l[x]?_=x:d=x+1}if(m=l[d],v=l[d-1],void 0===v)return this._cachedIndex=0,this.beforeStart_(0,h,m);if(void 0===m)return d=l.length,this._cachedIndex=d,this.afterEnd_(d-1,v,h)}this._cachedIndex=d,this.intervalChanged_(d,v,m)}return this.interpolate_(d,v,h,m)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(h){const l=this.resultBuffer,d=this.sampleValues,m=this.valueSize,v=h*m;for(let _=0;_!==m;++_)l[_]=d[v+_];return l},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Xl.prototype,{beforeStart_:Xl.prototype.copySampleValue_,afterEnd_:Xl.prototype.copySampleValue_}),L0.prototype=Object.assign(Object.create(Xl.prototype),{constructor:L0,DefaultSettings_:{endingStart:Sa,endingEnd:Sa},intervalChanged_:function(h,l,d){const m=this.parameterPositions;let v=h-2,_=h+1,x=m[v],D=m[_];if(void 0===x)switch(this.getSettings_().endingStart){case Sc:v=h,x=2*l-d;break;case ff:v=m.length-2,x=l+m[v]-m[v+1];break;default:v=h,x=d}if(void 0===D)switch(this.getSettings_().endingEnd){case Sc:_=h,D=2*d-l;break;case ff:_=1,D=d+m[1]-m[0];break;default:_=h-1,D=l}const k=.5*(d-l),O=this.valueSize;this._weightPrev=k/(l-x),this._weightNext=k/(D-d),this._offsetPrev=v*O,this._offsetNext=_*O},interpolate_:function(h,l,d,m){const v=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=h*x,k=D-x,O=this._offsetPrev,z=this._offsetNext,H=this._weightPrev,V=this._weightNext,W=(d-l)/(m-l),q=W*W,G=q*W,ne=-H*G+2*H*q-H*W,ie=(1+H)*G+(-1.5-2*H)*q+(-.5+H)*W+1,X=(-1-V)*G+(1.5+V)*q+.5*W,Ee=V*G-V*q;for(let Me=0;Me!==x;++Me)v[Me]=ne*_[O+Me]+ie*_[k+Me]+X*_[D+Me]+Ee*_[z+Me];return v}}),p_.prototype=Object.assign(Object.create(Xl.prototype),{constructor:p_,interpolate_:function(h,l,d,m){const v=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=h*x,k=D-x,O=(d-l)/(m-l),z=1-O;for(let H=0;H!==x;++H)v[H]=_[k+H]*z+_[D+H]*O;return v}}),Kl.prototype=Object.assign(Object.create(Xl.prototype),{constructor:Kl,interpolate_:function(h){return this.copySampleValue_(h-1)}});class zc{constructor(l,d,m,v){if(void 0===l)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===d||0===d.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+l);this.name=l,this.times=gs.convertArray(d,this.TimeBufferType),this.values=gs.convertArray(m,this.ValueBufferType),this.setInterpolation(v||this.DefaultInterpolation)}static toJSON(l){const d=l.constructor;let m;if(d.toJSON!==this.toJSON)m=d.toJSON(l);else{m={name:l.name,times:gs.convertArray(l.times,Array),values:gs.convertArray(l.values,Array)};const v=l.getInterpolation();v!==l.DefaultInterpolation&&(m.interpolation=v)}return m.type=l.ValueTypeName,m}InterpolantFactoryMethodDiscrete(l){return new Kl(this.times,this.values,this.getValueSize(),l)}InterpolantFactoryMethodLinear(l){return new p_(this.times,this.values,this.getValueSize(),l)}InterpolantFactoryMethodSmooth(l){return new L0(this.times,this.values,this.getValueSize(),l)}setInterpolation(l){let d;switch(l){case df:d=this.InterpolantFactoryMethodDiscrete;break;case $s:d=this.InterpolantFactoryMethodLinear;break;case Pi:d=this.InterpolantFactoryMethodSmooth}if(void 0===d){const m="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(l===this.DefaultInterpolation)throw new Error(m);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",m),this}return this.createInterpolant=d,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return df;case this.InterpolantFactoryMethodLinear:return $s;case this.InterpolantFactoryMethodSmooth:return Pi}}getValueSize(){return this.values.length/this.times.length}shift(l){if(0!==l){const d=this.times;for(let m=0,v=d.length;m!==v;++m)d[m]+=l}return this}scale(l){if(1!==l){const d=this.times;for(let m=0,v=d.length;m!==v;++m)d[m]*=l}return this}trim(l,d){const m=this.times,v=m.length;let _=0,x=v-1;for(;_!==v&&m[_]<l;)++_;for(;-1!==x&&m[x]>d;)--x;if(++x,0!==_||x!==v){_>=x&&(x=Math.max(x,1),_=x-1);const D=this.getValueSize();this.times=gs.arraySlice(m,_,x),this.values=gs.arraySlice(this.values,_*D,x*D)}return this}validate(){let l=!0;const d=this.getValueSize();d-Math.floor(d)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),l=!1);const m=this.times,v=this.values,_=m.length;0===_&&(console.error("THREE.KeyframeTrack: Track is empty.",this),l=!1);let x=null;for(let D=0;D!==_;D++){const k=m[D];if("number"==typeof k&&isNaN(k)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,D,k),l=!1;break}if(null!==x&&x>k){console.error("THREE.KeyframeTrack: Out of order keys.",this,D,k,x),l=!1;break}x=k}if(void 0!==v&&gs.isTypedArray(v))for(let D=0,k=v.length;D!==k;++D){const O=v[D];if(isNaN(O)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,D,O),l=!1;break}}return l}optimize(){const l=gs.arraySlice(this.times),d=gs.arraySlice(this.values),m=this.getValueSize(),v=this.getInterpolation()===Pi,_=l.length-1;let x=1;for(let D=1;D<_;++D){let k=!1;const O=l[D];if(O!==l[D+1]&&(1!==D||O!==l[0]))if(v)k=!0;else{const H=D*m,V=H-m,W=H+m;for(let q=0;q!==m;++q){const G=d[H+q];if(G!==d[V+q]||G!==d[W+q]){k=!0;break}}}if(k){if(D!==x){l[x]=l[D];const H=D*m,V=x*m;for(let W=0;W!==m;++W)d[V+W]=d[H+W]}++x}}if(_>0){l[x]=l[_];for(let D=_*m,k=x*m,O=0;O!==m;++O)d[k+O]=d[D+O];++x}return x!==l.length?(this.times=gs.arraySlice(l,0,x),this.values=gs.arraySlice(d,0,x*m)):(this.times=l,this.values=d),this}clone(){const l=gs.arraySlice(this.times,0),d=gs.arraySlice(this.values,0),v=new(0,this.constructor)(this.name,l,d);return v.createInterpolant=this.createInterpolant,v}}zc.prototype.TimeBufferType=Float32Array,zc.prototype.ValueBufferType=Float32Array,zc.prototype.DefaultInterpolation=$s;class Ah extends zc{}Ah.prototype.ValueTypeName="bool",Ah.prototype.ValueBufferType=Array,Ah.prototype.DefaultInterpolation=df,Ah.prototype.InterpolantFactoryMethodLinear=void 0,Ah.prototype.InterpolantFactoryMethodSmooth=void 0;class $C extends zc{}$C.prototype.ValueTypeName="color";class m_ extends zc{}function I0(h,l,d,m){Xl.call(this,h,l,d,m)}m_.prototype.ValueTypeName="number",I0.prototype=Object.assign(Object.create(Xl.prototype),{constructor:I0,interpolate_:function(h,l,d,m){const v=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=(d-l)/(m-l);let k=h*x;for(let O=k+x;k!==O;k+=4)br.slerpFlat(v,0,_,k-x,_,k,D);return v}});class Yg extends zc{InterpolantFactoryMethodLinear(l){return new I0(this.times,this.values,this.getValueSize(),l)}}Yg.prototype.ValueTypeName="quaternion",Yg.prototype.DefaultInterpolation=$s,Yg.prototype.InterpolantFactoryMethodSmooth=void 0;class Oh extends zc{}Oh.prototype.ValueTypeName="string",Oh.prototype.ValueBufferType=Array,Oh.prototype.DefaultInterpolation=df,Oh.prototype.InterpolantFactoryMethodLinear=void 0,Oh.prototype.InterpolantFactoryMethodSmooth=void 0;class g_ extends zc{}g_.prototype.ValueTypeName="vector";class v_{constructor(l,d=-1,m,v=hn){this.name=l,this.tracks=m,this.duration=d,this.blendMode=v,this.uuid=Er.generateUUID(),this.duration<0&&this.resetDuration()}static parse(l){const d=[],m=l.tracks,v=1/(l.fps||1);for(let x=0,D=m.length;x!==D;++x)d.push(Mi(m[x]).scale(v));const _=new this(l.name,l.duration,d,l.blendMode);return _.uuid=l.uuid,_}static toJSON(l){const d=[],m=l.tracks,v={name:l.name,duration:l.duration,tracks:d,uuid:l.uuid,blendMode:l.blendMode};for(let _=0,x=m.length;_!==x;++_)d.push(zc.toJSON(m[_]));return v}static CreateFromMorphTargetSequence(l,d,m,v){const _=d.length,x=[];for(let D=0;D<_;D++){let k=[],O=[];k.push((D+_-1)%_,D,(D+1)%_),O.push(0,1,0);const z=gs.getKeyframeOrder(k);k=gs.sortedArray(k,1,z),O=gs.sortedArray(O,1,z),!v&&0===k[0]&&(k.push(_),O.push(O[0])),x.push(new m_(".morphTargetInfluences["+d[D].name+"]",k,O).scale(1/m))}return new this(l,-1,x)}static findByName(l,d){let m=l;if(!Array.isArray(l)){const v=l;m=v.geometry&&v.geometry.animations||v.animations}for(let v=0;v<m.length;v++)if(m[v].name===d)return m[v];return null}static CreateClipsFromMorphTargetSequences(l,d,m){const v={},_=/^([\w-]*?)([\d]+)$/;for(let D=0,k=l.length;D<k;D++){const O=l[D],z=O.name.match(_);if(z&&z.length>1){const H=z[1];let V=v[H];V||(v[H]=V=[]),V.push(O)}}const x=[];for(const D in v)x.push(this.CreateFromMorphTargetSequence(D,v[D],d,m));return x}static parseAnimation(l,d){if(!l)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const m=function(H,V,W,q,G){if(0!==W.length){const ne=[],ie=[];gs.flattenJSON(W,ne,ie,q),0!==ne.length&&G.push(new H(V,ne,ie))}},v=[],_=l.name||"default",x=l.fps||30,D=l.blendMode;let k=l.length||-1;const O=l.hierarchy||[];for(let H=0;H<O.length;H++){const V=O[H].keys;if(V&&0!==V.length)if(V[0].morphTargets){const W={};let q;for(q=0;q<V.length;q++)if(V[q].morphTargets)for(let G=0;G<V[q].morphTargets.length;G++)W[V[q].morphTargets[G]]=-1;for(const G in W){const ne=[],ie=[];for(let X=0;X!==V[q].morphTargets.length;++X){const Ee=V[q];ne.push(Ee.time),ie.push(Ee.morphTarget===G?1:0)}v.push(new m_(".morphTargetInfluence["+G+"]",ne,ie))}k=W.length*(x||1)}else{const W=".bones["+d[H].name+"]";m(g_,W+".position",V,"pos",v),m(Yg,W+".quaternion",V,"rot",v),m(g_,W+".scale",V,"scl",v)}}return 0===v.length?null:new this(_,k,v,D)}resetDuration(){let d=0;for(let m=0,v=this.tracks.length;m!==v;++m){const _=this.tracks[m];d=Math.max(d,_.times[_.times.length-1])}return this.duration=d,this}trim(){for(let l=0;l<this.tracks.length;l++)this.tracks[l].trim(0,this.duration);return this}validate(){let l=!0;for(let d=0;d<this.tracks.length;d++)l=l&&this.tracks[d].validate();return l}optimize(){for(let l=0;l<this.tracks.length;l++)this.tracks[l].optimize();return this}clone(){const l=[];for(let d=0;d<this.tracks.length;d++)l.push(this.tracks[d].clone());return new this.constructor(this.name,this.duration,l,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Mi(h){if(void 0===h.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const l=function tF(h){switch(h.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return m_;case"vector":case"vector2":case"vector3":case"vector4":return g_;case"color":return $C;case"quaternion":return Yg;case"bool":case"boolean":return Ah;case"string":return Oh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+h)}(h.type);if(void 0===h.times){const d=[],m=[];gs.flattenJSON(h.keys,d,m,"value"),h.times=d,h.values=m}return void 0!==l.parse?l.parse(h):new l(h.name,h.times,h.values,h.interpolation)}const or={enabled:!1,files:{},add:function(h,l){!1!==this.enabled&&(this.files[h]=l)},get:function(h){if(!1!==this.enabled)return this.files[h]},remove:function(h){delete this.files[h]},clear:function(){this.files={}}};function P0(h,l,d){const m=this;let D,v=!1,_=0,x=0;const k=[];this.onStart=void 0,this.onLoad=h,this.onProgress=l,this.onError=d,this.itemStart=function(O){x++,!1===v&&void 0!==m.onStart&&m.onStart(O,_,x),v=!0},this.itemEnd=function(O){_++,void 0!==m.onProgress&&m.onProgress(O,_,x),_===x&&(v=!1,void 0!==m.onLoad&&m.onLoad())},this.itemError=function(O){void 0!==m.onError&&m.onError(O)},this.resolveURL=function(O){return D?D(O):O},this.setURLModifier=function(O){return D=O,this},this.addHandler=function(O,z){return k.push(O,z),this},this.removeHandler=function(O){const z=k.indexOf(O);return-1!==z&&k.splice(z,2),this},this.getHandler=function(O){for(let z=0,H=k.length;z<H;z+=2){const V=k[z],W=k[z+1];if(V.global&&(V.lastIndex=0),V.test(O))return W}return null}}const XC=new P0;function Ws(h){this.manager=void 0!==h?h:XC,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Ws.prototype,{load:function(){},loadAsync:function(h,l){const d=this;return new Promise(function(m,v){d.load(h,m,l,v)})},parse:function(){},setCrossOrigin:function(h){return this.crossOrigin=h,this},setWithCredentials:function(h){return this.withCredentials=h,this},setPath:function(h){return this.path=h,this},setResourcePath:function(h){return this.resourcePath=h,this},setRequestHeader:function(h){return this.requestHeader=h,this}});const Uc={};function Mu(h){Ws.call(this,h)}Mu.prototype=Object.assign(Object.create(Ws.prototype),{constructor:Mu,load:function(h,l,d,m){void 0===h&&(h=""),void 0!==this.path&&(h=this.path+h),h=this.manager.resolveURL(h);const v=this,_=or.get(h);if(void 0!==_)return v.manager.itemStart(h),setTimeout(function(){l&&l(_),v.manager.itemEnd(h)},0),_;if(void 0!==Uc[h])return void Uc[h].push({onLoad:l,onProgress:d,onError:m});const D=h.match(/^data:(.*?)(;base64)?,(.*)$/);let k;if(D){const O=D[1],z=!!D[2];let H=D[3];H=decodeURIComponent(H),z&&(H=atob(H));try{let V;const W=(this.responseType||"").toLowerCase();switch(W){case"arraybuffer":case"blob":const q=new Uint8Array(H.length);for(let ne=0;ne<H.length;ne++)q[ne]=H.charCodeAt(ne);V="blob"===W?new Blob([q.buffer],{type:O}):q.buffer;break;case"document":V=(new DOMParser).parseFromString(H,O);break;case"json":V=JSON.parse(H);break;default:V=H}setTimeout(function(){l&&l(V),v.manager.itemEnd(h)},0)}catch(V){setTimeout(function(){m&&m(V),v.manager.itemError(h),v.manager.itemEnd(h)},0)}}else{Uc[h]=[],Uc[h].push({onLoad:l,onProgress:d,onError:m}),k=new XMLHttpRequest,k.open("GET",h,!0),k.addEventListener("load",function(O){const z=this.response,H=Uc[h];if(delete Uc[h],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),or.add(h,z);for(let V=0,W=H.length;V<W;V++){const q=H[V];q.onLoad&&q.onLoad(z)}v.manager.itemEnd(h)}else{for(let V=0,W=H.length;V<W;V++){const q=H[V];q.onError&&q.onError(O)}v.manager.itemError(h),v.manager.itemEnd(h)}},!1),k.addEventListener("progress",function(O){const z=Uc[h];for(let H=0,V=z.length;H<V;H++){const W=z[H];W.onProgress&&W.onProgress(O)}},!1),k.addEventListener("error",function(O){const z=Uc[h];delete Uc[h];for(let H=0,V=z.length;H<V;H++){const W=z[H];W.onError&&W.onError(O)}v.manager.itemError(h),v.manager.itemEnd(h)},!1),k.addEventListener("abort",function(O){const z=Uc[h];delete Uc[h];for(let H=0,V=z.length;H<V;H++){const W=z[H];W.onError&&W.onError(O)}v.manager.itemError(h),v.manager.itemEnd(h)},!1),void 0!==this.responseType&&(k.responseType=this.responseType),void 0!==this.withCredentials&&(k.withCredentials=this.withCredentials),k.overrideMimeType&&k.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const O in this.requestHeader)k.setRequestHeader(O,this.requestHeader[O]);k.send(null)}return v.manager.itemStart(h),k},setResponseType:function(h){return this.responseType=h,this},setMimeType:function(h){return this.mimeType=h,this}});class nF extends Ws{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Mu(this.manager);x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(k){v?v(k):console.error(k),_.manager.itemError(l)}},m,v)}parse(l){const d=[];for(let m=0;m<l.length;m++){const v=v_.parse(l[m]);d.push(v)}return d}}function N0(h){Ws.call(this,h)}N0.prototype=Object.assign(Object.create(Ws.prototype),{constructor:N0,load:function(h,l,d,m){const v=this,_=[],x=new p0,D=new Mu(this.manager);D.setPath(this.path),D.setResponseType("arraybuffer"),D.setRequestHeader(this.requestHeader),D.setWithCredentials(v.withCredentials);let k=0;function O(z){D.load(h[z],function(H){const V=v.parse(H,!0);_[z]={width:V.width,height:V.height,format:V.format,mipmaps:V.mipmaps},k+=1,6===k&&(1===V.mipmapCount&&(x.minFilter=Ri),x.image=_,x.format=V.format,x.needsUpdate=!0,l&&l(x))},d,m)}if(Array.isArray(h))for(let z=0,H=h.length;z<H;++z)O(z);else D.load(h,function(z){const H=v.parse(z,!0);if(H.isCubemap){const V=H.mipmaps.length/H.mipmapCount;for(let W=0;W<V;W++){_[W]={mipmaps:[]};for(let q=0;q<H.mipmapCount;q++)_[W].mipmaps.push(H.mipmaps[W*H.mipmapCount+q]),_[W].format=H.format,_[W].width=H.width,_[W].height=H.height}x.image=_}else x.image.width=H.width,x.image.height=H.height,x.mipmaps=H.mipmaps;1===H.mipmapCount&&(x.minFilter=Ri),x.format=H.format,x.needsUpdate=!0,l&&l(x)},d,m);return x}});class F0 extends Ws{constructor(l){super(l)}load(l,d,m,v){void 0!==this.path&&(l=this.path+l),l=this.manager.resolveURL(l);const _=this,x=or.get(l);if(void 0!==x)return _.manager.itemStart(l),setTimeout(function(){d&&d(x),_.manager.itemEnd(l)},0),x;const D=document.createElementNS("http://www.w3.org/1999/xhtml","img");function k(){D.removeEventListener("load",k,!1),D.removeEventListener("error",O,!1),or.add(l,this),d&&d(this),_.manager.itemEnd(l)}function O(z){D.removeEventListener("load",k,!1),D.removeEventListener("error",O,!1),v&&v(z),_.manager.itemError(l),_.manager.itemEnd(l)}return D.addEventListener("load",k,!1),D.addEventListener("error",O,!1),"data:"!==l.substr(0,5)&&void 0!==this.crossOrigin&&(D.crossOrigin=this.crossOrigin),_.manager.itemStart(l),D.src=l,D}}class xD extends Ws{constructor(l){super(l)}load(l,d,m,v){const _=new bf,x=new F0(this.manager);x.setCrossOrigin(this.crossOrigin),x.setPath(this.path);let D=0;function k(O){x.load(l[O],function(z){_.images[O]=z,D++,6===D&&(_.needsUpdate=!0,d&&d(_))},void 0,v)}for(let O=0;O<l.length;++O)k(O);return _}}function KC(h){Ws.call(this,h)}function y_(h){Ws.call(this,h)}function hl(){this.type="Curve",this.arcLengthDivisions=200}KC.prototype=Object.assign(Object.create(Ws.prototype),{constructor:KC,load:function(h,l,d,m){const v=this,_=new Pc,x=new Mu(this.manager);return x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setPath(this.path),x.setWithCredentials(v.withCredentials),x.load(h,function(D){const k=v.parse(D);!k||(void 0!==k.image?_.image=k.image:void 0!==k.data&&(_.image.width=k.width,_.image.height=k.height,_.image.data=k.data),_.wrapS=void 0!==k.wrapS?k.wrapS:cn,_.wrapT=void 0!==k.wrapT?k.wrapT:cn,_.magFilter=void 0!==k.magFilter?k.magFilter:Ri,_.minFilter=void 0!==k.minFilter?k.minFilter:Ri,_.anisotropy=void 0!==k.anisotropy?k.anisotropy:1,void 0!==k.encoding&&(_.encoding=k.encoding),void 0!==k.flipY&&(_.flipY=k.flipY),void 0!==k.format&&(_.format=k.format),void 0!==k.type&&(_.type=k.type),void 0!==k.mipmaps&&(_.mipmaps=k.mipmaps,_.minFilter=Gi),1===k.mipmapCount&&(_.minFilter=Ri),_.needsUpdate=!0,l&&l(_,k))},d,m),_}}),y_.prototype=Object.assign(Object.create(Ws.prototype),{constructor:y_,load:function(h,l,d,m){const v=new so,_=new F0(this.manager);return _.setCrossOrigin(this.crossOrigin),_.setPath(this.path),_.load(h,function(x){v.image=x;const D=h.search(/\.jpe?g($|\?)/i)>0||0===h.search(/^data\:image\/jpeg/);v.format=D?Uu:Wo,v.needsUpdate=!0,void 0!==l&&l(v)},d,m),v}}),Object.assign(hl.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(h,l){const d=this.getUtoTmapping(h);return this.getPoint(d,l)},getPoints:function(h=5){const l=[];for(let d=0;d<=h;d++)l.push(this.getPoint(d/h));return l},getSpacedPoints:function(h=5){const l=[];for(let d=0;d<=h;d++)l.push(this.getPointAt(d/h));return l},getLength:function(){const h=this.getLengths();return h[h.length-1]},getLengths:function(h){if(void 0===h&&(h=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===h+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const l=[];let d,m=this.getPoint(0),v=0;l.push(0);for(let _=1;_<=h;_++)d=this.getPoint(_/h),v+=d.distanceTo(m),l.push(v),m=d;return this.cacheArcLengths=l,l},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(h,l){const d=this.getLengths();let m=0;const v=d.length;let _;_=l||h*d[v-1];let k,x=0,D=v-1;for(;x<=D;)if(m=Math.floor(x+(D-x)/2),k=d[m]-_,k<0)x=m+1;else{if(!(k>0)){D=m;break}D=m-1}if(m=D,d[m]===_)return m/(v-1);const O=d[m];return(m+(_-O)/(d[m+1]-O))/(v-1)},getTangent:function(h,l){let m=h-1e-4,v=h+1e-4;m<0&&(m=0),v>1&&(v=1);const _=this.getPoint(m),x=this.getPoint(v),D=l||(_.isVector2?new vn:new Se);return D.copy(x).sub(_).normalize(),D},getTangentAt:function(h,l){const d=this.getUtoTmapping(h);return this.getTangent(d,l)},computeFrenetFrames:function(h,l){const d=new Se,m=[],v=[],_=[],x=new Se,D=new Nr;for(let V=0;V<=h;V++)m[V]=this.getTangentAt(V/h,new Se),m[V].normalize();v[0]=new Se,_[0]=new Se;let k=Number.MAX_VALUE;const O=Math.abs(m[0].x),z=Math.abs(m[0].y),H=Math.abs(m[0].z);O<=k&&(k=O,d.set(1,0,0)),z<=k&&(k=z,d.set(0,1,0)),H<=k&&d.set(0,0,1),x.crossVectors(m[0],d).normalize(),v[0].crossVectors(m[0],x),_[0].crossVectors(m[0],v[0]);for(let V=1;V<=h;V++){if(v[V]=v[V-1].clone(),_[V]=_[V-1].clone(),x.crossVectors(m[V-1],m[V]),x.length()>Number.EPSILON){x.normalize();const W=Math.acos(Er.clamp(m[V-1].dot(m[V]),-1,1));v[V].applyMatrix4(D.makeRotationAxis(x,W))}_[V].crossVectors(m[V],v[V])}if(!0===l){let V=Math.acos(Er.clamp(v[0].dot(v[h]),-1,1));V/=h,m[0].dot(x.crossVectors(v[0],v[h]))>0&&(V=-V);for(let W=1;W<=h;W++)v[W].applyMatrix4(D.makeRotationAxis(m[W],V*W)),_[W].crossVectors(m[W],v[W])}return{tangents:m,normals:v,binormals:_}},clone:function(){return(new this.constructor).copy(this)},copy:function(h){return this.arcLengthDivisions=h.arcLengthDivisions,this},toJSON:function(){const h={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return h.arcLengthDivisions=this.arcLengthDivisions,h.type=this.type,h},fromJSON:function(h){return this.arcLengthDivisions=h.arcLengthDivisions,this}});class ws extends hl{constructor(l=0,d=0,m=1,v=1,_=0,x=2*Math.PI,D=!1,k=0){super(),this.type="EllipseCurve",this.aX=l,this.aY=d,this.xRadius=m,this.yRadius=v,this.aStartAngle=_,this.aEndAngle=x,this.aClockwise=D,this.aRotation=k}getPoint(l,d){const m=d||new vn,v=2*Math.PI;let _=this.aEndAngle-this.aStartAngle;const x=Math.abs(_)<Number.EPSILON;for(;_<0;)_+=v;for(;_>v;)_-=v;_<Number.EPSILON&&(_=x?0:v),!0===this.aClockwise&&!x&&(_===v?_=-v:_-=v);const D=this.aStartAngle+l*_;let k=this.aX+this.xRadius*Math.cos(D),O=this.aY+this.yRadius*Math.sin(D);if(0!==this.aRotation){const z=Math.cos(this.aRotation),H=Math.sin(this.aRotation),V=k-this.aX,W=O-this.aY;k=V*z-W*H+this.aX,O=V*H+W*z+this.aY}return m.set(k,O)}copy(l){return super.copy(l),this.aX=l.aX,this.aY=l.aY,this.xRadius=l.xRadius,this.yRadius=l.yRadius,this.aStartAngle=l.aStartAngle,this.aEndAngle=l.aEndAngle,this.aClockwise=l.aClockwise,this.aRotation=l.aRotation,this}toJSON(){const l=super.toJSON();return l.aX=this.aX,l.aY=this.aY,l.xRadius=this.xRadius,l.yRadius=this.yRadius,l.aStartAngle=this.aStartAngle,l.aEndAngle=this.aEndAngle,l.aClockwise=this.aClockwise,l.aRotation=this.aRotation,l}fromJSON(l){return super.fromJSON(l),this.aX=l.aX,this.aY=l.aY,this.xRadius=l.xRadius,this.yRadius=l.yRadius,this.aStartAngle=l.aStartAngle,this.aEndAngle=l.aEndAngle,this.aClockwise=l.aClockwise,this.aRotation=l.aRotation,this}}ws.prototype.isEllipseCurve=!0;class ZC extends ws{constructor(l,d,m,v,_,x){super(l,d,m,m,v,_,x),this.type="ArcCurve"}}function __(){let h=0,l=0,d=0,m=0;function v(_,x,D,k){h=_,l=D,d=-3*_+3*x-2*D-k,m=2*_-2*x+D+k}return{initCatmullRom:function(_,x,D,k,O){v(x,D,O*(D-_),O*(k-x))},initNonuniformCatmullRom:function(_,x,D,k,O,z,H){let V=(x-_)/O-(D-_)/(O+z)+(D-x)/z,W=(D-x)/z-(k-x)/(z+H)+(k-D)/H;V*=z,W*=z,v(x,D,V,W)},calc:function(_){const x=_*_;return h+l*_+d*x+m*(x*_)}}}ZC.prototype.isArcCurve=!0;const Gg=new Se,qC=new __,CD=new __,ED=new __;class TD extends hl{constructor(l=[],d=!1,m="centripetal",v=.5){super(),this.type="CatmullRomCurve3",this.points=l,this.closed=d,this.curveType=m,this.tension=v}getPoint(l,d=new Se){const m=d,v=this.points,_=v.length,x=(_-(this.closed?0:1))*l;let O,z,D=Math.floor(x),k=x-D;this.closed?D+=D>0?0:(Math.floor(Math.abs(D)/_)+1)*_:0===k&&D===_-1&&(D=_-2,k=1),this.closed||D>0?O=v[(D-1)%_]:(Gg.subVectors(v[0],v[1]).add(v[0]),O=Gg);const H=v[D%_],V=v[(D+1)%_];if(this.closed||D+2<_?z=v[(D+2)%_]:(Gg.subVectors(v[_-1],v[_-2]).add(v[_-1]),z=Gg),"centripetal"===this.curveType||"chordal"===this.curveType){const W="chordal"===this.curveType?.5:.25;let q=Math.pow(O.distanceToSquared(H),W),G=Math.pow(H.distanceToSquared(V),W),ne=Math.pow(V.distanceToSquared(z),W);G<1e-4&&(G=1),q<1e-4&&(q=G),ne<1e-4&&(ne=G),qC.initNonuniformCatmullRom(O.x,H.x,V.x,z.x,q,G,ne),CD.initNonuniformCatmullRom(O.y,H.y,V.y,z.y,q,G,ne),ED.initNonuniformCatmullRom(O.z,H.z,V.z,z.z,q,G,ne)}else"catmullrom"===this.curveType&&(qC.initCatmullRom(O.x,H.x,V.x,z.x,this.tension),CD.initCatmullRom(O.y,H.y,V.y,z.y,this.tension),ED.initCatmullRom(O.z,H.z,V.z,z.z,this.tension));return m.set(qC.calc(k),CD.calc(k),ED.calc(k)),m}copy(l){super.copy(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++)this.points.push(l.points[d].clone());return this.closed=l.closed,this.curveType=l.curveType,this.tension=l.tension,this}toJSON(){const l=super.toJSON();l.points=[];for(let d=0,m=this.points.length;d<m;d++)l.points.push(this.points[d].toArray());return l.closed=this.closed,l.curveType=this.curveType,l.tension=this.tension,l}fromJSON(l){super.fromJSON(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++){const v=l.points[d];this.points.push((new Se).fromArray(v))}return this.closed=l.closed,this.curveType=l.curveType,this.tension=l.tension,this}}function RD(h,l,d,m,v){const _=.5*(m-l),x=.5*(v-d),D=h*h;return(2*d-2*m+_+x)*(h*D)+(-3*d+3*m-2*_-x)*D+_*h+d}function Ad(h,l,d,m){return function DD(h,l){const d=1-h;return d*d*l}(h,l)+function x8(h,l){return 2*(1-h)*h*l}(h,d)+function rF(h,l){return h*h*l}(h,m)}function $g(h,l,d,m,v){return function iF(h,l){const d=1-h;return d*d*d*l}(h,l)+function AD(h,l){const d=1-h;return 3*d*d*h*l}(h,d)+function H0(h,l){return 3*(1-h)*h*h*l}(h,m)+function oF(h,l){return h*h*h*l}(h,v)}TD.prototype.isCatmullRomCurve3=!0;class B0 extends hl{constructor(l=new vn,d=new vn,m=new vn,v=new vn){super(),this.type="CubicBezierCurve",this.v0=l,this.v1=d,this.v2=m,this.v3=v}getPoint(l,d=new vn){const m=d,v=this.v0,_=this.v1,x=this.v2,D=this.v3;return m.set($g(l,v.x,_.x,x.x,D.x),$g(l,v.y,_.y,x.y,D.y)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this.v3.copy(l.v3),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l.v3=this.v3.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this.v3.fromArray(l.v3),this}}B0.prototype.isCubicBezierCurve=!0;class JC extends hl{constructor(l=new Se,d=new Se,m=new Se,v=new Se){super(),this.type="CubicBezierCurve3",this.v0=l,this.v1=d,this.v2=m,this.v3=v}getPoint(l,d=new Se){const m=d,v=this.v0,_=this.v1,x=this.v2,D=this.v3;return m.set($g(l,v.x,_.x,x.x,D.x),$g(l,v.y,_.y,x.y,D.y),$g(l,v.z,_.z,x.z,D.z)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this.v3.copy(l.v3),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l.v3=this.v3.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this.v3.fromArray(l.v3),this}}JC.prototype.isCubicBezierCurve3=!0;class b_ extends hl{constructor(l=new vn,d=new vn){super(),this.type="LineCurve",this.v1=l,this.v2=d}getPoint(l,d=new vn){const m=d;return 1===l?m.copy(this.v2):(m.copy(this.v2).sub(this.v1),m.multiplyScalar(l).add(this.v1)),m}getPointAt(l,d){return this.getPoint(l,d)}getTangent(l,d){const m=d||new vn;return m.copy(this.v2).sub(this.v1).normalize(),m}copy(l){return super.copy(l),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}b_.prototype.isLineCurve=!0;class OD extends hl{constructor(l=new Se,d=new Se){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=l,this.v2=d}getPoint(l,d=new Se){const m=d;return 1===l?m.copy(this.v2):(m.copy(this.v2).sub(this.v1),m.multiplyScalar(l).add(this.v1)),m}getPointAt(l,d){return this.getPoint(l,d)}copy(l){return super.copy(l),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}class V0 extends hl{constructor(l=new vn,d=new vn,m=new vn){super(),this.type="QuadraticBezierCurve",this.v0=l,this.v1=d,this.v2=m}getPoint(l,d=new vn){const m=d,v=this.v0,_=this.v1,x=this.v2;return m.set(Ad(l,v.x,_.x,x.x),Ad(l,v.y,_.y,x.y)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}V0.prototype.isQuadraticBezierCurve=!0;class z0 extends hl{constructor(l=new Se,d=new Se,m=new Se){super(),this.type="QuadraticBezierCurve3",this.v0=l,this.v1=d,this.v2=m}getPoint(l,d=new Se){const m=d,v=this.v0,_=this.v1,x=this.v2;return m.set(Ad(l,v.x,_.x,x.x),Ad(l,v.y,_.y,x.y),Ad(l,v.z,_.z,x.z)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}z0.prototype.isQuadraticBezierCurve3=!0;class U0 extends hl{constructor(l=[]){super(),this.type="SplineCurve",this.points=l}getPoint(l,d=new vn){const m=d,v=this.points,_=(v.length-1)*l,x=Math.floor(_),D=_-x,k=v[0===x?x:x-1],O=v[x],z=v[x>v.length-2?v.length-1:x+1],H=v[x>v.length-3?v.length-1:x+2];return m.set(RD(D,k.x,O.x,z.x,H.x),RD(D,k.y,O.y,z.y,H.y)),m}copy(l){super.copy(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++)this.points.push(l.points[d].clone());return this}toJSON(){const l=super.toJSON();l.points=[];for(let d=0,m=this.points.length;d<m;d++)l.points.push(this.points[d].toArray());return l}fromJSON(l){super.fromJSON(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++){const v=l.points[d];this.points.push((new vn).fromArray(v))}return this}}U0.prototype.isSplineCurve=!0;var j0=Object.freeze({__proto__:null,ArcCurve:ZC,CatmullRomCurve3:TD,CubicBezierCurve:B0,CubicBezierCurve3:JC,EllipseCurve:ws,LineCurve:b_,LineCurve3:OD,QuadraticBezierCurve:V0,QuadraticBezierCurve3:z0,SplineCurve:U0});class QC extends hl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(l){this.curves.push(l)}closePath(){const l=this.curves[0].getPoint(0),d=this.curves[this.curves.length-1].getPoint(1);l.equals(d)||this.curves.push(new b_(d,l))}getPoint(l){const d=l*this.getLength(),m=this.getCurveLengths();let v=0;for(;v<m.length;){if(m[v]>=d){const _=m[v]-d,x=this.curves[v],D=x.getLength();return x.getPointAt(0===D?0:1-_/D)}v++}return null}getLength(){const l=this.getCurveLengths();return l[l.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const l=[];let d=0;for(let m=0,v=this.curves.length;m<v;m++)d+=this.curves[m].getLength(),l.push(d);return this.cacheLengths=l,l}getSpacedPoints(l=40){const d=[];for(let m=0;m<=l;m++)d.push(this.getPoint(m/l));return this.autoClose&&d.push(d[0]),d}getPoints(l=12){const d=[];let m;for(let v=0,_=this.curves;v<_.length;v++){const x=_[v],k=x.getPoints(x&&x.isEllipseCurve?2*l:x&&(x.isLineCurve||x.isLineCurve3)?1:x&&x.isSplineCurve?l*x.points.length:l);for(let O=0;O<k.length;O++){const z=k[O];m&&m.equals(z)||(d.push(z),m=z)}}return this.autoClose&&d.length>1&&!d[d.length-1].equals(d[0])&&d.push(d[0]),d}copy(l){super.copy(l),this.curves=[];for(let d=0,m=l.curves.length;d<m;d++)this.curves.push(l.curves[d].clone());return this.autoClose=l.autoClose,this}toJSON(){const l=super.toJSON();l.autoClose=this.autoClose,l.curves=[];for(let d=0,m=this.curves.length;d<m;d++)l.curves.push(this.curves[d].toJSON());return l}fromJSON(l){super.fromJSON(l),this.autoClose=l.autoClose,this.curves=[];for(let d=0,m=l.curves.length;d<m;d++){const v=l.curves[d];this.curves.push((new j0[v.type]).fromJSON(v))}return this}}class Up extends QC{constructor(l){super(),this.type="Path",this.currentPoint=new vn,l&&this.setFromPoints(l)}setFromPoints(l){this.moveTo(l[0].x,l[0].y);for(let d=1,m=l.length;d<m;d++)this.lineTo(l[d].x,l[d].y);return this}moveTo(l,d){return this.currentPoint.set(l,d),this}lineTo(l,d){const m=new b_(this.currentPoint.clone(),new vn(l,d));return this.curves.push(m),this.currentPoint.set(l,d),this}quadraticCurveTo(l,d,m,v){const _=new V0(this.currentPoint.clone(),new vn(l,d),new vn(m,v));return this.curves.push(_),this.currentPoint.set(m,v),this}bezierCurveTo(l,d,m,v,_,x){const D=new B0(this.currentPoint.clone(),new vn(l,d),new vn(m,v),new vn(_,x));return this.curves.push(D),this.currentPoint.set(_,x),this}splineThru(l){const d=[this.currentPoint.clone()].concat(l),m=new U0(d);return this.curves.push(m),this.currentPoint.copy(l[l.length-1]),this}arc(l,d,m,v,_,x){return this.absarc(l+this.currentPoint.x,d+this.currentPoint.y,m,v,_,x),this}absarc(l,d,m,v,_,x){return this.absellipse(l,d,m,m,v,_,x),this}ellipse(l,d,m,v,_,x,D,k){return this.absellipse(l+this.currentPoint.x,d+this.currentPoint.y,m,v,_,x,D,k),this}absellipse(l,d,m,v,_,x,D,k){const O=new ws(l,d,m,v,_,x,D,k);if(this.curves.length>0){const H=O.getPoint(0);H.equals(this.currentPoint)||this.lineTo(H.x,H.y)}this.curves.push(O);const z=O.getPoint(1);return this.currentPoint.copy(z),this}copy(l){return super.copy(l),this.currentPoint.copy(l.currentPoint),this}toJSON(){const l=super.toJSON();return l.currentPoint=this.currentPoint.toArray(),l}fromJSON(l){return super.fromJSON(l),this.currentPoint.fromArray(l.currentPoint),this}}class jp extends Up{constructor(l){super(l),this.uuid=Er.generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(l){const d=[];for(let m=0,v=this.holes.length;m<v;m++)d[m]=this.holes[m].getPoints(l);return d}extractPoints(l){return{shape:this.getPoints(l),holes:this.getPointsHoles(l)}}copy(l){super.copy(l),this.holes=[];for(let d=0,m=l.holes.length;d<m;d++)this.holes.push(l.holes[d].clone());return this}toJSON(){const l=super.toJSON();l.uuid=this.uuid,l.holes=[];for(let d=0,m=this.holes.length;d<m;d++)l.holes.push(this.holes[d].toJSON());return l}fromJSON(l){super.fromJSON(l),this.uuid=l.uuid,this.holes=[];for(let d=0,m=l.holes.length;d<m;d++){const v=l.holes[d];this.holes.push((new Up).fromJSON(v))}return this}}class Su extends $r{constructor(l,d=1){super(),this.type="Light",this.color=new cr(l),this.intensity=d}copy(l){return super.copy(l),this.color.copy(l.color),this.intensity=l.intensity,this}toJSON(l){const d=super.toJSON(l);return d.object.color=this.color.getHex(),d.object.intensity=this.intensity,void 0!==this.groundColor&&(d.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(d.object.distance=this.distance),void 0!==this.angle&&(d.object.angle=this.angle),void 0!==this.decay&&(d.object.decay=this.decay),void 0!==this.penumbra&&(d.object.penumbra=this.penumbra),void 0!==this.shadow&&(d.object.shadow=this.shadow.toJSON()),d}}Su.prototype.isLight=!0;class eE extends Su{constructor(l,d,m){super(l,m),this.type="HemisphereLight",this.position.copy($r.DefaultUp),this.updateMatrix(),this.groundColor=new cr(d)}copy(l){return Su.prototype.copy.call(this,l),this.groundColor.copy(l.groundColor),this}}eE.prototype.isHemisphereLight=!0;const sF=new Nr,De=new Se,w_=new Se;class W0{constructor(l){this.camera=l,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new vn(512,512),this.map=null,this.mapPass=null,this.matrix=new Nr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new wd,this._frameExtents=new vn(1,1),this._viewportCount=1,this._viewports=[new wi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(l){const d=this.camera,m=this.matrix;De.setFromMatrixPosition(l.matrixWorld),d.position.copy(De),w_.setFromMatrixPosition(l.target.matrixWorld),d.lookAt(w_),d.updateMatrixWorld(),sF.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sF),m.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),m.multiply(d.projectionMatrix),m.multiply(d.matrixWorldInverse)}getViewport(l){return this._viewports[l]}getFrameExtents(){return this._frameExtents}copy(l){return this.camera=l.camera.clone(),this.bias=l.bias,this.radius=l.radius,this.mapSize.copy(l.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const l={};return 0!==this.bias&&(l.bias=this.bias),0!==this.normalBias&&(l.normalBias=this.normalBias),1!==this.radius&&(l.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(l.mapSize=this.mapSize.toArray()),l.camera=this.camera.toJSON(!1).object,delete l.camera.matrix,l}}class M_ extends W0{constructor(){super(new os(50,1,.5,500)),this.focus=1}updateMatrices(l){const d=this.camera,m=2*Er.RAD2DEG*l.angle*this.focus,v=this.mapSize.width/this.mapSize.height,_=l.distance||d.far;(m!==d.fov||v!==d.aspect||_!==d.far)&&(d.fov=m,d.aspect=v,d.far=_,d.updateProjectionMatrix()),super.updateMatrices(l)}}M_.prototype.isSpotLightShadow=!0;class xu extends Su{constructor(l,d,m=0,v=Math.PI/3,_=0,x=1){super(l,d),this.type="SpotLight",this.position.copy($r.DefaultUp),this.updateMatrix(),this.target=new $r,this.distance=m,this.angle=v,this.penumbra=_,this.decay=x,this.shadow=new M_}get power(){return this.intensity*Math.PI}set power(l){this.intensity=l/Math.PI}copy(l){return super.copy(l),this.distance=l.distance,this.angle=l.angle,this.penumbra=l.penumbra,this.decay=l.decay,this.target=l.target.clone(),this.shadow=l.shadow.clone(),this}}xu.prototype.isSpotLight=!0;const tE=new Nr,S_=new Se,x_=new Se;class Od extends W0{constructor(){super(new os(90,1,.5,500)),this._frameExtents=new vn(4,2),this._viewportCount=6,this._viewports=[new wi(2,1,1,1),new wi(0,1,1,1),new wi(3,1,1,1),new wi(1,1,1,1),new wi(3,0,1,1),new wi(1,0,1,1)],this._cubeDirections=[new Se(1,0,0),new Se(-1,0,0),new Se(0,0,1),new Se(0,0,-1),new Se(0,1,0),new Se(0,-1,0)],this._cubeUps=[new Se(0,1,0),new Se(0,1,0),new Se(0,1,0),new Se(0,1,0),new Se(0,0,1),new Se(0,0,-1)]}updateMatrices(l,d=0){const m=this.camera,v=this.matrix;S_.setFromMatrixPosition(l.matrixWorld),m.position.copy(S_),x_.copy(m.position),x_.add(this._cubeDirections[d]),m.up.copy(this._cubeUps[d]),m.lookAt(x_),m.updateMatrixWorld(),v.makeTranslation(-S_.x,-S_.y,-S_.z),tE.multiplyMatrices(m.projectionMatrix,m.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tE)}}Od.prototype.isPointLightShadow=!0;class C_ extends Su{constructor(l,d,m=0,v=1){super(l,d),this.type="PointLight",this.distance=m,this.decay=v,this.shadow=new Od}get power(){return 4*this.intensity*Math.PI}set power(l){this.intensity=l/(4*Math.PI)}copy(l){return super.copy(l),this.distance=l.distance,this.decay=l.decay,this.shadow=l.shadow.clone(),this}}C_.prototype.isPointLight=!0;class Xg extends No{constructor(l=-1,d=1,m=1,v=-1,_=.1,x=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=l,this.right=d,this.top=m,this.bottom=v,this.near=_,this.far=x,this.updateProjectionMatrix()}copy(l,d){return super.copy(l,d),this.left=l.left,this.right=l.right,this.top=l.top,this.bottom=l.bottom,this.near=l.near,this.far=l.far,this.zoom=l.zoom,this.view=null===l.view?null:Object.assign({},l.view),this}setViewOffset(l,d,m,v,_,x){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=l,this.view.fullHeight=d,this.view.offsetX=m,this.view.offsetY=v,this.view.width=_,this.view.height=x,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const l=(this.right-this.left)/(2*this.zoom),d=(this.top-this.bottom)/(2*this.zoom),m=(this.right+this.left)/2,v=(this.top+this.bottom)/2;let _=m-l,x=m+l,D=v+d,k=v-d;if(null!==this.view&&this.view.enabled){const O=(this.right-this.left)/this.view.fullWidth/this.zoom,z=(this.top-this.bottom)/this.view.fullHeight/this.zoom;_+=O*this.view.offsetX,x=_+O*this.view.width,D-=z*this.view.offsetY,k=D-z*this.view.height}this.projectionMatrix.makeOrthographic(_,x,D,k,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(l){const d=$r.prototype.toJSON.call(this,l);return d.object.zoom=this.zoom,d.object.left=this.left,d.object.right=this.right,d.object.top=this.top,d.object.bottom=this.bottom,d.object.near=this.near,d.object.far=this.far,null!==this.view&&(d.object.view=Object.assign({},this.view)),d}}Xg.prototype.isOrthographicCamera=!0;class Y0 extends W0{constructor(){super(new Xg(-5,5,5,-5,.5,500))}}Y0.prototype.isDirectionalLightShadow=!0;class kD extends Su{constructor(l,d){super(l,d),this.type="DirectionalLight",this.position.copy($r.DefaultUp),this.updateMatrix(),this.target=new $r,this.shadow=new Y0}copy(l){return super.copy(l),this.target=l.target.clone(),this.shadow=l.shadow.clone(),this}}kD.prototype.isDirectionalLight=!0;class G0 extends Su{constructor(l,d){super(l,d),this.type="AmbientLight"}}G0.prototype.isAmbientLight=!0;class LD extends Su{constructor(l,d,m=10,v=10){super(l,d),this.type="RectAreaLight",this.width=m,this.height=v}copy(l){return super.copy(l),this.width=l.width,this.height=l.height,this}toJSON(l){const d=super.toJSON(l);return d.object.width=this.width,d.object.height=this.height,d}}LD.prototype.isRectAreaLight=!0;class Kg{constructor(){this.coefficients=[];for(let l=0;l<9;l++)this.coefficients.push(new Se)}set(l){for(let d=0;d<9;d++)this.coefficients[d].copy(l[d]);return this}zero(){for(let l=0;l<9;l++)this.coefficients[l].set(0,0,0);return this}getAt(l,d){const m=l.x,v=l.y,_=l.z,x=this.coefficients;return d.copy(x[0]).multiplyScalar(.282095),d.addScaledVector(x[1],.488603*v),d.addScaledVector(x[2],.488603*_),d.addScaledVector(x[3],.488603*m),d.addScaledVector(x[4],m*v*1.092548),d.addScaledVector(x[5],v*_*1.092548),d.addScaledVector(x[6],.315392*(3*_*_-1)),d.addScaledVector(x[7],m*_*1.092548),d.addScaledVector(x[8],.546274*(m*m-v*v)),d}getIrradianceAt(l,d){const m=l.x,v=l.y,_=l.z,x=this.coefficients;return d.copy(x[0]).multiplyScalar(.886227),d.addScaledVector(x[1],1.023328*v),d.addScaledVector(x[2],1.023328*_),d.addScaledVector(x[3],1.023328*m),d.addScaledVector(x[4],.858086*m*v),d.addScaledVector(x[5],.858086*v*_),d.addScaledVector(x[6],.743125*_*_-.247708),d.addScaledVector(x[7],.858086*m*_),d.addScaledVector(x[8],.429043*(m*m-v*v)),d}add(l){for(let d=0;d<9;d++)this.coefficients[d].add(l.coefficients[d]);return this}addScaledSH(l,d){for(let m=0;m<9;m++)this.coefficients[m].addScaledVector(l.coefficients[m],d);return this}scale(l){for(let d=0;d<9;d++)this.coefficients[d].multiplyScalar(l);return this}lerp(l,d){for(let m=0;m<9;m++)this.coefficients[m].lerp(l.coefficients[m],d);return this}equals(l){for(let d=0;d<9;d++)if(!this.coefficients[d].equals(l.coefficients[d]))return!1;return!0}copy(l){return this.set(l.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(l,d=0){const m=this.coefficients;for(let v=0;v<9;v++)m[v].fromArray(l,d+3*v);return this}toArray(l=[],d=0){const m=this.coefficients;for(let v=0;v<9;v++)m[v].toArray(l,d+3*v);return l}static getBasisAt(l,d){const m=l.x,v=l.y,_=l.z;d[0]=.282095,d[1]=.488603*v,d[2]=.488603*_,d[3]=.488603*m,d[4]=1.092548*m*v,d[5]=1.092548*v*_,d[6]=.315392*(3*_*_-1),d[7]=1.092548*m*_,d[8]=.546274*(m*m-v*v)}}Kg.prototype.isSphericalHarmonics3=!0;class kh extends Su{constructor(l=new Kg,d=1){super(void 0,d),this.sh=l}copy(l){return super.copy(l),this.sh.copy(l.sh),this}fromJSON(l){return this.intensity=l.intensity,this.sh.fromArray(l.sh),this}toJSON(l){const d=super.toJSON(l);return d.object.sh=this.sh.toArray(),d}}kh.prototype.isLightProbe=!0;class $0 extends Ws{constructor(l){super(l),this.textures={}}load(l,d,m,v){const _=this,x=new Mu(_.manager);x.setPath(_.path),x.setRequestHeader(_.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(k){v?v(k):console.error(k),_.manager.itemError(l)}},m,v)}parse(l){const d=this.textures;function m(_){return void 0===d[_]&&console.warn("THREE.MaterialLoader: Undefined texture",_),d[_]}const v=new SD[l.type];if(void 0!==l.uuid&&(v.uuid=l.uuid),void 0!==l.name&&(v.name=l.name),void 0!==l.color&&void 0!==v.color&&v.color.setHex(l.color),void 0!==l.roughness&&(v.roughness=l.roughness),void 0!==l.metalness&&(v.metalness=l.metalness),void 0!==l.sheen&&(v.sheen=(new cr).setHex(l.sheen)),void 0!==l.emissive&&void 0!==v.emissive&&v.emissive.setHex(l.emissive),void 0!==l.specular&&void 0!==v.specular&&v.specular.setHex(l.specular),void 0!==l.shininess&&(v.shininess=l.shininess),void 0!==l.clearcoat&&(v.clearcoat=l.clearcoat),void 0!==l.clearcoatRoughness&&(v.clearcoatRoughness=l.clearcoatRoughness),void 0!==l.fog&&(v.fog=l.fog),void 0!==l.flatShading&&(v.flatShading=l.flatShading),void 0!==l.blending&&(v.blending=l.blending),void 0!==l.combine&&(v.combine=l.combine),void 0!==l.side&&(v.side=l.side),void 0!==l.opacity&&(v.opacity=l.opacity),void 0!==l.transparent&&(v.transparent=l.transparent),void 0!==l.alphaTest&&(v.alphaTest=l.alphaTest),void 0!==l.depthTest&&(v.depthTest=l.depthTest),void 0!==l.depthWrite&&(v.depthWrite=l.depthWrite),void 0!==l.colorWrite&&(v.colorWrite=l.colorWrite),void 0!==l.stencilWrite&&(v.stencilWrite=l.stencilWrite),void 0!==l.stencilWriteMask&&(v.stencilWriteMask=l.stencilWriteMask),void 0!==l.stencilFunc&&(v.stencilFunc=l.stencilFunc),void 0!==l.stencilRef&&(v.stencilRef=l.stencilRef),void 0!==l.stencilFuncMask&&(v.stencilFuncMask=l.stencilFuncMask),void 0!==l.stencilFail&&(v.stencilFail=l.stencilFail),void 0!==l.stencilZFail&&(v.stencilZFail=l.stencilZFail),void 0!==l.stencilZPass&&(v.stencilZPass=l.stencilZPass),void 0!==l.wireframe&&(v.wireframe=l.wireframe),void 0!==l.wireframeLinewidth&&(v.wireframeLinewidth=l.wireframeLinewidth),void 0!==l.wireframeLinecap&&(v.wireframeLinecap=l.wireframeLinecap),void 0!==l.wireframeLinejoin&&(v.wireframeLinejoin=l.wireframeLinejoin),void 0!==l.rotation&&(v.rotation=l.rotation),1!==l.linewidth&&(v.linewidth=l.linewidth),void 0!==l.dashSize&&(v.dashSize=l.dashSize),void 0!==l.gapSize&&(v.gapSize=l.gapSize),void 0!==l.scale&&(v.scale=l.scale),void 0!==l.polygonOffset&&(v.polygonOffset=l.polygonOffset),void 0!==l.polygonOffsetFactor&&(v.polygonOffsetFactor=l.polygonOffsetFactor),void 0!==l.polygonOffsetUnits&&(v.polygonOffsetUnits=l.polygonOffsetUnits),void 0!==l.skinning&&(v.skinning=l.skinning),void 0!==l.morphTargets&&(v.morphTargets=l.morphTargets),void 0!==l.morphNormals&&(v.morphNormals=l.morphNormals),void 0!==l.dithering&&(v.dithering=l.dithering),void 0!==l.vertexTangents&&(v.vertexTangents=l.vertexTangents),void 0!==l.visible&&(v.visible=l.visible),void 0!==l.toneMapped&&(v.toneMapped=l.toneMapped),void 0!==l.userData&&(v.userData=l.userData),void 0!==l.vertexColors&&(v.vertexColors="number"==typeof l.vertexColors?l.vertexColors>0:l.vertexColors),void 0!==l.uniforms)for(const _ in l.uniforms){const x=l.uniforms[_];switch(v.uniforms[_]={},x.type){case"t":v.uniforms[_].value=m(x.value);break;case"c":v.uniforms[_].value=(new cr).setHex(x.value);break;case"v2":v.uniforms[_].value=(new vn).fromArray(x.value);break;case"v3":v.uniforms[_].value=(new Se).fromArray(x.value);break;case"v4":v.uniforms[_].value=(new wi).fromArray(x.value);break;case"m3":v.uniforms[_].value=(new Ts).fromArray(x.value);break;case"m4":v.uniforms[_].value=(new Nr).fromArray(x.value);break;default:v.uniforms[_].value=x.value}}if(void 0!==l.defines&&(v.defines=l.defines),void 0!==l.vertexShader&&(v.vertexShader=l.vertexShader),void 0!==l.fragmentShader&&(v.fragmentShader=l.fragmentShader),void 0!==l.extensions)for(const _ in l.extensions)v.extensions[_]=l.extensions[_];if(void 0!==l.shading&&(v.flatShading=1===l.shading),void 0!==l.size&&(v.size=l.size),void 0!==l.sizeAttenuation&&(v.sizeAttenuation=l.sizeAttenuation),void 0!==l.map&&(v.map=m(l.map)),void 0!==l.matcap&&(v.matcap=m(l.matcap)),void 0!==l.alphaMap&&(v.alphaMap=m(l.alphaMap)),void 0!==l.bumpMap&&(v.bumpMap=m(l.bumpMap)),void 0!==l.bumpScale&&(v.bumpScale=l.bumpScale),void 0!==l.normalMap&&(v.normalMap=m(l.normalMap)),void 0!==l.normalMapType&&(v.normalMapType=l.normalMapType),void 0!==l.normalScale){let _=l.normalScale;!1===Array.isArray(_)&&(_=[_,_]),v.normalScale=(new vn).fromArray(_)}return void 0!==l.displacementMap&&(v.displacementMap=m(l.displacementMap)),void 0!==l.displacementScale&&(v.displacementScale=l.displacementScale),void 0!==l.displacementBias&&(v.displacementBias=l.displacementBias),void 0!==l.roughnessMap&&(v.roughnessMap=m(l.roughnessMap)),void 0!==l.metalnessMap&&(v.metalnessMap=m(l.metalnessMap)),void 0!==l.emissiveMap&&(v.emissiveMap=m(l.emissiveMap)),void 0!==l.emissiveIntensity&&(v.emissiveIntensity=l.emissiveIntensity),void 0!==l.specularMap&&(v.specularMap=m(l.specularMap)),void 0!==l.envMap&&(v.envMap=m(l.envMap)),void 0!==l.envMapIntensity&&(v.envMapIntensity=l.envMapIntensity),void 0!==l.reflectivity&&(v.reflectivity=l.reflectivity),void 0!==l.refractionRatio&&(v.refractionRatio=l.refractionRatio),void 0!==l.lightMap&&(v.lightMap=m(l.lightMap)),void 0!==l.lightMapIntensity&&(v.lightMapIntensity=l.lightMapIntensity),void 0!==l.aoMap&&(v.aoMap=m(l.aoMap)),void 0!==l.aoMapIntensity&&(v.aoMapIntensity=l.aoMapIntensity),void 0!==l.gradientMap&&(v.gradientMap=m(l.gradientMap)),void 0!==l.clearcoatMap&&(v.clearcoatMap=m(l.clearcoatMap)),void 0!==l.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap=m(l.clearcoatRoughnessMap)),void 0!==l.clearcoatNormalMap&&(v.clearcoatNormalMap=m(l.clearcoatNormalMap)),void 0!==l.clearcoatNormalScale&&(v.clearcoatNormalScale=(new vn).fromArray(l.clearcoatNormalScale)),void 0!==l.transmission&&(v.transmission=l.transmission),void 0!==l.transmissionMap&&(v.transmissionMap=m(l.transmissionMap)),v}setTextures(l){return this.textures=l,this}}const E_={decodeText:function(h){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(h);let l="";for(let d=0,m=h.length;d<m;d++)l+=String.fromCharCode(h[d]);try{return decodeURIComponent(escape(l))}catch(d){return l}},extractUrlBase:function(h){const l=h.lastIndexOf("/");return-1===l?"./":h.substr(0,l+1)}};function Wp(){Fr.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function nE(h,l,d,m){"number"==typeof d&&(m=d,d=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Xr.call(this,h,l,d),this.meshPerAttribute=m||1}Wp.prototype=Object.assign(Object.create(Fr.prototype),{constructor:Wp,isInstancedBufferGeometry:!0,copy:function(h){return Fr.prototype.copy.call(this,h),this.instanceCount=h.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const h=Fr.prototype.toJSON.call(this);return h.instanceCount=this.instanceCount,h.isInstancedBufferGeometry=!0,h}}),nE.prototype=Object.assign(Object.create(Xr.prototype),{constructor:nE,isInstancedBufferAttribute:!0,copy:function(h){return Xr.prototype.copy.call(this,h),this.meshPerAttribute=h.meshPerAttribute,this},toJSON:function(){const h=Xr.prototype.toJSON.call(this);return h.meshPerAttribute=this.meshPerAttribute,h.isInstancedBufferAttribute=!0,h}});class ID extends Ws{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Mu(_.manager);x.setPath(_.path),x.setRequestHeader(_.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(k){v?v(k):console.error(k),_.manager.itemError(l)}},m,v)}parse(l){const d={},m={};function v(W,q){if(void 0!==d[q])return d[q];const ne=W.interleavedBuffers[q],ie=function _(W,q){if(void 0!==m[q])return m[q];const ie=new Uint32Array(W.arrayBuffers[q]).buffer;return m[q]=ie,ie}(W,ne.buffer),Ee=new Gl(Wl(ne.type,ie),ne.stride);return Ee.uuid=ne.uuid,d[q]=Ee,Ee}const x=l.isInstancedBufferGeometry?new Wp:new Fr,D=l.data.index;if(void 0!==D){const W=Wl(D.type,D.array);x.setIndex(new Xr(W,1))}const k=l.data.attributes;for(const W in k){const q=k[W];let G;if(q.isInterleavedBufferAttribute)G=new nc(v(l.data,q.data),q.itemSize,q.offset,q.normalized);else{const ne=Wl(q.type,q.array);G=new(q.isInstancedBufferAttribute?nE:Xr)(ne,q.itemSize,q.normalized)}void 0!==q.name&&(G.name=q.name),x.setAttribute(W,G)}const O=l.data.morphAttributes;if(O)for(const W in O){const q=O[W],G=[];for(let ne=0,ie=q.length;ne<ie;ne++){const X=q[ne];let Ee;Ee=X.isInterleavedBufferAttribute?new nc(v(l.data,X.data),X.itemSize,X.offset,X.normalized):new Xr(Wl(X.type,X.array),X.itemSize,X.normalized),void 0!==X.name&&(Ee.name=X.name),G.push(Ee)}x.morphAttributes[W]=G}l.data.morphTargetsRelative&&(x.morphTargetsRelative=!0);const H=l.data.groups||l.data.drawcalls||l.data.offsets;if(void 0!==H)for(let W=0,q=H.length;W!==q;++W){const G=H[W];x.addGroup(G.start,G.count,G.materialIndex)}const V=l.data.boundingSphere;if(void 0!==V){const W=new Se;void 0!==V.center&&W.fromArray(V.center),x.boundingSphere=new hd(W,V.radius)}return l.name&&(x.name=l.name),l.userData&&(x.userData=l.userData),x}}class aF extends Ws{constructor(l){super(l)}load(l,d,m,v){const _=this,x=""===this.path?E_.extractUrlBase(l):this.path;this.resourcePath=this.resourcePath||x;const D=new Mu(this.manager);D.setPath(this.path),D.setRequestHeader(this.requestHeader),D.setWithCredentials(this.withCredentials),D.load(l,function(k){let O=null;try{O=JSON.parse(k)}catch(H){return void 0!==v&&v(H),void console.error("THREE:ObjectLoader: Can't parse "+l+".",H.message)}const z=O.metadata;void 0!==z&&void 0!==z.type&&"geometry"!==z.type.toLowerCase()?_.parse(O,d):console.error("THREE.ObjectLoader: Can't load "+l)},m,v)}parse(l,d){const m=this.parseAnimations(l.animations),v=this.parseShapes(l.shapes),_=this.parseGeometries(l.geometries,v),x=this.parseImages(l.images,function(){void 0!==d&&d(O)}),D=this.parseTextures(l.textures,x),k=this.parseMaterials(l.materials,D),O=this.parseObject(l.object,_,k,m),z=this.parseSkeletons(l.skeletons,O);if(this.bindSkeletons(O,z),void 0!==d){let H=!1;for(const V in x)if(x[V]instanceof HTMLImageElement){H=!0;break}!1===H&&d(O)}return O}parseShapes(l){const d={};if(void 0!==l)for(let m=0,v=l.length;m<v;m++){const _=(new jp).fromJSON(l[m]);d[_.uuid]=_}return d}parseSkeletons(l,d){const m={},v={};if(d.traverse(function(_){_.isBone&&(v[_.uuid]=_)}),void 0!==l)for(let _=0,x=l.length;_<x;_++){const D=(new r_).fromJSON(l[_],v);m[D.uuid]=D}return m}parseGeometries(l,d){const m={};let v;if(void 0!==l){const _=new ID;for(let x=0,D=l.length;x<D;x++){let k;const O=l[x];switch(O.type){case"PlaneGeometry":case"PlaneBufferGeometry":k=new fl[O.type](O.width,O.height,O.widthSegments,O.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":k=new fl[O.type](O.width,O.height,O.depth,O.widthSegments,O.heightSegments,O.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":k=new fl[O.type](O.radius,O.segments,O.thetaStart,O.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":k=new fl[O.type](O.radiusTop,O.radiusBottom,O.height,O.radialSegments,O.heightSegments,O.openEnded,O.thetaStart,O.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":k=new fl[O.type](O.radius,O.height,O.radialSegments,O.heightSegments,O.openEnded,O.thetaStart,O.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":k=new fl[O.type](O.radius,O.widthSegments,O.heightSegments,O.phiStart,O.phiLength,O.thetaStart,O.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":k=new fl[O.type](O.radius,O.detail);break;case"RingGeometry":case"RingBufferGeometry":k=new fl[O.type](O.innerRadius,O.outerRadius,O.thetaSegments,O.phiSegments,O.thetaStart,O.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":k=new fl[O.type](O.radius,O.tube,O.radialSegments,O.tubularSegments,O.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":k=new fl[O.type](O.radius,O.tube,O.tubularSegments,O.radialSegments,O.p,O.q);break;case"TubeGeometry":case"TubeBufferGeometry":k=new fl[O.type]((new j0[O.path.type]).fromJSON(O.path),O.tubularSegments,O.radius,O.radialSegments,O.closed);break;case"LatheGeometry":case"LatheBufferGeometry":k=new fl[O.type](O.points,O.segments,O.phiStart,O.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":k=new fl[O.type](O.vertices,O.indices,O.radius,O.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":v=[];for(let H=0,V=O.shapes.length;H<V;H++)v.push(d[O.shapes[H]]);k=new fl[O.type](v,O.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":v=[];for(let H=0,V=O.shapes.length;H<V;H++)v.push(d[O.shapes[H]]);const z=O.options.extrudePath;void 0!==z&&(O.options.extrudePath=(new j0[z.type]).fromJSON(z)),k=new fl[O.type](v,O.options);break;case"BufferGeometry":case"InstancedBufferGeometry":k=_.parse(O);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+O.type+'"');continue}k.uuid=O.uuid,void 0!==O.name&&(k.name=O.name),!0===k.isBufferGeometry&&void 0!==O.userData&&(k.userData=O.userData),m[O.uuid]=k}}return m}parseMaterials(l,d){const m={},v={};if(void 0!==l){const _=new $0;_.setTextures(d);for(let x=0,D=l.length;x<D;x++){const k=l[x];if("MultiMaterial"===k.type){const O=[];for(let z=0;z<k.materials.length;z++){const H=k.materials[z];void 0===m[H.uuid]&&(m[H.uuid]=_.parse(H)),O.push(m[H.uuid])}v[k.uuid]=O}else void 0===m[k.uuid]&&(m[k.uuid]=_.parse(k)),v[k.uuid]=m[k.uuid]}}return v}parseAnimations(l){const d={};if(void 0!==l)for(let m=0;m<l.length;m++){const _=v_.parse(l[m]);d[_.uuid]=_}return d}parseImages(l,d){const m=this,v={};let _;function D(k){if("string"==typeof k){const O=k;return function x(k){return m.manager.itemStart(k),_.load(k,function(){m.manager.itemEnd(k)},void 0,function(){m.manager.itemError(k),m.manager.itemEnd(k)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(O)?O:m.resourcePath+O)}return k.data?{data:Wl(k.type,k.data),width:k.width,height:k.height}:null}if(void 0!==l&&l.length>0){const k=new P0(d);_=new F0(k),_.setCrossOrigin(this.crossOrigin);for(let O=0,z=l.length;O<z;O++){const H=l[O],V=H.url;if(Array.isArray(V)){v[H.uuid]=[];for(let W=0,q=V.length;W<q;W++){const ne=D(V[W]);null!==ne&&(ne instanceof HTMLImageElement?v[H.uuid].push(ne):v[H.uuid].push(new Pc(ne.data,ne.width,ne.height)))}}else{const W=D(H.url);null!==W&&(v[H.uuid]=W)}}}return v}parseTextures(l,d){function m(_,x){return"number"==typeof _?_:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",_),x[_])}const v={};if(void 0!==l)for(let _=0,x=l.length;_<x;_++){const D=l[_];let k;void 0===D.image&&console.warn('THREE.ObjectLoader: No "image" specified for',D.uuid),void 0===d[D.image]&&console.warn("THREE.ObjectLoader: Undefined image",D.image);const O=d[D.image];Array.isArray(O)?(k=new bf(O),6===O.length&&(k.needsUpdate=!0)):(k=O&&O.data?new Pc(O.data,O.width,O.height):new so(O),O&&(k.needsUpdate=!0)),k.uuid=D.uuid,void 0!==D.name&&(k.name=D.name),void 0!==D.mapping&&(k.mapping=m(D.mapping,lF)),void 0!==D.offset&&k.offset.fromArray(D.offset),void 0!==D.repeat&&k.repeat.fromArray(D.repeat),void 0!==D.center&&k.center.fromArray(D.center),void 0!==D.rotation&&(k.rotation=D.rotation),void 0!==D.wrap&&(k.wrapS=m(D.wrap[0],PD),k.wrapT=m(D.wrap[1],PD)),void 0!==D.format&&(k.format=D.format),void 0!==D.type&&(k.type=D.type),void 0!==D.encoding&&(k.encoding=D.encoding),void 0!==D.minFilter&&(k.minFilter=m(D.minFilter,rE)),void 0!==D.magFilter&&(k.magFilter=m(D.magFilter,rE)),void 0!==D.anisotropy&&(k.anisotropy=D.anisotropy),void 0!==D.flipY&&(k.flipY=D.flipY),void 0!==D.premultiplyAlpha&&(k.premultiplyAlpha=D.premultiplyAlpha),void 0!==D.unpackAlignment&&(k.unpackAlignment=D.unpackAlignment),v[D.uuid]=k}return v}parseObject(l,d,m,v){let _,k,O;function x(z){return void 0===d[z]&&console.warn("THREE.ObjectLoader: Undefined geometry",z),d[z]}function D(z){if(void 0!==z){if(Array.isArray(z)){const H=[];for(let V=0,W=z.length;V<W;V++){const q=z[V];void 0===m[q]&&console.warn("THREE.ObjectLoader: Undefined material",q),H.push(m[q])}return H}return void 0===m[z]&&console.warn("THREE.ObjectLoader: Undefined material",z),m[z]}}switch(l.type){case"Scene":_=new gi,void 0!==l.background&&Number.isInteger(l.background)&&(_.background=new cr(l.background)),void 0!==l.fog&&("Fog"===l.fog.type?_.fog=new xd(l.fog.color,l.fog.near,l.fog.far):"FogExp2"===l.fog.type&&(_.fog=new Qy(l.fog.color,l.fog.density)));break;case"PerspectiveCamera":_=new os(l.fov,l.aspect,l.near,l.far),void 0!==l.focus&&(_.focus=l.focus),void 0!==l.zoom&&(_.zoom=l.zoom),void 0!==l.filmGauge&&(_.filmGauge=l.filmGauge),void 0!==l.filmOffset&&(_.filmOffset=l.filmOffset),void 0!==l.view&&(_.view=Object.assign({},l.view));break;case"OrthographicCamera":_=new Xg(l.left,l.right,l.top,l.bottom,l.near,l.far),void 0!==l.zoom&&(_.zoom=l.zoom),void 0!==l.view&&(_.view=Object.assign({},l.view));break;case"AmbientLight":_=new G0(l.color,l.intensity);break;case"DirectionalLight":_=new kD(l.color,l.intensity);break;case"PointLight":_=new C_(l.color,l.intensity,l.distance,l.decay);break;case"RectAreaLight":_=new LD(l.color,l.intensity,l.width,l.height);break;case"SpotLight":_=new xu(l.color,l.intensity,l.distance,l.angle,l.penumbra,l.decay);break;case"HemisphereLight":_=new eE(l.color,l.groundColor,l.intensity);break;case"LightProbe":_=(new kh).fromJSON(l);break;case"SkinnedMesh":k=x(l.geometry),O=D(l.material),_=new n_(k,O),void 0!==l.bindMode&&(_.bindMode=l.bindMode),void 0!==l.bindMatrix&&_.bindMatrix.fromArray(l.bindMatrix),void 0!==l.skeleton&&(_.skeleton=l.skeleton);break;case"Mesh":k=x(l.geometry),O=D(l.material),_=new ln(k,O);break;case"InstancedMesh":k=x(l.geometry),O=D(l.material);const H=l.instanceMatrix;_=new c0(k,O,l.count),_.instanceMatrix=new Xr(new Float32Array(H.array),16);break;case"LOD":_=new s0;break;case"Line":_=new Hc(x(l.geometry),D(l.material));break;case"LineLoop":_=new f0(x(l.geometry),D(l.material));break;case"LineSegments":_=new Xa(x(l.geometry),D(l.material));break;case"PointCloud":case"Points":_=new Vg(x(l.geometry),D(l.material));break;case"Sprite":_=new RC(D(l.material));break;case"Group":_=new Pp;break;case"Bone":_=new Np;break;default:_=new $r}if(_.uuid=l.uuid,void 0!==l.name&&(_.name=l.name),void 0!==l.matrix?(_.matrix.fromArray(l.matrix),void 0!==l.matrixAutoUpdate&&(_.matrixAutoUpdate=l.matrixAutoUpdate),_.matrixAutoUpdate&&_.matrix.decompose(_.position,_.quaternion,_.scale)):(void 0!==l.position&&_.position.fromArray(l.position),void 0!==l.rotation&&_.rotation.fromArray(l.rotation),void 0!==l.quaternion&&_.quaternion.fromArray(l.quaternion),void 0!==l.scale&&_.scale.fromArray(l.scale)),void 0!==l.castShadow&&(_.castShadow=l.castShadow),void 0!==l.receiveShadow&&(_.receiveShadow=l.receiveShadow),l.shadow&&(void 0!==l.shadow.bias&&(_.shadow.bias=l.shadow.bias),void 0!==l.shadow.normalBias&&(_.shadow.normalBias=l.shadow.normalBias),void 0!==l.shadow.radius&&(_.shadow.radius=l.shadow.radius),void 0!==l.shadow.mapSize&&_.shadow.mapSize.fromArray(l.shadow.mapSize),void 0!==l.shadow.camera&&(_.shadow.camera=this.parseObject(l.shadow.camera))),void 0!==l.visible&&(_.visible=l.visible),void 0!==l.frustumCulled&&(_.frustumCulled=l.frustumCulled),void 0!==l.renderOrder&&(_.renderOrder=l.renderOrder),void 0!==l.userData&&(_.userData=l.userData),void 0!==l.layers&&(_.layers.mask=l.layers),void 0!==l.children){const z=l.children;for(let H=0;H<z.length;H++)_.add(this.parseObject(z[H],d,m,v))}if(void 0!==l.animations){const z=l.animations;for(let H=0;H<z.length;H++)_.animations.push(v[z[H]])}if("LOD"===l.type){void 0!==l.autoUpdate&&(_.autoUpdate=l.autoUpdate);const z=l.levels;for(let H=0;H<z.length;H++){const V=z[H],W=_.getObjectByProperty("uuid",V.object);void 0!==W&&_.addLevel(W,V.distance)}}return _}bindSkeletons(l,d){0!==Object.keys(d).length&&l.traverse(function(m){if(!0===m.isSkinnedMesh&&void 0!==m.skeleton){const v=d[m.skeleton];void 0===v?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",m.skeleton):m.bind(v,m.bindMatrix)}})}setTexturePath(l){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(l)}}const lF={UVMapping:lt,CubeReflectionMapping:Ke,CubeRefractionMapping:Ye,EquirectangularReflectionMapping:$e,EquirectangularRefractionMapping:gt,CubeUVReflectionMapping:ft,CubeUVRefractionMapping:Ct},PD={RepeatWrapping:qt,ClampToEdgeWrapping:cn,MirroredRepeatWrapping:Mn},rE={NearestFilter:Pn,NearestMipmapNearestFilter:yr,NearestMipmapLinearFilter:ri,LinearFilter:Ri,LinearMipmapNearestFilter:su,LinearMipmapLinearFilter:Gi};function ND(h){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Ws.call(this,h),this.options={premultiplyAlpha:"none"}}ND.prototype=Object.assign(Object.create(Ws.prototype),{constructor:ND,isImageBitmapLoader:!0,setOptions:function(l){return this.options=l,this},load:function(h,l,d,m){void 0===h&&(h=""),void 0!==this.path&&(h=this.path+h),h=this.manager.resolveURL(h);const v=this,_=or.get(h);if(void 0!==_)return v.manager.itemStart(h),setTimeout(function(){l&&l(_),v.manager.itemEnd(h)},0),_;const x={};x.credentials="anonymous"===this.crossOrigin?"same-origin":"include",x.headers=this.requestHeader,fetch(h,x).then(function(D){return D.blob()}).then(function(D){return createImageBitmap(D,Object.assign(v.options,{colorSpaceConversion:"none"}))}).then(function(D){or.add(h,D),l&&l(D),v.manager.itemEnd(h)}).catch(function(D){m&&m(D),v.manager.itemError(h),v.manager.itemEnd(h)}),v.manager.itemStart(h)}});class FD{constructor(){this.type="ShapePath",this.color=new cr,this.subPaths=[],this.currentPath=null}moveTo(l,d){return this.currentPath=new Up,this.subPaths.push(this.currentPath),this.currentPath.moveTo(l,d),this}lineTo(l,d){return this.currentPath.lineTo(l,d),this}quadraticCurveTo(l,d,m,v){return this.currentPath.quadraticCurveTo(l,d,m,v),this}bezierCurveTo(l,d,m,v,_,x){return this.currentPath.bezierCurveTo(l,d,m,v,_,x),this}splineThru(l){return this.currentPath.splineThru(l),this}toShapes(l,d){function m(X){const Ee=[];for(let Me=0,He=X.length;Me<He;Me++){const _e=X[Me],et=new jp;et.curves=_e.curves,Ee.push(et)}return Ee}function v(X,Ee){const Me=Ee.length;let He=!1;for(let _e=Me-1,et=0;et<Me;_e=et++){let At=Ee[_e],_t=Ee[et],nt=_t.x-At.x,Vt=_t.y-At.y;if(Math.abs(Vt)>Number.EPSILON){if(Vt<0&&(At=Ee[et],nt=-nt,_t=Ee[_e],Vt=-Vt),X.y<At.y||X.y>_t.y)continue;if(X.y===At.y){if(X.x===At.x)return!0}else{const en=Vt*(X.x-At.x)-nt*(X.y-At.y);if(0===en)return!0;if(en<0)continue;He=!He}}else{if(X.y!==At.y)continue;if(_t.x<=X.x&&X.x<=At.x||At.x<=X.x&&X.x<=_t.x)return!0}}return He}const _=Df.isClockWise,x=this.subPaths;if(0===x.length)return[];if(!0===d)return m(x);let D,k,O;const z=[];if(1===x.length)return k=x[0],O=new jp,O.curves=k.curves,z.push(O),z;let H=!_(x[0].getPoints());H=l?!H:H;const V=[],W=[];let ne,ie,q=[],G=0;W[G]=void 0,q[G]=[];for(let X=0,Ee=x.length;X<Ee;X++)k=x[X],ne=k.getPoints(),D=_(ne),D=l?!D:D,D?(!H&&W[G]&&G++,W[G]={s:new jp,p:ne},W[G].s.curves=k.curves,H&&G++,q[G]=[]):q[G].push({h:k,p:ne[0]});if(!W[0])return m(x);if(W.length>1){let X=!1;const Ee=[];for(let Me=0,He=W.length;Me<He;Me++)V[Me]=[];for(let Me=0,He=W.length;Me<He;Me++){const _e=q[Me];for(let et=0;et<_e.length;et++){const At=_e[et];let _t=!0;for(let nt=0;nt<W.length;nt++)v(At.p,W[nt].p)&&(Me!==nt&&Ee.push({froms:Me,tos:nt,hole:et}),_t?(_t=!1,V[nt].push(At)):X=!0);_t&&V[Me].push(At)}}Ee.length>0&&(X||(q=V))}for(let X=0,Ee=W.length;X<Ee;X++){O=W[X].s,z.push(O),ie=q[X];for(let Me=0,He=ie.length;Me<He;Me++)O.holes.push(ie[Me].h)}return z}}class HD{constructor(l){this.type="Font",this.data=l}generateShapes(l,d=100){const m=[],v=function BD(h,l,d){const m=Array.from(h),v=l/d.resolution,_=(d.boundingBox.yMax-d.boundingBox.yMin+d.underlineThickness)*v,x=[];let D=0,k=0;for(let O=0;O<m.length;O++){const z=m[O];if("\n"===z)D=0,k-=_;else{const H=VD(z,v,D,k,d);D+=H.offsetX,x.push(H.path)}}return x}(l,d,this.data);for(let _=0,x=v.length;_<x;_++)Array.prototype.push.apply(m,v[_].toShapes());return m}}function VD(h,l,d,m,v){const _=v.glyphs[h]||v.glyphs["?"];if(!_)return void console.error('THREE.Font: character "'+h+'" does not exists in font family '+v.familyName+".");const x=new FD;let D,k,O,z,H,V,W,q;if(_.o){const G=_._cachedOutline||(_._cachedOutline=_.o.split(" "));for(let ne=0,ie=G.length;ne<ie;)switch(G[ne++]){case"m":D=G[ne++]*l+d,k=G[ne++]*l+m,x.moveTo(D,k);break;case"l":D=G[ne++]*l+d,k=G[ne++]*l+m,x.lineTo(D,k);break;case"q":O=G[ne++]*l+d,z=G[ne++]*l+m,H=G[ne++]*l+d,V=G[ne++]*l+m,x.quadraticCurveTo(H,V,O,z);break;case"b":O=G[ne++]*l+d,z=G[ne++]*l+m,H=G[ne++]*l+d,V=G[ne++]*l+m,W=G[ne++]*l+d,q=G[ne++]*l+m,x.bezierCurveTo(H,V,W,q,O,z)}}return{offsetX:_.ha*l,path:x}}HD.prototype.isFont=!0;class uF extends Ws{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Mu(this.manager);x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){let k;try{k=JSON.parse(D)}catch(z){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),k=JSON.parse(D.substring(65,D.length-2))}const O=_.parse(k);d&&d(O)},m,v)}parse(l){return new HD(l)}}let Zg;const zD={getContext:function(){return void 0===Zg&&(Zg=new(window.AudioContext||window.webkitAudioContext)),Zg},setContext:function(h){Zg=h}};class cF extends Ws{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Mu(this.manager);x.setResponseType("arraybuffer"),x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(l,function(D){try{const k=D.slice(0);zD.getContext().decodeAudioData(k,function(z){d(z)})}catch(k){v?v(k):console.error(k),_.manager.itemError(l)}},m,v)}}class dF extends kh{constructor(l,d,m=1){super(void 0,m);const v=(new cr).set(l),_=(new cr).set(d),x=new Se(v.r,v.g,v.b),D=new Se(_.r,_.g,_.b),k=Math.sqrt(Math.PI),O=k*Math.sqrt(.75);this.sh.coefficients[0].copy(x).add(D).multiplyScalar(k),this.sh.coefficients[1].copy(x).sub(D).multiplyScalar(O)}}dF.prototype.isHemisphereLightProbe=!0;class fF extends kh{constructor(l,d=1){super(void 0,d);const m=(new cr).set(l);this.sh.coefficients[0].set(m.r,m.g,m.b).multiplyScalar(2*Math.sqrt(Math.PI))}}fF.prototype.isAmbientLightProbe=!0;const hF=new Nr,pF=new Nr;class C8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new os,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new os,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(l){const d=this._cache;if(d.focus!==l.focus||d.fov!==l.fov||d.aspect!==l.aspect*this.aspect||d.near!==l.near||d.far!==l.far||d.zoom!==l.zoom||d.eyeSep!==this.eyeSep){d.focus=l.focus,d.fov=l.fov,d.aspect=l.aspect*this.aspect,d.near=l.near,d.far=l.far,d.zoom=l.zoom,d.eyeSep=this.eyeSep;const v=l.projectionMatrix.clone(),_=d.eyeSep/2,x=_*d.near/d.focus,D=d.near*Math.tan(Er.DEG2RAD*d.fov*.5)/d.zoom;let k,O;pF.elements[12]=-_,hF.elements[12]=_,k=-D*d.aspect+x,O=D*d.aspect+x,v.elements[0]=2*d.near/(O-k),v.elements[8]=(O+k)/(O-k),this.cameraL.projectionMatrix.copy(v),k=-D*d.aspect-x,O=D*d.aspect-x,v.elements[0]=2*d.near/(O-k),v.elements[8]=(O+k)/(O-k),this.cameraR.projectionMatrix.copy(v)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(pF),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(hF)}}class mF{constructor(l){this.autoStart=void 0===l||l,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=gF(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let l=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const d=gF();l=(d-this.oldTime)/1e3,this.oldTime=d,this.elapsedTime+=l}return l}}function gF(){return("undefined"==typeof performance?Date:performance).now()}const qg=new Se,Of=new br,iE=new Se,Yp=new Se;class UD extends $r{constructor(){super(),this.type="AudioListener",this.context=zD.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new mF}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(l){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=l,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(l){return this.gain.gain.setTargetAtTime(l,this.context.currentTime,.01),this}updateMatrixWorld(l){super.updateMatrixWorld(l);const d=this.context.listener,m=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(qg,Of,iE),Yp.set(0,0,-1).applyQuaternion(Of),d.positionX){const v=this.context.currentTime+this.timeDelta;d.positionX.linearRampToValueAtTime(qg.x,v),d.positionY.linearRampToValueAtTime(qg.y,v),d.positionZ.linearRampToValueAtTime(qg.z,v),d.forwardX.linearRampToValueAtTime(Yp.x,v),d.forwardY.linearRampToValueAtTime(Yp.y,v),d.forwardZ.linearRampToValueAtTime(Yp.z,v),d.upX.linearRampToValueAtTime(m.x,v),d.upY.linearRampToValueAtTime(m.y,v),d.upZ.linearRampToValueAtTime(m.z,v)}else d.setPosition(qg.x,qg.y,qg.z),d.setOrientation(Yp.x,Yp.y,Yp.z,m.x,m.y,m.z)}}class T_ extends $r{constructor(l){super(),this.type="Audio",this.listener=l,this.context=l.context,this.gain=this.context.createGain(),this.gain.connect(l.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(l){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=l,this.connect(),this}setMediaElementSource(l){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(l),this.connect(),this}setMediaStreamSource(l){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(l),this.connect(),this}setBuffer(l){return this.buffer=l,this.sourceType="buffer",this.autoplay&&this.play(),this}play(l=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+l;const d=this.context.createBufferSource();return d.buffer=this.buffer,d.loop=this.loop,d.loopStart=this.loopStart,d.loopEnd=this.loopEnd,d.onended=this.onEnded.bind(this),d.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=d,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let l=1,d=this.filters.length;l<d;l++)this.filters[l-1].connect(this.filters[l]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let l=1,d=this.filters.length;l<d;l++)this.filters[l-1].disconnect(this.filters[l]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(l){return l||(l=[]),!0===this._connected?(this.disconnect(),this.filters=l.slice(),this.connect()):this.filters=l.slice(),this}setDetune(l){if(this.detune=l,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(l){return this.setFilters(l?[l]:[])}setPlaybackRate(l){if(!1!==this.hasPlaybackControl)return this.playbackRate=l,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(l){if(!1!==this.hasPlaybackControl)return this.loop=l,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(l){return this.loopStart=l,this}setLoopEnd(l){return this.loopEnd=l,this}getVolume(){return this.gain.gain.value}setVolume(l){return this.gain.gain.setTargetAtTime(l,this.context.currentTime,.01),this}}const Lh=new Se,X0=new br,vF=new Se,Zl=new Se;class jD extends T_{constructor(l){super(l),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(l){return this.panner.refDistance=l,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(l){return this.panner.rolloffFactor=l,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(l){return this.panner.distanceModel=l,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(l){return this.panner.maxDistance=l,this}setDirectionalCone(l,d,m){return this.panner.coneInnerAngle=l,this.panner.coneOuterAngle=d,this.panner.coneOuterGain=m,this}updateMatrixWorld(l){if(super.updateMatrixWorld(l),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Lh,X0,vF),Zl.set(0,0,1).applyQuaternion(X0);const d=this.panner;if(d.positionX){const m=this.context.currentTime+this.listener.timeDelta;d.positionX.linearRampToValueAtTime(Lh.x,m),d.positionY.linearRampToValueAtTime(Lh.y,m),d.positionZ.linearRampToValueAtTime(Lh.z,m),d.orientationX.linearRampToValueAtTime(Zl.x,m),d.orientationY.linearRampToValueAtTime(Zl.y,m),d.orientationZ.linearRampToValueAtTime(Zl.z,m)}else d.setPosition(Lh.x,Lh.y,Lh.z),d.setOrientation(Zl.x,Zl.y,Zl.z)}}class WD{constructor(l,d=2048){this.analyser=l.context.createAnalyser(),this.analyser.fftSize=d,this.data=new Uint8Array(this.analyser.frequencyBinCount),l.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let l=0;const d=this.getFrequencyData();for(let m=0;m<d.length;m++)l+=d[m];return l/d.length}}class K0{constructor(l,d,m){let v,_,x;switch(this.binding=l,this.valueSize=m,d){case"quaternion":v=this._slerp,_=this._slerpAdditive,x=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*m),this._workIndex=5;break;case"string":case"bool":v=this._select,_=this._select,x=this._setAdditiveIdentityOther,this.buffer=new Array(5*m);break;default:v=this._lerp,_=this._lerpAdditive,x=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*m)}this._mixBufferRegion=v,this._mixBufferRegionAdditive=_,this._setIdentity=x,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(l,d){const m=this.buffer,v=this.valueSize,_=l*v+v;let x=this.cumulativeWeight;if(0===x){for(let D=0;D!==v;++D)m[_+D]=m[D];x=d}else x+=d,this._mixBufferRegion(m,_,0,d/x,v);this.cumulativeWeight=x}accumulateAdditive(l){const d=this.buffer,m=this.valueSize,v=m*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(d,v,0,l,m),this.cumulativeWeightAdditive+=l}apply(l){const d=this.valueSize,m=this.buffer,v=l*d+d,_=this.cumulativeWeight,x=this.cumulativeWeightAdditive,D=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,_<1&&this._mixBufferRegion(m,v,d*this._origIndex,1-_,d),x>0&&this._mixBufferRegionAdditive(m,v,this._addIndex*d,1,d);for(let k=d,O=d+d;k!==O;++k)if(m[k]!==m[k+d]){D.setValue(m,v);break}}saveOriginalState(){const d=this.buffer,m=this.valueSize,v=m*this._origIndex;this.binding.getValue(d,v);for(let _=m,x=v;_!==x;++_)d[_]=d[v+_%m];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const l=this._addIndex*this.valueSize,d=l+this.valueSize;for(let m=l;m<d;m++)this.buffer[m]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const l=this._origIndex*this.valueSize,d=this._addIndex*this.valueSize;for(let m=0;m<this.valueSize;m++)this.buffer[d+m]=this.buffer[l+m]}_select(l,d,m,v,_){if(v>=.5)for(let x=0;x!==_;++x)l[d+x]=l[m+x]}_slerp(l,d,m,v){br.slerpFlat(l,d,l,d,l,m,v)}_slerpAdditive(l,d,m,v,_){const x=this._workIndex*_;br.multiplyQuaternionsFlat(l,x,l,d,l,m),br.slerpFlat(l,d,l,d,l,x,v)}_lerp(l,d,m,v,_){const x=1-v;for(let D=0;D!==_;++D){const k=d+D;l[k]=l[k]*x+l[m+D]*v}}_lerpAdditive(l,d,m,v,_){for(let x=0;x!==_;++x){const D=d+x;l[D]=l[D]+l[m+x]*v}}}const oE="\\[\\]\\.:\\/",YD=new RegExp("["+oE+"]","g"),sE="[^"+oE+"]",yF="[^"+oE.replace("\\.","")+"]",Z0=/((?:WC+[\/:])*)/.source.replace("WC",sE),Jg=/(WCOD+)?/.source.replace("WCOD",yF),aE=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",sE),Qg=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",sE),q0=new RegExp("^"+Z0+Jg+aE+Qg+"$"),R_=["material","materials","bones"];function GD(h,l,d){const m=d||Za.parseTrackName(l);this._targetGroup=h,this._bindings=h.subscribe_(l,m)}function Za(h,l,d){this.path=l,this.parsedPath=d||Za.parseTrackName(l),this.node=Za.findNode(h,this.parsedPath.nodeName)||h,this.rootNode=h}Object.assign(GD.prototype,{getValue:function(h,l){this.bind();const m=this._bindings[this._targetGroup.nCachedObjects_];void 0!==m&&m.getValue(h,l)},setValue:function(h,l){const d=this._bindings;for(let m=this._targetGroup.nCachedObjects_,v=d.length;m!==v;++m)d[m].setValue(h,l)},bind:function(){const h=this._bindings;for(let l=this._targetGroup.nCachedObjects_,d=h.length;l!==d;++l)h[l].bind()},unbind:function(){const h=this._bindings;for(let l=this._targetGroup.nCachedObjects_,d=h.length;l!==d;++l)h[l].unbind()}}),Object.assign(Za,{Composite:GD,create:function(h,l,d){return h&&h.isAnimationObjectGroup?new Za.Composite(h,l,d):new Za(h,l,d)},sanitizeNodeName:function(h){return h.replace(/\s/g,"_").replace(YD,"")},parseTrackName:function(h){const l=q0.exec(h);if(!l)throw new Error("PropertyBinding: Cannot parse trackName: "+h);const d={nodeName:l[2],objectName:l[3],objectIndex:l[4],propertyName:l[5],propertyIndex:l[6]},m=d.nodeName&&d.nodeName.lastIndexOf(".");if(void 0!==m&&-1!==m){const v=d.nodeName.substring(m+1);-1!==R_.indexOf(v)&&(d.nodeName=d.nodeName.substring(0,m),d.objectName=v)}if(null===d.propertyName||0===d.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+h);return d},findNode:function(h,l){if(!l||""===l||"."===l||-1===l||l===h.name||l===h.uuid)return h;if(h.skeleton){const d=h.skeleton.getBoneByName(l);if(void 0!==d)return d}if(h.children){const d=function(v){for(let _=0;_<v.length;_++){const x=v[_];if(x.name===l||x.uuid===l)return x;const D=d(x.children);if(D)return D}return null},m=d(h.children);if(m)return m}return null}}),Object.assign(Za.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(l,d){l[d]=this.node[this.propertyName]},function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)l[d++]=m[v]},function(l,d){l[d]=this.resolvedProperty[this.propertyIndex]},function(l,d){this.resolvedProperty.toArray(l,d)}],SetterByBindingTypeAndVersioning:[[function(l,d){this.targetObject[this.propertyName]=l[d]},function(l,d){this.targetObject[this.propertyName]=l[d],this.targetObject.needsUpdate=!0},function(l,d){this.targetObject[this.propertyName]=l[d],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)m[v]=l[d++]},function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)m[v]=l[d++];this.targetObject.needsUpdate=!0},function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)m[v]=l[d++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){this.resolvedProperty[this.propertyIndex]=l[d]},function(l,d){this.resolvedProperty[this.propertyIndex]=l[d],this.targetObject.needsUpdate=!0},function(l,d){this.resolvedProperty[this.propertyIndex]=l[d],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){this.resolvedProperty.fromArray(l,d)},function(l,d){this.resolvedProperty.fromArray(l,d),this.targetObject.needsUpdate=!0},function(l,d){this.resolvedProperty.fromArray(l,d),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(l,d){this.bind(),this.getValue(l,d)},setValue:function(l,d){this.bind(),this.setValue(l,d)},bind:function(){let h=this.node;const l=this.parsedPath,d=l.objectName,m=l.propertyName;let v=l.propertyIndex;if(h||(h=Za.findNode(this.rootNode,l.nodeName)||this.rootNode,this.node=h),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!h)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(d){let k=l.objectIndex;switch(d){case"materials":if(!h.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!h.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);h=h.material.materials;break;case"bones":if(!h.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);h=h.skeleton.bones;for(let O=0;O<h.length;O++)if(h[O].name===k){k=O;break}break;default:if(void 0===h[d])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);h=h[d]}if(void 0!==k){if(void 0===h[k])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,h);h=h[k]}}const _=h[m];if(void 0===_)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+l.nodeName+"."+m+" but it wasn't found.",h);let x=this.Versioning.None;this.targetObject=h,void 0!==h.needsUpdate?x=this.Versioning.NeedsUpdate:void 0!==h.matrixWorldNeedsUpdate&&(x=this.Versioning.MatrixWorldNeedsUpdate);let D=this.BindingType.Direct;if(void 0!==v){if("morphTargetInfluences"===m){if(!h.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!h.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!h.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==h.morphTargetDictionary[v]&&(v=h.morphTargetDictionary[v])}D=this.BindingType.ArrayElement,this.resolvedProperty=_,this.propertyIndex=v}else void 0!==_.fromArray&&void 0!==_.toArray?(D=this.BindingType.HasFromToArray,this.resolvedProperty=_):Array.isArray(_)?(D=this.BindingType.EntireArray,this.resolvedProperty=_):this.propertyName=m;this.getValue=this.GetterByBindingType[D],this.setValue=this.SetterByBindingTypeAndVersioning[D][x]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Za.prototype,{_getValue_unbound:Za.prototype.getValue,_setValue_unbound:Za.prototype.setValue});class lE{constructor(){this.uuid=Er.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const l={};this._indicesByUUID=l;for(let m=0,v=arguments.length;m!==v;++m)l[arguments[m].uuid]=m;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const d=this;this.stats={objects:{get total(){return d._objects.length},get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}add(){const l=this._objects,d=this._indicesByUUID,m=this._paths,v=this._parsedPaths,_=this._bindings,x=_.length;let D,k=l.length,O=this.nCachedObjects_;for(let z=0,H=arguments.length;z!==H;++z){const V=arguments[z],W=V.uuid;let q=d[W];if(void 0===q){q=k++,d[W]=q,l.push(V);for(let G=0,ne=x;G!==ne;++G)_[G].push(new Za(V,m[G],v[G]))}else if(q<O){D=l[q];const G=--O,ne=l[G];d[ne.uuid]=q,l[q]=ne,d[W]=G,l[G]=V;for(let ie=0,X=x;ie!==X;++ie){const Ee=_[ie];let He=Ee[q];Ee[q]=Ee[G],void 0===He&&(He=new Za(V,m[ie],v[ie])),Ee[G]=He}}else l[q]!==D&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=O}remove(){const l=this._objects,d=this._indicesByUUID,m=this._bindings,v=m.length;let _=this.nCachedObjects_;for(let x=0,D=arguments.length;x!==D;++x){const k=arguments[x],O=k.uuid,z=d[O];if(void 0!==z&&z>=_){const H=_++,V=l[H];d[V.uuid]=z,l[z]=V,d[O]=H,l[H]=k;for(let W=0,q=v;W!==q;++W){const G=m[W],ie=G[z];G[z]=G[H],G[H]=ie}}}this.nCachedObjects_=_}uncache(){const l=this._objects,d=this._indicesByUUID,m=this._bindings,v=m.length;let _=this.nCachedObjects_,x=l.length;for(let D=0,k=arguments.length;D!==k;++D){const z=arguments[D].uuid,H=d[z];if(void 0!==H)if(delete d[z],H<_){const V=--_,W=l[V],q=--x,G=l[q];d[W.uuid]=H,l[H]=W,d[G.uuid]=V,l[V]=G,l.pop();for(let ne=0,ie=v;ne!==ie;++ne){const X=m[ne],Me=X[q];X[H]=X[V],X[V]=Me,X.pop()}}else{const V=--x,W=l[V];V>0&&(d[W.uuid]=H),l[H]=W,l.pop();for(let q=0,G=v;q!==G;++q){const ne=m[q];ne[H]=ne[V],ne.pop()}}}this.nCachedObjects_=_}subscribe_(l,d){const m=this._bindingsIndicesByPath;let v=m[l];const _=this._bindings;if(void 0!==v)return _[v];const x=this._paths,D=this._parsedPaths,k=this._objects,z=this.nCachedObjects_,H=new Array(k.length);v=_.length,m[l]=v,x.push(l),D.push(d),_.push(H);for(let V=z,W=k.length;V!==W;++V)H[V]=new Za(k[V],l,d);return H}unsubscribe_(l){const d=this._bindingsIndicesByPath,m=d[l];if(void 0!==m){const v=this._paths,_=this._parsedPaths,x=this._bindings,D=x.length-1,k=x[D];d[l[D]]=m,x[m]=k,x.pop(),_[m]=_[D],_.pop(),v[m]=v[D],v.pop()}}}lE.prototype.isAnimationObjectGroup=!0;class uE{constructor(l,d,m=null,v=d.blendMode){this._mixer=l,this._clip=d,this._localRoot=m,this.blendMode=v;const _=d.tracks,x=_.length,D=new Array(x),k={endingStart:Sa,endingEnd:Sa};for(let O=0;O!==x;++O){const z=_[O].createInterpolant(null);D[O]=z,z.settings=k}this._interpolantSettings=k,this._interpolants=D,this._propertyBindings=new Array(x),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=mp,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(l){return this._startTime=l,this}setLoop(l,d){return this.loop=l,this.repetitions=d,this}setEffectiveWeight(l){return this.weight=l,this._effectiveWeight=this.enabled?l:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(l){return this._scheduleFading(l,0,1)}fadeOut(l){return this._scheduleFading(l,1,0)}crossFadeFrom(l,d,m){if(l.fadeOut(d),this.fadeIn(d),m){const v=this._clip.duration,_=l._clip.duration,D=v/_;l.warp(1,_/v,d),this.warp(D,1,d)}return this}crossFadeTo(l,d,m){return l.crossFadeFrom(this,d,m)}stopFading(){const l=this._weightInterpolant;return null!==l&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(l)),this}setEffectiveTimeScale(l){return this.timeScale=l,this._effectiveTimeScale=this.paused?0:l,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(l){return this.timeScale=this._clip.duration/l,this.stopWarping()}syncWith(l){return this.time=l.time,this.timeScale=l.timeScale,this.stopWarping()}halt(l){return this.warp(this._effectiveTimeScale,0,l)}warp(l,d,m){const v=this._mixer,_=v.time,x=this.timeScale;let D=this._timeScaleInterpolant;null===D&&(D=v._lendControlInterpolant(),this._timeScaleInterpolant=D);const k=D.parameterPositions,O=D.sampleValues;return k[0]=_,k[1]=_+m,O[0]=l/x,O[1]=d/x,this}stopWarping(){const l=this._timeScaleInterpolant;return null!==l&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(l)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(l,d,m,v){if(!this.enabled)return void this._updateWeight(l);const _=this._startTime;if(null!==_){const k=(l-_)*m;if(k<0||0===m)return;this._startTime=null,d=m*k}d*=this._updateTimeScale(l);const x=this._updateTime(d),D=this._updateWeight(l);if(D>0){const k=this._interpolants,O=this._propertyBindings;if(this.blendMode===vp)for(let z=0,H=k.length;z!==H;++z)k[z].evaluate(x),O[z].accumulateAdditive(D);else for(let z=0,H=k.length;z!==H;++z)k[z].evaluate(x),O[z].accumulate(v,D)}}_updateWeight(l){let d=0;if(this.enabled){d=this.weight;const m=this._weightInterpolant;if(null!==m){const v=m.evaluate(l)[0];d*=v,l>m.parameterPositions[1]&&(this.stopFading(),0===v&&(this.enabled=!1))}}return this._effectiveWeight=d,d}_updateTimeScale(l){let d=0;if(!this.paused){d=this.timeScale;const m=this._timeScaleInterpolant;null!==m&&(d*=m.evaluate(l)[0],l>m.parameterPositions[1]&&(this.stopWarping(),0===d?this.paused=!0:this.timeScale=d))}return this._effectiveTimeScale=d,d}_updateTime(l){const d=this._clip.duration,m=this.loop;let v=this.time+l,_=this._loopCount;const x=m===gp;if(0===l)return-1===_?v:x&&1==(1&_)?d-v:v;if(m===Fl){-1===_&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(v>=d)v=d;else{if(!(v<0)){this.time=v;break e}v=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=v,this._mixer.dispatchEvent({type:"finished",action:this,direction:l<0?-1:1})}}else{if(-1===_&&(l>=0?(_=0,this._setEndings(!0,0===this.repetitions,x)):this._setEndings(0===this.repetitions,!0,x)),v>=d||v<0){const D=Math.floor(v/d);v-=d*D,_+=Math.abs(D);const k=this.repetitions-_;if(k<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,v=l>0?d:0,this.time=v,this._mixer.dispatchEvent({type:"finished",action:this,direction:l>0?1:-1});else{if(1===k){const O=l<0;this._setEndings(O,!O,x)}else this._setEndings(!1,!1,x);this._loopCount=_,this.time=v,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:D})}}else this.time=v;if(x&&1==(1&_))return d-v}return v}_setEndings(l,d,m){const v=this._interpolantSettings;m?(v.endingStart=Sc,v.endingEnd=Sc):(v.endingStart=l?this.zeroSlopeAtStart?Sc:Sa:ff,v.endingEnd=d?this.zeroSlopeAtEnd?Sc:Sa:ff)}_scheduleFading(l,d,m){const v=this._mixer,_=v.time;let x=this._weightInterpolant;null===x&&(x=v._lendControlInterpolant(),this._weightInterpolant=x);const D=x.parameterPositions,k=x.sampleValues;return D[0]=_,k[0]=d,D[1]=_+l,k[1]=m,this}}class J0 extends zi{constructor(l){super(),this._root=l,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(l,d){const m=l._localRoot||this._root,v=l._clip.tracks,_=v.length,x=l._propertyBindings,D=l._interpolants,k=m.uuid,O=this._bindingsByRootAndName;let z=O[k];void 0===z&&(z={},O[k]=z);for(let H=0;H!==_;++H){const V=v[H],W=V.name;let q=z[W];if(void 0!==q)x[H]=q;else{if(q=x[H],void 0!==q){null===q._cacheIndex&&(++q.referenceCount,this._addInactiveBinding(q,k,W));continue}q=new K0(Za.create(m,W,d&&d._propertyBindings[H].binding.parsedPath),V.ValueTypeName,V.getValueSize()),++q.referenceCount,this._addInactiveBinding(q,k,W),x[H]=q}D[H].resultBuffer=q.buffer}}_activateAction(l){if(!this._isActiveAction(l)){if(null===l._cacheIndex){const m=(l._localRoot||this._root).uuid,v=l._clip.uuid,_=this._actionsByClip[v];this._bindAction(l,_&&_.knownActions[0]),this._addInactiveAction(l,v,m)}const d=l._propertyBindings;for(let m=0,v=d.length;m!==v;++m){const _=d[m];0==_.useCount++&&(this._lendBinding(_),_.saveOriginalState())}this._lendAction(l)}}_deactivateAction(l){if(this._isActiveAction(l)){const d=l._propertyBindings;for(let m=0,v=d.length;m!==v;++m){const _=d[m];0==--_.useCount&&(_.restoreOriginalState(),this._takeBackBinding(_))}this._takeBackAction(l)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const l=this;this.stats={actions:{get total(){return l._actions.length},get inUse(){return l._nActiveActions}},bindings:{get total(){return l._bindings.length},get inUse(){return l._nActiveBindings}},controlInterpolants:{get total(){return l._controlInterpolants.length},get inUse(){return l._nActiveControlInterpolants}}}}_isActiveAction(l){const d=l._cacheIndex;return null!==d&&d<this._nActiveActions}_addInactiveAction(l,d,m){const v=this._actions,_=this._actionsByClip;let x=_[d];if(void 0===x)x={knownActions:[l],actionByRoot:{}},l._byClipCacheIndex=0,_[d]=x;else{const D=x.knownActions;l._byClipCacheIndex=D.length,D.push(l)}l._cacheIndex=v.length,v.push(l),x.actionByRoot[m]=l}_removeInactiveAction(l){const d=this._actions,m=d[d.length-1],v=l._cacheIndex;m._cacheIndex=v,d[v]=m,d.pop(),l._cacheIndex=null;const _=l._clip.uuid,x=this._actionsByClip,D=x[_],k=D.knownActions,O=k[k.length-1],z=l._byClipCacheIndex;O._byClipCacheIndex=z,k[z]=O,k.pop(),l._byClipCacheIndex=null,delete D.actionByRoot[(l._localRoot||this._root).uuid],0===k.length&&delete x[_],this._removeInactiveBindingsForAction(l)}_removeInactiveBindingsForAction(l){const d=l._propertyBindings;for(let m=0,v=d.length;m!==v;++m){const _=d[m];0==--_.referenceCount&&this._removeInactiveBinding(_)}}_lendAction(l){const d=this._actions,m=l._cacheIndex,v=this._nActiveActions++,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_takeBackAction(l){const d=this._actions,m=l._cacheIndex,v=--this._nActiveActions,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_addInactiveBinding(l,d,m){const v=this._bindingsByRootAndName,_=this._bindings;let x=v[d];void 0===x&&(x={},v[d]=x),x[m]=l,l._cacheIndex=_.length,_.push(l)}_removeInactiveBinding(l){const d=this._bindings,m=l.binding,v=m.rootNode.uuid,_=m.path,x=this._bindingsByRootAndName,D=x[v],k=d[d.length-1],O=l._cacheIndex;k._cacheIndex=O,d[O]=k,d.pop(),delete D[_],0===Object.keys(D).length&&delete x[v]}_lendBinding(l){const d=this._bindings,m=l._cacheIndex,v=this._nActiveBindings++,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_takeBackBinding(l){const d=this._bindings,m=l._cacheIndex,v=--this._nActiveBindings,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_lendControlInterpolant(){const l=this._controlInterpolants,d=this._nActiveControlInterpolants++;let m=l[d];return void 0===m&&(m=new p_(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),m.__cacheIndex=d,l[d]=m),m}_takeBackControlInterpolant(l){const d=this._controlInterpolants,m=l.__cacheIndex,v=--this._nActiveControlInterpolants,_=d[v];l.__cacheIndex=v,d[v]=l,_.__cacheIndex=m,d[m]=_}clipAction(l,d,m){const v=d||this._root,_=v.uuid;let x="string"==typeof l?v_.findByName(v,l):l;const D=null!==x?x.uuid:l,k=this._actionsByClip[D];let O=null;if(void 0===m&&(m=null!==x?x.blendMode:hn),void 0!==k){const H=k.actionByRoot[_];if(void 0!==H&&H.blendMode===m)return H;O=k.knownActions[0],null===x&&(x=O._clip)}if(null===x)return null;const z=new uE(this,x,d,m);return this._bindAction(z,O),this._addInactiveAction(z,D,_),z}existingAction(l,d){const m=d||this._root,v=m.uuid,_="string"==typeof l?v_.findByName(m,l):l,D=this._actionsByClip[_?_.uuid:l];return void 0!==D&&D.actionByRoot[v]||null}stopAllAction(){const l=this._actions;for(let m=this._nActiveActions-1;m>=0;--m)l[m].stop();return this}update(l){const d=this._actions,m=this._nActiveActions,v=this.time+=l*=this.timeScale,_=Math.sign(l),x=this._accuIndex^=1;for(let O=0;O!==m;++O)d[O]._update(v,l,_,x);const D=this._bindings,k=this._nActiveBindings;for(let O=0;O!==k;++O)D[O].apply(x);return this}setTime(l){this.time=0;for(let d=0;d<this._actions.length;d++)this._actions[d].time=0;return this.update(l)}getRoot(){return this._root}uncacheClip(l){const d=this._actions,m=l.uuid,v=this._actionsByClip,_=v[m];if(void 0!==_){const x=_.knownActions;for(let D=0,k=x.length;D!==k;++D){const O=x[D];this._deactivateAction(O);const z=O._cacheIndex,H=d[d.length-1];O._cacheIndex=null,O._byClipCacheIndex=null,H._cacheIndex=z,d[z]=H,d.pop(),this._removeInactiveBindingsForAction(O)}delete v[m]}}uncacheRoot(l){const d=l.uuid,m=this._actionsByClip;for(const x in m){const k=m[x].actionByRoot[d];void 0!==k&&(this._deactivateAction(k),this._removeInactiveAction(k))}const _=this._bindingsByRootAndName[d];if(void 0!==_)for(const x in _){const D=_[x];D.restoreOriginalState(),this._removeInactiveBinding(D)}}uncacheAction(l,d){const m=this.existingAction(l,d);null!==m&&(this._deactivateAction(m),this._removeInactiveAction(m))}}J0.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class D_{constructor(l){"string"==typeof l&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),l=arguments[1]),this.value=l}clone(){return new D_(void 0===this.value.clone?this.value:this.value.clone())}}function A_(h,l,d){Gl.call(this,h,l),this.meshPerAttribute=d||1}function cE(h,l,d,m,v){this.buffer=h,this.type=l,this.itemSize=d,this.elementSize=m,this.count=v,this.version=0}function $D(h,l,d=0,m=1/0){this.ray=new pd(h,l),this.near=d,this.far=m,this.camera=null,this.layers=new Nw,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function XD(h,l){return h.distance-l.distance}function Q0(h,l,d,m){if(h.layers.test(l.layers)&&h.raycast(l,d),!0===m){const v=h.children;for(let _=0,x=v.length;_<x;_++)Q0(v[_],l,d,!0)}}A_.prototype=Object.assign(Object.create(Gl.prototype),{constructor:A_,isInstancedInterleavedBuffer:!0,copy:function(h){return Gl.prototype.copy.call(this,h),this.meshPerAttribute=h.meshPerAttribute,this},clone:function(h){const l=Gl.prototype.clone.call(this,h);return l.meshPerAttribute=this.meshPerAttribute,l},toJSON:function(h){const l=Gl.prototype.toJSON.call(this,h);return l.isInstancedInterleavedBuffer=!0,l.meshPerAttribute=this.meshPerAttribute,l}}),Object.defineProperty(cE.prototype,"needsUpdate",{set:function(h){!0===h&&this.version++}}),Object.assign(cE.prototype,{isGLBufferAttribute:!0,setBuffer:function(h){return this.buffer=h,this},setType:function(h,l){return this.type=h,this.elementSize=l,this},setItemSize:function(h){return this.itemSize=h,this},setCount:function(h){return this.count=h,this}}),Object.assign($D.prototype,{set:function(h,l){this.ray.set(h,l)},setFromCamera:function(h,l){l&&l.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(l.matrixWorld),this.ray.direction.set(h.x,h.y,.5).unproject(l).sub(this.ray.origin).normalize(),this.camera=l):l&&l.isOrthographicCamera?(this.ray.origin.set(h.x,h.y,(l.near+l.far)/(l.near-l.far)).unproject(l),this.ray.direction.set(0,0,-1).transformDirection(l.matrixWorld),this.camera=l):console.error("THREE.Raycaster: Unsupported camera type: "+l.type)},intersectObject:function(h,l=!1,d=[]){return Q0(h,this,d,l),d.sort(XD),d},intersectObjects:function(h,l=!1,d=[]){for(let m=0,v=h.length;m<v;m++)Q0(h[m],this,d,l);return d.sort(XD),d}});class _F{constructor(l=1,d=0,m=0){return this.radius=l,this.phi=d,this.theta=m,this}set(l,d,m){return this.radius=l,this.phi=d,this.theta=m,this}copy(l){return this.radius=l.radius,this.phi=l.phi,this.theta=l.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(l){return this.setFromCartesianCoords(l.x,l.y,l.z)}setFromCartesianCoords(l,d,m){return this.radius=Math.sqrt(l*l+d*d+m*m),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(l,m),this.phi=Math.acos(Er.clamp(d/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class KD{constructor(l=1,d=0,m=0){return this.radius=l,this.theta=d,this.y=m,this}set(l,d,m){return this.radius=l,this.theta=d,this.y=m,this}copy(l){return this.radius=l.radius,this.theta=l.theta,this.y=l.y,this}setFromVector3(l){return this.setFromCartesianCoords(l.x,l.y,l.z)}setFromCartesianCoords(l,d,m){return this.radius=Math.sqrt(l*l+m*m),this.theta=Math.atan2(l,m),this.y=d,this}clone(){return(new this.constructor).copy(this)}}const dE=new vn;class ev{constructor(l=new vn(1/0,1/0),d=new vn(-1/0,-1/0)){this.min=l,this.max=d}set(l,d){return this.min.copy(l),this.max.copy(d),this}setFromPoints(l){this.makeEmpty();for(let d=0,m=l.length;d<m;d++)this.expandByPoint(l[d]);return this}setFromCenterAndSize(l,d){const m=dE.copy(d).multiplyScalar(.5);return this.min.copy(l).sub(m),this.max.copy(l).add(m),this}clone(){return(new this.constructor).copy(this)}copy(l){return this.min.copy(l.min),this.max.copy(l.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(l){return void 0===l&&(console.warn("THREE.Box2: .getCenter() target is now required"),l=new vn),this.isEmpty()?l.set(0,0):l.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(l){return void 0===l&&(console.warn("THREE.Box2: .getSize() target is now required"),l=new vn),this.isEmpty()?l.set(0,0):l.subVectors(this.max,this.min)}expandByPoint(l){return this.min.min(l),this.max.max(l),this}expandByVector(l){return this.min.sub(l),this.max.add(l),this}expandByScalar(l){return this.min.addScalar(-l),this.max.addScalar(l),this}containsPoint(l){return!(l.x<this.min.x||l.x>this.max.x||l.y<this.min.y||l.y>this.max.y)}containsBox(l){return this.min.x<=l.min.x&&l.max.x<=this.max.x&&this.min.y<=l.min.y&&l.max.y<=this.max.y}getParameter(l,d){return void 0===d&&(console.warn("THREE.Box2: .getParameter() target is now required"),d=new vn),d.set((l.x-this.min.x)/(this.max.x-this.min.x),(l.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(l){return!(l.max.x<this.min.x||l.min.x>this.max.x||l.max.y<this.min.y||l.min.y>this.max.y)}clampPoint(l,d){return void 0===d&&(console.warn("THREE.Box2: .clampPoint() target is now required"),d=new vn),d.copy(l).clamp(this.min,this.max)}distanceToPoint(l){return dE.copy(l).clamp(this.min,this.max).sub(l).length()}intersect(l){return this.min.max(l.min),this.max.min(l.max),this}union(l){return this.min.min(l.min),this.max.max(l.max),this}translate(l){return this.min.add(l),this.max.add(l),this}equals(l){return l.min.equals(this.min)&&l.max.equals(this.max)}}ev.prototype.isBox2=!0;const ql=new Se,O_=new Se;class ZD{constructor(l=new Se,d=new Se){this.start=l,this.end=d}set(l,d){return this.start.copy(l),this.end.copy(d),this}copy(l){return this.start.copy(l.start),this.end.copy(l.end),this}getCenter(l){return void 0===l&&(console.warn("THREE.Line3: .getCenter() target is now required"),l=new Se),l.addVectors(this.start,this.end).multiplyScalar(.5)}delta(l){return void 0===l&&(console.warn("THREE.Line3: .delta() target is now required"),l=new Se),l.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(l,d){return void 0===d&&(console.warn("THREE.Line3: .at() target is now required"),d=new Se),this.delta(d).multiplyScalar(l).add(this.start)}closestPointToPointParameter(l,d){ql.subVectors(l,this.start),O_.subVectors(this.end,this.start);const m=O_.dot(O_);let _=O_.dot(ql)/m;return d&&(_=Er.clamp(_,0,1)),_}closestPointToPoint(l,d,m){const v=this.closestPointToPointParameter(l,d);return void 0===m&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),m=new Se),this.delta(m).multiplyScalar(v).add(this.start)}applyMatrix4(l){return this.start.applyMatrix4(l),this.end.applyMatrix4(l),this}equals(l){return l.start.equals(this.start)&&l.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}function eM(h){$r.call(this),this.material=h,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}(eM.prototype=Object.create($r.prototype)).constructor=eM,eM.prototype.isImmediateRenderObject=!0;const qD=new Se;class fE extends $r{constructor(l,d){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=d;const m=new Fr,v=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let x=0,D=1,k=32;x<k;x++,D++){const O=x/k*Math.PI*2,z=D/k*Math.PI*2;v.push(Math.cos(O),Math.sin(O),1,Math.cos(z),Math.sin(z),1)}m.setAttribute("position",new gr(v,3));const _=new Ra({fog:!1,toneMapped:!1});this.cone=new Xa(m,_),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const l=this.light.distance?this.light.distance:1e3,d=l*Math.tan(this.light.angle);this.cone.scale.set(d,d,l),qD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(qD),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const kf=new Se,tM=new Nr,hE=new Nr;class JD extends Xa{constructor(l){const d=pE(l),m=new Fr,v=[],_=[],x=new cr(0,0,1),D=new cr(0,1,0);for(let O=0;O<d.length;O++){const z=d[O];z.parent&&z.parent.isBone&&(v.push(0,0,0),v.push(0,0,0),_.push(x.r,x.g,x.b),_.push(D.r,D.g,D.b))}m.setAttribute("position",new gr(v,3)),m.setAttribute("color",new gr(_,3)),super(m,new Ra({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=l,this.bones=d,this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(l){const d=this.bones,m=this.geometry,v=m.getAttribute("position");hE.copy(this.root.matrixWorld).invert();for(let _=0,x=0;_<d.length;_++){const D=d[_];D.parent&&D.parent.isBone&&(tM.multiplyMatrices(hE,D.matrixWorld),kf.setFromMatrixPosition(tM),v.setXYZ(x,kf.x,kf.y,kf.z),tM.multiplyMatrices(hE,D.parent.matrixWorld),kf.setFromMatrixPosition(tM),v.setXYZ(x+1,kf.x,kf.y,kf.z),x+=2)}m.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(l)}}function pE(h){const l=[];h&&h.isBone&&l.push(h);for(let d=0;d<h.children.length;d++)l.push.apply(l,pE(h.children[d]));return l}class bF extends ln{constructor(l,d,m){super(new jg(d,4,2),new Ac({wireframe:!0,fog:!1,toneMapped:!1})),this.light=l,this.light.updateMatrixWorld(),this.color=m,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const QD=new Se,eA=new cr,tA=new cr;class nA extends $r{constructor(l,d,m){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=m;const v=new R0(d);v.rotateY(.5*Math.PI),this.material=new Ac({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const _=v.getAttribute("position"),x=new Float32Array(3*_.count);v.setAttribute("color",new Xr(x,3)),this.add(new ln(v,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const l=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const d=l.geometry.getAttribute("color");eA.copy(this.light.color),tA.copy(this.light.groundColor);for(let m=0,v=d.count;m<v;m++){const _=m<v/2?eA:tA;d.setXYZ(m,_.r,_.g,_.b)}d.needsUpdate=!0}l.lookAt(QD.setFromMatrixPosition(this.light.matrixWorld).negate())}}class mE extends Xa{constructor(l=10,d=10,m=4473924,v=8947848){m=new cr(m),v=new cr(v);const _=d/2,x=l/d,D=l/2,k=[],O=[];for(let V=0,W=0,q=-D;V<=d;V++,q+=x){k.push(-D,0,q,D,0,q),k.push(q,0,-D,q,0,D);const G=V===_?m:v;G.toArray(O,W),W+=3,G.toArray(O,W),W+=3,G.toArray(O,W),W+=3,G.toArray(O,W),W+=3}const z=new Fr;z.setAttribute("position",new gr(k,3)),z.setAttribute("color",new gr(O,3)),super(z,new Ra({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}class wF extends Xa{constructor(l=10,d=16,m=8,v=64,_=4473924,x=8947848){_=new cr(_),x=new cr(x);const D=[],k=[];for(let H=0;H<=d;H++){const V=H/d*(2*Math.PI),W=Math.sin(V)*l,q=Math.cos(V)*l;D.push(0,0,0),D.push(W,0,q);const G=1&H?_:x;k.push(G.r,G.g,G.b),k.push(G.r,G.g,G.b)}for(let H=0;H<=m;H++){const V=1&H?_:x,W=l-l/m*H;for(let q=0;q<v;q++){let G=q/v*(2*Math.PI),ne=Math.sin(G)*W,ie=Math.cos(G)*W;D.push(ne,0,ie),k.push(V.r,V.g,V.b),G=(q+1)/v*(2*Math.PI),ne=Math.sin(G)*W,ie=Math.cos(G)*W,D.push(ne,0,ie),k.push(V.r,V.g,V.b)}}const O=new Fr;O.setAttribute("position",new gr(D,3)),O.setAttribute("color",new gr(k,3)),super(O,new Ra({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}}const jc=new Se,tv=new Se,rA=new Se;class MF extends $r{constructor(l,d,m){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=m,void 0===d&&(d=1);let v=new Fr;v.setAttribute("position",new gr([-d,d,0,d,d,0,d,-d,0,-d,-d,0,-d,d,0],3));const _=new Ra({fog:!1,toneMapped:!1});this.lightPlane=new Hc(v,_),this.add(this.lightPlane),v=new Fr,v.setAttribute("position",new gr([0,0,0,0,0,1],3)),this.targetLine=new Hc(v,_),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){jc.setFromMatrixPosition(this.light.matrixWorld),tv.setFromMatrixPosition(this.light.target.matrixWorld),rA.subVectors(tv,jc),this.lightPlane.lookAt(tv),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(tv),this.targetLine.scale.z=rA.length()}}const gE=new Se,Os=new No;class SF extends Xa{constructor(l){const d=new Fr,m=new Ra({color:16777215,vertexColors:!0,toneMapped:!1}),v=[],_=[],x={},D=new cr(16755200),k=new cr(16711680),O=new cr(43775),z=new cr(16777215),H=new cr(3355443);function V(q,G,ne){W(q,ne),W(G,ne)}function W(q,G){v.push(0,0,0),_.push(G.r,G.g,G.b),void 0===x[q]&&(x[q]=[]),x[q].push(v.length/3-1)}V("n1","n2",D),V("n2","n4",D),V("n4","n3",D),V("n3","n1",D),V("f1","f2",D),V("f2","f4",D),V("f4","f3",D),V("f3","f1",D),V("n1","f1",D),V("n2","f2",D),V("n3","f3",D),V("n4","f4",D),V("p","n1",k),V("p","n2",k),V("p","n3",k),V("p","n4",k),V("u1","u2",O),V("u2","u3",O),V("u3","u1",O),V("c","t",z),V("p","c",H),V("cn1","cn2",H),V("cn3","cn4",H),V("cf1","cf2",H),V("cf3","cf4",H),d.setAttribute("position",new gr(v,3)),d.setAttribute("color",new gr(_,3)),super(d,m),this.type="CameraHelper",this.camera=l,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=x,this.update()}update(){const l=this.geometry,d=this.pointMap;Os.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ks("c",d,l,Os,0,0,-1),Ks("t",d,l,Os,0,0,1),Ks("n1",d,l,Os,-1,-1,-1),Ks("n2",d,l,Os,1,-1,-1),Ks("n3",d,l,Os,-1,1,-1),Ks("n4",d,l,Os,1,1,-1),Ks("f1",d,l,Os,-1,-1,1),Ks("f2",d,l,Os,1,-1,1),Ks("f3",d,l,Os,-1,1,1),Ks("f4",d,l,Os,1,1,1),Ks("u1",d,l,Os,.7,1.1,-1),Ks("u2",d,l,Os,-.7,1.1,-1),Ks("u3",d,l,Os,0,2,-1),Ks("cf1",d,l,Os,-1,0,1),Ks("cf2",d,l,Os,1,0,1),Ks("cf3",d,l,Os,0,-1,1),Ks("cf4",d,l,Os,0,1,1),Ks("cn1",d,l,Os,-1,0,-1),Ks("cn2",d,l,Os,1,0,-1),Ks("cn3",d,l,Os,0,-1,-1),Ks("cn4",d,l,Os,0,1,-1),l.getAttribute("position").needsUpdate=!0}}function Ks(h,l,d,m,v,_,x){gE.set(v,_,x).unproject(m);const D=l[h];if(void 0!==D){const k=d.getAttribute("position");for(let O=0,z=D.length;O<z;O++)k.setXYZ(D[O],gE.x,gE.y,gE.z)}}const nM=new Vs;class rM extends Xa{constructor(l,d=16776960){const m=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),v=new Float32Array(24),_=new Fr;_.setIndex(new Xr(m,1)),_.setAttribute("position",new Xr(v,3)),super(_,new Ra({color:d,toneMapped:!1})),this.object=l,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(l){if(void 0!==l&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&nM.setFromObject(this.object),nM.isEmpty())return;const d=nM.min,m=nM.max,v=this.geometry.attributes.position,_=v.array;_[0]=m.x,_[1]=m.y,_[2]=m.z,_[3]=d.x,_[4]=m.y,_[5]=m.z,_[6]=d.x,_[7]=d.y,_[8]=m.z,_[9]=m.x,_[10]=d.y,_[11]=m.z,_[12]=m.x,_[13]=m.y,_[14]=d.z,_[15]=d.x,_[16]=m.y,_[17]=d.z,_[18]=d.x,_[19]=d.y,_[20]=d.z,_[21]=m.x,_[22]=d.y,_[23]=d.z,v.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(l){return this.object=l,this.update(),this}copy(l){return Xa.prototype.copy.call(this,l),this.object=l.object,this}}class xF extends Xa{constructor(l,d=16776960){const m=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),_=new Fr;_.setIndex(new Xr(m,1)),_.setAttribute("position",new gr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(_,new Ra({color:d,toneMapped:!1})),this.box=l,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(l){const d=this.box;d.isEmpty()||(d.getCenter(this.position),d.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(l))}}class CF extends Hc{constructor(l,d=1,m=16776960){const v=m,x=new Fr;x.setAttribute("position",new gr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),x.computeBoundingSphere(),super(x,new Ra({color:v,toneMapped:!1})),this.type="PlaneHelper",this.plane=l,this.size=d;const k=new Fr;k.setAttribute("position",new gr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),k.computeBoundingSphere(),this.add(new ln(k,new Ac({color:v,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(l){let d=-this.plane.constant;Math.abs(d)<1e-8&&(d=1e-8),this.scale.set(.5*this.size,.5*this.size,d),this.children[0].material.side=d<0?K:pe,this.lookAt(this.plane.normal),super.updateMatrixWorld(l)}}const k_=new Se;let nv,vE;class iA extends $r{constructor(l=new Se(0,0,1),d=new Se(0,0,0),m=1,v=16776960,_=.2*m,x=.2*_){super(),this.type="ArrowHelper",void 0===nv&&(nv=new Fr,nv.setAttribute("position",new gr([0,0,0,0,1,0],3)),vE=new zg(0,.5,1,5,1),vE.translate(0,-.5,0)),this.position.copy(d),this.line=new Hc(nv,new Ra({color:v,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ln(vE,new Ac({color:v,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(l),this.setLength(m,_,x)}setDirection(l){if(l.y>.99999)this.quaternion.set(0,0,0,1);else if(l.y<-.99999)this.quaternion.set(1,0,0,0);else{k_.set(l.z,0,-l.x).normalize();const d=Math.acos(l.y);this.quaternion.setFromAxisAngle(k_,d)}}setLength(l,d=.2*l,m=.2*d){this.line.scale.set(1,Math.max(1e-4,l-d),1),this.line.updateMatrix(),this.cone.scale.set(m,d,m),this.cone.position.y=l,this.cone.updateMatrix()}setColor(l){this.line.material.color.set(l),this.cone.material.color.set(l)}copy(l){return super.copy(l,!1),this.line.copy(l.line),this.cone.copy(l.cone),this}}class iM extends Xa{constructor(l=1){const d=[0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,l],v=new Fr;v.setAttribute("position",new gr(d,3)),v.setAttribute("color",new gr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(v,new Ra({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}}const yE=new Float32Array(1),E8=new Int32Array(yE.buffer),T8={toHalfFloat:function(h){yE[0]=h;const l=E8[0];let d=l>>16&32768,m=l>>12&2047;const v=l>>23&255;return v<103?d:v>142?(d|=31744,d|=(255==v?0:1)&&8388607&l,d):v<113?(m|=2048,d|=(m>>114-v)+(m>>113-v&1),d):(d|=v-112<<10|m>>1,d+=1&m,d)}},kd=Math.pow(2,8),_E=[.125,.215,.35,.446,.526,.582],bE=5+_E.length,Wc={[mn]:0,[Zn]:1,[ys]:2,[hs]:3,[dd]:4,[ur]:5,[Ni]:6},Lf=new Ac({side:K,depthWrite:!1,depthTest:!1}),If=new ln(new Ic,Lf),rv=new Xg,{_lodPlanes:Ph,_sizeLods:iv,_sigmas:oM}=D8(),sM=new cr;let aM=null;const Xp=(1+Math.sqrt(5))/2,ov=1/Xp,sv=[new Se(1,1,1),new Se(-1,1,1),new Se(1,1,-1),new Se(-1,1,-1),new Se(0,Xp,ov),new Se(0,Xp,-ov),new Se(ov,0,Xp),new Se(-ov,0,Xp),new Se(Xp,ov,0),new Se(-Xp,ov,0)];function oA(h){const l=Math.max(h.r,h.g,h.b),d=Math.min(Math.max(Math.ceil(Math.log2(l)),-128),127);return h.multiplyScalar(Math.pow(2,-d)),(d+128)/255}class R8{constructor(l){this._renderer=l,this._pingPongRenderTarget=null,this._blurMaterial=function TF(h){const l=new Float32Array(h),d=new Se(0,1,0);return new Rd({name:"SphericalGaussianBlur",defines:{n:h},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:l},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:d},inputEncoding:{value:Wc[mn]},outputEncoding:{value:Wc[mn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:Te,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(l,d=0,m=.1,v=100){aM=this._renderer.getRenderTarget();const _=this._allocateTargets();return this._sceneToCubeUV(l,m,v,_),d>0&&this._blur(_,0,0,d),this._applyPMREM(_),this._cleanup(_),_}fromEquirectangular(l){return this._fromTexture(l)}fromCubemap(l){return this._fromTexture(l)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=RF(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=aA(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let l=0;l<Ph.length;l++)Ph[l].dispose()}_cleanup(l){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(aM),l.scissorTest=!1,lM(l,0,0,l.width,l.height)}_fromTexture(l){aM=this._renderer.getRenderTarget();const d=this._allocateTargets(l);return this._textureToCubeUV(l,d),this._applyPMREM(d),this._cleanup(d),d}_allocateTargets(l){const d={magFilter:Pn,minFilter:Pn,generateMipmaps:!1,type:oa,format:Uo,encoding:(h=l,void 0===h||h.type!==oa||h.encoding!==mn&&h.encoding!==Zn&&h.encoding!==Ni?ys:l.encoding),depthBuffer:!1},m=sA(d);var h;return m.depthBuffer=!l,this._pingPongRenderTarget=sA(d),m}_compileMaterial(l){const d=new ln(Ph[0],l);this._renderer.compile(d,rv)}_sceneToCubeUV(l,d,m,v){const D=new os(90,1,d,m),k=[1,-1,1,1,1,1],O=[1,1,1,-1,-1,-1],z=this._renderer,H=z.autoClear,V=z.outputEncoding,W=z.toneMapping;z.getClearColor(sM),z.toneMapping=si,z.outputEncoding=mn,z.autoClear=!1;let q=!1;const G=l.background;if(G){if(G.isColor){Lf.color.copy(G).convertSRGBToLinear(),l.background=null;const ne=oA(Lf.color);Lf.opacity=ne,q=!0}}else{Lf.color.copy(sM).convertSRGBToLinear();const ne=oA(Lf.color);Lf.opacity=ne,q=!0}for(let ne=0;ne<6;ne++){const ie=ne%3;0==ie?(D.up.set(0,k[ne],0),D.lookAt(O[ne],0,0)):1==ie?(D.up.set(0,0,k[ne]),D.lookAt(0,O[ne],0)):(D.up.set(0,k[ne],0),D.lookAt(0,0,O[ne])),lM(v,ie*kd,ne>2?kd:0,kd,kd),z.setRenderTarget(v),q&&z.render(If,D),z.render(l,D)}z.toneMapping=W,z.outputEncoding=V,z.autoClear=H}_textureToCubeUV(l,d){const m=this._renderer;l.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=RF()):null==this._equirectShader&&(this._equirectShader=aA());const v=l.isCubeTexture?this._cubemapShader:this._equirectShader,_=new ln(Ph[0],v),x=v.uniforms;x.envMap.value=l,l.isCubeTexture||x.texelSize.value.set(1/l.image.width,1/l.image.height),x.inputEncoding.value=Wc[l.encoding],x.outputEncoding.value=Wc[d.texture.encoding],lM(d,0,0,3*kd,2*kd),m.setRenderTarget(d),m.render(_,rv)}_applyPMREM(l){const d=this._renderer,m=d.autoClear;d.autoClear=!1;for(let v=1;v<bE;v++){const _=Math.sqrt(oM[v]*oM[v]-oM[v-1]*oM[v-1]);this._blur(l,v-1,v,_,sv[(v-1)%sv.length])}d.autoClear=m}_blur(l,d,m,v,_){const x=this._pingPongRenderTarget;this._halfBlur(l,x,d,m,v,"latitudinal",_),this._halfBlur(x,l,m,m,v,"longitudinal",_)}_halfBlur(l,d,m,v,_,x,D){const k=this._renderer,O=this._blurMaterial;"latitudinal"!==x&&"longitudinal"!==x&&console.error("blur direction must be either latitudinal or longitudinal!");const H=new ln(Ph[v],O),V=O.uniforms,W=iv[m]-1,q=isFinite(_)?Math.PI/(2*W):2*Math.PI/39,G=_/q,ne=isFinite(_)?1+Math.floor(3*G):20;ne>20&&console.warn(`sigmaRadians, ${_}, is too large and will clip, as it requested ${ne} samples when the maximum is set to 20`);const ie=[];let X=0;for(let _e=0;_e<20;++_e){const et=_e/G,At=Math.exp(-et*et/2);ie.push(At),0==_e?X+=At:_e<ne&&(X+=2*At)}for(let _e=0;_e<ie.length;_e++)ie[_e]=ie[_e]/X;V.envMap.value=l.texture,V.samples.value=ne,V.weights.value=ie,V.latitudinal.value="latitudinal"===x,D&&(V.poleAxis.value=D),V.dTheta.value=q,V.mipInt.value=8-m,V.inputEncoding.value=Wc[l.texture.encoding],V.outputEncoding.value=Wc[l.texture.encoding];const Ee=iv[v];lM(d,3*Math.max(0,kd-2*Ee),(0===v?0:2*kd)+2*Ee*(v>4?v-8+4:0),3*Ee,2*Ee),k.setRenderTarget(d),k.render(H,rv)}}function D8(){const h=[],l=[],d=[];let m=8;for(let v=0;v<bE;v++){const _=Math.pow(2,m);l.push(_);let x=1/_;v>4?x=_E[v-8+4-1]:0==v&&(x=0),d.push(x);const D=1/(_-1),k=-D/2,O=1+D/2,z=[k,k,O,k,O,O,k,k,O,O,k,O],H=6,V=6,W=3,q=2,G=1,ne=new Float32Array(W*V*H),ie=new Float32Array(q*V*H),X=new Float32Array(G*V*H);for(let Me=0;Me<H;Me++){const He=Me%3*2/3-1,_e=Me>2?0:-1;ne.set([He,_e,0,He+2/3,_e,0,He+2/3,_e+1,0,He,_e,0,He+2/3,_e+1,0,He,_e+1,0],W*V*Me),ie.set(z,q*V*Me),X.set([Me,Me,Me,Me,Me,Me],G*V*Me)}const Ee=new Fr;Ee.setAttribute("position",new Xr(ne,W)),Ee.setAttribute("uv",new Xr(ie,q)),Ee.setAttribute("faceIndex",new Xr(X,G)),h.push(Ee),m>4&&m--}return{_lodPlanes:h,_sizeLods:l,_sigmas:d}}function sA(h){const l=new Xn(3*kd,3*kd,h);return l.texture.mapping=ft,l.texture.name="PMREM.cubeUv",l.scissorTest=!0,l}function lM(h,l,d,m,v){h.viewport.set(l,d,m,v),h.scissor.set(l,d,m,v)}function aA(){const h=new vn(1,1);return new Rd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:h},inputEncoding:{value:Wc[mn]},outputEncoding:{value:Wc[mn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:Te,depthTest:!1,depthWrite:!1})}function RF(){return new Rd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Wc[mn]},outputEncoding:{value:Wc[mn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:Te,depthTest:!1,depthWrite:!1})}const DF=0,wE=1,AF=0,OF=1,kF=2;function LF(h){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),h}function IF(h=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),h.isMultiMaterial=!0,h.materials=h,h.clone=function(){return h.slice()},h}function PF(h,l){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Vg(h,l)}function cM(h){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new RC(h)}function Kp(h,l){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Vg(h,l)}function A8(h){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Cf(h)}function L_(h){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Cf(h)}function NF(h){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Cf(h)}function FF(h,l,d){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Se(h,l,d)}function ME(h,l){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Xr(h,l).setUsage(xc)}function HF(h,l){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Qr(h,l)}function Ld(h,l){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new vh(h,l)}function I_(h,l){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new mg(h,l)}function pl(h,l){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Sp(h,l)}function Zp(h,l){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new yf(h,l)}function dM(h,l){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new xp(h,l)}function oc(h,l){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new _d(h,l)}function ss(h,l){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new gr(h,l)}function av(h,l){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new dn(h,l)}function lv(h){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new iM(h)}function uv(h,l){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new rM(h,l)}function cv(h,l){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Xa(new FC(h.geometry),new Ra({color:void 0!==l?l:16777215}))}function dv(h,l){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Xa(new d_(h.geometry),new Ra({color:void 0!==l?l:16777215}))}function fv(h){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Mu(h)}function hv(h){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new KC(h)}function pv(h,l,d){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new _g(h,d)}function mv(){console.error("THREE.CanvasRenderer has been removed")}function lA(){console.error("THREE.JSONLoader has been removed.")}hl.create=function(h,l){return console.log("THREE.Curve.create() has been deprecated"),h.prototype=Object.create(hl.prototype),h.prototype.constructor=h,h.prototype.getPoint=l,h},Up.prototype.fromPoints=function(h){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(h)},mE.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},JD.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Ws.prototype.extractUrlBase=function(h){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),E_.extractUrlBase(h)},Ws.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},ev.prototype.center=function(h){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(h)},ev.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ev.prototype.isIntersectionBox=function(h){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(h)},ev.prototype.size=function(h){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(h)},Vs.prototype.center=function(h){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(h)},Vs.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Vs.prototype.isIntersectionBox=function(h){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(h)},Vs.prototype.isIntersectionSphere=function(h){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(h)},Vs.prototype.size=function(h){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(h)},hd.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},wd.prototype.setFromMatrix=function(h){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(h)},ZD.prototype.center=function(h){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(h)},Er.random16=function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},Er.nearestPowerOfTwo=function(h){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Er.floorPowerOfTwo(h)},Er.nextPowerOfTwo=function(h){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Er.ceilPowerOfTwo(h)},Ts.prototype.flattenToArrayOffset=function(h,l){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(h,l)},Ts.prototype.multiplyVector3=function(h){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),h.applyMatrix3(this)},Ts.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Ts.prototype.applyToBufferAttribute=function(h){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),h.applyMatrix3(this)},Ts.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Ts.prototype.getInverse=function(h){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(h).invert()},Nr.prototype.extractPosition=function(h){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(h)},Nr.prototype.flattenToArrayOffset=function(h,l){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(h,l)},Nr.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Se).setFromMatrixColumn(this,3)},Nr.prototype.setRotationFromQuaternion=function(h){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(h)},Nr.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Nr.prototype.multiplyVector3=function(h){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),h.applyMatrix4(this)},Nr.prototype.multiplyVector4=function(h){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),h.applyMatrix4(this)},Nr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Nr.prototype.rotateAxis=function(h){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),h.transformDirection(this)},Nr.prototype.crossVector=function(h){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),h.applyMatrix4(this)},Nr.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Nr.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Nr.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Nr.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Nr.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Nr.prototype.applyToBufferAttribute=function(h){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),h.applyMatrix4(this)},Nr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Nr.prototype.makeFrustum=function(h,l,d,m,v,_){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(h,l,m,d,v,_)},Nr.prototype.getInverse=function(h){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(h).invert()},Ul.prototype.isIntersectionLine=function(h){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(h)},br.prototype.multiplyVector3=function(h){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),h.applyQuaternion(this)},br.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},pd.prototype.isIntersectionBox=function(h){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(h)},pd.prototype.isIntersectionPlane=function(h){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(h)},pd.prototype.isIntersectionSphere=function(h){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(h)},Ko.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Ko.prototype.barycoordFromPoint=function(h,l){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(h,l)},Ko.prototype.midpoint=function(h){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(h)},Ko.prototypenormal=function(h){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(h)},Ko.prototype.plane=function(h){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(h)},Ko.barycoordFromPoint=function(h,l,d,m,v){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ko.getBarycoord(h,l,d,m,v)},Ko.normal=function(h,l,d,m){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ko.getNormal(h,l,d,m)},jp.prototype.extractAllPoints=function(h){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(h)},jp.prototype.extrude=function(h){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ed(this,h)},jp.prototype.makeGeometry=function(h){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ug(this,h)},vn.prototype.fromAttribute=function(h,l,d){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(h,l,d)},vn.prototype.distanceToManhattan=function(h){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(h)},vn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Se.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Se.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Se.prototype.getPositionFromMatrix=function(h){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(h)},Se.prototype.getScaleFromMatrix=function(h){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(h)},Se.prototype.getColumnFromMatrix=function(h,l){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(l,h)},Se.prototype.applyProjection=function(h){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(h)},Se.prototype.fromAttribute=function(h,l,d){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(h,l,d)},Se.prototype.distanceToManhattan=function(h){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(h)},Se.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},wi.prototype.fromAttribute=function(h,l,d){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(h,l,d)},wi.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},$r.prototype.getChildByName=function(h){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(h)},$r.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},$r.prototype.translate=function(h,l){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(l,h)},$r.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},$r.prototype.applyMatrix=function(h){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(h)},Object.defineProperties($r.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(h){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=h}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),ln.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(ln.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),ni},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(s0.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(r_.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),n_.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(hl.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(h){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=h}}),os.prototype.setLens=function(h,l){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==l&&(this.filmGauge=l),this.setFocalLength(h)},Object.defineProperties(Su.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(h){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=h}},shadowCameraLeft:{set:function(h){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=h}},shadowCameraRight:{set:function(h){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=h}},shadowCameraTop:{set:function(h){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=h}},shadowCameraBottom:{set:function(h){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=h}},shadowCameraNear:{set:function(h){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=h}},shadowCameraFar:{set:function(h){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=h}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(h){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=h}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(h){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=h}},shadowMapHeight:{set:function(h){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=h}}}),Object.defineProperties(Xr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===xc},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(xc)}}}),Xr.prototype.setDynamic=function(h){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===h?xc:Hl),this},Xr.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Xr.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Fr.prototype.addIndex=function(h){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(h)},Fr.prototype.addAttribute=function(h,l){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),l&&l.isBufferAttribute||l&&l.isInterleavedBufferAttribute?"index"===h?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(l),this):this.setAttribute(h,l):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(h,new Xr(arguments[1],arguments[2])))},Fr.prototype.addDrawCall=function(h,l,d){void 0!==d&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(h,l)},Fr.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Fr.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Fr.prototype.removeAttribute=function(h){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(h)},Fr.prototype.applyMatrix=function(h){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(h)},Object.defineProperties(Fr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Wp.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(h){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=h}}}),Object.defineProperties($D.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(h){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=h}}}),Object.defineProperties(Gl.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===xc},set:function(h){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(h)}}}),Gl.prototype.setDynamic=function(h){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===h?xc:Hl),this},Gl.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Ed.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Ed.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Ed.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},gi.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Object.defineProperties(D_.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Po.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new cr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(h){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=h===xe}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(h){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=h}}}),Object.defineProperties(A0.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Af.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(h){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=h}}}),Object.defineProperties(As.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(h){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=h}}}),Zo.prototype.clearTarget=function(h,l,d,m){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(h),this.clear(l,d,m)},Zo.prototype.animate=function(h){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(h)},Zo.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Zo.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Zo.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Zo.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Zo.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Zo.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Zo.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Zo.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Zo.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Zo.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Zo.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Zo.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Zo.prototype.enableScissorTest=function(h){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(h)},Zo.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Zo.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Zo.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Zo.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Zo.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Zo.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Zo.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Zo.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Zo.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Zo.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Zo.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(h){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=h}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(h){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=h}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(h){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===h?Zn:mn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(nD.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Xn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(h){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=h}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(h){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=h}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(h){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=h}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(h){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=h}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(h){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=h}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(h){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=h}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(h){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=h}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(h){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=h}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(h){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=h}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(h){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=h}}}),Object.defineProperties(T_.prototype,{load:{value:function(h){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const l=this;return(new cF).load(h,function(m){l.setBuffer(m)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),WD.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},yg.prototype.updateCubeMap=function(h,l){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(h,l)},yg.prototype.clear=function(h,l,d,m){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(h,l,d,m)},$u.crossOrigin=void 0,$u.loadTexture=function(h,l,d,m){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const v=new y_;v.setCrossOrigin(this.crossOrigin);const _=v.load(h,d,void 0,m);return l&&(_.mapping=l),_},$u.loadTextureCube=function(h,l,d,m){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const v=new xD;v.setCrossOrigin(this.crossOrigin);const _=v.load(h,d,void 0,m);return l&&(_.mapping=l),_},$u.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},$u.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const uA={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function cA(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:S}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=S)},8120:function(Q){Q.exports=function(){"use strict";function ue(Ke){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ye){return typeof Ye}:function(Ye){return Ye&&"function"==typeof Symbol&&Ye.constructor===Symbol&&Ye!==Symbol.prototype?"symbol":typeof Ye})(Ke)}function b(Ke,Ye){return(b=Object.setPrototypeOf||function(gt,ft){return gt.__proto__=ft,gt})(Ke,Ye)}function L(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ke){return!1}}function S(Ke,Ye,$e){return(S=L()?Reflect.construct:function(ft,Ct,qt){var cn=[null];cn.push.apply(cn,Ct);var Pn=new(Function.bind.apply(ft,cn));return qt&&b(Pn,qt.prototype),Pn}).apply(null,arguments)}function T(Ke){return function R(Ke){if(Array.isArray(Ke))return F(Ke)}(Ke)||function A(Ke){if("undefined"!=typeof Symbol&&null!=Ke[Symbol.iterator]||null!=Ke["@@iterator"])return Array.from(Ke)}(Ke)||function N(Ke,Ye){if(Ke){if("string"==typeof Ke)return F(Ke,Ye);var $e=Object.prototype.toString.call(Ke).slice(8,-1);if("Object"===$e&&Ke.constructor&&($e=Ke.constructor.name),"Map"===$e||"Set"===$e)return Array.from(Ke);if("Arguments"===$e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($e))return F(Ke,Ye)}}(Ke)||function Y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(Ke,Ye){(null==Ye||Ye>Ke.length)&&(Ye=Ke.length);for(var $e=0,gt=new Array(Ye);$e<Ye;$e++)gt[$e]=Ke[$e];return gt}var te=Object.hasOwnProperty,oe=Object.setPrototypeOf,ae=Object.isFrozen,de=Object.getPrototypeOf,pe=Object.getOwnPropertyDescriptor,K=Object.freeze,ce=Object.seal,xe=Object.create,Pe="undefined"!=typeof Reflect&&Reflect,Te=Pe.apply,ze=Pe.construct;Te||(Te=function(Ye,$e,gt){return Ye.apply($e,gt)}),K||(K=function(Ye){return Ye}),ce||(ce=function(Ye){return Ye}),ze||(ze=function(Ye,$e){return S(Ye,T($e))});var rt=Gt(Array.prototype.forEach),Ue=Gt(Array.prototype.pop),Re=Gt(Array.prototype.push),Ge=Gt(String.prototype.toLowerCase),ut=Gt(String.prototype.match),tt=Gt(String.prototype.replace),mt=Gt(String.prototype.indexOf),kt=Gt(String.prototype.trim),Ht=Gt(RegExp.prototype.test),Wt=function Xt(Ke){return function(){for(var Ye=arguments.length,$e=new Array(Ye),gt=0;gt<Ye;gt++)$e[gt]=arguments[gt];return ze(Ke,$e)}}(TypeError);function Gt(Ke){return function(Ye){for(var $e=arguments.length,gt=new Array($e>1?$e-1:0),ft=1;ft<$e;ft++)gt[ft-1]=arguments[ft];return Te(Ke,Ye,gt)}}function Pt(Ke,Ye,$e){$e=$e||Ge,oe&&oe(Ke,null);for(var gt=Ye.length;gt--;){var ft=Ye[gt];if("string"==typeof ft){var Ct=$e(ft);Ct!==ft&&(ae(Ye)||(Ye[gt]=Ct),ft=Ct)}Ke[ft]=!0}return Ke}function Oe(Ke){var $e,Ye=xe(null);for($e in Ke)Te(te,Ke,[$e])&&(Ye[$e]=Ke[$e]);return Ye}function me(Ke,Ye){for(;null!==Ke;){var $e=pe(Ke,Ye);if($e){if($e.get)return Gt($e.get);if("function"==typeof $e.value)return Gt($e.value)}Ke=de(Ke)}return function gt(ft){return console.warn("fallback value for",ft),null}}var dt=K(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Dt=K(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Yt=K(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yn=K(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),wn=K(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Nt=K(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$n=K(["#text"]),Vn=K(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Un=K(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kn=K(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_r=K(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),En=ce(/\{\{[\w\W]*|[\w\W]*\}\}/gm),tn=ce(/<%[\w\W]*|[\w\W]*%>/gm),Wr=ce(/^data-[\-\w.\u00B7-\uFFFF]/),fi=ce(/^aria-[\-\w]+$/),hi=ce(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),si=ce(/^(?:\w+script|data):/i),lr=ce(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ye=ce(/^html$/i),Ne=function(){return"undefined"==typeof window?null:window},qe=function(Ye,$e){if("object"!==ue(Ye)||"function"!=typeof Ye.createPolicy)return null;var gt=null,ft="data-tt-policy-suffix";$e.currentScript&&$e.currentScript.hasAttribute(ft)&&(gt=$e.currentScript.getAttribute(ft));var Ct="dompurify"+(gt?"#"+gt:"");try{return Ye.createPolicy(Ct,{createHTML:function(cn){return cn},createScriptURL:function(cn){return cn}})}catch(qt){return console.warn("TrustedTypes policy "+Ct+" could not be created."),null}};return function bt(){var Ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne(),Ye=function(Et){return bt(Et)};if(Ye.version="2.4.0",Ye.removed=[],!Ke||!Ke.document||9!==Ke.document.nodeType)return Ye.isSupported=!1,Ye;var $e=Ke.document,gt=Ke.document,ft=Ke.DocumentFragment,Ct=Ke.HTMLTemplateElement,qt=Ke.Node,cn=Ke.Element,Mn=Ke.NodeFilter,Pn=Ke.NamedNodeMap,yr=void 0===Pn?Ke.NamedNodeMap||Ke.MozNamedAttrMap:Pn,ti=Ke.HTMLFormElement,ri=Ke.DOMParser,ai=Ke.trustedTypes,Ri=cn.prototype,su=me(Ri,"cloneNode"),kl=me(Ri,"nextSibling"),Gi=me(Ri,"childNodes"),ia=me(Ri,"parentNode");if("function"==typeof Ct){var oa=gt.createElement("template");oa.content&&oa.content.ownerDocument&&(gt=oa.content.ownerDocument)}var Mo=qe(ai,$e),ds=Mo?Mo.createHTML(""):"",Ll=gt.implementation,au=gt.createNodeIterator,Il=gt.createDocumentFragment,fs=gt.getElementsByTagName,og=$e.importNode,bc={};try{bc=Oe(gt).documentMode?gt.documentMode:{}}catch(Ar){}var wa={};Ye.isSupported="function"==typeof ia&&Ll&&void 0!==Ll.createHTMLDocument&&9!==bc;var ki,Es,Jn=En,nf=tn,Uu=Wr,Wo=fi,rl=si,go=lr,Uo=hi,So=null,vo=Pt({},[].concat(T(dt),T(Dt),T(Yt),T(wn),T($n))),Yo=null,il=Pt({},[].concat(T(Vn),T(Un),T(kn),T(_r))),bi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fs=null,za=null,Ua=!0,rf=!0,sf=!1,lu=!1,xo=!1,ju=!1,af=!1,uu=!1,Wu=!1,lf=!1,uh=!0,$o=!1,wc="user-content-",uf=!0,Yu=!1,qi={},Pl=null,Co=Pt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),cf=null,fp=Pt({},["audio","video","img","source","image","track"]),no=null,Vr=Pt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mc="http://www.w3.org/1998/Math/MathML",hp="http://www.w3.org/2000/svg",sn="http://www.w3.org/1999/xhtml",ol=sn,Kr=!1,ud=["application/xhtml+xml","text/html"],cu="text/html",Nl=null,Ma=gt.createElement("form"),sg=function(Et){return Et instanceof RegExp||Et instanceof Function},ch=function(Et){Nl&&Nl===Et||((!Et||"object"!==ue(Et))&&(Et={}),Et=Oe(Et),ki=ki=-1===ud.indexOf(Et.PARSER_MEDIA_TYPE)?cu:Et.PARSER_MEDIA_TYPE,Es="application/xhtml+xml"===ki?function(mn){return mn}:Ge,So="ALLOWED_TAGS"in Et?Pt({},Et.ALLOWED_TAGS,Es):vo,Yo="ALLOWED_ATTR"in Et?Pt({},Et.ALLOWED_ATTR,Es):il,no="ADD_URI_SAFE_ATTR"in Et?Pt(Oe(Vr),Et.ADD_URI_SAFE_ATTR,Es):Vr,cf="ADD_DATA_URI_TAGS"in Et?Pt(Oe(fp),Et.ADD_DATA_URI_TAGS,Es):fp,Pl="FORBID_CONTENTS"in Et?Pt({},Et.FORBID_CONTENTS,Es):Co,Fs="FORBID_TAGS"in Et?Pt({},Et.FORBID_TAGS,Es):{},za="FORBID_ATTR"in Et?Pt({},Et.FORBID_ATTR,Es):{},qi="USE_PROFILES"in Et&&Et.USE_PROFILES,Ua=!1!==Et.ALLOW_ARIA_ATTR,rf=!1!==Et.ALLOW_DATA_ATTR,sf=Et.ALLOW_UNKNOWN_PROTOCOLS||!1,lu=Et.SAFE_FOR_TEMPLATES||!1,xo=Et.WHOLE_DOCUMENT||!1,uu=Et.RETURN_DOM||!1,Wu=Et.RETURN_DOM_FRAGMENT||!1,lf=Et.RETURN_TRUSTED_TYPE||!1,af=Et.FORCE_BODY||!1,uh=!1!==Et.SANITIZE_DOM,$o=Et.SANITIZE_NAMED_PROPS||!1,uf=!1!==Et.KEEP_CONTENT,Yu=Et.IN_PLACE||!1,Uo=Et.ALLOWED_URI_REGEXP||Uo,ol=Et.NAMESPACE||sn,Et.CUSTOM_ELEMENT_HANDLING&&sg(Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bi.tagNameCheck=Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&sg(Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bi.attributeNameCheck=Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(bi.allowCustomizedBuiltInElements=Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),lu&&(rf=!1),Wu&&(uu=!0),qi&&(So=Pt({},T($n)),Yo=[],!0===qi.html&&(Pt(So,dt),Pt(Yo,Vn)),!0===qi.svg&&(Pt(So,Dt),Pt(Yo,Un),Pt(Yo,_r)),!0===qi.svgFilters&&(Pt(So,Yt),Pt(Yo,Un),Pt(Yo,_r)),!0===qi.mathMl&&(Pt(So,wn),Pt(Yo,kn),Pt(Yo,_r))),Et.ADD_TAGS&&(So===vo&&(So=Oe(So)),Pt(So,Et.ADD_TAGS,Es)),Et.ADD_ATTR&&(Yo===il&&(Yo=Oe(Yo)),Pt(Yo,Et.ADD_ATTR,Es)),Et.ADD_URI_SAFE_ATTR&&Pt(no,Et.ADD_URI_SAFE_ATTR,Es),Et.FORBID_CONTENTS&&(Pl===Co&&(Pl=Oe(Pl)),Pt(Pl,Et.FORBID_CONTENTS,Es)),uf&&(So["#text"]=!0),xo&&Pt(So,["html","head","body"]),So.table&&(Pt(So,["tbody"]),delete Fs.tbody),K&&K(Et),Nl=Et)},ag=Pt({},["mi","mo","mn","ms","mtext"]),Ml=Pt({},["foreignobject","desc","title","annotation-xml"]),Sy=Pt({},["title","style","font","a","script"]),cd=Pt({},Dt);Pt(cd,Yt),Pt(cd,yn);var pp=Pt({},wn);Pt(pp,Nt);var lg=function(Et){var mn=ia(Et);(!mn||!mn.tagName)&&(mn={namespaceURI:sn,tagName:"template"});var Zn=Ge(Et.tagName),Ni=Ge(mn.tagName);return Et.namespaceURI===hp?mn.namespaceURI===sn?"svg"===Zn:mn.namespaceURI===Mc?"svg"===Zn&&("annotation-xml"===Ni||ag[Ni]):Boolean(cd[Zn]):Et.namespaceURI===Mc?mn.namespaceURI===sn?"math"===Zn:mn.namespaceURI===hp?"math"===Zn&&Ml[Ni]:Boolean(pp[Zn]):Et.namespaceURI===sn&&!(mn.namespaceURI===hp&&!Ml[Ni]||mn.namespaceURI===Mc&&!ag[Ni])&&!pp[Zn]&&(Sy[Zn]||!cd[Zn])},Fl=function(Et){Re(Ye.removed,{element:Et});try{Et.parentNode.removeChild(Et)}catch(mn){try{Et.outerHTML=ds}catch(Zn){Et.remove()}}},mp=function(Et,mn){try{Re(Ye.removed,{attribute:mn.getAttributeNode(Et),from:mn})}catch(Zn){Re(Ye.removed,{attribute:null,from:mn})}if(mn.removeAttribute(Et),"is"===Et&&!Yo[Et])if(uu||Wu)try{Fl(mn)}catch(Zn){}else try{mn.setAttribute(Et,"")}catch(Zn){}},gp=function(Et){var mn,Zn;if(af)Et="<remove></remove>"+Et;else{var Ni=ut(Et,/^[\r\n\t ]+/);Zn=Ni&&Ni[0]}"application/xhtml+xml"===ki&&(Et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Et+"</body></html>");var ys=Mo?Mo.createHTML(Et):Et;if(ol===sn)try{mn=(new ri).parseFromString(ys,ki)}catch(hs){}if(!mn||!mn.documentElement){mn=Ll.createDocument(ol,"template",null);try{mn.documentElement.innerHTML=Kr?"":ys}catch(hs){}}var _s=mn.body||mn.documentElement;return Et&&Zn&&_s.insertBefore(gt.createTextNode(Zn),_s.childNodes[0]||null),ol===sn?fs.call(mn,xo?"html":"body")[0]:xo?mn.documentElement:_s},df=function(Et){return au.call(Et.ownerDocument||Et,Et,Mn.SHOW_ELEMENT|Mn.SHOW_COMMENT|Mn.SHOW_TEXT,null,!1)},$s=function(Et){return Et instanceof ti&&("string"!=typeof Et.nodeName||"string"!=typeof Et.textContent||"function"!=typeof Et.removeChild||!(Et.attributes instanceof yr)||"function"!=typeof Et.removeAttribute||"function"!=typeof Et.setAttribute||"string"!=typeof Et.namespaceURI||"function"!=typeof Et.insertBefore)},Pi=function(Et){return"object"===ue(qt)?Et instanceof qt:Et&&"object"===ue(Et)&&"number"==typeof Et.nodeType&&"string"==typeof Et.nodeName},Sa=function(Et,mn,Zn){!wa[Et]||rt(wa[Et],function(Ni){Ni.call(Ye,mn,Zn,Nl)})},Sc=function(Et){var mn;if(Sa("beforeSanitizeElements",Et,null),$s(Et)||Ht(/[\u0080-\uFFFF]/,Et.nodeName))return Fl(Et),!0;var Zn=Es(Et.nodeName);if(Sa("uponSanitizeElement",Et,{tagName:Zn,allowedTags:So}),Et.hasChildNodes()&&!Pi(Et.firstElementChild)&&(!Pi(Et.content)||!Pi(Et.content.firstElementChild))&&Ht(/<[/\w]/g,Et.innerHTML)&&Ht(/<[/\w]/g,Et.textContent)||"select"===Zn&&Ht(/<template/i,Et.innerHTML))return Fl(Et),!0;if(!So[Zn]||Fs[Zn]){if(!Fs[Zn]&&hn(Zn)&&(bi.tagNameCheck instanceof RegExp&&Ht(bi.tagNameCheck,Zn)||bi.tagNameCheck instanceof Function&&bi.tagNameCheck(Zn)))return!1;if(uf&&!Pl[Zn]){var Ni=ia(Et)||Et.parentNode,ys=Gi(Et)||Et.childNodes;if(ys&&Ni)for(var hs=ys.length-1;hs>=0;--hs)Ni.insertBefore(su(ys[hs],!0),kl(Et))}return Fl(Et),!0}return Et instanceof cn&&!lg(Et)||("noscript"===Zn||"noembed"===Zn)&&Ht(/<\/no(script|embed)/i,Et.innerHTML)?(Fl(Et),!0):(lu&&3===Et.nodeType&&(mn=tt(mn=Et.textContent,Jn," "),mn=tt(mn,nf," "),Et.textContent!==mn&&(Re(Ye.removed,{element:Et.cloneNode()}),Et.textContent=mn)),Sa("afterSanitizeElements",Et,null),!1)},ff=function(Et,mn,Zn){if(uh&&("id"===mn||"name"===mn)&&(Zn in gt||Zn in Ma))return!1;if((!rf||za[mn]||!Ht(Uu,mn))&&(!Ua||!Ht(Wo,mn)))if(!Yo[mn]||za[mn]){if(!(hn(Et)&&(bi.tagNameCheck instanceof RegExp&&Ht(bi.tagNameCheck,Et)||bi.tagNameCheck instanceof Function&&bi.tagNameCheck(Et))&&(bi.attributeNameCheck instanceof RegExp&&Ht(bi.attributeNameCheck,mn)||bi.attributeNameCheck instanceof Function&&bi.attributeNameCheck(mn))||"is"===mn&&bi.allowCustomizedBuiltInElements&&(bi.tagNameCheck instanceof RegExp&&Ht(bi.tagNameCheck,Zn)||bi.tagNameCheck instanceof Function&&bi.tagNameCheck(Zn))))return!1}else if(!no[mn]&&!Ht(Uo,tt(Zn,go,""))&&("src"!==mn&&"xlink:href"!==mn&&"href"!==mn||"script"===Et||0!==mt(Zn,"data:")||!cf[Et])&&(!sf||Ht(rl,tt(Zn,go,"")))&&Zn)return!1;return!0},hn=function(Et){return Et.indexOf("-")>0},vp=function(Et){var mn,Zn,Ni,ys;Sa("beforeSanitizeAttributes",Et,null);var _s=Et.attributes;if(_s){var hs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Yo};for(ys=_s.length;ys--;){var ur=(mn=_s[ys]).name,fd=mn.namespaceURI;if(Zn="value"===ur?mn.value:kt(mn.value),Ni=Es(ur),hs.attrName=Ni,hs.attrValue=Zn,hs.keepAttr=!0,hs.forceKeepAttr=void 0,Sa("uponSanitizeAttribute",Et,hs),Zn=hs.attrValue,!hs.forceKeepAttr&&(mp(ur,Et),hs.keepAttr)){if(Ht(/\/>/i,Zn)){mp(ur,Et);continue}lu&&(Zn=tt(Zn,Jn," "),Zn=tt(Zn,nf," "));var yp=Es(Et.nodeName);if(ff(yp,Ni,Zn)){if($o&&("id"===Ni||"name"===Ni)&&(mp(ur,Et),Zn=wc+Zn),Mo&&"object"===ue(ai)&&"function"==typeof ai.getAttributeType&&!fd)switch(ai.getAttributeType(yp,Ni)){case"TrustedHTML":Zn=Mo.createHTML(Zn);break;case"TrustedScriptURL":Zn=Mo.createScriptURL(Zn)}try{fd?Et.setAttributeNS(fd,ur,Zn):Et.setAttribute(ur,Zn),Ue(Ye.removed)}catch(Hs){}}}}Sa("afterSanitizeAttributes",Et,null)}},ni=function Ar(Et){var mn,Zn=df(Et);for(Sa("beforeSanitizeShadowDOM",Et,null);mn=Zn.nextNode();)Sa("uponSanitizeShadowNode",mn,null),!Sc(mn)&&(mn.content instanceof ft&&Ar(mn.content),vp(mn));Sa("afterSanitizeShadowDOM",Et,null)};return Ye.sanitize=function(Ar){var mn,Zn,Ni,ys,_s,Et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((Kr=!Ar)&&(Ar="\x3c!--\x3e"),"string"!=typeof Ar&&!Pi(Ar)){if("function"!=typeof Ar.toString)throw Wt("toString is not a function");if("string"!=typeof(Ar=Ar.toString()))throw Wt("dirty is not a string, aborting")}if(!Ye.isSupported){if("object"===ue(Ke.toStaticHTML)||"function"==typeof Ke.toStaticHTML){if("string"==typeof Ar)return Ke.toStaticHTML(Ar);if(Pi(Ar))return Ke.toStaticHTML(Ar.outerHTML)}return Ar}if(ju||ch(Et),Ye.removed=[],"string"==typeof Ar&&(Yu=!1),Yu){if(Ar.nodeName){var hs=Es(Ar.nodeName);if(!So[hs]||Fs[hs])throw Wt("root node is forbidden and cannot be sanitized in-place")}}else if(Ar instanceof qt)1===(Zn=(mn=gp("\x3c!----\x3e")).ownerDocument.importNode(Ar,!0)).nodeType&&"BODY"===Zn.nodeName||"HTML"===Zn.nodeName?mn=Zn:mn.appendChild(Zn);else{if(!uu&&!lu&&!xo&&-1===Ar.indexOf("<"))return Mo&&lf?Mo.createHTML(Ar):Ar;if(!(mn=gp(Ar)))return uu?null:lf?ds:""}mn&&af&&Fl(mn.firstChild);for(var dd=df(Yu?Ar:mn);Ni=dd.nextNode();)3===Ni.nodeType&&Ni===ys||Sc(Ni)||(Ni.content instanceof ft&&ni(Ni.content),vp(Ni),ys=Ni);if(ys=null,Yu)return Ar;if(uu){if(Wu)for(_s=Il.call(mn.ownerDocument);mn.firstChild;)_s.appendChild(mn.firstChild);else _s=mn;return Yo.shadowroot&&(_s=og.call($e,_s,!0)),_s}var ur=xo?mn.outerHTML:mn.innerHTML;return xo&&So["!doctype"]&&mn.ownerDocument&&mn.ownerDocument.doctype&&mn.ownerDocument.doctype.name&&Ht(ye,mn.ownerDocument.doctype.name)&&(ur="<!DOCTYPE "+mn.ownerDocument.doctype.name+">\n"+ur),lu&&(ur=tt(ur,Jn," "),ur=tt(ur,nf," ")),Mo&&lf?Mo.createHTML(ur):ur},Ye.setConfig=function(Ar){ch(Ar),ju=!0},Ye.clearConfig=function(){Nl=null,ju=!1},Ye.isValidAttribute=function(Ar,Et,mn){Nl||ch({});var Zn=Es(Ar),Ni=Es(Et);return ff(Zn,Ni,mn)},Ye.addHook=function(Ar,Et){"function"==typeof Et&&(wa[Ar]=wa[Ar]||[],Re(wa[Ar],Et))},Ye.removeHook=function(Ar){if(wa[Ar])return Ue(wa[Ar])},Ye.removeHooks=function(Ar){wa[Ar]&&(wa[Ar]=[])},Ye.removeAllHooks=function(){wa={}},Ye}()}()},5226:function(Q,ue){var S;void 0!==(S=function(){"use strict";function R(oe,ae,de){var pe=new XMLHttpRequest;pe.open("GET",oe),pe.responseType="blob",pe.onload=function(){te(pe.response,ae,de)},pe.onerror=function(){console.error("could not download file")},pe.send()}function A(oe){var ae=new XMLHttpRequest;ae.open("HEAD",oe,!1);try{ae.send()}catch(de){}return 200<=ae.status&&299>=ae.status}function N(oe){try{oe.dispatchEvent(new MouseEvent("click"))}catch(de){var ae=document.createEvent("MouseEvents");ae.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),oe.dispatchEvent(ae)}}var F="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Y=F.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),te=F.saveAs||("object"!=typeof window||window!==F?function(){}:"download"in HTMLAnchorElement.prototype&&!Y?function(oe,ae,de){var pe=F.URL||F.webkitURL,K=document.createElement("a");K.download=ae=ae||oe.name||"download",K.rel="noopener","string"==typeof oe?(K.href=oe,K.origin===location.origin?N(K):A(K.href)?R(oe,ae,de):N(K,K.target="_blank")):(K.href=pe.createObjectURL(oe),setTimeout(function(){pe.revokeObjectURL(K.href)},4e4),setTimeout(function(){N(K)},0))}:"msSaveOrOpenBlob"in navigator?function(oe,ae,de){if(ae=ae||oe.name||"download","string"!=typeof oe)navigator.msSaveOrOpenBlob(function T(oe,ae){return void 0===ae?ae={autoBom:!1}:"object"!=typeof ae&&(console.warn("Deprecated: Expected third argument to be a object"),ae={autoBom:!ae}),ae.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(oe.type)?new Blob(["\ufeff",oe],{type:oe.type}):oe}(oe,de),ae);else if(A(oe))R(oe,ae,de);else{var pe=document.createElement("a");pe.href=oe,pe.target="_blank",setTimeout(function(){N(pe)})}}:function(oe,ae,de,pe){if((pe=pe||open("","_blank"))&&(pe.document.title=pe.document.body.innerText="downloading..."),"string"==typeof oe)return R(oe,ae,de);var K="application/octet-stream"===oe.type,ce=/constructor/i.test(F.HTMLElement)||F.safari,xe=/CriOS\/[\d]+/.test(navigator.userAgent);if((xe||K&&ce||Y)&&"undefined"!=typeof FileReader){var Pe=new FileReader;Pe.onloadend=function(){var rt=Pe.result;rt=xe?rt:rt.replace(/^data:[^;]*;/,"data:attachment/file;"),pe?pe.location.href=rt:location=rt,pe=null},Pe.readAsDataURL(oe)}else{var Te=F.URL||F.webkitURL,ze=Te.createObjectURL(oe);pe?pe.location=ze:location.href=ze,pe=null,setTimeout(function(){Te.revokeObjectURL(ze)},4e4)}});F.saveAs=te.saveAs=te,Q.exports=te}.apply(ue,[]))&&(Q.exports=S)},8685:function(Q,ue,b){!function(L){"use strict";L.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(T){return/^nm$/i.test(T)},meridiem:function(T,R,A){return T<12?A?"vm":"VM":A?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(T){return T+(1===T||8===T||T>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},4312:function(Q,ue,b){!function(L){"use strict";var S=function(F){return 0===F?0:1===F?1:2===F?2:F%100>=3&&F%100<=10?3:F%100>=11?4:5},T={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},R=function(F){return function(Y,te,oe,ae){var de=S(Y),pe=T[F][S(Y)];return 2===de&&(pe=pe[te?0:1]),pe.replace(/%d/i,Y)}},A=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];L.defineLocale("ar-dz",{months:A,monthsShort:A,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(F){return"\u0645"===F},meridiem:function(F,Y,te){return F<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:R("s"),ss:R("s"),m:R("m"),mm:R("m"),h:R("h"),hh:R("h"),d:R("d"),dd:R("d"),M:R("M"),MM:R("M"),y:R("y"),yy:R("y")},postformat:function(F){return F.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(b(6908))},2614:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(b(6908))},8630:function(Q,ue,b){!function(L){"use strict";var S={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},T=function(Y){return 0===Y?0:1===Y?1:2===Y?2:Y%100>=3&&Y%100<=10?3:Y%100>=11?4:5},R={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},A=function(Y){return function(te,oe,ae,de){var pe=T(te),K=R[Y][T(te)];return 2===pe&&(K=K[oe?0:1]),K.replace(/%d/i,te)}},N=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];L.defineLocale("ar-ly",{months:N,monthsShort:N,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(Y){return"\u0645"===Y},meridiem:function(Y,te,oe){return Y<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:A("s"),ss:A("s"),m:A("m"),mm:A("m"),h:A("h"),hh:A("h"),d:A("d"),dd:A("d"),M:A("M"),MM:A("M"),y:A("y"),yy:A("y")},preparse:function(Y){return Y.replace(/\u060c/g,",")},postformat:function(Y){return Y.replace(/\d/g,function(te){return S[te]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},8674:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(b(6908))},9032:function(Q,ue,b){!function(L){"use strict";var S={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},T={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};L.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(A){return"\u0645"===A},meridiem:function(A,N,F){return A<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(A){return A.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(N){return T[N]}).replace(/\u060c/g,",")},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(b(6908))},4730:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(b(6908))},254:function(Q,ue,b){!function(L){"use strict";var S={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},T={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},R=function(te){return 0===te?0:1===te?1:2===te?2:te%100>=3&&te%100<=10?3:te%100>=11?4:5},A={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},N=function(te){return function(oe,ae,de,pe){var K=R(oe),ce=A[te][R(oe)];return 2===K&&(ce=ce[ae?0:1]),ce.replace(/%d/i,oe)}},F=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];L.defineLocale("ar",{months:F,monthsShort:F,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(te){return"\u0645"===te},meridiem:function(te,oe,ae){return te<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:N("s"),ss:N("s"),m:N("m"),mm:N("m"),h:N("h"),hh:N("h"),d:N("d"),dd:N("d"),M:N("M"),MM:N("M"),y:N("y"),yy:N("y")},preparse:function(te){return te.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(oe){return T[oe]}).replace(/\u060c/g,",")},postformat:function(te){return te.replace(/\d/g,function(oe){return S[oe]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},3052:function(Q,ue,b){!function(L){"use strict";var S={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};L.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(R){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(R)},meridiem:function(R,A,N){return R<4?"gec\u0259":R<12?"s\u0259h\u0259r":R<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(R){if(0===R)return R+"-\u0131nc\u0131";var A=R%10;return R+(S[A]||S[R%100-A]||S[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},150:function(Q,ue,b){!function(L){"use strict";function T(A,N,F){return"m"===F?N?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===F?N?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":A+" "+function S(A,N){var F=A.split("_");return N%10==1&&N%100!=11?F[0]:N%10>=2&&N%10<=4&&(N%100<10||N%100>=20)?F[1]:F[2]}({ss:N?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:N?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:N?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[F],+A)}L.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:T,mm:T,h:T,hh:T,d:"\u0434\u0437\u0435\u043d\u044c",dd:T,M:"\u043c\u0435\u0441\u044f\u0446",MM:T,y:"\u0433\u043e\u0434",yy:T},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(A){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(A)},meridiem:function(A,N,F){return A<4?"\u043d\u043e\u0447\u044b":A<12?"\u0440\u0430\u043d\u0456\u0446\u044b":A<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(A,N){switch(N){case"M":case"d":case"DDD":case"w":case"W":return A%10!=2&&A%10!=3||A%100==12||A%100==13?A+"-\u044b":A+"-\u0456";case"D":return A+"-\u0433\u0430";default:return A}},week:{dow:1,doy:7}})}(b(6908))},3069:function(Q,ue,b){!function(L){"use strict";L.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(T){var R=T%10,A=T%100;return 0===T?T+"-\u0435\u0432":0===A?T+"-\u0435\u043d":A>10&&A<20?T+"-\u0442\u0438":1===R?T+"-\u0432\u0438":2===R?T+"-\u0440\u0438":7===R||8===R?T+"-\u043c\u0438":T+"-\u0442\u0438"},week:{dow:1,doy:7}})}(b(6908))},3466:function(Q,ue,b){!function(L){"use strict";L.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(b(6908))},557:function(Q,ue,b){!function(L){"use strict";var S={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},T={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};L.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(A){return A.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u09b0\u09be\u09a4"===N?A<4?A:A+12:"\u09ad\u09cb\u09b0"===N||"\u09b8\u0995\u09be\u09b2"===N?A:"\u09a6\u09c1\u09aa\u09c1\u09b0"===N?A>=3?A:A+12:"\u09ac\u09bf\u0995\u09be\u09b2"===N||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===N?A+12:void 0},meridiem:function(A,N,F){return A<4?"\u09b0\u09be\u09a4":A<6?"\u09ad\u09cb\u09b0":A<12?"\u09b8\u0995\u09be\u09b2":A<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":A<18?"\u09ac\u09bf\u0995\u09be\u09b2":A<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(b(6908))},8516:function(Q,ue,b){!function(L){"use strict";var S={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},T={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};L.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(A){return A.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u09b0\u09be\u09a4"===N&&A>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===N&&A<5||"\u09ac\u09bf\u0995\u09be\u09b2"===N?A+12:A},meridiem:function(A,N,F){return A<4?"\u09b0\u09be\u09a4":A<10?"\u09b8\u0995\u09be\u09b2":A<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":A<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(b(6908))},6273:function(Q,ue,b){!function(L){"use strict";var S={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},T={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};L.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(A){return A.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===N&&A>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===N&&A<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===N?A+12:A},meridiem:function(A,N,F){return A<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":A<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":A<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":A<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(b(6908))},9588:function(Q,ue,b){!function(L){"use strict";function S(ce,xe,Pe){return ce+" "+function A(ce,xe){return 2===xe?function N(ce){var xe={m:"v",b:"v",d:"z"};return void 0===xe[ce.charAt(0)]?ce:xe[ce.charAt(0)]+ce.substring(1)}(ce):ce}({mm:"munutenn",MM:"miz",dd:"devezh"}[Pe],ce)}function R(ce){return ce>9?R(ce%10):ce}var F=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],Y=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,pe=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];L.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:pe,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:pe,monthsRegex:Y,monthsShortRegex:Y,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:F,longMonthsParse:F,shortMonthsParse:F,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:S,h:"un eur",hh:"%d eur",d:"un devezh",dd:S,M:"ur miz",MM:S,y:"ur bloaz",yy:function T(ce){switch(R(ce)){case 1:case 3:case 4:case 5:case 9:return ce+" bloaz";default:return ce+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(ce){return ce+(1===ce?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(ce){return"g.m."===ce},meridiem:function(ce,xe,Pe){return ce<12?"a.m.":"g.m."}})}(b(6908))},9815:function(Q,ue,b){!function(L){"use strict";function S(R,A,N){var F=R+" ";switch(N){case"ss":return F+(1===R?"sekunda":2===R||3===R||4===R?"sekunde":"sekundi");case"m":return A?"jedna minuta":"jedne minute";case"mm":return F+(1===R?"minuta":2===R||3===R||4===R?"minute":"minuta");case"h":return A?"jedan sat":"jednog sata";case"hh":return F+(1===R?"sat":2===R||3===R||4===R?"sata":"sati");case"dd":return F+(1===R?"dan":"dana");case"MM":return F+(1===R?"mjesec":2===R||3===R||4===R?"mjeseca":"mjeseci");case"yy":return F+(1===R?"godina":2===R||3===R||4===R?"godine":"godina")}}L.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:S,m:S,mm:S,h:S,hh:S,d:"dan",dd:S,M:"mjesec",MM:S,y:"godinu",yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},3331:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(T,R){var A=1===T?"r":2===T?"n":3===T?"r":4===T?"t":"\xe8";return("w"===R||"W"===R)&&(A="a"),T+A},week:{dow:1,doy:4}})}(b(6908))},1320:function(Q,ue,b){!function(L){"use strict";var S={format:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),standalone:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_")},T="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),R=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],A=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function N(te){return te>1&&te<5&&1!=~~(te/10)}function F(te,oe,ae,de){var pe=te+" ";switch(ae){case"s":return oe||de?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return oe||de?pe+(N(te)?"sekundy":"sekund"):pe+"sekundami";case"m":return oe?"minuta":de?"minutu":"minutou";case"mm":return oe||de?pe+(N(te)?"minuty":"minut"):pe+"minutami";case"h":return oe?"hodina":de?"hodinu":"hodinou";case"hh":return oe||de?pe+(N(te)?"hodiny":"hodin"):pe+"hodinami";case"d":return oe||de?"den":"dnem";case"dd":return oe||de?pe+(N(te)?"dny":"dn\xed"):pe+"dny";case"M":return oe||de?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return oe||de?pe+(N(te)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):pe+"m\u011bs\xedci";case"y":return oe||de?"rok":"rokem";case"yy":return oe||de?pe+(N(te)?"roky":"let"):pe+"lety"}}L.defineLocale("cs",{months:S,monthsShort:T,monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:F,ss:F,m:F,mm:F,h:F,hh:F,d:F,dd:F,M:F,MM:F,y:F,yy:F},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2219:function(Q,ue,b){!function(L){"use strict";L.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(T){return T+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(T)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(T)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(b(6908))},8266:function(Q,ue,b){!function(L){"use strict";L.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(T){var A="";return T>20?A=40===T||50===T||60===T||80===T||100===T?"fed":"ain":T>0&&(A=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][T]),T+A},week:{dow:1,doy:4}})}(b(6908))},6427:function(Q,ue,b){!function(L){"use strict";L.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2871:function(Q,ue,b){!function(L){"use strict";function S(R,A,N,F){var Y={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[R+" Tage",R+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[R+" Monate",R+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[R+" Jahre",R+" Jahren"]};return A?Y[N][0]:Y[N][1]}L.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:S,mm:"%d Minuten",h:S,hh:"%d Stunden",d:S,dd:S,w:S,ww:"%d Wochen",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2994:function(Q,ue,b){!function(L){"use strict";function S(R,A,N,F){var Y={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[R+" Tage",R+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[R+" Monate",R+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[R+" Jahre",R+" Jahren"]};return A?Y[N][0]:Y[N][1]}L.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:S,mm:"%d Minuten",h:S,hh:"%d Stunden",d:S,dd:S,w:S,ww:"%d Wochen",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},7435:function(Q,ue,b){!function(L){"use strict";function S(R,A,N,F){var Y={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[R+" Tage",R+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[R+" Monate",R+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[R+" Jahre",R+" Jahren"]};return A?Y[N][0]:Y[N][1]}L.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:S,mm:"%d Minuten",h:S,hh:"%d Stunden",d:S,dd:S,w:S,ww:"%d Wochen",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2357:function(Q,ue,b){!function(L){"use strict";var S=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],T=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];L.defineLocale("dv",{months:S,monthsShort:S,weekdays:T,weekdaysShort:T,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(A){return"\u0789\u078a"===A},meridiem:function(A,N,F){return A<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(b(6908))},5649:function(Q,ue,b){!function(L){"use strict";L.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(R,A){return R?"string"==typeof A&&/D/.test(A.substring(0,A.indexOf("MMMM")))?this._monthsGenitiveEl[R.month()]:this._monthsNominativeEl[R.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(R,A,N){return R>11?N?"\u03bc\u03bc":"\u039c\u039c":N?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(R){return"\u03bc"===(R+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){return 6===this.day()?"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT":"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"},sameElse:"L"},calendar:function(R,A){var N=this._calendarEl[R],F=A&&A.hours();return function S(R){return"undefined"!=typeof Function&&R instanceof Function||"[object Function]"===Object.prototype.toString.call(R)}(N)&&(N=N.apply(A)),N.replace("{}",F%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(b(6908))},9961:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:0,doy:4}})}(b(6908))},9878:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")}})}(b(6908))},3924:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},864:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},1579:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")}})}(b(6908))},940:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:0,doy:6}})}(b(6908))},6181:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},4301:function(Q,ue,b){!function(L){"use strict";L.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},5291:function(Q,ue,b){!function(L){"use strict";L.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(T){return"p"===T.charAt(0).toLowerCase()},meridiem:function(T,R,A){return T>11?A?"p.t.m.":"P.T.M.":A?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(b(6908))},3764:function(Q,ue,b){!function(L){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),T="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;L.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:S[F.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},2584:function(Q,ue,b){!function(L){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),T="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;L.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:S[F.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(b(6908))},3425:function(Q,ue,b){!function(L){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),T="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;L.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:S[F.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(b(6908))},4529:function(Q,ue,b){!function(L){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),T="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;L.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:S[F.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(b(6908))},5203:function(Q,ue,b){!function(L){"use strict";function S(R,A,N,F){var Y={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[R+"sekundi",R+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[R+" minuti",R+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[R+" tunni",R+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[R+" kuu",R+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[R+" aasta",R+" aastat"]};return A?Y[N][2]?Y[N][2]:Y[N][1]:F?Y[N][0]:Y[N][1]}L.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:"%d p\xe4eva",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},678:function(Q,ue,b){!function(L){"use strict";L.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},3483:function(Q,ue,b){!function(L){"use strict";var S={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},T={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};L.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(A){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(A)},meridiem:function(A,N,F){return A<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/[\u06f0-\u06f9]/g,function(N){return T[N]}).replace(/\u060c/g,",")},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(b(6908))},6262:function(Q,ue,b){!function(L){"use strict";var S="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),T=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",S[7],S[8],S[9]];function R(F,Y,te,oe){var ae="";switch(te){case"s":return oe?"muutaman sekunnin":"muutama sekunti";case"ss":ae=oe?"sekunnin":"sekuntia";break;case"m":return oe?"minuutin":"minuutti";case"mm":ae=oe?"minuutin":"minuuttia";break;case"h":return oe?"tunnin":"tunti";case"hh":ae=oe?"tunnin":"tuntia";break;case"d":return oe?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":ae=oe?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return oe?"kuukauden":"kuukausi";case"MM":ae=oe?"kuukauden":"kuukautta";break;case"y":return oe?"vuoden":"vuosi";case"yy":ae=oe?"vuoden":"vuotta"}return function A(F,Y){return F<10?Y?T[F]:S[F]:F}(F,oe)+" "+ae}L.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2521:function(Q,ue,b){!function(L){"use strict";L.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(T){return T},week:{dow:1,doy:4}})}(b(6908))},4555:function(Q,ue,b){!function(L){"use strict";L.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8239:function(Q,ue,b){!function(L){"use strict";L.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(T,R){switch(R){default:case"M":case"Q":case"D":case"DDD":case"d":return T+(1===T?"er":"e");case"w":case"W":return T+(1===T?"re":"e")}}})}(b(6908))},1702:function(Q,ue,b){!function(L){"use strict";L.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(T,R){switch(R){default:case"M":case"Q":case"D":case"DDD":case"d":return T+(1===T?"er":"e");case"w":case"W":return T+(1===T?"re":"e")}},week:{dow:1,doy:4}})}(b(6908))},3131:function(Q,ue,b){!function(L){"use strict";var R=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,A=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];L.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:R,monthsShortRegex:R,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:A,longMonthsParse:A,shortMonthsParse:A,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(F,Y){switch(Y){case"D":return F+(1===F?"er":"");default:case"M":case"Q":case"DDD":case"d":return F+(1===F?"er":"e");case"w":case"W":return F+(1===F?"re":"e")}},week:{dow:1,doy:4}})}(b(6908))},267:function(Q,ue,b){!function(L){"use strict";var S="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),T="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");L.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(A,N){return A?/-MMM-/.test(N)?T[A.month()]:S[A.month()]:S},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(A){return A+(1===A||8===A||A>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},3821:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(Y){return Y+(1===Y?"d":Y%10==2?"na":"mh")},week:{dow:1,doy:4}})}(b(6908))},1753:function(Q,ue,b){!function(L){"use strict";L.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(Y){return Y+(1===Y?"d":Y%10==2?"na":"mh")},week:{dow:1,doy:4}})}(b(6908))},4074:function(Q,ue,b){!function(L){"use strict";L.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(T){return 0===T.indexOf("un")?"n"+T:"en "+T},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},2762:function(Q,ue,b){!function(L){"use strict";function S(R,A,N,F){var Y={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[R+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",R+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[R+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",R+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[R+" \u0935\u0930\u093e\u0902\u0928\u0940",R+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[R+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",R+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[R+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",R+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[R+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",R+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return F?Y[N][0]:Y[N][1]}L.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(R,A){return"D"===A?R+"\u0935\u0947\u0930":R},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(R,A){return 12===R&&(R=0),"\u0930\u093e\u0924\u0940"===A?R<4?R:R+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===A?R:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===A?R>12?R:R+12:"\u0938\u093e\u0902\u091c\u0947"===A?R+12:void 0},meridiem:function(R,A,N){return R<4?"\u0930\u093e\u0924\u0940":R<12?"\u0938\u0915\u093e\u0933\u0940\u0902":R<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":R<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(b(6908))},5969:function(Q,ue,b){!function(L){"use strict";function S(R,A,N,F){var Y={s:["thoddea sekondamni","thodde sekond"],ss:[R+" sekondamni",R+" sekond"],m:["eka mintan","ek minut"],mm:[R+" mintamni",R+" mintam"],h:["eka voran","ek vor"],hh:[R+" voramni",R+" voram"],d:["eka disan","ek dis"],dd:[R+" disamni",R+" dis"],M:["eka mhoinean","ek mhoino"],MM:[R+" mhoineamni",R+" mhoine"],y:["eka vorsan","ek voros"],yy:[R+" vorsamni",R+" vorsam"]};return F?Y[N][0]:Y[N][1]}L.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(R,A){return"D"===A?R+"er":R},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(R,A){return 12===R&&(R=0),"rati"===A?R<4?R:R+12:"sokallim"===A?R:"donparam"===A?R>12?R:R+12:"sanje"===A?R+12:void 0},meridiem:function(R,A,N){return R<4?"rati":R<12?"sokallim":R<16?"donparam":R<20?"sanje":"rati"}})}(b(6908))},2809:function(Q,ue,b){!function(L){"use strict";var S={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},T={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};L.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(A){return A.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u0ab0\u0abe\u0aa4"===N?A<4?A:A+12:"\u0ab8\u0ab5\u0abe\u0ab0"===N?A:"\u0aac\u0aaa\u0acb\u0ab0"===N?A>=10?A:A+12:"\u0ab8\u0abe\u0a82\u0a9c"===N?A+12:void 0},meridiem:function(A,N,F){return A<4?"\u0ab0\u0abe\u0aa4":A<10?"\u0ab8\u0ab5\u0abe\u0ab0":A<17?"\u0aac\u0aaa\u0acb\u0ab0":A<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(b(6908))},5402:function(Q,ue,b){!function(L){"use strict";L.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(T){return 2===T?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":T+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(T){return 2===T?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":T+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(T){return 2===T?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":T+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(T){return 2===T?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":T%10==0&&10!==T?T+" \u05e9\u05e0\u05d4":T+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(T){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(T)},meridiem:function(T,R,A){return T<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":T<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":T<12?A?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":T<18?A?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(b(6908))},315:function(Q,ue,b){!function(L){"use strict";var S={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},T={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},R=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];L.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:R,longMonthsParse:R,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(F){return F.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(Y){return T[Y]})},postformat:function(F){return F.replace(/\d/g,function(Y){return S[Y]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(F,Y){return 12===F&&(F=0),"\u0930\u093e\u0924"===Y?F<4?F:F+12:"\u0938\u0941\u092c\u0939"===Y?F:"\u0926\u094b\u092a\u0939\u0930"===Y?F>=10?F:F+12:"\u0936\u093e\u092e"===Y?F+12:void 0},meridiem:function(F,Y,te){return F<4?"\u0930\u093e\u0924":F<10?"\u0938\u0941\u092c\u0939":F<17?"\u0926\u094b\u092a\u0939\u0930":F<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(b(6908))},410:function(Q,ue,b){!function(L){"use strict";function S(R,A,N){var F=R+" ";switch(N){case"ss":return F+(1===R?"sekunda":2===R||3===R||4===R?"sekunde":"sekundi");case"m":return A?"jedna minuta":"jedne minute";case"mm":return F+(1===R?"minuta":2===R||3===R||4===R?"minute":"minuta");case"h":return A?"jedan sat":"jednog sata";case"hh":return F+(1===R?"sat":2===R||3===R||4===R?"sata":"sati");case"dd":return F+(1===R?"dan":"dana");case"MM":return F+(1===R?"mjesec":2===R||3===R||4===R?"mjeseca":"mjeseci");case"yy":return F+(1===R?"godina":2===R||3===R||4===R?"godine":"godina")}}L.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:S,m:S,mm:S,h:S,hh:S,d:"dan",dd:S,M:"mjesec",MM:S,y:"godinu",yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8288:function(Q,ue,b){!function(L){"use strict";var S="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function T(N,F,Y,te){var oe=N;switch(Y){case"s":return te||F?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return oe+(te||F)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(te||F?" perc":" perce");case"mm":return oe+(te||F?" perc":" perce");case"h":return"egy"+(te||F?" \xf3ra":" \xf3r\xe1ja");case"hh":return oe+(te||F?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(te||F?" nap":" napja");case"dd":return oe+(te||F?" nap":" napja");case"M":return"egy"+(te||F?" h\xf3nap":" h\xf3napja");case"MM":return oe+(te||F?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(te||F?" \xe9v":" \xe9ve");case"yy":return oe+(te||F?" \xe9v":" \xe9ve")}return""}function R(N){return(N?"":"[m\xfalt] ")+"["+S[this.day()]+"] LT[-kor]"}L.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(N){return"u"===N.charAt(1).toLowerCase()},meridiem:function(N,F,Y){return N<12?!0===Y?"de":"DE":!0===Y?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return R.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return R.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:T,ss:T,m:T,mm:T,h:T,hh:T,d:T,dd:T,M:T,MM:T,y:T,yy:T},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},7928:function(Q,ue,b){!function(L){"use strict";L.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(T){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(T)},meridiem:function(T){return T<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":T<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":T<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(T,R){switch(R){case"DDD":case"w":case"W":case"DDDo":return 1===T?T+"-\u056b\u0576":T+"-\u0580\u0564";default:return T}},week:{dow:1,doy:7}})}(b(6908))},1334:function(Q,ue,b){!function(L){"use strict";L.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(T,R){return 12===T&&(T=0),"pagi"===R?T:"siang"===R?T>=11?T:T+12:"sore"===R||"malam"===R?T+12:void 0},meridiem:function(T,R,A){return T<11?"pagi":T<15?"siang":T<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(b(6908))},6959:function(Q,ue,b){!function(L){"use strict";function S(A){return A%100==11||A%10!=1}function T(A,N,F,Y){var te=A+" ";switch(F){case"s":return N||Y?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return S(A)?te+(N||Y?"sek\xfandur":"sek\xfandum"):te+"sek\xfanda";case"m":return N?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return S(A)?te+(N||Y?"m\xedn\xfatur":"m\xedn\xfatum"):N?te+"m\xedn\xfata":te+"m\xedn\xfatu";case"hh":return S(A)?te+(N||Y?"klukkustundir":"klukkustundum"):te+"klukkustund";case"d":return N?"dagur":Y?"dag":"degi";case"dd":return S(A)?N?te+"dagar":te+(Y?"daga":"d\xf6gum"):N?te+"dagur":te+(Y?"dag":"degi");case"M":return N?"m\xe1nu\xf0ur":Y?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return S(A)?N?te+"m\xe1nu\xf0ir":te+(Y?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):N?te+"m\xe1nu\xf0ur":te+(Y?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return N||Y?"\xe1r":"\xe1ri";case"yy":return S(A)?te+(N||Y?"\xe1r":"\xe1rum"):te+(N||Y?"\xe1r":"\xe1ri")}}L.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:T,ss:T,m:T,mm:T,h:"klukkustund",hh:T,d:T,dd:T,M:T,MM:T,y:T,yy:T},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1124:function(Q,ue,b){!function(L){"use strict";L.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(T){return(/^[0-9].+$/.test(T)?"tra":"in")+" "+T},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},4864:function(Q,ue,b){!function(L){"use strict";L.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},6141:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(T,R){return"\u5143"===R[1]?1:parseInt(R[1]||T,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(T){return"\u5348\u5f8c"===T},meridiem:function(T,R,A){return T<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(T){return T.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(T){return this.week()!==T.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(T,R){switch(R){case"y":return 1===T?"\u5143\u5e74":T+"\u5e74";case"d":case"D":case"DDD":return T+"\u65e5";default:return T}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(b(6908))},9187:function(Q,ue,b){!function(L){"use strict";L.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(T,R){return 12===T&&(T=0),"enjing"===R?T:"siyang"===R?T>=11?T:T+12:"sonten"===R||"ndalu"===R?T+12:void 0},meridiem:function(T,R,A){return T<11?"enjing":T<15?"siyang":T<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(b(6908))},2136:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(T){return T.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(R,A,N){return"\u10d8"===N?A+"\u10e8\u10d8":A+N+"\u10e8\u10d8"})},past:function(T){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(T)?T.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(T)?T.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):T},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(T){return 0===T?T:1===T?T+"-\u10da\u10d8":T<20||T<=100&&T%20==0||T%100==0?"\u10db\u10d4-"+T:T+"-\u10d4"},week:{dow:1,doy:7}})}(b(6908))},4332:function(Q,ue,b){!function(L){"use strict";var S={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};L.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(R){return R+(S[R]||S[R%10]||S[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},8607:function(Q,ue,b){!function(L){"use strict";var S={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},T={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};L.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(A){return"\u179b\u17d2\u1784\u17b6\u1785"===A},meridiem:function(A,N,F){return A<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(A){return A.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]})},week:{dow:1,doy:4}})}(b(6908))},4305:function(Q,ue,b){!function(L){"use strict";var S={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},T={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};L.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(A){return A.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===N?A<4?A:A+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===N?A:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===N?A>=10?A:A+12:"\u0cb8\u0c82\u0c9c\u0cc6"===N?A+12:void 0},meridiem:function(A,N,F){return A<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":A<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":A<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":A<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(A){return A+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(b(6908))},234:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"\uc77c";case"M":return T+"\uc6d4";case"w":case"W":return T+"\uc8fc";default:return T}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(T){return"\uc624\ud6c4"===T},meridiem:function(T,R,A){return T<12?"\uc624\uc804":"\uc624\ud6c4"}})}(b(6908))},6003:function(Q,ue,b){!function(L){"use strict";var S={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},T={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},R=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];L.defineLocale("ku",{months:R,monthsShort:R,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(N){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(N)},meridiem:function(N,F,Y){return N<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(N){return N.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(F){return T[F]}).replace(/\u060c/g,",")},postformat:function(N){return N.replace(/\d/g,function(F){return S[F]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},5061:function(Q,ue,b){!function(L){"use strict";var S={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};L.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(R){return R+(S[R]||S[R%10]||S[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},2786:function(Q,ue,b){!function(L){"use strict";function S(F,Y,te,oe){var ae={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return Y?ae[te][0]:ae[te][1]}function A(F){if(F=parseInt(F,10),isNaN(F))return!1;if(F<0)return!0;if(F<10)return 4<=F&&F<=7;if(F<100){var Y=F%10;return A(0===Y?F/10:Y)}if(F<1e4){for(;F>=10;)F/=10;return A(F)}return A(F/=1e3)}L.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function T(F){return A(F.substr(0,F.indexOf(" ")))?"a "+F:"an "+F},past:function R(F){return A(F.substr(0,F.indexOf(" ")))?"viru "+F:"virun "+F},s:"e puer Sekonnen",ss:"%d Sekonnen",m:S,mm:"%d Minutten",h:S,hh:"%d Stonnen",d:S,dd:"%d Deeg",M:S,MM:"%d M\xe9int",y:S,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},6183:function(Q,ue,b){!function(L){"use strict";L.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(T){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===T},meridiem:function(T,R,A){return T<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(T){return"\u0e97\u0eb5\u0ec8"+T}})}(b(6908))},29:function(Q,ue,b){!function(L){"use strict";var S={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function R(te,oe,ae,de){return oe?N(ae)[0]:de?N(ae)[1]:N(ae)[2]}function A(te){return te%10==0||te>10&&te<20}function N(te){return S[te].split("_")}function F(te,oe,ae,de){var pe=te+" ";return 1===te?pe+R(0,oe,ae[0],de):oe?pe+(A(te)?N(ae)[1]:N(ae)[0]):de?pe+N(ae)[1]:pe+(A(te)?N(ae)[1]:N(ae)[2])}L.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function T(te,oe,ae,de){return oe?"kelios sekund\u0117s":de?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:F,m:R,mm:F,h:R,hh:F,d:R,dd:F,M:R,MM:F,y:R,yy:F},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(te){return te+"-oji"},week:{dow:1,doy:4}})}(b(6908))},4169:function(Q,ue,b){!function(L){"use strict";var S={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function T(Y,te,oe){return oe?te%10==1&&te%100!=11?Y[2]:Y[3]:te%10==1&&te%100!=11?Y[0]:Y[1]}function R(Y,te,oe){return Y+" "+T(S[oe],Y,te)}function A(Y,te,oe){return T(S[oe],Y,te)}L.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function N(Y,te){return te?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:R,m:A,mm:R,h:A,hh:R,d:A,dd:R,M:A,MM:R,y:A,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8577:function(Q,ue,b){!function(L){"use strict";var S={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(R,A){return 1===R?A[0]:R>=2&&R<=4?A[1]:A[2]},translate:function(R,A,N){var F=S.words[N];return 1===N.length?A?F[0]:F[1]:R+" "+S.correctGrammaticalCase(R,F)}};L.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:S.translate,m:S.translate,mm:S.translate,h:S.translate,hh:S.translate,d:"dan",dd:S.translate,M:"mjesec",MM:S.translate,y:"godinu",yy:S.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8177:function(Q,ue,b){!function(L){"use strict";L.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},337:function(Q,ue,b){!function(L){"use strict";L.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(T){var R=T%10,A=T%100;return 0===T?T+"-\u0435\u0432":0===A?T+"-\u0435\u043d":A>10&&A<20?T+"-\u0442\u0438":1===R?T+"-\u0432\u0438":2===R?T+"-\u0440\u0438":7===R||8===R?T+"-\u043c\u0438":T+"-\u0442\u0438"},week:{dow:1,doy:7}})}(b(6908))},5260:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(T,R){return 12===T&&(T=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===R&&T>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===R||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===R?T+12:T},meridiem:function(T,R,A){return T<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":T<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":T<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":T<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(b(6908))},2325:function(Q,ue,b){!function(L){"use strict";function S(R,A,N,F){switch(N){case"s":return A?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return R+(A?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return R+(A?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return R+(A?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return R+(A?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return R+(A?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return R+(A?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return R}}L.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(R){return"\u04ae\u0425"===R},meridiem:function(R,A,N){return R<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(R,A){switch(A){case"d":case"D":case"DDD":return R+" \u04e9\u0434\u04e9\u0440";default:return R}}})}(b(6908))},4695:function(Q,ue,b){!function(L){"use strict";var S={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},T={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function R(N,F,Y,te){var oe="";if(F)switch(Y){case"s":oe="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":oe="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":oe="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":oe="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":oe="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":oe="%d \u0924\u093e\u0938";break;case"d":oe="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":oe="%d \u0926\u093f\u0935\u0938";break;case"M":oe="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":oe="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":oe="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":oe="%d \u0935\u0930\u094d\u0937\u0947"}else switch(Y){case"s":oe="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":oe="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":oe="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":oe="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":oe="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":oe="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":oe="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":oe="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":oe="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":oe="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":oe="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":oe="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return oe.replace(/%d/i,N)}L.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},preparse:function(N){return N.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(F){return T[F]})},postformat:function(N){return N.replace(/\d/g,function(F){return S[F]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(N,F){return 12===N&&(N=0),"\u092a\u0939\u093e\u091f\u0947"===F||"\u0938\u0915\u093e\u0933\u0940"===F?N:"\u0926\u0941\u092a\u093e\u0930\u0940"===F||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===F||"\u0930\u093e\u0924\u094d\u0930\u0940"===F?N>=12?N:N+12:void 0},meridiem:function(N,F,Y){return N>=0&&N<6?"\u092a\u0939\u093e\u091f\u0947":N<12?"\u0938\u0915\u093e\u0933\u0940":N<17?"\u0926\u0941\u092a\u093e\u0930\u0940":N<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(b(6908))},7151:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(T,R){return 12===T&&(T=0),"pagi"===R?T:"tengahari"===R?T>=11?T:T+12:"petang"===R||"malam"===R?T+12:void 0},meridiem:function(T,R,A){return T<11?"pagi":T<15?"tengahari":T<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(b(6908))},5334:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(T,R){return 12===T&&(T=0),"pagi"===R?T:"tengahari"===R?T>=11?T:T+12:"petang"===R||"malam"===R?T+12:void 0},meridiem:function(T,R,A){return T<11?"pagi":T<15?"tengahari":T<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(b(6908))},3570:function(Q,ue,b){!function(L){"use strict";L.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},7963:function(Q,ue,b){!function(L){"use strict";var S={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},T={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};L.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(A){return A.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]})},week:{dow:1,doy:4}})}(b(6908))},8028:function(Q,ue,b){!function(L){"use strict";L.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},6638:function(Q,ue,b){!function(L){"use strict";var S={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},T={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};L.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(A){return A.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u0930\u093e\u0924\u093f"===N?A<4?A:A+12:"\u092c\u093f\u0939\u093e\u0928"===N?A:"\u0926\u093f\u0909\u0901\u0938\u094b"===N?A>=10?A:A+12:"\u0938\u093e\u0901\u091d"===N?A+12:void 0},meridiem:function(A,N,F){return A<3?"\u0930\u093e\u0924\u093f":A<12?"\u092c\u093f\u0939\u093e\u0928":A<16?"\u0926\u093f\u0909\u0901\u0938\u094b":A<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(b(6908))},6782:function(Q,ue,b){!function(L){"use strict";var S="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),T="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),R=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],A=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;L.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:S[F.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(F){return F+(1===F||8===F||F>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},302:function(Q,ue,b){!function(L){"use strict";var S="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),T="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),R=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],A=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;L.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(F,Y){return F?/-MMM-/.test(Y)?T[F.month()]:S[F.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(F){return F+(1===F||8===F||F>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},3501:function(Q,ue,b){!function(L){"use strict";L.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},563:function(Q,ue,b){!function(L){"use strict";L.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(T,R){var A=1===T?"r":2===T?"n":3===T?"r":4===T?"t":"\xe8";return("w"===R||"W"===R)&&(A="a"),T+A},week:{dow:1,doy:4}})}(b(6908))},869:function(Q,ue,b){!function(L){"use strict";var S={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},T={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};L.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(A){return A.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(A,N){return 12===A&&(A=0),"\u0a30\u0a3e\u0a24"===N?A<4?A:A+12:"\u0a38\u0a35\u0a47\u0a30"===N?A:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===N?A>=10?A:A+12:"\u0a38\u0a3c\u0a3e\u0a2e"===N?A+12:void 0},meridiem:function(A,N,F){return A<4?"\u0a30\u0a3e\u0a24":A<10?"\u0a38\u0a35\u0a47\u0a30":A<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":A<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(b(6908))},5302:function(Q,ue,b){!function(L){"use strict";var S="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),T="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),R=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function A(Y){return Y%10<5&&Y%10>1&&~~(Y/10)%10!=1}function N(Y,te,oe){var ae=Y+" ";switch(oe){case"ss":return ae+(A(Y)?"sekundy":"sekund");case"m":return te?"minuta":"minut\u0119";case"mm":return ae+(A(Y)?"minuty":"minut");case"h":return te?"godzina":"godzin\u0119";case"hh":return ae+(A(Y)?"godziny":"godzin");case"ww":return ae+(A(Y)?"tygodnie":"tygodni");case"MM":return ae+(A(Y)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return ae+(A(Y)?"lata":"lat")}}L.defineLocale("pl",{months:function(Y,te){return Y?/D MMMM/.test(te)?T[Y.month()]:S[Y.month()]:S},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:N,m:N,mm:N,h:N,hh:N,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:N,M:"miesi\u0105c",MM:N,y:"rok",yy:N},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},4884:function(Q,ue,b){!function(L){"use strict";L.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(b(6908))},9687:function(Q,ue,b){!function(L){"use strict";L.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},9107:function(Q,ue,b){!function(L){"use strict";function S(R,A,N){var Y=" ";return(R%100>=20||R>=100&&R%100==0)&&(Y=" de "),R+Y+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[N]}L.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:S,m:"un minut",mm:S,h:"o or\u0103",hh:S,d:"o zi",dd:S,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:S,M:"o lun\u0103",MM:S,y:"un an",yy:S},week:{dow:1,doy:7}})}(b(6908))},3627:function(Q,ue,b){!function(L){"use strict";function T(N,F,Y){return"m"===Y?F?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":N+" "+function S(N,F){var Y=N.split("_");return F%10==1&&F%100!=11?Y[0]:F%10>=2&&F%10<=4&&(F%100<10||F%100>=20)?Y[1]:Y[2]}({ss:F?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:F?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[Y],+N)}var R=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];L.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:R,longMonthsParse:R,shortMonthsParse:R,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(N){if(N.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(N){if(N.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:T,m:T,mm:T,h:"\u0447\u0430\u0441",hh:T,d:"\u0434\u0435\u043d\u044c",dd:T,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:T,M:"\u043c\u0435\u0441\u044f\u0446",MM:T,y:"\u0433\u043e\u0434",yy:T},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(N){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(N)},meridiem:function(N,F,Y){return N<4?"\u043d\u043e\u0447\u0438":N<12?"\u0443\u0442\u0440\u0430":N<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(N,F){switch(F){case"M":case"d":case"DDD":return N+"-\u0439";case"D":return N+"-\u0433\u043e";case"w":case"W":return N+"-\u044f";default:return N}},week:{dow:1,doy:4}})}(b(6908))},355:function(Q,ue,b){!function(L){"use strict";var S=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],T=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];L.defineLocale("sd",{months:S,monthsShort:S,weekdays:T,weekdaysShort:T,weekdaysMin:T,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(A){return"\u0634\u0627\u0645"===A},meridiem:function(A,N,F){return A<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(b(6908))},3427:function(Q,ue,b){!function(L){"use strict";L.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1848:function(Q,ue,b){!function(L){"use strict";L.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(T){return T+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(T){return"\u0db4.\u0dc0."===T||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===T},meridiem:function(T,R,A){return T>11?A?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":A?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(b(6908))},4590:function(Q,ue,b){!function(L){"use strict";var S="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),T="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function R(F){return F>1&&F<5}function A(F,Y,te,oe){var ae=F+" ";switch(te){case"s":return Y||oe?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return Y||oe?ae+(R(F)?"sekundy":"sek\xfand"):ae+"sekundami";case"m":return Y?"min\xfata":oe?"min\xfatu":"min\xfatou";case"mm":return Y||oe?ae+(R(F)?"min\xfaty":"min\xfat"):ae+"min\xfatami";case"h":return Y?"hodina":oe?"hodinu":"hodinou";case"hh":return Y||oe?ae+(R(F)?"hodiny":"hod\xedn"):ae+"hodinami";case"d":return Y||oe?"de\u0148":"d\u0148om";case"dd":return Y||oe?ae+(R(F)?"dni":"dn\xed"):ae+"d\u0148ami";case"M":return Y||oe?"mesiac":"mesiacom";case"MM":return Y||oe?ae+(R(F)?"mesiace":"mesiacov"):ae+"mesiacmi";case"y":return Y||oe?"rok":"rokom";case"yy":return Y||oe?ae+(R(F)?"roky":"rokov"):ae+"rokmi"}}L.defineLocale("sk",{months:S,monthsShort:T,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:case 4:case 5:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},184:function(Q,ue,b){!function(L){"use strict";function S(R,A,N,F){var Y=R+" ";switch(N){case"s":return A||F?"nekaj sekund":"nekaj sekundami";case"ss":return Y+(1===R?A?"sekundo":"sekundi":2===R?A||F?"sekundi":"sekundah":R<5?A||F?"sekunde":"sekundah":"sekund");case"m":return A?"ena minuta":"eno minuto";case"mm":return Y+(1===R?A?"minuta":"minuto":2===R?A||F?"minuti":"minutama":R<5?A||F?"minute":"minutami":A||F?"minut":"minutami");case"h":return A?"ena ura":"eno uro";case"hh":return Y+(1===R?A?"ura":"uro":2===R?A||F?"uri":"urama":R<5?A||F?"ure":"urami":A||F?"ur":"urami");case"d":return A||F?"en dan":"enim dnem";case"dd":return Y+(1===R?A||F?"dan":"dnem":2===R?A||F?"dni":"dnevoma":A||F?"dni":"dnevi");case"M":return A||F?"en mesec":"enim mesecem";case"MM":return Y+(1===R?A||F?"mesec":"mesecem":2===R?A||F?"meseca":"mesecema":R<5?A||F?"mesece":"meseci":A||F?"mesecev":"meseci");case"y":return A||F?"eno leto":"enim letom";case"yy":return Y+(1===R?A||F?"leto":"letom":2===R?A||F?"leti":"letoma":R<5?A||F?"leta":"leti":A||F?"let":"leti")}}L.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},6361:function(Q,ue,b){!function(L){"use strict";L.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(T){return"M"===T.charAt(0)},meridiem:function(T,R,A){return T<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1287:function(Q,ue,b){!function(L){"use strict";var S={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(R,A){return R%10>=1&&R%10<=4&&(R%100<10||R%100>=20)?R%10==1?A[0]:A[1]:A[2]},translate:function(R,A,N,F){var te,Y=S.words[N];return 1===N.length?"y"===N&&A?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":F||A?Y[0]:Y[1]:(te=S.correctGrammaticalCase(R,Y),"yy"===N&&A&&"\u0433\u043e\u0434\u0438\u043d\u0443"===te?R+" \u0433\u043e\u0434\u0438\u043d\u0430":R+" "+te)}};L.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:S.translate,m:S.translate,mm:S.translate,h:S.translate,hh:S.translate,d:S.translate,dd:S.translate,M:S.translate,MM:S.translate,y:S.translate,yy:S.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8965:function(Q,ue,b){!function(L){"use strict";var S={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(R,A){return R%10>=1&&R%10<=4&&(R%100<10||R%100>=20)?R%10==1?A[0]:A[1]:A[2]},translate:function(R,A,N,F){var te,Y=S.words[N];return 1===N.length?"y"===N&&A?"jedna godina":F||A?Y[0]:Y[1]:(te=S.correctGrammaticalCase(R,Y),"yy"===N&&A&&"godinu"===te?R+" godina":R+" "+te)}};L.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:S.translate,m:S.translate,mm:S.translate,h:S.translate,hh:S.translate,d:S.translate,dd:S.translate,M:S.translate,MM:S.translate,y:S.translate,yy:S.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},6346:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(T,R,A){return T<11?"ekuseni":T<15?"emini":T<19?"entsambama":"ebusuku"},meridiemHour:function(T,R){return 12===T&&(T=0),"ekuseni"===R?T:"emini"===R?T>=11?T:T+12:"entsambama"===R||"ebusuku"===R?0===T?0:T+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(b(6908))},451:function(Q,ue,b){!function(L){"use strict";L.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?":e":1===R||2===R?":a":":e")},week:{dow:1,doy:4}})}(b(6908))},7558:function(Q,ue,b){!function(L){"use strict";L.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(b(6908))},1356:function(Q,ue,b){!function(L){"use strict";var S={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},T={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};L.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(A){return A+"\u0bb5\u0ba4\u0bc1"},preparse:function(A){return A.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(N){return T[N]})},postformat:function(A){return A.replace(/\d/g,function(N){return S[N]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(A,N,F){return A<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":A<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":A<10?" \u0b95\u0bbe\u0bb2\u0bc8":A<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":A<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":A<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(A,N){return 12===A&&(A=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===N?A<2?A:A+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===N||"\u0b95\u0bbe\u0bb2\u0bc8"===N||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===N&&A>=10?A:A+12},week:{dow:0,doy:6}})}(b(6908))},3693:function(Q,ue,b){!function(L){"use strict";L.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===R?T<4?T:T+12:"\u0c09\u0c26\u0c2f\u0c02"===R?T:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===R?T>=10?T:T+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===R?T+12:void 0},meridiem:function(T,R,A){return T<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":T<10?"\u0c09\u0c26\u0c2f\u0c02":T<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":T<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(b(6908))},1243:function(Q,ue,b){!function(L){"use strict";L.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},2500:function(Q,ue,b){!function(L){"use strict";var S={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};L.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(R,A){return 12===R&&(R=0),"\u0448\u0430\u0431"===A?R<4?R:R+12:"\u0441\u0443\u0431\u04b3"===A?R:"\u0440\u04ef\u0437"===A?R>=11?R:R+12:"\u0431\u0435\u0433\u043e\u04b3"===A?R+12:void 0},meridiem:function(R,A,N){return R<4?"\u0448\u0430\u0431":R<11?"\u0441\u0443\u0431\u04b3":R<16?"\u0440\u04ef\u0437":R<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(R){return R+(S[R]||S[R%10]||S[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},5768:function(Q,ue,b){!function(L){"use strict";L.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(T){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===T},meridiem:function(T,R,A){return T<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(b(6908))},7761:function(Q,ue,b){!function(L){"use strict";var S={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};L.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(R,A){switch(A){case"d":case"D":case"Do":case"DD":return R;default:if(0===R)return R+"'unjy";var N=R%10;return R+(S[N]||S[R%100-N]||S[R>=100?100:null])}},week:{dow:1,doy:7}})}(b(6908))},5780:function(Q,ue,b){!function(L){"use strict";L.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(T){return T},week:{dow:1,doy:4}})}(b(6908))},9590:function(Q,ue,b){!function(L){"use strict";var S="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function A(Y,te,oe,ae){var de=function N(Y){var te=Math.floor(Y%1e3/100),oe=Math.floor(Y%100/10),ae=Y%10,de="";return te>0&&(de+=S[te]+"vatlh"),oe>0&&(de+=(""!==de?" ":"")+S[oe]+"maH"),ae>0&&(de+=(""!==de?" ":"")+S[ae]),""===de?"pagh":de}(Y);switch(oe){case"ss":return de+" lup";case"mm":return de+" tup";case"hh":return de+" rep";case"dd":return de+" jaj";case"MM":return de+" jar";case"yy":return de+" DIS"}}L.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function T(Y){var te=Y;return-1!==Y.indexOf("jaj")?te.slice(0,-3)+"leS":-1!==Y.indexOf("jar")?te.slice(0,-3)+"waQ":-1!==Y.indexOf("DIS")?te.slice(0,-3)+"nem":te+" pIq"},past:function R(Y){var te=Y;return-1!==Y.indexOf("jaj")?te.slice(0,-3)+"Hu\u2019":-1!==Y.indexOf("jar")?te.slice(0,-3)+"wen":-1!==Y.indexOf("DIS")?te.slice(0,-3)+"ben":te+" ret"},s:"puS lup",ss:A,m:"wa\u2019 tup",mm:A,h:"wa\u2019 rep",hh:A,d:"wa\u2019 jaj",dd:A,M:"wa\u2019 jar",MM:A,y:"wa\u2019 DIS",yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},3807:function(Q,ue,b){!function(L){"use strict";var S={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};L.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(R,A,N){return R<12?N?"\xf6\xf6":"\xd6\xd6":N?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(R){return"\xf6s"===R||"\xd6S"===R},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(R,A){switch(A){case"d":case"D":case"Do":case"DD":return R;default:if(0===R)return R+"'\u0131nc\u0131";var N=R%10;return R+(S[N]||S[R%100-N]||S[R>=100?100:null])}},week:{dow:1,doy:7}})}(b(6908))},3857:function(Q,ue,b){!function(L){"use strict";function T(R,A,N,F){var Y={s:["viensas secunds","'iensas secunds"],ss:[R+" secunds",R+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[R+" m\xeduts",R+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[R+" \xfeoras",R+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[R+" ziuas",R+" ziuas"],M:["'n mes","'iens mes"],MM:[R+" mesen",R+" mesen"],y:["'n ar","'iens ar"],yy:[R+" ars",R+" ars"]};return F||A?Y[N][0]:Y[N][1]}L.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(R){return"d'o"===R.toLowerCase()},meridiem:function(R,A,N){return R>11?N?"d'o":"D'O":N?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:T,ss:T,m:T,mm:T,h:T,hh:T,d:T,dd:T,M:T,MM:T,y:T,yy:T},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8806:function(Q,ue,b){!function(L){"use strict";L.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(b(6908))},654:function(Q,ue,b){!function(L){"use strict";L.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(b(6908))},845:function(Q,ue,b){!function(L){"use strict";L.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===R||"\u0633\u06d5\u06be\u06d5\u0631"===R||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===R?T:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===R||"\u0643\u06d5\u0686"===R?T+12:T>=11?T:T+12},meridiem:function(T,R,A){var N=100*T+R;return N<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":N<900?"\u0633\u06d5\u06be\u06d5\u0631":N<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":N<1230?"\u0686\u06c8\u0634":N<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return T+"-\u06be\u06d5\u067e\u062a\u06d5";default:return T}},preparse:function(T){return T.replace(/\u060c/g,",")},postformat:function(T){return T.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(b(6908))},9232:function(Q,ue,b){!function(L){"use strict";function T(F,Y,te){return"m"===te?Y?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===te?Y?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":F+" "+function S(F,Y){var te=F.split("_");return Y%10==1&&Y%100!=11?te[0]:Y%10>=2&&Y%10<=4&&(Y%100<10||Y%100>=20)?te[1]:te[2]}({ss:Y?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:Y?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:Y?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[te],+F)}function A(F){return function(){return F+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}L.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function R(F,Y){var te={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===F?te.nominative.slice(1,7).concat(te.nominative.slice(0,1)):F?te[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(Y)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(Y)?"genitive":"nominative"][F.day()]:te.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:A("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:A("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:A("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:A("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return A("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return A("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:T,m:T,mm:T,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:T,d:"\u0434\u0435\u043d\u044c",dd:T,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:T,y:"\u0440\u0456\u043a",yy:T},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(F){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(F)},meridiem:function(F,Y,te){return F<4?"\u043d\u043e\u0447\u0456":F<12?"\u0440\u0430\u043d\u043a\u0443":F<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(F,Y){switch(Y){case"M":case"d":case"DDD":case"w":case"W":return F+"-\u0439";case"D":return F+"-\u0433\u043e";default:return F}},week:{dow:1,doy:7}})}(b(6908))},7052:function(Q,ue,b){!function(L){"use strict";var S=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],T=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];L.defineLocale("ur",{months:S,monthsShort:S,weekdays:T,weekdaysShort:T,weekdaysMin:T,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(A){return"\u0634\u0627\u0645"===A},meridiem:function(A,N,F){return A<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(b(6908))},2233:function(Q,ue,b){!function(L){"use strict";L.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(b(6908))},7967:function(Q,ue,b){!function(L){"use strict";L.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(b(6908))},8615:function(Q,ue,b){!function(L){"use strict";L.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(T){return/^ch$/i.test(T)},meridiem:function(T,R,A){return T<12?A?"sa":"SA":A?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(T){return T},week:{dow:1,doy:4}})}(b(6908))},2320:function(Q,ue,b){!function(L){"use strict";L.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(T){var R=T%10;return T+(1==~~(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},1313:function(Q,ue,b){!function(L){"use strict";L.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(b(6908))},4490:function(Q,ue,b){!function(L){"use strict";L.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?T:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?T+12:T>=11?T:T+12},meridiem:function(T,R,A){var N=100*T+R;return N<600?"\u51cc\u6668":N<900?"\u65e9\u4e0a":N<1130?"\u4e0a\u5348":N<1230?"\u4e2d\u5348":N<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(T){return T.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(T){return this.week()!==T.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"\u65e5";case"M":return T+"\u6708";case"w":case"W":return T+"\u5468";default:return T}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(b(6908))},5910:function(Q,ue,b){!function(L){"use strict";L.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?T:"\u4e2d\u5348"===R?T>=11?T:T+12:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?T+12:void 0},meridiem:function(T,R,A){var N=100*T+R;return N<600?"\u51cc\u6668":N<900?"\u65e9\u4e0a":N<1200?"\u4e0a\u5348":1200===N?"\u4e2d\u5348":N<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"\u65e5";case"M":return T+"\u6708";case"w":case"W":return T+"\u9031";default:return T}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},8262:function(Q,ue,b){!function(L){"use strict";L.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?T:"\u4e2d\u5348"===R?T>=11?T:T+12:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?T+12:void 0},meridiem:function(T,R,A){var N=100*T+R;return N<600?"\u51cc\u6668":N<900?"\u65e9\u4e0a":N<1130?"\u4e0a\u5348":N<1230?"\u4e2d\u5348":N<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"\u65e5";case"M":return T+"\u6708";case"w":case"W":return T+"\u9031";default:return T}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},4223:function(Q,ue,b){!function(L){"use strict";L.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(T,R){return 12===T&&(T=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?T:"\u4e2d\u5348"===R?T>=11?T:T+12:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?T+12:void 0},meridiem:function(T,R,A){var N=100*T+R;return N<600?"\u51cc\u6668":N<900?"\u65e9\u4e0a":N<1130?"\u4e0a\u5348":N<1230?"\u4e2d\u5348":N<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(T,R){switch(R){case"d":case"D":case"DDD":return T+"\u65e5";case"M":return T+"\u6708";case"w":case"W":return T+"\u9031";default:return T}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},6908:function(Q,ue,b){(Q=b.nmd(Q)).exports=function(){"use strict";var L,xe;function S(){return L.apply(null,arguments)}function R(E){return E instanceof Array||"[object Array]"===Object.prototype.toString.call(E)}function A(E){return null!=E&&"[object Object]"===Object.prototype.toString.call(E)}function N(E,P){return Object.prototype.hasOwnProperty.call(E,P)}function F(E){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(E).length;var P;for(P in E)if(N(E,P))return!1;return!0}function Y(E){return void 0===E}function te(E){return"number"==typeof E||"[object Number]"===Object.prototype.toString.call(E)}function oe(E){return E instanceof Date||"[object Date]"===Object.prototype.toString.call(E)}function ae(E,P){var le,Z=[],ve=E.length;for(le=0;le<ve;++le)Z.push(P(E[le],le));return Z}function de(E,P){for(var Z in P)N(P,Z)&&(E[Z]=P[Z]);return N(P,"toString")&&(E.toString=P.toString),N(P,"valueOf")&&(E.valueOf=P.valueOf),E}function pe(E,P,Z,le){return mi(E,P,Z,le,!0).utc()}function ce(E){return null==E._pf&&(E._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),E._pf}function Pe(E){if(null==E._isValid){var P=ce(E),Z=xe.call(P.parsedDateParts,function(ve){return null!=ve}),le=!isNaN(E._d.getTime())&&P.overflow<0&&!P.empty&&!P.invalidEra&&!P.invalidMonth&&!P.invalidWeekday&&!P.weekdayMismatch&&!P.nullInput&&!P.invalidFormat&&!P.userInvalidated&&(!P.meridiem||P.meridiem&&Z);if(E._strict&&(le=le&&0===P.charsLeftOver&&0===P.unusedTokens.length&&void 0===P.bigHour),null!=Object.isFrozen&&Object.isFrozen(E))return le;E._isValid=le}return E._isValid}function Te(E){var P=pe(NaN);return null!=E?de(ce(P),E):ce(P).userInvalidated=!0,P}xe=Array.prototype.some?Array.prototype.some:function(E){var le,P=Object(this),Z=P.length>>>0;for(le=0;le<Z;le++)if(le in P&&E.call(this,P[le],le,P))return!0;return!1};var ze=S.momentProperties=[],rt=!1;function Ue(E,P){var Z,le,ve,ct=ze.length;if(Y(P._isAMomentObject)||(E._isAMomentObject=P._isAMomentObject),Y(P._i)||(E._i=P._i),Y(P._f)||(E._f=P._f),Y(P._l)||(E._l=P._l),Y(P._strict)||(E._strict=P._strict),Y(P._tzm)||(E._tzm=P._tzm),Y(P._isUTC)||(E._isUTC=P._isUTC),Y(P._offset)||(E._offset=P._offset),Y(P._pf)||(E._pf=ce(P)),Y(P._locale)||(E._locale=P._locale),ct>0)for(Z=0;Z<ct;Z++)Y(ve=P[le=ze[Z]])||(E[le]=ve);return E}function Re(E){Ue(this,E),this._d=new Date(null!=E._d?E._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===rt&&(rt=!0,S.updateOffset(this),rt=!1)}function Ge(E){return E instanceof Re||null!=E&&null!=E._isAMomentObject}function ut(E){!1===S.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+E)}function tt(E,P){var Z=!0;return de(function(){if(null!=S.deprecationHandler&&S.deprecationHandler(null,E),Z){var ve,ct,Qt,le=[],Ur=arguments.length;for(ct=0;ct<Ur;ct++){if(ve="","object"==typeof arguments[ct]){for(Qt in ve+="\n["+ct+"] ",arguments[0])N(arguments[0],Qt)&&(ve+=Qt+": "+arguments[0][Qt]+", ");ve=ve.slice(0,-2)}else ve=arguments[ct];le.push(ve)}ut(E+"\nArguments: "+Array.prototype.slice.call(le).join("")+"\n"+(new Error).stack),Z=!1}return P.apply(this,arguments)},P)}var Pt,mt={};function kt(E,P){null!=S.deprecationHandler&&S.deprecationHandler(E,P),mt[E]||(ut(P),mt[E]=!0)}function Ht(E){return"undefined"!=typeof Function&&E instanceof Function||"[object Function]"===Object.prototype.toString.call(E)}function Gt(E,P){var le,Z=de({},E);for(le in P)N(P,le)&&(A(E[le])&&A(P[le])?(Z[le]={},de(Z[le],E[le]),de(Z[le],P[le])):null!=P[le]?Z[le]=P[le]:delete Z[le]);for(le in E)N(E,le)&&!N(P,le)&&A(E[le])&&(Z[le]=de({},Z[le]));return Z}function Xt(E){null!=E&&this.set(E)}S.suppressDeprecationWarnings=!1,S.deprecationHandler=null,Pt=Object.keys?Object.keys:function(E){var P,Z=[];for(P in E)N(E,P)&&Z.push(P);return Z};function dt(E,P,Z){var le=""+Math.abs(E);return(E>=0?Z?"+":"":"-")+Math.pow(10,Math.max(0,P-le.length)).toString().substr(1)+le}var Dt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yn={},wn={};function Nt(E,P,Z,le){var ve=le;"string"==typeof le&&(ve=function(){return this[le]()}),E&&(wn[E]=ve),P&&(wn[P[0]]=function(){return dt(ve.apply(this,arguments),P[1],P[2])}),Z&&(wn[Z]=function(){return this.localeData().ordinal(ve.apply(this,arguments),E)})}function $n(E){return E.match(/\[[\s\S]/)?E.replace(/^\[|\]$/g,""):E.replace(/\\/g,"")}function Un(E,P){return E.isValid()?(P=kn(P,E.localeData()),yn[P]=yn[P]||function Vn(E){var Z,le,P=E.match(Dt);for(Z=0,le=P.length;Z<le;Z++)P[Z]=wn[P[Z]]?wn[P[Z]]:$n(P[Z]);return function(ve){var Qt,ct="";for(Qt=0;Qt<le;Qt++)ct+=Ht(P[Qt])?P[Qt].call(ve,E):P[Qt];return ct}}(P),yn[P](E)):E.localeData().invalidDate()}function kn(E,P){var Z=5;function le(ve){return P.longDateFormat(ve)||ve}for(Yt.lastIndex=0;Z>=0&&Yt.test(E);)E=E.replace(Yt,le),Yt.lastIndex=0,Z-=1;return E}var qe={};function bt(E,P){var Z=E.toLowerCase();qe[Z]=qe[Z+"s"]=qe[P]=E}function lt(E){return"string"==typeof E?qe[E]||qe[E.toLowerCase()]:void 0}function Ke(E){var Z,le,P={};for(le in E)N(E,le)&&(Z=lt(le))&&(P[Z]=E[le]);return P}var Ye={};function $e(E,P){Ye[E]=P}function ft(E){return E%4==0&&E%100!=0||E%400==0}function Ct(E){return E<0?Math.ceil(E)||0:Math.floor(E)}function qt(E){var P=+E,Z=0;return 0!==P&&isFinite(P)&&(Z=Ct(P)),Z}function cn(E,P){return function(Z){return null!=Z?(Pn(this,E,Z),S.updateOffset(this,P),this):Mn(this,E)}}function Mn(E,P){return E.isValid()?E._d["get"+(E._isUTC?"UTC":"")+P]():NaN}function Pn(E,P,Z){E.isValid()&&!isNaN(Z)&&("FullYear"===P&&ft(E.year())&&1===E.month()&&29===E.date()?(Z=qt(Z),E._d["set"+(E._isUTC?"UTC":"")+P](Z,E.month(),ju(Z,E.month()))):E._d["set"+(E._isUTC?"UTC":"")+P](Z))}var wa,ri=/\d/,ai=/\d\d/,Ri=/\d{3}/,su=/\d{4}/,kl=/[+-]?\d{6}/,Gi=/\d\d?/,ia=/\d\d\d\d?/,oa=/\d\d\d\d\d\d?/,Mo=/\d{1,3}/,ds=/\d{1,4}/,$i=/[+-]?\d{1,6}/,Ll=/\d+/,au=/[+-]?\d+/,Il=/Z|[+-]\d\d:?\d\d/gi,fs=/Z|[+-]\d\d(?::?\d\d)?/gi,bc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Jn(E,P,Z){wa[E]=Ht(P)?P:function(le,ve){return le&&Z?Z:P}}function nf(E,P){return N(wa,E)?wa[E](P._strict,P._locale):new RegExp(function Uu(E){return Wo(E.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(P,Z,le,ve,ct){return Z||le||ve||ct}))}(E))}function Wo(E){return E.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}wa={};var rl={};function go(E,P){var Z,ve,le=P;for("string"==typeof E&&(E=[E]),te(P)&&(le=function(ct,Qt){Qt[P]=qt(ct)}),ve=E.length,Z=0;Z<ve;Z++)rl[E[Z]]=le}function Uo(E,P){go(E,function(Z,le,ve,ct){ve._w=ve._w||{},P(Z,ve._w,ve,ct)})}function So(E,P,Z){null!=P&&N(rl,E)&&rl[E](P,Z._a,Z,E)}var xo;function ju(E,P){if(isNaN(E)||isNaN(P))return NaN;var Z=function lu(E,P){return(E%P+P)%P}(P,12);return E+=(P-Z)/12,1===Z?ft(E)?29:28:31-Z%7%2}xo=Array.prototype.indexOf?Array.prototype.indexOf:function(E){var P;for(P=0;P<this.length;++P)if(this[P]===E)return P;return-1},Nt("M",["MM",2],"Mo",function(){return this.month()+1}),Nt("MMM",0,0,function(E){return this.localeData().monthsShort(this,E)}),Nt("MMMM",0,0,function(E){return this.localeData().months(this,E)}),bt("month","M"),$e("month",8),Jn("M",Gi),Jn("MM",Gi,ai),Jn("MMM",function(E,P){return P.monthsShortRegex(E)}),Jn("MMMM",function(E,P){return P.monthsRegex(E)}),go(["M","MM"],function(E,P){P[1]=qt(E)-1}),go(["MMM","MMMM"],function(E,P,Z,le){var ve=Z._locale.monthsParse(E,le,Z._strict);null!=ve?P[1]=ve:ce(Z).invalidMonth=E});var af="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),uu="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Wu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,lf=bc,uh=bc;function uf(E,P,Z){var le,ve,ct,Qt=E.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],le=0;le<12;++le)ct=pe([2e3,le]),this._shortMonthsParse[le]=this.monthsShort(ct,"").toLocaleLowerCase(),this._longMonthsParse[le]=this.months(ct,"").toLocaleLowerCase();return Z?"MMM"===P?-1!==(ve=xo.call(this._shortMonthsParse,Qt))?ve:null:-1!==(ve=xo.call(this._longMonthsParse,Qt))?ve:null:"MMM"===P?-1!==(ve=xo.call(this._shortMonthsParse,Qt))||-1!==(ve=xo.call(this._longMonthsParse,Qt))?ve:null:-1!==(ve=xo.call(this._longMonthsParse,Qt))||-1!==(ve=xo.call(this._shortMonthsParse,Qt))?ve:null}function qi(E,P){var Z;if(!E.isValid())return E;if("string"==typeof P)if(/^\d+$/.test(P))P=qt(P);else if(!te(P=E.localeData().monthsParse(P)))return E;return Z=Math.min(E.date(),ju(E.year(),P)),E._d["set"+(E._isUTC?"UTC":"")+"Month"](P,Z),E}function Pl(E){return null!=E?(qi(this,E),S.updateOffset(this,!0),this):Mn(this,"Month")}function no(){function E(Qt,Ur){return Ur.length-Qt.length}var ve,ct,P=[],Z=[],le=[];for(ve=0;ve<12;ve++)ct=pe([2e3,ve]),P.push(this.monthsShort(ct,"")),Z.push(this.months(ct,"")),le.push(this.months(ct,"")),le.push(this.monthsShort(ct,""));for(P.sort(E),Z.sort(E),le.sort(E),ve=0;ve<12;ve++)P[ve]=Wo(P[ve]),Z[ve]=Wo(Z[ve]);for(ve=0;ve<24;ve++)le[ve]=Wo(le[ve]);this._monthsRegex=new RegExp("^("+le.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Z.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+P.join("|")+")","i")}function Vr(E){return ft(E)?366:365}Nt("Y",0,0,function(){var E=this.year();return E<=9999?dt(E,4):"+"+E}),Nt(0,["YY",2],0,function(){return this.year()%100}),Nt(0,["YYYY",4],0,"year"),Nt(0,["YYYYY",5],0,"year"),Nt(0,["YYYYYY",6,!0],0,"year"),bt("year","y"),$e("year",1),Jn("Y",au),Jn("YY",Gi,ai),Jn("YYYY",ds,su),Jn("YYYYY",$i,kl),Jn("YYYYYY",$i,kl),go(["YYYYY","YYYYYY"],0),go("YYYY",function(E,P){P[0]=2===E.length?S.parseTwoDigitYear(E):qt(E)}),go("YY",function(E,P){P[0]=S.parseTwoDigitYear(E)}),go("Y",function(E,P){P[0]=parseInt(E,10)}),S.parseTwoDigitYear=function(E){return qt(E)+(qt(E)>68?1900:2e3)};var Mc=cn("FullYear",!0);function sn(E,P,Z,le,ve,ct,Qt){var Ur;return E<100&&E>=0?(Ur=new Date(E+400,P,Z,le,ve,ct,Qt),isFinite(Ur.getFullYear())&&Ur.setFullYear(E)):Ur=new Date(E,P,Z,le,ve,ct,Qt),Ur}function ol(E){var P,Z;return E<100&&E>=0?((Z=Array.prototype.slice.call(arguments))[0]=E+400,P=new Date(Date.UTC.apply(null,Z)),isFinite(P.getUTCFullYear())&&P.setUTCFullYear(E)):P=new Date(Date.UTC.apply(null,arguments)),P}function Kr(E,P,Z){var le=7+P-Z;return-(7+ol(E,0,le).getUTCDay()-P)%7+le-1}function ki(E,P,Z,le,ve){var Di,Fo,Ur=1+7*(P-1)+(7+Z-le)%7+Kr(E,le,ve);return Ur<=0?Fo=Vr(Di=E-1)+Ur:Ur>Vr(E)?(Di=E+1,Fo=Ur-Vr(E)):(Di=E,Fo=Ur),{year:Di,dayOfYear:Fo}}function ud(E,P,Z){var ct,Qt,le=Kr(E.year(),P,Z),ve=Math.floor((E.dayOfYear()-le-1)/7)+1;return ve<1?ct=ve+cu(Qt=E.year()-1,P,Z):ve>cu(E.year(),P,Z)?(ct=ve-cu(E.year(),P,Z),Qt=E.year()+1):(Qt=E.year(),ct=ve),{week:ct,year:Qt}}function cu(E,P,Z){var le=Kr(E,P,Z),ve=Kr(E+1,P,Z);return(Vr(E)-le+ve)/7}Nt("w",["ww",2],"wo","week"),Nt("W",["WW",2],"Wo","isoWeek"),bt("week","w"),bt("isoWeek","W"),$e("week",5),$e("isoWeek",5),Jn("w",Gi),Jn("ww",Gi,ai),Jn("W",Gi),Jn("WW",Gi,ai),Uo(["w","ww","W","WW"],function(E,P,Z,le){P[le.substr(0,1)]=qt(E)});function cd(E,P){return E.slice(P,7).concat(E.slice(0,P))}Nt("d",0,"do","day"),Nt("dd",0,0,function(E){return this.localeData().weekdaysMin(this,E)}),Nt("ddd",0,0,function(E){return this.localeData().weekdaysShort(this,E)}),Nt("dddd",0,0,function(E){return this.localeData().weekdays(this,E)}),Nt("e",0,0,"weekday"),Nt("E",0,0,"isoWeekday"),bt("day","d"),bt("weekday","e"),bt("isoWeekday","E"),$e("day",11),$e("weekday",11),$e("isoWeekday",11),Jn("d",Gi),Jn("e",Gi),Jn("E",Gi),Jn("dd",function(E,P){return P.weekdaysMinRegex(E)}),Jn("ddd",function(E,P){return P.weekdaysShortRegex(E)}),Jn("dddd",function(E,P){return P.weekdaysRegex(E)}),Uo(["dd","ddd","dddd"],function(E,P,Z,le){var ve=Z._locale.weekdaysParse(E,le,Z._strict);null!=ve?P.d=ve:ce(Z).invalidWeekday=E}),Uo(["d","e","E"],function(E,P,Z,le){P[le]=qt(E)});var pp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),lg="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fl="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),mp=bc,gp=bc,df=bc;function Sc(E,P,Z){var le,ve,ct,Qt=E.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],le=0;le<7;++le)ct=pe([2e3,1]).day(le),this._minWeekdaysParse[le]=this.weekdaysMin(ct,"").toLocaleLowerCase(),this._shortWeekdaysParse[le]=this.weekdaysShort(ct,"").toLocaleLowerCase(),this._weekdaysParse[le]=this.weekdays(ct,"").toLocaleLowerCase();return Z?"dddd"===P?-1!==(ve=xo.call(this._weekdaysParse,Qt))?ve:null:"ddd"===P?-1!==(ve=xo.call(this._shortWeekdaysParse,Qt))?ve:null:-1!==(ve=xo.call(this._minWeekdaysParse,Qt))?ve:null:"dddd"===P?-1!==(ve=xo.call(this._weekdaysParse,Qt))||-1!==(ve=xo.call(this._shortWeekdaysParse,Qt))||-1!==(ve=xo.call(this._minWeekdaysParse,Qt))?ve:null:"ddd"===P?-1!==(ve=xo.call(this._shortWeekdaysParse,Qt))||-1!==(ve=xo.call(this._weekdaysParse,Qt))||-1!==(ve=xo.call(this._minWeekdaysParse,Qt))?ve:null:-1!==(ve=xo.call(this._minWeekdaysParse,Qt))||-1!==(ve=xo.call(this._weekdaysParse,Qt))||-1!==(ve=xo.call(this._shortWeekdaysParse,Qt))?ve:null}function Zn(){function E(js,Fc){return Fc.length-js.length}var ct,Qt,Ur,Di,Fo,P=[],Z=[],le=[],ve=[];for(ct=0;ct<7;ct++)Qt=pe([2e3,1]).day(ct),Ur=Wo(this.weekdaysMin(Qt,"")),Di=Wo(this.weekdaysShort(Qt,"")),Fo=Wo(this.weekdays(Qt,"")),P.push(Ur),Z.push(Di),le.push(Fo),ve.push(Ur),ve.push(Di),ve.push(Fo);P.sort(E),Z.sort(E),le.sort(E),ve.sort(E),this._weekdaysRegex=new RegExp("^("+ve.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+le.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Z.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+P.join("|")+")","i")}function Ni(){return this.hours()%12||12}function _s(E,P){Nt(E,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),P)})}function hs(E,P){return P._meridiemParse}Nt("H",["HH",2],0,"hour"),Nt("h",["hh",2],0,Ni),Nt("k",["kk",2],0,function ys(){return this.hours()||24}),Nt("hmm",0,0,function(){return""+Ni.apply(this)+dt(this.minutes(),2)}),Nt("hmmss",0,0,function(){return""+Ni.apply(this)+dt(this.minutes(),2)+dt(this.seconds(),2)}),Nt("Hmm",0,0,function(){return""+this.hours()+dt(this.minutes(),2)}),Nt("Hmmss",0,0,function(){return""+this.hours()+dt(this.minutes(),2)+dt(this.seconds(),2)}),_s("a",!0),_s("A",!1),bt("hour","h"),$e("hour",13),Jn("a",hs),Jn("A",hs),Jn("H",Gi),Jn("h",Gi),Jn("k",Gi),Jn("HH",Gi,ai),Jn("hh",Gi,ai),Jn("kk",Gi,ai),Jn("hmm",ia),Jn("hmmss",oa),Jn("Hmm",ia),Jn("Hmmss",oa),go(["H","HH"],3),go(["k","kk"],function(E,P,Z){var le=qt(E);P[3]=24===le?0:le}),go(["a","A"],function(E,P,Z){Z._isPm=Z._locale.isPM(E),Z._meridiem=E}),go(["h","hh"],function(E,P,Z){P[3]=qt(E),ce(Z).bigHour=!0}),go("hmm",function(E,P,Z){var le=E.length-2;P[3]=qt(E.substr(0,le)),P[4]=qt(E.substr(le)),ce(Z).bigHour=!0}),go("hmmss",function(E,P,Z){var le=E.length-4,ve=E.length-2;P[3]=qt(E.substr(0,le)),P[4]=qt(E.substr(le,2)),P[5]=qt(E.substr(ve)),ce(Z).bigHour=!0}),go("Hmm",function(E,P,Z){var le=E.length-2;P[3]=qt(E.substr(0,le)),P[4]=qt(E.substr(le))}),go("Hmmss",function(E,P,Z){var le=E.length-4,ve=E.length-2;P[3]=qt(E.substr(0,le)),P[4]=qt(E.substr(le,2)),P[5]=qt(E.substr(ve))});var fd=cn("Hours",!0);var ja,Hs={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:af,monthsShort:uu,week:{dow:0,doy:6},weekdays:pp,weekdaysMin:Fl,weekdaysShort:lg,meridiemParse:/[ap]\.?m?\.?/i},Xo={},ug={};function du(E,P){var Z,le=Math.min(E.length,P.length);for(Z=0;Z<le;Z+=1)if(E[Z]!==P[Z])return Z;return le}function Fx(E){return E&&E.toLowerCase().replace("_","-")}function Eo(E){var P=null;if(void 0===Xo[E]&&Q&&Q.exports&&function fu(E){return null!=E.match("^[^/\\\\]*$")}(E))try{P=ja._abbr,b(6700)("./"+E),hf(P)}catch(le){Xo[E]=null}return Xo[E]}function hf(E,P){var Z;return E&&((Z=Y(P)?Fi(E):Aw(E,P))?ja=Z:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+E+" not found. Did you forget to load it?")),ja._abbr}function Aw(E,P){if(null!==P){var Z,le=Hs;if(P.abbr=E,null!=Xo[E])kt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),le=Xo[E]._config;else if(null!=P.parentLocale)if(null!=Xo[P.parentLocale])le=Xo[P.parentLocale]._config;else{if(null==(Z=Eo(P.parentLocale)))return ug[P.parentLocale]||(ug[P.parentLocale]=[]),ug[P.parentLocale].push({name:E,config:P}),null;le=Z._config}return Xo[E]=new Xt(Gt(le,P)),ug[E]&&ug[E].forEach(function(ve){Aw(ve.name,ve.config)}),hf(E),Xo[E]}return delete Xo[E],null}function Fi(E){var P;if(E&&E._locale&&E._locale._abbr&&(E=E._locale._abbr),!E)return ja;if(!R(E)){if(P=Eo(E))return P;E=[E]}return function pR(E){for(var Z,le,ve,ct,P=0;P<E.length;){for(Z=(ct=Fx(E[P]).split("-")).length,le=(le=Fx(E[P+1]))?le.split("-"):null;Z>0;){if(ve=Eo(ct.slice(0,Z).join("-")))return ve;if(le&&le.length>=Z&&du(ct,le)>=Z-1)break;Z--}P++}return ja}(E)}function _p(E){var P,Z=E._a;return Z&&-2===ce(E).overflow&&(P=Z[1]<0||Z[1]>11?1:Z[2]<1||Z[2]>ju(Z[0],Z[1])?2:Z[3]<0||Z[3]>24||24===Z[3]&&(0!==Z[4]||0!==Z[5]||0!==Z[6])?3:Z[4]<0||Z[4]>59?4:Z[5]<0||Z[5]>59?5:Z[6]<0||Z[6]>999?6:-1,ce(E)._overflowDayOfYear&&(P<0||P>2)&&(P=2),ce(E)._overflowWeeks&&-1===P&&(P=7),ce(E)._overflowWeekday&&-1===P&&(P=8),ce(E).overflow=P),E}var xy=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ow=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gu=/Z|[+-]\d\d(?::?\d\d)?/,Hl=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],xc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],li=/^\/?Date\((-?\d+)/i,Hx=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,kw={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Cy(E){var P,Z,ct,Qt,Ur,Di,le=E._i,ve=xy.exec(le)||Ow.exec(le),Fo=Hl.length,js=xc.length;if(ve){for(ce(E).iso=!0,P=0,Z=Fo;P<Z;P++)if(Hl[P][1].exec(ve[1])){Qt=Hl[P][0],ct=!1!==Hl[P][2];break}if(null==Qt)return void(E._isValid=!1);if(ve[3]){for(P=0,Z=js;P<Z;P++)if(xc[P][1].exec(ve[3])){Ur=(ve[2]||" ")+xc[P][0];break}if(null==Ur)return void(E._isValid=!1)}if(!ct&&null!=Ur)return void(E._isValid=!1);if(ve[4]){if(!Gu.exec(ve[4]))return void(E._isValid=!1);Di="Z"}E._f=Qt+(Ur||"")+(Di||""),Bl(E)}else E._isValid=!1}function Bx(E){var P=parseInt(E,10);return P<=49?2e3+P:P<=999?1900+P:P}function zi(E){var Z,P=Hx.exec(function Lw(E){return E.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(E._i));if(P){if(Z=function pi(E,P,Z,le,ve,ct){var Qt=[Bx(E),uu.indexOf(P),parseInt(Z,10),parseInt(le,10),parseInt(ve,10)];return ct&&Qt.push(parseInt(ct,10)),Qt}(P[4],P[3],P[2],P[5],P[6],P[7]),!function Ln(E,P,Z){return!E||lg.indexOf(E)===new Date(P[0],P[1],P[2]).getDay()||(ce(Z).weekdayMismatch=!0,Z._isValid=!1,!1)}(P[1],Z,E))return;E._a=Z,E._tzm=function xa(E,P,Z){if(E)return kw[E];if(P)return 0;var le=parseInt(Z,10),ve=le%100;return(le-ve)/100*60+ve}(P[8],P[9],P[10]),E._d=ol.apply(null,E._a),E._d.setUTCMinutes(E._d.getUTCMinutes()-E._tzm),ce(E).rfc2822=!0}else E._isValid=!1}function ps(E,P,Z){return null!=E?E:null!=P?P:Z}function vn(E){var P,Z,ve,ct,Qt,le=[];if(!E._d){for(ve=function Er(E){var P=new Date(S.now());return E._useUTC?[P.getUTCFullYear(),P.getUTCMonth(),P.getUTCDate()]:[P.getFullYear(),P.getMonth(),P.getDate()]}(E),E._w&&null==E._a[2]&&null==E._a[1]&&function Ts(E){var P,Z,le,ve,ct,Qt,Ur,Di,Fo;null!=(P=E._w).GG||null!=P.W||null!=P.E?(ct=1,Qt=4,Z=ps(P.GG,E._a[0],ud(br(),1,4).year),le=ps(P.W,1),((ve=ps(P.E,1))<1||ve>7)&&(Di=!0)):(ct=E._locale._week.dow,Qt=E._locale._week.doy,Fo=ud(br(),ct,Qt),Z=ps(P.gg,E._a[0],Fo.year),le=ps(P.w,Fo.week),null!=P.d?((ve=P.d)<0||ve>6)&&(Di=!0):null!=P.e?(ve=P.e+ct,(P.e<0||P.e>6)&&(Di=!0)):ve=ct),le<1||le>cu(Z,ct,Qt)?ce(E)._overflowWeeks=!0:null!=Di?ce(E)._overflowWeekday=!0:(Ur=ki(Z,le,ve,ct,Qt),E._a[0]=Ur.year,E._dayOfYear=Ur.dayOfYear)}(E),null!=E._dayOfYear&&(Qt=ps(E._a[0],ve[0]),(E._dayOfYear>Vr(Qt)||0===E._dayOfYear)&&(ce(E)._overflowDayOfYear=!0),Z=ol(Qt,0,E._dayOfYear),E._a[1]=Z.getUTCMonth(),E._a[2]=Z.getUTCDate()),P=0;P<3&&null==E._a[P];++P)E._a[P]=le[P]=ve[P];for(;P<7;P++)E._a[P]=le[P]=null==E._a[P]?2===P?1:0:E._a[P];24===E._a[3]&&0===E._a[4]&&0===E._a[5]&&0===E._a[6]&&(E._nextDay=!0,E._a[3]=0),E._d=(E._useUTC?ol:sn).apply(null,le),ct=E._useUTC?E._d.getUTCDay():E._d.getDay(),null!=E._tzm&&E._d.setUTCMinutes(E._d.getUTCMinutes()-E._tzm),E._nextDay&&(E._a[3]=24),E._w&&void 0!==E._w.d&&E._w.d!==ct&&(ce(E).weekdayMismatch=!0)}}function Bl(E){if(E._f!==S.ISO_8601)if(E._f!==S.RFC_2822){E._a=[],ce(E).empty=!0;var Z,le,ve,ct,Qt,Fo,js,P=""+E._i,Ur=P.length,Di=0;for(js=(ve=kn(E._f,E._locale).match(Dt)||[]).length,Z=0;Z<js;Z++)(le=(P.match(nf(ct=ve[Z],E))||[])[0])&&((Qt=P.substr(0,P.indexOf(le))).length>0&&ce(E).unusedInput.push(Qt),P=P.slice(P.indexOf(le)+le.length),Di+=le.length),wn[ct]?(le?ce(E).empty=!1:ce(E).unusedTokens.push(ct),So(ct,le,E)):E._strict&&!le&&ce(E).unusedTokens.push(ct);ce(E).charsLeftOver=Ur-Di,P.length>0&&ce(E).unusedInput.push(P),E._a[3]<=12&&!0===ce(E).bigHour&&E._a[3]>0&&(ce(E).bigHour=void 0),ce(E).parsedDateParts=E._a.slice(0),ce(E).meridiem=E._meridiem,E._a[3]=function $u(E,P,Z){var le;return null==Z?P:null!=E.meridiemHour?E.meridiemHour(P,Z):(null!=E.isPM&&((le=E.isPM(Z))&&P<12&&(P+=12),!le&&12===P&&(P=0)),P)}(E._locale,E._a[3],E._meridiem),null!==(Fo=ce(E).era)&&(E._a[0]=E._locale.erasConvertYear(Fo,E._a[0])),vn(E),_p(E)}else zi(E);else Cy(E)}function wi(E){var P=E._i,Z=E._f;return E._locale=E._locale||Fi(E._l),null===P||void 0===Z&&""===P?Te({nullInput:!0}):("string"==typeof P&&(E._i=P=E._locale.preparse(P)),Ge(P)?new Re(_p(P)):(oe(P)?E._d=P:R(Z)?function pf(E){var P,Z,le,ve,ct,Qt,Ur=!1,Di=E._f.length;if(0===Di)return ce(E).invalidFormat=!0,void(E._d=new Date(NaN));for(ve=0;ve<Di;ve++)ct=0,Qt=!1,P=Ue({},E),null!=E._useUTC&&(P._useUTC=E._useUTC),P._f=E._f[ve],Bl(P),Pe(P)&&(Qt=!0),ct+=ce(P).charsLeftOver,ct+=10*ce(P).unusedTokens.length,ce(P).score=ct,Ur?ct<le&&(le=ct,Z=P):(null==le||ct<le||Qt)&&(le=ct,Z=P,Qt&&(Ur=!0));de(E,Z||P)}(E):Z?Bl(E):function Xn(E){var P=E._i;Y(P)?E._d=new Date(S.now()):oe(P)?E._d=new Date(P.valueOf()):"string"==typeof P?function To(E){var P=li.exec(E._i);null===P?(Cy(E),!1===E._isValid&&(delete E._isValid,zi(E),!1===E._isValid&&(delete E._isValid,E._strict?E._isValid=!1:S.createFromInputFallback(E)))):E._d=new Date(+P[1])}(E):R(P)?(E._a=ae(P.slice(0),function(Z){return parseInt(Z,10)}),vn(E)):A(P)?function so(E){if(!E._d){var P=Ke(E._i);E._a=ae([P.year,P.month,void 0===P.day?P.date:P.day,P.hour,P.minute,P.second,P.millisecond],function(le){return le&&parseInt(le,10)}),vn(E)}}(E):te(P)?E._d=new Date(P):S.createFromInputFallback(E)}(E),Pe(E)||(E._d=null),E))}function mi(E,P,Z,le,ve){var ct={};return(!0===P||!1===P)&&(le=P,P=void 0),(!0===Z||!1===Z)&&(le=Z,Z=void 0),(A(E)&&F(E)||R(E)&&0===E.length)&&(E=void 0),ct._isAMomentObject=!0,ct._useUTC=ct._isUTC=ve,ct._l=Z,ct._i=E,ct._f=P,ct._strict=le,function Ey(E){var P=new Re(_p(wi(E)));return P._nextDay&&(P.add(1,"d"),P._nextDay=void 0),P}(ct)}function br(E,P,Z,le){return mi(E,P,Z,le,!1)}S.createFromInputFallback=tt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(E){E._d=new Date(E._i+(E._useUTC?" UTC":""))}),S.ISO_8601=function(){},S.RFC_2822=function(){};var Se=tt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var E=br.apply(null,arguments);return this.isValid()&&E.isValid()?E<this?this:E:Te()}),Cc=tt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var E=br.apply(null,arguments);return this.isValid()&&E.isValid()?E>this?this:E:Te()});function Bs(E,P){var Z,le;if(1===P.length&&R(P[0])&&(P=P[0]),!P.length)return br();for(Z=P[0],le=1;le<P.length;++le)(!P[le].isValid()||P[le][E](Z))&&(Z=P[le]);return Z}var Vl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Sl(E){var P=Ke(E),Z=P.year||0,le=P.quarter||0,ve=P.month||0,ct=P.week||P.isoWeek||0,Qt=P.day||0,Ur=P.hour||0,Di=P.minute||0,Fo=P.second||0,js=P.millisecond||0;this._isValid=function ui(E){var P,le,Z=!1,ve=Vl.length;for(P in E)if(N(E,P)&&(-1===xo.call(Vl,P)||null!=E[P]&&isNaN(E[P])))return!1;for(le=0;le<ve;++le)if(E[Vl[le]]){if(Z)return!1;parseFloat(E[Vl[le]])!==qt(E[Vl[le]])&&(Z=!0)}return!0}(P),this._milliseconds=+js+1e3*Fo+6e4*Di+1e3*Ur*60*60,this._days=+Qt+7*ct,this._months=+ve+3*le+12*Z,this._data={},this._locale=Fi(),this._bubble()}function fa(E){return E instanceof Sl}function is(E){return E<0?-1*Math.round(-1*E):Math.round(E)}function Xu(E,P){Nt(E,0,0,function(){var Z=this.utcOffset(),le="+";return Z<0&&(Z=-Z,le="-"),le+dt(~~(Z/60),2)+P+dt(~~Z%60,2)})}Xu("Z",":"),Xu("ZZ",""),Jn("Z",fs),Jn("ZZ",fs),go(["Z","ZZ"],function(E,P,Z){Z._useUTC=!0,Z._tzm=al(fs,E)});var sl=/([\+\-]|\d\d)/gi;function al(E,P){var ve,ct,Z=(P||"").match(E);return null===Z?null:0===(ct=60*(ve=((Z[Z.length-1]||[])+"").match(sl)||["-",0,0])[1]+qt(ve[2]))?0:"+"===ve[0]?ct:-ct}function fh(E,P){var Z,le;return P._isUTC?(Z=P.clone(),le=(Ge(E)||oe(E)?E.valueOf():br(E).valueOf())-Z.valueOf(),Z._d.setTime(Z._d.valueOf()+le),S.updateOffset(Z,!1),Z):br(E).local()}function jo(E){return-Math.round(E._d.getTimezoneOffset())}function gf(){return!!this.isValid()&&this._isUTC&&0===this._offset}S.updateOffset=function(){};var pu=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,mR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Zu(E,P){var ve,ct,Qt,Z=E,le=null;return fa(E)?Z={ms:E._milliseconds,d:E._days,M:E._months}:te(E)||!isNaN(+E)?(Z={},P?Z[P]=+E:Z.milliseconds=+E):(le=pu.exec(E))?(ve="-"===le[1]?-1:1,Z={y:0,d:qt(le[2])*ve,h:qt(le[3])*ve,m:qt(le[4])*ve,s:qt(le[5])*ve,ms:qt(is(1e3*le[6]))*ve}):(le=mR.exec(E))?Z={y:Cl(le[2],ve="-"===le[1]?-1:1),M:Cl(le[3],ve),w:Cl(le[4],ve),d:Cl(le[5],ve),h:Cl(le[6],ve),m:Cl(le[7],ve),s:Cl(le[8],ve)}:null==Z?Z={}:"object"==typeof Z&&("from"in Z||"to"in Z)&&(Qt=function zl(E,P){var Z;return E.isValid()&&P.isValid()?(P=fh(P,E),E.isBefore(P)?Z=dg(E,P):((Z=dg(P,E)).milliseconds=-Z.milliseconds,Z.months=-Z.months),Z):{milliseconds:0,months:0}}(br(Z.from),br(Z.to)),(Z={}).ms=Qt.milliseconds,Z.M=Qt.months),ct=new Sl(Z),fa(E)&&N(E,"_locale")&&(ct._locale=E._locale),fa(E)&&N(E,"_isValid")&&(ct._isValid=E._isValid),ct}function Cl(E,P){var Z=E&&parseFloat(E.replace(",","."));return(isNaN(Z)?0:Z)*P}function dg(E,P){var Z={};return Z.months=P.month()-E.month()+12*(P.year()-E.year()),E.clone().add(Z.months,"M").isAfter(P)&&--Z.months,Z.milliseconds=+P-+E.clone().add(Z.months,"M"),Z}function Iw(E,P){return function(Z,le){var ct;return null!==le&&!isNaN(+le)&&(kt(P,"moment()."+P+"(period, number) is deprecated. Please use moment()."+P+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ct=Z,Z=le,le=ct),Pw(this,Zu(Z,le),E),this}}function Pw(E,P,Z,le){var ve=P._milliseconds,ct=is(P._days),Qt=is(P._months);!E.isValid()||(le=null==le||le,Qt&&qi(E,Mn(E,"Month")+Qt*Z),ct&&Pn(E,"Date",Mn(E,"Date")+ct*Z),ve&&E._d.setTime(E._d.valueOf()+ve*Z),le&&S.updateOffset(E,ct||Qt))}Zu.fn=Sl.prototype,Zu.invalid=function hu(){return Zu(NaN)};var ph=Iw(1,"add"),Nw=Iw(-1,"subtract");function Vx(E){return"string"==typeof E||E instanceof String}function zx(E){return Ge(E)||oe(E)||Vx(E)||te(E)||function md(E){var P=R(E),Z=!1;return P&&(Z=0===E.filter(function(le){return!te(le)&&Vx(E)}).length),P&&Z}(E)||function bp(E){var ve,P=A(E)&&!F(E),Z=!1,le=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Qt=le.length;for(ve=0;ve<Qt;ve+=1)Z=Z||N(E,le[ve]);return P&&Z}(E)||null==E}function Ty(E){var ve,P=A(E)&&!F(E),Z=!1,le=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(ve=0;ve<le.length;ve+=1)Z=Z||N(E,le[ve]);return P&&Z}function fg(E,P){if(E.date()<P.date())return-fg(P,E);var Z=12*(P.year()-E.year())+(P.month()-E.month()),le=E.clone().add(Z,"months");return-(Z+(P-le<0?(P-le)/(le-E.clone().add(Z-1,"months")):(P-le)/(E.clone().add(Z+1,"months")-le)))||0}function wp(E){var P;return void 0===E?this._locale._abbr:(null!=(P=Fi(E))&&(this._locale=P),this)}S.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",S.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var hg=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(E){return void 0===E?this.localeData():this.locale(E)});function Oy(){return this._locale}var Ko=6e4,ky=60*Ko,Po=3506328*ky;function sa(E,P){return(E%P+P)%P}function jl(E,P,Z){return E<100&&E>=0?new Date(E+400,P,Z)-Po:new Date(E,P,Z).valueOf()}function vf(E,P,Z){return E<100&&E>=0?Date.UTC(E+400,P,Z)-Po:Date.UTC(E,P,Z)}function El(E,P){return P.erasAbbrRegex(E)}function Oc(){var ve,ct,E=[],P=[],Z=[],le=[],Qt=this.eras();for(ve=0,ct=Qt.length;ve<ct;++ve)P.push(Wo(Qt[ve].name)),E.push(Wo(Qt[ve].abbr)),Z.push(Wo(Qt[ve].narrow)),le.push(Wo(Qt[ve].name)),le.push(Wo(Qt[ve].abbr)),le.push(Wo(Qt[ve].narrow));this._erasRegex=new RegExp("^("+le.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+P.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+E.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Z.join("|")+")","i")}function Us(E,P){Nt(0,[E,E.length],0,P)}function ul(E,P,Z,le,ve){var ct;return null==E?ud(this,le,ve).year:(P>(ct=cu(E,le,ve))&&(P=ct),vu.call(this,E,P,Z,le,ve))}function vu(E,P,Z,le,ve){var ct=ki(E,P,Z,le,ve),Qt=ol(ct.year,0,ct.dayOfYear);return this.year(Qt.getUTCFullYear()),this.month(Qt.getUTCMonth()),this.date(Qt.getUTCDate()),this}Nt("N",0,0,"eraAbbr"),Nt("NN",0,0,"eraAbbr"),Nt("NNN",0,0,"eraAbbr"),Nt("NNNN",0,0,"eraName"),Nt("NNNNN",0,0,"eraNarrow"),Nt("y",["y",1],"yo","eraYear"),Nt("y",["yy",2],0,"eraYear"),Nt("y",["yyy",3],0,"eraYear"),Nt("y",["yyyy",4],0,"eraYear"),Jn("N",El),Jn("NN",El),Jn("NNN",El),Jn("NNNN",function _f(E,P){return P.erasNameRegex(E)}),Jn("NNNNN",function Ya(E,P){return P.erasNarrowRegex(E)}),go(["N","NN","NNN","NNNN","NNNNN"],function(E,P,Z,le){var ve=Z._locale.erasParse(E,le,Z._strict);ve?ce(Z).era=ve:ce(Z).invalidEra=E}),Jn("y",Ll),Jn("yy",Ll),Jn("yyy",Ll),Jn("yyyy",Ll),Jn("yo",function Ga(E,P){return P._eraYearOrdinalRegex||Ll}),go(["y","yy","yyy","yyyy"],0),go(["yo"],function(E,P,Z,le){var ve;Z._locale._eraYearOrdinalRegex&&(ve=E.match(Z._locale._eraYearOrdinalRegex)),P[0]=Z._locale.eraYearOrdinalParse?Z._locale.eraYearOrdinalParse(E,ve):parseInt(E,10)}),Nt(0,["gg",2],0,function(){return this.weekYear()%100}),Nt(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Us("gggg","weekYear"),Us("ggggg","weekYear"),Us("GGGG","isoWeekYear"),Us("GGGGG","isoWeekYear"),bt("weekYear","gg"),bt("isoWeekYear","GG"),$e("weekYear",1),$e("isoWeekYear",1),Jn("G",au),Jn("g",au),Jn("GG",Gi,ai),Jn("gg",Gi,ai),Jn("GGGG",ds,su),Jn("gggg",ds,su),Jn("GGGGG",$i,kl),Jn("ggggg",$i,kl),Uo(["gggg","ggggg","GGGG","GGGGG"],function(E,P,Z,le){P[le.substr(0,2)]=qt(E)}),Uo(["gg","GG"],function(E,P,Z,le){P[le]=S.parseTwoDigitYear(E)}),Nt("Q",0,"Qo","quarter"),bt("quarter","Q"),$e("quarter",7),Jn("Q",ri),go("Q",function(E,P){P[1]=3*(qt(E)-1)}),Nt("D",["DD",2],"Do","date"),bt("date","D"),$e("date",9),Jn("D",Gi),Jn("DD",Gi,ai),Jn("Do",function(E,P){return E?P._dayOfMonthOrdinalParse||P._ordinalParse:P._dayOfMonthOrdinalParseLenient}),go(["D","DD"],2),go("Do",function(E,P){P[2]=qt(E.match(Gi)[0])});var Ep=cn("Date",!0);Nt("DDD",["DDDD",3],"DDDo","dayOfYear"),bt("dayOfYear","DDD"),$e("dayOfYear",4),Jn("DDD",Mo),Jn("DDDD",Ri),go(["DDD","DDDD"],function(E,P,Z){Z._dayOfYear=qt(E)}),Nt("m",["mm",2],0,"minute"),bt("minute","m"),$e("minute",14),Jn("m",Gi),Jn("mm",Gi,ai),go(["m","mm"],4);var vg=cn("Minutes",!1);Nt("s",["ss",2],0,"second"),bt("second","s"),$e("second",15),Jn("s",Gi),Jn("ss",Gi,ai),go(["s","ss"],5);var Tl,_h,yh=cn("Seconds",!1);for(Nt("S",0,0,function(){return~~(this.millisecond()/100)}),Nt(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Nt(0,["SSS",3],0,"millisecond"),Nt(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Nt(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Nt(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Nt(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Nt(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Nt(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),bt("millisecond","ms"),$e("millisecond",16),Jn("S",Mo,ri),Jn("SS",Mo,ai),Jn("SSS",Mo,Ri),Tl="SSSS";Tl.length<=9;Tl+="S")Jn(Tl,Ll);function bh(E,P){P[6]=qt(1e3*("0."+E))}for(Tl="S";Tl.length<=9;Tl+="S")go(Tl,bh);_h=cn("Milliseconds",!1),Nt("z",0,0,"zoneAbbr"),Nt("zz",0,0,"zoneName");var ln=Re.prototype;function Ic(E){return E}ln.add=ph,ln.calendar=function Ry(E,P){1===arguments.length&&(arguments[0]?zx(arguments[0])?(E=arguments[0],P=void 0):Ty(arguments[0])&&(P=arguments[0],E=void 0):(E=void 0,P=void 0));var Z=E||br(),le=fh(Z,this).startOf("day"),ve=S.calendarFormat(this,le)||"sameElse",ct=P&&(Ht(P[ve])?P[ve].call(this,Z):P[ve]);return this.format(ct||this.localeData().calendar(ve,this,br(Z)))},ln.clone=function gR(){return new Re(this)},ln.diff=function Dy(E,P,Z){var le,ve,ct;if(!this.isValid())return NaN;if(!(le=fh(E,this)).isValid())return NaN;switch(ve=6e4*(le.utcOffset()-this.utcOffset()),P=lt(P)){case"year":ct=fg(this,le)/12;break;case"month":ct=fg(this,le);break;case"quarter":ct=fg(this,le)/3;break;case"second":ct=(this-le)/1e3;break;case"minute":ct=(this-le)/6e4;break;case"hour":ct=(this-le)/36e5;break;case"day":ct=(this-le-ve)/864e5;break;case"week":ct=(this-le-ve)/6048e5;break;default:ct=this-le}return Z?ct:Ct(ct)},ln.endOf=function Wa(E){var P,Z;if(void 0===(E=lt(E))||"millisecond"===E||!this.isValid())return this;switch(Z=this._isUTC?vf:jl,E){case"year":P=Z(this.year()+1,0,1)-1;break;case"quarter":P=Z(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":P=Z(this.year(),this.month()+1,1)-1;break;case"week":P=Z(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":P=Z(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":P=Z(this.year(),this.month(),this.date()+1)-1;break;case"hour":P=this._d.valueOf(),P+=ky-sa(P+(this._isUTC?0:this.utcOffset()*Ko),ky)-1;break;case"minute":P=this._d.valueOf(),P+=Ko-sa(P,Ko)-1;break;case"second":P=this._d.valueOf(),P+=1e3-sa(P,1e3)-1}return this._d.setTime(P),S.updateOffset(this,!0),this},ln.format=function gu(E){E||(E=this.isUtc()?S.defaultFormatUtc:S.defaultFormat);var P=Un(this,E);return this.localeData().postformat(P)},ln.from=function Ay(E,P){return this.isValid()&&(Ge(E)&&E.isValid()||br(E).isValid())?Zu({to:this,from:E}).locale(this.locale()).humanize(!P):this.localeData().invalidDate()},ln.fromNow=function zs(E){return this.from(br(),E)},ln.to=function vd(E,P){return this.isValid()&&(Ge(E)&&E.isValid()||br(E).isValid())?Zu({from:this,to:E}).locale(this.locale()).humanize(!P):this.localeData().invalidDate()},ln.toNow=function gh(E){return this.to(br(),E)},ln.get=function yr(E){return Ht(this[E=lt(E)])?this[E]():this},ln.invalidAt=function mg(){return ce(this).overflow},ln.isAfter=function Ux(E,P){var Z=Ge(E)?E:br(E);return!(!this.isValid()||!Z.isValid())&&("millisecond"===(P=lt(P)||"millisecond")?this.valueOf()>Z.valueOf():Z.valueOf()<this.clone().startOf(P).valueOf())},ln.isBefore=function jx(E,P){var Z=Ge(E)?E:br(E);return!(!this.isValid()||!Z.isValid())&&("millisecond"===(P=lt(P)||"millisecond")?this.valueOf()<Z.valueOf():this.clone().endOf(P).valueOf()<Z.valueOf())},ln.isBetween=function gd(E,P,Z,le){var ve=Ge(E)?E:br(E),ct=Ge(P)?P:br(P);return!!(this.isValid()&&ve.isValid()&&ct.isValid())&&("("===(le=le||"()")[0]?this.isAfter(ve,Z):!this.isBefore(ve,Z))&&(")"===le[1]?this.isBefore(ct,Z):!this.isAfter(ct,Z))},ln.isSame=function Wx(E,P){var le,Z=Ge(E)?E:br(E);return!(!this.isValid()||!Z.isValid())&&("millisecond"===(P=lt(P)||"millisecond")?this.valueOf()===Z.valueOf():(le=Z.valueOf(),this.clone().startOf(P).valueOf()<=le&&le<=this.clone().endOf(P).valueOf()))},ln.isSameOrAfter=function Rs(E,P){return this.isSame(E,P)||this.isAfter(E,P)},ln.isSameOrBefore=function $r(E,P){return this.isSame(E,P)||this.isBefore(E,P)},ln.isValid=function Qr(){return Pe(this)},ln.lang=hg,ln.locale=wp,ln.localeData=Oy,ln.max=Cc,ln.min=Se,ln.parsingFlags=function vh(){return de({},ce(this))},ln.set=function ti(E,P){if("object"==typeof E){var le,Z=function gt(E){var Z,P=[];for(Z in E)N(E,Z)&&P.push({unit:Z,priority:Ye[Z]});return P.sort(function(le,ve){return le.priority-ve.priority}),P}(E=Ke(E)),ve=Z.length;for(le=0;le<ve;le++)this[Z[le].unit](E[Z[le].unit])}else if(Ht(this[E=lt(E)]))return this[E](P);return this},ln.startOf=function yd(E){var P,Z;if(void 0===(E=lt(E))||"millisecond"===E||!this.isValid())return this;switch(Z=this._isUTC?vf:jl,E){case"year":P=Z(this.year(),0,1);break;case"quarter":P=Z(this.year(),this.month()-this.month()%3,1);break;case"month":P=Z(this.year(),this.month(),1);break;case"week":P=Z(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":P=Z(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":P=Z(this.year(),this.month(),this.date());break;case"hour":P=this._d.valueOf(),P-=sa(P+(this._isUTC?0:this.utcOffset()*Ko),ky);break;case"minute":P=this._d.valueOf(),P-=sa(P,Ko);break;case"second":P=this._d.valueOf(),P-=sa(P,1e3)}return this._d.setTime(P),S.updateOffset(this,!0),this},ln.subtract=Nw,ln.toArray=function co(){var E=this;return[E.year(),E.month(),E.date(),E.hour(),E.minute(),E.second(),E.millisecond()]},ln.toObject=function Mp(){var E=this;return{years:E.year(),months:E.month(),date:E.date(),hours:E.hours(),minutes:E.minutes(),seconds:E.seconds(),milliseconds:E.milliseconds()}},ln.toDate=function Ac(){return new Date(this.valueOf())},ln.toISOString=function Ul(E){if(!this.isValid())return null;var P=!0!==E,Z=P?this.clone().utc():this;return Z.year()<0||Z.year()>9999?Un(Z,P?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ht(Date.prototype.toISOString)?P?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Un(Z,"Z")):Un(Z,P?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ln.inspect=function mu(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var Z,le,E="moment",P="";return this.isLocal()||(E=0===this.utcOffset()?"moment.utc":"moment.parseZone",P="Z"),Z="["+E+'("]',le=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(Z+le+"-MM-DD[T]HH:mm:ss.SSS"+P+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(ln[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ln.toJSON=function Xr(){return this.isValid()?this.toISOString():null},ln.toString=function Fw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ln.unix=function cr(){return Math.floor(this.valueOf()/1e3)},ln.valueOf=function pg(){return this._d.valueOf()-6e4*(this._offset||0)},ln.creationData=function Sp(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ln.eraName=function Cp(){var E,P,Z,le=this.localeData().eras();for(E=0,P=le.length;E<P;++E)if(Z=this.clone().startOf("day").valueOf(),le[E].since<=Z&&Z<=le[E].until||le[E].until<=Z&&Z<=le[E].since)return le[E].name;return""},ln.eraNarrow=function gr(){var E,P,Z,le=this.localeData().eras();for(E=0,P=le.length;E<P;++E)if(Z=this.clone().startOf("day").valueOf(),le[E].since<=Z&&Z<=le[E].until||le[E].until<=Z&&Z<=le[E].since)return le[E].narrow;return""},ln.eraAbbr=function dn(){var E,P,Z,le=this.localeData().eras();for(E=0,P=le.length;E<P;++E)if(Z=this.clone().startOf("day").valueOf(),le[E].since<=Z&&Z<=le[E].until||le[E].until<=Z&&Z<=le[E].since)return le[E].abbr;return""},ln.eraYear=function ro(){var E,P,Z,le,ve=this.localeData().eras();for(E=0,P=ve.length;E<P;++E)if(Z=ve[E].since<=ve[E].until?1:-1,le=this.clone().startOf("day").valueOf(),ve[E].since<=le&&le<=ve[E].until||ve[E].until<=le&&le<=ve[E].since)return(this.year()-S(ve[E].since).year())*Z+ve[E].offset;return this.year()},ln.year=Mc,ln.isLeapYear=function hp(){return ft(this.year())},ln.weekYear=function Fr(E){return ul.call(this,E,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ln.isoWeekYear=function Yx(E){return ul.call(this,E,this.isoWeek(),this.isoWeekday(),1,4)},ln.quarter=ln.quarters=function Ly(E){return null==E?Math.ceil((this.month()+1)/3):this.month(3*(E-1)+this.month()%3)},ln.month=Pl,ln.daysInMonth=function Co(){return ju(this.year(),this.month())},ln.week=ln.weeks=function ch(E){var P=this.localeData().week(this);return null==E?P:this.add(7*(E-P),"d")},ln.isoWeek=ln.isoWeeks=function ag(E){var P=ud(this,1,4).week;return null==E?P:this.add(7*(E-P),"d")},ln.weeksInYear=function Ea(){var E=this.localeData()._week;return cu(this.year(),E.dow,E.doy)},ln.weeksInWeekYear=function Lc(){var E=this.localeData()._week;return cu(this.weekYear(),E.dow,E.doy)},ln.isoWeeksInYear=function kc(){return cu(this.year(),1,4)},ln.isoWeeksInISOWeekYear=function ha(){return cu(this.isoWeekYear(),1,4)},ln.date=Ep,ln.day=ln.days=function hn(E){if(!this.isValid())return null!=E?this:NaN;var P=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=E?(E=function Ml(E,P){return"string"!=typeof E?E:isNaN(E)?"number"==typeof(E=P.weekdaysParse(E))?E:null:parseInt(E,10)}(E,this.localeData()),this.add(E-P,"d")):P},ln.weekday=function vp(E){if(!this.isValid())return null!=E?this:NaN;var P=(this.day()+7-this.localeData()._week.dow)%7;return null==E?P:this.add(E-P,"d")},ln.isoWeekday=function ni(E){if(!this.isValid())return null!=E?this:NaN;if(null!=E){var P=function Sy(E,P){return"string"==typeof E?P.weekdaysParse(E)%7||7:isNaN(E)?null:E}(E,this.localeData());return this.day(this.day()%7?P:P-7)}return this.day()||7},ln.dayOfYear=function gg(E){var P=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==E?P:this.add(E-P,"d")},ln.hour=ln.hours=fd,ln.minute=ln.minutes=vg,ln.second=ln.seconds=yh,ln.millisecond=ln.milliseconds=_h,ln.utcOffset=function hd(E,P,Z){var ve,le=this._offset||0;if(!this.isValid())return null!=E?this:NaN;if(null!=E){if("string"==typeof E){if(null===(E=al(fs,E)))return this}else Math.abs(E)<16&&!Z&&(E*=60);return!this._isUTC&&P&&(ve=jo(this)),this._offset=E,this._isUTC=!0,null!=ve&&this.add(ve,"m"),le!==E&&(!P||this._changeInProgress?Pw(this,Zu(E-le,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,S.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?le:jo(this)},ln.utc=function Ca(E){return this.utcOffset(0,E)},ln.local=function ll(E){return this._isUTC&&(this.utcOffset(0,E),this._isUTC=!1,E&&this.subtract(jo(this),"m")),this},ln.parseZone=function Ku(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var E=al(Il,this._i);null!=E?this.utcOffset(E):this.utcOffset(0,!0)}return this},ln.hasAlignedHourOffset=function hh(E){return!!this.isValid()&&(E=E?br(E).utcOffset():0,(this.utcOffset()-E)%60==0)},ln.isDST=function mf(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ln.isLocal=function pd(){return!!this.isValid()&&!this._isUTC},ln.isUtcOffset=function Nr(){return!!this.isValid()&&this._isUTC},ln.isUtc=gf,ln.isUTC=gf,ln.zoneAbbr=function Iy(){return this._isUTC?"UTC":""},ln.zoneName=function Tp(){return this._isUTC?"Coordinated Universal Time":""},ln.dates=tt("dates accessor is deprecated. Use date instead.",Ep),ln.months=tt("months accessor is deprecated. Use month instead",Pl),ln.years=tt("years accessor is deprecated. Use year instead",Mc),ln.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function Dc(E,P){return null!=E?("string"!=typeof E&&(E=-E),this.utcOffset(E,P),this):-this.utcOffset()}),ln.isDSTShifted=tt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function xl(){if(!Y(this._isDSTShifted))return this._isDSTShifted;var P,E={};return Ue(E,this),(E=wi(E))._a?(P=E._isUTC?pe(E._a):br(E._a),this._isDSTShifted=this.isValid()&&function Rc(E,P,Z){var Qt,le=Math.min(E.length,P.length),ve=Math.abs(E.length-P.length),ct=0;for(Qt=0;Qt<le;Qt++)(Z&&E[Qt]!==P[Qt]||!Z&&qt(E[Qt])!==qt(P[Qt]))&&ct++;return ct+ve}(E._a,P.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Ui=Xt.prototype;function Ds(E,P,Z,le){var ve=Fi(),ct=pe().set(le,P);return ve[Z](ct,E)}function Py(E,P,Z){if(te(E)&&(P=E,E=void 0),E=E||"",null!=P)return Ds(E,P,Z,"month");var le,ve=[];for(le=0;le<12;le++)ve[le]=Ds(E,le,Z,"month");return ve}function Ny(E,P,Z,le){"boolean"==typeof E?(te(P)&&(Z=P,P=void 0),P=P||""):(Z=P=E,E=!1,te(P)&&(Z=P,P=void 0),P=P||"");var Qt,ve=Fi(),ct=E?ve._week.dow:0,Ur=[];if(null!=Z)return Ds(P,(Z+ct)%7,le,"day");for(Qt=0;Qt<7;Qt++)Ur[Qt]=Ds(P,(Qt+ct)%7,le,"day");return Ur}Ui.calendar=function me(E,P,Z){var le=this._calendar[E]||this._calendar.sameElse;return Ht(le)?le.call(P,Z):le},Ui.longDateFormat=function En(E){var P=this._longDateFormat[E],Z=this._longDateFormat[E.toUpperCase()];return P||!Z?P:(this._longDateFormat[E]=Z.match(Dt).map(function(le){return"MMMM"===le||"MM"===le||"DD"===le||"dddd"===le?le.slice(1):le}).join(""),this._longDateFormat[E])},Ui.invalidDate=function Wr(){return this._invalidDate},Ui.ordinal=function si(E){return this._ordinal.replace("%d",E)},Ui.preparse=Ic,Ui.postformat=Ic,Ui.relativeTime=function ye(E,P,Z,le){var ve=this._relativeTime[Z];return Ht(ve)?ve(E,P,Z,le):ve.replace(/%d/i,E)},Ui.pastFuture=function Ne(E,P){var Z=this._relativeTime[E>0?"future":"past"];return Ht(Z)?Z(P):Z.replace(/%s/i,P)},Ui.set=function Wt(E){var P,Z;for(Z in E)N(E,Z)&&(Ht(P=E[Z])?this[Z]=P:this["_"+Z]=P);this._config=E,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ui.eras=function yf(E,P){var Z,le,ve,ct=this._eras||Fi("en")._eras;for(Z=0,le=ct.length;Z<le;++Z)switch("string"==typeof ct[Z].since&&(ve=S(ct[Z].since).startOf("day"),ct[Z].since=ve.valueOf()),typeof ct[Z].until){case"undefined":ct[Z].until=1/0;break;case"string":ve=S(ct[Z].until).startOf("day").valueOf(),ct[Z].until=ve.valueOf()}return ct},Ui.erasParse=function xp(E,P,Z){var le,ve,Qt,Ur,Di,ct=this.eras();for(E=E.toUpperCase(),le=0,ve=ct.length;le<ve;++le)if(Qt=ct[le].name.toUpperCase(),Ur=ct[le].abbr.toUpperCase(),Di=ct[le].narrow.toUpperCase(),Z)switch(P){case"N":case"NN":case"NNN":if(Ur===E)return ct[le];break;case"NNNN":if(Qt===E)return ct[le];break;case"NNNNN":if(Di===E)return ct[le]}else if([Qt,Ur,Di].indexOf(E)>=0)return ct[le]},Ui.erasConvertYear=function _d(E,P){var Z=E.since<=E.until?1:-1;return void 0===P?S(E.since).year():S(E.since).year()+(P-E.offset)*Z},Ui.erasAbbrRegex=function Wl(E){return N(this,"_erasAbbrRegex")||Oc.call(this),E?this._erasAbbrRegex:this._erasRegex},Ui.erasNameRegex=function bd(E){return N(this,"_erasNameRegex")||Oc.call(this),E?this._erasNameRegex:this._erasRegex},Ui.erasNarrowRegex=function Xs(E){return N(this,"_erasNarrowRegex")||Oc.call(this),E?this._erasNarrowRegex:this._erasRegex},Ui.months=function $o(E,P){return E?R(this._months)?this._months[E.month()]:this._months[(this._months.isFormat||Wu).test(P)?"format":"standalone"][E.month()]:R(this._months)?this._months:this._months.standalone},Ui.monthsShort=function wc(E,P){return E?R(this._monthsShort)?this._monthsShort[E.month()]:this._monthsShort[Wu.test(P)?"format":"standalone"][E.month()]:R(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ui.monthsParse=function Yu(E,P,Z){var le,ve,ct;if(this._monthsParseExact)return uf.call(this,E,P,Z);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),le=0;le<12;le++){if(ve=pe([2e3,le]),Z&&!this._longMonthsParse[le]&&(this._longMonthsParse[le]=new RegExp("^"+this.months(ve,"").replace(".","")+"$","i"),this._shortMonthsParse[le]=new RegExp("^"+this.monthsShort(ve,"").replace(".","")+"$","i")),!Z&&!this._monthsParse[le]&&(ct="^"+this.months(ve,"")+"|^"+this.monthsShort(ve,""),this._monthsParse[le]=new RegExp(ct.replace(".",""),"i")),Z&&"MMMM"===P&&this._longMonthsParse[le].test(E))return le;if(Z&&"MMM"===P&&this._shortMonthsParse[le].test(E))return le;if(!Z&&this._monthsParse[le].test(E))return le}},Ui.monthsRegex=function fp(E){return this._monthsParseExact?(N(this,"_monthsRegex")||no.call(this),E?this._monthsStrictRegex:this._monthsRegex):(N(this,"_monthsRegex")||(this._monthsRegex=uh),this._monthsStrictRegex&&E?this._monthsStrictRegex:this._monthsRegex)},Ui.monthsShortRegex=function cf(E){return this._monthsParseExact?(N(this,"_monthsRegex")||no.call(this),E?this._monthsShortStrictRegex:this._monthsShortRegex):(N(this,"_monthsShortRegex")||(this._monthsShortRegex=lf),this._monthsShortStrictRegex&&E?this._monthsShortStrictRegex:this._monthsShortRegex)},Ui.week=function Es(E){return ud(E,this._week.dow,this._week.doy).week},Ui.firstDayOfYear=function sg(){return this._week.doy},Ui.firstDayOfWeek=function Ma(){return this._week.dow},Ui.weekdays=function $s(E,P){var Z=R(this._weekdays)?this._weekdays:this._weekdays[E&&!0!==E&&this._weekdays.isFormat.test(P)?"format":"standalone"];return!0===E?cd(Z,this._week.dow):E?Z[E.day()]:Z},Ui.weekdaysMin=function Sa(E){return!0===E?cd(this._weekdaysMin,this._week.dow):E?this._weekdaysMin[E.day()]:this._weekdaysMin},Ui.weekdaysShort=function Pi(E){return!0===E?cd(this._weekdaysShort,this._week.dow):E?this._weekdaysShort[E.day()]:this._weekdaysShort},Ui.weekdaysParse=function ff(E,P,Z){var le,ve,ct;if(this._weekdaysParseExact)return Sc.call(this,E,P,Z);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),le=0;le<7;le++){if(ve=pe([2e3,1]).day(le),Z&&!this._fullWeekdaysParse[le]&&(this._fullWeekdaysParse[le]=new RegExp("^"+this.weekdays(ve,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[le]=new RegExp("^"+this.weekdaysShort(ve,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[le]=new RegExp("^"+this.weekdaysMin(ve,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[le]||(ct="^"+this.weekdays(ve,"")+"|^"+this.weekdaysShort(ve,"")+"|^"+this.weekdaysMin(ve,""),this._weekdaysParse[le]=new RegExp(ct.replace(".",""),"i")),Z&&"dddd"===P&&this._fullWeekdaysParse[le].test(E))return le;if(Z&&"ddd"===P&&this._shortWeekdaysParse[le].test(E))return le;if(Z&&"dd"===P&&this._minWeekdaysParse[le].test(E))return le;if(!Z&&this._weekdaysParse[le].test(E))return le}},Ui.weekdaysRegex=function Ar(E){return this._weekdaysParseExact?(N(this,"_weekdaysRegex")||Zn.call(this),E?this._weekdaysStrictRegex:this._weekdaysRegex):(N(this,"_weekdaysRegex")||(this._weekdaysRegex=mp),this._weekdaysStrictRegex&&E?this._weekdaysStrictRegex:this._weekdaysRegex)},Ui.weekdaysShortRegex=function Et(E){return this._weekdaysParseExact?(N(this,"_weekdaysRegex")||Zn.call(this),E?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(N(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=gp),this._weekdaysShortStrictRegex&&E?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ui.weekdaysMinRegex=function mn(E){return this._weekdaysParseExact?(N(this,"_weekdaysRegex")||Zn.call(this),E?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(N(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=df),this._weekdaysMinStrictRegex&&E?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ui.isPM=function dd(E){return"p"===(E+"").toLowerCase().charAt(0)},Ui.meridiem=function yp(E,P,Z){return E>11?Z?"pm":"PM":Z?"am":"AM"},hf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(E){var P=E%10;return E+(1===qt(E%100/10)?"th":1===P?"st":2===P?"nd":3===P?"rd":"th")}}),S.lang=tt("moment.lang is deprecated. Use moment.locale instead.",hf),S.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",Fi);var cl=Math.abs;function bf(E,P,Z,le){var ve=Zu(P,Z);return E._milliseconds+=le*ve._milliseconds,E._days+=le*ve._days,E._months+=le*ve._months,E._bubble()}function qu(E){return E<0?Math.floor(E):Math.ceil(E)}function wd(E){return 4800*E/146097}function Dp(E){return 146097*E/4800}function Rl(E){return function(){return this.as(E)}}var $x=Rl("ms"),Xx=Rl("s"),Ap=Rl("m"),Fy=Rl("h"),Kx=Rl("d"),Zx=Rl("w"),vR=Rl("M"),yR=Rl("Q"),bg=Rl("y");function Ju(E){return function(){return this.isValid()?this._data[E]:NaN}}var zw=Ju("milliseconds"),Uw=Ju("seconds"),Mh=Ju("minutes"),qx=Ju("hours"),Sh=Ju("days"),Hy=Ju("months"),wg=Ju("years");var Qu=Math.round,Mf={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Jx(E,P,Z,le,ve){return ve.relativeTime(P||1,!!Z,E,le)}var kp=Math.abs;function Nc(E){return(E>0)-(E<0)||+E}function Sf(){if(!this.isValid())return this.localeData().invalidDate();var le,ve,ct,Qt,Di,Fo,js,Fc,E=kp(this._milliseconds)/1e3,P=kp(this._days),Z=kp(this._months),Ur=this.asSeconds();return Ur?(le=Ct(E/60),ve=Ct(le/60),E%=60,le%=60,ct=Ct(Z/12),Z%=12,Qt=E?E.toFixed(3).replace(/\.?0+$/,""):"",Di=Ur<0?"-":"",Fo=Nc(this._months)!==Nc(Ur)?"-":"",js=Nc(this._days)!==Nc(Ur)?"-":"",Fc=Nc(this._milliseconds)!==Nc(Ur)?"-":"",Di+"P"+(ct?Fo+ct+"Y":"")+(Z?Fo+Z+"M":"")+(P?js+P+"D":"")+(ve||le||E?"T":"")+(ve?Fc+ve+"H":"")+(le?Fc+le+"M":"")+(E?Fc+Qt+"S":"")):"P0D"}var ao=Sl.prototype;return ao.isValid=function Tc(){return this._isValid},ao.abs=function yg(){var E=this._data;return this._milliseconds=cl(this._milliseconds),this._days=cl(this._days),this._months=cl(this._months),E.milliseconds=cl(E.milliseconds),E.seconds=cl(E.seconds),E.minutes=cl(E.minutes),E.hours=cl(E.hours),E.months=cl(E.months),E.years=cl(E.years),this},ao.add=function _g(E,P){return bf(this,E,P,1)},ao.subtract=function Pc(E,P){return bf(this,E,P,-1)},ao.as=function Gx(E){if(!this.isValid())return NaN;var P,Z,le=this._milliseconds;if("month"===(E=lt(E))||"quarter"===E||"year"===E)switch(P=this._days+le/864e5,Z=this._months+wd(P),E){case"month":return Z;case"quarter":return Z/3;case"year":return Z/12}else switch(P=this._days+Math.round(Dp(this._months)),E){case"week":return P/7+le/6048e5;case"day":return P+le/864e5;case"hour":return 24*P+le/36e5;case"minute":return 1440*P+le/6e4;case"second":return 86400*P+le/1e3;case"millisecond":return Math.floor(864e5*P)+le;default:throw new Error("Unknown unit "+E)}},ao.asMilliseconds=$x,ao.asSeconds=Xx,ao.asMinutes=Ap,ao.asHours=Fy,ao.asDays=Kx,ao.asWeeks=Zx,ao.asMonths=vR,ao.asQuarters=yR,ao.asYears=bg,ao.valueOf=function Yl(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*qt(this._months/12):NaN},ao._bubble=function wf(){var ve,ct,Qt,Ur,Di,E=this._milliseconds,P=this._days,Z=this._months,le=this._data;return E>=0&&P>=0&&Z>=0||E<=0&&P<=0&&Z<=0||(E+=864e5*qu(Dp(Z)+P),P=0,Z=0),le.milliseconds=E%1e3,ve=Ct(E/1e3),le.seconds=ve%60,ct=Ct(ve/60),le.minutes=ct%60,Qt=Ct(ct/60),le.hours=Qt%24,P+=Ct(Qt/24),Z+=Di=Ct(wd(P)),P-=qu(Dp(Di)),Ur=Ct(Z/12),Z%=12,le.days=P,le.months=Z,le.years=Ur,this},ao.clone=function Bw(){return Zu(this)},ao.get=function Vw(E){return E=lt(E),this.isValid()?this[E+"s"]():NaN},ao.milliseconds=zw,ao.seconds=Uw,ao.minutes=Mh,ao.hours=qx,ao.days=Sh,ao.weeks=function _R(){return Ct(this.days()/7)},ao.months=Hy,ao.years=wg,ao.humanize=function By(E,P){if(!this.isValid())return this.localeData().invalidDate();var ve,ct,Z=!1,le=Mf;return"object"==typeof E&&(P=E,E=!1),"boolean"==typeof E&&(Z=E),"object"==typeof P&&(le=Object.assign({},Mf,P),null!=P.s&&null==P.ss&&(le.ss=P.s-1)),ct=function ec(E,P,Z,le){var ve=Zu(E).abs(),ct=Qu(ve.as("s")),Qt=Qu(ve.as("m")),Ur=Qu(ve.as("h")),Di=Qu(ve.as("d")),Fo=Qu(ve.as("M")),js=Qu(ve.as("w")),Fc=Qu(ve.as("y")),Li=ct<=Z.ss&&["s",ct]||ct<Z.s&&["ss",ct]||Qt<=1&&["m"]||Qt<Z.m&&["mm",Qt]||Ur<=1&&["h"]||Ur<Z.h&&["hh",Ur]||Di<=1&&["d"]||Di<Z.d&&["dd",Di];return null!=Z.w&&(Li=Li||js<=1&&["w"]||js<Z.w&&["ww",js]),(Li=Li||Fo<=1&&["M"]||Fo<Z.M&&["MM",Fo]||Fc<=1&&["y"]||["yy",Fc])[2]=P,Li[3]=+E>0,Li[4]=le,Jx.apply(null,Li)}(this,!Z,le,ve=this.localeData()),Z&&(ct=ve.pastFuture(+this,ct)),ve.postformat(ct)},ao.toISOString=Sf,ao.toString=Sf,ao.toJSON=Sf,ao.locale=wp,ao.localeData=Oy,ao.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Sf),ao.lang=hg,Nt("X",0,0,"unix"),Nt("x",0,0,"valueOf"),Jn("x",au),Jn("X",/[+-]?\d+(\.\d{1,3})?/),go("X",function(E,P,Z){Z._d=new Date(1e3*parseFloat(E))}),go("x",function(E,P,Z){Z._d=new Date(qt(E))}),S.version="2.29.4",function T(E){L=E}(br),S.fn=ln,S.min=function Vs(){return Bs("isBefore",[].slice.call(arguments,0))},S.max=function ko(){return Bs("isAfter",[].slice.call(arguments,0))},S.now=function(){return Date.now?Date.now():+new Date},S.utc=pe,S.unix=function Hw(E){return br(1e3*E)},S.months=function $a(E,P){return Py(E,P,"months")},S.isDate=oe,S.locale=hf,S.invalid=Te,S.duration=Zu,S.isMoment=Ge,S.weekdays=function No(E,P,Z){return Ny(E,P,Z,"weekdays")},S.parseZone=function Rp(){return br.apply(null,arguments).parseZone()},S.localeData=Fi,S.isDuration=fa,S.monthsShort=function As(E,P){return Py(E,P,"monthsShort")},S.weekdaysMin=function wh(E,P,Z){return Ny(E,P,Z,"weekdaysMin")},S.defineLocale=Aw,S.updateLocale=function dh(E,P){if(null!=P){var Z,le,ve=Hs;null!=Xo[E]&&null!=Xo[E].parentLocale?Xo[E].set(Gt(Xo[E]._config,P)):(null!=(le=Eo(E))&&(ve=le._config),P=Gt(ve,P),null==le&&(P.abbr=E),(Z=new Xt(P)).parentLocale=Xo[E],Xo[E]=Z),hf(E)}else null!=Xo[E]&&(null!=Xo[E].parentLocale?(Xo[E]=Xo[E].parentLocale,E===hf()&&hf(E)):null!=Xo[E]&&delete Xo[E]);return Xo[E]},S.locales=function cg(){return Pt(Xo)},S.weekdaysShort=function os(E,P,Z){return Ny(E,P,Z,"weekdaysShort")},S.normalizeUnits=lt,S.relativeTimeRounding=function Qx(E){return void 0===E?Qu:"function"==typeof E&&(Qu=E,!0)},S.relativeTimeThreshold=function Op(E,P){return void 0!==Mf[E]&&(void 0===P?Mf[E]:(Mf[E]=P,"s"===E&&(Mf.ss=P-1),!0))},S.calendarFormat=function mh(E,P){var Z=E.diff(P,"days",!0);return Z<-6?"sameElse":Z<-1?"lastWeek":Z<0?"lastDay":Z<1?"sameDay":Z<2?"nextDay":Z<7?"nextWeek":"sameElse"},S.prototype=ln,S.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},S}()},1046:Q=>{Q.exports=function ue(b,L,S){function T(N,F){if(!L[N]){if(!b[N]){if(R)return R(N,!0);var te=new Error("Cannot find module '"+N+"'");throw te.code="MODULE_NOT_FOUND",te}var oe=L[N]={exports:{}};b[N][0].call(oe.exports,function(ae){return T(b[N][1][ae]||ae)},oe,oe.exports,ue,b,L,S)}return L[N].exports}for(var R=void 0,A=0;A<S.length;A++)T(S[A]);return T}({1:[function(ue,b,L){!function(S){"use strict";var T,R=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,A=Math.ceil,N=Math.floor,F="[BigNumber Error] ",Y=F+"Number primitive has more than 15 significant digits: ",te=1e14,ae=9007199254740991,de=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],pe=1e7,K=1e9;function ce(Re){var Ge=0|Re;return 0<Re||Re===Ge?Ge:Ge-1}function xe(Re){for(var Ge,ut,tt=1,mt=Re.length,kt=Re[0]+"";tt<mt;){for(ut=14-(Ge=Re[tt++]+"").length;ut--;Ge="0"+Ge);kt+=Ge}for(mt=kt.length;48===kt.charCodeAt(--mt););return kt.slice(0,mt+1||1)}function Pe(Re,Ge){var ut,tt,mt=Re.c,kt=Ge.c,Ht=Re.s,Wt=Ge.s,Gt=Re.e,Xt=Ge.e;if(!Ht||!Wt)return null;if(tt=kt&&!kt[0],(ut=mt&&!mt[0])||tt)return ut?tt?0:-Wt:Ht;if(Ht!=Wt)return Ht;if(ut=Ht<0,tt=Gt==Xt,!mt||!kt)return tt?0:!mt^ut?1:-1;if(!tt)return Xt<Gt^ut?1:-1;for(Wt=(Gt=mt.length)<(Xt=kt.length)?Gt:Xt,Ht=0;Ht<Wt;Ht++)if(mt[Ht]!=kt[Ht])return mt[Ht]>kt[Ht]^ut?1:-1;return Gt==Xt?0:Xt<Gt^ut?1:-1}function Te(Re,Ge,ut,tt){if(Re<Ge||ut<Re||Re!==(Re<0?A(Re):N(Re)))throw Error(F+(tt||"Argument")+("number"==typeof Re?Re<Ge||ut<Re?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Re))}function ze(Re){var Ge=Re.c.length-1;return ce(Re.e/14)==Ge&&Re.c[Ge]%2!=0}function rt(Re,Ge){return(1<Re.length?Re.charAt(0)+"."+Re.slice(1):Re)+(Ge<0?"e":"e+")+Ge}function Ue(Re,Ge,ut){var tt,mt;if(Ge<0){for(mt=ut+".";++Ge;mt+=ut);Re=mt+Re}else if(++Ge>(tt=Re.length)){for(mt=ut,Ge-=tt;--Ge;mt+=ut);Re+=mt}else Ge<tt&&(Re=Re.slice(0,Ge)+"."+Re.slice(Ge));return Re}(T=function Re(Ge){var ut,tt,mt,kt,Ht,Wt,Gt,Xt,Pt,Oe,me=tn.prototype={constructor:tn,toString:null,valueOf:null},dt=new tn(1),Dt=20,Yt=4,yn=-7,wn=21,Nt=-1e7,$n=1e7,Vn=!1,Un=1,kn=0,_r={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},En="0123456789abcdefghijklmnopqrstuvwxyz";function tn(ye,Ne){var qe,bt,lt,Ke,Ye,$e,gt,ft,Ct=this;if(!(Ct instanceof tn))return new tn(ye,Ne);if(null==Ne){if(ye instanceof tn)return Ct.s=ye.s,Ct.e=ye.e,void(Ct.c=(ye=ye.c)?ye.slice():ye);if(($e="number"==typeof ye)&&0*ye==0){if(Ct.s=1/ye<0?(ye=-ye,-1):1,ye===~~ye){for(Ke=0,Ye=ye;10<=Ye;Ye/=10,Ke++);return Ct.e=Ke,void(Ct.c=[ye])}ft=String(ye)}else{if(ft=String(ye),!R.test(ft))return mt(Ct,ft,$e);Ct.s=45==ft.charCodeAt(0)?(ft=ft.slice(1),-1):1}-1<(Ke=ft.indexOf("."))&&(ft=ft.replace(".","")),0<(Ye=ft.search(/e/i))?(Ke<0&&(Ke=Ye),Ke+=+ft.slice(Ye+1),ft=ft.substring(0,Ye)):Ke<0&&(Ke=ft.length)}else{if(Te(Ne,2,En.length,"Base"),ft=String(ye),10==Ne)return si(Ct=new tn(ye instanceof tn?ye:ft),Dt+Ct.e+1,Yt);if($e="number"==typeof ye){if(0*ye!=0)return mt(Ct,ft,$e,Ne);if(Ct.s=1/ye<0?(ft=ft.slice(1),-1):1,tn.DEBUG&&15<ft.replace(/^0\.0*|\./,"").length)throw Error(Y+ye);$e=!1}else Ct.s=45===ft.charCodeAt(0)?(ft=ft.slice(1),-1):1;for(qe=En.slice(0,Ne),Ke=Ye=0,gt=ft.length;Ye<gt;Ye++)if(qe.indexOf(bt=ft.charAt(Ye))<0){if("."==bt){if(Ke<Ye){Ke=gt;continue}}else if(!lt&&(ft==ft.toUpperCase()&&(ft=ft.toLowerCase())||ft==ft.toLowerCase()&&(ft=ft.toUpperCase()))){lt=!0,Ye=-1,Ke=0;continue}return mt(Ct,String(ye),$e,Ne)}-1<(Ke=(ft=tt(ft,Ne,10,Ct.s)).indexOf("."))?ft=ft.replace(".",""):Ke=ft.length}for(Ye=0;48===ft.charCodeAt(Ye);Ye++);for(gt=ft.length;48===ft.charCodeAt(--gt););if(ft=ft.slice(Ye,++gt)){if(gt-=Ye,$e&&tn.DEBUG&&15<gt&&(ae<ye||ye!==N(ye)))throw Error(Y+Ct.s*ye);if($n<(Ke=Ke-Ye-1))Ct.c=Ct.e=null;else if(Ke<Nt)Ct.c=[Ct.e=0];else{if(Ct.e=Ke,Ct.c=[],Ye=(Ke+1)%14,Ke<0&&(Ye+=14),Ye<gt){for(Ye&&Ct.c.push(+ft.slice(0,Ye)),gt-=14;Ye<gt;)Ct.c.push(+ft.slice(Ye,Ye+=14));Ye=14-(ft=ft.slice(Ye)).length}else Ye-=gt;for(;Ye--;ft+="0");Ct.c.push(+ft)}}else Ct.c=[Ct.e=0]}function Wr(ye,Ne,qe,bt){var lt,Ke,Ye,$e,gt;if(null==qe?qe=Yt:Te(qe,0,8),!ye.c)return ye.toString();if(lt=ye.c[0],Ye=ye.e,null==Ne)gt=xe(ye.c),gt=1==bt||2==bt&&(Ye<=yn||wn<=Ye)?rt(gt,Ye):Ue(gt,Ye,"0");else if(Ke=(ye=si(new tn(ye),Ne,qe)).e,$e=(gt=xe(ye.c)).length,1==bt||2==bt&&(Ne<=Ke||Ke<=yn)){for(;$e<Ne;gt+="0",$e++);gt=rt(gt,Ke)}else if(Ne-=Ye,gt=Ue(gt,Ke,"0"),$e<Ke+1){if(0<--Ne)for(gt+=".";Ne--;gt+="0");}else if(0<(Ne+=Ke-$e))for(Ke+1==$e&&(gt+=".");Ne--;gt+="0");return ye.s<0&&lt?"-"+gt:gt}function fi(ye,Ne){for(var qe,bt=1,lt=new tn(ye[0]);bt<ye.length;bt++){if(!(qe=new tn(ye[bt])).s){lt=qe;break}Ne.call(lt,qe)&&(lt=qe)}return lt}function hi(ye,Ne,qe){for(var bt=1,lt=Ne.length;!Ne[--lt];Ne.pop());for(lt=Ne[0];10<=lt;lt/=10,bt++);return ye.c=(qe=bt+14*qe-1)>$n?ye.e=null:qe<Nt?[ye.e=0]:(ye.e=qe,Ne),ye}function si(ye,Ne,qe,bt){var lt,Ke,Ye,$e,gt,ft,Ct,qt=ye.c,cn=de;if(qt){e:{for(lt=1,$e=qt[0];10<=$e;$e/=10,lt++);if((Ke=Ne-lt)<0)Ke+=14,Ct=(gt=qt[ft=0])/cn[lt-(Ye=Ne)-1]%10|0;else if((ft=A((Ke+1)/14))>=qt.length){if(!bt)break e;for(;qt.length<=ft;qt.push(0));gt=Ct=0,Ye=(Ke%=14)-14+(lt=1)}else{for(gt=$e=qt[ft],lt=1;10<=$e;$e/=10,lt++);Ct=(Ye=(Ke%=14)-14+lt)<0?0:gt/cn[lt-Ye-1]%10|0}if(bt=bt||Ne<0||null!=qt[ft+1]||(Ye<0?gt:gt%cn[lt-Ye-1]),bt=qe<4?(Ct||bt)&&(0==qe||qe==(ye.s<0?3:2)):5<Ct||5==Ct&&(4==qe||bt||6==qe&&(0<Ke?0<Ye?gt/cn[lt-Ye]:0:qt[ft-1])%10&1||qe==(ye.s<0?8:7)),Ne<1||!qt[0])return qt.length=0,bt?(qt[0]=cn[(14-(Ne-=ye.e+1)%14)%14],ye.e=-Ne||0):qt[0]=ye.e=0,ye;if(0==Ke?(qt.length=ft,$e=1,ft--):(qt.length=ft+1,$e=cn[14-Ke],qt[ft]=0<Ye?N(gt/cn[lt-Ye]%cn[Ye])*$e:0),bt)for(;;){if(0==ft){for(Ke=1,Ye=qt[0];10<=Ye;Ye/=10,Ke++);for(Ye=qt[0]+=$e,$e=1;10<=Ye;Ye/=10,$e++);Ke!=$e&&(ye.e++,qt[0]==te&&(qt[0]=1));break}if(qt[ft]+=$e,qt[ft]!=te)break;qt[ft--]=0,$e=1}for(Ke=qt.length;0===qt[--Ke];qt.pop());}ye.e>$n?ye.c=ye.e=null:ye.e<Nt&&(ye.c=[ye.e=0])}return ye}function lr(ye){var Ne,qe=ye.e;return null===qe?ye.toString():(Ne=xe(ye.c),Ne=qe<=yn||wn<=qe?rt(Ne,qe):Ue(Ne,qe,"0"),ye.s<0?"-"+Ne:Ne)}return tn.clone=Re,tn.ROUND_UP=0,tn.ROUND_DOWN=1,tn.ROUND_CEIL=2,tn.ROUND_FLOOR=3,tn.ROUND_HALF_UP=4,tn.ROUND_HALF_DOWN=5,tn.ROUND_HALF_EVEN=6,tn.ROUND_HALF_CEIL=7,tn.ROUND_HALF_FLOOR=8,tn.EUCLID=9,tn.config=tn.set=function(ye){var Ne,qe;if(null!=ye){if("object"!=typeof ye)throw Error(F+"Object expected: "+ye);if(ye.hasOwnProperty(Ne="DECIMAL_PLACES")&&(Te(qe=ye[Ne],0,K,Ne),Dt=qe),ye.hasOwnProperty(Ne="ROUNDING_MODE")&&(Te(qe=ye[Ne],0,8,Ne),Yt=qe),ye.hasOwnProperty(Ne="EXPONENTIAL_AT")&&((qe=ye[Ne])&&qe.pop?(Te(qe[0],-K,0,Ne),Te(qe[1],0,K,Ne),yn=qe[0],wn=qe[1]):(Te(qe,-K,K,Ne),yn=-(wn=qe<0?-qe:qe))),ye.hasOwnProperty(Ne="RANGE"))if((qe=ye[Ne])&&qe.pop)Te(qe[0],-K,-1,Ne),Te(qe[1],1,K,Ne),Nt=qe[0],$n=qe[1];else{if(Te(qe,-K,K,Ne),!qe)throw Error(F+Ne+" cannot be zero: "+qe);Nt=-($n=qe<0?-qe:qe)}if(ye.hasOwnProperty(Ne="CRYPTO")){if((qe=ye[Ne])!==!!qe)throw Error(F+Ne+" not true or false: "+qe);if(qe){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Vn=!qe,Error(F+"crypto unavailable");Vn=qe}else Vn=qe}if(ye.hasOwnProperty(Ne="MODULO_MODE")&&(Te(qe=ye[Ne],0,9,Ne),Un=qe),ye.hasOwnProperty(Ne="POW_PRECISION")&&(Te(qe=ye[Ne],0,K,Ne),kn=qe),ye.hasOwnProperty(Ne="FORMAT")){if("object"!=typeof(qe=ye[Ne]))throw Error(F+Ne+" not an object: "+qe);_r=qe}if(ye.hasOwnProperty(Ne="ALPHABET")){if("string"!=typeof(qe=ye[Ne])||/^.$|[+-.\s]|(.).*\1/.test(qe))throw Error(F+Ne+" invalid: "+qe);En=qe}}return{DECIMAL_PLACES:Dt,ROUNDING_MODE:Yt,EXPONENTIAL_AT:[yn,wn],RANGE:[Nt,$n],CRYPTO:Vn,MODULO_MODE:Un,POW_PRECISION:kn,FORMAT:_r,ALPHABET:En}},tn.isBigNumber=function(ye){return ye instanceof tn||ye&&!0===ye._isBigNumber||!1},tn.maximum=tn.max=function(){return fi(arguments,me.lt)},tn.minimum=tn.min=function(){return fi(arguments,me.gt)},tn.random=(kt=9007199254740992,Ht=Math.random()*kt&2097151?function(){return N(Math.random()*kt)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(ye){var Ne,qe,bt,lt,Ke,Ye=0,$e=[],gt=new tn(dt);if(null==ye?ye=Dt:Te(ye,0,K),lt=A(ye/14),Vn)if(crypto.getRandomValues){for(Ne=crypto.getRandomValues(new Uint32Array(lt*=2));Ye<lt;)9e15<=(Ke=131072*Ne[Ye]+(Ne[Ye+1]>>>11))?(qe=crypto.getRandomValues(new Uint32Array(2)),Ne[Ye]=qe[0],Ne[Ye+1]=qe[1]):($e.push(Ke%1e14),Ye+=2);Ye=lt/2}else{if(!crypto.randomBytes)throw Vn=!1,Error(F+"crypto unavailable");for(Ne=crypto.randomBytes(lt*=7);Ye<lt;)9e15<=(Ke=281474976710656*(31&Ne[Ye])+1099511627776*Ne[Ye+1]+4294967296*Ne[Ye+2]+16777216*Ne[Ye+3]+(Ne[Ye+4]<<16)+(Ne[Ye+5]<<8)+Ne[Ye+6])?crypto.randomBytes(7).copy(Ne,Ye):($e.push(Ke%1e14),Ye+=7);Ye=lt/7}if(!Vn)for(;Ye<lt;)(Ke=Ht())<9e15&&($e[Ye++]=Ke%1e14);for(ye%=14,(lt=$e[--Ye])&&ye&&($e[Ye]=N(lt/(Ke=de[14-ye]))*Ke);0===$e[Ye];$e.pop(),Ye--);if(Ye<0)$e=[bt=0];else{for(bt=-1;0===$e[0];$e.splice(0,1),bt-=14);for(Ye=1,Ke=$e[0];10<=Ke;Ke/=10,Ye++);Ye<14&&(bt-=14-Ye)}return gt.e=bt,gt.c=$e,gt}),tn.sum=function(){for(var ye=1,Ne=arguments,qe=new tn(Ne[0]);ye<Ne.length;)qe=qe.plus(Ne[ye++]);return qe},tt=function(){var ye="0123456789";function Ne(qe,bt,lt,Ke){for(var Ye,$e,gt=[0],ft=0,Ct=qe.length;ft<Ct;){for($e=gt.length;$e--;gt[$e]*=bt);for(gt[0]+=Ke.indexOf(qe.charAt(ft++)),Ye=0;Ye<gt.length;Ye++)gt[Ye]>lt-1&&(null==gt[Ye+1]&&(gt[Ye+1]=0),gt[Ye+1]+=gt[Ye]/lt|0,gt[Ye]%=lt)}return gt.reverse()}return function(qe,bt,lt,Ke,Ye){var $e,gt,ft,Ct,qt,cn,Mn,Pn,yr=qe.indexOf("."),ti=Dt,ri=Yt;for(0<=yr&&(Ct=kn,kn=0,qe=qe.replace(".",""),cn=(Pn=new tn(bt)).pow(qe.length-yr),kn=Ct,Pn.c=Ne(Ue(xe(cn.c),cn.e,"0"),10,lt,ye),Pn.e=Pn.c.length),ft=Ct=(Mn=Ne(qe,bt,lt,Ye?($e=En,ye):($e=ye,En))).length;0==Mn[--Ct];Mn.pop());if(!Mn[0])return $e.charAt(0);if(yr<0?--ft:(cn.c=Mn,cn.e=ft,cn.s=Ke,Mn=(cn=ut(cn,Pn,ti,ri,lt)).c,qt=cn.r,ft=cn.e),yr=Mn[gt=ft+ti+1],Ct=lt/2,qt=qt||gt<0||null!=Mn[gt+1],qt=ri<4?(null!=yr||qt)&&(0==ri||ri==(cn.s<0?3:2)):Ct<yr||yr==Ct&&(4==ri||qt||6==ri&&1&Mn[gt-1]||ri==(cn.s<0?8:7)),gt<1||!Mn[0])qe=qt?Ue($e.charAt(1),-ti,$e.charAt(0)):$e.charAt(0);else{if(Mn.length=gt,qt)for(--lt;++Mn[--gt]>lt;)Mn[gt]=0,gt||(++ft,Mn=[1].concat(Mn));for(Ct=Mn.length;!Mn[--Ct];);for(yr=0,qe="";yr<=Ct;qe+=$e.charAt(Mn[yr++]));qe=Ue(qe,ft,$e.charAt(0))}return qe}}(),ut=function(){function ye(bt,lt,Ke){var Ye,$e,gt,ft,Ct=0,qt=bt.length,cn=lt%pe,Mn=lt/pe|0;for(bt=bt.slice();qt--;)Ct=(($e=cn*(gt=bt[qt]%pe)+(Ye=Mn*gt+(ft=bt[qt]/pe|0)*cn)%pe*pe+Ct)/Ke|0)+(Ye/pe|0)+Mn*ft,bt[qt]=$e%Ke;return Ct&&(bt=[Ct].concat(bt)),bt}function Ne(bt,lt,Ke,Ye){var $e,gt;if(Ke!=Ye)gt=Ye<Ke?1:-1;else for($e=gt=0;$e<Ke;$e++)if(bt[$e]!=lt[$e]){gt=bt[$e]>lt[$e]?1:-1;break}return gt}function qe(bt,lt,Ke,Ye){for(var $e=0;Ke--;)bt[Ke]-=$e,bt[Ke]=($e=bt[Ke]<lt[Ke]?1:0)*Ye+bt[Ke]-lt[Ke];for(;!bt[0]&&1<bt.length;bt.splice(0,1));}return function(bt,lt,Ke,Ye,$e){var gt,ft,Ct,qt,cn,Mn,Pn,yr,ti,ri,ai,Ri,su,kl,Gi,ia,oa,Mo=bt.s==lt.s?1:-1,ds=bt.c,$i=lt.c;if(!(ds&&ds[0]&&$i&&$i[0]))return new tn(bt.s&&lt.s&&(ds?!$i||ds[0]!=$i[0]:$i)?ds&&0==ds[0]||!$i?0*Mo:Mo/0:NaN);for(ti=(yr=new tn(Mo)).c=[],Mo=Ke+(ft=bt.e-lt.e)+1,$e||($e=te,ft=ce(bt.e/14)-ce(lt.e/14),Mo=Mo/14|0),Ct=0;$i[Ct]==(ds[Ct]||0);Ct++);if($i[Ct]>(ds[Ct]||0)&&ft--,Mo<0)ti.push(1),qt=!0;else{for(kl=ds.length,ia=$i.length,Mo+=2,1<(cn=N($e/($i[Ct=0]+1)))&&($i=ye($i,cn,$e),ds=ye(ds,cn,$e),ia=$i.length,kl=ds.length),su=ia,ai=(ri=ds.slice(0,ia)).length;ai<ia;ri[ai++]=0);oa=$i.slice(),oa=[0].concat(oa),Gi=$i[0],$i[1]>=$e/2&&Gi++;do{if(cn=0,(gt=Ne($i,ri,ia,ai))<0){if(Ri=ri[0],ia!=ai&&(Ri=Ri*$e+(ri[1]||0)),1<(cn=N(Ri/Gi)))for($e<=cn&&(cn=$e-1),Pn=(Mn=ye($i,cn,$e)).length,ai=ri.length;1==Ne(Mn,ri,Pn,ai);)cn--,qe(Mn,ia<Pn?oa:$i,Pn,$e),Pn=Mn.length,gt=1;else 0==cn&&(gt=cn=1),Pn=(Mn=$i.slice()).length;if(Pn<ai&&(Mn=[0].concat(Mn)),qe(ri,Mn,ai,$e),ai=ri.length,-1==gt)for(;Ne($i,ri,ia,ai)<1;)cn++,qe(ri,ia<ai?oa:$i,ai,$e),ai=ri.length}else 0===gt&&(cn++,ri=[0]);ti[Ct++]=cn,ri[0]?ri[ai++]=ds[su]||0:(ri=[ds[su]],ai=1)}while((su++<kl||null!=ri[0])&&Mo--);qt=null!=ri[0],ti[0]||ti.splice(0,1)}if($e==te){for(Ct=1,Mo=ti[0];10<=Mo;Mo/=10,Ct++);si(yr,Ke+(yr.e=Ct+14*ft-1)+1,Ye,qt)}else yr.e=ft,yr.r=+qt;return yr}}(),Wt=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Gt=/^([^.]+)\.$/,Xt=/^\.([^.]+)$/,Pt=/^-?(Infinity|NaN)$/,Oe=/^\s*\+(?=[\w.])|^\s+|\s+$/g,mt=function(ye,Ne,qe,bt){var lt,Ke=qe?Ne:Ne.replace(Oe,"");if(Pt.test(Ke))ye.s=isNaN(Ke)?null:Ke<0?-1:1,ye.c=ye.e=null;else{if(!qe&&(Ke=Ke.replace(Wt,function(Ye,$e,gt){return lt="x"==(gt=gt.toLowerCase())?16:"b"==gt?2:8,bt&&bt!=lt?Ye:$e}),bt&&(lt=bt,Ke=Ke.replace(Gt,"$1").replace(Xt,"0.$1")),Ne!=Ke))return new tn(Ke,lt);if(tn.DEBUG)throw Error(F+"Not a"+(bt?" base "+bt:"")+" number: "+Ne);ye.c=ye.e=ye.s=null}},me.absoluteValue=me.abs=function(){var ye=new tn(this);return ye.s<0&&(ye.s=1),ye},me.comparedTo=function(ye,Ne){return Pe(this,new tn(ye,Ne))},me.decimalPlaces=me.dp=function(ye,Ne){var qe,bt,lt;if(null!=ye)return Te(ye,0,K),null==Ne?Ne=Yt:Te(Ne,0,8),si(new tn(this),ye+this.e+1,Ne);if(!(qe=this.c))return null;if(bt=14*((lt=qe.length-1)-ce(this.e/14)),lt=qe[lt])for(;lt%10==0;lt/=10,bt--);return bt<0&&(bt=0),bt},me.dividedBy=me.div=function(ye,Ne){return ut(this,new tn(ye,Ne),Dt,Yt)},me.dividedToIntegerBy=me.idiv=function(ye,Ne){return ut(this,new tn(ye,Ne),0,1)},me.exponentiatedBy=me.pow=function(ye,Ne){var qe,bt,lt,Ke,Ye,$e,gt,ft,Ct=this;if((ye=new tn(ye)).c&&!ye.isInteger())throw Error(F+"Exponent not an integer: "+lr(ye));if(null!=Ne&&(Ne=new tn(Ne)),Ye=14<ye.e,!Ct.c||!Ct.c[0]||1==Ct.c[0]&&!Ct.e&&1==Ct.c.length||!ye.c||!ye.c[0])return ft=new tn(Math.pow(+lr(Ct),Ye?2-ze(ye):+lr(ye))),Ne?ft.mod(Ne):ft;if($e=ye.s<0,Ne){if(Ne.c?!Ne.c[0]:!Ne.s)return new tn(NaN);(bt=!$e&&Ct.isInteger()&&Ne.isInteger())&&(Ct=Ct.mod(Ne))}else{if(9<ye.e&&(0<Ct.e||Ct.e<-1||(0==Ct.e?1<Ct.c[0]||Ye&&24e7<=Ct.c[1]:Ct.c[0]<8e13||Ye&&Ct.c[0]<=9999975e7)))return Ke=Ct.s<0&&ze(ye)?-0:0,-1<Ct.e&&(Ke=1/Ke),new tn($e?1/Ke:Ke);kn&&(Ke=A(kn/14+2))}for(gt=Ye?(qe=new tn(.5),$e&&(ye.s=1),ze(ye)):(lt=Math.abs(+lr(ye)))%2,ft=new tn(dt);;){if(gt){if(!(ft=ft.times(Ct)).c)break;Ke?ft.c.length>Ke&&(ft.c.length=Ke):bt&&(ft=ft.mod(Ne))}if(lt){if(0===(lt=N(lt/2)))break;gt=lt%2}else if(si(ye=ye.times(qe),ye.e+1,1),14<ye.e)gt=ze(ye);else{if(0==(lt=+lr(ye)))break;gt=lt%2}Ct=Ct.times(Ct),Ke?Ct.c&&Ct.c.length>Ke&&(Ct.c.length=Ke):bt&&(Ct=Ct.mod(Ne))}return bt?ft:($e&&(ft=dt.div(ft)),Ne?ft.mod(Ne):Ke?si(ft,kn,Yt,void 0):ft)},me.integerValue=function(ye){var Ne=new tn(this);return null==ye?ye=Yt:Te(ye,0,8),si(Ne,Ne.e+1,ye)},me.isEqualTo=me.eq=function(ye,Ne){return 0===Pe(this,new tn(ye,Ne))},me.isFinite=function(){return!!this.c},me.isGreaterThan=me.gt=function(ye,Ne){return 0<Pe(this,new tn(ye,Ne))},me.isGreaterThanOrEqualTo=me.gte=function(ye,Ne){return 1===(Ne=Pe(this,new tn(ye,Ne)))||0===Ne},me.isInteger=function(){return!!this.c&&ce(this.e/14)>this.c.length-2},me.isLessThan=me.lt=function(ye,Ne){return Pe(this,new tn(ye,Ne))<0},me.isLessThanOrEqualTo=me.lte=function(ye,Ne){return-1===(Ne=Pe(this,new tn(ye,Ne)))||0===Ne},me.isNaN=function(){return!this.s},me.isNegative=function(){return this.s<0},me.isPositive=function(){return 0<this.s},me.isZero=function(){return!!this.c&&0==this.c[0]},me.minus=function(ye,Ne){var qe,bt,lt,Ke,Ye=this,$e=Ye.s;if(Ne=(ye=new tn(ye,Ne)).s,!$e||!Ne)return new tn(NaN);if($e!=Ne)return ye.s=-Ne,Ye.plus(ye);var gt=Ye.e/14,ft=ye.e/14,Ct=Ye.c,qt=ye.c;if(!gt||!ft){if(!Ct||!qt)return Ct?(ye.s=-Ne,ye):new tn(qt?Ye:NaN);if(!Ct[0]||!qt[0])return qt[0]?(ye.s=-Ne,ye):new tn(Ct[0]?Ye:3==Yt?-0:0)}if(gt=ce(gt),ft=ce(ft),Ct=Ct.slice(),$e=gt-ft){for((lt=(Ke=$e<0)?($e=-$e,Ct):(ft=gt,qt)).reverse(),Ne=$e;Ne--;lt.push(0));lt.reverse()}else for(bt=(Ke=($e=Ct.length)<(Ne=qt.length))?$e:Ne,$e=Ne=0;Ne<bt;Ne++)if(Ct[Ne]!=qt[Ne]){Ke=Ct[Ne]<qt[Ne];break}if(Ke&&(lt=Ct,Ct=qt,qt=lt,ye.s=-ye.s),0<(Ne=(bt=qt.length)-(qe=Ct.length)))for(;Ne--;Ct[qe++]=0);for(Ne=te-1;$e<bt;){if(Ct[--bt]<qt[bt]){for(qe=bt;qe&&!Ct[--qe];Ct[qe]=Ne);--Ct[qe],Ct[bt]+=te}Ct[bt]-=qt[bt]}for(;0==Ct[0];Ct.splice(0,1),--ft);return Ct[0]?hi(ye,Ct,ft):(ye.s=3==Yt?-1:1,ye.c=[ye.e=0],ye)},me.modulo=me.mod=function(ye,Ne){var qe,bt,lt=this;return ye=new tn(ye,Ne),!lt.c||!ye.s||ye.c&&!ye.c[0]?new tn(NaN):!ye.c||lt.c&&!lt.c[0]?new tn(lt):(9==Un?(bt=ye.s,ye.s=1,qe=ut(lt,ye,0,3),ye.s=bt,qe.s*=bt):qe=ut(lt,ye,0,Un),(ye=lt.minus(qe.times(ye))).c[0]||1!=Un||(ye.s=lt.s),ye)},me.multipliedBy=me.times=function(ye,Ne){var qe,bt,lt,Ke,Ye,$e,gt,ft,Ct,qt,cn,Mn,Pn,yr,ti,ri=this,ai=ri.c,Ri=(ye=new tn(ye,Ne)).c;if(!(ai&&Ri&&ai[0]&&Ri[0]))return!ri.s||!ye.s||ai&&!ai[0]&&!Ri||Ri&&!Ri[0]&&!ai?ye.c=ye.e=ye.s=null:(ye.s*=ri.s,ai&&Ri?(ye.c=[0],ye.e=0):ye.c=ye.e=null),ye;for(bt=ce(ri.e/14)+ce(ye.e/14),ye.s*=ri.s,(gt=ai.length)<(qt=Ri.length)&&(Pn=ai,ai=Ri,Ri=Pn,lt=gt,gt=qt,qt=lt),lt=gt+qt,Pn=[];lt--;Pn.push(0));for(yr=te,ti=pe,lt=qt;0<=--lt;){for(qe=0,cn=Ri[lt]%ti,Mn=Ri[lt]/ti|0,Ke=lt+(Ye=gt);lt<Ke;)qe=((ft=cn*(ft=ai[--Ye]%ti)+($e=Mn*ft+(Ct=ai[Ye]/ti|0)*cn)%ti*ti+Pn[Ke]+qe)/yr|0)+($e/ti|0)+Mn*Ct,Pn[Ke--]=ft%yr;Pn[Ke]=qe}return qe?++bt:Pn.splice(0,1),hi(ye,Pn,bt)},me.negated=function(){var ye=new tn(this);return ye.s=-ye.s||null,ye},me.plus=function(ye,Ne){var qe,bt=this,lt=bt.s;if(Ne=(ye=new tn(ye,Ne)).s,!lt||!Ne)return new tn(NaN);if(lt!=Ne)return ye.s=-Ne,bt.minus(ye);var Ke=bt.e/14,Ye=ye.e/14,$e=bt.c,gt=ye.c;if(!Ke||!Ye){if(!$e||!gt)return new tn(lt/0);if(!$e[0]||!gt[0])return gt[0]?ye:new tn($e[0]?bt:0*lt)}if(Ke=ce(Ke),Ye=ce(Ye),$e=$e.slice(),lt=Ke-Ye){for((qe=0<lt?(Ye=Ke,gt):(lt=-lt,$e)).reverse();lt--;qe.push(0));qe.reverse()}for((lt=$e.length)-(Ne=gt.length)<0&&(qe=gt,gt=$e,$e=qe,Ne=lt),lt=0;Ne;)lt=($e[--Ne]=$e[Ne]+gt[Ne]+lt)/te|0,$e[Ne]=te===$e[Ne]?0:$e[Ne]%te;return lt&&($e=[lt].concat($e),++Ye),hi(ye,$e,Ye)},me.precision=me.sd=function(ye,Ne){var qe,bt,lt;if(null!=ye&&ye!==!!ye)return Te(ye,1,K),null==Ne?Ne=Yt:Te(Ne,0,8),si(new tn(this),ye,Ne);if(!(qe=this.c))return null;if(bt=14*(lt=qe.length-1)+1,lt=qe[lt]){for(;lt%10==0;lt/=10,bt--);for(lt=qe[0];10<=lt;lt/=10,bt++);}return ye&&this.e+1>bt&&(bt=this.e+1),bt},me.shiftedBy=function(ye){return Te(ye,-ae,ae),this.times("1e"+ye)},me.squareRoot=me.sqrt=function(){var ye,Ne,qe,bt,lt,Ke=this,Ye=Ke.c,$e=Ke.s,gt=Ke.e,ft=Dt+4,Ct=new tn("0.5");if(1!==$e||!Ye||!Ye[0])return new tn(!$e||$e<0&&(!Ye||Ye[0])?NaN:Ye?Ke:1/0);if((qe=0==($e=Math.sqrt(+lr(Ke)))||$e==1/0?(((Ne=xe(Ye)).length+gt)%2==0&&(Ne+="0"),$e=Math.sqrt(+Ne),gt=ce((gt+1)/2)-(gt<0||gt%2),new tn(Ne=$e==1/0?"1e"+gt:(Ne=$e.toExponential()).slice(0,Ne.indexOf("e")+1)+gt)):new tn($e+"")).c[0])for(($e=(gt=qe.e)+ft)<3&&($e=0);;)if(qe=Ct.times((lt=qe).plus(ut(Ke,lt,ft,1))),xe(lt.c).slice(0,$e)===(Ne=xe(qe.c)).slice(0,$e)){if(qe.e<gt&&--$e,"9999"!=(Ne=Ne.slice($e-3,$e+1))&&(bt||"4999"!=Ne)){+Ne&&(+Ne.slice(1)||"5"!=Ne.charAt(0))||(si(qe,qe.e+Dt+2,1),ye=!qe.times(qe).eq(Ke));break}if(!bt&&(si(lt,lt.e+Dt+2,0),lt.times(lt).eq(Ke))){qe=lt;break}ft+=4,$e+=4,bt=1}return si(qe,qe.e+Dt+1,Yt,ye)},me.toExponential=function(ye,Ne){return null!=ye&&(Te(ye,0,K),ye++),Wr(this,ye,Ne,1)},me.toFixed=function(ye,Ne){return null!=ye&&(Te(ye,0,K),ye=ye+this.e+1),Wr(this,ye,Ne)},me.toFormat=function(ye,Ne,qe){var bt;if(null==qe)null!=ye&&Ne&&"object"==typeof Ne?(qe=Ne,Ne=null):ye&&"object"==typeof ye?(qe=ye,ye=Ne=null):qe=_r;else if("object"!=typeof qe)throw Error(F+"Argument not an object: "+qe);if(bt=this.toFixed(ye,Ne),this.c){var lt,Ke=bt.split("."),Ye=+qe.groupSize,$e=+qe.secondaryGroupSize,gt=qe.groupSeparator||"",ft=Ke[0],Ct=Ke[1],qt=this.s<0,cn=qt?ft.slice(1):ft,Mn=cn.length;if($e&&(lt=Ye,Ye=$e,Mn-=$e=lt),0<Ye&&0<Mn){for(ft=cn.substr(0,lt=Mn%Ye||Ye);lt<Mn;lt+=Ye)ft+=gt+cn.substr(lt,Ye);0<$e&&(ft+=gt+cn.slice(lt)),qt&&(ft="-"+ft)}bt=Ct?ft+(qe.decimalSeparator||"")+(($e=+qe.fractionGroupSize)?Ct.replace(new RegExp("\\d{"+$e+"}\\B","g"),"$&"+(qe.fractionGroupSeparator||"")):Ct):ft}return(qe.prefix||"")+bt+(qe.suffix||"")},me.toFraction=function(ye){var Ne,qe,bt,lt,Ke,Ye,$e,gt,ft,Ct,qt,cn,Mn=this,Pn=Mn.c;if(null!=ye&&(!($e=new tn(ye)).isInteger()&&($e.c||1!==$e.s)||$e.lt(dt)))throw Error(F+"Argument "+($e.isInteger()?"out of range: ":"not an integer: ")+lr($e));if(!Pn)return new tn(Mn);for(Ne=new tn(dt),ft=qe=new tn(dt),bt=gt=new tn(dt),cn=xe(Pn),Ke=Ne.e=cn.length-Mn.e-1,Ne.c[0]=de[(Ye=Ke%14)<0?14+Ye:Ye],ye=!ye||0<$e.comparedTo(Ne)?0<Ke?Ne:ft:$e,Ye=$n,$n=1/0,$e=new tn(cn),gt.c[0]=0;Ct=ut($e,Ne,0,1),1!=(lt=qe.plus(Ct.times(bt))).comparedTo(ye);)qe=bt,bt=lt,ft=gt.plus(Ct.times(lt=ft)),gt=lt,Ne=$e.minus(Ct.times(lt=Ne)),$e=lt;return lt=ut(ye.minus(qe),bt,0,1),gt=gt.plus(lt.times(ft)),qe=qe.plus(lt.times(bt)),gt.s=ft.s=Mn.s,qt=ut(ft,bt,Ke*=2,Yt).minus(Mn).abs().comparedTo(ut(gt,qe,Ke,Yt).minus(Mn).abs())<1?[ft,bt]:[gt,qe],$n=Ye,qt},me.toNumber=function(){return+lr(this)},me.toPrecision=function(ye,Ne){return null!=ye&&Te(ye,1,K),Wr(this,ye,Ne,2)},me.toString=function(ye){var Ne,qe=this,bt=qe.s,lt=qe.e;return null===lt?bt?(Ne="Infinity",bt<0&&(Ne="-"+Ne)):Ne="NaN":(Ne=null==ye?lt<=yn||wn<=lt?rt(xe(qe.c),lt):Ue(xe(qe.c),lt,"0"):10===ye?Ue(xe((qe=si(new tn(qe),Dt+lt+1,Yt)).c),qe.e,"0"):(Te(ye,2,En.length,"Base"),tt(Ue(xe(qe.c),lt,"0"),10,ye,bt,!0)),bt<0&&qe.c[0]&&(Ne="-"+Ne)),Ne},me.valueOf=me.toJSON=function(){return lr(this)},me._isBigNumber=!0,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(me[Symbol.toStringTag]="BigNumber",me[Symbol.for("nodejs.util.inspect.custom")]=me.valueOf),null!=Ge&&tn.set(Ge),tn}()).default=T.BigNumber=T,void 0!==b&&b.exports?b.exports=T:(S||(S="undefined"!=typeof self&&self?self:window),S.BigNumber=T)}(this)},{}],2:[function(ue,b,L){"use strict";b.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(S){var T=S%10;return 1==~~(S%100/10)?"th":1===T?"st":2===T?"nd":3===T?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(ue,b,L){"use strict";function S(ce,xe){return function(Pe){if(Array.isArray(Pe))return Pe}(ce)||function(Pe,Te){var ze=[],rt=!0,Ue=!1,Re=void 0;try{for(var Ge,ut=Pe[Symbol.iterator]();!(rt=(Ge=ut.next()).done)&&(ze.push(Ge.value),!Te||ze.length!==Te);rt=!0);}catch(tt){Ue=!0,Re=tt}finally{try{rt||null==ut.return||ut.return()}finally{if(Ue)throw Re}}return ze}(ce,xe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T=ue("./globalState"),R=ue("./validating"),A=ue("./parsing"),N=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],F={general:{scale:1024,suffixes:N,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:N,marker:"d"}},Y={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function te(ce){var xe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Pe=2<arguments.length?arguments[2]:void 0;if("string"==typeof xe&&(xe=A.parseFormat(xe)),!R.validateFormat(xe))return"ERROR: invalid format";var Te=xe.prefix||"",ze=xe.postfix||"",rt=function(Ue,Re,Ge){switch(Re.output){case"currency":return function(En,tn,Wr){var fi=Wr.currentCurrency(),hi=Object.assign({},Y,tn),si=void 0,lr="",ye=!!hi.totalLength||!!hi.forceAverage||hi.average,Ne=tn.currencyPosition||fi.position,qe=tn.currencySymbol||fi.symbol;hi.spaceSeparated&&(lr=" "),"infix"===Ne&&(si=lr+qe+lr);var bt=pe({instance:En,providedFormat:tn,state:Wr,decimalSeparator:si});return"prefix"===Ne&&(bt=En._value<0&&"sign"===hi.negative?"-".concat(lr).concat(qe).concat(bt.slice(1)):qe+lr+bt),Ne&&"postfix"!==Ne||(bt=bt+(lr=ye?"":lr)+qe),bt}(Ue,Re=K(Re,T.currentCurrencyDefaultFormat()),T);case"percent":return Re=K(Re,T.currentPercentageDefaultFormat()),Wr=T,hi=(tn=Re).prefixSymbol,si=pe({instance:Ge(100*Ue._value),providedFormat:tn,state:Wr}),lr=Object.assign({},Y,tn),hi?"%".concat(lr.spaceSeparated?" ":"").concat(si):"".concat(si).concat(lr.spaceSeparated?" ":"","%");case"byte":return Re=K(Re,T.currentByteDefaultFormat()),Yt=T,yn=Ge,wn=(Dt=Re).base||"binary",Un=($n=oe(Ue._value,(Nt=F[wn]).suffixes,Nt.scale)).suffix,kn=pe({instance:yn($n.value),providedFormat:Dt,state:Yt,defaults:Yt.currentByteDefaultFormat()}),_r=Yt.currentAbbreviations(),"".concat(kn).concat(_r.spaced?" ":"").concat(Un);case"time":return Re=K(Re,T.currentTimeDefaultFormat()),Xt=Ue,Pt=Math.floor(Xt._value/60/60),Oe=Math.floor((Xt._value-60*Pt*60)/60),me=Math.round(Xt._value-60*Pt*60-60*Oe),"".concat(Pt,":").concat(Oe<10?"0":"").concat(Oe,":").concat(me<10?"0":"").concat(me);case"ordinal":return ut=Ue,tt=Re=K(Re,T.currentOrdinalDefaultFormat()),kt=(mt=T).currentOrdinal(),Ht=Object.assign({},Y,tt),Wt=pe({instance:ut,providedFormat:tt,state:mt}),Gt=kt(ut._value),"".concat(Wt).concat(Ht.spaceSeparated?" ":"").concat(Gt);default:return pe({instance:Ue,providedFormat:Re,numbro:Ge})}var tn,Wr,hi,si,lr,ut,tt,mt,kt,Ht,Wt,Gt,Xt,Pt,Oe,me,Dt,Yt,yn,wn,Nt,$n,Un,kn,_r}(ce,xe,Pe);return(rt=Te+rt)+ze}function oe(ce,xe,Pe){var Te=xe[0],ze=Math.abs(ce);if(Pe<=ze){for(var rt=1;rt<xe.length;++rt){var Ue=Math.pow(Pe,rt),Re=Math.pow(Pe,rt+1);if(Ue<=ze&&ze<Re){Te=xe[rt],ce/=Ue;break}}Te===xe[0]&&(ce/=Math.pow(Pe,xe.length-1),Te=xe[xe.length-1])}return{value:ce,suffix:Te}}function ae(ce){for(var xe="",Pe=0;Pe<ce;Pe++)xe+="0";return xe}function pe(ce){var xe=ce.instance,Pe=ce.providedFormat,Te=ce.state,ze=void 0===Te?T:Te,rt=ce.decimalSeparator,Ue=ce.defaults,Re=void 0===Ue?ze.currentDefaults():Ue,Ge=xe._value;if(0===Ge&&ze.hasZeroFormat())return ze.getZeroFormat();if(!isFinite(Ge))return Ge.toString();var ut,tt,mt,kt,Ht,Gt,Xt,Pt=Object.assign({},Y,Re,Pe),Oe=Pt.totalLength,me=Oe?0:Pt.characteristic,dt=Pt.optionalCharacteristic,Dt=Pt.forceAverage,Yt=!!Oe||!!Dt||Pt.average,yn=Oe?-1:Yt&&void 0===Pe.mantissa?0:Pt.mantissa,wn=!Oe&&(void 0===Pe.optionalMantissa?-1===yn:Pt.optionalMantissa),Nt=Pt.trimMantissa,$n=Pt.thousandSeparated,Vn=Pt.spaceSeparated,Un=Pt.negative,kn=Pt.forceSign,_r=Pt.exponential,En="";if(Yt){var tn=function(ye){var Ne=ye.value,qe=ye.forceAverage,bt=ye.abbreviations,lt=ye.spaceSeparated,Ke=void 0!==lt&&lt,Ye=ye.totalLength,$e=void 0===Ye?0:Ye,gt="",ft=Math.abs(Ne),Ct=-1;if(ft>=Math.pow(10,12)&&!qe||"trillion"===qe?(gt=bt.trillion,Ne/=Math.pow(10,12)):ft<Math.pow(10,12)&&ft>=Math.pow(10,9)&&!qe||"billion"===qe?(gt=bt.billion,Ne/=Math.pow(10,9)):ft<Math.pow(10,9)&&ft>=Math.pow(10,6)&&!qe||"million"===qe?(gt=bt.million,Ne/=Math.pow(10,6)):(ft<Math.pow(10,6)&&ft>=Math.pow(10,3)&&!qe||"thousand"===qe)&&(gt=bt.thousand,Ne/=Math.pow(10,3)),gt&&(gt=(Ke?" ":"")+gt),$e){var qt=Ne.toString().split(".")[0];Ct=Math.max($e-qt.length,0)}return{value:Ne,abbreviation:gt,mantissaPrecision:Ct}}({value:Ge,forceAverage:Dt,abbreviations:ze.currentAbbreviations(),spaceSeparated:Vn,totalLength:Oe});Ge=tn.value,En+=tn.abbreviation,Oe&&(yn=tn.mantissaPrecision)}if(_r){var Wr=(tt=(ut={value:Ge,characteristicPrecision:me}).value,kt=void 0===(mt=ut.characteristicPrecision)?0:mt,Gt=(Ht=S(tt.toExponential().split("e"),2))[1],Xt=+Ht[0],kt&&1<kt&&(Xt*=Math.pow(10,kt-1),Gt=0<=(Gt=+Gt-(kt-1))?"+".concat(Gt):Gt),{value:Xt,abbreviation:"e".concat(Gt)});Ge=Wr.value,En=Wr.abbreviation+En}var fi,hi,si,lr=function(ye,Ne,qe,bt,lt){if(-1===bt)return ye;var Ke=function de(ce,xe){return-1!==ce.toString().indexOf("e")?function(Pe,Te){var ze=Pe.toString(),rt=S(ze.split("e"),2),Re=rt[1],Ge=S(rt[0].split("."),2),ut=Ge[0],tt=Ge[1],mt=void 0===tt?"":tt;if(0<+Re)ze=ut+mt+ae(Re-mt.length);else{var kt=".";kt=+ut<0?"-0".concat(kt):"0".concat(kt);var Ht=(ae(-Re-1)+Math.abs(ut)+mt).substr(0,Te);Ht.length<Te&&(Ht+=ae(Te-Ht.length)),ze=kt+Ht}return 0<+Re&&0<Te&&(ze+=".".concat(ae(Te))),ze}(ce,xe):(Math.round(+"".concat(ce,"e+").concat(xe))/Math.pow(10,xe)).toFixed(xe)}(Ne,bt),Ye=S(Ke.toString().split("."),2),$e=Ye[0],gt=Ye[1],ft=void 0===gt?"":gt;if(ft.match(/^0+$/)&&(qe||lt))return $e;var Ct=ft.match(/0+$/);return lt&&Ct?"".concat($e,".").concat(ft.toString().slice(0,Ct.index)):Ke.toString()}(Ge.toString(),Ge,wn,yn,Nt);return lr=function(ye,Ne,qe,bt,lt){var Ke=bt.currentDelimiters(),Ye=Ke.thousands;lt=lt||Ke.decimal;var $e=Ke.thousandsSize||3,gt=ye.toString(),ft=gt.split(".")[0],Ct=gt.split(".")[1];return qe&&(Ne<0&&(ft=ft.slice(1)),function(qt,cn){for(var Mn=[],Pn=0,yr=qt;0<yr;yr--)Pn===cn&&(Mn.unshift(yr),Pn=0),Pn++;return Mn}(ft.length,$e).forEach(function(qt,cn){ft=ft.slice(0,qt+cn)+Ye+ft.slice(qt+cn)}),Ne<0&&(ft="-".concat(ft))),Ct?ft+lt+Ct:ft}(lr=function(ye,Ne,qe,bt){var lt=ye,Ke=S(lt.toString().split("."),2),Ye=Ke[0],$e=Ke[1];if(Ye.match(/^-?0$/)&&qe)return $e?"".concat(Ye.replace("0",""),".").concat($e):Ye.replace("0","");if(Ye.length<bt)for(var gt=bt-Ye.length,ft=0;ft<gt;ft++)lt="0".concat(lt);return lt.toString()}(lr,0,dt,me),Ge,$n,ze,rt),(Yt||_r)&&(lr+=En),(kn||Ge<0)&&(fi=lr,si=Un,lr=0===(hi=Ge)?fi:0==+fi?fi.replace("-",""):0<hi?"+".concat(fi):"sign"===si?fi:"(".concat(fi.replace("-",""),")")),lr}function K(ce,xe){if(!ce)return xe;var Pe=Object.keys(ce);return 1===Pe.length&&"output"===Pe[0]?xe:ce}b.exports=function(ce){return{format:function(){for(var xe=arguments.length,Pe=new Array(xe),Te=0;Te<xe;Te++)Pe[Te]=arguments[Te];return te.apply(void 0,Pe.concat([ce]))},getByteUnit:function(){for(var xe=arguments.length,Pe=new Array(xe),Te=0;Te<xe;Te++)Pe[Te]=arguments[Te];return function(ze){var rt=F.general;return oe(ze._value,rt.suffixes,rt.scale).suffix}.apply(void 0,Pe.concat([ce]))},getBinaryByteUnit:function(){for(var xe=arguments.length,Pe=new Array(xe),Te=0;Te<xe;Te++)Pe[Te]=arguments[Te];return function(ze){var rt=F.binary;return oe(ze._value,rt.suffixes,rt.scale).suffix}.apply(void 0,Pe.concat([ce]))},getDecimalByteUnit:function(){for(var xe=arguments.length,Pe=new Array(xe),Te=0;Te<xe;Te++)Pe[Te]=arguments[Te];return function(ze){var rt=F.decimal;return oe(ze._value,rt.suffixes,rt.scale).suffix}.apply(void 0,Pe.concat([ce]))},formatOrDefault:K}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(ue,b,L){"use strict";var S=ue("./en-US"),T=ue("./validating"),R=ue("./parsing"),A={},N=void 0,F={},Y=null,te={};function oe(de){N=de}function ae(){return F[N]}A.languages=function(){return Object.assign({},F)},A.currentLanguage=function(){return N},A.currentCurrency=function(){return ae().currency},A.currentAbbreviations=function(){return ae().abbreviations},A.currentDelimiters=function(){return ae().delimiters},A.currentOrdinal=function(){return ae().ordinal},A.currentDefaults=function(){return Object.assign({},ae().defaults,te)},A.currentOrdinalDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().ordinalFormat)},A.currentByteDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().byteFormat)},A.currentPercentageDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().percentageFormat)},A.currentCurrencyDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().currencyFormat)},A.currentTimeDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().timeFormat)},A.setDefaults=function(de){de=R.parseFormat(de),T.validateFormat(de)&&(te=de)},A.getZeroFormat=function(){return Y},A.setZeroFormat=function(de){return Y="string"==typeof de?de:null},A.hasZeroFormat=function(){return null!==Y},A.languageData=function(de){if(de){if(F[de])return F[de];throw new Error('Unknown tag "'.concat(de,'"'))}return ae()},A.registerLanguage=function(de){var pe=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!T.validateLanguage(de))throw new Error("Invalid language data");F[de.languageTag]=de,pe&&oe(de.languageTag)},A.setLanguage=function(de){var pe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:S.languageTag;if(!F[de]){var K=de.split("-")[0],ce=Object.keys(F).find(function(xe){return xe.split("-")[0]===K});return F[ce]?void oe(ce):void oe(pe)}oe(de)},A.registerLanguage(S),N=S.languageTag,b.exports=A},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(ue,b,L){"use strict";b.exports=function(S){return{loadLanguagesInNode:function(T){return R=S,void T.forEach(function(A){var N=void 0;try{N=ue("../languages/".concat(A))}catch(F){console.error('Unable to load "'.concat(A,'". No matching language file found.'))}N&&R.registerLanguage(N)});var R}}}},{}],6:[function(ue,b,L){"use strict";var S=ue("bignumber.js");function T(R,A,N){var F=new S(R._value),Y=A;return N.isNumbro(A)&&(Y=A._value),Y=new S(Y),R._value=F.minus(Y).toNumber(),R}b.exports=function(R){return{add:function(A,N){return Y=N,te=R,oe=new S((F=A)._value),ae=Y,te.isNumbro(Y)&&(ae=Y._value),ae=new S(ae),F._value=oe.plus(ae).toNumber(),F;var F,Y,te,oe,ae},subtract:function(A,N){return T(A,N,R)},multiply:function(A,N){return Y=N,te=R,oe=new S((F=A)._value),ae=Y,te.isNumbro(Y)&&(ae=Y._value),ae=new S(ae),F._value=oe.times(ae).toNumber(),F;var F,Y,te,oe,ae},divide:function(A,N){return Y=N,te=R,oe=new S((F=A)._value),ae=Y,te.isNumbro(Y)&&(ae=Y._value),ae=new S(ae),F._value=oe.dividedBy(ae).toNumber(),F;var F,Y,te,oe,ae},set:function(A,N){return F=A,te=Y=N,R.isNumbro(Y)&&(te=Y._value),F._value=te,F;var F,Y,te},difference:function(A,N){return F=N,T(te=(Y=R)(A._value),F,Y),Math.abs(te._value);var F,Y,te}}}},{"bignumber.js":1}],7:[function(ue,b,L){"use strict";function S(pe,K){for(var ce=0;ce<K.length;ce++){var xe=K[ce];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(pe,xe.key,xe)}}var T=ue("./globalState"),R=ue("./validating"),A=ue("./loading")(de),N=ue("./unformatting"),F=ue("./formatting")(de),Y=ue("./manipulating")(de),te=ue("./parsing"),oe=function(){function pe(Pe){(function(Te,ze){if(!(Te instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,pe),this._value=Pe}var K,ce;return K=pe,(ce=[{key:"clone",value:function(){return de(this._value)}},{key:"format",value:function(){return F.format(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"formatCurrency",value:function(Pe){return"string"==typeof Pe&&(Pe=te.parseFormat(Pe)),(Pe=F.formatOrDefault(Pe,T.currentCurrencyDefaultFormat())).output="currency",F.format(this,Pe)}},{key:"formatTime",value:function(){var Pe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Pe.output="time",F.format(this,Pe)}},{key:"binaryByteUnits",value:function(){return F.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return F.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return F.getByteUnit(this)}},{key:"difference",value:function(Pe){return Y.difference(this,Pe)}},{key:"add",value:function(Pe){return Y.add(this,Pe)}},{key:"subtract",value:function(Pe){return Y.subtract(this,Pe)}},{key:"multiply",value:function(Pe){return Y.multiply(this,Pe)}},{key:"divide",value:function(Pe){return Y.divide(this,Pe)}},{key:"set",value:function(Pe){return Y.set(this,ae(Pe))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&S(K.prototype,ce),pe}();function ae(pe){var K=pe;return de.isNumbro(pe)?K=pe._value:"string"==typeof pe?K=de.unformat(pe):isNaN(pe)&&(K=NaN),K}function de(pe){return new oe(ae(pe))}de.version="2.1.2",de.isNumbro=function(pe){return pe instanceof oe},de.language=T.currentLanguage,de.registerLanguage=T.registerLanguage,de.setLanguage=T.setLanguage,de.languages=T.languages,de.languageData=T.languageData,de.zeroFormat=T.setZeroFormat,de.defaultFormat=T.currentDefaults,de.setDefaults=T.setDefaults,de.defaultCurrencyFormat=T.currentCurrencyDefaultFormat,de.validate=R.validate,de.loadLanguagesInNode=A.loadLanguagesInNode,de.unformat=N.unformat,b.exports=de},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(ue,b,L){"use strict";b.exports={parseFormat:function(S){var T,R,A,N,F,Y,te,oe,ae,de,pe,K,ce,xe,Pe,Te,ze,rt,Ue,Re,Ge=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof S?S:(R=Ge,F=Ge,function(ut,tt){if(-1===ut.indexOf("$")){if(-1===ut.indexOf("%"))return-1!==ut.indexOf("bd")?(tt.output="byte",tt.base="general"):-1!==ut.indexOf("b")?(tt.output="byte",tt.base="binary"):-1!==ut.indexOf("d")?(tt.output="byte",tt.base="decimal"):-1===ut.indexOf(":")?-1!==ut.indexOf("o")&&(tt.output="ordinal"):tt.output="time";tt.output="percent"}else tt.output="currency"}(S=(Y=(N=S=(A=(T=S).match(/^{([^}]*)}/))?(R.prefix=A[1],T.slice(A[0].length)):T).match(/{([^}]*)}$/))?(F.postfix=Y[1],N.slice(0,-Y[0].length)):N,Ge),te=Ge,(oe=S.match(/[1-9]+[0-9]*/))&&(te.totalLength=+oe[0]),ae=Ge,(de=S.split(".")[0].match(/0+/))&&(ae.characteristic=de[0].length),function(ut,tt){if(-1!==ut.indexOf(".")){var mt=ut.split(".")[0];tt.optionalCharacteristic=-1===mt.indexOf("0")}}(S,Ge),pe=Ge,-1!==S.indexOf("a")&&(pe.average=!0),ce=Ge,-1!==(K=S).indexOf("K")?ce.forceAverage="thousand":-1!==K.indexOf("M")?ce.forceAverage="million":-1!==K.indexOf("B")?ce.forceAverage="billion":-1!==K.indexOf("T")&&(ce.forceAverage="trillion"),function(ut,tt){var mt=ut.split(".")[1];if(mt){var kt=mt.match(/0+/);kt&&(tt.mantissa=kt[0].length)}}(S,Ge),Pe=Ge,(xe=S).match(/\[\.]/)?Pe.optionalMantissa=!0:xe.match(/\./)&&(Pe.optionalMantissa=!1),Te=Ge,-1!==S.indexOf(",")&&(Te.thousandSeparated=!0),ze=Ge,-1!==S.indexOf(" ")&&(ze.spaceSeparated=!0),Ue=Ge,(rt=S).match(/^\+?\([^)]*\)$/)&&(Ue.negative="parenthesis"),rt.match(/^\+?-/)&&(Ue.negative="sign"),Re=Ge,S.match(/^\+/)&&(Re.forceSign=!0),Ge)}}},{}],9:[function(ue,b,L){"use strict";var S=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function T(A){return A.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}b.exports={unformat:function(A,N){var F,oe=ue("./globalState"),ae=oe.currentDelimiters(),de=oe.currentCurrency().symbol,pe=oe.currentOrdinal(),K=oe.getZeroFormat(),ce=oe.currentAbbreviations(),xe=void 0;if("string"==typeof A)xe=function(Pe,Te){if(!Pe.indexOf(":")||":"===Te.thousands)return!1;var ze=Pe.split(":");if(3!==ze.length)return!1;var Ue=+ze[1],Re=+ze[2];return!isNaN(+ze[0])&&!isNaN(Ue)&&!isNaN(Re)}(A,ae)?+(F=A.split(":"))[2]+60*+F[1]+3600*+F[0]:function R(A,N){var F=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",Y=3<arguments.length?arguments[3]:void 0,te=4<arguments.length?arguments[4]:void 0,oe=5<arguments.length?arguments[5]:void 0,ae=6<arguments.length?arguments[6]:void 0;if(""!==A)return A===te?0:function de(pe,K){var ce=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",xe=3<arguments.length?arguments[3]:void 0,Pe=4<arguments.length?arguments[4]:void 0,Te=5<arguments.length?arguments[5]:void 0,ze=6<arguments.length?arguments[6]:void 0;if(!isNaN(+pe))return+pe;var rt="",Ue=pe.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(Ue!==pe)return-1*de(Ue,K,ce,xe,Pe,Te,ze);for(var Re=0;Re<S.length;Re++){var Ge=S[Re];if((rt=pe.replace(Ge.key,""))!==pe)return de(rt,K,ce,xe,Pe,Te,ze)*Ge.factor}if((rt=pe.replace("%",""))!==pe)return de(rt,K,ce,xe,Pe,Te,ze)/100;var ut=parseFloat(pe);if(!isNaN(ut)){var tt=xe(ut);if(tt&&"."!==tt&&(rt=pe.replace(new RegExp("".concat(T(tt),"$")),""))!==pe)return de(rt,K,ce,xe,Pe,Te,ze);var mt={};Object.keys(Te).forEach(function(Oe){mt[Te[Oe]]=Oe});for(var kt=Object.keys(mt).sort().reverse(),Ht=kt.length,Wt=0;Wt<Ht;Wt++){var Gt=kt[Wt],Xt=mt[Gt];if((rt=pe.replace(Gt,""))!==pe){var Pt=void 0;switch(Xt){case"thousand":Pt=Math.pow(10,3);break;case"million":Pt=Math.pow(10,6);break;case"billion":Pt=Math.pow(10,9);break;case"trillion":Pt=Math.pow(10,12)}return de(rt,K,ce,xe,Pe,Te,ze)*Pt}}}}(function(de,pe){var ce=de.replace(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"","");return(ce=ce.replace(new RegExp("([0-9])".concat(T(pe.thousands),"([0-9])"),"g"),"$1$2")).replace(pe.decimal,".")}(A,N,F),N,F,Y,te,oe,ae)}(A,ae,de,pe,K,ce,N);else{if("number"!=typeof A)return;xe=A}if(void 0!==xe)return xe}}},{"./globalState":4}],10:[function(ue,b,L){"use strict";function S(ae){return function(de){if(Array.isArray(de)){for(var pe=0,K=new Array(de.length);pe<de.length;pe++)K[pe]=de[pe];return K}}(ae)||function(de){if(Symbol.iterator in Object(de)||"[object Arguments]"===Object.prototype.toString.call(de))return Array.from(de)}(ae)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(ae){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(ae)}var R=ue("./unformatting"),A=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,N={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(ae,de){return"byte"===de.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(ae){return"byte"===ae.output}},characteristic:{type:"number",restriction:function(ae){return 0<=ae},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(ae){return 0<=ae},message:"value must be positive"},{restriction:function(ae,de){return!de.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(ae){return 0<=ae},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(ae,de){return"percent"===de.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},F={languageTag:{type:"string",mandatory:!0,restriction:function(ae){return ae.match(A)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function Y(ae){return!!R.unformat(ae)}function te(ae,de,pe){var K=3<arguments.length&&void 0!==arguments[3]&&arguments[3],ce=Object.keys(ae).map(function(xe){if(!de[xe])return console.error("".concat(pe," Invalid key: ").concat(xe)),!1;var Pe=ae[xe],Te=de[xe];if("string"==typeof Te&&(Te={type:Te}),"format"===Te.type){if(!te(Pe,N,"[Validate ".concat(xe,"]"),!0))return!1}else if(T(Pe)!==Te.type)return console.error("".concat(pe," ").concat(xe,' type mismatched: "').concat(Te.type,'" expected, "').concat(T(Pe),'" provided')),!1;if(Te.restrictions&&Te.restrictions.length)for(var ze=Te.restrictions.length,rt=0;rt<ze;rt++){var Ue=Te.restrictions[rt],Ge=Ue.message;if(!(0,Ue.restriction)(Pe,ae))return console.error("".concat(pe," ").concat(xe," invalid value: ").concat(Ge)),!1}return Te.restriction&&!Te.restriction(Pe,ae)?(console.error("".concat(pe," ").concat(xe," invalid value: ").concat(Te.message)),!1):Te.validValues&&-1===Te.validValues.indexOf(Pe)?(console.error("".concat(pe," ").concat(xe," invalid value: must be among ").concat(JSON.stringify(Te.validValues),', "').concat(Pe,'" provided')),!1):!(Te.children&&!te(Pe,Te.children,"[Validate ".concat(xe,"]")))});return K||ce.push.apply(ce,S(Object.keys(de).map(function(xe){var Pe=de[xe];if("string"==typeof Pe&&(Pe={type:Pe}),Pe.mandatory){var Te=Pe.mandatory;if("function"==typeof Te&&(Te=Te(ae)),Te&&void 0===ae[xe])return console.error("".concat(pe,' Missing mandatory key "').concat(xe,'"')),!1}return!0}))),ce.reduce(function(xe,Pe){return xe&&Pe},!0)}function oe(ae){return te(ae,N,"[Validate format]")}b.exports={validate:function(ae,de){var pe=Y(ae),K=oe(de);return pe&&K},validateFormat:oe,validateInput:Y,validateLanguage:function(ae){return te(ae,F,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)},8183:function(Q,ue,b){!function(L,S){"use strict";var T;try{T=b(6908)}catch(R){}Q.exports=function(L){var S="function"==typeof L,T=!!window.addEventListener,R=window.document,A=window.setTimeout,N=function(Oe,me,dt,Dt){T?Oe.addEventListener(me,dt,!!Dt):Oe.attachEvent("on"+me,dt)},F=function(Oe,me,dt,Dt){T?Oe.removeEventListener(me,dt,!!Dt):Oe.detachEvent("on"+me,dt)},te=function(Oe,me){return-1!==(" "+Oe.className+" ").indexOf(" "+me+" ")},oe=function(Oe,me){te(Oe,me)||(Oe.className=""===Oe.className?me:Oe.className+" "+me)},ae=function(Oe,me){Oe.className=function(Oe){return Oe.trim?Oe.trim():Oe.replace(/^\s+|\s+$/g,"")}((" "+Oe.className+" ").replace(" "+me+" "," "))},de=function(Oe){return/Array/.test(Object.prototype.toString.call(Oe))},pe=function(Oe){return/Date/.test(Object.prototype.toString.call(Oe))&&!isNaN(Oe.getTime())},K=function(Oe){var me=Oe.getDay();return 0===me||6===me},ce=function(Oe){return Oe%4==0&&Oe%100!=0||Oe%400==0},xe=function(Oe,me){return[31,ce(Oe)?29:28,31,30,31,30,31,31,30,31,30,31][me]},Pe=function(Oe){pe(Oe)&&Oe.setHours(0,0,0,0)},Te=function(Oe,me){return Oe.getTime()===me.getTime()},ze=function(Oe,me,dt){var Dt,Yt;for(Dt in me)(Yt=void 0!==Oe[Dt])&&"object"==typeof me[Dt]&&null!==me[Dt]&&void 0===me[Dt].nodeName?pe(me[Dt])?dt&&(Oe[Dt]=new Date(me[Dt].getTime())):de(me[Dt])?dt&&(Oe[Dt]=me[Dt].slice(0)):Oe[Dt]=ze({},me[Dt],dt):(dt||!Yt)&&(Oe[Dt]=me[Dt]);return Oe},rt=function(Oe,me,dt){var Dt;R.createEvent?((Dt=R.createEvent("HTMLEvents")).initEvent(me,!0,!1),Dt=ze(Dt,dt),Oe.dispatchEvent(Dt)):R.createEventObject&&(Dt=R.createEventObject(),Dt=ze(Dt,dt),Oe.fireEvent("on"+me,Dt))},Ue=function(Oe){return Oe.month<0&&(Oe.year-=Math.ceil(Math.abs(Oe.month)/12),Oe.month+=12),Oe.month>11&&(Oe.year+=Math.floor(Math.abs(Oe.month)/12),Oe.month-=12),Oe},Re={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},Ge=function(Oe,me,dt){for(me+=Oe.firstDay;me>=7;)me-=7;return dt?Oe.i18n.weekdaysShort[me]:Oe.i18n.weekdays[me]},ut=function(Oe){var me=[],dt="false";if(Oe.isEmpty){if(!Oe.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';me.push("is-outside-current-month"),Oe.enableSelectionDaysInNextAndPreviousMonths||me.push("is-selection-disabled")}return Oe.isDisabled&&me.push("is-disabled"),Oe.isToday&&me.push("is-today"),Oe.isSelected&&(me.push("is-selected"),dt="true"),Oe.hasEvent&&me.push("has-event"),Oe.isInRange&&me.push("is-inrange"),Oe.isStartRange&&me.push("is-startrange"),Oe.isEndRange&&me.push("is-endrange"),'<td data-day="'+Oe.day+'" class="'+me.join(" ")+'" aria-selected="'+dt+'"><button class="pika-button pika-day" type="button" data-pika-year="'+Oe.year+'" data-pika-month="'+Oe.month+'" data-pika-day="'+Oe.day+'">'+Oe.day+"</button></td>"},mt=function(Oe,me,dt,Dt){var Yt=new Date(dt,me,Oe);return'<td class="pika-week">'+(S?L(Yt).isoWeek():function(Oe,me){Oe.setHours(0,0,0,0);var dt=Oe.getDate(),Dt=Oe.getDay(),Yt=me,yn=Yt-1,Nt=function(_r){return(_r+7-1)%7};Oe.setDate(dt+yn-Nt(Dt));var $n=new Date(Oe.getFullYear(),0,Yt),Un=(Oe.getTime()-$n.getTime())/864e5;return 1+Math.round((Un-yn+Nt($n.getDay()))/7)}(Yt,Dt))+"</td>"},kt=function(Oe,me,dt,Dt){return'<tr class="pika-row'+(dt?" pick-whole-week":"")+(Dt?" is-selected":"")+'">'+(me?Oe.reverse():Oe).join("")+"</tr>"},Gt=function(Oe,me,dt,Dt,Yt,yn){var wn,Nt,$n,En,tn,Vn=Oe._o,Un=dt===Vn.minYear,kn=dt===Vn.maxYear,_r='<div id="'+yn+'" class="pika-title" role="heading" aria-live="assertive">',Wr=!0,fi=!0;for($n=[],wn=0;wn<12;wn++)$n.push('<option value="'+(dt===Yt?wn-me:12+wn-me)+'"'+(wn===Dt?' selected="selected"':"")+(Un&&wn<Vn.minMonth||kn&&wn>Vn.maxMonth?' disabled="disabled"':"")+">"+Vn.i18n.months[wn]+"</option>");for(En='<div class="pika-label">'+Vn.i18n.months[Dt]+'<select class="pika-select pika-select-month" tabindex="-1">'+$n.join("")+"</select></div>",de(Vn.yearRange)?(wn=Vn.yearRange[0],Nt=Vn.yearRange[1]+1):(wn=dt-Vn.yearRange,Nt=1+dt+Vn.yearRange),$n=[];wn<Nt&&wn<=Vn.maxYear;wn++)wn>=Vn.minYear&&$n.push('<option value="'+wn+'"'+(wn===dt?' selected="selected"':"")+">"+wn+"</option>");return tn='<div class="pika-label">'+dt+Vn.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+$n.join("")+"</select></div>",_r+=Vn.showMonthAfterYear?tn+En:En+tn,Un&&(0===Dt||Vn.minMonth>=Dt)&&(Wr=!1),kn&&(11===Dt||Vn.maxMonth<=Dt)&&(fi=!1),0===me&&(_r+='<button class="pika-prev'+(Wr?"":" is-disabled")+'" type="button">'+Vn.i18n.previousMonth+"</button>"),me===Oe._o.numberOfMonths-1&&(_r+='<button class="pika-next'+(fi?"":" is-disabled")+'" type="button">'+Vn.i18n.nextMonth+"</button>"),_r+"</div>"},Xt=function(Oe,me,dt){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+dt+'">'+function(Oe){var me,dt=[];for(Oe.showWeekNumber&&dt.push("<th></th>"),me=0;me<7;me++)dt.push('<th scope="col"><abbr title="'+Ge(Oe,me)+'">'+Ge(Oe,me,!0)+"</abbr></th>");return"<thead><tr>"+(Oe.isRTL?dt.reverse():dt).join("")+"</tr></thead>"}(Oe)+function(Oe){return"<tbody>"+Oe.join("")+"</tbody>"}(me)+"</table>"},Pt=function(Oe){var me=this,dt=me.config(Oe);me._onMouseDown=function(Yt){if(me._v){var yn=(Yt=Yt||window.event).target||Yt.srcElement;if(yn)if(te(yn,"is-disabled")||(!te(yn,"pika-button")||te(yn,"is-empty")||te(yn.parentNode,"is-disabled")?te(yn,"pika-prev")?me.prevMonth():te(yn,"pika-next")&&me.nextMonth():(me.setDate(new Date(yn.getAttribute("data-pika-year"),yn.getAttribute("data-pika-month"),yn.getAttribute("data-pika-day"))),dt.bound&&A(function(){me.hide(),dt.blurFieldOnSelect&&dt.field&&dt.field.blur()},100))),te(yn,"pika-select"))me._c=!0;else{if(!Yt.preventDefault)return Yt.returnValue=!1,!1;Yt.preventDefault()}}},me._onChange=function(Yt){var yn=(Yt=Yt||window.event).target||Yt.srcElement;!yn||(te(yn,"pika-select-month")?me.gotoMonth(yn.value):te(yn,"pika-select-year")&&me.gotoYear(yn.value))},me._onKeyChange=function(Yt){if(Yt=Yt||window.event,me.isVisible())switch(Yt.keyCode){case 13:case 27:dt.field&&dt.field.blur();break;case 37:me.adjustDate("subtract",1);break;case 38:me.adjustDate("subtract",7);break;case 39:me.adjustDate("add",1);break;case 40:me.adjustDate("add",7);break;case 8:case 46:me.setDate(null)}},me._parseFieldValue=function(){if(dt.parse)return dt.parse(dt.field.value,dt.format);if(S){var Yt=L(dt.field.value,dt.format,dt.formatStrict);return Yt&&Yt.isValid()?Yt.toDate():null}return new Date(Date.parse(dt.field.value))},me._onInputChange=function(Yt){var yn;Yt.firedBy!==me&&(yn=me._parseFieldValue(),pe(yn)&&me.setDate(yn),me._v||me.show())},me._onInputFocus=function(){me.show()},me._onInputClick=function(){me.show()},me._onInputBlur=function(){var Yt=R.activeElement;do{if(te(Yt,"pika-single"))return}while(Yt=Yt.parentNode);me._c||(me._b=A(function(){me.hide()},50)),me._c=!1},me._onClick=function(Yt){var yn=(Yt=Yt||window.event).target||Yt.srcElement,wn=yn;if(yn){!T&&te(yn,"pika-select")&&(yn.onchange||(yn.setAttribute("onchange","return;"),N(yn,"change",me._onChange)));do{if(te(wn,"pika-single")||wn===dt.trigger)return}while(wn=wn.parentNode);me._v&&yn!==dt.trigger&&wn!==dt.trigger&&me.hide()}},me.el=R.createElement("div"),me.el.className="pika-single"+(dt.isRTL?" is-rtl":"")+(dt.theme?" "+dt.theme:""),N(me.el,"mousedown",me._onMouseDown,!0),N(me.el,"touchend",me._onMouseDown,!0),N(me.el,"change",me._onChange),dt.keyboardInput&&N(R,"keydown",me._onKeyChange),dt.field&&(dt.container?dt.container.appendChild(me.el):dt.bound?R.body.appendChild(me.el):dt.field.parentNode.insertBefore(me.el,dt.field.nextSibling),N(dt.field,"change",me._onInputChange),dt.defaultDate||(dt.defaultDate=me._parseFieldValue(),dt.setDefaultDate=!0));var Dt=dt.defaultDate;pe(Dt)?dt.setDefaultDate?me.setDate(Dt,!0):me.gotoDate(Dt):me.gotoDate(new Date),dt.bound?(this.hide(),me.el.className+=" is-bound",N(dt.trigger,"click",me._onInputClick),N(dt.trigger,"focus",me._onInputFocus),N(dt.trigger,"blur",me._onInputBlur)):this.show()};return Pt.prototype={config:function(Oe){this._o||(this._o=ze({},Re,!0));var me=ze(this._o,Oe,!0);me.isRTL=!!me.isRTL,me.field=me.field&&me.field.nodeName?me.field:null,me.theme="string"==typeof me.theme&&me.theme?me.theme:null,me.bound=!!(void 0!==me.bound?me.field&&me.bound:me.field),me.trigger=me.trigger&&me.trigger.nodeName?me.trigger:me.field,me.disableWeekends=!!me.disableWeekends,me.disableDayFn="function"==typeof me.disableDayFn?me.disableDayFn:null;var dt=parseInt(me.numberOfMonths,10)||1;if(me.numberOfMonths=dt>4?4:dt,pe(me.minDate)||(me.minDate=!1),pe(me.maxDate)||(me.maxDate=!1),me.minDate&&me.maxDate&&me.maxDate<me.minDate&&(me.maxDate=me.minDate=!1),me.minDate&&this.setMinDate(me.minDate),me.maxDate&&this.setMaxDate(me.maxDate),de(me.yearRange)){var Dt=(new Date).getFullYear()-10;me.yearRange[0]=parseInt(me.yearRange[0],10)||Dt,me.yearRange[1]=parseInt(me.yearRange[1],10)||Dt}else me.yearRange=Math.abs(parseInt(me.yearRange,10))||Re.yearRange,me.yearRange>100&&(me.yearRange=100);return me},toString:function(Oe){return Oe=Oe||this._o.format,pe(this._d)?this._o.toString?this._o.toString(this._d,Oe):S?L(this._d).format(Oe):this._d.toDateString():""},getMoment:function(){return S?L(this._d):null},setMoment:function(Oe,me){S&&L.isMoment(Oe)&&this.setDate(Oe.toDate(),me)},getDate:function(){return pe(this._d)?new Date(this._d.getTime()):null},setDate:function(Oe,me){if(!Oe)return this._d=null,this._o.field&&(this._o.field.value="",rt(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof Oe&&(Oe=new Date(Date.parse(Oe))),pe(Oe)){var dt=this._o.minDate,Dt=this._o.maxDate;pe(dt)&&Oe<dt?Oe=dt:pe(Dt)&&Oe>Dt&&(Oe=Dt),this._d=new Date(Oe.getTime()),Pe(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),rt(this._o.field,"change",{firedBy:this})),!me&&"function"==typeof this._o.onSelect&&this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(Oe){var me=!0;if(pe(Oe)){if(this.calendars){var dt=new Date(this.calendars[0].year,this.calendars[0].month,1),Dt=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),Yt=Oe.getTime();Dt.setMonth(Dt.getMonth()+1),Dt.setDate(Dt.getDate()-1),me=Yt<dt.getTime()||Dt.getTime()<Yt}me&&(this.calendars=[{month:Oe.getMonth(),year:Oe.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(Oe,me){var Yt,dt=this.getDate()||new Date,Dt=24*parseInt(me)*60*60*1e3;"add"===Oe?Yt=new Date(dt.valueOf()+Dt):"subtract"===Oe&&(Yt=new Date(dt.valueOf()-Dt)),this.setDate(Yt)},adjustCalendars:function(){this.calendars[0]=Ue(this.calendars[0]);for(var Oe=1;Oe<this._o.numberOfMonths;Oe++)this.calendars[Oe]=Ue({month:this.calendars[0].month+Oe,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(Oe){isNaN(Oe)||(this.calendars[0].month=parseInt(Oe,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(Oe){isNaN(Oe)||(this.calendars[0].year=parseInt(Oe,10),this.adjustCalendars())},setMinDate:function(Oe){Oe instanceof Date?(Pe(Oe),this._o.minDate=Oe,this._o.minYear=Oe.getFullYear(),this._o.minMonth=Oe.getMonth()):(this._o.minDate=Re.minDate,this._o.minYear=Re.minYear,this._o.minMonth=Re.minMonth,this._o.startRange=Re.startRange),this.draw()},setMaxDate:function(Oe){Oe instanceof Date?(Pe(Oe),this._o.maxDate=Oe,this._o.maxYear=Oe.getFullYear(),this._o.maxMonth=Oe.getMonth()):(this._o.maxDate=Re.maxDate,this._o.maxYear=Re.maxYear,this._o.maxMonth=Re.maxMonth,this._o.endRange=Re.endRange),this.draw()},setStartRange:function(Oe){this._o.startRange=Oe},setEndRange:function(Oe){this._o.endRange=Oe},draw:function(Oe){if(this._v||Oe){var Nt,me=this._o,dt=me.minYear,Dt=me.maxYear,Yt=me.minMonth,yn=me.maxMonth,wn="";this._y<=dt&&(this._y=dt,!isNaN(Yt)&&this._m<Yt&&(this._m=Yt)),this._y>=Dt&&(this._y=Dt,!isNaN(yn)&&this._m>yn&&(this._m=yn));for(var $n=0;$n<me.numberOfMonths;$n++)Nt="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),wn+='<div class="pika-lendar">'+Gt(this,$n,this.calendars[$n].year,this.calendars[$n].month,this.calendars[0].year,Nt)+this.render(this.calendars[$n].year,this.calendars[$n].month,Nt)+"</div>";this.el.innerHTML=wn,me.bound&&"hidden"!==me.field.type&&A(function(){me.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),me.bound&&me.field.setAttribute("aria-label",me.ariaLabel)}},adjustPosition:function(){var Oe,me,dt,Dt,Yt,yn,wn,Nt,$n,Vn,Un,kn;if(!this._o.container){if(this.el.style.position="absolute",me=Oe=this._o.trigger,dt=this.el.offsetWidth,Dt=this.el.offsetHeight,Yt=window.innerWidth||R.documentElement.clientWidth,yn=window.innerHeight||R.documentElement.clientHeight,wn=window.pageYOffset||R.body.scrollTop||R.documentElement.scrollTop,Un=!0,kn=!0,"function"==typeof Oe.getBoundingClientRect)Nt=(Vn=Oe.getBoundingClientRect()).left+window.pageXOffset,$n=Vn.bottom+window.pageYOffset;else for(Nt=me.offsetLeft,$n=me.offsetTop+me.offsetHeight;me=me.offsetParent;)Nt+=me.offsetLeft,$n+=me.offsetTop;(this._o.reposition&&Nt+dt>Yt||this._o.position.indexOf("right")>-1&&Nt-dt+Oe.offsetWidth>0)&&(Nt=Nt-dt+Oe.offsetWidth,Un=!1),(this._o.reposition&&$n+Dt>yn+wn||this._o.position.indexOf("top")>-1&&$n-Dt-Oe.offsetHeight>0)&&($n=$n-Dt-Oe.offsetHeight,kn=!1),this.el.style.left=Nt+"px",this.el.style.top=$n+"px",oe(this.el,Un?"left-aligned":"right-aligned"),oe(this.el,kn?"bottom-aligned":"top-aligned"),ae(this.el,Un?"right-aligned":"left-aligned"),ae(this.el,kn?"top-aligned":"bottom-aligned")}},render:function(Oe,me,dt){var Dt=this._o,Yt=new Date,yn=xe(Oe,me),wn=new Date(Oe,me,1).getDay(),Nt=[],$n=[];Pe(Yt),Dt.firstDay>0&&(wn-=Dt.firstDay)<0&&(wn+=7);for(var Vn=0===me?11:me-1,Un=11===me?0:me+1,kn=0===me?Oe-1:Oe,_r=11===me?Oe+1:Oe,En=xe(kn,Vn),tn=yn+wn,Wr=tn;Wr>7;)Wr-=7;tn+=7-Wr;for(var fi=!1,hi=0,si=0;hi<tn;hi++){var lr=new Date(Oe,me,hi-wn+1),ye=!!pe(this._d)&&Te(lr,this._d),Ne=Te(lr,Yt),qe=-1!==Dt.events.indexOf(lr.toDateString()),bt=hi<wn||hi>=yn+wn,lt=hi-wn+1,Ke=me,Ye=Oe,$e=Dt.startRange&&Te(Dt.startRange,lr),gt=Dt.endRange&&Te(Dt.endRange,lr),ft=Dt.startRange&&Dt.endRange&&Dt.startRange<lr&&lr<Dt.endRange,Ct=Dt.minDate&&lr<Dt.minDate||Dt.maxDate&&lr>Dt.maxDate||Dt.disableWeekends&&K(lr)||Dt.disableDayFn&&Dt.disableDayFn(lr);bt&&(hi<wn?(lt=En+lt,Ke=Vn,Ye=kn):(lt-=yn,Ke=Un,Ye=_r)),Dt.pickWholeWeek&&ye&&(fi=!0),$n.push(ut({day:lt,month:Ke,year:Ye,hasEvent:qe,isSelected:ye,isToday:Ne,isDisabled:Ct,isEmpty:bt,isStartRange:$e,isEndRange:gt,isInRange:ft,showDaysInNextAndPreviousMonths:Dt.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:Dt.enableSelectionDaysInNextAndPreviousMonths})),7==++si&&(Dt.showWeekNumber&&$n.unshift(mt(hi-wn,me,Oe,Dt.firstWeekOfYearMinDays)),Nt.push(kt($n,Dt.isRTL,Dt.pickWholeWeek,fi)),$n=[],si=0,fi=!1)}return Xt(Dt,Nt,dt)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),ae(this.el,"is-hidden"),this._o.bound&&(N(R,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var Oe=this._v;!1!==Oe&&(this._o.bound&&F(R,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),oe(this.el,"is-hidden"),this._v=!1,void 0!==Oe&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var Oe=this._o;this.hide(),F(this.el,"mousedown",this._onMouseDown,!0),F(this.el,"touchend",this._onMouseDown,!0),F(this.el,"change",this._onChange),Oe.keyboardInput&&F(R,"keydown",this._onKeyChange),Oe.field&&(F(Oe.field,"change",this._onInputChange),Oe.bound&&(F(Oe.trigger,"click",this._onInputClick),F(Oe.trigger,"focus",this._onInputFocus),F(Oe.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},Pt}(T)}()},6700:(Q,ue,b)=>{var L={"./af":8685,"./af.js":8685,"./ar":254,"./ar-dz":4312,"./ar-dz.js":4312,"./ar-kw":2614,"./ar-kw.js":2614,"./ar-ly":8630,"./ar-ly.js":8630,"./ar-ma":8674,"./ar-ma.js":8674,"./ar-sa":9032,"./ar-sa.js":9032,"./ar-tn":4730,"./ar-tn.js":4730,"./ar.js":254,"./az":3052,"./az.js":3052,"./be":150,"./be.js":150,"./bg":3069,"./bg.js":3069,"./bm":3466,"./bm.js":3466,"./bn":8516,"./bn-bd":557,"./bn-bd.js":557,"./bn.js":8516,"./bo":6273,"./bo.js":6273,"./br":9588,"./br.js":9588,"./bs":9815,"./bs.js":9815,"./ca":3331,"./ca.js":3331,"./cs":1320,"./cs.js":1320,"./cv":2219,"./cv.js":2219,"./cy":8266,"./cy.js":8266,"./da":6427,"./da.js":6427,"./de":7435,"./de-at":2871,"./de-at.js":2871,"./de-ch":2994,"./de-ch.js":2994,"./de.js":7435,"./dv":2357,"./dv.js":2357,"./el":5649,"./el.js":5649,"./en-au":9961,"./en-au.js":9961,"./en-ca":9878,"./en-ca.js":9878,"./en-gb":3924,"./en-gb.js":3924,"./en-ie":864,"./en-ie.js":864,"./en-il":1579,"./en-il.js":1579,"./en-in":940,"./en-in.js":940,"./en-nz":6181,"./en-nz.js":6181,"./en-sg":4301,"./en-sg.js":4301,"./eo":5291,"./eo.js":5291,"./es":4529,"./es-do":3764,"./es-do.js":3764,"./es-mx":2584,"./es-mx.js":2584,"./es-us":3425,"./es-us.js":3425,"./es.js":4529,"./et":5203,"./et.js":5203,"./eu":678,"./eu.js":678,"./fa":3483,"./fa.js":3483,"./fi":6262,"./fi.js":6262,"./fil":2521,"./fil.js":2521,"./fo":4555,"./fo.js":4555,"./fr":3131,"./fr-ca":8239,"./fr-ca.js":8239,"./fr-ch":1702,"./fr-ch.js":1702,"./fr.js":3131,"./fy":267,"./fy.js":267,"./ga":3821,"./ga.js":3821,"./gd":1753,"./gd.js":1753,"./gl":4074,"./gl.js":4074,"./gom-deva":2762,"./gom-deva.js":2762,"./gom-latn":5969,"./gom-latn.js":5969,"./gu":2809,"./gu.js":2809,"./he":5402,"./he.js":5402,"./hi":315,"./hi.js":315,"./hr":410,"./hr.js":410,"./hu":8288,"./hu.js":8288,"./hy-am":7928,"./hy-am.js":7928,"./id":1334,"./id.js":1334,"./is":6959,"./is.js":6959,"./it":4864,"./it-ch":1124,"./it-ch.js":1124,"./it.js":4864,"./ja":6141,"./ja.js":6141,"./jv":9187,"./jv.js":9187,"./ka":2136,"./ka.js":2136,"./kk":4332,"./kk.js":4332,"./km":8607,"./km.js":8607,"./kn":4305,"./kn.js":4305,"./ko":234,"./ko.js":234,"./ku":6003,"./ku.js":6003,"./ky":5061,"./ky.js":5061,"./lb":2786,"./lb.js":2786,"./lo":6183,"./lo.js":6183,"./lt":29,"./lt.js":29,"./lv":4169,"./lv.js":4169,"./me":8577,"./me.js":8577,"./mi":8177,"./mi.js":8177,"./mk":337,"./mk.js":337,"./ml":5260,"./ml.js":5260,"./mn":2325,"./mn.js":2325,"./mr":4695,"./mr.js":4695,"./ms":5334,"./ms-my":7151,"./ms-my.js":7151,"./ms.js":5334,"./mt":3570,"./mt.js":3570,"./my":7963,"./my.js":7963,"./nb":8028,"./nb.js":8028,"./ne":6638,"./ne.js":6638,"./nl":302,"./nl-be":6782,"./nl-be.js":6782,"./nl.js":302,"./nn":3501,"./nn.js":3501,"./oc-lnc":563,"./oc-lnc.js":563,"./pa-in":869,"./pa-in.js":869,"./pl":5302,"./pl.js":5302,"./pt":9687,"./pt-br":4884,"./pt-br.js":4884,"./pt.js":9687,"./ro":9107,"./ro.js":9107,"./ru":3627,"./ru.js":3627,"./sd":355,"./sd.js":355,"./se":3427,"./se.js":3427,"./si":1848,"./si.js":1848,"./sk":4590,"./sk.js":4590,"./sl":184,"./sl.js":184,"./sq":6361,"./sq.js":6361,"./sr":8965,"./sr-cyrl":1287,"./sr-cyrl.js":1287,"./sr.js":8965,"./ss":6346,"./ss.js":6346,"./sv":451,"./sv.js":451,"./sw":7558,"./sw.js":7558,"./ta":1356,"./ta.js":1356,"./te":3693,"./te.js":3693,"./tet":1243,"./tet.js":1243,"./tg":2500,"./tg.js":2500,"./th":5768,"./th.js":5768,"./tk":7761,"./tk.js":7761,"./tl-ph":5780,"./tl-ph.js":5780,"./tlh":9590,"./tlh.js":9590,"./tr":3807,"./tr.js":3807,"./tzl":3857,"./tzl.js":3857,"./tzm":654,"./tzm-latn":8806,"./tzm-latn.js":8806,"./tzm.js":654,"./ug-cn":845,"./ug-cn.js":845,"./uk":9232,"./uk.js":9232,"./ur":7052,"./ur.js":7052,"./uz":7967,"./uz-latn":2233,"./uz-latn.js":2233,"./uz.js":7967,"./vi":8615,"./vi.js":8615,"./x-pseudo":2320,"./x-pseudo.js":2320,"./yo":1313,"./yo.js":1313,"./zh-cn":4490,"./zh-cn.js":4490,"./zh-hk":5910,"./zh-hk.js":5910,"./zh-mo":8262,"./zh-mo.js":8262,"./zh-tw":4223,"./zh-tw.js":4223};function S(R){var A=T(R);return b(A)}function T(R){if(!b.o(L,R)){var A=new Error("Cannot find module '"+R+"'");throw A.code="MODULE_NOT_FOUND",A}return L[R]}S.keys=function(){return Object.keys(L)},S.resolve=T,Q.exports=S,S.id=6700},9366:(Q,ue,b)=>{var L=b(4513),S=b(7366),T=TypeError;Q.exports=function(R){if(L(R))return R;throw T(S(R)+" is not a function")}},9493:(Q,ue,b)=>{var L=b(5200),S=b(7366),T=TypeError;Q.exports=function(R){if(L(R))return R;throw T(S(R)+" is not a constructor")}},8254:(Q,ue,b)=>{var L=b(4513),S=String,T=TypeError;Q.exports=function(R){if("object"==typeof R||L(R))return R;throw T("Can't set "+S(R)+" as a prototype")}},5834:(Q,ue,b)=>{var L=b(7014),S=b(1701),T=b(6607).f,R=L("unscopables"),A=Array.prototype;null==A[R]&&T(A,R,{configurable:!0,value:S(null)}),Q.exports=function(N){A[R][N]=!0}},5470:(Q,ue,b)=>{"use strict";var L=b(5940).charAt;Q.exports=function(S,T,R){return T+(R?L(S,T).length:1)}},8734:(Q,ue,b)=>{var L=b(846),S=TypeError;Q.exports=function(T,R){if(L(R,T))return T;throw S("Incorrect invocation")}},6583:(Q,ue,b)=>{var L=b(8886),S=String,T=TypeError;Q.exports=function(R){if(L(R))return R;throw T(S(R)+" is not an object")}},3588:(Q,ue,b)=>{var L=b(7944);Q.exports=L(function(){if("function"==typeof ArrayBuffer){var S=new ArrayBuffer(8);Object.isExtensible(S)&&Object.defineProperty(S,"a",{value:8})}})},3270:(Q,ue,b)=>{"use strict";var L=b(3784),S=b(8064),T=b(7951);Q.exports=function(A){for(var N=L(this),F=T(N),Y=arguments.length,te=S(Y>1?arguments[1]:void 0,F),oe=Y>2?arguments[2]:void 0,ae=void 0===oe?F:S(oe,F);ae>te;)N[te++]=A;return N}},441:(Q,ue,b)=>{"use strict";var L=b(8657).forEach,T=b(1815)("forEach");Q.exports=T?[].forEach:function(A){return L(this,A,arguments.length>1?arguments[1]:void 0)}},2411:(Q,ue,b)=>{"use strict";var L=b(352),S=b(9836),T=b(3784),R=b(9271),A=b(7909),N=b(5200),F=b(7951),Y=b(7182),te=b(6029),oe=b(6644),ae=Array;Q.exports=function(pe){var K=T(pe),ce=N(this),xe=arguments.length,Pe=xe>1?arguments[1]:void 0,Te=void 0!==Pe;Te&&(Pe=L(Pe,xe>2?arguments[2]:void 0));var Ue,Re,Ge,ut,tt,mt,ze=oe(K),rt=0;if(!ze||this===ae&&A(ze))for(Ue=F(K),Re=ce?new this(Ue):ae(Ue);Ue>rt;rt++)mt=Te?Pe(K[rt],rt):K[rt],Y(Re,rt,mt);else for(tt=(ut=te(K,ze)).next,Re=ce?new this:[];!(Ge=S(tt,ut)).done;rt++)mt=Te?R(ut,Pe,[Ge.value,rt],!0):Ge.value,Y(Re,rt,mt);return Re.length=rt,Re}},4273:(Q,ue,b)=>{var L=b(8436),S=b(8064),T=b(7951),R=function(A){return function(N,F,Y){var de,te=L(N),oe=T(te),ae=S(Y,oe);if(A&&F!=F){for(;oe>ae;)if((de=te[ae++])!=de)return!0}else for(;oe>ae;ae++)if((A||ae in te)&&te[ae]===F)return A||ae||0;return!A&&-1}};Q.exports={includes:R(!0),indexOf:R(!1)}},8657:(Q,ue,b)=>{var L=b(352),S=b(2006),T=b(2462),R=b(3784),A=b(7951),N=b(4275),F=S([].push),Y=function(te){var oe=1==te,ae=2==te,de=3==te,pe=4==te,K=6==te,ce=7==te,xe=5==te||K;return function(Pe,Te,ze,rt){for(var Ht,Wt,Ue=R(Pe),Re=T(Ue),Ge=L(Te,ze),ut=A(Re),tt=0,mt=rt||N,kt=oe?mt(Pe,ut):ae||ce?mt(Pe,0):void 0;ut>tt;tt++)if((xe||tt in Re)&&(Wt=Ge(Ht=Re[tt],tt,Ue),te))if(oe)kt[tt]=Wt;else if(Wt)switch(te){case 3:return!0;case 5:return Ht;case 6:return tt;case 2:F(kt,Ht)}else switch(te){case 4:return!1;case 7:F(kt,Ht)}return K?-1:de||pe?pe:kt}};Q.exports={forEach:Y(0),map:Y(1),filter:Y(2),some:Y(3),every:Y(4),find:Y(5),findIndex:Y(6),filterReject:Y(7)}},28:(Q,ue,b)=>{"use strict";var L=b(5019),S=b(8436),T=b(2048),R=b(7951),A=b(1815),N=Math.min,F=[].lastIndexOf,Y=!!F&&1/[1].lastIndexOf(1,-0)<0,te=A("lastIndexOf");Q.exports=Y||!te?function(de){if(Y)return L(F,this,arguments)||0;var pe=S(this),K=R(pe),ce=K-1;for(arguments.length>1&&(ce=N(ce,T(arguments[1]))),ce<0&&(ce=K+ce);ce>=0;ce--)if(ce in pe&&pe[ce]===de)return ce||0;return-1}:F},1468:(Q,ue,b)=>{var L=b(7944),S=b(7014),T=b(9905),R=S("species");Q.exports=function(A){return T>=51||!L(function(){var N=[];return(N.constructor={})[R]=function(){return{foo:1}},1!==N[A](Boolean).foo})}},1815:(Q,ue,b)=>{"use strict";var L=b(7944);Q.exports=function(S,T){var R=[][S];return!!R&&L(function(){R.call(null,T||function(){return 1},1)})}},9906:(Q,ue,b)=>{var L=b(9366),S=b(3784),T=b(2462),R=b(7951),A=TypeError,N=function(F){return function(Y,te,oe,ae){L(te);var de=S(Y),pe=T(de),K=R(de),ce=F?K-1:0,xe=F?-1:1;if(oe<2)for(;;){if(ce in pe){ae=pe[ce],ce+=xe;break}if(ce+=xe,F?ce<0:K<=ce)throw A("Reduce of empty array with no initial value")}for(;F?ce>=0:K>ce;ce+=xe)ce in pe&&(ae=te(ae,pe[ce],ce,de));return ae}};Q.exports={left:N(!1),right:N(!0)}},6712:(Q,ue,b)=>{"use strict";var L=b(5601),S=b(8143),T=TypeError,R=Object.getOwnPropertyDescriptor,A=L&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(N){return N instanceof TypeError}}();Q.exports=A?function(N,F){if(S(N)&&!R(N,"length").writable)throw T("Cannot set read only .length");return N.length=F}:function(N,F){return N.length=F}},5005:(Q,ue,b)=>{var L=b(8064),S=b(7951),T=b(7182),R=Array,A=Math.max;Q.exports=function(N,F,Y){for(var te=S(N),oe=L(F,te),ae=L(void 0===Y?te:Y,te),de=R(A(ae-oe,0)),pe=0;oe<ae;oe++,pe++)T(de,pe,N[oe]);return de.length=pe,de}},8439:(Q,ue,b)=>{var L=b(2006);Q.exports=L([].slice)},3142:(Q,ue,b)=>{var L=b(5005),S=Math.floor,T=function(N,F){var Y=N.length,te=S(Y/2);return Y<8?R(N,F):A(N,T(L(N,0,te),F),T(L(N,te),F),F)},R=function(N,F){for(var oe,ae,Y=N.length,te=1;te<Y;){for(ae=te,oe=N[te];ae&&F(N[ae-1],oe)>0;)N[ae]=N[--ae];ae!==te++&&(N[ae]=oe)}return N},A=function(N,F,Y,te){for(var oe=F.length,ae=Y.length,de=0,pe=0;de<oe||pe<ae;)N[de+pe]=de<oe&&pe<ae?te(F[de],Y[pe])<=0?F[de++]:Y[pe++]:de<oe?F[de++]:Y[pe++];return N};Q.exports=T},6511:(Q,ue,b)=>{var L=b(8143),S=b(5200),T=b(8886),A=b(7014)("species"),N=Array;Q.exports=function(F){var Y;return L(F)&&(S(Y=F.constructor)&&(Y===N||L(Y.prototype))||T(Y)&&null===(Y=Y[A]))&&(Y=void 0),void 0===Y?N:Y}},4275:(Q,ue,b)=>{var L=b(6511);Q.exports=function(S,T){return new(L(S))(0===T?0:T)}},9271:(Q,ue,b)=>{var L=b(6583),S=b(9838);Q.exports=function(T,R,A,N){try{return N?R(L(A)[0],A[1]):R(A)}catch(F){S(T,"throw",F)}}},4430:(Q,ue,b)=>{var S=b(7014)("iterator"),T=!1;try{var R=0,A={next:function(){return{done:!!R++}},return:function(){T=!0}};A[S]=function(){return this},Array.from(A,function(){throw 2})}catch(N){}Q.exports=function(N,F){if(!F&&!T)return!1;var Y=!1;try{var te={};te[S]=function(){return{next:function(){return{done:Y=!0}}}},N(te)}catch(oe){}return Y}},1401:(Q,ue,b)=>{var L=b(8331),S=L({}.toString),T=L("".slice);Q.exports=function(R){return T(S(R),8,-1)}},2212:(Q,ue,b)=>{var L=b(5706),S=b(4513),T=b(1401),A=b(7014)("toStringTag"),N=Object,F="Arguments"==T(function(){return arguments}());Q.exports=L?T:function(te){var oe,ae,de;return void 0===te?"Undefined":null===te?"Null":"string"==typeof(ae=function(te,oe){try{return te[oe]}catch(ae){}}(oe=N(te),A))?ae:F?T(oe):"Object"==(de=T(oe))&&S(oe.callee)?"Arguments":de}},3977:(Q,ue,b)=>{"use strict";var L=b(6607).f,S=b(1701),T=b(7125),R=b(352),A=b(8734),N=b(8702),F=b(9423),Y=b(4971),te=b(4761),oe=b(4087),ae=b(5601),de=b(9346).fastKey,pe=b(979),K=pe.set,ce=pe.getterFor;Q.exports={getConstructor:function(xe,Pe,Te,ze){var rt=xe(function(tt,mt){A(tt,Ue),K(tt,{type:Pe,index:S(null),first:void 0,last:void 0,size:0}),ae||(tt.size=0),N(mt)||F(mt,tt[ze],{that:tt,AS_ENTRIES:Te})}),Ue=rt.prototype,Re=ce(Pe),Ge=function(tt,mt,kt){var Gt,Xt,Ht=Re(tt),Wt=ut(tt,mt);return Wt?Wt.value=kt:(Ht.last=Wt={index:Xt=de(mt,!0),key:mt,value:kt,previous:Gt=Ht.last,next:void 0,removed:!1},Ht.first||(Ht.first=Wt),Gt&&(Gt.next=Wt),ae?Ht.size++:tt.size++,"F"!==Xt&&(Ht.index[Xt]=Wt)),tt},ut=function(tt,mt){var Wt,kt=Re(tt),Ht=de(mt);if("F"!==Ht)return kt.index[Ht];for(Wt=kt.first;Wt;Wt=Wt.next)if(Wt.key==mt)return Wt};return T(Ue,{clear:function(){for(var kt=Re(this),Ht=kt.index,Wt=kt.first;Wt;)Wt.removed=!0,Wt.previous&&(Wt.previous=Wt.previous.next=void 0),delete Ht[Wt.index],Wt=Wt.next;kt.first=kt.last=void 0,ae?kt.size=0:this.size=0},delete:function(tt){var kt=Re(this),Ht=ut(this,tt);if(Ht){var Wt=Ht.next,Gt=Ht.previous;delete kt.index[Ht.index],Ht.removed=!0,Gt&&(Gt.next=Wt),Wt&&(Wt.previous=Gt),kt.first==Ht&&(kt.first=Wt),kt.last==Ht&&(kt.last=Gt),ae?kt.size--:this.size--}return!!Ht},forEach:function(mt){for(var Wt,kt=Re(this),Ht=R(mt,arguments.length>1?arguments[1]:void 0);Wt=Wt?Wt.next:kt.first;)for(Ht(Wt.value,Wt.key,this);Wt&&Wt.removed;)Wt=Wt.previous},has:function(mt){return!!ut(this,mt)}}),T(Ue,Te?{get:function(mt){var kt=ut(this,mt);return kt&&kt.value},set:function(mt,kt){return Ge(this,0===mt?0:mt,kt)}}:{add:function(mt){return Ge(this,mt=0===mt?0:mt,mt)}}),ae&&L(Ue,"size",{get:function(){return Re(this).size}}),rt},setStrong:function(xe,Pe,Te){var ze=Pe+" Iterator",rt=ce(Pe),Ue=ce(ze);Y(xe,Pe,function(Re,Ge){K(this,{type:ze,target:Re,state:rt(Re),kind:Ge,last:void 0})},function(){for(var Re=Ue(this),Ge=Re.kind,ut=Re.last;ut&&ut.removed;)ut=ut.previous;return Re.target&&(Re.last=ut=ut?ut.next:Re.state.first)?te("keys"==Ge?ut.key:"values"==Ge?ut.value:[ut.key,ut.value],!1):(Re.target=void 0,te(void 0,!0))},Te?"entries":"values",!Te,!0),oe(Pe)}}},1725:(Q,ue,b)=>{"use strict";var L=b(2006),S=b(7125),T=b(9346).getWeakData,R=b(8734),A=b(6583),N=b(8702),F=b(8886),Y=b(9423),te=b(8657),oe=b(8578),ae=b(979),de=ae.set,pe=ae.getterFor,K=te.find,ce=te.findIndex,xe=L([].splice),Pe=0,Te=function(Ue){return Ue.frozen||(Ue.frozen=new ze)},ze=function(){this.entries=[]},rt=function(Ue,Re){return K(Ue.entries,function(Ge){return Ge[0]===Re})};ze.prototype={get:function(Ue){var Re=rt(this,Ue);if(Re)return Re[1]},has:function(Ue){return!!rt(this,Ue)},set:function(Ue,Re){var Ge=rt(this,Ue);Ge?Ge[1]=Re:this.entries.push([Ue,Re])},delete:function(Ue){var Re=ce(this.entries,function(Ge){return Ge[0]===Ue});return~Re&&xe(this.entries,Re,1),!!~Re}},Q.exports={getConstructor:function(Ue,Re,Ge,ut){var tt=Ue(function(Wt,Gt){R(Wt,mt),de(Wt,{type:Re,id:Pe++,frozen:void 0}),N(Gt)||Y(Gt,Wt[ut],{that:Wt,AS_ENTRIES:Ge})}),mt=tt.prototype,kt=pe(Re),Ht=function(Wt,Gt,Xt){var Pt=kt(Wt),Oe=T(A(Gt),!0);return!0===Oe?Te(Pt).set(Gt,Xt):Oe[Pt.id]=Xt,Wt};return S(mt,{delete:function(Wt){var Gt=kt(this);if(!F(Wt))return!1;var Xt=T(Wt);return!0===Xt?Te(Gt).delete(Wt):Xt&&oe(Xt,Gt.id)&&delete Xt[Gt.id]},has:function(Gt){var Xt=kt(this);if(!F(Gt))return!1;var Pt=T(Gt);return!0===Pt?Te(Xt).has(Gt):Pt&&oe(Pt,Xt.id)}}),S(mt,Ge?{get:function(Gt){var Xt=kt(this);if(F(Gt)){var Pt=T(Gt);return!0===Pt?Te(Xt).get(Gt):Pt?Pt[Xt.id]:void 0}},set:function(Gt,Xt){return Ht(this,Gt,Xt)}}:{add:function(Gt){return Ht(this,Gt,!0)}}),tt}}},7126:(Q,ue,b)=>{"use strict";var L=b(664),S=b(4720),T=b(2006),R=b(9545),A=b(9047),N=b(9346),F=b(9423),Y=b(8734),te=b(4513),oe=b(8702),ae=b(8886),de=b(7944),pe=b(4430),K=b(5387),ce=b(1072);Q.exports=function(xe,Pe,Te){var ze=-1!==xe.indexOf("Map"),rt=-1!==xe.indexOf("Weak"),Ue=ze?"set":"add",Re=S[xe],Ge=Re&&Re.prototype,ut=Re,tt={},mt=function(Oe){var me=T(Ge[Oe]);A(Ge,Oe,"add"==Oe?function(Dt){return me(this,0===Dt?0:Dt),this}:"delete"==Oe?function(dt){return!(rt&&!ae(dt))&&me(this,0===dt?0:dt)}:"get"==Oe?function(Dt){return rt&&!ae(Dt)?void 0:me(this,0===Dt?0:Dt)}:"has"==Oe?function(Dt){return!(rt&&!ae(Dt))&&me(this,0===Dt?0:Dt)}:function(Dt,Yt){return me(this,0===Dt?0:Dt,Yt),this})};if(R(xe,!te(Re)||!(rt||Ge.forEach&&!de(function(){(new Re).entries().next()}))))ut=Te.getConstructor(Pe,xe,ze,Ue),N.enable();else if(R(xe,!0)){var Ht=new ut,Wt=Ht[Ue](rt?{}:-0,1)!=Ht,Gt=de(function(){Ht.has(1)}),Xt=pe(function(Oe){new Re(Oe)}),Pt=!rt&&de(function(){for(var Oe=new Re,me=5;me--;)Oe[Ue](me,me);return!Oe.has(-0)});Xt||((ut=Pe(function(Oe,me){Y(Oe,Ge);var dt=ce(new Re,Oe,ut);return oe(me)||F(me,dt[Ue],{that:dt,AS_ENTRIES:ze}),dt})).prototype=Ge,Ge.constructor=ut),(Gt||Pt)&&(mt("delete"),mt("has"),ze&&mt("get")),(Pt||Wt)&&mt(Ue),rt&&Ge.clear&&delete Ge.clear}return tt[xe]=ut,L({global:!0,constructor:!0,forced:ut!=Re},tt),K(ut,xe),rt||Te.setStrong(ut,xe,ze),ut}},1975:(Q,ue,b)=>{var L=b(8578),S=b(4432),T=b(313),R=b(6607);Q.exports=function(A,N,F){for(var Y=S(N),te=R.f,oe=T.f,ae=0;ae<Y.length;ae++){var de=Y[ae];!L(A,de)&&(!F||!L(F,de))&&te(A,de,oe(N,de))}}},312:(Q,ue,b)=>{var S=b(7014)("match");Q.exports=function(T){var R=/./;try{"/./"[T](R)}catch(A){try{return R[S]=!1,"/./"[T](R)}catch(N){}}return!1}},8745:(Q,ue,b)=>{var L=b(7944);Q.exports=!L(function(){function S(){}return S.prototype.constructor=null,Object.getPrototypeOf(new S)!==S.prototype})},8772:(Q,ue,b)=>{var L=b(2006),S=b(1413),T=b(9005),R=/"/g,A=L("".replace);Q.exports=function(N,F,Y,te){var oe=T(S(N)),ae="<"+F;return""!==Y&&(ae+=" "+Y+'="'+A(T(te),R,"&quot;")+'"'),ae+">"+oe+"</"+F+">"}},4761:Q=>{Q.exports=function(ue,b){return{value:ue,done:b}}},3779:(Q,ue,b)=>{var L=b(5601),S=b(6607),T=b(8808);Q.exports=L?function(R,A,N){return S.f(R,A,T(1,N))}:function(R,A,N){return R[A]=N,R}},8808:Q=>{Q.exports=function(ue,b){return{enumerable:!(1&ue),configurable:!(2&ue),writable:!(4&ue),value:b}}},7182:(Q,ue,b)=>{"use strict";var L=b(2637),S=b(6607),T=b(8808);Q.exports=function(R,A,N){var F=L(A);F in R?S.f(R,F,T(0,N)):R[F]=N}},9047:(Q,ue,b)=>{var L=b(4513),S=b(6607),T=b(6885),R=b(7907);Q.exports=function(A,N,F,Y){Y||(Y={});var te=Y.enumerable,oe=void 0!==Y.name?Y.name:N;if(L(F)&&T(F,oe,Y),Y.global)te?A[N]=F:R(N,F);else{try{Y.unsafe?A[N]&&(te=!0):delete A[N]}catch(ae){}te?A[N]=F:S.f(A,N,{value:F,enumerable:!1,configurable:!Y.nonConfigurable,writable:!Y.nonWritable})}return A}},7125:(Q,ue,b)=>{var L=b(9047);Q.exports=function(S,T,R){for(var A in T)L(S,A,T[A],R);return S}},7907:(Q,ue,b)=>{var L=b(4720),S=Object.defineProperty;Q.exports=function(T,R){try{S(L,T,{value:R,configurable:!0,writable:!0})}catch(A){L[T]=R}return R}},8751:(Q,ue,b)=>{"use strict";var L=b(7366),S=TypeError;Q.exports=function(T,R){if(!delete T[R])throw S("Cannot delete property "+L(R)+" of "+L(T))}},5601:(Q,ue,b)=>{var L=b(7944);Q.exports=!L(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},2935:Q=>{var ue="object"==typeof document&&document.all;Q.exports={all:ue,IS_HTMLDDA:void 0===ue&&void 0!==ue}},7783:(Q,ue,b)=>{var L=b(4720),S=b(8886),T=L.document,R=S(T)&&S(T.createElement);Q.exports=function(A){return R?T.createElement(A):{}}},8194:Q=>{var ue=TypeError;Q.exports=function(L){if(L>9007199254740991)throw ue("Maximum allowed index exceeded");return L}},1331:Q=>{Q.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},4970:(Q,ue,b)=>{var S=b(7783)("span").classList,T=S&&S.constructor&&S.constructor.prototype;Q.exports=T===Object.prototype?void 0:T},8077:(Q,ue,b)=>{var S=b(8684).match(/firefox\/(\d+)/i);Q.exports=!!S&&+S[1]},4268:(Q,ue,b)=>{var L=b(8684);Q.exports=/MSIE|Trident/.test(L)},7001:(Q,ue,b)=>{var L=b(8684);Q.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(L)},2926:(Q,ue,b)=>{var L=b(1401),S=b(4720);Q.exports="process"==L(S.process)},8684:(Q,ue,b)=>{var L=b(2149);Q.exports=L("navigator","userAgent")||""},9905:(Q,ue,b)=>{var F,Y,L=b(4720),S=b(8684),T=L.process,R=L.Deno,A=T&&T.versions||R&&R.version,N=A&&A.v8;N&&(Y=(F=N.split("."))[0]>0&&F[0]<4?1:+(F[0]+F[1])),!Y&&S&&(!(F=S.match(/Edge\/(\d+)/))||F[1]>=74)&&(F=S.match(/Chrome\/(\d+)/))&&(Y=+F[1]),Q.exports=Y},1349:(Q,ue,b)=>{var S=b(8684).match(/AppleWebKit\/(\d+)\./);Q.exports=!!S&&+S[1]},256:Q=>{Q.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},664:(Q,ue,b)=>{var L=b(4720),S=b(313).f,T=b(3779),R=b(9047),A=b(7907),N=b(1975),F=b(9545);Q.exports=function(Y,te){var K,ce,xe,Pe,Te,oe=Y.target,ae=Y.global,de=Y.stat;if(K=ae?L:de?L[oe]||A(oe,{}):(L[oe]||{}).prototype)for(ce in te){if(Pe=te[ce],xe=Y.dontCallGetSet?(Te=S(K,ce))&&Te.value:K[ce],!F(ae?ce:oe+(de?".":"#")+ce,Y.forced)&&void 0!==xe){if(typeof Pe==typeof xe)continue;N(Pe,xe)}(Y.sham||xe&&xe.sham)&&T(Pe,"sham",!0),R(K,ce,Pe,Y)}}},7944:Q=>{Q.exports=function(ue){try{return!!ue()}catch(b){return!0}}},5698:(Q,ue,b)=>{"use strict";b(8068);var L=b(2006),S=b(9047),T=b(8214),R=b(7944),A=b(7014),N=b(3779),F=A("species"),Y=RegExp.prototype;Q.exports=function(te,oe,ae,de){var pe=A(te),K=!R(function(){var Te={};return Te[pe]=function(){return 7},7!=""[te](Te)}),ce=K&&!R(function(){var Te=!1,ze=/a/;return"split"===te&&((ze={}).constructor={},ze.constructor[F]=function(){return ze},ze.flags="",ze[pe]=/./[pe]),ze.exec=function(){return Te=!0,null},ze[pe](""),!Te});if(!K||!ce||ae){var xe=L(/./[pe]),Pe=oe(pe,""[te],function(Te,ze,rt,Ue,Re){var Ge=L(Te),ut=ze.exec;return ut===T||ut===Y.exec?K&&!Re?{done:!0,value:xe(ze,rt,Ue)}:{done:!0,value:Ge(rt,ze,Ue)}:{done:!1}});S(String.prototype,te,Pe[0]),S(Y,pe,Pe[1])}de&&N(Y[pe],"sham",!0)}},2655:(Q,ue,b)=>{var L=b(7944);Q.exports=!L(function(){return Object.isExtensible(Object.preventExtensions({}))})},5019:(Q,ue,b)=>{var L=b(7181),S=Function.prototype,T=S.apply,R=S.call;Q.exports="object"==typeof Reflect&&Reflect.apply||(L?R.bind(T):function(){return R.apply(T,arguments)})},352:(Q,ue,b)=>{var L=b(2006),S=b(9366),T=b(7181),R=L(L.bind);Q.exports=function(A,N){return S(A),void 0===N?A:T?R(A,N):function(){return A.apply(N,arguments)}}},7181:(Q,ue,b)=>{var L=b(7944);Q.exports=!L(function(){var S=function(){}.bind();return"function"!=typeof S||S.hasOwnProperty("prototype")})},4697:(Q,ue,b)=>{"use strict";var L=b(2006),S=b(9366),T=b(8886),R=b(8578),A=b(8439),N=b(7181),F=Function,Y=L([].concat),te=L([].join),oe={},ae=function(de,pe,K){if(!R(oe,pe)){for(var ce=[],xe=0;xe<pe;xe++)ce[xe]="a["+xe+"]";oe[pe]=F("C,a","return new C("+te(ce,",")+")")}return oe[pe](de,K)};Q.exports=N?F.bind:function(pe){var K=S(this),ce=K.prototype,xe=A(arguments,1),Pe=function(){var ze=Y(xe,A(arguments));return this instanceof Pe?ae(K,ze.length,ze):K.apply(pe,ze)};return T(ce)&&(Pe.prototype=ce),Pe}},9836:(Q,ue,b)=>{var L=b(7181),S=Function.prototype.call;Q.exports=L?S.bind(S):function(){return S.apply(S,arguments)}},2891:(Q,ue,b)=>{var L=b(5601),S=b(8578),T=Function.prototype,R=L&&Object.getOwnPropertyDescriptor,A=S(T,"name"),N=A&&"something"===function(){}.name,F=A&&(!L||L&&R(T,"name").configurable);Q.exports={EXISTS:A,PROPER:N,CONFIGURABLE:F}},8331:(Q,ue,b)=>{var L=b(7181),S=Function.prototype,T=S.call,R=L&&S.bind.bind(T,T);Q.exports=function(A){return L?R(A):function(){return T.apply(A,arguments)}}},2006:(Q,ue,b)=>{var L=b(1401),S=b(8331);Q.exports=function(T){if("Function"===L(T))return S(T)}},2149:(Q,ue,b)=>{var L=b(4720),S=b(4513),T=function(R){return S(R)?R:void 0};Q.exports=function(R,A){return arguments.length<2?T(L[R]):L[R]&&L[R][A]}},6644:(Q,ue,b)=>{var L=b(2212),S=b(2383),T=b(8702),R=b(8424),N=b(7014)("iterator");Q.exports=function(F){if(!T(F))return S(F,N)||S(F,"@@iterator")||R[L(F)]}},6029:(Q,ue,b)=>{var L=b(9836),S=b(9366),T=b(6583),R=b(7366),A=b(6644),N=TypeError;Q.exports=function(F,Y){var te=arguments.length<2?A(F):Y;if(S(te))return T(L(te,F));throw N(R(F)+" is not iterable")}},2383:(Q,ue,b)=>{var L=b(9366),S=b(8702);Q.exports=function(T,R){var A=T[R];return S(A)?void 0:L(A)}},3653:(Q,ue,b)=>{var L=b(2006),S=b(3784),T=Math.floor,R=L("".charAt),A=L("".replace),N=L("".slice),F=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Y=/\$([$&'`]|\d{1,2})/g;Q.exports=function(te,oe,ae,de,pe,K){var ce=ae+te.length,xe=de.length,Pe=Y;return void 0!==pe&&(pe=S(pe),Pe=F),A(K,Pe,function(Te,ze){var rt;switch(R(ze,0)){case"$":return"$";case"&":return te;case"`":return N(oe,0,ae);case"'":return N(oe,ce);case"<":rt=pe[N(ze,1,-1)];break;default:var Ue=+ze;if(0===Ue)return Te;if(Ue>xe){var Re=T(Ue/10);return 0===Re?Te:Re<=xe?void 0===de[Re-1]?R(ze,1):de[Re-1]+R(ze,1):Te}rt=de[Ue-1]}return void 0===rt?"":rt})}},4720:Q=>{var ue=function(b){return b&&b.Math==Math&&b};Q.exports=ue("object"==typeof globalThis&&globalThis)||ue("object"==typeof window&&window)||ue("object"==typeof self&&self)||ue("object"==typeof global&&global)||function(){return this}()||Function("return this")()},8578:(Q,ue,b)=>{var L=b(2006),S=b(3784),T=L({}.hasOwnProperty);Q.exports=Object.hasOwn||function(A,N){return T(S(A),N)}},7086:Q=>{Q.exports={}},4989:(Q,ue,b)=>{var L=b(2149);Q.exports=L("document","documentElement")},5873:(Q,ue,b)=>{var L=b(5601),S=b(7944),T=b(7783);Q.exports=!L&&!S(function(){return 7!=Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a})},2462:(Q,ue,b)=>{var L=b(2006),S=b(7944),T=b(1401),R=Object,A=L("".split);Q.exports=S(function(){return!R("z").propertyIsEnumerable(0)})?function(N){return"String"==T(N)?A(N,""):R(N)}:R},1072:(Q,ue,b)=>{var L=b(4513),S=b(8886),T=b(6736);Q.exports=function(R,A,N){var F,Y;return T&&L(F=A.constructor)&&F!==N&&S(Y=F.prototype)&&Y!==N.prototype&&T(R,Y),R}},6073:(Q,ue,b)=>{var L=b(2006),S=b(4513),T=b(5691),R=L(Function.toString);S(T.inspectSource)||(T.inspectSource=function(A){return R(A)}),Q.exports=T.inspectSource},9346:(Q,ue,b)=>{var L=b(664),S=b(2006),T=b(7086),R=b(8886),A=b(8578),N=b(6607).f,F=b(4283),Y=b(3138),te=b(3892),oe=b(1387),ae=b(2655),de=!1,pe=oe("meta"),K=0,ce=function(Ue){N(Ue,pe,{value:{objectID:"O"+K++,weakData:{}}})},rt=Q.exports={enable:function(){rt.enable=function(){},de=!0;var Ue=F.f,Re=S([].splice),Ge={};Ge[pe]=1,Ue(Ge).length&&(F.f=function(ut){for(var tt=Ue(ut),mt=0,kt=tt.length;mt<kt;mt++)if(tt[mt]===pe){Re(tt,mt,1);break}return tt},L({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Y.f}))},fastKey:function(Ue,Re){if(!R(Ue))return"symbol"==typeof Ue?Ue:("string"==typeof Ue?"S":"P")+Ue;if(!A(Ue,pe)){if(!te(Ue))return"F";if(!Re)return"E";ce(Ue)}return Ue[pe].objectID},getWeakData:function(Ue,Re){if(!A(Ue,pe)){if(!te(Ue))return!0;if(!Re)return!1;ce(Ue)}return Ue[pe].weakData},onFreeze:function(Ue){return ae&&de&&te(Ue)&&!A(Ue,pe)&&ce(Ue),Ue}};T[pe]=!0},979:(Q,ue,b)=>{var de,pe,K,L=b(2488),S=b(4720),T=b(8886),R=b(3779),A=b(8578),N=b(5691),F=b(9660),Y=b(7086),te="Object already initialized",oe=S.TypeError;if(L||N.state){var Pe=N.state||(N.state=new(0,S.WeakMap));Pe.get=Pe.get,Pe.has=Pe.has,Pe.set=Pe.set,de=function(ze,rt){if(Pe.has(ze))throw oe(te);return rt.facade=ze,Pe.set(ze,rt),rt},pe=function(ze){return Pe.get(ze)||{}},K=function(ze){return Pe.has(ze)}}else{var Te=F("state");Y[Te]=!0,de=function(ze,rt){if(A(ze,Te))throw oe(te);return rt.facade=ze,R(ze,Te,rt),rt},pe=function(ze){return A(ze,Te)?ze[Te]:{}},K=function(ze){return A(ze,Te)}}Q.exports={set:de,get:pe,has:K,enforce:function(ze){return K(ze)?pe(ze):de(ze,{})},getterFor:function(ze){return function(rt){var Ue;if(!T(rt)||(Ue=pe(rt)).type!==ze)throw oe("Incompatible receiver, "+ze+" required");return Ue}}}},7909:(Q,ue,b)=>{var L=b(7014),S=b(8424),T=L("iterator"),R=Array.prototype;Q.exports=function(A){return void 0!==A&&(S.Array===A||R[T]===A)}},8143:(Q,ue,b)=>{var L=b(1401);Q.exports=Array.isArray||function(T){return"Array"==L(T)}},4513:(Q,ue,b)=>{var L=b(2935),S=L.all;Q.exports=L.IS_HTMLDDA?function(T){return"function"==typeof T||T===S}:function(T){return"function"==typeof T}},5200:(Q,ue,b)=>{var L=b(2006),S=b(7944),T=b(4513),R=b(2212),A=b(2149),N=b(6073),F=function(){},Y=[],te=A("Reflect","construct"),oe=/^\s*(?:class|function)\b/,ae=L(oe.exec),de=!oe.exec(F),pe=function(xe){if(!T(xe))return!1;try{return te(F,Y,xe),!0}catch(Pe){return!1}},K=function(xe){if(!T(xe))return!1;switch(R(xe)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return de||!!ae(oe,N(xe))}catch(Pe){return!0}};K.sham=!0,Q.exports=!te||S(function(){var ce;return pe(pe.call)||!pe(Object)||!pe(function(){ce=!0})||ce})?K:pe},7859:(Q,ue,b)=>{var L=b(8578);Q.exports=function(S){return void 0!==S&&(L(S,"value")||L(S,"writable"))}},9545:(Q,ue,b)=>{var L=b(7944),S=b(4513),T=/#|\.prototype\./,R=function(te,oe){var ae=N[A(te)];return ae==Y||ae!=F&&(S(oe)?L(oe):!!oe)},A=R.normalize=function(te){return String(te).replace(T,".").toLowerCase()},N=R.data={},F=R.NATIVE="N",Y=R.POLYFILL="P";Q.exports=R},4904:(Q,ue,b)=>{var L=b(8886),S=Math.floor;Q.exports=Number.isInteger||function(R){return!L(R)&&isFinite(R)&&S(R)===R}},8702:Q=>{Q.exports=function(ue){return null==ue}},8886:(Q,ue,b)=>{var L=b(4513),S=b(2935),T=S.all;Q.exports=S.IS_HTMLDDA?function(R){return"object"==typeof R?null!==R:L(R)||R===T}:function(R){return"object"==typeof R?null!==R:L(R)}},2074:Q=>{Q.exports=!1},1185:(Q,ue,b)=>{var L=b(8886),S=b(1401),R=b(7014)("match");Q.exports=function(A){var N;return L(A)&&(void 0!==(N=A[R])?!!N:"RegExp"==S(A))}},2983:(Q,ue,b)=>{var L=b(2149),S=b(4513),T=b(846),R=b(6762),A=Object;Q.exports=R?function(N){return"symbol"==typeof N}:function(N){var F=L("Symbol");return S(F)&&T(F.prototype,A(N))}},9423:(Q,ue,b)=>{var L=b(352),S=b(9836),T=b(6583),R=b(7366),A=b(7909),N=b(7951),F=b(846),Y=b(6029),te=b(6644),oe=b(9838),ae=TypeError,de=function(K,ce){this.stopped=K,this.result=ce},pe=de.prototype;Q.exports=function(K,ce,xe){var Ge,ut,tt,mt,kt,Ht,Wt,Te=!(!xe||!xe.AS_ENTRIES),ze=!(!xe||!xe.IS_RECORD),rt=!(!xe||!xe.IS_ITERATOR),Ue=!(!xe||!xe.INTERRUPTED),Re=L(ce,xe&&xe.that),Gt=function(Pt){return Ge&&oe(Ge,"normal",Pt),new de(!0,Pt)},Xt=function(Pt){return Te?(T(Pt),Ue?Re(Pt[0],Pt[1],Gt):Re(Pt[0],Pt[1])):Ue?Re(Pt,Gt):Re(Pt)};if(ze)Ge=K.iterator;else if(rt)Ge=K;else{if(!(ut=te(K)))throw ae(R(K)+" is not iterable");if(A(ut)){for(tt=0,mt=N(K);mt>tt;tt++)if((kt=Xt(K[tt]))&&F(pe,kt))return kt;return new de(!1)}Ge=Y(K,ut)}for(Ht=ze?K.next:Ge.next;!(Wt=S(Ht,Ge)).done;){try{kt=Xt(Wt.value)}catch(Pt){oe(Ge,"throw",Pt)}if("object"==typeof kt&&kt&&F(pe,kt))return kt}return new de(!1)}},9838:(Q,ue,b)=>{var L=b(9836),S=b(6583),T=b(2383);Q.exports=function(R,A,N){var F,Y;S(R);try{if(!(F=T(R,"return"))){if("throw"===A)throw N;return N}F=L(F,R)}catch(te){Y=!0,F=te}if("throw"===A)throw N;if(Y)throw F;return S(F),N}},4020:(Q,ue,b)=>{"use strict";var L=b(2753).IteratorPrototype,S=b(1701),T=b(8808),R=b(5387),A=b(8424),N=function(){return this};Q.exports=function(F,Y,te,oe){var ae=Y+" Iterator";return F.prototype=S(L,{next:T(+!oe,te)}),R(F,ae,!1,!0),A[ae]=N,F}},4971:(Q,ue,b)=>{"use strict";var L=b(664),S=b(9836),T=b(2074),R=b(2891),A=b(4513),N=b(4020),F=b(5456),Y=b(6736),te=b(5387),oe=b(3779),ae=b(9047),de=b(7014),pe=b(8424),K=b(2753),ce=R.PROPER,xe=R.CONFIGURABLE,Pe=K.IteratorPrototype,Te=K.BUGGY_SAFARI_ITERATORS,ze=de("iterator"),Ue="values",Re="entries",Ge=function(){return this};Q.exports=function(ut,tt,mt,kt,Ht,Wt,Gt){N(mt,tt,kt);var yn,wn,Nt,Xt=function($n){if($n===Ht&&Dt)return Dt;if(!Te&&$n in me)return me[$n];switch($n){case"keys":case Ue:case Re:return function(){return new mt(this,$n)}}return function(){return new mt(this)}},Pt=tt+" Iterator",Oe=!1,me=ut.prototype,dt=me[ze]||me["@@iterator"]||Ht&&me[Ht],Dt=!Te&&dt||Xt(Ht),Yt="Array"==tt&&me.entries||dt;if(Yt&&(yn=F(Yt.call(new ut)))!==Object.prototype&&yn.next&&(!T&&F(yn)!==Pe&&(Y?Y(yn,Pe):A(yn[ze])||ae(yn,ze,Ge)),te(yn,Pt,!0,!0),T&&(pe[Pt]=Ge)),ce&&Ht==Ue&&dt&&dt.name!==Ue&&(!T&&xe?oe(me,"name",Ue):(Oe=!0,Dt=function(){return S(dt,this)})),Ht)if(wn={values:Xt(Ue),keys:Wt?Dt:Xt("keys"),entries:Xt(Re)},Gt)for(Nt in wn)(Te||Oe||!(Nt in me))&&ae(me,Nt,wn[Nt]);else L({target:tt,proto:!0,forced:Te||Oe},wn);return(!T||Gt)&&me[ze]!==Dt&&ae(me,ze,Dt,{name:Ht}),pe[tt]=Dt,wn}},2753:(Q,ue,b)=>{"use strict";var ae,de,pe,L=b(7944),S=b(4513),T=b(8886),R=b(1701),A=b(5456),N=b(9047),F=b(7014),Y=b(2074),te=F("iterator"),oe=!1;[].keys&&("next"in(pe=[].keys())?(de=A(A(pe)))!==Object.prototype&&(ae=de):oe=!0),!T(ae)||L(function(){var ce={};return ae[te].call(ce)!==ce})?ae={}:Y&&(ae=R(ae)),S(ae[te])||N(ae,te,function(){return this}),Q.exports={IteratorPrototype:ae,BUGGY_SAFARI_ITERATORS:oe}},8424:Q=>{Q.exports={}},7951:(Q,ue,b)=>{var L=b(7832);Q.exports=function(S){return L(S.length)}},6885:(Q,ue,b)=>{var L=b(7944),S=b(4513),T=b(8578),R=b(5601),A=b(2891).CONFIGURABLE,N=b(6073),F=b(979),Y=F.enforce,te=F.get,oe=Object.defineProperty,ae=R&&!L(function(){return 8!==oe(function(){},"length",{value:8}).length}),de=String(String).split("String"),pe=Q.exports=function(K,ce,xe){"Symbol("===String(ce).slice(0,7)&&(ce="["+String(ce).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),xe&&xe.getter&&(ce="get "+ce),xe&&xe.setter&&(ce="set "+ce),(!T(K,"name")||A&&K.name!==ce)&&(R?oe(K,"name",{value:ce,configurable:!0}):K.name=ce),ae&&xe&&T(xe,"arity")&&K.length!==xe.arity&&oe(K,"length",{value:xe.arity});try{xe&&T(xe,"constructor")&&xe.constructor?R&&oe(K,"prototype",{writable:!1}):K.prototype&&(K.prototype=void 0)}catch(Te){}var Pe=Y(K);return T(Pe,"source")||(Pe.source=de.join("string"==typeof ce?ce:"")),K};Function.prototype.toString=pe(function(){return S(this)&&te(this).source||N(this)},"toString")},8168:Q=>{var ue=Math.ceil,b=Math.floor;Q.exports=Math.trunc||function(S){var T=+S;return(T>0?b:ue)(T)}},1679:(Q,ue,b)=>{var L=b(1185),S=TypeError;Q.exports=function(T){if(L(T))throw S("The method doesn't accept regular expressions");return T}},5274:(Q,ue,b)=>{"use strict";var L=b(5601),S=b(2006),T=b(9836),R=b(7944),A=b(5159),N=b(6095),F=b(6491),Y=b(3784),te=b(2462),oe=Object.assign,ae=Object.defineProperty,de=S([].concat);Q.exports=!oe||R(function(){if(L&&1!==oe({b:1},oe(ae({},"a",{enumerable:!0,get:function(){ae(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var pe={},K={},ce=Symbol(),xe="abcdefghijklmnopqrst";return pe[ce]=7,xe.split("").forEach(function(Pe){K[Pe]=Pe}),7!=oe({},pe)[ce]||A(oe({},K)).join("")!=xe})?function(K,ce){for(var xe=Y(K),Pe=arguments.length,Te=1,ze=N.f,rt=F.f;Pe>Te;)for(var tt,Ue=te(arguments[Te++]),Re=ze?de(A(Ue),ze(Ue)):A(Ue),Ge=Re.length,ut=0;Ge>ut;)tt=Re[ut++],(!L||T(rt,Ue,tt))&&(xe[tt]=Ue[tt]);return xe}:oe},1701:(Q,ue,b)=>{var Pe,L=b(6583),S=b(9106),T=b(256),R=b(7086),A=b(4989),N=b(7783),F=b(9660),oe="prototype",de=F("IE_PROTO"),pe=function(){},K=function(ze){return"<script>"+ze+"<\/script>"},ce=function(ze){ze.write(K("")),ze.close();var rt=ze.parentWindow.Object;return ze=null,rt},Te=function(){try{Pe=new ActiveXObject("htmlfile")}catch(rt){}Te="undefined"!=typeof document?document.domain&&Pe?ce(Pe):function(){var Ue,ze=N("iframe");return ze.style.display="none",A.appendChild(ze),ze.src=String("javascript:"),(Ue=ze.contentWindow.document).open(),Ue.write(K("document.F=Object")),Ue.close(),Ue.F}():ce(Pe);for(var ze=T.length;ze--;)delete Te[oe][T[ze]];return Te()};R[de]=!0,Q.exports=Object.create||function(rt,Ue){var Re;return null!==rt?(pe[oe]=L(rt),Re=new pe,pe[oe]=null,Re[de]=rt):Re=Te(),void 0===Ue?Re:S.f(Re,Ue)}},9106:(Q,ue,b)=>{var L=b(5601),S=b(401),T=b(6607),R=b(6583),A=b(8436),N=b(5159);ue.f=L&&!S?Object.defineProperties:function(Y,te){R(Y);for(var K,oe=A(te),ae=N(te),de=ae.length,pe=0;de>pe;)T.f(Y,K=ae[pe++],oe[K]);return Y}},6607:(Q,ue,b)=>{var L=b(5601),S=b(5873),T=b(401),R=b(6583),A=b(2637),N=TypeError,F=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,te="enumerable",oe="configurable",ae="writable";ue.f=L?T?function(pe,K,ce){if(R(pe),K=A(K),R(ce),"function"==typeof pe&&"prototype"===K&&"value"in ce&&ae in ce&&!ce[ae]){var xe=Y(pe,K);xe&&xe[ae]&&(pe[K]=ce.value,ce={configurable:oe in ce?ce[oe]:xe[oe],enumerable:te in ce?ce[te]:xe[te],writable:!1})}return F(pe,K,ce)}:F:function(pe,K,ce){if(R(pe),K=A(K),R(ce),S)try{return F(pe,K,ce)}catch(xe){}if("get"in ce||"set"in ce)throw N("Accessors not supported");return"value"in ce&&(pe[K]=ce.value),pe}},313:(Q,ue,b)=>{var L=b(5601),S=b(9836),T=b(6491),R=b(8808),A=b(8436),N=b(2637),F=b(8578),Y=b(5873),te=Object.getOwnPropertyDescriptor;ue.f=L?te:function(ae,de){if(ae=A(ae),de=N(de),Y)try{return te(ae,de)}catch(pe){}if(F(ae,de))return R(!S(T.f,ae,de),ae[de])}},3138:(Q,ue,b)=>{var L=b(1401),S=b(8436),T=b(4283).f,R=b(5005),A="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Q.exports.f=function(Y){return A&&"Window"==L(Y)?function(F){try{return T(F)}catch(Y){return R(A)}}(Y):T(S(Y))}},4283:(Q,ue,b)=>{var L=b(3187),T=b(256).concat("length","prototype");ue.f=Object.getOwnPropertyNames||function(A){return L(A,T)}},6095:(Q,ue)=>{ue.f=Object.getOwnPropertySymbols},5456:(Q,ue,b)=>{var L=b(8578),S=b(4513),T=b(3784),R=b(9660),A=b(8745),N=R("IE_PROTO"),F=Object,Y=F.prototype;Q.exports=A?F.getPrototypeOf:function(te){var oe=T(te);if(L(oe,N))return oe[N];var ae=oe.constructor;return S(ae)&&oe instanceof ae?ae.prototype:oe instanceof F?Y:null}},3892:(Q,ue,b)=>{var L=b(7944),S=b(8886),T=b(1401),R=b(3588),A=Object.isExtensible,N=L(function(){A(1)});Q.exports=N||R?function(Y){return!(!S(Y)||R&&"ArrayBuffer"==T(Y))&&(!A||A(Y))}:A},846:(Q,ue,b)=>{var L=b(2006);Q.exports=L({}.isPrototypeOf)},3187:(Q,ue,b)=>{var L=b(2006),S=b(8578),T=b(8436),R=b(4273).indexOf,A=b(7086),N=L([].push);Q.exports=function(F,Y){var de,te=T(F),oe=0,ae=[];for(de in te)!S(A,de)&&S(te,de)&&N(ae,de);for(;Y.length>oe;)S(te,de=Y[oe++])&&(~R(ae,de)||N(ae,de));return ae}},5159:(Q,ue,b)=>{var L=b(3187),S=b(256);Q.exports=Object.keys||function(R){return L(R,S)}},6491:(Q,ue)=>{"use strict";var b={}.propertyIsEnumerable,L=Object.getOwnPropertyDescriptor,S=L&&!b.call({1:2},1);ue.f=S?function(R){var A=L(this,R);return!!A&&A.enumerable}:b},6736:(Q,ue,b)=>{var L=b(2006),S=b(6583),T=b(8254);Q.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var N,R=!1,A={};try{(N=L(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(A,[]),R=A instanceof Array}catch(F){}return function(Y,te){return S(Y),T(te),R?N(Y,te):Y.__proto__=te,Y}}():void 0)},8307:(Q,ue,b)=>{var L=b(5601),S=b(2006),T=b(5159),R=b(8436),N=S(b(6491).f),F=S([].push),Y=function(te){return function(oe){for(var xe,ae=R(oe),de=T(ae),pe=de.length,K=0,ce=[];pe>K;)xe=de[K++],(!L||N(ae,xe))&&F(ce,te?[xe,ae[xe]]:ae[xe]);return ce}};Q.exports={entries:Y(!0),values:Y(!1)}},6482:(Q,ue,b)=>{"use strict";var L=b(5706),S=b(2212);Q.exports=L?{}.toString:function(){return"[object "+S(this)+"]"}},3409:(Q,ue,b)=>{var L=b(9836),S=b(4513),T=b(8886),R=TypeError;Q.exports=function(A,N){var F,Y;if("string"===N&&S(F=A.toString)&&!T(Y=L(F,A))||S(F=A.valueOf)&&!T(Y=L(F,A))||"string"!==N&&S(F=A.toString)&&!T(Y=L(F,A)))return Y;throw R("Can't convert object to primitive value")}},4432:(Q,ue,b)=>{var L=b(2149),S=b(2006),T=b(4283),R=b(6095),A=b(6583),N=S([].concat);Q.exports=L("Reflect","ownKeys")||function(Y){var te=T.f(A(Y)),oe=R.f;return oe?N(te,oe(Y)):te}},5388:(Q,ue,b)=>{var L=b(4720);Q.exports=L},6455:(Q,ue,b)=>{var L=b(6607).f;Q.exports=function(S,T,R){R in S||L(S,R,{configurable:!0,get:function(){return T[R]},set:function(A){T[R]=A}})}},8325:(Q,ue,b)=>{var L=b(9836),S=b(6583),T=b(4513),R=b(1401),A=b(8214),N=TypeError;Q.exports=function(F,Y){var te=F.exec;if(T(te)){var oe=L(te,F,Y);return null!==oe&&S(oe),oe}if("RegExp"===R(F))return L(A,F,Y);throw N("RegExp#exec called on incompatible receiver")}},8214:(Q,ue,b)=>{"use strict";var Re,Ge,L=b(9836),S=b(2006),T=b(9005),R=b(8167),A=b(1810),N=b(5443),F=b(1701),Y=b(979).get,te=b(1005),oe=b(7633),ae=N("native-string-replace",String.prototype.replace),de=RegExp.prototype.exec,pe=de,K=S("".charAt),ce=S("".indexOf),xe=S("".replace),Pe=S("".slice),Te=(Ge=/b*/g,L(de,Re=/a/,"a"),L(de,Ge,"a"),0!==Re.lastIndex||0!==Ge.lastIndex),ze=A.BROKEN_CARET,rt=void 0!==/()??/.exec("")[1];(Te||rt||ze||te||oe)&&(pe=function(Ge){var Ht,Wt,Gt,Xt,Pt,Oe,me,ut=this,tt=Y(ut),mt=T(Ge),kt=tt.raw;if(kt)return kt.lastIndex=ut.lastIndex,Ht=L(pe,kt,mt),ut.lastIndex=kt.lastIndex,Ht;var dt=tt.groups,Dt=ze&&ut.sticky,Yt=L(R,ut),yn=ut.source,wn=0,Nt=mt;if(Dt&&(Yt=xe(Yt,"y",""),-1===ce(Yt,"g")&&(Yt+="g"),Nt=Pe(mt,ut.lastIndex),ut.lastIndex>0&&(!ut.multiline||ut.multiline&&"\n"!==K(mt,ut.lastIndex-1))&&(yn="(?: "+yn+")",Nt=" "+Nt,wn++),Wt=new RegExp("^(?:"+yn+")",Yt)),rt&&(Wt=new RegExp("^"+yn+"$(?!\\s)",Yt)),Te&&(Gt=ut.lastIndex),Xt=L(de,Dt?Wt:ut,Nt),Dt?Xt?(Xt.input=Pe(Xt.input,wn),Xt[0]=Pe(Xt[0],wn),Xt.index=ut.lastIndex,ut.lastIndex+=Xt[0].length):ut.lastIndex=0:Te&&Xt&&(ut.lastIndex=ut.global?Xt.index+Xt[0].length:Gt),rt&&Xt&&Xt.length>1&&L(ae,Xt[0],Wt,function(){for(Pt=1;Pt<arguments.length-2;Pt++)void 0===arguments[Pt]&&(Xt[Pt]=void 0)}),Xt&&dt)for(Xt.groups=Oe=F(null),Pt=0;Pt<dt.length;Pt++)Oe[(me=dt[Pt])[0]]=Xt[me[1]];return Xt}),Q.exports=pe},8167:(Q,ue,b)=>{"use strict";var L=b(6583);Q.exports=function(){var S=L(this),T="";return S.hasIndices&&(T+="d"),S.global&&(T+="g"),S.ignoreCase&&(T+="i"),S.multiline&&(T+="m"),S.dotAll&&(T+="s"),S.unicode&&(T+="u"),S.unicodeSets&&(T+="v"),S.sticky&&(T+="y"),T}},2791:(Q,ue,b)=>{var L=b(9836),S=b(8578),T=b(846),R=b(8167),A=RegExp.prototype;Q.exports=function(N){var F=N.flags;return void 0!==F||"flags"in A||S(N,"flags")||!T(A,N)?F:L(R,N)}},1810:(Q,ue,b)=>{var L=b(7944),T=b(4720).RegExp,R=L(function(){var F=T("a","y");return F.lastIndex=2,null!=F.exec("abcd")}),A=R||L(function(){return!T("a","y").sticky}),N=R||L(function(){var F=T("^r","gy");return F.lastIndex=2,null!=F.exec("str")});Q.exports={BROKEN_CARET:N,MISSED_STICKY:A,UNSUPPORTED_Y:R}},1005:(Q,ue,b)=>{var L=b(7944),T=b(4720).RegExp;Q.exports=L(function(){var R=T(".","s");return!(R.dotAll&&R.exec("\n")&&"s"===R.flags)})},7633:(Q,ue,b)=>{var L=b(7944),T=b(4720).RegExp;Q.exports=L(function(){var R=T("(?<a>b)","g");return"b"!==R.exec("b").groups.a||"bc"!=="b".replace(R,"$<a>c")})},1413:(Q,ue,b)=>{var L=b(8702),S=TypeError;Q.exports=function(T){if(L(T))throw S("Can't call method on "+T);return T}},1517:Q=>{Q.exports=Object.is||function(b,L){return b===L?0!==b||1/b==1/L:b!=b&&L!=L}},9780:(Q,ue,b)=>{var L=b(4720),S=b(5019),T=b(4513),R=b(8684),A=b(8439),N=b(5983),F=/MSIE .\./.test(R),Y=L.Function,te=function(oe){return F?function(ae,de){var pe=N(arguments.length,1)>2,K=T(ae)?ae:Y(ae),ce=pe?A(arguments,2):void 0;return oe(pe?function(){S(K,this,ce)}:K,de)}:oe};Q.exports={setTimeout:te(L.setTimeout),setInterval:te(L.setInterval)}},4087:(Q,ue,b)=>{"use strict";var L=b(2149),S=b(6607),T=b(7014),R=b(5601),A=T("species");Q.exports=function(N){var F=L(N);R&&F&&!F[A]&&(0,S.f)(F,A,{configurable:!0,get:function(){return this}})}},5387:(Q,ue,b)=>{var L=b(6607).f,S=b(8578),R=b(7014)("toStringTag");Q.exports=function(A,N,F){A&&!F&&(A=A.prototype),A&&!S(A,R)&&L(A,R,{configurable:!0,value:N})}},9660:(Q,ue,b)=>{var L=b(5443),S=b(1387),T=L("keys");Q.exports=function(R){return T[R]||(T[R]=S(R))}},5691:(Q,ue,b)=>{var L=b(4720),S=b(7907),T="__core-js_shared__",R=L[T]||S(T,{});Q.exports=R},5443:(Q,ue,b)=>{var L=b(2074),S=b(5691);(Q.exports=function(T,R){return S[T]||(S[T]=void 0!==R?R:{})})("versions",[]).push({version:"3.25.5",mode:L?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})},7347:(Q,ue,b)=>{var L=b(6583),S=b(9493),T=b(8702),A=b(7014)("species");Q.exports=function(N,F){var te,Y=L(N).constructor;return void 0===Y||T(te=L(Y)[A])?F:S(te)}},1558:(Q,ue,b)=>{var L=b(7944);Q.exports=function(S){return L(function(){var T=""[S]('"');return T!==T.toLowerCase()||T.split('"').length>3})}},5940:(Q,ue,b)=>{var L=b(2006),S=b(2048),T=b(9005),R=b(1413),A=L("".charAt),N=L("".charCodeAt),F=L("".slice),Y=function(te){return function(oe,ae){var ce,xe,de=T(R(oe)),pe=S(ae),K=de.length;return pe<0||pe>=K?te?"":void 0:(ce=N(de,pe))<55296||ce>56319||pe+1===K||(xe=N(de,pe+1))<56320||xe>57343?te?A(de,pe):ce:te?F(de,pe,pe+2):xe-56320+(ce-55296<<10)+65536}};Q.exports={codeAt:Y(!1),charAt:Y(!0)}},2666:(Q,ue,b)=>{var L=b(8684);Q.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(L)},8922:(Q,ue,b)=>{var L=b(2006),S=b(7832),T=b(9005),R=b(4437),A=b(1413),N=L(R),F=L("".slice),Y=Math.ceil,te=function(oe){return function(ae,de,pe){var Te,ze,K=T(A(ae)),ce=S(de),xe=K.length,Pe=void 0===pe?" ":T(pe);return ce<=xe||""==Pe?K:((ze=N(Pe,Y((Te=ce-xe)/Pe.length))).length>Te&&(ze=F(ze,0,Te)),oe?K+ze:ze+K)}};Q.exports={start:te(!1),end:te(!0)}},4437:(Q,ue,b)=>{"use strict";var L=b(2048),S=b(9005),T=b(1413),R=RangeError;Q.exports=function(N){var F=S(T(this)),Y="",te=L(N);if(te<0||te==1/0)throw R("Wrong number of repetitions");for(;te>0;(te>>>=1)&&(F+=F))1&te&&(Y+=F);return Y}},4304:(Q,ue,b)=>{var L=b(2891).PROPER,S=b(7944),T=b(2097);Q.exports=function(A){return S(function(){return!!T[A]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[A]()||L&&T[A].name!==A})}},9916:(Q,ue,b)=>{var L=b(2006),S=b(1413),T=b(9005),R=b(2097),A=L("".replace),N="["+R+"]",F=RegExp("^"+N+N+"*"),Y=RegExp(N+N+"*$"),te=function(oe){return function(ae){var de=T(S(ae));return 1&oe&&(de=A(de,F,"")),2&oe&&(de=A(de,Y,"")),de}};Q.exports={start:te(1),end:te(2),trim:te(3)}},1656:(Q,ue,b)=>{var L=b(9905),S=b(7944);Q.exports=!!Object.getOwnPropertySymbols&&!S(function(){var T=Symbol();return!String(T)||!(Object(T)instanceof Symbol)||!Symbol.sham&&L&&L<41})},5439:(Q,ue,b)=>{var L=b(9836),S=b(2149),T=b(7014),R=b(9047);Q.exports=function(){var A=S("Symbol"),N=A&&A.prototype,F=N&&N.valueOf,Y=T("toPrimitive");N&&!N[Y]&&R(N,Y,function(te){return L(F,this)},{arity:1})}},348:(Q,ue,b)=>{var L=b(1656);Q.exports=L&&!!Symbol.for&&!!Symbol.keyFor},5484:(Q,ue,b)=>{var Ge,ut,tt,mt,L=b(4720),S=b(5019),T=b(352),R=b(4513),A=b(8578),N=b(7944),F=b(4989),Y=b(8439),te=b(7783),oe=b(5983),ae=b(7001),de=b(2926),pe=L.setImmediate,K=L.clearImmediate,ce=L.process,xe=L.Dispatch,Pe=L.Function,Te=L.MessageChannel,ze=L.String,rt=0,Ue={},Re="onreadystatechange";try{Ge=L.location}catch(Xt){}var kt=function(Xt){if(A(Ue,Xt)){var Pt=Ue[Xt];delete Ue[Xt],Pt()}},Ht=function(Xt){return function(){kt(Xt)}},Wt=function(Xt){kt(Xt.data)},Gt=function(Xt){L.postMessage(ze(Xt),Ge.protocol+"//"+Ge.host)};(!pe||!K)&&(pe=function(Pt){oe(arguments.length,1);var Oe=R(Pt)?Pt:Pe(Pt),me=Y(arguments,1);return Ue[++rt]=function(){S(Oe,void 0,me)},ut(rt),rt},K=function(Pt){delete Ue[Pt]},de?ut=function(Xt){ce.nextTick(Ht(Xt))}:xe&&xe.now?ut=function(Xt){xe.now(Ht(Xt))}:Te&&!ae?(mt=(tt=new Te).port2,tt.port1.onmessage=Wt,ut=T(mt.postMessage,mt)):L.addEventListener&&R(L.postMessage)&&!L.importScripts&&Ge&&"file:"!==Ge.protocol&&!N(Gt)?(ut=Gt,L.addEventListener("message",Wt,!1)):ut=Re in te("script")?function(Xt){F.appendChild(te("script"))[Re]=function(){F.removeChild(this),kt(Xt)}}:function(Xt){setTimeout(Ht(Xt),0)}),Q.exports={set:pe,clear:K}},1506:(Q,ue,b)=>{var L=b(2006);Q.exports=L(1..valueOf)},8064:(Q,ue,b)=>{var L=b(2048),S=Math.max,T=Math.min;Q.exports=function(R,A){var N=L(R);return N<0?S(N+A,0):T(N,A)}},8436:(Q,ue,b)=>{var L=b(2462),S=b(1413);Q.exports=function(T){return L(S(T))}},2048:(Q,ue,b)=>{var L=b(8168);Q.exports=function(S){var T=+S;return T!=T||0===T?0:L(T)}},7832:(Q,ue,b)=>{var L=b(2048),S=Math.min;Q.exports=function(T){return T>0?S(L(T),9007199254740991):0}},3784:(Q,ue,b)=>{var L=b(1413),S=Object;Q.exports=function(T){return S(L(T))}},6281:(Q,ue,b)=>{var L=b(9836),S=b(8886),T=b(2983),R=b(2383),A=b(3409),N=b(7014),F=TypeError,Y=N("toPrimitive");Q.exports=function(te,oe){if(!S(te)||T(te))return te;var de,ae=R(te,Y);if(ae){if(void 0===oe&&(oe="default"),de=L(ae,te,oe),!S(de)||T(de))return de;throw F("Can't convert object to primitive value")}return void 0===oe&&(oe="number"),A(te,oe)}},2637:(Q,ue,b)=>{var L=b(6281),S=b(2983);Q.exports=function(T){var R=L(T,"string");return S(R)?R:R+""}},5706:(Q,ue,b)=>{var T={};T[b(7014)("toStringTag")]="z",Q.exports="[object z]"===String(T)},9005:(Q,ue,b)=>{var L=b(2212),S=String;Q.exports=function(T){if("Symbol"===L(T))throw TypeError("Cannot convert a Symbol value to a string");return S(T)}},7366:Q=>{var ue=String;Q.exports=function(b){try{return ue(b)}catch(L){return"Object"}}},1387:(Q,ue,b)=>{var L=b(2006),S=0,T=Math.random(),R=L(1..toString);Q.exports=function(A){return"Symbol("+(void 0===A?"":A)+")_"+R(++S+T,36)}},6762:(Q,ue,b)=>{var L=b(1656);Q.exports=L&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},401:(Q,ue,b)=>{var L=b(5601),S=b(7944);Q.exports=L&&S(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},5983:Q=>{var ue=TypeError;Q.exports=function(b,L){if(b<L)throw ue("Not enough arguments");return b}},2488:(Q,ue,b)=>{var L=b(4720),S=b(4513),T=L.WeakMap;Q.exports=S(T)&&/native code/.test(String(T))},8810:(Q,ue,b)=>{var L=b(5388),S=b(8578),T=b(8775),R=b(6607).f;Q.exports=function(A){var N=L.Symbol||(L.Symbol={});S(N,A)||R(N,A,{value:T.f(A)})}},8775:(Q,ue,b)=>{var L=b(7014);ue.f=L},7014:(Q,ue,b)=>{var L=b(4720),S=b(5443),T=b(8578),R=b(1387),A=b(1656),N=b(6762),F=S("wks"),Y=L.Symbol,te=Y&&Y.for,oe=N?Y:Y&&Y.withoutSetter||R;Q.exports=function(ae){if(!T(F,ae)||!A&&"string"!=typeof F[ae]){var de="Symbol."+ae;F[ae]=A&&T(Y,ae)?Y[ae]:N&&te?te(de):oe(de)}return F[ae]}},2097:Q=>{Q.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},2246:(Q,ue,b)=>{"use strict";var L=b(664),S=b(7944),T=b(8143),R=b(8886),A=b(3784),N=b(7951),F=b(8194),Y=b(7182),te=b(4275),oe=b(1468),ae=b(7014),de=b(9905),pe=ae("isConcatSpreadable"),K=de>=51||!S(function(){var Te=[];return Te[pe]=!1,Te.concat()[0]!==Te}),ce=oe("concat"),xe=function(Te){if(!R(Te))return!1;var ze=Te[pe];return void 0!==ze?!!ze:T(Te)};L({target:"Array",proto:!0,arity:1,forced:!K||!ce},{concat:function(ze){var Ge,ut,tt,mt,kt,rt=A(this),Ue=te(rt,0),Re=0;for(Ge=-1,tt=arguments.length;Ge<tt;Ge++)if(xe(kt=-1===Ge?rt:arguments[Ge]))for(mt=N(kt),F(Re+mt),ut=0;ut<mt;ut++,Re++)ut in kt&&Y(Ue,Re,kt[ut]);else F(Re+1),Y(Ue,Re++,kt);return Ue.length=Re,Ue}})},3912:(Q,ue,b)=>{var L=b(664),S=b(3270),T=b(5834);L({target:"Array",proto:!0},{fill:S}),T("fill")},3479:(Q,ue,b)=>{"use strict";var L=b(664),S=b(8657).filter;L({target:"Array",proto:!0,forced:!b(1468)("filter")},{filter:function(N){return S(this,N,arguments.length>1?arguments[1]:void 0)}})},4631:(Q,ue,b)=>{"use strict";var L=b(664),S=b(8657).findIndex,T=b(5834),R="findIndex",A=!0;R in[]&&Array(1)[R](function(){A=!1}),L({target:"Array",proto:!0,forced:A},{findIndex:function(F){return S(this,F,arguments.length>1?arguments[1]:void 0)}}),T(R)},7114:(Q,ue,b)=>{"use strict";var L=b(664),S=b(8657).find,T=b(5834),R="find",A=!0;R in[]&&Array(1)[R](function(){A=!1}),L({target:"Array",proto:!0,forced:A},{find:function(F){return S(this,F,arguments.length>1?arguments[1]:void 0)}}),T(R)},8621:(Q,ue,b)=>{var L=b(664),S=b(2411);L({target:"Array",stat:!0,forced:!b(4430)(function(A){Array.from(A)})},{from:S})},7059:(Q,ue,b)=>{"use strict";var L=b(664),S=b(4273).includes,T=b(7944),R=b(5834);L({target:"Array",proto:!0,forced:T(function(){return!Array(1).includes()})},{includes:function(F){return S(this,F,arguments.length>1?arguments[1]:void 0)}}),R("includes")},3382:(Q,ue,b)=>{"use strict";var L=b(664),S=b(2006),T=b(4273).indexOf,R=b(1815),A=S([].indexOf),N=!!A&&1/A([1],1,-0)<0,F=R("indexOf");L({target:"Array",proto:!0,forced:N||!F},{indexOf:function(te){var oe=arguments.length>1?arguments[1]:void 0;return N?A(this,te,oe)||0:T(this,te,oe)}})},4952:(Q,ue,b)=>{"use strict";var L=b(8436),S=b(5834),T=b(8424),R=b(979),A=b(6607).f,N=b(4971),F=b(4761),Y=b(2074),te=b(5601),oe="Array Iterator",ae=R.set,de=R.getterFor(oe);Q.exports=N(Array,"Array",function(K,ce){ae(this,{type:oe,target:L(K),index:0,kind:ce})},function(){var K=de(this),ce=K.target,xe=K.kind,Pe=K.index++;return!ce||Pe>=ce.length?(K.target=void 0,F(void 0,!0)):F("keys"==xe?Pe:"values"==xe?ce[Pe]:[Pe,ce[Pe]],!1)},"values");var pe=T.Arguments=T.Array;if(S("keys"),S("values"),S("entries"),!Y&&te&&"values"!==pe.name)try{A(pe,"name",{value:"values"})}catch(K){}},6774:(Q,ue,b)=>{"use strict";var L=b(664),S=b(2006),T=b(2462),R=b(8436),A=b(1815),N=S([].join),F=T!=Object,Y=A("join",",");L({target:"Array",proto:!0,forced:F||!Y},{join:function(oe){return N(R(this),void 0===oe?",":oe)}})},1695:(Q,ue,b)=>{var L=b(664),S=b(28);L({target:"Array",proto:!0,forced:S!==[].lastIndexOf},{lastIndexOf:S})},262:(Q,ue,b)=>{"use strict";var L=b(664),S=b(8657).map;L({target:"Array",proto:!0,forced:!b(1468)("map")},{map:function(N){return S(this,N,arguments.length>1?arguments[1]:void 0)}})},149:(Q,ue,b)=>{"use strict";var L=b(664),S=b(9906).left,T=b(1815),R=b(9905),A=b(2926);L({target:"Array",proto:!0,forced:!T("reduce")||!A&&R>79&&R<83},{reduce:function(te){var oe=arguments.length;return S(this,te,oe,oe>1?arguments[1]:void 0)}})},5975:(Q,ue,b)=>{"use strict";var L=b(664),S=b(2006),T=b(8143),R=S([].reverse),A=[1,2];L({target:"Array",proto:!0,forced:String(A)===String(A.reverse())},{reverse:function(){return T(this)&&(this.length=this.length),R(this)}})},8561:(Q,ue,b)=>{"use strict";var L=b(664),S=b(8143),T=b(5200),R=b(8886),A=b(8064),N=b(7951),F=b(8436),Y=b(7182),te=b(7014),oe=b(1468),ae=b(8439),de=oe("slice"),pe=te("species"),K=Array,ce=Math.max;L({target:"Array",proto:!0,forced:!de},{slice:function(Pe,Te){var Ge,ut,tt,ze=F(this),rt=N(ze),Ue=A(Pe,rt),Re=A(void 0===Te?rt:Te,rt);if(S(ze)&&((T(Ge=ze.constructor)&&(Ge===K||S(Ge.prototype))||R(Ge)&&null===(Ge=Ge[pe]))&&(Ge=void 0),Ge===K||void 0===Ge))return ae(ze,Ue,Re);for(ut=new(void 0===Ge?K:Ge)(ce(Re-Ue,0)),tt=0;Ue<Re;Ue++,tt++)Ue in ze&&Y(ut,tt,ze[Ue]);return ut.length=tt,ut}})},6949:(Q,ue,b)=>{"use strict";var L=b(664),S=b(2006),T=b(9366),R=b(3784),A=b(7951),N=b(8751),F=b(9005),Y=b(7944),te=b(3142),oe=b(1815),ae=b(8077),de=b(4268),pe=b(9905),K=b(1349),ce=[],xe=S(ce.sort),Pe=S(ce.push),Te=Y(function(){ce.sort(void 0)}),ze=Y(function(){ce.sort(null)}),rt=oe("sort"),Ue=!Y(function(){if(pe)return pe<70;if(!(ae&&ae>3)){if(de)return!0;if(K)return K<603;var tt,mt,kt,Ht,ut="";for(tt=65;tt<76;tt++){switch(mt=String.fromCharCode(tt),tt){case 66:case 69:case 70:case 72:kt=3;break;case 68:case 71:kt=4;break;default:kt=2}for(Ht=0;Ht<47;Ht++)ce.push({k:mt+Ht,v:kt})}for(ce.sort(function(Wt,Gt){return Gt.v-Wt.v}),Ht=0;Ht<ce.length;Ht++)mt=ce[Ht].k.charAt(0),ut.charAt(ut.length-1)!==mt&&(ut+=mt);return"DGBEFHACIJK"!==ut}});L({target:"Array",proto:!0,forced:Te||!ze||!rt||!Ue},{sort:function(tt){void 0!==tt&&T(tt);var mt=R(this);if(Ue)return void 0===tt?xe(mt):xe(mt,tt);var Wt,Gt,kt=[],Ht=A(mt);for(Gt=0;Gt<Ht;Gt++)Gt in mt&&Pe(kt,mt[Gt]);for(te(kt,function(ut){return function(tt,mt){return void 0===mt?-1:void 0===tt?1:void 0!==ut?+ut(tt,mt)||0:F(tt)>F(mt)?1:-1}}(tt)),Wt=A(kt),Gt=0;Gt<Wt;)mt[Gt]=kt[Gt++];for(;Gt<Ht;)N(mt,Gt++);return mt}})},8193:(Q,ue,b)=>{"use strict";var L=b(664),S=b(3784),T=b(8064),R=b(2048),A=b(7951),N=b(6712),F=b(8194),Y=b(4275),te=b(7182),oe=b(8751),de=b(1468)("splice"),pe=Math.max,K=Math.min;L({target:"Array",proto:!0,forced:!de},{splice:function(xe,Pe){var Re,Ge,ut,tt,mt,kt,Te=S(this),ze=A(Te),rt=T(xe,ze),Ue=arguments.length;for(0===Ue?Re=Ge=0:1===Ue?(Re=0,Ge=ze-rt):(Re=Ue-2,Ge=K(pe(R(Pe),0),ze-rt)),F(ze+Re-Ge),ut=Y(Te,Ge),tt=0;tt<Ge;tt++)(mt=rt+tt)in Te&&te(ut,tt,Te[mt]);if(ut.length=Ge,Re<Ge){for(tt=rt;tt<ze-Ge;tt++)kt=tt+Re,(mt=tt+Ge)in Te?Te[kt]=Te[mt]:oe(Te,kt);for(tt=ze;tt>ze-Ge+Re;tt--)oe(Te,tt-1)}else if(Re>Ge)for(tt=ze-Ge;tt>rt;tt--)kt=tt+Re-1,(mt=tt+Ge-1)in Te?Te[kt]=Te[mt]:oe(Te,kt);for(tt=0;tt<Re;tt++)Te[tt+rt]=arguments[tt+2];return N(Te,ze-Ge+Re),ut}})},2096:(Q,ue,b)=>{var L=b(5601),S=b(2891).EXISTS,T=b(2006),R=b(6607).f,A=Function.prototype,N=T(A.toString),F=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Y=T(F.exec);L&&!S&&R(A,"name",{configurable:!0,get:function(){try{return Y(F,N(this))[1]}catch(oe){return""}}})},4993:(Q,ue,b)=>{var L=b(664),S=b(2149),T=b(5019),R=b(9836),A=b(2006),N=b(7944),F=b(8143),Y=b(4513),te=b(8886),oe=b(2983),ae=b(8439),de=b(1656),pe=S("JSON","stringify"),K=A(/./.exec),ce=A("".charAt),xe=A("".charCodeAt),Pe=A("".replace),Te=A(1..toString),ze=/[\uD800-\uDFFF]/g,rt=/^[\uD800-\uDBFF]$/,Ue=/^[\uDC00-\uDFFF]$/,Re=!de||N(function(){var mt=S("Symbol")();return"[null]"!=pe([mt])||"{}"!=pe({a:mt})||"{}"!=pe(Object(mt))}),Ge=N(function(){return'"\\udf06\\ud834"'!==pe("\udf06\ud834")||'"\\udead"'!==pe("\udead")}),ut=function(mt,kt){var Ht=ae(arguments),Wt=kt;if((te(kt)||void 0!==mt)&&!oe(mt))return F(kt)||(kt=function(Gt,Xt){if(Y(Wt)&&(Xt=R(Wt,this,Gt,Xt)),!oe(Xt))return Xt}),Ht[1]=kt,T(pe,null,Ht)},tt=function(mt,kt,Ht){var Wt=ce(Ht,kt-1),Gt=ce(Ht,kt+1);return K(rt,mt)&&!K(Ue,Gt)||K(Ue,mt)&&!K(rt,Wt)?"\\u"+Te(xe(mt,0),16):mt};pe&&L({target:"JSON",stat:!0,arity:3,forced:Re||Ge},{stringify:function(kt,Ht,Wt){var Gt=ae(arguments),Xt=T(Re?ut:pe,null,Gt);return Ge&&"string"==typeof Xt?Pe(Xt,ze,tt):Xt}})},5927:(Q,ue,b)=>{"use strict";b(7126)("Map",function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},b(3977))},4564:(Q,ue,b)=>{b(5927)},6522:(Q,ue,b)=>{"use strict";var L=b(5601),S=b(4720),T=b(2006),R=b(9545),A=b(9047),N=b(8578),F=b(1072),Y=b(846),te=b(2983),oe=b(6281),ae=b(7944),de=b(4283).f,pe=b(313).f,K=b(6607).f,ce=b(1506),xe=b(9916).trim,Pe="Number",Te=S[Pe],ze=Te.prototype,rt=S.TypeError,Ue=T("".slice),Re=T("".charCodeAt),Ge=function(Wt){var Gt=oe(Wt,"number");return"bigint"==typeof Gt?Gt:ut(Gt)},ut=function(Wt){var Xt,Pt,Oe,me,dt,Dt,Yt,yn,Gt=oe(Wt,"number");if(te(Gt))throw rt("Cannot convert a Symbol value to a number");if("string"==typeof Gt&&Gt.length>2)if(Gt=xe(Gt),43===(Xt=Re(Gt,0))||45===Xt){if(88===(Pt=Re(Gt,2))||120===Pt)return NaN}else if(48===Xt){switch(Re(Gt,1)){case 66:case 98:Oe=2,me=49;break;case 79:case 111:Oe=8,me=55;break;default:return+Gt}for(Dt=(dt=Ue(Gt,2)).length,Yt=0;Yt<Dt;Yt++)if((yn=Re(dt,Yt))<48||yn>me)return NaN;return parseInt(dt,Oe)}return+Gt};if(R(Pe,!Te(" 0o1")||!Te("0b1")||Te("+0x1"))){for(var Ht,tt=function(Gt){var Xt=arguments.length<1?0:Te(Ge(Gt)),Pt=this;return Y(ze,Pt)&&ae(function(){ce(Pt)})?F(Object(Xt),Pt,tt):Xt},mt=L?de(Te):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),kt=0;mt.length>kt;kt++)N(Te,Ht=mt[kt])&&!N(tt,Ht)&&K(tt,Ht,pe(Te,Ht));tt.prototype=ze,ze.constructor=tt,A(S,Pe,tt,{constructor:!0})}},5296:(Q,ue,b)=>{b(664)({target:"Number",stat:!0},{isInteger:b(4904)})},7528:(Q,ue,b)=>{"use strict";var L=b(664),S=b(2006),T=b(2048),R=b(1506),A=b(4437),N=b(7944),F=RangeError,Y=String,te=Math.floor,oe=S(A),ae=S("".slice),de=S(1..toFixed),pe=function(ze,rt,Ue){return 0===rt?Ue:rt%2==1?pe(ze,rt-1,Ue*ze):pe(ze*ze,rt/2,Ue)},ce=function(ze,rt,Ue){for(var Re=-1,Ge=Ue;++Re<6;)ze[Re]=(Ge+=rt*ze[Re])%1e7,Ge=te(Ge/1e7)},xe=function(ze,rt){for(var Ue=6,Re=0;--Ue>=0;)ze[Ue]=te((Re+=ze[Ue])/rt),Re=Re%rt*1e7},Pe=function(ze){for(var rt=6,Ue="";--rt>=0;)if(""!==Ue||0===rt||0!==ze[rt]){var Re=Y(ze[rt]);Ue=""===Ue?Re:Ue+oe("0",7-Re.length)+Re}return Ue};L({target:"Number",proto:!0,forced:N(function(){return"0.000"!==de(8e-5,3)||"1"!==de(.9,0)||"1.25"!==de(1.255,2)||"1000000000000000128"!==de(0xde0b6b3a7640080,0)})||!N(function(){de({})})},{toFixed:function(rt){var mt,kt,Ht,Wt,Ue=R(this),Re=T(rt),Ge=[0,0,0,0,0,0],ut="",tt="0";if(Re<0||Re>20)throw F("Incorrect fraction digits");if(Ue!=Ue)return"NaN";if(Ue<=-1e21||Ue>=1e21)return Y(Ue);if(Ue<0&&(ut="-",Ue=-Ue),Ue>1e-21)if(mt=function(ze){for(var rt=0,Ue=ze;Ue>=4096;)rt+=12,Ue/=4096;for(;Ue>=2;)rt+=1,Ue/=2;return rt}(Ue*pe(2,69,1))-69,kt=mt<0?Ue*pe(2,-mt,1):Ue/pe(2,mt,1),kt*=4503599627370496,(mt=52-mt)>0){for(ce(Ge,0,kt),Ht=Re;Ht>=7;)ce(Ge,1e7,0),Ht-=7;for(ce(Ge,pe(10,Ht,1),0),Ht=mt-1;Ht>=23;)xe(Ge,1<<23),Ht-=23;xe(Ge,1<<Ht),ce(Ge,1,1),xe(Ge,2),tt=Pe(Ge)}else ce(Ge,0,kt),ce(Ge,1<<-mt,0),tt=Pe(Ge)+oe("0",Re);return tt=Re>0?ut+((Wt=tt.length)<=Re?"0."+oe("0",Re-Wt)+tt:ae(tt,0,Wt-Re)+"."+ae(tt,Wt-Re)):ut+tt}})},7204:(Q,ue,b)=>{var L=b(664),S=b(5274);L({target:"Object",stat:!0,arity:2,forced:Object.assign!==S},{assign:S})},508:(Q,ue,b)=>{var L=b(664),S=b(2655),T=b(7944),R=b(8886),A=b(9346).onFreeze,N=Object.freeze;L({target:"Object",stat:!0,forced:T(function(){N(1)}),sham:!S},{freeze:function(te){return N&&R(te)?N(A(te)):te}})},5379:(Q,ue,b)=>{var L=b(664),S=b(7944),T=b(8436),R=b(313).f,A=b(5601),N=S(function(){R(1)});L({target:"Object",stat:!0,forced:!A||N,sham:!A},{getOwnPropertyDescriptor:function(te,oe){return R(T(te),oe)}})},171:(Q,ue,b)=>{var L=b(664),S=b(5601),T=b(4432),R=b(8436),A=b(313),N=b(7182);L({target:"Object",stat:!0,sham:!S},{getOwnPropertyDescriptors:function(Y){for(var K,ce,te=R(Y),oe=A.f,ae=T(te),de={},pe=0;ae.length>pe;)void 0!==(ce=oe(te,K=ae[pe++]))&&N(de,K,ce);return de}})},5785:(Q,ue,b)=>{var L=b(664),S=b(1656),T=b(7944),R=b(6095),A=b(3784);L({target:"Object",stat:!0,forced:!S||T(function(){R.f(1)})},{getOwnPropertySymbols:function(Y){var te=R.f;return te?te(A(Y)):[]}})},7862:(Q,ue,b)=>{var L=b(664),S=b(7944),T=b(3784),R=b(5456),A=b(8745);L({target:"Object",stat:!0,forced:S(function(){R(1)}),sham:!A},{getPrototypeOf:function(Y){return R(T(Y))}})},6019:(Q,ue,b)=>{var L=b(664),S=b(3784),T=b(5159);L({target:"Object",stat:!0,forced:b(7944)(function(){T(1)})},{keys:function(F){return T(S(F))}})},5281:(Q,ue,b)=>{b(664)({target:"Object",stat:!0},{setPrototypeOf:b(6736)})},1681:(Q,ue,b)=>{var L=b(5706),S=b(9047),T=b(6482);L||S(Object.prototype,"toString",T,{unsafe:!0})},2885:(Q,ue,b)=>{var L=b(664),S=b(8307).values;L({target:"Object",stat:!0},{values:function(R){return S(R)}})},4448:(Q,ue,b)=>{var L=b(664),S=b(2149),T=b(5019),R=b(4697),A=b(9493),N=b(6583),F=b(8886),Y=b(1701),te=b(7944),oe=S("Reflect","construct"),ae=Object.prototype,de=[].push,pe=te(function(){function xe(){}return!(oe(function(){},[],xe)instanceof xe)}),K=!te(function(){oe(function(){})}),ce=pe||K;L({target:"Reflect",stat:!0,forced:ce,sham:ce},{construct:function(Pe,Te){A(Pe),N(Te);var ze=arguments.length<3?Pe:A(arguments[2]);if(K&&!pe)return oe(Pe,Te,ze);if(Pe==ze){switch(Te.length){case 0:return new Pe;case 1:return new Pe(Te[0]);case 2:return new Pe(Te[0],Te[1]);case 3:return new Pe(Te[0],Te[1],Te[2]);case 4:return new Pe(Te[0],Te[1],Te[2],Te[3])}var rt=[null];return T(de,rt,Te),new(T(R,Pe,rt))}var Ue=ze.prototype,Re=Y(F(Ue)?Ue:ae),Ge=T(Pe,Re,Te);return F(Ge)?Ge:Re}})},6590:(Q,ue,b)=>{var L=b(664),S=b(9836),T=b(8886),R=b(6583),A=b(7859),N=b(313),F=b(5456);L({target:"Reflect",stat:!0},{get:function Y(te,oe){var de,pe,ae=arguments.length<3?te:arguments[2];return R(te)===ae?te[oe]:(de=N.f(te,oe))?A(de)?de.value:void 0===de.get?void 0:S(de.get,ae):T(pe=F(te))?Y(pe,oe,ae):void 0}})},4881:(Q,ue,b)=>{var L=b(5601),S=b(4720),T=b(2006),R=b(9545),A=b(1072),N=b(3779),F=b(4283).f,Y=b(846),te=b(1185),oe=b(9005),ae=b(2791),de=b(1810),pe=b(6455),K=b(9047),ce=b(7944),xe=b(8578),Pe=b(979).enforce,Te=b(4087),ze=b(7014),rt=b(1005),Ue=b(7633),Re=ze("match"),Ge=S.RegExp,ut=Ge.prototype,tt=S.SyntaxError,mt=T(ut.exec),kt=T("".charAt),Ht=T("".replace),Wt=T("".indexOf),Gt=T("".slice),Xt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Pt=/a/g,Oe=/a/g,me=new Ge(Pt)!==Pt,dt=de.MISSED_STICKY,Dt=de.UNSUPPORTED_Y;if(R("RegExp",L&&(!me||dt||rt||Ue||ce(function(){return Oe[Re]=!1,Ge(Pt)!=Pt||Ge(Oe)==Oe||"/a/i"!=Ge(Pt,"i")})))){for(var Nt=function(kn,_r){var si,lr,ye,Ne,qe,bt,En=Y(ut,this),tn=te(kn),Wr=void 0===_r,fi=[],hi=kn;if(!En&&tn&&Wr&&kn.constructor===Nt)return kn;if((tn||Y(ut,kn))&&(kn=kn.source,Wr&&(_r=ae(hi))),kn=void 0===kn?"":oe(kn),_r=void 0===_r?"":oe(_r),hi=kn,rt&&"dotAll"in Pt&&(lr=!!_r&&Wt(_r,"s")>-1)&&(_r=Ht(_r,/s/g,"")),si=_r,dt&&"sticky"in Pt&&(ye=!!_r&&Wt(_r,"y")>-1)&&Dt&&(_r=Ht(_r,/y/g,"")),Ue&&(Ne=function(Un){for(var ye,kn=Un.length,_r=0,En="",tn=[],Wr={},fi=!1,hi=!1,si=0,lr="";_r<=kn;_r++){if("\\"===(ye=kt(Un,_r)))ye+=kt(Un,++_r);else if("]"===ye)fi=!1;else if(!fi)switch(!0){case"["===ye:fi=!0;break;case"("===ye:mt(Xt,Gt(Un,_r+1))&&(_r+=2,hi=!0),En+=ye,si++;continue;case">"===ye&&hi:if(""===lr||xe(Wr,lr))throw new tt("Invalid capture group name");Wr[lr]=!0,tn[tn.length]=[lr,si],hi=!1,lr="";continue}hi?lr+=ye:En+=ye}return[En,tn]}(kn),kn=Ne[0],fi=Ne[1]),qe=A(Ge(kn,_r),En?this:ut,Nt),(lr||ye||fi.length)&&(bt=Pe(qe),lr&&(bt.dotAll=!0,bt.raw=Nt(function(Un){for(var Wr,kn=Un.length,_r=0,En="",tn=!1;_r<=kn;_r++)"\\"!==(Wr=kt(Un,_r))?tn||"."!==Wr?("["===Wr?tn=!0:"]"===Wr&&(tn=!1),En+=Wr):En+="[\\s\\S]":En+=Wr+kt(Un,++_r);return En}(kn),si)),ye&&(bt.sticky=!0),fi.length&&(bt.groups=fi)),kn!==hi)try{N(qe,"source",""===hi?"(?:)":hi)}catch(lt){}return qe},$n=F(Ge),Vn=0;$n.length>Vn;)pe(Nt,Ge,$n[Vn++]);ut.constructor=Nt,Nt.prototype=ut,K(S,"RegExp",Nt,{constructor:!0})}Te("RegExp")},8068:(Q,ue,b)=>{"use strict";var L=b(664),S=b(8214);L({target:"RegExp",proto:!0,forced:/./.exec!==S},{exec:S})},5167:(Q,ue,b)=>{"use strict";var L=b(2891).PROPER,S=b(9047),T=b(6583),R=b(9005),A=b(7944),N=b(2791),F="toString",te=RegExp.prototype[F];(A(function(){return"/a/b"!=te.call({source:"a",flags:"b"})})||L&&te.name!=F)&&S(RegExp.prototype,F,function(){var pe=T(this);return"/"+R(pe.source)+"/"+R(N(pe))},{unsafe:!0})},4906:(Q,ue,b)=>{"use strict";b(7126)("Set",function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},b(3977))},3954:(Q,ue,b)=>{b(4906)},8377:(Q,ue,b)=>{"use strict";var L=b(664),S=b(5940).codeAt;L({target:"String",proto:!0},{codePointAt:function(R){return S(this,R)}})},3487:(Q,ue,b)=>{"use strict";var ce,L=b(664),S=b(2006),T=b(313).f,R=b(7832),A=b(9005),N=b(1679),F=b(1413),Y=b(312),te=b(2074),oe=S("".endsWith),ae=S("".slice),de=Math.min,pe=Y("endsWith");L({target:"String",proto:!0,forced:!(!te&&!pe&&(ce=T(String.prototype,"endsWith"),ce&&!ce.writable)||pe)},{endsWith:function(xe){var Pe=A(F(this));N(xe);var Te=arguments.length>1?arguments[1]:void 0,ze=Pe.length,rt=void 0===Te?ze:de(R(Te),ze),Ue=A(xe);return oe?oe(Pe,Ue,rt):ae(Pe,rt-Ue.length,rt)===Ue}})},4176:(Q,ue,b)=>{"use strict";var L=b(664),S=b(2006),T=b(1679),R=b(1413),A=b(9005),N=b(312),F=S("".indexOf);L({target:"String",proto:!0,forced:!N("includes")},{includes:function(te){return!!~F(A(R(this)),A(T(te)),arguments.length>1?arguments[1]:void 0)}})},631:(Q,ue,b)=>{"use strict";var L=b(5940).charAt,S=b(9005),T=b(979),R=b(4971),A=b(4761),N="String Iterator",F=T.set,Y=T.getterFor(N);R(String,"String",function(te){F(this,{type:N,string:S(te),index:0})},function(){var pe,oe=Y(this),ae=oe.string,de=oe.index;return de>=ae.length?A(void 0,!0):(pe=L(ae,de),oe.index+=pe.length,A(pe,!1))})},2337:(Q,ue,b)=>{"use strict";var L=b(664),S=b(8772);L({target:"String",proto:!0,forced:b(1558)("link")},{link:function(A){return S(this,"a","href",A)}})},9394:(Q,ue,b)=>{"use strict";var L=b(9836),S=b(5698),T=b(6583),R=b(8702),A=b(7832),N=b(9005),F=b(1413),Y=b(2383),te=b(5470),oe=b(8325);S("match",function(ae,de,pe){return[function(ce){var xe=F(this),Pe=R(ce)?void 0:Y(ce,ae);return Pe?L(Pe,ce,xe):new RegExp(ce)[ae](N(xe))},function(K){var ce=T(this),xe=N(K),Pe=pe(de,ce,xe);if(Pe.done)return Pe.value;if(!ce.global)return oe(ce,xe);var Te=ce.unicode;ce.lastIndex=0;for(var Ue,ze=[],rt=0;null!==(Ue=oe(ce,xe));){var Re=N(Ue[0]);ze[rt]=Re,""===Re&&(ce.lastIndex=te(xe,A(ce.lastIndex),Te)),rt++}return 0===rt?null:ze}]})},1100:(Q,ue,b)=>{"use strict";var L=b(664),S=b(8922).start;L({target:"String",proto:!0,forced:b(2666)},{padStart:function(A){return S(this,A,arguments.length>1?arguments[1]:void 0)}})},9401:(Q,ue,b)=>{"use strict";var L=b(5019),S=b(9836),T=b(2006),R=b(5698),A=b(7944),N=b(6583),F=b(4513),Y=b(8702),te=b(2048),oe=b(7832),ae=b(9005),de=b(1413),pe=b(5470),K=b(2383),ce=b(3653),xe=b(8325),Te=b(7014)("replace"),ze=Math.max,rt=Math.min,Ue=T([].concat),Re=T([].push),Ge=T("".indexOf),ut=T("".slice),tt=function(Wt){return void 0===Wt?Wt:String(Wt)},mt="$0"==="a".replace(/./,"$0"),kt=!!/./[Te]&&""===/./[Te]("a","$0");R("replace",function(Wt,Gt,Xt){var Pt=kt?"$":"$0";return[function(me,dt){var Dt=de(this),Yt=Y(me)?void 0:K(me,Te);return Yt?S(Yt,me,Dt,dt):S(Gt,ae(Dt),me,dt)},function(Oe,me){var dt=N(this),Dt=ae(Oe);if("string"==typeof me&&-1===Ge(me,Pt)&&-1===Ge(me,"$<")){var Yt=Xt(Gt,dt,Dt,me);if(Yt.done)return Yt.value}var yn=F(me);yn||(me=ae(me));var wn=dt.global;if(wn){var Nt=dt.unicode;dt.lastIndex=0}for(var $n=[];;){var Vn=xe(dt,Dt);if(null===Vn||(Re($n,Vn),!wn))break;""===ae(Vn[0])&&(dt.lastIndex=pe(Dt,oe(dt.lastIndex),Nt))}for(var kn="",_r=0,En=0;En<$n.length;En++){for(var tn=ae((Vn=$n[En])[0]),Wr=ze(rt(te(Vn.index),Dt.length),0),fi=[],hi=1;hi<Vn.length;hi++)Re(fi,tt(Vn[hi]));var si=Vn.groups;if(yn){var lr=Ue([tn],fi,Wr,Dt);void 0!==si&&Re(lr,si);var ye=ae(L(me,void 0,lr))}else ye=ce(tn,Dt,Wr,fi,si,me);Wr>=_r&&(kn+=ut(Dt,_r,Wr)+ye,_r=Wr+tn.length)}return kn+ut(Dt,_r)}]},!!A(function(){var Wt=/./;return Wt.exec=function(){var Gt=[];return Gt.groups={a:"7"},Gt},"7"!=="".replace(Wt,"$<a>")})||!mt||kt)},2024:(Q,ue,b)=>{"use strict";var L=b(9836),S=b(5698),T=b(6583),R=b(8702),A=b(1413),N=b(1517),F=b(9005),Y=b(2383),te=b(8325);S("search",function(oe,ae,de){return[function(K){var ce=A(this),xe=R(K)?void 0:Y(K,oe);return xe?L(xe,K,ce):new RegExp(K)[oe](F(ce))},function(pe){var K=T(this),ce=F(pe),xe=de(ae,K,ce);if(xe.done)return xe.value;var Pe=K.lastIndex;N(Pe,0)||(K.lastIndex=0);var Te=te(K,ce);return N(K.lastIndex,Pe)||(K.lastIndex=Pe),null===Te?-1:Te.index}]})},3035:(Q,ue,b)=>{"use strict";var L=b(5019),S=b(9836),T=b(2006),R=b(5698),A=b(6583),N=b(8702),F=b(1185),Y=b(1413),te=b(7347),oe=b(5470),ae=b(7832),de=b(9005),pe=b(2383),K=b(5005),ce=b(8325),xe=b(8214),Pe=b(1810),Te=b(7944),ze=Pe.UNSUPPORTED_Y,rt=4294967295,Ue=Math.min,Re=[].push,Ge=T(/./.exec),ut=T(Re),tt=T("".slice);R("split",function(kt,Ht,Wt){var Gt;return Gt="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(Xt,Pt){var Oe=de(Y(this)),me=void 0===Pt?rt:Pt>>>0;if(0===me)return[];if(void 0===Xt)return[Oe];if(!F(Xt))return S(Ht,Oe,Xt,me);for(var wn,Nt,$n,dt=[],Yt=0,yn=new RegExp(Xt.source,(Xt.ignoreCase?"i":"")+(Xt.multiline?"m":"")+(Xt.unicode?"u":"")+(Xt.sticky?"y":"")+"g");(wn=S(xe,yn,Oe))&&!((Nt=yn.lastIndex)>Yt&&(ut(dt,tt(Oe,Yt,wn.index)),wn.length>1&&wn.index<Oe.length&&L(Re,dt,K(wn,1)),$n=wn[0].length,Yt=Nt,dt.length>=me));)yn.lastIndex===wn.index&&yn.lastIndex++;return Yt===Oe.length?($n||!Ge(yn,""))&&ut(dt,""):ut(dt,tt(Oe,Yt)),dt.length>me?K(dt,0,me):dt}:"0".split(void 0,0).length?function(Xt,Pt){return void 0===Xt&&0===Pt?[]:S(Ht,this,Xt,Pt)}:Ht,[function(Pt,Oe){var me=Y(this),dt=N(Pt)?void 0:pe(Pt,kt);return dt?S(dt,Pt,me,Oe):S(Gt,de(me),Pt,Oe)},function(Xt,Pt){var Oe=A(this),me=de(Xt),dt=Wt(Gt,Oe,me,Pt,Gt!==Ht);if(dt.done)return dt.value;var Dt=te(Oe,RegExp),Yt=Oe.unicode,wn=new Dt(ze?"^(?:"+Oe.source+")":Oe,(Oe.ignoreCase?"i":"")+(Oe.multiline?"m":"")+(Oe.unicode?"u":"")+(ze?"g":"y")),Nt=void 0===Pt?rt:Pt>>>0;if(0===Nt)return[];if(0===me.length)return null===ce(wn,me)?[me]:[];for(var $n=0,Vn=0,Un=[];Vn<me.length;){wn.lastIndex=ze?0:Vn;var _r,kn=ce(wn,ze?tt(me,Vn):me);if(null===kn||(_r=Ue(ae(wn.lastIndex+(ze?Vn:0)),me.length))===$n)Vn=oe(me,Vn,Yt);else{if(ut(Un,tt(me,$n,Vn)),Un.length===Nt)return Un;for(var En=1;En<=kn.length-1;En++)if(ut(Un,kn[En]),Un.length===Nt)return Un;Vn=$n=_r}}return ut(Un,tt(me,$n)),Un}]},!!Te(function(){var kt=/(?:)/,Ht=kt.exec;kt.exec=function(){return Ht.apply(this,arguments)};var Wt="ab".split(kt);return 2!==Wt.length||"a"!==Wt[0]||"b"!==Wt[1]}),ze)},9778:(Q,ue,b)=>{"use strict";var ce,L=b(664),S=b(2006),T=b(313).f,R=b(7832),A=b(9005),N=b(1679),F=b(1413),Y=b(312),te=b(2074),oe=S("".startsWith),ae=S("".slice),de=Math.min,pe=Y("startsWith");L({target:"String",proto:!0,forced:!(!te&&!pe&&(ce=T(String.prototype,"startsWith"),ce&&!ce.writable)||pe)},{startsWith:function(xe){var Pe=A(F(this));N(xe);var Te=R(de(arguments.length>1?arguments[1]:void 0,Pe.length)),ze=A(xe);return oe?oe(Pe,ze,Te):ae(Pe,Te,Te+ze.length)===ze}})},3388:(Q,ue,b)=>{"use strict";var L=b(664),S=b(9916).trim;L({target:"String",proto:!0,forced:b(4304)("trim")},{trim:function(){return S(this)}})},8202:(Q,ue,b)=>{"use strict";var L=b(664),S=b(4720),T=b(9836),R=b(2006),A=b(2074),N=b(5601),F=b(1656),Y=b(7944),te=b(8578),oe=b(846),ae=b(6583),de=b(8436),pe=b(2637),K=b(9005),ce=b(8808),xe=b(1701),Pe=b(5159),Te=b(4283),ze=b(3138),rt=b(6095),Ue=b(313),Re=b(6607),Ge=b(9106),ut=b(6491),tt=b(9047),mt=b(5443),kt=b(9660),Ht=b(7086),Wt=b(1387),Gt=b(7014),Xt=b(8775),Pt=b(8810),Oe=b(5439),me=b(5387),dt=b(979),Dt=b(8657).forEach,Yt=kt("hidden"),yn="Symbol",wn="prototype",Nt=dt.set,$n=dt.getterFor(yn),Vn=Object[wn],Un=S.Symbol,kn=Un&&Un[wn],_r=S.TypeError,En=S.QObject,tn=Ue.f,Wr=Re.f,fi=ze.f,hi=ut.f,si=R([].push),lr=mt("symbols"),ye=mt("op-symbols"),Ne=mt("wks"),qe=!En||!En[wn]||!En[wn].findChild,bt=N&&Y(function(){return 7!=xe(Wr({},"a",{get:function(){return Wr(this,"a",{value:7}).a}})).a})?function(cn,Mn,Pn){var yr=tn(Vn,Mn);yr&&delete Vn[Mn],Wr(cn,Mn,Pn),yr&&cn!==Vn&&Wr(Vn,Mn,yr)}:Wr,lt=function(cn,Mn){var Pn=lr[cn]=xe(kn);return Nt(Pn,{type:yn,tag:cn,description:Mn}),N||(Pn.description=Mn),Pn},Ke=function(Mn,Pn,yr){Mn===Vn&&Ke(ye,Pn,yr),ae(Mn);var ti=pe(Pn);return ae(yr),te(lr,ti)?(yr.enumerable?(te(Mn,Yt)&&Mn[Yt][ti]&&(Mn[Yt][ti]=!1),yr=xe(yr,{enumerable:ce(0,!1)})):(te(Mn,Yt)||Wr(Mn,Yt,ce(1,{})),Mn[Yt][ti]=!0),bt(Mn,ti,yr)):Wr(Mn,ti,yr)},Ye=function(Mn,Pn){ae(Mn);var yr=de(Pn),ti=Pe(yr).concat(qt(yr));return Dt(ti,function(ri){(!N||T(gt,yr,ri))&&Ke(Mn,ri,yr[ri])}),Mn},gt=function(Mn){var Pn=pe(Mn),yr=T(hi,this,Pn);return!(this===Vn&&te(lr,Pn)&&!te(ye,Pn))&&(!(yr||!te(this,Pn)||!te(lr,Pn)||te(this,Yt)&&this[Yt][Pn])||yr)},ft=function(Mn,Pn){var yr=de(Mn),ti=pe(Pn);if(yr!==Vn||!te(lr,ti)||te(ye,ti)){var ri=tn(yr,ti);return ri&&te(lr,ti)&&!(te(yr,Yt)&&yr[Yt][ti])&&(ri.enumerable=!0),ri}},Ct=function(Mn){var Pn=fi(de(Mn)),yr=[];return Dt(Pn,function(ti){!te(lr,ti)&&!te(Ht,ti)&&si(yr,ti)}),yr},qt=function(cn){var Mn=cn===Vn,Pn=fi(Mn?ye:de(cn)),yr=[];return Dt(Pn,function(ti){te(lr,ti)&&(!Mn||te(Vn,ti))&&si(yr,lr[ti])}),yr};F||(tt(kn=(Un=function(){if(oe(kn,this))throw _r("Symbol is not a constructor");var Mn=arguments.length&&void 0!==arguments[0]?K(arguments[0]):void 0,Pn=Wt(Mn),yr=function(ti){this===Vn&&T(yr,ye,ti),te(this,Yt)&&te(this[Yt],Pn)&&(this[Yt][Pn]=!1),bt(this,Pn,ce(1,ti))};return N&&qe&&bt(Vn,Pn,{configurable:!0,set:yr}),lt(Pn,Mn)})[wn],"toString",function(){return $n(this).tag}),tt(Un,"withoutSetter",function(cn){return lt(Wt(cn),cn)}),ut.f=gt,Re.f=Ke,Ge.f=Ye,Ue.f=ft,Te.f=ze.f=Ct,rt.f=qt,Xt.f=function(cn){return lt(Gt(cn),cn)},N&&(Wr(kn,"description",{configurable:!0,get:function(){return $n(this).description}}),A||tt(Vn,"propertyIsEnumerable",gt,{unsafe:!0}))),L({global:!0,constructor:!0,wrap:!0,forced:!F,sham:!F},{Symbol:Un}),Dt(Pe(Ne),function(cn){Pt(cn)}),L({target:yn,stat:!0,forced:!F},{useSetter:function(){qe=!0},useSimple:function(){qe=!1}}),L({target:"Object",stat:!0,forced:!F,sham:!N},{create:function(Mn,Pn){return void 0===Pn?xe(Mn):Ye(xe(Mn),Pn)},defineProperty:Ke,defineProperties:Ye,getOwnPropertyDescriptor:ft}),L({target:"Object",stat:!0,forced:!F},{getOwnPropertyNames:Ct}),Oe(),me(Un,yn),Ht[Yt]=!0},2162:(Q,ue,b)=>{"use strict";var L=b(664),S=b(5601),T=b(4720),R=b(2006),A=b(8578),N=b(4513),F=b(846),Y=b(9005),te=b(6607).f,oe=b(1975),ae=T.Symbol,de=ae&&ae.prototype;if(S&&N(ae)&&(!("description"in de)||void 0!==ae().description)){var pe={},K=function(){var Re=arguments.length<1||void 0===arguments[0]?void 0:Y(arguments[0]),Ge=F(de,this)?new ae(Re):void 0===Re?ae():ae(Re);return""===Re&&(pe[Ge]=!0),Ge};oe(K,ae),K.prototype=de,de.constructor=K;var ce="Symbol(test)"==String(ae("test")),xe=R(de.valueOf),Pe=R(de.toString),Te=/^Symbol\((.*)\)[^)]+$/,ze=R("".replace),rt=R("".slice);te(de,"description",{configurable:!0,get:function(){var Re=xe(this);if(A(pe,Re))return"";var Ge=Pe(Re),ut=ce?rt(Ge,7,-1):ze(Ge,Te,"$1");return""===ut?void 0:ut}}),L({global:!0,constructor:!0,forced:!0},{Symbol:K})}},8774:(Q,ue,b)=>{var L=b(664),S=b(2149),T=b(8578),R=b(9005),A=b(5443),N=b(348),F=A("string-to-symbol-registry"),Y=A("symbol-to-string-registry");L({target:"Symbol",stat:!0,forced:!N},{for:function(te){var oe=R(te);if(T(F,oe))return F[oe];var ae=S("Symbol")(oe);return F[oe]=ae,Y[ae]=oe,ae}})},9117:(Q,ue,b)=>{b(8810)("iterator")},1044:(Q,ue,b)=>{b(8202),b(8774),b(7613),b(4993),b(5785)},7613:(Q,ue,b)=>{var L=b(664),S=b(8578),T=b(2983),R=b(7366),A=b(5443),N=b(348),F=A("symbol-to-string-registry");L({target:"Symbol",stat:!0,forced:!N},{keyFor:function(te){if(!T(te))throw TypeError(R(te)+" is not a symbol");if(S(F,te))return F[te]}})},5128:(Q,ue,b)=>{"use strict";var de,L=b(4720),S=b(2006),T=b(7125),R=b(9346),A=b(7126),N=b(1725),F=b(8886),Y=b(3892),te=b(979).enforce,oe=b(2488),ae=!L.ActiveXObject&&"ActiveXObject"in L,pe=function(rt){return function(){return rt(this,arguments.length?arguments[0]:void 0)}},K=A("WeakMap",pe,N);if(oe&&ae){de=N.getConstructor(pe,"WeakMap",!0),R.enable();var ce=K.prototype,xe=S(ce.delete),Pe=S(ce.has),Te=S(ce.get),ze=S(ce.set);T(ce,{delete:function(rt){if(F(rt)&&!Y(rt)){var Ue=te(this);return Ue.frozen||(Ue.frozen=new de),xe(this,rt)||Ue.frozen.delete(rt)}return xe(this,rt)},has:function(Ue){if(F(Ue)&&!Y(Ue)){var Re=te(this);return Re.frozen||(Re.frozen=new de),Pe(this,Ue)||Re.frozen.has(Ue)}return Pe(this,Ue)},get:function(Ue){if(F(Ue)&&!Y(Ue)){var Re=te(this);return Re.frozen||(Re.frozen=new de),Pe(this,Ue)?Te(this,Ue):Re.frozen.get(Ue)}return Te(this,Ue)},set:function(Ue,Re){if(F(Ue)&&!Y(Ue)){var Ge=te(this);Ge.frozen||(Ge.frozen=new de),Pe(this,Ue)?ze(this,Ue,Re):Ge.frozen.set(Ue,Re)}else ze(this,Ue,Re);return this}})}},3902:(Q,ue,b)=>{b(5128)},7184:(Q,ue,b)=>{"use strict";b(7126)("WeakSet",function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},b(1725))},1514:(Q,ue,b)=>{b(7184)},1606:(Q,ue,b)=>{var L=b(664),S=b(4720),T=b(5484).clear;L({global:!0,bind:!0,enumerable:!0,forced:S.clearImmediate!==T},{clearImmediate:T})},4018:(Q,ue,b)=>{var L=b(4720),S=b(1331),T=b(4970),R=b(441),A=b(3779),N=function(Y){if(Y&&Y.forEach!==R)try{A(Y,"forEach",R)}catch(te){Y.forEach=R}};for(var F in S)S[F]&&N(L[F]&&L[F].prototype);N(T)},223:(Q,ue,b)=>{var L=b(4720),S=b(1331),T=b(4970),R=b(4952),A=b(3779),N=b(7014),F=N("iterator"),Y=N("toStringTag"),te=R.values,oe=function(de,pe){if(de){if(de[F]!==te)try{A(de,F,te)}catch(ce){de[F]=te}if(de[Y]||A(de,Y,pe),S[pe])for(var K in R)if(de[K]!==R[K])try{A(de,K,R[K])}catch(ce){de[K]=R[K]}}};for(var ae in S)oe(L[ae]&&L[ae].prototype,ae);oe(T,"DOMTokenList")},1261:(Q,ue,b)=>{b(1606),b(2474)},2474:(Q,ue,b)=>{var L=b(664),S=b(4720),T=b(5484).set;L({global:!0,bind:!0,enumerable:!0,forced:S.setImmediate!==T},{setImmediate:T})},7050:(Q,ue,b)=>{var L=b(664),S=b(4720),T=b(9780).setInterval;L({global:!0,bind:!0,forced:S.setInterval!==T},{setInterval:T})},6248:(Q,ue,b)=>{var L=b(664),S=b(4720),T=b(9780).setTimeout;L({global:!0,bind:!0,forced:S.setTimeout!==T},{setTimeout:T})},9443:(Q,ue,b)=>{b(7050),b(6248)},1670:(Q,ue,b)=>{"use strict";function L(T,R,A,N,F,Y,te){try{var oe=T[Y](te),ae=oe.value}catch(de){return void A(de)}oe.done?R(ae):Promise.resolve(ae).then(N,F)}function S(T){return function(){var R=this,A=arguments;return new Promise(function(N,F){var Y=T.apply(R,A);function te(ae){L(Y,N,F,te,oe,"next",ae)}function oe(ae){L(Y,N,F,te,oe,"throw",ae)}te(void 0)})}}b.d(ue,{Z:()=>S})}},Q=>{Q(Q.s=9316)}]);
//# sourceMappingURL=main.2942fcede9539d1b.js.map