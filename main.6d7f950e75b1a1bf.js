var dfe=Math.pow;(self.webpackChunkthreeTest=self.webpackChunkthreeTest||[]).push([[179],{4053:(ee,ce,b)=>{"use strict";var O={};b.r(O),b.d(O,{Decoder:()=>D3,Encoder:()=>Bwe,PacketType:()=>Io,protocol:()=>Hwe});var M={};function E(n){return"function"==typeof n}function R(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}b.r(M),b.d(M,{CONTEXTMENU_ITEMS_ADD_COMMENT:()=>dj,CONTEXTMENU_ITEMS_ALIGNMENT:()=>mj,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:()=>Mj,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:()=>vj,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:()=>_j,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:()=>gj,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:()=>wj,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:()=>yj,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:()=>bj,CONTEXTMENU_ITEMS_BORDERS:()=>Sj,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:()=>Ej,CONTEXTMENU_ITEMS_BORDERS_LEFT:()=>Tj,CONTEXTMENU_ITEMS_BORDERS_RIGHT:()=>Cj,CONTEXTMENU_ITEMS_BORDERS_TOP:()=>xj,CONTEXTMENU_ITEMS_CLEAR_COLUMN:()=>ij,CONTEXTMENU_ITEMS_COPY:()=>oj,CONTEXTMENU_ITEMS_CUT:()=>sj,CONTEXTMENU_ITEMS_EDIT_COMMENT:()=>hj,CONTEXTMENU_ITEMS_FREEZE_COLUMN:()=>aj,CONTEXTMENU_ITEMS_HIDE_COLUMN:()=>Oj,CONTEXTMENU_ITEMS_HIDE_ROW:()=>Lj,CONTEXTMENU_ITEMS_INSERT_LEFT:()=>qU,CONTEXTMENU_ITEMS_INSERT_RIGHT:()=>JU,CONTEXTMENU_ITEMS_MERGE_CELLS:()=>uj,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:()=>Aj,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:()=>Dj,CONTEXTMENU_ITEMS_NO_ITEMS:()=>XU,CONTEXTMENU_ITEMS_READ_ONLY:()=>rj,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:()=>pj,CONTEXTMENU_ITEMS_REDO:()=>nj,CONTEXTMENU_ITEMS_REMOVE_BORDERS:()=>Rj,CONTEXTMENU_ITEMS_REMOVE_COLUMN:()=>ej,CONTEXTMENU_ITEMS_REMOVE_COMMENT:()=>fj,CONTEXTMENU_ITEMS_REMOVE_ROW:()=>QU,CONTEXTMENU_ITEMS_ROW_ABOVE:()=>KU,CONTEXTMENU_ITEMS_ROW_BELOW:()=>ZU,CONTEXTMENU_ITEMS_SHOW_COLUMN:()=>kj,CONTEXTMENU_ITEMS_SHOW_ROW:()=>Pj,CONTEXTMENU_ITEMS_UNDO:()=>tj,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:()=>lj,CONTEXTMENU_ITEMS_UNMERGE_CELLS:()=>cj,CONTEXT_MENU_ITEMS_NAMESPACE:()=>Gi,FILTERS_BUTTONS_CANCEL:()=>a4,FILTERS_BUTTONS_CLEAR:()=>o4,FILTERS_BUTTONS_OK:()=>s4,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:()=>l4,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:()=>c4,FILTERS_BUTTONS_PLACEHOLDER_VALUE:()=>u4,FILTERS_BUTTONS_SELECT_ALL:()=>r4,FILTERS_CONDITIONS_AFTER:()=>Kj,FILTERS_CONDITIONS_BEFORE:()=>Zj,FILTERS_CONDITIONS_BEGINS_WITH:()=>Bj,FILTERS_CONDITIONS_BETWEEN:()=>$j,FILTERS_CONDITIONS_BY_VALUE:()=>$He,FILTERS_CONDITIONS_CONTAINS:()=>zj,FILTERS_CONDITIONS_EMPTY:()=>Ij,FILTERS_CONDITIONS_ENDS_WITH:()=>Vj,FILTERS_CONDITIONS_EQUAL:()=>Fj,FILTERS_CONDITIONS_GREATER_THAN:()=>jj,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:()=>Wj,FILTERS_CONDITIONS_LESS_THAN:()=>Yj,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:()=>Gj,FILTERS_CONDITIONS_NAMESPACE:()=>ia,FILTERS_CONDITIONS_NONE:()=>PP,FILTERS_CONDITIONS_NOT_BETWEEN:()=>Xj,FILTERS_CONDITIONS_NOT_CONTAIN:()=>Uj,FILTERS_CONDITIONS_NOT_EMPTY:()=>Nj,FILTERS_CONDITIONS_NOT_EQUAL:()=>Hj,FILTERS_CONDITIONS_TODAY:()=>qj,FILTERS_CONDITIONS_TOMORROW:()=>Jj,FILTERS_CONDITIONS_YESTERDAY:()=>Qj,FILTERS_DIVS_FILTER_BY_CONDITION:()=>e4,FILTERS_DIVS_FILTER_BY_VALUE:()=>t4,FILTERS_LABELS_CONJUNCTION:()=>n4,FILTERS_LABELS_DISJUNCTION:()=>IP,FILTERS_NAMESPACE:()=>Uu,FILTERS_VALUES_BLANK_CELLS:()=>NP});const A=R(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function I(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class N{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(E(r))try{r()}catch(o){e=o instanceof A?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ne(o)}catch(s){e=null!=e?e:[],s instanceof A?e=[...e,...s.errors]:e.push(s)}}if(e)throw new A(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ne(e);else{if(e instanceof N){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&I(t,e)}remove(e){const{_finalizers:t}=this;t&&I(t,e),e instanceof N&&e._removeParent(this)}}N.EMPTY=(()=>{const n=new N;return n.closed=!0,n})();const W=N.EMPTY;function G(n){return n instanceof N||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function ne(n){E(n)?n():n.unsubscribe()}const ae={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},le={setTimeout(n,e,...t){const{delegate:r}=le;return null!=r&&r.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=le;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function he(n){le.setTimeout(()=>{const{onUnhandledError:e}=ae;if(!e)throw n;e(n)})}function $(){}const de=Re("C",void 0,void 0);function Re(n,e,t){return{kind:n,value:e,error:t}}let ze=null;function it(n){if(ae.useDeprecatedSynchronousErrorHandling){const e=!ze;if(e&&(ze={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ze;if(ze=null,t)throw r}}else n()}class Oe extends N{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,G(e)&&e.add(this)):this.destination=Kt}static create(e,t,r){return new yt(e,t,r)}next(e){this.isStopped?Gt(function Ie(n){return Re("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Gt(function be(n){return Re("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gt(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function dt(n,e){return Ke.call(n,e)}class rt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Pt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Pt(r)}else Pt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Pt(t)}}}class yt extends Oe{constructor(e,t,r){let i;if(super(),E(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let o;this&&ae.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dt(e.next,o),error:e.error&&dt(e.error,o),complete:e.complete&&dt(e.complete,o)}):i=e}this.destination=new rt(i)}}function Pt(n){ae.useDeprecatedSynchronousErrorHandling?function We(n){ae.useDeprecatedSynchronousErrorHandling&&ze&&(ze.errorThrown=!0,ze.error=n)}(n):he(n)}function Gt(n,e){const{onStoppedNotification:t}=ae;t&&le.setTimeout(()=>t(n,e))}const Kt={closed:!0,next:$,error:function Ft(n){throw n},complete:$},Zt="function"==typeof Symbol&&Symbol.observable||"@@observable";function It(n){return n}function ge(n){return 0===n.length?It:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ht=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function bn(n){return n&&n instanceof Oe||function $t(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&G(n)}(t)?t:new yt(t,r,i);return it(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Rt(r))((i,o)=>{const s=new yt({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Zt](){return this}pipe(...t){return ge(t)(this)}toPromise(t){return new(t=Rt(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Rt(n){var e;return null!==(e=null!=n?n:ae.Promise)&&void 0!==e?e:Promise}const Sn=R(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ht=(()=>{class n extends ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Jn(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Sn}next(t){it(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){it(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){it(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?W:(this.currentObservers=null,o.push(t),new N(()=>{this.currentObservers=null,I(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new ht;return t.source=this,t}}return n.create=(e,t)=>new Jn(e,t),n})();class Jn extends Ht{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:W}}function Wn(n){return E(null==n?void 0:n.lift)}function Yn(n){return e=>{if(Wn(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Hn(n,e,t,r,i){return new Mr(n,e,t,r,i)}class Mr extends Oe{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Dn(n,e){return Yn((t,r)=>{let i=0;t.subscribe(Hn(r,o=>{r.next(n.call(e,o,i++))}))})}function Ct(n){return this instanceof Ct?(this.v=n,this):new Ct(n)}function qt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(y){return new Promise(function(w,S){o.push([g,y,w,S])>1||a(g,y)})})}function a(g,y){try{!function u(g){g.value instanceof Ct?Promise.resolve(g.value.v).then(c,h):p(o[0][2],g)}(r[g](y))}catch(w){p(o[0][3],w)}}function c(g){a("next",g)}function h(g){a("throw",g)}function p(g,y){g(y),o.shift(),o.length&&a(o[0][0],o[0][1])}}function xn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function qe(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}const jl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Xi(n){return E(null==n?void 0:n.then)}function aa(n){return E(n[Zt])}function la(n){return Symbol.asyncIterator&&E(null==n?void 0:n[Symbol.asyncIterator])}function To(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ki=function hs(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Wl(n){return E(null==n?void 0:n[Ki])}function pu(n){return qt(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ct(t.read());if(i)return yield Ct(void 0);yield yield Ct(r)}}finally{t.releaseLock()}})}function Yl(n){return E(null==n?void 0:n.getReader)}function fs(n){if(n instanceof ht)return n;if(null!=n){if(aa(n))return function mg(n){return new ht(e=>{const t=n[Zt]();if(E(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(jl(n))return function Ac(n){return new ht(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Xi(n))return function Ca(n){return new ht(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,he)})}(n);if(la(n))return dh(n);if(Wl(n))return function nr(n){return new ht(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Yl(n))return function Ju(n){return dh(pu(n))}(n)}throw To(n)}function dh(n){return new ht(e=>{(function $o(n,e){var t,r,i,o;return function He(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(h){try{c(r.next(h))}catch(p){s(p)}}function u(h){try{c(r.throw(h))}catch(p){s(p)}}function c(h){h.done?o(h.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=xn(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function dl(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Yo(n,e,t=1/0){return E(e)?Yo((r,i)=>Dn((o,s)=>e(r,o,i,s))(fs(n(r,i))),t):("number"==typeof e&&(t=e),Yn((r,i)=>function bo(n,e,t,r,i,o,s,a){const u=[];let c=0,h=0,p=!1;const g=()=>{p&&!u.length&&!c&&e.complete()},y=S=>c<r?w(S):u.push(S),w=S=>{o&&e.next(S),c++;let C=!1;fs(t(S,h++)).subscribe(Hn(e,P=>{null==i||i(P),o?y(P):e.next(P)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;u.length&&c<r;){const P=u.shift();s?dl(e,s,()=>w(P)):w(P)}g()}catch(P){e.error(P)}}))};return n.subscribe(Hn(e,y,()=>{p=!0,g()})),()=>{null==a||a()}}(r,i,n,t)))}function Ro(n=1/0){return Yo(It,n)}const wo=new ht(n=>n.complete());function Ei(n){return n&&E(n.schedule)}function Hs(n){return n[n.length-1]}function Ga(n){return E(Hs(n))?n.pop():void 0}function $a(n){return Ei(Hs(n))?n.pop():void 0}function fh(n,e=0){return Yn((t,r)=>{t.subscribe(Hn(r,i=>dl(r,n,()=>r.next(i),e),()=>dl(r,n,()=>r.complete(),e),i=>dl(r,n,()=>r.error(i),e)))})}function mu(n,e=0){return Yn((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ec(n,e){if(!n)throw new Error("Iterable cannot be null");return new ht(t=>{dl(t,e,()=>{const r=n[Symbol.asyncIterator]();dl(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function qo(n,e){return e?function mf(n,e){if(null!=n){if(aa(n))return function Do(n,e){return fs(n).pipe(mu(e),fh(e))}(n,e);if(jl(n))return function ph(n,e){return new ht(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Xi(n))return function Qu(n,e){return fs(n).pipe(mu(e),fh(e))}(n,e);if(la(n))return ec(n,e);if(Wl(n))return function gu(n,e){return new ht(t=>{let r;return dl(t,e,()=>{r=n[Ki](),dl(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>E(null==r?void 0:r.return)&&r.return()})}(n,e);if(Yl(n))return function mh(n,e){return ec(pu(n),e)}(n,e)}throw To(n)}(n,e):fs(n)}function Oc(...n){const e=$a(n),t=function hh(n,e){return"number"==typeof Hs(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?fs(r[0]):Ro(t)(qo(r,e)):wo}function gh(n={}){const{connector:e=(()=>new Ht),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,h=!1,p=!1;const g=()=>{null==a||a.unsubscribe(),a=void 0},y=()=>{g(),s=u=void 0,h=p=!1},w=()=>{const S=s;y(),null==S||S.unsubscribe()};return Yn((S,C)=>{c++,!p&&!h&&g();const P=u=null!=u?u:e();C.add(()=>{c--,0===c&&!p&&!h&&(a=tc(w,i))}),P.subscribe(C),!s&&c>0&&(s=new yt({next:B=>P.next(B),error:B=>{p=!0,g(),a=tc(y,t,B),P.error(B)},complete:()=>{h=!0,g(),a=tc(y,r),P.complete()}}),fs(S).subscribe(s))})(o)}}function tc(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new yt({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function eo(n){for(let e in n)if(n[e]===eo)return e;throw Error("Could not find renamed property on target object.")}function Gl(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ao(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ao).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function vh(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const wp=eo({__forward_ref__:eo});function Zi(n){return n.__forward_ref__=Zi,n.toString=function(){return Ao(this())},n}function Ur(n){return kc(n)?n():n}function kc(n){return"function"==typeof n&&n.hasOwnProperty(wp)&&n.__forward_ref__===Zi}class on extends Error{constructor(e,t){super(function fl(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function qr(n){return"string"==typeof n?n:null==n?"":String(n)}function $l(n,e){throw new on(-201,!1)}function Ks(n,e){null==n&&function Vi(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function fn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ti(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pr(n){return Et(n,_s)||Et(n,ps)}function Et(n,e){return n.hasOwnProperty(e)?n[e]:null}function zi(n){return n&&(n.hasOwnProperty(bs)||n.hasOwnProperty(Md))?n[bs]:null}const _s=eo({\u0275prov:eo}),bs=eo({\u0275inj:eo}),ps=eo({ngInjectableDef:eo}),Md=eo({ngInjectorDef:eo});var cr=(()=>((cr=cr||{})[cr.Default=0]="Default",cr[cr.Host=1]="Host",cr[cr.Self=2]="Self",cr[cr.SkipSelf=4]="SkipSelf",cr[cr.Optional=8]="Optional",cr))();let Sd;function Bs(n){const e=Sd;return Sd=n,e}function Jo(n,e,t){const r=Pr(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&cr.Optional?null:void 0!==e?e:void $l(Ao(n))}function Xa(n){return{toString:n}.toString()}var yu=(()=>((yu=yu||{})[yu.OnPush=0]="OnPush",yu[yu.Default=1]="Default",yu))(),_u=(()=>{return(n=_u||(_u={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",_u;var n})();const Oo=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),vf={},Ui=[],bg=eo({\u0275cmp:eo}),Rp=eo({\u0275dir:eo}),Py=eo({\u0275pipe:eo}),zw=eo({\u0275mod:eo}),nc=eo({\u0275fac:eo}),Kl=eo({__NG_ELEMENT_ID__:eo});let Pc=0;function Si(n){return Xa(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===yu.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ui,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||_u.Emulated,id:"c"+Pc++,styles:n.styles||Ui,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=jw(n.inputs,r),i.outputs=jw(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Uw).filter(Iy):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(ms).filter(Iy):null,i})}function Uw(n){return ji(n)||ko(n)}function Iy(n){return null!==n}function fi(n){return Xa(()=>({type:n.type,bootstrap:n.bootstrap||Ui,declarations:n.declarations||Ui,imports:n.imports||Ui,exports:n.exports||Ui,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function jw(n,e){if(null==n)return vf;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const Ln=Si;function ji(n){return n[bg]||null}function ko(n){return n[Rp]||null}function ms(n){return n[Py]||null}function Dr(n,e){const t=n[zw]||null;if(!t&&!0===e)throw new Error(`Type ${Ao(n)} does not have '\u0275mod' property.`);return t}function Da(n){return Array.isArray(n)&&"object"==typeof n[1]}function gl(n){return Array.isArray(n)&&!0===n[1]}function oc(n){return 0!=(8&n.flags)}function _f(n){return 2==(2&n.flags)}function Mh(n){return 1==(1&n.flags)}function Il(n){return null!==n.template}function Cd(n){return 0!=(256&n[2])}function Td(n,e){return n.hasOwnProperty(nc)?n[nc]:null}class Qx{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Us(){return Xr}function Xr(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mg),By}function By(){const n=Ql(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===vf)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Mg(n,e,t,r){const i=Ql(n)||function Mu(n,e){return n[$w]=e}(n,{previous:vf,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],u=s[a];o[a]=new Qx(u&&u.currentValue,e,s===vf),n[r]=e}Us.ngInherit=!0;const $w="__ngSimpleChanges__";function Ql(n){return n[$w]||null}function ns(n){for(;Array.isArray(n);)n=n[0];return n}function Bo(n,e){return ns(e[n])}function ua(n,e){return ns(e[n.index])}function xh(n,e){return n.data[e]}function Ka(n,e){const t=e[n];return Da(t)?t:t[0]}function xg(n){return 4==(4&n[2])}function dr(n){return 64==(64&n[2])}function po(n,e){return null==e?null:n[e]}function Op(n){n[18]=0}function Kr(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ii={lFrame:Fp(null),bindingsEnabled:!0};function Ad(){return ii.bindingsEnabled}function pn(){return ii.lFrame.lView}function oo(){return ii.lFrame.tView}function Za(n){return ii.lFrame.contextLView=n,n[8]}function Zs(n){return ii.lFrame.contextLView=null,n}function qs(){let n=Fl();for(;null!==n&&64===n.type;)n=n.parent;return n}function Fl(){return ii.lFrame.currentTNode}function qa(n,e){const t=ii.lFrame;t.currentTNode=n,t.isParent=e}function Ja(){return ii.lFrame.isParent}function zc(){ii.lFrame.isParent=!1}function vl(){return ii.lFrame.bindingIndex++}function Eg(n,e){const t=ii.lFrame;t.bindingIndex=t.bindingRootIndex=n,xf(e)}function xf(n){ii.lFrame.currentDirectiveIndex=n}function Hl(n){const e=ii.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Cf(){return ii.lFrame.currentQueryIndex}function Ef(n){ii.lFrame.currentQueryIndex=n}function Wy(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Np(n,e,t){if(t&cr.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&cr.Host||(i=Wy(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=ii.lFrame=Xw();return r.currentTNode=e,r.lView=n,!0}function un(n){const e=Xw(),t=n[1];ii.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Xw(){const n=ii.lFrame,e=null===n?null:n.child;return null===e?Fp(n):e}function Fp(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Wc(){const n=ii.lFrame;return ii.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Wi=Wc;function As(){const n=Wc();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Qa(){return ii.lFrame.selectedIndex}function Os(n){ii.lFrame.selectedIndex=n}function Vo(){const n=ii.lFrame;return xh(n.tView,n.selectedIndex)}function rs(){ii.lFrame.currentNamespace="svg"}function Yc(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=h&&(n.destroyHooks||(n.destroyHooks=[])).push(t,h)}}function ac(n,e,t){Hp(n,e,3,t)}function Rh(n,e,t,r){(3&n[2])===t&&Hp(n,e,t,r)}function Od(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Hp(n,e,t,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<o||-1==o)&&(tC(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function tC(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Bl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Ag(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];Zw(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Kw(n){return 3===n||4===n||6===n}function Zw(n){return 64===n.charCodeAt(0)}function lc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||qw(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function qw(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Jw(n){return-1!==n}function Rf(n){return 32767&n}function Df(n,e){let t=function sC(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Xy=!0;function Og(n){const e=Xy;return Xy=n,e}let aC=0;const cc={};function Vp(n,e){const t=zp(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Ky(r.data,n),Ky(e,null),Ky(r.blueprint,null));const i=Gc(n,e),o=n.injectorIndex;if(Jw(i)){const s=Rf(i),a=Df(i,e),u=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Ky(n,e){n.push(0,0,0,0,0,0,0,0,e)}function zp(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Gc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=CR(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Ah(n,e,t){!function lC(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Kl)&&(r=t[Kl]),null==r&&(r=t[Kl]=aC++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function T(n,e,t){if(t&cr.Optional)return n;$l()}function F(n,e,t,r){if(t&cr.Optional&&void 0===r&&(r=null),0==(t&(cr.Self|cr.Host))){const i=n[9],o=Bs(void 0);try{return i?i.get(e,r,t&cr.Optional):Jo(e,r,t&cr.Optional)}finally{Bs(o)}}return T(r,0,t)}function q(n,e,t,r=cr.Default,i){if(null!==n){if(1024&e[2]){const s=function qN(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=ue(o,s,t,r|cr.Self,cc);if(a!==cc)return a;let u=o.parent;if(!u){const c=s[21];if(c){const h=c.get(t,cc,r);if(h!==cc)return h}u=CR(s),s=s[15]}o=u}return i}(n,e,t,r,cc);if(s!==cc)return s}const o=ue(n,e,t,r,cc);if(o!==cc)return o}return F(e,t,r,i)}function ue(n,e,t,r,i){const o=function Yr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Kl)?n[Kl]:void 0;return"number"==typeof e?e>=0?255&e:$c:e}(t);if("function"==typeof o){if(!Np(e,n,r))return r&cr.Host?T(i,0,r):F(e,t,r,i);try{const s=o(r);if(null!=s||r&cr.Optional)return s;$l()}finally{Wi()}}else if("number"==typeof o){let s=null,a=zp(n,e),u=-1,c=r&cr.Host?e[16][6]:null;for((-1===a||r&cr.SkipSelf)&&(u=-1===a?Gc(n,e):e[a+8],-1!==u&&zo(r,!1)?(s=e[1],a=Rf(u),e=Df(u,e)):a=-1);-1!==a;){const h=e[1];if(Pi(o,a,h.data)){const p=ve(a,e,t,s,r,c);if(p!==cc)return p}u=e[a+8],-1!==u&&zo(r,e[1].data[a+8]===c)&&Pi(o,a,e)?(s=h,a=Rf(u),e=Df(u,e)):a=-1}}return i}function ve(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],h=ft(a,s,t,null==r?_f(a)&&Xy:r!=s&&0!=(3&a.type),i&cr.Host&&o===a);return null!==h?Qt(e,s,h,a):cc}function ft(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,h=o>>20,g=i?a+h:n.directiveEnd;for(let y=r?a:a+h;y<g;y++){const w=s[y];if(y<u&&t===w||y>=u&&w.type===t)return y}if(i){const y=s[u];if(y&&Il(y)&&y.type===t)return u}return null}function Qt(n,e,t,r){let i=n[t];const o=e.data;if(function nC(n){return n instanceof Bl}(i)){const s=i;s.resolving&&function bd(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new on(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ni(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():qr(n)}(o[t]));const a=Og(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Bs(s.injectImpl):null;Np(n,r,cr.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Dg(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Xr(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==u&&Bs(u),Og(a),s.resolving=!1,Wi()}}return i}function Pi(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function zo(n,e){return!(n&cr.Self||n&cr.Host&&e)}class Ys{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return q(this._tNode,this._lView,e,r,t)}}function $c(){return new Ys(qs(),pn())}function Ii(n){return Xa(()=>{const e=n.prototype.constructor,t=e[nc]||uC(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[nc]||uC(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function uC(n){return kc(n)?()=>{const e=uC(Ur(n));return e&&e()}:Td(n)}function CR(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Oh(n){return function co(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Kw(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(qs(),n)}const Lg="__parameters__";function Ig(n,e,t){return Xa(()=>{const r=function cC(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,h){const p=u.hasOwnProperty(Lg)?u[Lg]:Object.defineProperty(u,Lg,{value:[]})[Lg];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class An{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=fn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cu(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Cu(r,e)):e!==n&&e.push(r)}return e}function kh(n,e){n.forEach(t=>Array.isArray(t)?kh(t,e):e(t))}function TR(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Qw(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Jy(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Eu(n,e,t){let r=Ng(n,e);return r>=0?n[1|r]=t:(r=~r,function t2(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function hC(n,e){const t=Ng(n,e);if(t>=0)return n[1|t]}function Ng(n,e){return function AR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Qy={},pC="__NG_DI_FLAG__",t0="ngTempTokenPath",c2=/\n/gm,OR="__source";let e_;function Fg(n){const e=e_;return e_=n,e}function h2(n,e=cr.Default){if(void 0===e_)throw new on(-203,!1);return null===e_?Jo(n,void 0,e):e_.get(n,e&cr.Optional?null:void 0,e)}function gt(n,e=cr.Default){return(function Tp(){return Sd}()||h2)(Ur(n),e)}function gs(n,e=cr.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),gt(n,e)}function mC(n){const e=[];for(let t=0;t<n.length;t++){const r=Ur(n[t]);if(Array.isArray(r)){if(0===r.length)throw new on(900,!1);let i,o=cr.Default;for(let s=0;s<r.length;s++){const a=r[s],u=f2(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(gt(i,o))}else e.push(gt(r))}return e}function t_(n,e){return n[pC]=e,n.prototype[pC]=e,n}function f2(n){return n[pC]}const Af=t_(Ig("Optional"),8),Hg=t_(Ig("SkipSelf"),4);let vC,Vg;function zg(n){var e;return(null===(e=function s0(){if(void 0===Vg&&(Vg=null,Oo.trustedTypes))try{Vg=Oo.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Vg}())||void 0===e?void 0:e.createHTML(n))||n}class Oa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Tu extends Oa{getTypeName(){return"HTML"}}class VR extends Oa{getTypeName(){return"Style"}}class T2 extends Oa{getTypeName(){return"Script"}}class R2 extends Oa{getTypeName(){return"URL"}}class D2 extends Oa{getTypeName(){return"ResourceURL"}}function Ru(n){return n instanceof Oa?n.changingThisBreaksApplicationSecurity:n}function kd(n,e){const t=function A2(n){return n instanceof Oa&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class N2{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(zg(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class F2{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=zg(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=zg(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const s=t.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const B2=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,V2=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function o_(n){return(n=String(n)).match(B2)||n.match(V2)?n:"unsafe:"+n}function Ld(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function s_(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const jR=Ld("area,br,col,hr,img,wbr"),WR=Ld("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),YR=Ld("rp,rt"),bC=s_(jR,s_(WR,Ld("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),s_(YR,Ld("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),s_(YR,WR)),wC=Ld("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),MC=Ld("srcset"),SC=s_(wC,MC,Ld("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ld("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xC=Ld("script,style,template");class GR{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!bC.hasOwnProperty(t))return this.sanitizedSomething=!0,!xC.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!SC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;wC[a]&&(u=o_(u)),MC[a]&&(n=u,u=(n=String(n)).split(",").map(e=>o_(e.trim())).join(", ")),this.buf.push(" ",s,'="',CC(u),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();bC.hasOwnProperty(t)&&!jR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(CC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const U2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Of=/([^\#-~ |!])/g;function CC(n){return n.replace(/&/g,"&amp;").replace(U2,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Of,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let l0;function $R(n,e){let t=null;try{l0=l0||function zR(n){const e=new F2(n);return function H2(){try{return!!(new window.DOMParser).parseFromString(zg(""),"text/html")}catch(n){return!1}}()?new N2(e):e}(n);let r=e?String(e):"";t=l0.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=l0.getInertBodyElement(r)}while(r!==o);return zg((new GR).sanitizeChildren(u0(t)||t))}finally{if(t){const r=u0(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function u0(n){return"content"in n&&function XR(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var mo=(()=>((mo=mo||{})[mo.NONE=0]="NONE",mo[mo.HTML=1]="HTML",mo[mo.STYLE=2]="STYLE",mo[mo.SCRIPT=3]="SCRIPT",mo[mo.URL=4]="URL",mo[mo.RESOURCE_URL=5]="RESOURCE_URL",mo))();const TC=new An("ENVIRONMENT_INITIALIZER"),RC=new An("INJECTOR",-1),QR=new An("INJECTOR_DEF_TYPES");class DC{get(e,t=Qy){if(t===Qy){const r=new Error(`NullInjectorError: No provider for ${Ao(e)}!`);throw r.name="NullInjectorError",r}return t}}function eD(...n){return{\u0275providers:tD(0,n)}}function tD(n,...e){const t=[],r=new Set;let i;return kh(e,o=>{const s=o;AC(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&nD(i,t),t}function nD(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];kh(i,o=>{e.push(o)})}}function AC(n,e,t,r){if(!(n=Ur(n)))return!1;let i=null,o=zi(n);const s=!o&&ji(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=zi(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)AC(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{kh(o.imports,h=>{AC(h,e,t,r)&&(c||(c=[]),c.push(h))})}finally{}void 0!==c&&nD(c,e)}if(!a){const c=Td(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ui},{provide:QR,useValue:i,multi:!0},{provide:TC,useValue:()=>gt(i),multi:!0})}const u=o.providers;null==u||a||kh(u,h=>{e.push(h)})}}return i!==n&&void 0!==n.providers}const $2=eo({provide:String,useValue:eo});function OC(n){return null!==n&&"object"==typeof n&&$2 in n}function jp(n){return"function"==typeof n}const kC=new An("Set Injector scope."),c0={},X2={};let LC;function d0(){return void 0===LC&&(LC=new DC),LC}class kf{}class PC extends kf{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jg(e,s=>this.processProvider(s)),this.records.set(RC,Ug(void 0,this)),i.has("environment")&&this.records.set(kf,Ug(void 0,this));const o=this.records.get(kC);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(QR.multi,Ui,cr.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Fg(this),r=Bs(void 0);try{return e()}finally{Fg(t),Bs(r)}}get(e,t=Qy,r=cr.Default){this.assertNotDestroyed();const i=Fg(this),o=Bs(void 0);try{if(!(r&cr.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Z2(n){return"function"==typeof n||"object"==typeof n&&n instanceof An}(e)&&Pr(e);a=u&&this.injectableDefInScope(u)?Ug(IC(e),c0):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&cr.Self?d0():this.parent).get(e,t=r&cr.Optional&&t===Qy?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[t0]=s[t0]||[]).unshift(Ao(e)),i)throw s;return function p2(n,e,t,r){const i=n[t0];throw e[OR]&&i.unshift(e[OR]),n.message=function m2(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ao(e);if(Array.isArray(e))i=e.map(Ao).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ao(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(c2,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[t0]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Bs(o),Fg(i)}}resolveInjectorInitializers(){const e=Fg(this),t=Bs(void 0);try{const r=this.get(TC.multi,Ui,cr.Self);for(const i of r)i()}finally{Fg(e),Bs(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ao(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new on(205,!1)}processProvider(e){let t=jp(e=Ur(e))?e:Ur(e&&e.provide);const r=function f0(n){return OC(n)?Ug(void 0,n.useValue):Ug(sD(n),c0)}(e);if(jp(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ug(void 0,c0,!0),i.factory=()=>mC(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===c0&&(t.value=X2,t.value=t.factory()),"object"==typeof t.value&&t.value&&function K2(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ur(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function IC(n){const e=Pr(n),t=null!==e?e.factory:Td(n);if(null!==t)return t;if(n instanceof An)throw new on(204,!1);if(n instanceof Function)return function h0(n){const e=n.length;if(e>0)throw Jy(e,"?"),new on(204,!1);const t=function yn(n){const e=n&&(n[_s]||n[ps]);if(e){const t=function er(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new on(204,!1)}function sD(n,e,t){let r;if(jp(n)){const i=Ur(n);return Td(i)||IC(i)}if(OC(n))r=()=>Ur(n.useValue);else if(function iD(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...mC(n.deps||[]));else if(function rD(n){return!(!n||!n.useExisting)}(n))r=()=>gt(Ur(n.useExisting));else{const i=Ur(n&&(n.useClass||n.provide));if(!function aD(n){return!!n.deps}(n))return Td(i)||IC(i);r=()=>new i(...mC(n.deps))}return r}function Ug(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function lD(n){return!!n.\u0275providers}function jg(n,e){for(const t of n)Array.isArray(t)?jg(t,e):lD(t)?jg(t.\u0275providers,e):e(t)}class Wg{}class es{resolveComponentFactory(e){throw function uD(n){const e=Error(`No component factory found for ${Ao(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Lf=(()=>{class n{}return n.NULL=new es,n})();function u_(){return Pd(qs(),pn())}function Pd(n,e){return new _i(ua(n,e))}let _i=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=u_,n})();function nu(n){return n instanceof _i?n.nativeElement:n}class hc{}let fc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Gg(){const n=pn(),t=Ka(qs().index,n);return(Da(t)?t:n)[11]}(),n})(),c_=(()=>{class n{}return n.\u0275prov=fn({token:n,providedIn:"root",factory:()=>null}),n})();class pc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const $g=new pc("14.1.3"),Pf={};function Yp(n){return n.ngOriginalError}class Id{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Yp(e);for(;t&&Yp(t);)t=Yp(t);return t||null}}const w0=new Map;let gD=0;const Lh="__ngContext__";function nl(n,e){Da(e)?(n[Lh]=e[20],function jC(n){w0.set(n[20],n)}(e)):n[Lh]=e}function Gp(n){const e=n[Lh];return"number"==typeof e?function m_(n){return w0.get(n)||null}(e):e||null}function Kg(n){const e=Gp(n);return e?Da(e)?e:e.lView:null}const E0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Oo))();function Ph(n){return n.ownerDocument.defaultView}function Kc(n){return n instanceof Function?n():n}var ru=(()=>((ru=ru||{})[ru.Important=1]="Important",ru[ru.DashCase=2]="DashCase",ru))();function XC(n,e){return undefined(n,e)}function g_(n){const e=n[3];return gl(e)?e[3]:e}function KC(n){return O0(n[13])}function ZC(n){return O0(n[4])}function O0(n){for(;null!==n&&!gl(n);)n=n[4];return n}function Zc(n,e,t,r,i){if(null!=r){let o,s=!1;gl(r)?o=r:Da(r)&&(s=!0,r=r[0]);const a=ns(r);0===n&&null!==t?null==i?CD(e,t,a):Xp(e,t,a,i||null,!0):1===n&&null!==t?Xp(e,t,a,i||null,!0):2===n?function _l(n,e,t){const r=Fd(n,e);r&&function F0(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function V0(n,e,t,r,i){const o=t[7];o!==ns(t)&&Zc(e,n,r,o,i);for(let a=10;a<t.length;a++){const u=t[a];Hd(u[1],u,n,e,r,o)}}(e,n,o,t,i)}}function L0(n,e,t){return n.createElement(e,t)}function JC(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Kr(i,-1)),t.splice(r,1)}function $p(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&JC(i,r),e>0&&(n[t-1][4]=r[4]);const o=Qw(n,10+e);!function P0(n,e){Hd(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function N0(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Hd(n,e,t,3,null,null),function v_(n){let e=n[13];if(!e)return QC(n[1],n);for(;e;){let t=null;if(Da(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Da(e)&&QC(e[1],e),e=e[3];null===e&&(e=n),Da(e)&&QC(e[1],e),t=e&&e[4]}e=t}}(e)}}function QC(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function xD(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Bl)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function Fh(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):ns(e[s]),u=r[i=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&gl(e[3])){t!==e[3]&&JC(t,e);const r=e[19];null!==r&&r.detachView(n)}!function Xc(n){w0.delete(n[20])}(e)}}function eE(n,e,t){return function Nd(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===_u.None||i===_u.Emulated)return null}return ua(r,t)}(n,e.parent,t)}function Xp(n,e,t,r,i){n.insertBefore(e,t,r,i)}function CD(n,e,t){n.appendChild(e,t)}function y_(n,e,t,r,i){null!==r?Xp(n,e,t,r,i):CD(n,e,t)}function Fd(n,e){return n.parentNode(e)}function Jg(n,e,t){return Qg(n,e,t)}let Qg=function ED(n,e,t){return 40&n.type?ua(n,t):null};function Kp(n,e,t,r){const i=eE(n,r,e),o=e[11],a=Jg(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)y_(o,i,t[u],a,!1);else y_(o,i,t,a,!1)}function Zp(n,e){if(null!==e){const t=e.type;if(3&t)return ua(e,n);if(4&t)return w_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Zp(n,r);{const i=n[e.index];return gl(i)?w_(-1,i):ns(i)}}if(32&t)return XC(e,n)()||ns(n[e.index]);{const r=b_(n,e);return null!==r?Array.isArray(r)?r[0]:Zp(g_(n[16]),r):Zp(n,e.next)}}return null}function b_(n,e){return null!==e?n[16][6].projection[e.projection]:null}function w_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Zp(r,i)}return e[7]}function M_(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&nl(ns(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)M_(n,e,t.child,r,i,o,!1),Zc(e,n,i,a,o);else if(32&u){const c=XC(t,r);let h;for(;h=c();)Zc(e,n,i,h,o);Zc(e,n,i,a,o)}else 16&u?Hh(n,e,r,t,i,o):Zc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Hd(n,e,t,r,i,o){M_(t,r,n.firstChild,e,i,o,!1)}function Hh(n,e,t,r,i,o){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Zc(e,n,i,u[c],o);else M_(n,e,u,s[3],i,o,!0)}function z0(n,e,t){n.setAttribute(e,"style",t)}function S_(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function U0(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const RD="ng-template";function vs(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==U0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function iu(n){return 4===n.type&&n.value!==RD}function j0(n,e,t){return e===(4!==n.type||t?n.value:RD)}function x_(n,e,t){let r=4;const i=n.attrs||[],o=function C_(n){for(let e=0;e<n.length;e++)if(Kw(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!j0(n,u,t)||""===u&&1===e.length){if(ou(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!vs(n.attrs,c,t)){if(ou(r))return!1;s=!0}continue}const p=qc(8&r?"class":u,i,iu(n),t);if(-1===p){if(ou(r))return!1;s=!0;continue}if(""!==c){let g;g=p>o?"":i[p+1].toLowerCase();const y=8&r?g:null;if(y&&-1!==U0(y,c,0)||2&r&&c!==g){if(ou(r))return!1;s=!0}}}}else{if(!s&&!ou(r)&&!ou(u))return!1;if(s&&ou(u))continue;s=!1,r=u|1&r}}return ou(r)||s}function ou(n){return 0==(1&n)}function qc(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function W0(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function If(n,e,t=!1){for(let r=0;r<e.length;r++)if(x_(n,e[r],t))return!0;return!1}function tv(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Nf(n,e){return n?":not("+e.trim()+")":e}function E_(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ou(s)&&(e+=Nf(o,i),i=""),r=s,o=o||!ou(r);t++}return""!==i&&(e+=Nf(o,i)),e}const Ri={};function Er(n){Y0(oo(),pn(),Qa()+n,!1)}function Y0(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&ac(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Rh(e,o,0,t)}Os(t)}function R_(n,e=null,t=null,r){const i=bl(n,e,t,r);return i.resolveInjectorInitializers(),i}function bl(n,e=null,t=null,r,i=new Set){const o=[t||Ui,eD(n)];return r=r||("object"==typeof n?void 0:Ao(n)),new PC(o,e||d0(),r||null,i)}let Ms=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return R_({name:""},r,t,"");{const o=null!==(i=t.name)&&void 0!==i?i:"";return R_({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=Qy,n.NULL=new DC,n.\u0275prov=fn({token:n,providedIn:"any",factory:()=>gt(RC)}),n.__NG_ELEMENT_ID__=-1,n})();function ke(n,e=cr.Default){const t=pn();return null===t?gt(n,e):q(qs(),t,Ur(n),e)}function iv(){throw new Error("invalid")}function O_(n,e){return n<<17|e<<2}function Ou(n){return n>>17&32767}function L_(n){return 2|n}function zd(n){return(131068&n)>>2}function P_(n,e){return-131069&n|e<<2}function tM(n){return 1|n}function ZD(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];Ef(i),s.contentQueries(2,e[o],o)}}}function sM(n,e,t,r,i,o,s,a,u,c,h){const p=e.blueprint.slice();return p[0]=i,p[2]=76|r,(null!==h||n&&1024&n[2])&&(p[2]|=1024),Op(p),p[3]=p[15]=n,p[8]=t,p[10]=s||n&&n[10],p[11]=a||n&&n[11],p[12]=u||n&&n[12]||null,p[9]=c||n&&n[9]||null,p[6]=o,p[20]=function vD(){return gD++}(),p[21]=h,p[16]=2==e.type?n[16]:p,p}function uv(n,e,t,r,i){let o=n.data[e];if(null===o)o=function gE(n,e,t,r,i){const o=Fl(),s=Ja(),u=n.data[e]=function SF(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(n,e,t,r,i),function jy(){return ii.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Eh(){const n=ii.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return qa(o,!0),o}function cv(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function aM(n,e,t){un(e);try{const r=n.viewQuery;null!==r&&Bf(1,r,t);const i=n.template;null!==i&&rl(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ZD(n,e),n.staticViewQueries&&Bf(2,n.viewQuery,t);const o=n.components;null!==o&&function MF(n,e){for(let t=0;t<e.length;t++)RF(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,As()}}function F_(n,e,t,r){const i=e[2];if(128!=(128&i)){un(e);try{Op(e),function jc(n){return ii.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&rl(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&ac(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Rh(e,c,0,null),Od(e,0)}if(function Js(n){for(let e=KC(n);null!==e;e=ZC(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&Kr(o,1),i[2]|=512}}}(e),function TF(n){for(let e=KC(n);null!==e;e=ZC(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];dr(r)&&F_(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&ZD(n,e),s){const c=n.contentCheckHooks;null!==c&&ac(e,c)}else{const c=n.contentHooks;null!==c&&Rh(e,c,1),Od(e,1)}!function pE(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Os(~i);else{const o=i,s=t[++r],a=t[++r];Eg(s,o),a(2,e[o])}}}finally{Os(-1)}}(n,e);const a=n.components;null!==a&&function mE(n,e){for(let t=0;t<e.length;t++)hM(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Bf(2,u,r),s){const c=n.viewCheckHooks;null!==c&&ac(e,c)}else{const c=n.viewHooks;null!==c&&Rh(e,c,2),Od(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Kr(e[3],-1))}finally{As()}}}function qD(n,e,t,r){const i=e[10],s=xg(e);try{!s&&i.begin&&i.begin(),s&&aM(n,e,r),F_(n,e,t,r)}finally{!s&&i.end&&i.end()}}function rl(n,e,t,r,i){const o=Qa(),s=2&r;try{Os(-1),s&&e.length>22&&Y0(n,e,22,!1),t(r,i)}finally{Os(o)}}function vE(n,e,t){if(oc(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function yE(n,e,t){!Ad()||(function ME(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||Vp(t,e),nl(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=Il(u);c&&CF(e,t,u);const h=Qt(e,n,a,t);nl(h,e),null!==s&&lA(0,a-i,h,u,0,s),c&&(Ka(t.index,e)[8]=h)}}(n,e,t,ua(t,e)),128==(128&t.flags)&&function rA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function Tg(){return ii.lFrame.currentDirectiveIndex}();try{Os(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];xf(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&SE(u,c)}}finally{Os(-1),xf(s)}}(n,e,t))}function lM(n,e,t=ua){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function H_(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=B_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function B_(n,e,t,r,i,o,s,a,u,c){const h=22+r,p=h+i,g=function _E(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ri);return t}(h,p),y="function"==typeof c?c():c;return g[1]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function uM(n,e,t,r){const i=RE(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&DE(n).push(r,i.length-1))}function eA(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function bE(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const h=i[c],p=h.inputs,g=null===o||iu(e)?null:EF(p,o);s.push(g),a=eA(p,c,a),u=eA(h.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=u}function au(n,e,t,r,i,o,s,a){const u=ua(e,t);let h,c=e.inputs;!a&&null!=c&&(h=c[r])?(zh(n,t,h,r,i),_f(e)&&V_(t,e.index)):3&e.type&&(r=function dv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}function V_(n,e){const t=Ka(e,n);16&t[2]||(t[2]|=32)}function wE(n,e,t,r){let i=!1;if(Ad()){const o=function xF(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];If(t,s.selectors,!1)&&(i||(i=[]),Ah(Vp(t,e),n,s.type),Il(s)?(iA(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,aA(t,n.data.length,o.length);for(let h=0;h<o.length;h++){const p=o[h];p.providersResolver&&p.providersResolver(p)}let a=!1,u=!1,c=cv(n,e,o.length,null);for(let h=0;h<o.length;h++){const p=o[h];t.mergedAttrs=lc(t.mergedAttrs,p.hostAttrs),xE(n,t,e,c,p),sA(c,p,s),null!==p.contentQueries&&(t.flags|=8),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=128);const g=p.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),c++}bE(n,t)}s&&function oA(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new on(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=lc(t.mergedAttrs,t.attrs),i}function Vh(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function dM(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function SE(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function iA(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function sA(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Il(e)&&(t[""]=n)}}function aA(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function xE(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Td(i.type)),s=new Bl(o,Il(i),ke);n.blueprint[r]=s,t[r]=s,Vh(n,e,0,r,cv(n,t,i.hostVars,Ri),i)}function CF(n,e,t){const r=ua(e,n),i=H_(t),o=n[10],s=z_(n,sM(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}function Qc(n,e,t,r,i,o){const s=ua(n,e);!function hv(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?qr(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function lA(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const c=s[u++],h=s[u++],p=s[u++];null!==a?r.setInput(t,p,c,h):t[h]=p}}}function EF(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function ks(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function hM(n,e){const t=Ka(e,n);if(dr(t)){const r=t[1];48&t[2]?F_(r,t,r.template,t[8]):t[5]>0&&fM(t)}}function fM(n){for(let r=KC(n);null!==r;r=ZC(r))for(let i=10;i<r.length;i++){const o=r[i];if(dr(o))if(512&o[2]){const s=o[1];F_(s,o,s.template,o[8])}else o[5]>0&&fM(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Ka(t[r],n);dr(i)&&i[5]>0&&fM(i)}}function RF(n,e){const t=Ka(e,n),r=t[1];(function DF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),aM(r,t,t[8])}function z_(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function fv(n){for(;n;){n[2]|=32;const e=g_(n);if(Cd(n)&&!e)return n;n=e}return null}function TE(n){!function uA(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Kg(t);if(null!==r){const i=r[1];qD(i,r,i.template,t)}}}(n[8])}function Bf(n,e,t){Ef(0),e(n,t)}const Ud=(()=>Promise.resolve(null))();function RE(n){return n[7]||(n[7]=[])}function DE(n){return n.cleanup||(n.cleanup=[])}function nm(n,e,t){return(null===n||Il(n))&&(t=function Qo(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function ed(n,e){const t=n[9],r=t?t.get(Id,null):null;r&&r.handleError(e)}function zh(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],u=e[s],c=n.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function pv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=vh(i,a):2==o&&(r=vh(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Vf(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(ns(o)),gl(o))for(let a=10;a<o.length;a++){const u=o[a],c=u[1].firstChild;null!==c&&Vf(u[1],u,c,r)}const s=t.type;if(8&s)Vf(n,e,t.child,r);else if(32&s){const a=XC(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=b_(e,t);if(Array.isArray(a))r.push(...a);else{const u=g_(e[16]);Vf(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class mv{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Vf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(gl(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&($p(e,r),Qw(t,r))}this._attachedToViewContainer=!1}N0(this._lView[1],this._lView)}onDestroy(e){uM(this._lView[1],this._lView,null,e)}markForCheck(){fv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function pM(n,e,t){const r=e[10];r.begin&&r.begin();try{F_(n,e,n.template,t)}catch(i){throw ed(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new on(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rF(n,e){Hd(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new on(902,!1);this._appRef=e}}class mM extends mv{constructor(e){super(e),this._view=e}detectChanges(){TE(this._view)}checkNoChanges(){}get context(){return null}}class gM extends Lf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ji(e);return new vv(t,this.ngModule)}}function vM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class gv{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,Pf,r);return i!==Pf||t===Pf?i:this.parentInjector.get(e,t,r)}}class vv extends Wg{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function T_(n){return n.map(E_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return vM(this.componentDef.inputs)}get outputs(){return vM(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof kf?i:null==i?void 0:i.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new gv(e,o):e,a=s.get(hc,null);if(null===a)throw new on(407,!1);const u=s.get(c_,null),c=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function QD(n,e,t){return n.selectRootElement(e,t===_u.ShadowDom)}(c,r,this.componentDef.encapsulation):L0(a.createRenderer(null,this.componentDef),h,function rm(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),g=this.componentDef.onPush?288:272,y=function OF(n,e){return{components:[],scheduler:n||E0,clean:Ud,playerHandler:e||null,flags:0}}(),w=B_(0,null,null,1,0,null,null,null,null,null),S=sM(null,w,y,g,null,null,a,c,u,s,null);let C,P;un(S);try{const B=function dA(n,e,t,r,i,o){const s=t[1];t[22]=n;const u=uv(s,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(pv(u,c,!0),null!==n&&(Ag(i,n,c),null!==u.classes&&S_(i,n,u.classes),null!==u.styles&&z0(i,n,u.styles)));const h=r.createRenderer(n,e),p=sM(t,H_(e),null,e.onPush?32:16,t[22],u,r,h,o||null,null,null);return s.firstCreatePass&&(Ah(Vp(u,t),s,e.type),iA(s,u),aA(u,t.length,1)),z_(t,p),t[22]=p}(p,this.componentDef,S,a,c);if(p)if(r)Ag(c,p,["ng-version",$g.full]);else{const{attrs:z,classes:j}=function oF(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!ou(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);z&&Ag(c,p,z),j&&j.length>0&&S_(c,p,j.join(" "))}if(P=xh(w,22),void 0!==t){const z=P.projection=[];for(let j=0;j<this.ngContentSelectors.length;j++){const X=t[j];z.push(null!=X?Array.from(X):null)}}C=function yM(n,e,t,r,i){const o=t[1],s=function nA(n,e,t){const r=qs();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),xE(n,r,e,cv(n,e,1,null),t),bE(n,r));const i=Qt(e,n,r.directiveStart,r);nl(i,e);const o=ua(r,e);return o&&nl(o,e),i}(o,t,e);if(r.components.push(s),n[8]=s,null!==i)for(const u of i)u(s,e);if(e.contentQueries){const u=qs();e.contentQueries(1,s,u.directiveStart)}const a=qs();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Os(a.index),Vh(t[1],a,0,a.directiveStart,a.directiveEnd,e),SE(e,s)),s}(B,this.componentDef,S,y,[hA]),aM(w,S,null)}finally{As()}return new AF(this.componentType,C,Pd(P,S),S,P)}}class AF extends class Wp{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new mM(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;zh(o[1],o,i,e,t),V_(o,this._tNode.index)}}get injector(){return new Ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function hA(){const n=qs();Yc(pn()[1],n)}function mr(n){let e=function _M(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Il(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new on(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=AE(n.inputs),s.declaredInputs=AE(n.declaredInputs),s.outputs=AE(n.outputs);const a=i.hostBindings;a&&NF(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&PF(n,u),c&&IF(n,c),Gl(n.inputs,i.inputs),Gl(n.declaredInputs,i.declaredInputs),Gl(n.outputs,i.outputs),Il(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===mr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function LF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=lc(i.hostAttrs,t=lc(t,i.hostAttrs))}}(r)}function AE(n){return n===vf?{}:n===Ui?[]:n}function PF(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function IF(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function NF(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let bM=null;function im(){if(!bM){const n=Oo.Symbol;if(n&&n.iterator)bM=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(bM=r)}}}return bM}function U_(n){return!!OE(n)&&(Array.isArray(n)||!(n instanceof Map)&&im()in n)}function OE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function wl(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ko(n,e,t,r){const i=pn();return wl(i,vl(),e)&&(oo(),Qc(Vo(),i,n,e,t,r)),Ko}function k(n,e,t,r,i,o,s,a){const u=pn(),c=oo(),h=n+22,p=c.firstCreatePass?function L(n,e,t,r,i,o,s,a,u){const c=e.consts,h=uv(e,n,4,s||null,po(c,a));wE(e,t,h,po(c,u)),Yc(e,h);const p=h.tViews=B_(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,c,u,e,t,r,i,o,s):c.data[h];qa(p,!1);const g=u[11].createComment("");Kp(c,u,g,p),nl(g,u),z_(u,u[h]=ks(g,u,g,p)),Mh(p)&&yE(c,u,p),null!=s&&lM(u,p,a)}function H(n){return function Dd(n,e){return n[e]}(function Br(){return ii.lFrame.contextLView}(),22+n)}function V(n,e,t){const r=pn();return wl(r,vl(),e)&&au(oo(),Vo(),r,n,e,r[11],t,!1),V}function Y(n,e,t,r,i){const s=i?"class":"style";zh(n,t,e.inputs[s],s,r)}function te(n,e,t,r){const i=pn(),o=oo(),s=22+n,a=i[11],u=i[s]=L0(a,e,function Th(){return ii.lFrame.currentNamespace}()),c=o.firstCreatePass?function J(n,e,t,r,i,o,s){const a=e.consts,c=uv(e,n,2,i,po(a,o));return wE(e,t,c,po(a,s)),null!==c.attrs&&pv(c,c.attrs,!1),null!==c.mergedAttrs&&pv(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];qa(c,!0);const h=c.mergedAttrs;null!==h&&Ag(a,u,h);const p=c.classes;null!==p&&S_(a,u,p);const g=c.styles;return null!==g&&z0(a,u,g),64!=(64&c.flags)&&Kp(o,i,u,c),0===function kp(){return ii.lFrame.elementDepthCount}()&&nl(u,i),function Ch(){ii.lFrame.elementDepthCount++}(),Mh(c)&&(yE(o,i,c),vE(o,c,i)),null!==r&&lM(i,c),te}function se(){let n=qs();Ja()?zc():(n=n.parent,qa(n,!1));const e=n;!function Lp(){ii.lFrame.elementDepthCount--}();const t=oo();return t.firstCreatePass&&(Yc(t,n),oc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function iC(n){return 0!=(16&n.flags)}(e)&&Y(t,e,pn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function oC(n){return 0!=(32&n.flags)}(e)&&Y(t,e,pn(),e.stylesWithoutHost,!1),se}function oe(n,e,t,r){return te(n,e,t,r),se(),oe}function De(n,e,t){const r=pn(),i=oo(),o=n+22,s=i.firstCreatePass?function K(n,e,t,r,i){const o=e.consts,s=po(o,r),a=uv(e,n,8,"ng-container",s);return null!==s&&pv(a,s,!0),wE(e,t,a,po(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];qa(s,!0);const a=r[o]=r[11].createComment("");return Kp(i,r,a,s),nl(a,r),Mh(s)&&(yE(i,r,s),vE(i,s,r)),null!=t&&lM(r,s),De}function Ce(){let n=qs();const e=oo();return Ja()?zc():(n=n.parent,qa(n,!1)),e.firstCreatePass&&(Yc(e,n),oc(n)&&e.queries.elementEnd(n)),Ce}function Se(){return pn()}function nt(n){return!!n&&"function"==typeof n.then}const Mt=function Dt(n){return!!n&&"function"==typeof n.subscribe};function at(n,e,t,r){const i=pn(),o=oo(),s=qs();return Ut(o,i,i[11],s,n,e,0,r),at}function jt(n,e){const t=qs(),r=pn(),i=oo();return Ut(i,r,nm(Hl(i.data),t,r),t,n,e),jt}function Ut(n,e,t,r,i,o,s,a){const u=Mh(r),h=n.firstCreatePass&&DE(n),p=e[8],g=RE(e);let y=!0;if(3&r.type||a){const C=ua(r,e),P=a?a(C):C,B=g.length,z=a?X=>a(ns(X[r.index])):r.index;let j=null;if(!a&&u&&(j=function en(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,y=!1;else{o=Wt(r,e,p,o,!1);const X=t.listen(P,i,o);g.push(o,X),h&&h.push(i,z,B,B+1)}}else o=Wt(r,e,p,o,!1);const w=r.outputs;let S;if(y&&null!==w&&(S=w[i])){const C=S.length;if(C)for(let P=0;P<C;P+=2){const ie=e[S[P]][S[P+1]].subscribe(o),me=g.length;g.push(o,ie),h&&h.push(i,r.index,me,-(me+1))}}}function Tt(n,e,t,r){try{return!1!==t(r)}catch(i){return ed(n,i),!1}}function Wt(n,e,t,r,i){return function o(s){if(s===Function)return r;fv(2&n.flags?Ka(n.index,e):e);let u=Tt(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Tt(e,0,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Yt(n=1){return function Yy(n){return(ii.lFrame.contextLView=function Gy(n,e){for(;n>0;)e=e[15],n--;return e}(n,ii.lFrame.contextLView))[8]}(n)}function zn(n,e){let t=null;const r=function nE(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?If(n,o,!0):tv(r,o))return i}else t=i}return t}function $n(n){const e=pn()[16][6];if(!e.projection){const r=e.projection=Jy(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?zn(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Kn(n,e=0,t){const r=pn(),i=oo(),o=uv(i,22+n,16,null,t||null);null===o.projection&&(o.projection=e),zc(),64!=(64&o.flags)&&function Bd(n,e,t){Hh(e[11],0,e,t,eE(n,t,e),Jg(t.parent||e[6],t,e))}(i,r,o)}function Zn(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Ou(o):zd(o),u=!1;for(;0!==a&&(!1===u||s);){const h=n[a+1];or(n[a],e)&&(u=!0,n[a+1]=r?tM(h):L_(h)),a=r?Ou(h):zd(h)}u&&(n[t+1]=r?L_(o):tM(o))}function or(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ng(n,e)>=0}function Nr(n,e,t){return gc(n,e,t,!1),Nr}function Fi(n,e){return gc(n,e,null,!0),Fi}function gc(n,e,t,r){const i=pn(),o=oo(),s=function xu(n){const e=ii.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function yA(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Qa()],s=function MM(n,e){return e>=n.expandoStartIndex}(n,t);(function so(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function W_(n,e,t,r){const i=Hl(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Tv(t=nd(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=nd(i,n,e,t,r),null===o){let u=function _A(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==zd(r))return n[Ou(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=nd(null,n,e,u[1],r),u=Tv(u,e.attrs,r),function bA(n,e,t,r){n[Ou(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function wA(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Tv(r,n[o].hostAttrs,t);return Tv(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function Uo(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ou(s),u=zd(s);n[r]=t;let h,c=!1;if(Array.isArray(t)){const p=t;h=p[1],(null===h||Ng(p,h)>0)&&(c=!0)}else h=t;if(i)if(0!==u){const g=Ou(n[a+1]);n[r+1]=O_(g,a),0!==g&&(n[g+1]=P_(n[g+1],r)),n[a+1]=function k_(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=O_(a,0),0!==a&&(n[a+1]=P_(n[a+1],r)),a=r;else n[r+1]=O_(u,0),0===a?a=r:n[u+1]=P_(n[u+1],r),u=r;c&&(n[r+1]=L_(n[r+1])),Zn(n,h,r,!0),Zn(n,h,r,!1),function Fn(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ng(o,e)>=0&&(t[r+1]=tM(t[r+1]))}(e,h,n,r,o),s=O_(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==Ri&&wl(i,s,e)&&function rn(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1];sn(function ov(n){return 1==(1&n)}(c)?Jt(u,e,t,i,zd(c),s):void 0)||(sn(o)||function cE(n){return 2==(2&n)}(c)&&(o=Jt(u,null,t,i,a,s)),function tE(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:ru.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ru.Important),n.setStyle(t,r,i,o))}}(r,s,Bo(Qa(),t),i,o))}(o,o.data[Qa()],i,i[11],n,i[s+1]=function sr(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ao(Ru(n)))),n}(e,t),r,s)}function nd(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Tv(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Tv(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Eu(n,s,!!t||e[++o]))}return void 0===n?null:n}function Jt(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),h=c?u[1]:u,p=null===h;let g=t[i+1];g===Ri&&(g=p?Ui:void 0);let y=p?hC(g,r):h===r?g:void 0;if(c&&!sn(y)&&(y=hC(u,r)),sn(y)&&(a=y,s))return a;const w=n[i+1];i=s?Ou(w):zd(w)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=hC(u,r))}return a}function sn(n){return void 0!==n}function Cn(n,e=""){const t=pn(),r=oo(),i=n+22,o=r.firstCreatePass?uv(r,i,1,e,null):r.data[i],s=t[i]=function qC(n,e){return n.createText(e)}(t[11],e);Kp(r,t,s,o),qa(o,!1)}function jr(n,e,t){const r=pn(),i=function _v(n,e,t,r){return wl(n,vl(),t)?e+qr(t)+r:Ri}(r,n,e,t);return i!==Ri&&function Uh(n,e,t){const r=Bo(e,n);!function ws(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,Qa(),i),jr}function SM(n,e,t){const r=pn();return wl(r,vl(),e)&&au(oo(),Vo(),r,n,e,r[11],t,!0),SM}function WF(n,e,t){const r=pn();if(wl(r,vl(),e)){const o=oo(),s=Vo();au(o,s,r,n,e,nm(Hl(o.data),s,r),t,!0)}return WF}const CM="en-US";let t9=CM;function $F(n,e,t,r,i){if(n=Ur(n),Array.isArray(n))for(let o=0;o<n.length;o++)$F(n[o],e,t,r,i);else{const o=oo(),s=pn();let a=jp(n)?n:Ur(n.provide),u=sD(n);const c=qs(),h=1048575&c.providerIndexes,p=c.directiveStart,g=c.providerIndexes>>20;if(jp(n)||!n.multi){const y=new Bl(u,i,ke),w=KF(a,e,i?h:h+g,p);-1===w?(Ah(Vp(c,s),o,a),XF(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),s.push(y)):(t[w]=y,s[w]=y)}else{const y=KF(a,e,h+g,p),w=KF(a,e,h,h+g),S=y>=0&&t[y],C=w>=0&&t[w];if(i&&!C||!i&&!S){Ah(Vp(c,s),o,a);const P=function xpe(n,e,t,r,i){const o=new Bl(n,t,ke);return o.multi=[],o.index=e,o.componentProviders=0,E9(o,i,r&&!t),o}(i?Spe:Mpe,t.length,i,r,u);!i&&C&&(t[w].providerFactory=P),XF(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(P),s.push(P)}else XF(o,n,y>-1?y:w,E9(t[i?w:y],u,!i&&r));!i&&r&&C&&t[w].componentProviders++}}}function XF(n,e,t,r){const i=jp(e),o=function oD(n){return!!n.useClass}(e);if(i||o){const u=(o?Ur(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const h=c.indexOf(t);-1===h?c.push(t,[r,u]):c[h+1].push(r,u)}else c.push(t,u)}}}function E9(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function KF(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Mpe(n,e,t,r){return ZF(this.multi,[])}function Spe(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Qt(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),ZF(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],ZF(i,o);return o}function ZF(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Oi(n,e=[]){return t=>{t.providersResolver=(r,i)=>function wpe(n,e,t){const r=oo();if(r.firstCreatePass){const i=Il(n);$F(t,r.data,r.blueprint,i,!0),$F(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class X_{}class T9{}class R9 extends X_{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gM(this);const r=Dr(e);this._bootstrapComponents=Kc(r.bootstrap),this._r3Injector=bl(e,t,[{provide:X_,useValue:this},{provide:Lf,useValue:this.componentFactoryResolver}],Ao(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qF extends T9{constructor(e){super(),this.moduleType=e}create(e){return new R9(this.moduleType,e)}}class Epe extends X_{constructor(e,t,r){super(),this.componentFactoryResolver=new gM(this),this.instance=null;const i=new PC([...e,{provide:X_,useValue:this},{provide:Lf,useValue:this.componentFactoryResolver}],t||d0(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function TA(n,e,t=null){return new Epe(n,e,t).injector}function I9(n,e,t,r){return function N9(n,e,t,r,i,o){const s=e+t;return wl(n,s,i)?function jd(n,e,t){return n[e]=t}(n,s+1,o?r.call(o,i):r(i)):function FE(n,e){const t=n[e];return t===Ri?void 0:t}(n,s+1)}(pn(),function ga(){const n=ii.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function QF(n){return e=>{setTimeout(n,void 0,e)}}const go=class Qpe extends Ht{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,o,s;let a=e,u=t||(()=>null),c=r;if(e&&"object"==typeof e){const p=e;a=null===(i=p.next)||void 0===i?void 0:i.bind(p),u=null===(o=p.error)||void 0===o?void 0:o.bind(p),c=null===(s=p.complete)||void 0===s?void 0:s.bind(p)}this.__isAsync&&(u=QF(u),a&&(a=QF(a)),c&&(c=QF(c)));const h=super.subscribe({next:a,error:u,complete:c});return e instanceof N&&e.add(h),h}};function eme(){return this._results[im()]()}class TM{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=im(),r=TM.prototype;r[t]||(r[t]=eme)}get changes(){return this._changes||(this._changes=new go)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Cu(e);(this._changesDetected=!function QN(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let il=(()=>{class n{}return n.__NG_ELEMENT_ID__=rme,n})();const tme=il,nme=class extends tme{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=sM(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),aM(r,i,e),new mv(i)}};function rme(){return RA(qs(),pn())}function RA(n,e){return 4&n.type?new nme(e,n,Pd(n,e)):null}let Ml=(()=>{class n{}return n.__NG_ELEMENT_ID__=ime,n})();function ime(){return j9(qs(),pn())}const ome=Ml,z9=class extends ome{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Pd(this._hostTNode,this._hostLView)}get injector(){return new Ys(this._hostTNode,this._hostLView)}get parentInjector(){const e=Gc(this._hostTNode,this._hostLView);if(Jw(e)){const t=Df(e,this._hostLView),r=Rf(e);return new Ys(t[1].data[r+8],t)}return new Ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=U9(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function qy(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const u=s?e:new vv(ji(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const g=(s?c:this.parentInjector).get(kf,null);g&&(o=g)}const h=u.create(c,i,void 0,o);return this.insert(h.hostView,a),h}insert(e,t){const r=e._lView,i=r[1];if(function Vc(n){return gl(n[3])}(r)){const h=this.indexOf(e);if(-1!==h)this.detach(h);else{const p=r[3],g=new z9(p,p[6],p[3]);g.detach(g.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function iF(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],TR(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function SD(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=w_(o,s),u=r[11],c=Fd(u,s[7]);return null!==c&&function I0(n,e,t,r,i,o){r[0]=i,r[6]=e,Hd(n,r,t,1,i,o)}(i,s[6],u,r,c,a),e.attachToViewContainerRef(),TR(eH(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=U9(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=$p(this._lContainer,t);r&&(Qw(eH(this._lContainer),t),N0(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=$p(this._lContainer,t);return r&&null!=Qw(eH(this._lContainer),t)?new mv(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function U9(n){return n[8]}function eH(n){return n[8]||(n[8]=[])}function j9(n,e){let t;const r=e[n.index];if(gl(r))t=r;else{let i;if(8&n.type)i=ns(r);else{const o=e[11];i=o.createComment("");const s=ua(n,e);Xp(o,Fd(o,s),i,function B0(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=ks(r,e,i,n),z_(e,t)}return new z9(t,n,e)}class tH{constructor(e){this.queryList=e,this.matches=null}clone(){return new tH(this.queryList)}setDirty(){this.queryList.setDirty()}}class nH{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new nH(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==X9(e,t).matches&&this.queries[t].setDirty()}}class W9{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class rH{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new rH(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class iH{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new iH(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,lme(t,o)),this.matchTNodeWithReadOption(e,t,ft(t,e,o,!1,!1))}else r===il?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ft(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===_i||i===Ml||i===il&&4&t.type)this.addMatch(t.index,-2);else{const o=ft(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function lme(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function cme(n,e,t,r){return-1===t?function ume(n,e){return 11&n.type?Pd(n,e):4&n.type?RA(n,e):null}(e,n):-2===t?function dme(n,e,t){return t===_i?Pd(e,n):t===il?RA(e,n):t===Ml?j9(e,n):void 0}(n,e,r):Qt(n,n[1],t,e)}function Y9(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:cme(e,o[c],s[u+1],t.metadata.read))}i.matches=a}return i.matches}function oH(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=Y9(n,e,i,t);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],h=e[-u];for(let p=10;p<h.length;p++){const g=h[p];g[17]===g[3]&&oH(g[1],g,c,r)}if(null!==h[9]){const p=h[9];for(let g=0;g<p.length;g++){const y=p[g];oH(y[1],y,c,r)}}}}}return r}function So(n){const e=pn(),t=oo(),r=Cf();Ef(r+1);const i=X9(t,r);if(n.dirty&&xg(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?oH(t,e,r,[]):Y9(t,e,i,r);n.reset(o,nu),n.notifyOnChanges()}return!0}return!1}function Sl(n,e,t){const r=oo();r.firstCreatePass&&($9(r,new W9(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),G9(r,pn(),e)}function ol(n,e,t,r){const i=oo();if(i.firstCreatePass){const o=qs();$9(i,new W9(e,t,r),o.index),function fme(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}G9(i,pn(),t)}function xo(){return function hme(n,e){return n[19].queries[e].queryList}(pn(),Cf())}function G9(n,e,t){const r=new TM(4==(4&t));uM(n,e,r,r.destroy),null===e[19]&&(e[19]=new nH),e[19].queries.push(new tH(r))}function $9(n,e,t){null===n.queries&&(n.queries=new rH),n.queries.track(new iH(e,t))}function X9(n,e){return n.queries.getByIndex(e)}function AA(...n){}const OA=new An("Application Initializer");let kA=(()=>{class n{constructor(t){this.appInits=t,this.resolve=AA,this.reject=AA,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(nt(o))t.push(o);else if(Mt(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(gt(OA,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VE=new An("AppId",{providedIn:"root",factory:function f7(){return`${cH()}${cH()}${cH()}`}});function cH(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const p7=new An("Platform Initializer"),LA=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),m7=new An("appBootstrapListener"),zf=new An("AnimationModuleType");let Pme=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Uf=new An("LocaleId",{providedIn:"root",factory:()=>gs(Uf,cr.Optional|cr.SkipSelf)||function Ime(){return"undefined"!=typeof $localize&&$localize.locale||CM}()});class Fme{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let dH=(()=>{class n{compileModuleSync(t){return new qF(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Kc(Dr(t).declarations).reduce((s,a)=>{const u=ji(a);return u&&s.push(new vv(u)),s},[]);return new Fme(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vme=(()=>Promise.resolve(0))();function hH(n){"undefined"==typeof Zone?Vme.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class wi{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new go(!1),this.onMicrotaskEmpty=new go(!1),this.onStable=new go(!1),this.onError=new go(!1),"undefined"==typeof Zone)throw new on(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function zme(){let n=Oo.requestAnimationFrame,e=Oo.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Wme(n){const e=()=>{!function jme(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Oo,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,pH(n),n.isCheckStableRunning=!0,fH(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),pH(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return y7(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),_7(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return y7(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),_7(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,pH(n),fH(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wi.isInAngularZone())throw new on(909,!1)}static assertNotInAngularZone(){if(wi.isInAngularZone())throw new on(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Ume,AA,AA);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Ume={};function fH(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pH(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function y7(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _7(n){n._nesting--,fH(n)}class Yme{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new go,this.onMicrotaskEmpty=new go,this.onStable=new go,this.onError=new go}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const b7=new An(""),PA=new An("");let zE,mH=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zE||(function Gme(n){zE=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wi.assertNotInAngularZone(),hH(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hH(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(gt(wi),gt(gH),gt(PA))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),gH=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){var i;return null!==(i=null==zE?void 0:zE.findTestabilityInTree(this,t,r))&&void 0!==i?i:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),jf=null;const w7=new An("AllowMultipleToken"),vH=new An("PlatformDestroyListeners");class M7{constructor(e,t){this.name=e,this.token=t}}function x7(n,e,t=[]){const r=`Platform: ${e}`,i=new An(r);return(o=[])=>{let s=yH();if(!s||s.injector.get(w7,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function Kme(n){if(jf&&!jf.get(w7,!1))throw new on(400,!1);jf=n;const e=n.get(E7);(function S7(n){const e=n.get(p7,null);e&&e.forEach(t=>t())})(n)}(function C7(n=[],e){return Ms.create({name:e,providers:[{provide:kC,useValue:"platform"},{provide:vH,useValue:new Set([()=>jf=null])},...n]})}(a,r))}return function qme(n){const e=yH();if(!e)throw new on(401,!1);return e}()}}function yH(){var n;return null!==(n=null==jf?void 0:jf.get(E7))&&void 0!==n?n:null}let E7=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Jme(n,e){let t;return t="noop"===n?new Yme:("zone.js"===n?void 0:n)||new wi(e),t}(null==r?void 0:r.ngZone,function T7(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:wi,useValue:i}];return i.run(()=>{const s=Ms.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(Id,null);if(!u)throw new on(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:h=>{u.handleError(h)}});a.onDestroy(()=>{IA(this._modules,a),c.unsubscribe()})}),function R7(n,e,t){try{const r=t();return nt(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(kA);return c.runInitializers(),c.donePromise.then(()=>(function n9(n){Ks(n,"Expected localeId to be defined"),"string"==typeof n&&(t9=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Uf,CM)||CM),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=D7({},r);return function $me(n,e,t){const r=new qF(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(OM);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new on(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new on(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(vH,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(gt(Ms))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function D7(n,e){return Array.isArray(e)?e.reduce(D7,n):Object.assign(Object.assign({},n),e)}let OM=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new ht(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new ht(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{wi.assertNotInAngularZone(),hH(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{wi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=Oc(o,s.pipe(gh()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Wg;if(!this._injector.get(kA).done)throw!i&&function DM(n){const e=ji(n)||ko(n)||ms(n);return null!==e&&e.standalone}(t),new on(405,false);let s;s=i?t:this._injector.get(Lf).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Xme(n){return n.isBoundToModule}(s)?void 0:this._injector.get(X_),c=s.create(Ms.NULL,[],r||s.selector,a),h=c.location.nativeElement,p=c.injector.get(b7,null);return null==p||p.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),IA(this.components,c),null==p||p.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new on(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;IA(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(m7,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>IA(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new on(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(gt(wi),gt(kf),gt(Id))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let O7=!0,Pu=(()=>{class n{}return n.__NG_ELEMENT_ID__=tge,n})();function tge(n){return function nge(n,e,t){if(_f(n)&&!t){const r=Ka(n.index,e);return new mv(r,r)}return 47&n.type?new mv(e[16],e):null}(qs(),pn(),16==(16&n))}class N7{constructor(){}supports(e){return U_(e)}create(e){return new lge(e)}}const age=(n,e)=>e;class lge{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||age}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<H7(r,i,o)?t:r,a=H7(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,h=u-i;if(c!=h){for(let g=0;g<c;g++){const y=g<o.length?o[g]:o[g]=0,w=y+g;h<=w&&w<c&&(o[g]=y+1)}o[s.previousIndex]=h-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!U_(e))throw new on(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function zF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[im()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new uge(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new F7),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new F7),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class uge{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cge{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class F7{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new cge,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H7(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class B7{constructor(){}supports(e){return e instanceof Map||OE(e)}create(){return new dge}}class dge{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||OE(e)))throw new on(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new hge(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class hge{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function V7(){return new am([new N7])}let am=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||V7()),deps:[[n,new Hg,new Af]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new on(901,!1)}}return n.\u0275prov=fn({token:n,providedIn:"root",factory:V7}),n})();function z7(){return new UE([new B7])}let UE=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||z7()),deps:[[n,new Hg,new Af]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new on(901,!1)}}return n.\u0275prov=fn({token:n,providedIn:"root",factory:z7}),n})();const mge=x7(null,"core",[]);let gge=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(gt(OM))},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({}),n})();let HA=null;function Wf(){return HA}const ki=new An("DocumentToken");let SH=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:function(){return function bge(){return gt(U7)}()},providedIn:"platform"}),n})();const wge=new An("Location Initialized");let U7=(()=>{class n extends SH{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wf().getBaseHref(this._doc)}onPopState(t){const r=Wf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Wf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){j7()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){j7()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(gt(ki))},n.\u0275prov=fn({token:n,factory:function(){return function Mge(){return new U7(gt(ki))}()},providedIn:"platform"}),n})();function j7(){return!!window.history.pushState}function xH(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function W7(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function um(n){return n&&"?"!==n[0]?"?"+n:n}let Z_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:function(){return gs(G7)},providedIn:"root"}),n})();const Y7=new An("appBaseHref");let G7=(()=>{class n extends Z_{constructor(t,r){var i,o,s;super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=null!==(s=null!==(i=null!=r?r:this._platformLocation.getBaseHrefFromDOM())&&void 0!==i?i:null===(o=gs(ki).location)||void 0===o?void 0:o.origin)&&void 0!==s?s:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xH(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+um(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+um(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+um(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(gt(SH),gt(Y7,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sge=(()=>{class n extends Z_{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xH(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+um(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+um(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(gt(SH),gt(Y7,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),jE=(()=>{class n{constructor(t){this._subject=new go,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=W7($7(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+um(r))}normalize(t){return n.stripTrailingSlash(function Cge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$7(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+um(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+um(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._locationStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{var r;const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=um,n.joinWithSlash=xH,n.stripTrailingSlash=W7,n.\u0275fac=function(t){return new(t||n)(gt(Z_))},n.\u0275prov=fn({token:n,factory:function(){return function xge(){return new jE(gt(Z_))}()},providedIn:"root"}),n})();function $7(n){return n.replace(/\/index.html$/,"")}function n$(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let r$=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(U_(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ao(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(ke(am),ke(UE),ke(_i),ke(fc))},n.\u0275dir=Ln({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class uve{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let PH=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new uve(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),s$(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{s$(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ke(Ml),ke(il),ke(am))},n.\u0275dir=Ln({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function s$(n,e){n.context.$implicit=e.item}let GE=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new dve,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){a$("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){a$("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ke(Ml),ke(il))},n.\u0275dir=Ln({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class dve{constructor(){this.$implicit=null,this.ngIf=null}}function a$(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ao(e)}'.`)}class IH{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let XA=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),l$=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new IH(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(ke(Ml),ke(il),ke(XA,9))},n.\u0275dir=Ln({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({}),n})();const h$="browser";let Vve=(()=>{class n{}return n.\u0275prov=fn({token:n,providedIn:"root",factory:()=>new zve(gt(ki),window)}),n})();class zve{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Uve(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=f$(this.window.history)||f$(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function f$(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class p${}class HH extends class jve extends class _ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function yge(n){HA||(HA=n)}(new HH)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Wve(){return $E=$E||document.querySelector("base"),$E?$E.getAttribute("href"):null}();return null==t?null:function Yve(n){KA=KA||document.createElement("a"),KA.setAttribute("href",n);const e=KA.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){$E=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return n$(document.cookie,e)}}let KA,$E=null;const m$=new An("TRANSITION_ID"),$ve=[{provide:OA,useFactory:function Gve(n,e,t){return()=>{t.get(kA).donePromise.then(()=>{const r=Wf(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[m$,ki,Ms],multi:!0}];let Kve=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const ZA=new An("EventManagerPlugins");let qA=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(gt(ZA),gt(wi))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();class g${constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Wf().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let v$=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),XE=(()=>{class n extends v${constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(y$),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(y$))}}return n.\u0275fac=function(t){return new(t||n)(gt(ki))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();function y$(n){Wf().remove(n)}const BH={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},VH=/%COMP%/g;function JA(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?JA(n,i,t):(i=i.replace(VH,n),t.push(i))}return t}function w$(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let QA=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zH(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case _u.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new tye(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case _u.ShadowDom:return new nye(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=JA(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(gt(qA),gt(XE),gt(VE))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();class zH{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(BH[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(S$(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(S$(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=BH[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=BH[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ru.DashCase|ru.Important)?e.style.setProperty(t,r,i&ru.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ru.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,w$(r)):this.eventManager.addEventListener(e,t,w$(r))}}function S$(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class tye extends zH{constructor(e,t,r,i){super(e),this.component=r;const o=JA(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function Jve(n){return"_ngcontent-%COMP%".replace(VH,n)}(i+"-"+r.id),this.hostAttr=function Qve(n){return"_nghost-%COMP%".replace(VH,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class nye extends zH{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=JA(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let rye=(()=>{class n extends g${constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(gt(ki))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const x$=["alt","control","meta","shift"],oye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},C$={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},sye={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let aye=(()=>{class n extends g${constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wf().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(x$.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function lye(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&C$.hasOwnProperty(e)&&(e=C$[e]))}return oye[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),x$.forEach(o=>{o!=i&&(0,sye[o])(t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(gt(ki))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const hye=x7(mge,"browser",[{provide:LA,useValue:h$},{provide:p7,useValue:function uye(){HH.makeCurrent()},multi:!0},{provide:ki,useFactory:function dye(){return function x2(n){vC=n}(document),document},deps:[]}]),T$=new An(""),R$=[{provide:PA,useClass:class Xve{addToWindow(e){Oo.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Oo.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oo.getAllAngularRootElements=()=>e.getAllRootElements(),Oo.frameworkStabilizers||(Oo.frameworkStabilizers=[]),Oo.frameworkStabilizers.push(r=>{const i=Oo.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Wf().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},deps:[]},{provide:b7,useClass:mH,deps:[wi,gH,PA]},{provide:mH,useClass:mH,deps:[wi,gH,PA]}],D$=[{provide:kC,useValue:"root"},{provide:Id,useFactory:function cye(){return new Id},deps:[]},{provide:ZA,useClass:rye,multi:!0,deps:[ki,wi,LA]},{provide:ZA,useClass:aye,multi:!0,deps:[ki]},{provide:QA,useClass:QA,deps:[qA,XE,VE]},{provide:hc,useExisting:QA},{provide:v$,useExisting:XE},{provide:XE,useClass:XE,deps:[ki]},{provide:qA,useClass:qA,deps:[ZA,wi]},{provide:p$,useClass:Kve,deps:[]},[]];let A$=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:VE,useValue:t.appId},{provide:m$,useExisting:VE},$ve]}}}return n.\u0275fac=function(t){return new(t||n)(gt(T$,12))},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({providers:[...D$,...R$],imports:[q_,gge]}),n})(),O$=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(gt(ki))},n.\u0275prov=fn({token:n,factory:function(t){let r=null;return r=t?new t:function pye(){return new O$(gt(ki))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let WH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:function(t){let r=null;return r=t?new(t||n):gt(P$),r},providedIn:"root"}),n})(),P$=(()=>{class n extends WH{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case mo.NONE:return r;case mo.HTML:return kd(r,"HTML")?Ru(r):$R(this._doc,String(r)).toString();case mo.STYLE:return kd(r,"Style")?Ru(r):r;case mo.SCRIPT:if(kd(r,"Script"))return Ru(r);throw new Error("unsafe value used in a script context");case mo.URL:return kd(r,"URL")?Ru(r):o_(String(r));case mo.RESOURCE_URL:if(kd(r,"ResourceURL"))return Ru(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function O2(n){return new Tu(n)}(t)}bypassSecurityTrustStyle(t){return function k2(n){return new VR(n)}(t)}bypassSecurityTrustScript(t){return function L2(n){return new T2(n)}(t)}bypassSecurityTrustUrl(t){return function P2(n){return new R2(n)}(t)}bypassSecurityTrustResourceUrl(t){return function I2(n){return new D2(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(gt(ki))},n.\u0275prov=fn({token:n,factory:function(t){let r=null;return r=t?new t:function wye(n){return new P$(n.get(ki))}(gt(Ms)),r},providedIn:"root"}),n})();function Fr(...n){return qo(n,$a(n))}class rd extends Ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const eO=R(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Mye}=Array,{getPrototypeOf:Sye,prototype:xye,keys:Cye}=Object;function I$(n){if(1===n.length){const e=n[0];if(Mye(e))return{args:e,keys:null};if(function Eye(n){return n&&"object"==typeof n&&Sye(n)===xye}(e)){const t=Cye(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Tye}=Array;function YH(n){return Dn(e=>function Rye(n,e){return Tye(e)?n(...e):n(e)}(n,e))}function N$(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function GH(...n){const e=$a(n),t=Ga(n),{args:r,keys:i}=I$(n);if(0===r.length)return qo([],e);const o=new ht(function Dye(n,e,t=It){return r=>{F$(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)F$(e,()=>{const c=qo(n[u],e);let h=!1;c.subscribe(Hn(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>N$(i,s):It));return t?o.pipe(YH(t)):o}function F$(n,e,t){n?dl(t,n,e):e()}function KE(...n){return function Aye(){return Ro(1)}()(qo(n,$a(n)))}function tO(n){return new ht(e=>{fs(n()).subscribe(e)})}function kM(n,e){const t=E(n)?n:()=>n,r=i=>i.error(t());return new ht(e?i=>e.schedule(r,0,i):r)}function $H(){return Yn((n,e)=>{let t=null;n._refCount++;const r=Hn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class XH extends ht{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Wn(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new N;const t=this.getSubject();e.add(this.source.subscribe(Hn(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=N.EMPTY)}return e}refCount(){return $H()(this)}}function Xd(n,e){return Yn((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Hn(r,u=>{null==i||i.unsubscribe();let c=0;const h=o++;fs(n(u,h)).subscribe(i=Hn(r,p=>r.next(e?e(u,p,h,c++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function al(n){return n<=0?()=>wo:Yn((e,t)=>{let r=0;e.subscribe(Hn(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function dm(...n){const e=$a(n);return Yn((t,r)=>{(e?KE(n,t,e):KE(n,t)).subscribe(r)})}function Ia(n,e){return Yn((t,r)=>{let i=0;t.subscribe(Hn(r,o=>n.call(e,o,i++)&&r.next(o)))})}function nO(n){return Yn((e,t)=>{let r=!1;e.subscribe(Hn(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function H$(n=Oye){return Yn((e,t)=>{let r=!1;e.subscribe(Hn(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Oye(){return new eO}function Av(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ia((i,o)=>n(i,o,r)):It,al(1),t?nO(e):H$(()=>new eO))}function Ov(n,e){return E(e)?Yo(n,e,1):Yo(n,1)}function Na(n,e,t){const r=E(n)||e||t?{next:n,error:e,complete:t}:n;return r?Yn((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Hn(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):It}function hm(n){return Yn((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Hn(t,void 0,void 0,s=>{o=fs(n(s,hm(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function kye(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(Hn(s,h=>{const p=c++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function B$(n,e){return Yn(kye(n,e,arguments.length>=2,!0))}function KH(n){return n<=0?()=>wo:Yn((e,t)=>{let r=[];e.subscribe(Hn(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function V$(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ia((i,o)=>n(i,o,r)):It,KH(1),t?nO(e):H$(()=>new eO))}function z$(n){return Dn(()=>n)}function rO(n){return Yn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ao="primary";class Pye{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function LM(n){return new Pye(n)}function Iye(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Yf(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!U$(n[i],e[i]))return!1;return!0}function U$(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function j$(n){return Array.prototype.concat.apply([],n)}function W$(n){return n.length>0?n[n.length-1]:null}function Vl(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fm(n){return Mt(n)?n:nt(n)?qo(Promise.resolve(n)):Fr(n)}const Hye={exact:function $$(n,e,t){if(!Q_(n.segments,e.segments)||!iO(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!$$(n.children[r],e.children[r],t))return!1;return!0},subset:X$},Y$={exact:function Bye(n,e){return Yf(n,e)},subset:function Vye(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>U$(n[t],e[t]))},ignored:()=>!0};function G$(n,e,t){return Hye[t.paths](n.root,e.root,t.matrixParams)&&Y$[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function X$(n,e,t){return K$(n,e,e.segments,t)}function K$(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Q_(i,t)||e.hasChildren()||!iO(i,t,r))}if(n.segments.length===t.length){if(!Q_(n.segments,t)||!iO(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!X$(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Q_(n.segments,i)&&iO(n.segments,i,r)&&n.children[ao])&&K$(n.children[ao],e,o,r)}}function iO(n,e,t){return e.every((r,i)=>Y$[t](n[i].parameters,r.parameters))}class J_{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=LM(this.queryParams)),this._queryParamMap}toString(){return jye.serialize(this)}}class ho{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Vl(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oO(this)}}class ZE{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=LM(this.parameters)),this._parameterMap}toString(){return Q$(this)}}function Q_(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Z$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:function(){return new qH},providedIn:"root"}),n})();class qH{parse(e){const t=new Jye(e);return new J_(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qE(e.root,!0)}`,r=function Gye(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${sO(t)}=${sO(i)}`).join("&"):`${sO(t)}=${sO(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Wye(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jye=new qH;function oO(n){return n.segments.map(e=>Q$(e)).join("/")}function qE(n,e){if(!n.hasChildren())return oO(n);if(e){const t=n.children[ao]?qE(n.children[ao],!1):"",r=[];return Vl(n.children,(i,o)=>{o!==ao&&r.push(`${o}:${qE(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Uye(n,e){let t=[];return Vl(n.children,(r,i)=>{i===ao&&(t=t.concat(e(r,i)))}),Vl(n.children,(r,i)=>{i!==ao&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ao?[qE(n.children[ao],!1)]:[`${i}:${qE(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ao]?`${oO(n)}/${t[0]}`:`${oO(n)}/(${t.join("//")})`}}function q$(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sO(n){return q$(n).replace(/%3B/gi,";")}function JH(n){return q$(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function aO(n){return decodeURIComponent(n)}function J$(n){return aO(n.replace(/\+/g,"%20"))}function Q$(n){return`${JH(n.path)}${function Yye(n){return Object.keys(n).map(e=>`;${JH(e)}=${JH(n[e])}`).join("")}(n.parameters)}`}const $ye=/^[^\/()?;=#]+/;function lO(n){const e=n.match($ye);return e?e[0]:""}const Xye=/^[^=?&#]+/,Zye=/^[^&#]+/;class Jye{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ho([],{}):new ho([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ao]=new ho(e,t)),r}parseSegment(){const e=lO(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new on(4009,!1);return this.capture(e),new ZE(aO(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=lO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=lO(this.remaining);i&&(r=i,this.capture(r))}e[aO(t)]=aO(r)}parseQueryParam(e){const t=function Kye(n){const e=n.match(Xye);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function qye(n){const e=n.match(Zye);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=J$(t),o=J$(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lO(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new on(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ao);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ao]:new ho([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new on(4011,!1)}}function QH(n){return n.segments.length>0?new ho([],{[ao]:n}):n}function uO(n){const e={};for(const r of Object.keys(n.children)){const o=uO(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Qye(n){if(1===n.numberOfChildren&&n.children[ao]){const e=n.children[ao];return new ho(n.segments.concat(e.segments),e.children)}return n}(new ho(n.segments,e))}function eb(n){return n instanceof J_}function n_e(n,e,t,r,i){var o;if(0===t.length)return PM(e.root,e.root,e.root,r,i);const a=function nX(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tX(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Vl(o.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new tX(t,e,r)}(t);return a.toRoot()?PM(e.root,e.root,new ho([],{}),r,i):function u(h){var p;const g=function i_e(n,e,t,r){if(n.isAbsolute)return new IM(e.root,!0,0);if(-1===r)return new IM(t,t===e.root,0);return function rX(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new on(4005,!1);i=r.segments.length}return new IM(r,!1,i-o)}(t,r+(JE(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,null===(p=n.snapshot)||void 0===p?void 0:p._urlSegment,h),y=g.processChildren?eT(g.segmentGroup,g.index,a.commands):t3(g.segmentGroup,g.index,a.commands);return PM(e.root,g.segmentGroup,y,r,i)}(null===(o=n.snapshot)||void 0===o?void 0:o._lastPathIndex)}function JE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function QE(n){return"object"==typeof n&&null!=n&&n.outlets}function PM(n,e,t,r,i){let s,o={};r&&Vl(r,(u,c)=>{o[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=n===e?t:eX(n,e,t);const a=QH(uO(s));return new J_(a,o,i)}function eX(n,e,t){const r={};return Vl(n.children,(i,o)=>{r[o]=i===e?t:eX(i,e,t)}),new ho(n.segments,r)}class tX{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&JE(r[0]))throw new on(4003,!1);const i=r.find(QE);if(i&&i!==W$(r))throw new on(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class IM{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function t3(n,e,t){if(n||(n=new ho([],{})),0===n.segments.length&&n.hasChildren())return eT(n,e,t);const r=function s_e(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(QE(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!oX(u,c,s))return o;r+=2}else{if(!oX(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new ho(n.segments.slice(0,r.pathIndex),{});return o.children[ao]=new ho(n.segments.slice(r.pathIndex),n.children),eT(o,0,i)}return r.match&&0===i.length?new ho(n.segments,{}):r.match&&!n.hasChildren()?n3(n,e,t):r.match?eT(n,0,i):n3(n,e,t)}function eT(n,e,t){if(0===t.length)return new ho(n.segments,{});{const r=function o_e(n){return QE(n[0])?n[0].outlets:{[ao]:n}}(t),i={};return Vl(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=t3(n.children[s],e,o))}),Vl(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new ho(n.segments,i)}}function n3(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(QE(o)){const u=a_e(o.outlets);return new ho(r,u)}if(0===i&&JE(t[0])){r.push(new ZE(n.segments[e].path,iX(t[0]))),i++;continue}const s=QE(o)?o.outlets[ao]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&JE(a)?(r.push(new ZE(s,iX(a))),i+=2):(r.push(new ZE(s,{})),i++)}return new ho(r,{})}function a_e(n){const e={};return Vl(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=n3(new ho([],{}),0,t))}),e}function iX(n){const e={};return Vl(n,(t,r)=>e[r]=`${t}`),e}function oX(n,e,t){return n==t.path&&Yf(e,t.parameters)}class pm{constructor(e,t){this.id=e,this.url=t}}class r3 extends pm{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tb extends pm{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cO extends pm{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sX extends pm{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class l_e extends pm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u_e extends pm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c_e extends pm{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class d_e extends pm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h_e extends pm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f_e{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class p_e{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class m_e{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g_e{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v_e{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y_e{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aX{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lX{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=o3(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=o3(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=s3(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return s3(e,this._root).map(t=>t.value)}}function o3(n,e){if(n===e.value)return e;for(const t of e.children){const r=o3(n,t);if(r)return r}return null}function s3(n,e){if(n===e.value)return[e];for(const t of e.children){const r=s3(n,t);if(r.length)return r.unshift(e),r}return[]}class mm{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function NM(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class uX extends lX{constructor(e,t){super(e),this.snapshot=t,a3(this,e)}toString(){return this.snapshot.toString()}}function cX(n,e){const t=function b_e(n,e){const s=new dO([],{},{},"",{},ao,e,null,n.root,-1,{});return new hX("",new mm(s,[]))}(n,e),r=new rd([new ZE("",{})]),i=new rd({}),o=new rd({}),s=new rd({}),a=new rd(""),u=new FM(r,i,s,a,o,ao,e,t.root);return u.snapshot=t.root,new uX(new mm(u,[]),t)}class FM{constructor(e,t,r,i,o,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Dn(e=>LM(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Dn(e=>LM(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dX(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function w_e(n){return n.reduce((e,t)=>{var r;return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),e.resolve),null===(r=t.routeConfig)||void 0===r?void 0:r.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(r))}class dO{constructor(e,t,r,i,o,s,a,u,c,h,p,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=h,this._correctedLastPathIndex=null!=g?g:h,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=LM(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=LM(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hX extends lX{constructor(e,t){super(t),this.url=e,a3(this,t)}toString(){return fX(this._root)}}function a3(n,e){e.value._routerState=n,e.children.forEach(t=>a3(n,t))}function fX(n){const e=n.children.length>0?` { ${n.children.map(fX).join(", ")} } `:"";return`${n.value}${e}`}function l3(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yf(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yf(e.params,t.params)||n.params.next(t.params),function Nye(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yf(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yf(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function u3(n,e){const t=Yf(n.params,e.params)&&function zye(n,e){return Q_(n,e)&&n.every((t,r)=>Yf(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||u3(n.parent,e.parent))}function tT(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function S_e(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return tT(n,r,i);return tT(n,r)})}(n,e,t);return new mm(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tT(n,a)),s}}const r=function x_e(n){return new FM(new rd(n.url),new rd(n.params),new rd(n.queryParams),new rd(n.fragment),new rd(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>tT(n,o));return new mm(r,i)}}const c3="ngNavigationCancelingError";function pX(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=eb(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mX(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function mX(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[c3]=!0,r.cancellationCode=e,t&&(r.url=t),r}function gX(n){return vX(n)&&eb(n.url)}function vX(n){return n&&n[c3]}class C_e{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nT,this.attachRef=null}}let nT=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new C_e,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hO=!1;let yX=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new go,this.deactivateEvents=new go,this.attachEvents=new go,this.detachEvents=new go,this.name=i||ao,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new on(4012,hO);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new on(4012,hO);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new on(4012,hO);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new on(4013,hO);this._activatedRoute=t;const i=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new E_e(t,a,i.injector);if(r&&function T_e(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:null!=r?r:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(ke(nT),ke(Ml),Oh("name"),ke(Pu),ke(kf))},n.\u0275dir=Ln({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class E_e{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===FM?this.route:e===nT?this.childContexts:this.parent.get(e,t)}}let _X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Si({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&oe(0,"router-outlet")},dependencies:[yX],encapsulation:2}),n})();function bX(n,e){var t;return n.providers&&!n._injector&&(n._injector=TA(n.providers,e,`Route: ${n.path}`)),null!==(t=n._injector)&&void 0!==t?t:e}function h3(n){const e=n.children&&n.children.map(h3),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ao&&(t.component=_X),t}function Kd(n){return n.outlet||ao}function wX(n,e){const t=n.filter(r=>Kd(r)===e);return t.push(...n.filter(r=>Kd(r)!==e)),t}function MX(n){var e;if(!n)return null;if(null!==(e=n.routeConfig)&&void 0!==e&&e._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const r=t.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class k_e{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),l3(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=NM(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Vl(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=NM(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=NM(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=NM(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new y_e(o.value.snapshot))}),e.children.length&&this.forwardEvent(new g_e(e.value.snapshot))}activateRoutes(e,t,r){var i;const o=e.value,s=t?t.value:null;if(l3(o),o===s)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const u=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),l3(u.route.value),this.activateChildRoutes(e,null,a.children)}else{const u=MX(o.snapshot),c=null!==(i=null==u?void 0:u.get(Lf))&&void 0!==i?i:null;a.attachRef=null,a.route=o,a.resolver=c,a.injector=u,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class SX{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fO{constructor(e,t){this.component=e,this.route=t}}function L_e(n,e,t){const r=n._root;return rT(r,e?e._root:null,t,[r.value])}function pO(n,e,t){const r=MX(e);return(null!=r?r:t).get(n)}function rT(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=NM(e);return n.children.forEach(s=>{(function I_e(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function N_e(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Q_(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Q_(n.url,e.url)||!Yf(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!u3(n,e)||!Yf(n.queryParams,e.queryParams);default:return!u3(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new SX(r)):(o.data=s.data,o._resolvedData=s._resolvedData),rT(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fO(a.outlet.component,s))}else s&&iT(e,a,i),i.canActivateChecks.push(new SX(r)),rT(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Vl(o,(s,a)=>iT(s,t.getContext(a),i)),i}function iT(n,e,t){const r=NM(n),i=n.value;Vl(r,(o,s)=>{iT(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new fO(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function oT(n){return"function"==typeof n}function f3(n){return n instanceof eO||"EmptyError"===(null==n?void 0:n.name)}const mO=Symbol("INITIAL_VALUE");function HM(){return Xd(n=>GH(n.map(e=>e.pipe(al(1),dm(mO)))).pipe(Dn(e=>{for(const t of e)if(!0!==t){if(t===mO)return mO;if(!1===t||t instanceof J_)return t}return!0}),Ia(e=>e!==mO),al(1)))}function xX(n){return function Fe(...n){return ge(n)}(Na(e=>{if(eb(e))throw pX(0,e)}),Dn(e=>!0===e))}const p3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CX(n,e,t,r,i){const o=m3(n,e,t);return o.matched?function Q_e(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Fr(i.map(s=>{const a=n.get(s),u=function U_e(n){return n&&oT(n.canMatch)}(a)?a.canMatch(e,t):a(e,t);return fm(u)})).pipe(HM(),xX()):Fr(!0)}(r=bX(e,r),e,t).pipe(Dn(s=>!0===s?o:Object.assign({},p3))):Fr(o)}function m3(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},p3):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Iye)(t,n,e);if(!o)return Object.assign({},p3);const s={};Vl(o.posParams,(u,c)=>{s[c]=u.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function gO(n,e,t,r,i="corrected"){if(t.length>0&&function nbe(n,e,t){return t.some(r=>vO(n,e,r)&&Kd(r)!==ao)}(n,t,r)){const s=new ho(e,function tbe(n,e,t,r){const i={};i[ao]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Kd(o)!==ao){const s=new ho([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[Kd(o)]=s}return i}(n,e,r,new ho(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function rbe(n,e,t){return t.some(r=>vO(n,e,r))}(n,t,r)){const s=new ho(n.segments,function ebe(n,e,t,r,i,o){const s={};for(const a of r)if(vO(n,t,a)&&!i[Kd(a)]){const u=new ho([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[Kd(a)]=u}return Object.assign(Object.assign({},i),s)}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new ho(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function vO(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function EX(n,e,t,r){return!!(Kd(n)===r||r!==ao&&vO(e,t,n))&&("**"===n.path||m3(e,n,t).matched)}function TX(n,e,t){return 0===e.length&&!n.children[t]}const yO=!1;class _O{constructor(e){this.segmentGroup=e||null}}class RX{constructor(e){this.urlTree=e}}function sT(n){return kM(new _O(n))}function DX(n){return kM(new RX(n))}class abe{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=gO(this.urlTree.root,[],[],this.config).segmentGroup,t=new ho(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ao).pipe(Dn(o=>this.createUrlTree(uO(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hm(o=>{if(o instanceof RX)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof _O?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ao).pipe(Dn(i=>this.createUrlTree(uO(i),e.queryParams,e.fragment))).pipe(hm(i=>{throw i instanceof _O?this.noMatchError(i):i}))}noMatchError(e){return new on(4002,yO)}createUrlTree(e,t,r){const i=QH(e);return new J_(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Dn(o=>new ho([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return qo(i).pipe(Ov(o=>{const s=r.children[o],a=wX(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(Dn(u=>({segment:u,outlet:o})))}),B$((o,s)=>(o[s.outlet]=s.segment,o),{}),V$())}expandSegment(e,t,r,i,o,s){return qo(r).pipe(Ov(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(hm(c=>{if(c instanceof _O)return Fr(null);throw c}))),Av(a=>!!a),hm((a,u)=>{if(f3(a))return TX(t,i,o)?Fr(new ho([],{})):sT(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return EX(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):sT(t):sT(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?DX(o):this.lineralizeSegments(r,o).pipe(Yo(s=>{const a=new ho(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:h}=m3(t,i,o);if(!a)return sT(t);const p=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?DX(p):this.lineralizeSegments(i,p).pipe(Yo(g=>this.expandSegment(e,t,r,g.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=bX(r,e),r.loadChildren?(r._loadedRoutes?Fr({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Dn(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ho(i,{})))):Fr(new ho(i,{}))):CX(t,r,i,e).pipe(Xd(({matched:s,consumedSegments:a,remainingSegments:u})=>{var c;return s?(e=null!==(c=r._injector)&&void 0!==c?c:e,this.getChildConfig(e,r,i).pipe(Yo(p=>{var g;const y=null!==(g=p.injector)&&void 0!==g?g:e,w=p.routes,{segmentGroup:S,slicedSegments:C}=gO(t,a,u,w),P=new ho(S.segments,S.children);if(0===C.length&&P.hasChildren())return this.expandChildren(y,w,P).pipe(Dn(X=>new ho(a,X)));if(0===w.length&&0===C.length)return Fr(new ho(a,{}));const B=Kd(r)===o;return this.expandSegment(y,P,w,C,B?ao:o,!0).pipe(Dn(j=>new ho(a.concat(j.segments),j.children)))}))):sT(t)}))}getChildConfig(e,t,r){return t.children?Fr({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Fr({routes:t._loadedRoutes,injector:t._loadedInjector}):function J_e(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Fr(!0):Fr(i.map(s=>{const a=n.get(s),u=function H_e(n){return n&&oT(n.canLoad)}(a)?a.canLoad(e,t):a(e,t);return fm(u)})).pipe(HM(),xX())}(e,t,r).pipe(Yo(i=>i?this.configLoader.loadChildren(e,t).pipe(Na(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function obe(n){return kM(mX(yO,3))}())):Fr({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Fr(r);if(i.numberOfChildren>1||!i.children[ao])return kM(new on(4e3,yO));i=i.children[ao]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new J_(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Vl(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Vl(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,i)}),new ho(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new on(4001,yO);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class ube{}class hbe{constructor(e,t,r,i,o,s,a,u){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=gO(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ao).pipe(Dn(t=>{if(null===t)return null;const r=new dO([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ao,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new mm(r,t),o=new hX(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=dX(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return qo(Object.keys(r.children)).pipe(Ov(i=>{const o=r.children[i],s=wX(t,i);return this.processSegmentGroup(e,s,o,i)}),B$((i,o)=>i&&o?(i.push(...o),i):null),function Lye(n,e=!1){return Yn((t,r)=>{let i=0;t.subscribe(Hn(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),nO(null),V$(),Dn(i=>{if(null===i)return null;const o=AX(i);return function fbe(n){n.sort((e,t)=>e.value.outlet===ao?-1:t.value.outlet===ao?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return qo(t).pipe(Ov(s=>{var a;return this.processSegmentAgainstRoute(null!==(a=s._injector)&&void 0!==a?a:e,s,r,i,o)}),Av(s=>!!s),hm(s=>{if(f3(s))return TX(r,i,o)?Fr([]):Fr(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){var s,a;if(t.redirectTo||!EX(t,r,i,o))return Fr(null);let u;if("**"===t.path){const c=i.length>0?W$(i).parameters:{},h=kX(r)+i.length;u=Fr({snapshot:new dO(i,c,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,PX(t),Kd(t),null!==(a=null!==(s=t.component)&&void 0!==s?s:t._loadedComponent)&&void 0!==a?a:null,t,OX(r),h,IX(t),h),consumedSegments:[],remainingSegments:[]})}else u=CX(r,t,i,e).pipe(Dn(({matched:c,consumedSegments:h,remainingSegments:p,parameters:g})=>{var y,w;if(!c)return null;const S=kX(r)+h.length;return{snapshot:new dO(h,g,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,PX(t),Kd(t),null!==(w=null!==(y=t.component)&&void 0!==y?y:t._loadedComponent)&&void 0!==w?w:null,t,OX(r),S,IX(t),S),consumedSegments:h,remainingSegments:p}}));return u.pipe(Xd(c=>{var h,p;if(null===c)return Fr(null);const{snapshot:g,consumedSegments:y,remainingSegments:w}=c;e=null!==(h=t._injector)&&void 0!==h?h:e;const S=null!==(p=t._loadedInjector)&&void 0!==p?p:e,C=function pbe(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:P,slicedSegments:B}=gO(r,y,w,C.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);if(0===B.length&&P.hasChildren())return this.processChildren(S,C,P).pipe(Dn(j=>null===j?null:[new mm(g,j)]));if(0===C.length&&0===B.length)return Fr([new mm(g,[])]);const z=Kd(t)===o;return this.processSegment(S,C,P,B,z?ao:o).pipe(Dn(j=>null===j?null:[new mm(g,j)]))}))}}function mbe(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function AX(n){const e=[],t=new Set;for(const r of n){if(!mbe(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=AX(r.children);e.push(new mm(r.value,i))}return e.filter(r=>!t.has(r))}function OX(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function kX(n){var e,t;let r=n,i=null!==(e=r._segmentIndexShift)&&void 0!==e?e:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=null!==(t=r._segmentIndexShift)&&void 0!==t?t:0;return i-1}function PX(n){return n.data||{}}function IX(n){return n.resolve||{}}const g3=Symbol("RouteTitle");function NX(n){return"string"==typeof n.title||null===n.title}function v3(n){return Xd(e=>{const t=n(e);return t?qo(t).pipe(Dn(()=>e)):Fr(e)})}let FX=(()=>{class n{buildTitle(t){var r;let i,o=t.root;for(;void 0!==o;)i=null!==(r=this.getResolvedTitleForRoute(o))&&void 0!==r?r:i,o=o.children.find(s=>s.outlet===ao);return i}getResolvedTitleForRoute(t){return t.data[g3]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:function(){return gs(HX)},providedIn:"root"}),n})(),HX=(()=>{class n extends FX{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(gt(O$))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Sbe{}class Cbe extends class xbe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const y3=new An("",{providedIn:"root",factory:()=>({})}),_3=new An("ROUTES");let b3=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Fr(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=fm(t.loadComponent()).pipe(Na(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),rO(()=>{this.componentLoaders.delete(t)})),i=new XH(r,()=>new Ht).pipe($H());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Fr({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Dn(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,h=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=j$(u.get(_3,[],cr.Self|cr.Optional)));return{routes:c.map(h3),injector:u}}),rO(()=>{this.childrenLoaders.delete(r)})),s=new XH(o,()=>new Ht).pipe($H());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return fm(t()).pipe(Yo(r=>r instanceof T9||Array.isArray(r)?Fr(r):qo(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(gt(Ms),gt(dH))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Tbe{}class Rbe{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Dbe(n){throw n}function Abe(n,e,t){return e.parse("/")}const Obe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kbe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function VX(){var n,e;const t=gs(Z$),r=gs(nT),i=gs(jE),o=gs(Ms),s=gs(dH),a=null!==(n=gs(_3,{optional:!0}))&&void 0!==n?n:[],u=null!==(e=gs(y3,{optional:!0}))&&void 0!==e?e:{},c=gs(HX),h=gs(FX,{optional:!0}),p=gs(Tbe,{optional:!0}),g=gs(Sbe,{optional:!0}),y=new Iu(null,t,r,i,o,s,j$(a));return p&&(y.urlHandlingStrategy=p),g&&(y.routeReuseStrategy=g),y.titleStrategy=null!=h?h:c,function Lbe(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,y),y}let Iu=(()=>{class n{constructor(t,r,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ht,this.errorHandler=Dbe,this.malformedUriErrorHandler=Abe,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Fr(void 0),this.urlHandlingStrategy=new Rbe,this.routeReuseStrategy=new Cbe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(b3),this.configLoader.onLoadEndListener=g=>this.triggerEvent(new p_e(g)),this.configLoader.onLoadStartListener=g=>this.triggerEvent(new f_e(g)),this.ngModule=s.get(X_),this.console=s.get(Pme);const p=s.get(wi);this.isNgZoneEnabled=p instanceof wi&&wi.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function Fye(){return new J_(new ho([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cX(this.currentUrlTree,this.rootComponentType),this.transitions=new rd({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ia(i=>0!==i.id),Dn(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Xd(i=>{let o=!1,s=!1;return Fr(i).pipe(Na(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xd(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return zX(a.source)&&(this.browserUrlTree=a.extractedUrl),Fr(a).pipe(Xd(p=>{const g=this.transitions.getValue();return r.next(new r3(p.id,this.serializeUrl(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions.getValue()?wo:Promise.resolve(p)}),function lbe(n,e,t,r){return Xd(i=>function sbe(n,e,t,r,i){return new abe(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Dn(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Na(p=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:p.urlAfterRedirects}),i.urlAfterRedirects=p.urlAfterRedirects}),function vbe(n,e,t,r,i,o){return Yo(s=>function dbe(n,e,t,r,i,o,s="emptyOnly",a="legacy"){return new hbe(n,e,t,r,i,s,a,o).recognize().pipe(Xd(u=>null===u?function cbe(n){return new ht(e=>e.error(n))}(new ube):Fr(u)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(Dn(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Na(p=>{if(i.targetSnapshot=p.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!p.extras.skipLocationChange){const y=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl);this.setBrowserUrl(y,p)}this.browserUrlTree=p.urlAfterRedirects}const g=new l_e(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);r.next(g)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:g,extractedUrl:y,source:w,restoredState:S,extras:C}=a,P=new r3(g,this.serializeUrl(y),w,S);r.next(P);const B=cX(y,this.rootComponentType).snapshot;return Fr(i=Object.assign(Object.assign({},a),{targetSnapshot:B,urlAfterRedirects:y,extras:Object.assign(Object.assign({},C),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),wo}),Na(a=>{const u=new u_e(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Dn(a=>i=Object.assign(Object.assign({},a),{guards:L_e(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function W_e(n,e){return Yo(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Fr(Object.assign(Object.assign({},t),{guardsResult:!0})):function Y_e(n,e,t,r){return qo(n).pipe(Yo(i=>function q_e(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Fr(o.map(a=>{const u=pO(a,e,i);return fm(function z_e(n){return n&&oT(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):u(n,e,t,r)).pipe(Av())})).pipe(HM()):Fr(!0)}(i.component,i.route,t,e,r)),Av(i=>!0!==i,!0))}(s,r,i,n).pipe(Yo(a=>a&&function F_e(n){return"boolean"==typeof n}(a)?function G_e(n,e,t,r){return qo(e).pipe(Ov(i=>KE(function X_e(n,e){return null!==n&&e&&e(new m_e(n)),Fr(!0)}(i.route.parent,r),function $_e(n,e){return null!==n&&e&&e(new v_e(n)),Fr(!0)}(i.route,r),function Z_e(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function P_e(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>tO(()=>Fr(s.guards.map(u=>{const c=pO(u,s.node,t);return fm(function V_e(n){return n&&oT(n.canActivateChild)}(c)?c.canActivateChild(r,n):c(r,n)).pipe(Av())})).pipe(HM())));return Fr(o).pipe(HM())}(n,i.path,t),function K_e(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Fr(!0);const i=r.map(o=>tO(()=>{const s=pO(o,e,t);return fm(function B_e(n){return n&&oT(n.canActivate)}(s)?s.canActivate(e,n):s(e,n)).pipe(Av())}));return Fr(i).pipe(HM())}(n,i.route,t))),Av(i=>!0!==i,!0))}(r,o,n,e):Fr(a)),Dn(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Na(a=>{if(i.guardsResult=a.guardsResult,eb(a.guardsResult))throw pX(0,a.guardsResult);const u=new c_e(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Ia(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),v3(a=>{if(a.guards.canActivateChecks.length)return Fr(a).pipe(Na(u=>{const c=new d_e(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Xd(u=>{let c=!1;return Fr(u).pipe(function ybe(n,e){return Yo(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Fr(t);let o=0;return qo(i).pipe(Ov(s=>function _be(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==(null==i?void 0:i.title)&&!NX(i)&&(o[g3]=i.title),function bbe(n,e,t,r){const i=function wbe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Fr({});const o={};return qo(i).pipe(Yo(s=>function Mbe(n,e,t,r){const i=pO(n,e,r);return fm(i.resolve?i.resolve(e,t):i(e,t))}(n[s],e,t,r).pipe(Av(),Na(a=>{o[s]=a}))),KH(1),z$(o),hm(s=>f3(s)?wo:kM(s)))}(o,n,e,r).pipe(Dn(s=>(n._resolvedData=s,n.data=dX(n,t).resolve,i&&NX(i)&&(n.data[g3]=i.title),null)))}(s.route,r,n,e)),Na(()=>o++),KH(1),Yo(s=>o===i.length?Fr(t):wo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Na({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),Na(u=>{const c=new h_e(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),v3(a=>{const u=c=>{var h;const p=[];(null===(h=c.routeConfig)||void 0===h?void 0:h.loadComponent)&&!c.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(c.routeConfig).pipe(Na(g=>{c.component=g}),Dn(()=>{})));for(const g of c.children)p.push(...u(g));return p};return GH(u(a.targetSnapshot.root)).pipe(nO(),al(1))}),v3(()=>this.afterPreactivation()),Dn(a=>{const u=function M_e(n,e,t){const r=tT(n,e._root,t?t._root:void 0);return new uX(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i=Object.assign(Object.assign({},a),{targetRouterState:u})}),Na(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Dn(r=>(new k_e(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Na({next(){o=!0},complete(){o=!0}}),rO(()=>{var a;o||s||this.cancelNavigationTransition(i,"",1),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),hm(a=>{var u;if(s=!0,vX(a)){gX(a)||(this.navigated=!0,this.restoreHistory(i,!0));const c=new cO(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(c),gX(a)){const h=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),p={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zX(i.source)};this.scheduleNavigation(h,"imperative",null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new sX(i.id,this.serializeUrl(i.extractedUrl),a,null!==(u=i.targetSnapshot)&&void 0!==u?u:void 0);r.next(c);try{i.resolve(this.errorHandler(a))}catch(h){i.reject(h)}}return wo}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=null!==(i=t.state)&&void 0!==i&&i.navigationId?t.state:null;if(s){const u=Object.assign({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(h3),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,h=u?this.currentUrlTree.fragment:s;let p=null;switch(a){case"merge":p=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}return null!==p&&(p=this.removeEmptyProps(p)),n_e(c,this.currentUrlTree,t,p,null!=h?h:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=eb(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Pbe(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new on(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Obe):!1===r?Object.assign({},kbe):r,eb(t))return G$(this.currentUrlTree,t,i);const o=this.parseUrl(t);return G$(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{var r;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new tb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){var a,u;if(this.disposed)return Promise.resolve(!1);let c,h,p;s?(c=s.resolve,h=s.reject,p=s.promise):p=new Promise((w,S)=>{c=w,h=S});const g=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):y=0,this.setTransition({id:g,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:c,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new cO(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){iv()},n.\u0275prov=fn({token:n,factory:function(){return VX()},providedIn:"root"}),n})();function zX(n){return"imperative"!==n}class UX{}let jX=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ia(t=>t instanceof tb),Ov(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){var i,o,s;const a=[];for(const u of r){u.providers&&!u._injector&&(u._injector=TA(u.providers,t,`Route: ${u.path}`));const c=null!==(i=u._injector)&&void 0!==i?i:t,h=null!==(o=u._loadedInjector)&&void 0!==o?o:c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?a.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&a.push(this.processRoutes(h,null!==(s=u.children)&&void 0!==s?s:u._loadedRoutes))}return qo(a).pipe(Ro())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Fr(null);const o=i.pipe(Yo(s=>{var a;return null===s?Fr(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:t,s.routes))}));return r.loadComponent&&!r._loadedComponent?qo([o,this.loader.loadComponent(r)]).pipe(Ro()):o})}}return n.\u0275fac=function(t){return new(t||n)(gt(Iu),gt(dH),gt(kf),gt(UX),gt(b3))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const WX=new An("");let Fbe=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof r3?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof aX&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new aX(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){iv()},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const YX=new An("ROUTER_FORROOT_GUARD"),GX=new An(""),Hbe=[jE,{provide:Z$,useClass:qH},{provide:Iu,useFactory:VX},nT,{provide:FM,useFactory:function Bbe(n){return n.routerState.root},deps:[Iu]},b3];function Vbe(){return new M7("Router",Iu)}let $X=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Hbe,[],XX(t),{provide:YX,useFactory:Wbe,deps:[[Iu,new Af,new Hg]]},{provide:y3,useValue:r||{}},null!=r&&r.useHash?{provide:Z_,useClass:Sge}:{provide:Z_,useClass:G7},{provide:WX,useFactory:()=>{const n=gs(Iu),e=gs(Vve),t=gs(y3);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Fbe(n,e,t)}},null!=r&&r.preloadingStrategy?qbe(r.preloadingStrategy):[],{provide:M7,multi:!0,useFactory:Vbe},null!=r&&r.initialNavigation?Gbe(r):[],[{provide:KX,useFactory:Ybe},{provide:m7,multi:!0,useExisting:KX}]]}}static forChild(t){return{ngModule:n,providers:[XX(t)]}}}return n.\u0275fac=function(t){return new(t||n)(gt(YX,8))},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({}),n})();function Wbe(n){return"guarded"}function XX(n){return[{provide:_3,multi:!0,useValue:n}]}function Ybe(){const n=gs(Ms);return e=>{var t,r;const i=n.get(OM);if(e!==i.components[0])return;const o=n.get(Iu),s=n.get(ZX);1===n.get(S3)&&o.initialNavigation(),null===(t=n.get(GX,null,cr.Optional))||void 0===t||t.setUpPreloading(),null===(r=n.get(WX,null,cr.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.next(),s.complete()}}const KX=new An("");function Gbe(n){return["disabled"===n.initialNavigation?[{provide:OA,multi:!0,useFactory:()=>{const n=gs(Iu);return()=>{n.setUpLocationChangeListener()}}},{provide:S3,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:S3,useValue:0},{provide:OA,multi:!0,deps:[Ms],useFactory:n=>{const e=n.get(wge,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(i=>{const o=n.get(Iu),s=n.get(ZX);(function r(i){n.get(Iu).events.pipe(Ia(s=>s instanceof tb||s instanceof cO||s instanceof sX),Dn(s=>s instanceof tb||s instanceof cO&&(0===s.code||1===s.code)&&null),Ia(s=>null!==s),al(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),o.afterPreactivation=()=>(i(!0),t||s.closed?Fr(void 0):s),o.initialNavigation()}))}}]:[]]}const ZX=new An("",{factory:()=>new Ht}),S3=new An("",{providedIn:"root",factory:()=>1});function qbe(n){return[jX,{provide:GX,useExisting:jX},{provide:UX,useExisting:n}]}const Jbe=[];let Qbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[$X.forRoot(Jbe),$X]}),n})();const Gf=Object.create(null);Gf.open="0",Gf.close="1",Gf.ping="2",Gf.pong="3",Gf.message="4",Gf.upgrade="5",Gf.noop="6";const MO=Object.create(null);Object.keys(Gf).forEach(n=>{MO[Gf[n]]=n});const ewe={type:"error",data:"parser error"},twe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),nwe="function"==typeof ArrayBuffer,qX=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+r)},t.readAsDataURL(n)},JX=({type:n,data:e},t,r)=>twe&&e instanceof Blob?t?r(e):qX(e,r):nwe&&(e instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer)(e))?t?r(e):qX(new Blob([e]),r):r(Gf[n]+(e||"")),BM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",aT="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<BM.length;n++)aT[BM.charCodeAt(n)]=n;const swe="function"==typeof ArrayBuffer,lwe=(n,e)=>{if(swe){const t=(n=>{let r,o,s,a,u,e=.75*n.length,t=n.length,i=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const c=new ArrayBuffer(e),h=new Uint8Array(c);for(r=0;r<t;r+=4)o=aT[n.charCodeAt(r)],s=aT[n.charCodeAt(r+1)],a=aT[n.charCodeAt(r+2)],u=aT[n.charCodeAt(r+3)],h[i++]=o<<2|s>>4,h[i++]=(15&s)<<4|a>>2,h[i++]=(3&a)<<6|63&u;return c})(n);return QX(t,e)}return{base64:!0,data:n}},QX=(n,e)=>"blob"===e&&n instanceof ArrayBuffer?new Blob([n]):n,eK=(n,e)=>{if("string"!=typeof n)return{type:"message",data:QX(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:lwe(n.substring(1),e)}:MO[t]?n.length>1?{type:MO[t],data:n.substring(1)}:{type:MO[t]}:ewe},tK=String.fromCharCode(30);function Fa(n){if(n)return function dwe(n){for(var e in Fa.prototype)n[e]=Fa.prototype[e];return n}(n)}Fa.prototype.on=Fa.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Fa.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Fa.prototype.off=Fa.prototype.removeListener=Fa.prototype.removeAllListeners=Fa.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if((r=t[i])===e||r.fn===e){t.splice(i,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},Fa.prototype.emitReserved=Fa.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){r=0;for(var i=(t=t.slice(0)).length;r<i;++r)t[r].apply(this,e)}return this},Fa.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Fa.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Lv="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function rK(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const hwe=setTimeout,fwe=clearTimeout;function SO(n,e){e.useNativeTimers?(n.setTimeoutFn=hwe.bind(Lv),n.clearTimeoutFn=fwe.bind(Lv)):(n.setTimeoutFn=setTimeout.bind(Lv),n.clearTimeoutFn=clearTimeout.bind(Lv))}function mwe(n){return"string"==typeof n?function gwe(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}class vwe extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class iK extends Fa{constructor(e){super(),this.writable=!1,SO(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new vwe(e,t,r)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=eK(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const oK="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),sK={};let lK,aK=0,Pv=0;function uK(n){let e="";do{e=oK[n%64]+e,n=Math.floor(n/64)}while(n>0);return e}function cK(){const n=uK(+new Date);return n!==lK?(aK=0,lK=n):n+"."+uK(aK++)}for(;Pv<64;Pv++)sK[oK[Pv]]=Pv;function dK(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}let hK=!1;try{hK="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){}const _we=hK;function fK(n){const e=n.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||_we))return new XMLHttpRequest}catch(t){}if(!e)try{return new(Lv[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function bwe(){}const wwe=null!=new fK({xdomain:!1}).responseType;let CO=(()=>{class n extends Fa{constructor(t,r){super(),SO(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.async=!1!==r.async,this.data=void 0!==r.data?r.data:null,this.create()}create(){const t=rK(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const r=this.xhr=new fK(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof r.status?r.status:0)},0))},r.send(this.data)}catch(i){return void this.setTimeoutFn(()=>{this.onError(i)},0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(null!=this.xhr){if(this.xhr.onreadystatechange=bwe,t)try{this.xhr.abort()}catch(r){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();function pK(){for(let n in CO.requests)CO.requests.hasOwnProperty(n)&&CO.requests[n].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",pK):"function"==typeof addEventListener&&addEventListener("onpagehide"in Lv?"pagehide":"unload",pK,!1));const Swe="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),EO=Lv.WebSocket||Lv.MozWebSocket,mK="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Ewe={websocket:class Cwe extends iK{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=mK?{}:rK(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=mK?new EO(e,t,r):t?new EO(e,t):new EO(e)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=t===e.length-1;JX(e[t],this.supportsBinary,o=>{try{this.ws.send(o)}catch(a){}i&&Swe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=cK()),this.supportsBinary||(e.b64=1);const i=dK(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!EO}},polling:class Mwe extends iK{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const r="https:"===location.protocol;let i=location.port;i||(i=r?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}this.supportsBinary=wwe&&!(e&&e.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split(tK),r=[];for(let i=0;i<t.length;i++){const o=eK(t[i],e);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((o,s)=>{JX(o,!1,a=>{r[s]=a,++i===t&&e(r.join(tK))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=cK()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const i=dK(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new CO(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}},Twe=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Rwe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function C3(n){const e=n,t=n.indexOf("["),r=n.indexOf("]");-1!=t&&-1!=r&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=Twe.exec(n||""),o={},s=14;for(;s--;)o[Rwe[s]]=i[s]||"";return-1!=t&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function Dwe(n,e){const r=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.substr(0,1)||0===e.length)&&r.splice(0,1),"/"==e.substr(e.length-1,1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function Awe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}(0,o.query),o}let gK=(()=>{class n extends Fa{constructor(t,r={}){super(),t&&"object"==typeof t&&(r=t,t=null),t?(t=C3(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=C3(r.host).host),SO(this,r),this.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=r.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function ywe(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts.transportOptions[t],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ewe[t](i)}open(){let t;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(r){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),i=!1;n.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",g=>{if(!i)if("pong"===g.type&&"probe"===g.data){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(p(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=r.name,this.emitReserved("upgradeError",y)}}))};function s(){i||(i=!0,p(),r.close(),r=null)}const a=g=>{const y=new Error("probe error: "+g);y.transport=r.name,s(),this.emitReserved("upgradeError",y)};function u(){a("transport closed")}function c(){a("socket closed")}function h(g){r&&g.name!==r.name&&s()}const p=()=>{r.removeListener("open",o),r.removeListener("error",a),r.removeListener("close",u),this.off("close",c),this.off("upgrading",h)};r.once("open",o),r.once("error",a),r.once("close",u),this.once("close",c),this.once("upgrading",h),r.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let t=0;const r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=mwe(o)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(t,r,i){return this.sendPacket("message",t,r,i),this}send(t,r,i){return this.sendPacket("message",t,r,i),this}sendPacket(t,r,i,o){if("function"==typeof r&&(o=r,r=void 0),"function"==typeof i&&(o=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const r=[];let i=0;const o=t.length;for(;i<o;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}return n.protocol=4,n})();const kwe="function"==typeof ArrayBuffer,vK=Object.prototype.toString,Pwe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===vK.call(Blob),Iwe="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===vK.call(File);function E3(n){return kwe&&(n instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer)(n))||Pwe&&n instanceof Blob||Iwe&&n instanceof File}function TO(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(TO(n[t]))return!0;return!1}if(E3(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return TO(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&TO(n[t]))return!0;return!1}function Nwe(n){const e=[],r=n;return r.data=T3(n.data,e),r.attachments=e.length,{packet:r,buffers:e}}function T3(n,e){if(!n)return n;if(E3(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=T3(n[r],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=T3(n[r],e));return t}return n}function Fwe(n,e){return n.data=R3(n.data,e),n.attachments=void 0,n}function R3(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=R3(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=R3(n[t],e));return n}const Hwe=5;var Io=(()=>{return(n=Io||(Io={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",Io;var n})();class Bwe{constructor(e){this.replacer=e}encode(e){return e.type!==Io.EVENT&&e.type!==Io.ACK||!TO(e)?[this.encodeAsString(e)]:(e.type=e.type===Io.EVENT?Io.BINARY_EVENT:Io.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return(e.type===Io.BINARY_EVENT||e.type===Io.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Nwe(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}class D3 extends Fa{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e),t.type===Io.BINARY_EVENT||t.type===Io.BINARY_ACK?(this.reconstructor=new Vwe(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!E3(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===Io[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Io.BINARY_EVENT||r.type===Io.BINARY_ACK){const o=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(o,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(t+1)){const o=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(o,t)}else r.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const o=t+1;for(;++t;){const s=e.charAt(t);if(null==s||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){const o=this.tryParse(e.substr(t));if(!D3.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Io.CONNECT:return"object"==typeof t;case Io.DISCONNECT:return void 0===t;case Io.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Io.EVENT:case Io.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Io.ACK:case Io.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Vwe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Fwe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Gh(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const zwe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yK extends Fa{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Gh(e,"open",this.onopen.bind(this)),Gh(e,"packet",this.onpacket.bind(this)),Gh(e,"error",this.onerror.bind(this)),Gh(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(zwe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');t.unshift(e);const r={type:Io.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const s=this.ids++,a=t.pop();this._registerAckCallback(s,a),r.id=s}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(void 0===r)return void(this.acks[e]=t);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...o])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this.packet({type:Io.CONNECT,data:e})}):this.packet({type:Io.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Io.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Io.EVENT:case Io.BINARY_EVENT:this.onevent(e);break;case Io.ACK:case Io.BINARY_ACK:this.onack(e);break;case Io.DISCONNECT:this.ondisconnect();break;case Io.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:Io.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Io.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function VM(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}VM.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=0==(1&Math.floor(10*e))?n-t:n+t}return 0|Math.min(n,this.max)},VM.prototype.reset=function(){this.attempts=0},VM.prototype.setMin=function(n){this.ms=n},VM.prototype.setMax=function(n){this.max=n},VM.prototype.setJitter=function(n){this.jitter=n};class A3 extends Fa{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,SO(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new VM({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||O;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new gK(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Gh(t,"open",function(){r.onopen(),e&&e()}),o=Gh(t,"error",s=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",s),e?e(s):r.maybeReconnectOnOpen()});if(!1!==this._timeout){const s=this._timeout;0===s&&i();const a=this.setTimeoutFn(()=>{i(),t.close(),t.emit("error",new Error("timeout"))},s);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Gh(e,"ping",this.onping.bind(this)),Gh(e,"data",this.ondata.bind(this)),Gh(e,"error",this.onerror.bind(this)),Gh(e,"close",this.onclose.bind(this)),Gh(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error")}}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new yK(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const lT={};function RO(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function Owe(n,e="",t){let r=n;t=t||"undefined"!=typeof location&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=void 0!==t?t.protocol+"//"+n:"https://"+n),r=C3(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}(n,(e=e||{}).path||"/socket.io"),r=t.source,i=t.id;let u;return e.forceNew||e["force new connection"]||!1===e.multiplex||lT[i]&&t.path in lT[i].nsps?u=new A3(r,e):(lT[i]||(lT[i]=new A3(r,e)),u=lT[i]),t.query&&!e.query&&(e.query=t.queryKey),u.socket(t.path,e)}Object.assign(RO,{Manager:A3,Socket:yK,io:RO,connect:RO});let O3,_K=(()=>{class n{constructor(){this.comments=[{user:!1,content:"\u3054\u8cea\u554f\u306f\u3054\u3056\u3044\u307e\u3059\u304b\uff1f"}]}setupSocketConnection(){console.log("setupSocketConnection:","https://intense-plains-31465.herokuapp.com/"),this.socket=RO("https://intense-plains-31465.herokuapp.com/"),this.socket.on("HelpDesk->Customer",t=>{null!=t&&0!==t.trim().length&&(this.comments.push({user:!1,content:t}),console.log("receive a message from HelpDesk:",t))})}sendMessage(t){null!=t&&0!==t.trim().length&&(this.socket.emit("Customer->HelpDesk",t),this.comments.push({user:!0,content:t}),console.log("send a message to HelpDesk: ",t))}disconnect(){this.socket&&(this.socket.disconnect(),console.log("disconnect"))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{O3="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){O3=!1}let uT,nb,k3,_c=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Bve(n){return n===h$}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!O3)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(gt(LA))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UM(n){return function Uwe(){if(null==uT&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>uT=!0}))}finally{uT=uT||!1}return uT}()?n:!!n.capture}function jwe(){if(null==nb){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return nb=!1,nb;if("scrollBehavior"in document.documentElement.style)nb=!0;else{const n=Element.prototype.scrollTo;nb=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return nb}function wK(n){if(function Wwe(){if(null==k3){const n="undefined"!=typeof document?document.head:null;k3=!(!n||!n.createShadowRoot&&!n.attachShadow)}return k3}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function L3(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function rb(n){return n.composedPath?n.composedPath()[0]:n.target}function P3(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class I3{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class N3 extends I3{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class F3 extends I3{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Ywe extends I3{constructor(e){super(),this.element=e instanceof _i?e.nativeElement:e}}class H3{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof N3?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof F3?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Ywe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Gwe extends H3{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,u=this._document.createComment("dom-portal");a.parentNode.insertBefore(u,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ms.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let B3=(()=>{class n extends H3{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new go,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=r.createComponent(o,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(ke(Lf),ke(Ml),ke(ki))},n.\u0275dir=Ln({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[mr]}),n})(),cT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({}),n})();function ib(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class i0e extends N{constructor(e,t){super()}schedule(e,t=0){return this}}const IO={setInterval(n,e,...t){const{delegate:r}=IO;return null!=r&&r.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=IO;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class z3 extends i0e{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return IO.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;IO.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const TK={now:()=>(TK.delegate||Date).now(),delegate:void 0};class dT{constructor(e,t=dT.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}dT.now=TK.now;class U3 extends dT{constructor(e,t=dT.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const NO=new U3(z3),o0e=NO;function j3(n,e=NO){return Yn((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function u(){const c=s+n,h=e.now();if(h<c)return i=this.schedule(void 0,c-h),void r.add(i);a()}t.subscribe(Hn(r,c=>{o=c,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function RK(n){return Ia((e,t)=>n<=t)}function a0e(n,e){return n===e}function Nu(n){return Yn((e,t)=>{fs(n).subscribe(Hn(t,()=>t.complete(),$)),!t.closed&&e.subscribe(t)})}function ba(n){return null!=n&&"false"!=`${n}`}function $f(n,e=0){return function l0e(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function FO(n){return Array.isArray(n)?n:[n]}function Ha(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ob(n){return n instanceof _i?n.nativeElement:n}let DK=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u0e=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=ob(t);return new ht(i=>{const s=this._observeElement(r).subscribe(i);return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Ht,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(gt(DK))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c0e=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new go,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ba(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=$f(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(j3(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(ke(u0e),ke(_i),ke(wi))},n.\u0275dir=Ln({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),W3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({providers:[DK]}),n})();const AK=new Set;let jM,d0e=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):f0e}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function h0e(n){if(!AK.has(n))try{jM||(jM=document.createElement("style"),jM.setAttribute("type","text/css"),document.head.appendChild(jM)),jM.sheet&&(jM.sheet.insertRule(`@media ${n} {body{ }}`,0),AK.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(gt(_c))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f0e(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let p0e=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ht}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return OK(FO(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=GH(OK(FO(t)).map(s=>this._registerQuery(s).observable));return o=KE(o.pipe(al(1)),o.pipe(RK(1),j3(0))),o.pipe(Dn(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:c})=>{a.matches=a.matches||u,a.breakpoints[c]=u}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new ht(s=>{const a=u=>this._zone.run(()=>s.next(u));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(dm(r),Dn(({matches:s})=>({query:t,matches:s})),Nu(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(gt(d0e),gt(wi))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OK(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class PK extends class v0e{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ht,this._typeaheadSubscription=N.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ht,this.change=new Ht,e instanceof TM&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Na(t=>this._pressedLetters.push(t)),j3(e),Ia(()=>this._pressedLetters.length>0),Dn(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,s=r[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||ib(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof TM?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let HO=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function _0e(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function y0e(n){try{return n.frameElement}catch(e){return null}}(function T0e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===NK(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=NK(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function C0e(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function E0e(n){return!function w0e(n){return function S0e(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function b0e(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function M0e(n){return function x0e(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||IK(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(gt(_c))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IK(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function NK(n){if(!IK(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class R0e{constructor(e,t,r,i,o=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(al(1)).subscribe(e)}}let Y3=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new R0e(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(gt(HO),gt(wi),gt(ki))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function G3(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function $3(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const D0e=new An("cdk-input-modality-detector-options"),A0e={ignoreKeys:[18,17,224,91,16]},WM=UM({passive:!0,capture:!0});let O0e=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new rd(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,u;null!==(u=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)&&void 0!==u&&u.some(c=>c===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=rb(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(G3(s)?"keyboard":"mouse"),this._mostRecentTarget=rb(s))},this._onTouchstart=s=>{$3(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=rb(s))},this._options=Object.assign(Object.assign({},A0e),o),this.modalityDetected=this._modality.pipe(RK(1)),this.modalityChanged=this.modalityDetected.pipe(function s0e(n,e=It){return n=null!=n?n:a0e,Yn((t,r)=>{let i,o=!0;t.subscribe(Hn(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,WM),i.addEventListener("mousedown",this._onMousedown,WM),i.addEventListener("touchstart",this._onTouchstart,WM)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,WM),document.removeEventListener("mousedown",this._onMousedown,WM),document.removeEventListener("touchstart",this._onTouchstart,WM))}}return n.\u0275fac=function(t){return new(t||n)(gt(_c),gt(wi),gt(ki),gt(D0e,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L0e=new An("cdk-focus-monitor-default-options"),BO=UM({passive:!0,capture:!0});let gm=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ht,this._rootNodeFocusAndBlurListener=a=>{for(let c=rb(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(t,r=!1){const i=ob(t);if(!this._platform.isBrowser||1!==i.nodeType)return Fr(null);const o=wK(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new Ht,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=ob(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=ob(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,u])=>this._originChanged(a,r,u)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!(null==t||!t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=rb(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,BO),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,BO)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Nu(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,BO),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,BO),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(gt(wi),gt(_c),gt(O0e),gt(ki,8),gt(L0e,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HK="cdk-high-contrast-black-on-white",BK="cdk-high-contrast-white-on-black",X3="cdk-high-contrast-active";let VK=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=gs(p0e).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(X3,HK,BK),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(X3,HK):2===r&&t.add(X3,BK)}}}return n.\u0275fac=function(t){return new(t||n)(gt(_c),gt(ki))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zK=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(gt(VK))},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[W3]}),n})();const P0e=["addListener","removeListener"],I0e=["addEventListener","removeEventListener"],N0e=["on","off"];function K3(n,e,t,r){if(E(t)&&(r=t,t=void 0),r)return K3(n,e,t).pipe(YH(r));const[i,o]=function B0e(n){return E(n.addEventListener)&&E(n.removeEventListener)}(n)?I0e.map(s=>a=>n[s](e,a,t)):function F0e(n){return E(n.addListener)&&E(n.removeListener)}(n)?P0e.map(UK(n,e)):function H0e(n){return E(n.on)&&E(n.off)}(n)?N0e.map(UK(n,e)):[];if(!i&&jl(n))return Yo(s=>K3(s,e,t))(fs(n));if(!i)throw new TypeError("Invalid event target");return new ht(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function UK(n,e){return t=>r=>n[t](e,r)}const hT={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=hT;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new N(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=hT;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=hT;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class z0e extends U3{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class V0e extends z3{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=hT.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(hT.cancelAnimationFrame(t),e._scheduled=void 0)}});let Z3,j0e=1;const VO={};function jK(n){return n in VO&&(delete VO[n],!0)}const W0e={setImmediate(n){const e=j0e++;return VO[e]=!0,Z3||(Z3=Promise.resolve()),Z3.then(()=>jK(e)&&n()),e},clearImmediate(n){jK(n)}},{setImmediate:Y0e,clearImmediate:G0e}=W0e,zO={setImmediate(...n){const{delegate:e}=zO;return((null==e?void 0:e.setImmediate)||Y0e)(...n)},clearImmediate(n){const{delegate:e}=zO;return((null==e?void 0:e.clearImmediate)||G0e)(n)},delegate:void 0},q3=new class X0e extends U3{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class $0e extends z3{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=zO.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(zO.clearImmediate(t),e._scheduled=void 0)}});function WK(n=0,e,t=o0e){let r=-1;return null!=e&&(Ei(e)?t=e:r=e),new ht(i=>{let o=function Z0e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function YK(n,e=NO){return function K0e(n){return Yn((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,r){r=!1;const c=i;i=null,t.next(c)}s&&t.complete()},u=()=>{o=null,s&&t.complete()};e.subscribe(Hn(t,c=>{r=!0,i=c,o||fs(n(c)).subscribe(o=Hn(t,a,u))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>WK(n,e))}const q0e=new An("cdk-dir-doc",{providedIn:"root",factory:function J0e(){return gs(ki)}}),Q0e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let YM=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new go,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function eMe(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Q0e.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(gt(q0e,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({}),n})(),nMe=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ht,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ht(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(YK(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Fr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ia(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ob(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>K3(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(gt(wi),gt(_c),gt(ki,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UO=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ht,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(YK(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(gt(_c),gt(wi),gt(ki,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({}),n})(),J3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[fT,pT,fT,pT]}),n})();const GK=jwe();class iMe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ha(-this._previousScrollPosition.left),e.style.top=Ha(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),GK&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),GK&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class oMe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $K{enable(){}disable(){}attach(){}}function Q3(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function XK(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class sMe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Q3(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let aMe=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new $K,this.close=s=>new oMe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new iMe(this._viewportRuler,this._document),this.reposition=s=>new sMe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(gt(nMe),gt(UO),gt(wi),gt(ki))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class eB{constructor(e){if(this.scrollStrategy=new $K,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class lMe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class mT{constructor(e,t,r,i,o,s,a,u,c,h=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=u,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new Ht,this._attachments=new Ht,this._detachments=new Ht,this._locationChanges=N.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new Ht,this._outsidePointerEvents=new Ht,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(al(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof(null==t?void 0:t.onDestroy)&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ha(this._config.width),e.height=Ha(this._config.height),e.minWidth=Ha(this._config.minWidth),e.minHeight=Ha(this._config.minHeight),e.maxWidth=Ha(this._config.maxWidth),e.maxHeight=Ha(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),this._animationsDisabled||"undefined"==typeof requestAnimationFrame?this._backdropElement.classList.add(e):this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})})}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=FO(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Nu(Oc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let jO=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||P3()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),P3()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(gt(ki),gt(_c))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KK="cdk-overlay-connected-position-bounding-box",uMe=/([A-Za-z%]+)$/;class cMe{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ht,this._resizeSubscription=N.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(KK),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let u=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(u,t,a),h=this._getOverlayFit(c,t,r,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,u);this._canFitWithFlexibleDimensions(h,c,r)?o.push({position:a,origin:u,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(u,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:c,originPoint:u,position:a,overlayRect:t})}if(o.length){let a=null,u=-1;for(const c of o){const h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>u&&(u=h,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(KK),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?s:a}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=qK(t);let{x:s,y:a}=e,u=this._getOffset(i,"x"),c=this._getOffset(i,"y");u&&(s+=u),c&&(a+=c);let g=0-a,y=a+o.height-r.height,w=this._subtractOverflows(o.width,0-s,s+o.width-r.width),S=this._subtractOverflows(o.height,g,y),C=w*S;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:S===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=ZK(this._overlayRef.getConfig().minHeight),a=ZK(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=o;return(e.fitsInViewportVertically||null!=s&&s<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=qK(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),u=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0);let h=0,p=0;return h=i.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,p=i.height<=o.height?u||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new lMe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,h,p,g;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const y=Math.min(r.bottom-e.y+r.top,e.y),w=this._lastBoundingBoxSize.height;o=2*y,s=e.y-y,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)g=r.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)p=e.x,h=r.right-e.x;else{const y=Math.min(r.right-e.x+r.left,e.x),w=this._lastBoundingBoxSize.width;h=2*y,p=e.x-y,h>w&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-w/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Ha(r.height),i.top=Ha(r.top),i.bottom=Ha(r.bottom),i.width=Ha(r.width),i.left=Ha(r.left),i.right=Ha(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Ha(o)),s&&(i.maxWidth=Ha(s))}this._lastBoundingBoxSize=r,sb(this._boundingBox.style,i)}_resetBoundingBoxStyles(){sb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const h=this._viewportRuler.getViewportScrollPosition();sb(r,this._getExactOverlayY(t,e,h)),sb(r,this._getExactOverlayX(t,e,h))}else r.position="static";let a="",u=this._getOffset(t,"x"),c=this._getOffset(t,"y");u&&(a+=`translateX(${u}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Ha(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Ha(s.maxWidth):o&&(r.maxWidth="")),sb(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Ha(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Ha(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:XK(e,r),isOriginOutsideView:Q3(e,r),isOverlayClipped:XK(t,r),isOverlayOutsideView:Q3(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&FO(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof _i)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function sb(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function ZK(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(uMe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function qK(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const JK="cdk-global-overlay-wrapper";class dMe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(JK),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,u=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let y="",w="",S="";u?S="flex-start":"center"===h?(S="center",g?w=p:y=p):g?"left"===h||"end"===h?(S="flex-end",y=p):("right"===h||"start"===h)&&(S="flex-start",w=p):"left"===h||"start"===h?(S="flex-start",y=p):("right"===h||"end"===h)&&(S="flex-end",w=p),e.position=this._cssPosition,e.marginLeft=u?"0":y,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":w,t.justifyContent=S,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(JK),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let hMe=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new dMe}flexibleConnectedTo(t){return new cMe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(gt(UO),gt(ki),gt(_c),gt(jO))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QK=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(gt(ki))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fMe=(()=>{class n extends QK{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(gt(ki),gt(wi,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pMe=(()=>{class n extends QK{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=rb(o)},this._clickListener=o=>{const s=rb(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let c=u.length-1;c>-1;c--){const h=u[c];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(gt(ki),gt(_c),gt(wi,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mMe=0,Iv=(()=>{class n{constructor(t,r,i,o,s,a,u,c,h,p,g,y){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=u,this._document=c,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new eB(t);return s.direction=s.direction||this._directionality.value,new mT(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+mMe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(OM)),new Gwe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(gt(aMe),gt(jO),gt(Lf),gt(hMe),gt(fMe),gt(Ms),gt(wi),gt(ki),gt(YM),gt(jE),gt(pMe),gt(zf,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const yMe={provide:new An("cdk-connected-overlay-scroll-strategy"),deps:[Iv],useFactory:function vMe(n){return()=>n.scrollStrategies.reposition()}};let tB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({providers:[Iv,yMe],imports:[fT,cT,J3,J3]}),n})();function _Me(n,e){}class WO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let eZ=(()=>{class n extends H3{constructor(t,r,i,o,s,a,u,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=u,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=h=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),p},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=L3(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=L3();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=L3())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(Y3),ke(ki,8),ke(WO),ke(HO),ke(wi),ke(mT),ke(gm))},n.\u0275cmp=Si({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&Sl(B3,7),2&t){let i;So(i=xo())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&Ko("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[mr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&k(0,_Me,0,0,"ng-template",0)},dependencies:[B3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class nB{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ht,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!ib(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=(null==t?void 0:t.focusOrigin)||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const tZ=new An("DialogScrollStrategy"),bMe=new An("DialogData"),wMe=new An("DefaultDialogConfig"),SMe={provide:tZ,deps:[Iv],useFactory:function MMe(n){return()=>n.scrollStrategies.block()}};let xMe=0,nZ=(()=>{class n{constructor(t,r,i,o,s,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ht,this._afterOpenedAtThisLevel=new Ht,this._ariaHiddenElements=new Map,this.afterAllClosed=tO(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(dm(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,r){const i=this._defaultOptions||new WO;(r=Object.assign(Object.assign({},i),r)).id=r.id||"cdk-dialog-"+xMe++,r.id&&this.getDialogById(r.id);const o=this._getOverlayConfig(r),s=this._overlay.create(o),a=new nB(s,r),u=this._attachContainer(s,a,r);return a.containerInstance=u,this._attachDialogContent(t,a,u,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){rB(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){rB(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),rB(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new eB({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){var o;const s=i.injector||(null===(o=i.viewContainerRef)||void 0===o?void 0:o.injector),a=[{provide:WO,useValue:i},{provide:nB,useValue:r},{provide:mT,useValue:t}];let u;i.container?"function"==typeof i.container?u=i.container:(u=i.container.type,a.push(...i.container.providers(i))):u=eZ;const c=new N3(u,i.viewContainerRef,Ms.create({parent:s||this._injector,providers:a}),i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,o){if(t instanceof il){const s=this._createInjector(o,r,i,void 0);let a={$implicit:o.data,dialogRef:r};o.templateContext&&(a=Object.assign(Object.assign({},a),"function"==typeof o.templateContext?o.templateContext():o.templateContext)),i.attachTemplatePortal(new F3(t,null,a,s))}else{const s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new N3(t,o.viewContainerRef,s,o.componentFactoryResolver));r.componentInstance=a.instance}}_createInjector(t,r,i,o){var s;const a=t.injector||(null===(s=t.viewContainerRef)||void 0===s?void 0:s.injector),u=[{provide:bMe,useValue:t.data},{provide:nB,useValue:r}];return t.providers&&("function"==typeof t.providers?u.push(...t.providers(r,t,i)):u.push(...t.providers)),t.direction&&(!a||!a.get(YM,null,cr.Optional))&&u.push({provide:YM,useValue:{value:t.direction,change:Fr()}}),Ms.create({parent:a||o,providers:u})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const o=r[i];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(gt(Iv),gt(Ms),gt(wMe,8),gt(n,12),gt(jO),gt(tZ))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();function rB(n,e){let t=n.length;for(;t--;)e(n[t])}let rZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({providers:[nZ,SMe],imports:[tB,cT,zK,cT]}),n})();const EMe=new An("mat-sanity-checks",{providedIn:"root",factory:function CMe(){return!0}});let Co=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!P3()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(gt(VK),gt(EMe,8),gt(ki))},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[fT,fT]}),n})();function YO(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ba(e)}}}function GM(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function gT(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ba(e)}}}function lZ(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?$f(t):this.defaultTabIndex}}}let RMe=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DMe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function vT(n,e,t){n.nativeElement.classList.toggle(e,t)}let uZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[Co,Co]}),n})();class OMe{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cZ={enterDuration:225,exitDuration:150},iB=UM({passive:!0}),dZ=["mousedown","touchstart"],hZ=["mouseup","mouseleave","touchend","touchcancel"];class LMe{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ob(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},cZ),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function PMe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,u=t-i.top,c=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=u-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=r.color&&(h.style.backgroundColor=r.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),y=p.transitionDuration,w="none"===p.transitionProperty||"0s"===y||"0s, 0s"===y,S=new OMe(this,h,r,w);h.style.transform="scale3d(1, 1, 1)",S.state=0,r.persistent||(this._mostRecentTransientRipple=S);let C=null;return!w&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const P=()=>this._finishRippleTransition(S),B=()=>this._destroyRipple(S);h.addEventListener("transitionend",P),h.addEventListener("transitioncancel",B),C={onTransitionEnd:P,onTransitionCancel:B}}),this._activeRipples.set(S,C),(w||!c)&&this._finishRippleTransition(S),S}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r=Object.assign(Object.assign({},cZ),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ob(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(dZ))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hZ),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){var t;const r=null!==(t=this._activeRipples.get(e))&&void 0!==t?t:null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==r&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=G3(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!$3(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,iB)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(dZ.forEach(e=>{this._triggerElement.removeEventListener(e,this,iB)}),this._pointerUpEventsRegistered&&hZ.forEach(e=>{this._triggerElement.removeEventListener(e,this,iB)}))}}const IMe=new An("mat-ripple-global-options");let $M=(()=>{class n{constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new LMe(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(wi),ke(_c),ke(IMe,8),ke(zf,8))},n.\u0275dir=Ln({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Fi("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[Co,Co]}),n})(),NMe=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(ke(zf,8))},n.\u0275cmp=Si({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&Fi("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),fZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[Co]}),n})();class pZ{}const vm="*";function XM(n,e){return{type:7,name:n,definitions:e,options:{}}}function Xf(n,e=null){return{type:4,styles:e,timings:n}}function $O(n,e=null){return{type:3,steps:n,options:e}}function mZ(n,e=null){return{type:2,steps:n,options:e}}function zl(n){return{type:6,styles:n,offset:null}}function ym(n,e,t){return{type:0,name:n,styles:e,options:t}}function Kf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function XO(n=null){return{type:9,options:n}}function KO(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function gZ(n){Promise.resolve(null).then(n)}class yT{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gZ(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class vZ{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?gZ(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function HMe(n,e){}const KM={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},BMe={dialogContainer:XM("dialogContainer",[ym("void, exit",zl({opacity:0,transform:"scale(0.7)"})),ym("enter",zl({transform:"none"})),Kf("* => enter",$O([Xf("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",zl({transform:"none",opacity:1})),KO("@*",XO(),{optional:!0})]),KM),Kf("* => void, * => exit",$O([Xf("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",zl({opacity:0})),KO("@*",XO(),{optional:!0})]),KM)])};class ZO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=KM.params.enterAnimationDuration,this.exitAnimationDuration=KM.params.exitAnimationDuration}}let VMe=(()=>{class n extends eZ{constructor(t,r,i,o,s,a,u,c){super(t,r,i,o,s,a,u,c),this._animationStateChanged=new go}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(Y3),ke(ki,8),ke(ZO),ke(HO),ke(wi),ke(mT),ke(gm))},n.\u0275cmp=Si({type:n,selectors:[["ng-component"]],features:[mr],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),zMe=(()=>{class n extends VMe{constructor(t,r,i,o,s,a,u,c,h){super(t,r,i,o,s,a,u,h),this._changeDetectorRef=c,this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?this._openAnimationDone(r):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||KM.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||KM.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(Y3),ke(ki,8),ke(ZO),ke(HO),ke(wi),ke(mT),ke(Pu),ke(gm))},n.\u0275cmp=Si({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,r){1&t&&jt("@dialogContainer.start",function(o){return r._onAnimationStart(o)})("@dialogContainer.done",function(o){return r._onAnimationDone(o)}),2&t&&(SM("id",r._config.id),Ko("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),WF("@dialogContainer",r._getAnimationState()))},features:[mr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&k(0,HMe,0,0,"ng-template",0)},dependencies:[B3],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[BMe.dialogContainer]}}),n})();class id{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Ht,this._beforeClosed=new Ht,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Ia(i=>"opened"===i.state),al(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Ia(i=>"closed"===i.state),al(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Oc(this.backdropClick(),this.keydownEvents().pipe(Ia(i=>27===i.keyCode&&!this.disableClose&&!ib(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),yZ(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ia(t=>"closing"===t.state),al(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function yZ(n,e,t){return n._closeInteractionType=e,n.close(t)}const UMe=new An("MatDialogData"),jMe=new An("mat-dialog-default-options"),_Z=new An("mat-dialog-scroll-strategy"),YMe={provide:_Z,deps:[Iv],useFactory:function WMe(n){return()=>n.scrollStrategies.block()}};let GMe=0,$Me=(()=>{class n{constructor(t,r,i,o,s,a,u,c,h,p){this._overlay=t,this._defaultOptions=i,this._parentDialog=o,this._dialogRefConstructor=u,this._dialogContainerType=c,this._dialogDataToken=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ht,this._afterOpenedAtThisLevel=new Ht,this._idPrefix="mat-dialog-",this.afterAllClosed=tO(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(dm(void 0))),this._scrollStrategy=a,this._dialog=r.get(nZ)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){let i;(r=Object.assign(Object.assign({},this._defaultOptions||new ZO),r)).id=r.id||`${this._idPrefix}${GMe++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,Object.assign(Object.assign({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:ZO,useValue:r},{provide:WO,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(s,a,u)=>(i=new this._dialogRefConstructor(s,r,u),i.updatePosition(null==r?void 0:r.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){iv()},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),_T=(()=>{class n extends $Me{constructor(t,r,i,o,s,a,u,c){super(t,r,o,a,u,s,id,zMe,UMe,c)}}return n.\u0275fac=function(t){return new(t||n)(gt(Iv),gt(Ms),gt(jE,8),gt(jMe,8),gt(_Z),gt(n,12),gt(jO),gt(zf,8))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),XMe=0,Zf=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=bZ(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){yZ(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(ke(id,8),ke(_i),ke(_T))},n.\u0275dir=Ln({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&at("click",function(o){return r._onButtonClick(o)}),2&t&&Ko("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Us]}),n})(),qf=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+XMe++}ngOnInit(){this._dialogRef||(this._dialogRef=bZ(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(ke(id,8),ke(_i),ke(_T))},n.\u0275dir=Ln({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&SM("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),_m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Jf=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,r){2&t&&Fi("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),n})();function bZ(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let KMe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({providers:[_T,YMe],imports:[rZ,tB,cT,Co,Co]}),n})();const ZMe=["mat-button",""],qMe=["*"],QMe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],eSe=GM(YO(gT(class{constructor(n){this._elementRef=n}})));let $h=(()=>{class n extends eSe{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of QMe)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(gm),ke(zf,8))},n.\u0275cmp=Si({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&Sl($M,5),2&t){let i;So(i=xo())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(Ko("disabled",r.disabled||null),Fi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[mr],attrs:ZMe,ngContentSelectors:qMe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&($n(),te(0,"span",0),Kn(1),se(),oe(2,"span",1)(3,"span",2)),2&t&&(Er(2),Fi("mat-button-ripple-round",r.isRoundButton||r.isIconButton),V("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[$M],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),tSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[GO,Co,Co]}),n})();function nSe(n,e){if(1&n&&(De(0),te(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),Cn(5),se()()()(),oe(6,"div",18),Ce()),2&n){const t=Yt().$implicit;Er(5),jr(" ",t.content," ")}}function rSe(n,e){if(1&n&&(De(0),te(1,"div",19)(2,"div",15)(3,"div",16)(4,"div",17),Cn(5),se()()()(),oe(6,"div",18),Ce()),2&n){const t=Yt().$implicit;Er(5),jr(" ",t.content," ")}}function iSe(n,e){if(1&n&&(De(0),k(1,nSe,7,1,"ng-container",13),k(2,rSe,7,1,"ng-container",13),Ce()),2&n){const t=e.$implicit;Er(1),V("ngIf",!t.user),Er(1),V("ngIf",t.user)}}let oSe=(()=>{class n{constructor(t,r){this.socketService=t,this.dialogRef=r}ngOnInit(){this.socketService.setupSocketConnection()}ngOnDestroy(){this.socketService.disconnect()}sendMessage(t){this.socketService.sendMessage(t)}}return n.\u0275fac=function(t){return new(t||n)(ke(_K),ke(id))},n.\u0275cmp=Si({type:n,selectors:[["app-chat"]],decls:17,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["id","your_container"],["id","bms_messages_container"],["id","bms_messages"],[4,"ngFor","ngForOf"],["id","bms_send"],["id","bms_send_message",3,"keydown.enter"],["send_message",""],["id","bms_send_btn",3,"click"],["send_btn",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],[4,"ngIf"],[1,"bms_message","bms_left"],[1,"bms_message_box"],[1,"bms_message_content"],[1,"bms_message_text"],[1,"bms_clear"],[1,"bms_message","bms_right"]],template:function(t,r){if(1&t){const i=Se();te(0,"h3",0),Cn(1,"\u3042\u306a\u305f\u306f\u30e6\u30fc\u30b6\u30fc1\u3067\u3059"),se(),te(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),k(6,iSe,3,2,"ng-container",5),se(),te(7,"div",6)(8,"textarea",7,8),at("keydown.enter",function(){Za(i);const s=H(9);return r.sendMessage(s.value),Zs(s.value="")}),Cn(10,"                "),se(),te(11,"div",9,10),at("click",function(){Za(i);const s=H(9);return r.sendMessage(s.value),Zs(s.value="")}),Cn(13," \u9001\u4fe1 "),se()()()()(),te(14,"div",11)(15,"button",12),Cn(16,"\u9589\u3058\u308b"),se()()}2&t&&(Er(6),V("ngForOf",r.socketService.comments))},dependencies:[PH,GE,$h,Zf,qf,_m,Jf],styles:['@charset "UTF-8";#your_container[_ngcontent-%COMP%]{height:70%;width:100%}#bms_messages_container[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#eee}#bms_messages[_ngcontent-%COMP%]{overflow:auto;height:100%;border-right:1px solid #ddd;border-left:1px solid #ddd;background-color:#eee;box-shadow:0 2px 2px #0003 inset}.bms_message[_ngcontent-%COMP%]{margin:0;padding:0 14px;font-size:16px;word-wrap:break-word;white-space:normal}.bms_message_box[_ngcontent-%COMP%]{margin-top:20px;max-width:100%;font-size:16px}.bms_message_content[_ngcontent-%COMP%]{padding:20px}.bms_left[_ngcontent-%COMP%]{float:left;line-height:1.3em}.bms_left[_ngcontent-%COMP%]   .bms_message_box[_ngcontent-%COMP%]{color:#333;background:#fff;border:2px solid #13178e;border-radius:30px 30px 30px 0;margin-right:50px}.bms_right[_ngcontent-%COMP%]{float:right;line-height:1.3em}.bms_right[_ngcontent-%COMP%]   .bms_message_box[_ngcontent-%COMP%]{color:#fff;background:#13178e;border:2px solid #13178e;border-radius:30px 30px 0;margin-left:50px}.bms_clear[_ngcontent-%COMP%]{clear:both}#bms_send[_ngcontent-%COMP%]{background-color:#eee;border-right:1px solid #ddd;border-left:1px solid #ddd;border-bottom:1px solid #ddd;height:48px;padding:4px}#bms_send_message[_ngcontent-%COMP%]{width:calc(100% - 75px);line-height:16px;height:48px;padding:14px 6px 0;border:1px solid #ccc;border-radius:4px;text-align:left;box-shadow:2px 2px 4px #0003 inset;box-sizing:border-box}#bms_send_btn[_ngcontent-%COMP%]{width:72px;height:48px;font-size:16px;line-height:3em;float:right;color:#fff;font-weight:700;background:#bcbcbc;text-align:center;border:1px solid #bbb;border-radius:4px;box-sizing:border-box}#bms_send_btn[_ngcontent-%COMP%]:hover{background:#13178e;cursor:pointer}']}),n})();var sSe=b(1670);const bc=1001,ll=1003,Ba=1006,cb=1009,db=1014,Fv=1015,MT=1016,eS=1020,Xh=1023,hb=1026,tS=1027,fb=3e3,da=3001,wm="srgb",pb="srgb-linear";class oS{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const o=i.indexOf(t);-1!==o&&i.splice(o,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const r=this._listeners[e.type];if(void 0!==r){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const uu=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],mb=Math.PI/180,ST=180/Math.PI;function od(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(uu[255&n]+uu[n>>8&255]+uu[n>>16&255]+uu[n>>24&255]+"-"+uu[255&e]+uu[e>>8&255]+"-"+uu[e>>16&15|64]+uu[e>>24&255]+"-"+uu[63&t|128]+uu[t>>8&255]+"-"+uu[t>>16&255]+uu[t>>24&255]+uu[255&r]+uu[r>>8&255]+uu[r>>16&255]+uu[r>>24&255]).toLowerCase()}function wa(n,e,t){return Math.max(e,Math.min(t,n))}function xT(n,e,t){return(1-t)*n+t*e}function wB(n){return 0==(n&n-1)&&0!==n}function ok(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}class En{constructor(e=0,t=0){En.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wc{constructor(){wc.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,u,c){const h=this.elements;return h[0]=e,h[1]=i,h[2]=a,h[3]=t,h[4]=o,h[5]=u,h[6]=r,h[7]=s,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[3],u=r[6],c=r[1],h=r[4],p=r[7],g=r[2],y=r[5],w=r[8],S=i[0],C=i[3],P=i[6],B=i[1],z=i[4],j=i[7],X=i[2],ie=i[5],me=i[8];return o[0]=s*S+a*B+u*X,o[3]=s*C+a*z+u*ie,o[6]=s*P+a*j+u*me,o[1]=c*S+h*B+p*X,o[4]=c*C+h*z+p*ie,o[7]=c*P+h*j+p*me,o[2]=g*S+y*B+w*X,o[5]=g*C+y*z+w*ie,o[8]=g*P+y*j+w*me,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],h=e[8];return t*s*h-t*a*c-r*o*h+r*a*u+i*o*c-i*s*u}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],h=e[8],p=h*s-a*c,g=a*u-h*o,y=c*o-s*u,w=t*p+r*g+i*y;if(0===w)return this.set(0,0,0,0,0,0,0,0,0);const S=1/w;return e[0]=p*S,e[1]=(i*c-h*r)*S,e[2]=(a*r-i*s)*S,e[3]=g*S,e[4]=(h*t-i*u)*S,e[5]=(i*o-a*t)*S,e[6]=y*S,e[7]=(r*u-c*t)*S,e[8]=(s*t-r*o)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,s,a){const u=Math.cos(o),c=Math.sin(o);return this.set(r*u,r*c,-r*(u*s+c*a)+s+e,-i*c,i*u,-i*(-c*s+u*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],s=i[3],a=i[6],u=i[1],c=i[4],h=i[7];return i[0]=t*o+r*u,i[3]=t*s+r*c,i[6]=t*a+r*h,i[1]=-r*o+t*u,i[4]=-r*s+t*c,i[7]=-r*a+t*h,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function rq(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}function CT(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function gb(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function sk(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const MB={[wm]:{[pb]:gb},[pb]:{[wm]:sk}},Kh={legacyMode:!0,get workingColorSpace(){return pb},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(MB[e]&&void 0!==MB[e][t]){const r=MB[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},iq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ul={r:0,g:0,b:0},Zh={h:0,s:0,l:0},ak={h:0,s:0,l:0};function SB(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}function lk(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let aS,Rr=(()=>{class n{constructor(t,r,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===r&&void 0===i?this.set(t):this.setRGB(t,r,i)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,r=wm){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Kh.toWorkingColorSpace(this,r),this}setRGB(t,r,i,o=pb){return this.r=t,this.g=r,this.b=i,Kh.toWorkingColorSpace(this,o),this}setHSL(t,r,i,o=pb){if(t=function bB(n,e){return(n%e+e)%e}(t,1),r=wa(r,0,1),i=wa(i,0,1),0===r)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+r):i+r-i*r,a=2*i-s;this.r=SB(a,s,t+1/3),this.g=SB(a,s,t),this.b=SB(a,s,t-1/3)}return Kh.toWorkingColorSpace(this,o),this}setStyle(t,r=wm){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let o;if(o=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let s;const u=o[2];switch(o[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Kh.toWorkingColorSpace(this,r),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Kh.toWorkingColorSpace(this,r),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u)){const c=parseFloat(s[1])/360,h=parseInt(s[2],10)/100,p=parseInt(s[3],10)/100;return i(s[4]),this.setHSL(c,h,p,r)}}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=o[1],a=s.length;if(3===a)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Kh.toWorkingColorSpace(this,r),this;if(6===a)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Kh.toWorkingColorSpace(this,r),this}return t&&t.length>0?this.setColorName(t,r):this}setColorName(t,r=wm){const i=iq[t.toLowerCase()];return void 0!==i?this.setHex(i,r):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=gb(t.r),this.g=gb(t.g),this.b=gb(t.b),this}copyLinearToSRGB(t){return this.r=sk(t.r),this.g=sk(t.g),this.b=sk(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=wm){return Kh.fromWorkingColorSpace(lk(this,ul),t),wa(255*ul.r,0,255)<<16^wa(255*ul.g,0,255)<<8^wa(255*ul.b,0,255)<<0}getHexString(t=wm){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,r=pb){Kh.fromWorkingColorSpace(lk(this,ul),r);const i=ul.r,o=ul.g,s=ul.b,a=Math.max(i,o,s),u=Math.min(i,o,s);let c,h;const p=(u+a)/2;if(u===a)c=0,h=0;else{const g=a-u;switch(h=p<=.5?g/(a+u):g/(2-a-u),a){case i:c=(o-s)/g+(o<s?6:0);break;case o:c=(s-i)/g+2;break;case s:c=(i-o)/g+4}c/=6}return t.h=c,t.s=h,t.l=p,t}getRGB(t,r=pb){return Kh.fromWorkingColorSpace(lk(this,ul),r),t.r=ul.r,t.g=ul.g,t.b=ul.b,t}getStyle(t=wm){return Kh.fromWorkingColorSpace(lk(this,ul),t),t!==wm?`color(${t} ${ul.r} ${ul.g} ${ul.b})`:`rgb(${255*ul.r|0},${255*ul.g|0},${255*ul.b|0})`}offsetHSL(t,r,i){return this.getHSL(Zh),Zh.h+=t,Zh.s+=r,Zh.l+=i,this.setHSL(Zh.h,Zh.s,Zh.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this}lerpColors(t,r,i){return this.r=t.r+(r.r-t.r)*i,this.g=t.g+(r.g-t.g)*i,this.b=t.b+(r.b-t.b)*i,this}lerpHSL(t,r){this.getHSL(Zh),t.getHSL(ak);const i=xT(Zh.h,ak.h,r),o=xT(Zh.s,ak.s,r),s=xT(Zh.l,ak.l,r);return this.setHSL(i,o,s),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,r=0){return this.r=t[r],this.g=t[r+1],this.b=t[r+2],this}toArray(t=[],r=0){return t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t}fromBufferAttribute(t,r){return this.r=t.getX(r),this.g=t.getY(r),this.b=t.getZ(r),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return n.NAMES=iq,n})();class oq{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===aS&&(aS=CT("canvas")),aS.width=e.width,aS.height=e.height;const r=aS.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=aS}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=CT("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=255*gb(o[s]/255);return r.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t[r]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*gb(t[r]/255)):gb(t[r]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class lS{constructor(e=null){this.isSource=!0,this.uuid=od(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(null!==i){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)o.push(xB(i[s].isDataTexture?i[s].image:i[s]))}else o=xB(i);r.url=o}return t||(e.images[this.uuid]=r),r}}function xB(n){return"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap?oq.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let wxe=0,Hv=(()=>{class n extends oS{constructor(t=n.DEFAULT_IMAGE,r=n.DEFAULT_MAPPING,i=bc,o=bc,s=Ba,a=1008,u=Xh,c=cb,h=1,p=fb){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:wxe++}),this.uuid=od(),this.name="",this.source=new lS(t),this.mipmaps=[],this.mapping=r,this.wrapS=i,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=h,this.format=u,this.internalFormat=null,this.type=c,this.offset=new En(0,0),this.repeat=new En(1,1),this.center=new En(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wc,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),r||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case bc:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case bc:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n})();class ss{constructor(e=0,t=0,r=0,i=1){ss.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o;const u=e.elements,c=u[0],h=u[4],p=u[8],g=u[1],y=u[5],w=u[9],S=u[2],C=u[6],P=u[10];if(Math.abs(h-g)<.01&&Math.abs(p-S)<.01&&Math.abs(w-C)<.01){if(Math.abs(h+g)<.1&&Math.abs(p+S)<.1&&Math.abs(w+C)<.1&&Math.abs(c+y+P-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const z=(c+1)/2,j=(y+1)/2,X=(P+1)/2,ie=(h+g)/4,me=(p+S)/4,re=(w+C)/4;return z>j&&z>X?z<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(z),i=ie/r,o=me/r):j>X?j<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(j),r=ie/i,o=re/i):X<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(X),r=me/o,i=re/o),this.set(r,i,o,t),this}let B=Math.sqrt((C-w)*(C-w)+(p-S)*(p-S)+(g-h)*(g-h));return Math.abs(B)<.001&&(B=1),this.x=(C-w)/B,this.y=(p-S)/B,this.z=(g-h)/B,this.w=Math.acos((c+y+P-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vb extends oS{constructor(e,t,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ss(0,0,e,t),this.scissorTest=!1,this.viewport=new ss(0,0,e,t),this.texture=new Hv({width:e,height:t,depth:1},r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.internalFormat=void 0!==r.internalFormat?r.internalFormat:null,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:Ba,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null,this.samples=void 0!==r.samples?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new lS(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class CB extends Hv{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ll,this.minFilter=ll,this.wrapR=bc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class sq extends Hv{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ll,this.minFilter=ll,this.wrapR=bc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class sd{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,o,s,a){let u=r[i+0],c=r[i+1],h=r[i+2],p=r[i+3];const g=o[s+0],y=o[s+1],w=o[s+2],S=o[s+3];if(0===a)return e[t+0]=u,e[t+1]=c,e[t+2]=h,void(e[t+3]=p);if(1===a)return e[t+0]=g,e[t+1]=y,e[t+2]=w,void(e[t+3]=S);if(p!==S||u!==g||c!==y||h!==w){let C=1-a;const P=u*g+c*y+h*w+p*S,B=P>=0?1:-1,z=1-P*P;if(z>Number.EPSILON){const X=Math.sqrt(z),ie=Math.atan2(X,P*B);C=Math.sin(C*ie)/X,a=Math.sin(a*ie)/X}const j=a*B;if(u=u*C+g*j,c=c*C+y*j,h=h*C+w*j,p=p*C+S*j,C===1-a){const X=1/Math.sqrt(u*u+c*c+h*h+p*p);u*=X,c*=X,h*=X,p*=X}}e[t]=u,e[t+1]=c,e[t+2]=h,e[t+3]=p}static multiplyQuaternionsFlat(e,t,r,i,o,s){const a=r[i],u=r[i+1],c=r[i+2],h=r[i+3],p=o[s],g=o[s+1],y=o[s+2],w=o[s+3];return e[t]=a*w+h*p+u*y-c*g,e[t+1]=u*w+h*g+c*p-a*y,e[t+2]=c*w+h*y+a*g-u*p,e[t+3]=h*w-a*p-u*g-c*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,u=Math.sin,c=a(r/2),h=a(i/2),p=a(o/2),g=u(r/2),y=u(i/2),w=u(o/2);switch(s){case"XYZ":this._x=g*h*p+c*y*w,this._y=c*y*p-g*h*w,this._z=c*h*w+g*y*p,this._w=c*h*p-g*y*w;break;case"YXZ":this._x=g*h*p+c*y*w,this._y=c*y*p-g*h*w,this._z=c*h*w-g*y*p,this._w=c*h*p+g*y*w;break;case"ZXY":this._x=g*h*p-c*y*w,this._y=c*y*p+g*h*w,this._z=c*h*w+g*y*p,this._w=c*h*p-g*y*w;break;case"ZYX":this._x=g*h*p-c*y*w,this._y=c*y*p+g*h*w,this._z=c*h*w-g*y*p,this._w=c*h*p+g*y*w;break;case"YZX":this._x=g*h*p+c*y*w,this._y=c*y*p+g*h*w,this._z=c*h*w-g*y*p,this._w=c*h*p-g*y*w;break;case"XZY":this._x=g*h*p-c*y*w,this._y=c*y*p-g*h*w,this._z=c*h*w+g*y*p,this._w=c*h*p+g*y*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],o=t[8],s=t[1],a=t[5],u=t[9],c=t[2],h=t[6],p=t[10],g=r+a+p;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(h-u)*y,this._y=(o-c)*y,this._z=(s-i)*y}else if(r>a&&r>p){const y=2*Math.sqrt(1+r-a-p);this._w=(h-u)/y,this._x=.25*y,this._y=(i+s)/y,this._z=(o+c)/y}else if(a>p){const y=2*Math.sqrt(1+a-r-p);this._w=(o-c)/y,this._x=(i+s)/y,this._y=.25*y,this._z=(u+h)/y}else{const y=2*Math.sqrt(1+p-r-a);this._w=(s-i)/y,this._x=(o+c)/y,this._y=(u+h)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wa(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,o=e._z,s=e._w,a=t._x,u=t._y,c=t._z,h=t._w;return this._x=r*h+s*a+i*c-o*u,this._y=i*h+s*u+o*a-r*c,this._z=o*h+s*c+r*u-i*a,this._w=s*h-r*a-i*u-o*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const u=1-a*a;if(u<=Number.EPSILON){const y=1-t;return this._w=y*s+t*this._w,this._x=y*r+t*this._x,this._y=y*i+t*this._y,this._z=y*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(u),h=Math.atan2(c,a),p=Math.sin((1-t)*h)/c,g=Math.sin(t*h)/c;return this._w=s*p+this._w*g,this._x=r*p+this._x*g,this._y=i*p+this._y*g,this._z=o*p+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(o),r*Math.cos(o),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Be{constructor(e=0,t=0,r=0){Be.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(aq.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(aq.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,u=e.w,c=u*t+s*i-a*r,h=u*r+a*t-o*i,p=u*i+o*r-s*t,g=-o*t-s*r-a*i;return this.x=c*u+g*-o+h*-a-p*-s,this.y=h*u+g*-s+p*-o-c*-a,this.z=p*u+g*-a+c*-s-h*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,o=e.z,s=t.x,a=t.y,u=t.z;return this.x=i*u-o*a,this.y=o*s-r*u,this.z=r*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return EB.copy(this).projectOnVector(e),this.sub(EB)}reflect(e){return this.sub(EB.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(wa(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,r=Math.sqrt(1-dfe(e,2));return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const EB=new Be,aq=new sd;class uS{constructor(e=new Be(1/0,1/0,1/0),t=new Be(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let u=0,c=e.length;u<c;u+=3){const h=e[u],p=e[u+1],g=e[u+2];h<t&&(t=h),p<r&&(r=p),g<i&&(i=g),h>o&&(o=h),p>s&&(s=p),g>a&&(a=g)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let u=0,c=e.count;u<c;u++){const h=e.getX(u),p=e.getY(u),g=e.getZ(u);h<t&&(t=h),p<r&&(r=p),g<i&&(i=g),h>o&&(o=h),p>s&&(s=p),g>a&&(a=g)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=yb.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r)if(t&&null!=r.attributes&&void 0!==r.attributes.position){const o=r.attributes.position;for(let s=0,a=o.count;s<a;s++)yb.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(yb)}else null===r.boundingBox&&r.computeBoundingBox(),TB.copy(r.boundingBox),TB.applyMatrix4(e.matrixWorld),this.union(TB);const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,yb),yb.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ET),uk.subVectors(this.max,ET),cS.subVectors(e.a,ET),dS.subVectors(e.b,ET),hS.subVectors(e.c,ET),Bv.subVectors(dS,cS),Vv.subVectors(hS,dS),_b.subVectors(cS,hS);let t=[0,-Bv.z,Bv.y,0,-Vv.z,Vv.y,0,-_b.z,_b.y,Bv.z,0,-Bv.x,Vv.z,0,-Vv.x,_b.z,0,-_b.x,-Bv.y,Bv.x,0,-Vv.y,Vv.x,0,-_b.y,_b.x,0];return!(!RB(t,cS,dS,hS,uk)||(t=[1,0,0,0,1,0,0,0,1],!RB(t,cS,dS,hS,uk)))&&(ck.crossVectors(Bv,Vv),t=[ck.x,ck.y,ck.z],RB(t,cS,dS,hS,uk))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return yb.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(yb).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Mm[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mm[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mm[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mm[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mm[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mm[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mm[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mm[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mm)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Mm=[new Be,new Be,new Be,new Be,new Be,new Be,new Be,new Be],yb=new Be,TB=new uS,cS=new Be,dS=new Be,hS=new Be,Bv=new Be,Vv=new Be,_b=new Be,ET=new Be,uk=new Be,ck=new Be,bb=new Be;function RB(n,e,t,r,i){for(let o=0,s=n.length-3;o<=s;o+=3){bb.fromArray(n,o);const a=i.x*Math.abs(bb.x)+i.y*Math.abs(bb.y)+i.z*Math.abs(bb.z),u=e.dot(bb),c=t.dot(bb),h=r.dot(bb);if(Math.max(-Math.max(u,c,h),Math.min(u,c,h))>a)return!1}return!0}const Mxe=new uS,lq=new Be,dk=new Be,DB=new Be;class fS{constructor(e=new Be,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):Mxe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){DB.subVectors(e,this.center);const t=DB.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=.5*(r-this.radius);this.center.add(DB.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return!0===this.center.equals(e.center)?dk.set(0,0,1).multiplyScalar(e.radius):dk.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(lq.copy(e.center).add(dk)),this.expandByPoint(lq.copy(e.center).sub(dk)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Sm=new Be,AB=new Be,hk=new Be,zv=new Be,OB=new Be,fk=new Be,kB=new Be;class pk{constructor(e=new Be,t=new Be(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Sm)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Sm.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Sm.copy(this.direction).multiplyScalar(t).add(this.origin),Sm.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){AB.copy(e).add(t).multiplyScalar(.5),hk.copy(t).sub(e).normalize(),zv.copy(this.origin).sub(AB);const o=.5*e.distanceTo(t),s=-this.direction.dot(hk),a=zv.dot(this.direction),u=-zv.dot(hk),c=zv.lengthSq(),h=Math.abs(1-s*s);let p,g,y,w;if(h>0)if(p=s*u-a,g=s*a-u,w=o*h,p>=0)if(g>=-w)if(g<=w){const S=1/h;p*=S,g*=S,y=p*(p+s*g+2*a)+g*(s*p+g+2*u)+c}else g=o,p=Math.max(0,-(s*g+a)),y=-p*p+g*(g+2*u)+c;else g=-o,p=Math.max(0,-(s*g+a)),y=-p*p+g*(g+2*u)+c;else g<=-w?(p=Math.max(0,-(-s*o+a)),g=p>0?-o:Math.min(Math.max(-o,-u),o),y=-p*p+g*(g+2*u)+c):g<=w?(p=0,g=Math.min(Math.max(-o,-u),o),y=g*(g+2*u)+c):(p=Math.max(0,-(s*o+a)),g=p>0?o:Math.min(Math.max(-o,-u),o),y=-p*p+g*(g+2*u)+c);else g=s>0?-o:o,p=Math.max(0,-(s*g+a)),y=-p*p+g*(g+2*u)+c;return r&&r.copy(this.direction).multiplyScalar(p).add(this.origin),i&&i.copy(hk).multiplyScalar(g).add(AB),y}intersectSphere(e,t){Sm.subVectors(e.center,this.origin);const r=Sm.dot(this.direction),i=Sm.dot(Sm)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,u=r+s;return a<0&&u<0?null:this.at(a<0?u:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,s,a,u;const c=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,g=this.origin;return c>=0?(r=(e.min.x-g.x)*c,i=(e.max.x-g.x)*c):(r=(e.max.x-g.x)*c,i=(e.min.x-g.x)*c),h>=0?(o=(e.min.y-g.y)*h,s=(e.max.y-g.y)*h):(o=(e.max.y-g.y)*h,s=(e.min.y-g.y)*h),r>s||o>i||((o>r||r!=r)&&(r=o),(s<i||i!=i)&&(i=s),p>=0?(a=(e.min.z-g.z)*p,u=(e.max.z-g.z)*p):(a=(e.max.z-g.z)*p,u=(e.min.z-g.z)*p),r>u||a>i)||((a>r||r!=r)&&(r=a),(u<i||i!=i)&&(i=u),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,Sm)}intersectTriangle(e,t,r,i,o){OB.subVectors(t,e),fk.subVectors(r,e),kB.crossVectors(OB,fk);let a,s=this.direction.dot(kB);if(s>0){if(i)return null;a=1}else{if(!(s<0))return null;a=-1,s=-s}zv.subVectors(this.origin,e);const u=a*this.direction.dot(fk.crossVectors(zv,fk));if(u<0)return null;const c=a*this.direction.dot(OB.cross(zv));if(c<0||u+c>s)return null;const h=-a*zv.dot(kB);return h<0?null:this.at(h/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class ro{constructor(){ro.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,u,c,h,p,g,y,w,S,C){const P=this.elements;return P[0]=e,P[4]=t,P[8]=r,P[12]=i,P[1]=o,P[5]=s,P[9]=a,P[13]=u,P[2]=c,P[6]=h,P[10]=p,P[14]=g,P[3]=y,P[7]=w,P[11]=S,P[15]=C,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ro).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/pS.setFromMatrixColumn(e,0).length(),o=1/pS.setFromMatrixColumn(e,1).length(),s=1/pS.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),u=Math.cos(i),c=Math.sin(i),h=Math.cos(o),p=Math.sin(o);if("XYZ"===e.order){const g=s*h,y=s*p,w=a*h,S=a*p;t[0]=u*h,t[4]=-u*p,t[8]=c,t[1]=y+w*c,t[5]=g-S*c,t[9]=-a*u,t[2]=S-g*c,t[6]=w+y*c,t[10]=s*u}else if("YXZ"===e.order){const g=u*h,y=u*p,w=c*h,S=c*p;t[0]=g+S*a,t[4]=w*a-y,t[8]=s*c,t[1]=s*p,t[5]=s*h,t[9]=-a,t[2]=y*a-w,t[6]=S+g*a,t[10]=s*u}else if("ZXY"===e.order){const g=u*h,y=u*p,w=c*h,S=c*p;t[0]=g-S*a,t[4]=-s*p,t[8]=w+y*a,t[1]=y+w*a,t[5]=s*h,t[9]=S-g*a,t[2]=-s*c,t[6]=a,t[10]=s*u}else if("ZYX"===e.order){const g=s*h,y=s*p,w=a*h,S=a*p;t[0]=u*h,t[4]=w*c-y,t[8]=g*c+S,t[1]=u*p,t[5]=S*c+g,t[9]=y*c-w,t[2]=-c,t[6]=a*u,t[10]=s*u}else if("YZX"===e.order){const g=s*u,y=s*c,w=a*u,S=a*c;t[0]=u*h,t[4]=S-g*p,t[8]=w*p+y,t[1]=p,t[5]=s*h,t[9]=-a*h,t[2]=-c*h,t[6]=y*p+w,t[10]=g-S*p}else if("XZY"===e.order){const g=s*u,y=s*c,w=a*u,S=a*c;t[0]=u*h,t[4]=-p,t[8]=c*h,t[1]=g*p+S,t[5]=s*h,t[9]=y*p-w,t[2]=w*p-y,t[6]=a*h,t[10]=S*p+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Sxe,e,xxe)}lookAt(e,t,r){const i=this.elements;return ad.subVectors(e,t),0===ad.lengthSq()&&(ad.z=1),ad.normalize(),Uv.crossVectors(r,ad),0===Uv.lengthSq()&&(1===Math.abs(r.z)?ad.x+=1e-4:ad.z+=1e-4,ad.normalize(),Uv.crossVectors(r,ad)),Uv.normalize(),mk.crossVectors(ad,Uv),i[0]=Uv.x,i[4]=mk.x,i[8]=ad.x,i[1]=Uv.y,i[5]=mk.y,i[9]=ad.y,i[2]=Uv.z,i[6]=mk.z,i[10]=ad.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[4],u=r[8],c=r[12],h=r[1],p=r[5],g=r[9],y=r[13],w=r[2],S=r[6],C=r[10],P=r[14],B=r[3],z=r[7],j=r[11],X=r[15],ie=i[0],me=i[4],re=i[8],pe=i[12],we=i[1],Le=i[5],ot=i[9],lt=i[13],je=i[2],bt=i[6],ye=i[10],Ae=i[14],Ye=i[3],Je=i[7],wt=i[11],Z=i[15];return o[0]=s*ie+a*we+u*je+c*Ye,o[4]=s*me+a*Le+u*bt+c*Je,o[8]=s*re+a*ot+u*ye+c*wt,o[12]=s*pe+a*lt+u*Ae+c*Z,o[1]=h*ie+p*we+g*je+y*Ye,o[5]=h*me+p*Le+g*bt+y*Je,o[9]=h*re+p*ot+g*ye+y*wt,o[13]=h*pe+p*lt+g*Ae+y*Z,o[2]=w*ie+S*we+C*je+P*Ye,o[6]=w*me+S*Le+C*bt+P*Je,o[10]=w*re+S*ot+C*ye+P*wt,o[14]=w*pe+S*lt+C*Ae+P*Z,o[3]=B*ie+z*we+j*je+X*Ye,o[7]=B*me+z*Le+j*bt+X*Je,o[11]=B*re+z*ot+j*ye+X*wt,o[15]=B*pe+z*lt+j*Ae+X*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],u=e[9],c=e[13],h=e[2],p=e[6],g=e[10],y=e[14];return e[3]*(+o*u*p-i*c*p-o*a*g+r*c*g+i*a*y-r*u*y)+e[7]*(+t*u*y-t*c*g+o*s*g-i*s*y+i*c*h-o*u*h)+e[11]*(+t*c*p-t*a*y-o*s*p+r*s*y+o*a*h-r*c*h)+e[15]*(-i*a*h-t*u*p+t*a*g+i*s*p-r*s*g+r*u*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],h=e[8],p=e[9],g=e[10],y=e[11],w=e[12],S=e[13],C=e[14],P=e[15],B=p*C*c-S*g*c+S*u*y-a*C*y-p*u*P+a*g*P,z=w*g*c-h*C*c-w*u*y+s*C*y+h*u*P-s*g*P,j=h*S*c-w*p*c+w*a*y-s*S*y-h*a*P+s*p*P,X=w*p*u-h*S*u-w*a*g+s*S*g+h*a*C-s*p*C,ie=t*B+r*z+i*j+o*X;if(0===ie)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const me=1/ie;return e[0]=B*me,e[1]=(S*g*o-p*C*o-S*i*y+r*C*y+p*i*P-r*g*P)*me,e[2]=(a*C*o-S*u*o+S*i*c-r*C*c-a*i*P+r*u*P)*me,e[3]=(p*u*o-a*g*o-p*i*c+r*g*c+a*i*y-r*u*y)*me,e[4]=z*me,e[5]=(h*C*o-w*g*o+w*i*y-t*C*y-h*i*P+t*g*P)*me,e[6]=(w*u*o-s*C*o-w*i*c+t*C*c+s*i*P-t*u*P)*me,e[7]=(s*g*o-h*u*o+h*i*c-t*g*c-s*i*y+t*u*y)*me,e[8]=j*me,e[9]=(w*p*o-h*S*o-w*r*y+t*S*y+h*r*P-t*p*P)*me,e[10]=(s*S*o-w*a*o+w*r*c-t*S*c-s*r*P+t*a*P)*me,e[11]=(h*a*o-s*p*o-h*r*c+t*p*c+s*r*y-t*a*y)*me,e[12]=X*me,e[13]=(h*S*i-w*p*i+w*r*g-t*S*g-h*r*C+t*p*C)*me,e[14]=(w*a*i-s*S*i-w*r*u+t*S*u+s*r*C-t*a*C)*me,e[15]=(s*p*i-h*a*i+h*r*u-t*p*u-s*r*g+t*a*g)*me,this}scale(e){const t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),o=1-r,s=e.x,a=e.y,u=e.z,c=o*s,h=o*a;return this.set(c*s+r,c*a-i*u,c*u+i*a,0,c*a+i*u,h*a+r,h*u-i*s,0,c*u-i*a,h*u+i*s,o*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,o=t._x,s=t._y,a=t._z,u=t._w,c=o+o,h=s+s,p=a+a,g=o*c,y=o*h,w=o*p,S=s*h,C=s*p,P=a*p,B=u*c,z=u*h,j=u*p,X=r.x,ie=r.y,me=r.z;return i[0]=(1-(S+P))*X,i[1]=(y+j)*X,i[2]=(w-z)*X,i[3]=0,i[4]=(y-j)*ie,i[5]=(1-(g+P))*ie,i[6]=(C+B)*ie,i[7]=0,i[8]=(w+z)*me,i[9]=(C-B)*me,i[10]=(1-(g+S))*me,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let o=pS.set(i[0],i[1],i[2]).length();const s=pS.set(i[4],i[5],i[6]).length(),a=pS.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],qh.copy(this);const c=1/o,h=1/s,p=1/a;return qh.elements[0]*=c,qh.elements[1]*=c,qh.elements[2]*=c,qh.elements[4]*=h,qh.elements[5]*=h,qh.elements[6]*=h,qh.elements[8]*=p,qh.elements[9]*=p,qh.elements[10]*=p,t.setFromRotationMatrix(qh),r.x=o,r.y=s,r.z=a,this}makePerspective(e,t,r,i,o,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*o/(r-i),h=(t+e)/(t-e),p=(r+i)/(r-i),g=-(s+o)/(s-o),y=-2*s*o/(s-o);return a[0]=2*o/(t-e),a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=c,a[9]=p,a[13]=0,a[2]=0,a[6]=0,a[10]=g,a[14]=y,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,o,s){const a=this.elements,u=1/(t-e),c=1/(r-i),h=1/(s-o),p=(t+e)*u,g=(r+i)*c,y=(s+o)*h;return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-p,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-g,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-y,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const pS=new Be,qh=new ro,Sxe=new Be(0,0,0),xxe=new Be(1,1,1),Uv=new Be,mk=new Be,ad=new Be,uq=new ro,cq=new sd;let Cxe=(()=>{class n{constructor(t=0,r=0,i=0,o=n.DefaultOrder){this.isEuler=!0,this._x=t,this._y=r,this._z=i,this._order=o}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,i,o=this._order){return this._x=t,this._y=r,this._z=i,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,i=!0){const o=t.elements,s=o[0],a=o[4],u=o[8],c=o[1],h=o[5],p=o[9],g=o[2],y=o[6],w=o[10];switch(r){case"XYZ":this._y=Math.asin(wa(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,w),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(y,h),this._z=0);break;case"YXZ":this._x=Math.asin(-wa(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(u,w),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(wa(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,w),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-wa(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,w),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,h));break;case"YZX":this._z=Math.asin(wa(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,h),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(u,w));break;case"XZY":this._z=Math.asin(-wa(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,h),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-p,w),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,r,i){return uq.makeRotationFromQuaternion(t),this.setFromRotationMatrix(uq,r,i)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return cq.setFromEuler(this),this.setFromQuaternion(cq,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return n.DefaultOrder="XYZ",n.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],n})();class LB{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Exe=0;const dq=new Be,mS=new sd,xm=new ro,gk=new Be,TT=new Be,Txe=new Be,Rxe=new sd,hq=new Be(1,0,0),fq=new Be(0,1,0),pq=new Be(0,0,1),Dxe={type:"added"},mq={type:"removed"};let Fu=(()=>{class n extends oS{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Exe++}),this.uuid=od(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DefaultUp.clone();const t=new Be,r=new Cxe,i=new sd,o=new Be(1,1,1);r._onChange(function s(){i.setFromEuler(r,!1)}),i._onChange(function a(){r.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new ro},normalMatrix:{value:new wc}}),this.matrix=new ro,this.matrixWorld=new ro,this.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new LB,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return mS.setFromAxisAngle(t,r),this.quaternion.multiply(mS),this}rotateOnWorldAxis(t,r){return mS.setFromAxisAngle(t,r),this.quaternion.premultiply(mS),this}rotateX(t){return this.rotateOnAxis(hq,t)}rotateY(t){return this.rotateOnAxis(fq,t)}rotateZ(t){return this.rotateOnAxis(pq,t)}translateOnAxis(t,r){return dq.copy(t).applyQuaternion(this.quaternion),this.position.add(dq.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(hq,t)}translateY(t){return this.translateOnAxis(fq,t)}translateZ(t){return this.translateOnAxis(pq,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(xm.copy(this.matrixWorld).invert())}lookAt(t,r,i){t.isVector3?gk.copy(t):gk.set(t,r,i);const o=this.parent;this.updateWorldMatrix(!0,!1),TT.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xm.lookAt(TT,gk,this.up):xm.lookAt(gk,TT,this.up),this.quaternion.setFromRotationMatrix(xm),o&&(xm.extractRotation(o.matrixWorld),mS.setFromRotationMatrix(xm),this.quaternion.premultiply(mS.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Dxe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const r=this.children.indexOf(t);return-1!==r&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(mq)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const r=this.children[t];r.parent=null,r.dispatchEvent(mq)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),xm.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),xm.multiply(t.parent.matrixWorld)),t.applyMatrix4(xm),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let i=0,o=this.children.length;i<o;i++){const a=this.children[i].getObjectByProperty(t,r);if(void 0!==a)return a}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(TT,t,Txe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(TT,Rxe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverseVisible(t)}traverseAncestors(t){const r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(t)}updateWorldMatrix(t,r){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===r){const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(t){const r=void 0===t||"string"==typeof t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};function s(u,c){return void 0===u[c.uuid]&&(u[c.uuid]=c.toJSON(t)),c.uuid}if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(o.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(o.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(t.geometries,this.geometry);const u=this.geometry.parameters;if(void 0!==u&&void 0!==u.shapes){const c=u.shapes;if(Array.isArray(c))for(let h=0,p=c.length;h<p;h++)s(t.shapes,c[h]);else s(t.shapes,c)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(t.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const u=[];for(let c=0,h=this.material.length;c<h;c++)u.push(s(t.materials,this.material[c]));o.material=u}else o.material=s(t.materials,this.material);if(this.children.length>0){o.children=[];for(let u=0;u<this.children.length;u++)o.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){o.animations=[];for(let u=0;u<this.animations.length;u++)o.animations.push(s(t.animations,this.animations[u]))}if(r){const u=a(t.geometries),c=a(t.materials),h=a(t.textures),p=a(t.images),g=a(t.shapes),y=a(t.skeletons),w=a(t.animations),S=a(t.nodes);u.length>0&&(i.geometries=u),c.length>0&&(i.materials=c),h.length>0&&(i.textures=h),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),w.length>0&&(i.animations=w),S.length>0&&(i.nodes=S)}return i.object=o,i;function a(u){const c=[];for(const h in u){const p=u[h];delete p.metadata,c.push(p)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}return n.DefaultUp=new Be(0,1,0),n.DefaultMatrixAutoUpdate=!0,n})();const Jh=new Be,Cm=new Be,PB=new Be,Em=new Be,gS=new Be,vS=new Be,gq=new Be,IB=new Be,NB=new Be,FB=new Be;class Qh{constructor(e=new Be,t=new Be,r=new Be){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Jh.subVectors(e,t),i.cross(Jh);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){Jh.subVectors(i,t),Cm.subVectors(r,t),PB.subVectors(e,t);const s=Jh.dot(Jh),a=Jh.dot(Cm),u=Jh.dot(PB),c=Cm.dot(Cm),h=Cm.dot(PB),p=s*c-a*a;if(0===p)return o.set(-2,-1,-1);const g=1/p,y=(c*u-a*h)*g,w=(s*h-a*u)*g;return o.set(1-y-w,w,y)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Em),Em.x>=0&&Em.y>=0&&Em.x+Em.y<=1}static getUV(e,t,r,i,o,s,a,u){return this.getBarycoord(e,t,r,i,Em),u.set(0,0),u.addScaledVector(o,Em.x),u.addScaledVector(s,Em.y),u.addScaledVector(a,Em.z),u}static isFrontFacing(e,t,r,i){return Jh.subVectors(r,t),Cm.subVectors(e,t),Jh.cross(Cm).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jh.subVectors(this.c,this.b),Cm.subVectors(this.a,this.b),.5*Jh.cross(Cm).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qh.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Qh.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,o){return Qh.getUV(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return Qh.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qh.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,o=this.c;let s,a;gS.subVectors(i,r),vS.subVectors(o,r),IB.subVectors(e,r);const u=gS.dot(IB),c=vS.dot(IB);if(u<=0&&c<=0)return t.copy(r);NB.subVectors(e,i);const h=gS.dot(NB),p=vS.dot(NB);if(h>=0&&p<=h)return t.copy(i);const g=u*p-h*c;if(g<=0&&u>=0&&h<=0)return s=u/(u-h),t.copy(r).addScaledVector(gS,s);FB.subVectors(e,o);const y=gS.dot(FB),w=vS.dot(FB);if(w>=0&&y<=w)return t.copy(o);const S=y*c-u*w;if(S<=0&&c>=0&&w<=0)return a=c/(c-w),t.copy(r).addScaledVector(vS,a);const C=h*w-y*p;if(C<=0&&p-h>=0&&y-w>=0)return gq.subVectors(o,i),a=(p-h)/(p-h+(y-w)),t.copy(i).addScaledVector(gq,a);const P=1/(C+S+g);return s=S*P,a=g*P,t.copy(r).addScaledVector(gS,s).addScaledVector(vS,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Axe=0;class yS extends oS{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Axe++}),this.uuid=od(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(o){const s=[];for(const a in o){const u=o[a];delete u.metadata,s.push(u)}return s}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(r.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=this.flatShading),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class jv extends yS{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Va=new Be,vk=new En;class xl{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new Rr),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new En),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new Be),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new ss),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)vk.fromBufferAttribute(this,t),vk.applyMatrix3(e),this.setXY(t,vk.x,vk.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)Va.fromBufferAttribute(this,t),Va.applyMatrix3(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Va.fromBufferAttribute(this,t),Va.applyMatrix4(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Va.fromBufferAttribute(this,t),Va.applyNormalMatrix(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Va.fromBufferAttribute(this,t),Va.transformDirection(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class vq extends xl{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class yq extends xl{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Wr extends xl{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Oxe=0;const qd=new ro,HB=new Fu,_S=new Be,ld=new uS,RT=new uS,Cl=new Be;class fo extends oS{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Oxe++}),this.uuid=od(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(rq(e)?yq:vq)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const o=(new wc).getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return qd.makeRotationFromQuaternion(e),this.applyMatrix4(qd),this}rotateX(e){return qd.makeRotationX(e),this.applyMatrix4(qd),this}rotateY(e){return qd.makeRotationY(e),this.applyMatrix4(qd),this}rotateZ(e){return qd.makeRotationZ(e),this.applyMatrix4(qd),this}translate(e,t,r){return qd.makeTranslation(e,t,r),this.applyMatrix4(qd),this}scale(e,t,r){return qd.makeScale(e,t,r),this.applyMatrix4(qd),this}lookAt(e){return HB.lookAt(e),HB.updateMatrix(),this.applyMatrix4(HB.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_S).negate(),this.translate(_S.x,_S.y,_S.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Wr(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new uS);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Be(-1/0,-1/0,-1/0),new Be(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++)ld.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(Cl.addVectors(this.boundingBox.min,ld.min),this.boundingBox.expandByPoint(Cl),Cl.addVectors(this.boundingBox.max,ld.max),this.boundingBox.expandByPoint(Cl)):(this.boundingBox.expandByPoint(ld.min),this.boundingBox.expandByPoint(ld.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new fS);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Be,1/0);if(e){const r=this.boundingSphere.center;if(ld.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++)RT.setFromBufferAttribute(t[o]),this.morphTargetsRelative?(Cl.addVectors(ld.min,RT.min),ld.expandByPoint(Cl),Cl.addVectors(ld.max,RT.max),ld.expandByPoint(Cl)):(ld.expandByPoint(RT.min),ld.expandByPoint(RT.max));ld.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)Cl.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Cl));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],u=this.morphTargetsRelative;for(let c=0,h=a.count;c<h;c++)Cl.fromBufferAttribute(a,c),u&&(_S.fromBufferAttribute(e,c),Cl.add(_S)),i=Math.max(i,r.distanceToSquared(Cl))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=e.array,i=t.position.array,o=t.normal.array,s=t.uv.array,a=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new xl(new Float32Array(4*a),4));const u=this.getAttribute("tangent").array,c=[],h=[];for(let we=0;we<a;we++)c[we]=new Be,h[we]=new Be;const p=new Be,g=new Be,y=new Be,w=new En,S=new En,C=new En,P=new Be,B=new Be;function z(we,Le,ot){p.fromArray(i,3*we),g.fromArray(i,3*Le),y.fromArray(i,3*ot),w.fromArray(s,2*we),S.fromArray(s,2*Le),C.fromArray(s,2*ot),g.sub(p),y.sub(p),S.sub(w),C.sub(w);const lt=1/(S.x*C.y-C.x*S.y);!isFinite(lt)||(P.copy(g).multiplyScalar(C.y).addScaledVector(y,-S.y).multiplyScalar(lt),B.copy(y).multiplyScalar(S.x).addScaledVector(g,-C.x).multiplyScalar(lt),c[we].add(P),c[Le].add(P),c[ot].add(P),h[we].add(B),h[Le].add(B),h[ot].add(B))}let j=this.groups;0===j.length&&(j=[{start:0,count:r.length}]);for(let we=0,Le=j.length;we<Le;++we){const ot=j[we],lt=ot.start;for(let bt=lt,ye=lt+ot.count;bt<ye;bt+=3)z(r[bt+0],r[bt+1],r[bt+2])}const X=new Be,ie=new Be,me=new Be,re=new Be;function pe(we){me.fromArray(o,3*we),re.copy(me);const Le=c[we];X.copy(Le),X.sub(me.multiplyScalar(me.dot(Le))).normalize(),ie.crossVectors(re,Le);const lt=ie.dot(h[we])<0?-1:1;u[4*we]=X.x,u[4*we+1]=X.y,u[4*we+2]=X.z,u[4*we+3]=lt}for(let we=0,Le=j.length;we<Le;++we){const ot=j[we],lt=ot.start;for(let bt=lt,ye=lt+ot.count;bt<ye;bt+=3)pe(r[bt+0]),pe(r[bt+1]),pe(r[bt+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new xl(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let g=0,y=r.count;g<y;g++)r.setXYZ(g,0,0,0);const i=new Be,o=new Be,s=new Be,a=new Be,u=new Be,c=new Be,h=new Be,p=new Be;if(e)for(let g=0,y=e.count;g<y;g+=3){const w=e.getX(g+0),S=e.getX(g+1),C=e.getX(g+2);i.fromBufferAttribute(t,w),o.fromBufferAttribute(t,S),s.fromBufferAttribute(t,C),h.subVectors(s,o),p.subVectors(i,o),h.cross(p),a.fromBufferAttribute(r,w),u.fromBufferAttribute(r,S),c.fromBufferAttribute(r,C),a.add(h),u.add(h),c.add(h),r.setXYZ(w,a.x,a.y,a.z),r.setXYZ(S,u.x,u.y,u.z),r.setXYZ(C,c.x,c.y,c.z)}else for(let g=0,y=t.count;g<y;g+=3)i.fromBufferAttribute(t,g+0),o.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),h.subVectors(s,o),p.subVectors(i,o),h.cross(p),r.setXYZ(g+0,h.x,h.y,h.z),r.setXYZ(g+1,h.x,h.y,h.z),r.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(void 0===e.attributes[i])continue;const s=r[i].array,a=e.attributes[i],u=a.array,c=a.itemSize*t,h=Math.min(u.length,s.length-c);for(let p=0,g=c;p<h;p++,g++)s[g]=u[p]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Cl.fromBufferAttribute(e,t),Cl.normalize(),e.setXYZ(t,Cl.x,Cl.y,Cl.z)}toNonIndexed(){function e(a,u){const c=a.array,h=a.itemSize,p=a.normalized,g=new c.constructor(u.length*h);let y=0,w=0;for(let S=0,C=u.length;S<C;S++){y=a.isInterleavedBufferAttribute?u[S]*a.data.stride+a.offset:u[S]*h;for(let P=0;P<h;P++)g[w++]=c[y++]}return new xl(g,h,p)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new fo,r=this.index.array,i=this.attributes;for(const a in i){const c=e(i[a],r);t.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const u=[],c=o[a];for(let h=0,p=c.length;h<p;h++){const y=e(c[h],r);u.push(y)}t.morphAttributes[a]=u}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,u=s.length;a<u;a++){const c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const u=this.parameters;for(const c in u)void 0!==u[c]&&(e[c]=u[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r)e.data.attributes[u]=r[u].toJSON(e.data);const i={};let o=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],h=[];for(let p=0,g=c.length;p<g;p++)h.push(c[p].toJSON(e.data));h.length>0&&(i[u]=h,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i)this.setAttribute(c,i[c].clone(t));const o=e.morphAttributes;for(const c in o){const h=[],p=o[c];for(let g=0,y=p.length;g<y;g++)h.push(p[g].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,h=s.length;c<h;c++){const p=s[c];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const u=e.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const _q=new ro,bS=new pk,BB=new fS,Wv=new Be,Yv=new Be,Gv=new Be,VB=new Be,zB=new Be,UB=new Be,yk=new Be,_k=new Be,bk=new Be,wk=new En,Mk=new En,Sk=new En,jB=new Be,xk=new Be;class Mc extends Fu{constructor(e=new fo,t=new jv){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}raycast(e,t){const r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0===i||(null===r.boundingSphere&&r.computeBoundingSphere(),BB.copy(r.boundingSphere),BB.applyMatrix4(o),!1===e.ray.intersectsSphere(BB))||(_q.copy(o).invert(),bS.copy(e.ray).applyMatrix4(_q),null!==r.boundingBox&&!1===bS.intersectsBox(r.boundingBox)))return;let s;const a=r.index,u=r.attributes.position,c=r.morphAttributes.position,h=r.morphTargetsRelative,p=r.attributes.uv,g=r.attributes.uv2,y=r.groups,w=r.drawRange;if(null!==a)if(Array.isArray(i))for(let S=0,C=y.length;S<C;S++){const P=y[S],B=i[P.materialIndex];for(let X=Math.max(P.start,w.start),ie=Math.min(a.count,Math.min(P.start+P.count,w.start+w.count));X<ie;X+=3){const me=a.getX(X),re=a.getX(X+1),pe=a.getX(X+2);s=Ck(this,B,e,bS,u,c,h,p,g,me,re,pe),s&&(s.faceIndex=Math.floor(X/3),s.face.materialIndex=P.materialIndex,t.push(s))}}else for(let P=Math.max(0,w.start),B=Math.min(a.count,w.start+w.count);P<B;P+=3){const z=a.getX(P),j=a.getX(P+1),X=a.getX(P+2);s=Ck(this,i,e,bS,u,c,h,p,g,z,j,X),s&&(s.faceIndex=Math.floor(P/3),t.push(s))}else if(void 0!==u)if(Array.isArray(i))for(let S=0,C=y.length;S<C;S++){const P=y[S],B=i[P.materialIndex];for(let X=Math.max(P.start,w.start),ie=Math.min(u.count,Math.min(P.start+P.count,w.start+w.count));X<ie;X+=3)s=Ck(this,B,e,bS,u,c,h,p,g,X,X+1,X+2),s&&(s.faceIndex=Math.floor(X/3),s.face.materialIndex=P.materialIndex,t.push(s))}else for(let P=Math.max(0,w.start),B=Math.min(u.count,w.start+w.count);P<B;P+=3)s=Ck(this,i,e,bS,u,c,h,p,g,P,P+1,P+2),s&&(s.faceIndex=Math.floor(P/3),t.push(s))}}function Ck(n,e,t,r,i,o,s,a,u,c,h,p){Wv.fromBufferAttribute(i,c),Yv.fromBufferAttribute(i,h),Gv.fromBufferAttribute(i,p);const g=n.morphTargetInfluences;if(o&&g){yk.set(0,0,0),_k.set(0,0,0),bk.set(0,0,0);for(let w=0,S=o.length;w<S;w++){const C=g[w],P=o[w];0!==C&&(VB.fromBufferAttribute(P,c),zB.fromBufferAttribute(P,h),UB.fromBufferAttribute(P,p),s?(yk.addScaledVector(VB,C),_k.addScaledVector(zB,C),bk.addScaledVector(UB,C)):(yk.addScaledVector(VB.sub(Wv),C),_k.addScaledVector(zB.sub(Yv),C),bk.addScaledVector(UB.sub(Gv),C)))}Wv.add(yk),Yv.add(_k),Gv.add(bk)}n.isSkinnedMesh&&(n.boneTransform(c,Wv),n.boneTransform(h,Yv),n.boneTransform(p,Gv));const y=function kxe(n,e,t,r,i,o,s,a){let u;if(u=1===e.side?r.intersectTriangle(s,o,i,!0,a):r.intersectTriangle(i,o,s,2!==e.side,a),null===u)return null;xk.copy(a),xk.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(xk);return c<t.near||c>t.far?null:{distance:c,point:xk.clone(),object:n}}(n,e,t,r,Wv,Yv,Gv,jB);if(y){a&&(wk.fromBufferAttribute(a,c),Mk.fromBufferAttribute(a,h),Sk.fromBufferAttribute(a,p),y.uv=Qh.getUV(jB,Wv,Yv,Gv,wk,Mk,Sk,new En)),u&&(wk.fromBufferAttribute(u,c),Mk.fromBufferAttribute(u,h),Sk.fromBufferAttribute(u,p),y.uv2=Qh.getUV(jB,Wv,Yv,Gv,wk,Mk,Sk,new En));const w={a:c,b:h,c:p,normal:new Be,materialIndex:0};Qh.getNormal(Wv,Yv,Gv,w.normal),y.face=w}return y}class wb extends fo{constructor(e=1,t=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const u=[],c=[],h=[],p=[];let g=0,y=0;function w(S,C,P,B,z,j,X,ie,me,re,pe){const we=j/me,Le=X/re,ot=j/2,lt=X/2,je=ie/2,bt=me+1,ye=re+1;let Ae=0,Ye=0;const Je=new Be;for(let wt=0;wt<ye;wt++){const Z=wt*Le-lt;for(let Q=0;Q<bt;Q++)Je[S]=(Q*we-ot)*B,Je[C]=Z*z,Je[P]=je,c.push(Je.x,Je.y,Je.z),Je[S]=0,Je[C]=0,Je[P]=ie>0?1:-1,h.push(Je.x,Je.y,Je.z),p.push(Q/me),p.push(1-wt/re),Ae+=1}for(let wt=0;wt<re;wt++)for(let Z=0;Z<me;Z++){const fe=g+Z+bt*(wt+1),Me=g+(Z+1)+bt*(wt+1),Te=g+(Z+1)+bt*wt;u.push(g+Z+bt*wt,fe,Te),u.push(fe,Me,Te),Ye+=6}a.addGroup(y,Ye,pe),y+=Ye,g+=Ae}w("z","y","x",-1,-1,r,t,e,s,o,0),w("z","y","x",1,-1,r,t,-e,s,o,1),w("x","z","y",1,1,e,r,t,i,s,2),w("x","z","y",1,-1,e,r,-t,i,s,3),w("x","y","z",1,-1,e,t,r,i,o,4),w("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(u),this.setAttribute("position",new Wr(c,3)),this.setAttribute("normal",new Wr(h,3)),this.setAttribute("uv",new Wr(p,2))}static fromJSON(e){return new wb(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function wS(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];e[t][r]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.clone():Array.isArray(i)?i.slice():i}}return e}function cu(n){const e={};for(let t=0;t<n.length;t++){const r=wS(n[t]);for(const i in r)e[i]=r[i]}return e}const Lxe={clone:wS,merge:cu};class $v extends yS{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wS(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;t.uniforms[i]=s&&s.isTexture?{type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?{type:"c",value:s.getHex()}:s&&s.isVector2?{type:"v2",value:s.toArray()}:s&&s.isVector3?{type:"v3",value:s.toArray()}:s&&s.isVector4?{type:"v4",value:s.toArray()}:s&&s.isMatrix3?{type:"m3",value:s.toArray()}:s&&s.isMatrix4?{type:"m4",value:s.toArray()}:{value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)!0===this.extensions[i]&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class WB extends Fu{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ro,this.projectionMatrix=new ro,this.projectionMatrixInverse=new ro}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class du extends WB{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*ST*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*mb*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*ST*Math.atan(Math.tan(.5*mb*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,o,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*mb*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i;const s=this.view;if(null!==this.view&&this.view.enabled){const u=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/u,t-=s.offsetY*r/c,i*=s.width/u,r*=s.height/c}const a=this.filmOffset;0!==a&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class Nxe extends Fu{constructor(e,t,r){if(super(),this.type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=r;const i=new du(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Be(1,0,0)),this.add(i);const o=new du(90,1,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Be(-1,0,0)),this.add(o);const s=new du(90,1,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Be(0,1,0)),this.add(s);const a=new du(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Be(0,-1,0)),this.add(a);const u=new du(90,1,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new Be(0,0,1)),this.add(u);const c=new du(90,1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Be(0,0,-1)),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const r=this.renderTarget,[i,o,s,a,u,c]=this.children,h=e.getRenderTarget(),p=e.toneMapping,g=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,u),r.texture.generateMipmaps=y,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(h),e.toneMapping=p,e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class Ek extends Hv{constructor(e,t,r,i,o,s,a,u,c,h){super(e=void 0!==e?e:[],t=void 0!==t?t:301,r,i,o,s,a,u,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Fxe extends vb{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new Ek([r,r,r,r,r,r],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Ba}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new wb(5,5,5),o=new $v({name:"CubemapFromEquirect",uniforms:wS(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});o.uniforms.tEquirect.value=t;const s=new Mc(i,o),a=t.minFilter;return 1008===t.minFilter&&(t.minFilter=Ba),new Nxe(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(o)}}const YB=new Be,Hxe=new Be,Bxe=new wc;class Mb{constructor(e=new Be(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=YB.subVectors(r,t).cross(Hxe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(YB),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Bxe.getNormalMatrix(e),i=this.coplanarPoint(YB).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const xS=new fS,Tk=new Be;class GB{constructor(e=new Mb,t=new Mb,r=new Mb,i=new Mb,o=new Mb,s=new Mb){this.planes=[e,t,r,i,o,s]}set(e,t,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],u=r[4],c=r[5],h=r[6],p=r[7],g=r[8],y=r[9],w=r[10],S=r[11],C=r[12],P=r[13],B=r[14],z=r[15];return t[0].setComponents(a-i,p-u,S-g,z-C).normalize(),t[1].setComponents(a+i,p+u,S+g,z+C).normalize(),t[2].setComponents(a+o,p+c,S+y,z+P).normalize(),t[3].setComponents(a-o,p-c,S-y,z-P).normalize(),t[4].setComponents(a-s,p-h,S-w,z-B).normalize(),t[5].setComponents(a+s,p+h,S+w,z+B).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),xS.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(xS)}intersectsSprite(e){return xS.center.set(0,0,0),xS.radius=.7071067811865476,xS.applyMatrix4(e.matrixWorld),this.intersectsSphere(xS)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Tk.x=i.normal.x>0?e.max.x:e.min.x,Tk.y=i.normal.y>0?e.max.y:e.min.y,Tk.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Tk)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function bq(){let n=null,e=!1,t=null,r=null;function i(o,s){t(o,s),r=n.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==t&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function Vxe(n,e){const t=e.isWebGL2,r=new WeakMap;return{get:function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h&&(n.deleteBuffer(h.buffer),r.delete(c))},update:function u(c,h){if(c.isGLBufferAttribute){const g=r.get(c);return void((!g||g.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const p=r.get(c);void 0===p?r.set(c,function i(c,h){const p=c.array,g=c.usage,y=n.createBuffer();let w;if(n.bindBuffer(h,y),n.bufferData(h,p,g),c.onUploadCallback(),p instanceof Float32Array)w=5126;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");w=5131}else w=5123;else if(p instanceof Int16Array)w=5122;else if(p instanceof Uint32Array)w=5125;else if(p instanceof Int32Array)w=5124;else if(p instanceof Int8Array)w=5120;else if(p instanceof Uint8Array)w=5121;else{if(!(p instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);w=5121}return{buffer:y,type:w,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version}}(c,h)):p.version<c.version&&(function o(c,h,p){const g=h.array,y=h.updateRange;n.bindBuffer(p,c),-1===y.count?n.bufferSubData(p,0,g):(t?n.bufferSubData(p,y.offset*g.BYTES_PER_ELEMENT,g,y.offset,y.count):n.bufferSubData(p,y.offset*g.BYTES_PER_ELEMENT,g.subarray(y.offset,y.offset+y.count)),y.count=-1)}(p.buffer,c,h),p.version=c.version)}}}class DT extends fo{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const o=e/2,s=t/2,a=Math.floor(r),u=Math.floor(i),c=a+1,h=u+1,p=e/a,g=t/u,y=[],w=[],S=[],C=[];for(let P=0;P<h;P++){const B=P*g-s;for(let z=0;z<c;z++)w.push(z*p-o,-B,0),S.push(0,0,1),C.push(z/a),C.push(1-P/u)}for(let P=0;P<u;P++)for(let B=0;B<a;B++){const j=B+c*(P+1),X=B+1+c*(P+1),ie=B+1+c*P;y.push(B+c*P,j,ie),y.push(j,X,ie)}this.setIndex(y),this.setAttribute("position",new Wr(w,3)),this.setAttribute("normal",new Wr(S,3)),this.setAttribute("uv",new Wr(C,2))}static fromJSON(e){return new DT(e.width,e.height,e.widthSegments,e.heightSegments)}}const yo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\nvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\nconst mat3 XYZ_TO_REC709 = mat3(\n    3.2404542, -0.9692660,  0.0556434,\n   -1.5371385,  1.8760108, -0.2040259,\n   -0.4985314,  0.0415560,  1.0572252\n);\nvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n   vec3 sqrtF0 = sqrt( fresnel0 );\n   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n}\nvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n}\nfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n}\nvec3 evalSensitivity( float OPD, vec3 shift ) {\n   float phase = 2.0 * PI * OPD * 1.0e-9;\n   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );\n   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );\n   xyz /= 1.0685e-7;\n   vec3 srgb = XYZ_TO_REC709 * xyz;\n   return srgb;\n}\nvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n   vec3 I;\n   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n   float cosTheta2Sq = 1.0 - sinTheta2Sq;\n   if ( cosTheta2Sq < 0.0 ) {\n       return vec3( 1.0 );\n   }\n   float cosTheta2 = sqrt( cosTheta2Sq );\n   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n   float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n   float R21 = R12;\n   float T121 = 1.0 - R12;\n   float phi12 = 0.0;\n   if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n   float phi21 = PI - phi12;\n   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n   vec3 phi23 = vec3( 0.0 );\n   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;\n   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;\n   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;\n   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n   vec3 phi = vec3( phi21 ) + phi23;\n   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n   vec3 r123 = sqrt( R123 );\n   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n   vec3 C0 = R12 + Rs;\n   I = C0;\n   vec3 Cm = Rs - T121;\n   for ( int m = 1; m <= 2; ++m ) {\n       Cm *= r123;\n       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n       I += Cm * Sm;\n   }\n   return max( I, vec3( 0.0 ) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\nfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\nif ( material.iridescenceThickness == 0.0 ) {\n\tmaterial.iridescence = 0.0;\n} else {\n\tmaterial.iridescence = saturate( material.iridescence );\n}\nif ( material.iridescence > 0.0 ) {\n\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},ar={common:{diffuse:{value:new Rr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new wc},uv2Transform:{value:new wc},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new En(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new wc}},sprite:{diffuse:{value:new Rr(16777215)},opacity:{value:1},center:{value:new En(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new wc}}},Qf={basic:{uniforms:cu([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.fog]),vertexShader:yo.meshbasic_vert,fragmentShader:yo.meshbasic_frag},lambert:{uniforms:cu([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.fog,ar.lights,{emissive:{value:new Rr(0)}}]),vertexShader:yo.meshlambert_vert,fragmentShader:yo.meshlambert_frag},phong:{uniforms:cu([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.fog,ar.lights,{emissive:{value:new Rr(0)},specular:{value:new Rr(1118481)},shininess:{value:30}}]),vertexShader:yo.meshphong_vert,fragmentShader:yo.meshphong_frag},standard:{uniforms:cu([ar.common,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.roughnessmap,ar.metalnessmap,ar.fog,ar.lights,{emissive:{value:new Rr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yo.meshphysical_vert,fragmentShader:yo.meshphysical_frag},toon:{uniforms:cu([ar.common,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.gradientmap,ar.fog,ar.lights,{emissive:{value:new Rr(0)}}]),vertexShader:yo.meshtoon_vert,fragmentShader:yo.meshtoon_frag},matcap:{uniforms:cu([ar.common,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.fog,{matcap:{value:null}}]),vertexShader:yo.meshmatcap_vert,fragmentShader:yo.meshmatcap_frag},points:{uniforms:cu([ar.points,ar.fog]),vertexShader:yo.points_vert,fragmentShader:yo.points_frag},dashed:{uniforms:cu([ar.common,ar.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yo.linedashed_vert,fragmentShader:yo.linedashed_frag},depth:{uniforms:cu([ar.common,ar.displacementmap]),vertexShader:yo.depth_vert,fragmentShader:yo.depth_frag},normal:{uniforms:cu([ar.common,ar.bumpmap,ar.normalmap,ar.displacementmap,{opacity:{value:1}}]),vertexShader:yo.meshnormal_vert,fragmentShader:yo.meshnormal_frag},sprite:{uniforms:cu([ar.sprite,ar.fog]),vertexShader:yo.sprite_vert,fragmentShader:yo.sprite_frag},background:{uniforms:{uvTransform:{value:new wc},t2D:{value:null}},vertexShader:yo.background_vert,fragmentShader:yo.background_frag},cube:{uniforms:cu([ar.envmap,{opacity:{value:1}}]),vertexShader:yo.cube_vert,fragmentShader:yo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yo.equirect_vert,fragmentShader:yo.equirect_frag},distanceRGBA:{uniforms:cu([ar.common,ar.displacementmap,{referencePosition:{value:new Be},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yo.distanceRGBA_vert,fragmentShader:yo.distanceRGBA_frag},shadow:{uniforms:cu([ar.lights,ar.fog,{color:{value:new Rr(0)},opacity:{value:1}}]),vertexShader:yo.shadow_vert,fragmentShader:yo.shadow_frag}};function HEe(n,e,t,r,i,o){const s=new Rr(0);let u,c,a=!0===i?0:1,h=null,p=0,g=null;function w(S,C){t.buffers.color.setClear(S.r,S.g,S.b,C,o)}return{getClearColor:function(){return s},setClearColor:function(S,C=1){s.set(S),a=C,w(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(S){a=S,w(s,a)},render:function y(S,C){let P=!1,B=!0===C.isScene?C.background:null;B&&B.isTexture&&(B=e.get(B));const z=n.xr,j=z.getSession&&z.getSession();j&&"additive"===j.environmentBlendMode&&(B=null),null===B?w(s,a):B&&B.isColor&&(w(B,1),P=!0),(n.autoClear||P)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),B&&(B.isCubeTexture||306===B.mapping)?(void 0===c&&(c=new Mc(new wb(1,1,1),new $v({name:"BackgroundCubeMaterial",uniforms:wS(Qf.cube.uniforms),vertexShader:Qf.cube.vertexShader,fragmentShader:Qf.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(X,ie,me){this.matrixWorld.copyPosition(me.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=B,c.material.uniforms.flipEnvMap.value=B.isCubeTexture&&!1===B.isRenderTargetTexture?-1:1,(h!==B||p!==B.version||g!==n.toneMapping)&&(c.material.needsUpdate=!0,h=B,p=B.version,g=n.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null)):B&&B.isTexture&&(void 0===u&&(u=new Mc(new DT(2,2),new $v({name:"BackgroundMaterial",uniforms:wS(Qf.background.uniforms),vertexShader:Qf.background.vertexShader,fragmentShader:Qf.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=B,!0===B.matrixAutoUpdate&&B.updateMatrix(),u.material.uniforms.uvTransform.value.copy(B.matrix),(h!==B||p!==B.version||g!==n.toneMapping)&&(u.material.needsUpdate=!0,h=B,p=B.version,g=n.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null))}}}function BEe(n,e,t,r){const i=n.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||null!==o,a={},u=C(null);let c=u,h=!1;function y(je){return r.isWebGL2?n.bindVertexArray(je):o.bindVertexArrayOES(je)}function w(je){return r.isWebGL2?n.deleteVertexArray(je):o.deleteVertexArrayOES(je)}function C(je){const bt=[],ye=[],Ae=[];for(let Ye=0;Ye<i;Ye++)bt[Ye]=0,ye[Ye]=0,Ae[Ye]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:bt,enabledAttributes:ye,attributeDivisors:Ae,object:je,attributes:{},index:null}}function z(){const je=c.newAttributes;for(let bt=0,ye=je.length;bt<ye;bt++)je[bt]=0}function j(je){X(je,0)}function X(je,bt){const Ae=c.enabledAttributes,Ye=c.attributeDivisors;c.newAttributes[je]=1,0===Ae[je]&&(n.enableVertexAttribArray(je),Ae[je]=1),Ye[je]!==bt&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](je,bt),Ye[je]=bt)}function ie(){const je=c.newAttributes,bt=c.enabledAttributes;for(let ye=0,Ae=bt.length;ye<Ae;ye++)bt[ye]!==je[ye]&&(n.disableVertexAttribArray(ye),bt[ye]=0)}function me(je,bt,ye,Ae,Ye,Je){!0!==r.isWebGL2||5124!==ye&&5125!==ye?n.vertexAttribPointer(je,bt,ye,Ae,Ye,Je):n.vertexAttribIPointer(je,bt,ye,Ye,Je)}function ot(){lt(),h=!0,c!==u&&(c=u,y(c.object))}function lt(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function p(je,bt,ye,Ae,Ye){let Je=!1;if(s){const wt=function S(je,bt,ye){const Ae=!0===ye.wireframe;let Ye=a[je.id];void 0===Ye&&(Ye={},a[je.id]=Ye);let Je=Ye[bt.id];void 0===Je&&(Je={},Ye[bt.id]=Je);let wt=Je[Ae];return void 0===wt&&(wt=C(function g(){return r.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}()),Je[Ae]=wt),wt}(Ae,ye,bt);c!==wt&&(c=wt,y(c.object)),Je=function P(je,bt,ye,Ae){const Ye=c.attributes,Je=bt.attributes;let wt=0;const Z=ye.getAttributes();for(const Q in Z)if(Z[Q].location>=0){const Me=Ye[Q];let Te=Je[Q];if(void 0===Te&&("instanceMatrix"===Q&&je.instanceMatrix&&(Te=je.instanceMatrix),"instanceColor"===Q&&je.instanceColor&&(Te=je.instanceColor)),void 0===Me||Me.attribute!==Te||Te&&Me.data!==Te.data)return!0;wt++}return c.attributesNum!==wt||c.index!==Ae}(je,Ae,ye,Ye),Je&&function B(je,bt,ye,Ae){const Ye={},Je=bt.attributes;let wt=0;const Z=ye.getAttributes();for(const Q in Z)if(Z[Q].location>=0){let Me=Je[Q];void 0===Me&&("instanceMatrix"===Q&&je.instanceMatrix&&(Me=je.instanceMatrix),"instanceColor"===Q&&je.instanceColor&&(Me=je.instanceColor));const Te={};Te.attribute=Me,Me&&Me.data&&(Te.data=Me.data),Ye[Q]=Te,wt++}c.attributes=Ye,c.attributesNum=wt,c.index=Ae}(je,Ae,ye,Ye)}else{const wt=!0===bt.wireframe;(c.geometry!==Ae.id||c.program!==ye.id||c.wireframe!==wt)&&(c.geometry=Ae.id,c.program=ye.id,c.wireframe=wt,Je=!0)}null!==Ye&&t.update(Ye,34963),(Je||h)&&(h=!1,function re(je,bt,ye,Ae){if(!1===r.isWebGL2&&(je.isInstancedMesh||Ae.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;z();const Ye=Ae.attributes,Je=ye.getAttributes(),wt=bt.defaultAttributeValues;for(const Z in Je){const Q=Je[Z];if(Q.location>=0){let fe=Ye[Z];if(void 0===fe&&("instanceMatrix"===Z&&je.instanceMatrix&&(fe=je.instanceMatrix),"instanceColor"===Z&&je.instanceColor&&(fe=je.instanceColor)),void 0!==fe){const Me=fe.normalized,Te=fe.itemSize,Ge=t.get(fe);if(void 0===Ge)continue;const vt=Ge.buffer,Lt=Ge.type,Ot=Ge.bytesPerElement;if(fe.isInterleavedBufferAttribute){const ut=fe.data,kt=ut.stride,pt=fe.offset;if(ut.isInstancedInterleavedBuffer){for(let At=0;At<Q.locationSize;At++)X(Q.location+At,ut.meshPerAttribute);!0!==je.isInstancedMesh&&void 0===Ae._maxInstanceCount&&(Ae._maxInstanceCount=ut.meshPerAttribute*ut.count)}else for(let At=0;At<Q.locationSize;At++)j(Q.location+At);n.bindBuffer(34962,vt);for(let At=0;At<Q.locationSize;At++)me(Q.location+At,Te/Q.locationSize,Lt,Me,kt*Ot,(pt+Te/Q.locationSize*At)*Ot)}else{if(fe.isInstancedBufferAttribute){for(let ut=0;ut<Q.locationSize;ut++)X(Q.location+ut,fe.meshPerAttribute);!0!==je.isInstancedMesh&&void 0===Ae._maxInstanceCount&&(Ae._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let ut=0;ut<Q.locationSize;ut++)j(Q.location+ut);n.bindBuffer(34962,vt);for(let ut=0;ut<Q.locationSize;ut++)me(Q.location+ut,Te/Q.locationSize,Lt,Me,Te*Ot,Te/Q.locationSize*ut*Ot)}}else if(void 0!==wt){const Me=wt[Z];if(void 0!==Me)switch(Me.length){case 2:n.vertexAttrib2fv(Q.location,Me);break;case 3:n.vertexAttrib3fv(Q.location,Me);break;case 4:n.vertexAttrib4fv(Q.location,Me);break;default:n.vertexAttrib1fv(Q.location,Me)}}}}ie()}(je,bt,ye,Ae),null!==Ye&&n.bindBuffer(34963,t.get(Ye).buffer))},reset:ot,resetDefaultState:lt,dispose:function pe(){ot();for(const je in a){const bt=a[je];for(const ye in bt){const Ae=bt[ye];for(const Ye in Ae)w(Ae[Ye].object),delete Ae[Ye];delete bt[ye]}delete a[je]}},releaseStatesOfGeometry:function we(je){if(void 0===a[je.id])return;const bt=a[je.id];for(const ye in bt){const Ae=bt[ye];for(const Ye in Ae)w(Ae[Ye].object),delete Ae[Ye];delete bt[ye]}delete a[je.id]},releaseStatesOfProgram:function Le(je){for(const bt in a){const ye=a[bt];if(void 0===ye[je.id])continue;const Ae=ye[je.id];for(const Ye in Ae)w(Ae[Ye].object),delete Ae[Ye];delete ye[je.id]}},initAttributes:z,enableAttribute:j,disableUnusedAttributes:ie}}function VEe(n,e,t,r){const i=r.isWebGL2;let o;this.setMode=function s(c){o=c},this.render=function a(c,h){n.drawArrays(o,c,h),t.update(h,o,1)},this.renderInstances=function u(c,h,p){if(0===p)return;let g,y;if(i)g=n,y="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",null===g)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g[y](o,c,h,p),t.update(h,o,p)}}function zEe(n,e,t){let r;function o(me){if("highp"===me){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";me="mediump"}return"mediump"===me&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&n instanceof WebGL2ComputeRenderingContext;let a=void 0!==t.precision?t.precision:"highp";const u=o(a);u!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",u,"instead."),a=u);const c=s||e.has("WEBGL_draw_buffers"),h=!0===t.logarithmicDepthBuffer,p=n.getParameter(34930),g=n.getParameter(35660),y=n.getParameter(3379),w=n.getParameter(34076),S=n.getParameter(34921),C=n.getParameter(36347),P=n.getParameter(36348),B=n.getParameter(36349),z=g>0,j=s||e.has("OES_texture_float");return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:function i(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const me=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(me.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:o,precision:a,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:g,maxTextureSize:y,maxCubemapSize:w,maxAttributes:S,maxVertexUniforms:C,maxVaryings:P,maxFragmentUniforms:B,vertexTextures:z,floatFragmentTextures:j,floatVertexTextures:z&&j,maxSamples:s?n.getParameter(36183):0}}function UEe(n){const e=this;let t=null,r=0,i=!1,o=!1;const s=new Mb,a=new wc,u={value:null,needsUpdate:!1};function c(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,g,y,w){const S=null!==p?p.length:0;let C=null;if(0!==S){if(C=u.value,!0!==w||null===C){const P=y+4*S,B=g.matrixWorldInverse;a.getNormalMatrix(B),(null===C||C.length<P)&&(C=new Float32Array(P));for(let z=0,j=y;z!==S;++z,j+=4)s.copy(p[z]).applyMatrix4(B,a),s.normal.toArray(C,j),C[j+3]=s.constant}u.value=C,u.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,C}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,g,y){const w=0!==p.length||g||0!==r||i;return i=g,t=h(p,y,0),r=p.length,w},this.beginShadows=function(){o=!0,h(null)},this.endShadows=function(){o=!1,c()},this.setState=function(p,g,y){const w=p.clippingPlanes,S=p.clipIntersection,C=p.clipShadows,P=n.get(p);if(!i||null===w||0===w.length||o&&!C)o?h(null):c();else{const B=o?0:r,z=4*B;let j=P.clippingState||null;u.value=j,j=h(w,g,z,y);for(let X=0;X!==z;++X)j[X]=t[X];P.clippingState=j,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=B}}}function jEe(n){let e=new WeakMap;function t(s,a){return 303===a?s.mapping=301:304===a&&(s.mapping=302),s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const u=e.get(a);void 0!==u&&(e.delete(a),u.dispose())}return{get:function r(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){const a=s.mapping;if(303===a||304===a){if(e.has(s))return t(e.get(s).texture,s.mapping);{const u=s.image;if(u&&u.height>0){const c=new Fxe(u.height/2);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}return null}}}return s},dispose:function o(){e=new WeakMap}}}Qf.physical={uniforms:cu([Qf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new En(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Rr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new En},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Rr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Rr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:yo.meshphysical_vert,fragmentShader:yo.meshphysical_frag};class Rk extends WB{constructor(e=-1,t=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+t,u=i-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=h*this.view.offsetY,u=a-h*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const wq=[.125,.215,.35,.446,.526,.582],$B=new Rk,Mq=new Rr;let XB=null;const xb=(1+Math.sqrt(5))/2,ES=1/xb,Sq=[new Be(1,1,1),new Be(-1,1,1),new Be(1,1,-1),new Be(-1,1,-1),new Be(0,xb,ES),new Be(0,xb,-ES),new Be(ES,0,xb),new Be(-ES,0,xb),new Be(xb,ES,0),new Be(-xb,ES,0)];class xq{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){XB=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Tq(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Eq(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(XB),e.scissorTest=!1,Dk(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),XB=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ba,minFilter:Ba,generateMipmaps:!1,type:MT,format:Xh,encoding:fb,depthBuffer:!1},i=Cq(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Cq(e,t,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function WEe(n){const e=[],t=[],r=[];let i=n;const o=n-4+1+wq.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);t.push(a);let u=1/a;s>n-4?u=wq[s-n+4-1]:0===s&&(u=0),r.push(u);const c=1/(a-2),h=-c,p=1+c,g=[h,h,p,h,p,p,h,h,p,p,h,p],y=6,w=6,S=3,C=2,P=1,B=new Float32Array(S*w*y),z=new Float32Array(C*w*y),j=new Float32Array(P*w*y);for(let ie=0;ie<y;ie++){const me=ie%3*2/3-1,re=ie>2?0:-1;B.set([me,re,0,me+2/3,re,0,me+2/3,re+1,0,me,re,0,me+2/3,re+1,0,me,re+1,0],S*w*ie),z.set(g,C*w*ie),j.set([ie,ie,ie,ie,ie,ie],P*w*ie)}const X=new fo;X.setAttribute("position",new xl(B,S)),X.setAttribute("uv",new xl(z,C)),X.setAttribute("faceIndex",new xl(j,P)),e.push(X),i>4&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}(o)),this._blurMaterial=function YEe(n,e,t){const r=new Float32Array(20),i=new Be(0,1,0);return new $v({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(o,e,t)}return i}_compileMaterial(e){const t=new Mc(this._lodPlanes[0],e);this._renderer.compile(t,$B)}_sceneToCubeUV(e,t,r,i){const a=new du(90,1,t,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,g=h.toneMapping;h.getClearColor(Mq),h.toneMapping=0,h.autoClear=!1;const y=new jv({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),w=new Mc(new wb,y);let S=!1;const C=e.background;C?C.isColor&&(y.color.copy(C),e.background=null,S=!0):(y.color.copy(Mq),S=!0);for(let P=0;P<6;P++){const B=P%3;0===B?(a.up.set(0,u[P],0),a.lookAt(c[P],0,0)):1===B?(a.up.set(0,0,u[P]),a.lookAt(0,c[P],0)):(a.up.set(0,u[P],0),a.lookAt(0,0,c[P]));const z=this._cubeSize;Dk(i,B*z,P>2?z:0,z,z),h.setRenderTarget(i),S&&h.render(w,a),h.render(e,a)}w.geometry.dispose(),w.material.dispose(),h.toneMapping=g,h.autoClear=p,e.background=C}_textureToCubeUV(e,t){const r=this._renderer,i=301===e.mapping||302===e.mapping;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=Tq()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Eq());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new Mc(this._lodPlanes[0],o);o.uniforms.envMap.value=e;const u=this._cubeSize;Dk(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(s,$B)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]);this._blur(e,i-1,i,o,Sq[(i-1)%Sq.length])}t.autoClear=r}_blur(e,t,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,s,a){const u=this._renderer,c=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const p=new Mc(this._lodPlanes[i],c),g=c.uniforms,y=this._sizeLods[r]-1,w=isFinite(o)?Math.PI/(2*y):2*Math.PI/39,S=o/w,C=isFinite(o)?1+Math.floor(3*S):20;C>20&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${C} samples when the maximum is set to 20`);const P=[];let B=0;for(let me=0;me<20;++me){const re=me/S,pe=Math.exp(-re*re/2);P.push(pe),0===me?B+=pe:me<C&&(B+=2*pe)}for(let me=0;me<P.length;me++)P[me]=P[me]/B;g.envMap.value=e.texture,g.samples.value=C,g.weights.value=P,g.latitudinal.value="latitudinal"===s,a&&(g.poleAxis.value=a);const{_lodMax:z}=this;g.dTheta.value=w,g.mipInt.value=z-r;const j=this._sizeLods[i];Dk(t,3*j*(i>z-4?i-z+4:0),4*(this._cubeSize-j),3*j,2*j),u.setRenderTarget(t),u.render(p,$B)}}function Cq(n,e,t){const r=new vb(n,e,t);return r.texture.mapping=306,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Dk(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Eq(){return new $v({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Tq(){return new $v({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function GEe(n){let e=new WeakMap,t=null;function o(a){const u=a.target;u.removeEventListener("dispose",o);const c=e.get(u);void 0!==c&&(e.delete(u),c.dispose())}return{get:function r(a){if(a&&a.isTexture){const u=a.mapping,c=303===u||304===u,h=301===u||302===u;if(c||h){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let p=e.get(a);return null===t&&(t=new xq(n)),p=c?t.fromEquirectangular(a,p):t.fromCubemap(a,p),e.set(a,p),p.texture}if(e.has(a))return e.get(a).texture;{const p=a.image;if(c&&p&&p.height>0||h&&p&&function i(a){let u=0;for(let h=0;h<6;h++)void 0!==a[h]&&u++;return 6===u}(p)){null===t&&(t=new xq(n));const g=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,g),a.addEventListener("dispose",o),g.texture}return null}}}return a},dispose:function s(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function $Ee(n){const e={};function t(r){if(void 0!==e[r])return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return null!==t(r)},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return null===i&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function XEe(n,e,t,r){const i={},o=new WeakMap;function s(p){const g=p.target;null!==g.index&&e.remove(g.index);for(const w in g.attributes)e.remove(g.attributes[w]);g.removeEventListener("dispose",s),delete i[g.id];const y=o.get(g);y&&(e.remove(y),o.delete(g)),r.releaseStatesOfGeometry(g),!0===g.isInstancedBufferGeometry&&delete g._maxInstanceCount,t.memory.geometries--}function c(p){const g=[],y=p.index,w=p.attributes.position;let S=0;if(null!==y){const B=y.array;S=y.version;for(let z=0,j=B.length;z<j;z+=3){const X=B[z+0],ie=B[z+1],me=B[z+2];g.push(X,ie,ie,me,me,X)}}else{S=w.version;for(let z=0,j=w.array.length/3-1;z<j;z+=3){const X=z+0,ie=z+1,me=z+2;g.push(X,ie,ie,me,me,X)}}const C=new(rq(g)?yq:vq)(g,1);C.version=S;const P=o.get(p);P&&e.remove(P),o.set(p,C)}return{get:function a(p,g){return!0===i[g.id]||(g.addEventListener("dispose",s),i[g.id]=!0,t.memory.geometries++),g},update:function u(p){const g=p.attributes;for(const w in g)e.update(g[w],34962);const y=p.morphAttributes;for(const w in y){const S=y[w];for(let C=0,P=S.length;C<P;C++)e.update(S[C],34962)}},getWireframeAttribute:function h(p){const g=o.get(p);if(g){const y=p.index;null!==y&&g.version<y.version&&c(p)}else c(p);return o.get(p)}}}function KEe(n,e,t,r){const i=r.isWebGL2;let o,a,u;this.setMode=function s(g){o=g},this.setIndex=function c(g){a=g.type,u=g.bytesPerElement},this.render=function h(g,y){n.drawElements(o,y,a,g*u),t.update(y,o,1)},this.renderInstances=function p(g,y,w){if(0===w)return;let S,C;if(i)S=n,C="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),C="drawElementsInstancedANGLE",null===S)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");S[C](o,y,a,g*u,w),t.update(y,o,w)}}function ZEe(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function r(o,s,a){switch(t.calls++,s){case 4:t.triangles+=a*(o/3);break;case 1:t.lines+=a*(o/2);break;case 3:t.lines+=a*(o-1);break;case 2:t.lines+=a*o;break;case 0:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}function qEe(n,e){return n[0]-e[0]}function JEe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function ZB(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Uint8Array?t=255:r instanceof Uint16Array?t=65535:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function QEe(n,e,t){const r={},i=new Float32Array(8),o=new WeakMap,s=new ss,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function u(c,h,p,g){const y=c.morphTargetInfluences;if(!0===e.isWebGL2){const w=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,S=void 0!==w?w.length:0;let C=o.get(h);if(void 0===C||C.count!==S){let bt=function(){lt.dispose(),o.delete(h),h.removeEventListener("dispose",bt)};void 0!==C&&C.texture.dispose();const z=void 0!==h.morphAttributes.position,j=void 0!==h.morphAttributes.normal,X=void 0!==h.morphAttributes.color,ie=h.morphAttributes.position||[],me=h.morphAttributes.normal||[],re=h.morphAttributes.color||[];let pe=0;!0===z&&(pe=1),!0===j&&(pe=2),!0===X&&(pe=3);let we=h.attributes.position.count*pe,Le=1;we>e.maxTextureSize&&(Le=Math.ceil(we/e.maxTextureSize),we=e.maxTextureSize);const ot=new Float32Array(we*Le*4*S),lt=new CB(ot,we,Le,S);lt.type=Fv,lt.needsUpdate=!0;const je=4*pe;for(let ye=0;ye<S;ye++){const Ae=ie[ye],Ye=me[ye],Je=re[ye],wt=we*Le*4*ye;for(let Z=0;Z<Ae.count;Z++){const Q=Z*je;!0===z&&(s.fromBufferAttribute(Ae,Z),!0===Ae.normalized&&ZB(s,Ae),ot[wt+Q+0]=s.x,ot[wt+Q+1]=s.y,ot[wt+Q+2]=s.z,ot[wt+Q+3]=0),!0===j&&(s.fromBufferAttribute(Ye,Z),!0===Ye.normalized&&ZB(s,Ye),ot[wt+Q+4]=s.x,ot[wt+Q+5]=s.y,ot[wt+Q+6]=s.z,ot[wt+Q+7]=0),!0===X&&(s.fromBufferAttribute(Je,Z),!0===Je.normalized&&ZB(s,Je),ot[wt+Q+8]=s.x,ot[wt+Q+9]=s.y,ot[wt+Q+10]=s.z,ot[wt+Q+11]=4===Je.itemSize?s.w:1)}}C={count:S,texture:lt,size:new En(we,Le)},o.set(h,C),h.addEventListener("dispose",bt)}let P=0;for(let z=0;z<y.length;z++)P+=y[z];const B=h.morphTargetsRelative?1:1-P;g.getUniforms().setValue(n,"morphTargetBaseInfluence",B),g.getUniforms().setValue(n,"morphTargetInfluences",y),g.getUniforms().setValue(n,"morphTargetsTexture",C.texture,t),g.getUniforms().setValue(n,"morphTargetsTextureSize",C.size)}else{const w=void 0===y?0:y.length;let S=r[h.id];if(void 0===S||S.length!==w){S=[];for(let j=0;j<w;j++)S[j]=[j,0];r[h.id]=S}for(let j=0;j<w;j++){const X=S[j];X[0]=j,X[1]=y[j]}S.sort(JEe);for(let j=0;j<8;j++)j<w&&S[j][1]?(a[j][0]=S[j][0],a[j][1]=S[j][1]):(a[j][0]=Number.MAX_SAFE_INTEGER,a[j][1]=0);a.sort(qEe);const C=h.morphAttributes.position,P=h.morphAttributes.normal;let B=0;for(let j=0;j<8;j++){const X=a[j],ie=X[0],me=X[1];ie!==Number.MAX_SAFE_INTEGER&&me?(C&&h.getAttribute("morphTarget"+j)!==C[ie]&&h.setAttribute("morphTarget"+j,C[ie]),P&&h.getAttribute("morphNormal"+j)!==P[ie]&&h.setAttribute("morphNormal"+j,P[ie]),i[j]=me,B+=me):(C&&!0===h.hasAttribute("morphTarget"+j)&&h.deleteAttribute("morphTarget"+j),P&&!0===h.hasAttribute("morphNormal"+j)&&h.deleteAttribute("morphNormal"+j),i[j]=0)}const z=h.morphTargetsRelative?1:1-B;g.getUniforms().setValue(n,"morphTargetBaseInfluence",z),g.getUniforms().setValue(n,"morphTargetInfluences",i)}}}}function eTe(n,e,t,r){let i=new WeakMap;function a(u){const c=u.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function o(u){const c=r.render.frame,p=e.get(u,u.geometry);return i.get(p)!==c&&(e.update(p),i.set(p,c)),u.isInstancedMesh&&(!1===u.hasEventListener("dispose",a)&&u.addEventListener("dispose",a),t.update(u.instanceMatrix,34962),null!==u.instanceColor&&t.update(u.instanceColor,34962)),p},dispose:function s(){i=new WeakMap}}}const Rq=new Hv,Dq=new CB,Aq=new sq,Oq=new Ek,kq=[],Lq=[],Pq=new Float32Array(16),Iq=new Float32Array(9),Nq=new Float32Array(4);function TS(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let o=kq[i];if(void 0===o&&(o=new Float32Array(i),kq[i]=o),0!==e){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function Hu(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Bu(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Ak(n,e){let t=Lq[e];void 0===t&&(t=new Int32Array(e),Lq[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function tTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function nTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hu(t,e))return;n.uniform2fv(this.addr,e),Bu(t,e)}}function rTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Hu(t,e))return;n.uniform3fv(this.addr,e),Bu(t,e)}}function iTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hu(t,e))return;n.uniform4fv(this.addr,e),Bu(t,e)}}function oTe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Hu(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Bu(t,e)}else{if(Hu(t,r))return;Nq.set(r),n.uniformMatrix2fv(this.addr,!1,Nq),Bu(t,r)}}function sTe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Hu(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Bu(t,e)}else{if(Hu(t,r))return;Iq.set(r),n.uniformMatrix3fv(this.addr,!1,Iq),Bu(t,r)}}function aTe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Hu(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Bu(t,e)}else{if(Hu(t,r))return;Pq.set(r),n.uniformMatrix4fv(this.addr,!1,Pq),Bu(t,r)}}function lTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function uTe(n,e){const t=this.cache;Hu(t,e)||(n.uniform2iv(this.addr,e),Bu(t,e))}function cTe(n,e){const t=this.cache;Hu(t,e)||(n.uniform3iv(this.addr,e),Bu(t,e))}function dTe(n,e){const t=this.cache;Hu(t,e)||(n.uniform4iv(this.addr,e),Bu(t,e))}function hTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function fTe(n,e){const t=this.cache;Hu(t,e)||(n.uniform2uiv(this.addr,e),Bu(t,e))}function pTe(n,e){const t=this.cache;Hu(t,e)||(n.uniform3uiv(this.addr,e),Bu(t,e))}function mTe(n,e){const t=this.cache;Hu(t,e)||(n.uniform4uiv(this.addr,e),Bu(t,e))}function gTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Rq,i)}function vTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Aq,i)}function yTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Oq,i)}function _Te(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Dq,i)}function wTe(n,e){n.uniform1fv(this.addr,e)}function MTe(n,e){const t=TS(e,this.size,2);n.uniform2fv(this.addr,t)}function STe(n,e){const t=TS(e,this.size,3);n.uniform3fv(this.addr,t)}function xTe(n,e){const t=TS(e,this.size,4);n.uniform4fv(this.addr,t)}function CTe(n,e){const t=TS(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function ETe(n,e){const t=TS(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function TTe(n,e){const t=TS(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function RTe(n,e){n.uniform1iv(this.addr,e)}function DTe(n,e){n.uniform2iv(this.addr,e)}function ATe(n,e){n.uniform3iv(this.addr,e)}function OTe(n,e){n.uniform4iv(this.addr,e)}function kTe(n,e){n.uniform1uiv(this.addr,e)}function LTe(n,e){n.uniform2uiv(this.addr,e)}function PTe(n,e){n.uniform3uiv(this.addr,e)}function ITe(n,e){n.uniform4uiv(this.addr,e)}function NTe(n,e,t){const r=e.length,i=Ak(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2D(e[o]||Rq,i[o])}function FTe(n,e,t){const r=e.length,i=Ak(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture3D(e[o]||Aq,i[o])}function HTe(n,e,t){const r=e.length,i=Ak(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTextureCube(e[o]||Oq,i[o])}function BTe(n,e,t){const r=e.length,i=Ak(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||Dq,i[o])}class zTe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function bTe(n){switch(n){case 5126:return tTe;case 35664:return nTe;case 35665:return rTe;case 35666:return iTe;case 35674:return oTe;case 35675:return sTe;case 35676:return aTe;case 5124:case 35670:return lTe;case 35667:case 35671:return uTe;case 35668:case 35672:return cTe;case 35669:case 35673:return dTe;case 5125:return hTe;case 36294:return fTe;case 36295:return pTe;case 36296:return mTe;case 35678:case 36198:case 36298:case 36306:case 35682:return gTe;case 35679:case 36299:case 36307:return vTe;case 35680:case 36300:case 36308:case 36293:return yTe;case 36289:case 36303:case 36311:case 36292:return _Te}}(t.type)}}class UTe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function VTe(n){switch(n){case 5126:return wTe;case 35664:return MTe;case 35665:return STe;case 35666:return xTe;case 35674:return CTe;case 35675:return ETe;case 35676:return TTe;case 5124:case 35670:return RTe;case 35667:case 35671:return DTe;case 35668:case 35672:return ATe;case 35669:case 35673:return OTe;case 5125:return kTe;case 36294:return LTe;case 36295:return PTe;case 36296:return ITe;case 35678:case 36198:case 36298:case 36306:case 35682:return NTe;case 35679:case 36299:case 36307:return FTe;case 35680:case 36300:case 36308:case 36293:return HTe;case 36289:case 36303:case 36311:case 36292:return BTe}}(t.type)}}class jTe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,t[a.id],r)}}}const qB=/(\w+)(\])?(\[|\.)?/g;function Fq(n,e){n.seq.push(e),n.map[e.id]=e}function WTe(n,e,t){const r=n.name,i=r.length;for(qB.lastIndex=0;;){const o=qB.exec(r),s=qB.lastIndex;let a=o[1];const c=o[3];if("]"===o[2]&&(a|=0),void 0===c||"["===c&&s+2===i){Fq(t,void 0===c?new zTe(a,n,e):new UTe(a,n,e));break}{let p=t.map[a];void 0===p&&(p=new jTe(a),Fq(t,p)),t=p}}}class Ok{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const o=e.getActiveUniform(t,i);WTe(o,e.getUniformLocation(t,o.name),this)}}setValue(e,t,r,i){const o=this.map[t];void 0!==o&&o.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];void 0!==i&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let o=0,s=t.length;o!==s;++o){const a=t[o],u=r[a.id];!1!==u.needsUpdate&&a.setValue(e,u.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function Hq(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let YTe=0;function Bq(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return t.toUpperCase()+"\n\n"+i+"\n\n"+function GTe(n,e){const t=n.split("\n"),r=[],i=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return r.join("\n")}(n.getShaderSource(e),s)}return i}function XTe(n,e){const t=function $Te(n){switch(n){case fb:return["Linear","( value )"];case da:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function KTe(n,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function AT(n){return""!==n}function Vq(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function zq(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const QTe=/^[ \t]*#include +<([\w\d./]+)>/gm;function JB(n){return n.replace(QTe,e1e)}function e1e(n,e){const t=yo[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return JB(t)}const t1e=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,n1e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Uq(n){return n.replace(n1e,jq).replace(t1e,r1e)}function r1e(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),jq(0,e,t,r)}function jq(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Wq(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function u1e(n,e,t,r){const i=n.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const u=function i1e(n){let e="SHADOWMAP_TYPE_BASIC";return 1===n.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function o1e(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),h=function s1e(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&302===n.envMapMode&&(e="ENVMAP_MODE_REFRACTION"),e}(t),p=function a1e(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),g=function l1e(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}(t),y=t.isWebGL2?"":function ZTe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(AT).join("\n")}(t),w=function qTe(n){const e=[];for(const t in n){const r=n[t];!1!==r&&e.push("#define "+t+" "+r)}return e.join("\n")}(o),S=i.createProgram();let C,P,B=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(C=[w].filter(AT).join("\n"),C.length>0&&(C+="\n"),P=[y,w].filter(AT).join("\n"),P.length>0&&(P+="\n")):(C=[Wq(t),"#define SHADER_NAME "+t.shaderName,w,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(AT).join("\n"),P=[y,Wq(t),"#define SHADER_NAME "+t.shaderName,w,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+p:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?yo.tonemapping_pars_fragment:"",0!==t.toneMapping?KTe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",yo.encodings_pars_fragment,XTe("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(AT).join("\n")),s=JB(s),s=Vq(s,t),s=zq(s,t),a=JB(a),a=Vq(a,t),a=zq(a,t),s=Uq(s),a=Uq(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(B="#version 300 es\n",C=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+C,P=["#define varying in","300 es"===t.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+P);const j=B+P+a,X=Hq(i,35633,B+C+s),ie=Hq(i,35632,j);if(i.attachShader(S,X),i.attachShader(S,ie),void 0!==t.index0AttributeName?i.bindAttribLocation(S,0,t.index0AttributeName):!0===t.morphTargets&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S),n.debug.checkShaderErrors){const pe=i.getProgramInfoLog(S).trim(),we=i.getShaderInfoLog(X).trim(),Le=i.getShaderInfoLog(ie).trim();let ot=!0,lt=!0;if(!1===i.getProgramParameter(S,35714)){ot=!1;const je=Bq(i,X,"vertex"),bt=Bq(i,ie,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,35715)+"\n\nProgram Info Log: "+pe+"\n"+je+"\n"+bt)}else""!==pe?console.warn("THREE.WebGLProgram: Program Info Log:",pe):(""===we||""===Le)&&(lt=!1);lt&&(this.diagnostics={runnable:ot,programLog:pe,vertexShader:{log:we,prefix:C},fragmentShader:{log:Le,prefix:P}})}let me,re;return i.deleteShader(X),i.deleteShader(ie),this.getUniforms=function(){return void 0===me&&(me=new Ok(i,S)),me},this.getAttributes=function(){return void 0===re&&(re=function JTe(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const o=n.getActiveAttrib(e,i),s=o.name;let a=1;35674===o.type&&(a=2),35675===o.type&&(a=3),35676===o.type&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}(i,S)),re},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.name=t.shaderName,this.id=YTe++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=X,this.fragmentShader=ie,this}let c1e=0;class d1e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,i=this._getShaderStage(e.vertexShader),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return!1===s.has(i)&&(s.add(i),i.usedTimes++),!1===s.has(o)&&(s.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const r=new h1e(e);t.set(e,r)}return t.get(e)}}class h1e{constructor(e){this.id=c1e++,this.code=e,this.usedTimes=0}}function f1e(n,e,t,r,i,o,s){const a=new LB,u=new d1e,c=[],h=i.isWebGL2,p=i.logarithmicDepthBuffer,g=i.vertexTextures;let y=i.precision;const w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function S(re,pe,we,Le,ot){const lt=Le.fog,je=ot.geometry,ye=(re.isMeshStandardMaterial?t:e).get(re.envMap||(re.isMeshStandardMaterial?Le.environment:null)),Ae=ye&&306===ye.mapping?ye.image.height:null,Ye=w[re.type];null!==re.precision&&(y=i.getMaxPrecision(re.precision),y!==re.precision&&console.warn("THREE.WebGLProgram.getParameters:",re.precision,"not supported, using",y,"instead."));const Je=je.morphAttributes.position||je.morphAttributes.normal||je.morphAttributes.color,wt=void 0!==Je?Je.length:0;let Q,fe,Me,Te,Z=0;if(void 0!==je.morphAttributes.position&&(Z=1),void 0!==je.morphAttributes.normal&&(Z=2),void 0!==je.morphAttributes.color&&(Z=3),Ye){const kt=Qf[Ye];Q=kt.vertexShader,fe=kt.fragmentShader}else Q=re.vertexShader,fe=re.fragmentShader,u.update(re),Me=u.getVertexShaderID(re),Te=u.getFragmentShaderID(re);const Ge=n.getRenderTarget(),Lt=re.clearcoat>0,Ot=re.iridescence>0;return{isWebGL2:h,shaderID:Ye,shaderName:re.type,vertexShader:Q,fragmentShader:fe,defines:re.defines,customVertexShaderID:Me,customFragmentShaderID:Te,isRawShaderMaterial:!0===re.isRawShaderMaterial,glslVersion:re.glslVersion,precision:y,instancing:!0===ot.isInstancedMesh,instancingColor:!0===ot.isInstancedMesh&&null!==ot.instanceColor,supportsVertexTextures:g,outputEncoding:null===Ge?n.outputEncoding:!0===Ge.isXRRenderTarget?Ge.texture.encoding:fb,map:!!re.map,matcap:!!re.matcap,envMap:!!ye,envMapMode:ye&&ye.mapping,envMapCubeUVHeight:Ae,lightMap:!!re.lightMap,aoMap:!!re.aoMap,emissiveMap:!!re.emissiveMap,bumpMap:!!re.bumpMap,normalMap:!!re.normalMap,objectSpaceNormalMap:1===re.normalMapType,tangentSpaceNormalMap:0===re.normalMapType,decodeVideoTexture:!!re.map&&!0===re.map.isVideoTexture&&re.map.encoding===da,clearcoat:Lt,clearcoatMap:Lt&&!!re.clearcoatMap,clearcoatRoughnessMap:Lt&&!!re.clearcoatRoughnessMap,clearcoatNormalMap:Lt&&!!re.clearcoatNormalMap,iridescence:Ot,iridescenceMap:Ot&&!!re.iridescenceMap,iridescenceThicknessMap:Ot&&!!re.iridescenceThicknessMap,displacementMap:!!re.displacementMap,roughnessMap:!!re.roughnessMap,metalnessMap:!!re.metalnessMap,specularMap:!!re.specularMap,specularIntensityMap:!!re.specularIntensityMap,specularColorMap:!!re.specularColorMap,opaque:!1===re.transparent&&1===re.blending,alphaMap:!!re.alphaMap,alphaTest:re.alphaTest>0,gradientMap:!!re.gradientMap,sheen:re.sheen>0,sheenColorMap:!!re.sheenColorMap,sheenRoughnessMap:!!re.sheenRoughnessMap,transmission:re.transmission>0,transmissionMap:!!re.transmissionMap,thicknessMap:!!re.thicknessMap,combine:re.combine,vertexTangents:!!re.normalMap&&!!je.attributes.tangent,vertexColors:re.vertexColors,vertexAlphas:!0===re.vertexColors&&!!je.attributes.color&&4===je.attributes.color.itemSize,vertexUvs:!!(re.map||re.bumpMap||re.normalMap||re.specularMap||re.alphaMap||re.emissiveMap||re.roughnessMap||re.metalnessMap||re.clearcoatMap||re.clearcoatRoughnessMap||re.clearcoatNormalMap||re.iridescenceMap||re.iridescenceThicknessMap||re.displacementMap||re.transmissionMap||re.thicknessMap||re.specularIntensityMap||re.specularColorMap||re.sheenColorMap||re.sheenRoughnessMap),uvsVertexOnly:!(re.map||re.bumpMap||re.normalMap||re.specularMap||re.alphaMap||re.emissiveMap||re.roughnessMap||re.metalnessMap||re.clearcoatNormalMap||re.iridescenceMap||re.iridescenceThicknessMap||re.transmission>0||re.transmissionMap||re.thicknessMap||re.specularIntensityMap||re.specularColorMap||re.sheen>0||re.sheenColorMap||re.sheenRoughnessMap||!re.displacementMap),fog:!!lt,useFog:!0===re.fog,fogExp2:lt&&lt.isFogExp2,flatShading:!!re.flatShading,sizeAttenuation:re.sizeAttenuation,logarithmicDepthBuffer:p,skinning:!0===ot.isSkinnedMesh,morphTargets:void 0!==je.morphAttributes.position,morphNormals:void 0!==je.morphAttributes.normal,morphColors:void 0!==je.morphAttributes.color,morphTargetsCount:wt,morphTextureStride:Z,numDirLights:pe.directional.length,numPointLights:pe.point.length,numSpotLights:pe.spot.length,numRectAreaLights:pe.rectArea.length,numHemiLights:pe.hemi.length,numDirLightShadows:pe.directionalShadowMap.length,numPointLightShadows:pe.pointShadowMap.length,numSpotLightShadows:pe.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:re.dithering,shadowMapEnabled:n.shadowMap.enabled&&we.length>0,shadowMapType:n.shadowMap.type,toneMapping:re.toneMapped?n.toneMapping:0,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:re.premultipliedAlpha,doubleSided:2===re.side,flipSided:1===re.side,useDepthPacking:!!re.depthPacking,depthPacking:re.depthPacking||0,index0AttributeName:re.index0AttributeName,extensionDerivatives:re.extensions&&re.extensions.derivatives,extensionFragDepth:re.extensions&&re.extensions.fragDepth,extensionDrawBuffers:re.extensions&&re.extensions.drawBuffers,extensionShaderTextureLOD:re.extensions&&re.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:re.customProgramCacheKey()}},getProgramCacheKey:function C(re){const pe=[];if(re.shaderID?pe.push(re.shaderID):(pe.push(re.customVertexShaderID),pe.push(re.customFragmentShaderID)),void 0!==re.defines)for(const we in re.defines)pe.push(we),pe.push(re.defines[we]);return!1===re.isRawShaderMaterial&&(function P(re,pe){re.push(pe.precision),re.push(pe.outputEncoding),re.push(pe.envMapMode),re.push(pe.envMapCubeUVHeight),re.push(pe.combine),re.push(pe.vertexUvs),re.push(pe.fogExp2),re.push(pe.sizeAttenuation),re.push(pe.morphTargetsCount),re.push(pe.morphAttributeCount),re.push(pe.numDirLights),re.push(pe.numPointLights),re.push(pe.numSpotLights),re.push(pe.numHemiLights),re.push(pe.numRectAreaLights),re.push(pe.numDirLightShadows),re.push(pe.numPointLightShadows),re.push(pe.numSpotLightShadows),re.push(pe.shadowMapType),re.push(pe.toneMapping),re.push(pe.numClippingPlanes),re.push(pe.numClipIntersection),re.push(pe.depthPacking)}(pe,re),function B(re,pe){a.disableAll(),pe.isWebGL2&&a.enable(0),pe.supportsVertexTextures&&a.enable(1),pe.instancing&&a.enable(2),pe.instancingColor&&a.enable(3),pe.map&&a.enable(4),pe.matcap&&a.enable(5),pe.envMap&&a.enable(6),pe.lightMap&&a.enable(7),pe.aoMap&&a.enable(8),pe.emissiveMap&&a.enable(9),pe.bumpMap&&a.enable(10),pe.normalMap&&a.enable(11),pe.objectSpaceNormalMap&&a.enable(12),pe.tangentSpaceNormalMap&&a.enable(13),pe.clearcoat&&a.enable(14),pe.clearcoatMap&&a.enable(15),pe.clearcoatRoughnessMap&&a.enable(16),pe.clearcoatNormalMap&&a.enable(17),pe.iridescence&&a.enable(18),pe.iridescenceMap&&a.enable(19),pe.iridescenceThicknessMap&&a.enable(20),pe.displacementMap&&a.enable(21),pe.specularMap&&a.enable(22),pe.roughnessMap&&a.enable(23),pe.metalnessMap&&a.enable(24),pe.gradientMap&&a.enable(25),pe.alphaMap&&a.enable(26),pe.alphaTest&&a.enable(27),pe.vertexColors&&a.enable(28),pe.vertexAlphas&&a.enable(29),pe.vertexUvs&&a.enable(30),pe.vertexTangents&&a.enable(31),pe.uvsVertexOnly&&a.enable(32),pe.fog&&a.enable(33),re.push(a.mask),a.disableAll(),pe.useFog&&a.enable(0),pe.flatShading&&a.enable(1),pe.logarithmicDepthBuffer&&a.enable(2),pe.skinning&&a.enable(3),pe.morphTargets&&a.enable(4),pe.morphNormals&&a.enable(5),pe.morphColors&&a.enable(6),pe.premultipliedAlpha&&a.enable(7),pe.shadowMapEnabled&&a.enable(8),pe.physicallyCorrectLights&&a.enable(9),pe.doubleSided&&a.enable(10),pe.flipSided&&a.enable(11),pe.useDepthPacking&&a.enable(12),pe.dithering&&a.enable(13),pe.specularIntensityMap&&a.enable(14),pe.specularColorMap&&a.enable(15),pe.transmission&&a.enable(16),pe.transmissionMap&&a.enable(17),pe.thicknessMap&&a.enable(18),pe.sheen&&a.enable(19),pe.sheenColorMap&&a.enable(20),pe.sheenRoughnessMap&&a.enable(21),pe.decodeVideoTexture&&a.enable(22),pe.opaque&&a.enable(23),re.push(a.mask)}(pe,re),pe.push(n.outputEncoding)),pe.push(re.customProgramCacheKey),pe.join()},getUniforms:function z(re){const pe=w[re.type];let we;return we=pe?Lxe.clone(Qf[pe].uniforms):re.uniforms,we},acquireProgram:function j(re,pe){let we;for(let Le=0,ot=c.length;Le<ot;Le++){const lt=c[Le];if(lt.cacheKey===pe){we=lt,++we.usedTimes;break}}return void 0===we&&(we=new u1e(n,pe,re,o),c.push(we)),we},releaseProgram:function X(re){if(0==--re.usedTimes){const pe=c.indexOf(re);c[pe]=c[c.length-1],c.pop(),re.destroy()}},releaseShaderCache:function ie(re){u.remove(re)},programs:c,dispose:function me(){u.dispose()}}}function p1e(){let n=new WeakMap;return{get:function e(o){let s=n.get(o);return void 0===s&&(s={},n.set(o,s)),s},remove:function t(o){n.delete(o)},update:function r(o,s,a){n.get(o)[s]=a},dispose:function i(){n=new WeakMap}}}function m1e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Yq(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Gq(){const n=[];let e=0;const t=[],r=[],i=[];function s(p,g,y,w,S,C){let P=n[e];return void 0===P?(P={id:p.id,object:p,geometry:g,material:y,groupOrder:w,renderOrder:p.renderOrder,z:S,group:C},n[e]=P):(P.id=p.id,P.object=p,P.geometry=g,P.material=y,P.groupOrder=w,P.renderOrder=p.renderOrder,P.z=S,P.group=C),e++,P}return{opaque:t,transmissive:r,transparent:i,init:function o(){e=0,t.length=0,r.length=0,i.length=0},push:function a(p,g,y,w,S,C){const P=s(p,g,y,w,S,C);y.transmission>0?r.push(P):!0===y.transparent?i.push(P):t.push(P)},unshift:function u(p,g,y,w,S,C){const P=s(p,g,y,w,S,C);y.transmission>0?r.unshift(P):!0===y.transparent?i.unshift(P):t.unshift(P)},finish:function h(){for(let p=e,g=n.length;p<g;p++){const y=n[p];if(null===y.id)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}},sort:function c(p,g){t.length>1&&t.sort(p||m1e),r.length>1&&r.sort(g||Yq),i.length>1&&i.sort(g||Yq)}}}function g1e(){let n=new WeakMap;return{get:function e(r,i){let o;return!1===n.has(r)?(o=new Gq,n.set(r,[o])):i>=n.get(r).length?(o=new Gq,n.get(r).push(o)):o=n.get(r)[i],o},dispose:function t(){n=new WeakMap}}}function v1e(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Be,color:new Rr};break;case"SpotLight":t={position:new Be,direction:new Be,color:new Rr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Be,color:new Rr,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Be,skyColor:new Rr,groundColor:new Rr};break;case"RectAreaLight":t={color:new Rr,position:new Be,halfWidth:new Be,halfHeight:new Be}}return n[e.id]=t,t}}}let _1e=0;function b1e(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function w1e(n,e){const t=new v1e,r=function y1e(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new En};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new En,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let h=0;h<9;h++)i.probe.push(new Be);const o=new Be,s=new ro,a=new ro;return{setup:function u(h,p){let g=0,y=0,w=0;for(let pe=0;pe<9;pe++)i.probe[pe].set(0,0,0);let S=0,C=0,P=0,B=0,z=0,j=0,X=0,ie=0;h.sort(b1e);const me=!0!==p?Math.PI:1;for(let pe=0,we=h.length;pe<we;pe++){const Le=h[pe],ot=Le.color,lt=Le.intensity,je=Le.distance,bt=Le.shadow&&Le.shadow.map?Le.shadow.map.texture:null;if(Le.isAmbientLight)g+=ot.r*lt*me,y+=ot.g*lt*me,w+=ot.b*lt*me;else if(Le.isLightProbe)for(let ye=0;ye<9;ye++)i.probe[ye].addScaledVector(Le.sh.coefficients[ye],lt);else if(Le.isDirectionalLight){const ye=t.get(Le);if(ye.color.copy(Le.color).multiplyScalar(Le.intensity*me),Le.castShadow){const Ae=Le.shadow,Ye=r.get(Le);Ye.shadowBias=Ae.bias,Ye.shadowNormalBias=Ae.normalBias,Ye.shadowRadius=Ae.radius,Ye.shadowMapSize=Ae.mapSize,i.directionalShadow[S]=Ye,i.directionalShadowMap[S]=bt,i.directionalShadowMatrix[S]=Le.shadow.matrix,j++}i.directional[S]=ye,S++}else if(Le.isSpotLight){const ye=t.get(Le);if(ye.position.setFromMatrixPosition(Le.matrixWorld),ye.color.copy(ot).multiplyScalar(lt*me),ye.distance=je,ye.coneCos=Math.cos(Le.angle),ye.penumbraCos=Math.cos(Le.angle*(1-Le.penumbra)),ye.decay=Le.decay,Le.castShadow){const Ae=Le.shadow,Ye=r.get(Le);Ye.shadowBias=Ae.bias,Ye.shadowNormalBias=Ae.normalBias,Ye.shadowRadius=Ae.radius,Ye.shadowMapSize=Ae.mapSize,i.spotShadow[P]=Ye,i.spotShadowMap[P]=bt,i.spotShadowMatrix[P]=Le.shadow.matrix,ie++}i.spot[P]=ye,P++}else if(Le.isRectAreaLight){const ye=t.get(Le);ye.color.copy(ot).multiplyScalar(lt),ye.halfWidth.set(.5*Le.width,0,0),ye.halfHeight.set(0,.5*Le.height,0),i.rectArea[B]=ye,B++}else if(Le.isPointLight){const ye=t.get(Le);if(ye.color.copy(Le.color).multiplyScalar(Le.intensity*me),ye.distance=Le.distance,ye.decay=Le.decay,Le.castShadow){const Ae=Le.shadow,Ye=r.get(Le);Ye.shadowBias=Ae.bias,Ye.shadowNormalBias=Ae.normalBias,Ye.shadowRadius=Ae.radius,Ye.shadowMapSize=Ae.mapSize,Ye.shadowCameraNear=Ae.camera.near,Ye.shadowCameraFar=Ae.camera.far,i.pointShadow[C]=Ye,i.pointShadowMap[C]=bt,i.pointShadowMatrix[C]=Le.shadow.matrix,X++}i.point[C]=ye,C++}else if(Le.isHemisphereLight){const ye=t.get(Le);ye.skyColor.copy(Le.color).multiplyScalar(lt*me),ye.groundColor.copy(Le.groundColor).multiplyScalar(lt*me),i.hemi[z]=ye,z++}}B>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(i.rectAreaLTC1=ar.LTC_FLOAT_1,i.rectAreaLTC2=ar.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=ar.LTC_HALF_1,i.rectAreaLTC2=ar.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=g,i.ambient[1]=y,i.ambient[2]=w;const re=i.hash;(re.directionalLength!==S||re.pointLength!==C||re.spotLength!==P||re.rectAreaLength!==B||re.hemiLength!==z||re.numDirectionalShadows!==j||re.numPointShadows!==X||re.numSpotShadows!==ie)&&(i.directional.length=S,i.spot.length=P,i.rectArea.length=B,i.point.length=C,i.hemi.length=z,i.directionalShadow.length=j,i.directionalShadowMap.length=j,i.pointShadow.length=X,i.pointShadowMap.length=X,i.spotShadow.length=ie,i.spotShadowMap.length=ie,i.directionalShadowMatrix.length=j,i.pointShadowMatrix.length=X,i.spotShadowMatrix.length=ie,re.directionalLength=S,re.pointLength=C,re.spotLength=P,re.rectAreaLength=B,re.hemiLength=z,re.numDirectionalShadows=j,re.numPointShadows=X,re.numSpotShadows=ie,i.version=_1e++)},setupView:function c(h,p){let g=0,y=0,w=0,S=0,C=0;const P=p.matrixWorldInverse;for(let B=0,z=h.length;B<z;B++){const j=h[B];if(j.isDirectionalLight){const X=i.directional[g];X.direction.setFromMatrixPosition(j.matrixWorld),o.setFromMatrixPosition(j.target.matrixWorld),X.direction.sub(o),X.direction.transformDirection(P),g++}else if(j.isSpotLight){const X=i.spot[w];X.position.setFromMatrixPosition(j.matrixWorld),X.position.applyMatrix4(P),X.direction.setFromMatrixPosition(j.matrixWorld),o.setFromMatrixPosition(j.target.matrixWorld),X.direction.sub(o),X.direction.transformDirection(P),w++}else if(j.isRectAreaLight){const X=i.rectArea[S];X.position.setFromMatrixPosition(j.matrixWorld),X.position.applyMatrix4(P),a.identity(),s.copy(j.matrixWorld),s.premultiply(P),a.extractRotation(s),X.halfWidth.set(.5*j.width,0,0),X.halfHeight.set(0,.5*j.height,0),X.halfWidth.applyMatrix4(a),X.halfHeight.applyMatrix4(a),S++}else if(j.isPointLight){const X=i.point[y];X.position.setFromMatrixPosition(j.matrixWorld),X.position.applyMatrix4(P),y++}else if(j.isHemisphereLight){const X=i.hemi[C];X.direction.setFromMatrixPosition(j.matrixWorld),X.direction.transformDirection(P),C++}}},state:i}}function $q(n,e){const t=new w1e(n,e),r=[],i=[];return{init:function o(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:function u(p){t.setup(r,p)},setupLightsView:function c(p){t.setupView(r,p)},pushLight:function s(p){r.push(p)},pushShadow:function a(p){i.push(p)}}}function M1e(n,e){let t=new WeakMap;return{get:function r(o,s=0){let a;return!1===t.has(o)?(a=new $q(n,e),t.set(o,[a])):s>=t.get(o).length?(a=new $q(n,e),t.get(o).push(a)):a=t.get(o)[s],a},dispose:function i(){t=new WeakMap}}}class Xq extends yS{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Kq extends yS{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Be,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function C1e(n,e,t){let r=new GB;const i=new En,o=new En,s=new ss,a=new Xq({depthPacking:3201}),u=new Kq,c={},h=t.maxTextureSize,p={0:1,1:0,2:2},g=new $v({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new En},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),y=g.clone();y.defines.HORIZONTAL_PASS=1;const w=new fo;w.setAttribute("position",new xl(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Mc(w,g),C=this;function P(j,X){const ie=e.update(S);g.defines.VSM_SAMPLES!==j.blurSamples&&(g.defines.VSM_SAMPLES=j.blurSamples,y.defines.VSM_SAMPLES=j.blurSamples,g.needsUpdate=!0,y.needsUpdate=!0),null===j.mapPass&&(j.mapPass=new vb(i.x,i.y)),g.uniforms.shadow_pass.value=j.map.texture,g.uniforms.resolution.value=j.mapSize,g.uniforms.radius.value=j.radius,n.setRenderTarget(j.mapPass),n.clear(),n.renderBufferDirect(X,null,ie,g,S,null),y.uniforms.shadow_pass.value=j.mapPass.texture,y.uniforms.resolution.value=j.mapSize,y.uniforms.radius.value=j.radius,n.setRenderTarget(j.map),n.clear(),n.renderBufferDirect(X,null,ie,y,S,null)}function B(j,X,ie,me,re,pe){let we=null;const Le=!0===ie.isPointLight?j.customDistanceMaterial:j.customDepthMaterial;if(we=void 0!==Le?Le:!0===ie.isPointLight?u:a,n.localClippingEnabled&&!0===X.clipShadows&&Array.isArray(X.clippingPlanes)&&0!==X.clippingPlanes.length||X.displacementMap&&0!==X.displacementScale||X.alphaMap&&X.alphaTest>0){const ot=we.uuid,lt=X.uuid;let je=c[ot];void 0===je&&(je={},c[ot]=je);let bt=je[lt];void 0===bt&&(bt=we.clone(),je[lt]=bt),we=bt}return we.visible=X.visible,we.wireframe=X.wireframe,we.side=3===pe?null!==X.shadowSide?X.shadowSide:X.side:null!==X.shadowSide?X.shadowSide:p[X.side],we.alphaMap=X.alphaMap,we.alphaTest=X.alphaTest,we.clipShadows=X.clipShadows,we.clippingPlanes=X.clippingPlanes,we.clipIntersection=X.clipIntersection,we.displacementMap=X.displacementMap,we.displacementScale=X.displacementScale,we.displacementBias=X.displacementBias,we.wireframeLinewidth=X.wireframeLinewidth,we.linewidth=X.linewidth,!0===ie.isPointLight&&!0===we.isMeshDistanceMaterial&&(we.referencePosition.setFromMatrixPosition(ie.matrixWorld),we.nearDistance=me,we.farDistance=re),we}function z(j,X,ie,me,re){if(!1===j.visible)return;if(j.layers.test(X.layers)&&(j.isMesh||j.isLine||j.isPoints)&&(j.castShadow||j.receiveShadow&&3===re)&&(!j.frustumCulled||r.intersectsObject(j))){j.modelViewMatrix.multiplyMatrices(ie.matrixWorldInverse,j.matrixWorld);const Le=e.update(j),ot=j.material;if(Array.isArray(ot)){const lt=Le.groups;for(let je=0,bt=lt.length;je<bt;je++){const ye=lt[je],Ae=ot[ye.materialIndex];if(Ae&&Ae.visible){const Ye=B(j,Ae,me,ie.near,ie.far,re);n.renderBufferDirect(ie,null,Le,Ye,j,ye)}}}else if(ot.visible){const lt=B(j,ot,me,ie.near,ie.far,re);n.renderBufferDirect(ie,null,Le,lt,j,null)}}const we=j.children;for(let Le=0,ot=we.length;Le<ot;Le++)z(we[Le],X,ie,me,re)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(j,X,ie){if(!1===C.enabled||!1===C.autoUpdate&&!1===C.needsUpdate||0===j.length)return;const me=n.getRenderTarget(),re=n.getActiveCubeFace(),pe=n.getActiveMipmapLevel(),we=n.state;we.setBlending(0),we.buffers.color.setClear(1,1,1,1),we.buffers.depth.setTest(!0),we.setScissorTest(!1);for(let Le=0,ot=j.length;Le<ot;Le++){const lt=j[Le],je=lt.shadow;if(void 0===je){console.warn("THREE.WebGLShadowMap:",lt,"has no shadow.");continue}if(!1===je.autoUpdate&&!1===je.needsUpdate)continue;i.copy(je.mapSize);const bt=je.getFrameExtents();i.multiply(bt),o.copy(je.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(o.x=Math.floor(h/bt.x),i.x=o.x*bt.x,je.mapSize.x=o.x),i.y>h&&(o.y=Math.floor(h/bt.y),i.y=o.y*bt.y,je.mapSize.y=o.y)),null===je.map&&(je.map=new vb(i.x,i.y,3!==this.type?{minFilter:ll,magFilter:ll}:{}),je.map.texture.name=lt.name+".shadowMap",je.camera.updateProjectionMatrix()),n.setRenderTarget(je.map),n.clear();const ye=je.getViewportCount();for(let Ae=0;Ae<ye;Ae++){const Ye=je.getViewport(Ae);s.set(o.x*Ye.x,o.y*Ye.y,o.x*Ye.z,o.y*Ye.w),we.viewport(s),je.updateMatrices(lt,Ae),r=je.getFrustum(),z(X,ie,je.camera,lt,this.type)}!0!==je.isPointLightShadow&&3===this.type&&P(je,ie),je.needsUpdate=!1}C.needsUpdate=!1,n.setRenderTarget(me,re,pe)}}function E1e(n,e,t){const r=t.isWebGL2,a=new function i(){let st=!1;const Tn=new ss;let On=null;const kr=new ss(0,0,0,0);return{setMask:function(tr){On!==tr&&!st&&(n.colorMask(tr,tr,tr,tr),On=tr)},setLocked:function(tr){st=tr},setClear:function(tr,zr,Pn,Lr,ei){!0===ei&&(tr*=Lr,zr*=Lr,Pn*=Lr),Tn.set(tr,zr,Pn,Lr),!1===kr.equals(Tn)&&(n.clearColor(tr,zr,Pn,Lr),kr.copy(Tn))},reset:function(){st=!1,On=null,kr.set(-1,0,0,0)}}},u=new function o(){let st=!1,Tn=null,On=null,kr=null;return{setTest:function(tr){tr?Te(2929):Ge(2929)},setMask:function(tr){Tn!==tr&&!st&&(n.depthMask(tr),Tn=tr)},setFunc:function(tr){if(On!==tr){if(tr)switch(tr){case 0:n.depthFunc(512);break;case 1:n.depthFunc(519);break;case 2:n.depthFunc(513);break;case 3:default:n.depthFunc(515);break;case 4:n.depthFunc(514);break;case 5:n.depthFunc(518);break;case 6:n.depthFunc(516);break;case 7:n.depthFunc(517)}else n.depthFunc(515);On=tr}},setLocked:function(tr){st=tr},setClear:function(tr){kr!==tr&&(n.clearDepth(tr),kr=tr)},reset:function(){st=!1,Tn=null,On=null,kr=null}}},c=new function s(){let st=!1,Tn=null,On=null,kr=null,tr=null,zr=null,Pn=null,Lr=null,ei=null;return{setTest:function(ai){st||(ai?Te(2960):Ge(2960))},setMask:function(ai){Tn!==ai&&!st&&(n.stencilMask(ai),Tn=ai)},setFunc:function(ai,Fo,Ho){(On!==ai||kr!==Fo||tr!==Ho)&&(n.stencilFunc(ai,Fo,Ho),On=ai,kr=Fo,tr=Ho)},setOp:function(ai,Fo,Ho){(zr!==ai||Pn!==Fo||Lr!==Ho)&&(n.stencilOp(ai,Fo,Ho),zr=ai,Pn=Fo,Lr=Ho)},setLocked:function(ai){st=ai},setClear:function(ai){ei!==ai&&(n.clearStencil(ai),ei=ai)},reset:function(){st=!1,Tn=null,On=null,kr=null,tr=null,zr=null,Pn=null,Lr=null,ei=null}}};let h={},p={},g=new WeakMap,y=[],w=null,S=!1,C=null,P=null,B=null,z=null,j=null,X=null,ie=null,me=!1,re=null,pe=null,we=null,Le=null,ot=null;const lt=n.getParameter(35661);let je=!1,bt=0;const ye=n.getParameter(7938);-1!==ye.indexOf("WebGL")?(bt=parseFloat(/^WebGL (\d)/.exec(ye)[1]),je=bt>=1):-1!==ye.indexOf("OpenGL ES")&&(bt=parseFloat(/^OpenGL ES (\d)/.exec(ye)[1]),je=bt>=2);let Ae=null,Ye={};const Je=n.getParameter(3088),wt=n.getParameter(2978),Z=(new ss).fromArray(Je),Q=(new ss).fromArray(wt);function fe(st,Tn,On){const kr=new Uint8Array(4),tr=n.createTexture();n.bindTexture(st,tr),n.texParameteri(st,10241,9728),n.texParameteri(st,10240,9728);for(let zr=0;zr<On;zr++)n.texImage2D(Tn+zr,0,6408,1,1,0,6408,5121,kr);return tr}const Me={};function Te(st){!0!==h[st]&&(n.enable(st),h[st]=!0)}function Ge(st){!1!==h[st]&&(n.disable(st),h[st]=!1)}Me[3553]=fe(3553,3553,1),Me[34067]=fe(34067,34069,6),a.setClear(0,0,0,1),u.setClear(1),c.setClear(0),Te(2929),u.setFunc(3),Nt(!1),vn(1),Te(2884),pt(0);const ut={100:32774,101:32778,102:32779};if(r)ut[103]=32775,ut[104]=32776;else{const st=e.get("EXT_blend_minmax");null!==st&&(ut[103]=st.MIN_EXT,ut[104]=st.MAX_EXT)}const kt={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function pt(st,Tn,On,kr,tr,zr,Pn,Lr){if(0!==st){if(!1===S&&(Te(3042),S=!0),5===st)tr=tr||Tn,zr=zr||On,Pn=Pn||kr,(Tn!==P||tr!==j)&&(n.blendEquationSeparate(ut[Tn],ut[tr]),P=Tn,j=tr),(On!==B||kr!==z||zr!==X||Pn!==ie)&&(n.blendFuncSeparate(kt[On],kt[kr],kt[zr],kt[Pn]),B=On,z=kr,X=zr,ie=Pn),C=st,me=null;else if(st!==C||Lr!==me){if((100!==P||100!==j)&&(n.blendEquation(32774),P=100,j=100),Lr)switch(st){case 1:n.blendFuncSeparate(1,771,1,771);break;case 2:n.blendFunc(1,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",st)}else switch(st){case 1:n.blendFuncSeparate(770,771,1,771);break;case 2:n.blendFunc(770,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",st)}B=null,z=null,X=null,ie=null,C=st,me=Lr}}else!0===S&&(Ge(3042),S=!1)}function Nt(st){re!==st&&(n.frontFace(st?2304:2305),re=st)}function vn(st){0!==st?(Te(2884),st!==pe&&n.cullFace(1===st?1029:2===st?1028:1032)):Ge(2884),pe=st}function qn(st,Tn,On){st?(Te(32823),(Le!==Tn||ot!==On)&&(n.polygonOffset(Tn,On),Le=Tn,ot=On)):Ge(32823)}function an(st){void 0===st&&(st=33984+lt-1),Ae!==st&&(n.activeTexture(st),Ae=st)}return{buffers:{color:a,depth:u,stencil:c},enable:Te,disable:Ge,bindFramebuffer:function vt(st,Tn){return p[st]!==Tn&&(n.bindFramebuffer(st,Tn),p[st]=Tn,r&&(36009===st&&(p[36160]=Tn),36160===st&&(p[36009]=Tn)),!0)},drawBuffers:function Lt(st,Tn){let On=y,kr=!1;if(st)if(On=g.get(Tn),void 0===On&&(On=[],g.set(Tn,On)),st.isWebGLMultipleRenderTargets){const tr=st.texture;if(On.length!==tr.length||36064!==On[0]){for(let zr=0,Pn=tr.length;zr<Pn;zr++)On[zr]=36064+zr;On.length=tr.length,kr=!0}}else 36064!==On[0]&&(On[0]=36064,kr=!0);else 1029!==On[0]&&(On[0]=1029,kr=!0);kr&&(t.isWebGL2?n.drawBuffers(On):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(On))},useProgram:function Ot(st){return w!==st&&(n.useProgram(st),w=st,!0)},setBlending:pt,setMaterial:function At(st,Tn){2===st.side?Ge(2884):Te(2884);let On=1===st.side;Tn&&(On=!On),Nt(On),1===st.blending&&!1===st.transparent?pt(0):pt(st.blending,st.blendEquation,st.blendSrc,st.blendDst,st.blendEquationAlpha,st.blendSrcAlpha,st.blendDstAlpha,st.premultipliedAlpha),u.setFunc(st.depthFunc),u.setTest(st.depthTest),u.setMask(st.depthWrite),a.setMask(st.colorWrite);const kr=st.stencilWrite;c.setTest(kr),kr&&(c.setMask(st.stencilWriteMask),c.setFunc(st.stencilFunc,st.stencilRef,st.stencilFuncMask),c.setOp(st.stencilFail,st.stencilZFail,st.stencilZPass)),qn(st.polygonOffset,st.polygonOffsetFactor,st.polygonOffsetUnits),!0===st.alphaToCoverage?Te(32926):Ge(32926)},setFlipSided:Nt,setCullFace:vn,setLineWidth:function hn(st){st!==we&&(je&&n.lineWidth(st),we=st)},setPolygonOffset:qn,setScissorTest:function In(st){st?Te(3089):Ge(3089)},activeTexture:an,bindTexture:function Mn(st,Tn){null===Ae&&an();let On=Ye[Ae];void 0===On&&(On={type:void 0,texture:void 0},Ye[Ae]=On),(On.type!==st||On.texture!==Tn)&&(n.bindTexture(st,Tn||Me[st]),On.type=st,On.texture=Tn)},unbindTexture:function Nn(){const st=Ye[Ae];void 0!==st&&void 0!==st.type&&(n.bindTexture(st.type,null),st.type=void 0,st.texture=void 0)},compressedTexImage2D:function Pe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texImage2D:function wr(){try{n.texImage2D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texImage3D:function zt(){try{n.texImage3D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texStorage2D:function mn(){try{n.texStorage2D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texStorage3D:function Bn(){try{n.texStorage3D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texSubImage2D:function xe(){try{n.texSubImage2D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},texSubImage3D:function Bt(){try{n.texSubImage3D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},compressedTexSubImage2D:function ln(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(st){console.error("THREE.WebGLState:",st)}},scissor:function pr(st){!1===Z.equals(st)&&(n.scissor(st.x,st.y,st.z,st.w),Z.copy(st))},viewport:function Xn(st){!1===Q.equals(st)&&(n.viewport(st.x,st.y,st.z,st.w),Q.copy(st))},reset:function Vn(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),!0===r&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},Ae=null,Ye={},p={},g=new WeakMap,y=[],w=null,S=!1,C=null,P=null,B=null,z=null,j=null,X=null,ie=null,me=!1,re=null,pe=null,we=null,Le=null,ot=null,Z.set(0,0,n.canvas.width,n.canvas.height),Q.set(0,0,n.canvas.width,n.canvas.height),a.reset(),u.reset(),c.reset()}}}function T1e(n,e,t,r,i,o,s){const a=i.isWebGL2,u=i.maxTextures,c=i.maxCubemapSize,h=i.maxTextureSize,p=i.maxSamples,g=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,y=/OculusBrowser/g.test(navigator.userAgent),w=new WeakMap;let S;const C=new WeakMap;let P=!1;try{P="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Pe){}function B(Pe,xe){return P?new OffscreenCanvas(Pe,xe):CT("canvas")}function z(Pe,xe,Bt,ln){let mn=1;if((Pe.width>ln||Pe.height>ln)&&(mn=ln/Math.max(Pe.width,Pe.height)),mn<1||!0===xe){if("undefined"!=typeof HTMLImageElement&&Pe instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&Pe instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&Pe instanceof ImageBitmap){const Bn=xe?ok:Math.floor,wr=Bn(mn*Pe.width),zt=Bn(mn*Pe.height);void 0===S&&(S=B(wr,zt));const pr=Bt?B(wr,zt):S;return pr.width=wr,pr.height=zt,pr.getContext("2d").drawImage(Pe,0,0,wr,zt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Pe.width+"x"+Pe.height+") to ("+wr+"x"+zt+")."),pr}return"data"in Pe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Pe.width+"x"+Pe.height+")."),Pe}return Pe}function j(Pe){return wB(Pe.width)&&wB(Pe.height)}function ie(Pe,xe){return Pe.generateMipmaps&&xe&&Pe.minFilter!==ll&&Pe.minFilter!==Ba}function me(Pe){n.generateMipmap(Pe)}function re(Pe,xe,Bt,ln,mn=!1){if(!1===a)return xe;if(null!==Pe){if(void 0!==n[Pe])return n[Pe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Pe+"'")}let Bn=xe;return 6403===xe&&(5126===Bt&&(Bn=33326),5131===Bt&&(Bn=33325),5121===Bt&&(Bn=33321)),33319===xe&&(5126===Bt&&(Bn=33328),5131===Bt&&(Bn=33327),5121===Bt&&(Bn=33323)),6408===xe&&(5126===Bt&&(Bn=34836),5131===Bt&&(Bn=34842),5121===Bt&&(Bn=ln===da&&!1===mn?35907:32856),32819===Bt&&(Bn=32854),32820===Bt&&(Bn=32855)),(33325===Bn||33326===Bn||33327===Bn||33328===Bn||34842===Bn||34836===Bn)&&e.get("EXT_color_buffer_float"),Bn}function pe(Pe,xe,Bt){return!0===ie(Pe,Bt)||Pe.isFramebufferTexture&&Pe.minFilter!==ll&&Pe.minFilter!==Ba?Math.log2(Math.max(xe.width,xe.height))+1:void 0!==Pe.mipmaps&&Pe.mipmaps.length>0?Pe.mipmaps.length:Pe.isCompressedTexture&&Array.isArray(Pe.image)?xe.mipmaps.length:1}function we(Pe){return Pe===ll||1004===Pe||1005===Pe?9728:9729}function Le(Pe){const xe=Pe.target;xe.removeEventListener("dispose",Le),function lt(Pe){const xe=r.get(Pe);if(void 0===xe.__webglInit)return;const Bt=Pe.source,ln=C.get(Bt);if(ln){const mn=ln[xe.__cacheKey];mn.usedTimes--,0===mn.usedTimes&&je(Pe),0===Object.keys(ln).length&&C.delete(Bt)}r.remove(Pe)}(xe),xe.isVideoTexture&&w.delete(xe)}function ot(Pe){const xe=Pe.target;xe.removeEventListener("dispose",ot),function bt(Pe){const xe=Pe.texture,Bt=r.get(Pe),ln=r.get(xe);if(void 0!==ln.__webglTexture&&(n.deleteTexture(ln.__webglTexture),s.memory.textures--),Pe.depthTexture&&Pe.depthTexture.dispose(),Pe.isWebGLCubeRenderTarget)for(let mn=0;mn<6;mn++)n.deleteFramebuffer(Bt.__webglFramebuffer[mn]),Bt.__webglDepthbuffer&&n.deleteRenderbuffer(Bt.__webglDepthbuffer[mn]);else{if(n.deleteFramebuffer(Bt.__webglFramebuffer),Bt.__webglDepthbuffer&&n.deleteRenderbuffer(Bt.__webglDepthbuffer),Bt.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Bt.__webglMultisampledFramebuffer),Bt.__webglColorRenderbuffer)for(let mn=0;mn<Bt.__webglColorRenderbuffer.length;mn++)Bt.__webglColorRenderbuffer[mn]&&n.deleteRenderbuffer(Bt.__webglColorRenderbuffer[mn]);Bt.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Bt.__webglDepthRenderbuffer)}if(Pe.isWebGLMultipleRenderTargets)for(let mn=0,Bn=xe.length;mn<Bn;mn++){const wr=r.get(xe[mn]);wr.__webglTexture&&(n.deleteTexture(wr.__webglTexture),s.memory.textures--),r.remove(xe[mn])}r.remove(xe),r.remove(Pe)}(xe)}function je(Pe){const xe=r.get(Pe);n.deleteTexture(xe.__webglTexture),delete C.get(Pe.source)[xe.__cacheKey],s.memory.textures--}let ye=0;function wt(Pe,xe){const Bt=r.get(Pe);if(Pe.isVideoTexture&&function Mn(Pe){const xe=s.render.frame;w.get(Pe)!==xe&&(w.set(Pe,xe),Pe.update())}(Pe),!1===Pe.isRenderTargetTexture&&Pe.version>0&&Bt.__version!==Pe.version){const ln=Pe.image;if(null===ln)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==ln.complete)return void Lt(Bt,Pe,xe);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.activeTexture(33984+xe),t.bindTexture(3553,Bt.__webglTexture)}const Me={1e3:10497,[bc]:33071,1002:33648},Te={[ll]:9728,1004:9984,1005:9986,[Ba]:9729,1007:9985,1008:9987};function Ge(Pe,xe,Bt){if(Bt?(n.texParameteri(Pe,10242,Me[xe.wrapS]),n.texParameteri(Pe,10243,Me[xe.wrapT]),(32879===Pe||35866===Pe)&&n.texParameteri(Pe,32882,Me[xe.wrapR]),n.texParameteri(Pe,10240,Te[xe.magFilter]),n.texParameteri(Pe,10241,Te[xe.minFilter])):(n.texParameteri(Pe,10242,33071),n.texParameteri(Pe,10243,33071),(32879===Pe||35866===Pe)&&n.texParameteri(Pe,32882,33071),(xe.wrapS!==bc||xe.wrapT!==bc)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Pe,10240,we(xe.magFilter)),n.texParameteri(Pe,10241,we(xe.minFilter)),xe.minFilter!==ll&&xe.minFilter!==Ba&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const ln=e.get("EXT_texture_filter_anisotropic");if(xe.type===Fv&&!1===e.has("OES_texture_float_linear")||!1===a&&xe.type===MT&&!1===e.has("OES_texture_half_float_linear"))return;(xe.anisotropy>1||r.get(xe).__currentAnisotropy)&&(n.texParameterf(Pe,ln.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(xe.anisotropy,i.getMaxAnisotropy())),r.get(xe).__currentAnisotropy=xe.anisotropy)}}function vt(Pe,xe){let Bt=!1;void 0===Pe.__webglInit&&(Pe.__webglInit=!0,xe.addEventListener("dispose",Le));const ln=xe.source;let mn=C.get(ln);void 0===mn&&(mn={},C.set(ln,mn));const Bn=function Je(Pe){const xe=[];return xe.push(Pe.wrapS),xe.push(Pe.wrapT),xe.push(Pe.magFilter),xe.push(Pe.minFilter),xe.push(Pe.anisotropy),xe.push(Pe.internalFormat),xe.push(Pe.format),xe.push(Pe.type),xe.push(Pe.generateMipmaps),xe.push(Pe.premultiplyAlpha),xe.push(Pe.flipY),xe.push(Pe.unpackAlignment),xe.push(Pe.encoding),xe.join()}(xe);if(Bn!==Pe.__cacheKey){void 0===mn[Bn]&&(mn[Bn]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Bt=!0),mn[Bn].usedTimes++;const wr=mn[Pe.__cacheKey];void 0!==wr&&(mn[Pe.__cacheKey].usedTimes--,0===wr.usedTimes&&je(xe)),Pe.__cacheKey=Bn,Pe.__webglTexture=mn[Bn].texture}return Bt}function Lt(Pe,xe,Bt){let ln=3553;xe.isDataArrayTexture&&(ln=35866),xe.isData3DTexture&&(ln=32879);const mn=vt(Pe,xe),Bn=xe.source;if(t.activeTexture(33984+Bt),t.bindTexture(ln,Pe.__webglTexture),Bn.version!==Bn.__currentVersion||!0===mn){n.pixelStorei(37440,xe.flipY),n.pixelStorei(37441,xe.premultiplyAlpha),n.pixelStorei(3317,xe.unpackAlignment),n.pixelStorei(37443,0);const wr=function X(Pe){return!a&&(Pe.wrapS!==bc||Pe.wrapT!==bc||Pe.minFilter!==ll&&Pe.minFilter!==Ba)}(xe)&&!1===j(xe.image);let zt=z(xe.image,wr,!1,h);zt=Nn(xe,zt);const pr=j(zt)||a,Xn=o.convert(xe.format,xe.encoding);let Tn,Vn=o.convert(xe.type),st=re(xe.internalFormat,Xn,Vn,xe.encoding,xe.isVideoTexture);Ge(ln,xe,pr);const On=xe.mipmaps,kr=a&&!0!==xe.isVideoTexture,tr=void 0===Bn.__currentVersion||!0===mn,zr=pe(xe,zt,pr);if(xe.isDepthTexture)st=6402,a?st=xe.type===Fv?36012:xe.type===db?33190:xe.type===eS?35056:33189:xe.type===Fv&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),xe.format===hb&&6402===st&&1012!==xe.type&&xe.type!==db&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),xe.type=db,Vn=o.convert(xe.type)),xe.format===tS&&6402===st&&(st=34041,xe.type!==eS&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),xe.type=eS,Vn=o.convert(xe.type))),tr&&(kr?t.texStorage2D(3553,1,st,zt.width,zt.height):t.texImage2D(3553,0,st,zt.width,zt.height,0,Xn,Vn,null));else if(xe.isDataTexture)if(On.length>0&&pr){kr&&tr&&t.texStorage2D(3553,zr,st,On[0].width,On[0].height);for(let Pn=0,Lr=On.length;Pn<Lr;Pn++)Tn=On[Pn],kr?t.texSubImage2D(3553,Pn,0,0,Tn.width,Tn.height,Xn,Vn,Tn.data):t.texImage2D(3553,Pn,st,Tn.width,Tn.height,0,Xn,Vn,Tn.data);xe.generateMipmaps=!1}else kr?(tr&&t.texStorage2D(3553,zr,st,zt.width,zt.height),t.texSubImage2D(3553,0,0,0,zt.width,zt.height,Xn,Vn,zt.data)):t.texImage2D(3553,0,st,zt.width,zt.height,0,Xn,Vn,zt.data);else if(xe.isCompressedTexture){kr&&tr&&t.texStorage2D(3553,zr,st,On[0].width,On[0].height);for(let Pn=0,Lr=On.length;Pn<Lr;Pn++)Tn=On[Pn],xe.format!==Xh?null!==Xn?kr?t.compressedTexSubImage2D(3553,Pn,0,0,Tn.width,Tn.height,Xn,Tn.data):t.compressedTexImage2D(3553,Pn,st,Tn.width,Tn.height,0,Tn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):kr?t.texSubImage2D(3553,Pn,0,0,Tn.width,Tn.height,Xn,Vn,Tn.data):t.texImage2D(3553,Pn,st,Tn.width,Tn.height,0,Xn,Vn,Tn.data)}else if(xe.isDataArrayTexture)kr?(tr&&t.texStorage3D(35866,zr,st,zt.width,zt.height,zt.depth),t.texSubImage3D(35866,0,0,0,0,zt.width,zt.height,zt.depth,Xn,Vn,zt.data)):t.texImage3D(35866,0,st,zt.width,zt.height,zt.depth,0,Xn,Vn,zt.data);else if(xe.isData3DTexture)kr?(tr&&t.texStorage3D(32879,zr,st,zt.width,zt.height,zt.depth),t.texSubImage3D(32879,0,0,0,0,zt.width,zt.height,zt.depth,Xn,Vn,zt.data)):t.texImage3D(32879,0,st,zt.width,zt.height,zt.depth,0,Xn,Vn,zt.data);else if(xe.isFramebufferTexture){if(tr)if(kr)t.texStorage2D(3553,zr,st,zt.width,zt.height);else{let Pn=zt.width,Lr=zt.height;for(let ei=0;ei<zr;ei++)t.texImage2D(3553,ei,st,Pn,Lr,0,Xn,Vn,null),Pn>>=1,Lr>>=1}}else if(On.length>0&&pr){kr&&tr&&t.texStorage2D(3553,zr,st,On[0].width,On[0].height);for(let Pn=0,Lr=On.length;Pn<Lr;Pn++)Tn=On[Pn],kr?t.texSubImage2D(3553,Pn,0,0,Xn,Vn,Tn):t.texImage2D(3553,Pn,st,Xn,Vn,Tn);xe.generateMipmaps=!1}else kr?(tr&&t.texStorage2D(3553,zr,st,zt.width,zt.height),t.texSubImage2D(3553,0,0,0,Xn,Vn,zt)):t.texImage2D(3553,0,st,Xn,Vn,zt);ie(xe,pr)&&me(ln),Bn.__currentVersion=Bn.version,xe.onUpdate&&xe.onUpdate(xe)}Pe.__version=xe.version}function ut(Pe,xe,Bt,ln,mn){const Bn=o.convert(Bt.format,Bt.encoding),wr=o.convert(Bt.type),zt=re(Bt.internalFormat,Bn,wr,Bt.encoding);r.get(xe).__hasExternalTextures||(32879===mn||35866===mn?t.texImage3D(mn,0,zt,xe.width,xe.height,xe.depth,0,Bn,wr,null):t.texImage2D(mn,0,zt,xe.width,xe.height,0,Bn,wr,null)),t.bindFramebuffer(36160,Pe),an(xe)?g.framebufferTexture2DMultisampleEXT(36160,ln,mn,r.get(Bt).__webglTexture,0,In(xe)):n.framebufferTexture2D(36160,ln,mn,r.get(Bt).__webglTexture,0),t.bindFramebuffer(36160,null)}function kt(Pe,xe,Bt){if(n.bindRenderbuffer(36161,Pe),xe.depthBuffer&&!xe.stencilBuffer){let ln=33189;if(Bt||an(xe)){const mn=xe.depthTexture;mn&&mn.isDepthTexture&&(mn.type===Fv?ln=36012:mn.type===db&&(ln=33190));const Bn=In(xe);an(xe)?g.renderbufferStorageMultisampleEXT(36161,Bn,ln,xe.width,xe.height):n.renderbufferStorageMultisample(36161,Bn,ln,xe.width,xe.height)}else n.renderbufferStorage(36161,ln,xe.width,xe.height);n.framebufferRenderbuffer(36160,36096,36161,Pe)}else if(xe.depthBuffer&&xe.stencilBuffer){const ln=In(xe);Bt&&!1===an(xe)?n.renderbufferStorageMultisample(36161,ln,35056,xe.width,xe.height):an(xe)?g.renderbufferStorageMultisampleEXT(36161,ln,35056,xe.width,xe.height):n.renderbufferStorage(36161,34041,xe.width,xe.height),n.framebufferRenderbuffer(36160,33306,36161,Pe)}else{const ln=!0===xe.isWebGLMultipleRenderTargets?xe.texture:[xe.texture];for(let mn=0;mn<ln.length;mn++){const Bn=ln[mn],wr=o.convert(Bn.format,Bn.encoding),zt=o.convert(Bn.type),pr=re(Bn.internalFormat,wr,zt,Bn.encoding),Xn=In(xe);Bt&&!1===an(xe)?n.renderbufferStorageMultisample(36161,Xn,pr,xe.width,xe.height):an(xe)?g.renderbufferStorageMultisampleEXT(36161,Xn,pr,xe.width,xe.height):n.renderbufferStorage(36161,pr,xe.width,xe.height)}}n.bindRenderbuffer(36161,null)}function At(Pe){const xe=r.get(Pe),Bt=!0===Pe.isWebGLCubeRenderTarget;if(Pe.depthTexture&&!xe.__autoAllocateDepthBuffer){if(Bt)throw new Error("target.depthTexture not supported in Cube render targets");!function pt(Pe,xe){if(xe&&xe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Pe),!xe.depthTexture||!xe.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(xe.depthTexture).__webglTexture||xe.depthTexture.image.width!==xe.width||xe.depthTexture.image.height!==xe.height)&&(xe.depthTexture.image.width=xe.width,xe.depthTexture.image.height=xe.height,xe.depthTexture.needsUpdate=!0),wt(xe.depthTexture,0);const ln=r.get(xe.depthTexture).__webglTexture,mn=In(xe);if(xe.depthTexture.format===hb)an(xe)?g.framebufferTexture2DMultisampleEXT(36160,36096,3553,ln,0,mn):n.framebufferTexture2D(36160,36096,3553,ln,0);else{if(xe.depthTexture.format!==tS)throw new Error("Unknown depthTexture format");an(xe)?g.framebufferTexture2DMultisampleEXT(36160,33306,3553,ln,0,mn):n.framebufferTexture2D(36160,33306,3553,ln,0)}}(xe.__webglFramebuffer,Pe)}else if(Bt){xe.__webglDepthbuffer=[];for(let ln=0;ln<6;ln++)t.bindFramebuffer(36160,xe.__webglFramebuffer[ln]),xe.__webglDepthbuffer[ln]=n.createRenderbuffer(),kt(xe.__webglDepthbuffer[ln],Pe,!1)}else t.bindFramebuffer(36160,xe.__webglFramebuffer),xe.__webglDepthbuffer=n.createRenderbuffer(),kt(xe.__webglDepthbuffer,Pe,!1);t.bindFramebuffer(36160,null)}function In(Pe){return Math.min(p,Pe.samples)}function an(Pe){const xe=r.get(Pe);return a&&Pe.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==xe.__useRenderToTexture}function Nn(Pe,xe){const Bt=Pe.encoding,ln=Pe.format,mn=Pe.type;return!0===Pe.isCompressedTexture||!0===Pe.isVideoTexture||1035===Pe.format||Bt!==fb&&(Bt===da?!1===a?!0===e.has("EXT_sRGB")&&ln===Xh?(Pe.format=1035,Pe.minFilter=Ba,Pe.generateMipmaps=!1):xe=oq.sRGBToLinear(xe):(ln!==Xh||mn!==cb)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Bt)),xe}this.allocateTextureUnit=function Ye(){const Pe=ye;return Pe>=u&&console.warn("THREE.WebGLTextures: Trying to use "+Pe+" texture units while this GPU supports only "+u),ye+=1,Pe},this.resetTextureUnits=function Ae(){ye=0},this.setTexture2D=wt,this.setTexture2DArray=function Z(Pe,xe){const Bt=r.get(Pe);Pe.version>0&&Bt.__version!==Pe.version?Lt(Bt,Pe,xe):(t.activeTexture(33984+xe),t.bindTexture(35866,Bt.__webglTexture))},this.setTexture3D=function Q(Pe,xe){const Bt=r.get(Pe);Pe.version>0&&Bt.__version!==Pe.version?Lt(Bt,Pe,xe):(t.activeTexture(33984+xe),t.bindTexture(32879,Bt.__webglTexture))},this.setTextureCube=function fe(Pe,xe){const Bt=r.get(Pe);Pe.version>0&&Bt.__version!==Pe.version?function Ot(Pe,xe,Bt){if(6!==xe.image.length)return;const ln=vt(Pe,xe),mn=xe.source;if(t.activeTexture(33984+Bt),t.bindTexture(34067,Pe.__webglTexture),mn.version!==mn.__currentVersion||!0===ln){n.pixelStorei(37440,xe.flipY),n.pixelStorei(37441,xe.premultiplyAlpha),n.pixelStorei(3317,xe.unpackAlignment),n.pixelStorei(37443,0);const Bn=xe.isCompressedTexture||xe.image[0].isCompressedTexture,wr=xe.image[0]&&xe.image[0].isDataTexture,zt=[];for(let Pn=0;Pn<6;Pn++)zt[Pn]=Bn||wr?wr?xe.image[Pn].image:xe.image[Pn]:z(xe.image[Pn],!1,!0,c),zt[Pn]=Nn(xe,zt[Pn]);const pr=zt[0],Xn=j(pr)||a,Vn=o.convert(xe.format,xe.encoding),st=o.convert(xe.type),Tn=re(xe.internalFormat,Vn,st,xe.encoding),On=a&&!0!==xe.isVideoTexture,kr=void 0===mn.__currentVersion||!0===ln;let zr,tr=pe(xe,pr,Xn);if(Ge(34067,xe,Xn),Bn){On&&kr&&t.texStorage2D(34067,tr,Tn,pr.width,pr.height);for(let Pn=0;Pn<6;Pn++){zr=zt[Pn].mipmaps;for(let Lr=0;Lr<zr.length;Lr++){const ei=zr[Lr];xe.format!==Xh?null!==Vn?On?t.compressedTexSubImage2D(34069+Pn,Lr,0,0,ei.width,ei.height,Vn,ei.data):t.compressedTexImage2D(34069+Pn,Lr,Tn,ei.width,ei.height,0,ei.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):On?t.texSubImage2D(34069+Pn,Lr,0,0,ei.width,ei.height,Vn,st,ei.data):t.texImage2D(34069+Pn,Lr,Tn,ei.width,ei.height,0,Vn,st,ei.data)}}}else{zr=xe.mipmaps,On&&kr&&(zr.length>0&&tr++,t.texStorage2D(34067,tr,Tn,zt[0].width,zt[0].height));for(let Pn=0;Pn<6;Pn++)if(wr){On?t.texSubImage2D(34069+Pn,0,0,0,zt[Pn].width,zt[Pn].height,Vn,st,zt[Pn].data):t.texImage2D(34069+Pn,0,Tn,zt[Pn].width,zt[Pn].height,0,Vn,st,zt[Pn].data);for(let Lr=0;Lr<zr.length;Lr++){const ai=zr[Lr].image[Pn].image;On?t.texSubImage2D(34069+Pn,Lr+1,0,0,ai.width,ai.height,Vn,st,ai.data):t.texImage2D(34069+Pn,Lr+1,Tn,ai.width,ai.height,0,Vn,st,ai.data)}}else{On?t.texSubImage2D(34069+Pn,0,0,0,Vn,st,zt[Pn]):t.texImage2D(34069+Pn,0,Tn,Vn,st,zt[Pn]);for(let Lr=0;Lr<zr.length;Lr++){const ei=zr[Lr];On?t.texSubImage2D(34069+Pn,Lr+1,0,0,Vn,st,ei.image[Pn]):t.texImage2D(34069+Pn,Lr+1,Tn,Vn,st,ei.image[Pn])}}}ie(xe,Xn)&&me(34067),mn.__currentVersion=mn.version,xe.onUpdate&&xe.onUpdate(xe)}Pe.__version=xe.version}(Bt,Pe,xe):(t.activeTexture(33984+xe),t.bindTexture(34067,Bt.__webglTexture))},this.rebindTextures=function Nt(Pe,xe,Bt){const ln=r.get(Pe);void 0!==xe&&ut(ln.__webglFramebuffer,Pe,Pe.texture,36064,3553),void 0!==Bt&&At(Pe)},this.setupRenderTarget=function vn(Pe){const xe=Pe.texture,Bt=r.get(Pe),ln=r.get(xe);Pe.addEventListener("dispose",ot),!0!==Pe.isWebGLMultipleRenderTargets&&(void 0===ln.__webglTexture&&(ln.__webglTexture=n.createTexture()),ln.__version=xe.version,s.memory.textures++);const mn=!0===Pe.isWebGLCubeRenderTarget,Bn=!0===Pe.isWebGLMultipleRenderTargets,wr=j(Pe)||a;if(mn){Bt.__webglFramebuffer=[];for(let zt=0;zt<6;zt++)Bt.__webglFramebuffer[zt]=n.createFramebuffer()}else{if(Bt.__webglFramebuffer=n.createFramebuffer(),Bn)if(i.drawBuffers){const zt=Pe.texture;for(let pr=0,Xn=zt.length;pr<Xn;pr++){const Vn=r.get(zt[pr]);void 0===Vn.__webglTexture&&(Vn.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Pe.samples>0&&!1===an(Pe)){const zt=Bn?xe:[xe];Bt.__webglMultisampledFramebuffer=n.createFramebuffer(),Bt.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Bt.__webglMultisampledFramebuffer);for(let pr=0;pr<zt.length;pr++){const Xn=zt[pr];Bt.__webglColorRenderbuffer[pr]=n.createRenderbuffer(),n.bindRenderbuffer(36161,Bt.__webglColorRenderbuffer[pr]);const Vn=o.convert(Xn.format,Xn.encoding),st=o.convert(Xn.type),Tn=re(Xn.internalFormat,Vn,st,Xn.encoding),On=In(Pe);n.renderbufferStorageMultisample(36161,On,Tn,Pe.width,Pe.height),n.framebufferRenderbuffer(36160,36064+pr,36161,Bt.__webglColorRenderbuffer[pr])}n.bindRenderbuffer(36161,null),Pe.depthBuffer&&(Bt.__webglDepthRenderbuffer=n.createRenderbuffer(),kt(Bt.__webglDepthRenderbuffer,Pe,!0)),t.bindFramebuffer(36160,null)}}if(mn){t.bindTexture(34067,ln.__webglTexture),Ge(34067,xe,wr);for(let zt=0;zt<6;zt++)ut(Bt.__webglFramebuffer[zt],Pe,xe,36064,34069+zt);ie(xe,wr)&&me(34067),t.unbindTexture()}else if(Bn){const zt=Pe.texture;for(let pr=0,Xn=zt.length;pr<Xn;pr++){const Vn=zt[pr],st=r.get(Vn);t.bindTexture(3553,st.__webglTexture),Ge(3553,Vn,wr),ut(Bt.__webglFramebuffer,Pe,Vn,36064+pr,3553),ie(Vn,wr)&&me(3553)}t.unbindTexture()}else{let zt=3553;(Pe.isWebGL3DRenderTarget||Pe.isWebGLArrayRenderTarget)&&(a?zt=Pe.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(zt,ln.__webglTexture),Ge(zt,xe,wr),ut(Bt.__webglFramebuffer,Pe,xe,36064,zt),ie(xe,wr)&&me(zt),t.unbindTexture()}Pe.depthBuffer&&At(Pe)},this.updateRenderTargetMipmap=function hn(Pe){const xe=j(Pe)||a,Bt=!0===Pe.isWebGLMultipleRenderTargets?Pe.texture:[Pe.texture];for(let ln=0,mn=Bt.length;ln<mn;ln++){const Bn=Bt[ln];if(ie(Bn,xe)){const wr=Pe.isWebGLCubeRenderTarget?34067:3553,zt=r.get(Bn).__webglTexture;t.bindTexture(wr,zt),me(wr),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function qn(Pe){if(a&&Pe.samples>0&&!1===an(Pe)){const xe=Pe.isWebGLMultipleRenderTargets?Pe.texture:[Pe.texture],Bt=Pe.width,ln=Pe.height;let mn=16384;const Bn=[],wr=Pe.stencilBuffer?33306:36096,zt=r.get(Pe),pr=!0===Pe.isWebGLMultipleRenderTargets;if(pr)for(let Xn=0;Xn<xe.length;Xn++)t.bindFramebuffer(36160,zt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Xn,36161,null),t.bindFramebuffer(36160,zt.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Xn,3553,null,0);t.bindFramebuffer(36008,zt.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,zt.__webglFramebuffer);for(let Xn=0;Xn<xe.length;Xn++){Bn.push(36064+Xn),Pe.depthBuffer&&Bn.push(wr);const Vn=void 0!==zt.__ignoreDepthValues&&zt.__ignoreDepthValues;if(!1===Vn&&(Pe.depthBuffer&&(mn|=256),Pe.stencilBuffer&&(mn|=1024)),pr&&n.framebufferRenderbuffer(36008,36064,36161,zt.__webglColorRenderbuffer[Xn]),!0===Vn&&(n.invalidateFramebuffer(36008,[wr]),n.invalidateFramebuffer(36009,[wr])),pr){const st=r.get(xe[Xn]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,st,0)}n.blitFramebuffer(0,0,Bt,ln,0,0,Bt,ln,mn,9728),y&&n.invalidateFramebuffer(36008,Bn)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),pr)for(let Xn=0;Xn<xe.length;Xn++){t.bindFramebuffer(36160,zt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Xn,36161,zt.__webglColorRenderbuffer[Xn]);const Vn=r.get(xe[Xn]).__webglTexture;t.bindFramebuffer(36160,zt.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Xn,3553,Vn,0)}t.bindFramebuffer(36009,zt.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=At,this.setupFrameBufferTexture=ut,this.useMultisampledRTT=an}function R1e(n,e,t){const r=t.isWebGL2;return{convert:function i(o,s=null){let a;if(o===cb)return 5121;if(1017===o)return 32819;if(1018===o)return 32820;if(1010===o)return 5120;if(1011===o)return 5122;if(1012===o)return 5123;if(1013===o)return 5124;if(o===db)return 5125;if(o===Fv)return 5126;if(o===MT)return r?5131:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===o)return 6406;if(o===Xh)return 6408;if(1024===o)return 6409;if(1025===o)return 6410;if(o===hb)return 6402;if(o===tS)return 34041;if(1028===o)return 6403;if(1022===o)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===o)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1029===o)return 36244;if(1030===o)return 33319;if(1031===o)return 33320;if(1033===o)return 36249;if(33776===o||33777===o||33778===o||33779===o)if(s===da){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===o)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===o)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===o||35841===o||35842===o||35843===o){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===o)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===o)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===o)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===o)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===o)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===o||37496===o){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===o)return s===da?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===o||37809===o||37810===o||37811===o||37812===o||37813===o||37814===o||37815===o||37816===o||37817===o||37818===o||37819===o||37820===o||37821===o){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===o)return s===da?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===o){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===o)return s===da?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return o===eS?r?34042:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[o]?n[o]:null}}}class D1e extends du{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Hi extends Fu{constructor(){super(),this.isGroup=!0,this.type="Group"}}const A1e={type:"move"};class QB{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Hi,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Hi,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Be,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Be),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Hi,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Be,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Be),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,s=null;const a=this._targetRay,u=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){s=!0;for(const S of e.hand.values()){const C=t.getJointPose(S,r);if(void 0===c.joints[S.jointName]){const B=new Hi;B.matrixAutoUpdate=!1,B.visible=!1,c.joints[S.jointName]=B,c.add(B)}const P=c.joints[S.jointName];null!==C&&(P.matrix.fromArray(C.transform.matrix),P.matrix.decompose(P.position,P.rotation,P.scale),P.jointRadius=C.radius),P.visible=null!==C}const g=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),y=.02,w=.005;c.inputState.pinching&&g>y+w?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&g<=y-w&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==u&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),null!==o&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,r),null===i&&null!==o&&(i=o),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(A1e)))}return null!==a&&(a.visible=null!==i),null!==u&&(u.visible=null!==o),null!==c&&(c.visible=null!==s),this}}class O1e extends Hv{constructor(e,t,r,i,o,s,a,u,c,h){if((h=void 0!==h?h:hb)!==hb&&h!==tS)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&h===hb&&(r=db),void 0===r&&h===tS&&(r=eS),super(null,i,o,s,a,u,h,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:ll,this.minFilter=void 0!==u?u:ll,this.flipY=!1,this.generateMipmaps=!1}}class k1e extends oS{constructor(e,t){super();const r=this;let i=null,o=1,s=null,a="local-floor",u=null,c=null,h=null,p=null,g=null,y=null;const w=t.getContextAttributes();let S=null,C=null;const P=[],B=[],z=new du;z.layers.enable(1),z.viewport=new ss;const j=new du;j.layers.enable(2),j.viewport=new ss;const X=[z,j],ie=new D1e;ie.layers.enable(1),ie.layers.enable(2);let me=null,re=null;function pe(Je){const wt=B.indexOf(Je.inputSource);if(-1===wt)return;const Z=P[wt];void 0!==Z&&Z.dispatchEvent({type:Je.type,data:Je.inputSource})}function we(){i.removeEventListener("select",pe),i.removeEventListener("selectstart",pe),i.removeEventListener("selectend",pe),i.removeEventListener("squeeze",pe),i.removeEventListener("squeezestart",pe),i.removeEventListener("squeezeend",pe),i.removeEventListener("end",we),i.removeEventListener("inputsourceschange",Le);for(let Je=0;Je<P.length;Je++){const wt=B[Je];null!==wt&&(B[Je]=null,P[Je].disconnect(wt))}me=null,re=null,e.setRenderTarget(S),g=null,p=null,h=null,i=null,C=null,Ye.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}function Le(Je){for(let wt=0;wt<Je.removed.length;wt++){const Z=Je.removed[wt],Q=B.indexOf(Z);Q>=0&&(B[Q]=null,P[Q].dispatchEvent({type:"disconnected",data:Z}))}for(let wt=0;wt<Je.added.length;wt++){const Z=Je.added[wt];let Q=B.indexOf(Z);if(-1===Q){for(let Me=0;Me<P.length;Me++){if(Me>=B.length){B.push(Z),Q=Me;break}if(null===B[Me]){B[Me]=Z,Q=Me;break}}if(-1===Q)break}const fe=P[Q];fe&&fe.dispatchEvent({type:"connected",data:Z})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Je){let wt=P[Je];return void 0===wt&&(wt=new QB,P[Je]=wt),wt.getTargetRaySpace()},this.getControllerGrip=function(Je){let wt=P[Je];return void 0===wt&&(wt=new QB,P[Je]=wt),wt.getGripSpace()},this.getHand=function(Je){let wt=P[Je];return void 0===wt&&(wt=new QB,P[Je]=wt),wt.getHandSpace()},this.setFramebufferScaleFactor=function(Je){o=Je,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Je){a=Je,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(Je){u=Je},this.getBaseLayer=function(){return null!==p?p:g},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=function(){var Je=(0,sSe.Z)(function*(wt){if(i=wt,null!==i){if(S=e.getRenderTarget(),i.addEventListener("select",pe),i.addEventListener("selectstart",pe),i.addEventListener("selectend",pe),i.addEventListener("squeeze",pe),i.addEventListener("squeezestart",pe),i.addEventListener("squeezeend",pe),i.addEventListener("end",we),i.addEventListener("inputsourceschange",Le),!0!==w.xrCompatible&&(yield t.makeXRCompatible()),void 0===i.renderState.layers||!1===e.capabilities.isWebGL2)g=new XRWebGLLayer(i,t,{antialias:void 0!==i.renderState.layers||w.antialias,alpha:w.alpha,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:o}),i.updateRenderState({baseLayer:g}),C=new vb(g.framebufferWidth,g.framebufferHeight,{format:Xh,type:cb,encoding:e.outputEncoding});else{let Z=null,Q=null,fe=null;w.depth&&(fe=w.stencil?35056:33190,Z=w.stencil?tS:hb,Q=w.stencil?eS:db);const Me={colorFormat:32856,depthFormat:fe,scaleFactor:o};h=new XRWebGLBinding(i,t),p=h.createProjectionLayer(Me),i.updateRenderState({layers:[p]}),C=new vb(p.textureWidth,p.textureHeight,{format:Xh,type:cb,depthTexture:new O1e(p.textureWidth,p.textureHeight,Q,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:w.stencil,encoding:e.outputEncoding,samples:w.antialias?4:0}),e.properties.get(C).__ignoreDepthValues=p.ignoreDepthValues}C.isXRRenderTarget=!0,this.setFoveation(1),u=null,s=yield i.requestReferenceSpace(a),Ye.setContext(i),Ye.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(wt){return Je.apply(this,arguments)}}();const ot=new Be,lt=new Be;function bt(Je,wt){null===wt?Je.matrixWorld.copy(Je.matrix):Je.matrixWorld.multiplyMatrices(wt.matrixWorld,Je.matrix),Je.matrixWorldInverse.copy(Je.matrixWorld).invert()}this.updateCamera=function(Je){if(null===i)return;ie.near=j.near=z.near=Je.near,ie.far=j.far=z.far=Je.far,(me!==ie.near||re!==ie.far)&&(i.updateRenderState({depthNear:ie.near,depthFar:ie.far}),me=ie.near,re=ie.far);const wt=Je.parent,Z=ie.cameras;bt(ie,wt);for(let fe=0;fe<Z.length;fe++)bt(Z[fe],wt);ie.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),Je.position.copy(ie.position),Je.quaternion.copy(ie.quaternion),Je.scale.copy(ie.scale),Je.matrix.copy(ie.matrix),Je.matrixWorld.copy(ie.matrixWorld);const Q=Je.children;for(let fe=0,Me=Q.length;fe<Me;fe++)Q[fe].updateMatrixWorld(!0);2===Z.length?function je(Je,wt,Z){ot.setFromMatrixPosition(wt.matrixWorld),lt.setFromMatrixPosition(Z.matrixWorld);const Q=ot.distanceTo(lt),fe=wt.projectionMatrix.elements,Me=Z.projectionMatrix.elements,Te=fe[14]/(fe[10]-1),Ge=fe[14]/(fe[10]+1),vt=(fe[9]+1)/fe[5],Lt=(fe[9]-1)/fe[5],Ot=(fe[8]-1)/fe[0],ut=(Me[8]+1)/Me[0],kt=Te*Ot,pt=Te*ut,At=Q/(-Ot+ut),Nt=At*-Ot;wt.matrixWorld.decompose(Je.position,Je.quaternion,Je.scale),Je.translateX(Nt),Je.translateZ(At),Je.matrixWorld.compose(Je.position,Je.quaternion,Je.scale),Je.matrixWorldInverse.copy(Je.matrixWorld).invert();const vn=Te+At,hn=Ge+At;Je.projectionMatrix.makePerspective(kt-Nt,pt+(Q-Nt),vt*Ge/hn*vn,Lt*Ge/hn*vn,vn,hn)}(ie,z,j):ie.projectionMatrix.copy(z.projectionMatrix)},this.getCamera=function(){return ie},this.getFoveation=function(){return null!==p?p.fixedFoveation:null!==g?g.fixedFoveation:void 0},this.setFoveation=function(Je){null!==p&&(p.fixedFoveation=Je),null!==g&&void 0!==g.fixedFoveation&&(g.fixedFoveation=Je)};let ye=null;const Ye=new bq;Ye.setAnimationLoop(function Ae(Je,wt){if(c=wt.getViewerPose(u||s),y=wt,null!==c){const Z=c.views;null!==g&&(e.setRenderTargetFramebuffer(C,g.framebuffer),e.setRenderTarget(C));let Q=!1;Z.length!==ie.cameras.length&&(ie.cameras.length=0,Q=!0);for(let fe=0;fe<Z.length;fe++){const Me=Z[fe];let Te=null;if(null!==g)Te=g.getViewport(Me);else{const vt=h.getViewSubImage(p,Me);Te=vt.viewport,0===fe&&(e.setRenderTargetTextures(C,vt.colorTexture,p.ignoreDepthValues?void 0:vt.depthStencilTexture),e.setRenderTarget(C))}let Ge=X[fe];void 0===Ge&&(Ge=new du,Ge.layers.enable(fe),Ge.viewport=new ss,X[fe]=Ge),Ge.matrix.fromArray(Me.transform.matrix),Ge.projectionMatrix.fromArray(Me.projectionMatrix),Ge.viewport.set(Te.x,Te.y,Te.width,Te.height),0===fe&&ie.matrix.copy(Ge.matrix),!0===Q&&ie.cameras.push(Ge)}}for(let Z=0;Z<P.length;Z++){const Q=B[Z],fe=P[Z];null!==Q&&void 0!==fe&&fe.update(Q,wt,u||s)}ye&&ye(Je,wt),y=null}),this.setAnimationLoop=function(Je){ye=Je},this.dispose=function(){}}}function L1e(n,e){function i(S,C){S.opacity.value=C.opacity,C.color&&S.diffuse.value.copy(C.color),C.emissive&&S.emissive.value.copy(C.emissive).multiplyScalar(C.emissiveIntensity),C.map&&(S.map.value=C.map),C.alphaMap&&(S.alphaMap.value=C.alphaMap),C.bumpMap&&(S.bumpMap.value=C.bumpMap,S.bumpScale.value=C.bumpScale,1===C.side&&(S.bumpScale.value*=-1)),C.displacementMap&&(S.displacementMap.value=C.displacementMap,S.displacementScale.value=C.displacementScale,S.displacementBias.value=C.displacementBias),C.emissiveMap&&(S.emissiveMap.value=C.emissiveMap),C.normalMap&&(S.normalMap.value=C.normalMap,S.normalScale.value.copy(C.normalScale),1===C.side&&S.normalScale.value.negate()),C.specularMap&&(S.specularMap.value=C.specularMap),C.alphaTest>0&&(S.alphaTest.value=C.alphaTest);const P=e.get(C).envMap;if(P&&(S.envMap.value=P,S.flipEnvMap.value=P.isCubeTexture&&!1===P.isRenderTargetTexture?-1:1,S.reflectivity.value=C.reflectivity,S.ior.value=C.ior,S.refractionRatio.value=C.refractionRatio),C.lightMap){S.lightMap.value=C.lightMap;const j=!0!==n.physicallyCorrectLights?Math.PI:1;S.lightMapIntensity.value=C.lightMapIntensity*j}let B,z;C.aoMap&&(S.aoMap.value=C.aoMap,S.aoMapIntensity.value=C.aoMapIntensity),C.map?B=C.map:C.specularMap?B=C.specularMap:C.displacementMap?B=C.displacementMap:C.normalMap?B=C.normalMap:C.bumpMap?B=C.bumpMap:C.roughnessMap?B=C.roughnessMap:C.metalnessMap?B=C.metalnessMap:C.alphaMap?B=C.alphaMap:C.emissiveMap?B=C.emissiveMap:C.clearcoatMap?B=C.clearcoatMap:C.clearcoatNormalMap?B=C.clearcoatNormalMap:C.clearcoatRoughnessMap?B=C.clearcoatRoughnessMap:C.iridescenceMap?B=C.iridescenceMap:C.iridescenceThicknessMap?B=C.iridescenceThicknessMap:C.specularIntensityMap?B=C.specularIntensityMap:C.specularColorMap?B=C.specularColorMap:C.transmissionMap?B=C.transmissionMap:C.thicknessMap?B=C.thicknessMap:C.sheenColorMap?B=C.sheenColorMap:C.sheenRoughnessMap&&(B=C.sheenRoughnessMap),void 0!==B&&(B.isWebGLRenderTarget&&(B=B.texture),!0===B.matrixAutoUpdate&&B.updateMatrix(),S.uvTransform.value.copy(B.matrix)),C.aoMap?z=C.aoMap:C.lightMap&&(z=C.lightMap),void 0!==z&&(z.isWebGLRenderTarget&&(z=z.texture),!0===z.matrixAutoUpdate&&z.updateMatrix(),S.uv2Transform.value.copy(z.matrix))}return{refreshFogUniforms:function t(S,C){S.fogColor.value.copy(C.color),C.isFog?(S.fogNear.value=C.near,S.fogFar.value=C.far):C.isFogExp2&&(S.fogDensity.value=C.density)},refreshMaterialUniforms:function r(S,C,P,B,z){C.isMeshBasicMaterial||C.isMeshLambertMaterial?i(S,C):C.isMeshToonMaterial?(i(S,C),function h(S,C){C.gradientMap&&(S.gradientMap.value=C.gradientMap)}(S,C)):C.isMeshPhongMaterial?(i(S,C),function c(S,C){S.specular.value.copy(C.specular),S.shininess.value=Math.max(C.shininess,1e-4)}(S,C)):C.isMeshStandardMaterial?(i(S,C),function p(S,C){S.roughness.value=C.roughness,S.metalness.value=C.metalness,C.roughnessMap&&(S.roughnessMap.value=C.roughnessMap),C.metalnessMap&&(S.metalnessMap.value=C.metalnessMap),e.get(C).envMap&&(S.envMapIntensity.value=C.envMapIntensity)}(S,C),C.isMeshPhysicalMaterial&&function g(S,C,P){S.ior.value=C.ior,C.sheen>0&&(S.sheenColor.value.copy(C.sheenColor).multiplyScalar(C.sheen),S.sheenRoughness.value=C.sheenRoughness,C.sheenColorMap&&(S.sheenColorMap.value=C.sheenColorMap),C.sheenRoughnessMap&&(S.sheenRoughnessMap.value=C.sheenRoughnessMap)),C.clearcoat>0&&(S.clearcoat.value=C.clearcoat,S.clearcoatRoughness.value=C.clearcoatRoughness,C.clearcoatMap&&(S.clearcoatMap.value=C.clearcoatMap),C.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=C.clearcoatRoughnessMap),C.clearcoatNormalMap&&(S.clearcoatNormalScale.value.copy(C.clearcoatNormalScale),S.clearcoatNormalMap.value=C.clearcoatNormalMap,1===C.side&&S.clearcoatNormalScale.value.negate())),C.iridescence>0&&(S.iridescence.value=C.iridescence,S.iridescenceIOR.value=C.iridescenceIOR,S.iridescenceThicknessMinimum.value=C.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=C.iridescenceThicknessRange[1],C.iridescenceMap&&(S.iridescenceMap.value=C.iridescenceMap),C.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=C.iridescenceThicknessMap)),C.transmission>0&&(S.transmission.value=C.transmission,S.transmissionSamplerMap.value=P.texture,S.transmissionSamplerSize.value.set(P.width,P.height),C.transmissionMap&&(S.transmissionMap.value=C.transmissionMap),S.thickness.value=C.thickness,C.thicknessMap&&(S.thicknessMap.value=C.thicknessMap),S.attenuationDistance.value=C.attenuationDistance,S.attenuationColor.value.copy(C.attenuationColor)),S.specularIntensity.value=C.specularIntensity,S.specularColor.value.copy(C.specularColor),C.specularIntensityMap&&(S.specularIntensityMap.value=C.specularIntensityMap),C.specularColorMap&&(S.specularColorMap.value=C.specularColorMap)}(S,C,z)):C.isMeshMatcapMaterial?(i(S,C),function y(S,C){C.matcap&&(S.matcap.value=C.matcap)}(S,C)):C.isMeshDepthMaterial?i(S,C):C.isMeshDistanceMaterial?(i(S,C),function w(S,C){S.referencePosition.value.copy(C.referencePosition),S.nearDistance.value=C.nearDistance,S.farDistance.value=C.farDistance}(S,C)):C.isMeshNormalMaterial?i(S,C):C.isLineBasicMaterial?(function o(S,C){S.diffuse.value.copy(C.color),S.opacity.value=C.opacity}(S,C),C.isLineDashedMaterial&&function s(S,C){S.dashSize.value=C.dashSize,S.totalSize.value=C.dashSize+C.gapSize,S.scale.value=C.scale}(S,C)):C.isPointsMaterial?function a(S,C,P,B){let z;S.diffuse.value.copy(C.color),S.opacity.value=C.opacity,S.size.value=C.size*P,S.scale.value=.5*B,C.map&&(S.map.value=C.map),C.alphaMap&&(S.alphaMap.value=C.alphaMap),C.alphaTest>0&&(S.alphaTest.value=C.alphaTest),C.map?z=C.map:C.alphaMap&&(z=C.alphaMap),void 0!==z&&(!0===z.matrixAutoUpdate&&z.updateMatrix(),S.uvTransform.value.copy(z.matrix))}(S,C,P,B):C.isSpriteMaterial?function u(S,C){let P;S.diffuse.value.copy(C.color),S.opacity.value=C.opacity,S.rotation.value=C.rotation,C.map&&(S.map.value=C.map),C.alphaMap&&(S.alphaMap.value=C.alphaMap),C.alphaTest>0&&(S.alphaTest.value=C.alphaTest),C.map?P=C.map:C.alphaMap&&(P=C.alphaMap),void 0!==P&&(!0===P.matrixAutoUpdate&&P.updateMatrix(),S.uvTransform.value.copy(P.matrix))}(S,C):C.isShadowMaterial?(S.color.value.copy(C.color),S.opacity.value=C.opacity):C.isShaderMaterial&&(C.uniformsNeedUpdate=!1)}}}function Zq(n={}){this.isWebGLRenderer=!0;const e=void 0!==n.canvas?n.canvas:function P1e(){const n=CT("canvas");return n.style.display="block",n}(),t=void 0!==n.context?n.context:null,r=void 0===n.depth||n.depth,i=void 0===n.stencil||n.stencil,o=void 0!==n.antialias&&n.antialias,s=void 0===n.premultipliedAlpha||n.premultipliedAlpha,a=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,u=void 0!==n.powerPreference?n.powerPreference:"default",c=void 0!==n.failIfMajorPerformanceCaveat&&n.failIfMajorPerformanceCaveat;let h;h=null!==t?t.getContextAttributes().alpha:void 0!==n.alpha&&n.alpha;let p=null,g=null;const y=[],w=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=fb,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const S=this;let C=!1,P=0,B=0,z=null,j=-1,X=null;const ie=new ss,me=new ss;let re=null,pe=e.width,we=e.height,Le=1,ot=null,lt=null;const je=new ss(0,0,pe,we),bt=new ss(0,0,pe,we);let ye=!1;const Ae=new GB;let Ye=!1,Je=!1,wt=null;const Z=new ro,Q=new En,fe=new Be,Me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Te(){return null===z?Le:1}let Lt,Ot,ut,kt,pt,At,Nt,vn,hn,qn,In,an,Mn,Nn,Pe,xe,Bt,ln,mn,Bn,wr,zt,pr,Ge=t;function vt(Ne,Vt){for(let tn=0;tn<Ne.length;tn++){const cn=e.getContext(Ne[tn],Vt);if(null!==cn)return cn}return null}try{const Ne={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r142"),e.addEventListener("webglcontextlost",st,!1),e.addEventListener("webglcontextrestored",Tn,!1),e.addEventListener("webglcontextcreationerror",On,!1),null===Ge){const Vt=["webgl2","webgl","experimental-webgl"];if(!0===S.isWebGL1Renderer&&Vt.shift(),Ge=vt(Vt,Ne),null===Ge)throw vt(Vt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Ge.getShaderPrecisionFormat&&(Ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ne){throw console.error("THREE.WebGLRenderer: "+Ne.message),Ne}function Xn(){Lt=new $Ee(Ge),Ot=new zEe(Ge,Lt,n),Lt.init(Ot),zt=new R1e(Ge,Lt,Ot),ut=new E1e(Ge,Lt,Ot),kt=new ZEe,pt=new p1e,At=new T1e(Ge,Lt,ut,pt,Ot,zt,kt),Nt=new jEe(S),vn=new GEe(S),hn=new Vxe(Ge,Ot),pr=new BEe(Ge,Lt,hn,Ot),qn=new XEe(Ge,hn,kt,pr),In=new eTe(Ge,qn,hn,kt),mn=new QEe(Ge,Ot,At),xe=new UEe(pt),an=new f1e(S,Nt,vn,Lt,Ot,pr,xe),Mn=new L1e(S,pt),Nn=new g1e,Pe=new M1e(Lt,Ot),ln=new HEe(S,Nt,ut,In,h,s),Bt=new C1e(S,In,Ot),Bn=new VEe(Ge,Lt,kt,Ot),wr=new KEe(Ge,Lt,kt,Ot),kt.programs=an.programs,S.capabilities=Ot,S.extensions=Lt,S.properties=pt,S.renderLists=Nn,S.shadowMap=Bt,S.state=ut,S.info=kt}Xn();const Vn=new k1e(S,Ge);function st(Ne){Ne.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Tn(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const Ne=kt.autoReset,Vt=Bt.enabled,tn=Bt.autoUpdate,Xt=Bt.needsUpdate,cn=Bt.type;Xn(),kt.autoReset=Ne,Bt.enabled=Vt,Bt.autoUpdate=tn,Bt.needsUpdate=Xt,Bt.type=cn}function On(Ne){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Ne.statusMessage)}function kr(Ne){const Vt=Ne.target;Vt.removeEventListener("dispose",kr),function tr(Ne){(function zr(Ne){const Vt=pt.get(Ne).programs;void 0!==Vt&&(Vt.forEach(function(tn){an.releaseProgram(tn)}),Ne.isShaderMaterial&&an.releaseShaderCache(Ne))})(Ne),pt.remove(Ne)}(Vt)}this.xr=Vn,this.getContext=function(){return Ge},this.getContextAttributes=function(){return Ge.getContextAttributes()},this.forceContextLoss=function(){const Ne=Lt.get("WEBGL_lose_context");Ne&&Ne.loseContext()},this.forceContextRestore=function(){const Ne=Lt.get("WEBGL_lose_context");Ne&&Ne.restoreContext()},this.getPixelRatio=function(){return Le},this.setPixelRatio=function(Ne){void 0!==Ne&&(Le=Ne,this.setSize(pe,we,!1))},this.getSize=function(Ne){return Ne.set(pe,we)},this.setSize=function(Ne,Vt,tn){Vn.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(pe=Ne,we=Vt,e.width=Math.floor(Ne*Le),e.height=Math.floor(Vt*Le),!1!==tn&&(e.style.width=Ne+"px",e.style.height=Vt+"px"),this.setViewport(0,0,Ne,Vt))},this.getDrawingBufferSize=function(Ne){return Ne.set(pe*Le,we*Le).floor()},this.setDrawingBufferSize=function(Ne,Vt,tn){pe=Ne,we=Vt,Le=tn,e.width=Math.floor(Ne*tn),e.height=Math.floor(Vt*tn),this.setViewport(0,0,Ne,Vt)},this.getCurrentViewport=function(Ne){return Ne.copy(ie)},this.getViewport=function(Ne){return Ne.copy(je)},this.setViewport=function(Ne,Vt,tn,Xt){Ne.isVector4?je.set(Ne.x,Ne.y,Ne.z,Ne.w):je.set(Ne,Vt,tn,Xt),ut.viewport(ie.copy(je).multiplyScalar(Le).floor())},this.getScissor=function(Ne){return Ne.copy(bt)},this.setScissor=function(Ne,Vt,tn,Xt){Ne.isVector4?bt.set(Ne.x,Ne.y,Ne.z,Ne.w):bt.set(Ne,Vt,tn,Xt),ut.scissor(me.copy(bt).multiplyScalar(Le).floor())},this.getScissorTest=function(){return ye},this.setScissorTest=function(Ne){ut.setScissorTest(ye=Ne)},this.setOpaqueSort=function(Ne){ot=Ne},this.setTransparentSort=function(Ne){lt=Ne},this.getClearColor=function(Ne){return Ne.copy(ln.getClearColor())},this.setClearColor=function(){ln.setClearColor.apply(ln,arguments)},this.getClearAlpha=function(){return ln.getClearAlpha()},this.setClearAlpha=function(){ln.setClearAlpha.apply(ln,arguments)},this.clear=function(Ne=!0,Vt=!0,tn=!0){let Xt=0;Ne&&(Xt|=16384),Vt&&(Xt|=256),tn&&(Xt|=1024),Ge.clear(Xt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",st,!1),e.removeEventListener("webglcontextrestored",Tn,!1),e.removeEventListener("webglcontextcreationerror",On,!1),Nn.dispose(),Pe.dispose(),pt.dispose(),Nt.dispose(),vn.dispose(),In.dispose(),pr.dispose(),an.dispose(),Vn.dispose(),Vn.removeEventListener("sessionstart",ei),Vn.removeEventListener("sessionend",ai),wt&&(wt.dispose(),wt=null),Fo.stop()},this.renderBufferDirect=function(Ne,Vt,tn,Xt,cn,Zr){null===Vt&&(Vt=Me);const ri=cn.isMesh&&cn.matrixWorld.determinant()<0,ci=function Ku(Ne,Vt,tn,Xt,cn){!0!==Vt.isScene&&(Vt=Me),At.resetTextureUnits();const Zr=Vt.fog,ci=null===z?S.outputEncoding:!0===z.isXRRenderTarget?z.texture.encoding:fb,Jr=(Xt.isMeshStandardMaterial?vn:Nt).get(Xt.envMap||(Xt.isMeshStandardMaterial?Vt.environment:null)),$i=!0===Xt.vertexColors&&!!tn.attributes.color&&4===tn.attributes.color.itemSize,_o=!!Xt.normalMap&&!!tn.attributes.tangent,Eo=!!tn.morphAttributes.position,Ts=!!tn.morphAttributes.normal,ff=!!tn.morphAttributes.color,_p=Xt.toneMapped?S.toneMapping:0,Al=tn.morphAttributes.position||tn.morphAttributes.normal||tn.morphAttributes.color,Ol=void 0!==Al?Al.length:0,lo=pt.get(Xt),Rc=g.state.lights;!0!==Ye||!0!==Je&&Ne===X||xe.setState(Xt,Ne,Ne===X&&Xt.id===j);let Xs=!1;Xt.version===lo.__version?(lo.needsLights&&lo.lightsStateVersion!==Rc.state.version||lo.outputEncoding!==ci||cn.isInstancedMesh&&!1===lo.instancing||!cn.isInstancedMesh&&!0===lo.instancing||cn.isSkinnedMesh&&!1===lo.skinning||!cn.isSkinnedMesh&&!0===lo.skinning||lo.envMap!==Jr||!0===Xt.fog&&lo.fog!==Zr||void 0!==lo.numClippingPlanes&&(lo.numClippingPlanes!==xe.numPlanes||lo.numIntersection!==xe.numIntersection)||lo.vertexAlphas!==$i||lo.vertexTangents!==_o||lo.morphTargets!==Eo||lo.morphNormals!==Ts||lo.morphColors!==ff||lo.toneMapping!==_p||!0===Ot.isWebGL2&&lo.morphTargetsCount!==Ol)&&(Xs=!0):(Xs=!0,lo.__version=Xt.version);let Dc=lo.currentProgram;!0===Xs&&(Dc=Xu(Xt,Vt,cn));let Mi=!1,pf=!1,Ay=!1;const kl=Dc.getUniforms(),Oy=lo.uniforms;if(ut.useProgram(Dc.program)&&(Mi=!0,pf=!0,Ay=!0),Xt.id!==j&&(j=Xt.id,pf=!0),Mi||X!==Ne){if(kl.setValue(Ge,"projectionMatrix",Ne.projectionMatrix),Ot.logarithmicDepthBuffer&&kl.setValue(Ge,"logDepthBufFC",2/(Math.log(Ne.far+1)/Math.LN2)),X!==Ne&&(X=Ne,pf=!0,Ay=!0),Xt.isShaderMaterial||Xt.isMeshPhongMaterial||Xt.isMeshToonMaterial||Xt.isMeshStandardMaterial||Xt.envMap){const Ya=kl.map.cameraPosition;void 0!==Ya&&Ya.setValue(Ge,fe.setFromMatrixPosition(Ne.matrixWorld))}(Xt.isMeshPhongMaterial||Xt.isMeshToonMaterial||Xt.isMeshLambertMaterial||Xt.isMeshBasicMaterial||Xt.isMeshStandardMaterial||Xt.isShaderMaterial)&&kl.setValue(Ge,"isOrthographic",!0===Ne.isOrthographicCamera),(Xt.isMeshPhongMaterial||Xt.isMeshToonMaterial||Xt.isMeshLambertMaterial||Xt.isMeshBasicMaterial||Xt.isMeshStandardMaterial||Xt.isShaderMaterial||Xt.isShadowMaterial||cn.isSkinnedMesh)&&kl.setValue(Ge,"viewMatrix",Ne.matrixWorldInverse)}if(cn.isSkinnedMesh){kl.setOptional(Ge,cn,"bindMatrix"),kl.setOptional(Ge,cn,"bindMatrixInverse");const Ya=cn.skeleton;Ya&&(Ot.floatVertexTextures?(null===Ya.boneTexture&&Ya.computeBoneTexture(),kl.setValue(Ge,"boneTexture",Ya.boneTexture,At),kl.setValue(Ge,"boneTextureSize",Ya.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const qu=tn.morphAttributes;return(void 0!==qu.position||void 0!==qu.normal||void 0!==qu.color&&!0===Ot.isWebGL2)&&mn.update(cn,tn,Xt,Dc),(pf||lo.receiveShadow!==cn.receiveShadow)&&(lo.receiveShadow=cn.receiveShadow,kl.setValue(Ge,"receiveShadow",cn.receiveShadow)),pf&&(kl.setValue(Ge,"toneMappingExposure",S.toneMappingExposure),lo.needsLights&&function Zu(Ne,Vt){Ne.ambientLightColor.needsUpdate=Vt,Ne.lightProbe.needsUpdate=Vt,Ne.directionalLights.needsUpdate=Vt,Ne.directionalLightShadows.needsUpdate=Vt,Ne.pointLights.needsUpdate=Vt,Ne.pointLightShadows.needsUpdate=Vt,Ne.spotLights.needsUpdate=Vt,Ne.spotLightShadows.needsUpdate=Vt,Ne.rectAreaLights.needsUpdate=Vt,Ne.hemisphereLights.needsUpdate=Vt}(Oy,Ay),Zr&&!0===Xt.fog&&Mn.refreshFogUniforms(Oy,Zr),Mn.refreshMaterialUniforms(Oy,Xt,Le,we,wt),Ok.upload(Ge,lo.uniformsList,Oy,At)),Xt.isShaderMaterial&&!0===Xt.uniformsNeedUpdate&&(Ok.upload(Ge,lo.uniformsList,Oy,At),Xt.uniformsNeedUpdate=!1),Xt.isSpriteMaterial&&kl.setValue(Ge,"center",cn.center),kl.setValue(Ge,"modelViewMatrix",cn.modelViewMatrix),kl.setValue(Ge,"normalMatrix",cn.normalMatrix),kl.setValue(Ge,"modelMatrix",cn.matrixWorld),Dc}(Ne,Vt,tn,Xt,cn);ut.setMaterial(Xt,ri);let Jr=tn.index;const $i=tn.attributes.position;if(null===Jr){if(void 0===$i||0===$i.count)return}else if(0===Jr.count)return;let _o=1;!0===Xt.wireframe&&(Jr=qn.getWireframeAttribute(tn),_o=2),pr.setup(cn,Xt,ci,tn,Jr);let Eo,Ts=Bn;null!==Jr&&(Eo=hn.get(Jr),Ts=wr,Ts.setIndex(Eo));const ff=null!==Jr?Jr.count:$i.count,_p=tn.drawRange.start*_o,Al=tn.drawRange.count*_o,Ol=null!==Zr?Zr.start*_o:0,lo=null!==Zr?Zr.count*_o:1/0,Rc=Math.max(_p,Ol),Xs=Math.min(ff,_p+Al,Ol+lo)-1,Dc=Math.max(0,Xs-Rc+1);if(0!==Dc){if(cn.isMesh)!0===Xt.wireframe?(ut.setLineWidth(Xt.wireframeLinewidth*Te()),Ts.setMode(1)):Ts.setMode(4);else if(cn.isLine){let Mi=Xt.linewidth;void 0===Mi&&(Mi=1),ut.setLineWidth(Mi*Te()),Ts.setMode(cn.isLineSegments?1:cn.isLineLoop?2:3)}else cn.isPoints?Ts.setMode(0):cn.isSprite&&Ts.setMode(4);if(cn.isInstancedMesh)Ts.renderInstances(Rc,Dc,cn.count);else if(tn.isInstancedBufferGeometry){const Mi=Math.min(tn.instanceCount,tn._maxInstanceCount);Ts.renderInstances(Rc,Dc,Mi)}else Ts.render(Rc,Dc)}},this.compile=function(Ne,Vt){g=Pe.get(Ne),g.init(),w.push(g),Ne.traverseVisible(function(tn){tn.isLight&&tn.layers.test(Vt.layers)&&(g.pushLight(tn),tn.castShadow&&g.pushShadow(tn))}),g.setupLights(S.physicallyCorrectLights),Ne.traverse(function(tn){const Xt=tn.material;if(Xt)if(Array.isArray(Xt))for(let cn=0;cn<Xt.length;cn++)Xu(Xt[cn],Ne,tn);else Xu(Xt,Ne,tn)}),w.pop(),g=null};let Pn=null;function ei(){Fo.stop()}function ai(){Fo.start()}const Fo=new bq;function Ho(Ne,Vt,tn,Xt){if(!1===Ne.visible)return;if(Ne.layers.test(Vt.layers))if(Ne.isGroup)tn=Ne.renderOrder;else if(Ne.isLOD)!0===Ne.autoUpdate&&Ne.update(Vt);else if(Ne.isLight)g.pushLight(Ne),Ne.castShadow&&g.pushShadow(Ne);else if(Ne.isSprite){if(!Ne.frustumCulled||Ae.intersectsSprite(Ne)){Xt&&fe.setFromMatrixPosition(Ne.matrixWorld).applyMatrix4(Z);const ri=In.update(Ne),ci=Ne.material;ci.visible&&p.push(Ne,ri,ci,tn,fe.z,null)}}else if((Ne.isMesh||Ne.isLine||Ne.isPoints)&&(Ne.isSkinnedMesh&&Ne.skeleton.frame!==kt.render.frame&&(Ne.skeleton.update(),Ne.skeleton.frame=kt.render.frame),!Ne.frustumCulled||Ae.intersectsObject(Ne))){Xt&&fe.setFromMatrixPosition(Ne.matrixWorld).applyMatrix4(Z);const ri=In.update(Ne),ci=Ne.material;if(Array.isArray(ci)){const Jr=ri.groups;for(let $i=0,_o=Jr.length;$i<_o;$i++){const Eo=Jr[$i],Ts=ci[Eo.materialIndex];Ts&&Ts.visible&&p.push(Ne,ri,Ts,tn,fe.z,Eo)}}else ci.visible&&p.push(Ne,ri,ci,tn,fe.z,null)}const Zr=Ne.children;for(let ri=0,ci=Zr.length;ri<ci;ri++)Ho(Zr[ri],Vt,tn,Xt)}function Es(Ne,Vt,tn,Xt){const cn=Ne.opaque,Zr=Ne.transmissive,ri=Ne.transparent;g.setupLightsView(tn),Zr.length>0&&function pa(Ne,Vt,tn){const Xt=Ot.isWebGL2;null===wt&&(wt=new vb(1,1,{generateMipmaps:!0,type:Lt.has("EXT_color_buffer_half_float")?MT:cb,minFilter:1008,samples:Xt&&!0===o?4:0})),S.getDrawingBufferSize(Q),Xt?wt.setSize(Q.x,Q.y):wt.setSize(ok(Q.x),ok(Q.y));const cn=S.getRenderTarget();S.setRenderTarget(wt),S.clear();const Zr=S.toneMapping;S.toneMapping=0,hu(Ne,Vt,tn),S.toneMapping=Zr,At.updateMultisampleRenderTarget(wt),At.updateRenderTargetMipmap(wt),S.setRenderTarget(cn)}(cn,Vt,tn),Xt&&ut.viewport(ie.copy(Xt)),cn.length>0&&hu(cn,Vt,tn),Zr.length>0&&hu(Zr,Vt,tn),ri.length>0&&hu(ri,Vt,tn),ut.buffers.depth.setTest(!0),ut.buffers.depth.setMask(!0),ut.buffers.color.setMask(!0),ut.setPolygonOffset(!1)}function hu(Ne,Vt,tn){const Xt=!0===Vt.isScene?Vt.overrideMaterial:null;for(let cn=0,Zr=Ne.length;cn<Zr;cn++){const ri=Ne[cn],ci=ri.object,Jr=ri.geometry,$i=null===Xt?ri.material:Xt,_o=ri.group;ci.layers.test(tn.layers)&&uh(ci,Vt,tn,Jr,$i,_o)}}function uh(Ne,Vt,tn,Xt,cn,Zr){Ne.onBeforeRender(S,Vt,tn,Xt,cn,Zr),Ne.modelViewMatrix.multiplyMatrices(tn.matrixWorldInverse,Ne.matrixWorld),Ne.normalMatrix.getNormalMatrix(Ne.modelViewMatrix),cn.onBeforeRender(S,Vt,tn,Xt,Ne,Zr),!0===cn.transparent&&2===cn.side?(cn.side=1,cn.needsUpdate=!0,S.renderBufferDirect(tn,Vt,Xt,cn,Ne,Zr),cn.side=0,cn.needsUpdate=!0,S.renderBufferDirect(tn,Vt,Xt,cn,Ne,Zr),cn.side=2):S.renderBufferDirect(tn,Vt,Xt,cn,Ne,Zr),Ne.onAfterRender(S,Vt,tn,Xt,cn,Zr)}function Xu(Ne,Vt,tn){!0!==Vt.isScene&&(Vt=Me);const Xt=pt.get(Ne),cn=g.state.lights,ri=cn.state.version,ci=an.getParameters(Ne,cn.state,g.state.shadowsArray,Vt,tn),Jr=an.getProgramCacheKey(ci);let $i=Xt.programs;Xt.environment=Ne.isMeshStandardMaterial?Vt.environment:null,Xt.fog=Vt.fog,Xt.envMap=(Ne.isMeshStandardMaterial?vn:Nt).get(Ne.envMap||Xt.environment),void 0===$i&&(Ne.addEventListener("dispose",kr),$i=new Map,Xt.programs=$i);let _o=$i.get(Jr);if(void 0!==_o){if(Xt.currentProgram===_o&&Xt.lightsStateVersion===ri)return _d(Ne,ci),_o}else ci.uniforms=an.getUniforms(Ne),Ne.onBuild(tn,ci,S),Ne.onBeforeCompile(ci,S),_o=an.acquireProgram(ci,Jr),$i.set(Jr,_o),Xt.uniforms=ci.uniforms;const Eo=Xt.uniforms;(!Ne.isShaderMaterial&&!Ne.isRawShaderMaterial||!0===Ne.clipping)&&(Eo.clippingPlanes=xe.uniform),_d(Ne,ci),Xt.needsLights=function ch(Ne){return Ne.isMeshLambertMaterial||Ne.isMeshToonMaterial||Ne.isMeshPhongMaterial||Ne.isMeshStandardMaterial||Ne.isShadowMaterial||Ne.isShaderMaterial&&!0===Ne.lights}(Ne),Xt.lightsStateVersion=ri,Xt.needsLights&&(Eo.ambientLightColor.value=cn.state.ambient,Eo.lightProbe.value=cn.state.probe,Eo.directionalLights.value=cn.state.directional,Eo.directionalLightShadows.value=cn.state.directionalShadow,Eo.spotLights.value=cn.state.spot,Eo.spotLightShadows.value=cn.state.spotShadow,Eo.rectAreaLights.value=cn.state.rectArea,Eo.ltc_1.value=cn.state.rectAreaLTC1,Eo.ltc_2.value=cn.state.rectAreaLTC2,Eo.pointLights.value=cn.state.point,Eo.pointLightShadows.value=cn.state.pointShadow,Eo.hemisphereLights.value=cn.state.hemi,Eo.directionalShadowMap.value=cn.state.directionalShadowMap,Eo.directionalShadowMatrix.value=cn.state.directionalShadowMatrix,Eo.spotShadowMap.value=cn.state.spotShadowMap,Eo.spotShadowMatrix.value=cn.state.spotShadowMatrix,Eo.pointShadowMap.value=cn.state.pointShadowMap,Eo.pointShadowMatrix.value=cn.state.pointShadowMatrix);const Ts=_o.getUniforms(),ff=Ok.seqWithValue(Ts.seq,Eo);return Xt.currentProgram=_o,Xt.uniformsList=ff,_o}function _d(Ne,Vt){const tn=pt.get(Ne);tn.outputEncoding=Vt.outputEncoding,tn.instancing=Vt.instancing,tn.skinning=Vt.skinning,tn.morphTargets=Vt.morphTargets,tn.morphNormals=Vt.morphNormals,tn.morphColors=Vt.morphColors,tn.morphTargetsCount=Vt.morphTargetsCount,tn.numClippingPlanes=Vt.numClippingPlanes,tn.numIntersection=Vt.numClipIntersection,tn.vertexAlphas=Vt.vertexAlphas,tn.vertexTangents=Vt.vertexTangents,tn.toneMapping=Vt.toneMapping}Fo.setAnimationLoop(function Lr(Ne){Pn&&Pn(Ne)}),"undefined"!=typeof self&&Fo.setContext(self),this.setAnimationLoop=function(Ne){Pn=Ne,Vn.setAnimationLoop(Ne),null===Ne?Fo.stop():Fo.start()},Vn.addEventListener("sessionstart",ei),Vn.addEventListener("sessionend",ai),this.render=function(Ne,Vt){if(void 0===Vt||!0===Vt.isCamera){if(!0!==C){if(!0===Ne.autoUpdate&&Ne.updateMatrixWorld(),null===Vt.parent&&Vt.updateMatrixWorld(),!0===Vn.enabled&&!0===Vn.isPresenting&&(!0===Vn.cameraAutoUpdate&&Vn.updateCamera(Vt),Vt=Vn.getCamera()),!0===Ne.isScene&&Ne.onBeforeRender(S,Ne,Vt,z),g=Pe.get(Ne,w.length),g.init(),w.push(g),Z.multiplyMatrices(Vt.projectionMatrix,Vt.matrixWorldInverse),Ae.setFromProjectionMatrix(Z),Je=this.localClippingEnabled,Ye=xe.init(this.clippingPlanes,Je,Vt),p=Nn.get(Ne,y.length),p.init(),y.push(p),Ho(Ne,Vt,0,S.sortObjects),p.finish(),!0===S.sortObjects&&p.sort(ot,lt),!0===Ye&&xe.beginShadows(),Bt.render(g.state.shadowsArray,Ne,Vt),!0===Ye&&xe.endShadows(),!0===this.info.autoReset&&this.info.reset(),ln.render(p,Ne),g.setupLights(S.physicallyCorrectLights),Vt.isArrayCamera){const Xt=Vt.cameras;for(let cn=0,Zr=Xt.length;cn<Zr;cn++){const ri=Xt[cn];Es(p,Ne,ri,ri.viewport)}}else Es(p,Ne,Vt);null!==z&&(At.updateMultisampleRenderTarget(z),At.updateRenderTargetMipmap(z)),!0===Ne.isScene&&Ne.onAfterRender(S,Ne,Vt),pr.resetDefaultState(),j=-1,X=null,w.pop(),g=w.length>0?w[w.length-1]:null,y.pop(),p=y.length>0?y[y.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(Ne,Vt,tn){pt.get(Ne.texture).__webglTexture=Vt,pt.get(Ne.depthTexture).__webglTexture=tn;const Xt=pt.get(Ne);Xt.__hasExternalTextures=!0,Xt.__hasExternalTextures&&(Xt.__autoAllocateDepthBuffer=void 0===tn,Xt.__autoAllocateDepthBuffer||!0===Lt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Xt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Ne,Vt){const tn=pt.get(Ne);tn.__webglFramebuffer=Vt,tn.__useDefaultFramebuffer=void 0===Vt},this.setRenderTarget=function(Ne,Vt=0,tn=0){z=Ne,P=Vt,B=tn;let Xt=!0;if(Ne){const Jr=pt.get(Ne);void 0!==Jr.__useDefaultFramebuffer?(ut.bindFramebuffer(36160,null),Xt=!1):void 0===Jr.__webglFramebuffer?At.setupRenderTarget(Ne):Jr.__hasExternalTextures&&At.rebindTextures(Ne,pt.get(Ne.texture).__webglTexture,pt.get(Ne.depthTexture).__webglTexture)}let cn=null,Zr=!1,ri=!1;if(Ne){const Jr=Ne.texture;(Jr.isData3DTexture||Jr.isDataArrayTexture)&&(ri=!0);const $i=pt.get(Ne).__webglFramebuffer;Ne.isWebGLCubeRenderTarget?(cn=$i[Vt],Zr=!0):cn=Ot.isWebGL2&&Ne.samples>0&&!1===At.useMultisampledRTT(Ne)?pt.get(Ne).__webglMultisampledFramebuffer:$i,ie.copy(Ne.viewport),me.copy(Ne.scissor),re=Ne.scissorTest}else ie.copy(je).multiplyScalar(Le).floor(),me.copy(bt).multiplyScalar(Le).floor(),re=ye;if(ut.bindFramebuffer(36160,cn)&&Ot.drawBuffers&&Xt&&ut.drawBuffers(Ne,cn),ut.viewport(ie),ut.scissor(me),ut.setScissorTest(re),Zr){const Jr=pt.get(Ne.texture);Ge.framebufferTexture2D(36160,36064,34069+Vt,Jr.__webglTexture,tn)}else if(ri){const Jr=pt.get(Ne.texture);Ge.framebufferTextureLayer(36160,36064,Jr.__webglTexture,tn||0,Vt||0)}j=-1},this.readRenderTargetPixels=function(Ne,Vt,tn,Xt,cn,Zr,ri){if(!Ne||!Ne.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ci=pt.get(Ne).__webglFramebuffer;if(Ne.isWebGLCubeRenderTarget&&void 0!==ri&&(ci=ci[ri]),ci){ut.bindFramebuffer(36160,ci);try{const Jr=Ne.texture,$i=Jr.format,_o=Jr.type;if($i!==Xh&&zt.convert($i)!==Ge.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Eo=_o===MT&&(Lt.has("EXT_color_buffer_half_float")||Ot.isWebGL2&&Lt.has("EXT_color_buffer_float"));if(!(_o===cb||zt.convert(_o)===Ge.getParameter(35738)||_o===Fv&&(Ot.isWebGL2||Lt.has("OES_texture_float")||Lt.has("WEBGL_color_buffer_float"))||Eo))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Vt>=0&&Vt<=Ne.width-Xt&&tn>=0&&tn<=Ne.height-cn&&Ge.readPixels(Vt,tn,Xt,cn,zt.convert($i),zt.convert(_o),Zr)}finally{const Jr=null!==z?pt.get(z).__webglFramebuffer:null;ut.bindFramebuffer(36160,Jr)}}},this.copyFramebufferToTexture=function(Ne,Vt,tn=0){const Xt=Math.pow(2,-tn),cn=Math.floor(Vt.image.width*Xt),Zr=Math.floor(Vt.image.height*Xt);At.setTexture2D(Vt,0),Ge.copyTexSubImage2D(3553,tn,0,0,Ne.x,Ne.y,cn,Zr),ut.unbindTexture()},this.copyTextureToTexture=function(Ne,Vt,tn,Xt=0){const cn=Vt.image.width,Zr=Vt.image.height,ri=zt.convert(tn.format),ci=zt.convert(tn.type);At.setTexture2D(tn,0),Ge.pixelStorei(37440,tn.flipY),Ge.pixelStorei(37441,tn.premultiplyAlpha),Ge.pixelStorei(3317,tn.unpackAlignment),Vt.isDataTexture?Ge.texSubImage2D(3553,Xt,Ne.x,Ne.y,cn,Zr,ri,ci,Vt.image.data):Vt.isCompressedTexture?Ge.compressedTexSubImage2D(3553,Xt,Ne.x,Ne.y,Vt.mipmaps[0].width,Vt.mipmaps[0].height,ri,Vt.mipmaps[0].data):Ge.texSubImage2D(3553,Xt,Ne.x,Ne.y,ri,ci,Vt.image),0===Xt&&tn.generateMipmaps&&Ge.generateMipmap(3553),ut.unbindTexture()},this.copyTextureToTexture3D=function(Ne,Vt,tn,Xt,cn=0){if(S.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Zr=Ne.max.x-Ne.min.x+1,ri=Ne.max.y-Ne.min.y+1,ci=Ne.max.z-Ne.min.z+1,Jr=zt.convert(Xt.format),$i=zt.convert(Xt.type);let _o;if(Xt.isData3DTexture)At.setTexture3D(Xt,0),_o=32879;else{if(!Xt.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");At.setTexture2DArray(Xt,0),_o=35866}Ge.pixelStorei(37440,Xt.flipY),Ge.pixelStorei(37441,Xt.premultiplyAlpha),Ge.pixelStorei(3317,Xt.unpackAlignment);const Eo=Ge.getParameter(3314),Ts=Ge.getParameter(32878),ff=Ge.getParameter(3316),_p=Ge.getParameter(3315),Al=Ge.getParameter(32877),Ol=tn.isCompressedTexture?tn.mipmaps[0]:tn.image;Ge.pixelStorei(3314,Ol.width),Ge.pixelStorei(32878,Ol.height),Ge.pixelStorei(3316,Ne.min.x),Ge.pixelStorei(3315,Ne.min.y),Ge.pixelStorei(32877,Ne.min.z),tn.isDataTexture||tn.isData3DTexture?Ge.texSubImage3D(_o,cn,Vt.x,Vt.y,Vt.z,Zr,ri,ci,Jr,$i,Ol.data):tn.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ge.compressedTexSubImage3D(_o,cn,Vt.x,Vt.y,Vt.z,Zr,ri,ci,Jr,Ol.data)):Ge.texSubImage3D(_o,cn,Vt.x,Vt.y,Vt.z,Zr,ri,ci,Jr,$i,Ol),Ge.pixelStorei(3314,Eo),Ge.pixelStorei(32878,Ts),Ge.pixelStorei(3316,ff),Ge.pixelStorei(3315,_p),Ge.pixelStorei(32877,Al),0===cn&&Xt.generateMipmaps&&Ge.generateMipmap(_o),ut.unbindTexture()},this.initTexture=function(Ne){Ne.isCubeTexture?At.setTextureCube(Ne,0):Ne.isData3DTexture?At.setTexture3D(Ne,0):Ne.isDataArrayTexture?At.setTexture2DArray(Ne,0):At.setTexture2D(Ne,0),ut.unbindTexture()},this.resetState=function(){P=0,B=0,z=null,ut.reset(),pr.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class I1e extends Zq{}).prototype.isWebGL1Renderer=!0;class qq extends Fu{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}class Sc extends yS{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Rr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const hJ=new Be,fJ=new Be,pJ=new ro,iV=new pk,Fk=new fS;class FT extends Fu{constructor(e=new fo,t=new Sc){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)hJ.fromBufferAttribute(t,i-1),fJ.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=hJ.distanceTo(fJ);e.setAttribute("lineDistance",new Wr(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Fk.copy(r.boundingSphere),Fk.applyMatrix4(i),Fk.radius+=o,!1===e.ray.intersectsSphere(Fk))return;pJ.copy(i).invert(),iV.copy(e.ray).applyMatrix4(pJ);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,c=new Be,h=new Be,p=new Be,g=new Be,y=this.isLineSegments?2:1,w=r.index,C=r.attributes.position;if(null!==w)for(let z=Math.max(0,s.start),j=Math.min(w.count,s.start+s.count)-1;z<j;z+=y){const X=w.getX(z),ie=w.getX(z+1);if(c.fromBufferAttribute(C,X),h.fromBufferAttribute(C,ie),iV.distanceSqToSegment(c,h,g,p)>u)continue;g.applyMatrix4(this.matrixWorld);const re=e.ray.origin.distanceTo(g);re<e.near||re>e.far||t.push({distance:re,point:p.clone().applyMatrix4(this.matrixWorld),index:z,face:null,faceIndex:null,object:this})}else for(let z=Math.max(0,s.start),j=Math.min(C.count,s.start+s.count)-1;z<j;z+=y){if(c.fromBufferAttribute(C,z),h.fromBufferAttribute(C,z+1),iV.distanceSqToSegment(c,h,g,p)>u)continue;g.applyMatrix4(this.matrixWorld);const ie=e.ray.origin.distanceTo(g);ie<e.near||ie>e.far||t.push({distance:ie,point:p.clone().applyMatrix4(this.matrixWorld),index:z,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}const mJ=new Be,gJ=new Be;class Hk extends FT{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)mJ.fromBufferAttribute(t,i),gJ.fromBufferAttribute(t,i+1),r[i]=0===i?0:r[i-1],r[i+1]=r[i]+mJ.distanceTo(gJ);e.setAttribute("lineDistance",new Wr(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}const $k=new Be,Xk=new Be,fV=new Be,Kk=new Qh;class CJ extends fo{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const i=Math.pow(10,4),o=Math.cos(mb*t),s=e.getIndex(),a=e.getAttribute("position"),u=s?s.count:a.count,c=[0,0,0],h=["a","b","c"],p=new Array(3),g={},y=[];for(let w=0;w<u;w+=3){s?(c[0]=s.getX(w),c[1]=s.getX(w+1),c[2]=s.getX(w+2)):(c[0]=w,c[1]=w+1,c[2]=w+2);const{a:S,b:C,c:P}=Kk;if(S.fromBufferAttribute(a,c[0]),C.fromBufferAttribute(a,c[1]),P.fromBufferAttribute(a,c[2]),Kk.getNormal(fV),p[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,p[1]=`${Math.round(C.x*i)},${Math.round(C.y*i)},${Math.round(C.z*i)}`,p[2]=`${Math.round(P.x*i)},${Math.round(P.y*i)},${Math.round(P.z*i)}`,p[0]!==p[1]&&p[1]!==p[2]&&p[2]!==p[0])for(let B=0;B<3;B++){const z=(B+1)%3,j=p[B],X=p[z],ie=Kk[h[B]],me=Kk[h[z]],re=`${j}_${X}`,pe=`${X}_${j}`;pe in g&&g[pe]?(fV.dot(g[pe].normal)<=o&&(y.push(ie.x,ie.y,ie.z),y.push(me.x,me.y,me.z)),g[pe]=null):re in g||(g[re]={index0:c[B],index1:c[z],normal:fV.clone()})}}for(const w in g)if(g[w]){const{index0:S,index1:C}=g[w];$k.fromBufferAttribute(a,S),Xk.fromBufferAttribute(a,C),y.push($k.x,$k.y,$k.z),y.push(Xk.x,Xk.y,Xk.z)}this.setAttribute("position",new Wr(y,3))}}}const $s={arraySlice:function(n,e,t){return $s.isTypedArray(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(function e(i,o){return n[i]-n[o]}),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let o=0,s=0;s!==r;++o){const a=t[o]*e;for(let u=0;u!==e;++u)i[s++]=n[a+u]}return i},flattenJSON:function(n,e,t,r){let i=1,o=n[0];for(;void 0!==o&&void 0===o[r];)o=n[i++];if(void 0===o)return;let s=o[r];if(void 0!==s)if(Array.isArray(s))do{s=o[r],void 0!==s&&(e.push(o.time),t.push.apply(t,s)),o=n[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[r],void 0!==s&&(e.push(o.time),s.toArray(t,t.length)),o=n[i++]}while(void 0!==o);else do{s=o[r],void 0!==s&&(e.push(o.time),t.push(s)),o=n[i++]}while(void 0!==o)},subclip:function(n,e,t,r,i=30){const o=n.clone();o.name=e;const s=[];for(let u=0;u<o.tracks.length;++u){const c=o.tracks[u],h=c.getValueSize(),p=[],g=[];for(let y=0;y<c.times.length;++y){const w=c.times[y]*i;if(!(w<t||w>=r)){p.push(c.times[y]);for(let S=0;S<h;++S)g.push(c.values[y*h+S])}}0!==p.length&&(c.times=$s.convertArray(p,c.times.constructor),c.values=$s.convertArray(g,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let u=0;u<o.tracks.length;++u)a>o.tracks[u].times[0]&&(a=o.tracks[u].times[0]);for(let u=0;u<o.tracks.length;++u)o.tracks[u].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=t.tracks[s],u=a.ValueTypeName;if("bool"===u||"string"===u)continue;const c=n.tracks.find(function(P){return P.name===a.name&&P.ValueTypeName===u});if(void 0===c)continue;let h=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let g=0;const y=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);const w=a.times.length-1;let S;if(o<=a.times[0])S=$s.arraySlice(a.values,h,p-h);else if(o>=a.times[w]){const P=w*p+h;S=$s.arraySlice(a.values,P,P+p-h)}else{const P=a.createInterpolant(),B=h,z=p-h;P.evaluate(o),S=$s.arraySlice(P.resultBuffer,B,z)}"quaternion"===u&&(new sd).fromArray(S).normalize().conjugate().toArray(S);const C=c.times.length;for(let P=0;P<C;++P){const B=P*y+g;if("quaternion"===u)sd.multiplyQuaternionsFlat(c.values,B,S,0,c.values,B);else{const z=y-2*g;for(let j=0;j<z;++j)c.values[B+j]-=S[j]}}}return n.blendMode=2501,n}};class aL{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(void 0===i){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=t[++r],e<i)break t}s=t.length;break n}if(e>=o)break e;{const a=t[1];e<a&&(r=2,o=a);for(let u=r-2;;){if(void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(i=o,o=t[--r-1],e>=o)break t}s=r,r=0}}for(;r<s;){const a=r+s>>>1;e<t[a]?s=a:r=a+1}if(i=t[r],o=t[r-1],void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=r[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class PRe extends aL{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],u=i[s];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:o=e,a=2*t-r;break;case 2402:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=r}if(void 0===u)switch(this.getSettings_().endingEnd){case 2401:s=e,u=2*r-t;break;case 2402:s=1,u=r+i[1]-i[0];break;default:s=e-1,u=t}const c=.5*(r-t),h=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(u-r),this._offsetPrev=o*h,this._offsetNext=s*h}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,h=this._offsetPrev,p=this._offsetNext,g=this._weightPrev,y=this._weightNext,w=(r-t)/(i-t),S=w*w,C=S*w,P=-g*C+2*g*S-g*w,B=(1+g)*C+(-1.5-2*g)*S+(-.5+g)*w+1,z=(-1-y)*C+(1.5+y)*S+.5*w,j=y*C-y*S;for(let X=0;X!==a;++X)o[X]=P*s[h+X]+B*s[c+X]+z*s[u+X]+j*s[p+X];return o}}class PJ extends aL{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,h=(r-t)/(i-t),p=1-h;for(let g=0;g!==a;++g)o[g]=s[c+g]*p+s[u+g]*h;return o}}class IRe extends aL{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class tp{constructor(e,t,r,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$s.convertArray(t,this.TimeBufferType),this.values=$s.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:$s.convertArray(e.times,Array),values:$s.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new IRe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new PJ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new PRe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;-1!==s&&r[s]>t;)--s;if(++s,0!==o||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=$s.arraySlice(r,o,s),this.values=$s.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const u=r[a];if("number"==typeof u&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(null!==s&&s>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,s),e=!1;break}s=u}if(void 0!==i&&$s.isTypedArray(i))for(let a=0,u=i.length;a!==u;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=$s.arraySlice(this.times),t=$s.arraySlice(this.values),r=this.getValueSize(),i=2302===this.getInterpolation(),o=e.length-1;let s=1;for(let a=1;a<o;++a){let u=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(i)u=!0;else{const p=a*r,g=p-r,y=p+r;for(let w=0;w!==r;++w){const S=t[p+w];if(S!==t[g+w]||S!==t[y+w]){u=!0;break}}}if(u){if(a!==s){e[s]=e[a];const p=a*r,g=s*r;for(let y=0;y!==r;++y)t[g+y]=t[p+y]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,u=s*r,c=0;c!==r;++c)t[u+c]=t[a+c];++s}return s!==e.length?(this.times=$s.arraySlice(e,0,s),this.values=$s.arraySlice(t,0,s*r)):(this.times=e,this.values=t),this}clone(){const e=$s.arraySlice(this.times,0),t=$s.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}tp.prototype.TimeBufferType=Float32Array,tp.prototype.ValueBufferType=Float32Array,tp.prototype.DefaultInterpolation=2301;class NS extends tp{}NS.prototype.ValueTypeName="bool",NS.prototype.ValueBufferType=Array,NS.prototype.DefaultInterpolation=2300,NS.prototype.InterpolantFactoryMethodLinear=void 0,NS.prototype.InterpolantFactoryMethodSmooth=void 0;(class IJ extends tp{}).prototype.ValueTypeName="color";(class lL extends tp{}).prototype.ValueTypeName="number";class NRe extends aL{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=(r-t)/(i-t);let c=e*a;for(let h=c+a;c!==h;c+=4)sd.slerpFlat(o,0,s,c-a,s,c,u);return o}}class GT extends tp{InterpolantFactoryMethodLinear(e){return new NRe(this.times,this.values,this.getValueSize(),e)}}GT.prototype.ValueTypeName="quaternion",GT.prototype.DefaultInterpolation=2301,GT.prototype.InterpolantFactoryMethodSmooth=void 0;class FS extends tp{}FS.prototype.ValueTypeName="string",FS.prototype.ValueBufferType=Array,FS.prototype.DefaultInterpolation=2300,FS.prototype.InterpolantFactoryMethodLinear=void 0,FS.prototype.InterpolantFactoryMethodSmooth=void 0;(class uL extends tp{}).prototype.ValueTypeName="vector";new class NJ{constructor(e,t,r){const i=this;let u,o=!1,s=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(h){a++,!1===o&&void 0!==i.onStart&&i.onStart(h,s,a),o=!0},this.itemEnd=function(h){s++,void 0!==i.onProgress&&i.onProgress(h,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(h){void 0!==i.onError&&i.onError(h)},this.resolveURL=function(h){return u?u(h):h},this.setURLModifier=function(h){return u=h,this},this.addHandler=function(h,p){return c.push(h,p),this},this.removeHandler=function(h){const p=c.indexOf(h);return-1!==p&&c.splice(p,2),this},this.getHandler=function(h){for(let p=0,g=c.length;p<g;p+=2){const y=c[p],w=c[p+1];if(y.global&&(y.lastIndex=0),y.test(h))return w}return null}}};class VRe extends Fu{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Rr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class zJ extends VRe{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}const yV="\\[\\]\\.:\\/",iDe=new RegExp("["+yV+"]","g"),_V="[^"+yV+"]",oDe="[^"+yV.replace("\\.","")+"]",cDe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",_V)+/(WCOD+)?/.source.replace("WCOD",oDe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_V)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_V)+"$"),dDe=["material","materials","bones"];class hDe{constructor(e,t,r){const i=r||Is.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}let Is=(()=>{class n{constructor(t,r,i){this.path=r,this.parsedPath=i||n.parseTrackName(r),this.node=n.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,i){return t&&t.isAnimationObjectGroup?new n.Composite(t,r,i):new n(t,r,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(iDe,"")}static parseTrackName(t){const r=cDe.exec(t);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},o=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==o&&-1!==o){const s=i.nodeName.substring(o+1);-1!==dDe.indexOf(s)&&(i.nodeName=i.nodeName.substring(0,o),i.objectName=s)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(r);if(void 0!==i)return i}if(t.children){const i=function(s){for(let a=0;a<s.length;a++){const u=s[a];if(u.name===r||u.uuid===r)return u;const c=i(u.children);if(c)return c}return null},o=i(t.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)t[r++]=i[o]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,i=r.objectName,o=r.propertyName;let s=r.propertyIndex;if(t||(t=n.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(i){let h=r.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let p=0;p<t.length;p++)if(t[p].name===h){h=p;break}break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==h){if(void 0===t[h])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[h]}}const a=t[o];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+o+" but it wasn't found.",t);let u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==s){if("morphTargetInfluences"===o){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[s]&&(s=t.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=hDe,n})();Is.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Is.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Is.prototype.GetterByBindingType=[Is.prototype._getValue_direct,Is.prototype._getValue_array,Is.prototype._getValue_arrayElement,Is.prototype._getValue_toArray],Is.prototype.SetterByBindingTypeAndVersioning=[[Is.prototype._setValue_direct,Is.prototype._setValue_direct_setNeedsUpdate,Is.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Is.prototype._setValue_array,Is.prototype._setValue_array_setNeedsUpdate,Is.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Is.prototype._setValue_arrayElement,Is.prototype._setValue_arrayElement_setNeedsUpdate,Is.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Is.prototype._setValue_fromArray,Is.prototype._setValue_fromArray_setNeedsUpdate,Is.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];function MDe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(r[u]=0,r[256|u]=32768,i[u]=24,i[256|u]=24):c<-14?(r[u]=1024>>-c-14,r[256|u]=1024>>-c-14|32768,i[u]=-c-1,i[256|u]=-c-1):c<=15?(r[u]=c+15<<10,r[256|u]=c+15<<10|32768,i[u]=13,i[256|u]=13):c<128?(r[u]=31744,r[256|u]=64512,i[u]=24,i[256|u]=24):(r[u]=31744,r[256|u]=64512,i[u]=13,i[256|u]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,h=0;for(;0==(8388608&c);)c<<=1,h-=8388608;c&=-8388609,h+=947912704,o[u]=c|h}for(let u=1024;u<2048;++u)o[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)32!==u&&(a[u]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"142"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="142");var CDe=b(4722);let SV=(()=>{class n{constructor(){this.aspectRatio=0,this.Width=0,this.Height=0,this.scene=new qq,this.scene.background=new Rr(16777215),this.render=this.render.bind(this)}OnInit(t,r,i,o,s){this.aspectRatio=t,this.Width=o,this.Height=s,this.createCamera(t,o,s),this.add(new zJ(15790320)),this.createRender(r,i,o,s),this.addControls()}createHelper(){}addControls(){this.controls=new CDe.OrbitControls(this.camera,this.renderer.domElement),this.controls.addEventListener("change",this.render),this.controls.target.set(0,10,0),this.controls.update()}createCamera(t,r,i){t=null===t?this.aspectRatio:t,r=null===r?this.Width:r,i=null===i?this.Height:i,void 0!==this.scene.getObjectByName("camera")&&this.scene.remove(this.camera),this.camera=new Rk(-r/50,r/50,i/50,-i/50,-1e3,1e3),this.camera.position.set(10,-5,5),this.camera.name="camera",this.scene.add(this.camera)}createRender(t,r,i,o){this.renderer=new Zq({preserveDrawingBuffer:!0,canvas:t,alpha:!1,antialias:!0}),this.renderer.setPixelRatio(r),this.renderer.setSize(i,o),this.renderer.shadowMap.enabled=!0}onResize(t,r,i){this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(t),this.renderer.setSize(r,i),this.render()}render(){this.renderer.render(this.scene,this.camera)}getBoundingClientRect(){return this.renderer.domElement.getBoundingClientRect()}add(...t){for(const r of t)this.scene.add(r)}remove(...t){for(const r of t)this.scene.remove(r)}removeByName(...t){for(const r of t){const i=this.scene.getObjectByName(r);void 0!==i&&this.scene.remove(i)}}getSettingJson(){return{camera:{x:this.camera.position.x,y:this.camera.position.y,z:this.camera.position.z}}}clear(){for(;this.scene.children.length>0;)this.scene.remove(this.scene.children[0]);this.createHelper()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ef=(()=>{class n{constructor(){this.pavement={i1:2,i2:2,T:.2},this.display={pavement:!0,slab:!0,beam:!0,mid:!0,gusset01:!0,gusset02:!0,gusset03:!0,cross:!0,cross_u:!1,cross_l:!0,gusset04:!0,crossbeam:!0,endbeam:!0},this.slab={b1:4.25,b2:4.25,b3:.6,i1:2,i2:2,j1:2,j2:2,SH:.55,T1:.2,T2:.1,n:3,Ss:1.025},this.beam={amount_V:4,W:1700,D:310,tw:28,tf:24},this.mid={A:75,B:75,H:1240,t:9,s:0,s_in:160,s_out:160,dz:300,GA1:310,GB1:490,GC1:490,GD1:150,Gt1:9,GA2:230,GB2:250,GC2:120,GD2:150,Gt2:9,Gdx2:0,GA3:340,GB3:290,GC3:100,GD3:340,Gt3:9,Gdx3:0},this.cross={W2:120,D3:180,tf2:12,tw2:12,s_edge:200,s_middle:200,GA4:310,GB4:490,GC4:490,GD4:150,Gt4:9},this.crossbeam={W3:1280,D4:250,tf3:12,tw3:12,s_edge2:0,s_middle2:0,location2:1},this.endbeam={D5:250,tf4:12,tw4:12,s_edge3:0,s_middle3:0},this.others={Name_P:"\u3007\u3007\u6a4b\u6881\u4e88\u5099\u8a2d\u8a08",Name_R:"\u56fd\u9053\u3007\u3007\u53f7\u3007\u3007\u6a4b",Class_R:"\u7b2c3\u7a2e-\u7b2c1\u7d1a",L:30,L_01:29.8,L_02:29,Milepost_B:23.2,Milepost_E:23.23,BP:"NO.1+10.0",BPx:0,BPy:0,BPz:0,EP:"NO.3+0.0",EPx:0,EPy:30,EPz:0,amount_H:6}}palam(){return{others:this.others,display:this.display,pavement:this.pavement,slab:this.slab,beam:this.beam,mid:this.mid,cross:this.cross,crossbeam:this.crossbeam,endbeam:this.endbeam}}set_palam(t){"others"in t&&(this.others=t.others),"display"in t&&(this.display=t.display),"pavement"in t&&(this.pavement=t.pavement),"slab"in t&&(this.slab=t.slab),"beam"in t&&(this.beam=t.beam),"mid"in t&&(this.mid=t.mid),"cross"in t&&(this.cross=t.cross),"crossbeam"in t&&(this.crossbeam=t.crossbeam),"endbeam"in t&&(this.endbeam=t.endbeam)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cQ{parse(e){let t="",r=0,i=0,o=0;const s=new Be,a=new Rr,u=new Be,c=new En,h=[];return e.traverse(function(w){!0===w.isMesh&&function p(w){let S=0,C=0,P=0;const B=w.geometry,z=new wc;if(!0!==B.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const j=B.getAttribute("position"),X=B.getAttribute("normal"),ie=B.getAttribute("uv"),me=B.getIndex();if(t+="o "+w.name+"\n",w.material&&w.material.name&&(t+="usemtl "+w.material.name+"\n"),void 0!==j)for(let re=0,pe=j.count;re<pe;re++,S++)s.fromBufferAttribute(j,re),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z+"\n";if(void 0!==ie)for(let re=0,pe=ie.count;re<pe;re++,P++)c.fromBufferAttribute(ie,re),t+="vt "+c.x+" "+c.y+"\n";if(void 0!==X){z.getNormalMatrix(w.matrixWorld);for(let re=0,pe=X.count;re<pe;re++,C++)u.fromBufferAttribute(X,re),u.applyMatrix3(z).normalize(),t+="vn "+u.x+" "+u.y+" "+u.z+"\n"}if(null!==me)for(let re=0,pe=me.count;re<pe;re+=3){for(let we=0;we<3;we++){const Le=me.getX(re+we)+1;h[we]=r+Le+(X||ie?"/"+(ie?i+Le:"")+(X?"/"+(o+Le):""):"")}t+="f "+h.join(" ")+"\n"}else for(let re=0,pe=j.count;re<pe;re+=3){for(let we=0;we<3;we++){const Le=re+we+1;h[we]=r+Le+(X||ie?"/"+(ie?i+Le:"")+(X?"/"+(o+Le):""):"")}t+="f "+h.join(" ")+"\n"}r+=S,i+=P,o+=C}(w),!0===w.isLine&&function g(w){let S=0;const C=w.geometry,P=w.type;if(!0!==C.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const B=C.getAttribute("position");if(t+="o "+w.name+"\n",void 0!==B)for(let z=0,j=B.count;z<j;z++,S++)s.fromBufferAttribute(B,z),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z+"\n";if("Line"===P){t+="l ";for(let z=1,j=B.count;z<=j;z++)t+=r+z+" ";t+="\n"}if("LineSegments"===P)for(let z=1,j=z+1,X=B.count;z<X;z+=2,j=z+1)t+="l "+(r+z)+" "+(r+j)+"\n";r+=S}(w),!0===w.isPoints&&function y(w){let S=0;const C=w.geometry;if(!0!==C.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const P=C.getAttribute("position"),B=C.getAttribute("color");if(t+="o "+w.name+"\n",void 0!==P){for(let z=0,j=P.count;z<j;z++,S++)s.fromBufferAttribute(P,z),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z,void 0!==B&&(a.fromBufferAttribute(B,z).convertLinearToSRGB(),t+=" "+a.r+" "+a.g+" "+a.b),t+="\n";t+="p ";for(let z=1,j=P.count;z<=j;z++)t+=r+z+" ";t+="\n"}r+=S}(w)}),t}}var xV=b(5226);let tf=(()=>{class n{constructor(){}PolyData(t,r){const i=[];for(let h of t)i.push(new Be(h[r[1]],h[r[2]],h[r[3]]));const o=(new fo).setFromPoints(i),s=new jv({transparent:!0,side:2,color:8359839,opacity:.85}),a=new Mc(o,s),u=new CJ(o),c=new Hk(u,new Sc({color:0}));return a.add(c),a}degrees(t){return t*(180/Math.PI)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XT=(()=>{class n{constructor(t){this.pv=t}CreateBeam(t,r,i,o,s,a){const u=a[0],c=a[1],h=a[2],p=s/2,g=r/2,y=i/2,w=y+o,S=[u-p,c,h-y],C=[u-g,c,h-y],P=[u-g,c,h-w],B=[u+g,c,h-w],z=[u+g,c,h-y],j=[u+p,c,h-y],X=[u+p,c,h+y],ie=[u+g,c,h+y],me=[u+g,c,h+w],re=[u-g,c,h+w],pe=[u-g,c,h+y],we=[u-p,c,h+y],Le=[u-p,c+t,h-y],ot=[u-g,c+t,h-y],lt=[u-g,c+t,h-w],je=[u+g,c+t,h-w],bt=[u+g,c+t,h-y],ye=[u+p,c+t,h-y],Ae=[u+p,c+t,h+y],Ye=[u+g,c+t,h+y],Je=[u+g,c+t,h+w],wt=[u-g,c+t,h+w],Z=[u-g,c+t,h+y],Q=[u-p,c+t,h+y],Me=[C,P,ot],Te=[P,B,lt],Ge=[B,z,je],vt=[z,j,bt],Lt=[j,X,ye],Ot=[X,ie,Ae],ut=[ie,me,Ye],kt=[me,re,Je],pt=[re,pe,wt],At=[pe,we,Z],Nt=[we,S,Q],vn=[ot,Le,C],hn=[lt,ot,P],qn=[je,lt,B],In=[bt,je,z],an=[ye,bt,j],Mn=[Ae,ye,X],Nn=[Ye,Ae,ie],Pe=[Je,Ye,me],xe=[wt,Je,re],Bt=[Z,wt,pe],ln=[Q,Z,we],mn=[Le,Q,S],Bn=this.pv.PolyData([S,C,Le],[3,0,1,2]),wr=this.pv.PolyData(Me,[3,0,1,2]),zt=this.pv.PolyData(Te,[3,0,1,2]),pr=this.pv.PolyData(Ge,[3,0,1,2]),Xn=this.pv.PolyData(vt,[3,0,1,2]),Vn=this.pv.PolyData(Lt,[3,0,1,2]),st=this.pv.PolyData(Ot,[3,0,1,2]),Tn=this.pv.PolyData(ut,[3,0,1,2]),On=this.pv.PolyData(kt,[3,0,1,2]),kr=this.pv.PolyData(pt,[3,0,1,2]),tr=this.pv.PolyData(At,[3,0,1,2]),zr=this.pv.PolyData(Nt,[3,0,1,2]),Pn=this.pv.PolyData(vn,[3,0,1,2]),Lr=this.pv.PolyData(hn,[3,0,1,2]),ei=this.pv.PolyData(qn,[3,0,1,2]),ai=this.pv.PolyData(In,[3,0,1,2]),Fo=this.pv.PolyData(an,[3,0,1,2]),Ho=this.pv.PolyData(Mn,[3,0,1,2]),Es=this.pv.PolyData(Nn,[3,0,1,2]),pa=this.pv.PolyData(Pe,[3,0,1,2]),hu=this.pv.PolyData(xe,[3,0,1,2]),uh=this.pv.PolyData(Bt,[3,0,1,2]),Xu=this.pv.PolyData(ln,[3,0,1,2]),_d=this.pv.PolyData(mn,[3,0,1,2]),Zu=[C,B,z],ch=[S,j,X],Ne=[S,X,we],Vt=[ie,me,re],tn=[ie,re,pe],Xt=[ot,lt,je],cn=[ot,je,bt],Zr=[Le,ye,Ae],ri=[Le,Ae,Q],ci=[Ye,Je,wt],Jr=[Ye,wt,Z],$i=this.pv.PolyData([C,P,B],[3,0,1,2]),_o=this.pv.PolyData(Zu,[3,0,1,2]),Eo=this.pv.PolyData(ch,[3,0,1,2]),Ts=this.pv.PolyData(Ne,[3,0,1,2]),ff=this.pv.PolyData(Vt,[3,0,1,2]),_p=this.pv.PolyData(tn,[3,0,1,2]),Al=this.pv.PolyData(Xt,[3,0,1,2]),Ol=this.pv.PolyData(cn,[3,0,1,2]),lo=this.pv.PolyData(Zr,[3,0,1,2]),Rc=this.pv.PolyData(ri,[3,0,1,2]),Xs=this.pv.PolyData(ci,[3,0,1,2]),Dc=this.pv.PolyData(Jr,[3,0,1,2]),Mi=new Hi;return Mi.add(Bn),Mi.add(wr),Mi.add(zt),Mi.add(pr),Mi.add(Xn),Mi.add(Vn),Mi.add(st),Mi.add(Tn),Mi.add(On),Mi.add(kr),Mi.add(tr),Mi.add(zr),Mi.add(Pn),Mi.add(Lr),Mi.add(ei),Mi.add(ai),Mi.add(Fo),Mi.add(Ho),Mi.add(Es),Mi.add(pa),Mi.add(hu),Mi.add(uh),Mi.add(Xu),Mi.add(_d),Mi.add($i),Mi.add(_o),Mi.add(Eo),Mi.add(Ts),Mi.add(ff),Mi.add(_p),Mi.add(Al),Mi.add(Ol),Mi.add(lo),Mi.add(Rc),Mi.add(Xs),Mi.add(Dc),Mi}}return n.\u0275fac=function(t){return new(t||n)(gt(tf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EDe=(()=>{class n{constructor(t){this.Hsteel=t}Array(t,r,i,o,s,a,u,c,h,p,g){const y=[];let w=-(c-1)*h/2,S=0,C=0;c%2==0?(S=c/2,C=c/2):(S=(c-1)/2+1,C=(c-1)/2);const P=-(a+u)/2;let B=i/2+o;for(let j=0;j<S;j++)y.push([w,P,B]),w+=h,B+=h*p;B-=c%2==0?h*g:h*g*2;for(let j=0;j<S;j++)y.push([w,P,B]),w+=h,B-=h*g;const z=new Hi;for(let j=0;j<c;j++){const X=this.Hsteel.CreateBeam(t,r,i,o,s,y[j]);X.name="Hsteel-01-"+String(j),z.add(X)}return z}}return n.\u0275fac=function(t){return new(t||n)(gt(XT))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dm=(()=>{class n{constructor(){}rotate(t,r,i,o,s){new Be(r[0],r[1],r[2]);const u=Math.floor(i),c=Math.floor(o),h=Math.floor(s);return t.clone().rotateX(u*Math.PI/180).rotateY(c*Math.PI/180).rotateZ(h*Math.PI/180)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nf=(()=>{class n{constructor(){}MoveObject(t,r){const i=new Be(r[0],r[1],r[2]),o=t.clone();return o.position.set(i.x,i.y,i.z),o}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TDe=(()=>{class n{constructor(t,r,i){this.Hsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,h,p,g,y){const w=h-1,S=g-(s+a),C=g-2*a,B=-C/2;let z=r/2+i;const j=this.Hsteel.CreateBeam(S,t,r,i,o,[0,-S/2,z]),X=this.Hsteel.CreateBeam(C,t,r,i,o,[0,B,z]),ie=a-s,me=this.Rotate.rotate(j,[0,0,0],0,0,90),re=this.Move.MoveObject(me,[-ie,0,0]),pe=this.Move.MoveObject(me,[ie,0,0]),we=this.Rotate.rotate(X,[0,0,0],0,0,90),Le=(w-1)*g/2;let ot=0;z=u;const lt=[];for(let ye=0;ye<c;ye++){const Ae=this.Move.MoveObject(re,[-Le,ot,z]),Ye=this.Move.MoveObject(pe,[Le,ot,z]);let Je=-Le+g;lt.push(Ae),lt.push(Ye);for(let wt=0;wt<w-2;wt++){const Z=this.Move.MoveObject(we,[Je,ot,z]);lt.push(Z),Je+=g}ot+=p}const je=new Hi;let bt=0;for(let ye=0;ye<y.length;ye++){let Ae=y[ye]*w;for(let Ye=0;Ye<w;Ye++){const Je=lt[Ae];Je.name="Cr_"+String(bt),je.add(Je),Ae+=1,bt+=1}}return je}}return n.\u0275fac=function(t){return new(t||n)(gt(XT),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RDe=(()=>{class n{constructor(t,r,i,o){this.pv=t,this.Hsteel=r,this.Rotate=i,this.Move=o}Array_V(t,r,i,o,s,a,u,c,h,p,g){const y=Math.sqrt(Math.pow(c/2,2)+Math.pow(h,2))-(s+a),C=this.Hsteel.CreateBeam(y,t,r,i,o,[0,-y/2,r/2+i]),P=s-a;let B=c/4,z=3*c/4;const j=this.Move.MoveObject(C,[P,B,p]),X=this.Move.MoveObject(C,[P,z,p]);let ie=Math.round(10*this.pv.degrees(Math.atan(h/(c/2))))/10;ie*=1==g?1:-1;const me=this.Rotate.rotate(j,[0,B,p],0,0,-ie),re=this.Rotate.rotate(X,[0,z,p],0,0,ie),pe=[];pe.push(me),pe.push(re);const we=new Hi;let Le=0;1==g&&(Le+=2*(u-1));for(let ot=0;ot<u-1;ot++){const lt=this.Move.MoveObject(pe[0],[P,B,p]);lt.name="Lu_"+String(Le),we.add(lt);const je=this.Move.MoveObject(pe[1],[P,z,p]);we.add(je),je.name="Lu_"+String(Le+1),B+=c,z+=c,Le+=2}return we}Array(t,r,i,o,s,a,u,c,h,p,g,y){const w=this.Array_V(t,r,i,o,s,a,u,h,p,g,!1),S=this.Array_V(t,r,i,o,s,a,u,h,p,g,!0);let C=p/2*(c-2);1==y&&(C*=-1);const P=this.Move.MoveObject(w,[-C,0,0]),B=this.Move.MoveObject(S,[C,0,0]),z=new Hi;return z.add(P,B),z}}return n.\u0275fac=function(t){return new(t||n)(gt(tf),gt(XT),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DDe=(()=>{class n{constructor(t,r,i,o){this.pv=t,this.Hsteel=r,this.Rotate=i,this.Move=o}Array_V(t,r,i,o,s,a,u,c,h,p,g){const y=Math.sqrt(Math.pow(c/2,2)+Math.pow(h,2))-(s+a),C=this.Hsteel.CreateBeam(y,t,r,i,o,[0,-y/2,r/2+i]),P=s-a;let B=c/4,z=3*c/4;const j=this.Move.MoveObject(C,[P,B,p]),X=this.Move.MoveObject(C,[P,z,p]);let ie=Math.round(10*this.pv.degrees(Math.atan(h/(c/2))))/10;ie*=1==g?1:-1;const me=this.Rotate.rotate(j,[0,B,p],0,0,-ie),re=this.Rotate.rotate(X,[0,z,p],0,0,ie),pe=[];pe.push(me),pe.push(re);const we=new Hi;let Le=0;1==g&&(Le+=2*(u-1));for(let ot=0;ot<u-1;ot++){const lt=this.Move.MoveObject(pe[0],[P,B,p]);lt.name="Ll_"+String(Le),we.add(lt);const je=this.Move.MoveObject(pe[1],[P,z,p]);we.add(je),je.name="Ll_"+String(Le+1),B+=c,z+=c,Le+=2}return we}Array(t,r,i,o,s,a,u,c,h,p,g,y){const w=this.Array_V(t,r,i,o,s,a,u,h,p,g,!1),S=this.Array_V(t,r,i,o,s,a,u,h,p,g,!0);let C=p/2*(c-2);1==y&&(C*=-1);const P=this.Move.MoveObject(w,[-C,0,0]),B=this.Move.MoveObject(S,[C,0,0]),z=new Hi;return z.add(P,B),z}}return n.\u0275fac=function(t){return new(t||n)(gt(tf),gt(XT),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ADe=(()=>{class n{constructor(t,r,i){this.Hsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,h,p){const g=h-1,y=p-(s+a),w=p-2*a,C=-w/2;let P=r/2+i;const B=this.Hsteel.CreateBeam(y,t,r,i,o,[0,-y/2,P]),z=this.Hsteel.CreateBeam(w,t,r,i,o,[0,C,P]),j=a-s,X=this.Rotate.rotate(B,[0,0,0],0,0,90),ie=this.Rotate.rotate(z,[0,0,0],0,0,90),me=p/2*(g-1)+j/2;P=u;let re=0,pe=0;const we=new Hi;for(let Le=0;Le<2;Le++){const ot=this.Move.MoveObject(X,[-me,re,P]);ot.name="Cu_"+String(pe),we.add(ot);let lt=pe+1,je=p/2*(g-1)-p;for(let ye=0;ye<g-2;ye++){const Ae=this.Move.MoveObject(ie,[-je,re,P]);Ae.name="Cu_"+String(lt),we.add(Ae),je-=p,lt+=1}pe+=g-1;const bt=this.Move.MoveObject(X,[me,re,P]);bt.name="Cu_"+String(pe),we.add(bt),pe+=1,re+=c}return we}}return n.\u0275fac=function(t){return new(t||n)(gt(XT),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ODe=(()=>{class n{constructor(t,r,i){this.pv=t,this.Rotate=r,this.Move=i}Create_Lsteel_R(t,r,i,o){const s=[],a=new Hi;s.push([[0,0,0],[r,0,0],[r,i,0],[i,i,0],[i,t,0],[0,t,0]]),s.push([[0,0,o],[r,0,o],[r,i,o],[i,i,o],[i,t,o],[0,t,o]]);for(let Q=0;Q<s.length-1;Q++){const fe=s[Q],Me=s[Q+1],Te=fe.concat();Te.splice(0,1),Te.push(fe[0]);const Ge=Me.concat();Ge.splice(0,1),Ge.push(Me[0]);for(let vt=0;vt<fe.length;vt++){const Ot=[Me[vt],Ge[vt],Te[vt]],ut=this.pv.PolyData([fe[vt],Te[vt],Me[vt]],[3,0,1,2]),kt=this.pv.PolyData(Ot,[3,0,1,2]);a.add(kt,ut)}}const j=s[0],X=s[s.length-1],me=[j[0],j[2],j[3]],re=[j[0],j[3],j[4]],pe=[j[0],j[4],j[5]],we=[X[0],X[1],X[2]],Le=[X[0],X[2],X[3]],ot=[X[0],X[3],X[4]],lt=[X[0],X[4],X[5]],je=this.pv.PolyData([j[0],j[1],j[2]],[3,0,1,2]),bt=this.pv.PolyData(me,[3,0,1,2]),ye=this.pv.PolyData(re,[3,0,1,2]),Ae=this.pv.PolyData(pe,[3,0,1,2]),Ye=this.pv.PolyData(we,[3,0,1,2]),Je=this.pv.PolyData(Le,[3,0,1,2]),wt=this.pv.PolyData(ot,[3,0,1,2]),Z=this.pv.PolyData(lt,[3,0,1,2]);return a.add(je,bt,ye,Ae,Ye,Je,wt,Z),a}Create_Lsteel_L(t,r,i,o){const s=[],a=new Hi;s.push([[0,0,0],[-r,0,0],[-r,i,0],[-i,i,0],[-i,t,0],[0,t,0]]),s.push([[0,0,o],[-r,0,o],[-r,i,o],[-i,i,o],[-i,t,o],[0,t,o]]);for(let Q=0;Q<s.length-1;Q++){const fe=s[Q],Me=s[Q+1],Te=fe.concat();Te.splice(0,1),Te.push(fe[0]);const Ge=Me.concat();Ge.splice(0,1),Ge.push(Me[0]);for(let vt=0;vt<fe.length;vt++){const Ot=[Me[vt],Ge[vt],Te[vt]],ut=this.pv.PolyData([fe[vt],Te[vt],Me[vt]],[3,0,1,2]),kt=this.pv.PolyData(Ot,[3,0,1,2]);a.add(ut,kt)}}const j=s[0],X=s[s.length-1],me=[j[0],j[2],j[3]],re=[j[0],j[3],j[4]],pe=[j[0],j[4],j[5]],we=[X[0],X[1],X[2]],Le=[X[0],X[2],X[3]],ot=[X[0],X[3],X[4]],lt=[X[0],X[4],X[5]],je=this.pv.PolyData([j[0],j[1],j[2]],[3,0,1,2]),bt=this.pv.PolyData(me,[3,0,1,2]),ye=this.pv.PolyData(re,[3,0,1,2]),Ae=this.pv.PolyData(pe,[3,0,1,2]),Ye=this.pv.PolyData(we,[3,0,1,2]),Je=this.pv.PolyData(Le,[3,0,1,2]),wt=this.pv.PolyData(ot,[3,0,1,2]),Z=this.pv.PolyData(lt,[3,0,1,2]);return a.add(je,bt,ye,Ae,Ye,Je,wt,Z),a}exchange(t,r,i){const o=this.Rotate.rotate(t,[0,0,0],0,r,0);return this.Move.MoveObject(o,i)}add_LSteel_R(t,r,i,o,s,a,u,c,h){const p=Math.sqrt(Math.pow(o,2)+Math.pow(s,2))-(a+u),g=a*s/(p+a+u),y=a*o/(p+a+u)+c+h,w=this.Create_Lsteel_R(t,r,i,p),S=Math.round(10*this.pv.degrees(Math.atan(s/o)))/10;return this.exchange(w,S,[g,0,y])}add_LSteel_L(t,r,i,o,s,a,u,c,h){const p=Math.sqrt(Math.pow(o,2)+Math.pow(s,2))-(a+u),g=-a*s/(p+a+u),y=a*o/(p+a+u)+c+h,w=this.Create_Lsteel_L(t,r,i,p),S=-Math.round(10*this.pv.degrees(Math.atan(s/o)))/10;return this.exchange(w,S,[g,0,y])}add_LSteel_T(t,r,i,o,s,a,u,c){const h=2*a-2*o,p=h/2,g=s+u+c,y=this.Create_Lsteel_L(t,r,i,h);return this.exchange(y,-90,[p,0,g])}add_LSteel_D(t,r,i,o,s,a,u){const c=2*s-2*o,h=c/2,p=a+u,g=this.Create_Lsteel_L(t,r,i,c);return this.exchange(g,90,[-h,0,p])}add_LSteel(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P,B,z,j){const X=this.add_LSteel_R(t,r,i,w,S,P,B,z,j),ie=this.add_LSteel_L(o,s,a,w,S,P,B,z,j),me=this.add_LSteel_T(u,c,h,C,w,S,z,j),re=this.add_LSteel_D(p,g,y,C,S,z,j),pe=[];return pe.push(ie,X,me,re),pe}}return n.\u0275fac=function(t){return new(t||n)(gt(tf),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kDe=(()=>{class n{constructor(t,r,i){this.Lsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P,B,z,j,X,ie,me,re,pe){const we=this.Lsteel.add_LSteel(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P,B,z,j),Le=[],ot=[],lt=[],je=[],bt=[],ye=[],Ae=[],Ye=[],Je=Math.sqrt(Math.pow(w,2)+Math.pow(S,2))-(P+B);let wt=0;const Z=P*w/(Je+P+B)+z+j;for(let ut=0;ut<X;ut++){let kt=P*S/(Je+P+B)-(ie-2)*re/2;for(let pt=0;pt<ie-1;pt++)Le.push([kt,wt,Z]),kt+=re;wt+=me}for(let ut=0;ut<pe.length;ut++){let kt=pe[ut]*(ie-1);for(let pt=0;pt<ie-1;pt++)bt.push(Le[kt]),kt+=1}let Q=0;const fe=P*w/(Je+P+B)+z+j;for(let ut=0;ut<X;ut++){let kt=-P*S/(Je+P+B)-(ie-2)*re/2;for(let pt=0;pt<ie-1;pt++)ot.push([kt,Q,fe]),kt+=re;Q+=me}for(let ut=0;ut<pe.length;ut++){let kt=pe[ut]*(ie-1);for(let pt=0;pt<ie-1;pt++)ye.push(ot[kt]),kt+=1}const Me=2*S-2*C;let Te=0;const Ge=w+z+j;for(let ut=0;ut<X;ut++){let kt=Me/2-(ie-2)*re/2;for(let pt=0;pt<ie-1;pt++)lt.push([kt,Te,Ge]),kt+=re;Te+=me}for(let ut=0;ut<pe.length;ut++){let kt=pe[ut]*(ie-1);for(let pt=0;pt<ie-1;pt++)Ae.push(lt[kt]),kt+=1}let vt=0;const Lt=z+j;for(let ut=0;ut<X;ut++){let kt=-Me/2-(ie-2)*re/2;for(let pt=0;pt<ie-1;pt++)je.push([kt,vt,Lt]),kt+=re;vt+=me}for(let ut=0;ut<pe.length;ut++){let kt=pe[ut]*(ie-1);for(let pt=0;pt<ie-1;pt++)Ye.push(je[kt]),kt+=1}const Ot=new Hi;for(let ut=0;ut<bt.length;ut++){const kt=this.Move.MoveObject(we[0],ye[ut]);kt.name="Cfl_"+String(ut),Ot.add(kt);const pt=this.Move.MoveObject(we[1],bt[ut]);pt.name="Cfr_"+String(ut),Ot.add(pt);const At=this.Move.MoveObject(we[2],Ae[ut]);At.name="Cft_"+String(ut),Ot.add(At);const Nt=this.Move.MoveObject(we[3],Ye[ut]);Nt.name="Cfd_"+String(ut),Ot.add(Nt)}return Ot}}return n.\u0275fac=function(t){return new(t||n)(gt(ODe),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dQ=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a){const u=[],c=new Hi,h=a[0],p=a[1],g=a[2],y=h-i/2,w=h-r/2,S=h+r/2,C=h+i/2,B=p-s,z=g,j=g+o,X=g+t,ie=[h,p,g],me=[y,p,z],re=[y,p,j],pe=[w,p,X],we=[S,p,X],Le=[C,p,j],ot=[C,p,z];u.push([ie,me,re,pe,we,Le,ot]);const lt=[h,B,g],je=[y,B,z],bt=[y,B,j],ye=[w,B,X],Ae=[S,B,X],Ye=[C,B,j],Je=[C,B,z];u.push([lt,je,bt,ye,Ae,Ye,Je]);for(let Mn=0;Mn<u.length-1;Mn++){const Nn=u[Mn],Pe=u[Mn+1],xe=Nn.concat();xe.splice(0,1),xe.push(Nn[0]);const Bt=Pe.concat();Bt.splice(0,1),Bt.push(Pe[0]);for(let ln=0;ln<Nn.length;ln++){const Bn=[Pe[ln],Bt[ln],xe[ln]],wr=this.pv.PolyData([Nn[ln],xe[ln],Pe[ln]],[3,0,1,2]),zt=this.pv.PolyData(Bn,[3,0,1,2]);c.add(wr,zt)}}const Z=[ie,re,pe],Q=[ie,pe,we],fe=[ie,we,Le],Me=[ie,Le,ot],Te=[lt,je,bt],Ge=[lt,bt,ye],vt=[lt,ye,Ae],Lt=[lt,Ae,Ye],Ot=[lt,Ye,Je],ut=this.pv.PolyData([ie,me,re],[3,0,1,2]),kt=this.pv.PolyData(Z,[3,0,1,2]),pt=this.pv.PolyData(Q,[3,0,1,2]),At=this.pv.PolyData(fe,[3,0,1,2]),Nt=this.pv.PolyData(Me,[3,0,1,2]),vn=this.pv.PolyData(Te,[3,0,1,2]),hn=this.pv.PolyData(Ge,[3,0,1,2]),qn=this.pv.PolyData(vt,[3,0,1,2]),In=this.pv.PolyData(Lt,[3,0,1,2]),an=this.pv.PolyData(Ot,[3,0,1,2]);return c.add(ut,kt,pt,At,Nt,vn,hn,qn,In,an),c}}return n.\u0275fac=function(t){return new(t||n)(gt(tf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LDe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,h,p,g,y){const w=[],S=[];let C=0;const P=a+u,B=new Hi;for(let z=0;z<c;z++){let j=-g/2*(h-2);for(let X=0;X<h-1;X++)w.push([j,C,P]),j+=g;C+=p}for(let z=0;z<y.length;z++){let j=y[z]*(h-1);for(let X=0;X<h-1;X++)S.push(w[j]),j+=1}for(let z=0;z<S.length;z++){const j=this.Gusset.CreateGusset(t,r,i,o,s,S[z]);j.name="PL1_"+String(z),B.add(j)}return B}}return n.\u0275fac=function(t){return new(t||n)(gt(dQ))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hQ=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a,u){const c=[],h=new Hi,p=a[0],g=a[1],y=a[2];let w=1;!0===u&&(w*=-1);const S=p,C=p+i*w,P=p+r*w,z=g-s,j=y+t,X=y+o,ie=y,me=[S,g,ie],re=[S,g,j],pe=[C,g,j],we=[P,g,X],Le=[P,g,ie];c.push([me,re,pe,we,Le]);const ot=[S,z,ie],lt=[S,z,j],je=[C,z,j],bt=[P,z,X],ye=[P,z,ie];c.push([ot,lt,je,bt,ye]);for(let Ot=0;Ot<c.length-1;Ot++){const ut=c[Ot],kt=c[Ot+1],pt=ut.concat();pt.splice(0,1),pt.push(ut[0]);const At=kt.concat();At.splice(0,1),At.push(kt[0]);for(let Nt=0;Nt<ut.length;Nt++){const hn=[kt[Nt],At[Nt],pt[Nt]],qn=this.pv.PolyData([ut[Nt],pt[Nt],kt[Nt]],[3,0,1,2]),In=this.pv.PolyData(hn,[3,0,1,2]);h.add(qn,In)}}const Ye=[me,pe,we],Je=[me,we,Le],wt=[ot,lt,je],Z=[ot,je,bt],Q=[ot,bt,ye],fe=this.pv.PolyData([me,re,pe],[3,0,1,2]),Me=this.pv.PolyData(Ye,[3,0,1,2]),Te=this.pv.PolyData(Je,[3,0,1,2]),Ge=this.pv.PolyData(wt,[3,0,1,2]),vt=this.pv.PolyData(Z,[3,0,1,2]),Lt=this.pv.PolyData(Q,[3,0,1,2]);return h.add(fe,Me,Te,Ge,vt,Lt),h}}return n.\u0275fac=function(t){return new(t||n)(gt(tf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PDe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,h,p,g,y,w){const S=[],C=[],P=[],B=[];let z=0;const j=a+c,X=new Hi;for(let me=0;me<h;me++){let re=-y/2*(p-1)+u;for(let pe=0;pe<p-1;pe++)S.push([re,z,j]),re+=y;z+=g}for(let me=0;me<w.length;me++){let re=w[me]*(p-1);for(let pe=0;pe<p-1;pe++)C.push(S[re]),re+=1}z=0;for(let me=0;me<h;me++){let re=-y/2*(p-3)-u;for(let pe=0;pe<p-1;pe++)P.push([re,z,j]),re+=y;z+=g}for(let me=0;me<w.length;me++){let re=w[me]*(p-1);for(let pe=0;pe<p-1;pe++)B.push(P[re]),re+=1}let ie=0;for(let me=0;me<C.length;me++){const re=this.Gusset.CreateGusset(t,r,i,o,s,C[me],!1);re.name="PL2_"+String(ie);const pe=this.Gusset.CreateGusset(t,r,i,o,s,B[me],!0);pe.name="PL2_"+String(ie+1),X.add(re),X.add(pe),ie+=2}return X}}return n.\u0275fac=function(t){return new(t||n)(gt(hQ))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IDe=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a,u){const c=[],h=new Hi,p=a[0],g=a[1],y=a[2];let w=1;!0===u&&(w*=-1);const S=p+r*w,C=p+i*w,P=p,z=g-s,j=y,X=y-o,ie=y-t,me=[P,g,j],re=[S,g,j],pe=[S,g,X],we=[C,g,ie],Le=[P,g,ie];c.push([me,re,pe,we,Le]);const ot=[P,z,j],lt=[S,z,j],je=[S,z,X],bt=[C,z,ie],ye=[P,z,ie];c.push([ot,lt,je,bt,ye]);for(let Ot=0;Ot<c.length-1;Ot++){const ut=c[Ot],kt=c[Ot+1],pt=ut.concat();pt.splice(0,1),pt.push(ut[0]);const At=kt.concat();At.splice(0,1),At.push(kt[0]);for(let Nt=0;Nt<ut.length;Nt++){const hn=[kt[Nt],At[Nt],pt[Nt]],qn=this.pv.PolyData([ut[Nt],pt[Nt],kt[Nt]],[3,0,1,2]),In=this.pv.PolyData(hn,[3,0,1,2]);h.add(qn,In)}}const Ye=[me,pe,we],Je=[me,we,Le],wt=[ot,lt,je],Z=[ot,je,bt],Q=[ot,bt,ye],fe=this.pv.PolyData([me,re,pe],[3,0,1,2]),Me=this.pv.PolyData(Ye,[3,0,1,2]),Te=this.pv.PolyData(Je,[3,0,1,2]),Ge=this.pv.PolyData(wt,[3,0,1,2]),vt=this.pv.PolyData(Z,[3,0,1,2]),Lt=this.pv.PolyData(Q,[3,0,1,2]);return h.add(fe,Me,Te,Ge,vt,Lt),h}}return n.\u0275fac=function(t){return new(t||n)(gt(tf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NDe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,h,p,g,y,w,S){const C=[],P=[],B=[],z=[];let j=0;const X=a+c+h,ie=new Hi;for(let re=0;re<p;re++){let pe=-w/2*(g-1)+u;for(let we=0;we<g-1;we++)C.push([pe,j,X]),pe+=w;j+=y}for(let re=0;re<S.length;re++){let pe=S[re]*(g-1);for(let we=0;we<g-1;we++)P.push(C[pe]),pe+=1}j=0;for(let re=0;re<p;re++){let pe=-w/2*(g-3)-u;for(let we=0;we<g-1;we++)B.push([pe,j,X]),pe+=w;j+=y}for(let re=0;re<S.length;re++){let pe=S[re]*(g-1);for(let we=0;we<g-1;we++)z.push(B[pe]),pe+=1}let me=0;for(let re=0;re<P.length;re++){const pe=this.Gusset.CreateGusset(t,r,i,o,s,P[re],!1);pe.name="PL3_"+String(me);const we=this.Gusset.CreateGusset(t,r,i,o,s,z[re],!0);we.name="PL3_"+String(me+1),ie.add(pe),ie.add(we),me+=2}return ie}}return n.\u0275fac=function(t){return new(t||n)(gt(IDe))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FDe=(()=>{class n{constructor(t,r,i,o){this.Gusset=t,this.Gusset2=r,this.Rotate=i,this.Move=o}Array_l(t,r,i,o,s,a,u,c,h,p,g,y){const w=[],S=[],C=[],P=[],z=-g/2*(h-1)+u/2,j=-g/2*(h-3)-u/2,X=g/2*(h-1)-u/2,ie=g/2*(h-3)+u/2;let me=1,re=1,pe=1;1==y?(me*=1,re+=1):(me*=2,pe+=1);let we=p/2*(3-me),Le=p/2*me;const ot=a-s,lt=new Hi;let je=0;for(let Mn=0;Mn<c-re;Mn++)w.push([z,we+je,ot]),je+=p;je=0;for(let Mn=0;Mn<c-pe;Mn++)S.push([j,Le+je,ot]),je+=p;je=0;for(let Mn=0;Mn<c-re;Mn++)C.push([X,we+je,ot]),je+=p;je=0;for(let Mn=0;Mn<c-pe;Mn++)P.push([ie,Le+je,ot]),je+=p;const bt=w,ye=S,Ae=C,Ye=P,Je=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),wt=this.Rotate.rotate(Je,[0,0,0],0,90,90),Z=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),Q=this.Rotate.rotate(Z,[0,0,0],0,-90,-90);let fe=0;for(let Mn=0;Mn<bt.length;Mn++){const Nn=this.Move.MoveObject(wt,bt[Mn]);Nn.name="PL4l_"+String(fe),lt.add(Nn),fe+=1}for(let Mn=0;Mn<ye.length;Mn++){const Nn=this.Move.MoveObject(Q,ye[Mn]);Nn.name="PL4l_"+String(fe),lt.add(Nn),fe+=1}for(let Mn=0;Mn<Ae.length;Mn++){const Nn=this.Move.MoveObject(Q,Ae[Mn]);Nn.name="PL4l_"+String(fe),lt.add(Nn),fe+=1}for(let Mn=0;Mn<Ye.length;Mn++){const Nn=this.Move.MoveObject(wt,Ye[Mn]);Nn.name="PL4l_"+String(fe),lt.add(Nn),fe+=1}const Me=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),Te=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),Ge=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),vt=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),Lt=this.Rotate.rotate(Me,[0,0,0],0,90,90),Ot=this.Rotate.rotate(Te,[0,0,0],0,-90,-90),ut=this.Rotate.rotate(Ge,[0,0,0],0,90,90),kt=this.Rotate.rotate(vt,[0,0,0],0,-90,-90),At=[X,0,ot],Nt=[z,p*(c-1),ot],vn=[X,p*(c-1),ot],hn=this.Move.MoveObject(Lt,[z,0,ot]);hn.name="PL4l_"+String(fe),lt.add(hn);const qn=this.Move.MoveObject(Ot,At);qn.name="PL4l_"+String(fe+1),lt.add(qn);const In=this.Move.MoveObject(ut,Nt);In.name="PL4l_"+String(fe+2),lt.add(In);const an=this.Move.MoveObject(kt,vn);return an.name="PL4l_"+String(fe+3),lt.add(an),lt}Array_u(t,r,i,o,s,a,u,c,h,p,g,y){const w=[],S=[],C=[],P=[],B=-g/2*(h-1)+u/2,z=-g/2*(h-3)-u/2,j=g/2*(h-1)-u/2,X=g/2*(h-3)+u/2;let ie=1,me=1,re=1;1==y?(ie*=1,me+=1):(ie*=2,re+=1);let pe=p/2*(3-ie),we=p/2*ie;const Le=a-s,ot=new Hi;let lt=0;for(let an=0;an<c-me;an++)w.push([B,pe+lt,Le]),lt+=p;lt=0;for(let an=0;an<c-re;an++)S.push([z,we+lt,Le]),lt+=p;lt=0;for(let an=0;an<c-me;an++)C.push([j,pe+lt,Le]),lt+=p;lt=0;for(let an=0;an<c-re;an++)P.push([X,we+lt,Le]),lt+=p;const je=w,bt=S,ye=C,Ae=P,Ye=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),Je=this.Rotate.rotate(Ye,[0,0,0],0,90,90),wt=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),Z=this.Rotate.rotate(wt,[0,0,0],0,-90,-90);let Q=0;for(let an=0;an<je.length;an++){const Mn=this.Move.MoveObject(Je,je[an]);Mn.name="PL4u_"+String(Q),ot.add(Mn),Q+=1}for(let an=0;an<bt.length;an++){const Mn=this.Move.MoveObject(Z,bt[an]);Mn.name="PL4u_"+String(Q),ot.add(Mn),Q+=1}for(let an=0;an<ye.length;an++){const Mn=this.Move.MoveObject(Z,ye[an]);Mn.name="PL4u_"+String(Q),ot.add(Mn),Q+=1}for(let an=0;an<Ae.length;an++){const Mn=this.Move.MoveObject(Je,Ae[an]);Mn.name="PL4u_"+String(Q),ot.add(Mn),Q+=1}const fe=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),Me=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),Te=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),Ge=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),vt=this.Rotate.rotate(fe,[0,0,0],0,-90,-90),Lt=this.Rotate.rotate(Me,[0,0,0],0,90,90),Ot=this.Rotate.rotate(Te,[0,0,0],0,-90,-90),ut=this.Rotate.rotate(Ge,[0,0,0],0,90,90),pt=[X,0,Le],At=[z,p*(c-1),Le],Nt=[X,p*(c-1),Le],vn=this.Move.MoveObject(vt,[z,0,Le]);vn.name="PL4u_"+String(Q),ot.add(vn);const hn=this.Move.MoveObject(Lt,pt);hn.name="PL4u_"+String(Q+1),ot.add(hn);const qn=this.Move.MoveObject(Ot,At);qn.name="PL4u_"+String(Q+2),ot.add(qn);const In=this.Move.MoveObject(ut,Nt);return In.name="PL4u_"+String(Q+3),ot.add(In),ot}}return n.\u0275fac=function(t){return new(t||n)(gt(dQ),gt(hQ),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HDe=(()=>{class n{constructor(t,r){this.pv=t,this.Move=r}selection(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P){const B=S[0],z=S[1],j=S[2],ie=-(t+i),me=r+i,pe=ie+(y-w/2),we=me-(y-w/2),Le=pe+w,ot=we-w,bt=-t*o,Ae=bt-h,Ye=-r*s,Z=Ye-h,Me=B+-t,Te=B+ie,Ge=B+me,vt=B+r,vn=j+(c-h+bt),hn=j+Ae,In=j+(c-h+Ye),an=j+(Ae-(p-(y-i)*a)),Nn=j+(Z-(p-(y-i)*u)),Pe=j+(t*a-(t*o+h)),xe=[B,z,j],Bt=[Me,z,j+bt],ln=[Me,z,vn],mn=[Te,z,vn],Bn=[Te,z,hn],wr=[B+pe,z,an],zt=[B+Le,z,an],pr=[B+(Le+g*p),z,hn],Xn=[B,z,Pe],Vn=[B+(ot-g*p),z,hn],st=[B+ot,z,Nn],Tn=[B+we,z,Nn],On=[Ge,z,j+Z],kr=[Ge,z,In],tr=[vt,z,In],zr=[vt,z,j+Ye],Pn=[xe,Bt,ln,mn,Bn,wr,zt,pr],Lr=[xe,Bt,ln,mn,Bn,wr,zt,pr,Xn,Vn,st,Tn,On,kr,tr,zr],ei=C-2;let ai=ei/2,Fo=1;ei%2==0?Fo=0:ai=(ei-1)/2;let Ho=P/2*-(C-1)+P;const Es=z;let pa=an+P*a;const hu=(w/(2*g)+p)/(a+1/g),uh=(w/(2*g)+p)/(1/g-a),Xu=(w/(2*g)+p)/(u+1/g),_d=(w/(2*g)+p)/(1/g-u),Ku=[];if(1!==ei)for(let Zu=0;Zu<ai;Zu++){const ri=[Ho-hu,Es,pa+(hu-w/2)/g],ci=[Ho-w/2,Es,pa],Jr=[Ho+w/2,Es,pa],$i=[Ho+uh,Es,pa+(uh-w/2)/g];Pn.push(ri,ci,Jr,$i),Ku.push(ri,ci,Jr,$i),Ho+=P,pa+=P*a}if(ei%2==0)Pn.push(Xn);else{pa=Pe-p;for(let Zu=0;Zu<Fo;Zu++){const ri=[Ho-hu,Es,pa+(hu-w/2)/g],ci=[Ho-w/2,Es,pa],Jr=[Ho+w/2,Es,pa],$i=[Ho+Xu,Es,pa+(Xu-w/2)/g];Pn.push(ri,ci,Jr,$i),Ku.push(ri,ci,Jr,$i),Ho+=P}}if(pa-=P*u,1!==ei)for(let Zu=0;Zu<ai;Zu++){const ri=[Ho-Xu,Es,pa+(Xu-w/2)/g],ci=[Ho-w/2,Es,pa],Jr=[Ho+w/2,Es,pa],$i=[Ho+_d,Es,pa+(_d-w/2)/g];Pn.push(ri,ci,Jr,$i),Ku.push(ri,ci,Jr,$i),Ho+=P,pa-=P*u}return Pn.push(Vn,st,Tn,On,kr,tr,zr),[Pn,Lr,Ku]}add_Slab(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P){const B=this.selection(t,r,i,o,s,a,u,c,h,p,g,y,w,[0,0,0],C,P),z=this.selection(t,r,i,o,s,a,u,c,h,p,g,y,w,[0,S,0],C,P),j=[B[0],z[0]],X=new Hi;for(let Nn=0;Nn<j.length-1;Nn++){const Pe=j[Nn],xe=j[Nn+1],Bt=Pe.concat();Bt.splice(0,1),Bt.push(Pe[0]);const ln=xe.concat();ln.splice(0,1),ln.push(xe[0]);for(let mn=0;mn<Pe.length;mn++){const wr=[xe[mn],ln[mn],Bt[mn]],zt=this.pv.PolyData([Pe[mn],Bt[mn],xe[mn]],[3,0,1,2]),pr=this.pv.PolyData(wr,[3,0,1,2]);X.add(zt,pr)}}const ie=B[1],me=B[2],pe=[ie[1],ie[2],ie[3]],we=[ie[1],ie[3],ie[4]],Le=[ie[1],ie[4],ie[5]],ot=[ie[1],ie[5],ie[6]],lt=[ie[1],ie[6],ie[7]],je=[ie[1],ie[7],ie[0]],bt=[ie[0],ie[7],me[0]],ye=[ie[0],ie[9],me[me.length-1]],Ae=[ie[0],ie[9],ie[15]],Ye=[ie[9],ie[10],ie[15]],Je=[ie[10],ie[11],ie[15]],wt=[ie[11],ie[12],ie[15]],Z=[ie[12],ie[13],ie[15]],Q=[ie[13],ie[14],ie[15]],fe=this.pv.PolyData([ie[0],ie[1],ie[15]],[3,0,1,2]),Me=this.pv.PolyData(pe,[3,0,1,2]),Te=this.pv.PolyData(we,[3,0,1,2]),Ge=this.pv.PolyData(Le,[3,0,1,2]),vt=this.pv.PolyData(ot,[3,0,1,2]),Lt=this.pv.PolyData(lt,[3,0,1,2]),Ot=this.pv.PolyData(je,[3,0,1,2]),ut=this.pv.PolyData(bt,[3,0,1,2]),kt=this.pv.PolyData(ye,[3,0,1,2]),pt=this.pv.PolyData(Ae,[3,0,1,2]),At=this.pv.PolyData(Ye,[3,0,1,2]),Nt=this.pv.PolyData(Je,[3,0,1,2]),vn=this.pv.PolyData(wt,[3,0,1,2]),hn=this.pv.PolyData(Z,[3,0,1,2]),qn=this.pv.PolyData(Q,[3,0,1,2]),In=new Hi;In.add(fe,Me,Te,Ge,vt,Lt,Ot,ut,kt,pt,At,Nt,vn,hn,qn);let an=0;for(let Nn=0;Nn<C-2;Nn++){const xe=me[an],ln=me[an+2],mn=me[an+3],wr=[xe,me[an+1],ln],zt=[xe,ln,mn],pr=this.pv.PolyData([ie[0],xe,mn],[3,0,1,2]),Xn=this.pv.PolyData(wr,[3,0,1,2]),Vn=this.pv.PolyData(zt,[3,0,1,2]);In.add(pr,Xn,Vn),an+=4}if(C%2==0){an=(C-4)/2*4+3;const Bt=[ie[0],ie[8],me[an+1]],ln=this.pv.PolyData([ie[0],me[an],ie[8]],[3,0,1,2]),mn=this.pv.PolyData(Bt,[3,0,1,2]);In.add(ln,mn)}else if(C>3){an=(C-5)/2*4+3;const mn=[ie[0],me[an+4],me[an+5]],Bn=this.pv.PolyData([ie[0],me[an],me[an+1]],[3,0,1,2]),wr=this.pv.PolyData(mn,[3,0,1,2]);In.add(Bn,wr)}const Mn=this.Move.MoveObject(In,[0,S,0]);return X.add(In,Mn),X}}return n.\u0275fac=function(t){return new(t||n)(gt(tf),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BDe=(()=>{class n{constructor(t,r){this.pv=t,this.Move=r}selection(t,r,i,o,s,a,u,c){const h=c[0],p=c[1],g=c[2],j=h+-t,X=h+r;return[[h,p,g],[j,p,g+-t*i],[j,p,g+(u-t*s)],[h,p,g+u],[X,p,g+(u-r*a)],[X,p,g+-r*o]]}add_Pavement(t,r,i,o,s,a,u,c,h){const p=h[0],g=h[2],y=this.selection(t,r,i,o,s,a,u,[p,0,g]),S=[y,this.selection(t,r,i,o,s,a,u,[p,c,g])],C=new Hi;for(let ot=0;ot<S.length-1;ot++){const lt=S[ot],je=S[ot+1],bt=lt.concat();bt.splice(0,1),bt.push(lt[0]);const ye=je.concat();ye.splice(0,1),ye.push(je[0]);for(let Ae=0;Ae<lt.length;Ae++){const Je=[je[Ae],ye[Ae],bt[Ae]],wt=this.pv.PolyData([lt[Ae],bt[Ae],je[Ae]],[3,0,1,2]),Z=this.pv.PolyData(Je,[3,0,1,2]);C.add(wt,Z)}}const z=[y[0],y[2],y[3]],j=[y[0],y[3],y[4]],X=[y[0],y[4],y[5]],ie=this.pv.PolyData([y[0],y[1],y[2]],[3,0,1,2]),me=this.pv.PolyData(z,[3,0,1,2]),re=this.pv.PolyData(j,[3,0,1,2]),pe=this.pv.PolyData(X,[3,0,1,2]),we=new Hi;we.add(ie,me,re,pe);const Le=this.Move.MoveObject(we,[0,c,0]);return C.add(we,Le),C}createPavement(t,r,i,o,s,a,u,c){const h=new Hi,p=this.add_Pavement(t,r,i,o,s,a,u,c,[0,0,0]);return p.name="Pv_1",h.add(p),h}}return n.\u0275fac=function(t){return new(t||n)(gt(tf),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rf=(()=>{class n{constructor(t,r,i,o,s,a,u,c,h,p,g,y,w,S,C,P){this.scene=t,this.pv=r,this.ArrayH1=i,this.ArrayH2=o,this.ArrayH3_u=s,this.ArrayH3_l=a,this.ArrayH4=u,this.ArrayL=c,this.ArrayG1=h,this.ArrayG2=p,this.ArrayG3=g,this.ArrayG4=y,this.AddSlab=w,this.AddPavement=S,this.Rotate=C,this.Move=P,this.Exporter=new cQ,this.Cox=0,this.Coy=0,this.Coz=0}createGirder(t){this.scene.clear();const r=t.display,i=r.pavement,o=r.slab,s=r.beam,a=r.mid,u=r.cross_u,c=r.cross_l,h=r.crossbeam,p=r.endbeam,g=r.gusset01,y=r.gusset02,w=r.gusset03,S=r.gusset04,C=t.slab,P=C.b1,B=C.b2,z=C.b3,j=.01*C.i1,X=.01*C.i2,ie=.01*C.j1,me=.01*C.j2,re=C.SH,pe=C.T1,we=C.T2,Le=C.n,ot=C.Ss,je=t.pavement,bt=.01*je.i1,ye=.01*je.i2,Ae=je.T,Ye=t.beam,Je=Ye.amount_V,wt=.001*Ye.W,Z=.001*Ye.D,Q=.001*Ye.tw,fe=.001*Ye.tf,Me=(P+B+2*z-2*ot)/(Je-1),Te=t.mid,Ge=.001*Te.A,vt=.001*Te.B,Lt=.001*Te.t,Ot=.001*Te.A,ut=.001*Te.B,kt=.001*Te.t,pt=.001*Te.A,At=.001*Te.B,Nt=.001*Te.t,vn=.001*Te.A,hn=.001*Te.B,qn=.001*Te.t,In=.001*Te.H,an=.001*Te.s,Mn=Me/2-an,Nn=.001*Te.s_in,Pe=.001*Te.s_out,xe=.001*Te.GA1,Bt=.001*Te.GB1,ln=.001*Te.GC1,mn=.001*Te.GD1,Bn=.001*Te.Gt1,wr=.001*Te.GA2,zt=.001*Te.GB2,pr=.001*Te.GC2,Xn=.001*Te.GD2,Vn=.001*Te.Gt2,st=.001*Te.Gdx2,Tn=.001*Te.GA3,On=.001*Te.GB3,kr=.001*Te.GC3,tr=.001*Te.GD3,zr=.001*Te.Gt3,Pn=.001*Te.Gdx3,Lr=.001*Te.dz,ei=t.cross,ai=.001*ei.W2,Fo=.001*ei.D3,Ho=.001*ei.tf2,Es=.001*ei.tw2,pa=.001*ei.s_edge,hu=.001*ei.s_middle,uh=Lr+In+fe-(ai+2*Ho),Xu=.001*ei.GA4,_d=.001*ei.GB4,Ku=.001*ei.GC4,Zu=.001*ei.GD4,ch=.001*ei.Gt4,Ne=t.crossbeam,Vt=.001*Ne.W3,tn=.001*Ne.D4,Xt=.001*Ne.tf3,cn=.001*Ne.tw3;let Zr=0;1==h&&(Zr=Ne.location2);const ri=.001*Ne.s_edge2,ci=.001*Ne.s_middle2,Jr=t.endbeam,$i=.001*Jr.D5,_o=.001*Jr.tf4,Eo=.001*Jr.tw4,Ts=wt+fe-Lr,ff=.001*Jr.s_edge3,_p=.001*Jr.s_middle3,Al=t.others,Ol=parseFloat(Al.BPx),lo=parseFloat(Al.BPy),Rc=parseFloat(Al.BPz),Xs=parseFloat(Al.EPx),Dc=parseFloat(Al.EPy),Mi=parseFloat(Al.EPz),pf=parseFloat(Al.L_01),Ay=parseFloat(Al.L_02),kl=(pf-Ay)/2,Oy=(pf-Ay)/2,qu=parseFloat(Al.amount_H),Ya=Ay/(qu-1),glt=2*fe+wt+(P*j+pe+(we-(ot-z)*ie));const ylt=(kl+Oy)/2,yR=new Array;for(let bp=0;bp<qu;bp++)yR.push(bp);let ky=yR,Bw=new Array,t8=(yR.length-1)/(Zr+1);for(let bp=0;bp<Zr;bp++){const l8=yR[Math.trunc(t8)+1];Bw.push(l8),t8+=t8}for(let bp=0;bp<Bw.length;bp++)ky=ky.filter(l8=>l8!==Bw[bp]);!0===p&&(ky.shift(),ky.pop()),!1===a&&!0===h&&(Bw=yR,!0===p&&(Bw.shift(),Bw.pop()));let n8=new Hi,Xhe=new Hi,Khe=new Hi,Zhe=new Hi,qhe=new Hi,Jhe=new Hi,Qhe=new Hi,efe=new Hi,tfe=new Hi,nfe=new Hi,rfe=new Hi,ife=new Hi,ofe=new Hi;!0===s&&(Khe=this.ArrayH1.Array(pf,Z,wt,fe,Q,kl,Oy,Je,Me,ie,me)),!0===a&&(Zhe=this.ArrayL.Array(Ge,vt,Lt,Ot,ut,kt,pt,At,Nt,vn,hn,qn,In,Mn,an,Nn,Pe,Lr,fe,qu,Je,Ya,Me,ky)),!0===u&&(qhe=this.ArrayH3_u.Array(Fo,ai,Ho,Es,pa,hu,qu,Je,Ya,Me,uh,!1),!0===S&&(ofe=this.ArrayG4.Array_u(Xu,_d,Ku,Zu,ch,uh,Es,qu,Je,Ya,Me,!1))),!0===c&&(Jhe=this.ArrayH3_l.Array(Fo,ai,Ho,Es,pa,hu,qu,Je,Ya,Me,Lr,!0),!0===S&&(ife=this.ArrayG4.Array_l(Xu,_d,Ku,Zu,ch,Lr,Es,qu,Je,Ya,Me,!0))),!0===h&&(Qhe=this.ArrayH2.Array(tn,Vt,Xt,cn,ri,ci,Lr,qu,Je,Ya,Me,Bw)),!0===p&&(efe=this.ArrayH4.Array($i,Ts,_o,Eo,ff,_p,Lr,Ay,Je,Me)),!0===g&&(tfe=this.ArrayG1.Array(xe,Bt,ln,mn,Bn,Lr,fe,qu,Je,Ya,Me,ky)),!0===y&&(nfe=this.ArrayG2.Array(wr,zt,pr,Xn,Vn,Lr,st,fe,qu,Je,Ya,Me,ky)),!0===w&&(rfe=this.ArrayG3.Array(Tn,On,kr,tr,zr,Lr,Pn,fe,In,qu,Je,Ya,Me,ky)),!0===o&&(n8=this.AddSlab.add_Slab(P,B,z,j,X,ie,me,re,pe,we,Le,ot,Z,pf,Je,Me),n8.name="Slab"),!0===i&&(Xhe=this.AddPavement.createPavement(P,B,j,X,bt,ye,Ae,pf));const sfe=new Hi;sfe.add(Khe,qhe,Jhe,Zhe,Qhe,efe,tfe,nfe,rfe,ofe,ife);const _lt=this.Move.MoveObject(sfe,[0,ylt,-glt-Ae]),blt=this.Move.MoveObject(n8,[0,0,-Ae]),wlt=this.Move.MoveObject(Xhe,[0,0,-Ae]),afe=new Hi;afe.add(blt,_lt,wlt);const lfe=Xs-Ol,ufe=Dc-lo,cfe=Mi-Rc;let r8=0,i8=0;r8=0==cfe?0:this.pv.degrees(Math.atan(cfe/ufe)),i8=0==lfe?0:this.pv.degrees(Math.atan(lfe/ufe));const Mlt=this.Move.MoveObject(afe,[Ol,lo,Rc]),Slt=this.Rotate.rotate(Mlt,[Ol,lo,Rc],r8,0,i8),Clt=lo-5,Elt=Rc+5,Tlt=Math.round(Ol+10),o8=Math.round(Ol),Rlt=Math.round(Clt),s8=Math.round(lo),Dlt=Math.round(Elt),a8=Math.round(Rc);this.Cox==o8&&this.Coy==s8&&this.Coz==a8||(this.scene.camera.position.set(Tlt,Rlt,Dlt),this.scene.controls.target.set(o8,s8,a8),this.scene.controls.update(),this.Cox=o8,this.Coy=s8,this.Coz=a8),this.scene.add(Slt),this.scene.render()}download(){const t=this.Exporter.parse(this.scene.scene),r=new window.Blob([t],{type:"text/plain"});xV.saveAs(r,"test.obj")}}return n.\u0275fac=function(t){return new(t||n)(gt(SV),gt(tf),gt(EDe),gt(TDe),gt(RDe),gt(DDe),gt(ADe),gt(kDe),gt(LDe),gt(PDe),gt(NDe),gt(FDe),gt(HDe),gt(BDe),gt(Dm),gt(nf))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VDe=["myCanvas"];let zDe=(()=>{class n{constructor(t,r,i,o){this.ngZone=t,this.scene=r,this.plam=i,this.model=o,Fu.DefaultUp.set(0,0,1)}get canvas(){return this.canvasRef.nativeElement}ngAfterViewInit(){this.scene.OnInit(window.devicePixelRatio,this.canvas,devicePixelRatio,window.innerWidth,window.innerHeight),this.animate(),this.model.createGirder(this.plam.palam())}ngOnDestroy(){}animate(){this.ngZone.runOutsideAngular(()=>{window.addEventListener("DOMContentLoaded",()=>{this.scene.render()})})}onMouseDown(t){}onMouseUp(t){}onMouseMove(t){}onResize(t){this.scene.onResize(window.devicePixelRatio,window.innerWidth,window.innerHeight)}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(SV),ke(ef),ke(rf))},n.\u0275cmp=Si({type:n,selectors:[["app-three"]],viewQuery:function(t,r){if(1&t&&Sl(VDe,7),2&t){let i;So(i=xo())&&(r.canvasRef=i.first)}},hostBindings:function(t,r){1&t&&at("mousedown",function(o){return r.onMouseDown(o)})("mouseup",function(o){return r.onMouseUp(o)})("mousemove",function(o){return r.onMouseMove(o)})("resize",function(o){return r.onResize(o)},!1,Ph)},decls:2,vars:0,consts:[["id","myCanvas",3,"mousedown","mouseup","mousemove"],["myCanvas",""]],template:function(t,r){1&t&&(te(0,"canvas",0,1),at("mousedown",function(o){return r.onMouseDown(o)})("mouseup",function(o){return r.onMouseUp(o)})("mousemove",function(o){return r.onMouseMove(o)}),se())},styles:["canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0}"]}),n})();class fQ{}class pQ{}class sf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof sf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new sf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof sf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class UDe{encodeKey(e){return mQ(e)}encodeValue(e){return mQ(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const WDe=/%(\d[a-f0-9])/gi,YDe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mQ(n){return encodeURIComponent(n).replace(WDe,(e,t)=>{var r;return null!==(r=YDe[t])&&void 0!==r?r:e})}function _L(n){return`${n}`}class Jv{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new UDe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jDe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(_L):[_L(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Jv({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(_L(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(_L(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class GDe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function gQ(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function vQ(n){return"undefined"!=typeof Blob&&n instanceof Blob}function yQ(n){return"undefined"!=typeof FormData&&n instanceof FormData}class KT{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $De(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new sf),this.context||(this.context=new GDe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Jv,this.urlWithParams=t}serializeBody(){return null===this.body?null:gQ(this.body)||vQ(this.body)||yQ(this.body)||function XDe(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yQ(this.body)?null:vQ(this.body)?this.body.type||null:gQ(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,h=e.params||this.params;const p=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),c)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new KT(r,i,s,{params:h,headers:c,context:p,reportProgress:u,responseType:o,withCredentials:a})}}var za=(()=>((za=za||{})[za.Sent=0]="Sent",za[za.UploadProgress=1]="UploadProgress",za[za.ResponseHeader=2]="ResponseHeader",za[za.DownloadProgress=3]="DownloadProgress",za[za.Response=4]="Response",za[za.User=5]="User",za))();class CV{constructor(e,t=200,r="OK"){this.headers=e.headers||new sf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class EV extends CV{constructor(e={}){super(e),this.type=za.ResponseHeader}clone(e={}){return new EV({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bL extends CV{constructor(e={}){super(e),this.type=za.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new bL({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _Q extends CV{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function TV(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wL=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof KT)o=t;else{let u,c;u=i.headers instanceof sf?i.headers:new sf(i.headers),i.params&&(c=i.params instanceof Jv?i.params:new Jv({fromObject:i.params})),o=new KT(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=Fr(o).pipe(Ov(u=>this.handler.handle(u)));if(t instanceof KT||"events"===i.observe)return s;const a=s.pipe(Ia(u=>u instanceof bL));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Dn(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Dn(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Dn(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Dn(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Jv).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,TV(i,r))}post(t,r,i={}){return this.request("POST",t,TV(i,r))}put(t,r,i={}){return this.request("PUT",t,TV(i,r))}}return n.\u0275fac=function(t){return new(t||n)(gt(fQ))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();class bQ{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const wQ=new An("HTTP_INTERCEPTORS");let KDe=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const ZDe=/^\)\]\}',?\n/;let MQ=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ht(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((y,w)=>i.setRequestHeader(y,w.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&i.setRequestHeader("Content-Type",y)}if(t.responseType){const y=t.responseType.toLowerCase();i.responseType="json"!==y?y:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const y=i.statusText||"OK",w=new sf(i.getAllResponseHeaders()),S=function qDe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new EV({headers:w,status:i.status,statusText:y,url:S}),s},u=()=>{let{headers:y,status:w,statusText:S,url:C}=a(),P=null;204!==w&&(P=void 0===i.response?i.responseText:i.response),0===w&&(w=P?200:0);let B=w>=200&&w<300;if("json"===t.responseType&&"string"==typeof P){const z=P;P=P.replace(ZDe,"");try{P=""!==P?JSON.parse(P):null}catch(j){P=z,B&&(B=!1,P={error:j,text:P})}}B?(r.next(new bL({body:P,headers:y,status:w,statusText:S,url:C||void 0})),r.complete()):r.error(new _Q({error:P,headers:y,status:w,statusText:S,url:C||void 0}))},c=y=>{const{url:w}=a(),S=new _Q({error:y,status:i.status||0,statusText:i.statusText||"Unknown Error",url:w||void 0});r.error(S)};let h=!1;const p=y=>{h||(r.next(a()),h=!0);let w={type:za.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),"text"===t.responseType&&!!i.responseText&&(w.partialText=i.responseText),r.next(w)},g=y=>{let w={type:za.UploadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),r.next(w)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",p),null!==o&&i.upload&&i.upload.addEventListener("progress",g)),i.send(o),r.next({type:za.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",p),null!==o&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(gt(p$))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const RV=new An("XSRF_COOKIE_NAME"),DV=new An("XSRF_HEADER_NAME");class SQ{}let JDe=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=n$(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(gt(ki),gt(LA),gt(RV))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),AV=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(gt(SQ),gt(DV))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),QDe=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(wQ,[]);this.chain=r.reduceRight((i,o)=>new bQ(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(gt(pQ),gt(Ms))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),eAe=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:AV,useClass:KDe}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:RV,useValue:t.cookieName}:[],t.headerName?{provide:DV,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({providers:[AV,{provide:wQ,useExisting:AV,multi:!0},{provide:SQ,useClass:JDe},{provide:RV,useValue:"XSRF-TOKEN"},{provide:DV,useValue:"X-XSRF-TOKEN"}]}),n})(),tAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({providers:[wL,{provide:fQ,useClass:QDe},MQ,{provide:pQ,useExisting:MQ}],imports:[eAe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var nAe=b(3770);function xQ(n,e){return e?t=>KE(e.pipe(al(1),function rAe(){return Yn((n,e)=>{n.subscribe(Hn(e,$))})}()),t.pipe(xQ(n))):Yo((t,r)=>n(t,r).pipe(al(1),z$(t)))}function CQ(n,e=NO){const t=WK(n,e);return xQ(()=>t)}const iAe=["mat-menu-item",""];function oAe(n,e){1&n&&(rs(),te(0,"svg",2),oe(1,"polygon",3),se())}const EQ=["*"];function sAe(n,e){if(1&n){const t=Se();te(0,"div",0),at("keydown",function(i){return Za(t),Zs(Yt()._handleKeydown(i))})("click",function(){return Za(t),Zs(Yt().closed.emit("click"))})("@transformMenu.start",function(i){return Za(t),Zs(Yt()._onAnimationStart(i))})("@transformMenu.done",function(i){return Za(t),Zs(Yt()._onAnimationDone(i))}),te(1,"div",1),Kn(2),se()()}if(2&n){const t=Yt();V("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Ko("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const ML={transformMenu:XM("transformMenu",[ym("void",zl({opacity:0,transform:"scale(0.8)"})),Kf("void => enter",Xf("120ms cubic-bezier(0, 0, 0.2, 1)",zl({opacity:1,transform:"scale(1)"}))),Kf("* => void",Xf("100ms 25ms linear",zl({opacity:0})))]),fadeInItems:XM("fadeInItems",[ym("showing",zl({opacity:1})),Kf("void => *",[zl({opacity:0}),Xf("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},aAe=new An("MatMenuContent"),OV=new An("MAT_MENU_PANEL"),lAe=gT(YO(class{}));let SL=(()=>{class n extends lAe{constructor(t,r,i,o,s){var a;super(),this._elementRef=t,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new Ht,this._focused=new Ht,this._highlighted=!1,this._triggersSubmenu=!1,null===(a=null==o?void 0:o.addItem)||void 0===a||a.call(o,this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t;const r=this._elementRef.nativeElement.cloneNode(!0),i=r.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<i.length;o++)i[o].remove();return(null===(t=r.textContent)||void 0===t?void 0:t.trim())||""}_setHighlighted(t){var r;this._highlighted=t,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(ki),ke(gm),ke(OV,8),ke(Pu))},n.\u0275cmp=Si({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,r){1&t&&at("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(Ko("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),Fi("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[mr],attrs:iAe,ngContentSelectors:EQ,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&($n(),Kn(0),oe(1,"div",0),k(2,oAe,2,0,"svg",1)),2&t&&(Er(1),V("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),Er(1),V("ngIf",r._triggersSubmenu))},dependencies:[GE,$M],encapsulation:2,changeDetection:0}),n})();const TQ=new An("mat-menu-default-options",{providedIn:"root",factory:function uAe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let cAe=0,ZT=(()=>{class n{constructor(t,r,i,o){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new TM,this._tabSubscription=N.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Ht,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new go,this.close=this.closed,this.panelId="mat-menu-panel-"+cAe++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=ba(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=ba(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new PK(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(dm(this._directDescendantItems),Xd(t=>Oc(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{var r;const i=this._keyManager;if("enter"===this._panelAnimationState&&(null===(r=i.activeItem)||void 0===r?void 0:r._hasFocus())){const o=t.toArray(),s=Math.max(0,Math.min(o.length-1,i.activeItemIndex||0));o[s]&&!o[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(dm(this._directDescendantItems),Xd(r=>Oc(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:ib(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(al(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){var i;const o=this._classList;o["mat-menu-before"]="before"===t,o["mat-menu-after"]="after"===t,o["mat-menu-above"]="above"===r,o["mat-menu-below"]="below"===r,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(dm(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(wi),ke(TQ),ke(Pu))},n.\u0275dir=Ln({type:n,contentQueries:function(t,r,i){if(1&t&&(ol(i,aAe,5),ol(i,SL,5),ol(i,SL,4)),2&t){let o;So(o=xo())&&(r.lazyContent=o.first),So(o=xo())&&(r._allItems=o),So(o=xo())&&(r.items=o)}},viewQuery:function(t,r){if(1&t&&Sl(il,5),2&t){let i;So(i=xo())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),dAe=(()=>{class n extends ZT{constructor(t,r,i,o){super(t,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(wi),ke(TQ),ke(Pu))},n.\u0275cmp=Si({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&Ko("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Oi([{provide:OV,useExisting:n}]),mr],ngContentSelectors:EQ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&($n(),k(0,sAe,3,6,"ng-template"))},dependencies:[r$],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ML.transformMenu,ML.fadeInItems]},changeDetection:0}),n})();const RQ=new An("mat-menu-scroll-strategy"),fAe={provide:RQ,deps:[Iv],useFactory:function hAe(n){return()=>n.scrollStrategies.reposition()}},DQ=UM({passive:!0});let pAe=(()=>{class n{constructor(t,r,i,o,s,a,u,c,h){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=u,this._focusMonitor=c,this._ngZone=h,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=N.EMPTY,this._hoverSubscription=N.EMPTY,this._menuCloseSubscription=N.EMPTY,this._handleTouchStart=p=>{$3(p)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new go,this.onMenuOpen=this.menuOpened,this.menuClosed=new go,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof ZT?s:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,DQ),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,DQ),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const r=this._createOverlay(t),i=r.getConfig(),o=i.positionStrategy;this._setPosition(t,o),i.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof ZT&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Nu(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){var t;null===(t=this.menu)||void 0===t||t.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){var t;null===(t=this._overlayRef)||void 0===t||t.updatePosition()}_destroyMenu(t){var r;if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof ZT?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Ia(o=>"void"===o.toState),al(1),Nu(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),null===(r=null==i?void 0:i.lazyContent)||void 0===r||r.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,i=t.parentMenu;for(;i;)r++,i=i.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new eB({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,r){let[i,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[u,c]=[s,a],[h,p]=[i,o],g=0;if(this.triggersSubmenu()){if(p=i="before"===t.xPosition?"start":"end",o=h="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const y=this._parentMaterialMenu.items.first;this._parentInnerPadding=y?y._getHostElement().offsetTop:0}g="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(u="top"===s?"bottom":"top",c="top"===a?"bottom":"top");r.withPositions([{originX:i,originY:u,overlayX:h,overlayY:s,offsetY:g},{originX:o,originY:u,overlayX:p,overlayY:s,offsetY:g},{originX:i,originY:c,overlayX:h,overlayY:a,offsetY:-g},{originX:o,originY:c,overlayX:p,overlayY:a,offsetY:-g}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return Oc(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:Fr(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ia(s=>s!==this._menuItemInstance),Ia(()=>this._menuOpen)):Fr(),r)}_handleMousedown(t){G3(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Ia(t=>t===this._menuItemInstance&&!t.disabled),CQ(0,q3)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ZT&&this.menu._isAnimating?this.menu._animationDone.pipe(al(1),CQ(0,q3),Nu(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new F3(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(ke(Iv),ke(_i),ke(Ml),ke(RQ),ke(OV,8),ke(SL,10),ke(YM,8),ke(gm),ke(wi))},n.\u0275dir=Ln({type:n,hostVars:3,hostBindings:function(t,r){1&t&&at("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&t&&Ko("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen||null)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),mAe=(()=>{class n extends pAe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ii(n)))(r||n)}}(),n.\u0275dir=Ln({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[mr]}),n})(),gAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({providers:[fAe],imports:[q_,Co,GO,tB,pT,Co]}),n})();function AQ(...n){const e=Ga(n),{args:t,keys:r}=I$(n),i=new ht(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let h=0;h<s;h++){let p=!1;fs(t[h]).subscribe(Hn(o,g=>{p||(p=!0,c--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(c||o.next(r?N$(r,a):a),o.complete())}))}});return e?i.pipe(YH(e)):i}const vAe=["*"];let xL;function qT(n){var e;return(null===(e=function yAe(){if(void 0===xL&&(xL=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(xL=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return xL}())||void 0===e?void 0:e.createHTML(n))||n}function OQ(n){return Error(`Unable to find icon with the name "${n}"`)}function kQ(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function LQ(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ab{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let CL=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Ab(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const s=this._sanitizer.sanitize(mo.HTML,i);if(!s)throw LQ(i);const a=qT(s);return this._addSvgIconConfig(t,r,new Ab("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Ab(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(mo.HTML,r);if(!o)throw LQ(r);const s=qT(o);return this._addSvgIconSetConfig(t,new Ab("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(mo.RESOURCE_URL,t);if(!r)throw kQ(t);const i=this._cachedIconsByUrl.get(r);return i?Fr(EL(i)):this._loadSvgIconFromConfig(new Ab(t,null)).pipe(Na(o=>this._cachedIconsByUrl.set(r,o)),Dn(o=>EL(o)))}getNamedSvgIcon(t,r=""){const i=PQ(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):kM(OQ(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Fr(EL(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Dn(r=>EL(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Fr(i):AQ(r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(hm(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(mo.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Fr(null)})))).pipe(Dn(()=>{const s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw OQ(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Na(r=>t.svgText=r),Dn(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Fr(null):this._fetchIcon(t).pipe(Na(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const a=this._svgElementFromString(qT("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(qT("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:s,value:a}=i[o];"id"!==s&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:o}=t,s=null!==(r=null==o?void 0:o.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function _Ae(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(mo.RESOURCE_URL,i);if(!a)throw kQ(i);const u=this._inProgressUrlFetches.get(a);if(u)return u;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(Dn(h=>qT(h)),rO(()=>this._inProgressUrlFetches.delete(a)),gh());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(PQ(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return wAe(o)?new Ab(o.url,null,o.options):new Ab(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(gt(wL,8),gt(WH),gt(ki,8),gt(Id))},n.\u0275prov=fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EL(n){return n.cloneNode(!0)}function PQ(n,e){return n+":"+e}function wAe(n){return!(!n.url||!n.options)}const MAe=GM(class{constructor(n){this._elementRef=n}}),SAe=new An("MAT_ICON_DEFAULT_OPTIONS"),xAe=new An("mat-icon-location",{providedIn:"root",factory:function CAe(){const n=gs(ki),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),IQ=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],EAe=IQ.map(n=>`[${n}]`).join(", "),TAe=/^url\(['"]?#(.*?)['"]?\)$/;let RAe=(()=>{class n extends MAe{constructor(t,r,i,o,s,a){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=N.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=ba(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(EAe),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)IQ.forEach(s=>{const a=r[o],u=a.getAttribute(s),c=u?u.match(TAe):null;if(c){let h=i.get(a);h||(h=[],i.set(a,h)),h.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(al(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(CL),Oh("aria-hidden"),ke(xAe),ke(Id),ke(SAe,8))},n.\u0275cmp=Si({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(Ko("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Fi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[mr],ngContentSelectors:vAe,decls:1,vars:0,template:function(t,r){1&t&&($n(),Kn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),DAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[Co,Co]}),n})();const AAe=["*",[["mat-toolbar-row"]]],OAe=["*","mat-toolbar-row"],kAe=GM(class{constructor(n){this._elementRef=n}});let LAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),PAe=(()=>{class n extends kAe{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(_c),ke(ki))},n.\u0275cmp=Si({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&ol(i,LAe,5),2&t){let o;So(o=xo())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Fi("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[mr],ngContentSelectors:OAe,decls:2,vars:0,template:function(t,r){1&t&&($n(AAe),Kn(0),Kn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),IAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[Co,Co]}),n})();function NAe(n,e){if(1&n&&(rs(),oe(0,"circle",4)),2&n){const t=Yt(),r=H(1);Nr("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),Ko("r",t._getCircleRadius())}}function FAe(n,e){if(1&n&&(rs(),oe(0,"circle",4)),2&n){const t=Yt(),r=H(1);Nr("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),Ko("r",t._getCircleRadius())}}const BAe=GM(class{constructor(n){this._elementRef=n}},"primary"),VAe=new An("mat-progress-spinner-default-options",{providedIn:"root",factory:function zAe(){return{diameter:100}}});class Am extends BAe{constructor(e,t,r,i,o,s,a,u){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=N.EMPTY,this.mode="determinate";const c=Am._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(r.head)||c.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),t.isBrowser&&t.SAFARI&&a&&s&&u&&(this._resizeSubscription=a.change(150).subscribe(()=>{"indeterminate"===this.mode&&u.run(()=>s.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=$f(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=$f(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,$f(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=wK(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const r=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${r}% ${r}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=Am._diameters;let i=r.get(e);if(!i||!i.has(t)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),e.appendChild(o),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Am._diameters=new WeakMap,Am.\u0275fac=function(e){return new(e||Am)(ke(_i),ke(_c),ke(ki,8),ke(zf,8),ke(VAe),ke(Pu),ke(UO),ke(wi))},Am.\u0275cmp=Si({type:Am,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(Ko("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),Nr("width",t.diameter,"px")("height",t.diameter,"px"),Fi("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[mr],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(rs(),te(0,"svg",0,1),k(2,NAe,1,11,"circle",2),k(3,FAe,1,9,"circle",3),se()),2&e&&(Nr("width",t.diameter,"px")("height",t.diameter,"px"),V("ngSwitch","indeterminate"===t.mode),Ko("viewBox",t._getViewBox()),Er(2),V("ngSwitchCase",!0),Er(1),V("ngSwitchCase",!1))},dependencies:[XA,l$],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let jAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[Co,q_,Co]}),n})();function WAe(n,e){if(1&n){const t=Se();te(0,"button",10),at("click",function(){return Za(t),Zs(Yt().download())}),te(1,"mat-icon"),Cn(2,"cloud_download"),se()()}}function YAe(n,e){1&n&&(te(0,"div"),oe(1,"mat-spinner",11),se())}function GAe(n,e){if(1&n){const t=Se();te(0,"button",12),at("click",function(){return Za(t),Zs(Yt().calculate())}),te(1,"mat-icon"),Cn(2,"description"),se()()}}function $Ae(n,e){1&n&&(te(0,"div"),oe(1,"mat-spinner",11),se())}let XAe=(()=>{class n{constructor(t,r,i,o,s,a,u){this.http=t,this.pv=r,this.scene=i,this.model=o,this.girder=s,this.Rotate=a,this.Move=u,this.isLoading=!1,this.Exporter=new cQ,this.isCalculating=!1}ngOnInit(){}open(t){const r=t.target.files[0];t.target.value="",this.fileToText(r).then(i=>{const o=JSON.parse(i);this.model.set_palam(o),this.girder.createGirder(this.model.palam())}).catch(i=>{alert(i)})}fileToText(t){const r=new FileReader;return r.readAsText(t),new Promise((i,o)=>{r.onload=()=>{i(r.result)},r.onerror=()=>{o(r.error)}})}save(){const t=JSON.stringify(this.model.palam()),r=new window.Blob([t],{type:"text/plain"});xV.saveAs(r,"test.json")}download(){const t={headers:new sf({"Content-Type":"application/json",Accept:"application/json"})},r=this.getPostJson(),i="https://kv4hx2ue8c.execute-api.ap-northeast-1.amazonaws.com/default/GirderGenBrpy";this.isLoading=!0,this.http.get(i,t).subscribe(o=>{console.log(o),this.http.post(i,r,t).subscribe(s=>{this.isLoading=!1;let a=s;if(Array.isArray(a)&&(a=s[0]),"string"==typeof a&&(a=JSON.parse(a)),!("body"in a))return;const c=new Blob([a.body],{type:"text/plain;charset=utf-8"});xV.saveAs(c,"test.ifc")},s=>{this.isLoading=!1,alert(s.message)})},o=>{this.isLoading=!1,alert(o.message)})}calculate(){this.isCalculating=!0;const t={headers:new sf({"Content-Type":"application/json",Accept:"application/json",responseType:"text"})},i=JSON.stringify(this.model.palam());this.http.post("https://girdergenbrpyserver.azurewebsites.net/api/OnDataReady?code=Xw-pAwli2ZPrwi6ivtzOU1MaT6Sdn9ONtGo83DT_yzUTAzFuof2omg==",i,t).subscribe(o=>{nAe({printable:o.toString(),type:"pdf",base64:!0}),this.isCalculating=!1},o=>{this.isCalculating=!1,alert(o.message)})}goToLink(){window.open("https://fresh-tachometer-148.notion.site/2e5a97e10bb14bfcbece8db66dfe5c66","_blank")}getPostJson(){const t=this.model.palam(),r=t.others,i=t.display,o=r.Name_P,s=r.Name_R,a=r.Class_R,u=r.Milepost_B+"km",c=r.Milepost_E+"km",h=r.BP,p=r.EP,g=i.crossbeam,y=i.mid,w=new Array;for(let ye=0;ye<1;ye++){const Ae=this.scene.scene.getObjectByName("Slab");if(null==Ae)break;let Ye=this.Exporter.parse(Ae);w.push(Ye)}const S=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Hsteel-01-"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);S.push(Ye)}const C=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cr_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);C.push(Ye)}const P=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Ll_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);P.push(Ye)}const B=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Lu_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);B.push(Ye)}const z=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cu_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);z.push(Ye)}const j=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cfl_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);j.push(Ye)}const X=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cfr_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);X.push(Ye)}const ie=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cft_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);ie.push(Ye)}const me=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Cfd_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);me.push(Ye)}const re=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("PL1_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);re.push(Ye)}const pe=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("PL2_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);pe.push(Ye)}const we=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("PL3_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);we.push(Ye)}const Le=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("PL4u_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);Le.push(Ye)}const ot=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("PL4l_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);ot.push(Ye)}const lt=new Array;for(let ye=0;ye<100;ye++){const Ae=this.scene.scene.getObjectByName("Pv_"+String(ye));if(null==Ae)break;let Ye=this.Exporter.parse(Ae);lt.push(Ye)}let je="\u8377\u91cd\u5206\u914d\u6a2a\u6841";return!0===g&&!1===y&&(je="\u4e2d\u9593\u6a2a\u6841"),JSON.stringify({body:{ProjectName:o,RouteName:s,RoadClass:a,Milepost_B:u,Milepost_E:c,BP:h,EP:p,pavement:{obj:[lt],Name:"\u8217\u88c5",Name_s:["\u8217\u88c5"],Class:"\u8217\u88c5",Info:"",Info_s:[],Type:"\u8eca\u9053"},slab:{obj:[w],Name:"\u5e8a\u7248",Name_s:["\u30b3\u30f3\u30af\u30ea\u30fc\u30c8"],Class:"\u5e8a\u7248",Info:"A1/A2",Info_s:[],Type:"RC\u5e8a\u7248"},beam:{obj:[S],Name:"\u4e3b\u6841",Name_s:["\u4e3b\u6841"],Class:"\u4e3b\u6841",Info:"A1/A2",Type:""},cross:{obj:[P,B,Le,ot],Name:"\u6a2a\u69cb",Name_s:["\u4e0b\u6a2a\u69cb","\u4e0a\u6a2a\u69cb","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u6a2a\u69cb\uff09","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u6a2a\u69cb\uff09"],Class:"\u6a2a\u69cb",Info:"A1/A2",Type:""},mid:{obj:[j,X,me,ie,re,pe,we],Name:"\u5bfe\u50be\u69cb",Name_s:["\u5de6\u659c\u6750","\u53f3\u659c\u6750","\u4e0b\u5f26\u6750","\u4e0a\u5f26\u6750","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u659c\u6750\uff09","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u5f26\u6750\uff09","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u5f26\u6750\uff09"],Class:"\u5bfe\u50be\u69cb",Info:"A1/A2",Type:""},crossbeam:{obj:[C,z],Name:"\u6a2a\u6841",Name_s:[je,"\u7aef\u6a2a\u6841"],Class:"\u6a2a\u6841",Info:"A1/A2",Type:""}}})}}return n.\u0275fac=function(t){return new(t||n)(ke(wL),ke(tf),ke(SV),ke(ef),ke(rf),ke(Dm),ke(nf))},n.\u0275cmp=Si({type:n,selectors:[["app-menu"]],decls:22,vars:5,consts:[["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["type","file","accept","application/json",2,"display","none",3,"change"],["mat-menu-item","",3,"click"],[1,"example-spacer"],["mat-icon-button","","class","example-icon favorite-icon","aria-label","download ifc file",3,"click",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with help_outline icon",1,"example-icon",3,"click"],["mat-icon-button","","class","example-icon favorite-icon","aria-label","Calculate document",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","download ifc file",1,"example-icon","favorite-icon",3,"click"],["diameter","40"],["mat-icon-button","","aria-label","Calculate document",1,"example-icon","favorite-icon",3,"click"]],template:function(t,r){if(1&t&&(te(0,"mat-toolbar")(1,"button",0)(2,"mat-icon"),Cn(3,"menu"),se()(),te(4,"mat-menu",null,1)(6,"label",2)(7,"span"),Cn(8," \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f "),te(9,"input",3),at("change",function(o){return r.open(o)}),se()()(),te(10,"button",4),at("click",function(){return r.save()}),Cn(11,"\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58"),se()(),te(12,"span"),Cn(13,"\u5408\u6210\u6841-3D\u30e2\u30c7\u30eb\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc"),se(),oe(14,"span",5),k(15,WAe,3,0,"button",6),k(16,YAe,2,0,"div",7),te(17,"button",8),at("click",function(){return r.goToLink()}),te(18,"mat-icon"),Cn(19,"help_outline"),se()(),k(20,GAe,3,0,"button",9),k(21,$Ae,2,0,"div",7),se()),2&t){const i=H(5);Er(1),V("matMenuTriggerFor",i),Er(14),V("ngIf",!r.isLoading),Er(1),V("ngIf",r.isLoading),Er(4),V("ngIf",!r.isCalculating),Er(1),V("ngIf",r.isCalculating)}},dependencies:[GE,dAe,SL,mAe,RAe,$h,PAe,Am],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();var PV,BS,e1;function LV(n){return(LV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}b(7059),b(6949),b(8193),b(5296),b(6522),b(8561),b(2246),b(3912),b(262),b(8068),b(9401),b(8621),b(631),b(3382),b(5975),b(1681),b(4018),b(9443),b(1261),b(4952),b(4564),b(223),b(1044),b(2162),b(9117),b(2096),b(7862),b(4176),b(3479),b(4881),b(5167),b(6774),b(3388);for(var NQ=0,TL=["ms","moz","webkit","o"],JT=window.requestAnimationFrame,RL=window.cancelAnimationFrame,QT=0;QT<TL.length&&!JT;++QT)JT=window["".concat(TL[QT],"RequestAnimationFrame")],RL=window["".concat(TL[QT],"CancelAnimationFrame")]||window["".concat(TL[QT],"CancelRequestAnimationFrame")];function FQ(n){return JT.call(window,n)}function ZAe(){return!!document.createTextNode("test").textContent}function DL(n){RL.call(window,n)}function HQ(){return"ontouchstart"in window}function BQ(){return void 0===PV&&function JAe(){var n=document.createElement("TABLE");n.style.borderSpacing="0",n.style.borderWidth="0",n.style.padding="0";var e=document.createElement("TBODY");n.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var t=document.createElement("CAPTION");t.innerHTML="c<br>c<br>c<br>c",t.style.padding="0",t.style.margin="0",n.insertBefore(t,e),document.body.appendChild(n),PV=n.offsetHeight<2*n.lastChild.offsetHeight,document.body.removeChild(n)}(),PV}function eOe(){if(void 0!==e1)return e1;try{var n={get passive(){e1=!0}};window.addEventListener("test",n,n),window.removeEventListener("test",n,n)}catch(e){e1=!1}return e1}function tOe(n){for(var e=n.length,t=0;t<e;)n[t]=[n[t]],t+=1}function VQ(n,e){for(var t=e.length,r=0;r<t;)n.push(e[r]),r+=1}function AL(n){var e=[];if(!n||0===n.length||!n[0]||0===n[0].length)return e;for(var t=n.length,r=n[0].length,i=0;i<t;i++)for(var o=0;o<r;o++)e[o]||(e[o]=[]),e[o][i]=n[i][o];return e}function Ua(n,e,t,r){var i=-1,o=n,s=t;Array.isArray(n)||(o=Array.from(n));var a=o.length;for(r&&a&&(s=o[i+=1]),i+=1;i<a;)s=e(s,o[i],i,o),i+=1;return s}function Jd(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length,o=[],s=-1;t<i;){var a=r[t];e(a,t,r)&&(o[s+=1]=a),t+=1}return o}function Ji(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length,o=[],s=-1;t<i;)o[s+=1]=e(r[t],t,r),t+=1;return o}function tt(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length;t<i&&!1!==e(r[t],t,r);)t+=1;return n}function zQ(n){var e=[];return tt(n,function(t){-1===e.indexOf(t)&&e.push(t)}),e}function UQ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=[].concat(e),i=r[0],o=r.slice(1),s=i;return tt(o,function(a){s=s.filter(function(u){return!a.includes(u)})}),s}function jQ(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return n.split(e)}function WQ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VS(n){return(VS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function t1(n){var e;return Array.isArray(n)?e=[]:(e={},io(n,function(t,r){"__children"!==r&&(e[r]=t&&"object"===VS(t)&&!Array.isArray(t)?t1(t):Array.isArray(t)?t.length&&"object"===VS(t[0])&&!Array.isArray(t[0])?[t1(t[0])]:[]:null)})),e}function Qv(n,e){return e.prototype.constructor=e,n.prototype=new e,n.prototype.constructor=n,n}function ta(n,e,t){var r=Array.isArray(t);return io(e,function(i,o){(!1===r||t.includes(o))&&(n[o]=i)}),n}function OL(n,e){io(e,function(t,r){e[r]&&"object"===VS(e[r])?(n[r]||(n[r]=Array.isArray(e[r])?[]:"[object Date]"===Object.prototype.toString.call(e[r])?e[r]:{}),OL(n[r],e[r])):n[r]=e[r]})}function zu(n){return"object"===VS(n)?JSON.parse(JSON.stringify(n)):n}function xc(n){var e={};return io(n,function(t,r){e[r]=t}),e}function ys(n){n.MIXINS||(n.MIXINS=[]);for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return tt(t,function(i){n.MIXINS.push(i.MIXIN_NAME),io(i,function(o,s){if(void 0!==n.prototype[s])throw new Error("Mixin conflict. Property '".concat(s,"' already exist and cannot be overwritten."));var h,p,g;"function"==typeof o?n.prototype[s]=o:Object.defineProperty(n.prototype,s,{get:(h=s,p=o,g="_".concat(h),function(){return void 0===this[g]&&(this[g]=(C=p,(Array.isArray(C)||Yi(C))&&(C=zu(C)),C)),this[g];var C}),set:function(h){var p="_".concat(h);return function(g){this[p]=g}}(s),configurable:!0})})}),n}function YQ(n,e){return JSON.stringify(n)===JSON.stringify(e)}function Yi(n){return"[object Object]"===Object.prototype.toString.call(n)}function Om(n,e,t,r){r.value=t,r.writable=!1!==r.writable,r.enumerable=!1!==r.enumerable,r.configurable=!1!==r.configurable,Object.defineProperty(n,e,r)}function io(n,e){for(var t in n)if((!n.hasOwnProperty||n.hasOwnProperty&&Object.prototype.hasOwnProperty.call(n,t))&&!1===e(n[t],t,n))break;return n}function IV(n,e,t){var r=e.split("."),i=n;r.forEach(function(o,s){s!==r.length-1?(Ns(i,o)||(i[o]={}),i=i[o]):i[o]=t})}function NV(n){return Yi(n)?function t(r){var i=0;return Yi(r)?io(r,function(o,s){"__children"!==s&&(i+=t(o))}):i+=1,i}(n):0}function zS(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",r="_".concat(t),i=(WQ(e={_touched:!1},r,n),WQ(e,"isTouched",function(){return this._touched}),e);return Object.defineProperty(i,t,{get:function(){return this[r]},set:function(s){this._touched=!0,this[r]=s},enumerable:!0,configurable:!0}),i}function Ns(n,e){return Object.prototype.hasOwnProperty.call(n,e)}JT||(JT=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-NQ)),i=window.setTimeout(function(){e(t+r)},r);return NQ=t+r,i}),RL||(RL=function(e){clearTimeout(e)}),b(3954),b(3035);var Cc=function(e){var t={value:!1,test:function(r,i){t.value=e(r,i)}};return t},ud={chrome:Cc(function(n,e){return/Chrome/.test(n)&&/Google/.test(e)}),chromeWebKit:Cc(function(n){return/CriOS/.test(n)}),edge:Cc(function(n){return/Edge/.test(n)}),edgeWebKit:Cc(function(n){return/EdgiOS/.test(n)}),firefox:Cc(function(n){return/Firefox/.test(n)}),firefoxWebKit:Cc(function(n){return/FxiOS/.test(n)}),ie:Cc(function(n){return/Trident/.test(n)}),ie9:Cc(function(){return!!document.documentMode}),mobile:Cc(function(n){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n)}),safari:Cc(function(n,e){return/Safari/.test(n)&&/Apple Computer/.test(e)})},US={mac:Cc(function(n){return/^Mac/.test(n)}),win:Cc(function(n){return/^Win/.test(n)}),linux:Cc(function(n){return/^Linux/.test(n)}),ios:Cc(function(n){return/iPhone|iPad|iPod/i.test(n)})};function FV(){return ud.firefox.value}function np(){return ud.mobile.value}function GQ(){return US.ios.value}function $Q(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator,e=n.maxTouchPoints;return e>2&&US.mac.value}function XQ(){return US.win.value}function KQ(){return US.mac.value}(function oOe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.userAgent,t=void 0===e?navigator.userAgent:e,r=n.vendor,i=void 0===r?navigator.vendor:r;io(ud,function(o){(0,o.test)(t,i)})})(),function sOe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.platform,t=void 0===e?navigator.platform:e;io(US,function(r){(0,r.test)(t)})}();var VV,zV,UV,pOe=b(8120);function km(n){return n[0].toUpperCase()+n.substr(1)}function ZQ(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return n()+n()+n()+n()}function qQ(n){return/^([0-9][0-9]?%$)|(^100%$)/.test(n)}function JQ(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(n).replace(/(?:\\)?\[([^[\]]+)]/g,function(t,r){return"\\"===t.charAt(0)?t.substr(1,t.length-1):void 0===e[r]?"":e[r]})}function QQ(n){return HV("".concat(n),{ALLOWED_TAGS:[]})}function HV(n,e){return pOe.sanitize(n,e)}function eee(n){return function yOe(n){if(Array.isArray(n))return BV(n)}(n)||function vOe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function gOe(n,e){if(n){if("string"==typeof n)return BV(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return BV(n,e)}}(n)||function mOe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BV(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _Oe(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=-1,r=null,i=n;null!==i;){if(t===e){r=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(t+=1,i=i.parentNode)}return r}function kL(n){return function bOe(n){return Object.getPrototypeOf(n.parent)&&n.frameElement}(n)&&n.parent}function Ob(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,r=Node,i=r.ELEMENT_NODE,o=r.DOCUMENT_FRAGMENT_NODE,s=n;null!=s&&s!==t;){var a=s,u=a.nodeType,c=a.nodeName;if(u===i&&(e.includes(c)||e.includes(s)))return s;var h=s,p=h.host;s=p&&u===o?p:s.parentNode}return null}function LL(n,e,t){for(var r=[],i=n;i&&(i=Ob(i,e,t))&&(!t||t.contains(i));)r.push(i),i=i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.host:i.parentNode;var o=r.length;return o?r[o-1]:null}function kb(n,e){var t=n.parentNode,r=[];for("string"==typeof e?r=Array.prototype.slice.call(n.defaultView?n.querySelectorAll(e):n.ownerDocument.querySelectorAll(e),0):r.push(e);null!==t;){if(r.indexOf(t)>-1)return!0;t=t.parentNode}return!1}function Lb(n,e,t){var r=t.parentElement.querySelector(".ht_clone_".concat(n));return r?r.contains(e):null}function PL(n){return n&&n.length?n.filter(function(e){return!!e}):[]}if(function KAe(){return!!document.documentElement.classList}()){var tee=function(e){var t=e.createElement("div");return t.classList.add("test","test2"),t.classList.contains("test2")};VV=function(e,t){return void 0!==e.classList&&"string"==typeof t&&""!==t&&e.classList.contains(t)},zV=function(e,t){var r=e.ownerDocument,i=t;if("string"==typeof i&&(i=i.split(" ")),(i=PL(i)).length>0)if(tee(r)){var o;(o=e.classList).add.apply(o,eee(i))}else for(var s=0;i[s];)e.classList.add(i[s]),s+=1},UV=function(e,t){var r=e.ownerDocument,i=t;if("string"==typeof i&&(i=i.split(" ")),(i=PL(i)).length>0)if(tee(r)){var o;(o=e.classList).remove.apply(o,eee(i))}else for(var s=0;i[s];)e.classList.remove(i[s]),s+=1}}else{var jV=function(e){return new RegExp("(\\s|^)".concat(e,"(\\s|$)"))};VV=function(e,t){return void 0!==e.className&&jV(t).test(e.className)},zV=function(e,t){var r=e.className,i=t;if("string"==typeof i&&(i=i.split(" ")),i=PL(i),""===r)r=i.join(" ");else for(var o=0;o<i.length;o++)i[o]&&!jV(i[o]).test(r)&&(r+=" ".concat(i[o]));e.className=r},UV=function(e,t){var r=0,i=e.className,o=t;for("string"==typeof o&&(o=o.split(" ")),o=PL(o);o[r];)i=i.replace(jV(o[r])," ").trim(),r+=1;e.className!==i&&(e.className=i)}}function Ci(n,e){return VV(n,e)}function Rn(n,e){zV(n,e)}function Bi(n,e){UV(n,e)}function nee(n){if(3===n.nodeType)n.parentNode.removeChild(n);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(n.nodeName)>-1)for(var e=n.childNodes,t=e.length-1;t>=0;t--)nee(e[t])}function af(n){for(var e;e=n.lastChild;)n.removeChild(e)}var GV,MOe=/(<(.*)>|&(.*);)/;function Pb(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];MOe.test(e)?n.innerHTML=t?HV(e):e:Ib(n,e)}function Ib(n,e){var t=n.firstChild;t&&3===t.nodeType&&null===t.nextSibling?ZAe?t.textContent=e:t.data=e:(af(n),n.appendChild(n.ownerDocument.createTextNode(e)))}function n1(n){for(var e=n.ownerDocument.documentElement,t=n;t!==e;){if(null===t)return!1;if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(t.host){if(t.host.impl)return n1(t.host.impl);if(t.host)return n1(t.host);throw new Error("Lost in Web Components world")}return!1}if(t.style&&"none"===t.style.display)return!1;t=t.parentNode}return!0}function ja(n){var o,s,a,u,e=n.ownerDocument,t=e.defaultView,r=e.documentElement,i=n;if(BQ()&&i.firstChild&&"CAPTION"===i.firstChild.nodeName)return{top:(u=i.getBoundingClientRect()).top+(t.pageYOffset||r.scrollTop)-(r.clientTop||0),left:u.left+(t.pageXOffset||r.scrollLeft)-(r.clientLeft||0)};for(o=i.offsetLeft,s=i.offsetTop,a=i;(i=i.offsetParent)&&i!==e.body;)o+=i.offsetLeft,s+=i.offsetTop,a=i;return a&&"fixed"===a.style.position&&(o+=t.pageXOffset||r.scrollLeft,s+=t.pageYOffset||r.scrollTop),{left:o,top:s}}function r1(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.scrollY;return void 0===e&&(e=n.document.documentElement.scrollTop),e}function jS(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.scrollX;return void 0===e&&(e=n.document.documentElement.scrollLeft),e}function IL(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n===e?r1(e):n.scrollTop}function WV(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n===e?jS(e):n.scrollLeft}function NL(n){var e=n.ownerDocument,t=e?e.defaultView:void 0;e||(t=(e=n.document?n.document:n).defaultView);for(var r=["auto","scroll"],i=function qAe(){return!!window.getComputedStyle}(),o=n.parentNode;o&&o.style&&e.body!==o;){var s=o.style,a=s.overflow,u=s.overflowX,c=s.overflowY;if([a,u,c].includes("scroll"))return o;if(i){var h=t.getComputedStyle(o);if(u=h.overflowX,c=h.overflowY,r.includes(a=h.overflow)||r.includes(u)||r.includes(c))return o}if(o.clientHeight<=o.scrollHeight+1&&(r.includes(c)||r.includes(a))||o.clientWidth<=o.scrollWidth+1&&(r.includes(u)||r.includes(a)))return o;o=o.parentNode}return t}function o1(n){for(var e=n.ownerDocument,t=e.defaultView,r=n.parentNode;r&&r.style&&e.body!==r;){if("visible"!==r.style.overflow&&""!==r.style.overflow)return r;var i=Nb(r,t),o=["scroll","hidden","auto"],s=i.getPropertyValue("overflow"),a=i.getPropertyValue("overflow-y"),u=i.getPropertyValue("overflow-x");if(o.includes(s)||o.includes(a)||o.includes(u))return r;r=r.parentNode}return t}function YV(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(n){if(n===t)return"width"===e?"".concat(t.innerWidth,"px"):"height"===e?"".concat(t.innerHeight,"px"):void 0;var r=n.style[e];if(""!==r&&void 0!==r)return r;var i=Nb(n,t);return""!==i[e]&&void 0!==i[e]?i[e]:void 0}}function Nb(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n.currentStyle||e.getComputedStyle(n)}function cs(n){return n.offsetWidth}function na(n){return BQ()&&n.firstChild&&"CAPTION"===n.firstChild.nodeName?n.offsetHeight+n.firstChild.offsetHeight:n.offsetHeight}function ey(n){return n.clientHeight||n.innerHeight}function FL(n){return n.clientWidth||n.innerWidth}function ree(n){var e=n.ownerDocument;if(n.selectionStart)return n.selectionStart;if(e.selection){n.focus();var t=e.selection.createRange();if(null===t)return 0;var r=n.createTextRange(),i=r.duplicate();return r.moveToBookmark(t.getBookmark()),i.setEndPoint("EndToStart",r),i.text.length}return 0}function iee(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.document;n.getSelection?n.getSelection().empty?n.getSelection().empty():n.getSelection().removeAllRanges&&n.getSelection().removeAllRanges():e.selection&&e.selection.empty()}function HL(n,e,t){if(void 0===t&&(t=e),n.setSelectionRange){n.focus();try{n.setSelectionRange(e,t)}catch(o){var r=n.parentNode,i=r.style.display;r.style.display="block",n.setSelectionRange(e,t),r.style.display=i}}}function COe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=n.createElement("div");e.style.height="200px",e.style.width="100%";var t=n.createElement("div");t.style.boxSizing="content-box",t.style.height="150px",t.style.left="0px",t.style.overflow="hidden",t.style.position="absolute",t.style.top="0px",t.style.width="200px",t.style.visibility="hidden",t.appendChild(e),(n.body||n.documentElement).appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;return r===i&&(i=t.clientWidth),(n.body||n.documentElement).removeChild(t),r-i}function El(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return void 0===GV&&(GV=COe(n)),GV}function $V(n,e,t){!function fOe(){return ud.ie9.value}()?function cOe(){return ud.safari.value}()?n.style["-webkit-transform"]="translate3d(".concat(e,",").concat(t,",0)"):n.style.transform="translate3d(".concat(e,",").concat(t,",0)"):(n.style.top=t,n.style.left=e)}function BL(n){n.style.transform&&""!==n.style.transform?n.style.transform="":n.style["-webkit-transform"]&&""!==n.style["-webkit-transform"]&&(n.style["-webkit-transform"]="")}function VL(n){return n&&(["INPUT","SELECT","TEXTAREA"].indexOf(n.nodeName)>-1||"true"===n.contentEditable)}function oee(n){return VL(n)&&!1===n.hasAttribute("data-hot-input")}function see(n){return!n.parentNode}b(508),b(8377),b(1100);var aee,lee,uee,cee,dee,hee,as=b(6908);function ds(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=Ua(n,function(o,s,a){return o+s.replace(/\r?\n\s*/g,"")+(t[a]?t[a]:"")},"");return i.trim()}function WS(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function XV(n){return(XV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Sa(n){var e;switch(XV(n)){case"string":case"number":e="".concat(n);break;case"object":e=null===n?"":n.toString();break;case"undefined":e="";break;default:e=n.toString()}return e}function fr(n){return void 0!==n}function Fs(n){return void 0===n}function cl(n){return null===n||""===n||Fs(n)}function DOe(n){return"[object RegExp]"===Object.prototype.toString.call(n)}var s1="length",a1=function(e){return parseInt(e,16)},fee=function(e){return parseInt(e,10)},zL=function(e,t,r){return e.substr(t,r)},l1=function(e){return e.codePointAt(0)-65},KV=function(e){return"".concat(e).replace(/\-/g,"")},pee=!1,mee={invalid:function(){return ds(aee||(aee=WS(["\n    The license key for Handsontable is invalid. \n    If you need any help, contact us at support@handsontable.com."],["\n    The license key for Handsontable is invalid.\\x20\n    If you need any help, contact us at support@handsontable.com."])))},expired:function(e){var t=e.keyValidityDate,r=e.hotVersion;return ds(lee||(lee=WS(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior \n    to ",". If you need any help, contact us at sales@handsontable.com."],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior\\x20\n    to ",". If you need any help, contact us at sales@handsontable.com."])),t,r,t)},missing:function(){return ds(uee||(uee=WS(["\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact \n    us at support@handsontable.com."],["\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\\x20\n    us at support@handsontable.com."])))},non_commercial:function(){return""}},gee={invalid:function(){return ds(cee||(cee=WS(['\n    The license key for Handsontable is invalid. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to \n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is invalid.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\\x20\n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'])))},expired:function(e){var t=e.keyValidityDate,r=e.hotVersion;return ds(dee||(dee=WS(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your \n    license key or downgrade to a version released prior to ','. If you need any \n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.'],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\\x20\n    license key or downgrade to a version released prior to ','. If you need any\\x20\n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.'])),t,r,t)},missing:function(){return ds(hee||(hee=WS(['\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: \'non-commercial-and-evaluation\'. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in \n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: \'non-commercial-and-evaluation\'.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\\x20\n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'])))},non_commercial:function(){return""}};function kOe(n,e){var o,t=!cl(n),r="string"==typeof n&&"non-commercial-and-evaluation"===n.toLowerCase(),i="12.1.3",s="invalid",a="invalid",u=function LOe(n){var e=[][s1],t=e;if(n[s1]!==l1("Z"))return!1;for(var r="",i="B<H4P+".split(""),o=l1(i.shift());o;o=l1(i.shift()||"A"))--o<""[s1]?t|=(fee("".concat(fee(a1(r)+(a1(zL(n,Math.abs(o),2))+[]).padStart(2,"0"))))%97||2)>>1:r=zL(n,o,o?1===i[s1]?9:8:6);return t===e}(n=KV(n||""));if(t||r||u)if(u){var c=as("22/09/2022","DD/MM/YYYY"),h=Math.floor(c.toDate().getTime()/864e5),p=function(e){return a1(zL(KV(e),a1("12"),l1("F")))/(a1(zL(KV(e),l1("B"),~~![][s1]))||9)}(n);if(o=as(864e5*(p+1),"x").format("MMMM DD, YYYY"),h>p){var g=as().diff(c,"days");s=g<=1?"valid":"expired",a=g<=15?"valid":"expired"}else s="valid",a="valid"}else r?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if("undefined"!=typeof location&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host)&&(s="valid",a="valid"),pee||"valid"===s||(mee[s]({keyValidityDate:o,hotVersion:i})&&console["non_commercial"===s?"info":"warn"](mee[s]({keyValidityDate:o,hotVersion:i})),pee=!0),"valid"!==a&&e.parentNode&&gee[a]({keyValidityDate:o,hotVersion:i})){var S=document.createElement("div");S.id="hot-display-license-info",S.innerHTML=gee[a]({keyValidityDate:o,hotVersion:i}),e.parentNode.insertBefore(S,e.nextSibling)}}function xs(n){return"function"==typeof n}function vee(n){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,t=null;function i(){for(var o=this,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return t&&clearTimeout(t),t=setTimeout(function(){r=n.apply(o,a)},e),r}return i}function yee(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n.apply(this,t.concat(s))}}function ZV(n,e,t,r,i,o,s,a){return fr(a)?n.call(e,t,r,i,o,s,a):fr(s)?n.call(e,t,r,i,o,s):fr(o)?n.call(e,t,r,i,o):fr(i)?n.call(e,t,r,i):fr(r)?n.call(e,t,r):fr(t)?n.call(e,t):n.call(e)}b(3902);var bee,Or={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:FV()?182:174,AUDIO_MUTE:FV()?181:173,AUDIO_UP:FV()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},NOe=[Or.ALT,Or.ARROW_DOWN,Or.ARROW_LEFT,Or.ARROW_RIGHT,Or.ARROW_UP,Or.AUDIO_DOWN,Or.AUDIO_MUTE,Or.AUDIO_UP,Or.BACKSPACE,Or.CAPS_LOCK,Or.DELETE,Or.END,Or.ENTER,Or.ESCAPE,Or.F1,Or.F2,Or.F3,Or.F4,Or.F5,Or.F6,Or.F7,Or.F8,Or.F9,Or.F10,Or.F11,Or.F12,Or.F13,Or.F14,Or.F15,Or.F16,Or.F17,Or.F18,Or.F19,Or.HOME,Or.INSERT,Or.MEDIA_NEXT,Or.MEDIA_PLAY_PAUSE,Or.MEDIA_PREV,Or.MEDIA_STOP,Or.NULL,Or.NUM_LOCK,Or.PAGE_DOWN,Or.PAGE_UP,Or.PAUSE,Or.SCROLL_LOCK,Or.SHIFT,Or.TAB];function _ee(n){return NOe.includes(n)}function u1(n,e){var t=e.split("|"),r=!1;return tt(t,function(i){if(n===Or[i])return r=!0,!1}),r}function rp(n){n.isImmediatePropagationEnabled=!1,n.cancelBubble=!0}function YS(n){return!1===n.isImmediatePropagationEnabled}function Fb(n){return 2===n.button}function qV(n){return 0===n.button}function Cs(){var n;fr(console)&&(n=console).warn.apply(n,arguments)}function JV(){var n;fr(console)&&(n=console).error.apply(n,arguments)}function wee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var GS=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeSetCellMeta","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],UOe=ds(bee||(bee=function zOe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['The plugin hook "[hookName]" was removed in Handsontable [removedInVersion]. \n  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to \n  learn about the migration path.'],['The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\\x20\n  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\\x20\n  learn about the migration path.']))),QV=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),ez=new Map([["beforeAutofillInsidePopulate",'The plugin hook "beforeAutofillInsidePopulate" is deprecated and will be removed in the next major release.']]),Mee=function(){function n(){(function BOe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.globalBucket=this.createEmptyBucket()}return function VOe(n,e,t){e&&wee(n.prototype,e),t&&wee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createEmptyBucket",value:function(){var t=Object.create(null);return tt(GS,function(r){return t[r]=[]}),t}},{key:"getBucket",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket}},{key:"add",value:function(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(r))tt(r,function(u){return i.add(t,u,o)});else{QV.has(t)&&Cs(JQ(UOe,{hookName:t,removedInVersion:QV.get(t)})),ez.has(t)&&Cs(ez.get(t));var s=this.getBucket(o);if(void 0===s[t]&&(this.register(t),s[t]=[]),r.skip=!1,-1===s[t].indexOf(r)){var a=!1;r.initialHook&&tt(s[t],function(u,c){if(u.initialHook)return s[t][c]=r,a=!0,!1}),a||s[t].push(r)}}return this}},{key:"once",value:function(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(r)?tt(r,function(s){return i.once(t,s,o)}):(r.runOnce=!0,this.add(t,r,o))}},{key:"remove",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getBucket(i);return void 0!==o[t]&&o[t].indexOf(r)>=0&&(r.skip=!0,!0)}},{key:"has",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.getBucket(r);return!(void 0===i[t]||!i[t].length)}},{key:"run",value:function(t,r,i,o,s,a,u,c){var h=this.globalBucket[r],p=h?h.length:0,g=0;if(p)for(;g<p;)if(h[g]&&!h[g].skip){var y=ZV(h[g],t,i,o,s,a,u,c);void 0!==y&&(i=y),h[g]&&h[g].runOnce&&this.remove(r,h[g]),g+=1}else g+=1;var w=this.getBucket(t)[r],S=w?w.length:0,C=0;if(S)for(;C<S;)if(w[C]&&!w[C].skip){var P=ZV(w[C],t,i,o,s,a,u,c);void 0!==P&&(i=P),w[C]&&w[C].runOnce&&this.remove(r,w[C],t),C+=1}else C+=1;return i}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;io(this.getBucket(t),function(r,i,o){return o[i].length=0})}},{key:"register",value:function(t){this.isRegistered(t)||GS.push(t)}},{key:"deregister",value:function(t){this.isRegistered(t)&&GS.splice(GS.indexOf(t),1)}},{key:"isDeprecated",value:function(t){return ez.has(t)||QV.has(t)}},{key:"isRegistered",value:function(t){return GS.indexOf(t)>=0}},{key:"getRegistered",value:function(){return GS}}],[{key:"getSingleton",value:function(){return function WOe(){return jOe}()}}]),n}(),jOe=new Mee;const xr=Mee;function See(n){return function XOe(n){if(Array.isArray(n))return tz(n)}(n)||function $Oe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function GOe(n,e){if(n){if("string"==typeof n)return tz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tz(n,e)}}(n)||function YOe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var nz=new Map;function Qd(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common";nz.has(n)||nz.set(n,new Map);var e=nz.get(n);function t(a,u){e.set(a,u)}function r(a){return e.get(a)}function i(a){return e.has(a)}function o(){return See(e.keys())}function s(){return See(e.values())}return{register:t,getItem:r,hasItem:i,getNames:o,getValues:s}}var rz=new WeakMap,c1=Qd("editors"),KOe=c1.register,xee=c1.getItem,Cee=c1.hasItem;function ZOe(n){var e={},t=n;this.getConstructor=function(){return n},this.getInstance=function(r){return r.guid in e||(e[r.guid]=new t(r)),e[r.guid]},xr.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function Eee(n,e){var t;if("function"==typeof n)rz.get(n)||cd(null,n),t=rz.get(n);else{if("string"!=typeof n)throw Error('Only strings and functions can be passed as "editor" parameter');t=xee(n)}if(!t)throw Error('No editor registered under name "'.concat(n,'"'));return t.getInstance(e)}function cd(n,e){n&&"string"!=typeof n&&(n=(e=n).EDITOR_TYPE);var t=new ZOe(e);"string"==typeof n&&KOe(n,t),rz.set(e,t)}function qOe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function eke(n){var e=n.stopImmediatePropagation;return n.stopImmediatePropagation=function(){e.apply(this),rp(this)},n}const ra=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;qOe(this,n),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}return function JOe(n,e,t){e&&Tee(n.prototype,e),t&&Tee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addEventListener",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];function a(u){i.call(this,eke(u))}return"boolean"!=typeof s&&!eOe()&&(s=!1),this.context.eventListeners.push({element:t,event:r,callback:i,callbackProxy:a,options:s,eventManager:this}),t.addEventListener(r,a,s),function(){o.removeEventListener(t,r,i)}}},{key:"removeEventListener",value:function(t,r,i){for(var a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this.context.eventListeners.length;s;)if((a=this.context.eventListeners[s-=1]).event===r&&a.element===t){if(i&&i!==a.callback||o&&a.eventManager!==this)continue;this.context.eventListeners.splice(s,1),a.element.removeEventListener(a.event,a.callbackProxy,a.options)}}},{key:"clearEvents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.context)for(var r=this.context.eventListeners.length;r;){var i=this.context.eventListeners[r-=1];t&&i.eventManager!==this||(this.context.eventListeners.splice(r,1),i.element.removeEventListener(i.event,i.callbackProxy,i.options))}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"destroyWithOwnEventsOnly",value:function(){this.clearEvents(!0),this.context=null}},{key:"fireEvent",value:function(t,r){var i=t.document,o=t;i||(o=(i=t.ownerDocument?t.ownerDocument:t).defaultView);var a,s={bubbles:!0,cancelable:"mousemove"!==r,view:o,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};i.createEvent?(a=i.createEvent("MouseEvents")).initMouseEvent(r,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget||i.body.parentNode):a=i.createEventObject(),t.dispatchEvent?t.dispatchEvent(a):t.fireEvent("on".concat(r),a)}}]),n}();function Ree(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Dee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var jL="editorManager.navigation",d1="editorManager.handlingEditor",iz=function(){function n(e,t,r){var i=this;(function ske(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.instance=e,this.tableMeta=t,this.selection=r,this.eventManager=new ra(e),this.destroyed=!1,this.lock=!1,this.activeEditor=void 0,this.cellProperties=void 0,this.instance.getShortcutManager().addContext("editor"),this.registerShortcuts(),this.instance.addHook("afterDocumentKeyDown",function(s){return i.onAfterDocumentKeyDown(s)}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"compositionstart",function(s){!i.destroyed&&i.instance.isListening()&&i.openEditor("",s)}),this.instance.view._wt.update("onCellDblClick",function(s,a,u){return i.onCellDblClick(s,a,u)})}return function ake(n,e,t){e&&Dee(n.prototype,e),t&&Dee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerShortcuts",value:function(){var t=this,r=this.instance.getShortcutManager(),i=r.getContext("grid"),o=r.getContext("editor"),s={group:d1};o.addShortcuts([{keys:[["Enter"],["Enter","Shift"],["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],callback:function(u,c){t.closeEditorAndSaveChanges(r.isCtrlPressed()),t.moveSelectionAfterEnter(c.includes("shift"))}},{keys:[["Escape"],["Escape","Control/Meta"]],callback:function(){t.closeEditorAndRestoreOriginalValue(r.isCtrlPressed()),t.activeEditor.focus()}}],s),i.addShortcuts([{keys:[["F2"]],callback:function(u){t.openEditor(null,u,!0)}},{keys:[["Backspace"],["Delete"]],callback:function(){t.instance.emptySelectedCells(),t.prepareEditor()}},{keys:[["Enter"],["Enter","Shift"]],callback:function(u,c){t.instance.getSettings().enterBeginsEditing?t.cellProperties.readOnly?t.moveSelectionAfterEnter():t.openEditor(null,u,!0):t.moveSelectionAfterEnter(c.includes("shift")),rp(u)}}],s)}},{key:"lockEditor",value:function(){this.lock=!0}},{key:"unlockEditor",value:function(){this.lock=!1}},{key:"destroyEditor",value:function(t){this.lock||this.closeEditor(t)}},{key:"getActiveEditor",value:function(){return this.activeEditor}},{key:"prepareEditor",value:function(){var t=this;if(!this.lock){if(this.activeEditor&&this.activeEditor.isWaiting())return void this.closeEditor(!1,!1,function(S){S&&t.prepareEditor()});var r=this.instance.getSelectedRangeLast().highlight,i=r.row,o=r.col,s=this.instance.runHooks("modifyGetCellCoords",i,o),a=i,u=o;if(Array.isArray(s)){var c=function tke(n,e){return function oke(n){if(Array.isArray(n))return n}(n)||function ike(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function rke(n,e){if(n){if("string"==typeof n)return Ree(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ree(n,e)}}(n,e)||function nke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2);a=c[0],u=c[1]}this.cellProperties=this.instance.getCellMeta(a,u);var h=this.instance.rootDocument.activeElement;if(h&&h.blur(),!this.isCellEditable())return void this.clearActiveEditor();var p=this.instance.getCell(i,o,!0);if(p){var g=this.instance.getCellEditor(this.cellProperties),y=this.instance.colToProp(u),w=this.instance.getSourceDataAtCell(this.instance.toPhysicalRow(a),u);this.activeEditor=Eee(g,this.instance),this.activeEditor.prepare(i,o,y,p,w,this.cellProperties)}}}},{key:"isEditorOpened",value:function(){return this.activeEditor&&this.activeEditor.isOpened()}},{key:"openEditor",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.isCellEditable()){if(!this.activeEditor){var o=this.instance.getSelectedRangeLast().highlight,s=o.row,a=o.col,u=this.instance.rowIndexMapper.getRenderableFromVisualIndex(s),c=this.instance.columnIndexMapper.getRenderableFromVisualIndex(a);this.instance.view.scrollViewport(this.instance._createCellCoords(u,c)),this.instance.view.render(),this.prepareEditor()}this.activeEditor&&(i&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(t,r))}else this.clearActiveEditor()}},{key:"closeEditor",value:function(t,r,i){this.activeEditor?this.activeEditor.finishEditing(t,r,i):i&&i(!1)}},{key:"closeEditorAndSaveChanges",value:function(t){this.closeEditor(!1,t)}},{key:"closeEditorAndRestoreOriginalValue",value:function(t){this.closeEditor(!0,t)}},{key:"clearActiveEditor",value:function(){this.activeEditor=void 0}},{key:"isCellEditable",value:function(){var t=this.instance.getCellEditor(this.cellProperties),r=this.instance.getSelectedRangeLast().highlight,o=r.col,s=this.instance,u=s.columnIndexMapper,c=s.rowIndexMapper.isHidden(this.instance.toPhysicalRow(r.row))||u.isHidden(this.instance.toPhysicalColumn(o));return!(this.cellProperties.readOnly||!t||c)}},{key:"moveSelectionAfterEnter",value:function(t){var r="function"==typeof this.tableMeta.enterMoves?this.tableMeta.enterMoves(event):this.tableMeta.enterMoves;t?this.selection.transformStart(-r.row,-r.col):this.selection.transformStart(r.row,r.col,!0)}},{key:"onAfterDocumentKeyDown",value:function(t){var r=this;if(this.instance.isListening()){var i=t.keyCode;if(this.selection.isSelected()){var o=(t.ctrlKey||t.metaKey)&&!t.altKey;this.activeEditor&&(!this.activeEditor||this.activeEditor.isWaiting())||_ee(i)||function HOe(n){return[Or.CONTROL,Or.COMMAND_LEFT,Or.COMMAND_RIGHT,Or.COMMAND_FIREFOX].includes(n)}(i)||o||this.isEditorOpened()||(this.instance.getShortcutManager().getContext("editor").addShortcuts([{keys:[["ArrowUp"]],callback:function(){r.instance.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:function(){r.instance.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:function(){r.instance.selection.transformStart(0,-1*r.instance.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:function(){r.instance.selection.transformStart(0,r.instance.getDirectionFactor())}}],{runOnlyIf:function(){return fr(r.instance.getSelected())},group:jL}),this.openEditor("",t))}}}},{key:"onCellDblClick",value:function(t,r,i){"TD"===i.nodeName&&this.openEditor(null,t,!0)}},{key:"destroy",value:function(){this.destroyed=!0,this.eventManager.destroy()}}]),n}(),Aee=new WeakMap;iz.getInstance=function(n,e,t){var r=Aee.get(n);return r||(r=new iz(n,e,t),Aee.set(n,r)),r};const lke=iz;function oz(n){return function hke(n){if(Array.isArray(n))return sz(n)}(n)||function dke(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function cke(n,e){if(n){if("string"==typeof n)return sz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sz(n,e)}}(n)||function uke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}b(6019),b(9394),b(1695),b(149),b(4631);var Oee={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},fke=new RegExp(Object.keys(Oee).map(function(n){return"(".concat(n,")")}).join("|"),"gi");function pke(n){return"TABLE"===(n&&n.nodeName||"")}function kee(n){for(var e=n.hasColHeaders(),t=n.hasRowHeaders(),r=[e?-1:0,t?-1:0,n.countRows()-1,n.countCols()-1],i=n.getData.apply(n,r),o=i.length,s=o>0?i[0].length:0,a=["<table>","</table>"],u=e?["<thead>","</thead>"]:[],c=["<tbody>","</tbody>"],h=t?1:0,p=e?1:0,g=0;g<o;g+=1){for(var y=e&&0===g,w=[],S=0;S<s;S+=1){var C=!y&&t&&0===S,P="";if(y)P="<th>".concat(n.getColHeader(S-h),"</th>");else if(C)P="<th>".concat(n.getRowHeader(g-p),"</th>");else{var B=i[g][S],z=n.getCellMeta(g-p,S-h),X=z.rowspan,ie=z.colspan;if(!z.hidden){var me=[];if(X&&me.push('rowspan="'.concat(X,'"')),ie&&me.push('colspan="'.concat(ie,'"')),cl(B))P="<td ".concat(me.join(" "),"></td>");else{var re=B.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");P="<td ".concat(me.join(" "),">").concat(re,"</td>")}}}w.push(P)}var pe=["<tr>"].concat(w,["</tr>"]).join("");y?u.splice(1,0,pe):c.splice(-1,0,pe)}return a.splice(1,0,u.join(""),c.join("")),a.join("")}function Lee(n){for(var e=n.length,t=["<table>"],r=0;r<e;r+=1){var i=n[r],o=i.length,s=[];0===r&&t.push("<tbody>");for(var a=0;a<o;a+=1){var u=i[a],c=cl(u)?"":u.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");s.push("<td>".concat(c,"</td>"))}t.push.apply(t,["<tr>"].concat(s,["</tr>"])),r+1===e&&t.push("</tbody>")}return t.push("</table>"),t.join("")}function gke(n){return function bke(n){if(Array.isArray(n))return az(n)}(n)||function _ke(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function yke(n,e){if(n){if("string"==typeof n)return az(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return az(n,e)}}(n)||function vke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function az(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lz(n){return(lz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function eh(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=lz(n);if("number"===t)return!isNaN(n)&&isFinite(n);if("string"===t){if(0===n.length)return!1;if(1===n.length)return/\d/.test(n);var r=Array.from(new Set(["."].concat(gke(e)))).map(function(i){return"\\".concat(i)}).join("|");return new RegExp("^[+-]?\\s*(((".concat(r,")?\\d+((").concat(r,")\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$"),"i").test(n.trim())}return"object"===t&&!(!n||"number"!=typeof n.valueOf()||n instanceof Date)}function wke(n){return eh(n,[","])}function Vr(n,e,t){var r=-1;for("function"==typeof e?(t=e,e=n):r=n-1;++r<=e&&!1!==t(r););}function uz(n,e,t){var r=n+1;for("function"==typeof e&&(t=e,e=0);--r>=e&&!1!==t(r););}function Pee(n,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(n*e/100,10)}function Mke(n){return function Cke(n){if(Array.isArray(n))return cz(n)}(n)||function xke(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Iee(n)||function Ske(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eke(n,e){return function Dke(n){if(Array.isArray(n))return n}(n)||function Rke(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Iee(n,e)||function Tke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iee(n,e){if(n){if("string"==typeof n)return cz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cz(n,e)}}function cz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var dz="asc",Nee=new Map([[dz,[-1,1]],["desc",[1,-1]]]),Oke=function(e){return"The priority '".concat(e,"' is already declared in a map.")},kke=function(e){return"The priority '".concat(e,"' is not a number.")};function Pke(n){return function Fke(n){if(Array.isArray(n))return hz(n)}(n)||function Nke(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Hee(n)||function Ike(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fee(n,e){return function Vke(n){if(Array.isArray(n))return n}(n)||function Bke(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Hee(n,e)||function Hke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hee(n,e){if(n){if("string"==typeof n)return hz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hz(n,e)}}function hz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}b(7114);var zke=function(e){return"The id '".concat(e,"' is already declared in a map.")};function WL(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorIdExists,t=new Map;function r(h,p){if(c(h))throw new Error(e(h));t.set(h,p)}function i(h){return t.delete(h)}function o(){t.clear()}function s(h){var p=u().find(function(w){var S=Fee(w,2);return h===S[1]&&S[0]})||[null];return Fee(p,1)[0]}function a(h){return t.get(h)}function u(){return Pke(t)}function c(h){return t.has(h)}return e=xs(e)?e:zke,{addItem:r,clear:o,getId:s,getItem:a,getItems:u,hasItem:c,removeItem:i}}function Uke(n){return function Gke(n){if(Array.isArray(n))return fz(n)}(n)||function Yke(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Wke(n,e){if(n){if("string"==typeof n)return fz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fz(n,e)}}(n)||function jke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var $ke=function(e){return"'".concat(e,"' value is already declared in a unique set.")};function Bee(n){return function tLe(n){if(Array.isArray(n))return pz(n)}(n)||function eLe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Vee(n)||function Qke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vee(n,e){if(n){if("string"==typeof n)return pz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pz(n,e)}}function pz(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var mz=function(e){return'There is already registered "'.concat(e,'" plugin.')},zee=function Lke(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorPriorityExists,t=n.errorPriorityNaN,r=new Map;function i(s,a){if(!eh(s))throw new Error(t(s));if(r.has(s))throw new Error(e(s));r.set(s,a)}function o(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dz,a=Nee.get(s)||Nee.get(dz),u=Eke(a,2),c=u[0],h=u[1];return Mke(r).sort(function(p,g){return p[0]<g[0]?c:h}).map(function(p){return p[1]})}return e=xs(e)?e:Oke,t=xs(t)?t:kke,{addItem:i,getItems:o}}({errorPriorityExists:function(e){return'There is already registered plugin on priority "'.concat(e,'".')},errorPriorityNaN:function(e){return'The priority "'.concat(e,'" is not a number.')}}),Uee=function Xke(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorItemExists,t=new Set;function r(s){if(t.has(s))throw new Error(e(s));t.add(s)}function i(){return Uke(t)}function o(){t.clear()}return e=xs(e)?e:$ke,{addItem:r,clear:o,getItems:i}}({errorItemExists:mz}),gz=WL({errorIdExists:mz});function jee(){return[].concat(Bee(zee.getItems()),Bee(Uee.getItems()))}function vz(n){var e=km(n);return gz.getItem(e)}function Wo(n,e,t){var r=function sLe(n,e,t){return"function"==typeof n&&(n=(e=n).PLUGIN_KEY,t=e.PLUGIN_PRIORITY),[n,e,t]}(n,e,t),i=function Kke(n,e){return function Jke(n){if(Array.isArray(n))return n}(n)||function qke(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Vee(n,e)||function Zke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,3);e=i[1],t=i[2],void 0===vz(n=i[0])&&function oLe(n,e,t){var r=km(n);if(gz.hasItem(r))throw new Error(mz(r));void 0===t?Uee.addItem(r):zee.addItem(t,r),gz.addItem(r,e)}(n,e,t)}var h1=Qd("renderers"),aLe=h1.register,lLe=h1.getItem,Wee=h1.hasItem;function uLe(n){if("function"==typeof n)return n;if(!Wee(n))throw Error('No registered renderer found under "'.concat(n,'" name'));return lLe(n)}function Lm(n,e){"string"!=typeof n&&(n=(e=n).RENDERER_TYPE),aLe(n,e)}var f1=Qd("validators"),cLe=f1.register,dLe=f1.getItem,Yee=f1.hasItem;function hLe(n){if("function"==typeof n)return n;if(!Yee(n))throw Error('No registered validator found under "'.concat(n,'" name'));return dLe(n)}function p1(n,e){"string"!=typeof n&&(n=(e=n).VALIDATOR_TYPE),cLe(n,e)}function fLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Gee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(5281),b(4448);var $S=new WeakMap;const $ee=function(){function n(e,t,r,i,o,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;fLe(this,n),this.wtSettings=r,this.domBindings=t,this.wtTable=o,this.selections=s,this.parent=a,this.eventManager=i,this.facadeGetter=e,$S.set(this,{selectedCellBeforeTouchEnd:void 0,dblClickTimeout:[null,null],dblClickOrigin:[null,null]}),this.registerEvents()}return function pLe(n,e,t){e&&Gee(n.prototype,e),t&&Gee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(this.wtTable.holder,"contextmenu",function(o){return t.onContextMenu(o)}),this.eventManager.addEventListener(this.wtTable.TABLE,"mouseover",function(o){return t.onMouseOver(o)}),this.eventManager.addEventListener(this.wtTable.TABLE,"mouseout",function(o){return t.onMouseOut(o)});var r=function(){t.eventManager.addEventListener(t.wtTable.holder,"touchstart",function(s){return t.onTouchStart(s)}),t.eventManager.addEventListener(t.wtTable.holder,"touchend",function(s){return t.onTouchEnd(s)}),t.momentumScrolling||(t.momentumScrolling={}),t.eventManager.addEventListener(t.wtTable.holder,"scroll",function(){clearTimeout(t.momentumScrolling._timeout),t.momentumScrolling.ongoing||t.wtSettings.getSetting("onBeforeTouchScroll"),t.momentumScrolling.ongoing=!0,t.momentumScrolling._timeout=setTimeout(function(){t.touchApplied||(t.momentumScrolling.ongoing=!1,t.wtSettings.getSetting("onAfterMomentumScroll"))},200)})};np()?r():(HQ()&&r(),t.eventManager.addEventListener(t.wtTable.holder,"mouseup",function(s){return t.onMouseUp(s)}),t.eventManager.addEventListener(t.wtTable.holder,"mousedown",function(s){return t.onMouseDown(s)}))}},{key:"selectedCellWasTouched",value:function(t){var r=$S.get(this),o=this.parentCell(t).coords;if(r.selectedCellBeforeTouchEnd&&o){var s=[o.row,r.selectedCellBeforeTouchEnd.from.row],c=[o.col,r.selectedCellBeforeTouchEnd.from.col];return s[0]===s[1]&&c[0]===c[1]}return!1}},{key:"parentCell",value:function(t){var r={},o=LL(t,["TD","TH"],this.wtTable.TABLE);return o?(r.coords=this.wtTable.getCoords(o),r.TD=o):Ci(t,"wtBorder")&&Ci(t,"current")?(r.coords=this.selections.getCell().cellRange.highlight,r.TD=this.wtTable.getCell(r.coords)):Ci(t,"wtBorder")&&Ci(t,"area")&&this.selections.createOrGetArea().cellRange&&(r.coords=this.selections.createOrGetArea().cellRange.to,r.TD=this.wtTable.getCell(r.coords)),r}},{key:"onMouseDown",value:function(t){var r=$S.get(this),i=this.domBindings.rootDocument.activeElement,o=yee(_Oe,t.target),s=t.target;if(s!==i&&o(0)!==i&&o(1)!==i){var a=this.parentCell(s);Ci(s,"corner")?this.wtSettings.getSetting("onCellCornerMouseDown",t,s):a.TD&&this.wtSettings.has("onCellMouseDown")&&this.callListener("onCellMouseDown",t,a.coords,a.TD),(0===t.button||this.touchApplied)&&a.TD&&(r.dblClickOrigin[0]=a.TD,clearTimeout(r.dblClickTimeout[0]),r.dblClickTimeout[0]=setTimeout(function(){r.dblClickOrigin[0]=null},1e3))}}},{key:"onContextMenu",value:function(t){if(this.wtSettings.has("onCellContextMenu")){var r=this.parentCell(t.target);r.TD&&this.callListener("onCellContextMenu",t,r.coords,r.TD)}}},{key:"onMouseOver",value:function(t){if(this.wtSettings.has("onCellMouseOver")){var r=this.wtTable.TABLE,i=LL(t.target,["TD","TH"],r),o=this.parent||this;i&&i!==o.lastMouseOver&&kb(i,r)&&(o.lastMouseOver=i,this.callListener("onCellMouseOver",t,this.wtTable.getCoords(i),i))}}},{key:"onMouseOut",value:function(t){if(this.wtSettings.has("onCellMouseOut")){var r=this.wtTable.TABLE,i=LL(t.target,["TD","TH"],r),o=LL(t.relatedTarget,["TD","TH"],r);i&&i!==o&&kb(i,r)&&this.callListener("onCellMouseOut",t,this.wtTable.getCoords(i),i)}}},{key:"onMouseUp",value:function(t){var r=$S.get(this),i=this.parentCell(t.target);i.TD&&this.wtSettings.has("onCellMouseUp")&&this.callListener("onCellMouseUp",t,i.coords,i.TD),(0===t.button||this.touchApplied)&&(i.TD===r.dblClickOrigin[0]&&i.TD===r.dblClickOrigin[1]?(Ci(t.target,"corner")?this.callListener("onCellCornerDblClick",t,i.coords,i.TD):this.callListener("onCellDblClick",t,i.coords,i.TD),r.dblClickOrigin[0]=null,r.dblClickOrigin[1]=null):i.TD===r.dblClickOrigin[0]&&(r.dblClickOrigin[1]=i.TD,clearTimeout(r.dblClickTimeout[1]),r.dblClickTimeout[1]=setTimeout(function(){r.dblClickOrigin[1]=null},500)))}},{key:"onTouchStart",value:function(t){$S.get(this).selectedCellBeforeTouchEnd=this.selections.getCell().cellRange,this.touchApplied=!0,this.onMouseDown(t)}},{key:"onTouchEnd",value:function(t){var r,i=t.target,o=null===(r=this.parentCell(i))||void 0===r?void 0:r.coords,s=fr(o)&&o.row>=0&&o.col>=0;t.cancelable&&s&&this.wtSettings.getSetting("isDataViewInstance")&&(GQ()&&(function lOe(){return ud.chromeWebKit.value}()||function uOe(){return ud.firefoxWebKit.value}())&&this.selectedCellWasTouched(i)&&!["A","BUTTON","INPUT"].includes(i.tagName)?t.preventDefault():this.selectedCellWasTouched(i)||t.preventDefault()),this.onMouseUp(t),this.touchApplied=!1}},{key:"callListener",value:function(t,r,i,o){var s=this.wtSettings.getSettingPure(t);s&&s(r,i,o,this.facadeGetter())}},{key:"destroy",value:function(){var t=$S.get(this);clearTimeout(t.dblClickTimeout[0]),clearTimeout(t.dblClickTimeout[1]),this.eventManager.destroy()}}]),n}();function Xee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const _Le=function(){function n(e,t,r){(function gLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.offset=e,this.total=t,this.countTH=r}return function vLe(n,e,t){e&&Xee(n.prototype,e),t&&Xee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),n}();function Kee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const SLe=function(){function n(e,t,r){(function bLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.offset=e,this.total=t,this.countTH=r}return function wLe(n,e,t){e&&Kee(n.prototype,e),t&&Kee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceRowToVisibleColHeadedRow",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),n}();function Zee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var qee=function(){function n(){(function CLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.currentSize=0,this.nextSize=0,this.currentOffset=0,this.nextOffset=0}return function ELe(n,e,t){e&&Zee(n.prototype,e),t&&Zee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){this.currentSize=this.nextSize,this.nextSize=t}},{key:"setOffset",value:function(t){this.currentOffset=this.nextOffset,this.nextOffset=t}}]),n}();function Jee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var DLe=function(){function n(){(function TLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.size=new qee,this.workingSpace=0,this.sharedSize=null}return function RLe(n,e,t){e&&Jee(n.prototype,e),t&&Jee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){this.size.setSize(t)}},{key:"setOffset",value:function(t){this.size.setOffset(t)}},{key:"getViewSize",value:function(){return this.size}},{key:"isShared",value:function(){return this.sharedSize instanceof qee}},{key:"isPlaceOn",value:function(t){return this.workingSpace===t}},{key:"append",value:function(t){this.workingSpace=1,t.workingSpace=2,this.sharedSize=t.getViewSize()}},{key:"prepend",value:function(t){this.workingSpace=2,t.workingSpace=1,this.sharedSize=t.getViewSize()}}]),n}();function Qee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var ete=function(){function n(e,t,r){(function ALe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootNode=e,this.nodesPool=t,this.sizeSet=new DLe,this.childNodeType=r.toUpperCase(),this.visualIndex=0,this.collectedNodes=[]}return function OLe(n,e,t){e&&Qee(n.prototype,e),t&&Qee(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){return this.sizeSet.setSize(t),this}},{key:"setOffset",value:function(t){return this.sizeSet.setOffset(t),this}},{key:"isSharedViewSet",value:function(){return this.sizeSet.isShared()}},{key:"getNode",value:function(t){return t<this.collectedNodes.length?this.collectedNodes[t]:null}},{key:"getCurrentNode",value:function(){var t=this.collectedNodes.length;return t>0?this.collectedNodes[t-1]:null}},{key:"getRenderedChildCount",value:function(){var t=this.rootNode,r=this.sizeSet,i=0;if(this.isSharedViewSet())for(var o=t.firstElementChild;o;){if(o.tagName===this.childNodeType)i+=1;else if(r.isPlaceOn(1))break;o=o.nextElementSibling}else i=t.childElementCount;return i}},{key:"start",value:function(){this.collectedNodes.length=0,this.visualIndex=0;for(var t=this.rootNode,r=this.sizeSet,i=this.isSharedViewSet(),s=r.getViewSize().nextSize,a=this.getRenderedChildCount();a<s;){var u=this.nodesPool();!i||i&&r.isPlaceOn(2)?t.appendChild(u):t.insertBefore(u,t.firstChild),a+=1}for(var c=i&&r.isPlaceOn(1);a>s;)t.removeChild(c?t.firstChild:t.lastChild),a-=1}},{key:"render",value:function(){var t=this.rootNode,r=this.sizeSet,i=this.visualIndex;this.isSharedViewSet()&&r.isPlaceOn(2)&&(i+=r.sharedSize.nextSize);var o=t.childNodes[i];if(o.tagName!==this.childNodeType){var s=this.nodesPool();t.replaceChild(s,o),o=s}this.collectedNodes.push(o),this.visualIndex+=1}},{key:"end",value:function(){}}]),n}();function yz(n){return(yz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function kLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function tte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _z(n,e){return(_z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function NLe(n,e){if(e&&("object"===yz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function FLe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function $L(n){return($L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var nte=function(n){!function PLe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_z(n,e)}(t,n);var e=function ILe(n){var e=function HLe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=$L(n);if(e){var o=$L(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return NLe(this,i)}}(t);function t(){return kLe(this,t),e.apply(this,arguments)}return function LLe(n,e,t){e&&tte(n.prototype,e),t&&tte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prependView",value:function(i){return this.sizeSet.prepend(i.sizeSet),i.sizeSet.append(this.sizeSet),this}},{key:"appendView",value:function(i){return this.sizeSet.append(i.sizeSet),i.sizeSet.prepend(this.sizeSet),this}}]),t}(ete);function rte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var zLe=function(){function n(e){(function BLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.nodeType=e.toUpperCase()}return function VLe(n,e,t){e&&rte(n.prototype,e),t&&rte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setRootDocument",value:function(t){this.rootDocument=t}},{key:"obtain",value:function(){return this.rootDocument.createElement(this.nodeType)}}]),n}();function ite(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var m1=function(){function n(e,t){(function ULe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.nodesPool="string"==typeof e?new zLe(e):null,this.nodeType=e,this.rootNode=t,this.table=null,this.renderedNodes=0}return function jLe(n,e,t){e&&ite(n.prototype,e),t&&ite(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setTable",value:function(t){this.nodesPool&&this.nodesPool.setRootDocument(t.rootDocument),this.table=t}},{key:"adjust",value:function(){}},{key:"render",value:function(){}}]),n}();function bz(n){return(bz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ote(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function wz(n,e){return(wz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function XLe(n,e){if(e&&("object"===bz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function KLe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function XL(n){return(XL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var qLe=function(n){!function GLe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&wz(n,e)}(t,n);var e=function $Le(n){var e=function ZLe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=XL(n);if(e){var o=XL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return XLe(this,i)}}(t);function t(){var r;return function WLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this,"TH")).orderViews=new WeakMap,r.sourceRowIndex=0,r}return function YLe(n,e,t){e&&ote(n.prototype,e),t&&ote(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"obtainOrderView",value:function(i){var s,o=this;return this.orderViews.has(i)?s=this.orderViews.get(i):(s=new nte(i,function(a){return o.nodesPool.obtain(o.sourceRowIndex,a)},this.nodeType),this.orderViews.set(i,s)),s}},{key:"render",value:function(){for(var i=this.table,o=i.rowsToRender,s=i.rowHeaderFunctions,a=i.rowHeadersCount,u=i.rows,c=i.cells,h=0;h<o;h++){var p=this.table.renderedRowToSource(h),g=u.getRenderedNode(h);this.sourceRowIndex=p;var y=this.obtainOrderView(g),w=c.obtainOrderView(g);y.appendView(w).setSize(a).setOffset(this.table.renderedColumnToSource(0)).start();for(var S=0;S<a;S++){y.render();var C=y.getCurrentNode();C.className="",C.removeAttribute("style"),s[S](p,C,S)}y.end()}}}]),t}(m1);function Mz(n){return(Mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ste(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Sz(n,e){return(Sz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function nPe(n,e){if(e&&("object"===Mz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function rPe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function KL(n){return(KL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var oPe=function(n){!function ePe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Sz(n,e)}(t,n);var e=function tPe(n){var e=function iPe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=KL(n);if(e){var o=KL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return nPe(this,i)}}(t);function t(r){return function JLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,null,r)}return function QLe(n,e,t){e&&ste(n.prototype,e),t&&ste(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"adjust",value:function(){var i=this.table,o=i.columnHeadersCount,a=this.rootNode.firstChild;if(o){for(var c=this.table.columnsToRender+i.rowHeadersCount,h=0,p=o;h<p;h++){for((a=this.rootNode.childNodes[h])||(a=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(a)),this.renderedNodes=a.childNodes.length;this.renderedNodes<c;)a.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>c;)a.removeChild(a.lastChild),this.renderedNodes-=1}var g=this.rootNode.childNodes.length;if(g>o)for(var y=o;y<g;y++)this.rootNode.removeChild(this.rootNode.lastChild)}else a&&af(a)}},{key:"render",value:function(){for(var i=this.table.columnHeadersCount,o=0;o<i;o+=1)for(var s=this.table,a=s.columnHeaderFunctions,u=s.columnsToRender,c=s.rowHeadersCount,h=this.rootNode.childNodes[o],p=-1*c;p<u;p+=1){var g=this.table.renderedColumnToSource(p),y=h.childNodes[p+c];y.className="",y.removeAttribute("style"),a[o](g,y,o)}}}]),t}(m1);function xz(n){return(xz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ate(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Cz(n,e){return(Cz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function cPe(n,e){if(e&&("object"===xz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function dPe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ZL(n){return(ZL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var lte,fPe=function(n){!function lPe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Cz(n,e)}(t,n);var e=function uPe(n){var e=function hPe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ZL(n);if(e){var o=ZL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return cPe(this,i)}}(t);function t(r){return function sPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,null,r)}return function aPe(n,e,t){e&&ate(n.prototype,e),t&&ate(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"adjust",value:function(){for(var i=this.table,a=i.columnsToRender+i.rowHeadersCount;this.renderedNodes<a;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>a;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}},{key:"render",value:function(){this.adjust();for(var i=this.table,o=i.columnsToRender,s=i.rowHeadersCount,a=0;a<s;a++){var u=this.table.renderedColumnToSource(a),c=this.table.columnUtils.getHeaderWidth(u);this.rootNode.childNodes[a].style.width="".concat(c,"px")}for(var h=0;h<o;h++){var p=this.table.renderedColumnToSource(h),g=this.table.columnUtils.getStretchedColumnWidth(p);this.rootNode.childNodes[h+s].style.width="".concat(g,"px")}var y=this.rootNode.firstChild;y&&Rn(y,"rowHeader")}}]),t}(m1);function Ez(n){return(Ez="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ute(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Tz(n,e){return(Tz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function _Pe(n,e){if(e&&("object"===Ez(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function bPe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function qL(n){return(qL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var cte=!1,MPe=function(n){!function vPe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Tz(n,e)}(t,n);var e=function yPe(n){var e=function wPe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=qL(n);if(e){var o=qL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _Pe(this,i)}}(t);function t(r){var i;return function mPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,"TR",r)).orderView=new ete(r,function(o){return i.nodesPool.obtain(o)},i.nodeType),i}return function gPe(n,e,t){e&&ute(n.prototype,e),t&&ute(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getRenderedNode",value:function(i){return this.orderView.getNode(i)}},{key:"render",value:function(){var i=this.table.rowsToRender;!cte&&i>1e3&&(cte=!0,Cs(ds(lte||(lte=function pPe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting \n        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.'],['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting\\x20\n        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.']))))),this.orderView.setSize(i).setOffset(this.table.renderedRowToSource(0)).start();for(var o=0;o<i;o++)this.orderView.render();this.orderView.end()}}]),t}(m1);function Rz(n){return(Rz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function dte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Dz(n,e){return(Dz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function TPe(n,e){if(e&&("object"===Rz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function RPe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function JL(n){return(JL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var APe=function(n){!function CPe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Dz(n,e)}(t,n);var e=function EPe(n){var e=function DPe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=JL(n);if(e){var o=JL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return TPe(this,i)}}(t);function t(){var r;return function SPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this,"TD")).orderViews=new WeakMap,r.sourceRowIndex=0,r}return function xPe(n,e,t){e&&dte(n.prototype,e),t&&dte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"obtainOrderView",value:function(i){var s,o=this;return this.orderViews.has(i)?s=this.orderViews.get(i):(s=new nte(i,function(a){return o.nodesPool.obtain(o.sourceRowIndex,a)},this.nodeType),this.orderViews.set(i,s)),s}},{key:"render",value:function(){for(var i=this.table,o=i.rowsToRender,s=i.columnsToRender,a=i.rows,u=i.rowHeaders,c=0;c<o;c++){var h=this.table.renderedRowToSource(c),p=a.getRenderedNode(c);this.sourceRowIndex=h;var g=this.obtainOrderView(p),y=u.obtainOrderView(p);g.prependView(y).setSize(s).setOffset(this.table.renderedColumnToSource(0)).start();for(var w=0;w<s;w++){g.render();var S=g.getCurrentNode(),C=this.table.renderedColumnToSource(w);Ci(S,"hide")||(S.className=""),S.removeAttribute("style"),S.removeAttribute("dir"),this.table.cellRenderer(h,C,S)}g.end()}}}]),t}(m1);function OPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var LPe=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.cellRenderer;OPe(this,n),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.rowHeaders=null,this.columnHeaders=null,this.colGroup=null,this.rows=null,this.cells=null,this.rowFilter=null,this.columnFilter=null,this.rowUtils=null,this.columnUtils=null,this.rowsToRender=0,this.columnsToRender=0,this.rowHeaderFunctions=[],this.rowHeadersCount=0,this.columnHeaderFunctions=[],this.columnHeadersCount=0,this.cellRenderer=r}return function kPe(n,e,t){e&&hte(n.prototype,e),t&&hte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setAxisUtils",value:function(t,r){this.rowUtils=t,this.columnUtils=r}},{key:"setViewportSize",value:function(t,r){this.rowsToRender=t,this.columnsToRender=r}},{key:"setFilters",value:function(t,r){this.rowFilter=t,this.columnFilter=r}},{key:"setHeaderContentRenderers",value:function(t,r){this.rowHeaderFunctions=t,this.rowHeadersCount=t.length,this.columnHeaderFunctions=r,this.columnHeadersCount=r.length}},{key:"setRenderers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.rowHeaders,i=t.columnHeaders,o=t.colGroup,s=t.rows,a=t.cells;r.setTable(this),i.setTable(this),o.setTable(this),s.setTable(this),a.setTable(this),this.rowHeaders=r,this.columnHeaders=i,this.colGroup=o,this.rows=s,this.cells=a}},{key:"renderedRowToSource",value:function(t){return this.rowFilter.renderedToSource(t)}},{key:"renderedColumnToSource",value:function(t){return this.columnFilter.renderedToSource(t)}},{key:"render",value:function(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();for(var t=this.rowsToRender,r=this.rows,i=0;i<t;i++){var o=r.getRenderedNode(i);if(o.firstChild){var s=this.renderedRowToSource(i),a=this.rowUtils.getHeight(s);o.firstChild.style.height=a?"".concat(a-1,"px"):""}}}}]),n}();function PPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var NPe=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TABLE,r=e.THEAD,i=e.COLGROUP,o=e.TBODY,s=e.rowUtils,a=e.columnUtils,u=e.cellRenderer;PPe(this,n),this.renderer=new LPe(t,{cellRenderer:u}),this.renderer.setRenderers({rowHeaders:new qLe,columnHeaders:new oPe(r),colGroup:new fPe(i),rows:new MPe(o),cells:new APe}),this.renderer.setAxisUtils(s,a)}return function IPe(n,e,t){e&&fte(n.prototype,e),t&&fte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setFilters",value:function(t,r){return this.renderer.setFilters(t,r),this}},{key:"setViewportSize",value:function(t,r){return this.renderer.setViewportSize(t,r),this}},{key:"setHeaderContentRenderers",value:function(t,r){return this.renderer.setHeaderContentRenderers(t,r),this}},{key:"adjust",value:function(){this.renderer.adjust()}},{key:"render",value:function(){this.renderer.render()}}]),n}();function pte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var BPe=function(){function n(e,t){(function FPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wtSettings=t,this.headerWidths=new Map}return function HPe(n,e,t){e&&pte(n.prototype,e),t&&pte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getWidth",value:function(t){return this.wtSettings.getSetting("columnWidth",t)||this.wtSettings.getSetting("defaultColumnWidth")}},{key:"getStretchedColumnWidth",value:function(t){var r=this.dataAccessObject.wtViewport.columnsRenderCalculator,i=this.getWidth(t);if(r){var o=r.getStretchedColumnWidth(t,i);o&&(i=o)}return i}},{key:"getHeaderHeight",value:function(t){var r=this.wtSettings.getSetting("defaultRowHeight"),i=this.dataAccessObject.wtViewport.oversizedColumnHeaders[t];return void 0!==i&&(r=r?Math.max(r,i):i),r}},{key:"getHeaderWidth",value:function(t){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(t))}},{key:"calculateWidths",value:function(){var t=this.wtSettings,r=this.dataAccessObject,o=r.wtViewport,s=r.cloneSource,a=s?s.wtTable.holder:r.wtTable.holder,u=a.offsetHeight<a.scrollHeight?El():0,c=t.getSetting("rowHeaderWidth");if(o.columnsRenderCalculator.refreshStretching(o.getViewportWidth()-u),null!=(c=t.getSetting("onModifyRowHeaderWidth",c)))for(var h=t.getSetting("rowHeaders").length,p=t.getSetting("defaultColumnWidth"),g=0;g<h;g++){var y=Array.isArray(c)?c[g]:c;this.headerWidths.set(g,y=null==y?p:y)}}}]),n}();function mte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var UPe=function(){function n(e,t){(function VPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wtSettings=t}return function zPe(n,e,t){e&&mte(n.prototype,e),t&&mte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getHeight",value:function(t){var r=this.wtSettings.getSetting("rowHeight",t),i=this.dataAccessObject.wtViewport.oversizedRows[t];return void 0!==i&&(r=void 0===r?i:Math.max(r,i)),r}}]),n}(),Hb="top",ip="bottom",Bb="inline_start",Vb="top_inline_start_corner",ty="bottom_inline_start_corner",jPe=[Hb,ip,Bb,Vb,ty],WPe=new Map([[Hb,"ht_clone_".concat(Hb)],[ip,"ht_clone_".concat(ip)],[Bb,"ht_clone_".concat(Bb," ht_clone_left")],[Vb,"ht_clone_".concat(Vb," ht_clone_top_left_corner")],[ty,"ht_clone_".concat(ty," ht_clone_bottom_left_corner")]]);function gte(n,e){if(n){if("string"==typeof n)return Az(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Az(n,e)}}function Az(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function op(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const XS=function(){function n(e,t,r,i,o){var s=this;(function QPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),op(this,"wtSettings",null),op(this,"domBindings",void 0),op(this,"TBODY",null),op(this,"THEAD",null),op(this,"COLGROUP",null),op(this,"hasTableHeight",!0),op(this,"hasTableWidth",!0),op(this,"isTableVisible",!1),op(this,"tableOffset",0),op(this,"holderOffset",0),this.domBindings=r,this.isMaster="master"===o,this.name=o,this.dataAccessObject=e,this.facadeGetter=t,this.wtSettings=i,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=r.rootTable,nee(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var a=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",function(){return s._modifyRowHeaderWidth(a)}),this.rowUtils=new UPe(this.dataAccessObject,this.wtSettings),this.columnUtils=new BPe(this.dataAccessObject,this.wtSettings),this.tableRenderer=new NPe({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}return function eIe(n,e,t){e&&vte(n.prototype,e),t&&vte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"is",value:function(t){return this.name===t}},{key:"fixTableDomTree",value:function(){var t=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=t.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=t.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=t.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}},{key:"createSpreader",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ci(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).className="wtSpreader",r&&r.insertBefore(i,t),i.appendChild(t)),i.style.position="relative",i}},{key:"createHider",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ci(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).className="wtHider",r&&r.insertBefore(i,t),i.appendChild(t)),i}},{key:"createHolder",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ci(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).style.position="relative",i.className="wtHolder",r&&r.insertBefore(i,t),this.isMaster&&(i.parentNode.className+="ht_master handsontable",i.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr")),i.appendChild(t)),i}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.wtSettings,i=this.dataAccessObject,o=i.wtOverlays,s=i.wtViewport,a=r.getSetting("totalRows"),u=r.getSetting("totalColumns"),c=r.getSetting("rowHeaders"),h=c.length,p=r.getSetting("columnHeaders"),g=p.length,y=!1,w=t;if(this.isMaster&&(this.holderOffset=ja(this.holder),w=s.createRenderCalculators(w),h&&!r.getSetting("fixedColumnsStart"))){var S=o.inlineStartOverlay.getScrollPosition(),C=this.correctHeaderWidth;this.correctHeaderWidth=0!==S,C!==this.correctHeaderWidth&&(w=!1)}if(this.isMaster&&(y=o.updateStateOfRendering()),w)this.isMaster&&s.createVisibleCalculators(),o&&o.refresh(!0);else{this.tableOffset=this.isMaster?ja(this.TABLE):this.dataAccessObject.parentTableOffset;var P=a>0?this.getFirstRenderedRow():0,B=u>0?this.getFirstRenderedColumn():0;this.rowFilter=new SLe(P,a,g),this.columnFilter=new _Le(B,u,h);var X,z=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();var j={};this.wtSettings.getSetting("beforeDraw",!0,j),z=!0!==j.skipRender}if(z)if(this.tableRenderer.setHeaderContentRenderers(c,p),(this.is(ip)||this.is(ty))&&this.tableRenderer.setHeaderContentRenderers(c,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render(),this.isMaster&&(X=this.dataAccessObject.workspaceWidth,this.dataAccessObject.wtViewport.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(ip))&&this.markOversizedRows(),this.isMaster){this.dataAccessObject.wtViewport.createVisibleCalculators(),this.dataAccessObject.wtOverlays.refresh(!1),this.dataAccessObject.wtOverlays.applyToDOM();var ie=cs(this.hider),me=cs(this.TABLE);0!==ie&&me!==ie&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),X!==this.dataAccessObject.wtViewport.getWorkspaceWidth()&&(this.dataAccessObject.wtViewport.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(ip)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}var re=!1;return this.isMaster&&(re=o.topOverlay.resetFixedPosition(),o.bottomOverlay.clone&&(re=o.bottomOverlay.resetFixedPosition()||re),re=o.inlineStartOverlay.resetFixedPosition()||re,o.topInlineStartCornerOverlay&&o.topInlineStartCornerOverlay.resetFixedPosition(),o.bottomInlineStartCornerOverlay&&o.bottomInlineStartCornerOverlay.clone&&o.bottomInlineStartCornerOverlay.resetFixedPosition()),re?(o.refreshAll(),o.adjustElementsSize()):this.refreshSelections(w),y&&o.syncScrollWithMaster(),this.dataAccessObject.drawn=!0,this}},{key:"markIfOversizedColumnHeader",value:function(t){for(var s,a,u,r=this.columnFilter.renderedToSource(t),i=this.wtSettings.getSetting("columnHeaders").length,o=this.wtSettings.getSetting("defaultRowHeight"),c=this.wtSettings.getSetting("columnHeaderHeight")||[];i;)s=this.getColumnHeaderHeight(i-=1),(a=this.getColumnHeader(r,i))&&(u=ey(a),(!s&&o<u||s<u)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=u),Array.isArray(c)?null!=c[i]&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c[i]):isNaN(c)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c),this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]<(c[i]||c)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c[i]||c))}},{key:"adjustColumnHeaderHeights",value:function(){for(var r=this.THEAD.childNodes,i=this.dataAccessObject.wtViewport.oversizedColumnHeaders,s=0,a=this.wtSettings.getSetting("columnHeaders").length;s<a;s++)if(i[s]){if(!r[s]||0===r[s].childNodes.length)return;r[s].childNodes[0].style.height="".concat(i[s],"px")}}},{key:"resetOversizedRows",value:function(){var t=this.wtSettings,r=this.dataAccessObject.wtViewport;if((this.isMaster||this.is(ip))&&!t.getSetting("externalRowCalculator"))for(var i=this.getRenderedRowsCount(),o=0;o<i;o++){var s=this.rowFilter.renderedToSource(o);r.oversizedRows&&r.oversizedRows[s]&&(r.oversizedRows[s]=void 0)}}},{key:"removeClassFromCells",value:function(t){for(var r=this.TABLE.querySelectorAll(".".concat(t)),i=0,o=r.length;i<o;i++)Bi(r[i],t)}},{key:"refreshSelections",value:function(t){var r=this.wtSettings,i=this.dataAccessObject.selections;if(i){var o=Array.from(i),s=o.length;if(t){for(var a=[],u=0;u<s;u++){for(var c=o[u].settings,h=c.highlightHeaderClassName,p=c.highlightRowClassName,g=c.highlightColumnClassName,y=o[u].classNames,w=y.length,S=0;S<w;S++)a.includes(y[S])||a.push(y[S]);h&&!a.includes(h)&&a.push(h),p&&!a.includes(p)&&a.push(p),g&&!a.includes(g)&&a.push(g)}var C=r.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(C))for(var P=0;P<C.length;P++)a.push(C[P]);for(var B=a.length,z=0;z<B;z++)this.removeClassFromCells(a[z])}for(var j=0;j<s;j++)o[j].draw(this.facadeGetter(),t)}}},{key:"getCell",value:function(t){var a,r=t.row,i=t.col,o=this.wtSettings.getSetting("onModifyGetCellCoords",r,i);if(o&&Array.isArray(o)){var s=function KPe(n,e){return function JPe(n){if(Array.isArray(n))return n}(n)||function qPe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||gte(n,e)||function ZPe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,2);r=s[0],i=s[1]}if(this.isRowBeforeRenderedRows(r))return-1;if(this.isRowAfterRenderedRows(r))return-2;if(this.isColumnBeforeRenderedColumns(i))return-3;if(this.isColumnAfterRenderedColumns(i))return-4;if(!(a=r<0?this.THEAD.childNodes[this.rowFilter.sourceRowToVisibleColHeadedRow(r)]:this.TBODY.childNodes[this.rowFilter.sourceToRendered(r)])&&r>=0)throw new Error("TR was expected to be rendered but is not");var u=a.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(i)];if(!u&&i>=0)throw new Error("TD or TH was expected to be rendered but is not");return u}},{key:"getColumnHeader",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.THEAD.childNodes[r];return null==i?void 0:i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]}},{key:"getColumnHeaders",value:function(t){var r=[],i=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t);return this.THEAD.childNodes.forEach(function(o){var s=o.childNodes[i];s&&r.push(s)}),r}},{key:"getRowHeader",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0!==this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0)){var i=this.wtSettings.getSetting("rowHeaders").length;if(!(r>=i)){var o=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return null==o?void 0:o.childNodes[r]}}}},{key:"getRowHeaders",value:function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return[];for(var r=[],i=this.wtSettings.getSetting("rowHeaders").length,o=0;o<i;o++){var s=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)],a=null==s?void 0:s.childNodes[o];a&&r.push(a)}return r}},{key:"getCoords",value:function(t){var r=t;if("TD"!==r.nodeName&&"TH"!==r.nodeName&&(r=Ob(r,["TD","TH"])),null===r)return null;var i=r.parentNode,o=i.parentNode,s=function wOe(n){var e=0,t=n;if(t.previousSibling)for(;t=t.previousSibling;)e+=1;return e}(i),a=r.cellIndex;return Lb(Vb,r,this.wtRootElement)||Lb(Hb,r,this.wtRootElement)?"THEAD"===o.nodeName&&(s-=o.childNodes.length):s=Lb(ty,r,this.wtRootElement)||Lb(ip,r,this.wtRootElement)?this.wtSettings.getSetting("totalRows")-o.childNodes.length+s:o===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(s):this.rowFilter.renderedToSource(s),a=Lb(Vb,r,this.wtRootElement)||Lb(Bb,r,this.wtRootElement)||Lb(ty,r,this.wtRootElement)?this.columnFilter.offsettedTH(a):this.columnFilter.visibleRowHeadedColumnToSourceColumn(a),this.wot.createCellCoords(s,a)}},{key:"markOversizedRows",value:function(){if(!this.wtSettings.getSetting("externalRowCalculator")){var o,s,a,u,c,t=this.TBODY.childNodes.length;if(t*this.wtSettings.getSetting("defaultRowHeight")!=ey(this.TBODY)-1||this.wtSettings.getSetting("fixedRowsBottom"))for(;t;)a=this.rowFilter.renderedToSource(t-=1),o=this.getRowHeight(a),s=(c=(u=this.getTrForRow(a)).querySelector("th"))?ey(c):ey(u)-1,(!o&&this.wtSettings.getSetting("defaultRowHeight")<s||o<s)&&(this.dataAccessObject.wtViewport.oversizedRows[a]=s+=1)}}},{key:"getTrForRow",value:function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]}},{key:"isColumnHeaderRendered",value:function(t){if(t>=0)return!1;var i=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(t)<=i}},{key:"isRowHeaderRendered",value:function(t){if(t>=0)return!1;var i=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(t)<=i}},{key:"isRowBeforeRenderedRows",value:function(t){var r=this.getFirstRenderedRow();return t<0&&r<=0?!this.isRowHeaderRendered(t):t<r}},{key:"isRowAfterRenderedRows",value:function(t){return t>this.getLastRenderedRow()}},{key:"isColumnBeforeRenderedColumns",value:function(t){var r=this.getFirstRenderedColumn();return t<0&&r<=0?!this.isColumnHeaderRendered(t):t<r}},{key:"isColumnAfterRenderedColumns",value:function(t){return this.columnFilter&&t>this.getLastRenderedColumn()}},{key:"isColumnAfterViewport",value:function(t){return this.columnFilter&&t>this.getLastVisibleColumn()}},{key:"isRowAfterViewport",value:function(t){return this.rowFilter&&t>this.getLastVisibleRow()}},{key:"isColumnBeforeViewport",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)<0&&t>=0}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"allRowsInViewport",value:function(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}},{key:"allColumnsInViewport",value:function(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}},{key:"getRowHeight",value:function(t){return this.rowUtils.getHeight(t)}},{key:"getColumnHeaderHeight",value:function(t){return this.columnUtils.getHeaderHeight(t)}},{key:"getColumnWidth",value:function(t){return this.columnUtils.getWidth(t)}},{key:"getStretchedColumnWidth",value:function(t){return this.columnUtils.getStretchedColumnWidth(t)}},{key:"hasDefinedSize",value:function(){return this.hasTableHeight&&this.hasTableWidth}},{key:"getWidth",value:function(){return cs(this.TABLE)}},{key:"getHeight",value:function(){return na(this.TABLE)}},{key:"getTotalWidth",value:function(){var t=cs(this.hider);return 0!==t?t:this.getWidth()}},{key:"getTotalHeight",value:function(){var t=na(this.hider);return 0!==t?t:this.getHeight()}},{key:"isVisible",value:function(){return n1(this.TABLE)}},{key:"_modifyRowHeaderWidth",value:function(t){var r=xs(t)?t():null;return Array.isArray(r)?(r=function YPe(n){return function XPe(n){if(Array.isArray(n))return Az(n)}(n)||function $Pe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||gte(n)||function GPe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r))[r.length-1]=this._correctRowHeaderWidth(r[r.length-1]):r=this._correctRowHeaderWidth(r),r}},{key:"_correctRowHeaderWidth",value:function(t){var r=t;return"number"!=typeof t&&(r=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(r+=1),r}}]),n}();var yte={getFirstRenderedRow:function(){return 0===this.wtSettings.getSetting("totalRows")?-1:0},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.getRenderedRowsCount()-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),e)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};Om(yte,"MIXIN_NAME","stickyRowsTop",{writable:!1,enumerable:!1});const _te=yte;var bte={getFirstRenderedColumn:function(){var e=this.dataAccessObject.startColumnRendered;return null===e?-1:e},getFirstVisibleColumn:function(){var e=this.dataAccessObject.startColumnVisible;return null===e?-1:e},getLastRenderedColumn:function(){var e=this.dataAccessObject.endColumnRendered;return null===e?-1:e},getLastVisibleColumn:function(){var e=this.dataAccessObject.endColumnVisible;return null===e?-1:e},getRenderedColumnsCount:function(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount:function(){return this.dataAccessObject.countColumnsVisible}};Om(bte,"MIXIN_NAME","calculatedColumns",{writable:!1,enumerable:!1});const Oz=bte;function kz(n){return(kz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function wte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Lz(n,e){return(Lz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function lIe(n,e){if(e&&("object"===kz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function uIe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function QL(n){return(QL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Pz=function(n){!function sIe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Lz(n,e)}(t,n);var e=function aIe(n){var e=function cIe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=QL(n);if(e){var o=QL(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return lIe(this,i)}}(t);function t(r,i,o,s){return function oIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,Hb)}return function iIe(n,e,t){return e&&wte(n.prototype,e),t&&wte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(XS);ys(Pz,_te),ys(Pz,Oz);const dIe=Pz;function Mte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Iz(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const mIe=function(){function n(e){(function hIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),Iz(this,"dataAccessObject",void 0),Iz(this,"lastScrolledColumnPos",-1),Iz(this,"lastScrolledRowPos",-1),this.dataAccessObject=e}return function fIe(n,e,t){e&&Mte(n.prototype,e),t&&Mte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"scrollViewport",value:function(t,r,i,o,s){var a=this.scrollViewportHorizontally(t.col,i,s),u=this.scrollViewportVertically(t.row,r,o);return a||u}},{key:"scrollViewportHorizontally",value:function(t,r,i){var o=this.dataAccessObject,a=o.totalColumns;if(!o.drawn||!Number.isInteger(t)||t<0||t>a)return!1;var u=this.getFirstVisibleColumn(),c=this.getLastVisibleColumn(),h=void 0===r&&void 0===i,p=this.dataAccessObject,y=p.inlineStartOverlay;if(h&&t<p.fixedColumnsStart)return!1;var w=!1;return-1===u?w=y.scrollTo(t,h?t>this.lastScrolledColumnPos:r):(h&&(t<u||t>c)||!h)&&(w=y.scrollTo(t,h?t>c:r)),w&&(this.lastScrolledColumnPos=t),w}},{key:"scrollViewportVertically",value:function(t,r,i){var o=this.dataAccessObject,a=o.totalRows;if(!o.drawn||!Number.isInteger(t)||t<0||t>a)return!1;var u=this.getFirstVisibleRow(),c=this.getLastVisibleRow(),h=void 0===r&&void 0===i,p=this.dataAccessObject,w=p.topOverlay;if(h&&(t<p.fixedRowsTop||t>a-p.fixedRowsBottom-1))return!1;var S=!1;return-1===u?S=w.scrollTo(t,h?t>this.lastScrolledRowPos:i):(h&&(t<u||t>c)||!h)&&(S=w.scrollTo(t,h?t>c:i)),S&&(this.lastScrolledRowPos=t),S}},{key:"getFirstVisibleRow",value:function(){var t=this.dataAccessObject,r=t.topOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalRows,a=t.fixedRowsTop,u=t.rootWindow,c=i.getFirstVisibleRow();if(r.mainTableScrollableElement===u){var h=ja(i.wtRootElement),p=ey(i.hider),g=ey(u),y=IL(u,u);if(h.top+p-g<=y){var w=o.getColumnHeaderHeight();w+=r.sumCellSizes(0,a);for(var S=s;S>0;S--)if(w+=r.sumCellSizes(S-1,S),h.top+p-w<=y){c=S;break}}}return c}},{key:"getLastVisibleRow",value:function(){var t=this.dataAccessObject,r=t.topOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalRows,a=t.rootWindow,u=i.getLastVisibleRow();if(r.mainTableScrollableElement===a){var c=ja(i.wtRootElement),h=IL(a,a);if(c.top>h)for(var p=ey(a),g=o.getColumnHeaderHeight(),y=1;y<=s;y++)if(g+=r.sumCellSizes(y-1,y),c.top+g-h>=p){u=y-2;break}}return u}},{key:"getFirstVisibleColumn",value:function(){var t=this.dataAccessObject,r=t.inlineStartOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalColumns,a=t.rootWindow,u=i.getFirstVisibleColumn();if(r.mainTableScrollableElement===a){var c=ja(i.wtRootElement),h=FL(i.hider),p=FL(a),g=Math.abs(WV(a,a));if(c.left+h-p<=g)for(var y=o.getRowHeaderWidth(),w=s;w>0;w--)if(y+=r.sumCellSizes(w-1,w),c.left+h-y<=g){u=w;break}}return u}},{key:"getLastVisibleColumn",value:function(){var t=this.dataAccessObject,r=t.inlineStartOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalColumns,a=t.rootWindow,u=i.getLastVisibleColumn();if(r.mainTableScrollableElement===a){var c=ja(i.wtRootElement),h=Math.abs(WV(a,a));if(c.left>h)for(var p=FL(a),g=o.getRowHeaderWidth(),y=1;y<=s;y++)if(g+=r.sumCellSizes(y-1,y),c.left+g-h>=p){u=y-2;break}}return u}}]),n}();function gIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ste(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function yIe(n,e,t){(function _Ie(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function xte(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g1(n,e){return function bIe(n,e){return e.get?e.get.call(n):e.value}(n,Cte(n,e,"get"))}function wIe(n,e,t){return function MIe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Cte(n,e,"set"),t),t}function Cte(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var zb=new WeakMap;const Nz=function(){function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];gIe(this,n),xte(this,"row",null),xte(this,"col",null),yIe(this,zb,{writable:!0,value:!1}),wIe(this,zb,r),void 0!==e&&void 0!==t&&(this.row=e,this.col=t)}return function vIe(n,e,t){e&&Ste(n.prototype,e),t&&Ste(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"isValid",value:function(t){return!(this.row<0||this.col<0||this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns"))}},{key:"isEqual",value:function(t){return t===this||this.row===t.row&&this.col===t.col}},{key:"isSouthEastOf",value:function(t){return this.row>=t.row&&(g1(this,zb)?this.col<=t.col:this.col>=t.col)}},{key:"isNorthWestOf",value:function(t){return this.row<=t.row&&(g1(this,zb)?this.col>=t.col:this.col<=t.col)}},{key:"isSouthWestOf",value:function(t){return this.row>=t.row&&(g1(this,zb)?this.col>=t.col:this.col<=t.col)}},{key:"isNorthEastOf",value:function(t){return this.row<=t.row&&(g1(this,zb)?this.col<=t.col:this.col>=t.col)}},{key:"normalize",value:function(){return this.row=null===this.row?this.row:Math.max(this.row,0),this.col=null===this.col?this.col:Math.max(this.col,0),this}},{key:"clone",value:function(){return new n(this.row,this.col,g1(this,zb))}},{key:"toObject",value:function(){return{row:this.row,col:this.col}}}]),n}();function xIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ete(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function EIe(n,e,t){(function TIe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Fz(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sp(n,e){return function RIe(n,e){return e.get?e.get.call(n):e.value}(n,Tte(n,e,"get"))}function DIe(n,e,t){return function AIe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Tte(n,e,"set"),t),t}function Tte(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var th=new WeakMap;const Rte=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];xIe(this,n),Fz(this,"highlight",null),Fz(this,"from",null),Fz(this,"to",null),EIe(this,th,{writable:!0,value:!1}),this.highlight=e.clone().normalize(),this.from=t.clone(),this.to=r.clone(),DIe(this,th,i)}return function CIe(n,e,t){e&&Ete(n.prototype,e),t&&Ete(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setHighlight",value:function(t){return this.highlight=t.clone().normalize(),this}},{key:"setFrom",value:function(t){return this.from=t.clone(),this}},{key:"setTo",value:function(t){return this.to=t.clone(),this}},{key:"isValid",value:function(t){return this.from.isValid(t)&&this.to.isValid(t)}},{key:"isSingle",value:function(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}},{key:"getOuterHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getOuterWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"getHeight",value:function(){var t=Math.max(this.from.row,0),r=Math.max(this.to.row,0);return Math.max(t,r)-Math.min(t,r)+1}},{key:"getWidth",value:function(){var t=Math.max(this.from.col,0),r=Math.max(this.to.col,0);return Math.max(t,r)-Math.min(t,r)+1}},{key:"getCellsCount",value:function(){return this.getWidth()*this.getHeight()}},{key:"includes",value:function(t){var r=t.row,i=t.col,o=this.getOuterTopStartCorner(),s=this.getOuterBottomEndCorner();return o.row<=r&&s.row>=r&&o.col<=i&&s.col>=i}},{key:"includesRange",value:function(t){return this.includes(t.getOuterTopStartCorner())&&this.includes(t.getOuterBottomEndCorner())}},{key:"isEqual",value:function(t){return Math.min(this.from.row,this.to.row)===Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(t.from.col,t.to.col)}},{key:"overlaps",value:function(t){return t.isSouthEastOf(this.getOuterTopLeftCorner())&&t.isNorthWestOf(this.getOuterBottomRightCorner())}},{key:"isSouthEastOf",value:function(t){return this.getOuterTopLeftCorner().isSouthEastOf(t)||this.getOuterBottomRightCorner().isSouthEastOf(t)}},{key:"isNorthWestOf",value:function(t){return this.getOuterTopLeftCorner().isNorthWestOf(t)||this.getOuterBottomRightCorner().isNorthWestOf(t)}},{key:"isOverlappingHorizontally",value:function(t){return this.getOuterTopRightCorner().col>=t.getOuterTopLeftCorner().col&&this.getOuterTopRightCorner().col<=t.getOuterTopRightCorner().col||this.getOuterTopLeftCorner().col<=t.getOuterTopRightCorner().col&&this.getOuterTopLeftCorner().col>=t.getOuterTopLeftCorner().col}},{key:"isOverlappingVertically",value:function(t){return this.getOuterBottomRightCorner().row>=t.getOuterTopRightCorner().row&&this.getOuterBottomRightCorner().row<=t.getOuterBottomRightCorner().row||this.getOuterTopRightCorner().row<=t.getOuterBottomRightCorner().row&&this.getOuterTopRightCorner().row>=t.getOuterTopRightCorner().row}},{key:"expand",value:function(t){var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();return(t.row<r.row||t.col<r.col||t.row>i.row||t.col>i.col)&&(this.from=this._createCellCoords(Math.min(r.row,t.row),Math.min(r.col,t.col)),this.to=this._createCellCoords(Math.max(i.row,t.row),Math.max(i.col,t.col)),!0)}},{key:"expandByRange",value:function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),o=this.getDirection(),s=t.getOuterTopStartCorner(),a=t.getOuterBottomEndCorner(),u=Math.min(r.row,s.row),c=Math.min(r.col,s.col),h=Math.max(i.row,a.row),p=Math.max(i.col,a.col),g=this._createCellCoords(u,c),y=this._createCellCoords(h,p);return this.from=g,this.to=y,this.setDirection(o),this.highlight.row===this.getOuterBottomRightCorner().row&&"N-S"===this.getVerticalDirection()&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&"W-E"===this.getHorizontalDirection()&&this.flipDirectionHorizontally(),!0}},{key:"getDirection",value:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}},{key:"setDirection",value:function(t){switch(t){case"NW-SE":var r=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];this.from=r[0],this.to=r[1];break;case"NE-SW":var i=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];this.from=i[0],this.to=i[1];break;case"SE-NW":var o=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];this.from=o[0],this.to=o[1];break;case"SW-NE":var s=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];this.from=s[0],this.to=s[1]}}},{key:"getVerticalDirection",value:function(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}},{key:"getHorizontalDirection",value:function(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}},{key:"flipDirectionVertically",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE")}}},{key:"flipDirectionHorizontally",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW")}}},{key:"getTopStartCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getTopLeftCorner",value:function(){return sp(this,th)?this.getTopEndCorner():this.getTopStartCorner()}},{key:"getBottomEndCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getBottomRightCorner",value:function(){return sp(this,th)?this.getBottomStartCorner():this.getBottomEndCorner()}},{key:"getTopEndCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getTopRightCorner",value:function(){return sp(this,th)?this.getTopStartCorner():this.getTopEndCorner()}},{key:"getBottomStartCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getBottomLeftCorner",value:function(){return sp(this,th)?this.getBottomEndCorner():this.getBottomStartCorner()}},{key:"getOuterTopStartCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getOuterTopLeftCorner",value:function(){return sp(this,th)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}},{key:"getOuterBottomEndCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterBottomRightCorner",value:function(){return sp(this,th)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}},{key:"getOuterTopEndCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterTopRightCorner",value:function(){return sp(this,th)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}},{key:"getOuterBottomStartCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getOuterBottomLeftCorner",value:function(){return sp(this,th)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}},{key:"isCorner",value:function(t,r){return!!(r&&r.includes(t)&&(this.getOuterTopLeftCorner().isEqual(this._createCellCoords(r.from.row,r.from.col))||this.getOuterTopRightCorner().isEqual(this._createCellCoords(r.from.row,r.to.col))||this.getOuterBottomLeftCorner().isEqual(this._createCellCoords(r.to.row,r.from.col))||this.getOuterBottomRightCorner().isEqual(this._createCellCoords(r.to.row,r.to.col))))||t.isEqual(this.getOuterTopLeftCorner())||t.isEqual(this.getOuterTopRightCorner())||t.isEqual(this.getOuterBottomLeftCorner())||t.isEqual(this.getOuterBottomRightCorner())}},{key:"getOppositeCorner",value:function(t,r){if(!(t instanceof Nz))return!1;if(r){var i=r.from,o=r.to;if(r.includes(t)){if(this.getOuterTopStartCorner().isEqual(this._createCellCoords(i.row,i.col)))return this.getOuterBottomEndCorner();if(this.getOuterTopEndCorner().isEqual(this._createCellCoords(i.row,o.col)))return this.getOuterBottomStartCorner();if(this.getOuterBottomStartCorner().isEqual(this._createCellCoords(o.row,i.col)))return this.getOuterTopEndCorner();if(this.getOuterBottomEndCorner().isEqual(this._createCellCoords(o.row,o.col)))return this.getOuterTopStartCorner()}}return t.isEqual(this.getOuterBottomEndCorner())?this.getOuterTopStartCorner():t.isEqual(this.getOuterTopStartCorner())?this.getOuterBottomEndCorner():t.isEqual(this.getOuterTopEndCorner())?this.getOuterBottomStartCorner():t.isEqual(this.getOuterBottomStartCorner())?this.getOuterTopEndCorner():void 0}},{key:"getBordersSharedWith",value:function(t){if(!this.includesRange(t))return[];var r_top=Math.min(this.from.row,this.to.row),r_bottom=Math.max(this.from.row,this.to.row),r_left=Math.min(this.from.col,this.to.col),r_right=Math.max(this.from.col,this.to.col),i_top=Math.min(t.from.row,t.to.row),i_bottom=Math.max(t.from.row,t.to.row),i_left=Math.min(t.from.col,t.to.col),i_right=Math.max(t.from.col,t.to.col),o=[];return r_top===i_top&&o.push("top"),r_right===i_right&&o.push("right"),r_bottom===i_bottom&&o.push("bottom"),r_left===i_left&&o.push("left"),o}},{key:"getInner",value:function(){for(var t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[],o=t.row;o<=r.row;o++)for(var s=t.col;s<=r.col;s++)(this.from.row!==o||this.from.col!==s)&&(this.to.row!==o||this.to.col!==s)&&i.push(this._createCellCoords(o,s));return i}},{key:"getAll",value:function(){for(var t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[],o=t.row;o<=r.row;o++)for(var s=t.col;s<=r.col;s++)i.push(t.row===o&&t.col===s?t:r.row===o&&r.col===s?r:this._createCellCoords(o,s));return i}},{key:"forAll",value:function(t){for(var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),o=r.row;o<=i.row;o++)for(var s=r.col;s<=i.col;s++)if(!1===t(o,s))return}},{key:"clone",value:function(){return new n(this.highlight,this.from,this.to,sp(this,th))}},{key:"toObject",value:function(){return{from:this.from.toObject(),to:this.to.toObject()}}},{key:"_createCellCoords",value:function(t,r){return new Nz(t,r,sp(this,th))}}]),n}();function Dte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function lf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Hz=function(){function n(e,t){(function kIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),lf(this,"wtTable",void 0),lf(this,"wtScroll",void 0),lf(this,"wtViewport",void 0),lf(this,"wtOverlays",void 0),lf(this,"selections",void 0),lf(this,"wtEvent",void 0),lf(this,"guid","wt_".concat(ZQ())),lf(this,"drawInterrupted",!1),lf(this,"drawn",!1),lf(this,"domBindings",void 0),lf(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=t,this.wtScroll=new mIe(this.createScrollDao())}return function LIe(n,e,t){e&&Dte(n.prototype,e),t&&Dte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"eventManager",get:function(){return new ra(this)}},{key:"findOriginalHeaders",value:function(){var t=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var r=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;r<i;r++)t.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(o,s){Ib(s,t[o])}])}}},{key:"createCellCoords",value:function(t,r){return new Nz(t,r,this.wtSettings.getSetting("rtlMode"))}},{key:"createCellRange",value:function(t,r,i){return new Rte(t,r,i,this.wtSettings.getSetting("rtlMode"))}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,t||this.wtTable.isVisible()?this.wtTable.draw(t):this.drawInterrupted=!0,this}},{key:"getCell",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!r)return this.wtTable.getCell(t);var i=this.wtSettings.getSetting("totalRows"),o=this.wtSettings.getSetting("fixedRowsTop"),s=this.wtSettings.getSetting("fixedRowsBottom"),a=this.wtSettings.getSetting("fixedColumnsStart");if(t.row<o&&t.col<a)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(t);if(t.row<o)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<a&&t.row>=i-s){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<a)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(t);if(t.row<i&&t.row>=i-s&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)}},{key:"scrollViewport",value:function(t,r,i,o,s){return!(t.col<0||t.row<0)&&this.wtScroll.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return!(t<0)&&this.wtScroll.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return!(t<0)&&this.wtScroll.scrollViewportVertically(t,r,i)}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}},{key:"createScrollDao",value:function(){var t=this;return{get drawn(){return t.drawn},get topOverlay(){return t.wtOverlays.topOverlay},get inlineStartOverlay(){return t.wtOverlays.inlineStartOverlay},get wtTable(){return t.wtTable},get wtViewport(){return t.wtViewport},get rootWindow(){return t.domBindings.rootWindow},get totalRows(){return t.wtSettings.getSetting("totalRows")},get totalColumns(){return t.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return t.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return t.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return t.wtSettings.getSetting("fixedColumnsStart")}}}},{key:"getTableDao",value:function(){var t=this;return{get wot(){return t},get parentTableOffset(){return t.cloneSource.wtTable.tableOffset},get cloneSource(){return t.cloneSource},get workspaceWidth(){return t.wtViewport.getWorkspaceWidth()},get wtViewport(){return t.wtViewport},get wtOverlays(){return t.wtOverlays},get selections(){return t.selections},get drawn(){return t.drawn},set drawn(r){t.drawn=r},get wtTable(){return t.wtTable},get startColumnRendered(){return t.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return t.wtViewport.columnsVisibleCalculator.startColumn},get endColumnRendered(){return t.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return t.wtViewport.columnsVisibleCalculator.endColumn},get countColumnsRendered(){return t.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return t.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return t.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return t.wtViewport.rowsVisibleCalculator.startRow},get endRowRendered(){return t.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return t.wtViewport.rowsVisibleCalculator.endRow},get countRowsRendered(){return t.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return t.wtViewport.rowsVisibleCalculator.count}}}}]),n}();function Bz(n){return(Bz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ate(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Vz(n,e){return(Vz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function HIe(n,e){if(e&&("object"===Bz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return eP(n)}function eP(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tP(n){return(tP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Ote(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var VIe=function(n){!function NIe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Vz(n,e)}(t,n);var e=function FIe(n){var e=function BIe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=tP(n);if(e){var o=tP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return HIe(this,i)}}(t);function t(r,i,o){var s;(function IIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),Ote(eP(s=e.call(this,r,i)),"cloneSource",void 0),Ote(eP(s),"cloneOverlay",void 0);var a=s.wtSettings.getSetting("facade",eP(s));return s.cloneSource=o.source,s.cloneOverlay=o.overlay,s.wtTable=s.cloneOverlay.createTable(s.getTableDao(),a,s.domBindings,s.wtSettings),s.wtViewport=o.viewport,s.selections=o.selections,s.wtEvent=new $ee(a,s.domBindings,s.wtSettings,s.eventManager,s.wtTable,s.selections,o.event),s.findOriginalHeaders(),s}return function PIe(n,e,t){return e&&Ate(n.prototype,e),t&&Ate(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(Hz);function kte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var v1=function(){function n(e,t,r,i,o){(function zIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function jIe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(this,"wtSettings",null),Om(this,"wot",e,{writable:!1}),this.domBindings=o,this.facadeGetter=t,this.wtSettings=i;var s=this.wot.wtTable,a=s.TABLE,u=s.hider,c=s.spreader,h=s.holder,p=s.wtRootElement;this.instance=this.wot,this.type=r,this.mainTableScrollableElement=null,this.TABLE=a,this.hider=u,this.spreader=c,this.holder=h,this.wtRootElement=p,this.trimmingContainer=o1(this.hider.parentNode.parentNode),this.updateStateOfRendering(),this.clone=this.makeClone()}return function UIe(n,e,t){e&&kte(n.prototype,e),t&&kte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateStateOfRendering",value:function(){var t=this.needFullRender;this.needFullRender=this.shouldBeRendered();var r=t!==this.needFullRender;return r&&!this.needFullRender&&this.reset(),r}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=o1(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){var t=this.wot.wtTable;this.mainTableScrollableElement="hidden"===this.domBindings.rootWindow.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")?this.wot.wtTable.holder:NL(t.TABLE)}},{key:"getRelativeCellPosition",value:function(t,r,i){if(!1!==this.clone.wtTable.holder.contains(t)){var o=this.mainTableScrollableElement===this.domBindings.rootWindow,s=i<this.wtSettings.getSetting("fixedColumnsStart"),a=r<this.wtSettings.getSetting("fixedRowsTop"),u=r>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),c=this.clone.wtTable.spreader,h={start:this.getRelativeStartPosition(c),top:c.offsetTop},p={start:this.getRelativeStartPosition(t),top:t.offsetTop};return o?this.getRelativeCellPositionWithinWindow(a,s,p,h):this.getRelativeCellPositionWithinHolder(a,u,s,p,h)}Cs("The provided element is not a child of the ".concat(this.type," overlay"))}},{key:"getRelativeStartPosition",value:function(t){return this.isRtl()?t.offsetParent.offsetWidth-t.offsetLeft-t.offsetWidth:t.offsetLeft}},{key:"getRelativeCellPositionWithinWindow",value:function(t,r,i,o){var s=this.wot.wtTable.wtRootElement.getBoundingClientRect(),a=0,u=0;if(r){var c=s.left;this.isRtl()&&(c=this.domBindings.rootWindow.innerWidth-(s.left+s.width+El())),a=c<=0?-1*c:0}else a=o.start;return u=t?this.clone.wtTable.TABLE.getBoundingClientRect().top-s.top:o.top,{start:i.start+a,top:i.top+u}}},{key:"getRelativeCellPositionWithinHolder",value:function(t,r,i,o,s){var a_horizontal=this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),a_vertical=this.wot.wtOverlays.topOverlay.getScrollPosition(),u=0,c=0;if(i||(u=a_horizontal-s.start),r){var h=this.wot.wtTable.wtRootElement.getBoundingClientRect();c=-1*this.clone.wtTable.TABLE.getBoundingClientRect().top+h.top}else t||(c=a_vertical-s.top);return{start:o.start-u,top:o.top-c}}},{key:"makeClone",value:function(){if(-1===jPe.indexOf(this.type))throw new Error('Clone type "'.concat(this.type,'" is not supported.'));var t=this.wot.wtTable,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=i.createElement("DIV"),a=i.createElement("TABLE"),u=t.wtRootElement.parentNode;s.className="".concat(WPe.get(this.type)," handsontable"),s.setAttribute("dir",this.isRtl()?"rtl":"ltr"),s.style.position="absolute",s.style.top=0,s.style.overflow="visible",this.isRtl()?s.style.right=0:s.style.left=0,a.className=t.TABLE.className,s.appendChild(a),u.appendChild(s);var c=this.wtSettings.getSetting("preventOverflow");return this.mainTableScrollableElement=!0===c||"horizontal"===c&&this.type===Hb||"vertical"===c&&this.type===Bb?o:"hidden"===o.getComputedStyle(u).getPropertyValue("overflow")?t.holder:NL(t.TABLE),new VIe(a,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selections:this.wot.selections})}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.shouldBeRendered();this.clone&&(this.needFullRender||r)&&this.clone.draw(t),this.needFullRender=r}},{key:"reset",value:function(){if(this.clone){var t=this.clone.wtTable.holder;tt([t.style,this.clone.wtTable.hider.style,t.parentNode.style],function(a){a.width="",a.height=""})}}},{key:"isRtl",value:function(){return this.wtSettings.getSetting("rtlMode")}},{key:"destroy",value:function(){this.clone.eventManager.destroy()}}]),n}();function zz(n){return(zz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function nP(n,e,t){return(nP=Ite()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&rP(c,s.prototype),c}).apply(null,arguments)}function Lte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function rP(n,e){return(rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function XIe(n,e){if(e&&("object"===zz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pte(n)}function Pte(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ite(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function iP(n){return(iP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var ZIe=function(n){!function GIe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rP(n,e)}(t,n);var e=function $Ie(n){var e=Ite();return function(){var i,r=iP(n);if(e){var o=iP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return XIe(this,i)}}(t);function t(r,i,o,s){var a;return function WIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function KIe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(Pte(a=e.call(this,r,i,Hb,o,s)),"cachedFixedRowsTop",-1),a.cachedFixedRowsTop=a.wtSettings.getSetting("fixedRowsTop"),a}return function YIe(n,e,t){e&&Lte(n.prototype,e),t&&Lte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return nP(dIe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var i=this.clone.wtTable.holder.parentNode,o=this.domBindings.rootWindow,s=this.wtSettings.getSetting("preventOverflow"),a=0,u=!1;if(this.trimmingContainer!==o||s&&"vertical"===s)a=this.getScrollPosition(),BL(i);else{var h=this.wot.wtTable.hider.getBoundingClientRect();u=Math.ceil(h.bottom)===i.offsetHeight,a=this.getOverlayOffset(),$V(i,"0px","".concat(a,"px"))}var y=this.adjustHeaderBordersPosition(a,u);return this.adjustElementsSize(),y}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.mainTableScrollableElement===o&&o.scrollY!==i?(o.scrollTo(jS(o),i),s=!0):this.mainTableScrollableElement.scrollTop!==i&&(this.mainTableScrollableElement.scrollTop=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wtSettings.getSetting("defaultRowHeight"),a=i,u=0;a<o;){var c=this.wot.wtTable.getRowHeight(a);u+=void 0===c?s:c,a+=1}return u}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot.wtTable,o=this.domBindings,a=o.rootWindow,u=El(o.rootDocument),h=this.clone.wtTable.holder.parentNode.style,p=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==a||"horizontal"===p){var g=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(g-=u),g=Math.min(g,i.wtRootElement.scrollWidth),h.width="".concat(g,"px")}else h.width="";this.clone.wtTable.holder.style.width=h.width;var y=na(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(y=0),h.height="".concat(y,"px")}},{key:"adjustRootChildrenSize",value:function(){var i,o=this.clone.wtTable.holder,s=this.wot.selections,a=this.facadeGetter(),u=Math.abs(null!==(i=null==s?void 0:s.getCell().getBorder(a).cornerCenterPointOffset)&&void 0!==i?i:0);this.clone.wtTable.hider.style.width=this.hider.style.width,o.style.width=o.parentNode.style.width,o.style.height="".concat(parseInt(o.parentNode.style.height,10)+u,"px")}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalRows");if("number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){var i=this.isRtl()?"right":"left";this.clone.wtTable.spreader.style[i]="number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.wot,a=this.wtSettings,c=(s.cloneSource?s.cloneSource:s).wtTable.holder,h=this.getTableParentOffset(),p=0;if(o&&this.wot.wtTable.getRowHeight(i)>this.wot.wtViewport.getViewportHeight()&&(o=!1),o&&c.offsetHeight!==c.clientHeight&&(p=El(this.domBindings.rootDocument)),o){var w=a.getSetting("fixedRowsBottom"),S=a.getSetting("totalRows");h+=this.sumCellSizes(0,i+1),h-=s.wtViewport.getViewportHeight()-this.sumCellSizes(S-w,S),h+=1}else h+=this.sumCellSizes(a.getSetting("fixedRowsTop"),i);return this.setScrollPosition(h+=p)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return IL(this.mainTableScrollableElement,this.domBindings.rootWindow)}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;if(this.trimmingContainer===i&&(!o||"vertical"!==o)){var c=this.wot.wtTable.getTotalHeight()-this.clone.wtTable.getTotalHeight();(s=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0))>c&&(s=0)}return s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.wot.wtTable.holder.parentNode,a=this.wtSettings.getSetting("totalColumns");a?Bi(s,"emptyColumns"):Rn(s,"emptyColumns");var u=!1;if(!o){var c=this.wtSettings.getSetting("fixedRowsTop"),h=this.cachedFixedRowsTop!==c,p=this.wtSettings.getSetting("columnHeaders");if((h||0===c)&&p.length>0){var g=Ci(s,"innerBorderTop");this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop"),i||0===this.wtSettings.getSetting("totalRows")?(Rn(s,"innerBorderTop"),u=!g):(Bi(s,"innerBorderTop"),u=g)}}return u}}]),t}(v1),Nte={getFirstRenderedRow:function(){var e=this.wtSettings.getSetting("totalRows"),t=this.wtSettings.getSetting("fixedRowsBottom"),r=e-t;return 0===e||0===t?-1:r<0?0:r},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),e)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};Om(Nte,"MIXIN_NAME","stickyRowsBottom",{writable:!1,enumerable:!1});const Fte=Nte;function Uz(n){return(Uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Hte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function jz(n,e){return(jz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function nNe(n,e){if(e&&("object"===Uz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function rNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function oP(n){return(oP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Wz=function(n){!function eNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&jz(n,e)}(t,n);var e=function tNe(n){var e=function iNe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=oP(n);if(e){var o=oP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return nNe(this,i)}}(t);function t(r,i,o,s){return function QIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,ip)}return function JIe(n,e,t){return e&&Hte(n.prototype,e),t&&Hte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(XS);ys(Wz,Fte),ys(Wz,Oz);const oNe=Wz;function Yz(n){return(Yz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function sP(n,e,t){return(sP=zte()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&aP(c,s.prototype),c}).apply(null,arguments)}function Bte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function aP(n,e){return(aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function cNe(n,e){if(e&&("object"===Yz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vte(n)}function Vte(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zte(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function lP(n){return(lP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var hNe=function(n){!function lNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&aP(n,e)}(t,n);var e=function uNe(n){var e=zte();return function(){var i,r=lP(n);if(e){var o=lP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return cNe(this,i)}}(t);function t(r,i,o,s){var a;return function sNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function dNe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(Vte(a=e.call(this,r,i,ip,o,s)),"cachedFixedRowsBottom",-1),a.cachedFixedRowsBottom=a.wtSettings.getSetting("fixedRowsBottom"),a}return function aNe(n,e,t){e&&Bte(n.prototype,e),t&&Bte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return sP(oNe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var i=this.domBindings.rootWindow,o=this.clone.wtTable.holder.parentNode;o.style.top="";var s=0,a=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer!==i||a&&"vertical"===a?(s=this.getScrollPosition(),this.repositionOverlay()):(s=this.getOverlayOffset(),o.style.bottom="".concat(s,"px"));var u=this.adjustHeaderBordersPosition(s);return this.adjustElementsSize(),u}},{key:"repositionOverlay",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings.rootDocument,u=this.clone.wtTable.holder.parentNode,c=0;s.hasVerticalScroll()||(c+=s.getWorkspaceHeight()-o.getTotalHeight()),s.hasVerticalScroll()&&s.hasHorizontalScroll()&&(c+=El(a)),u.style.bottom="".concat(c,"px")}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.mainTableScrollableElement===o?(o.scrollTo(jS(o),i),s=!0):this.mainTableScrollableElement.scrollTop!==i&&(this.mainTableScrollableElement.scrollTop=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wot,a=s.wtTable,c=s.wtSettings.getSetting("defaultRowHeight"),h=i,p=0;h<o;){var g=a.getRowHeight(h);p+=void 0===g?c:g,h+=1}return p}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings,c=a.rootWindow,h=El(a.rootDocument),g=this.clone.wtTable.holder.parentNode.style,y=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==c||"horizontal"===y){var w=s.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(w-=h),w=Math.min(w,o.wtRootElement.scrollWidth),g.width="".concat(w,"px")}else g.width="";this.clone.wtTable.holder.style.width=g.width;var S=na(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(S=0),g.height="".concat(S,"px")}},{key:"adjustRootChildrenSize",value:function(){var i=this.clone.wtTable.holder;this.clone.wtTable.hider.style.width=this.hider.style.width,i.style.width=i.parentNode.style.width,i.style.height=i.parentNode.style.height}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalRows");if("number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){var i=this.isRtl()?"right":"left";this.clone.wtTable.spreader.style[i]="number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.getTableParentOffset(),u=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,c=0;o&&u.offsetHeight!==u.clientHeight&&(c=El(this.domBindings.rootDocument)),o?(s+=this.sumCellSizes(0,i+1),s-=this.wot.wtViewport.getViewportHeight(),s+=1):s+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),i),this.setScrollPosition(s+=c)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return IL(this.mainTableScrollableElement,this.domBindings.rootWindow)}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;if(this.trimmingContainer===i&&(!o||"vertical"!==o)){var a=this.wot.wtTable.getTotalHeight(),c=a-this.clone.wtTable.getTotalHeight(),h=this.domBindings.rootDocument.documentElement.clientHeight;(s=Math.max(this.getTableParentOffset()-this.getScrollPosition()-h+a,0))>c&&(s=0)}return s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=this.wtSettings.getSetting("fixedRowsBottom"),s=this.cachedFixedRowsBottom!==o,a=this.wtSettings.getSetting("columnHeaders"),u=!1;if((s||0===o)&&a.length>0){var c=this.wot.wtTable.holder.parentNode,h=Ci(c,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),i||0===this.wtSettings.getSetting("totalRows")?(Rn(c,"innerBorderBottom"),u=!h):(Bi(c,"innerBorderBottom"),u=h)}return u}}]),t}(v1),Ute={getFirstRenderedRow:function(){var e=this.dataAccessObject.startRowRendered;return null===e?-1:e},getFirstVisibleRow:function(){var e=this.dataAccessObject.startRowVisible;return null===e?-1:e},getLastRenderedRow:function(){var e=this.dataAccessObject.endRowRendered;return null===e?-1:e},getLastVisibleRow:function(){var e=this.dataAccessObject.endRowVisible;return null===e?-1:e},getRenderedRowsCount:function(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount:function(){return this.dataAccessObject.countRowsVisible}};Om(Ute,"MIXIN_NAME","calculatedRows",{writable:!1,enumerable:!1});const jte=Ute;var Wte={getFirstRenderedColumn:function(){return 0===this.wtSettings.getSetting("totalColumns")?-1:0},getFirstVisibleColumn:function(){return this.getFirstRenderedColumn()},getLastRenderedColumn:function(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn:function(){return this.getLastRenderedColumn()},getRenderedColumnsCount:function(){var e=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),e)},getVisibleColumnsCount:function(){return this.getRenderedColumnsCount()}};Om(Wte,"MIXIN_NAME","stickyColumnsStart",{writable:!1,enumerable:!1});const Gz=Wte;function $z(n){return($z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Yte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Xz(n,e){return(Xz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function _Ne(n,e){if(e&&("object"===$z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function bNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function uP(n){return(uP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Kz=function(n){!function vNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Xz(n,e)}(t,n);var e=function yNe(n){var e=function wNe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=uP(n);if(e){var o=uP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _Ne(this,i)}}(t);function t(r,i,o,s){return function gNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,Bb)}return function mNe(n,e,t){return e&&Yte(n.prototype,e),t&&Yte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(XS);ys(Kz,jte),ys(Kz,Gz);const MNe=Kz;function Zz(n){return(Zz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function cP(n,e,t){return(cP=$te()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&dP(c,s.prototype),c}).apply(null,arguments)}function Gte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function dP(n,e){return(dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function TNe(n,e){if(e&&("object"===Zz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function RNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function $te(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function hP(n){return(hP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var DNe=function(n){!function CNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dP(n,e)}(t,n);var e=function ENe(n){var e=$te();return function(){var i,r=hP(n);if(e){var o=hP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return TNe(this,i)}}(t);function t(r,i,o,s){return function SNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,Bb,o,s)}return function xNe(n,e,t){e&&Gte(n.prototype,e),t&&Gte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return cP(MNe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var o=this.domBindings.rootWindow,s=this.clone.wtTable.holder.parentNode,a=this.wtSettings.getSetting("preventOverflow"),u=0;this.trimmingContainer!==o||a&&"horizontal"===a?(u=this.getScrollPosition(),BL(s)):(u=this.getOverlayOffset()*(this.isRtl()?-1:1),$V(s,"".concat(u,"px"),"0px"));var c=this.adjustHeaderBordersPosition(u);return this.adjustElementsSize(),c}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.isRtl()&&(i=-i),this.mainTableScrollableElement===o&&o.scrollX!==i?(o.scrollTo(i,r1(o)),s=!0):this.mainTableScrollableElement.scrollLeft!==i&&(this.mainTableScrollableElement.scrollLeft=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wtSettings.getSetting("defaultColumnWidth"),a=i,u=0;a<o;)u+=this.wot.wtTable.getStretchedColumnWidth(a)||s,a+=1;return u}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot.wtTable,o=this.domBindings,a=o.rootWindow,u=El(o.rootDocument),h=this.clone.wtTable.holder.parentNode.style,p=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==a||"vertical"===p){var g=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(g-=u),g=Math.min(g,i.wtRootElement.scrollHeight),h.height="".concat(g,"px")}else h.height="";this.clone.wtTable.holder.style.height=h.height;var y=cs(this.clone.wtTable.TABLE);h.width="".concat(y,"px")}},{key:"adjustRootChildrenSize",value:function(){var i,o=this.clone.wtTable.holder,s=this.wot.selections,a=this.facadeGetter(),u=Math.abs(null!==(i=null==s?void 0:s.getCell().getBorder(a).cornerCenterPointOffset)&&void 0!==i?i:0);this.clone.wtTable.hider.style.height=this.hider.style.height,o.style.height=o.parentNode.style.height,o.style.width="".concat(parseInt(o.parentNode.style.width,10)+u,"px")}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalColumns"),o=this.isRtl()?"right":"left";if("number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style[o]="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style[o]="0"}this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){this.clone.wtTable.spreader.style.top="number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.getTableParentOffset(),u=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,c=0;return o&&this.wot.wtTable.getColumnWidth(i)>this.wot.wtViewport.getViewportWidth()&&(o=!1),o&&u.offsetWidth!==u.clientWidth&&(c=El(this.domBindings.rootDocument)),o?(s+=this.sumCellSizes(0,i+1),s-=this.wot.wtViewport.getViewportWidth()):s+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),i),this.setScrollPosition(s+=c)}},{key:"getTableParentOffset",value:function(){var o=0;return!this.wtSettings.getSetting("preventOverflow")&&this.trimmingContainer===this.domBindings.rootWindow&&(o=this.wot.wtTable.holderOffset.left),o}},{key:"getScrollPosition",value:function(){return Math.abs(WV(this.mainTableScrollableElement,this.domBindings.rootWindow))}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;return this.trimmingContainer!==i||o&&"horizontal"===o||(s=this.isRtl()?Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):Math.max(this.getScrollPosition()-this.getTableParentOffset(),0))>this.wot.wtTable.getTotalWidth()-this.clone.wtTable.getTotalWidth()&&(s=0),s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=this.wot.wtTable.holder.parentNode,s=this.wtSettings.getSetting("rowHeaders"),a=this.wtSettings.getSetting("fixedColumnsStart");this.wtSettings.getSetting("totalRows")?Bi(o,"emptyRows"):Rn(o,"emptyRows");var c=!1;if(a&&!s.length)Rn(o,"innerBorderLeft innerBorderInlineStart");else if(!a&&s.length){var h=Ci(o,"innerBorderInlineStart");i?(Rn(o,"innerBorderLeft innerBorderInlineStart"),c=!h):(Bi(o,"innerBorderLeft innerBorderInlineStart"),c=h)}return c}}]),t}(v1);function qz(n){return(qz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Xte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Jz(n,e){return(Jz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function PNe(n,e){if(e&&("object"===qz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function INe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function fP(n){return(fP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Qz=function(n){!function kNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Jz(n,e)}(t,n);var e=function LNe(n){var e=function NNe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=fP(n);if(e){var o=fP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return PNe(this,i)}}(t);function t(r,i,o,s){return function ONe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,Vb)}return function ANe(n,e,t){return e&&Xte(n.prototype,e),t&&Xte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(XS);ys(Qz,_te),ys(Qz,Gz);const FNe=Qz;function eU(n){return(eU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pP(n,e,t){return(pP=Zte()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&mP(c,s.prototype),c}).apply(null,arguments)}function Kte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function mP(n,e){return(mP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function UNe(n,e){if(e&&("object"===eU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tU(n)}function tU(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Zte(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function gP(n){return(gP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function qte(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var jNe=function(n){!function VNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&mP(n,e)}(t,n);var e=function zNe(n){var e=Zte();return function(){var i,r=gP(n);if(e){var o=gP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return UNe(this,i)}}(t);function t(r,i,o,s,a,u){var c;return function HNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),qte(tU(c=e.call(this,r,i,Vb,o,s)),"topOverlay",void 0),qte(tU(c),"inlineStartOverlay",void 0),c.topOverlay=a,c.inlineStartOverlay=u,c}return function BNe(n,e,t){e&&Kte(n.prototype,e),t&&Kte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return pP(FNe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;var i=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){var o=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),s=this.topOverlay.getOverlayOffset();$V(i,"".concat(o,"px"),"".concat(s,"px"))}else BL(i);var a=na(this.clone.wtTable.TABLE),u=cs(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(a=0),i.style.height="".concat(a,"px"),i.style.width="".concat(u,"px"),!1}}]),t}(v1);function nU(n){return(nU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Jte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function rU(n,e){return(rU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function XNe(n,e){if(e&&("object"===nU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function KNe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function vP(n){return(vP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var iU=function(n){!function GNe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rU(n,e)}(t,n);var e=function $Ne(n){var e=function ZNe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=vP(n);if(e){var o=vP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return XNe(this,i)}}(t);function t(r,i,o,s){return function YNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,ty)}return function WNe(n,e,t){return e&&Jte(n.prototype,e),t&&Jte(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(XS);ys(iU,Fte),ys(iU,Gz);const qNe=iU;function oU(n){return(oU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function yP(n,e,t){return(yP=ene()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&_P(c,s.prototype),c}).apply(null,arguments)}function Qte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _P(n,e){return(_P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function n2e(n,e){if(e&&("object"===oU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function r2e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ene(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function bP(n){return(bP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var i2e=function(n){!function e2e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_P(n,e)}(t,n);var e=function t2e(n){var e=ene();return function(){var i,r=bP(n);if(e){var o=bP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return n2e(this,i)}}(t);function t(r,i,o,s,a,u){var c;return function JNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(c=e.call(this,r,i,ty,o,s)).bottomOverlay=a,c.inlineStartOverlay=u,c}return function QNe(n,e,t){e&&Qte(n.prototype,e),t&&Qte(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return yP(qNe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){var i=this.wot;if(this.updateTrimmingContainer(),!i.wtTable.holder.parentNode)return!1;var o=this.clone.wtTable.holder.parentNode;if(o.style.top="",this.trimmingContainer===this.domBindings.rootWindow){var s=this.inlineStartOverlay.getOverlayOffset(),a=this.bottomOverlay.getOverlayOffset();o.style[this.isRtl()?"right":"left"]="".concat(s,"px"),o.style.bottom="".concat(a,"px")}else BL(o),this.repositionOverlay();var u=na(this.clone.wtTable.TABLE),c=cs(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(u=0),o.style.height="".concat(u,"px"),o.style.width="".concat(c,"px"),!1}},{key:"repositionOverlay",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings.rootDocument,u=this.clone.wtTable.holder.parentNode,c=0;s.hasVerticalScroll()||(c+=s.getWorkspaceHeight()-o.getTotalHeight()),s.hasVerticalScroll()&&s.hasHorizontalScroll()&&(c+=El(a)),u.style.bottom="".concat(c,"px")}}]),t}(v1);function ny(n,e,t){return(ny=o2e()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&sU(c,s.prototype),c}).apply(null,arguments)}function o2e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function sU(n,e){return(sU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function tne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ry(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const u2e=function(){function n(e,t,r,i,o,s){(function s2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),ry(this,"wot",null),ry(this,"topOverlay",null),ry(this,"bottomOverlay",null),ry(this,"inlineStartOverlay",null),ry(this,"topInlineStartCornerOverlay",null),ry(this,"bottomInlineStartCornerOverlay",null),ry(this,"browserLineHeight",void 0),ry(this,"wtSettings",null),this.wot=e,this.wtSettings=i,this.domBindings=r,this.facadeGetter=t,this.wtTable=s;var a=this.domBindings,u=a.rootDocument,c=a.rootWindow;this.instance=this.wot,this.eventManager=o,this.scrollbarSize=El(u);var h="hidden"===c.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow");this.scrollableElement=h?s.holder:NL(s.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=c.scrollX,this.lastScrollY=c.scrollY}return function a2e(n,e,t){e&&tne(n.prototype,e),t&&tne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"initBrowserLineHeight",value:function(){var t=this.domBindings,o=t.rootWindow.getComputedStyle(t.rootDocument.body),s=parseInt(o.lineHeight,10),a=1.2*parseInt(o.fontSize,10);this.browserLineHeight=s||a}},{key:"initOverlays",value:function(){var t=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=ny(ZIe,t),this.bottomOverlay=ny(hNe,t),this.inlineStartOverlay=ny(DNe,t),this.topInlineStartCornerOverlay=ny(jNe,t.concat([this.topOverlay,this.inlineStartOverlay])),this.bottomInlineStartCornerOverlay=ny(i2e,t.concat([this.bottomOverlay,this.inlineStartOverlay]))}},{key:"updateStateOfRendering",value:function(){var t=this.topOverlay.updateStateOfRendering();return t=this.bottomOverlay.updateStateOfRendering()||t,t=this.inlineStartOverlay.updateStateOfRendering()||t,this.inlineStartOverlay.needFullRender&&(this.topOverlay.needFullRender&&(t=this.topInlineStartCornerOverlay.updateStateOfRendering()||t),this.bottomOverlay.needFullRender&&(t=this.bottomInlineStartCornerOverlay.updateStateOfRendering()||t)),t}},{key:"refreshAll",value:function(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode)return void this.destroy();this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}},{key:"registerListeners",value:function(){var t=this,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=this.topOverlay.mainTableScrollableElement,a=this.inlineStartOverlay.mainTableScrollableElement;this.eventManager.addEventListener(i.documentElement,"keydown",function(w){return t.onKeyDown(w)}),this.eventManager.addEventListener(i.documentElement,"keyup",function(){return t.onKeyUp()}),this.eventManager.addEventListener(i,"visibilitychange",function(){return t.onKeyUp()}),this.eventManager.addEventListener(s,"scroll",function(w){return t.onTableScroll(w)},{passive:!0}),s!==a&&this.eventManager.addEventListener(a,"scroll",function(w){return t.onTableScroll(w)},{passive:!0});var y,u=o.devicePixelRatio&&o.devicePixelRatio>1,c=this.scrollableElement===o,h=this.wtSettings.getSetting("preventWheel"),p={passive:c};(h||u||!function aOe(){return ud.chrome.value}())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",function(w){return t.onCloneWheel(w,h)},p),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(function(w){w&&w.needFullRender&&t.eventManager.addEventListener(w.clone.wtTable.holder,"wheel",function(C){return t.onCloneWheel(C,h)},p)}),this.eventManager.addEventListener(o,"resize",function(){clearTimeout(y),y=setTimeout(function(){t.wtSettings.getSetting("onWindowResize")},200)})}},{key:"deregisterListeners",value:function(){this.eventManager.clearEvents(!0)}},{key:"onTableScroll",value:function(t){var r=this.domBindings.rootWindow,i=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,s=t.target;this.keyPressed&&(o!==r&&s!==r&&!t.target.contains(o)||i!==r&&s!==r&&!t.target.contains(i))||this.syncScrollPositions(t)}},{key:"onCloneWheel",value:function(t,r){var i=this.domBindings.rootWindow,o=this.inlineStartOverlay.mainTableScrollableElement,s=this.topOverlay.mainTableScrollableElement,a=t.target,u=s!==i&&a!==i&&!a.contains(s),c=o!==i&&a!==i&&!a.contains(o);if(!this.keyPressed||!u&&!c){var h=this.translateMouseWheelToScroll(t);(r||this.scrollableElement!==i&&h)&&t.preventDefault()}}},{key:"onKeyDown",value:function(t){this.keyPressed=u1(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(t){var r=isNaN(t.deltaY)?-1*t.wheelDeltaY:t.deltaY,i=isNaN(t.deltaX)?-1*t.wheelDeltaX:t.deltaX;1===t.deltaMode&&(i+=i*this.browserLineHeight,r+=r*this.browserLineHeight);var o=this.scrollVertically(r),s=this.scrollHorizontally(i);return o||s}},{key:"scrollVertically",value:function(t){var r=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=t,r!==this.scrollableElement.scrollTop}},{key:"scrollHorizontally",value:function(t){var r=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=t,r!==this.scrollableElement.scrollLeft}},{key:"syncScrollPositions",value:function(){if(!this.destroyed){var t=this.domBindings.rootWindow,r=this.topOverlay.clone.wtTable.holder,i=this.inlineStartOverlay.clone.wtTable.holder,o=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop],s=o[0],a=o[1];if(this.horizontalScrolling=r.scrollLeft!==s||this.lastScrollX!==t.scrollX,this.verticalScrolling=i.scrollTop!==a||this.lastScrollY!==t.scrollY,this.lastScrollX=t.scrollX,this.lastScrollY=t.scrollY,this.horizontalScrolling){r.scrollLeft=s;var u=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;u&&(u.scrollLeft=s)}this.verticalScrolling&&(i.scrollTop=a),this.refreshAll()}}},{key:"syncScrollWithMaster",value:function(){var t=this.topOverlay.mainTableScrollableElement,r=t.scrollLeft,i=t.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=r),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=r),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=i)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();var t=this.wtTable;this.scrollableElement="hidden"===this.domBindings.rootWindow.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")?t.holder:NL(t.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.wtTable.spreader,i=r.clientWidth,o=r.clientHeight;(i!==this.spreaderLastSize.width||o!==this.spreaderLastSize.height)&&(this.spreaderLastSize.width=i,this.spreaderLastSize.height=o,this.adjustElementsSize()),this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.inlineStartOverlay.refresh(t),this.topOverlay.refresh(t),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(t),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(t)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.wot.wtViewport,i=this.wtTable,o=this.wtSettings.getSetting("totalColumns"),s=this.wtSettings.getSetting("totalRows"),a=r.getRowHeaderWidth(),u=r.getColumnHeaderHeight(),c=i.hider.style;if(c.width="".concat(a+this.inlineStartOverlay.sumCellSizes(0,o),"px"),c.height="".concat(u+this.topOverlay.sumCellSizes(0,s)+1,"px"),this.scrollbarSize>0){var h=i.wtRootElement,p=h.scrollHeight,g=h.scrollWidth,y=i.holder,w=y.scrollHeight,S=y.scrollWidth;this.hasScrollbarRight=p<w,this.hasScrollbarBottom=g<S,this.hasScrollbarRight&&i.hider.scrollWidth+this.scrollbarSize>g?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&i.hider.scrollHeight+this.scrollbarSize>p&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(t),this.inlineStartOverlay.adjustElementsSize(t),this.bottomOverlay.adjustElementsSize(t)}},{key:"applyToDOM",value:function(){!this.wtTable.isVisible()||(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}},{key:"getParentOverlay",value:function(t){if(!t)return null;var i=null;return tt([this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],function(o){!o||o.clone&&o.clone.wtTable.TABLE.contains(t)&&(i=o.clone)}),i}},{key:"syncOverlayTableClassNames",value:function(){var t=this.wtTable.TABLE;tt([this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],function(i){!i||(i.clone.wtTable.TABLE.className=t.className)})}}]),n}();function nne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function rne(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var h2e=function(){function n(e){var t=this;(function c2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),rne(this,"settings",{}),rne(this,"defaults",Object.freeze(this.getDefaults())),io(this.defaults,function(r,i){if(void 0!==e[i])t.settings[i]=e[i];else{if(void 0===r)throw new Error('A required setting "'.concat(i,'" was not provided'));t.settings[i]=r}})}return function d2e(n,e,t){e&&nne(n.prototype,e),t&&nne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getDefaults",value:function(){var t=this;return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:function(){return t.getSetting("fixedColumnsStart")>0||t.getSetting("rowHeaders").length>0},shouldRenderTopOverlay:function(){return t.getSetting("fixedRowsTop")>0||t.getSetting("columnHeaders").length>0},shouldRenderBottomOverlay:function(){return t.getSetting("fixedRowsBottom")>0},minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(i,o,s){var a=t.getSetting("data",i,o);Ib(s,null==a?"":a)},columnWidth:function(){},rowHeight:function(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(i){return i},onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:function(i){return i},onBeforeHighlightingColumnHeader:function(i){return i},onWindowResize:null,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1}}},{key:"update",value:function(t,r){var i=this;return void 0===r?io(t,function(o,s){i.settings[s]=o}):this.settings[t]=r,this}},{key:"getSetting",value:function(t,r,i,o,s){return"function"==typeof this.settings[t]?this.settings[t](r,i,o,s):void 0!==r&&Array.isArray(this.settings[t])?this.settings[t][r]:this.settings[t]}},{key:"getSettingPure",value:function(t){return this.settings[t]}},{key:"has",value:function(t){return!!this.settings[t]}}]),n}();function aU(n){return(aU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ine(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function lU(n,e){return(lU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function v2e(n,e){if(e&&("object"===aU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function y2e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function wP(n){return(wP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var uU=function(n){!function m2e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&lU(n,e)}(t,n);var e=function g2e(n){var e=function _2e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=wP(n);if(e){var o=wP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return v2e(this,i)}}(t);function t(r,i,o,s){return function f2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,"master")}return function p2e(n,e,t){e&&ine(n.prototype,e),t&&ine(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"alignOverlaysWithTrimmingContainer",value:function(){var i=o1(this.wtRootElement),o=this.domBindings.rootWindow;if(i===o)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{var a=i.parentElement,u=YV(i,"height",o),c=YV(i,"overflow",o),h=this.holder.style,p=i.scrollWidth,g=i.scrollHeight,y=i.getBoundingClientRect(),w=y.width,S=y.height;if(a&&["auto","hidden","scroll"].includes(c)){var P=i.cloneNode(!1);P.style.overflow="auto",i.nextElementSibling?a.insertBefore(P,i.nextElementSibling):a.appendChild(P);var B=parseInt(Nb(P,o).height,10);a.removeChild(P),0===B&&(S=0)}S=Math.min(S,g),h.height="auto"===u?"auto":"".concat(S,"px"),w=Math.min(w,p),h.width="".concat(w,"px"),h.overflow="",this.hasTableHeight="auto"===h.height||S>0,this.hasTableWidth=w>0}this.isTableVisible=n1(this.TABLE)}},{key:"markOversizedColumnHeaders",value:function(){var i=this.wtSettings,o=this.dataAccessObject.wtViewport,s="master",u=i.getSetting("columnHeaders").length;if(u&&!o.hasOversizedColumnHeadersMarked[s]){for(var h=i.getSetting("rowHeaders").length,p=this.getRenderedColumnsCount(),g=0;g<u;g++)for(var y=-1*h;y<p;y++)this.markIfOversizedColumnHeader(y);o.hasOversizedColumnHeadersMarked[s]=!0}}}]),t}(XS);ys(uU,jte),ys(uU,Oz);const b2e=uU;function w2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function one(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var sne=new WeakMap;const ane=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewportSize,r=e.scrollOffset,i=e.totalItems,o=e.itemSizeFn,s=e.overrideFn,a=e.calculationType,u=e.scrollbarHeight;w2e(this,n),sne.set(this,{viewportHeight:t,scrollOffset:r,totalRows:i,rowHeightFn:o,overrideFn:s,calculationType:a,horizontalScrollbarHeight:u}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()}return function M2e(n,e,t){e&&one(n.prototype,e),t&&one(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"calculate",value:function(){for(var y,t=0,r=!0,i=[],o=sne.get(this),s=o.calculationType,a=o.overrideFn,u=o.rowHeightFn,c=o.scrollOffset,h=o.totalRows,p=o.viewportHeight,g=o.horizontalScrollbarHeight||0,w=0;w<h;w++)if(y=u(w),isNaN(y)&&(y=n.DEFAULT_HEIGHT),t<=c&&2!==s&&(this.startRow=w),t>=c&&t+(2===s?y:0)<=c+p-g&&(null===this.startRow&&(this.startRow=w),this.endRow=w),i.push(t),t+=y,2!==s&&(this.endRow=w),t>=c+p-g){r=!1;break}if(this.endRow===h-1&&r)for(this.startRow=this.endRow;this.startRow>0;){var S=i[this.endRow]+y-i[this.startRow-1];if((S<=p-g||2!==s)&&(this.startRow-=1),S>=p-g)break}1===s&&null!==this.startRow&&a&&a(this),this.startPosition=i[this.startRow],void 0===this.startPosition&&(this.startPosition=null),h<this.endRow&&(this.endRow=h-1),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}],[{key:"DEFAULT_HEIGHT",get:function(){return 23}}]),n}();function x2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var KS=new WeakMap;const cU=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewportSize,r=e.scrollOffset,i=e.totalItems,o=e.itemSizeFn,s=e.overrideFn,a=e.calculationType,u=e.stretchMode,c=e.stretchingItemWidthFn,h=void 0===c?function(p){return p}:c;x2e(this,n),KS.set(this,{viewportWidth:t,scrollOffset:r,totalColumns:i,columnWidthFn:o,overrideFn:s,calculationType:a,stretchingColumnWidthFn:h}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=u,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}return function C2e(n,e,t){e&&lne(n.prototype,e),t&&lne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"calculate",value:function(){for(var o,t=0,r=!0,i=[],s=KS.get(this),a=s.calculationType,u=s.overrideFn,c=s.scrollOffset,h=s.totalColumns,p=s.viewportWidth,g=0;g<h;g++)if(o=this._getColumnWidth(g),t<=c&&2!==a&&(this.startColumn=g),t>=c&&t+(2===a?o:0)<=c+(c>0?p+1:p)&&(null==this.startColumn&&(this.startColumn=g),this.endColumn=g),i.push(t),t+=o,2!==a&&(this.endColumn=g),t>=c+p){r=!1;break}if(this.endColumn===h-1&&r)for(this.startColumn=this.endColumn;this.startColumn>0;){var w=i[this.endColumn]+o-i[this.startColumn-1];if((w<=p||2!==a)&&(this.startColumn-=1),w>p)break}1===a&&null!==this.startColumn&&u&&u(this),this.startPosition=i[this.startColumn],void 0===this.startPosition&&(this.startPosition=null),h<this.endColumn&&(this.endColumn=h-1),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(t){if("none"!==this.stretch){var r=t;this.totalTargetWidth=r;for(var i=KS.get(this),o=i.totalColumns,s=0,a=0;a<o;a++){var u=this._getColumnWidth(a),c=i.stretchingColumnWidthFn(void 0,a);"number"==typeof c?r-=c:s+=u}var h=r-s;if("all"===this.stretch&&h>0)this.stretchAllRatio=r/s,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&r!==1/0){var p=this._getColumnWidth(o-1),g=h+p;this.stretchLastWidth=g>=0?g:p}}}},{key:"getStretchedColumnWidth",value:function(t,r){var i=null;return"all"===this.stretch&&0!==this.stretchAllRatio?i=this._getStretchedAllColumnWidth(t,r):"last"===this.stretch&&0!==this.stretchLastWidth&&(i=this._getStretchedLastColumnWidth(t)),i}},{key:"_getStretchedAllColumnWidth",value:function(t,r){var i=0,o=KS.get(this),s=o.totalColumns;if(!this.stretchAllColumnsWidth[t]){var a=Math.round(r*this.stretchAllRatio),u=o.stretchingColumnWidthFn(a,t);this.stretchAllColumnsWidth[t]=void 0===u?a:isNaN(u)?this._getColumnWidth(t):u}if(this.stretchAllColumnsWidth.length===s&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var c=0;c<this.stretchAllColumnsWidth.length;c++)i+=this.stretchAllColumnsWidth[c];i!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-i)}return this.stretchAllColumnsWidth[t]}},{key:"_getStretchedLastColumnWidth",value:function(t){return t===KS.get(this).totalColumns-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(t){var r=KS.get(this).columnWidthFn(t);return isNaN(r)&&(r=n.DEFAULT_WIDTH),r}}],[{key:"DEFAULT_WIDTH",get:function(){return 50}}]),n}();function une(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const A2e=function(){function n(e,t,r,i,o){var s=this;(function T2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=t,this.wtSettings=r,this.wtTable=o,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=i,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",function(){s.clientHeight=s.getWorkspaceHeight()})}return function R2e(n,e,t){e&&une(n.prototype,e),t&&une(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getWorkspaceHeight",value:function(){var r=this.dataAccessObject.topOverlayTrimmingContainer;return r===this.domBindings.rootWindow?this.domBindings.rootDocument.documentElement.clientHeight:na(r)>0&&r.clientHeight>0?r.clientHeight:1/0}},{key:"getWorkspaceWidth",value:function(){var w,S,t=this.wtSettings,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=this.dataAccessObject.inlineStartOverlayTrimmingContainer,a=i.documentElement.offsetWidth,u=t.getSetting("totalColumns"),c=t.getSetting("preventOverflow"),h=t.getSetting("rtlMode"),p=this.wtTable.TABLE.getBoundingClientRect(),y=a-(h?p.right-a:p.left);if(c)return cs(this.wtTable.wtRootElement);if(w=t.getSetting("freezeOverlays")?Math.min(y,a):Math.min(this.getContainerFillWidth(),y,a),s===o&&u>0&&this.sumColumnWidths(0,u-1)>w)return i.documentElement.clientWidth;if(s!==o&&("scroll"===(S=YV(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",o))||"hidden"===S||"auto"===S))return Math.max(w,s.clientWidth);var C=t.getSetting("stretchH");return"none"!==C&&C?w:Math.max(w,cs(this.wtTable.TABLE))}},{key:"hasVerticalScroll",value:function(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(t,r){for(var i=0,o=t;o<r;)i+=this.wtTable.getColumnWidth(o),o+=1;return i}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var t=this.wtTable.holder,r=this.domBindings.rootDocument.createElement("div");r.style.width="100%",r.style.height="1px",t.appendChild(r);var i=r.offsetWidth;return this.containerWidth=i,t.removeChild(r),i}},{key:"getWorkspaceOffset",value:function(){return ja(this.wtTable.TABLE)}},{key:"getColumnHeaderHeight",value:function(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=na(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var t=this.getWorkspaceHeight();if(t===1/0)return t;var r=this.getColumnHeaderHeight();return r>0&&(t-=r),t}},{key:"getRowHeaderWidth",value:function(){var t=this.wtSettings.getSetting("rowHeaderWidth"),r=this.wtSettings.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(var i=0,o=r.length;i<o;i++)this.rowHeaderWidth+=t[i]||t}if(isNaN(this.rowHeaderWidth))if(r.length){var s=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var a=0,u=r.length;a<u;a++)s?(this.rowHeaderWidth+=cs(s),s=s.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var t=this.getWorkspaceWidth();if(t===1/0)return t;var r=this.getRowHeaderWidth();return r>0?t-r:t}},{key:"createRowsCalculator",value:function(){var o,s,a,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this.wtSettings,i=this.wtTable;this.rowHeaderWidth=NaN,o=r.getSetting("renderAllRows")&&1===t?1/0:this.getViewportHeight();var u=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;u<0&&(u=0);var c=r.getSetting("fixedRowsTop"),h=r.getSetting("fixedRowsBottom"),p=r.getSetting("totalRows");return c&&(u+=a=this.dataAccessObject.topOverlay.sumCellSizes(0,c),o-=a),h&&this.dataAccessObject.bottomOverlay.clone&&(o-=a=this.dataAccessObject.bottomOverlay.sumCellSizes(p-h,p)),s=i.holder.clientHeight===i.holder.offsetHeight?0:El(this.domBindings.rootDocument),new ane({viewportSize:o,scrollOffset:u,totalItems:r.getSetting("totalRows"),itemSizeFn:function(y){return i.getRowHeight(y)},overrideFn:r.getSettingPure("viewportRowCalculatorOverride"),calculationType:t,scrollbarHeight:s})}},{key:"createColumnsCalculator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this.wtSettings,i=this.wtTable,o=this.getViewportWidth(),s=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN,s<0&&(s=0);var a=r.getSetting("fixedColumnsStart");if(a){var u=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,a);s+=u,o-=u}return i.holder.clientWidth!==i.holder.offsetWidth&&(o-=El(this.domBindings.rootDocument)),new cU({viewportSize:o,scrollOffset:Math.abs(s),totalItems:r.getSetting("totalColumns"),itemSizeFn:function(h){return i.getColumnWidth(h)},overrideFn:r.getSettingPure("viewportColumnCalculatorOverride"),calculationType:t,stretchMode:r.getSetting("stretchH"),stretchingItemWidthFn:function(h,p){return r.getSetting("onBeforeStretchingColumnWidth",h,p)}})}},{key:"createRenderCalculators",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t;if(r){var i=this.createRowsCalculator(2),o=this.createColumnsCalculator(2);this.areAllProposedVisibleRowsAlreadyRendered(i)&&this.areAllProposedVisibleColumnsAlreadyRendered(o)||(r=!1)}return r||(this.rowsRenderCalculator=this.createRowsCalculator(1),this.columnsRenderCalculator=this.createColumnsCalculator(1)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,r}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(2),this.columnsVisibleCalculator=this.createColumnsCalculator(2)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(t){if(!this.rowsVisibleCalculator)return!1;var r=t.startRow,i=t.endRow;if(null===r&&null===i)return!1;var o=this.rowsRenderCalculator,s=o.startRow,a=o.endRow;return!(r<s||r===s&&r>0||i>a||i===a&&i<this.wtSettings.getSetting("totalRows")-1)}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(t){if(!this.columnsVisibleCalculator)return!1;var r=t.startColumn,i=t.endColumn;if(null===r&&null===i)return!1;var o=this.columnsRenderCalculator,s=o.startColumn,a=o.endColumn;return!(r<s||r===s&&r>0||i>a||i===a&&i<this.wtSettings.getSetting("totalColumns")-1)}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){io(this.hasOversizedColumnHeadersMarked,function(t,r,i){i[r]=void 0})}}]),n}();function dU(n){return(dU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function cne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hU(n,e){return(hU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function I2e(n,e){if(e&&("object"===dU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fU(n)}function fU(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function MP(n){return(MP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var F2e=function(n){!function L2e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hU(n,e)}(t,n);var e=function P2e(n){var e=function N2e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=MP(n);if(e){var o=MP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return I2e(this,i)}}(t);function t(r,i){var o;!function O2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=(o=e.call(this,r,new h2e(i))).wtSettings.getSetting("facade",fU(o));return o.wtTable=new b2e(o.getTableDao(),s,o.domBindings,o.wtSettings),o.wtViewport=new A2e(o.getViewportDao(),o.domBindings,o.wtSettings,o.eventManager,o.wtTable),o.selections=o.wtSettings.getSetting("selections"),o.wtEvent=new $ee(s,o.domBindings,o.wtSettings,o.eventManager,o.wtTable,o.selections),o.wtOverlays=new u2e(fU(o),s,o.domBindings,o.wtSettings,o.eventManager,o.wtTable),o.exportSettingsAsClassNames(),o.findOriginalHeaders(),o}return function k2e(n,e,t){e&&cne(n.prototype,e),t&&cne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"exportSettingsAsClassNames",value:function(){var i=this,s=[],a=[];io({rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},function(u,c){i.wtSettings.getSetting(c).length&&a.push(u),s.push(u)}),Bi(this.wtTable.wtRootElement.parentNode,s),Rn(this.wtTable.wtRootElement.parentNode,a)}},{key:"getViewportDao",value:function(){var i=this;return{get wot(){return i},get topOverlayTrimmingContainer(){return i.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return i.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return i.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return i.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return i.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return i.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return i.wtOverlays.topOverlay},get inlineStartOverlay(){return i.wtOverlays.inlineStartOverlay},get bottomOverlay(){return i.wtOverlays.bottomOverlay}}}}]),t}(Hz);function dne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var V2e=function(){function n(e){(function H2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),e instanceof Hz?this._wot=e:this._initFromSettings(e)}return function B2e(n,e,t){e&&dne(n.prototype,e),t&&dne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"_initFromSettings",value:function(t){t.facade=function(r){var i=new n(r);return function(){return i}},this._wot=new F2e(t.table,t)}},{key:"guid",get:function(){return this._wot.guid}},{key:"rootDocument",get:function(){return this._wot.domBindings.rootDocument}},{key:"rootWindow",get:function(){return this._wot.domBindings.rootWindow}},{key:"wtSettings",get:function(){return this._wot.wtSettings}},{key:"cloneSource",get:function(){return this._wot.cloneSource}},{key:"cloneOverlay",get:function(){return this._wot.cloneOverlay}},{key:"selections",get:function(){return this._wot.selections}},{key:"wtViewport",get:function(){return this._wot.wtViewport}},{key:"wtOverlays",get:function(){return this._wot.wtOverlays}},{key:"wtTable",get:function(){return this._wot.wtTable}},{key:"wtEvent",get:function(){return this._wot.wtEvent}},{key:"wtScroll",get:function(){return this._wot.wtScroll}},{key:"drawn",get:function(){return this._wot.drawn},set:function(t){this._wot.drawn=t}},{key:"drawInterrupted",get:function(){return this._wot.drawInterrupted},set:function(t){this._wot.drawInterrupted=t}},{key:"lastMouseOver",get:function(){return this._wot.lastMouseOver},set:function(t){this._wot.lastMouseOver=t}},{key:"momentumScrolling",get:function(){return this._wot.momentumScrolling},set:function(t){this._wot.momentumScrolling=t}},{key:"touchApplied",get:function(){return this._wot.touchApplied},set:function(t){this._wot.touchApplied=t}},{key:"domBindings",get:function(){return this._wot.domBindings}},{key:"eventListeners",get:function(){return this._wot.eventListeners},set:function(t){this._wot.eventListeners=t}},{key:"eventManager",get:function(){return this._wot.eventManager}},{key:"createCellCoords",value:function(t,r){return this._wot.createCellCoords(t,r)}},{key:"createCellRange",value:function(t,r,i){return this._wot.createCellRange(t,r,i)}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._wot.draw(t),this}},{key:"getCell",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._wot.getCell(t,r)}},{key:"scrollViewport",value:function(t,r,i,o,s){return this._wot.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return this._wot.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return this._wot.scrollViewportVertically(t,r,i)}},{key:"getViewport",value:function(){return this._wot.getViewport()}},{key:"getOverlayName",value:function(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}},{key:"exportSettingsAsClassNames",value:function(){return this._wot.exportSettingsAsClassNames()}},{key:"update",value:function(t,r){return this._wot.wtSettings.update(t,r),this}},{key:"getSetting",value:function(t,r,i,o,s){return this._wot.wtSettings.getSetting(t,r,i,o,s)}},{key:"hasSetting",value:function(t){return this._wot.wtSettings.hasSetting(t)}},{key:"destroy",value:function(){this._wot.destroy()}}]),n}();function hne(n){var e=n.isShiftKey,t=n.isLeftClick,r=n.isRightClick,i=n.coords,o=n.selection,s=n.controller,a=n.cellCoordsFactory,u=o.isSelected()?o.getSelectedRange().current():null,c=o.isSelectedByCorner(),h=o.isSelectedByRowHeader();if(e&&u)i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(i):(c||h)&&i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(a(i.row,i.col)):c&&i.row<0&&!s.column?o.setRangeEnd(a(u.to.row,i.col)):h&&i.col<0&&!s.row?o.setRangeEnd(a(i.row,u.to.col)):(!c&&!h&&i.col<0||c&&i.col<0)&&!s.row?o.selectRows(Math.max(u.from.row,0),i.row,i.col):(!c&&!h&&i.row<0||h&&i.row<0)&&!s.column&&o.selectColumns(Math.max(u.from.col,0),i.col,i.row);else{var p=!o.inInSelection(i),g=t||r&&p;i.row<0&&i.col>=0&&!s.column?g&&o.selectColumns(i.col,i.col,i.row):i.col<0&&i.row>=0&&!s.row?g&&o.selectRows(i.row,i.row,i.col):i.col>=0&&i.row>=0&&!s.cell?g&&o.setRangeStart(i):i.col<0&&i.row<0&&o.selectAll(!0,!0)}}var U2e=new Map([["mousedown",hne],["mouseover",function z2e(n){var t=n.coords,r=n.selection,i=n.controller,o=n.cellCoordsFactory;if(n.isLeftClick){var s=r.isSelectedByRowHeader(),a=r.isSelectedByColumnHeader(),u=r.tableProps.countCols(),c=r.tableProps.countRows();a&&!i.column?r.setRangeEnd(o(c-1,t.col)):s&&!i.row?r.setRangeEnd(o(t.row,u-1)):i.cell||r.setRangeEnd(t)}}],["touchstart",hne]]);function fne(n,e){var t=e.coords,r=e.selection,i=e.controller,o=e.cellCoordsFactory;U2e.get(n.type)({coords:t,selection:r,controller:i,cellCoordsFactory:o,isShiftKey:n.shiftKey,isLeftClick:qV(n)||"touchstart"===n.type,isRightClick:Fb(n)})}var pne=new WeakMap,pU=Symbol("rootInstance");function j2e(n){pne.set(n,!0)}function W2e(n){return n===pU}function mU(n){return pne.has(n)}function y1(n,e){return function $2e(n){if(Array.isArray(n))return n}(n)||function G2e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||gne(n,e)||function Y2e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mne(n){return function Z2e(n){if(Array.isArray(n))return gU(n)}(n)||function K2e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||gne(n)||function X2e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gne(n,e){if(n){if("string"==typeof n)return gU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gU(n,e)}}function gU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var jb=new WeakMap;const eFe=function(){function n(e){(function q2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.instance=e,this.eventManager=new ra(e),this.settings=e.getSettings(),this.THEAD=void 0,this.TBODY=void 0,this._wt=void 0,this.activeWt=void 0,this.postponedAdjustElementsSize=!1,jb.set(this,{selectionMouseDown:!1,mouseDown:void 0,table:void 0,lastWidth:0,lastHeight:0}),this.createElements(),this.registerEvents(),this.initializeWalkontable()}return function J2e(n,e,t){e&&vne(n.prototype,e),t&&vne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"render",value:function(){this.instance.isRenderSuspended()||(this.instance.runHooks("beforeRender",this.instance.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.instance.forceFullRender),this.instance.runHooks("afterRender",this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.instance.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize(t)}},{key:"getCellAtCoords",value:function(t,r){var i=this._wt.getCell(t,r);return i<0?null:i}},{key:"scrollViewport",value:function(t,r,i,o,s){return this._wt.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return this._wt.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return this._wt.scrollViewportVertically(t,r,i)}},{key:"createElements",value:function(){var t=jb.get(this),r=this.instance,i=r.rootElement,o=r.rootDocument,s=i.getAttribute("style");s&&i.setAttribute("data-originalstyle",s),Rn(i,"handsontable"),t.table=o.createElement("TABLE"),Rn(t.table,"htCore"),this.instance.getSettings().tableClassName&&Rn(t.table,this.instance.getSettings().tableClassName),this.THEAD=o.createElement("THEAD"),t.table.appendChild(this.THEAD),this.TBODY=o.createElement("TBODY"),t.table.appendChild(this.TBODY),this.instance.table=t.table,this.instance.container.insertBefore(t.table,this.instance.container.firstChild)}},{key:"registerEvents",value:function(){var t=this,r=jb.get(this),i=this.instance,o=i.rootElement,s=i.rootDocument,a=i.selection,u=s.documentElement;this.eventManager.addEventListener(o,"mousedown",function(c){if(r.selectionMouseDown=!0,!t.isTextSelectionAllowed(c.target)){var h=t.instance.rootWindow;iee(h),c.preventDefault(),h.focus()}}),this.eventManager.addEventListener(o,"mouseup",function(){r.selectionMouseDown=!1}),this.eventManager.addEventListener(o,"mousemove",function(c){r.selectionMouseDown&&!t.isTextSelectionAllowed(c.target)&&(t.settings.fragmentSelection&&iee(t.instance.rootWindow),c.preventDefault())}),this.eventManager.addEventListener(u,"keyup",function(c){a.isInProgress()&&!c.shiftKey&&a.finish()}),this.eventManager.addEventListener(u,"mouseup",function(c){a.isInProgress()&&qV(c)&&a.finish(),r.mouseDown=!1,(oee(s.activeElement)||!a.isSelected()&&!a.isSelectedByAnyHeader()&&!o.contains(c.target)&&!Fb(c))&&t.instance.unlisten()}),this.eventManager.addEventListener(u,"contextmenu",function(c){a.isInProgress()&&Fb(c)&&(a.finish(),r.mouseDown=!1)}),this.eventManager.addEventListener(u,"touchend",function(){a.isInProgress()&&a.finish(),r.mouseDown=!1}),this.eventManager.addEventListener(u,"mousedown",function(c){var h=c.target,p=c.x||c.clientX,g=c.y||c.clientY,y=c.target;if(!r.mouseDown&&o&&t.instance.view){var w=t.instance.view._wt.wtTable.holder;if(y===w){var S=El(s);if(s.elementFromPoint(p+S,g)!==w||s.elementFromPoint(p,g+S)!==w)return}else for(;y!==u;){if(null===y){if(c.isTargetWebComponent)break;return}if(y===o)return;y=y.parentNode}("function"==typeof t.settings.outsideClickDeselects?t.settings.outsideClickDeselects(h):t.settings.outsideClickDeselects)?t.instance.deselectCell():t.instance.destroyEditor(!1,!1)}}),this.eventManager.addEventListener(r.table,"selectstart",function(c){t.settings.fragmentSelection||VL(c.target)||c.preventDefault()})}},{key:"translateFromRenderableToVisualCoords",value:function(t){var r;return(r=this.instance)._createCellCoords.apply(r,mne(this.translateFromRenderableToVisualIndex(t.row,t.col)))}},{key:"translateFromRenderableToVisualIndex",value:function(t,r){var i=t>=0?this.instance.rowIndexMapper.getVisualFromRenderableIndex(t):t,o=r>=0?this.instance.columnIndexMapper.getVisualFromRenderableIndex(r):r;return null===i&&(i=t),null===o&&(o=r),[i,o]}},{key:"countRenderableIndexes",value:function(t,r){var i=Math.min(t.getNotTrimmedIndexesLength(),r),o=t.getNearestNotHiddenIndex(i-1,-1);return null===o?0:t.getRenderableFromVisualIndex(o)+1}},{key:"countRenderableColumns",value:function(){return this.countRenderableIndexes(this.instance.columnIndexMapper,this.settings.maxCols)}},{key:"countRenderableRows",value:function(){return this.countRenderableIndexes(this.instance.rowIndexMapper,this.settings.maxRows)}},{key:"countNotHiddenRowIndexes",value:function(t,r){return this.countNotHiddenIndexes(t,r,this.instance.rowIndexMapper,this.countRenderableRows())}},{key:"countNotHiddenColumnIndexes",value:function(t,r){return this.countNotHiddenIndexes(t,r,this.instance.columnIndexMapper,this.countRenderableColumns())}},{key:"countNotHiddenIndexes",value:function(t,r,i,o){if(isNaN(t)||t<0)return 0;var s=i.getNearestNotHiddenIndex(t,r),a=i.getRenderableFromVisualIndex(s);if(!Number.isInteger(a))return 0;var u=0;return r<0?u=a+1:r>0&&(u=o-a),u}},{key:"countNotHiddenFixedColumnsStart",value:function(){var t=this.instance.countCols(),r=Math.min(parseInt(this.settings.fixedColumnsStart,10),t)-1;return this.countNotHiddenColumnIndexes(r,-1)}},{key:"countNotHiddenFixedRowsTop",value:function(){var t=this.instance.countRows(),r=Math.min(parseInt(this.settings.fixedRowsTop,10),t)-1;return this.countNotHiddenRowIndexes(r,-1)}},{key:"countNotHiddenFixedRowsBottom",value:function(){var t=this.instance.countRows(),r=Math.max(t-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(r,1)}},{key:"isMainTableNotFullyCoveredByOverlays",value:function(){var t=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),r=this.countNotHiddenFixedColumnsStart();return this.instance.countRenderedRows()>t&&this.instance.countRenderedCols()>r}},{key:"initializeWalkontable",value:function(){var t=this,r=jb.get(this),i={rtlMode:this.instance.isRtl(),externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:r.table,isDataViewInstance:function(){return mU(t.instance)},preventOverflow:function(){return t.settings.preventOverflow},preventWheel:function(){return t.settings.preventWheel},stretchH:function(){return t.settings.stretchH},data:function(h,p){var g;return(g=t.instance).getDataAtCell.apply(g,mne(t.translateFromRenderableToVisualIndex(h,p)))},totalRows:function(){return t.countRenderableRows()},totalColumns:function(){return t.countRenderableColumns()},fixedColumnsStart:function(){return t.countNotHiddenFixedColumnsStart()},fixedRowsTop:function(){return t.countNotHiddenFixedRowsTop()},fixedRowsBottom:function(){return t.countNotHiddenFixedRowsBottom()},shouldRenderInlineStartOverlay:function(){return t.settings.fixedColumnsStart>0||i.rowHeaders().length>0},shouldRenderTopOverlay:function(){return t.settings.fixedRowsTop>0||i.columnHeaders().length>0},shouldRenderBottomOverlay:function(){return t.settings.fixedRowsBottom>0},minSpareRows:function(){return t.settings.minSpareRows},renderAllRows:this.settings.renderAllRows,rowHeaders:function(){var h=[];return t.instance.hasRowHeaders()&&h.push(function(p,g){var y=p>=0?t.instance.rowIndexMapper.getVisualFromRenderableIndex(p):p;t.appendRowHeader(y,g)}),t.instance.runHooks("afterGetRowHeaderRenderers",h),h},columnHeaders:function(){var h=[];return t.instance.hasColHeaders()&&h.push(function(p,g){var y=p>=0?t.instance.columnIndexMapper.getVisualFromRenderableIndex(p):p;t.appendColHeader(y,g)}),t.instance.runHooks("afterGetColumnHeaderRenderers",h),h},columnWidth:function(h){var p=t.instance.columnIndexMapper.getVisualFromRenderableIndex(h);return t.instance.getColWidth(null===p?h:p)},rowHeight:function(h){var p=t.instance.rowIndexMapper.getVisualFromRenderableIndex(h);return t.instance.getRowHeight(null===p?h:p)},cellRenderer:function(h,p,g){var w=y1(t.translateFromRenderableToVisualIndex(h,p),2),S=w[0],C=w[1],P=t.instance.runHooks("modifyGetCellCoords",S,C),B=S,z=C;if(Array.isArray(P)){var j=y1(P,2);B=j[0],z=j[1]}var X=t.instance.getCellMeta(B,z),ie=t.instance.colToProp(z),me=t.instance.getDataAtRowProp(B,ie);t.instance.hasHook("beforeValueRender")&&(me=t.instance.runHooks("beforeValueRender",me,X)),t.instance.runHooks("beforeRenderer",g,S,C,ie,me,X),t.instance.getCellRenderer(X)(t.instance,g,S,C,ie,me,X),t.instance.runHooks("afterRenderer",g,S,C,ie,me,X)},selections:this.instance.selection.highlight,hideBorderOnMouseDownOver:function(){return t.settings.fragmentSelection},onWindowResize:function(){!t.instance||t.instance.isDestroyed||t.instance.refreshDimensions()},onCellMouseDown:function(h,p,g,y){var w=t.translateFromRenderableToVisualCoords(p),S={row:!1,column:!1,cell:!1};t.instance.listen(),t.activeWt=y,r.mouseDown=!0,t.instance.runHooks("beforeOnCellMouseDown",h,w,g,S),!YS(h)&&(fne(h,{coords:w,selection:t.instance.selection,controller:S,cellCoordsFactory:function(P,B){return t.instance._createCellCoords(P,B)}}),t.instance.runHooks("afterOnCellMouseDown",h,w,g),t.activeWt=t._wt)},onCellContextMenu:function(h,p,g,y){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=y,r.mouseDown=!1,t.instance.selection.isInProgress()&&t.instance.selection.finish(),t.instance.runHooks("beforeOnCellContextMenu",h,w,g),!YS(h)&&(t.instance.runHooks("afterOnCellContextMenu",h,w,g),t.activeWt=t._wt)},onCellMouseOut:function(h,p,g,y){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=y,t.instance.runHooks("beforeOnCellMouseOut",h,w,g),!YS(h)&&(t.instance.runHooks("afterOnCellMouseOut",h,w,g),t.activeWt=t._wt)},onCellMouseOver:function(h,p,g,y){var w=t.translateFromRenderableToVisualCoords(p),S={row:!1,column:!1,cell:!1};t.activeWt=y,t.instance.runHooks("beforeOnCellMouseOver",h,w,g,S),!YS(h)&&(r.mouseDown&&fne(h,{coords:w,selection:t.instance.selection,controller:S,cellCoordsFactory:function(P,B){return t.instance._createCellCoords(P,B)}}),t.instance.runHooks("afterOnCellMouseOver",h,w,g),t.activeWt=t._wt)},onCellMouseUp:function(h,p,g,y){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=y,t.instance.runHooks("beforeOnCellMouseUp",h,w,g),!YS(h)&&!t.instance.isDestroyed&&(t.instance.runHooks("afterOnCellMouseUp",h,w,g),t.activeWt=t._wt)},onCellCornerMouseDown:function(h){h.preventDefault(),t.instance.runHooks("afterOnCellCornerMouseDown",h)},onCellCornerDblClick:function(h){h.preventDefault(),t.instance.runHooks("afterOnCellCornerDblClick",h)},beforeDraw:function(h,p){return t.beforeRender(h,p)},onDraw:function(h){return t.afterRender(h)},onScrollVertically:function(){return t.instance.runHooks("afterScrollVertically")},onScrollHorizontally:function(){return t.instance.runHooks("afterScrollHorizontally")},onBeforeRemoveCellClassNames:function(){return t.instance.runHooks("beforeRemoveCellClassNames")},onBeforeHighlightingRowHeader:function(h,p,g){var y=t.instance.rowIndexMapper,w=y.getVisualFromRenderableIndex(h),S=t.instance.runHooks("beforeHighlightingRowHeader",w,p,g);return y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex(S,1))},onBeforeHighlightingColumnHeader:function(h,p,g){var y=t.instance.columnIndexMapper,w=y.getVisualFromRenderableIndex(h),S=t.instance.runHooks("beforeHighlightingColumnHeader",w,p,g);return y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex(S,1))},onAfterDrawSelection:function(h,p,g){var y,S=y1(t.translateFromRenderableToVisualIndex(h,p),2),C=S[0],P=S[1],B=t.instance.selection.getSelectedRange(),z=B.size();if(z>0){var X=B.peekByIndex((null!=g?g:0)+1-z);y=[X.from.row,X.from.col,X.to.row,X.to.col]}return t.instance.runHooks("afterDrawSelection",C,P,y,g)},onBeforeDrawBorders:function(h,p){var g=y1(h,4),w=g[1],S=g[2],C=g[3],P=[t.instance.rowIndexMapper.getVisualFromRenderableIndex(g[0]),t.instance.columnIndexMapper.getVisualFromRenderableIndex(w),t.instance.rowIndexMapper.getVisualFromRenderableIndex(S),t.instance.columnIndexMapper.getVisualFromRenderableIndex(C)];return t.instance.runHooks("beforeDrawBorders",P,p)},onBeforeTouchScroll:function(){return t.instance.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){return t.instance.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(h,p){var g=t.instance.columnIndexMapper.getVisualFromRenderableIndex(p);return t.instance.runHooks("beforeStretchingColumnWidth",h,g)},onModifyRowHeaderWidth:function(h){return t.instance.runHooks("modifyRowHeaderWidth",h)},onModifyGetCellCoords:function(h,p,g){var y=t.instance.rowIndexMapper,w=t.instance.columnIndexMapper,S=p>=0?w.getVisualFromRenderableIndex(p):p,C=h>=0?y.getVisualFromRenderableIndex(h):h,P=t.instance.runHooks("modifyGetCellCoords",C,S,g);if(Array.isArray(P)){var B=y1(P,4),z=B[0],j=B[1],X=B[2],ie=B[3];return[z>=0?y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex(z,1)):z,j>=0?w.getRenderableFromVisualIndex(w.getNearestNotHiddenIndex(j,1)):j,X>=0?y.getRenderableFromVisualIndex(y.getNearestNotHiddenIndex(X,-1)):X,ie>=0?w.getRenderableFromVisualIndex(w.getNearestNotHiddenIndex(ie,-1)):ie]}},viewportRowCalculatorOverride:function(h){var p=t.settings.viewportRowRenderingOffset;if("auto"===p&&t.settings.fixedRowsTop&&(p=10),p>0||"auto"===p){var g=t.countRenderableRows(),y=h.startRow,w=h.endRow;if("number"==typeof p)h.startRow=Math.max(y-p,0),h.endRow=Math.min(w+p,g-1);else if("auto"===p){var S=Math.ceil(w/g*12);h.startRow=Math.max(y-S,0),h.endRow=Math.min(w+S,g-1)}}t.instance.runHooks("afterViewportRowCalculatorOverride",h)},viewportColumnCalculatorOverride:function(h){var p=t.settings.viewportColumnRenderingOffset;if("auto"===p&&t.settings.fixedColumnsStart&&(p=10),p>0||"auto"===p){var g=t.countRenderableColumns(),y=h.startColumn,w=h.endColumn;if("number"==typeof p&&(h.startColumn=Math.max(y-p,0),h.endColumn=Math.min(w+p,g-1)),"auto"===p){var S=Math.ceil(w/g*6);h.startColumn=Math.max(y-S,0),h.endColumn=Math.min(w+S,g-1)}}t.instance.runHooks("afterViewportColumnCalculatorOverride",h)},rowHeaderWidth:function(){return t.settings.rowHeaderWidth},columnHeaderHeight:function(){var h=t.instance.runHooks("modifyColumnHeaderHeight");return t.settings.columnHeaderHeight||h}};this.instance.runHooks("beforeInitWalkontable",i),this._wt=new V2e(i),this.activeWt=this._wt;var o=this._wt.wtTable.spreader,s=this.instance.rootElement.getBoundingClientRect();this.setLastSize(s.width,s.height),this.eventManager.addEventListener(o,"mousedown",function(c){c.target===o&&3===c.which&&c.stopPropagation()}),this.eventManager.addEventListener(o,"contextmenu",function(c){c.target===o&&3===c.which&&c.stopPropagation()}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"click",function(){t.settings.observeDOMVisibility&&t._wt.drawInterrupted&&(t.instance.forceFullRender=!0,t.render())})}},{key:"isTextSelectionAllowed",value:function(t){if(VL(t))return!0;var r=kb(t,this.instance.view._wt.wtTable.spreader);return!!(!0===this.settings.fragmentSelection&&r||"cell"===this.settings.fragmentSelection&&this.isSelectedOnlyCell()&&r||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}},{key:"isMouseDown",value:function(){return jb.get(this).mouseDown}},{key:"isSelectedOnlyCell",value:function(){var t,r;return null!==(t=null===(r=this.instance.getSelectedRangeLast())||void 0===r?void 0:r.isSingle())&&void 0!==t&&t}},{key:"isCellEdited",value:function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()}},{key:"beforeRender",value:function(t,r){t&&this.instance.runHooks("beforeViewRender",this.instance.forceFullRender,r)}},{key:"afterRender",value:function(t){t&&this.instance.runHooks("afterViewRender",this.instance.forceFullRender)}},{key:"appendRowHeader",value:function(t,r){if(r.firstChild){var i=r.firstChild;if(!Ci(i,"relative"))return af(r),void this.appendRowHeader(t,r);this.updateCellHeader(i.querySelector(".rowHeader"),t,this.instance.getRowHeader)}else{var o=this.instance,s=o.rootDocument,a=o.getRowHeader,u=s.createElement("div"),c=s.createElement("span");u.className="relative",c.className="rowHeader",this.updateCellHeader(c,t,a),u.appendChild(c),r.appendChild(u)}this.instance.runHooks("afterGetRowHeader",t,r)}},{key:"appendColHeader",value:function(t,r){if(r.firstChild){var i=r.firstChild;Ci(i,"relative")?this.updateCellHeader(i.querySelector(".colHeader"),t,this.instance.getColHeader):(af(r),this.appendColHeader(t,r))}else{var o=this.instance.rootDocument,s=o.createElement("div"),a=o.createElement("span");s.className="relative",a.className="colHeader",this.updateCellHeader(a,t,this.instance.getColHeader),s.appendChild(a),r.appendChild(s)}this.instance.runHooks("afterGetColHeader",t,r)}},{key:"updateCellHeader",value:function(t,r,i){var o=r,s=this._wt.wtOverlays.getParentOverlay(t)||this._wt;t.parentNode&&(Ci(t,"colHeader")?o=s.wtTable.columnFilter.sourceToRendered(r):Ci(t,"rowHeader")&&(o=s.wtTable.rowFilter.sourceToRendered(r))),o>-1?Pb(t,i(r)):(Ib(t,String.fromCharCode(160)),Rn(t,"cornerHeader"))}},{key:"maximumVisibleElementWidth",value:function(t){var i=this._wt.wtViewport.getWorkspaceWidth()-t;return i>0?i:0}},{key:"maximumVisibleElementHeight",value:function(t){var i=this._wt.wtViewport.getWorkspaceHeight()-t;return i>0?i:0}},{key:"setLastSize",value:function(t,r){var i=jb.get(this),o=[t,r];i.lastWidth=o[0],i.lastHeight=o[1]}},{key:"getLastSize",value:function(){var t=jb.get(this);return{width:t.lastWidth,height:t.lastHeight}}},{key:"getFirstFullyVisibleRow",value:function(){return this.instance.rowIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getFirstVisibleRow())}},{key:"getLastFullyVisibleRow",value:function(){return this.instance.rowIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getLastVisibleRow())}},{key:"getFirstFullyVisibleColumn",value:function(){return this.instance.columnIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getFirstVisibleColumn())}},{key:"getLastFullyVisibleColumn",value:function(){return this.instance.columnIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getLastVisibleColumn())}},{key:"destroy",value:function(){this._wt.destroy(),this.eventManager.destroy()}}]),n}();var _1=Qd("cellTypes"),tFe=_1.register,nFe=_1.getItem,yne=_1.hasItem;function _ne(n){if(!yne(n))throw Error('You declared cell type "'.concat(n,'" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by\n                 "Handsontable.cellTypes.registerCellType" method'));return nFe(n)}function ap(n,e){"string"!=typeof n&&(n=(e=n).CELL_TYPE);var r=e.editor,i=e.renderer,o=e.validator;r&&cd(n,r),i&&Lm(n,i),o&&p1(n,o),tFe(n,e)}function vU(n){return(vU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var yU="ABCDEFGHIJKLMNOPQRSTUVWXYZ".length;function _U(n){for(var r,e=n+1,t="";e>0;)r=(e-1)%yU,t=String.fromCharCode(65+r)+t,e=parseInt((e-r)/yU,10);return t}function SP(n,e){var t=void 0===e||e;return function(i,o){return function s(a){if(a){if(Ns(a,n)&&void 0!==a[n])return a[n];if(Ns(a,"type")&&a.type){if("string"!=typeof a.type)throw new Error('Cell "type" must be a string');var u=_ne(a.type);if(Ns(u,n))return u[n];if(t)return}return s(Object.getPrototypeOf(a))}}("number"==typeof i?this.getCellMeta(i,o):i)}}function wne(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=n,r=[];return(!Array.isArray(n)||!Array.isArray(n[0]))&&(t=[n]),t.forEach(function(i,o){Array.isArray(i)?i.forEach(function(s,a){r.push([o+e,a,s])}):Object.keys(i).forEach(function(s){r.push([o+e,s,i[s]])})}),r}function Mne(n){var e=0;return Array.isArray(n)&&(n[0]&&Array.isArray(n[0])?e=n[0].length:n[0]&&Yi(n[0])&&(e=NV(n[0]))),e}function oFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Sne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const lFe=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];oFe(this,n),this.hot=e,this.data=t,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}return function sFe(n,e,t){e&&Sne(n.prototype,e),t&&Sne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"modifyRowData",value:function(t){var r;return this.hot.hasHook("modifyRowData")&&(r=this.hot.runHooks("modifyRowData",t)),void 0===r||Number.isInteger(r)?this.data[t]:r}},{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.data&&0!==this.data.length?this.getByRange(null,null,t):this.data}},{key:"setData",value:function(t){this.data=t}},{key:"getAtColumn",value:function(t){var r=this,i=[];return tt(this.data,function(o,s){var a=r.getAtCell(s,t);i.push(a)}),i}},{key:"getAtRow",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=void 0===r&&void 0===i,u=null,c=null;if(u=this.modifyRowData(t),Array.isArray(u))c=[],a?u.forEach(function(g,y){c[y]=o.getAtPhysicalCell(t,y,u)}):Vr(r,i,function(g){c[g-r]=o.getAtPhysicalCell(t,g,u)});else if(Yi(u)||xs(u))if(c=s?[]:{},!a||s){var h=0,p=this.countFirstRowKeys()-1;Vr(h,p,function(g){var y=o.colToProp(g);if(g>=(r||h)&&g<=(i||p)&&!Number.isInteger(y)){var w=o.getAtPhysicalCell(t,y,u);s?c.push(w):IV(c,y,w)}})}else io(u,function(g,y){IV(c,y,o.getAtPhysicalCell(t,y,u))});return c}},{key:"setAtCell",value:function(t,r,i){if(!(t>=this.countRows()||r>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){var o=zS(i);this.hot.runHooks("modifySourceData",t,this.propToCol(r),o,"set"),o.isTouched()&&(i=o.value)}Number.isInteger(r)?this.data[t][r]=i:IV(this.data[t],r,i)}}},{key:"getAtPhysicalCell",value:function(t,r,i){var o=null;if(i&&(o="string"==typeof r?function iOe(n,e){var t=e.split("."),r=n;return io(t,function(i){if(void 0===(r=r[i]))return r=void 0,!1}),r}(i,r):"function"==typeof r?r(i):i[r]),this.hot.hasHook("modifySourceData")){var s=zS(o);this.hot.runHooks("modifySourceData",t,this.colToProp(r),s,"get"),s.isTouched()&&(o=s.value)}return o}},{key:"getAtCell",value:function(t,r){var i=this.modifyRowData(t);return this.getAtPhysicalCell(t,this.colToProp(r),i)}},{key:"getByRange",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!1,a=null,u=null,c=null,h=null;null===r||null===i?(s=!0,a=0,c=this.countRows()-1):(a=Math.min(r.row,i.row),u=Math.min(r.col,i.col),c=Math.max(r.row,i.row),h=Math.max(r.col,i.col));var p=[];return Vr(a,c,function(g){p.push(s?t.getAtRow(g,void 0,void 0,o):t.getAtRow(g,u,h,o))}),p}},{key:"countRows",value:function(){if(this.hot.hasHook("modifySourceLength")){var t=this.hot.runHooks("modifySourceLength");if(Number.isInteger(t))return t}return this.data.length}},{key:"countFirstRowKeys",value:function(){return Mne(this.data)}},{key:"destroy",value:function(){this.data=null,this.hot=null}}]),n}();b(6590),b(5379);var xne={_localHooks:Object.create(null),addLocalHook:function(e,t){return this._localHooks[e]||(this._localHooks[e]=[]),this._localHooks[e].push(t),this},runLocalHooks:function(e,t,r,i,o,s,a){if(this._localHooks[e])for(var u=this._localHooks[e].length,c=0;c<u;c++)ZV(this._localHooks[e][c],this,t,r,i,o,s,a)},clearLocalHooks:function(){return this._localHooks={},this}};Om(xne,"MIXIN_NAME","localHooks",{writable:!1,enumerable:!1});const Ec=xne;function cFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Cne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Wb=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;cFe(this,n),this.indexedValues=[],this.initValueOrFn=e}return function dFe(n,e,t){e&&Cne(n.prototype,e),t&&Cne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getValues",value:function(){return this.indexedValues}},{key:"getValueAtIndex",value:function(t){var r=this.indexedValues;if(t<r.length)return r[t]}},{key:"setValues",value:function(t){this.indexedValues=t.slice(),this.runLocalHooks("change")}},{key:"setValueAtIndex",value:function(t,r){return t<this.indexedValues.length&&(this.indexedValues[t]=r,this.runLocalHooks("change"),!0)}},{key:"clear",value:function(){this.setDefaultValues()}},{key:"getLength",value:function(){return this.getValues().length}},{key:"setDefaultValues",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,xs(this.initValueOrFn)?Vr(r-1,function(i){return t.indexedValues.push(t.initValueOrFn(i))}):Vr(r-1,function(){return t.indexedValues.push(t.initValueOrFn)}),this.runLocalHooks("change")}},{key:"init",value:function(t){return this.setDefaultValues(t),this.runLocalHooks("init"),this}},{key:"insert",value:function(){this.runLocalHooks("change")}},{key:"remove",value:function(){this.runLocalHooks("change")}},{key:"destroy",value:function(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}]),n}();function bU(n){return function mFe(n){if(Array.isArray(n))return wU(n)}(n)||function pFe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function fFe(n,e){if(n){if("string"==typeof n)return wU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wU(n,e)}}(n)||function hFe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function MU(n,e,t,r){var i=t.length?t[0]:void 0;return[].concat(bU(n.slice(0,i)),bU(t.map(function(o,s){return xs(r)?r(o,s):r})),bU(void 0===i?[]:n.slice(i)))}function SU(n,e){return Jd(n,function(t,r){return!1===e.includes(r)})}function xU(n){return(xU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function gFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ene(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function b1(){return b1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=yFe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},b1.apply(this,arguments)}function yFe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Yb(n)););return n}function CU(n,e){return(CU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function wFe(n,e){if(e&&("object"===xU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function MFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Yb(n){return(Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}ys(Wb,Ec);var iy=function(n){!function _Fe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&CU(n,e)}(t,n);var e=function bFe(n){var e=function SFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Yb(n);if(e){var o=Yb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return wFe(this,i)}}(t);function t(){return gFe(this,t),e.apply(this,arguments)}return function vFe(n,e,t){e&&Ene(n.prototype,e),t&&Ene(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){this.indexedValues=MU(this.indexedValues,0,o,this.initValueOrFn),b1(Yb(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=SU(this.indexedValues,i),b1(Yb(t.prototype),"remove",this).call(this,i)}}]),t}(Wb);function EU(n){return(EU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function TU(n,e){return(TU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function RFe(n,e){if(e&&("object"===EU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function DFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function xP(n){return(xP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var CP=function(n){!function EFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&TU(n,e)}(t,n);var e=function TFe(n){var e=function AFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=xP(n);if(e){var o=xP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return RFe(this,i)}}(t);function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return xFe(this,t),e.call(this,r)}return function CFe(n,e,t){e&&Tne(n.prototype,e),t&&Tne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getHiddenIndexes",value:function(){return Ua(this.getValues(),function(i,o,s){return o&&i.push(s),i},[])}}]),t}(iy);function RU(n){return function PFe(n){if(Array.isArray(n))return DU(n)}(n)||function LFe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function kFe(n,e){if(n){if("string"==typeof n)return DU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return DU(n,e)}}(n)||function OFe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function AU(n,e,t){return[].concat(RU(n.slice(0,e)),RU(t),RU(n.slice(e)))}function w1(n,e){return Jd(n,function(t){return!1===e.includes(t)})}function OU(n,e){return Ji(n,function(t){return t-e.filter(function(r){return r<t}).length})}function kU(n,e){var t=e[0],r=e.length;return Ji(n,function(i){return i>=t?i+r:i})}function LU(n){return(LU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function PU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function VFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Rne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Pm(){return Pm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=UFe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Pm.apply(this,arguments)}function UFe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=uf(n)););return n}function IU(n,e){return(IU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function YFe(n,e){if(e&&("object"===LU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dne(n)}function Dne(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function uf(n){return(uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function $Fe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var EP=function(n){!function jFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&IU(n,e)}(t,n);var e=function WFe(n){var e=function GFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=uf(n);if(e){var o=uf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return YFe(this,i)}}(t);function t(){var r;VFe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return $Fe(Dne(r=e.call.apply(e,[this].concat(o))),"orderOfIndexes",[]),r}return function zFe(n,e,t){e&&Rne(n.prototype,e),t&&Rne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValues",value:function(){var i=this;return this.orderOfIndexes.map(function(o){return i.indexedValues[o]})}},{key:"setValues",value:function(i){this.orderOfIndexes=function IFe(n){return function BFe(n){if(Array.isArray(n))return PU(n)}(n)||function HFe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function FFe(n,e){if(n){if("string"==typeof n)return PU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return PU(n,e)}}(n)||function NFe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(i.length).keys()),Pm(uf(t.prototype),"setValues",this).call(this,i)}},{key:"setValueAtIndex",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.orderOfIndexes.length;return i<this.indexedValues.length&&(this.indexedValues[i]=o,!1===this.orderOfIndexes.includes(i)&&this.orderOfIndexes.splice(s,0,i),this.runLocalHooks("change"),!0)}},{key:"clearValue",value:function(i){this.orderOfIndexes=w1(this.orderOfIndexes,[i]),xs(this.initValueOrFn)?Pm(uf(t.prototype),"setValueAtIndex",this).call(this,i,this.initValueOrFn(i)):Pm(uf(t.prototype),"setValueAtIndex",this).call(this,i,this.initValueOrFn)}},{key:"getLength",value:function(){return this.orderOfIndexes.length}},{key:"setDefaultValues",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,Pm(uf(t.prototype),"setDefaultValues",this).call(this,i)}},{key:"insert",value:function(i,o){this.indexedValues=MU(this.indexedValues,0,o,this.initValueOrFn),this.orderOfIndexes=kU(this.orderOfIndexes,o),Pm(uf(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=SU(this.indexedValues,i),this.orderOfIndexes=w1(this.orderOfIndexes,i),this.orderOfIndexes=OU(this.orderOfIndexes,i),Pm(uf(t.prototype),"remove",this).call(this,i)}},{key:"getEntries",value:function(){var i=this;return this.orderOfIndexes.map(function(o){return[o,i.getValueAtIndex(o)]})}}]),t}(Wb);function NU(n){return(NU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function XFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ane(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function FU(n,e){return(FU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function JFe(n,e){if(e&&("object"===NU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function QFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function TP(n){return(TP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var M1=function(n){!function ZFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&FU(n,e)}(t,n);var e=function qFe(n){var e=function eHe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=TP(n);if(e){var o=TP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return JFe(this,i)}}(t);function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return XFe(this,t),e.call(this,r)}return function KFe(n,e,t){e&&Ane(n.prototype,e),t&&Ane(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getTrimmedIndexes",value:function(){return Ua(this.getValues(),function(i,o,s){return o&&i.push(s),i},[])}}]),t}(iy),One=new Map([["hiding",CP],["index",Wb],["linkedPhysicalIndexToValue",EP],["physicalIndexToValue",iy],["trimming",M1]]);function HU(n){return(HU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function kne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function S1(){return S1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=iHe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},S1.apply(this,arguments)}function iHe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Gb(n)););return n}function BU(n,e){return(BU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function aHe(n,e){if(e&&("object"===HU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function lHe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Gb(n){return(Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Lne=function(n){!function oHe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&BU(n,e)}(t,n);var e=function sHe(n){var e=function uHe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Gb(n);if(e){var o=Gb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return aHe(this,i)}}(t);function t(){return function nHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function rHe(n,e,t){e&&kne(n.prototype,e),t&&kne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=kU(this.indexedValues,o);this.indexedValues=AU(s,i,o),S1(Gb(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){var o=w1(this.indexedValues,i);this.indexedValues=OU(o,i),S1(Gb(t.prototype),"remove",this).call(this,i)}}]),t}(Wb);function Pne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var zU=function(){function n(){(function cHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.collection=new Map}return function dHe(n,e,t){e&&Pne(n.prototype,e),t&&Pne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"register",value:function(t,r){var i=this;!1===this.collection.has(t)&&(this.collection.set(t,r),r.addLocalHook("change",function(){return i.runLocalHooks("change",r)}))}},{key:"unregister",value:function(t){var r=this.collection.get(t);fr(r)&&(r.destroy(),this.collection.delete(t),this.runLocalHooks("change",r))}},{key:"unregisterAll",value:function(){var t=this;this.collection.forEach(function(r,i){return t.unregister(i)}),this.collection.clear()}},{key:"get",value:function(t){return Fs(t)?Array.from(this.collection.values()):this.collection.get(t)}},{key:"getLength",value:function(){return this.collection.size}},{key:"removeFromEvery",value:function(t){this.collection.forEach(function(r){r.remove(t)})}},{key:"insertToEvery",value:function(t,r){this.collection.forEach(function(i){i.insert(t,r)})}},{key:"initEvery",value:function(t){this.collection.forEach(function(r){r.init(t)})}}]),n}();function UU(n){return(UU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ine(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function jU(n,e){return(jU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function gHe(n,e){if(e&&("object"===UU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function vHe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function RP(n){return(RP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}ys(zU,Ec);var Nne=function(n){!function pHe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&jU(n,e)}(t,n);var e=function mHe(n){var e=function yHe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=RP(n);if(e){var o=RP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gHe(this,i)}}(t);function t(r,i){var o;return function hHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this)).mergedValuesCache=[],o.aggregationFunction=r,o.fallbackValue=i,o}return function fHe(n,e,t){e&&Ine(n.prototype,e),t&&Ine(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getMergedValues",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===i)return this.mergedValuesCache;if(0===this.getLength())return[];for(var o=Ji(this.get(),function(p){return p.getValues()}),s=[],a=fr(o[0])&&o[0].length||0,u=0;u<a;u+=1){for(var c=[],h=0;h<this.getLength();h+=1)c.push(o[h][u]);s.push(c)}return Ji(s,this.aggregationFunction)}},{key:"getMergedValueAtIndex",value:function(i,o){var s=this.getMergedValues(o)[i];return fr(s)?s:this.fallbackValue}},{key:"updateCache",value:function(){this.mergedValuesCache=this.getMergedValues(!1)}}]),t}(zU);function Fne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Hne(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var WU=new WeakMap,Bne=function(){function n(){(function _He(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function wHe(n,e,t){(function MHe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}(this,WU,{writable:!0,value:[]})}return function bHe(n,e,t){e&&Fne(n.prototype,e),t&&Fne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"subscribe",value:function(t){return this.addLocalHook("change",t),this._write(function CHe(n,e){return function EHe(n,e){return e.get?e.get.call(n):e.value}(n,Hne(n,e,"get"))}(this,WU)),this}},{key:"unsubscribe",value:function(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}},{key:"_write",value:function(t){return t.length>0&&this.runLocalHooks("change",t),this}},{key:"_writeInitialChanges",value:function(t){!function SHe(n,e,t){return function xHe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Hne(n,e,"set"),t),t}(this,WU,t)}}]),n}();function Vne(n,e){for(var t=[],r=0,i=0;r<n.length&&i<e.length;r++,i++)n[r]!==e[i]&&t.push({op:"replace",index:i,oldValue:n[r],newValue:e[i]});for(;r<e.length;r++)t.push({op:"insert",index:r,oldValue:void 0,newValue:e[r]});for(;i<n.length;i++)t.push({op:"remove",index:i,oldValue:n[i],newValue:void 0});return t}function THe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function x1(n,e,t){(function DHe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function rh(n,e){return function AHe(n,e){return e.get?e.get.call(n):e.value}(n,Une(n,e,"get"))}function DP(n,e,t){return function OHe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Une(n,e,"set"),t),t}function Une(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}ys(Bne,Ec);var jne,AP=new WeakMap,C1=new WeakMap,OP=new WeakMap,kP=new WeakMap,LP=new WeakMap,kHe=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialIndexValue;THe(this,n),x1(this,AP,{writable:!0,value:new Set}),x1(this,C1,{writable:!0,value:[]}),x1(this,OP,{writable:!0,value:[]}),x1(this,kP,{writable:!0,value:!1}),x1(this,LP,{writable:!0,value:!1}),DP(this,LP,null!=t&&t)}return function RHe(n,e,t){e&&zne(n.prototype,e),t&&zne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createObserver",value:function(){var t=this,r=new Bne;return rh(this,AP).add(r),r.addLocalHook("unsubscribe",function(){rh(t,AP).delete(r)}),r._writeInitialChanges(Vne(rh(this,C1),rh(this,OP))),r}},{key:"emit",value:function(t){var r=rh(this,OP);(!rh(this,kP)||rh(this,C1).length!==t.length)&&(0===t.length?t=new Array(r.length).fill(rh(this,LP)):DP(this,C1,new Array(t.length).fill(rh(this,LP))),rh(this,kP)||(DP(this,kP,!0),r=rh(this,C1)));var i=Vne(r,t);rh(this,AP).forEach(function(o){return o._write(i)}),DP(this,OP,t)}}]),n}();function YU(n){return function NHe(n){if(Array.isArray(n))return GU(n)}(n)||function IHe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function PHe(n,e){if(n){if("string"==typeof n)return GU(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return GU(n,e)}}(n)||function LHe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GU(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function FHe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Wne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Gne,Yne=new Set(["getFirstNotHiddenIndex"]),$U=function(){function n(){var e=this;(function HHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.indexesSequence=new Lne,this.trimmingMapsCollection=new Nne(function(t){return t.some(function(r){return!0===r})},!1),this.hidingMapsCollection=new Nne(function(t){return t.some(function(r){return!0===r})},!1),this.variousMapsCollection=new zU,this.hidingChangesObservable=new kHe({initialIndexValue:!1}),this.notTrimmedIndexesCache=[],this.notHiddenIndexesCache=[],this.isBatched=!1,this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1,this.renderablePhysicalIndexesCache=[],this.fromPhysicalToVisualIndexesCache=new Map,this.fromVisualToRenderableIndexesCache=new Map,this.indexesSequence.addLocalHook("change",function(){e.indexesSequenceChanged=!0,e.updateCache(),e.runLocalHooks("change",e.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",function(t){e.trimmedIndexesChanged=!0,e.updateCache(),e.runLocalHooks("change",t,e.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",function(t){e.hiddenIndexesChanged=!0,e.updateCache(),e.runLocalHooks("change",t,e.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",function(t){e.runLocalHooks("change",t,e.variousMapsCollection)})}return function BHe(n,e,t){e&&Wne(n.prototype,e),t&&Wne(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"suspendOperations",value:function(){this.isBatched=!0}},{key:"resumeOperations",value:function(){this.isBatched=!1,this.updateCache()}},{key:"createChangesObserver",value:function(t){if("hiding"!==t)throw new Error('Unsupported index map type "'.concat(t,'".'));return this.hidingChangesObservable.createObserver()}},{key:"createAndRegisterIndexMap",value:function(t,r,i){return this.registerMap(t,function tHe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!One.has(n))throw new Error('The provided map type ("'.concat(n,'") does not exist.'));return new(One.get(n))(e)}(r,i))}},{key:"registerMap",value:function(t,r){if(this.trimmingMapsCollection.get(t)||this.hidingMapsCollection.get(t)||this.variousMapsCollection.get(t))throw Error('Map with name "'.concat(t,'" has been already registered.'));r instanceof M1?this.trimmingMapsCollection.register(t,r):r instanceof CP?this.hidingMapsCollection.register(t,r):this.variousMapsCollection.register(t,r);var i=this.getNumberOfIndexes();return i>0&&r.init(i),r}},{key:"unregisterMap",value:function(t){this.trimmingMapsCollection.unregister(t),this.hidingMapsCollection.unregister(t),this.variousMapsCollection.unregister(t)}},{key:"unregisterAll",value:function(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}},{key:"getPhysicalFromVisualIndex",value:function(t){var r=this.notTrimmedIndexesCache[t];return fr(r)?r:null}},{key:"getPhysicalFromRenderableIndex",value:function(t){var r=this.renderablePhysicalIndexesCache[t];return fr(r)?r:null}},{key:"getVisualFromPhysicalIndex",value:function(t){var r=this.fromPhysicalToVisualIndexesCache.get(t);return fr(r)?r:null}},{key:"getVisualFromRenderableIndex",value:function(t){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(t))}},{key:"getRenderableFromVisualIndex",value:function(t){var r=this.fromVisualToRenderableIndexesCache.get(t);return fr(r)?r:null}},{key:"getFirstNotHiddenIndex",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t-r;Yne.has("getFirstNotHiddenIndex")&&(Yne.delete("getFirstNotHiddenIndex"),Cs(ds(jne||(jne=FHe(['The method "getFirstNotHiddenIndex" is deprecated and will be removed in the next \n                        major release. Please use "getNearestNotHiddenIndex" instead.'],['The method "getFirstNotHiddenIndex" is deprecated and will be removed in the next\\x20\n                        major release. Please use "getNearestNotHiddenIndex" instead.'])))));var s=this.getPhysicalFromVisualIndex(t);return null===s?!0===i&&o!==t-r?this.getFirstNotHiddenIndex(o,-r,!1,o):null:!1===this.isHidden(s)?t:this.getFirstNotHiddenIndex(t+r,r,i,o)}},{key:"getNearestNotHiddenIndex",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.getPhysicalFromVisualIndex(t);if(null===o)return null;if(this.fromVisualToRenderableIndexesCache.has(t))return t;var s=Array.from(this.fromVisualToRenderableIndexesCache.keys()),a=-1;return-1===(a=r>0?s.findIndex(function(u){return u>t}):s.reverse().findIndex(function(u){return u<t}))?i?this.getNearestNotHiddenIndex(t,-r,!1):null:s[a]}},{key:"initToLength",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=YU(new Array(t).keys()),this.notHiddenIndexesCache=YU(new Array(t).keys()),this.suspendOperations(),this.indexesSequence.init(t),this.trimmingMapsCollection.initEvery(t),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(t),this.variousMapsCollection.initEvery(t),this.resumeOperations(),this.runLocalHooks("init")}},{key:"fitToLength",value:function(t){var r=this.getNumberOfIndexes();if(t<r){var i=YU(Array(this.getNumberOfIndexes()-t).keys()).map(function(o){return o+t});this.removeIndexes(i)}else this.insertIndexes(r,t-r)}},{key:"getIndexesSequence",value:function(){return this.indexesSequence.getValues()}},{key:"setIndexesSequence",value:function(t){this.indexesSequence.setValues(t)}},{key:"getNotTrimmedIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.notTrimmedIndexesCache;var i=this.getIndexesSequence();return i.filter(function(o){return!1===t.isTrimmed(o)})}},{key:"getNotTrimmedIndexesLength",value:function(){return this.getNotTrimmedIndexes().length}},{key:"getNotHiddenIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.notHiddenIndexesCache;var i=this.getIndexesSequence();return i.filter(function(o){return!1===t.isHidden(o)})}},{key:"getNotHiddenIndexesLength",value:function(){return this.getNotHiddenIndexes().length}},{key:"getRenderableIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.renderablePhysicalIndexesCache;var i=this.getNotTrimmedIndexes();return i.filter(function(o){return!1===t.isHidden(o)})}},{key:"getRenderableIndexesLength",value:function(){return this.getRenderableIndexes().length}},{key:"getNumberOfIndexes",value:function(){return this.getIndexesSequence().length}},{key:"moveIndexes",value:function(t,r){var i=this;"number"==typeof t&&(t=[t]);var o=Ji(t,function(p){return i.getPhysicalFromVisualIndex(p)}),s=this.getNotTrimmedIndexesLength(),a=t.length,u=w1(this.getIndexesSequence(),o),c=s-a;if(r+a<s){var h=u.filter(function(p){return!1===i.isTrimmed(p)})[r];c=u.indexOf(h)}this.setIndexesSequence(AU(u,c,o))}},{key:"isTrimmed",value:function(t){return this.trimmingMapsCollection.getMergedValueAtIndex(t)}},{key:"isHidden",value:function(t){return this.hidingMapsCollection.getMergedValueAtIndex(t)}},{key:"insertIndexes",value:function(t,r){var i=this.getNotTrimmedIndexes()[t],o=fr(i)?i:this.getNumberOfIndexes(),s=this.getIndexesSequence().includes(i)?this.getIndexesSequence().indexOf(i):this.getNumberOfIndexes(),a=Ji(new Array(r).fill(o),function(u,c){return u+c});this.suspendOperations(),this.indexesSequence.insert(s,a),this.trimmingMapsCollection.insertToEvery(s,a),this.hidingMapsCollection.insertToEvery(s,a),this.variousMapsCollection.insertToEvery(s,a),this.resumeOperations()}},{key:"removeIndexes",value:function(t){this.suspendOperations(),this.indexesSequence.remove(t),this.trimmingMapsCollection.removeFromEvery(t),this.hidingMapsCollection.removeFromEvery(t),this.variousMapsCollection.removeFromEvery(t),this.resumeOperations()}},{key:"updateCache",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(!0===t||!1===this.isBatched&&!0===r)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}},{key:"cacheFromPhysicalToVisualIndexes",value:function(){var t=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(var r=0;r<t;r+=1){var i=this.getPhysicalFromVisualIndex(r);this.fromPhysicalToVisualIndexesCache.set(i,r)}}},{key:"cacheFromVisualToRenderableIndexes",value:function(){var t=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(var r=0;r<t;r+=1){var i=this.getPhysicalFromRenderableIndex(r),o=this.getVisualFromPhysicalIndex(i);this.fromVisualToRenderableIndexesCache.set(o,r)}}}]),n}();function $ne(n){var t=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(n);return t?"".concat(t[1].toLowerCase(),"-").concat(t[2].toUpperCase()):n}function Xne(n){fr(n)&&JV(ds(Gne||(Gne=function VHe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'],['Language with code "','" was not found. You should register particular language\\x20\n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'])),n))}ys($U,Ec);var Kne=Qd("phraseFormatters"),jHe=Kne.register,WHe=Kne.getValues;!function YHe(n,e){jHe(n,e)}("pluralize",function UHe(n,e){return Array.isArray(n)&&Number.isInteger(e)?n[e]:n});var lr,Gi="ContextMenu:items",XU="".concat(Gi,".noItems"),KU="".concat(Gi,".insertRowAbove"),ZU="".concat(Gi,".insertRowBelow"),qU="".concat(Gi,".insertColumnOnTheLeft"),JU="".concat(Gi,".insertColumnOnTheRight"),QU="".concat(Gi,".removeRow"),ej="".concat(Gi,".removeColumn"),tj="".concat(Gi,".undo"),nj="".concat(Gi,".redo"),rj="".concat(Gi,".readOnly"),ij="".concat(Gi,".clearColumn"),oj="".concat(Gi,".copy"),sj="".concat(Gi,".cut"),aj="".concat(Gi,".freezeColumn"),lj="".concat(Gi,".unfreezeColumn"),uj="".concat(Gi,".mergeCells"),cj="".concat(Gi,".unmergeCells"),dj="".concat(Gi,".addComment"),hj="".concat(Gi,".editComment"),fj="".concat(Gi,".removeComment"),pj="".concat(Gi,".readOnlyComment"),mj="".concat(Gi,".align"),gj="".concat(Gi,".align.left"),vj="".concat(Gi,".align.center"),yj="".concat(Gi,".align.right"),_j="".concat(Gi,".align.justify"),bj="".concat(Gi,".align.top"),wj="".concat(Gi,".align.middle"),Mj="".concat(Gi,".align.bottom"),Sj="".concat(Gi,".borders"),xj="".concat(Gi,".borders.top"),Cj="".concat(Gi,".borders.right"),Ej="".concat(Gi,".borders.bottom"),Tj="".concat(Gi,".borders.left"),Rj="".concat(Gi,".borders.remove"),Dj="".concat(Gi,".nestedHeaders.insertChildRow"),Aj="".concat(Gi,".nestedHeaders.detachFromParent"),Oj="".concat(Gi,".hideColumn"),kj="".concat(Gi,".showColumn"),Lj="".concat(Gi,".hideRow"),Pj="".concat(Gi,".showRow"),Uu="Filters:",ia="".concat(Uu,"conditions"),PP="".concat(ia,".none"),Ij="".concat(ia,".isEmpty"),Nj="".concat(ia,".isNotEmpty"),Fj="".concat(ia,".isEqualTo"),Hj="".concat(ia,".isNotEqualTo"),Bj="".concat(ia,".beginsWith"),Vj="".concat(ia,".endsWith"),zj="".concat(ia,".contains"),Uj="".concat(ia,".doesNotContain"),$He="".concat(ia,".byValue"),jj="".concat(ia,".greaterThan"),Wj="".concat(ia,".greaterThanOrEqualTo"),Yj="".concat(ia,".lessThan"),Gj="".concat(ia,".lessThanOrEqualTo"),$j="".concat(ia,".isBetween"),Xj="".concat(ia,".isNotBetween"),Kj="".concat(ia,".after"),Zj="".concat(ia,".before"),qj="".concat(ia,".today"),Jj="".concat(ia,".tomorrow"),Qj="".concat(ia,".yesterday"),e4="".concat(Uu,"labels.filterByCondition"),t4="".concat(Uu,"labels.filterByValue"),n4="".concat(Uu,"labels.conjunction"),IP="".concat(Uu,"labels.disjunction"),NP="".concat(Uu,"values.blankCells"),r4="".concat(Uu,"buttons.selectAll"),o4="".concat(Uu,"buttons.clear"),s4="".concat(Uu,"buttons.ok"),a4="".concat(Uu,"buttons.cancel"),l4="".concat(Uu,"buttons.placeholder.search"),u4="".concat(Uu,"buttons.placeholder.value"),c4="".concat(Uu,"buttons.placeholder.secondValue");function gr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Zne=(gr(lr={languageCode:"en-US"},XU,"No available options"),gr(lr,KU,"Insert row above"),gr(lr,ZU,"Insert row below"),gr(lr,qU,"Insert column left"),gr(lr,JU,"Insert column right"),gr(lr,QU,["Remove row","Remove rows"]),gr(lr,ej,["Remove column","Remove columns"]),gr(lr,tj,"Undo"),gr(lr,nj,"Redo"),gr(lr,rj,"Read only"),gr(lr,ij,"Clear column"),gr(lr,mj,"Alignment"),gr(lr,gj,"Left"),gr(lr,vj,"Center"),gr(lr,yj,"Right"),gr(lr,_j,"Justify"),gr(lr,bj,"Top"),gr(lr,wj,"Middle"),gr(lr,Mj,"Bottom"),gr(lr,aj,"Freeze column"),gr(lr,lj,"Unfreeze column"),gr(lr,Sj,"Borders"),gr(lr,xj,"Top"),gr(lr,Cj,"Right"),gr(lr,Ej,"Bottom"),gr(lr,Tj,"Left"),gr(lr,Rj,"Remove border(s)"),gr(lr,dj,"Add comment"),gr(lr,hj,"Edit comment"),gr(lr,fj,"Delete comment"),gr(lr,pj,"Read-only comment"),gr(lr,uj,"Merge cells"),gr(lr,cj,"Unmerge cells"),gr(lr,oj,"Copy"),gr(lr,sj,"Cut"),gr(lr,Dj,"Insert child row"),gr(lr,Aj,"Detach from parent"),gr(lr,Oj,["Hide column","Hide columns"]),gr(lr,kj,["Show column","Show columns"]),gr(lr,Lj,["Hide row","Hide rows"]),gr(lr,Pj,["Show row","Show rows"]),gr(lr,PP,"None"),gr(lr,Ij,"Is empty"),gr(lr,Nj,"Is not empty"),gr(lr,Fj,"Is equal to"),gr(lr,Hj,"Is not equal to"),gr(lr,Bj,"Begins with"),gr(lr,Vj,"Ends with"),gr(lr,zj,"Contains"),gr(lr,Uj,"Does not contain"),gr(lr,jj,"Greater than"),gr(lr,Wj,"Greater than or equal to"),gr(lr,Yj,"Less than"),gr(lr,Gj,"Less than or equal to"),gr(lr,$j,"Is between"),gr(lr,Xj,"Is not between"),gr(lr,Kj,"After"),gr(lr,Zj,"Before"),gr(lr,qj,"Today"),gr(lr,Jj,"Tomorrow"),gr(lr,Qj,"Yesterday"),gr(lr,NP,"Blank cells"),gr(lr,e4,"Filter by condition"),gr(lr,t4,"Filter by value"),gr(lr,n4,"And"),gr(lr,IP,"Or"),gr(lr,r4,"Select all"),gr(lr,o4,"Clear"),gr(lr,s4,"OK"),gr(lr,a4,"Cancel"),gr(lr,l4,"Search"),gr(lr,u4,"Value"),gr(lr,c4,"Second value"),lr);var d4=Zne.languageCode,FP=Qd("languagesDictionaries"),KHe=FP.register,qne=FP.getItem,ZHe=FP.hasItem,qHe=FP.getValues;function Jne(n,e){var t=n,r=e;return Yi(n)&&(t=(r=n).languageCode),function JHe(n,e){n!==d4&&function zHe(n,e){io(e,function(t,r){Fs(n[r])&&(n[r]=t)})}(e,qne(d4))}(t,r),KHe(t,zu(r)),zu(r)}function Qne(n){return h4(n)?zu(qne(n)):null}function h4(n){return ZHe(n)}function ere(n,e,t){var r=Qne(n);if(null===r)return null;var i=r[e];if(Fs(i))return null;var o=function e3e(n,e){var t=n;return tt(function GHe(){return WHe()}(),function(r){t=r(n,e)}),t}(i,t);return Array.isArray(o)?o[0]:o}function t3e(n){var e=$ne(n);return h4(e)||(e=d4,Xne(n)),e}Jne(Zne),b(171);var HP="active-header",BP="area",E1="cell",f4="fill",T1="header",p4="custom-selection";function m4(n,e){return function o3e(n){if(Array.isArray(n))return n}(n)||function i3e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function r3e(n,e){if(n){if("string"==typeof n)return tre(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tre(n,e)}}(n,e)||function n3e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tre(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function nre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(2885);const u3e=function(){function n(e,t){(function s3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),t&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=t,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle={width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"},this.cornerCenterPointOffset=-parseInt(this.cornerDefaultStyle.width,10)/2,this.corner=null,this.cornerStyle=null,this.createBorders(t),this.registerListeners())}return function a3e(n,e,t){e&&nre(n.prototype,e),t&&nre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerListeners",value:function(){var t=this,r=this.wot.rootDocument.body;this.eventManager.addEventListener(r,"mousedown",function(){return t.onMouseDown()}),this.eventManager.addEventListener(r,"mouseup",function(){return t.onMouseUp()});for(var i=function(u,c){t.eventManager.addEventListener(t.main.childNodes[u],"mouseenter",function(p){return t.onMouseEnter(p,t.main.childNodes[u])})},o=0,s=this.main.childNodes.length;o<s;o++)i(o)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(t,r){if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){t.preventDefault(),rp(t);var i=this,o=this.wot.rootDocument.body,s=r.getBoundingClientRect();r.style.display="none",this.eventManager.addEventListener(o,"mousemove",function u(c){(function a(c){if(c.clientY<Math.floor(s.top)||c.clientY>Math.ceil(s.top+s.height)||c.clientX<Math.floor(s.left)||c.clientX>Math.ceil(s.left+s.width))return!0})(c)&&(i.eventManager.removeEventListener(o,"mousemove",u),r.style.display="block")})}}},{key:"createBorders",value:function(t){var r=this.wot.rootDocument;this.main=r.createElement("div");var i=["top","start","bottom","end","corner"],o=this.main.style;o.position="absolute",o.top=0,o.left=0;for(var s=0;s<5;s++){var a=i[s],u=r.createElement("div");u.className="wtBorder ".concat(this.settings.className||""),this.settings[a]&&this.settings[a].hide&&(u.className+=" hidden"),(o=u.style).backgroundColor=this.settings[a]&&this.settings[a].color?this.settings[a].color:t.border.color,o.height="".concat(this.settings[a]&&this.settings[a].width?this.settings[a].width:t.border.width,"px"),o.width="".concat(this.settings[a]&&this.settings[a].width?this.settings[a].width:t.border.width,"px"),this.main.appendChild(u)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),np()&&this.createMultipleSelectorHandles(),this.disappear();var c=this.wot.wtTable,h=c.bordersHolder;h||((h=r.createElement("div")).className="htBorders",c.bordersHolder=h,c.spreader.appendChild(h)),h.appendChild(this.main)}},{key:"createMultipleSelectorHandles",value:function(){var t=this,r=this.wot.rootDocument;this.selectionHandles={top:r.createElement("DIV"),topHitArea:r.createElement("DIV"),bottom:r.createElement("DIV"),bottomHitArea:r.createElement("DIV")},this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style},io({position:"absolute",height:"".concat(40,"px"),width:"".concat(40,"px"),"border-radius":"".concat(parseInt(40/1.5,10),"px")},function(u,c){t.selectionHandles.styles.bottomHitArea[c]=u,t.selectionHandles.styles.topHitArea[c]=u}),io({position:"absolute",height:"".concat(10,"px"),width:"".concat(10,"px"),"border-radius":"".concat(parseInt(10/1.5,10),"px"),background:"#F5F5FF",border:"1px solid #4285c8"},function(u,c){t.selectionHandles.styles.bottom[c]=u,t.selectionHandles.styles.top[c]=u}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}},{key:"isPartRange",value:function(t,r){var i=this.wot.selections.createOrGetArea();return!(!i.cellRange||t===i.cellRange.to.row&&r===i.cellRange.to.col)}},{key:"updateMultipleSelectionHandlesPosition",value:function(t,r,i,o,s,a){var c=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",h=this.selectionHandles.styles,p=h.top,g=h.topHitArea,y=h.bottom,w=h.bottomHitArea,S=parseInt(p.borderWidth,10),C=parseInt(p.width,10),P=parseInt(g.width,10),B=this.wot.wtTable.getWidth(),z=this.wot.wtTable.getHeight();p.top="".concat(parseInt(i-C-1,10),"px"),p[c]="".concat(parseInt(o-C-1,10),"px"),g.top="".concat(parseInt(i-P/4*3,10),"px"),g[c]="".concat(parseInt(o-P/4*3,10),"px");var j=Math.min(parseInt(o+s,10),B-C-2*S),X=Math.min(parseInt(o+s-P/4,10),B-P-2*S);y[c]="".concat(j,"px"),w[c]="".concat(X,"px");var ie=Math.min(parseInt(i+a,10),z-C-2*S),me=Math.min(parseInt(i+a-P/4,10),z-P-2*S);y.top="".concat(ie,"px"),w.top="".concat(me,"px"),this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(p.display="block",g.display="block",this.isPartRange(t,r)?(y.display="none",w.display="none"):(y.display="block",w.display="block")):(p.display="none",y.display="none",g.display="none",w.display="none"),t===this.wot.wtSettings.getSetting("fixedRowsTop")||r===this.wot.wtSettings.getSetting("fixedColumnsStart")?(p.zIndex="9999",g.zIndex="9999"):(p.zIndex="",g.zIndex="")}},{key:"appear",value:function(t){if(!this.disabled){for(var a,u,c,h,p,g,r=this.wot,i=r.wtTable,o=r.rootDocument,s=r.rootWindow,y=i.getRenderedRowsCount(),w=0;w<y;w+=1){var S=i.rowFilter.renderedToSource(w);if(S>=t[0]&&S<=t[2]){a=S,p=t[0];break}}for(var C=y-1;C>=0;C-=1){var P=i.rowFilter.renderedToSource(C);if(P>=t[0]&&P<=t[2]){u=P;break}}for(var B=i.getRenderedColumnsCount(),z=0;z<B;z+=1){var j=i.columnFilter.renderedToSource(z);if(j>=t[1]&&j<=t[3]){c=j,g=t[1];break}}for(var X=B-1;X>=0;X-=1){var ie=i.columnFilter.renderedToSource(X);if(ie>=t[1]&&ie<=t[3]){h=ie;break}}if(void 0===a||void 0===c)return void this.disappear();var me=i.getCell(this.wot.createCellCoords(a,c)),re=a!==u||c!==h,pe=re?i.getCell(this.wot.createCellCoords(u,h)):me,we=ja(me),Le=re?ja(pe):we,ot=ja(i.TABLE),lt=cs(i.TABLE),je=we.top,bt=we.left,ye=this.wot.wtSettings.getSetting("rtlMode"),Ae=0,Ye=0;if(ye){var Je=cs(me);Ye=bt+Je-Le.left,Ae=s.innerWidth-bt-Je-(s.innerWidth-ot.left-lt)-1}else Ye=Le.left+cs(pe)-bt,Ae=bt-ot.left-1;if(this.isEntireColumnSelected(a,u)){var Z=this.getDimensionsFromHeader("columns",c,h,p,ot),Q=null;if(Z){var fe=m4(Z,3);Q=fe[0],Ae=fe[1],Ye=fe[2]}Q&&(me=Q)}var Me=je-ot.top-1,Te=Le.top+na(pe)-je;if(this.isEntireRowSelected(c,h)){var Ge=this.getDimensionsFromHeader("rows",a,u,g,ot),vt=null;if(Ge){var Lt=m4(Ge,3);vt=Lt[0],Me=Lt[1],Te=Lt[2]}vt&&(me=vt)}var Ot=Nb(me,s);parseInt(Ot.borderTopWidth,10)>0&&(Me+=1,Te=Te>0?Te-1:0),parseInt(Ot[ye?"borderRightWidth":"borderLeftWidth"],10)>0&&(Ae+=1,Ye=Ye>0?Ye-1:0);var ut=ye?"right":"left";this.topStyle.top="".concat(Me,"px"),this.topStyle[ut]="".concat(Ae,"px"),this.topStyle.width="".concat(Ye,"px"),this.topStyle.display="block",this.startStyle.top="".concat(Me,"px"),this.startStyle[ut]="".concat(Ae,"px"),this.startStyle.height="".concat(Te,"px"),this.startStyle.display="block";var kt=Math.floor(this.settings.border.width/2);this.bottomStyle.top="".concat(Me+Te-kt,"px"),this.bottomStyle[ut]="".concat(Ae,"px"),this.bottomStyle.width="".concat(Ye,"px"),this.bottomStyle.display="block",this.endStyle.top="".concat(Me,"px"),this.endStyle[ut]="".concat(Ae+Ye-kt,"px"),this.endStyle.height="".concat(Te+1,"px"),this.endStyle.display="block";var pt=this.settings.border.cornerVisible;pt="function"==typeof pt?pt(this.settings.layerLevel):pt;var At=this.wot.getSetting("onModifyGetCellCoords",u,h),Nt=u,vn=h;if(At&&Array.isArray(At)){var hn=m4(At,4);Nt=hn[2],vn=hn[3]}if(np()||!pt||this.isPartRange(Nt,vn))this.cornerStyle.display="none";else{this.cornerStyle.top="".concat(Me+Te+this.cornerCenterPointOffset-1,"px"),this.cornerStyle[ut]="".concat(Ae+Ye+this.cornerCenterPointOffset-1,"px"),this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";var qn=o1(i.TABLE),In=qn===s;In&&(qn=o.documentElement);var an=parseInt(this.cornerDefaultStyle.width,10)/2,Mn=parseInt(this.cornerDefaultStyle.height,10)/2;if(h===this.wot.getSetting("totalColumns")-1){var Nn=In?pe.getBoundingClientRect().left:pe.offsetLeft;(ye?Nn-parseInt(this.cornerDefaultStyle.width,10)/2<0:Nn+cs(pe)+parseInt(this.cornerDefaultStyle.width,10)/2>=FL(qn))&&(this.cornerStyle[ut]="".concat(Math.floor(Ae+Ye+this.cornerCenterPointOffset-an),"px"),this.cornerStyle[ye?"borderLeftWidth":"borderRightWidth"]=0)}u===this.wot.getSetting("totalRows")-1&&(In?pe.getBoundingClientRect().top:pe.offsetTop)+na(pe)+parseInt(this.cornerDefaultStyle.height,10)/2>=ey(qn)&&(this.cornerStyle.top="".concat(Math.floor(Me+Te+this.cornerCenterPointOffset-Mn),"px"),this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}np()&&this.updateMultipleSelectionHandlesPosition(u,h,Me,Ae,Ye,Te)}}},{key:"isEntireColumnSelected",value:function(t,r){return t===this.wot.wtTable.getFirstRenderedRow()&&r===this.wot.wtTable.getLastRenderedRow()}},{key:"isEntireRowSelected",value:function(t,r){return t===this.wot.wtTable.getFirstRenderedColumn()&&r===this.wot.wtTable.getLastRenderedColumn()}},{key:"getDimensionsFromHeader",value:function(t,r,i,o,s){var a=this.wot.wtTable,u=a.wtRootElement.parentNode,c=null,h=null,p=null,g=null,y=null,w=null,S=null,C=null;switch(t){case"rows":c=function(){return a.getRowHeader.apply(a,arguments)},h=function(){return na.apply(void 0,arguments)},p="ht__selection--rows",w="top";break;case"columns":c=function(){return a.getColumnHeader.apply(a,arguments)},h=function(){return cs.apply(void 0,arguments)},p="ht__selection--columns",w="left"}if(u.classList.contains(p)){var P=this.wot.getSetting("columnHeaders").length;if(S=c(r,P-o),C=c(i,P-o),!S||!C)return!1;var B=ja(S),z=ja(C);return S&&C&&(g=B[w]-s[w]-1,y=z[w]+h(C)-B[w]),[S,g,y]}return!1}},{key:"changeBorderStyle",value:function(t,r){var i=this[t].style,o=r[t];!o||o.hide?Rn(this[t],"hidden"):(Ci(this[t],"hidden")&&Bi(this[t],"hidden"),i.backgroundColor=o.color,("top"===t||"bottom"===t)&&(i.height="".concat(o.width,"px")),("start"===t||"end"===t)&&(i.width="".concat(o.width,"px")))}},{key:"changeBorderToDefaultStyle",value:function(t){var i=this[t].style;i.backgroundColor="#000",i.width="".concat(1,"px"),i.height="".concat(1,"px")}},{key:"toggleHiddenClass",value:function(t,r){this.changeBorderToDefaultStyle(t),r?Rn(this[t],"hidden"):Bi(this[t],"hidden")}},{key:"disappear",value:function(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",np()&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}},{key:"destroy",value:function(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}]),n}();function rre(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function g4(n){return(g4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ire(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function v4(n){return(v4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ore(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function VP(){return VP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=w3e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},VP.apply(this,arguments)}function w3e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ZS(n)););return n}function y4(n,e){return(y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function x3e(n,e){if(e&&("object"===v4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sre(n)}function sre(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ZS(n){return(ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const qS=function(n){!function M3e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&y4(n,e)}(t,n);var e=function S3e(n){var e=function C3e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ZS(n);if(e){var o=ZS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return x3e(this,i)}}(t);function t(r,i){var o;return function _3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function E3e(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(sre(o=e.call(this,r,null)),"visualCellRange",null),o.visualCellRange=i||null,o.commit(),o}return function b3e(n,e,t){e&&ore(n.prototype,e),t&&ore(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"add",value:function(i){return null===this.visualCellRange?this.visualCellRange=this.settings.createCellRange(i):this.visualCellRange.expand(i),this}},{key:"clear",value:function(){return this.visualCellRange=null,VP(ZS(t.prototype),"clear",this).call(this)}},{key:"trimToVisibleCellsRangeOnly",value:function(i){var o=i.from,s=i.to,a=this.getNearestNotHiddenCoords(o,1),u=this.getNearestNotHiddenCoords(s,-1);if(null===a||null===u)return null;if(a.row>u.row||a.col>u.col){if("header"!==this.settings.type&&"active-header"!==this.settings.type)return null;a=o,u=s}return this.settings.createCellRange(a,a,u)}},{key:"getNearestNotHiddenCoords",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper(),i.row,o);if(null===a)return null;var u=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper(),i.col,s);return null===u?null:this.settings.createCellCoords(a,u)}},{key:"getNearestNotHiddenIndex",value:function(i,o,s){if(o<0)return o;var a=i.getNearestNotHiddenIndex(o,s);return"header"!==this.settings.type&&"active-header"!==this.settings.type||null!==a?a:-1}},{key:"commit",value:function(){if(null===this.visualCellRange)return this;var i=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return this.cellRange=null===i?null:this.createRenderableCellRange(i.from,i.to),this}},{key:"syncWith",value:function(i){var o="N-S"===i.getVerticalDirection()?1:-1,s="W-E"===i.getHorizontalDirection()?1:-1,a=this.getNearestNotHiddenCoords(i.from.clone().normalize(),o,s);if(null!==a&&i.overlaps(a)){if(null===this.cellRange){var u=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(u)}return i.setHighlight(a),this}return i.setHighlight(i.from),this}},{key:"getCorners",value:function(){var i=this.cellRange,o=i.from,s=i.to,a=null===o.row||null===s.row,u=null===o.col||null===s.col,c=this.settings.createCellCoords(a?null:Math.min(o.row,s.row),u?null:Math.min(o.col,s.col)),h=this.settings.createCellCoords(a?null:Math.max(o.row,s.row),u?null:Math.max(o.col,s.col));return[c.row,c.col,h.row,h.col]}},{key:"getVisualCorners",value:function(){var i=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),o=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[i.row,i.col,o.row,o.col]}},{key:"createRenderableCellRange",value:function(i,o){var s=this.settings.visualToRenderableCoords(i),a=this.settings.visualToRenderableCoords(o);return this.settings.createCellRange(s,s,a)}}]),t}(function(){function n(e,t){(function m3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.settings=e,this.cellRange=t||null,this.instanceBorders={},this.classNames=[this.settings.className],this.classNameGenerator=this.linearClassNameGenerator(this.settings.className,this.settings.layerLevel)}return function g3e(n,e,t){e&&ire(n.prototype,e),t&&ire(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getBorder",value:function(t){return this.instanceBorders[t.guid]||(this.instanceBorders[t.guid]=new u3e(t,this.settings)),this.instanceBorders[t.guid]}},{key:"isEmpty",value:function(){return null===this.cellRange}},{key:"add",value:function(t){return this.isEmpty()?this.cellRange=this.settings.createCellRange(t):this.cellRange.expand(t),this}},{key:"replace",value:function(t,r){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=r,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=r,!0}return!1}},{key:"clear",value:function(){return this.cellRange=null,this}},{key:"getCorners",value:function(){var t=this.cellRange.getOuterTopStartCorner(),r=this.cellRange.getOuterBottomEndCorner();return[t.row,t.col,r.row,r.col]}},{key:"addClassAtCoords",value:function(t,r,i,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.wtTable.getCell(this.settings.createCellCoords(r,i));if("object"===g4(a)){var u=o;s&&(u=this.classNameGenerator(a),this.classNames.includes(u)||this.classNames.push(u)),Rn(a,u)}return this}},{key:"linearClassNameGenerator",value:function(t,r){return function i(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0===r||0===s)return t;var a=s>=0?s:r,u=t,c=0==(a-=1)?t:"".concat(t,"-").concat(a);if(Ci(o,c)){var h=a+1;u="".concat(t,"-").concat(h)}else u=i(o,a);return u}}},{key:"draw",value:function(t){if(this.isEmpty())this.settings.border&&this.getBorder(t).disappear();else{var r=t.wtTable.getRenderedRowsCount(),i=t.wtTable.getRenderedColumnsCount(),o=this.getCorners(),s=function c3e(n,e){return function p3e(n){if(Array.isArray(n))return n}(n)||function f3e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function h3e(n,e){if(n){if("string"==typeof n)return rre(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rre(n,e)}}(n,e)||function d3e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,4),a=s[0],u=s[1],c=s[2],h=s[3],p=this.settings,g=p.highlightHeaderClassName,y=p.highlightColumnClassName,w=p.highlightRowClassName,S=p.highlightOnlyClosestHeader,C=p.selectionType,P=void 0===C||["active-header","header"].includes(C);if(P&&null!==u&&null!==h)for(var B=0,z=0;z<i;z+=1){var j=t.wtTable.columnFilter.renderedToSource(z);if(j>=u&&j<=h){var X=t.wtTable.getColumnHeaders(j),ie=X.length-1;S&&X.length>1&&(X=[X[ie]]);for(var me=0;me<X.length;me+=1){var re=[],pe=X[me];g&&re.push(g),y&&re.push(y);var we=t.getSetting("onBeforeHighlightingColumnHeader",j,me=S?ie:me,{selectionType:C,columnCursor:B,selectionWidth:h-u+1,classNames:re});we!==j&&(pe=t.wtTable.getColumnHeader(we,me)),Rn(pe,re)}B+=1}}if(null!==a&&null!==c)for(var Le=0,ot=0;ot<r;ot+=1){var lt=t.wtTable.rowFilter.renderedToSource(ot);if(P&&lt>=a&&lt<=c){var je=t.wtTable.getRowHeaders(lt),bt=je.length-1;S&&je.length>1&&(je=[je[bt]]);for(var ye=0;ye<je.length;ye+=1){var Ae=[],Ye=je[ye];g&&Ae.push(g),w&&Ae.push(w);var Je=t.getSetting("onBeforeHighlightingRowHeader",lt,ye=S?bt:ye,{selectionType:C,rowCursor:Le,selectionHeight:c-a+1,classNames:Ae});Je!==lt&&(Ye=t.wtTable.getRowHeader(Je,ye)),Rn(Ye,Ae)}Le+=1}if(null!==u&&null!==h)for(var wt=0;wt<i;wt+=1){var Z=t.wtTable.columnFilter.renderedToSource(wt);lt>=a&&lt<=c&&Z>=u&&Z<=h?this.settings.className&&this.addClassAtCoords(t,lt,Z,this.settings.className,this.settings.markIntersections):lt>=a&&lt<=c?w&&this.addClassAtCoords(t,lt,Z,w):Z>=u&&Z<=h&&y&&this.addClassAtCoords(t,lt,Z,y);var Q=t.getSetting("onAfterDrawSelection",lt,Z,this.settings.layerLevel);"string"==typeof Q&&this.addClassAtCoords(t,lt,Z,Q)}}t.getSetting("onBeforeDrawBorders",o,this.settings.className),this.settings.border&&this.getBorder(t).appear(o)}}},{key:"destroy",value:function(){Object.values(this.instanceBorders).forEach(function(t){return t.destroy()})}}]),n}());var R3e=["activeHeaderClassName"];function are(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lre(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?are(Object(t),!0).forEach(function(r){D3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):are(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function D3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var P3e=["layerLevel","areaCornerVisible"];function ure(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cre(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ure(Object(t),!0).forEach(function(r){I3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ure(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function I3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var V3e=["cellCornerVisible"];function dre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hre(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?dre(Object(t),!0).forEach(function(r){z3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function z3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var G3e=["border","visualCellRange"];function fre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _4(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?fre(Object(t),!0).forEach(function(r){$3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function mre(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?pre(Object(t),!0).forEach(function(r){J3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function J3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}b(7204);var tBe=["headerClassName","rowClassName","columnClassName"];function gre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function vre(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?gre(Object(t),!0).forEach(function(r){nBe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nBe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lBe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var _re=Qd("highlight/types"),JS=_re.register,uBe=_re.getItem;function QS(n,e){return uBe(n)(function aBe(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?yre(Object(t),!0).forEach(function(r){lBe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({type:n},e))}function oy(n){return function fBe(n){if(Array.isArray(n))return b4(n)}(n)||function hBe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function dBe(n,e){if(n){if("string"==typeof n)return b4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b4(n,e)}}(n)||function cBe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function bre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function R1(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?bre(Object(t),!0).forEach(function(r){pBe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pBe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}JS(HP,function k3e(n){var e=n.activeHeaderClassName,t=function A3e(n,e){if(null==n)return{};var r,i,t=function O3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,R3e);return new qS(lre(lre({highlightHeaderClassName:e},t),{},{selectionType:HP}))}),JS(BP,function H3e(n){var e=n.layerLevel,t=n.areaCornerVisible,r=function N3e(n,e){if(null==n)return{};var r,i,t=function F3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,P3e);return new qS(cre(cre({className:"area",markIntersections:!0,layerLevel:Math.min(e,7),border:{width:1,color:"#4b89ff",cornerVisible:t}},r),{},{selectionType:BP}))}),JS(E1,function W3e(n){var e=n.cellCornerVisible,t=function U3e(n,e){if(null==n)return{};var r,i,t=function j3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,V3e);return new qS(hre(hre({className:"current",border:{width:2,color:"#4b89ff",cornerVisible:e}},t),{},{selectionType:E1}))}),JS(p4,function Z3e(n){var e=n.border,t=n.visualCellRange,r=function X3e(n,e){if(null==n)return{};var r,i,t=function K3e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,G3e);return new qS(_4(_4(_4({},e),r),{},{selectionType:p4}),t)}),JS(f4,function Q3e(n){var e=Object.assign({},n);return new qS(mre(mre({className:"fill",border:{width:1,color:"#ff0000"}},e),{},{selectionType:f4}))}),JS(T1,function oBe(n){var e=n.headerClassName,t=n.rowClassName,r=n.columnClassName,i=function rBe(n,e){if(null==n)return{};var r,i,t=function iBe(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,tBe);return new qS(vre(vre({className:"highlight",highlightHeaderClassName:e,highlightRowClassName:t,highlightColumnClassName:r},i),{},{highlightOnlyClosestHeader:!0,selectionType:T1}))});const yBe=function(n){function e(t){(function mBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=t,this.layerLevel=0,this.cell=QS(E1,t),this.fill=QS(f4,t),this.areas=new Map,this.headers=new Map,this.activeHeaders=new Map,this.customSelections=[]}return function gBe(n,e,t){e&&wre(n.prototype,e),t&&wre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"isEnabledFor",value:function(r,i){var o=r;r===E1&&(o="current");var s=this.options.disabledCellSelection(i.row,i.col);return"string"==typeof s&&(s=[s]),!1===s||Array.isArray(s)&&!s.includes(o)}},{key:"useLayerLevel",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.layerLevel=r,this}},{key:"getCell",value:function(){return this.cell}},{key:"getFill",value:function(){return this.fill}},{key:"createOrGetArea",value:function(){var i,r=this.layerLevel;return this.areas.has(r)?i=this.areas.get(r):(i=QS(BP,R1({layerLevel:r},this.options)),this.areas.set(r,i)),i}},{key:"getAreas",value:function(){return oy(this.areas.values())}},{key:"createOrGetHeader",value:function(){var i,r=this.layerLevel;return this.headers.has(r)?i=this.headers.get(r):(i=QS(T1,R1({},this.options)),this.headers.set(r,i)),i}},{key:"getHeaders",value:function(){return oy(this.headers.values())}},{key:"createOrGetActiveHeader",value:function(){var i,r=this.layerLevel;return this.activeHeaders.has(r)?i=this.activeHeaders.get(r):(i=QS(HP,R1({},this.options)),this.activeHeaders.set(r,i)),i}},{key:"getActiveHeaders",value:function(){return oy(this.activeHeaders.values())}},{key:"getCustomSelections",value:function(){return oy(this.customSelections.values())}},{key:"addCustomSelection",value:function(r){this.customSelections.push(QS(p4,R1(R1({},this.options),r)))}},{key:"clear",value:function(){this.cell.clear(),this.fill.clear(),tt(this.areas.values(),function(r){r.clear()}),tt(this.headers.values(),function(r){r.clear()}),tt(this.activeHeaders.values(),function(r){r.clear()})}},{key:Symbol.iterator,value:function(){return[this.cell,this.fill].concat(oy(this.areas.values()),oy(this.headers.values()),oy(this.activeHeaders.values()),oy(this.customSelections))[Symbol.iterator]()}}]),e}();function Mre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const MBe=function(n){function e(t){(function _Be(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.ranges=[],this.createCellRange=t}return function bBe(n,e,t){e&&Mre(n.prototype,e),t&&Mre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"isEmpty",value:function(){return 0===this.size()}},{key:"set",value:function(r){return this.clear(),this.ranges.push(this.createCellRange(r)),this}},{key:"add",value:function(r){return this.ranges.push(this.createCellRange(r)),this}},{key:"pop",value:function(){return this.ranges.pop(),this}},{key:"current",value:function(){return this.peekByIndex(0)}},{key:"previous",value:function(){return this.peekByIndex(-1)}},{key:"includes",value:function(r){return this.ranges.some(function(i){return i.includes(r)})}},{key:"clear",value:function(){return this.ranges.length=0,this}},{key:"size",value:function(){return this.ranges.length}},{key:"peekByIndex",value:function(){var o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.size()+r-1;return i>=0&&(o=this.ranges[i]),o}},{key:Symbol.iterator,value:function(){return this.ranges[Symbol.iterator]()}}]),e}();function Sre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var xre=function(){function n(e,t){(function SBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.range=e,this.options=t}return function xBe(n,e,t){e&&Sre(n.prototype,e),t&&Sre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"transformStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.options.createCellCoords(t,r),s=this.range.current().highlight,a=this.options.visualToRenderableCoords(s),u=a.row,c=a.col,h=s,p=0,g=0;if(this.runLocalHooks("beforeTransformStart",o),null!==u&&null!==c){var y=this.options.countRows(),w=this.options.countCols(),S=this.options.fixedRowsBottom(),C=this.options.minSpareRows(),P=this.options.minSpareCols(),B=this.options.autoWrapRow(),z=this.options.autoWrapCol();u+t>y-1?i&&C>0&&!(S&&u>=y-S-1)?(this.runLocalHooks("insertRowRequire",y),y=this.options.countRows()):z&&(o.row=1-y,o.col=c+o.col===w-1?1-w:1):z&&u+o.row<0&&c+o.col>=0&&(o.row=y-1,o.col=c+o.col===0?w-1:-1),c+o.col>w-1?i&&P>0?(this.runLocalHooks("insertColRequire",w),w=this.options.countCols()):B&&(o.row=u+o.row===y-1?1-y:1,o.col=1-w):B&&c+o.col<0&&u+o.row>=0&&(o.row=u+o.row===0?y-1:-1,o.col=w-1);var j=this.options.createCellCoords(u+o.row,c+o.col);p=0,g=0,j.row<0?(p=-1,j.row=0):j.row>0&&j.row>=y&&(p=1,j.row=y-1),j.col<0?(g=-1,j.col=0):j.col>0&&j.col>=w&&(g=1,j.col=w-1),h=this.options.renderableToVisualCoords(j)}return this.runLocalHooks("afterTransformStart",h,p,g),h}},{key:"transformEnd",value:function(t,r){var i=this.options.createCellCoords(t,r),o=this.range.current(),s=o.to,a=0,u=0;this.runLocalHooks("beforeTransformEnd",i);var c=this.options.visualToRenderableCoords(o.highlight);if(null!==c.row&&null!==c.col){var g=this.options.countRows(),y=this.options.countCols(),w=this.options.visualToRenderableCoords(o.to),P=this.options.createCellCoords(w.row+i.row,w.col+i.col);a=0,u=0,P.row<0?(a=-1,P.row=0):P.row>0&&P.row>=g&&(a=1,P.row=g-1),P.col<0?(u=-1,P.col=0):P.col>0&&P.col>=y&&(u=1,P.col=y-1),s=this.options.renderableToVisualCoords(P)}return this.runLocalHooks("afterTransformEnd",s,a,u),s}}]),n}();ys(xre,Ec);const CBe=xre;function Cre(n,e){return function DBe(n){if(Array.isArray(n))return n}(n)||function RBe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function TBe(n,e){if(n){if("string"==typeof n)return Ere(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ere(n,e)}}(n,e)||function EBe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ere(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function w4(n){return(w4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Dre,ABe=[3,2],OBe=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],S4=Symbol("root"),Rre=Symbol("child");function ex(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S4;if(e!==S4&&e!==Rre)throw new Error("The second argument is used internally only and cannot be overwritten.");var t=Array.isArray(n),r=e===S4,i=0;if(t){var o=n[0];if(0===n.length)i=1;else if(r&&o instanceof Rte)i=3;else if(r&&Array.isArray(o))i=ex(o,Rre);else if(n.length>=2&&n.length<=4){var s=!n.some(function(a,u){return!OBe[u].includes(w4(a))});s&&(i=2)}}return i}function D1(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.keepDirection,r=void 0!==t&&t,i=e.propToCol;if(!ABe.includes(n))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){var s=3===n,a=s?o.from.row:o[0],u=s?o.from.col:o[1],c=s?o.to.row:o[2],h=s?o.to.col:o[3];if("function"==typeof i&&("string"==typeof u&&(u=i(u)),"string"==typeof h&&(h=i(h))),Fs(c)&&(c=a),Fs(h)&&(h=u),!r){var p=a,g=u,y=c,w=h;a=Math.min(p,y),u=Math.min(g,w),c=Math.max(p,y),h=Math.max(g,w)}return[a,u,c,h]}}function sy(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return"number"==typeof n&&n>=0&&n<e}function Are(n,e){return function FBe(n){if(Array.isArray(n))return n}(n)||function NBe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function IBe(n,e){if(n){if("string"==typeof n)return Ore(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ore(n,e)}}(n,e)||function PBe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ore(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function kre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Lre=function(){function n(e,t){var r=this;(function BBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.settings=e,this.tableProps=t,this.inProgress=!1,this.selectedByCorner=!1,this.selectedByRowHeader=new Set,this.selectedByColumnHeader=new Set,this.selectedRange=new MBe(function(i,o,s){return r.tableProps.createCellRange(i,o,s)}),this.highlight=new yBe({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,disabledCellSelection:function(o,s){return r.tableProps.isDisabledCellSelection(o,s)},cellCornerVisible:function(){return r.isCellCornerVisible.apply(r,arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible.apply(r,arguments)},visualToRenderableCoords:function(o){return r.tableProps.visualToRenderableCoords(o)},renderableToVisualCoords:function(o){return r.tableProps.renderableToVisualCoords(o)},createCellCoords:function(o,s){return r.tableProps.createCellCoords(o,s)},createCellRange:function(o,s,a){return r.tableProps.createCellRange(o,s,a)},rowIndexMapper:function(){return r.tableProps.rowIndexMapper()},columnIndexMapper:function(){return r.tableProps.columnIndexMapper()}}),this.transformation=new CBe(this.selectedRange,{countRows:function(){return r.tableProps.countRowsTranslated()},countCols:function(){return r.tableProps.countColsTranslated()},visualToRenderableCoords:function(o){return r.tableProps.visualToRenderableCoords(o)},renderableToVisualCoords:function(o){return r.tableProps.renderableToVisualCoords(o)},createCellCoords:function(o,s){return r.tableProps.createCellCoords(o,s)},fixedRowsBottom:function(){return e.fixedRowsBottom},minSpareRows:function(){return e.minSpareRows},minSpareCols:function(){return e.minSpareCols},autoWrapRow:function(){return e.autoWrapRow},autoWrapCol:function(){return e.autoWrapCol}}),this.transformation.addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["beforeModifyTransformStart"].concat(o))}),this.transformation.addLocalHook("afterTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["afterModifyTransformStart"].concat(o))}),this.transformation.addLocalHook("beforeTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["beforeModifyTransformEnd"].concat(o))}),this.transformation.addLocalHook("afterTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["afterModifyTransformEnd"].concat(o))}),this.transformation.addLocalHook("insertRowRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["insertRowRequire"].concat(o))}),this.transformation.addLocalHook("insertColRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["insertColRequire"].concat(o))})}return function VBe(n,e,t){e&&kre(n.prototype,e),t&&kre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSelectedRange",value:function(){return this.selectedRange}},{key:"begin",value:function(){this.inProgress=!0}},{key:"finish",value:function(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}},{key:"isInProgress",value:function(){return this.inProgress}},{key:"setRangeStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="multiple"===this.settings.selectionMode,s=Fs(r)?this.tableProps.getShortcutManager().isCtrlPressed():r,a=t.row<0,u=t.col<0,c=a&&u,h=t.clone();this.selectedByCorner=c,this.runLocalHooks("beforeSetRangeStart".concat(i?"Only":""),h),(!o||o&&!s&&Fs(r))&&this.selectedRange.clear(),this.selectedRange.add(h),0===this.getLayerLevel()&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),!c&&u&&this.selectedByRowHeader.add(this.getLayerLevel()),!c&&a&&this.selectedByColumnHeader.add(this.getLayerLevel()),i||this.setRangeEnd(t)}},{key:"setRangeStartOnly",value:function(t,r){this.setRangeStart(t,r,!0)}},{key:"setRangeEnd",value:function(t){if(!this.selectedRange.isEmpty()){var r=t.clone();this.runLocalHooks("beforeSetRangeEnd",r),this.begin();var i=this.selectedRange.current();"single"!==this.settings.selectionMode&&i.setTo(this.tableProps.createCellCoords(r.row,r.col)),this.highlight.getCell().clear(),this.highlight.isEnabledFor(E1,i.highlight)&&this.highlight.getCell().add(this.selectedRange.current().highlight).commit().syncWith(i);var o=this.getLayerLevel();o<this.highlight.layerLevel&&(tt(this.highlight.getAreas(),function(S){S.clear()}),tt(this.highlight.getHeaders(),function(S){S.clear()}),tt(this.highlight.getActiveHeaders(),function(S){S.clear()})),this.highlight.useLayerLevel(o);var s=this.highlight.createOrGetArea(),a=this.highlight.createOrGetHeader(),u=this.highlight.createOrGetActiveHeader();if(s.clear(),a.clear(),u.clear(),this.highlight.isEnabledFor(BP,i.highlight)&&(this.isMultiple()||o>=1)&&(s.add(i.from).add(i.to).commit(),1===o)){var c=this.selectedRange.previous();this.highlight.useLayerLevel(o-1).createOrGetArea().add(c.from).commit().syncWith(c),this.highlight.useLayerLevel(o)}if(this.highlight.isEnabledFor(T1,i.highlight)){var h=0===this.tableProps.countRowsTranslated(),p=0===this.tableProps.countColsTranslated(),g=i;(h||p)&&(g=i.clone()),h&&(g.from.row=-1),p&&(g.from.col=-1),"single"===this.settings.selectionMode?(this.isSelectedByAnyHeader()&&g.from.normalize(),a.add(g.from).commit()):a.add(g.from).add(g.to).commit(),this.isEntireRowSelected()&&this.tableProps.countCols()===i.getWidth()&&u.add(this.tableProps.createCellCoords(i.from.row,-1)).add(this.tableProps.createCellCoords(i.to.row,-1)).commit(),this.isEntireColumnSelected()&&this.tableProps.countRows()===i.getHeight()&&u.add(this.tableProps.createCellCoords(-1,i.from.col)).add(this.tableProps.createCellCoords(-1,i.to.col)).commit()}this.runLocalHooks("afterSetRangeEnd",t)}}},{key:"isMultiple",value:function(){var t=zS(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",t),t.value}},{key:"transformStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.setRangeStart(this.transformation.transformStart(t,r,i))}},{key:"transformEnd",value:function(t,r){this.setRangeEnd(this.transformation.transformEnd(t,r))}},{key:"getLayerLevel",value:function(){return this.selectedRange.size()-1}},{key:"isSelected",value:function(){return!this.selectedRange.isEmpty()}},{key:"isSelectedByRowHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(t)&&this.isEntireRowSelected(t)}},{key:"isEntireRowSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===t?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(t)}},{key:"isSelectedByColumnHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&this.isEntireColumnSelected(t)}},{key:"isEntireColumnSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===t?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(t)}},{key:"isSelectedByAnyHeader",value:function(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}},{key:"isSelectedByCorner",value:function(){return this.selectedByCorner}},{key:"inInSelection",value:function(t){return this.selectedRange.includes(t)}},{key:"isCellCornerVisible",value:function(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}},{key:"isAreaCornerVisible",value:function(t){return(!Number.isInteger(t)||t===this.getLayerLevel())&&this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}},{key:"clear",value:function(){this.selectedRange.clear(),this.highlight.clear()}},{key:"deselect",value:function(){!this.isSelected()||(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}},{key:"selectAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.tableProps.countRows(),o=this.tableProps.countCols();if(t||r||0!==i&&0!==o){var s=this.tableProps.createCellCoords(r?-1:0,t?-1:0);this.clear(),this.setRangeStartOnly(s),this.selectedByRowHeader.add(this.getLayerLevel()),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(this.tableProps.createCellCoords(i-1,o-1)),this.finish()}}},{key:"selectCells",value:function(t){var r=this,i=ex(t);if(1===i)return!1;if(0===i)throw new Error(ds(Dre||(Dre=function HBe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Unsupported format of the selection ranges was passed. To select cells pass \n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, \n        columnEnd/columnPropEnd]]) or as an array of CellRange objects."],["Unsupported format of the selection ranges was passed. To select cells pass\\x20\n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\\x20\n        columnEnd/columnPropEnd]]) or as an array of CellRange objects."]))));var o=D1(i,{propToCol:function(h){return r.tableProps.propToCol(h)},keepDirection:!0}),s=this.tableProps.countRows(),a=this.tableProps.countCols(),u=!t.some(function(c){var p=Are(o(c),4),y=p[1],w=p[2],S=p[3];return!(sy(p[0],s)&&sy(y,a)&&sy(w,s)&&sy(S,a))});return u&&(this.clear(),tt(t,function(c){var p=Are(o(c),4),w=p[2],S=p[3];r.setRangeStartOnly(r.tableProps.createCellCoords(p[0],p[1]),!1),r.setRangeEnd(r.tableProps.createCellCoords(w,S)),r.finish()})),u}},{key:"selectColumns",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o="string"==typeof t?this.tableProps.propToCol(t):t,s="string"==typeof r?this.tableProps.propToCol(r):r,a=this.tableProps.countCols(),u=this.tableProps.countRows(),c=sy(o,a)&&sy(s,a);return c&&(this.setRangeStartOnly(this.tableProps.createCellCoords(i,o)),this.setRangeEnd(this.tableProps.createCellCoords(u-1,s)),this.finish()),c}},{key:"selectRows",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=this.tableProps.countRows(),s=this.tableProps.countCols(),a=sy(t,o)&&sy(r,o);return a&&(this.setRangeStartOnly(this.tableProps.createCellCoords(t,i)),this.setRangeEnd(this.tableProps.createCellCoords(r,s-1)),this.finish()),a}},{key:"refresh",value:function(){if(this.highlight.getCustomSelections().forEach(function(c){c.commit()}),this.isSelected()){var r=this.highlight.getCell(),i=this.getLayerLevel();r.commit().syncWith(this.selectedRange.current());for(var o=0;o<this.selectedRange.size();o+=1){this.highlight.useLayerLevel(o);var s=this.highlight.createOrGetArea(),a=this.highlight.createOrGetHeader(),u=this.highlight.createOrGetActiveHeader();s.commit(),a.commit(),u.commit()}this.highlight.useLayerLevel(i)}}}]),n}();ys(Lre,Ec);const zBe=Lre;function jP(n,e){var t="string"==typeof n?_ne(n):n;if(Yi(t)){var r=Yi(e),i={};return io(t,function(o,s){"CELL_TYPE"!==s&&(!r||r&&!Ns(e,s))&&(i[s]=o)}),i}}function WP(n){return Number.isInteger(n)&&n>=0}function YP(n,e){if(!n())throw new Error("Assertion failed: ".concat(e))}function GP(n){return null==n}function x4(n){return(x4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}const Pre=function(){return{activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",isEmptyCol:function(e){var t,r;for(t=0,r=this.countRows();t<r;t++)if(!1===cl(this.getDataAtCell(t,e)))return!1;return!0},isEmptyRow:function(e){var t,r,i,o;for(t=0,r=this.countCols();t<r;t++)if(!1===cl(i=this.getDataAtCell(e,t)))return"object"===x4(i)&&(o=this.getCellMeta(e,t),YQ(this.getSchema()[o.prop],i));return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:void 0,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0}};function Ire(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Nre(n,e,t){return e&&Ire(n.prototype,e),t&&Ire(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Fre(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var WBe=function(){function n(e){Fre(this,n),this.metaCtor=function jBe(){return Nre(function n(){Fre(this,n)})}(),this.meta=this.metaCtor.prototype,ta(this.meta,Pre()),this.meta.instance=e}return Nre(n,[{key:"getMetaConstructor",value:function(){return this.metaCtor}},{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(t){ta(this.meta,t),ta(this.meta,jP(t.type,t))}}]),n}();function Hre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var $Be=function(){function n(e){!function YBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var t=e.getMetaConstructor();this.meta=new t}return function GBe(n,e,t){e&&Hre(n.prototype,e),t&&Hre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(t){ta(this.meta,t),ta(this.meta,jP(t.type,t))}}]),n}();function Bre(n){return function qBe(n){if(Array.isArray(n))return C4(n)}(n)||function ZBe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function KBe(n,e){if(n){if("string"==typeof n)return C4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C4(n,e)}}(n)||function XBe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Vre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var E4=function(n){function e(t){(function JBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.valueFactory=t,this.data=[],this.index=[],this.holes=new Set}return function QBe(n,e,t){e&&Vre(n.prototype,e),t&&Vre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"obtain",value:function(r){YP(function(){return WP(r)},"Expecting an unsigned number.");var o,i=this._getStorageIndexByKey(r);if(i>=0)void 0===(o=this.data[i])&&(o=this.valueFactory(r),this.data[i]=o);else if(o=this.valueFactory(r),this.holes.size>0){var s=this.holes.values().next().value;this.holes.delete(s),this.data[s]=o,this.index[r]=s}else this.data.push(o),this.index[r]=this.data.length-1;return o}},{key:"insert",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;YP(function(){return WP(r)||GP(r)},"Expecting an unsigned number or null/undefined argument.");for(var o=[],s=this.data.length,a=0;a<i;a++)o.push(s+a),this.data.push(void 0);var u=GP(r)?this.index.length:r;this.index=[].concat(Bre(this.index.slice(0,u)),o,Bre(this.index.slice(u)))}},{key:"remove",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;YP(function(){return WP(r)||GP(r)},"Expecting an unsigned number or null/undefined argument.");for(var o=this.index.splice(GP(r)?this.index.length-i:r,i),s=0;s<o.length;s++){var a=o[s];"number"==typeof a&&this.holes.add(a)}}},{key:"size",value:function(){return this.data.length-this.holes.size}},{key:"values",value:function(){var r=this;return Jd(this.data,function(i,o){return!r.holes.has(o)})[Symbol.iterator]()}},{key:"entries",value:function(){for(var r=[],i=0;i<this.data.length;i++){var o=this._getKeyByStorageIndex(i);-1!==o&&r.push([o,this.data[i]])}var s=0;return{next:function(){if(s<r.length){var u=r[s];return s+=1,{value:u,done:!1}}return{done:!0}}}}},{key:"clear",value:function(){this.data=[],this.index=[],this.holes.clear()}},{key:"_getStorageIndexByKey",value:function(r){return this.index.length>r?this.index[r]:-1}},{key:"_getKeyByStorageIndex",value:function(r){return this.index.indexOf(r)}},{key:Symbol.iterator,value:function(){return this.entries()}}]),e}();function zre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var nVe=["data","width"],rVe=function(){function n(e){var t=this;(function eVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.globalMeta=e,this.metas=new E4(function(){return t._createMeta()})}return function tVe(n,e,t){e&&zre(n.prototype,e),t&&zre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateMeta",value:function(t,r){var i=this.getMeta(t);ta(i,r),ta(i,jP(r.type,i))}},{key:"createColumn",value:function(t,r){this.metas.insert(t,r)}},{key:"removeColumn",value:function(t,r){this.metas.remove(t,r)}},{key:"getMeta",value:function(t){return this.metas.obtain(t)}},{key:"getMetaConstructor",value:function(t){return this.metas.obtain(t).constructor}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createMeta",value:function(){return function UBe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function t(){}Qv(t,n);for(var r=0;r<e.length;r++)t.prototype[e[r]]=void 0;return t}(this.globalMeta.getMetaConstructor(),nVe).prototype}}]),n}();function iVe(n){return function lVe(n){if(Array.isArray(n))return T4(n)}(n)||function aVe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function sVe(n,e){if(n){if("string"==typeof n)return T4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T4(n,e)}}(n)||function oVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ure(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var dVe=function(){function n(e){var t=this;(function uVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.columnMeta=e,this.metas=new E4(function(){return t._createRow()})}return function cVe(n,e,t){e&&Ure(n.prototype,e),t&&Ure(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateMeta",value:function(t,r,i){var o=this.getMeta(t,r);ta(o,i),ta(o,jP(i.type,o))}},{key:"createRow",value:function(t,r){this.metas.insert(t,r)}},{key:"createColumn",value:function(t,r){for(var i=0;i<this.metas.size();i++)this.metas.obtain(i).insert(t,r)}},{key:"removeRow",value:function(t,r){this.metas.remove(t,r)}},{key:"removeColumn",value:function(t,r){for(var i=0;i<this.metas.size();i++)this.metas.obtain(i).remove(t,r)}},{key:"getMeta",value:function(t,r,i){var o=this.metas.obtain(t).obtain(r);return void 0===i?o:o[i]}},{key:"setMeta",value:function(t,r,i,o){this.metas.obtain(t).obtain(r)[i]=o}},{key:"removeMeta",value:function(t,r,i){delete this.metas.obtain(t).obtain(r)[i]}},{key:"getMetas",value:function(){for(var t=[],r=Array.from(this.metas.values()),i=0;i<r.length;i++)t.push.apply(t,iVe(r[i].values()));return t}},{key:"getMetasAtRow",value:function(t){YP(function(){return WP(t)},"Expecting an unsigned number.");var r=new Map(this.metas);return r.has(t)?Array.from(r.get(t).values()):[]}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createRow",value:function(){var t=this;return new E4(function(r){return t._createMeta(r)})}},{key:"_createMeta",value:function(t){return new(this.columnMeta.getMetaConstructor(t))}}]),n}();function hVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Wre=function(){function n(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];hVe(this,n),this.hot=e,this.globalMeta=new WBe(e),this.tableMeta=new $Be(this.globalMeta),this.columnMeta=new rVe(this.globalMeta),this.cellMeta=new dVe(this.columnMeta),i.forEach(function(o){return new o(t)}),this.globalMeta.updateMeta(r)}return function fVe(n,e,t){e&&jre(n.prototype,e),t&&jre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getGlobalMeta",value:function(){return this.globalMeta.getMeta()}},{key:"updateGlobalMeta",value:function(t){this.globalMeta.updateMeta(t)}},{key:"getTableMeta",value:function(){return this.tableMeta.getMeta()}},{key:"updateTableMeta",value:function(t){this.tableMeta.updateMeta(t)}},{key:"getColumnMeta",value:function(t){return this.columnMeta.getMeta(t)}},{key:"updateColumnMeta",value:function(t,r){this.columnMeta.updateMeta(t,r)}},{key:"getCellMeta",value:function(t,r,i){var o=i.visualRow,s=i.visualColumn,a=this.cellMeta.getMeta(t,r);return a.visualRow=o,a.visualCol=s,a.row=t,a.col=r,this.runLocalHooks("afterGetCellMeta",a),a}},{key:"getCellMetaKeyValue",value:function(t,r,i){if("string"!=typeof i)throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(t,r,i)}},{key:"setCellMeta",value:function(t,r,i,o){this.cellMeta.setMeta(t,r,i,o)}},{key:"updateCellMeta",value:function(t,r,i){this.cellMeta.updateMeta(t,r,i)}},{key:"removeCellMeta",value:function(t,r,i){this.cellMeta.removeMeta(t,r,i)}},{key:"getCellsMeta",value:function(){return this.cellMeta.getMetas()}},{key:"getCellsMetaAtRow",value:function(t){return this.cellMeta.getMetasAtRow(t)}},{key:"createRow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createRow(t,r)}},{key:"removeRow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeRow(t,r)}},{key:"createColumn",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createColumn(t,r),this.columnMeta.createColumn(t,r)}},{key:"removeColumn",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeColumn(t,r),this.columnMeta.removeColumn(t,r)}},{key:"clearCellsCache",value:function(){this.cellMeta.clearCache()}},{key:"clearCache",value:function(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}]),n}();function Yre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}ys(Wre,Ec);var gVe=function(){function n(e){var t=this;(function pVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.metaManager=e,this.metaSyncMemo=new Map,e.addLocalHook("afterGetCellMeta",function(r){return t.extendCellMeta(r)}),xr.getSingleton().add("beforeRender",function(r){r&&t.metaSyncMemo.clear()},this.metaManager.hot)}return function mVe(n,e,t){e&&Yre(n.prototype,e),t&&Yre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"extendCellMeta",value:function(t){var r,i=t.row,o=t.col;if(null===(r=this.metaSyncMemo.get(i))||void 0===r||!r.has(o)){var s=t.visualRow,a=t.visualCol,u=this.metaManager.hot,c=u.colToProp(a);t.prop=c,u.runHooks("beforeGetCellMeta",s,a,t);var h=Ns(t,"type")?t.type:null,p=xs(t.cells)?t.cells(i,o,c):null;if(h)if(p){var g;p.type=null!==(g=p.type)&&void 0!==g?g:h}else p={type:h};p&&this.metaManager.updateCellMeta(i,o,p),u.runHooks("afterGetCellMeta",s,a,t),this.metaSyncMemo.has(i)||this.metaSyncMemo.set(i,new Set),this.metaSyncMemo.get(i).add(o)}}}]),n}();function Gre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var _Ve=function(){function n(e){(function vVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.metaManager=e,this.usageTracker=new Set,this.propDescriptors=new Map([["fixedColumnsLeft",{target:"fixedColumnsStart",onChange:function(r){if(this.metaManager.hot.isRtl()&&"fixedColumnsLeft"===r)throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{onChange:function(r,i,o){if(!o)throw new Error("The `".concat(r,"` option can not be updated after the Handsontable is initialized."))}}]]),this.extendMetaProps()}return function yVe(n,e,t){e&&Gre(n.prototype,e),t&&Gre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"extendMetaProps",value:function(){var t=this;this.propDescriptors.forEach(function(r,i){var o=r.target,s=r.onChange,a=void 0===s?function(){}:s,u="string"==typeof o,c=u?o:i,h="_".concat(c);t.metaManager.globalMeta.meta[h]=t.metaManager.globalMeta.meta[c],t.installPropWatcher(i,h,a),u&&t.installPropWatcher(o,h,a)})}},{key:"installPropWatcher",value:function(t,r,i){var o=this;Object.defineProperty(this.metaManager.globalMeta.meta,t,{get:function(){return this[r]},set:function(a){var u=!o.usageTracker.has(t);o.usageTracker.add(t),i.call(o,t,a,u),this[r]=a},enumerable:!0,configurable:!0})}}]),n}(),$re=(b(9778),/^(\r\n|\n\r|\r|\n)/),bVe=/^[^\t\r\n]+/,Xre=/^\t/;function A1(n){var e,t,r,i,s,o="";for(e=0,t=n.length;e<t;e+=1){for(i=n[e].length,r=0;r<i;r+=1)r>0&&(o+="\t"),"string"==typeof(s=n[e][r])?s.indexOf("\n")>-1?o+='"'.concat(s.replace(/"/g,'""'),'"'):o+=s:o+=null==s?"":s;e!==t-1&&(o+="\n")}return o}function R4(n){return function CVe(n){if(Array.isArray(n))return D4(n)}(n)||function xVe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function SVe(n,e){if(n){if("string"==typeof n)return D4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D4(n,e)}}(n)||function MVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function A4(n){return(A4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Kre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var RVe=SP("copyable",!1);const AVe=function(){function n(e,t,r){(function EVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.instance=e,this.tableMeta=r,this.dataSource=t,this.duckSchema=this.dataSource&&this.dataSource[0]?t1(this.dataSource[0]):{},this.colToPropCache=void 0,this.propToColCache=void 0,this.createMap()}return function TVe(n,e,t){e&&Kre(n.prototype,e),t&&Kre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createMap",value:function(){var t=this.getSchema();if(void 0===t)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");var i,r=this.tableMeta.columns;if(this.colToPropCache=[],this.propToColCache=new Map,r){var o=0,s=0,a=!1;if("function"==typeof r){var u=NV(t);o=u>0?u:this.countFirstRowKeys(),a=!0}else o=Math.min(this.tableMeta.maxCols,r.length);for(i=0;i<o;i++){var h=a?r(i):r[i];if(Yi(h)){if(void 0!==h.data){var p=a?s:i;this.colToPropCache[p]=h.data,this.propToColCache.set(h.data,p)}s+=1}}}else this.recursiveDuckColumns(t)}},{key:"countFirstRowKeys",value:function(){return Mne(this.dataSource)}},{key:"recursiveDuckColumns",value:function(t,r,i){var u,o=this,s=r,a=i;return void 0===s&&(s=0,a=""),"object"===A4(t)&&!Array.isArray(t)&&io(t,function(c,h){null===c?(o.colToPropCache.push(u=a+h),o.propToColCache.set(u,s),s+=1):s=o.recursiveDuckColumns(c,s,"".concat(h,"."))}),s}},{key:"colToProp",value:function(t){if(!1===Number.isInteger(t))return t;var r=this.instance.toPhysicalColumn(t);return null===r?t:this.colToPropCache&&fr(this.colToPropCache[r])?this.colToPropCache[r]:r}},{key:"propToCol",value:function(t){var r=this.propToColCache.get(t);if(fr(r))return this.instance.toVisualColumn(r);var i=this.instance.toVisualColumn(t);return null===i?t:i}},{key:"getSchema",value:function(){var t=this.tableMeta.dataSchema;return t?"function"==typeof t?t():t:this.duckSchema}},{key:"createRow",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0,s=this.instance.countSourceRows(),a=s,u=0,c=t;("number"!=typeof c||c>=s)&&(c=s),c<this.instance.countRows()&&(a=this.instance.toPhysicalRow(c));var h=this.instance.runHooks("beforeCreateRow",c,i,o);if(!1===h||null===a)return 0;for(var p=this.tableMeta.maxRows,g=this.instance.countCols(),y=[],w=function(){var C=null;"array"===r.instance.dataType?r.tableMeta.dataSchema?C=zu(r.getSchema()):(C=[],Vr(g-1,function(){return C.push(null)})):"function"===r.instance.dataType?C=r.tableMeta.dataSchema(c+u):OL(C={},r.getSchema()),y.push(C),u+=1};u<i&&s+u<p;)w();return this.instance.rowIndexMapper.insertIndexes(c,u),this.spliceData(a,0,y),this.instance.runHooks("afterCreateRow",c,u,o),this.instance.forceFullRender=!0,u}},{key:"createCol",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var o=this.dataSource,s=this.tableMeta.maxCols,a=t;("number"!=typeof a||a>=this.instance.countSourceCols())&&(a=this.instance.countSourceCols());var u=this.instance.runHooks("beforeCreateCol",a,r,i);if(!1===u)return 0;var c=this.instance.countSourceCols();a<this.instance.countCols()&&(c=this.instance.toPhysicalColumn(a));for(var h=this.instance.countSourceRows(),p=this.instance.countCols(),g=0,y=c;g<r&&p<s;){if("number"!=typeof a||a>=p)if(h>0)for(var w=0;w<h;w+=1)void 0===o[w]&&(o[w]=[]),o[w].push(null);else o.push([null]);else for(var S=0;S<h;S++)o[S].splice(y,0,null);g+=1,y+=1,p+=1}return this.instance.columnIndexMapper.insertIndexes(a,g),this.instance.runHooks("afterCreateCol",a,g,i),this.instance.forceFullRender=!0,g}},{key:"removeRow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,o=Number.isInteger(t)?t:-r,s=this.visualRowsToPhysical(o,r),a=this.instance.countSourceRows(),u=this.instance.runHooks("beforeRemoveRow",o=(a+o)%a,s.length,s,i);if(!1===u)return!1;var c=s.length;if(this.filterData(o,c,s),o<this.instance.countRows()){this.instance.rowIndexMapper.removeIndexes(s);var h=fr(this.tableMeta.columns)||fr(this.tableMeta.dataSchema);0===this.instance.rowIndexMapper.getNotTrimmedIndexesLength()&&!1===h&&this.instance.columnIndexMapper.setIndexesSequence([])}return this.instance.runHooks("afterRemoveRow",o,c,s,i),this.instance.forceFullRender=!0,!0}},{key:"removeCol",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if("object"===this.instance.dataType||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");var o="number"!=typeof t?-r:t;o=(this.instance.countCols()+o)%this.instance.countCols();var s=this.visualColumnsToPhysical(o,r),a=s.slice(0).sort(function(B,z){return z-B}),u=this.instance.runHooks("beforeRemoveCol",o,r,s,i);if(!1===u)return!1;for(var c=!0,h=a.length,p=this.dataSource,g=0;g<h;g++)c&&s[0]!==s[g]-g&&(c=!1);if(c)for(var y=0,w=this.instance.countSourceRows();y<w;y++)p[y].splice(s[0],r);else for(var S=0,C=this.instance.countSourceRows();S<C;S++)for(var P=0;P<h;P++)p[S].splice(a[P],1);return o<this.instance.countCols()&&(this.instance.columnIndexMapper.removeIndexes(s),0===this.instance.columnIndexMapper.getNotTrimmedIndexesLength()&&this.instance.rowIndexMapper.setIndexesSequence([])),this.instance.runHooks("afterRemoveCol",o,r,s,i),this.instance.forceFullRender=!0,!0}},{key:"spliceCol",value:function(t,r,i){for(var o=this.instance.getDataAtCol(t),s=o.slice(r,r+i),a=o.slice(r+i),u=arguments.length,c=new Array(u>3?u-3:0),h=3;h<u;h++)c[h-3]=arguments[h];VQ(c,a);for(var p=0;p<i;)c.push(null),p+=1;return tOe(c),this.instance.populateFromArray(r,t,c,null,null,"spliceCol"),s}},{key:"spliceRow",value:function(t,r,i){for(var o=this.instance.getSourceDataAtRow(t),s=o.slice(r,r+i),a=o.slice(r+i),u=arguments.length,c=new Array(u>3?u-3:0),h=3;h<u;h++)c[h-3]=arguments[h];VQ(c,a);for(var p=0;p<i;)c.push(null),p+=1;return this.instance.populateFromArray(t,r,[c],null,null,"spliceRow"),s}},{key:"spliceData",value:function(t,r,i){var o=this;if(!1!==this.instance.runHooks("beforeDataSplice",t,r,i)){var a=[].concat(R4(this.dataSource.slice(0,t)),R4(i),R4(this.dataSource.slice(t)));this.dataSource.length=0,a.forEach(function(u){return o.dataSource.push(u)})}}},{key:"filterData",value:function(t,r,i){var o=this.instance.runHooks("filterData",t,r,i);!1===Array.isArray(o)&&(o=this.dataSource.filter(function(s,a){return-1===i.indexOf(a)})),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,o)}},{key:"get",value:function(t,r){var i=this.instance.toPhysicalRow(t),o=this.dataSource[i],s=this.instance.runHooks("modifyRowData",i),a=null;if((o=isNaN(s)?s:o)&&o.hasOwnProperty&&Ns(o,r))a=o[r];else if("string"==typeof r&&r.indexOf(".")>-1){var u=r.split("."),c=o;if(!c)return null;for(var h=0,p=u.length;h<p;h++)if(void 0===(c=c[u[h]]))return null;a=c}else"function"==typeof r&&(a=r(this.dataSource.slice(i,i+1)[0]));if(this.instance.hasHook("modifyData")){var g=zS(a);this.instance.runHooks("modifyData",i,this.propToCol(r),g,"get"),g.isTouched()&&(a=g.value)}return a}},{key:"getCopyable",value:function(t,r){return RVe.call(this.instance,t,this.propToCol(r))?this.get(t,r):""}},{key:"set",value:function(t,r,i){var o=this.instance.toPhysicalRow(t),s=i,a=this.dataSource[o],u=this.instance.runHooks("modifyRowData",o);if(a=isNaN(u)?u:a,this.instance.hasHook("modifyData")){var c=zS(s);this.instance.runHooks("modifyData",o,this.propToCol(r),c,"set"),c.isTouched()&&(s=c.value)}if(a&&a.hasOwnProperty&&Ns(a,r))a[r]=s;else if("string"==typeof r&&r.indexOf(".")>-1){var y,h=r.split("."),p=a,g=0;for(g=0,y=h.length-1;g<y;g++)void 0===p[h[g]]&&(p[h[g]]={}),p=p[h[g]];p[h[g]]=s}else"function"==typeof r?r(this.dataSource.slice(o,o+1)[0],s):a[r]=s}},{key:"visualRowsToPhysical",value:function(t,r){for(var u,i=this.instance.countSourceRows(),o=[],s=(i+t)%i,a=r;s<i&&a;)u=this.instance.toPhysicalRow(s),o.push(u),a-=1,s+=1;return o}},{key:"visualColumnsToPhysical",value:function(t,r){for(var i=this.instance.countCols(),o=[],s=(i+t)%i,a=r;s<i&&a;){var u=this.instance.toPhysicalColumn(s);o.push(u),a-=1,s+=1}return o}},{key:"clear",value:function(){for(var t=0;t<this.instance.countSourceRows();t++)for(var r=0;r<this.instance.countCols();r++)this.set(t,this.colToProp(r),"")}},{key:"getLength",value:function(){var r,t=this.tableMeta.maxRows;r=t<0||0===t?0:t||1/0;var i=this.instance.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(i,r)}},{key:"getAll",value:function(){var t={row:0,col:0},r={row:Math.max(this.instance.countRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return t.row-r.row!=0||this.instance.countSourceRows()?this.getRange(t,r,n.DESTINATION_RENDERER):[]}},{key:"countCachedColumns",value:function(){return this.colToPropCache.length}},{key:"getRange",value:function(t,r,i){var s,a,u,o=[],c=this.tableMeta.maxRows,h=this.tableMeta.maxCols;if(0===c||0===h)return[];var p=i===n.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,g=Math.min(Math.max(c-1,0),Math.max(t.row,r.row)),y=Math.min(Math.max(h-1,0),Math.max(t.col,r.col));for(s=Math.min(t.row,r.row);s<=g;s++){u=[];var w=s>=0?this.instance.toPhysicalRow(s):s;for(a=Math.min(t.col,r.col);a<=y&&null!==w;a++)u.push(p.call(this,s,this.colToProp(a)));null!==w&&o.push(u)}return o}},{key:"getText",value:function(t,r){return A1(this.getRange(t,r,n.DESTINATION_RENDERER))}},{key:"getCopyableText",value:function(t,r){return A1(this.getRange(t,r,n.DESTINATION_CLIPBOARD_GENERATOR))}},{key:"destroy",value:function(){this.instance=null,this.tableMeta=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}],[{key:"DESTINATION_RENDERER",get:function(){return 1}},{key:"DESTINATION_CLIPBOARD_GENERATOR",get:function(){return 2}}]),n}();function $P(n){return($P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Zre(n,e,t,r){var i=r.hotInstance,o=r.dataMap,s=r.dataSource,a=r.internalSource,u=r.source,c=r.firstRun,h=km(a),p=i.getSettings();i.dataType=Array.isArray(p.dataSchema)?"array":xs(p.dataSchema)?"function":"object",o&&o.destroy(),n=i.runHooks("before".concat(h),n,c,u);var g=new AVe(i,n,p);if(e(g),"object"===$P(n)&&null!==n)n.push&&n.splice||(n=[n]);else{if(null!==n)throw new Error("".concat(a," only accepts array of objects or array of arrays (").concat($P(n)," given)"));var y=g.getSchema();n=[];var w,C,S=0;for(S=0,C=p.startRows;S<C;S++)if("object"!==i.dataType&&"function"!==i.dataType||!p.dataSchema)if("array"===i.dataType)w=zu(y[0]),n.push(w);else{w=[];for(var P=0,B=p.startCols;P<B;P++)w.push(null);n.push(w)}else w=zu(y),n.push(w)}Array.isArray(n[0])&&(i.dataType="array"),p.data=n,g.dataSource=n,s.data=n,s.dataType=i.dataType,s.colToProp=g.colToProp.bind(g),s.propToCol=g.propToCol.bind(g),s.countCachedColumns=g.countCachedColumns.bind(g),t(g),i.runHooks("after".concat(h),n,c,u),c||(i.runHooks("afterChange",null,a),i.render())}var Qre,qre=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),XP=function(e){return e.map(function(t){var r=t.toLowerCase();return qre.has(r)?qre.get(r):r}).sort().join("+")},Jre=function(e){return e.toLowerCase()};function eie(n,e){if(n){if("string"==typeof n)return O4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O4(n,e)}}function O4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function VVe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var jVe=["meta","alt","shift","control"],KP=function UVe(){var n=new Set;return{press:function(t){n.add(t)},release:function(t){n.delete(t)},releaseAll:function(){n.clear()},isPressed:function(t){return n.has(t)}}}(),YVe=function(e){var t=e.ownerWindow,r=e.handleEvent,i=e.beforeKeyDown,o=e.afterKeyDown,s=WL({errorIdExists:function(S){return'The "'.concat(S,'" context name is already registered.')}}),a="grid",c=function(){return a},h=function(S){return s.getItem(S)},g=!1,y=function WVe(n,e,t,r,i){var o=function(y){return jVe.includes(y)},s=function(y){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1],S=[];return y.altKey&&S.push("alt"),w&&(y.ctrlKey||y.metaKey)?S.push("control/meta"):(y.ctrlKey&&S.push("control"),y.metaKey&&S.push("meta")),y.shiftKey&&S.push("shift"),S},a=function(y){if(!1!==e(y)){var w=t(y);if(229!==y.keyCode&&!1!==w&&!YS(y)){var S=Jre(y.key),C=[];o(S)?KP.press(S):C=s(y);var P=[S].concat(C);!i(y,P)&&(KQ()&&C.includes("meta")||!KQ()&&C.includes("control"))&&i(y,[S].concat(s(y,!0))),r(y)}}},u=function(y){if(!1!==e(y)){var w=Jre(y.key);!1!==o(w)&&KP.release(w)}},c=function(){KP.releaseAll()};return{mount:function(){for(var y=n;y;)y.document.documentElement.addEventListener("keydown",a),y.document.documentElement.addEventListener("keyup",u),y.document.documentElement.addEventListener("blur",c),y=kL(y)},unmount:function(){for(var y=n;y;)y.document.documentElement.removeEventListener("keydown",a),y.document.documentElement.removeEventListener("keyup",u),y.document.documentElement.removeEventListener("blur",c),y=kL(y)},isPressed:function(y){return KP.isPressed(y)}}}(t,r,i,o,function(w,S){var C=h(c()),P=!1;if(!C.hasShortcut(S))return P;for(var B=C.getShortcuts(S),z=0;z<B.length;z++){var j=B[z],X=j.callback,me=j.preventDefault,re=j.stopPropagation,pe=j.captureCtrl;if(!1!==(0,j.runOnlyIf)(w)&&(g=pe,P=!1===X(w,S),g=!1,me&&w.preventDefault(),re&&w.stopPropagation(),P))break}return P});return y.mount(),{addContext:function(S){var C=function(e){var t=WL({errorIdExists:function(h){return'The "'.concat(h,'" shortcut is already registered in the "').concat(e,'" context.')}}),r=function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=h.keys,g=h.callback,y=h.group,w=h.runOnlyIf,S=void 0===w?function(){return!0}:w,C=h.captureCtrl,P=void 0!==C&&C,B=h.preventDefault,z=void 0===B||B,j=h.stopPropagation,X=void 0!==j&&j,ie=h.relativeToGroup,me=h.position;if(Fs(y))throw new Error("You need to define the shortcut's group.");if(!1===xs(g))throw new Error("The shortcut's callback needs to be a function.");if(!1===Array.isArray(p))throw new Error(ds(Qre||(Qre=VVe(["Pass the shortcut's keys as an array of arrays, \n      using the KeyboardEvent.key properties: \n      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values."],["Pass the shortcut\\'s keys as an array of arrays,\\x20\n      using the KeyboardEvent.key properties:\\x20\n      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values."]))));var re={callback:g,group:y,runOnlyIf:S,captureCtrl:P,preventDefault:z,stopPropagation:X};if(fr(ie)){var pe=[ie,me];re.relativeToGroup=pe[0],re.position=pe[1]}p.forEach(function(we){var Le=XP(we);if(t.hasItem(Le)){var lt=t.getItem(Le),je=lt.findIndex(function(bt){return bt.group===ie});-1!==je?"before"===me?je-=1:je+=1:je=lt.length,lt.splice(je,0,re)}else t.addItem(Le,[re])})},o=function(h){var p=XP(h);t.removeItem(p)};return{addShortcut:r,addShortcuts:function(h){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h.forEach(function(g){io(p,function(y,w){!1===Object.prototype.hasOwnProperty.call(g,w)&&(g[w]=p[w])}),r(g)})},getShortcuts:function(h){var p=XP(h),g=t.getItem(p);return fr(g)?g.slice():[]},hasShortcut:function(h){var p=XP(h);return t.hasItem(p)},removeShortcutsByKeys:o,removeShortcutsByGroup:function(h){t.getItems().forEach(function(g){var y=function NVe(n,e){return function BVe(n){if(Array.isArray(n))return n}(n)||function HVe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||eie(n,e)||function FVe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g,2),w=y[0],S=y[1],C=S.filter(function(P){return P.group!==h});0===C.length?o(function(e){return e.split("+")}(w)):(S.length=0,S.push.apply(S,function kVe(n){return function IVe(n){if(Array.isArray(n))return O4(n)}(n)||function PVe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||eie(n)||function LVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(C)))})}}}(S);return s.addItem(S,C),C},getActiveContextName:c,getContext:h,setActiveContextName:function(S){a=S},isCtrlPressed:function(){return!g&&(y.isPressed("control")||y.isPressed("meta"))},destroy:function(){return y.unmount()}}};function Tc(n){return(Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lp(n,e){return function XVe(n){if(Array.isArray(n))return n}(n)||function $Ve(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||tie(n,e)||function GVe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ay(n){return function qVe(n){if(Array.isArray(n))return k4(n)}(n)||function ZVe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||tie(n)||function KVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tie(n,e){if(n){if("string"==typeof n)return k4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k4(n,e)}}function k4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var JVe="gridDefault",L4=null;function P4(n,e){var t,u,c,h,p,r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1,s=this,a=new ra(s),g=!0;W2e(i)&&j2e(this),this.rootElement=n,this.rootDocument=n.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;var y=null!==(t=null==e?void 0:e.layoutDirection)&&void 0!==t?t:"inherit",w=["rtl","ltr"].includes(y)?y:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",w),this.isRtl=function(){return"rtl"===w},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1},e.language=t3e(e.language);var S=new Wre(s,e,[gVe,_Ve]),C=S.getTableMeta(),P=S.getGlobalMeta(),B=WL();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,n.insertBefore(this.container,n.firstChild),mU(this)&&kOe(e.licenseKey,n),this.guid="ht_".concat(ZQ()),this.columnIndexMapper=new $U,this.rowIndexMapper=new $U,c=new lFe(s),(!this.rootElement.id||"ht_"===this.rootElement.id.substring(0,3))&&(this.rootElement.id=this.guid);var z=function(Q){var fe=Q.row,Me=Q.col;return s._createCellCoords(fe>=0?s.rowIndexMapper.getRenderableFromVisualIndex(fe):fe,Me>=0?s.columnIndexMapper.getRenderableFromVisualIndex(Me):Me)},j=function(Q){var fe=Q.row,Me=Q.col;return s._createCellCoords(fe>=0?s.rowIndexMapper.getVisualFromRenderableIndex(fe):fe,Me>=0?s.columnIndexMapper.getVisualFromRenderableIndex(Me):Me)},X=new zBe(C,{rowIndexMapper:function(){return s.rowIndexMapper},columnIndexMapper:function(){return s.columnIndexMapper},countCols:function(){return s.countCols()},countRows:function(){return s.countRows()},propToCol:function(Q){return u.propToCol(Q)},isEditorOpened:function(){return!!s.getActiveEditor()&&s.getActiveEditor().isOpened()},countColsTranslated:function(){return r.view.countRenderableColumns()},countRowsTranslated:function(){return r.view.countRenderableRows()},getShortcutManager:function(){return s.getShortcutManager()},createCellCoords:function(Q,fe){return s._createCellCoords(Q,fe)},createCellRange:function(Q,fe,Me){return s._createCellRange(Q,fe,Me)},visualToRenderableCoords:z,renderableToVisualCoords:j,isDisabledCellSelection:function(Q,fe){return s.getCellMeta(Q,fe).disableVisualSelection}});this.selection=X;var ie=function(Q){Q.hiddenIndexesChanged&&r.selection.refresh()};function me(Z){var Q=$ne(Z);h4(Q)?(s.runHooks("beforeLanguageChange",Q),P.language=Q,s.runHooks("afterLanguageChange",Q)):Xne(Z)}function re(Z,Q){var fe="className"===Z?s.rootElement:s.table;if(g)Rn(fe,Q);else{var Me=[],Te=[];P[Z]&&(Me=Array.isArray(P[Z])?P[Z]:jQ(P[Z])),Q&&(Te=Array.isArray(Q)?Q:jQ(Q));var Ge=UQ(Me,Te),vt=UQ(Te,Me);Ge.length&&Bi(fe,Ge),vt.length&&Rn(fe,vt)}P[Z]=Q}function pe(){var Z=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue+=1,Z=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0===this.validatorsInQueue&&!1===Z&&(Z=!0,this.onQueueEmpty(this.valid))}}}function we(Z){var Q=Z.replace(",",".");return!1===isNaN(parseFloat(Q))?parseFloat(Q):Z}function Le(Z,Q,fe){if(Z.length){var Me=s.getActiveEditor(),Te=s.runHooks("beforeChange",Z,Q||"edit"),Ge=!0;if(!1===Te)return void(Me&&Me.cancelChanges());var vt=new pe;vt.onQueueEmpty=function(vn){Me&&Ge&&Me.cancelChanges(),fe(vn)};for(var Lt=Z.length-1;Lt>=0;Lt--)if(null===Z[Lt])Z.splice(Lt,1);else{var Ot=lp(Z[Lt],4),ut=Ot[0],pt=Ot[3],At=u.propToCol(Ot[1]),Nt=s.getCellMeta(ut,At);"numeric"===Nt.type&&"string"==typeof pt&&wke(pt)&&(Z[Lt][3]=we(pt)),s.getCellValidator(Nt)&&(vt.addValidatorToQueue(),s.validateCell(Z[Lt][3],Nt,function(vn,hn){return function(qn){if("boolean"!=typeof qn)throw new Error("Validation error: result is not boolean");if(!1===qn&&!1===hn.allowInvalid){Ge=!1,Z.splice(vn,1),hn.valid=!0;var In=s.getCell(hn.visualRow,hn.visualCol);null!==In&&Bi(In,C.invalidCellClassName)}vt.removeValidatorFormQueue()}}(Lt,Nt),Q))}vt.checkIfQueueIsEmpty()}}function ot(Z,Q){var fe=Z.length-1;if(!(fe<0)){for(;fe>=0;fe--){var Me=!1;if(null!==Z[fe]){if(null!=Z[fe][2]||null!=Z[fe][3]){if(C.allowInsertRow)for(;Z[fe][0]>s.countRows()-1;){var Te=u.createRow(void 0,void 0,Q);if(!(Te>=1)){Me=!0;break}S.createRow(null,Te)}if("array"===s.dataType&&(!C.columns||0===C.columns.length)&&C.allowInsertColumn)for(;u.propToCol(Z[fe][1])>s.countCols()-1;){var Ge=u.createCol(void 0,void 0,Q);if(!(Ge>=1)){Me=!0;break}S.createColumn(null,Ge)}Me||u.set(Z[fe][0],Z[fe][1],Z[fe][3])}}else Z.splice(fe,1)}s.forceFullRender=!0,h.adjustRowsAndCols(),s.runHooks("beforeChangeRender",Z,Q),p.lockEditor(),s._refreshBorders(null),p.unlockEditor(),s.view.adjustElementsSize(),s.runHooks("afterChange",Z,Q||"edit");var vt=s.getActiveEditor();vt&&fr(vt.refreshValue)&&vt.refreshValue()}}function lt(Z,Q,fe){return Array.isArray(Z)?Z:[[Z,Q,fe]]}this.columnIndexMapper.addLocalHook("cacheUpdated",ie),this.rowIndexMapper.addLocalHook("cacheUpdated",ie),this.selection.addLocalHook("beforeSetRangeStart",function(Z){r.runHooks("beforeSetRangeStart",Z)}),this.selection.addLocalHook("beforeSetRangeStartOnly",function(Z){r.runHooks("beforeSetRangeStartOnly",Z)}),this.selection.addLocalHook("beforeSetRangeEnd",function(Z){r.runHooks("beforeSetRangeEnd",Z),Z.row<0&&(Z.row=r.view._wt.wtTable.getFirstVisibleRow()),Z.col<0&&(Z.col=r.view._wt.wtTable.getFirstVisibleColumn())}),this.selection.addLocalHook("afterSetRangeEnd",function(Z){var Q=zS(!1),fe=r.selection.getSelectedRange(),Me=fe.current(),Te=Me.from,Ge=Me.to,vt=fe.size()-1;r.runHooks("afterSelection",Te.row,Te.col,Ge.row,Ge.col,Q,vt),r.runHooks("afterSelectionByProp",Te.row,s.colToProp(Te.col),Ge.row,s.colToProp(Ge.col),Q,vt);var Lt=r.selection.isSelectedByAnyHeader(),Ot=r.selection.selectedRange.current(),ut=!0;o&&(ut=!1),Q.isTouched()&&(ut=!Q.value);var kt=r.selection.isSelectedByRowHeader(),pt=r.selection.isSelectedByColumnHeader();!1!==ut&&(Lt?kt?r.view.scrollViewportVertically(s.rowIndexMapper.getRenderableFromVisualIndex(Z.row)):pt&&r.view.scrollViewportHorizontally(s.columnIndexMapper.getRenderableFromVisualIndex(Z.col)):Ot&&!r.selection.isMultiple()?r.view.scrollViewport(z(Ot.from)):r.view.scrollViewport(z(Z))),kt&&pt?Rn(r.rootElement,["ht__selection--rows","ht__selection--columns"]):kt?(Bi(r.rootElement,"ht__selection--columns"),Rn(r.rootElement,"ht__selection--rows")):pt?(Bi(r.rootElement,"ht__selection--rows"),Rn(r.rootElement,"ht__selection--columns")):Bi(r.rootElement,["ht__selection--rows","ht__selection--columns"]),r._refreshBorders(null)}),this.selection.addLocalHook("afterSelectionFinished",function(Z){var Q=Z.length-1,fe=Z[Q],Me=fe.from,Te=fe.to;r.runHooks("afterSelectionEnd",Me.row,Me.col,Te.row,Te.col,Q),r.runHooks("afterSelectionEndByProp",Me.row,s.colToProp(Me.col),Te.row,s.colToProp(Te.col),Q)}),this.selection.addLocalHook("afterIsMultipleSelection",function(Z){var Q=r.runHooks("afterIsMultipleSelection",Z.value);Z.value&&(Z.value=Q)}),this.selection.addLocalHook("beforeModifyTransformStart",function(Z){r.runHooks("modifyTransformStart",Z)}),this.selection.addLocalHook("afterModifyTransformStart",function(Z,Q,fe){r.runHooks("afterModifyTransformStart",Z,Q,fe)}),this.selection.addLocalHook("beforeModifyTransformEnd",function(Z){r.runHooks("modifyTransformEnd",Z)}),this.selection.addLocalHook("afterModifyTransformEnd",function(Z,Q,fe){r.runHooks("afterModifyTransformEnd",Z,Q,fe)}),this.selection.addLocalHook("afterDeselect",function(){p.destroyEditor(),r._refreshBorders(),Bi(r.rootElement,["ht__selection--rows","ht__selection--columns"]),r.runHooks("afterDeselect")}),this.selection.addLocalHook("insertRowRequire",function(Z){r.alter("insert_row",Z,1,"auto")}),this.selection.addLocalHook("insertColRequire",function(Z){r.alter("insert_col",Z,1,"auto")}),h={alter:function(Q,fe){var vt,Me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,Te=arguments.length>3?arguments[3]:void 0,Ge=arguments.length>4?arguments[4]:void 0,Lt=function(wr){if(0===wr.length)return[];var zt=ay(wr);return zt.sort(function(Xn,Vn){var Tn=lp(Xn,1)[0],kr=lp(Vn,1)[0];return Tn===kr?0:Tn>kr?1:-1}),Ua(zt,function(Xn,Vn){var st=lp(Vn,2),Tn=st[0],On=st[1],kr=Xn[Xn.length-1],tr=lp(kr,2),Lr=tr[0]+tr[1];if(Tn<=Lr){var ei=Math.max(On-(Lr-Tn),0);kr[1]+=ei}else Xn.push([Tn,On]);return Xn},[zt[0]])};switch(Q){case"insert_row":var Ot=s.countSourceRows();if(C.maxRows===Ot)return;if(fe=fr(fe)?fe:Ot,vt=u.createRow(fe,Me,Te)){S.createRow(s.toPhysicalRow(fe),Me);var ut=X.selectedRange.current(),kt=null==ut?void 0:ut.from,pt=null==kt?void 0:kt.row;if(fr(pt)&&pt>=fe){var At=ut.to,Nt=At.row,vn=At.col,hn=kt.col;X.isSelectedByRowHeader()&&(hn=-1),X.getSelectedRange().pop(),X.setRangeStartOnly(s._createCellCoords(pt+vt,hn),!0),X.setRangeEnd(s._createCellCoords(Nt+vt,vn))}else s._refreshBorders()}break;case"insert_col":if(vt=u.createCol(fe,Me,Te)){if(S.createColumn(s.toPhysicalColumn(fe),Me),Array.isArray(C.colHeaders)){var qn=[fe,0];qn.length+=vt,Array.prototype.splice.apply(C.colHeaders,qn)}var In=X.selectedRange.current(),an=null==In?void 0:In.from,Mn=null==an?void 0:an.col;if(fr(Mn)&&Mn>=fe){var Nn=In.to,Pe=Nn.row,xe=Nn.col,Bt=an.row;X.isSelectedByColumnHeader()&&(Bt=-1),X.getSelectedRange().pop(),X.setRangeStartOnly(s._createCellCoords(Bt,Mn+vt),!0),X.setRangeEnd(s._createCellCoords(Pe,xe+vt))}else s._refreshBorders()}break;case"remove_row":var ln=function(wr){var zt=0;tt(wr,function(pr){var Xn=lp(pr,2),Vn=Xn[0],st=Xn[1],Tn=cl(Vn)?s.countRows()-1:Math.max(Vn-zt,0);if(Number.isInteger(Vn)&&(Vn=Math.max(Vn-zt,0)),u.removeRow(Vn,st,Te)){S.removeRow(s.toPhysicalRow(Tn),st);var kr=s.countRows(),tr=C.fixedRowsTop;tr>=Tn+1&&(C.fixedRowsTop-=Math.min(st,tr-Tn));var zr=C.fixedRowsBottom;zr&&Tn>=kr-zr&&(C.fixedRowsBottom-=Math.min(st,zr)),zt+=st}})};Array.isArray(fe)?ln(Lt(fe)):ln([[fe,Me]]),h.adjustRowsAndCols(),s._refreshBorders();break;case"remove_col":var mn=function(wr){var zt=0;tt(wr,function(pr){var Xn=lp(pr,2),Vn=Xn[0],st=Xn[1],Tn=cl(Vn)?s.countCols()-1:Math.max(Vn-zt,0),On=s.toPhysicalColumn(Tn);if(Number.isInteger(Vn)&&(Vn=Math.max(Vn-zt,0)),u.removeCol(Vn,st,Te)){S.removeColumn(On,st);var tr=C.fixedColumnsStart;tr>=Tn+1&&(C.fixedColumnsStart-=Math.min(st,tr-Tn)),Array.isArray(C.colHeaders)&&(void 0===On&&(On=-1),C.colHeaders.splice(On,st)),zt+=st}})};Array.isArray(fe)?mn(Lt(fe)):mn([[fe,Me]]),h.adjustRowsAndCols(),s._refreshBorders();break;default:throw new Error('There is no such action "'.concat(Q,'"'))}Ge||h.adjustRowsAndCols()},adjustRowsAndCols:function(){var ut,Q=C.minRows,fe=C.minSpareRows,Me=C.minCols,Te=C.minSpareCols;if(Q){var Ge=s.countRows();Ge<Q&&u.createRow(Ge,Q-Ge,"auto")}if(fe){var vt=s.countEmptyRows(!0);if(vt<fe){var Ot=Math.min(fe-vt,C.maxRows-s.countSourceRows());u.createRow(s.countRows(),Ot,"auto")}}(Me||Te)&&(ut=s.countEmptyCols(!0));var kt=s.countCols();if(Me&&!C.columns&&kt<Me){var pt=Me-kt;ut+=pt,u.createCol(kt,pt,"auto")}if(Te&&!C.columns&&"array"===s.dataType&&ut<Te){kt=s.countCols();var Nt=Math.min(Te-ut,C.maxCols-kt);u.createCol(kt,Nt,"auto")}var vn=s.countRows(),hn=s.countCols();(0===vn||0===hn)&&X.deselect(),X.isSelected()&&tt(X.selectedRange,function(qn){var In=!1,an=qn.from.row,Mn=qn.from.col,Nn=qn.to.row,Pe=qn.to.col;an>vn-1?(In=!0,Nn>(an=vn-1)&&(Nn=an)):Nn>vn-1&&(In=!0,an>(Nn=vn-1)&&(an=Nn)),Mn>hn-1?(In=!0,Pe>(Mn=hn-1)&&(Pe=Mn)):Pe>hn-1&&(In=!0,Mn>(Pe=hn-1)&&(Mn=Pe)),In&&s.selectCell(an,Mn,Nn,Pe)}),s.view&&s.view.adjustElementsSize()},populateFromArray:function(Q,fe,Me,Te,Ge,vt,Lt){var Ot,ut,kt,pt,At=[],Nt={},vn=[],hn=Q.row,qn=Q.col;if(0===(ut=fe.length))return!1;var In=0,an=0;switch(Yi(Me)&&(In=Me.col-qn+1,an=Me.row-hn+1),Ge){case"shift_down":var Mn=AL(fe),Nn=Mn.length,Pe=Math.max(Nn,In),xe=s.getData().slice(hn),Bt=AL(xe).slice(qn,qn+Pe);for(kt=0;kt<Pe;kt+=1)if(kt<Nn){for(Ot=0,ut=Mn[kt].length;Ot<an-ut;Ot+=1)Mn[kt].push(Mn[kt][Ot%ut]);vn.push(Mn[kt].concat(kt<Bt.length?Bt[kt]:new Array(xe.length).fill(null)))}else vn.push(Mn[kt%Nn].concat(Bt[kt]));s.populateFromArray(hn,qn,AL(vn));break;case"shift_right":var ln=fe.length,mn=Math.max(ln,an),Bn=s.getData().slice(hn).map(function(uh){return uh.slice(qn)});for(Ot=0;Ot<mn;Ot+=1)if(Ot<ln){for(kt=0,pt=fe[Ot].length;kt<In-pt;kt+=1)fe[Ot].push(fe[Ot][kt%pt]);var zt;if(Ot<Bn.length)for(var wr=0;wr<Bn[Ot].length;wr+=1)fe[Ot].push(Bn[Ot][wr]);else(zt=fe[Ot]).push.apply(zt,ay(new Array(Bn[0].length).fill(null)))}else fe.push(fe[Ot%ut].slice(0,mn).concat(Bn[Ot]));s.populateFromArray(hn,qn,fe);break;default:Nt.row=Q.row,Nt.col=Q.col;var Tn,pr={row:Me&&Q?Me.row-Q.row+1:1,col:Me&&Q?Me.col-Q.col+1:1},Xn=0,Vn=0,st=!0,On=function(Xu){var _d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Ku=fe[Xu%fe.length];return null!==_d?Ku[_d%Ku.length]:Ku},kr=fe.length,tr=Me?Me.row-Q.row+1:0;for(ut=Me?tr:Math.max(kr,tr),Ot=0;Ot<ut&&!(Me&&Nt.row>Me.row&&tr>kr||!C.allowInsertRow&&Nt.row>s.countRows()-1||Nt.row>=C.maxRows);Ot++){var zr=Ot-Xn,Pn=On(zr).length,Lr=Me?Me.col-Q.col+1:0;if(pt=Me?Lr:Math.max(Pn,Lr),Nt.col=Q.col,Tn=s.getCellMeta(Nt.row,Nt.col),"CopyPaste.paste"!==Te&&"Autofill.fill"!==Te||!Tn.skipRowOnPaste){for(Vn=0,kt=0;kt<pt&&!(Me&&Nt.col>Me.col&&Lr>Pn||!C.allowInsertColumn&&Nt.col>s.countCols()-1||Nt.col>=C.maxCols);kt++)if(Tn=s.getCellMeta(Nt.row,Nt.col),"CopyPaste.paste"!==Te&&"Autofill.fill"!==Te||!Tn.skipColumnOnPaste)if(Tn.readOnly&&"UndoRedo.undo"!==Te)Nt.col+=1;else{var ei=kt-Vn,ai=On(zr,ei),Fo=s.getDataAtCell(Nt.row,Nt.col);if("Autofill.fill"===Te){var Es=s.runHooks("beforeAutofillInsidePopulate",{row:zr,col:ei},vt,fe,Lt,{},pr);Es&&(ai=Fs(Es.value)?ai:Es.value)}null!==ai&&"object"===Tc(ai)?(Array.isArray(ai)&&null===Fo&&(Fo=[]),null===Fo||"object"!==Tc(Fo)?st=!1:YQ(t1(Array.isArray(Fo)?Fo:Fo[0]||Fo),t1(Array.isArray(ai)?ai:ai[0]||ai))?ai=zu(ai):st=!1):null!==Fo&&"object"===Tc(Fo)&&(st=!1),st&&At.push([Nt.row,Nt.col,ai]),st=!0,Nt.col+=1}else Vn+=1,Nt.col+=1,pt+=1;Nt.row+=1}else Xn+=1,Nt.row+=1,ut+=1}s.setDataAtCell(At,null,null,Te||"populateFromArray")}}},this.init=function(){c.setData(C.data),s.runHooks("beforeInit"),(np()||$Q())&&Rn(s.rootElement,"mobile"),this.updateSettings(C,!0),this.view=new eFe(this),p=lke.getInstance(s,C,X),s.runHooks("init"),this.forceFullRender=!0,this.view.render(),"object"===Tc(g)&&(s.runHooks("afterChange",g[0],g[1]),g=!1),s.runHooks("afterInit")},this._createCellCoords=function(Z,Q){return s.view._wt.createCellCoords(Z,Q)},this._createCellRange=function(Z,Q,fe){return s.view._wt.createCellRange(Z,Q,fe)},this.validateCell=function(Z,Q,fe,Me){var vt,Te=s.getCellValidator(Q);function Ge(vt){var Lt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Lt&&!0!==Q.hidden){var Ot=Q.visualCol,ut=Q.visualRow,kt=s.getCell(ut,Ot,!0);if(kt&&"TH"!==kt.nodeName){var pt=s.rowIndexMapper.getRenderableFromVisualIndex(ut),At=s.columnIndexMapper.getRenderableFromVisualIndex(Ot);s.view._wt.getSetting("cellRenderer",pt,At,kt)}fe(vt)}else fe(vt)}DOe(Te)&&(vt=Te,Te=function(Lt,Ot){Ot(vt.test(Lt))}),xs(Te)?(Z=s.runHooks("beforeValidate",Z,Q.visualRow,Q.prop,Me),s._registerImmediate(function(){Te.call(Q,Z,function(vt){!s||(vt=s.runHooks("afterValidate",vt,Z,Q.visualRow,Q.prop,Me),Q.valid=vt,Ge(vt),s.runHooks("postAfterValidate",vt,Z,Q.visualRow,Q.prop,Me))})})):s._registerImmediate(function(){Q.valid=!0,Ge(Q.valid,!1)})},this.setDataAtCell=function(Z,Q,fe,Me){var Lt,Ot,ut,Te=lt(Z,Q,fe),Ge=[],vt=Me;for(Lt=0,Ot=Te.length;Lt<Ot;Lt++){if("object"!==Tc(Te[Lt]))throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof Te[Lt][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");ut=Te[Lt][1]>=this.countCols()?Te[Lt][1]:u.colToProp(Te[Lt][1]),Ge.push([Te[Lt][0],ut,c.getAtCell(this.toPhysicalRow(Te[Lt][0]),Te[Lt][1]),Te[Lt][2]])}!vt&&"object"===Tc(Z)&&(vt=Q),s.runHooks("afterSetDataAtCell",Ge,vt),Le(Ge,vt,function(){ot(Ge,vt)})},this.setDataAtRowProp=function(Z,Q,fe,Me){var Lt,Ot,Te=lt(Z,Q,fe),Ge=[],vt=Me;for(Lt=0,Ot=Te.length;Lt<Ot;Lt++)Ge.push([Te[Lt][0],Te[Lt][1],c.getAtCell(this.toPhysicalRow(Te[Lt][0]),Te[Lt][1]),Te[Lt][2]]);!vt&&"object"===Tc(Z)&&(vt=Q),s.runHooks("afterSetDataAtRowProp",Ge,vt),Le(Ge,vt,function(){ot(Ge,vt)})},this.listen=function(){s&&!s.isListening()&&(L4=s.guid,s.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(L4=null,s.runHooks("afterUnlisten"))},this.isListening=function(){return L4===s.guid},this.destroyEditor=function(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s._refreshBorders(Z,Q)},this.populateFromArray=function(Z,Q,fe,Me,Te,Ge,vt,Lt,Ot){if("object"!==Tc(fe)||"object"!==Tc(fe[0]))throw new Error("populateFromArray parameter `input` must be an array of arrays");var ut="number"==typeof Me?s._createCellCoords(Me,Te):null;return h.populateFromArray(s._createCellCoords(Z,Q),fe,ut,Ge,vt,Lt,Ot)},this.spliceCol=function(Z,Q,fe){for(var Me,Te=arguments.length,Ge=new Array(Te>3?Te-3:0),vt=3;vt<Te;vt++)Ge[vt-3]=arguments[vt];return(Me=u).spliceCol.apply(Me,[Z,Q,fe].concat(Ge))},this.spliceRow=function(Z,Q,fe){for(var Me,Te=arguments.length,Ge=new Array(Te>3?Te-3:0),vt=3;vt<Te;vt++)Ge[vt-3]=arguments[vt];return(Me=u).spliceRow.apply(Me,[Z,Q,fe].concat(Ge))},this.getSelected=function(){if(X.isSelected())return Ji(X.getSelectedRange(),function(Z){var Q=Z.from,fe=Z.to;return[Q.row,Q.col,fe.row,fe.col]})},this.getSelectedLast=function(){var Q,Z=this.getSelected();return Z&&Z.length>0&&(Q=Z[Z.length-1]),Q},this.getSelectedRange=function(){if(X.isSelected())return Array.from(X.getSelectedRange())},this.getSelectedRangeLast=function(){var Q,Z=this.getSelectedRange();return Z&&Z.length>0&&(Q=Z[Z.length-1]),Q},this.emptySelectedCells=function(Z){var Q=this;if(X.isSelected()&&0!==this.countRows()&&0!==this.countCols()){var fe=[];tt(X.getSelectedRange(),function(Me){var Te=Me.getTopStartCorner(),Ge=Me.getBottomEndCorner();Vr(Te.row,Ge.row,function(vt){Vr(Te.col,Ge.col,function(Lt){Q.getCellMeta(vt,Lt).readOnly||fe.push([vt,Lt,null])})})}),fe.length>0&&this.setDataAtCell(fe,Z)}},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){var Z=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(Z,0),!this.isRenderSuspended()&&Z===this.renderSuspendedCounter&&(this.renderCall?this.render():this._refreshBorders(null))},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||(p.lockEditor(),this._refreshBorders(null),p.unlockEditor()))},this.batchRender=function(Z){this.suspendRender();var Q=Z();return this.resumeRender(),Q},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(Q,0),(!this.isExecutionSuspended()&&Q===this.executionSuspendedCounter||Z)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(Z){var Q=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.suspendExecution();var fe=Z();return this.resumeExecution(Q),fe},this.batch=function(Z){this.suspendRender(),this.suspendExecution();var Q=Z();return this.resumeExecution(),this.resumeRender(),Q},this.refreshDimensions=function(){if(s.view){var Z=s.view.getLastSize(),Q=Z.width,fe=Z.height,Me=s.rootElement.getBoundingClientRect(),Te=Me.width,Ge=Me.height,vt=Te!==Q||Ge!==fe;!1===s.runHooks("beforeRefreshDimensions",{width:Q,height:fe},{width:Te,height:Ge},vt)||((vt||s.view._wt.wtOverlays.scrollableElement===s.rootWindow)&&(s.view.setLastSize(Te,Ge),s.render()),s.runHooks("afterRefreshDimensions",{width:Q,height:fe},{width:Te,height:Ge},vt))}},this.updateData=function(Z,Q){var fe=this;Zre(Z,function(Me){u=Me},function(Me){u=Me,s.columnIndexMapper.fitToLength(fe.getInitialColumnCount()),s.rowIndexMapper.fitToLength(fe.countSourceRows()),h.adjustRowsAndCols()},{hotInstance:s,dataMap:u,dataSource:c,internalSource:"updateData",source:Q,firstRun:g})},this.loadData=function(Z,Q){Zre(Z,function(fe){u=fe},function(){S.clearCellsCache(),s.initIndexMappers(),h.adjustRowsAndCols(),g&&(g=[null,"loadData"])},{hotInstance:s,dataMap:u,dataSource:c,internalSource:"loadData",source:Q,firstRun:g})},this.getInitialColumnCount=function(){var Z=C.columns,Q=0;if(Array.isArray(Z))Q=Z.length;else if(xs(Z))if("array"===s.dataType)for(var fe=this.countSourceCols(),Me=0;Me<fe;Me+=1)Z(Me)&&(Q+=1);else("object"===s.dataType||"function"===s.dataType)&&(Q=u.colToPropCache.length);else if(fr(C.dataSchema)){var Te=u.getSchema();Q=Array.isArray(Te)?Te.length:NV(Te)}else Q=this.countSourceCols();return Q},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(Z,Q,fe,Me){return Fs(Z)?u.getAll():u.getRange(s._createCellCoords(Z,Q),s._createCellCoords(fe,Me),u.DESTINATION_RENDERER)},this.getCopyableText=function(Z,Q,fe,Me){return u.getCopyableText(s._createCellCoords(Z,Q),s._createCellCoords(fe,Me))},this.getCopyableData=function(Z,Q){return u.getCopyable(Z,u.colToProp(Q))},this.getSchema=function(){return u.getSchema()},this.updateSettings=function(Z){var Te,Ge,Q=arguments.length>1&&void 0!==arguments[1]&&arguments[1],fe=(g?s.loadData:s.updateData).bind(this),Me=!1;if(fr(Z.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(fr(Z.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(fr(Z.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(Te in Z)"data"===Te||("language"===Te?me(Z.language):"className"===Te?re("className",Z.className):"tableClassName"===Te&&s.table?(re("tableClassName",Z.tableClassName),s.view._wt.wtOverlays.syncOverlayTableClassNames()):xr.getSingleton().isRegistered(Te)||xr.getSingleton().isDeprecated(Te)?(xs(Z[Te])||Array.isArray(Z[Te]))&&(Z[Te].initialHook=!0,s.addHook(Te,Z[Te])):!Q&&Ns(Z,Te)&&(P[Te]=Z[Te]));void 0===Z.data&&void 0===C.data?fe(null,"updateSettings"):void 0!==Z.data?fe(Z.data,"updateSettings"):void 0!==Z.columns&&(u.createMap(),s.initIndexMappers());var vt=s.countCols(),Lt=C.columns;if(Lt&&xs(Lt)&&(Me=!0),(void 0!==Z.cell||void 0!==Z.cells||void 0!==Z.columns)&&S.clearCache(),vt>0)for(Te=0,Ge=0;Te<vt;Te++){if(Lt){var Ot=Me?Lt(Te):Lt[Ge];Ot&&S.updateColumnMeta(Ge,Ot)}Ge+=1}fr(Z.cell)&&io(Z.cell,function(vn){s.setCellMetaObject(vn.row,vn.col,vn)}),s.runHooks("afterCellMetaReset");var ut=s.rootElement.style.height;""!==ut&&(ut=parseInt(s.rootElement.style.height,10));var kt=Z.height;if(xs(kt)&&(kt=kt()),Q){var pt=s.rootElement.getAttribute("style");pt&&s.rootElement.setAttribute("data-initialstyle",s.rootElement.getAttribute("style"))}if(null===kt){var At=s.rootElement.getAttribute("data-initialstyle");At&&(At.indexOf("height")>-1||At.indexOf("overflow")>-1)?s.rootElement.setAttribute("style",At):(s.rootElement.style.height="",s.rootElement.style.overflow="")}else void 0!==kt&&(s.rootElement.style.height=isNaN(kt)?"".concat(kt):"".concat(kt,"px"),s.rootElement.style.overflow="hidden");if(void 0!==Z.width){var Nt=Z.width;xs(Nt)&&(Nt=Nt()),s.rootElement.style.width=isNaN(Nt)?"".concat(Nt):"".concat(Nt,"px")}Q||(s.view&&(s.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),s.view._wt.exportSettingsAsClassNames()),s.runHooks("afterUpdateSettings",Z)),h.adjustRowsAndCols(),s.view&&!g&&(s.forceFullRender=!0,p.lockEditor(),s._refreshBorders(null),s.view._wt.wtOverlays.adjustElementsSize(),p.unlockEditor()),!Q&&s.view&&(""===ut||""===kt||void 0===kt)&&ut!==kt&&s.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var Z=s.getSelectedLast();if(C.getValue){if(xs(C.getValue))return C.getValue.call(s);if(Z)return s.getData()[Z[0][0]][C.getValue]}else if(Z)return s.getDataAtCell(Z[0],Z[1])},this.getSettings=function(){return C},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(Z,Q,fe,Me,Te){h.alter(Z,Q,fe,Me,Te)},this.getCell=function(Z,Q){var fe=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Me=Q,Te=Z;if(Q>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(Q)))return null;Me=this.columnIndexMapper.getRenderableFromVisualIndex(Q)}if(Z>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(Z)))return null;Te=this.rowIndexMapper.getRenderableFromVisualIndex(Z)}return null===Te||null===Me?null:s.view.getCellAtCoords(s._createCellCoords(Te,Me),fe)},this.getCoords=function(Z){var Q=this.view._wt.wtTable.getCoords(Z);if(null===Q)return null;var fe=Q.row,Me=Q.col,Te=fe,Ge=Me;return fe>=0&&(Te=this.rowIndexMapper.getVisualFromRenderableIndex(fe)),Me>=0&&(Ge=this.columnIndexMapper.getVisualFromRenderableIndex(Me)),s._createCellCoords(Te,Ge)},this.colToProp=function(Z){return u.colToProp(Z)},this.propToCol=function(Z){return u.propToCol(Z)},this.toVisualRow=function(Z){return r.rowIndexMapper.getVisualFromPhysicalIndex(Z)},this.toVisualColumn=function(Z){return r.columnIndexMapper.getVisualFromPhysicalIndex(Z)},this.toPhysicalRow=function(Z){return r.rowIndexMapper.getPhysicalFromVisualIndex(Z)},this.toPhysicalColumn=function(Z){return r.columnIndexMapper.getPhysicalFromVisualIndex(Z)},this.getDataAtCell=function(Z,Q){return u.get(Z,u.colToProp(Q))},this.getDataAtRowProp=function(Z,Q){return u.get(Z,Q)},this.getDataAtCol=function(Z){var Q;return(Q=[]).concat.apply(Q,ay(u.getRange(s._createCellCoords(0,Z),s._createCellCoords(C.data.length-1,Z),u.DESTINATION_RENDERER)))},this.getDataAtProp=function(Z){var Q,fe=u.getRange(s._createCellCoords(0,u.propToCol(Z)),s._createCellCoords(C.data.length-1,u.propToCol(Z)),u.DESTINATION_RENDERER);return(Q=[]).concat.apply(Q,ay(fe))},this.getSourceData=function(Z,Q,fe,Me){return void 0===Z?c.getData():c.getByRange(s._createCellCoords(Z,Q),s._createCellCoords(fe,Me))},this.getSourceDataArray=function(Z,Q,fe,Me){return void 0===Z?c.getData(!0):c.getByRange(s._createCellCoords(Z,Q),s._createCellCoords(fe,Me),!0)},this.getSourceDataAtCol=function(Z){return c.getAtColumn(Z)},this.setSourceDataAtCell=function(Z,Q,fe,Me){var Te=lt(Z,Q,fe),Ge=this.hasHook("afterSetSourceDataAtCell"),vt=[];Ge&&tt(Te,function(Ot){var ut=lp(Ot,3),kt=ut[0],pt=ut[1],At=ut[2];vt.push([kt,pt,c.getAtCell(kt,pt),At])}),tt(Te,function(Ot){var ut=lp(Ot,3);c.setAtCell(ut[0],ut[1],ut[2])}),Ge&&this.runHooks("afterSetSourceDataAtCell",vt,Me),this.render();var Lt=s.getActiveEditor();Lt&&fr(Lt.refreshValue)&&Lt.refreshValue()},this.getSourceDataAtRow=function(Z){return c.getAtRow(Z)},this.getSourceDataAtCell=function(Z,Q){return c.getAtCell(Z,Q)},this.getDataAtRow=function(Z){return u.getRange(s._createCellCoords(Z,0),s._createCellCoords(Z,this.countCols()-1),u.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(Z,Q,fe,Me){var Te=this,Ge=void 0===Z?[0,0,this.countRows(),this.countCols()]:[Z,Q,fe,Me],vt=Ge[0],Lt=Ge[1],Ot=Ge[2],ut=Ge[3],kt=null,pt=null;void 0===Ot&&(Ot=vt),void 0===ut&&(ut=Lt);var At="mixed";return Vr(Math.max(Math.min(vt,Ot),0),Math.max(vt,Ot),function(Nt){var vn=!0;return Vr(Math.max(Math.min(Lt,ut),0),Math.max(Lt,ut),function(hn){var qn=Te.getCellMeta(Nt,hn);return pt=qn.type,kt?vn=kt===pt:kt=pt,vn}),At=vn?pt:"mixed",vn}),At},this.removeCellMeta=function(Z,Q,fe){var Me=[this.toPhysicalRow(Z),this.toPhysicalColumn(Q)],Te=Me[0],Ge=Me[1],vt=S.getCellMetaKeyValue(Te,Ge,fe);!1!==s.runHooks("beforeRemoveCellMeta",Z,Q,fe,vt)&&(S.removeCellMeta(Te,Ge,fe),s.runHooks("afterRemoveCellMeta",Z,Q,fe,vt)),vt=null},this.spliceCellsMeta=function(Z){for(var Q=this,fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Me=arguments.length,Te=new Array(Me>2?Me-2:0),Ge=2;Ge<Me;Ge++)Te[Ge-2]=arguments[Ge];if(Te.length>0&&!Array.isArray(Te[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");fe>0&&S.removeRow(this.toPhysicalRow(Z),fe),Te.length>0&&tt(Te.reverse(),function(vt){S.createRow(Q.toPhysicalRow(Z)),tt(vt,function(Lt,Ot){return Q.setCellMetaObject(Z,Ot,Lt)})}),s.render()},this.setCellMetaObject=function(Z,Q,fe){var Me=this;"object"===Tc(fe)&&io(fe,function(Te,Ge){Me.setCellMeta(Z,Q,Ge,Te)})},this.setCellMeta=function(Z,Q,fe,Me){if(!1!==s.runHooks("beforeSetCellMeta",Z,Q,fe,Me)){var Ge=Z,vt=Q;Z<this.countRows()&&(Ge=this.toPhysicalRow(Z)),Q<this.countCols()&&(vt=this.toPhysicalColumn(Q)),S.setCellMeta(Ge,vt,fe,Me),s.runHooks("afterSetCellMeta",Z,Q,fe,Me)}},this.getCellsMeta=function(){return S.getCellsMeta()},this.getCellMeta=function(Z,Q){var fe=this.toPhysicalRow(Z),Me=this.toPhysicalColumn(Q);return null===fe&&(fe=Z),null===Me&&(Me=Q),S.getCellMeta(fe,Me,{visualRow:Z,visualColumn:Q})},this.getCellMetaAtRow=function(Z){return S.getCellsMetaAtRow(Z)},this.isColumnModificationAllowed=function(){return!("object"===s.dataType||C.columns)};var je=SP("renderer");this.getCellRenderer=function(Z,Q){return uLe(je.call(this,Z,Q))},this.getCellEditor=SP("editor");var bt=SP("validator");this.getCellValidator=function(Z,Q){var fe=bt.call(this,Z,Q);return"string"==typeof fe&&(fe=hLe(fe)),fe},this.validateCells=function(Z){this._validateCells(Z)},this.validateRows=function(Z,Q){if(!Array.isArray(Z))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(Q,Z)},this.validateColumns=function(Z,Q){if(!Array.isArray(Z))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(Q,void 0,Z)},this._validateCells=function(Z,Q,fe){var Me=new pe;Z&&(Me.onQueueEmpty=Z);for(var Te=s.countRows()-1;Te>=0;)if(void 0===Q||-1!==Q.indexOf(Te)){for(var Ge=s.countCols()-1;Ge>=0;)void 0===fe||-1!==fe.indexOf(Ge)?(Me.addValidatorToQueue(),s.validateCell(s.getDataAtCell(Te,Ge),s.getCellMeta(Te,Ge),function(vt){if("boolean"!=typeof vt)throw new Error("Validation error: result is not boolean");!1===vt&&(Me.valid=!1),Me.removeValidatorFormQueue()},"validateCells"),Ge-=1):Ge-=1;Te-=1}else Te-=1;Me.checkIfQueueIsEmpty()},this.getRowHeader=function(Z){var Q=C.rowHeaders,fe=Z;return void 0!==fe&&(fe=s.runHooks("modifyRowHeader",fe)),void 0===fe?(Q=[],Vr(s.countRows()-1,function(Me){Q.push(s.getRowHeader(Me))})):Array.isArray(Q)&&void 0!==Q[fe]?Q=Q[fe]:xs(Q)?Q=Q(fe):Q&&"string"!=typeof Q&&"number"!=typeof Q&&(Q=fe+1),Q},this.hasRowHeaders=function(){return!!C.rowHeaders},this.hasColHeaders=function(){if(null!=C.colHeaders)return!!C.colHeaders;for(var Z=0,Q=s.countCols();Z<Q;Z++)if(s.getColHeader(Z))return!0;return!1},this.getColHeader=function(Z){var Q=s.runHooks("modifyColHeader",Z),fe=C.colHeaders;if(void 0===Q){for(var Me=[],Te=s.countCols(),Ge=0;Ge<Te;Ge++)Me.push(s.getColHeader(Ge));fe=Me}else{var Lt=s.toPhysicalColumn(Q),Ot=function(kt){for(var pt=[],At=s.countCols(),Nt=0;Nt<At;Nt++)xs(C.columns)&&C.columns(Nt)&&pt.push(Nt);return pt[kt]}(Lt);!1===C.colHeaders?fe=null:C.columns&&xs(C.columns)&&C.columns(Ot)&&C.columns(Ot).title?fe=C.columns(Ot).title:C.columns&&C.columns[Lt]&&C.columns[Lt].title?fe=C.columns[Lt].title:Array.isArray(C.colHeaders)&&void 0!==C.colHeaders[Lt]?fe=C.colHeaders[Lt]:xs(C.colHeaders)?fe=C.colHeaders(Lt):C.colHeaders&&"string"!=typeof C.colHeaders&&"number"!=typeof C.colHeaders&&(fe=_U(Q))}return fe},this._getColWidthFromSettings=function(Z){var Q;if(Z>=0&&(Q=s.getCellMeta(0,Z).width),(void 0===Q||Q===C.width)&&(Q=C.colWidths),null!=Q){switch(Tc(Q)){case"object":Q=Q[Z];break;case"function":Q=Q(Z)}"string"==typeof Q&&(Q=parseInt(Q,10))}return Q},this.getColWidth=function(Z){var Q=s._getColWidthFromSettings(Z);return void 0===(Q=s.runHooks("modifyColWidth",Q,Z))&&(Q=cU.DEFAULT_WIDTH),Q},this._getRowHeightFromSettings=function(Z){var Q=C.rowHeights;if(null!=Q){switch(Tc(Q)){case"object":Q=Q[Z];break;case"function":Q=Q(Z)}"string"==typeof Q&&(Q=parseInt(Q,10))}return Q},this.getRowHeight=function(Z){var Q=s._getRowHeightFromSettings(Z);return s.runHooks("modifyRowHeight",Q,Z)},this.countSourceRows=function(){return c.countRows()},this.countSourceCols=function(){return c.countFirstRowKeys()},this.countRows=function(){return u.getLength()},this.countCols=function(){var Z=C.maxCols,Q=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(Z,Q)},this.countRenderedRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=0;return uz(s.countRows()-1,function(fe){if(s.isEmptyRow(fe))Q+=1;else if(!0===Z)return!1}),Q},this.countEmptyCols=function(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s.countRows()<1)return 0;var Q=0;return uz(s.countCols()-1,function(fe){if(s.isEmptyCol(fe))Q+=1;else if(!0===Z)return!1}),Q},this.isEmptyRow=function(Z){return C.isEmptyRow.call(s,Z)},this.isEmptyCol=function(Z){return C.isEmptyCol.call(s,Z)},this.selectCell=function(Z,Q,fe,Me){var Te=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],Ge=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return!Fs(Z)&&!Fs(Q)&&this.selectCells([[Z,Q,fe,Me]],Te,Ge)},this.selectCells=function(){var Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],fe=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1===Q&&(o=!0);var Me=X.selectCells(Z);return Me&&fe&&s.listen(),o=!1,Me},this.selectColumns=function(Z){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z;return X.selectColumns(Z,Q)},this.selectRows=function(Z){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z;return X.selectRows(Z,Q)},this.deselectCell=function(){X.deselect()},this.selectAll=function(){var Z=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],Q=Z&&this.hasRowHeaders(),fe=Z&&this.hasColHeaders();o=!0,X.selectAll(Q,fe),o=!1};var ye=function(Q,fe){return Q.getNearestNotHiddenIndex(fe,1,!0)};function Ae(Z){return function(){throw new Error('The "'.concat(Z,'" method cannot be called because this Handsontable instance has been destroyed'))}}this.scrollViewportTo=function(Z,Q){var fe=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Me=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Te=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],Ge=!fe,vt=!Me,Lt=Z,Ot=Q;if(Te){var ut=Number.isInteger(Z),kt=Number.isInteger(Q),pt=ut?ye(this.rowIndexMapper,Z):void 0,At=kt?ye(this.columnIndexMapper,Q):void 0;if(null===pt||null===At)return!1;Lt=ut?s.rowIndexMapper.getRenderableFromVisualIndex(pt):void 0,Ot=kt?s.columnIndexMapper.getRenderableFromVisualIndex(At):void 0}var Nt=Number.isInteger(Lt),vn=Number.isInteger(Ot);return Nt&&vn?s.view.scrollViewport(s._createCellCoords(Lt,Ot),Ge,Me,fe,vt):Nt&&!1===vn?s.view.scrollViewportVertically(Lt,Ge,fe):!(!vn||!1!==Nt)&&s.view.scrollViewportHorizontally(Ot,Me,vt)},this.destroy=function(){if(s._clearTimeouts(),s._clearImmediates(),s.view&&s.view.destroy(),c&&c.destroy(),c=null,this.getShortcutManager().destroy(),S.clearCache(),mU(s)){var Z=this.rootDocument.querySelector("#hot-display-license-info");Z&&Z.parentNode.removeChild(Z)}af(s.rootElement),a.destroy(),p&&p.destroy(),s.batchExecution(function(){s.rowIndexMapper.unregisterAll(),s.columnIndexMapper.unregisterAll(),B.getItems().forEach(function(Q){lp(Q,2)[1].destroy()}),B.clear(),s.runHooks("afterDestroy")},!0),xr.getSingleton().destroy(s),io(s,function(Q,fe,Me){xs(Q)?Me[fe]=Ae(fe):"guid"!==fe&&(Me[fe]=null)}),s.isDestroyed=!0,u&&u.destroy(),s.rowIndexMapper=null,s.columnIndexMapper=null,u=null,h=null,X=null,p=null,s=null},this.getActiveEditor=function(){return p.getActiveEditor()},this.getPlugin=function(Z){var Q=km(Z);return"UndoRedo"===Q?this.undoRedo:B.getItem(Q)},this.getPluginName=function(Z){return Z===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:B.getId(Z)},this.getInstance=function(){return s},this.addHook=function(Z,Q){xr.getSingleton().add(Z,Q,s)},this.hasHook=function(Z){return xr.getSingleton().has(Z,s)||xr.getSingleton().has(Z)},this.addHookOnce=function(Z,Q){xr.getSingleton().once(Z,Q,s)},this.removeHook=function(Z,Q){xr.getSingleton().remove(Z,Q,s)},this.runHooks=function(Z,Q,fe,Me,Te,Ge,vt){return xr.getSingleton().run(s,Z,Q,fe,Me,Te,Ge,vt)},this.getTranslatedPhrase=function(Z,Q){return ere(C.language,Z,Q)},this.toHTML=function(){return kee(r)},this.toTableElement=function(){var Z=r.rootDocument.createElement("div");return Z.insertAdjacentHTML("afterbegin",kee(r)),Z.firstElementChild},this.timeouts=[],this._registerTimeout=function(Z){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,fe=Z;"function"==typeof fe&&(fe=setTimeout(fe,Q)),this.timeouts.push(fe)},this._clearTimeouts=function(){tt(this.timeouts,function(Z){clearTimeout(Z)})},this.immediates=[],this._registerImmediate=function(Z){this.immediates.push(setImmediate(Z))},this._clearImmediates=function(){tt(this.immediates,function(Z){clearImmediate(Z)})},this._refreshBorders=function(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];p.destroyEditor(Z),s.view.render(),Q&&X.isSelected()&&p.prepareEditor()},this.isRtl=function(){return"rtl"===s.rootWindow.getComputedStyle(s.rootElement).direction},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1};var Ye=YVe({handleEvent:function(Q){return s.isListening()&&void 0!==(null==Q?void 0:Q.key)},beforeKeyDown:function(Q){return r.runHooks("beforeKeyDown",Q)},afterKeyDown:function(Q){r.isDestroyed||s.runHooks("afterDocumentKeyDown",Q)},ownerWindow:this.rootWindow});this.getShortcutManager=function(){return Ye};var Je=Ye.addContext("grid"),wt={runOnlyIf:function(){return fr(s.getSelected())&&s.countRenderedRows()>0&&s.countRenderedCols()>0},group:JVe};Ye.setActiveContextName("grid"),Je.addShortcuts([{keys:[["Control/Meta","A"]],callback:function(){s.selectAll()}},{keys:[["Control/Meta","Enter"]],callback:function(){for(var Q=s.getSelectedRange(),fe=Q[Q.length-1].highlight,Me=fe.row,Te=fe.col,Ge=s.getDataAtCell(Me,Te),vt=new Map,Lt=0;Lt<Q.length;Lt++)Q[Lt].forAll(function(Ot,ut){Ot>=0&&ut>=0&&(Ot!==Me||ut!==Te)&&(s.getCellMeta(Ot,ut).readOnly||vt.set("".concat(Ot,"x").concat(ut),[Ot,ut,Ge]))});s.setDataAtCell(Array.from(vt.values()))},runOnlyIf:function(){return s.getSelectedRangeLast().getCellsCount()>1}},{keys:[["ArrowUp"]],callback:function(){X.transformStart(-1,0)}},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:function(){X.setRangeStart(s._createCellCoords(s.rowIndexMapper.getNearestNotHiddenIndex(0,1),s.getSelectedRangeLast().highlight.col))}},{keys:[["ArrowUp","Shift"]],callback:function(){X.transformEnd(-1,0)}},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var Q=s.getSelectedRangeLast(),fe=Q.from,Me=Q.to,Te=s.rowIndexMapper.getNearestNotHiddenIndex(0,1);X.setRangeStart(fe.clone()),X.setRangeEnd(s._createCellCoords(Te,Me.col))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByColumnHeader())}},{keys:[["ArrowDown"]],callback:function(){X.transformStart(1,0)}},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:function(){X.setRangeStart(s._createCellCoords(s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-1,-1),s.getSelectedRangeLast().highlight.col))}},{keys:[["ArrowDown","Shift"]],callback:function(){X.transformEnd(1,0)}},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var Q=s.getSelectedRangeLast(),fe=Q.from,Me=Q.to,Te=s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-1,-1);X.setRangeStart(fe.clone()),X.setRangeEnd(s._createCellCoords(Te,Me.col))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByColumnHeader())}},{keys:[["ArrowLeft"]],callback:function(){X.transformStart(0,-1*s.getDirectionFactor())}},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:function(){var Q,fe=s.getSelectedRangeLast().highlight.row,Me=(Q=s.columnIndexMapper).getNearestNotHiddenIndex.apply(Q,ay(s.isRtl()?[s.countCols()-1,-1]:[0,1]));X.setRangeStart(s._createCellCoords(fe,Me))}},{keys:[["ArrowLeft","Shift"]],callback:function(){X.transformEnd(0,-1*s.getDirectionFactor())}},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var Q,fe=s.getSelectedRangeLast(),Me=fe.from,Te=fe.to,Ge=(Q=s.columnIndexMapper).getNearestNotHiddenIndex.apply(Q,ay(s.isRtl()?[s.countCols()-1,-1]:[0,1]));X.setRangeStart(Me.clone()),X.setRangeEnd(s._createCellCoords(Te.row,Ge))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByRowHeader())}},{keys:[["ArrowRight"]],callback:function(){X.transformStart(0,s.getDirectionFactor())}},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:function(){var Q,fe=s.getSelectedRangeLast().highlight.row,Me=(Q=s.columnIndexMapper).getNearestNotHiddenIndex.apply(Q,ay(s.isRtl()?[0,1]:[s.countCols()-1,-1]));X.setRangeStart(s._createCellCoords(fe,Me))}},{keys:[["ArrowRight","Shift"]],callback:function(){X.transformEnd(0,s.getDirectionFactor())}},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var Q,fe=s.getSelectedRangeLast(),Me=fe.from,Te=fe.to,Ge=(Q=s.columnIndexMapper).getNearestNotHiddenIndex.apply(Q,ay(s.isRtl()?[0,1]:[s.countCols()-1,-1]));X.setRangeStart(Me.clone()),X.setRangeEnd(s._createCellCoords(Te.row,Ge))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByRowHeader())}},{keys:[["Home"]],captureCtrl:!0,callback:function(){var Q=parseInt(s.getSettings().fixedColumnsStart,10),fe=s.getSelectedRangeLast().highlight.row,Me=s.columnIndexMapper.getNearestNotHiddenIndex(Q,1);X.setRangeStart(s._createCellCoords(fe,Me))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["Home","Shift"]],callback:function(){X.setRangeEnd(s._createCellCoords(X.selectedRange.current().from.row,s.columnIndexMapper.getNearestNotHiddenIndex(0,1)))}},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:function(){var Q=parseInt(s.getSettings().fixedRowsTop,10),fe=parseInt(s.getSettings().fixedColumnsStart,10),Me=s.rowIndexMapper.getNearestNotHiddenIndex(Q,1),Te=s.columnIndexMapper.getNearestNotHiddenIndex(fe,1);X.setRangeStart(s._createCellCoords(Me,Te))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["End"]],captureCtrl:!0,callback:function(){X.setRangeStart(s._createCellCoords(s.getSelectedRangeLast().highlight.row,s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1)))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["End","Shift"]],callback:function(){X.setRangeEnd(s._createCellCoords(X.selectedRange.current().from.row,s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1)))}},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:function(){var Q=parseInt(s.getSettings().fixedRowsBottom,10),fe=s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-Q-1,-1),Me=s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1);X.setRangeStart(s._createCellCoords(fe,Me))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["PageUp"]],callback:function(){X.transformStart(-s.countVisibleRows(),0)}},{keys:[["PageUp","Shift"]],callback:function(){var fe=s.getSelectedRangeLast().to,Me=Math.max(fe.row-s.countVisibleRows(),0),Te=s.rowIndexMapper.getNearestNotHiddenIndex(Me,1);if(null!==Te){var Ge=s._createCellCoords(Te,fe.col),vt=fe.row-s.view.getFirstFullyVisibleRow(),Lt=Math.max(Ge.row-vt,0);X.setRangeEnd(Ge),s.scrollViewportTo(Lt)}}},{keys:[["PageDown"]],callback:function(){X.transformStart(s.countVisibleRows(),0)}},{keys:[["PageDown","Shift"]],callback:function(){var fe=s.getSelectedRangeLast().to,Me=Math.min(fe.row+s.countVisibleRows(),s.countRows()-1),Te=s.rowIndexMapper.getNearestNotHiddenIndex(Me,-1);if(null!==Te){var Ge=s._createCellCoords(Te,fe.col),vt=fe.row-s.view.getFirstFullyVisibleRow(),Lt=Math.min(Ge.row-vt,s.countRows()-1);X.setRangeEnd(Ge),s.scrollViewportTo(Lt)}}},{keys:[["Tab"]],callback:function(Q){var fe="function"==typeof C.tabMoves?C.tabMoves(Q):C.tabMoves;X.transformStart(fe.row,fe.col,!0)}},{keys:[["Shift","Tab"]],callback:function(Q){var fe="function"==typeof C.tabMoves?C.tabMoves(Q):C.tabMoves;X.transformStart(-fe.row,-fe.col)}}],wt),jee().forEach(function(Z){var Q=vz(Z);B.addItem(Z,new Q(r))}),xr.getSingleton().run(s,"construct")}var nie={_hooksStorage:Object.create(null),addHook:function(e,t){return this._hooksStorage[e]||(this._hooksStorage[e]=[]),this.hot.addHook(e,t),this._hooksStorage[e].push(t),this},removeHooksByKey:function(e){var t=this;tt(this._hooksStorage[e]||[],function(r){t.hot.removeHook(e,r)})},clearHooks:function(){var e=this;io(this._hooksStorage,function(t,r){return e.removeHooksByKey(r)}),this._hooksStorage={}}};Om(nie,"MIXIN_NAME","hooksRefRegisterer",{writable:!1,enumerable:!1});const eze=nie;function I4(n){return(I4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function rie(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function N4(n,e){return(N4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function lze(n,e){if(e&&("object"===I4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function uze(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ZP(n){return(ZP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function iie(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function sie(n,e,t){return e&&oie(n.prototype,e),t&&oie(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var Tl=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),F4="baseEditor",tx=function(){function n(e){iie(this,n),this.hot=e,this.instance=e,this.state=Tl.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.TD=null,this.row=null,this.col=null,this.prop=null,this.originalValue=null,this.cellProperties=null,this.init()}return sie(n,[{key:"_fireCallbacks",value:function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)}},{key:"init",value:function(){}},{key:"getValue",value:function(){throw Error("Editor getValue() method unimplemented")}},{key:"setValue",value:function(){throw Error("Editor setValue() method unimplemented")}},{key:"open",value:function(){throw Error("Editor open() method unimplemented")}},{key:"close",value:function(){throw Error("Editor close() method unimplemented")}},{key:"prepare",value:function(t,r,i,o,s,a){this.TD=o,this.row=t,this.col=r,this.prop=i,this.originalValue=s,this.cellProperties=a,this.state=Tl.VIRGIN}},{key:"extend",value:function(){return function(t){!function sze(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&N4(n,e)}(i,t);var r=function aze(n){var e=function cze(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ZP(n);if(e){var o=ZP(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return lze(this,i)}}(i);function i(){return iie(this,i),r.apply(this,arguments)}return sie(i)}(this.constructor)}},{key:"saveValue",value:function(t,r){var o,s,a,u,i=this;if(r){var c=this.hot.getSelectedLast();o=Math.max(Math.min(c[0],c[2]),0),s=Math.max(Math.min(c[1],c[3]),0),a=Math.max(c[0],c[2]),u=Math.max(c[1],c[3])}else{var h=[this.row,this.col,null,null];o=h[0],s=h[1],a=h[2],u=h[3]}var p=this.hot.runHooks("modifyGetCellCoords",o,s);if(Array.isArray(p)){var g=function tze(n,e){return function oze(n){if(Array.isArray(n))return n}(n)||function ize(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function rze(n,e){if(n){if("string"==typeof n)return rie(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rie(n,e)}}(n,e)||function nze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p,2);o=g[0],s=g[1]}var w=this.hot.getShortcutManager().getContext("editor"),S={runOnlyIf:function(){return fr(i.hot.getSelected())},group:F4};this.isInFullEditMode()&&w.addShortcuts([{keys:[["ArrowUp"]],callback:function(){i.hot.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:function(){i.hot.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:function(){i.hot.selection.transformStart(0,-1*i.hot.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:function(){i.hot.selection.transformStart(0,i.hot.getDirectionFactor())}}],S),this.hot.populateFromArray(o,s,t,a,u,"edit")}},{key:"beginEditing",value:function(t,r){if(this.state===Tl.VIRGIN){var i=this.hot,o=i.rowIndexMapper.getRenderableFromVisualIndex(this.row),s=i.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(i.view.scrollViewport(i._createCellCoords(o,s)),this.state=Tl.EDITING,this.isInFullEditMode()){var a="string"==typeof t?t:Sa(this.originalValue);this.setValue(a)}this.open(r),this._opened=!0,this.focus(),i.view.render(),i.runHooks("afterBeginEditing",this.row,this.col)}}},{key:"finishEditing",value:function(t,r,i){var s,o=this;if(i){var a=this._closeCallback;this._closeCallback=function(p){a&&a(p),i(p),o.hot.view.render()}}if(!this.isWaiting()){var c=this.hot.getShortcutManager().getContext("editor");if(c.removeShortcutsByGroup(F4),c.removeShortcutsByGroup(jL),this.state===Tl.VIRGIN)return void this.hot._registerTimeout(function(){o._fireCallbacks(!0)});if(this.state===Tl.EDITING){if(t)return this.cancelChanges(),void this.hot.view.render();var h=this.getValue();s=this.cellProperties.trimWhitespace?[["string"==typeof h?String.prototype.trim.call(h||""):h]]:[[h]],this.state=Tl.WAITING,this.saveValue(s,r),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",function(p){o.state=Tl.FINISHED,o.discardEditor(p)}):(this.state=Tl.FINISHED,this.discardEditor(!0))}}}},{key:"cancelChanges",value:function(){this.state=Tl.FINISHED,this.discardEditor()}},{key:"discardEditor",value:function(t){this.state===Tl.FINISHED&&(!1===t&&!0!==this.cellProperties.allowInvalid?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=Tl.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Tl.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}},{key:"enableFullEditMode",value:function(){this._fullEditMode=!0}},{key:"isInFullEditMode",value:function(){return this._fullEditMode}},{key:"isOpened",value:function(){return this._opened}},{key:"isWaiting",value:function(){return this.state===Tl.WAITING}},{key:"getEditedCellRect",value:function(){var t,r=this.getEditedCell();if(r){var i=this.hot.view._wt,o=i.wtOverlays,s=i.wtViewport,a=this.hot.rootWindow,u=ja(r),c=cs(r),h=ja(this.hot.rootElement),p=cs(this.hot.rootElement),g=o.topOverlay.holder,y=o.inlineStartOverlay.holder,w=g!==a?g.scrollTop:0,S=y!==a?y.scrollLeft:0,C=a.innerWidth-h.left-p,B=(null!==(t=o.getParentOverlay(r))&&void 0!==t?t:this.hot.view._wt).wtTable,z=B.name,j=["master","inline_start"].includes(z)?w:0,X=["master","top","bottom"].includes(z)?S:0,me=u.top-h.top-(u.top===h.top?0:1)-j,re=0;re=this.hot.isRtl()?a.innerWidth-u.left-c-C-1+X:u.left-h.left-1-X,["top","top_inline_start_corner"].includes(z)&&(me+=o.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(z)&&(re+=Math.abs(o.inlineStartOverlay.getOverlayOffset()));var pe=this.hot.hasColHeaders(),we=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),Le=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),lt=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(pe&&we<=0||we===lt)&&(me+=1),Le<=0&&(re+=1);var je=s.rowsRenderCalculator.startPosition,bt=s.columnsRenderCalculator.startPosition,ye=Math.abs(o.inlineStartOverlay.getScrollPosition()),Ae=o.topOverlay.getScrollPosition(),Ye=El(this.hot.rootDocument),Je=r.offsetTop+je-Ae,wt=0;if(this.hot.isRtl()){var Z=r.offsetLeft;wt=Z>=0?B.getWidth()-r.offsetLeft:Math.abs(Z),wt+=bt-ye-c}else wt=r.offsetLeft+bt-ye;var Q=Nb(this.TD,this.hot.rootWindow),fe=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",Me=parseInt(Q[fe],10)>0?0:1,Te=parseInt(Q.borderTopWidth,10)>0?0:1,Ge=cs(r)+Me,vt=na(r)+Te,Lt=function EOe(n){return n.offsetWidth!==n.clientWidth}(g)?Ye:0,Ot=function TOe(n){return n.offsetHeight!==n.clientHeight}(y)?Ye:0,ut=this.hot.view.maximumVisibleElementWidth(wt)-Lt+Me;return{top:me,start:re,height:vt,maxHeight:Math.max(this.hot.view.maximumVisibleElementHeight(Je)-Ot+Te,23),width:Ge,maxWidth:ut}}}},{key:"getEditedCellsLayerClass",value:function(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}},{key:"getEditedCell",value:function(){return this.hot.getCell(this.row,this.col,!0)}},{key:"checkEditorSection",value:function(){var t=this.hot.countRows(),r="";return this.row<this.hot.getSettings().fixedRowsTop?r=this.col<this.hot.getSettings().fixedColumnsStart?"top-inline-start-corner":"top":this.hot.getSettings().fixedRowsBottom&&this.row>=t-this.hot.getSettings().fixedRowsBottom?r=this.col<this.hot.getSettings().fixedColumnsStart?"bottom-inline-start-corner":"bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(r="inline-start"),r}}],[{key:"EDITOR_TYPE",get:function(){return"base"}}]),n}();function hze(){var e,n={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},t=document.body,r=document.createTextNode(""),i=document.createElement("SPAN"),o=function(y,w,S){y.addEventListener(w,S,!1)},s=function(y,w,S){y.removeEventListener(w,S,!1)},a=function(y){var w,S;y?/^[a-zA-Z \.,\\\/\|0-9]$/.test(y)||(y="."):y="",void 0!==r.textContent?r.textContent=e.value+y:r.data=e.value+y,i.style.fontSize=p(e).fontSize,i.style.fontFamily=p(e).fontFamily,i.style.whiteSpace="pre",t.appendChild(i),w=i.clientWidth+2,t.removeChild(i),e.style.height=n.minHeight+"px",e.style.width=n.minWidth>w?n.minWidth+"px":w>n.maxWidth?n.maxWidth+"px":w+"px",n.minHeight>(S=e.scrollHeight?e.scrollHeight-1:0)?e.style.height=n.minHeight+"px":n.maxHeight<S?(e.style.height=n.maxHeight+"px",e.style.overflowY="visible"):e.style.height=S+"px"},u=function(){window.setTimeout(a,0)};function p(g){return g.currentStyle||document.defaultView.getComputedStyle(g)}return{init:function(y,w,S){!function(y,w,S){e=y,function(y){if(y&&y.minHeight)if("inherit"==y.minHeight)n.minHeight=e.clientHeight;else{var w=parseInt(y.minHeight);isNaN(w)||(n.minHeight=w)}if(y&&y.maxHeight)if("inherit"==y.maxHeight)n.maxHeight=e.clientHeight;else{var S=parseInt(y.maxHeight);isNaN(S)||(n.maxHeight=S)}if(y&&y.minWidth)if("inherit"==y.minWidth)n.minWidth=e.clientWidth;else{var C=parseInt(y.minWidth);isNaN(C)||(n.minWidth=C)}if(y&&y.maxWidth)if("inherit"==y.maxWidth)n.maxWidth=e.clientWidth;else{var P=parseInt(y.maxWidth);isNaN(P)||(n.maxWidth=P)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))}(w),"TEXTAREA"==e.nodeName&&(e.style.resize="none",e.style.overflowY="",e.style.height=n.minHeight+"px",e.style.minWidth=n.minWidth+"px",e.style.maxWidth=n.maxWidth+"px",e.style.overflowY="hidden"),S&&(o(e,"change",a),o(e,"cut",u),o(e,"paste",u),o(e,"drop",u),o(e,"keydown",u),o(e,"focus",a),o(e,"compositionstart",u),o(e,"compositionupdate",u),o(e,"compositionend",u)),a()}(y,w,S)},unObserve:function(){s(e,"change",a),s(e,"cut",u),s(e,"paste",u),s(e,"drop",u),s(e,"keydown",u),s(e,"focus",a),s(e,"compositionstart",u),s(e,"compositionupdate",u),s(e,"compositionend",u)},resize:a}}function aie(n,e){for(var t=ree(e),r=e.value.split("\n"),i=t,o=0,s=0;s<r.length;s++){0!==s&&(o+=r[s-1].length+1);var u=o+r[s].length;if("home"===n?i=o:"end"===n&&(i=u),t<=u)break}HL(e,i)}function H4(n){return(H4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lie(n,e){return function gze(n){if(Array.isArray(n))return n}(n)||function mze(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function pze(n,e){if(n){if("string"==typeof n)return uie(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uie(n,e)}}(n,e)||function fze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uie(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function cie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function O1(){return O1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=_ze(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},O1.apply(this,arguments)}function _ze(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=$b(n)););return n}function B4(n,e){return(B4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Mze(n,e){if(e&&("object"===H4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return die(n)}function die(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $b(n){return($b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}ys(tx,eze);var qP="ht_editor_hidden",hie="textEditor",Xb=function(n){!function bze(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&B4(n,e)}(t,n);var e=function wze(n){var e=function Sze(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=$b(n);if(e){var o=$b(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Mze(this,i)}}(t);function t(r){var i;return function vze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ra(die(i)),i.autoResize=hze(),i.TEXTAREA=void 0,i.textareaStyle=void 0,i.TEXTAREA_PARENT=void 0,i.textareaParentStyle=void 0,i.layerClass=void 0,i.createElements(),i.bindEvents(),i.hot.addHookOnce("afterDestroy",function(){return i.destroy()}),i}return function yze(n,e,t){e&&cie(n.prototype,e),t&&cie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValue",value:function(){return this.TEXTAREA.value}},{key:"setValue",value:function(i){this.TEXTAREA.value=i}},{key:"open",value:function(){var i=this;this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.addHook("afterDocumentKeyDown",function(s){return i.onAfterDocumentKeyDown(s)}),this.registerShortcuts()}},{key:"close",value:function(){this.autoResize.unObserve(),this.hot.rootDocument.activeElement===this.TEXTAREA&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts(),this.removeHooksByKey("afterDocumentKeyDown")}},{key:"prepare",value:function(i,o,s,a,u,c){var h=this.state;if(O1($b(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),!c.readOnly){this.refreshDimensions(!0);var g=c.fragmentSelection;c.allowInvalid&&(this.TEXTAREA.value=""),h!==Tl.FINISHED&&this.hideEditableElement(),!g&&!np()&&this.focus()}}},{key:"beginEditing",value:function(i,o){this.state===Tl.VIRGIN&&(this.TEXTAREA.value="",O1($b(t.prototype),"beginEditing",this).call(this,i,o))}},{key:"focus",value:function(){this.TEXTAREA.select(),HL(this.TEXTAREA,this.TEXTAREA.value.length)}},{key:"createElements",value:function(){var i=this.hot.rootDocument;this.TEXTAREA=i.createElement("TEXTAREA"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.tabIndex=-1,Rn(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=i.createElement("DIV"),Rn(this.TEXTAREA_PARENT,"handsontableInputHolder"),Ci(this.TEXTAREA_PARENT,this.layerClass)&&Bi(this.TEXTAREA_PARENT,this.layerClass),Rn(this.TEXTAREA_PARENT,qP),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}},{key:"hideEditableElement",value:function(){(function hOe(){return ud.ie.value}()||function dOe(){return ud.edge.value}())&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",Bi(this.TEXTAREA_PARENT,this.layerClass),Rn(this.TEXTAREA_PARENT,qP)}},{key:"showEditableElement",value:function(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="",this.textareaStyle.overflowY="hidden";var i=this.TEXTAREA_PARENT.childNodes,o=!1;Vr(i.length-1,function(s){if(Ci(i[s],"handsontableEditor"))return o=!0,!1}),Ci(this.TEXTAREA_PARENT,qP)&&Bi(this.TEXTAREA_PARENT,qP),o?(this.layerClass="ht_editor_visible",Rn(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),Rn(this.TEXTAREA_PARENT,this.layerClass))}},{key:"refreshValue",value:function(){var i=this.hot.toPhysicalRow(this.row),o=this.hot.getSourceDataAtCell(i,this.col);this.originalValue=o,this.setValue(o),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state===Tl.EDITING||i){if(this.TD=this.getEditedCell(),!this.TD)return void(i||this.close());var o=this.getEditedCellRect(),s=o.top,a=o.start,u=o.width,c=o.maxWidth,h=o.height,p=o.maxHeight;this.textareaParentStyle.top="".concat(s,"px"),this.textareaParentStyle[this.hot.isRtl()?"right":"left"]="".concat(a,"px"),this.showEditableElement();var g=Nb(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=g.fontSize,this.TEXTAREA.style.fontFamily=g.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;var y=Nb(this.TEXTAREA),w=parseInt(y.paddingLeft,10)+parseInt(y.paddingRight,10),S=parseInt(y.paddingTop,10)+parseInt(y.paddingBottom,10),C=u-w,P=h-S,B=c-w,z=p-S;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(C,B),minHeight:Math.min(P,z),maxWidth:B,maxHeight:z},!0)}}},{key:"bindEvents",value:function(){var i=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(o){return o.stopPropagation()}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(o){return o.stopPropagation()}),GQ()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",function(){return i.finishEditing(!1)}),this.addHook("afterScrollHorizontally",function(){return i.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return i.refreshDimensions()}),this.addHook("afterColumnResize",function(){i.refreshDimensions(),i.focus()}),this.addHook("afterRowResize",function(){i.refreshDimensions(),i.focus()})}},{key:"allowKeyEventPropagation",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.clearHooks()}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor"),u=function(){i.hot.rootDocument.execCommand("insertText",!1,"\n")};s.addShortcuts([{keys:[["Tab"]],callback:function(h){var p=i.hot.getSettings(),g="function"==typeof p.tabMoves?p.tabMoves(h):p.tabMoves;i.hot.selection.transformStart(g.row,g.col,!0)}},{keys:[["Shift","Tab"]],callback:function(h){var p=i.hot.getSettings(),g="function"==typeof p.tabMoves?p.tabMoves(h):p.tabMoves;i.hot.selection.transformStart(-g.row,-g.col)}},{keys:[["Control","Enter"]],callback:function(){return u(),!1},runOnlyIf:function(h){return!i.hot.selection.isMultiple()&&!h.altKey},relativeToGroup:d1,position:"before"},{keys:[["Meta","Enter"]],callback:function(){return u(),!1},runOnlyIf:function(){return!i.hot.selection.isMultiple()},relativeToGroup:d1,position:"before"},{keys:[["Alt","Enter"]],callback:function(){return u(),!1},relativeToGroup:d1,position:"before"},{keys:[["PageUp"]],callback:function(){i.hot.selection.transformStart(-i.hot.countVisibleRows(),0)}},{keys:[["PageDown"]],callback:function(){i.hot.selection.transformStart(i.hot.countVisibleRows(),0)}},{keys:[["Home"]],callback:function(h,p){aie(lie(p,1)[0],i.TEXTAREA)}},{keys:[["End"]],callback:function(h,p){aie(lie(p,1)[0],i.TEXTAREA)}},{keys:[["Control/Meta","Z"]],preventDefault:!1,callback:function(){i.hot._registerTimeout(function(){i.autoResize.resize()},10)}},{keys:[["Control/Meta","Shift","Z"]],preventDefault:!1,callback:function(){i.hot._registerTimeout(function(){i.autoResize.resize()},10)}}],{runOnlyIf:function(){return fr(i.hot.getSelected())},group:hie})}},{key:"unregisterShortcuts",value:function(){var o=this.hot.getShortcutManager().getContext("editor");o.removeShortcutsByGroup(jL),o.removeShortcutsByGroup(hie),o.removeShortcutsByGroup(F4)}},{key:"onAfterDocumentKeyDown",value:function(i){-1===[Or.ARROW_UP,Or.ARROW_RIGHT,Or.ARROW_DOWN,Or.ARROW_LEFT].indexOf(i.keyCode)&&this.autoResize.resize(String.fromCharCode(i.keyCode))}}],[{key:"EDITOR_TYPE",get:function(){return"text"}}]),t}(tx);function k1(n,e,t,r,i,o,s){var a=[],u=[];s.className&&Rn(e,s.className),s.readOnly&&a.push(s.readOnlyCellClassName),!1===s.valid&&s.invalidCellClassName?a.push(s.invalidCellClassName):u.push(s.invalidCellClassName),!1===s.wordWrap&&s.noWordWrapClassName&&a.push(s.noWordWrapClassName),!o&&s.placeholder&&a.push(s.placeholderCellClassName),Bi(e,u),Rn(e,a)}function ly(n,e,t,r,i,o,s){k1.apply(this,[n,e,t,r,i,o,s]);var a=o;if(!a&&s.placeholder&&(a=s.placeholder),a=Sa(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){af(e);var u=n.rootDocument.createElement("TEMPLATE");u.setAttribute("bind","{{}}"),u.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(u),u.model=n.getSourceDataAtRow(t),e.appendChild(u)}else Ib(e,a)}k1.RENDERER_TYPE="base",ly.RENDERER_TYPE="text";var fie={CELL_TYPE:"text",editor:Xb,renderer:ly};function Im(n,e){var t=new P4(n,e||{},pU);return t.init(),t}ap(fie),Im.editors={BaseEditor:tx},Im.Core=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new P4(n,e,pU)},Im.DefaultSettings=Pre(),Im.hooks=xr.getSingleton(),Im.packageName="handsontable",Im.buildDate="22/09/2022 09:54:36",Im.version="12.1.3",Im.languages={dictionaryKeys:M,getLanguageDictionary:Qne,getLanguagesDictionaries:function QHe(){return qHe()},registerLanguageDictionary:Jne,getTranslatedPhrase:ere};const V4=Im,Dze=["container"],z4=new Map,pie="The Handsontable instance bound to this component was destroyed and cannot be used properly.";let U4=(()=>{class n{getInstance(t){const r=z4.get(t);return r.isDestroyed?(console.warn(pie),null):r}registerInstance(t,r){return z4.set(t,r)}removeInstance(t){return z4.delete(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();const Aze=Object.keys(V4.DefaultSettings),mie=V4.hooks.getRegistered();let gie=(()=>{class n{mergeSettings(t){const r="object"==typeof t.settings,i=r?t.settings:{};return mie.concat(Aze).forEach(s=>{const a=mie.indexOf(s)>-1;let u;r&&a&&(u=t.settings[s]),void 0!==t[s]&&(u=t[s]),void 0!==u&&(i[s]="function"==typeof u&&a?function(...c){return t._ngZone.run(()=>u.apply(this,c))}:u)}),i}prepareChanges(t){const r={};return Object.keys(t).forEach(o=>{t.hasOwnProperty(o)&&(r[o]=t[o].currentValue)}),r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),Nm=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._hotTableRegisterer=r,this._hotSettingsResolver=i,this.__hotInstance=null,this.columnsComponents=[],this.hotId=""}get hotInstance(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(this._hotTableRegisterer.removeInstance(this.hotId),console.warn(pie),null)}set hotInstance(t){this.__hotInstance=t}ngAfterViewInit(){const t=this._hotSettingsResolver.mergeSettings(this);if(this.columnsComponents.length>0){const r=[];this.columnsComponents.forEach(i=>{r.push(this._hotSettingsResolver.mergeSettings(i))}),t.columns=r}this._ngZone.runOutsideAngular(()=>{this.hotInstance=new V4.Core(this.container.nativeElement,t),this.hotId&&this._hotTableRegisterer.registerInstance(this.hotId,this.hotInstance),this.hotInstance.init()})}ngOnChanges(t){if(null===this.hotInstance)return;const r=this._hotSettingsResolver.prepareChanges(t);this.updateHotTable(r)}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{this.hotInstance&&this.hotInstance.destroy()}),this.hotId&&this._hotTableRegisterer.removeInstance(this.hotId)}updateHotTable(t){!this.hotInstance||this._ngZone.runOutsideAngular(()=>{this.hotInstance.updateSettings(t,!1)})}onAfterColumnsChange(){if(void 0!==this.columnsComponents&&this.columnsComponents.length>0){const t=[];this.columnsComponents.forEach(i=>{t.push(this._hotSettingsResolver.mergeSettings(i))}),this.updateHotTable({columns:t})}}onAfterColumnsNumberChange(){const t=[];this.columnsComponents.length>0&&this.columnsComponents.forEach(r=>{t.push(this._hotSettingsResolver.mergeSettings(r))}),this.updateHotTable({columns:t})}addColumn(t){this.columnsComponents.push(t),this.onAfterColumnsNumberChange()}removeColumn(t){const r=this.columnsComponents.indexOf(t);this.columnsComponents.splice(r,1),this.onAfterColumnsNumberChange()}}return n.\u0275fac=function(t){return new(t||n)(ke(wi),ke(U4),ke(gie))},n.\u0275cmp=Si({type:n,selectors:[["hot-table"]],viewQuery:function(t,r){if(1&t&&Sl(Dze,5),2&t){let i;So(i=xo())&&(r.container=i.first)}},inputs:{hotId:"hotId",settings:"settings",activeHeaderClassName:"activeHeaderClassName",allowEmpty:"allowEmpty",allowHtml:"allowHtml",allowInsertColumn:"allowInsertColumn",allowInsertRow:"allowInsertRow",allowInvalid:"allowInvalid",allowRemoveColumn:"allowRemoveColumn",allowRemoveRow:"allowRemoveRow",autoColumnSize:"autoColumnSize",autoRowSize:"autoRowSize",autoWrapCol:"autoWrapCol",autoWrapRow:"autoWrapRow",bindRowsWithHeaders:"bindRowsWithHeaders",cell:"cell",cells:"cells",checkedTemplate:"checkedTemplate",className:"className",colHeaders:"colHeaders",collapsibleColumns:"collapsibleColumns",columnHeaderHeight:"columnHeaderHeight",columns:"columns",columnSorting:"columnSorting",columnSummary:"columnSummary",colWidths:"colWidths",commentedCellClassName:"commentedCellClassName",comments:"comments",contextMenu:"contextMenu",copyable:"copyable",copyPaste:"copyPaste",correctFormat:"correctFormat",currentColClassName:"currentColClassName",currentHeaderClassName:"currentHeaderClassName",currentRowClassName:"currentRowClassName",customBorders:"customBorders",data:"data",dataSchema:"dataSchema",dateFormat:"dateFormat",defaultDate:"defaultDate",disableVisualSelection:"disableVisualSelection",dragToScroll:"dragToScroll",dropdownMenu:"dropdownMenu",editor:"editor",enterBeginsEditing:"enterBeginsEditing",enterMoves:"enterMoves",fillHandle:"fillHandle",filter:"filter",filteringCaseSensitive:"filteringCaseSensitive",filters:"filters",fixedColumnsLeft:"fixedColumnsLeft",fixedColumnsStart:"fixedColumnsStart",fixedRowsBottom:"fixedRowsBottom",fixedRowsTop:"fixedRowsTop",formulas:"formulas",fragmentSelection:"fragmentSelection",height:"height",hiddenColumns:"hiddenColumns",hiddenRows:"hiddenRows",invalidCellClassName:"invalidCellClassName",label:"label",language:"language",layoutDirection:"layoutDirection",licenseKey:"licenseKey",manualColumnFreeze:"manualColumnFreeze",manualColumnMove:"manualColumnMove",manualColumnResize:"manualColumnResize",manualRowMove:"manualRowMove",manualRowResize:"manualRowResize",maxCols:"maxCols",maxRows:"maxRows",mergeCells:"mergeCells",minCols:"minCols",minRows:"minRows",minSpareCols:"minSpareCols",minSpareRows:"minSpareRows",multiColumnSorting:"multiColumnSorting",nestedHeaders:"nestedHeaders",nestedRows:"nestedRows",noWordWrapClassName:"noWordWrapClassName",numericFormat:"numericFormat",observeDOMVisibility:"observeDOMVisibility",outsideClickDeselects:"outsideClickDeselects",persistentState:"persistentState",placeholder:"placeholder",placeholderCellClassName:"placeholderCellClassName",preventOverflow:"preventOverflow",preventWheel:"preventWheel",readOnly:"readOnly",readOnlyCellClassName:"readOnlyCellClassName",renderAllRows:"renderAllRows",renderer:"renderer",rowHeaders:"rowHeaders",rowHeaderWidth:"rowHeaderWidth",rowHeights:"rowHeights",search:"search",selectionMode:"selectionMode",selectOptions:"selectOptions",skipColumnOnPaste:"skipColumnOnPaste",skipRowOnPaste:"skipRowOnPaste",sortByRelevance:"sortByRelevance",source:"source",startCols:"startCols",startRows:"startRows",stretchH:"stretchH",strict:"strict",tableClassName:"tableClassName",tabMoves:"tabMoves",title:"title",trimDropdown:"trimDropdown",trimRows:"trimRows",trimWhitespace:"trimWhitespace",type:"type",uncheckedTemplate:"uncheckedTemplate",undo:"undo",validator:"validator",viewportColumnRenderingOffset:"viewportColumnRenderingOffset",viewportRowRenderingOffset:"viewportRowRenderingOffset",visibleRows:"visibleRows",width:"width",wordWrap:"wordWrap",afterAddChild:"afterAddChild",afterAutofill:"afterAutofill",afterBeginEditing:"afterBeginEditing",afterCellMetaReset:"afterCellMetaReset",afterChange:"afterChange",afterChangesObserved:"afterChangesObserved",afterColumnCollapse:"afterColumnCollapse",afterColumnExpand:"afterColumnExpand",afterColumnMove:"afterColumnMove",afterColumnResize:"afterColumnResize",afterColumnSort:"afterColumnSort",afterContextMenuDefaultOptions:"afterContextMenuDefaultOptions",afterContextMenuHide:"afterContextMenuHide",afterContextMenuShow:"afterContextMenuShow",afterCopy:"afterCopy",afterCopyLimit:"afterCopyLimit",afterCreateCol:"afterCreateCol",afterCreateRow:"afterCreateRow",afterCut:"afterCut",afterDeselect:"afterDeselect",afterDestroy:"afterDestroy",afterDetachChild:"afterDetachChild",afterDocumentKeyDown:"afterDocumentKeyDown",afterDrawSelection:"afterDrawSelection",afterDropdownMenuDefaultOptions:"afterDropdownMenuDefaultOptions",afterDropdownMenuHide:"afterDropdownMenuHide",afterDropdownMenuShow:"afterDropdownMenuShow",afterFilter:"afterFilter",afterGetCellMeta:"afterGetCellMeta",afterGetColHeader:"afterGetColHeader",afterGetColumnHeaderRenderers:"afterGetColumnHeaderRenderers",afterGetRowHeader:"afterGetRowHeader",afterGetRowHeaderRenderers:"afterGetRowHeaderRenderers",afterHideColumns:"afterHideColumns",afterHideRows:"afterHideRows",afterInit:"afterInit",afterLanguageChange:"afterLanguageChange",afterListen:"afterListen",afterLoadData:"afterLoadData",afterMergeCells:"afterMergeCells",afterModifyTransformEnd:"afterModifyTransformEnd",afterModifyTransformStart:"afterModifyTransformStart",afterMomentumScroll:"afterMomentumScroll",afterOnCellContextMenu:"afterOnCellContextMenu",afterOnCellCornerDblClick:"afterOnCellCornerDblClick",afterOnCellCornerMouseDown:"afterOnCellCornerMouseDown",afterOnCellMouseDown:"afterOnCellMouseDown",afterOnCellMouseOut:"afterOnCellMouseOut",afterOnCellMouseOver:"afterOnCellMouseOver",afterOnCellMouseUp:"afterOnCellMouseUp",afterPaste:"afterPaste",afterPluginsInitialized:"afterPluginsInitialized",afterRedo:"afterRedo",afterRedoStackChange:"afterRedoStackChange",afterRefreshDimensions:"afterRefreshDimensions",afterRemoveCellMeta:"afterRemoveCellMeta",afterRemoveCol:"afterRemoveCol",afterRemoveRow:"afterRemoveRow",afterRender:"afterRender",afterRenderer:"afterRenderer",afterRowMove:"afterRowMove",afterRowResize:"afterRowResize",afterScrollHorizontally:"afterScrollHorizontally",afterScrollVertically:"afterScrollVertically",afterSelection:"afterSelection",afterSelectionByProp:"afterSelectionByProp",afterSelectionEnd:"afterSelectionEnd",afterSelectionEndByProp:"afterSelectionEndByProp",afterSetCellMeta:"afterSetCellMeta",afterSetDataAtCell:"afterSetDataAtCell",afterSetDataAtRowProp:"afterSetDataAtRowProp",afterSetSourceDataAtCell:"afterSetSourceDataAtCell",afterTrimRow:"afterTrimRow",afterUndo:"afterUndo",afterUndoStackChange:"afterUndoStackChange",afterUnhideColumns:"afterUnhideColumns",afterUnhideRows:"afterUnhideRows",afterUnlisten:"afterUnlisten",afterUnmergeCells:"afterUnmergeCells",afterUntrimRow:"afterUntrimRow",afterUpdateSettings:"afterUpdateSettings",afterValidate:"afterValidate",afterViewportColumnCalculatorOverride:"afterViewportColumnCalculatorOverride",afterViewportRowCalculatorOverride:"afterViewportRowCalculatorOverride",afterViewRender:"afterViewRender",beforeAddChild:"beforeAddChild",beforeAutofill:"beforeAutofill",beforeAutofillInsidePopulate:"beforeAutofillInsidePopulate",beforeCellAlignment:"beforeCellAlignment",beforeChange:"beforeChange",beforeChangeRender:"beforeChangeRender",beforeColumnCollapse:"beforeColumnCollapse",beforeColumnExpand:"beforeColumnExpand",beforeColumnMove:"beforeColumnMove",beforeColumnResize:"beforeColumnResize",beforeColumnSort:"beforeColumnSort",beforeContextMenuSetItems:"beforeContextMenuSetItems",beforeContextMenuShow:"beforeContextMenuShow",beforeCopy:"beforeCopy",beforeCreateCol:"beforeCreateCol",beforeCreateRow:"beforeCreateRow",beforeCut:"beforeCut",beforeDetachChild:"beforeDetachChild",beforeDrawBorders:"beforeDrawBorders",beforeDropdownMenuSetItems:"beforeDropdownMenuSetItems",beforeDropdownMenuShow:"beforeDropdownMenuShow",beforeFilter:"beforeFilter",beforeGetCellMeta:"beforeGetCellMeta",beforeHideColumns:"beforeHideColumns",beforeHideRows:"beforeHideRows",beforeInit:"beforeInit",beforeInitWalkontable:"beforeInitWalkontable",beforeKeyDown:"beforeKeyDown",beforeLanguageChange:"beforeLanguageChange",beforeLoadData:"beforeLoadData",beforeMergeCells:"beforeMergeCells",beforeOnCellContextMenu:"beforeOnCellContextMenu",beforeOnCellMouseDown:"beforeOnCellMouseDown",beforeOnCellMouseOut:"beforeOnCellMouseOut",beforeOnCellMouseOver:"beforeOnCellMouseOver",beforeOnCellMouseUp:"beforeOnCellMouseUp",beforePaste:"beforePaste",beforeRedo:"beforeRedo",beforeRedoStackChange:"beforeRedoStackChange",beforeRefreshDimensions:"beforeRefreshDimensions",beforeRemoveCellClassNames:"beforeRemoveCellClassNames",beforeRemoveCellMeta:"beforeRemoveCellMeta",beforeRemoveCol:"beforeRemoveCol",beforeRemoveRow:"beforeRemoveRow",beforeRender:"beforeRender",beforeRenderer:"beforeRenderer",beforeRowMove:"beforeRowMove",beforeRowResize:"beforeRowResize",beforeSetCellMeta:"beforeSetCellMeta",beforeSetRangeEnd:"beforeSetRangeEnd",beforeSetRangeStart:"beforeSetRangeStart",beforeSetRangeStartOnly:"beforeSetRangeStartOnly",beforeStretchingColumnWidth:"beforeStretchingColumnWidth",beforeTouchScroll:"beforeTouchScroll",beforeTrimRow:"beforeTrimRow",beforeUndo:"beforeUndo",beforeUndoStackChange:"beforeUndoStackChange",beforeUnhideColumns:"beforeUnhideColumns",beforeUnhideRows:"beforeUnhideRows",beforeUnmergeCells:"beforeUnmergeCells",beforeUntrimRow:"beforeUntrimRow",beforeValidate:"beforeValidate",beforeValueRender:"beforeValueRender",beforeViewRender:"beforeViewRender",construct:"construct",init:"init",modifyAutoColumnSizeSeed:"modifyAutoColumnSizeSeed",modifyAutofillRange:"modifyAutofillRange",modifyColHeader:"modifyColHeader",modifyColumnHeaderHeight:"modifyColumnHeaderHeight",modifyColWidth:"modifyColWidth",modifyCopyableRange:"modifyCopyableRange",modifyData:"modifyData",modifyGetCellCoords:"modifyGetCellCoords",modifyRowData:"modifyRowData",modifyRowHeader:"modifyRowHeader",modifyRowHeaderWidth:"modifyRowHeaderWidth",modifyRowHeight:"modifyRowHeight",modifySourceData:"modifySourceData",modifyTransformEnd:"modifyTransformEnd",modifyTransformStart:"modifyTransformStart",persistentStateLoad:"persistentStateLoad",persistentStateReset:"persistentStateReset",persistentStateSave:"persistentStateSave"},features:[Oi([U4,gie]),Us],decls:2,vars:1,consts:[[3,"id"],["container",""]],template:function(t,r){1&t&&oe(0,"div",0,1),2&t&&V("id",r.hotId)},encapsulation:2}),n})(),Oze=(()=>{class n{static forRoot(){return{ngModule:n,providers:[U4]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({}),n.version="12.1.3",n})(),kze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u4e3b\u6841\u672c\u6570","\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a"],this.dataset=[{name:"amount_V",value:this.model.beam.amount_V,unit:"\u672c"},{name:"D",value:this.model.beam.D,unit:"mm"},{name:"tf",value:this.model.beam.tf,unit:"mm"},{name:"W",value:this.model.beam.W,unit:"mm"},{name:"tw",value:this.model.beam.tw,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.integer_cell=[{row:0,col:1,type:"numeric",numericFormat:{pattern:"mantissa"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,cell:this.integer_cell,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,h]of o){let p=parseFloat(h);if(isNaN(p))return!1;const g=this.dataset[a].name;null!=this.integer_cell.find(w=>w.row===a)&&(p=Math.round(p)),this.model.beam[g]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(id),ke(ef),ke(rf))},n.\u0275cmp=Si({type:n,selectors:[["app-side-right-beam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(te(0,"h1",0),Cn(1,"\u4e3b\u6841\u306e\u7de8\u96c6"),se(),te(2,"div",1),oe(3,"hot-table",2),se(),te(4,"div",3)(5,"button",4),Cn(6,"\u9589\u3058\u308b"),se()()),2&t&&(Er(3),V("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[Nm,$h,Zf,qf,_m,Jf]}),n})(),Lze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074","\u96e2\u9694\uff08\u5185\u5074","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8","\u5168\u4f53\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055"],this.dataset=[{name:"D3",value:this.model.cross.D3,unit:"mm"},{name:"tf2",value:this.model.cross.tf2,unit:"mm"},{name:"W2",value:this.model.cross.W2,unit:"mm"},{name:"tw2",value:this.model.cross.tw2,unit:"mm"},{name:"s_edge",value:this.model.cross.s_edge,unit:"mm"},{name:"s_middle",value:this.model.cross.s_middle,unit:"mm"},{name:"Gusset04",value:"",unit:""},{name:"GA4",value:this.model.cross.GA4,unit:"mm"},{name:"GD4",value:this.model.cross.GD4,unit:"mm"},{name:"GB4",value:this.model.cross.GB4,unit:"mm"},{name:"GC4",value:this.model.cross.GC4,unit:"mm"},{name:"Gt4",value:this.model.cross.Gt4,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,width:"300",columns:this.columns,colWidths:[50,100],allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,h]of o){let p=parseFloat(h);if(isNaN(p))return!1;this.model.cross[this.dataset[a].name]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(id),ke(ef),ke(rf))},n.\u0275cmp=Si({type:n,selectors:[["app-side-right-cross"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(te(0,"h1",0),Cn(1,"\u6a2a\u69cb\u306e\u7de8\u96c6"),se(),te(2,"div",1),oe(3,"hot-table",2),se(),te(4,"div",3)(5,"button",4),Cn(6,"\u9589\u3058\u308b"),se()()),2&t&&(Er(3),V("settings",r.hotSettings)("rowHeaderWidth",150)("stretchH","last"))},dependencies:[Nm,$h,Zf,qf,_m,Jf]}),n})(),Pze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074\uff09","\u96e2\u9694\uff08\u5185\u5074\uff09","\u914d\u7f6e\u5217\u6570"],this.dataset=[{name:"D4",value:this.model.crossbeam.D4,unit:"mm"},{name:"tf3",value:this.model.crossbeam.tf3,unit:"mm"},{name:"W3",value:this.model.crossbeam.W3,unit:"mm"},{name:"tw3",value:this.model.crossbeam.tw3,unit:"mm"},{name:"s_edge2",value:this.model.crossbeam.s_edge2,unit:"mm"},{name:"s_middle2",value:this.model.crossbeam.s_middle2,unit:"mm"},{name:"location2",value:this.model.crossbeam.location2,unit:"\u5217"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,h]of o){let p=parseFloat(h);if(isNaN(p))return!1;this.model.crossbeam[this.dataset[a].name]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(id),ke(ef),ke(rf))},n.\u0275cmp=Si({type:n,selectors:[["app-side-right-crossbeam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(te(0,"h1",0),Cn(1,"\u8377\u91cd\u5206\u914d\u6a2a\u6841\u306e\u7de8\u96c6"),se(),te(2,"div",1),oe(3,"hot-table",2),se(),te(4,"div",3)(5,"button",4),Cn(6,"\u9589\u3058\u308b"),se()()),2&t&&(Er(3),V("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[Nm,$h,Zf,qf,_m,Jf]}),n})(),Ize=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074\uff09","\u96e2\u9694\uff08\u5185\u5074\uff09"],this.dataset=[{name:"D5",value:this.model.endbeam.D5,unit:"mm"},{name:"tf4",value:this.model.endbeam.tf4,unit:"mm"},{name:"tw4",value:this.model.endbeam.tw4,unit:"mm"},{name:"s_edge3",value:this.model.endbeam.s_edge3,unit:"mm"},{name:"s_middle3",value:this.model.endbeam.s_middle3,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,h]of o){let p=parseFloat(h);if(isNaN(p))return!1;this.model.endbeam[this.dataset[a].name]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(id),ke(ef),ke(rf))},n.\u0275cmp=Si({type:n,selectors:[["app-side-right-endbeam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(te(0,"h1",0),Cn(1,"\u7aef\u6a2a\u6841\u306e\u7de8\u96c6"),se(),te(2,"div",1),oe(3,"hot-table",2),se(),te(4,"div",3)(5,"button",4),Cn(6,"\u9589\u3058\u308b"),se()()),2&t&&(Er(3),V("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[Nm,$h,Zf,qf,_m,Jf]}),n})(),Nze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["L\u92fc\u5e95\u9762\u5e45","L\u92fc\u5074\u9762\u5e45","L\u92fc\u539a","\u6c34\u5e73\u90e8\u96e2\u9694","\u659c\u90e8\u96e2\u9694\uff08\u5916\u5074\uff09","\u659c\u90e8\u96e2\u9694\uff08\u5185\u5074\uff09","\u659c\u90e8\u63a5\u5408\u70b9\u9593\u8ddd\u96e2\uff08X\u5024\uff09","\u659c\u90e8\u63a5\u5408\u70b9\u9593\u8ddd\u96e2\uff08Z\u5024\uff09","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u659c\u6750\uff09","\u5168\u4f53\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u5f26\u6750\uff09","\u9577\u8fba\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055","\u4e3b\u6841\u304b\u3089\u306e\u96e2\u9694","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u5f26\u6750\uff09","\u9577\u8fba\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055","\u4e3b\u6841\u304b\u3089\u306e\u96e2\u9694"],this.dataset=[{name:"A",value:this.model.mid.A,unit:"mm"},{name:"B",value:this.model.mid.B,unit:"mm"},{name:"t",value:this.model.mid.t,unit:"mm"},{name:"s",value:this.model.mid.s,unit:"mm"},{name:"s_out",value:this.model.mid.s_out,unit:"mm"},{name:"s_in",value:this.model.mid.s_in,unit:"mm"},{name:"dz",value:this.model.mid.dz,unit:"mm"},{name:"H",value:this.model.mid.H,unit:"mm"},{name:"Gusset01",value:"",unit:""},{name:"GA1",value:this.model.mid.GA1,unit:"mm"},{name:"GD1",value:this.model.mid.GD1,unit:"mm"},{name:"GB1",value:this.model.mid.GB1,unit:"mm"},{name:"GC1",value:this.model.mid.GC1,unit:"mm"},{name:"Gt1",value:this.model.mid.Gt1,unit:"mm"},{name:"Gusset02",value:"",unit:""},{name:"GA2",value:this.model.mid.GA2,unit:"mm"},{name:"GD2",value:this.model.mid.GD2,unit:"mm"},{name:"GB2",value:this.model.mid.GB2,unit:"mm"},{name:"GC2",value:this.model.mid.GC2,unit:"mm"},{name:"Gt2",value:this.model.mid.Gt2,unit:"mm"},{name:"Gdx2",value:this.model.mid.Gdx2,unit:"mm"},{name:"Gusset03",value:"",unit:""},{name:"GA3",value:this.model.mid.GA3,unit:"mm"},{name:"GD3",value:this.model.mid.GD3,unit:"mm"},{name:"GC3",value:this.model.mid.GC3,unit:"mm"},{name:"GB3",value:this.model.mid.GB3,unit:"mm"},{name:"Gt3",value:this.model.mid.Gt1,unit:"mm"},{name:"Gdx3",value:this.model.mid.Gdx2,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,width:"330",columns:this.columns,colWidths:[50,100],allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,h]of o){let p=parseFloat(h);if(isNaN(p))return!1;this.model.mid[this.dataset[a].name]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(id),ke(ef),ke(rf))},n.\u0275cmp=Si({type:n,selectors:[["app-side-right-mid"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(te(0,"h1",0),Cn(1,"\u4e2d\u9593\u5bfe\u50be\u69cb\u306e\u7de8\u96c6"),se(),te(2,"div",1),oe(3,"hot-table",2),se(),te(4,"div",3)(5,"button",4),Cn(6,"\u9589\u3058\u308b"),se()()),2&t&&(Er(3),V("settings",r.hotSettings)("rowHeaderWidth",180)("stretchH","last"))},dependencies:[Nm,$h,Zf,qf,_m,Jf]}),n})(),Fze=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u696d\u52d9\u540d","\u8def\u7dda\u540d","\u9053\u8def\u7a2e\u5225","\u6a4b\u9577","\u6841\u9577","\u652f\u9593\u9577","\u958b\u59cb\u8ddd\u96e2\u6a19","\u7d42\u4e86\u8ddd\u96e2\u6a19","\u958b\u59cb\u6e2c\u70b9\u756a\u53f7","\u958b\u59cb\u6e2c\u70b9x\u5ea7\u6a19","\u958b\u59cb\u6e2c\u70b9y\u5ea7\u6a19","\u958b\u59cb\u6e2c\u70b9z\u5ea7\u6a19","\u7d42\u4e86\u6e2c\u70b9\u756a\u53f7","\u7d42\u4e86\u6e2c\u70b9x\u5ea7\u6a19","\u7d42\u4e86\u6e2c\u70b9y\u5ea7\u6a19","\u7d42\u4e86\u6e2c\u70b9z\u5ea7\u6a19","\u6a2a\u6841\u30fb\u5bfe\u50be\u69cb\u306e\u5217\u6570"],this.dataset=[{name:"ProjectName",value:this.model.others.Name_P,unit:""},{name:"RouteName",value:this.model.others.Name_R,unit:""},{name:"RoadClass",value:this.model.others.Class_R,unit:""},{name:"L",value:this.model.others.L,unit:"m"},{name:"L_01",value:this.model.others.L_01,unit:"m"},{name:"L_02",value:this.model.others.L_02,unit:"m"},{name:"Milepost_B",value:this.model.others.Milepost_B,unit:"km"},{name:"Milepost_E",value:this.model.others.Milepost_E,unit:"km"},{name:"BP",value:this.model.others.BP,unit:"NO."},{name:"BPx",value:this.model.others.BPx,unit:"m"},{name:"BPy",value:this.model.others.BPy,unit:"m"},{name:"BPz",value:this.model.others.BPz,unit:"m"},{name:"EP",value:this.model.others.EP,unit:"NO."},{name:"EPx",value:this.model.others.EPx,unit:"m"},{name:"EPy",value:this.model.others.EPy,unit:"m"},{name:"EPz",value:this.model.others.EPz,unit:"m"},{name:"amount_H",value:this.model.others.amount_H,unit:"\u5217"}],this.columns=[{data:"unit",readOnly:!0},{data:"value"}],this.integer_cell=[{row:2,col:2,type:"numeric",numericFormat:{pattern:"mantissa"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,cell:this.integer_cell,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,h]of o){let p=h;const g=this.dataset[a].name;null!=this.integer_cell.find(w=>w.row===a)&&(p=Math.round(p)),this.model.others[g]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(id),ke(ef),ke(rf))},n.\u0275cmp=Si({type:n,selectors:[["app-side-right-others"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(te(0,"h1",0),Cn(1,"\u5171\u901a\u9805\u76ee\u306e\u7de8\u96c6"),se(),te(2,"div",1),oe(3,"hot-table",2),se(),te(4,"div",3)(5,"button",4),Cn(6,"\u9589\u3058\u308b"),se()()),2&t&&(Er(3),V("settings",r.hotSettings)("rowHeaderWidth",130)("stretchH","last"))},dependencies:[Nm,$h,Zf,qf,_m,Jf]}),n})(),vie=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(ke(fc),ke(_i))},n.\u0275dir=Ln({type:n}),n})(),Kb=(()=>{class n extends vie{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ii(n)))(r||n)}}(),n.\u0275dir=Ln({type:n,features:[mr]}),n})();const dd=new An("NgValueAccessor"),Bze={provide:dd,useExisting:Zi(()=>j4),multi:!0},zze=new An("CompositionEventMode");let j4=(()=>{class n extends vie{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vze(){const n=Wf()?Wf().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(ke(fc),ke(_i),ke(zze,8))},n.\u0275dir=Ln({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&at("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Oi([Bze]),mr]}),n})();const Ul=new An("NgValidators"),cy=new An("NgAsyncValidators");function Rie(n){return null!=n}function Die(n){return nt(n)?qo(n):n}function Aie(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Oie(n,e){return e.map(t=>t(n))}function kie(n){return n.map(e=>function Wze(n){return!n.validate}(e)?e:t=>e.validate(t))}function W4(n){return null!=n?function Lie(n){if(!n)return null;const e=n.filter(Rie);return 0==e.length?null:function(t){return Aie(Oie(t,e))}}(kie(n)):null}function Y4(n){return null!=n?function Pie(n){if(!n)return null;const e=n.filter(Rie);return 0==e.length?null:function(t){return AQ(Oie(t,e).map(Die)).pipe(Dn(Aie))}}(kie(n)):null}function Iie(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function G4(n){return n?Array.isArray(n)?n:[n]:[]}function QP(n,e){return Array.isArray(n)?n.includes(e):n===e}function Hie(n,e){const t=G4(e);return G4(n).forEach(i=>{QP(t,i)||t.push(i)}),t}function Bie(n,e){return G4(e).filter(t=>!QP(n,t))}class Vie{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=W4(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Y4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class dy extends Vie{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ju extends Vie{get formDirective(){return null}get path(){return null}}let Uie=(()=>{class n extends class zie{constructor(e){this._cd=e}get isTouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.touched)}get isUntouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.untouched)}get isPristine(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pristine)}get isDirty(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.dirty)}get isValid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.valid)}get isInvalid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.invalid)}get isPending(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(ke(dy,2))},n.\u0275dir=Ln({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Fi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[mr]}),n})();const L1="VALID",tI="INVALID",nx="PENDING",P1="DISABLED";function Wie(n){return Array.isArray(n)?W4(n):n||null}function Yie(n){return Array.isArray(n)?Y4(n):n||null}function nI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function I1(n,e){var t,r;(function Q4(n,e){const t=function Nie(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Iie(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Fie(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Iie(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();oI(e._rawValidators,i),oI(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&(null===(r=(t=e.valueAccessor).setDisabledState)||void 0===r||r.call(t,!0)),function eUe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Kie(n,e)})}(n,e),function nUe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tUe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Kie(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Qze(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function oI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kie(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qie(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eoe(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cUe={provide:dy,useExisting:Zi(()=>rW)},ioe=(()=>Promise.resolve(null))();let rW=(()=>{class n extends dy{constructor(t,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new class extends class Xie{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Wie(this._rawValidators),this._composedAsyncValidatorFn=Yie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===L1}get invalid(){return this.status===tI}get pending(){return this.status==nx}get disabled(){return this.status===P1}get enabled(){return this.status!==P1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Wie(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Yie(e)}addValidators(e){this.setValidators(Hie(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Hie(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Bie(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Bie(e,this._rawAsyncValidators))}hasValidator(e){return QP(this._rawValidators,e)}hasAsyncValidator(e){return QP(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nx,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=P1,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=L1,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===L1||this.status===nx)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?P1:L1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nx,this._hasOwnPendingAsyncValidator=!0;const t=Die(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new go,this.statusChanges=new go}_calculateStatus(){return this._allControlsDisabled()?P1:this.errors?tI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nx)?nx:this._anyControlsHaveStatus(tI)?tI:L1}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function Z4(n){return(nI(n)?n.validators:n)||null}(t),function q4(n,e){return(nI(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=eoe(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qie(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qie(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eoe(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new go,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function tW(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===j4?t=o:function oUe(n){return Object.getPrototypeOf(n.constructor)===Kb}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function eW(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){I1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ioe.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function lm(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);ioe.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(t){return this._parent?function rI(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(ke(ju,9),ke(Ul,10),ke(cy,10),ke(dd,10),ke(Pu,8))},n.\u0275dir=Ln({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Oi([cUe]),mr,Us]}),n})(),soe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({}),n})();const iW=new An("NgModelWithFormControlWarning");let Moe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[soe]}),n})(),IUe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[Moe]}),n})(),NUe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:iW,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[Moe]}),n})();const HUe=["input"],BUe=["label"],VUe=function(n){return{enterDuration:n}},zUe=["*"],UUe=new An("mat-checkbox-default-options",{providedIn:"root",factory:Soe});function Soe(){return{color:"accent",clickAction:"check-indeterminate"}}let jUe=0;const xoe=Soe(),WUe={provide:dd,useExisting:Zi(()=>Coe),multi:!0};class YUe{}const GUe=lZ(GM(gT(YO(class{constructor(n){this._elementRef=n}}))));let $Ue=(()=>{class n extends GUe{constructor(t,r,i,o,s,a,u){super(r),this._changeDetectorRef=i,this._ngZone=o,this._animationMode=a,this._options=u,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new go,this.indeterminateChange=new go,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||xoe,this.color=this.defaultColor=this._options.color||xoe.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`${t}${++jUe}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=ba(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const r=ba(t);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const r=ba(t);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const r=t!=this._indeterminate;this._indeterminate=ba(t),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let r=this._currentCheckState,i=this._getAnimationTargetElement();if(r!==t&&i&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){var t;const r=null===(t=this._options)||void 0===t?void 0:t.clickAction;this.disabled||"noop"===r?!this.disabled&&"noop"===r&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==r&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,r){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===r)return this._animationClasses.uncheckedToChecked;if(3==r)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===r?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===r?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===r?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const r=this._inputElement;r&&(r.nativeElement.indeterminate=t)}}return n.\u0275fac=function(t){iv()},n.\u0275dir=Ln({type:n,viewQuery:function(t,r){if(1&t&&(Sl(HUe,5),Sl(BUe,5),Sl($M,5)),2&t){let i;So(i=xo())&&(r._inputElement=i.first),So(i=xo())&&(r._labelElement=i.first),So(i=xo())&&(r.ripple=i.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[mr]}),n})(),Coe=(()=>{class n extends $Ue{constructor(t,r,i,o,s,a,u){super("mat-checkbox-",t,r,o,s,a,u),this._focusMonitor=i,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(t){const r=new YUe;return r.source=this,r.checked=t,r}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(t){t.stopPropagation(),super._handleInputClick()}focus(t,r){t?this._focusMonitor.focusVia(this._inputElement,t,r):this._inputElement.nativeElement.focus(r)}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(Pu),ke(gm),ke(wi),Oh("tabindex"),ke(zf,8),ke(UUe,8))},n.\u0275cmp=Si({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(t,r){2&t&&(SM("id",r.id),Ko("tabindex",null)("aria-label",null)("aria-labelledby",null),Fi("mat-checkbox-indeterminate",r.indeterminate)("mat-checkbox-checked",r.checked)("mat-checkbox-disabled",r.disabled)("mat-checkbox-label-before","before"==r.labelPosition)("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[Oi([WUe]),mr],ngContentSelectors:zUe,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,r){if(1&t&&($n(),te(0,"label",0,1)(2,"span",2)(3,"input",3,4),at("change",function(o){return r._onInteractionEvent(o)})("click",function(o){return r._onInputClick(o)}),se(),te(5,"span",5),oe(6,"span",6),se(),oe(7,"span",7),te(8,"span",8),rs(),te(9,"svg",9),oe(10,"path",10),se(),function el(){!function Rg(){ii.lFrame.currentNamespace=null}()}(),oe(11,"span",11),se()(),te(12,"span",12,13),at("cdkObserveContent",function(){return r._onLabelTextChange()}),te(14,"span",14),Cn(15,"\xa0"),se(),Kn(16),se()()),2&t){const i=H(1),o=H(13);Ko("for",r.inputId),Er(2),Fi("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),Er(1),V("id",r.inputId)("required",r.required)("checked",r.checked)("disabled",r.disabled)("tabIndex",r.tabIndex),Ko("value",r.value)("name",r.name)("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-checked",r._getAriaChecked())("aria-describedby",r.ariaDescribedby),Er(2),V("matRippleTrigger",i)("matRippleDisabled",r._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",I9(19,VUe,"NoopAnimations"===r._animationMode?0:150))}},dependencies:[$M,c0e],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),Eoe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({}),n})(),ZUe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[GO,Co,W3,Eoe,Co,Eoe]}),n})();function qUe(n,e){if(1&n){const t=Se();te(0,"li")(1,"mat-checkbox",8),at("ngModelChange",function(i){return Zs(Za(t).$implicit.completed=i)})("ngModelChange",function(){return Za(t),Zs(Yt().updateAllComplete())})("change",function(){return Za(t),Zs(Yt().redraw())}),Cn(2),se()()}if(2&n){const t=e.$implicit;Er(1),V("ngModel",t.completed)("color",t.color),Er(1),jr(" ",t.name," ")}}function JUe(n,e){if(1&n){const t=Se();te(0,"li")(1,"mat-checkbox",8),at("ngModelChange",function(i){return Zs(Za(t).$implicit.completed=i)})("ngModelChange",function(){return Za(t),Zs(Yt().updateAllComplete2())})("change",function(){return Za(t),Zs(Yt().redraw())}),Cn(2),se()()}if(2&n){const t=e.$implicit;Er(1),V("ngModel",t.completed)("color",t.color),Er(1),jr(" ",t.name," ")}}let QUe=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.slab={name:"\u5e8a\u7248",completed:this.model.display.slab,color:"primary"},this.pavement={name:"\u8217\u88c5",completed:this.model.display.pavement,color:"primary"},this.beam={name:"\u4e3b\u6841",completed:this.model.display.beam,color:"primary"},this.crossbeam={name:"\u8377\u91cd\u5206\u914d\u6a2a\u6841",completed:this.model.display.crossbeam,color:"primary"},this.endbeam={name:"\u7aef\u6a2a\u6841",completed:this.model.display.endbeam,color:"primary"},this.mid={name:"\u4e2d\u9593\u5bfe\u50be\u69cb",completed:!0,color:"primary",subtasks:[{name:"\u5bfe\u50be\u69cb",completed:this.model.display.mid,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u659c\u6750\uff09",completed:this.model.display.gusset01,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u5f26\u6750\uff09",completed:this.model.display.gusset02,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u5f26\u6750\uff09",completed:this.model.display.gusset03,color:"accent"}]},this.allComplete=!0,this.cross={name:"\u6a2a\u69cb",completed:!0,color:"primary",subtasks:[{name:"\u4e0a\u6a2a\u69cb",completed:this.model.display.cross_u,color:"accent"},{name:"\u4e0b\u6a2a\u69cb",completed:this.model.display.cross_l,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8",completed:this.model.display.gusset04,color:"accent"}]},this.allComplete2=!0}redraw(){this.model.display.slab=this.slab.completed,this.model.display.pavement=this.pavement.completed,this.model.display.beam=this.beam.completed,this.model.display.crossbeam=this.crossbeam.completed,this.model.display.endbeam=this.endbeam.completed,null!=this.mid.subtasks&&(this.model.display.mid=this.mid.subtasks[0].completed,this.model.display.gusset01=this.mid.subtasks[1].completed,this.model.display.gusset02=this.mid.subtasks[2].completed,this.model.display.gusset03=this.mid.subtasks[3].completed),null!=this.cross.subtasks&&(this.model.display.cross_u=this.cross.subtasks[0].completed,this.model.display.cross_l=this.cross.subtasks[1].completed,this.model.display.gusset04=this.cross.subtasks[2].completed),this.girder.createGirder(this.model.palam())}updateAllComplete(){this.allComplete=null!=this.mid.subtasks&&this.mid.subtasks.every(t=>t.completed)}someComplete(){return null!=this.mid.subtasks&&this.mid.subtasks.filter(t=>t.completed).length>0&&!this.allComplete}setAll(t){this.allComplete=t,null!=this.mid.subtasks&&(this.mid.subtasks.forEach(r=>r.completed=t),this.redraw())}updateAllComplete2(){this.allComplete2=null!=this.cross.subtasks&&this.cross.subtasks.every(t=>t.completed)}someComplete2(){return null!=this.cross.subtasks&&this.cross.subtasks.filter(t=>t.completed).length>0&&!this.allComplete2}setAll2(t){this.allComplete2=t,null!=this.cross.subtasks&&(this.cross.subtasks.forEach(r=>r.completed=t),this.redraw())}}return n.\u0275fac=function(t){return new(t||n)(ke(id),ke(ef),ke(rf))},n.\u0275cmp=Si({type:n,selectors:[["app-side-right-display"]],decls:39,vars:25,consts:[["mat-dialog-title",""],[1,"example-section"],[1,"example-list-section"],[1,"example-margin",3,"ngModel","color","ngModelChange","change"],[1,"example-margin",3,"checked","color","indeterminate","change"],[4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],[3,"ngModel","color","ngModelChange","change"]],template:function(t,r){1&t&&(te(0,"h1",0),Cn(1,"\u4f5c\u6210\u3059\u308b\u30e2\u30c7\u30eb\u3092\u9078\u629e"),se(),te(2,"section",1)(3,"span",2)(4,"mat-checkbox",3),at("ngModelChange",function(o){return r.pavement.completed=o})("change",function(){return r.redraw()}),Cn(5),se()()(),te(6,"section",1)(7,"span",2)(8,"mat-checkbox",3),at("ngModelChange",function(o){return r.slab.completed=o})("change",function(){return r.redraw()}),Cn(9),se()()(),te(10,"section",1)(11,"span",2)(12,"mat-checkbox",3),at("ngModelChange",function(o){return r.beam.completed=o})("change",function(){return r.redraw()}),Cn(13),se()()(),te(14,"section",1)(15,"span",2)(16,"mat-checkbox",4),at("change",function(o){return r.setAll(o.checked)}),Cn(17),se()(),te(18,"span",2)(19,"ul"),k(20,qUe,3,3,"li",5),se()()(),te(21,"section",1)(22,"span",2)(23,"mat-checkbox",4),at("change",function(o){return r.setAll2(o.checked)}),Cn(24),se()(),te(25,"span",2)(26,"ul"),k(27,JUe,3,3,"li",5),se()()(),te(28,"section",1)(29,"span",2)(30,"mat-checkbox",3),at("ngModelChange",function(o){return r.crossbeam.completed=o})("change",function(){return r.redraw()}),Cn(31),se()()(),te(32,"section",1)(33,"span",2)(34,"mat-checkbox",3),at("ngModelChange",function(o){return r.endbeam.completed=o})("change",function(){return r.redraw()}),Cn(35),se()()(),te(36,"div",6)(37,"button",7),Cn(38,"\u9589\u3058\u308b"),se()()),2&t&&(Er(4),V("ngModel",r.pavement.completed)("color",r.pavement.color),Er(1),jr(" ",r.pavement.name," "),Er(3),V("ngModel",r.slab.completed)("color",r.slab.color),Er(1),jr(" ",r.slab.name," "),Er(3),V("ngModel",r.beam.completed)("color",r.beam.color),Er(1),jr(" ",r.beam.name," "),Er(3),V("checked",r.allComplete)("color",r.mid.color)("indeterminate",r.someComplete()),Er(1),jr(" ",r.mid.name," "),Er(3),V("ngForOf",r.mid.subtasks),Er(3),V("checked",r.allComplete2)("color",r.cross.color)("indeterminate",r.someComplete2()),Er(1),jr(" ",r.cross.name," "),Er(3),V("ngForOf",r.cross.subtasks),Er(3),V("ngModel",r.crossbeam.completed)("color",r.crossbeam.color),Er(1),jr(" ",r.crossbeam.name," "),Er(3),V("ngModel",r.endbeam.completed)("color",r.endbeam.color),Er(1),jr(" ",r.endbeam.name," "))},dependencies:[PH,Uie,rW,$h,Zf,qf,Jf,Coe]}),n})(),eje=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u5de6\u5e45\u54e1","\u53f3\u5e45\u54e1","\u5730\u8986\u5e45","\u58c1\u9ad8","\u5e8a\u7248\u4e0a\u9762\u52fe\u914d\uff08\u5de6\uff09","\u5e8a\u7248\u4e0a\u9762\u52fe\u914d\uff08\u53f3\uff09","\u5e8a\u7248\u5e95\u9762\u52fe\u914d\uff08\u5de6\uff09","\u5e8a\u7248\u5e95\u9762\u52fe\u914d\uff08\u53f3\uff09","\u5e8a\u7248\u539a","\u30cf\u30f3\u30c1\u9ad8","\u30cf\u30f3\u30c1\u52fe\u914d","\u5e8a\u7248\u7aef\u90e8\u304b\u3089\u4e3b\u6841\u307e\u3067\u306e\u96e2\u9694"],this.dataset=[{name:"b1",value:this.model.slab.b1,unit:"m"},{name:"b2",value:this.model.slab.b2,unit:"m"},{name:"b3",value:this.model.slab.b3,unit:"m"},{name:"SH",value:this.model.slab.SH,unit:"m"},{name:"i1",value:this.model.slab.i1,unit:"%"},{name:"i2",value:this.model.slab.i2,unit:"%"},{name:"j1",value:this.model.slab.i1,unit:"%"},{name:"j2",value:this.model.slab.i2,unit:"%"},{name:"T1",value:this.model.slab.T1,unit:"m"},{name:"T2",value:this.model.slab.T2,unit:"m"},{name:"n",value:this.model.slab.n,unit:"1:n"},{name:"Ss",value:this.model.slab.Ss,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,h]of o){let p=parseFloat(h);if(isNaN(p))return!1;this.model.slab[this.dataset[a].name]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(id),ke(ef),ke(rf))},n.\u0275cmp=Si({type:n,selectors:[["app-side-right-slab"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(te(0,"h1",0),Cn(1,"\u30b9\u30e9\u30d6\u306e\u7de8\u96c6"),se(),te(2,"div",1),oe(3,"hot-table",2),se(),te(4,"div",3)(5,"button",4),Cn(6,"\u9589\u3058\u308b"),se()()),2&t&&(Er(3),V("settings",r.hotSettings)("rowHeaderWidth",200)("stretchH","last"))},dependencies:[Nm,$h,Zf,qf,_m,Jf]}),n})(),tje=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u8217\u88c5\u52fe\u914d\uff08\u5de6\uff09","\u8217\u88c5\u52fe\u914d\uff08\u53f3\uff09","\u8217\u88c5\u539a"],this.dataset=[{name:"i1",value:this.model.pavement.i1,unit:"%"},{name:"i2",value:this.model.pavement.i2,unit:"%"},{name:"T",value:this.model.pavement.T,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const[a,u,c,h]of o){let p=parseFloat(h);if(isNaN(p))return!1;this.model.pavement[this.dataset[a].name]=p}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(ke(id),ke(ef),ke(rf))},n.\u0275cmp=Si({type:n,selectors:[["app-side-right-pavement"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(te(0,"h1",0),Cn(1,"\u8217\u88c5\u306e\u7de8\u96c6"),se(),te(2,"div",1),oe(3,"hot-table",2),se(),te(4,"div",3)(5,"button",4),Cn(6,"\u9589\u3058\u308b"),se()()),2&t&&(Er(3),V("settings",r.hotSettings)("rowHeaderWidth",200)("stretchH","last"))},dependencies:[Nm,$h,Zf,qf,_m,Jf]}),n})();class Doe{constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ht,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,r=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!r.has(o)).forEach(o=>this._unmarkSelected(o));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let nje=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[Co,Co]}),n})();const rje=["*"],oje=["text"];function sje(n,e){if(1&n&&oe(0,"mat-pseudo-checkbox",5),2&n){const t=Yt();V("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const aje=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],lje=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let uje=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),cje=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ln({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})();const dje=gT(class{}),hje=gT(class{}),fje={provide:dd,useExisting:Zi(()=>fW),multi:!0};class pje{constructor(e,t){this.source=e,this.options=t}}let Aoe=(()=>{class n extends hje{constructor(t,r,i){super(),this._element=t,this._changeDetector=r,this.selectionList=i,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new go,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const r=ba(t);r!==this._disabled&&(this._disabled=r,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const r=ba(t);r!==this._selected&&(this._setSelected(r),(r||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(i=>t.compareWith(this._value,i))&&this._setSelected(!0);const r=this._selected;Promise.resolve().then(()=>{(this._selected||r)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function AMe(n,e,t="mat"){n.changes.pipe(dm(n)).subscribe(({length:r})=>{vT(e,`${t}-2-line`,!1),vT(e,`${t}-3-line`,!1),vT(e,`${t}-multi-line`,!1),2===r||3===r?vT(e,`${t}-${r}-line`,!0):r>3&&vT(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,r=this.selectionList._removeOptionFromList(this);t&&r&&r.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(Pu),ke(Zi(()=>fW)))},n.\u0275cmp=Si({type:n,selectors:[["mat-list-option"]],contentQueries:function(t,r,i){if(1&t&&(ol(i,uje,5),ol(i,cje,5),ol(i,DMe,5)),2&t){let o;So(o=xo())&&(r._avatar=o.first),So(o=xo())&&(r._icon=o.first),So(o=xo())&&(r._lines=o)}},viewQuery:function(t,r){if(1&t&&Sl(oje,5),2&t){let i;So(i=xo())&&(r._text=i.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,r){1&t&&at("focus",function(){return r._handleFocus()})("blur",function(){return r._handleBlur()})("click",function(){return r._handleClick()}),2&t&&(Ko("aria-selected",r.selected)("aria-disabled",r.disabled)("tabindex",-1),Fi("mat-list-item-disabled",r.disabled)("mat-list-item-with-avatar",r._avatar||r._icon)("mat-primary","primary"===r.color)("mat-accent","primary"!==r.color&&"warn"!==r.color)("mat-warn","warn"===r.color)("mat-list-single-selected-option",r.selected&&!r.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[mr],ngContentSelectors:lje,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,r){1&t&&($n(aje),te(0,"div",0),oe(1,"div",1),k(2,sje,1,2,"mat-pseudo-checkbox",2),te(3,"div",3,4),Kn(5),se(),Kn(6,1),se()),2&t&&(Fi("mat-list-item-content-reverse","after"==r.checkboxPosition),Er(1),V("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()),Er(1),V("ngIf",r.selectionList.multiple))},dependencies:[$M,NMe,GE],encapsulation:2,changeDetection:0}),n})(),fW=(()=>{class n extends dje{constructor(t,r,i){super(),this._element=t,this._changeDetector=r,this._focusMonitor=i,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new go,this.color="accent",this.compareWith=(o,s)=>o===s,this._disabled=!1,this.selectedOptions=new Doe(this._multiple),this._tabIndex=-1,this._onChange=o=>{},this._destroyed=new Ht,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=ba(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const r=ba(t);r!==this._multiple&&(this._multiple=r,this.selectedOptions=new Doe(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new PK(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Nu(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(dm(null),Nu(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Nu(this._destroyed)).subscribe(t=>{if(t.added)for(let r of t.added)r.selected=!0;if(t.removed)for(let r of t.removed)r.selected=!1}),this._focusMonitor.monitor(this._element).pipe(Nu(this._destroyed)).subscribe(t=>{var r;if("keyboard"===t||"program"===t){let i=0;for(let o=0;o<this.options.length;o++)if(null!==(r=this.options.get(o))&&void 0!==r&&r.selected){i=o;break}this._keyManager.setActiveItem(i)}})}ngOnChanges(t){const r=t.disableRipple,i=t.color;(r&&!r.firstChange||i&&!i.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const r=this._getOptionIndex(t);return r>-1&&this._keyManager.activeItemIndex===r&&(r>0?this._keyManager.updateActiveItem(r-1):0===r&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(r+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const r=t.keyCode,i=this._keyManager,o=i.activeItemIndex,s=ib(t);switch(r){case 32:case 13:!s&&!i.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===r&&this.multiple&&ib(t,"ctrlKey")&&!i.isTyping()){const a=this.options.some(u=>!u.disabled&&!u.selected);this._setAllOptionsSelected(a,!0,!0),t.preventDefault()}else i.onKeydown(t)}this.multiple&&(38===r||40===r)&&t.shiftKey&&i.activeItemIndex!==o&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new pje(this,t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(r=>r._setSelected(!1)),t.forEach(r=>{const i=this.options.find(o=>!o.selected&&this.compareWith(o.value,r));i&&i._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let r=this.options.toArray()[t];r&&!r.disabled&&(this._multiple||!r.selected)&&(r.toggle(),this._emitChangeEvent([r]))}}_setAllOptionsSelected(t,r,i){const o=[];return this.options.forEach(s=>{(!r||!s.disabled)&&s._setSelected(t)&&o.push(s)}),o.length&&(this._reportValueChange(),i&&this._emitChangeEvent(o)),o}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(t){return new(t||n)(ke(_i),ke(Pu),ke(gm))},n.\u0275cmp=Si({type:n,selectors:[["mat-selection-list"]],contentQueries:function(t,r,i){if(1&t&&ol(i,Aoe,5),2&t){let o;So(o=xo())&&(r.options=o)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,r){1&t&&at("keydown",function(o){return r._keydown(o)}),2&t&&Ko("aria-multiselectable",r.multiple)("aria-disabled",r.disabled.toString())("tabindex",r._tabIndex)},inputs:{disableRipple:"disableRipple",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Oi([fje]),mr,Us],ngContentSelectors:rje,decls:1,vars:0,template:function(t,r){1&t&&($n(),Kn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),mje=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[uZ,GO,Co,fZ,q_,uZ,Co,fZ,nje]}),n})(),gje=(()=>{class n{constructor(t){this.dialog=t}openDialog(t){let r=null;"others"===t?r=Fze:"display"===t?r=QUe:"pavement"===t?r=tje:"slab"===t?r=eje:"beam"===t?r=kze:"mid"===t?r=Nze:"cross"===t?r=Lze:"crossbeam"===t?r=Pze:"endbeam"===t&&(r=Ize),null!=r&&this.dialog.open(r,{width:"400px",position:{right:"10px",top:"70px"},hasBackdrop:!1})}}return n.\u0275fac=function(t){return new(t||n)(ke(_T))},n.\u0275cmp=Si({type:n,selectors:[["app-side-left"]],decls:20,vars:1,consts:[[3,"multiple"],["shoes",""],[3,"click"]],template:function(t,r){1&t&&(te(0,"mat-selection-list",0,1)(2,"mat-list-option",2),at("click",function(){return r.openDialog("others")}),Cn(3,"\u5171\u901a"),se(),te(4,"mat-list-option",2),at("click",function(){return r.openDialog("display")}),Cn(5,"\u69cb\u6210"),se(),te(6,"mat-list-option",2),at("click",function(){return r.openDialog("pavement")}),Cn(7,"\u8217\u88c5"),se(),te(8,"mat-list-option",2),at("click",function(){return r.openDialog("slab")}),Cn(9,"\u5e8a\u7248"),se(),te(10,"mat-list-option",2),at("click",function(){return r.openDialog("beam")}),Cn(11,"\u4e3b\u6841"),se(),te(12,"mat-list-option",2),at("click",function(){return r.openDialog("mid")}),Cn(13,"\u4e2d\u9593\u5bfe\u50be\u69cb"),se(),te(14,"mat-list-option",2),at("click",function(){return r.openDialog("cross")}),Cn(15,"\u6a2a\u69cb"),se(),te(16,"mat-list-option",2),at("click",function(){return r.openDialog("crossbeam")}),Cn(17,"\u8377\u91cd\u5206\u914d\u6a2a\u6841"),se(),te(18,"mat-list-option",2),at("click",function(){return r.openDialog("endbeam")}),Cn(19,"\u7aef\u6a2a\u6841"),se()()),2&t&&V("multiple",!1)},dependencies:[fW,Aoe],styles:["mat-selection-list[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}mat-list-option[_ngcontent-%COMP%]{margin:10px}"]}),n})(),vje=(()=>{class n{constructor(t,r){this.changeDetectorRef=t,this.dialog=r}openChat(){this.dialog.open(oSe,{width:"350px",position:{right:"10px",bottom:"10px"},hasBackdrop:!1})}}return n.\u0275fac=function(t){return new(t||n)(ke(Pu),ke(_T))},n.\u0275cmp=Si({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"over-three"]],template:function(t,r){1&t&&oe(0,"app-menu",0)(1,"app-side-left",0)(2,"app-three")},dependencies:[zDe,XAe,gje],styles:[".over-three[_ngcontent-%COMP%]{z-index:10;position:relative}.right-buttom[_ngcontent-%COMP%]{z-index:10;position:fixed;right:50px;bottom:50px;transition:1s;opacity:.7}.right-buttom[_ngcontent-%COMP%]:hover{opacity:1}app-side-left[_ngcontent-%COMP%]{width:15%;display:block}"]}),n})();function Ooe(n){return new on(3e3,!1)}function Jje(){return"undefined"!=typeof window&&void 0!==window.document}function pW(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function hy(n){switch(n.length){case 0:return new yT;case 1:return n[0];default:return new vZ(n)}}function koe(n,e,t,r,i=new Map,o=new Map){const s=[],a=[];let u=-1,c=null;if(r.forEach(h=>{const p=h.get("offset"),g=p==u,y=g&&c||new Map;h.forEach((w,S)=>{let C=S,P=w;if("offset"!==S)switch(C=e.normalizePropertyName(C,s),P){case"!":P=i.get(S);break;case vm:P=o.get(S);break;default:P=e.normalizeStyleValue(S,C,P,s)}y.set(C,P)}),g||a.push(y),c=y,u=p}),s.length)throw function Vje(n){return new on(3502,!1)}();return a}function mW(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&gW(t,"start",n)));break;case"done":n.onDone(()=>r(t&&gW(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&gW(t,"destroy",n)))}}function gW(n,e,t){const r=t.totalTime,o=vW(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function vW(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function hd(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Loe(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let yW=(n,e)=>!1,Poe=(n,e,t)=>[],Ioe=null;function _W(n){const e=n.parentNode||n.host;return e===Ioe?null:e}(pW()||"undefined"!=typeof Element)&&(Jje()?(Ioe=(()=>document.documentElement)(),yW=(n,e)=>{for(;e;){if(e===n)return!0;e=_W(e)}return!1}):yW=(n,e)=>n.contains(e),Poe=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let qb=null,Noe=!1;const Foe=yW,Hoe=Poe;let Boe=(()=>{class n{validateStyleProperty(t){return function e4e(n){qb||(qb=function t4e(){return"undefined"!=typeof document?document.body:null}()||{},Noe=!!qb.style&&"WebkitAppearance"in qb.style);let e=!0;return qb.style&&!function Qje(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in qb.style,!e&&Noe&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in qb.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Foe(t,r)}getParentElement(t){return _W(t)}query(t,r,i){return Hoe(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],u){return new yT(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})(),bW=(()=>{class n{}return n.NOOP=new Boe,n})();const wW="ng-enter",aI="ng-leave",lI="ng-trigger",uI=".ng-trigger",zoe="ng-animating",MW=".ng-animating";function fy(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SW(parseFloat(e[1]),e[2])}function SW(n,e){return"s"===e?1e3*n:n}function cI(n,e,t){return n.hasOwnProperty("duration")?n:function i4e(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Ooe()),{duration:0,delay:0,easing:""};i=SW(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(o=SW(parseFloat(u),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function yje(){return new on(3100,!1)}()),a=!0),o<0&&(e.push(function _je(){return new on(3101,!1)}()),a=!0),a&&e.splice(u,0,Ooe())}return{duration:i,delay:o,easing:s}}(n,e,t)}function H1(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Uoe(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function py(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Woe(n,e,t){return t?e+":"+t+";":""}function Yoe(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Woe(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Woe(0,l4e(t),n.style[t]));n.setAttribute("style",e)}function up(n,e,t){n.style&&(e.forEach((r,i)=>{const o=CW(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),pW()&&Yoe(n))}function Jb(n,e){n.style&&(e.forEach((t,r)=>{const i=CW(r);n.style[i]=""}),pW()&&Yoe(n))}function B1(n){return Array.isArray(n)?1==n.length?n[0]:mZ(n):n}const xW=new RegExp("{{\\s*(.+?)\\s*}}","g");function Goe(n){let e=[];if("string"==typeof n){let t;for(;t=xW.exec(n);)e.push(t[1]);xW.lastIndex=0}return e}function dI(n,e,t){const r=n.toString(),i=r.replace(xW,(o,s)=>{let a=e[s];return null==a&&(t.push(function wje(n){return new on(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function hI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const a4e=/-+([a-z0-9])/g;function CW(n){return n.replace(a4e,(...e)=>e[1].toUpperCase())}function l4e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fd(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Mje(n){return new on(3004,!1)}()}}function $oe(n,e){return window.getComputedStyle(n)[e]}function p4e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function m4e(n,e,t){if(":"==n[0]){const u=function g4e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Nje(n){return new on(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ije(n){return new on(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(Xoe(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(Xoe(s,i))}(r,t,e)):t.push(n),t}const gI=new Set(["true","1"]),vI=new Set(["false","0"]);function Xoe(n,e){const t=gI.has(n)||vI.has(n),r=gI.has(e)||vI.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?gI.has(n):vI.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?gI.has(e):vI.has(e)),s&&a}}const v4e=new RegExp("s*:selfs*,?","g");function EW(n,e,t,r){return new y4e(n).build(e,t,r)}class y4e{constructor(e){this._driver=e}build(e,t,r){const i=new w4e(t);return this._resetContextStyleTimingState(i),fd(this,B1(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function xje(){return new on(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(h=>{u.name=h,o.push(this.visitState(u,t))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,s.push(u)}else t.errors.push(function Cje(){return new on(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{Goe(u).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(hI(o.values()),t.errors.push(function Eje(n,e){return new on(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=fd(this,B1(e.animation),t);return{type:1,matchers:p4e(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Qb(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>fd(this,r,t)),options:Qb(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=fd(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:Qb(e.options)}}visitAnimate(e,t){const r=function S4e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return TW(cI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=TW(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=cI(t,e);return TW(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:zl({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=zl(c)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(s,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===vm?r.push(a):t.errors.push(new on(3002,!1)):r.push(Uoe(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let u of a.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,u)=>{const c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(u);let p=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(t.errors.push(function Rje(n,e,t,r,i){return new on(3010,!1)}()),p=!1),o=h.startTime),p&&c.set(u,{startTime:o,endTime:i}),t.options&&function s4e(n,e,t){const r=e.params||{},i=Goe(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function bje(n){return new on(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Dje(){return new on(3011,!1)}()),r;let o=0;const s=[];let a=!1,u=!1,c=0;const h=e.steps.map(P=>{const B=this._makeStyleAst(P,t);let z=null!=B.offset?B.offset:function M4e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(B.styles),j=0;return null!=z&&(o++,j=B.offset=z),u=u||j<0||j>1,a=a||j<c,c=j,s.push(j),B});u&&t.errors.push(function Aje(){return new on(3012,!1)}()),a&&t.errors.push(function Oje(){return new on(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function kje(){return new on(3202,!1)}()):0==o&&(g=1/(p-1));const y=p-1,w=t.currentTime,S=t.currentAnimateTimings,C=S.duration;return h.forEach((P,B)=>{const z=g>0?B==y?1:g*B:s[B],j=z*C;t.currentTime=w+S.delay+j,S.duration=j,this._validateStyleAst(P,t),P.offset=z,r.styles.push(P)}),r}visitReference(e,t){return{type:8,animation:fd(this,B1(e.animation),t),options:Qb(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Qb(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Qb(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function _4e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(v4e,"")),n=n.replace(/@\*/g,uI).replace(/@\w+/g,t=>uI+"-"+t.slice(1)).replace(/:animating/g,MW),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,hd(t.collectedStyles,t.currentQuerySelector,new Map);const a=fd(this,B1(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Qb(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Lje(){return new on(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:cI(e.timings,t.errors,!0);return{type:12,animation:fd(this,B1(e.animation),t),timings:r,options:null}}}class w4e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qb(n){return n?(n=H1(n)).params&&(n.params=function b4e(n){return n?H1(n):null}(n.params)):n={},n}function TW(n,e,t){return{duration:n,delay:e,easing:t}}function RW(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class yI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const E4e=new RegExp(":enter","g"),R4e=new RegExp(":leave","g");function DW(n,e,t,r,i,o=new Map,s=new Map,a,u,c=[]){return(new D4e).buildKeyframes(n,e,t,r,i,o,s,a,u,c)}class D4e{buildKeyframes(e,t,r,i,o,s,a,u,c,h=[]){c=c||new yI;const p=new AW(e,t,c,i,o,h,[]);p.options=u;const g=u.delay?fy(u.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,u),fd(this,r,p);const y=p.timelines.filter(w=>w.containsAnimation());if(y.length&&a.size){let w;for(let S=y.length-1;S>=0;S--){const C=y[S];if(C.element===t){w=C;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,p.errors,u)}return y.length?y.map(w=>w.buildKeyframes()):[RW(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?fy(r.duration):null,a=null!=r.delay?fy(r.delay):null;return 0!==s&&e.forEach(u=>{const c=t.appendInstructionToTimeline(u,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),fd(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_I);const s=fy(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>fd(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?fy(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),fd(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return cI(t.params?dI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*o),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?fy(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_I);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((c,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,c);o&&p.delayNextStep(o),c===t.element&&(u=p.currentTimeline),fd(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let u=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const h=t.currentTimeline;u&&h.delayNextStep(u);const p=h.currentTime;fd(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}}const _I={};class AW{constructor(e,t,r,i,o,s,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_I,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new bI(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=fy(r.duration)),null!=r.delay&&(i.delay=fy(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=dI(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new AW(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=_I,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},o=new A4e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(E4e,"."+this._enterClassName)).replace(R4e,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function Pje(n){return new on(3014,!1)}()),a}}class bI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new bI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||vm),this._currentKeyframe.set(t,vm);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){var o;t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},a=function O4e(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,vm)}else py(i,t)}),t}(e,this._globalTimelineStyles);for(let[u,c]of a){const h=dI(c,s,r);this._pendingStyles.set(u,h),this._localTimelineStyles.has(u)||this._backFill.set(u,null!==(o=this._globalTimelineStyles.get(u))&&void 0!==o?o:vm),this._updateStyle(u,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=py(a,new Map,this._backFill);c.forEach((h,p)=>{"!"===h?e.add(p):h===vm&&t.add(p)}),r||c.set("offset",u/this.duration),i.push(c)});const o=e.size?hI(e.values()):[],s=t.size?hI(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return RW(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class A4e extends bI{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,u=py(e[0]);u.set("offset",0),o.push(u);const c=py(e[0]);c.set("offset",qoe(a)),o.push(c);const h=e.length-1;for(let p=1;p<=h;p++){let g=py(e[p]);const y=g.get("offset");g.set("offset",qoe((t+y*r)/s)),o.push(g)}r=s,t=0,i="",e=o}return RW(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function qoe(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class OW{}const k4e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class L4e extends OW{normalizePropertyName(e,t){return CW(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(k4e.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Sje(n,e){return new on(3005,!1)}())}return s+o}}function Joe(n,e,t,r,i,o,s,a,u,c,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:h,totalTime:p,errors:g}}const kW={};class Qoe{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function P4e(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(null==e?void 0:e.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,u,c,h){var p;const g=[],y=this.ast.options&&this.ast.options.params||kW,S=this.buildStyles(r,a&&a.params||kW,g),C=u&&u.params||kW,P=this.buildStyles(i,C,g),B=new Set,z=new Map,j=new Map,X="void"===i,ie={params:I4e(C,y),delay:null===(p=this.ast.options)||void 0===p?void 0:p.delay},me=h?[]:DW(e,t,this.ast.animation,o,s,S,P,ie,c,g);let re=0;if(me.forEach(we=>{re=Math.max(we.duration+we.delay,re)}),g.length)return Joe(t,this._triggerName,r,i,X,S,P,[],[],z,j,re,g);me.forEach(we=>{const Le=we.element,ot=hd(z,Le,new Set);we.preStyleProps.forEach(je=>ot.add(je));const lt=hd(j,Le,new Set);we.postStyleProps.forEach(je=>lt.add(je)),Le!==t&&B.add(Le)});const pe=hI(B.values());return Joe(t,this._triggerName,r,i,X,S,P,me,pe,z,j,re)}}function I4e(n,e){const t=H1(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class N4e{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=H1(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=dI(s,i,t));const u=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,u,s,t),r.set(u,s)})}),r}}class H4e{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new N4e(i.style,i.options&&i.options.params||{},r))}),ese(this.states,"true","1"),ese(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Qoe(e,i,this.states))}),this.fallbackTransition=function B4e(n,e,t){return new Qoe(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function ese(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const V4e=new yI;class z4e{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=EW(this._driver,t,r,[]);if(r.length)throw function zje(n){return new on(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=koe(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=DW(this._driver,t,o,wW,aI,new Map,new Map,r,V4e,i),s.forEach(h=>{const p=hd(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(i.push(function Uje(){return new on(3300,!1)}()),s=[]),i.length)throw function jje(n){return new on(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,y)=>{h.set(y,this._driver.computeStyle(p,y,vm))})});const c=hy(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Wje(n){return new on(3301,!1)}();return t}listen(e,t,r,i){const o=vW(t,"","","");return mW(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const tse="ng-animate-queued",LW="ng-animate-disabled",G4e=[],nse={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$4e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ih="__ng_removed";class PW{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function q4e(n){return null!=n?n:null}(r?e.value:e),r){const o=H1(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const V1="void",IW=new PW(V1);class X4e{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,oh(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Yje(n,e){return new on(3302,!1)}();if(null==r||0==r.length)throw function Gje(n){return new on(3303,!1)}();if(!function J4e(n){return"start"==n||"done"==n}(r))throw function $je(n,e){return new on(3400,!1)}();const o=hd(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=hd(this._engine.statesByElement,e,new Map);return a.has(t)||(oh(e,lI),oh(e,lI+"-"+t),a.set(t,IW)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(s);u>=0&&o.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Xje(n){return new on(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new NW(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(oh(e,lI),oh(e,lI+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const c=new PW(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(t,c),u||(u=IW),c.value!==V1&&u.value===c.value){if(!function tWe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(u.params,c.params)){const S=[],C=o.matchStyles(u.value,u.params,S),P=o.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{Jb(e,C),up(e,P)})}return}const g=hd(this._engine.playersByElement,e,[]);g.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let y=o.matchTransition(u.value,c.value,e,c.params),w=!1;if(!y){if(!i)return;y=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:u,toState:c,player:s,isFallbackTransition:w}),w||(oh(e,tse),s.onStart(()=>{rx(e,tse)})),s.onDone(()=>{let S=this.players.indexOf(s);S>=0&&this.players.splice(S,1);const C=this._engine.playersByElement.get(e);if(C){let P=C.indexOf(s);P>=0&&C.splice(P,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,uI,!0);r.forEach(i=>{if(i[ih])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((u,c)=>{if(s.set(c,u.value),this._triggers.has(c)){const h=this.trigger(e,c,V1,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&hy(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const u=this._triggers.get(s).fallbackTransition,c=r.get(s)||IW,h=new PW(V1),p=new NW(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:u,fromState:c,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[ih];(!o||o===nse)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){oh(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const u=vW(o,r.triggerName,r.fromState.value,r.toState.value);u._data=e,mW(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class K4e{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new X4e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(wI(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!wI(t))return;const o=t[ih];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),oh(e,LW)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),rx(e,LW))}removeNode(e,t,r,i){if(wI(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[ih]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return wI(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,uI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,MW,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return hy(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ih];if(r&&r.setForRemoval){if(e[ih]=nse,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}!(null===(t=e.classList)||void 0===t)&&t.contains(LW)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)oh(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?hy(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Kje(n){return new on(3402,!1)}()}_flushAnimations(e,t){const r=new yI,i=[],o=new Map,s=[],a=new Map,u=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(ye=>{h.add(ye);const Ae=this.driver.query(ye,".ng-animate-queued",!0);for(let Ye=0;Ye<Ae.length;Ye++)h.add(Ae[Ye])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=ose(g,this.collectedEnterElements),w=new Map;let S=0;y.forEach((ye,Ae)=>{const Ye=wW+S++;w.set(Ae,Ye),ye.forEach(Je=>oh(Je,Ye))});const C=[],P=new Set,B=new Set;for(let ye=0;ye<this.collectedLeaveElements.length;ye++){const Ae=this.collectedLeaveElements[ye],Ye=Ae[ih];Ye&&Ye.setForRemoval&&(C.push(Ae),P.add(Ae),Ye.hasAnimation?this.driver.query(Ae,".ng-star-inserted",!0).forEach(Je=>P.add(Je)):B.add(Ae))}const z=new Map,j=ose(g,Array.from(P));j.forEach((ye,Ae)=>{const Ye=aI+S++;z.set(Ae,Ye),ye.forEach(Je=>oh(Je,Ye))}),e.push(()=>{y.forEach((ye,Ae)=>{const Ye=w.get(Ae);ye.forEach(Je=>rx(Je,Ye))}),j.forEach((ye,Ae)=>{const Ye=z.get(Ae);ye.forEach(Je=>rx(Je,Ye))}),C.forEach(ye=>{this.processLeaveNode(ye)})});const X=[],ie=[];for(let ye=this._namespaceList.length-1;ye>=0;ye--)this._namespaceList[ye].drainQueuedTransitions(t).forEach(Ye=>{const Je=Ye.player,wt=Ye.element;if(X.push(Je),this.collectedEnterElements.length){const vt=wt[ih];if(vt&&vt.setForMove){if(vt.previousTriggersValues&&vt.previousTriggersValues.has(Ye.triggerName)){const Lt=vt.previousTriggersValues.get(Ye.triggerName),Ot=this.statesByElement.get(Ye.element);if(Ot&&Ot.has(Ye.triggerName)){const ut=Ot.get(Ye.triggerName);ut.value=Lt,Ot.set(Ye.triggerName,ut)}}return void Je.destroy()}}const Z=!p||!this.driver.containsElement(p,wt),Q=z.get(wt),fe=w.get(wt),Me=this._buildInstruction(Ye,r,fe,Q,Z);if(Me.errors&&Me.errors.length)return void ie.push(Me);if(Z)return Je.onStart(()=>Jb(wt,Me.fromStyles)),Je.onDestroy(()=>up(wt,Me.toStyles)),void i.push(Je);if(Ye.isFallbackTransition)return Je.onStart(()=>Jb(wt,Me.fromStyles)),Je.onDestroy(()=>up(wt,Me.toStyles)),void i.push(Je);const Te=[];Me.timelines.forEach(vt=>{vt.stretchStartingKeyframe=!0,this.disabledNodes.has(vt.element)||Te.push(vt)}),Me.timelines=Te,r.append(wt,Me.timelines),s.push({instruction:Me,player:Je,element:wt}),Me.queriedElements.forEach(vt=>hd(a,vt,[]).push(Je)),Me.preStyleProps.forEach((vt,Lt)=>{if(vt.size){let Ot=u.get(Lt);Ot||u.set(Lt,Ot=new Set),vt.forEach((ut,kt)=>Ot.add(kt))}}),Me.postStyleProps.forEach((vt,Lt)=>{let Ot=c.get(Lt);Ot||c.set(Lt,Ot=new Set),vt.forEach((ut,kt)=>Ot.add(kt))})});if(ie.length){const ye=[];ie.forEach(Ae=>{ye.push(function Zje(n,e){return new on(3505,!1)}())}),X.forEach(Ae=>Ae.destroy()),this.reportError(ye)}const me=new Map,re=new Map;s.forEach(ye=>{const Ae=ye.element;r.has(Ae)&&(re.set(Ae,Ae),this._beforeAnimationBuild(ye.player.namespaceId,ye.instruction,me))}),i.forEach(ye=>{const Ae=ye.element;this._getPreviousPlayers(Ae,!1,ye.namespaceId,ye.triggerName,null).forEach(Je=>{hd(me,Ae,[]).push(Je),Je.destroy()})});const pe=C.filter(ye=>ase(ye,u,c)),we=new Map;ise(we,this.driver,B,c,vm).forEach(ye=>{ase(ye,u,c)&&pe.push(ye)});const ot=new Map;y.forEach((ye,Ae)=>{ise(ot,this.driver,new Set(ye),u,"!")}),pe.forEach(ye=>{var Ae,Ye;const Je=we.get(ye),wt=ot.get(ye);we.set(ye,new Map([...Array.from(null!==(Ae=null==Je?void 0:Je.entries())&&void 0!==Ae?Ae:[]),...Array.from(null!==(Ye=null==wt?void 0:wt.entries())&&void 0!==Ye?Ye:[])]))});const lt=[],je=[],bt={};s.forEach(ye=>{const{element:Ae,player:Ye,instruction:Je}=ye;if(r.has(Ae)){if(h.has(Ae))return Ye.onDestroy(()=>up(Ae,Je.toStyles)),Ye.disabled=!0,Ye.overrideTotalTime(Je.totalTime),void i.push(Ye);let wt=bt;if(re.size>1){let Q=Ae;const fe=[];for(;Q=Q.parentNode;){const Me=re.get(Q);if(Me){wt=Me;break}fe.push(Q)}fe.forEach(Me=>re.set(Me,wt))}const Z=this._buildAnimation(Ye.namespaceId,Je,me,o,ot,we);if(Ye.setRealPlayer(Z),wt===bt)lt.push(Ye);else{const Q=this.playersByElement.get(wt);Q&&Q.length&&(Ye.parentPlayer=hy(Q)),i.push(Ye)}}else Jb(Ae,Je.fromStyles),Ye.onDestroy(()=>up(Ae,Je.toStyles)),je.push(Ye),h.has(Ae)&&i.push(Ye)}),je.forEach(ye=>{const Ae=o.get(ye.element);if(Ae&&Ae.length){const Ye=hy(Ae);ye.setRealPlayer(Ye)}}),i.forEach(ye=>{ye.parentPlayer?ye.syncPlayerEvents(ye.parentPlayer):ye.destroy()});for(let ye=0;ye<C.length;ye++){const Ae=C[ye],Ye=Ae[ih];if(rx(Ae,aI),Ye&&Ye.hasAnimation)continue;let Je=[];if(a.size){let Z=a.get(Ae);Z&&Z.length&&Je.push(...Z);let Q=this.driver.query(Ae,MW,!0);for(let fe=0;fe<Q.length;fe++){let Me=a.get(Q[fe]);Me&&Me.length&&Je.push(...Me)}}const wt=Je.filter(Z=>!Z.destroyed);wt.length?Q4e(this,Ae,wt):this.processLeaveNode(Ae)}return C.length=0,lt.forEach(ye=>{this.players.push(ye),ye.onDone(()=>{ye.destroy();const Ae=this.players.indexOf(ye);this.players.splice(Ae,1)}),ye.play()}),lt}elementContainsData(e,t){let r=!1;const i=t[ih];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const u=!o||o==V1;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const c=u.element,h=c!==o,p=hd(r,c,[]);this._getPreviousPlayers(c,h,s,a,t.toState).forEach(y=>{const w=y.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),y.destroy(),p.push(y)})}Jb(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,u=t.element,c=[],h=new Set,p=new Set,g=t.timelines.map(w=>{const S=w.element;h.add(S);const C=S[ih];if(C&&C.removedBeforeQueried)return new yT(w.duration,w.delay);const P=S!==u,B=function eWe(n){const e=[];return sse(n,e),e}((r.get(S)||G4e).map(me=>me.getRealPlayer())).filter(me=>!!me.element&&me.element===S),z=o.get(S),j=s.get(S),X=koe(0,this._normalizer,0,w.keyframes,z,j),ie=this._buildPlayer(w,X,B);if(w.subTimeline&&i&&p.add(S),P){const me=new NW(e,a,S);me.setRealPlayer(ie),c.push(me)}return ie});c.forEach(w=>{hd(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function Z4e(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>oh(w,zoe));const y=hy(g);return y.onDestroy(()=>{h.forEach(w=>rx(w,zoe)),up(u,t.toStyles)}),p.forEach(w=>{hd(i,w,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new yT(e.duration,e.delay)}}class NW{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new yT,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>mW(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){hd(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function wI(n){return n&&1===n.nodeType}function rse(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function ise(n,e,t,r,i){const o=[];t.forEach(u=>o.push(rse(u)));const s=[];r.forEach((u,c)=>{const h=new Map;u.forEach(p=>{const g=e.computeStyle(c,p,i);h.set(p,g),(!g||0==g.length)&&(c[ih]=$4e,s.push(c))}),n.set(c,h)});let a=0;return t.forEach(u=>rse(u,o[a++])),s}function ose(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let u=o.get(a);if(u)return u;const c=a.parentNode;return u=t.has(c)?c:i.has(c)?1:s(c),o.set(a,u),u}return e.forEach(a=>{const u=s(a);1!==u&&t.get(u).push(a)}),t}function oh(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function rx(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Q4e(n,e,t){hy(t).onDone(()=>n.processLeaveNode(e))}function sse(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof vZ?sse(r.players,e):e.push(r)}}function ase(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class MI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new K4e(e,t,r),this._timelineEngine=new z4e(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const u=[],h=EW(this._driver,o,u,[]);if(u.length)throw function Bje(n,e){return new on(3404,!1)}();a=function F4e(n,e,t){return new H4e(n,e,t)}(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=Loe(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=Loe(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let rWe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&up(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(up(this._element,this._initialStyles),this._endStyles&&(up(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Jb(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jb(this._element,this._endStyles),this._endStyles=null),up(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function FW(n){let e=null;return n.forEach((t,r)=>{(function iWe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class lse{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:$oe(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class oWe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Foe(e,t)}getParentElement(e){return _W(e)}query(e,t,r){return Hoe(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,s=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(u.easing=o);const c=new Map,h=s.filter(y=>y instanceof lse);(function u4e(n,e){return 0===n||0===e})(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((w,S)=>c.set(S,w))});let p=function o4e(n){return n.length?n[0]instanceof Map?n:n.map(e=>Uoe(e)):[]}(t).map(y=>py(y));p=function c4e(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,$oe(n,a)))}}return e}(e,p,c);const g=function nWe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=FW(e[0]),e.length>1&&(r=FW(e[e.length-1]))):e instanceof Map&&(t=FW(e)),t||r?new rWe(n,t,r):null}(e,p);return new lse(e,p,u,g)}}let sWe=(()=>{class n extends pZ{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:_u.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?mZ(t):t;return use(this._renderer,null,r,"register",[i]),new aWe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(gt(hc),gt(ki))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();class aWe extends class FMe{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new lWe(this._id,e,t||{},this._renderer)}}class lWe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return use(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function use(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const cse="@.disabled";let uWe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let h=this._rendererCache.get(o);return h||(h=new dse("",o,this.engine),this._rendererCache.set(o,h)),h}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=h=>{Array.isArray(h)?h.forEach(u):this.engine.registerTrigger(s,a,t,h.name,h)};return r.data.animation.forEach(u),new cWe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(gt(hc),gt(MI),gt(wi))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})();class dse{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==cse?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class cWe extends dse{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==cse?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function dWe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function hWe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}const hse=[{provide:pZ,useClass:sWe},{provide:OW,useFactory:function pWe(){return new L4e}},{provide:MI,useClass:(()=>{class n extends MI{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(gt(ki),gt(bW),gt(OW),gt(OM))},n.\u0275prov=fn({token:n,factory:n.\u0275fac}),n})()},{provide:hc,useFactory:function mWe(n,e,t){return new uWe(n,e,t)},deps:[QA,MI,wi]}],HW=[{provide:bW,useFactory:()=>new oWe},{provide:zf,useValue:"BrowserAnimations"},...hse],fse=[{provide:bW,useClass:Boe},{provide:zf,useValue:"NoopAnimations"},...hse];let gWe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?fse:HW}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({providers:HW,imports:[A$]}),n})();function BW(n){return(BW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function vWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function cf(){return cf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=_We(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},cf.apply(this,arguments)}function _We(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=pd(n)););return n}function VW(n,e){return(VW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function MWe(n,e){if(e&&("object"===BW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function SWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function pd(n){return(pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var mse="handsontableEditor",zW=function(n){!function bWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&VW(n,e)}(t,n);var e=function wWe(n){var e=function xWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=pd(n);if(e){var o=pd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return MWe(this,i)}}(t);function t(){return vWe(this,t),e.apply(this,arguments)}return function yWe(n,e,t){e&&pse(n.prototype,e),t&&pse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"open",value:function(){cf(pd(t.prototype),"open",this).call(this),this.htEditor&&this.htEditor.destroy(),"none"===this.htContainer.style.display&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),HL(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}},{key:"close",value:function(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),cf(pd(t.prototype),"close",this).call(this)}},{key:"prepare",value:function(i,o,s,a,u,c){cf(pd(t.prototype),"prepare",this).call(this,i,o,s,a,u,c);var h=this,p={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,afterOnCellMouseDown:function(y,w){var S=this.getSourceData(w.row,w.col);void 0!==S&&h.setValue(S),h.instance.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&ta(p,c.handsontable),this.htOptions=p}},{key:"beginEditing",value:function(i,o){var s=this.hot.getSettings().onBeginEditing;s&&!1===s()||cf(pd(t.prototype),"beginEditing",this).call(this,i,o)}},{key:"createElements",value:function(){cf(pd(t.prototype),"createElements",this).call(this);var i=this.hot.rootDocument.createElement("DIV");i.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(i),this.htContainer=i,this.assignHooks()}},{key:"finishEditing",value:function(i,o,s){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){var a=this.htEditor.getInstance().getValue();void 0!==a&&this.setValue(a)}cf(pd(t.prototype),"finishEditing",this).call(this,i,o,s)}},{key:"assignHooks",value:function(){var i=this;this.hot.addHook("afterDestroy",function(){i.htEditor&&i.htEditor.destroy()})}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor");cf(pd(t.prototype),"registerShortcuts",this).call(this);var u=function(h,p){var g=i.htEditor.getInstance();if(void 0!==h&&(h<0||g.flipped&&h>g.countRows()-1?g.deselectCell():g.selectCell(h,0),g.getData().length))return p.preventDefault(),rp(p),i.hot.listen(),i.TEXTAREA.focus(),!1};s.addShortcuts([{keys:[["ArrowUp"]],callback:function(h){var g,y,p=i.htEditor.getInstance();return!p.getSelectedLast()&&p.flipped?g=p.countRows()-1:p.getSelectedLast()&&(p.flipped?(y=p.getSelectedLast()[0],g=Math.max(0,y-1)):g=(y=p.getSelectedLast()[0])-1),u(g,h)},preventDefault:!1},{keys:[["ArrowDown"]],callback:function(h){var g,y,p=i.htEditor.getInstance();if(p.getSelectedLast()||p.flipped){if(p.getSelectedLast())if(p.flipped)g=p.getSelectedLast()[0]+1;else if(!p.flipped){var w=p.countRows()-1;y=p.getSelectedLast()[0],g=Math.min(w,y+1)}}else g=0;return u(g,h)},preventDefault:!1}],{group:mse,relativeToGroup:jL,position:"before"})}},{key:"unregisterShortcuts",value:function(){cf(pd(t.prototype),"unregisterShortcuts",this).call(this),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(mse)}}],[{key:"EDITOR_TYPE",get:function(){return"handsontable"}}]),t}(Xb);function UW(n){return(UW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function gse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ew(){return ew="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=RWe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ew.apply(this,arguments)}function RWe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Fm(n)););return n}function jW(n,e){return(jW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function OWe(n,e){if(e&&("object"===UW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return WW(n)}function WW(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Fm(n){return(Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var YW=new WeakMap,GW=function(n){!function DWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&jW(n,e)}(t,n);var e=function AWe(n){var e=function kWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Fm(n);if(e){var o=Fm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return OWe(this,i)}}(t);function t(r){var i;return function EWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function LWe(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(WW(i=e.call(this,r)),"sortByRelevance",function(o,s,a){var y,w,S,u=[],c=[],h=o.length,p=s.length;if(0===h){for(w=0;w<p;w++)c.push(w);return c}for(w=0;w<p;w++){if(y=QQ(Sa(s[w])),a)S=y.indexOf(o);else{var C=this.cellProperties.locale;S=y.toLocaleLowerCase(C).indexOf(o.toLocaleLowerCase(C))}-1!==S&&u.push({baseIndex:w,index:S,charsLeft:y.length-S-h,value:y})}for(u.sort(function(P,B){if(-1===B.index)return-1;if(-1===P.index)return 1;if(P.index<B.index)return-1;if(B.index<P.index)return 1;if(P.index===B.index){if(P.charsLeft<B.charsLeft)return-1;if(P.charsLeft>B.charsLeft)return 1}return 0}),w=0,p=u.length;w<p;w++)c.push(u[w].baseIndex);return c}),i.query=null,i.strippedChoices=[],i.rawChoices=[],YW.set(WW(i),{skipOne:!1,isMacOS:i.hot.rootWindow.navigator.platform.indexOf("Mac")>-1}),i}return function TWe(n,e,t){e&&gse(n.prototype,e),t&&gse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValue",value:function(){var i=this,o=this.rawChoices.find(function(s){return i.stripValueIfNeeded(s)===i.TEXTAREA.value});return fr(o)?o:this.TEXTAREA.value}},{key:"createElements",value:function(){ew(Fm(t.prototype),"createElements",this).call(this),Rn(this.htContainer,"autocompleteEditor"),Rn(this.htContainer,-1===this.hot.rootWindow.navigator.platform.indexOf("Mac")?"":"htMacScroll")}},{key:"open",value:function(){var i=this,o=YW.get(this);ew(Fm(t.prototype),"open",this).call(this);var s=this.htEditor.getInstance(),a=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown;this.showEditableElement(),this.focus();var u=El();0===u&&o.isMacOS&&(u+=15),this.addHook("beforeKeyDown",function(c){return i.onBeforeKeyDown(c)}),s.updateSettings({colWidths:a?[cs(this.TEXTAREA)-2]:void 0,width:a?cs(this.TEXTAREA)+u:void 0,renderer:function(h,p,g,y,w,S,C){ly(h,p,g,y,w,S,C);var me,re,P=i.cellProperties,B=P.filteringCaseSensitive,z=P.allowHtml,j=P.locale,X=i.query,ie=Sa(S);ie&&!z&&-1!==(me=!0===B?ie.indexOf(X):ie.toLocaleLowerCase(j).indexOf(X.toLocaleLowerCase(j)))&&(re=ie.substr(me,X.length),ie=ie.replace(re,"<strong>".concat(re,"</strong>"))),p.innerHTML=ie},autoColumnSize:!0}),o.skipOne&&(o.skipOne=!1),this.hot._registerTimeout(function(){i.queryChoices(i.TEXTAREA.value)})}},{key:"close",value:function(){this.removeHooksByKey("beforeKeyDown"),ew(Fm(t.prototype),"close",this).call(this)}},{key:"discardEditor",value:function(i){ew(Fm(t.prototype),"discardEditor",this).call(this,i),this.hot.view.render()}},{key:"queryChoices",value:function(i){var o=this,s=this.cellProperties.source;this.query=i,"function"==typeof s?s.call(this.cellProperties,i,function(a){o.rawChoices=a,o.updateChoicesList(o.stripValuesIfNeeded(a))}):Array.isArray(s)?(this.rawChoices=s,this.updateChoicesList(this.stripValuesIfNeeded(s))):this.updateChoicesList([])}},{key:"updateChoicesList",value:function(i){var o=ree(this.TEXTAREA),s=function SOe(n){var e=n.ownerDocument;if(n.selectionEnd)return n.selectionEnd;if(e.selection){var t=e.selection.createRange();return null===t?0:n.createTextRange().text.indexOf(t.text)+t.text.length}return 0}(this.TEXTAREA),a=this.cellProperties.sortByRelevance,u=this.cellProperties.filter,c=null,h=null,p=i;a&&(c=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),p,this.cellProperties.filteringCaseSensitive));var g=Array.isArray(c)?c.length:0;if(!1===u)g&&(h=c[0]);else{for(var y=[],w=0,S=p.length;w<S&&!(a&&g<=w);w++)y.push(g?p[c[w]]:p[w]);h=0,p=y}this.strippedChoices=p,this.htEditor.loadData(AL([p])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(h),this.hot.listen(),HL(this.TEXTAREA,o,o===s?void 0:s)}},{key:"flipDropdownIfNeeded",value:function(){var i=o1(this.hot.view._wt.wtTable.TABLE),o=i===this.hot.rootWindow,s=this.cellProperties.preventOverflow;if(o||!o&&(s||"horizontal"===s))return!1;var a=ja(this.TEXTAREA),u=na(this.TEXTAREA),c=this.getDropdownHeight(),h=i.scrollTop,p=na(this.hot.view._wt.wtTable.THEAD),g=ja(i),y=a.top-g.top-p+h,w=i.scrollHeight-y-p-u,S=c>w&&y>w;return S?this.flipDropdown(c):this.unflipDropdown(),this.limitDropdownIfNeeded(S?y:w,c),S}},{key:"limitDropdownIfNeeded",value:function(i,o){if(o>i){var c,s=0,a=0,u=0;do{s+=u=this.htEditor.getRowHeight(a)||this.htEditor.view._wt.getSetting("defaultRowHeight"),a+=1}while(s<i);c=s-u,this.htEditor.flipped&&(this.htEditor.rootElement.style.top="".concat(parseInt(this.htEditor.rootElement.style.top,10)+o-c,"px")),this.setDropdownHeight(s-u)}}},{key:"flipDropdown",value:function(i){var o=this.htEditor.rootElement.style;o.position="absolute",o.top="".concat(-i,"px"),this.htEditor.flipped=!0}},{key:"unflipDropdown",value:function(){var i=this.htEditor.rootElement.style;i.position="absolute",i.top="",this.htEditor.flipped=void 0}},{key:"updateDropdownHeight",value:function(){var i=this.htEditor.getColWidth(0)+El(this.hot.rootDocument)+2,o=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:o?void 0:i}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}},{key:"setDropdownHeight",value:function(i){this.htEditor.updateSettings({height:i})}},{key:"highlightBestMatchingChoice",value:function(i){"number"==typeof i?this.htEditor.selectCell(i,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}},{key:"getDropdownHeight",value:function(){var i=this.htEditor.getInstance().getRowHeight(0)||23,o=this.cellProperties.visibleRows;return this.strippedChoices.length>=o?o*i:this.strippedChoices.length*i+8}},{key:"stripValueIfNeeded",value:function(i){return this.stripValuesIfNeeded([i])[0]}},{key:"stripValuesIfNeeded",value:function(i){var o=this.cellProperties.allowHtml,s=Ji(i,function(u){return Sa(u)});return Ji(s,function(u){return o?u:QQ(u)})}},{key:"allowKeyEventPropagation",value:function(i){var o=this.htEditor.getSelectedRangeLast(),s_row=o?o.from.row:-1,a=!1;return i===Or.ARROW_DOWN&&s_row>0&&s_row<this.htEditor.countRows()-1&&(a=!0),i===Or.ARROW_UP&&s_row>-1&&(a=!0),a}},{key:"onBeforeKeyDown",value:function(i){var o=this,s=YW.get(this);if(s.skipOne=!1,function FOe(n){return 32===n||n>=48&&n<=57||n>=96&&n<=111||n>=186&&n<=192||n>=219&&n<=222||n>=226||n>=65&&n<=90}(i.keyCode)||i.keyCode===Or.BACKSPACE||i.keyCode===Or.DELETE||i.keyCode===Or.INSERT){var a=10;if(i.keyCode===Or.C&&(i.ctrlKey||i.metaKey))return;this.isOpened()||(a+=10),this.htEditor&&this.hot._registerTimeout(function(){o.queryChoices(o.TEXTAREA.value),s.skipOne=!0},a)}}}],[{key:"EDITOR_TYPE",get:function(){return"autocomplete"}}]),t}(zW);function $W(n){return($W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function IWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function XW(n,e){return(XW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function BWe(n,e){if(e&&("object"===$W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function VWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function xI(n){return(xI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var yse=function(n){!function FWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&XW(n,e)}(t,n);var e=function HWe(n){var e=function zWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=xI(n);if(e){var o=xI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return BWe(this,i)}}(t);function t(){return IWe(this,t),e.apply(this,arguments)}return function NWe(n,e,t){e&&vse(n.prototype,e),t&&vse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"beginEditing",value:function(i,o){if(o&&"mouseup"===o.type){var s=this.TD.querySelector('input[type="checkbox"]');Ci(s,"htBadValue")||s.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}],[{key:"EDITOR_TYPE",get:function(){return"checkbox"}}]),t}(tx),_se=b(8183);function KW(n){return(KW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function bse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Hm(){return Hm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=YWe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Hm.apply(this,arguments)}function YWe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=df(n)););return n}function ZW(n,e){return(ZW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function XWe(n,e){if(e&&("object"===KW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function KWe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function df(n){return(df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Mse="dateEditor",Sse=function(n){!function GWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ZW(n,e)}(t,n);var e=function $We(n){var e=function ZWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=df(n);if(e){var o=df(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return XWe(this,i)}}(t);function t(r){var i;return function jWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).defaultDateFormat="DD/MM/YYYY",i.isCellEdited=!1,i.parentDestroyed=!1,i.$datePicker=null,i}return function WWe(n,e,t){e&&bse(n.prototype,e),t&&bse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"init",value:function(){var i=this;if("function"!=typeof as)throw new Error("You need to include moment.js to your project.");if("function"!=typeof _se)throw new Error("You need to include Pikaday to your project.");Hm(df(t.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",function(){i.parentDestroyed=!0,i.destroyElements()})}},{key:"createElements",value:function(){Hm(df(t.prototype),"createElements",this).call(this),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),Rn(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),new ra(this).addEventListener(this.datePicker,"mousedown",function(o){return o.stopPropagation()})}},{key:"destroyElements",value:function(){var i=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),i&&i.removeChild(this.datePicker)}},{key:"prepare",value:function(i,o,s,a,u,c){Hm(df(t.prototype),"prepare",this).call(this,i,o,s,a,u,c)}},{key:"open",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=this.hot.getShortcutManager(),s=o.getContext("editor");Hm(df(t.prototype),"open",this).call(this),this.showDatepicker(i),s.addShortcut({keys:[["Enter"]],callback:function(u){u.stopPropagation()},group:Mse})}},{key:"close",value:function(){var i,o=this;this._opened=!1,null!==(i=this.$datePicker)&&void 0!==i&&i.destroy&&this.$datePicker.destroy(),this.instance._registerTimeout(function(){o.instance._refreshBorders()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(Mse),Hm(df(t.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i){var s=this.originalValue;void 0!==s&&this.setValue(s)}Hm(df(t.prototype),"finishEditing",this).call(this,i,o)}},{key:"showDatepicker",value:function(i){var c,o=this.TD.getBoundingClientRect(),s=this.cellProperties.dateFormat||this.defaultDateFormat,a=this.instance.view.isMouseDown(),u=!!i&&_ee(i.keyCode);this.datePicker.style.display="block",this.$datePicker=new _se(this.getDatePickerConfig()),this.$datePicker._onInputFocus=function(){},this.datePickerStyle.top="".concat(this.hot.rootWindow.pageYOffset+o.top+na(this.TD),"px");var h;h=this.hot.isRtl()?o.right-cs(this.datePicker):o.left,this.datePickerStyle.left="".concat(h,"px"),this.originalValue?(as(c=this.originalValue,s,!0).isValid()&&this.$datePicker.setMoment(as(c,s),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!u&&!a&&this.setValue("")):this.cellProperties.defaultDate?(as(c=this.cellProperties.defaultDate,s,!0).isValid()&&this.$datePicker.setMoment(as(c,s),!0),!u&&!a&&this.setValue("")):this.$datePicker.gotoToday()}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var i=this,o=this.TEXTAREA,s={};this.cellProperties&&this.cellProperties.datePickerConfig&&OL(s,this.cellProperties.datePickerConfig);var a=s.onSelect,u=s.onClose;return s.field=o,s.trigger=o,s.container=this.datePicker,s.bound=!1,s.format=s.format||this.defaultDateFormat,s.reposition=s.reposition||!1,s.isRTL=!1,s.onSelect=function(c){var h=c;isNaN(h.getTime())||(h=as(h).format(i.cellProperties.dateFormat||i.defaultDateFormat)),i.setValue(h),i.hideDatepicker(),a&&a()},s.onClose=function(){i.parentDestroyed||i.finishEditing(!1),u&&u()},s}}],[{key:"EDITOR_TYPE",get:function(){return"date"}}]),t}(Xb);function qW(n){return(qW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function CI(){return CI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=QWe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},CI.apply(this,arguments)}function QWe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ix(n)););return n}function JW(n,e){return(JW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function nYe(n,e){if(e&&("object"===qW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function rYe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ix(n){return(ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var QW=function(n){!function eYe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&JW(n,e)}(t,n);var e=function tYe(n){var e=function iYe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ix(n);if(e){var o=ix(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return nYe(this,i)}}(t);function t(){return qWe(this,t),e.apply(this,arguments)}return function JWe(n,e,t){e&&xse(n.prototype,e),t&&xse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prepare",value:function(i,o,s,a,u,c){CI(ix(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}],[{key:"EDITOR_TYPE",get:function(){return"dropdown"}}]),t}(GW);function eY(n){return(eY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function sYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Cse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function tY(n,e){return(tY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function cYe(n,e){if(e&&("object"===eY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function dYe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function EI(n){return(EI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().add("beforeValidate",function(n,e,t){var r=this.getCellMeta(e,this.propToCol(t));r.editor===QW&&void 0===r.strict&&(r.filter=!1,r.strict=!0)});var Ese=function(n){!function lYe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&tY(n,e)}(t,n);var e=function uYe(n){var e=function hYe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=EI(n);if(e){var o=EI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return cYe(this,i)}}(t);function t(){return sYe(this,t),e.apply(this,arguments)}return function aYe(n,e,t){e&&Cse(n.prototype,e),t&&Cse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,null,[{key:"EDITOR_TYPE",get:function(){return"numeric"}}]),t}(Xb);function nY(n){return(nY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function TI(){return TI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=gYe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},TI.apply(this,arguments)}function gYe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ox(n)););return n}function rY(n,e){return(rY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function _Ye(n,e){if(e&&("object"===nY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function bYe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ox(n){return(ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Rse=function(n){!function vYe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rY(n,e)}(t,n);var e=function yYe(n){var e=function wYe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ox(n);if(e){var o=ox(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _Ye(this,i)}}(t);function t(){return pYe(this,t),e.apply(this,arguments)}return function mYe(n,e,t){e&&Tse(n.prototype,e),t&&Tse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createElements",value:function(){TI(ox(t.prototype),"createElements",this).call(this),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,af(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}],[{key:"EDITOR_TYPE",get:function(){return"password"}}]),t}(Xb);function RI(n){return(RI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function SYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Dse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function DI(){return DI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=CYe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},DI.apply(this,arguments)}function CYe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=sx(n)););return n}function iY(n,e){return(iY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function RYe(n,e){if(e&&("object"===RI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function DYe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function sx(n){return(sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var oY="ht_editor_visible",Ase="selectEditor",kYe=function(n){!function EYe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&iY(n,e)}(t,n);var e=function TYe(n){var e=function AYe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=sx(n);if(e){var o=sx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return RYe(this,i)}}(t);function t(){return SYe(this,t),e.apply(this,arguments)}return function xYe(n,e,t){e&&Dse(n.prototype,e),t&&Dse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"init",value:function(){this.select=this.hot.rootDocument.createElement("SELECT"),Rn(this.select,"htSelectEditor"),this.select.style.display="none",this.hot.rootElement.appendChild(this.select),this.registerHooks()}},{key:"getValue",value:function(){return this.select.value}},{key:"setValue",value:function(i){this.select.value=i}},{key:"open",value:function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}},{key:"close",value:function(){this._opened=!1,this.select.style.display="none",Ci(this.select,oY)&&Bi(this.select,oY),this.unregisterShortcuts(),this.clearHooks()}},{key:"focus",value:function(){this.select.focus()}},{key:"registerHooks",value:function(){var i=this;this.addHook("afterScrollHorizontally",function(){return i.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return i.refreshDimensions()}),this.addHook("afterColumnResize",function(){return i.refreshDimensions()}),this.addHook("afterRowResize",function(){return i.refreshDimensions()})}},{key:"prepare",value:function(i,o,s,a,u,c){var h=this;DI(sx(t.prototype),"prepare",this).call(this,i,o,s,a,u,c);var g,p=this.cellProperties.selectOptions;g=this.prepareOptions("function"==typeof p?p(this.row,this.col,this.prop):p),af(this.select),io(g,function(y,w){var S=h.hot.rootDocument.createElement("OPTION");S.value=w,Pb(S,y),h.select.appendChild(S)})}},{key:"prepareOptions",value:function(i){var o={};if(Array.isArray(i))for(var s=0,a=i.length;s<a;s++)o[i[s]]=i[s];else"object"===RI(i)&&(o=i);return o}},{key:"refreshValue",value:function(){var i=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=i,this.setValue(i),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){if(this.state===Tl.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close();var i=this.getEditedCellRect(),o=i.top,s=i.start,a=i.width,c=this.select.style;c.height="".concat(i.height,"px"),c.width="".concat(a,"px"),c.top="".concat(o,"px"),c[this.hot.isRtl()?"right":"left"]="".concat(s,"px"),c.margin="0px",Rn(this.select,oY)}}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor"),a={group:Ase};!1!==this.isInFullEditMode()&&s.addShortcuts([{keys:[["ArrowUp"]],callback:function(){var c=i.select.selectedIndex-1;c>=0&&(i.select[c].selected=!0)}},{keys:[["ArrowDown"]],callback:function(){var c=i.select.selectedIndex+1;c<=i.select.length-1&&(i.select[c].selected=!0)}}],a)}},{key:"unregisterShortcuts",value:function(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(Ase)}}],[{key:"EDITOR_TYPE",get:function(){return"select"}}]),t}(tx);function sY(n){return(sY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function LYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ose(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function AI(){return AI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=IYe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},AI.apply(this,arguments)}function IYe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ax(n)););return n}function aY(n,e){return(aY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function HYe(n,e){if(e&&("object"===sY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function BYe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ax(n){return(ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var kse=function(n){!function NYe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&aY(n,e)}(t,n);var e=function FYe(n){var e=function VYe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ax(n);if(e){var o=ax(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return HYe(this,i)}}(t);function t(){return LYe(this,t),e.apply(this,arguments)}return function PYe(n,e,t){e&&Ose(n.prototype,e),t&&Ose(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prepare",value:function(i,o,s,a,u,c){AI(ax(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),this.TEXTAREA.dir="ltr"}}],[{key:"EDITOR_TYPE",get:function(){return"time"}}]),t}(Xb);function lY(n,e,t,r,i,o,s){k1.apply(this,[n,e,t,r,i,o,s]),Pb(e,null==o?"":o,!1)}function lx(n,e,t,r,i,o,s){var a=n.rootDocument,u=s.allowHtml?lY:ly,c=a.createElement("DIV");if(c.className="htAutocompleteArrow",c.appendChild(a.createTextNode(String.fromCharCode(9660))),u.apply(this,[n,e,t,r,i,o,s]),e.firstChild||e.appendChild(a.createTextNode(String.fromCharCode(160))),e.insertBefore(c,e.firstChild),Rn(e,"htAutocomplete"),!n.acArrowListener){var h=new ra(n);n.acArrowListener=function(p){Ci(p.target,"htAutocompleteArrow")&&n.view._wt.getSetting("onCellDblClick",null,n._createCellCoords(t,r),e)},h.addEventListener(n.rootElement,"mousedown",n.acArrowListener),n.addHookOnce("afterDestroy",function(){h.destroy()})}}lY.RENDERER_TYPE="html",lx.RENDERER_TYPE="autocomplete";var Lse=new WeakMap,Pse=new WeakMap,ux="data-row",cx="data-col";function uY(n,e,t,r,i,o,s){var a=n.rootDocument;k1.apply(this,[n,e,t,r,i,o,s]),function $Ye(n){var e=Pse.get(n);if(!e){var t=n.rootElement;(e=new ra(n)).addEventListener(t,"click",function(r){return function qYe(n,e){var t=n.target;if(cY(t)&&t.hasAttribute(ux)&&t.hasAttribute(cx)){var r=parseInt(t.getAttribute(ux),10),i=parseInt(t.getAttribute(cx),10);e.getCellMeta(r,i).readOnly&&n.preventDefault()}}(r,n)}),e.addEventListener(t,"mouseup",function(r){return function ZYe(n,e){var t=n.target;!cY(t)||!t.hasAttribute(ux)||!t.hasAttribute(cx)||setTimeout(e.listen,10)}(r,n)}),e.addEventListener(t,"change",function(r){return function JYe(n,e){var t=n.target;if(cY(t)&&t.hasAttribute(ux)&&t.hasAttribute(cx)){var r=parseInt(t.getAttribute(ux),10),i=parseInt(t.getAttribute(cx),10),o=e.getCellMeta(r,i);o.readOnly||e.setDataAtCell(r,i,n.target.checked?void 0===o.uncheckedTemplate||o.checkedTemplate:void 0!==o.uncheckedTemplate&&o.uncheckedTemplate)}}(r,n)}),Pse.set(n,e)}}(n);var u=function XYe(n){var e=n.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("autocomplete","off"),e.setAttribute("tabindex","-1"),e.cloneNode(!1)}(a),c=s.label,h=!1;if(void 0===s.checkedTemplate&&(s.checkedTemplate=!0),void 0===s.uncheckedTemplate&&(s.uncheckedTemplate=!1),af(e),o===s.checkedTemplate||Sa(o).toLocaleLowerCase(s.locale)===Sa(s.checkedTemplate).toLocaleLowerCase(s.locale)?u.checked=!0:o===s.uncheckedTemplate||Sa(o).toLocaleLowerCase(s.locale)===Sa(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?u.checked=!1:cl(o)?Rn(u,"noValue"):(u.style.display="none",Rn(u,"htBadValue"),h=!0),u.setAttribute(ux,t),u.setAttribute(cx,r),!h&&c){var p="";if(c.value)p="function"==typeof c.value?c.value.call(this,t,r,i,o):c.value;else if(c.property){var g=n.getDataAtRowProp(t,c.property);p=null!==g?g:""}var y=function KYe(n,e,t){var r=n.createElement("label");return r.className="htCheckboxRendererLabel ".concat(t?"fullWidth":""),r.appendChild(n.createTextNode(e)),r.cloneNode(!0)}(a,p,!0!==c.separated);"before"===c.position?c.separated?(e.appendChild(y),e.appendChild(u)):(y.appendChild(u),u=y):(!c.position||"after"===c.position)&&(c.separated?(e.appendChild(u),e.appendChild(y)):(y.insertBefore(u,y.firstChild),u=y))}function S(){var P=arguments.length>0&&void 0!==arguments[0]&&arguments[0],B=n.getSelectedRange();if(B)for(var z=0;z<B.length;z++){for(var j=B[z].getTopStartCorner(),X=j.row,ie=j.col,me=B[z].getBottomEndCorner(),re=me.row,pe=me.col,we=[],Le=X;Le<=re;Le+=1)for(var ot=ie;ot<=pe;ot+=1){var lt=n.getCellMeta(Le,ot);if("checkbox"!==lt.type)return;if(!0!==lt.readOnly){void 0===lt.checkedTemplate&&(lt.checkedTemplate=!0),void 0===lt.uncheckedTemplate&&(lt.uncheckedTemplate=!1);var je=n.getDataAtCell(Le,ot);!1===P?[lt.checkedTemplate,lt.checkedTemplate.toString()].includes(je)?we.push([Le,ot,lt.uncheckedTemplate]):[lt.uncheckedTemplate,lt.uncheckedTemplate.toString(),null,void 0].includes(je)&&we.push([Le,ot,lt.checkedTemplate]):we.push([Le,ot,lt.uncheckedTemplate])}}we.length>0&&n.setDataAtCell(we)}}function C(){var P=n.getSelectedRange();if(P){for(var B=0;B<P.length;B++)for(var z=P[B].getTopStartCorner(),j=P[B].getBottomEndCorner(),X=z.row;X<=j.row;X++)for(var ie=z.col;ie<=j.col;ie++){var me=n.getCellMeta(X,ie);if("checkbox"!==me.type)return!1;var re=n.getCell(X,ie);if(null==re)return!0;if(re.querySelectorAll("input[type=checkbox]").length>0&&!me.readOnly)return!0}return!1}}(!c||c&&!c.separated)&&e.appendChild(u),h&&e.appendChild(a.createTextNode("#bad-value#")),Lse.has(n)||(Lse.set(n,!0),function w(){n.getShortcutManager().getContext("grid").addShortcuts([{keys:[["space"]],callback:function(){return S(),!C()}},{keys:[["enter"]],callback:function(){return S(),!C()},runOnlyIf:function(){return n.getSettings().enterBeginsEditing}},{keys:[["delete"],["backspace"]],callback:function(){return S(!0),!C()},relativeToGroup:d1,position:"before"}],{group:"checkboxRenderer"})}())}function cY(n){return"INPUT"===n.tagName&&"checkbox"===n.getAttribute("type")}xr.getSingleton().add("modifyAutoColumnSizeSeed",function(n,e,t){var r=e.label,o=e.row;if("checkbox"===e.type){if(r){var u=r.value,c=r.property,h=t;if(u)h="function"==typeof u?u(o,e.column,e.prop,t):u;else if(c){var p=this.getDataAtRowProp(o,c);h=null!==p?p:t}n=h}return n}}),uY.RENDERER_TYPE="checkbox";var tw=b(1046);function dY(n,e,t,r,i,o,s){var a=o;if(eh(a)){var u=s.numericFormat,c=u&&u.culture||"-",h=u&&u.pattern,p=s.className||"",g=p.length?p.split(" "):[];if(void 0!==c&&!tw.languages()[c]){var y=c.replace("-",""),w=tw.allLanguages?tw.allLanguages[c]:tw[y];w&&tw.registerLanguage(w)}tw.setLanguage(c),a=tw(a).format(h||"0"),g.indexOf("htLeft")<0&&g.indexOf("htCenter")<0&&g.indexOf("htRight")<0&&g.indexOf("htJustify")<0&&g.push("htRight"),g.indexOf("htNumeric")<0&&g.push("htNumeric"),s.className=g.join(" "),e.dir="ltr"}ly(n,e,t,r,i,a,s)}function hY(n,e,t,r,i,o,s){ly.apply(this,[n,e,t,r,i,o,s]);var u=s.hashSymbol||"*",c="";Vr((s.hashLength||e.innerHTML.length)-1,function(){c+=u}),Pb(e,c)}function fY(n,e,t,r,i,o,s){ly.apply(this,[n,e,t,r,i,o,s]),e.dir="ltr"}function OI(n,e){var t=n;null==t&&(t=""),this.allowEmpty&&""===t?e(!0):this.strict&&this.source?"function"==typeof this.source?this.source(t,Nse(t,e)):Nse(t,e)(this.source):e(!0)}function Nse(n,e){var t=n;return function(r){for(var i=!1,o=0,s=r.length;o<s;o++)if(t===r[o]){i=!0;break}e(i)}}function pY(n,e){var t=Eee("date",this.instance),r=n,i=!0;null==r&&(r="");var o=as(r,this.dateFormat||t.defaultDateFormat,!0).isValid(),s=as(new Date(r)).isValid()||o;if(this.allowEmpty&&""===r&&(s=!0,o=!0),s||(i=!1),!s&&o&&(i=!0),s&&!o)if(!0===this.correctFormat){var a=function sGe(n,e){var t=as(function iGe(n){var e=new Date(n);return isNaN(new Date("".concat(n,"T00:00")).getDate())?e:new Date(e.getTime()+6e4*e.getTimezoneOffset())}(n)),r=as(n,e),i=n.search(/[A-z]/g)>-1;return(t.isValid()&&t.format("x")===r.format("x")||!r.isValid()||i?t:r).format(e)}(r,this.dateFormat),u=this.instance.toVisualRow(this.row),c=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(u,c,a,"dateValidator"),i=!0}else i=!1;e(i)}function mY(n,e){var t=n;null==t&&(t=""),e(!(!this.allowEmpty||""!==t)||""!==t&&eh(n))}dY.RENDERER_TYPE="numeric",hY.RENDERER_TYPE="password",fY.RENDERER_TYPE="time",OI.VALIDATOR_TYPE="autocomplete",b(2024),pY.VALIDATOR_TYPE="date",mY.VALIDATOR_TYPE="numeric";var lGe=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"];function gY(n,e){var t=this.timeFormat||"h:mm:ss a",r=!0,i=n;null===i&&(i=""),i=/^\d{3,}$/.test(i)?parseInt(i,10):i;var o=/^\d{1,2}$/.test(i);o&&(i+=":00");var s=as(i,lGe,!0).isValid()?as(i):as(i,t),a=s.isValid(),u=as(i,t,!0).isValid()&&!o;if(this.allowEmpty&&""===i&&(a=!0,u=!0),a||(r=!1),!a&&u&&(r=!0),a&&!u)if(!0===this.correctFormat){var c=s.format(t),h=this.instance.toVisualRow(this.row),p=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(h,p,c,"timeValidator"),r=!0}else r=!1;e(r)}gY.VALIDATOR_TYPE="time";var hGe={CELL_TYPE:"autocomplete",editor:GW,renderer:lx,validator:OI},pGe={CELL_TYPE:"checkbox",editor:yse,renderer:uY},gGe={CELL_TYPE:"date",editor:Sse,renderer:lx,validator:pY},yGe={CELL_TYPE:"dropdown",editor:QW,renderer:lx,validator:OI},bGe={CELL_TYPE:"handsontable",editor:zW,renderer:lx},MGe={CELL_TYPE:"numeric",editor:Ese,renderer:dY,validator:mY,dataType:"number"},xGe={CELL_TYPE:"password",editor:Rse,renderer:hY,copyable:!1},EGe={CELL_TYPE:"time",editor:kse,renderer:fY,validator:gY};function Fse(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Hse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(1514);var Bse=new Map([["plugin",function iLe(n){return!!vz(n)}],["cell-type",yne],["editor",Cee],["renderer",Wee],["validator",Yee]]),nw=new WeakMap,vY=[],cp=null,Vse=new WeakSet,Zo=function(){function n(e){var t=this;(function LGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function IGe(n,e){(function NGe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.add(n)}(this,Vse),Om(this,"hot",e,{writable:!1}),nw.set(this,{hooks:{}}),cp=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return t.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(r){return t.onUpdateSettings(r)}),this.hot.addHook("beforeInit",function(){return t.init()})}return function PGe(n,e,t){e&&Hse(n.prototype,e),t&&Hse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"init",value:function(){var t=this;this.pluginName=this.hot.getPluginName(this);var r=this.constructor.PLUGIN_DEPS,i=Array.isArray(r)?r:[];if(i.length>0){var o=[];if(i.forEach(function(c){var p=function RGe(n,e){return function kGe(n){if(Array.isArray(n))return n}(n)||function OGe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function AGe(n,e){if(n){if("string"==typeof n)return Fse(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fse(n,e)}}(n,e)||function DGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(c.split(":"),2),g=p[0],y=p[1];if(!Bse.has(g))throw new Error('Unknown plugin dependency type "'.concat(g,'" was found.'));Bse.get(g)(y)||o.push(" - ".concat(y," (").concat(g,")"))}),o.length>0){var s=["The ".concat(this.pluginName," plugin requires the following modules:\n"),"".concat(o.join("\n"),"\n")].join("");vY.push(s)}}if(cp||(cp=jee()),cp.indexOf("UndoRedo")>=0&&cp.splice(cp.indexOf("UndoRedo"),1),cp.indexOf(this.pluginName)>=0&&cp.splice(cp.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",function(){t.isEnabled&&t.isEnabled()&&t.enablePlugin()}),0===cp.length){if(vY.length>0){var u=["".concat(vY.join("\n"),"\n"),"You have to import and register them manually."].join("");throw new Error(u)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(t,r){nw.get(this).hooks[t]=nw.get(this).hooks[t]||[];var i=nw.get(this).hooks[t];this.hot.addHook(t,r),i.push(r),nw.get(this).hooks[t]=i}},{key:"removeHooks",value:function(t){var r=this;tt(nw.get(this).hooks[t]||[],function(i){r.hot.removeHook(t,i)})}},{key:"clearHooks",value:function(){var t=this,r=nw.get(this).hooks;io(r,function(i,o){return t.removeHooks(o)}),r.length=0}},{key:"callOnPluginsReady",value:function(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)}},{key:"onAfterPluginsInitialized",value:function(){tt(this.pluginsInitializedCallbacks,function(t){return t()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(t){var r=function FGe(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}(this,Vse,BGe).call(this,t);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&r&&this.updatePlugin(t))}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var t=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),io(this,function(r,i){"hot"!==i&&(t[i]=null)}),delete this.t,delete this.hot}}],[{key:"PLUGIN_KEY",get:function(){return"base"}},{key:"SETTING_KEYS",get:function(){return[this.PLUGIN_KEY]}}]),n}();function BGe(n){if(!n)return!1;var e=this.constructor.SETTING_KEYS;if("boolean"==typeof e)return e;for(var t=0;t<e.length;t++)if(void 0!==n[e[t]])return!0;return!1}function zse(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Use(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const jse=function(){function n(e){(function YGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}return function GGe(n,e,t){e&&Use(n.prototype,e),t&&Use(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addRow",value:function(t,r){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var i={row:t};this.rows.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}},{key:"addColumnHeadersRow",value:function(t){if(null!=this.hot.getColHeader(0)){var i={row:-1};this.rows.push(i),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}}},{key:"addColumn",value:function(t,r){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var i={col:t};this.columns.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(t)&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}},{key:"getHeights",value:function(t){this.injected||this.injectTable(),tt(this.rows,function(r){t(r.row,na(r.table)-1)})}},{key:"getWidths",value:function(t){this.injected||this.injectTable(),tt(this.columns,function(r){var i=r.table.getBoundingClientRect();t(r.col,Math.ceil(i.width))})}},{key:"setSettings",value:function(t){this.settings=t}},{key:"setSetting",value:function(t,r){this.settings||(this.settings={}),this.settings[t]=r}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(t){return this.settings?this.settings[t]:null}},{key:"createColGroupsCol",value:function(){var t=this,r=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&r.appendChild(this.createColElement(-1)),this.samples.forEach(function(i){tt(i.strings,function(o){r.appendChild(t.createColElement(o.col))})}),r}},{key:"createRow",value:function(t){var r=this,i=this.hot.rootDocument,o=i.createDocumentFragment(),s=i.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,s),o.appendChild(s)),this.samples.forEach(function(a){tt(a.strings,function(u){var c=u.col,h=r.hot.getCellMeta(t,c);h.col=c,h.row=t;var p=r.hot.getCellRenderer(h),g=i.createElement("td");g.setAttribute("ghost-table",1),p(r.hot,g,t,c,r.hot.colToProp(c),u.value,h),o.appendChild(g)})}),o}},{key:"appendColumnHeadersRow",value:function(){var t=this,r=this.hot.rootDocument,i=r.createDocumentFragment(),o=[];if(this.hot.hasRowHeaders()){var s=r.createElement("th");o.push([-1,s]),i.appendChild(s)}this.samples.forEach(function(a){tt(a.strings,function(u){var c=u.col,h=r.createElement("th");o.push([c,h]),i.appendChild(h)})}),this.table.tHead.appendChild(i),tt(o,function(a){var u=function VGe(n,e){return function WGe(n){if(Array.isArray(n))return n}(n)||function jGe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function UGe(n,e){if(n){if("string"==typeof n)return zse(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zse(n,e)}}(n,e)||function zGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a,2);t.hot.view.appendColHeader(u[0],u[1])})}},{key:"createCol",value:function(t){var r=this,i=this.hot.rootDocument,o=i.createDocumentFragment();return this.samples.forEach(function(s){tt(s.strings,function(a){var u=a.row,c=r.hot.getCellMeta(u,t);c.col=t,c.row=u;var h=r.hot.getCellRenderer(c),p=i.createElement("td"),g=i.createElement("tr");p.setAttribute("ghost-table",1),h(r.hot,p,u,t,r.hot.colToProp(t),a.value,c),g.appendChild(p),o.appendChild(g)})}),o}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(t){var r=this.hot.rootDocument.createElement("col");return r.style.width="".concat(this.hot.view._wt.wtTable.getStretchedColumnWidth(t),"px"),r}},{key:"createTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.hot.rootDocument,i=r.createDocumentFragment(),o=r.createElement("table"),s=r.createElement("thead"),a=r.createElement("tbody"),u=r.createElement("colgroup"),c=r.createElement("tr"),h=r.createElement("th");return this.isVertical()&&o.appendChild(u),this.isHorizontal()&&(c.appendChild(h),s.appendChild(c),o.style.tableLayout="auto",o.style.width="auto"),o.appendChild(s),this.isVertical()&&a.appendChild(c),o.appendChild(a),Rn(o,t),i.appendChild(o),{fragment:i,table:o,tHead:s,tBody:a,colGroup:u,tr:c,th:h}}},{key:"createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.hot.rootDocument,i=r.createDocumentFragment(),o=r.createElement("div"),s="htGhostTable htAutoSize ".concat(t.trim());return Rn(o,s),i.appendChild(o),{fragment:i,container:o}}},{key:"isVertical",value:function(){return!(!this.rows.length||this.columns.length)}},{key:"isHorizontal",value:function(){return!(!this.columns.length||this.rows.length)}}]),n}();function Wse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Yse=function(){function n(e){(function KGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.samples=null,this.dataFactory=e,this.customSampleCount=null,this.allowDuplicates=!1}return function ZGe(n,e,t){e&&Wse(n.prototype,e),t&&Wse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:n.SAMPLE_COUNT}},{key:"setSampleCount",value:function(t){this.customSampleCount=t}},{key:"setAllowDuplicates",value:function(t){this.allowDuplicates=t}},{key:"generateRowSamples",value:function(t,r){return this.generateSamples("row",r,t)}},{key:"generateColumnSamples",value:function(t,r){return this.generateSamples("col",r,t)}},{key:"generateSamples",value:function(t,r,i){var o=this,s=new Map,a="number"==typeof i?{from:i,to:i}:i;return Vr(a.from,a.to,function(h){var p=o.generateSample(t,r,h);s.set(h,p)}),s}},{key:"generateSample",value:function(t,r,i){var o=this;if("row"!==t&&"col"!==t)throw new Error("Unsupported sample type");var s=new Map,a="row"===t?"col":"row",u=[];return Vr(r.from,r.to,function(c){var w,h="row"===t?o.dataFactory(i,c):o.dataFactory(c,i),p=h.value,g=h.bundleSeed,y="string"==typeof g&&g.length>0;w=y?g:Yi(p)?"".concat(Object.keys(p).length):Array.isArray(p)?"".concat(p.length):"".concat(Sa(p).length),s.has(w)||s.set(w,{needed:o.getSampleCount(),strings:[]});var S=s.get(w);S.needed&&(!(u.indexOf(p)>-1)||o.allowDuplicates||y)&&(S.strings.push(function XGe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}({value:p},a,c)),u.push(p),S.needed-=1)}),s}}],[{key:"SAMPLE_COUNT",get:function(){return 3}}]),n}();function yY(n){return(yY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Gse(n,e){return function t5e(n){if(Array.isArray(n))return n}(n)||function e5e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function QGe(n,e){if(n){if("string"==typeof n)return $se(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $se(n,e)}}(n,e)||function JGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $se(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Xse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function rw(){return rw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=i5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},rw.apply(this,arguments)}function i5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Bm(n)););return n}function _Y(n,e){return(_Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function a5e(n,e){if(e&&("object"===yY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kse(n)}function Kse(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Bm(n){return(Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("modifyAutoColumnSizeSeed");var z1="autoColumnSize",bY=new WeakMap,d5e=function(n){!function o5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_Y(n,e)}(t,n);var e=function s5e(n){var e=function l5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Bm(n);if(e){var o=Bm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return a5e(this,i)}}(t);function t(r){var i;return function n5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),bY.set(Kse(i),{cachedColumnHeaders:[]}),i.ghostTable=new jse(i.hot),i.samplesGenerator=new Yse(function(o,s){var a=i.hot.getCellMeta(o,s),u="";a.spanned||(u=i.hot.getDataAtCell(o,s));var c="";return i.hot.hasHook("modifyAutoColumnSizeSeed")&&(c=i.hot.runHooks("modifyAutoColumnSizeSeed",c,a,u)),{value:u,bundleSeed:c}}),i.firstCalculation=!0,i.inProgress=!1,i.measuredColumns=0,i.columnWidthsMap=new iy,i.hot.columnIndexMapper.registerMap("autoColumnSize",i.columnWidthsMap),i.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)}),i}return function r5e(n,e,t){e&&Xse(n.prototype,e),t&&Xse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!1!==this.hot.getSettings()[z1]&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[z1];o&&null!=o.useHeaders&&this.ghostTable.setSetting("useHeaders",o.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeChangeRender",function(s){return i.onBeforeChange(s)}),this.addHook("afterFormulasValuesUpdate",function(s){return i.onAfterFormulasValuesUpdate(s)}),this.addHook("beforeViewRender",function(s){return i.onBeforeViewRender(s)}),this.addHook("modifyColWidth",function(s,a){return i.getColumnWidth(a,s)}),this.addHook("afterInit",function(){return i.onAfterInit()}),rw(Bm(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var i=this.findColumnsWhereHeaderWasChanged();i.length&&(this.clearCache(i),this.calculateVisibleColumnsWidth()),rw(Bm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var i=this;rw(Bm(t.prototype),"disablePlugin",this).call(this),this.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)})}},{key:"calculateVisibleColumnsWidth",value:function(){if(this.hot.countRows()){var o=this.hot.renderCall,s=this.getFirstVisibleColumn(),a=this.getLastVisibleColumn();-1===s||-1===a||this.calculateColumnsWidth({from:s,to:a},void 0,o)}}},{key:"calculateColumnsWidth",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="number"==typeof o?{from:o,to:o}:o,c="number"==typeof s?{from:s,to:s}:s;Vr(u.from,u.to,function(h){var p=i.hot.toPhysicalColumn(h);null===p&&(p=h),(a||null===i.columnWidthsMap.getValueAtIndex(p)&&!i.hot._getColWidthFromSettings(p))&&tt(i.samplesGenerator.generateColumnSamples(h,c),function(y){var w=Gse(y,2);return i.ghostTable.addColumn(w[0],w[1])})}),this.ghostTable.columns.length&&(this.hot.batchExecution(function(){i.ghostTable.getWidths(function(h,p){var g=i.hot.toPhysicalColumn(h);i.columnWidthsMap.setValueAtIndex(g,p)})},!0),this.measuredColumns=u.to+1,this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},s=0,a=this.hot.countCols()-1,u=null;this.inProgress=!0;var c=function p(){if(!i.hot)return DL(u),void(i.inProgress=!1);i.calculateColumnsWidth({from:s,to:Math.min(s+t.CALCULATION_STEP,a)},o),(s=s+t.CALCULATION_STEP+1)<a?u=FQ(p):(DL(u),i.inProgress=!1,i.hot.view.adjustElementsSize())},h=this.getSyncCalculationLimit();this.firstCalculation&&h>=0&&(this.calculateColumnsWidth({from:0,to:h},o),this.firstCalculation=!1,s=h+1),s<a?c():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var i=this.hot.getSettings()[z1],o=i&&Ns(i,"samplingRatio")?i.samplingRatio:void 0,s=i&&Ns(i,"allowSampleDuplicates")?i.allowSampleDuplicates:void 0;o&&!isNaN(o)&&this.samplesGenerator.setSampleCount(parseInt(o,10)),s&&this.samplesGenerator.setAllowDuplicates(s)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var i=this.hot.getSettings()[z1],o=t.SYNC_CALCULATION_LIMIT,s=this.hot.countCols()-1;return Yi(i)&&(qQ(o=i.syncLimit)?o=Pee(s,o):o>>=0),Math.min(o,s)}},{key:"getColumnWidth",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=o;return void 0===a&&(a=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(i)),s&&"number"==typeof a&&(a=Math.max(a,cU.DEFAULT_WIDTH))),a}},{key:"getFirstVisibleColumn",value:function(){var i=this.hot.view._wt;if(i.wtViewport.columnsVisibleCalculator){var o=i.wtTable.getFirstVisibleColumn();if(-1!==o)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)}if(i.wtViewport.columnsRenderCalculator){var s=i.wtTable.getFirstRenderedColumn();if(-1!==s)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(s)}return-1}},{key:"getLastVisibleColumn",value:function(){var i=this.hot.view._wt;if(i.wtViewport.columnsVisibleCalculator){var o=i.wtTable.getLastVisibleColumn();if(-1!==o)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)}if(i.wtViewport.columnsRenderCalculator){var s=i.wtTable.getLastRenderedColumn();if(-1!==s)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(s)}return-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var i=this.hot.getColHeader(),s=bY.get(this).cachedColumnHeaders;return Ua(i,function(u,c,h){var p=s.length;return(p-1<h||s[h]!==c)&&u.push(h),p-1<h?s.push(c):s[h]=c,u},[])}},{key:"clearCache",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.length?this.hot.batchExecution(function(){tt(o,function(s){i.columnWidthsMap.setValueAtIndex(s,null)})},!0):this.columnWidthsMap.clear()}},{key:"isNeedRecalculate",value:function(){return!!Jd(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),function(i){return null===i}).length}},{key:"onBeforeViewRender",value:function(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}},{key:"onAfterLoadData",value:function(){var i=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){i.hot&&i.recalculateAllColumnsWidth()},0)}},{key:"onBeforeChange",value:function(i){var o=this,s=Ji(i,function(a){var u=Gse(a,2);return o.hot.toPhysicalColumn(o.hot.propToCol(u[1]))});this.clearCache(Array.from(new Set(s)))}},{key:"onBeforeColumnResize",value:function(i,o,s){var a=i;return s&&(this.calculateColumnsWidth(o,void 0,!0),a=this.getColumnWidth(o,void 0,!1)),a}},{key:"onAfterInit",value:function(){bY.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"onAfterFormulasValuesUpdate",value:function(i){var s=Ji(Jd(i,function(a){var u;return fr(null===(u=a.address)||void 0===u?void 0:u.col)}),function(a){return a.address.col});this.clearCache(Array.from(new Set(s)))}},{key:"destroy",value:function(){this.ghostTable.clean(),rw(Bm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return z1}},{key:"PLUGIN_PRIORITY",get:function(){return 10}},{key:"SETTING_KEYS",get:function(){return!0}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}]),t}(Zo),iw={horizontal:"horizontal",vertical:"vertical"};function wY(n){return(wY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Zse(n,e){if(n){if("string"==typeof n)return MY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return MY(n,e)}}function MY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function qse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ow(){return ow="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=C5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ow.apply(this,arguments)}function C5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Vm(n)););return n}function SY(n,e){return(SY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function R5e(n,e){if(e&&("object"===wY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jse(n)}function Jse(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Vm(n){return(Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("modifyAutofillRange"),xr.getSingleton().register("beforeAutofill"),xr.getSingleton().register("afterAutofill");var Qse="autofill",O5e=["fillHandle"],P5e=function(n){!function E5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&SY(n,e)}(t,n);var e=function T5e(n){var e=function D5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Vm(n);if(e){var o=Vm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return R5e(this,i)}}(t);function t(r){var i;return function S5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ra(Jse(i)),i.addingStarted=!1,i.mouseDownOnCellCorner=!1,i.mouseDragOutside=!1,i.handleDraggedCells=0,i.directions=[],i.autoInsertRow=!1,i}return function x5e(n,e,t){e&&qse(n.prototype,e),t&&qse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(o){return i.onAfterCellCornerMouseDown(o)}),this.addHook("afterOnCellCornerDblClick",function(o){return i.onCellCornerDblClick(o)}),this.addHook("beforeOnCellMouseOver",function(o,s){return i.onBeforeCellMouseOver(s)}),ow(Vm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),ow(Vm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),ow(Vm(t.prototype),"disablePlugin",this).call(this)}},{key:"getSelectionData",value:function(){var i=this,o=this.hot.getSelectedRangeLast(),s=o.getTopStartCorner(),a=s.row,u=s.col,c=o.getBottomEndCorner(),g=this.hot.runHooks("modifyCopyableRange",[{startRow:a,startCol:u,endRow:c.row,endCol:c.col}]),y=[],w=[],S=[];return tt(g,function(C){for(var P=C.startRow;P<=C.endRow;P+=1)-1===y.indexOf(P)&&y.push(P);for(var B=C.startCol;B<=C.endCol;B+=1)-1===w.indexOf(B)&&w.push(B)}),tt(y,function(C){var P=[];tt(w,function(B){P.push(i.hot.getCopyableData(C,B))}),S.push(P)}),S}},{key:"fillIn",value:function(){var i=this;if(this.hot.selection.highlight.getFill().isEmpty())return!1;var s=function _5e(n,e){return function M5e(n){if(Array.isArray(n))return n}(n)||function w5e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Zse(n,e)||function b5e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.hot.selection.highlight.getFill().getVisualCorners(),4),a=s[0],u=s[1],c=s[2],h=s[3],p=this.hot.getSelectedRangeLast(),g=p.getTopStartCorner(),y=p.getBottomEndCorner();this.resetSelectionOfDraggedArea();var w=[g.row,g.col,y.row,y.col],S=this.hot.runHooks("modifyAutofillRange",[Math.min(g.row,a),Math.min(g.col,u),Math.max(y.row,c),Math.max(y.col,h)],w),C=function f5e(n,e,t){var r,i,o;return e[0]===n[0]&&e[1]<n[1]?(o="left",r=t(e[0],e[1]),i=t(e[2],n[1]-1)):e[2]===n[2]&&e[0]===n[0]&&e[3]>n[3]?(o="right",r=t(e[0],n[3]+1),i=t(e[2],e[3])):e[0]<n[0]&&e[1]===n[1]?(o="up",r=t(e[0],e[1]),i=t(n[0]-1,e[3])):e[2]>n[2]&&e[1]===n[1]&&(o="down",r=t(n[2]+1,e[1]),i=t(e[2],e[3])),r&&r.normalize(),i&&i.normalize(),{directionOfDrag:o,startOfDragCoords:r,endOfDragCoords:i}}(w,S,function(Ye,Je){return i.hot._createCellCoords(Ye,Je)}),P=C.directionOfDrag,B=C.startOfDragCoords,z=C.endOfDragCoords;if(B&&B.row>-1&&B.col>-1){var j=this.getSelectionData(),X=p.clone(),ie=this.hot._createCellRange(B,B,z),me=this.hot.runHooks("beforeAutofill",j,X,ie,P);if(!1===me)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;var re=function h5e(n,e,t,r){var i=t.length,o=t?t[0].length:0,s=[],a=e.row-n.row,u=e.col-n.col;if(-1!==["down","up"].indexOf(r)){for(var c=[],h=0;h<u;h++){var p=parseInt(t[0][h],10),g=parseInt(t[i-1][h],10);c.push(("down"===r?g-p:p-g)/(i-1)||0)}s.push(c)}if(-1!==["right","left"].indexOf(r))for(var w=0;w<a;w++){var S=parseInt(t[w][0],10),C=parseInt(t[w][o-1],10);s.push([("right"===r?C-S:S-C)/(o-1)||0])}return s}(B,z,j,P),pe=me,we=me;if(["up","left"].indexOf(P)>-1&&(1!==we.length||0!==we[0].length))if(pe=[],"up"===P)for(var Le=z.row-B.row+1,ot=Le%we.length,lt=0;lt<Le;lt++)pe.push(we[(lt+(we.length-ot))%we.length]);else for(var je=z.col-B.col+1,bt=je%we[0].length,ye=0;ye<we.length;ye++){pe.push([]);for(var Ae=0;Ae<je;Ae++)pe[ye].push(we[ye][(Ae+(we[ye].length-bt))%we[ye].length])}this.hot.populateFromArray(B.row,B.col,pe,z.row,z.col,"".concat(this.pluginName,".fill"),null,P,re),this.setSelection(S),this.hot.runHooks("afterAutofill",pe,X,ie,P),this.hot.render()}else this.hot._refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(i){return i.row<0&&(i.row=0),i.col<0&&(i.col=0),i}},{key:"getCoordsOfDragAndDropBorders",value:function(i){var o=this.hot.getSelectedRangeLast(),s=o.getBottomEndCorner(),a=i;if(this.directions.includes(iw.vertical)&&this.directions.includes(iw.horizontal)){var u=o.getTopStartCorner();(s.col<=i.col||u.col>=i.col)&&(a=this.hot._createCellCoords(s.row,i.col)),(s.row<i.row||u.row>i.row)&&(a=this.hot._createCellCoords(i.row,s.col))}else if(this.directions.includes(iw.vertical))a=this.hot._createCellCoords(i.row,s.col);else{if(!this.directions.includes(iw.horizontal))return;a=this.hot._createCellCoords(s.row,i.col)}return this.reduceSelectionAreaIfNeeded(a)}},{key:"showBorder",value:function(i){var o=this.getCoordsOfDragAndDropBorders(i);o&&this.redrawBorders(o)}},{key:"addRow",value:function(){var i=this;this.hot._registerTimeout(function(){i.hot.alter("insert_row",void 0,1,"".concat(i.pluginName,".fill")),i.addingStarted=!1},200)}},{key:"addNewRowIfNeeded",value:function(){if(!this.hot.selection.highlight.getFill().isEmpty()&&!1===this.addingStarted&&this.autoInsertRow){var i=this.hot.getSelectedLast(),o=this.hot.selection.highlight.getFill().getVisualCorners(),s=this.hot.countRows();i[2]<s-1&&o[2]===s-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(i){for(var a,o=this.hot.getData(),s=this.hot.countRows(),u=i[2]+1;u<s;u++){for(var c=i[1];c<=i[3];c++)if(o[u][c])return-1;(o[u][i[1]-1]||o[u][i[3]+1])&&(a=u)}return a}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(i,o){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(i[0],i[1])).add(this.hot._createCellCoords(o,i[3])).commit()}},{key:"setSelection",value:function(i){var o;(o=this.hot).selectCell.apply(o,function m5e(n){return function y5e(n){if(Array.isArray(n))return MY(n)}(n)||function v5e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Zse(n)||function g5e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ji(i,function(s){return Math.max(s,0)})).concat([!1,!1]))}},{key:"selectAdjacent",value:function(){var i=this.hot.getSelectedLast(),o=this.getIndexOfLastAdjacentFilledInRow(i);return-1!==o&&void 0!==o&&(this.addSelectionFromStartAreaToSpecificRowIndex(i,o),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}},{key:"redrawBorders",value:function(i){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(i).commit(),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(i){var o=this.hot.rootDocument.documentElement,s=ja(this.hot.table).top-(this.hot.rootWindow.pageYOffset||o.scrollTop)+na(this.hot.table),a=ja(this.hot.table).left-(this.hot.rootWindow.pageXOffset||o.scrollLeft)+cs(this.hot.table);return i.clientY>s&&i.clientX<=a}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()}),this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)})}},{key:"onCellCornerDblClick",value:function(){this.selectAdjacent()&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(i){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(i),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(i){var o=this.getIfMouseWasDraggedOutside(i);!1===this.addingStarted&&this.handleDraggedCells>0&&o?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var i=function p5e(n){var e={};return!0===n?(e.directions=Object.keys(iw),e.autoInsertRow=!0):Yi(n)?(e.autoInsertRow=!!fr(n.autoInsertRow)&&n.direction!==iw.horizontal&&n.autoInsertRow,e.directions=fr(n.direction)?[n.direction]:Object.keys(iw)):"string"==typeof n?(e.directions=[n],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}(this.hot.getSettings().fillHandle);this.directions=i.directions,this.autoInsertRow=i.autoInsertRow}},{key:"destroy",value:function(){ow(Vm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Qse}},{key:"PLUGIN_PRIORITY",get:function(){return 20}},{key:"SETTING_KEYS",get:function(){return[Qse].concat(O5e)}}]),t}(Zo);function xY(n){return(xY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function I5e(n,e){return function B5e(n){if(Array.isArray(n))return n}(n)||function H5e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function F5e(n,e){if(n){if("string"==typeof n)return eae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eae(n,e)}}(n,e)||function N5e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function dx(){return dx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=U5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},dx.apply(this,arguments)}function U5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=my(n)););return n}function CY(n,e){return(CY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Y5e(n,e){if(e&&("object"===xY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function G5e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function my(n){return(my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var kI="autoRowSize",Z5e=function(n){!function j5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&CY(n,e)}(t,n);var e=function W5e(n){var e=function $5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=my(n);if(e){var o=my(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Y5e(this,i)}}(t);function t(r){var i;return function V5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).rowHeightsMap=void 0,i.headerHeight=null,i.ghostTable=new jse(i.hot),i.samplesGenerator=new Yse(function(o,s){var a;return o>=0?a=i.hot.getDataAtCell(o,s):-1===o&&(a=i.hot.getColHeader(s)),{value:a}}),i.firstCalculation=!0,i.inProgress=!1,i.measuredRows=0,i.rowHeightsMap=new iy,i.hot.rowIndexMapper.registerMap("autoRowSize",i.rowHeightsMap),i.addHook("beforeRowResize",function(o,s,a){return i.onBeforeRowResize(o,s,a)}),i}return function z5e(n,e,t){e&&tae(n.prototype,e),t&&tae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){var i=this.hot.getSettings()[kI];return!0===i||Yi(i)}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeChangeRender",function(o){return i.onBeforeChange(o)}),this.addHook("beforeColumnResize",function(){return i.recalculateAllRowsHeight()}),this.addHook("beforeViewRender",function(o){return i.onBeforeViewRender(o)}),this.addHook("modifyRowHeight",function(o,s){return i.getRowHeight(s,o)}),this.addHook("modifyColumnHeaderHeight",function(){return i.getColumnHeaderHeight()}),dx(my(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var i=this;this.headerHeight=null,dx(my(t.prototype),"disablePlugin",this).call(this),this.addHook("beforeRowResize",function(o,s,a){return i.onBeforeRowResize(o,s,a)})}},{key:"calculateRowsHeight",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="number"==typeof o?{from:o,to:o}:o,c="number"==typeof s?{from:s,to:s}:s;if(null!==this.hot.getColHeader(0)){var h=this.samplesGenerator.generateRowSamples(-1,c);this.ghostTable.addColumnHeadersRow(h.get(-1))}Vr(u.from,u.to,function(p){(a||null===i.rowHeightsMap.getValueAtIndex(p))&&tt(i.samplesGenerator.generateRowSamples(p,c),function(y){var w=I5e(y,2);return i.ghostTable.addRow(w[0],w[1])})}),this.ghostTable.rows.length&&(this.hot.batchExecution(function(){i.ghostTable.getHeights(function(p,g){p<0?i.headerHeight=g:i.rowHeightsMap.setValueAtIndex(i.hot.toPhysicalRow(p),g)})},!0),this.measuredRows=u.to+1,this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},s=0,a=this.hot.countRows()-1,u=null;this.inProgress=!0;var c=function p(){if(!i.hot)return DL(u),void(i.inProgress=!1);i.calculateRowsHeight({from:s,to:Math.min(s+t.CALCULATION_STEP,a)},o),(s=s+t.CALCULATION_STEP+1)<a?u=FQ(p):(DL(u),i.inProgress=!1,i.hot.view.adjustElementsSize(!0),i.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&i.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},h=this.getSyncCalculationLimit();this.firstCalculation&&h>=0&&(this.calculateRowsHeight({from:0,to:h},o),this.firstCalculation=!1,s=h+1),s<a?c():(this.inProgress=!1,this.hot.view.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var i=this.hot.getSettings()[kI],o=i&&Ns(i,"samplingRatio")?i.samplingRatio:void 0,s=i&&Ns(i,"allowSampleDuplicates")?i.allowSampleDuplicates:void 0;o&&!isNaN(o)&&this.samplesGenerator.setSampleCount(parseInt(o,10)),s&&this.samplesGenerator.setAllowDuplicates(s)}},{key:"recalculateAllRowsHeight",value:function(){n1(this.hot.view._wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var i=this.hot.getSettings()[kI],o=t.SYNC_CALCULATION_LIMIT,s=this.hot.countRows()-1;return Yi(i)&&(qQ(o=i.syncLimit)?o=Pee(s,o):o>>=0),Math.min(o,s)}},{key:"getRowHeight",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=i<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(i)),a=o;return null!==s&&s>(o||0)&&(a=s),a}},{key:"getColumnHeaderHeight",value:function(){return this.headerHeight}},{key:"getFirstVisibleRow",value:function(){var i=this.hot.view._wt;return i.wtViewport.rowsVisibleCalculator?i.wtTable.getFirstVisibleRow():i.wtViewport.rowsRenderCalculator?i.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var i=this.hot.view._wt;return i.wtViewport.rowsVisibleCalculator?i.wtTable.getLastVisibleRow():i.wtViewport.rowsRenderCalculator?i.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.headerHeight=null,this.rowHeightsMap.init()}},{key:"clearCacheByRange",value:function(i){var o=this,s="number"==typeof i?{from:i,to:i}:i,a=s.from,u=s.to;this.hot.batchExecution(function(){Vr(Math.min(a,u),Math.max(a,u),function(c){o.rowHeightsMap.setValueAtIndex(c,null)})},!0)}},{key:"isNeedRecalculate",value:function(){return!!Jd(this.rowHeightsMap.getValues().slice(0,this.measuredRows),function(i){return null===i}).length}},{key:"onBeforeViewRender",value:function(){var i=this.hot.renderCall,o=this.hot.getSettings().fixedRowsBottom,s=this.getFirstVisibleRow(),a=this.getLastVisibleRow();if(-1!==s&&-1!==a){if(this.calculateRowsHeight({from:s,to:a},void 0,i),o){var u=this.hot.countRows()-1;this.calculateRowsHeight({from:u-o,to:u})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}},{key:"onBeforeRowMove",value:function(i,o){this.clearCacheByRange({from:i,to:o}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(i,o,s){var a=i;return s&&(this.calculateRowsHeight(o,void 0,!0),a=this.getRowHeight(o)),a}},{key:"onAfterLoadData",value:function(){var i=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){i.hot&&i.recalculateAllRowsHeight()},0)}},{key:"onBeforeChange",value:function(i){var o=null;1===i.length?o=i[0][0]:i.length>1&&(o={from:i[0][0],to:i[i.length-1][0]}),null!==o&&this.clearCacheByRange(o)}},{key:"destroy",value:function(){this.ghostTable.clean(),dx(my(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return kI}},{key:"PLUGIN_PRIORITY",get:function(){return 40}},{key:"SETTING_KEYS",get:function(){return!0}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}]),t}(Zo),nae=new Map([["indexesSequence",{getListWithInsertedItems:AU,getListWithRemovedItems:w1}],["physicallyIndexed",{getListWithInsertedItems:MU,getListWithRemovedItems:SU}]]),rae=function(e){if(!1===nae.has(e))throw new Error("Alter strategy with ID '".concat(e,"' does not exist."));return nae.get(e)};function EY(n){return(EY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function iae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function U1(){return U1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Q5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},U1.apply(this,arguments)}function Q5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=sw(n)););return n}function TY(n,e){return(TY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function n6e(n,e){if(e&&("object"===EY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function r6e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function sw(n){return(sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var oae=rae("physicallyIndexed"),o6e=oae.getListWithInsertedItems,s6e=oae.getListWithRemovedItems;const l6e=function(n){!function e6e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&TY(n,e)}(t,n);var e=function t6e(n){var e=function i6e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=sw(n);if(e){var o=sw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return n6e(this,i)}}(t);function t(){return function q5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function J5e(n,e,t){e&&iae(n.prototype,e),t&&iae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=kU(this.indexedValues,o);this.indexedValues=o6e(s,i,o,this.initValueOrFn),U1(sw(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){var o=s6e(this.indexedValues,i);this.indexedValues=OU(o,i),U1(sw(t.prototype),"remove",this).call(this,i)}}]),t}(Wb);function RY(n){return(RY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function DY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function sae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function j1(){return j1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=g6e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},j1.apply(this,arguments)}function g6e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=aw(n)););return n}function AY(n,e){return(AY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function _6e(n,e){if(e&&("object"===RY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function b6e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function aw(n){return(aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var aae=rae("physicallyIndexed"),M6e=aae.getListWithInsertedItems,S6e=aae.getListWithRemovedItems;function OY(n){return(OY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hx(){return hx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=R6e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},hx.apply(this,arguments)}function R6e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=gy(n)););return n}function kY(n,e){return(kY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function O6e(n,e){if(e&&("object"===OY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function k6e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function gy(n){return(gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var LY="bindRowsWithHeaders",N6e=new Map([["loose",l6e],["strict",function(n){!function v6e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&AY(n,e)}(t,n);var e=function y6e(n){var e=function w6e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=aw(n);if(e){var o=aw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _6e(this,i)}}(t);function t(){return function p6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function m6e(n,e,t){e&&sae(n.prototype,e),t&&sae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=this;this.indexedValues=M6e(this.indexedValues,i,o,function(a,u){return s.getNextValue(u)}),j1(aw(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=S6e(this.indexedValues,i),j1(aw(t.prototype),"remove",this).call(this,i)}},{key:"getNextValue",value:function(i){return Math.max.apply(Math,function u6e(n){return function f6e(n){if(Array.isArray(n))return DY(n)}(n)||function h6e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function d6e(n,e){if(n){if("string"==typeof n)return DY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return DY(n,e)}}(n)||function c6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.getValues()))+1+i}}]),t}(Wb)]]),F6e=function(n){!function D6e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&kY(n,e)}(t,n);var e=function A6e(n){var e=function L6e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=gy(n);if(e){var o=gy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return O6e(this,i)}}(t);function t(r){var i;return function E6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).headerIndexes=null,i}return function T6e(n,e,t){e&&lae(n.prototype,e),t&&lae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[LY]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[LY];"string"!=typeof o&&(o="loose");var s=N6e.get(o);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new s),this.addHook("modifyRowHeader",function(a){return i.onModifyRowHeader(a)}),hx(gy(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),hx(gy(t.prototype),"disablePlugin",this).call(this)}},{key:"onModifyRowHeader",value:function(i){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(i))}},{key:"destroy",value:function(){hx(gy(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return LY}},{key:"PLUGIN_PRIORITY",get:function(){return 210}}]),t}(Zo);function PY(n){return(PY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function uae(n){return function z6e(n){if(Array.isArray(n))return IY(n)}(n)||function V6e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function B6e(n,e){if(n){if("string"==typeof n)return IY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return IY(n,e)}}(n)||function H6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function U6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function lw(){return lw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=W6e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},lw.apply(this,arguments)}function W6e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=zm(n)););return n}function NY(n,e){return(NY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $6e(n,e){if(e&&("object"===PY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fx(n)}function fx(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zm(n){return(zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function K6e(n,e,t){(function Z6e(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function FY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dae(n,e){return function q6e(n,e){return e.get?e.get.call(n):e.value}(n,hae(n,e,"get"))}function HY(n,e,t){return function J6e(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,hae(n,e,"set"),t),t}function hae(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var BY="collapsibleColumns",e8e=["nestedHeaders"],fae=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]),px=new WeakMap,t8e=function(n){!function Y6e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&NY(n,e)}(t,n);var e=function G6e(n){var e=function X6e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=zm(n);if(e){var o=zm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $6e(this,i)}}(t);function t(){var r;U6e(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return FY(fx(r=e.call.apply(e,[this].concat(o))),"nestedHeadersPlugin",null),FY(fx(r),"eventManager",new ra(fx(r))),FY(fx(r),"headerStateManager",null),K6e(fx(r),px,{writable:!0,value:null}),r}return function j6e(n,e,t){e&&cae(n.prototype,e),t&&cae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[BY]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.hot.getSettings().nestedHeaders||Cs("You need to configure the Nested Headers plugin in order to use collapsible headers."),HY(this,px,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",function(){return i.onInit()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("afterGetColHeader",function(a,u){return i.onAfterGetColHeader(a,u)}),this.addHook("beforeOnCellMouseDown",function(a,u,c){return i.onBeforeOnCellMouseDown(a,u,c)}),lw(zm(t.prototype),"enablePlugin",this).call(this),this.updatePlugin())}},{key:"updatePlugin",value:function(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){var o=this.hot.getSettings().collapsibleColumns;"boolean"==typeof o?this.headerStateManager.mapState(function(s){return{collapsible:s.origColspan>1}}):Array.isArray(o)&&(this.headerStateManager.mapState(function(){return{collapsible:!1}}),this.headerStateManager.mergeStateWith(o))}lw(zm(t.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),HY(this,px,null),this.nestedHeadersPlugin=null,this.clearButtons(),lw(zm(t.prototype),"disablePlugin",this).call(this)}},{key:"clearButtons",value:function(){if(this.hot.view){var i=this.hot.view._wt.getSetting("columnHeaders").length,o=this.hot.view._wt.wtTable.THEAD,s=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,a=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,u=function(h){h&&h.parentNode.removeChild(h)};Vr(0,i-1,function(c){var h=o.childNodes[c],p=s.childNodes[c],g=a?a.childNodes[c]:null;Vr(0,h.childNodes.length-1,function(y){var w=h.childNodes[y].querySelector(".collapsibleIndicator");u(w),p&&p.childNodes[y]&&(w=p.childNodes[y].querySelector(".collapsibleIndicator"),u(w)),a&&g&&g.childNodes[y]&&(w=g.childNodes[y].querySelector(".collapsibleIndicator"),u(w))})})}}},{key:"expandSection",value:function(i){this.toggleCollapsibleSection([i],"expand")}},{key:"collapseSection",value:function(i){this.toggleCollapsibleSection([i],"collapse")}},{key:"toggleAllCollapsibleSections",value:function(i){var o=this,s=this.headerStateManager.mapNodes(function(a){var p=a.columnIndex,g=a.isCollapsed;if(!0===a.collapsible&&a.origColspan>1&&(g&&"expand"===i||!g&&"collapse"===i))return{row:o.headerStateManager.levelToRowCoords(a.headerLevel),col:p}});this.toggleCollapsibleSection(s,i)}},{key:"collapseAll",value:function(){this.toggleAllCollapsibleSections("collapse")}},{key:"expandAll",value:function(){this.toggleAllCollapsibleSections("expand")}},{key:"toggleCollapsibleSection",value:function(i,o){var s=this;if(!fae.has(o))throw new Error("Unsupported action is passed (".concat(o,")."));if(Array.isArray(i)){var a=Jd(i,function(C){return C.row<0}),u=a.length>0;tt(a,function(C){var P,j=null!==(P=s.headerStateManager.getHeaderSettings(C.row,C.col))&&void 0!==P?P:{},ie=j.isCollapsed;if(!j.collapsible||ie&&"collapse"===o||!ie&&"expand"===o)return u=!1,!1});var c=[],h=[];u&&tt(a,function(C){var z=s.headerStateManager.triggerNodeModification(o,C.row,C.col),ie=z.rollbackModification;z.colspanCompensation>0&&(h.push.apply(h,uae(z.affectedColumns)),c.push(ie))});var p=this.getCollapsedColumns(),g=[];"collapse"===o?g=zQ([].concat(uae(p),h)):"expand"===o&&(g=Jd(p,function(C){return!h.includes(C)}));var y=fae.get(o);if(!1===this.hot.runHooks(y.beforeHook,p,g,u))return void tt(c,function(C){C()});this.hot.batchExecution(function(){tt(h,function(C){dae(s,px).setValueAtIndex(s.hot.toPhysicalColumn(C),y.hideColumn)})},!0);var S=this.getCollapsedColumns().length!==p.length;this.hot.runHooks(y.afterHook,p,g,u,S),this.hot.render(),this.hot.view.adjustElementsSize(!0)}}},{key:"getCollapsedColumns",value:function(){return dae(this,px).getHiddenIndexes()}},{key:"generateIndicator",value:function(i,o){var s=this.hot.rootDocument.createElement("div"),a=this.headerStateManager.getHeaderSettings(i,o);return Rn(s,"collapsibleIndicator"),a.isCollapsed?(Rn(s,"collapsed"),Ib(s,"+")):(Rn(s,"expanded"),Ib(s,"-")),s}},{key:"onAfterGetColHeader",value:function(i,o){var s,a=o.parentNode,u=a.parentNode,c=-1*u.childNodes.length+Array.prototype.indexOf.call(u.childNodes,a),h=null!==(s=this.headerStateManager.getHeaderSettings(c,i))&&void 0!==s?s:{};if(h.collapsible&&h.origColspan>1&&i>=this.hot.getSettings().fixedColumnsStart){var y=this.generateIndicator(c,i);o.querySelector("div:first-child").appendChild(y)}}},{key:"onBeforeOnCellMouseDown",value:function(i,o){Ci(i.target,"collapsibleIndicator")&&(Ci(i.target,"expanded")?(this.eventManager.fireEvent(i.target,"mouseup"),this.toggleCollapsibleSection([o],"collapse")):Ci(i.target,"collapsed")&&(this.eventManager.fireEvent(i.target,"mouseup"),this.toggleCollapsibleSection([o],"expand")),rp(i))}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(i,o){o||this.updatePlugin()}},{key:"destroy",value:function(){HY(this,px,null),lw(zm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return BY}},{key:"PLUGIN_PRIORITY",get:function(){return 290}},{key:"PLUGIN_DEPS",get:function(){return["plugin:NestedHeaders"]}},{key:"SETTING_KEYS",get:function(){return[BY].concat(e8e)}}]),t}(Zo);function pae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function r8e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mae(n,e){return function a8e(n){if(Array.isArray(n))return n}(n)||function s8e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function o8e(n,e){if(n){if("string"==typeof n)return gae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gae(n,e)}}(n,e)||function i8e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var c8e=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],p8e=function(){function n(e,t){(function l8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.sortingStates=new EP,this.sortEmptyCells=!1,this.indicator=!0,this.headerAction=!0,this.compareFunctionFactory=void 0,this.mapName=t,this.hot.columnIndexMapper.registerMap(t,this.sortingStates)}return function u8e(n,e,t){e&&vae(n.prototype,e),t&&vae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateAllColumnsProperties",value:function(t){var r=this;!Yi(t)||io(t,function(i,o){c8e.includes(o)&&(r[o]=i)})}},{key:"getAllColumnsProperties",value:function(){var t={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return"function"==typeof this.compareFunctionFactory&&(t.compareFunctionFactory=this.compareFunctionFactory),t}},{key:"getSortOrderOfColumn",value:function(t){var r;return null===(r=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))||void 0===r?void 0:r.sortOrder}},{key:"getIndexOfColumnInSortQueue",value:function(t){return t=this.hot.toPhysicalColumn(t),this.sortingStates.getEntries().findIndex(function(r){return mae(r,1)[0]===t})}},{key:"getNumberOfSortedColumns",value:function(){return this.sortingStates.getLength()}},{key:"isListOfSortedColumnsEmpty",value:function(){return 0===this.getNumberOfSortedColumns()}},{key:"isColumnSorted",value:function(t){return Yi(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))}},{key:"getSortStates",value:function(){var t=this;return null===this.sortingStates?[]:this.sortingStates.getEntries().map(function(i){var o=mae(i,2),a=o[1];return function n8e(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?pae(Object(t),!0).forEach(function(r){r8e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pae(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({column:t.hot.toVisualColumn(o[0])},a)})}},{key:"getColumnSortState",value:function(t){var r=this.getSortOrderOfColumn(t);if(fr(r))return{column:t,sortOrder:r}}},{key:"setSortStates",value:function(t){this.sortingStates.clear();for(var r=0;r<t.length;r+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(t[r].column),{sortOrder:t[r].sortOrder})}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}]),n}(),LI="asc",PI="desc";function yae(n){if(n!==PI)return n===LI?PI:LI}function _ae(n){return n.querySelector(".".concat("colHeader"))}function bae(n,e){if(n<0||!e.parentNode)return!1;var t=e.parentNode.parentNode.childNodes;return-1==Array.from(t).indexOf(e.parentNode)-t.length}function VY(n,e,t){return-1===n&&e>=0&&!1===Fb(t)}var wae="indicatorDisabled",Mae="columnSorting",Sae="sortAction",xae=new Map([[LI,"ascending"],[PI,"descending"]]);function b8e(n,e,t,r){var i=[Mae];if(r&&i.push(Sae),!1===t)return i.push(wae),i;var o=n.getSortOrderOfColumn(e);return fr(o)&&i.push(xae.get(o)),i}function w8e(){return Array.from(xae.values()).concat(Sae,wae,Mae)}function Cae(n,e,t){var r=e.locale;return function(i,o){var s=t.sortEmptyCells;return"string"==typeof i&&(i=i.toLocaleLowerCase(r)),"string"==typeof o&&(o=o.toLocaleLowerCase(r)),i===o?0:cl(i)?cl(o)?0:s&&"asc"===n?-1:1:cl(o)?s&&"asc"===n?1:-1:isNaN(i)&&!isNaN(o)?"asc"===n?1:-1:!isNaN(i)&&isNaN(o)||(isNaN(i)||isNaN(o)||(i=parseFloat(i),o=parseFloat(o)),i<o)?"asc"===n?-1:1:i>o?"asc"===n?1:-1:0}}var zY=Qd("sorting.compareFunctionFactory"),II=zY.register,Tae=zY.getItem,D8e=zY.hasItem,Rae=Qd("sorting.mainSortComparator"),Dae=Rae.register,A8e=Rae.getItem;function Aae(n){return D8e(n)?Tae(n):Tae("default")}function Oae(n){return function P8e(n){if(Array.isArray(n))return n}(n)||function L8e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function k8e(n,e){if(n){if("string"==typeof n)return kae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kae(n,e)}}(n)||function O8e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function UY(n){return(UY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}II("numeric",function S8e(n,e,t){return function(r,i){var o=parseFloat(r),s=parseFloat(i),a=t.sortEmptyCells;if(o===s||isNaN(o)&&isNaN(s))return 0;if(a){if(cl(r))return"asc"===n?-1:1;if(cl(i))return"asc"===n?1:-1}return isNaN(o)?1:isNaN(s)?-1:o<s?"asc"===n?-1:1:o>s?"asc"===n?1:-1:0}}),II("checkbox",function C8e(n,e,t){var r=e.checkedTemplate,i=e.uncheckedTemplate,o=t.sortEmptyCells;return function(s,a){var u=cl(s),c=cl(a),h=u?i:s,p=c?i:a,g=h===i||h===r,y=p===i||p===r;if(!1===o){if(u&&!1===c)return 1;if(!1===u&&c)return-1}return!1===g&&y?"asc"===n?-1:1:g&&!1===y?"asc"===n?1:-1:!1===g&&!1===y?Cae(n,e,t)(s,a):h===i&&p===r?"asc"===n?-1:1:h===r&&p===i?"asc"===n?1:-1:0}}),II("date",function T8e(n,e,t){return function(r,i){var o=t.sortEmptyCells;if(r===i)return 0;if(cl(r))return cl(i)?0:o&&"asc"===n?-1:1;if(cl(i))return o&&"asc"===n?1:-1;var s=e.dateFormat,a=as(r,s),u=as(i,s);return a.isValid()?u.isValid()?u.isAfter(a)?"asc"===n?-1:1:u.isBefore(a)?"asc"===n?1:-1:0:-1:1}}),II("default",Cae);var N8e=["column"],F8e=["column"];function mx(n){return function z8e(n){if(Array.isArray(n))return jY(n)}(n)||function V8e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function B8e(n,e){if(n){if("string"==typeof n)return jY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jY(n,e)}}(n)||function H8e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Lae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pae(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Lae(Object(t),!0).forEach(function(r){U8e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lae(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function U8e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Iae(n,e){if(null==n)return{};var r,i,t=function j8e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function Nae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function uw(){return uw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=G8e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},uw.apply(this,arguments)}function G8e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Um(n)););return n}function WY(n,e){return(WY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function K8e(n,e){if(e&&("object"===UY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Z8e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Um(n){return(Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var YY="columnSorting",Fae="append";Dae(YY,function I8e(n,e){return function(t,r){var h,p,g,y,w,o=Oae(t).slice(1),a=Oae(r).slice(1);return h=n[0],g=o[0],y=a[0],((w=(p=e[0]).columnSorting).compareFunctionFactory?w.compareFunctionFactory:Aae(p.type))(h,p,w)(g,y)}}),xr.getSingleton().register("beforeColumnSort"),xr.getSingleton().register("afterColumnSort");var Hae=function(n){!function $8e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&WY(n,e)}(t,n);var e=function X8e(n){var e=function q8e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Um(n);if(e){var o=Um(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return K8e(this,i)}}(t);function t(r){var i;return function W8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).columnStatesManager=null,i.columnMetaCache=null,i.pluginKey=YY,i.indexesSequenceCache=null,i}return function Y8e(n,e,t){e&&Nae(n.prototype,e),t&&Nae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[this.pluginKey]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.columnStatesManager=new p8e(this.hot,"".concat(this.pluginKey,".sortingStates")),this.columnMetaCache=new iy(function(o){var s=i.hot.toVisualColumn(o);return null===s&&(s=o),i.getMergedPluginSettings(s)}),this.hot.columnIndexMapper.registerMap("".concat(this.pluginKey,".columnMeta"),this.columnMetaCache),this.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("afterOnCellMouseDown",function(o,s){return i.onAfterOnCellMouseDown(o,s)}),this.addHook("afterInit",function(){return i.loadOrSortBySettings()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.hot.view&&this.loadOrSortBySettings(),uw(Um(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var i=this,o=function(a,u){var c=_ae(u);!1===bae(a,u)||null===c||i.updateHeaderClasses(c)};this.hot.addHook("afterGetColHeader",o),this.hot.addHookOnce("afterViewRender",function(){i.hot.removeHook("afterGetColHeader",o)}),this.hot.batchExecution(function(){null!==i.indexesSequenceCache&&(i.hot.rowIndexMapper.setIndexesSequence(i.indexesSequenceCache.getValues()),i.hot.rowIndexMapper.unregisterMap(i.pluginKey))},!0),this.hot.columnIndexMapper.unregisterMap("".concat(this.pluginKey,".columnMeta")),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,uw(Um(t.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(i){var o=this.getSortConfig(),s=this.getNormalizedSortConfigs(i),a=this.areValidSortConfigs(s);!1!==this.hot.runHooks("beforeColumnSort",o,s,a)&&(0===o.length&&null===this.indexesSequenceCache&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new Lne),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),a&&(this.columnStatesManager.setSortStates(s),this.sortByPresetSortStates(s),this.saveAllSortSettings(s)),this.hot.runHooks("afterColumnSort",o,a?s:o,a),a&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}},{key:"clearSort",value:function(){this.sort([])}},{key:"isSorted",value:function(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}},{key:"getSortConfig",value:function(i){return fr(i)?this.columnStatesManager.getColumnSortState(i):this.columnStatesManager.getSortStates()}},{key:"setSortConfig",value:function(i){var o=this.getNormalizedSortConfigs(i);this.areValidSortConfigs(o)&&this.columnStatesManager.setSortStates(o)}},{key:"getNormalizedSortConfigs",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(i)?i.slice(0,1):[i]}},{key:"areValidSortConfigs",value:function(i){var o=this.hot.countCols();return function v8e(n){if(n.some(function(t){return!1===function g8e(n){if(!1===Yi(n))return!1;var t=n.sortOrder;return Number.isInteger(n.column)&&[LI,PI].includes(t)}(t)}))return!1;var e=n.map(function(t){return t.column});return new Set(e).size===e.length}(i)&&i.every(function(s){var a=s.column;return a<=o&&a>=0})}},{key:"saveAllSortSettings",value:function(i){var o=this,s=this.columnStatesManager.getAllColumnsProperties();s.initialConfig=Ji(i,function(c){var h=c.column,p=Iae(c,N8e);return Pae({column:o.hot.toPhysicalColumn(h)},p)}),this.hot.runHooks("persistentStateSave","columnSorting",s)}},{key:"getAllSavedSortSettings",value:function(){var i=this,o={};this.hot.runHooks("persistentStateLoad","columnSorting",o);var s=o.value;return fr(s)&&Array.isArray(s.initialConfig)&&(s.initialConfig=Ji(s.initialConfig,function(c){var h=c.column,p=Iae(c,F8e);return Pae({column:i.hot.toVisualColumn(h)},p)})),s}},{key:"getColumnNextConfig",value:function(i){var o=this.columnStatesManager.getSortOrderOfColumn(i);if(fr(o)){var s=yae(o);return fr(s)?{column:i,sortOrder:s}:void 0}var a=this.hot.countCols();if(Number.isInteger(i)&&i>=0&&i<a)return{column:i,sortOrder:yae()}}},{key:"getNextSortConfig",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fae,s=this.columnStatesManager.getIndexOfColumnInSortQueue(i),a=-1!==s,u=this.getSortConfig(),c=this.getColumnNextConfig(i);if(a){if(Fs(c))return[].concat(mx(u.slice(0,s)),mx(u.slice(s+1)));if(o===Fae)return[].concat(mx(u.slice(0,s)),mx(u.slice(s+1)),[c]);if("replace"===o)return[].concat(mx(u.slice(0,s)),[c],mx(u.slice(s+1)))}return fr(c)?u.concat(c):u}},{key:"getPluginColumnConfig",value:function(i){if(Yi(i)){var o=i[this.pluginKey];if(Yi(o))return o}return{}}},{key:"getMergedPluginSettings",value:function(i){var o=this.hot.getSettings()[this.pluginKey],s=this.columnStatesManager.getAllColumnsProperties(),a=this.hot.getCellMeta(0,i),u=Object.getPrototypeOf(a);return Array.isArray(u.columns)?Object.assign(s,o,this.getPluginColumnConfig(u.columns[i])):xs(u.columns)?Object.assign(s,o,this.getPluginColumnConfig(u.columns(i))):Object.assign(s,o)}},{key:"getFirstCellSettings",value:function(i){var o=this.hot.getCellMeta(0,i),s=Object.create(o);return s[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(i)),s}},{key:"getNumberOfRowsToSort",value:function(i){var o=this.hot.getSettings();return o.maxRows<=i?o.maxRows:i-o.minSpareRows}},{key:"sortByPresetSortStates",value:function(i){var o=this;if(0!==i.length){for(var s=[],a=this.hot.countRows(),u=function(C){return Ji(i,function(P){return o.hot.getDataAtCell(C,P.column)})},c=0;c<this.getNumberOfRowsToSort(a);c+=1)s.push([this.hot.toPhysicalRow(c)].concat(u(c)));var h=Ji(s,function(S){return S[0]});!function M8e(n,e){for(var t=A8e(e),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];n.sort(t.apply(void 0,i))}(s,this.pluginKey,Ji(i,function(S){return S.sortOrder}),Ji(i,function(S){return o.getFirstCellSettings(S.column)}));for(var p=s.length;p<a;p+=1)s.push([p].concat(u(p)));var g=Ji(s,function(S){return S[0]}),y=new Map(Ji(h,function(S,C){return[S,g[C]]})),w=Ji(this.hot.rowIndexMapper.getIndexesSequence(),function(S){return y.has(S)?y.get(S):S});this.hot.rowIndexMapper.setIndexesSequence(w)}else this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues())}},{key:"loadOrSortBySettings",value:function(){var i=this.getAllSavedSortSettings();if(Yi(i))this.sortBySettings(i);else{var o=this.hot.getSettings()[this.pluginKey];this.sortBySettings(o)}}},{key:"sortBySettings",value:function(i){if(Yi(i)){this.columnStatesManager.updateAllColumnsProperties(i);var o=i.initialConfig;(Array.isArray(o)||Yi(o))&&this.sort(o)}else this.hot.render()}},{key:"onAfterGetColHeader",value:function(i,o){var s=_ae(o);if(!1!==bae(i,o)&&null!==s){var a=this.getFirstCellSettings(i)[this.pluginKey];this.updateHeaderClasses(s,this.columnStatesManager,i,a.indicator,a.headerAction)}}},{key:"updateHeaderClasses",value:function(i){if(Bi(i,w8e()),!1!==this.enabled){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];Rn(i,b8e.apply(void 0,s))}}},{key:"onUpdateSettings",value:function(i){uw(Um(t.prototype),"onUpdateSettings",this).call(this),null!==this.columnMetaCache&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),fr(i[this.pluginKey])&&this.sortBySettings(i[this.pluginKey])}},{key:"onAfterLoadData",value:function(i){!0===i&&this.hot.view&&this.loadOrSortBySettings()}},{key:"wasClickableHeaderClicked",value:function(i,o){return this.getFirstCellSettings(o)[this.pluginKey].headerAction&&"SPAN"===i.target.nodeName}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){!1!==VY(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(a.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(i,o){!1!==VY(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&(this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(o.col)),this.sort(this.getColumnNextConfig(o.col)))}},{key:"destroy",value:function(){var i;null===(i=this.columnStatesManager)||void 0===i||i.destroy(),uw(Um(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return YY}},{key:"PLUGIN_PRIORITY",get:function(){return 50}}]),t}(Zo);function Bae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}b(7528);const r9e=function(){function n(e,t){(function e9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=this.plugin.hot,this.endpoints=[],this.settings=t,this.settingsType="array",this.currentEndpoint=null,this.cellsToSetCache=[]}return function t9e(n,e,t){e&&Bae(n.prototype,e),t&&Bae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getEndpoint",value:function(t){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings)[t]:this.endpoints[t]}},{key:"getAllEndpoints",value:function(){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings):this.endpoints}},{key:"fillMissingEndpointData",value:function(t){return this.parseSettings(t.call(this))}},{key:"parseSettings",value:function(t){var r=this,i=[],o=t;if(o||"function"!=typeof this.settings)return o||(o=this.settings),tt(o,function(s){var a={};r.assignSetting(s,a,"ranges",[[0,r.hot.countRows()-1]]),r.assignSetting(s,a,"reversedRowCoords",!1),r.assignSetting(s,a,"destinationRow",new Error("\n        You must provide a destination row for the Column Summary plugin in order to work properly!\n      ")),r.assignSetting(s,a,"destinationColumn",new Error("\n        You must provide a destination column for the Column Summary plugin in order to work properly!\n      ")),r.assignSetting(s,a,"sourceColumn",s.destinationColumn),r.assignSetting(s,a,"type","sum"),r.assignSetting(s,a,"forceNumeric",!1),r.assignSetting(s,a,"suppressDataTypeErrors",!0),r.assignSetting(s,a,"suppressDataTypeErrors",!0),r.assignSetting(s,a,"customFunction",null),r.assignSetting(s,a,"readOnly",!0),r.assignSetting(s,a,"roundFloat",!1),i.push(a)}),i;this.settingsType="function"}},{key:"assignSetting",value:function(t,r,i,o){if("ranges"!==i||void 0!==t[i]){if("ranges"!==i||0!==t[i].length)if(void 0===t[i]){if(o instanceof Error)throw o;r[i]=o}else r[i]="destinationRow"===i&&r.reversedRowCoords?this.hot.countRows()-t[i]-1:t[i]}else r[i]=o}},{key:"resetSetupBeforeStructureAlteration",value:function(t,r,i){if("function"===this.settingsType){var o=t.indexOf("row")>-1?"row":"col",s=this.getAllEndpoints();tt(s,function(a){"row"===o&&a.destinationRow>=r&&("insert_row"===t?a.alterRowOffset=i:"remove_row"===t&&(a.alterRowOffset=-1*i)),"col"===o&&a.destinationColumn>=r&&("insert_col"===t?a.alterColumnOffset=i:"remove_col"===t&&(a.alterColumnOffset=-1*i))}),this.resetAllEndpoints(s,!1)}}},{key:"resetSetupAfterStructureAlteration",value:function(t,r,i,o,s){var a=this,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if("function"!==this.settingsType){var h=t.indexOf("row")>-1?"row":"col",p=t.indexOf("remove")>-1?-1:1,g=this.getAllEndpoints(),y=0===t.indexOf("move_row"),w=r;tt(g,function(S){"row"===h&&S.destinationRow>=w&&(S.alterRowOffset=p*i),"col"===h&&S.destinationColumn>=w&&(S.alterColumnOffset=p*i)}),this.resetAllEndpoints(g,!y),tt(g,y?function(S){a.extendEndpointRanges(S,w,o[0],o.length),a.recreatePhysicalRanges(S),a.clearOffsetInformation(S)}:function(S){a.shiftEndpointCoordinates(S,w)}),u&&this.refreshAllEndpoints()}else{var c=function S(){return a.hot.removeHook("beforeViewRender",S),a.refreshAllEndpoints()};this.hot.addHookOnce("beforeViewRender",c)}}},{key:"clearOffsetInformation",value:function(t){t.alterRowOffset=void 0,t.alterColumnOffset=void 0}},{key:"extendEndpointRanges",value:function(t,r,i,o){tt(t.ranges,function(s){s[1]&&(r>=s[0]&&r<=s[1]?i>s[1]?s[1]+=o:i<s[0]&&(s[0]-=o):i>=s[0]&&i<=s[1]&&(s[1]-=o,r<=s[0]&&(s[0]+=1,s[1]+=1)))})}},{key:"recreatePhysicalRanges",value:function(t){var r=this,o=[],s=[];tt(t.ranges,function(a){var u=[];if(a[1])for(var c=a[0];c<=a[1];c++)u.push(r.hot.toPhysicalRow(c));else u.push(r.hot.toPhysicalRow(a[0]));s.push(u)}),tt(s,function(a){var u=[];tt(a,function(c,h){0===h?u.push(c):a[h]!==a[h-1]+1&&(u.push(a[h-1]),o.push(u),(u=[]).push(c)),h===a.length-1&&(u.push(c),o.push(u))})}),t.ranges=o}},{key:"shiftEndpointCoordinates",value:function(t,r){t.alterRowOffset&&0!==t.alterRowOffset?(t.destinationRow+=t.alterRowOffset||0,tt(t.ranges,function(i){tt(i,function(o,s){o>=r&&(i[s]+=t.alterRowOffset||0)})})):t.alterColumnOffset&&0!==t.alterColumnOffset&&(t.destinationColumn+=t.alterColumnOffset||0,t.sourceColumn+=t.alterColumnOffset||0)}},{key:"resetAllEndpoints",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAllEndpoints(),i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=r.some(function(s){var u=s.alterColumnOffset||0;return s.destinationRow+(s.alterRowOffset||0)>=t.hot.countRows()||s.destinationColumn+u>=t.hot.countCols()});o||(this.cellsToSetCache=[],tt(r,function(s){t.resetEndpointValue(s,i)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}},{key:"refreshAllEndpoints",value:function(){var t=this;this.cellsToSetCache=[],tt(this.getAllEndpoints(),function(r){t.currentEndpoint=r,t.plugin.calculate(r),t.setEndpointValue(r,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshChangedEndpoints",value:function(t){var r=this,i=[];this.cellsToSetCache=[],tt(t,function(o,s,a){"".concat(o[2]||"")!=="".concat(o[3])&&tt(r.getAllEndpoints(),function(u,c){r.hot.propToCol(a[s][1])===u.sourceColumn&&-1===i.indexOf(c)&&i.push(c)})}),tt(i,function(o){r.refreshEndpoint(r.getEndpoint(o))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshEndpoint",value:function(t){this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t),this.currentEndpoint=null}},{key:"resetEndpointValue",value:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.alterRowOffset||0,o=t.alterColumnOffset||0,s=[this.hot.toVisualRow(t.destinationRow),this.hot.toVisualColumn(t.destinationColumn)],a=s[0],u=s[1];if(null!==u&&null!==a){var c=this.hot.getCellMeta(a,u);c.readOnly=!1,c.className=""}this.cellsToSetCache.push([this.hot.toVisualRow(t.destinationRow+(r?i:0)),this.hot.toVisualColumn(t.destinationColumn+(r?o:0)),""])}},{key:"setEndpointValue",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1*t.alterRowOffset||0,s=-1*t.alterColumnOffset||0,a=this.hot.toVisualRow(t.destinationRow);if(t.destinationRow>=this.hot.countRows()||t.destinationColumn>=this.hot.countCols())this.throwOutOfBoundsWarning();else{var u=this.hot.toVisualRow(t.destinationRow+o);if(null!==u){var c=this.hot.getCellMeta(u,t.destinationColumn+s);("init"===r||c.readOnly!==t.readOnly)&&(c.readOnly=t.readOnly,c.className="columnSummaryResult")}t.roundFloat&&!isNaN(t.result)&&(t.result=t.result.toFixed(t.roundFloat)),i?this.hot.setDataAtCell(a,t.destinationColumn,t.result,"ColumnSummary.set"):this.cellsToSetCache.push([a,t.destinationColumn,t.result]),t.alterRowOffset=void 0,t.alterColumnOffset=void 0}}},{key:"throwOutOfBoundsWarning",value:function(){Cs("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}]),n}();function GY(n){return null==n||isNaN(n)}function $Y(n){return($Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Vae;function zae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function NI(){return NI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=a9e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},NI.apply(this,arguments)}function a9e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=gx(n)););return n}function XY(n,e){return(XY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function c9e(n,e){if(e&&("object"===$Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function d9e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function gx(n){return(gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var KY="columnSummary",p9e=function(n){!function l9e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&XY(n,e)}(t,n);var e=function u9e(n){var e=function h9e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=gx(n);if(e){var o=gx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return c9e(this,i)}}(t);function t(r){var i;return function o9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).endpoints=null,i}return function s9e(n,e,t){e&&zae(n.prototype,e),t&&zae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[KY]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.settings=this.hot.getSettings()[KY],this.endpoints=new r9e(this,this.settings),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("afterChange",function(){return i.onAfterChange.apply(i,arguments)}),this.addHook("beforeCreateRow",function(o,s,a){return i.endpoints.resetSetupBeforeStructureAlteration("insert_row",o,s,null,a)}),this.addHook("beforeCreateCol",function(o,s,a){return i.endpoints.resetSetupBeforeStructureAlteration("insert_col",o,s,null,a)}),this.addHook("beforeRemoveRow",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupBeforeStructureAlteration.apply(o,["remove_row"].concat(a))}),this.addHook("beforeRemoveCol",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupBeforeStructureAlteration.apply(o,["remove_col"].concat(a))}),this.addHook("afterCreateRow",function(o,s,a){return i.endpoints.resetSetupAfterStructureAlteration("insert_row",o,s,null,a)}),this.addHook("afterCreateCol",function(o,s,a){return i.endpoints.resetSetupAfterStructureAlteration("insert_col",o,s,null,a)}),this.addHook("afterRemoveRow",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupAfterStructureAlteration.apply(o,["remove_row"].concat(a))}),this.addHook("afterRemoveCol",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupAfterStructureAlteration.apply(o,["remove_col"].concat(a))}),this.addHook("afterRowMove",function(){return i.onAfterRowMove.apply(i,arguments)}),NI(gx(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.endpoints=null,this.settings=null,this.currentEndpoint=null}},{key:"calculate",value:function(i){switch(i.type.toLowerCase()){case"sum":i.result=this.calculateSum(i);break;case"min":case"max":i.result=this.calculateMinMax(i,i.type);break;case"count":i.result=this.countEntries(i);break;case"average":i.result=this.calculateAverage(i);break;case"custom":i.result=i.customFunction.call(this,i)}}},{key:"calculateSum",value:function(i){var o=this,s=0;return io(i.ranges,function(a){s+=o.getPartialSum(a,i.sourceColumn)}),s}},{key:"getPartialSum",value:function(i,o){var s=0,a=i[1]||i[0],u=null,c=0;do{if(null!==(u=GY(u=this.getCellValue(a,o))?null:u)){var h=("".concat(u).split(".")[1]||[]).length||1;h>c&&(c=h)}s+=u||0,a-=1}while(a>=i[0]);return Math.round(s*Math.pow(10,c))/Math.pow(10,c)}},{key:"calculateMinMax",value:function(i,o){var s=this,a=null;return io(i.ranges,function(u){var c=s.getPartialMinMax(u,i.sourceColumn,o);if(null===a&&null!==c&&(a=c),null!==c)switch(o){case"min":a=Math.min(a,c);break;case"max":a=Math.max(a,c)}}),null===a?"Not enough data":a}},{key:"getPartialMinMax",value:function(i,o,s){var c,a=null,u=i[1]||i[0];do{if(c=GY(c=this.getCellValue(u,o))?null:c,null===a)a=c;else if(null!==c)switch(s){case"min":a=Math.min(a,c);break;case"max":a=Math.max(a,c)}u-=1}while(u>=i[0]);return a}},{key:"countEmpty",value:function(i,o){var s,a=0,u=i[1]||i[0];do{null===(s=GY(s=this.getCellValue(u,o))?null:s)&&(a+=1),u-=1}while(u>=i[0]);return a}},{key:"countEntries",value:function(i){var o=this,s=0;return io(i.ranges,function(u){var c=void 0===u[1]?1:u[1]-u[0]+1,h=o.countEmpty(u,i.sourceColumn);s+=c,s-=h}),s}},{key:"calculateAverage",value:function(i){return this.calculateSum(i)/this.countEntries(i)}},{key:"getCellValue",value:function(i,o){var s=this.hot.toVisualRow(i),a=this.hot.toVisualColumn(o),u=this.hot.getSourceDataAtCell(i,o),c="";if(null!==s&&null!==a&&(c=this.hot.getCellMeta(s,a).className||""),c.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&("string"==typeof u&&(u=u.replace(/,/,".")),u=parseFloat(u)),isNaN(u)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(ds(Vae||(Vae=function i9e(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["ColumnSummary plugin: cell at (",", ",") is not in a \n          numeric format. Cannot do the calculation."],["ColumnSummary plugin: cell at (",", ",") is not in a\\x20\n          numeric format. Cannot do the calculation."])),i,o));return u}},{key:"onAfterInit",value:function(){this.endpoints.endpoints=this.endpoints.parseSettings(),this.endpoints.refreshAllEndpoints(!0)}},{key:"onAfterChange",value:function(i,o){i&&"ColumnSummary.reset"!==o&&"ColumnSummary.set"!==o&&"loadData"!==o&&this.endpoints.refreshChangedEndpoints(i)}},{key:"onAfterRowMove",value:function(i,o){this.endpoints.resetSetupBeforeStructureAlteration("move_row",i[0],i.length,i,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",o,i.length,i,this.pluginName)}}],[{key:"PLUGIN_KEY",get:function(){return KY}},{key:"PLUGIN_PRIORITY",get:function(){return 220}}]),t}(Zo);function Uae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const y9e=function(){function n(e,t){(function m9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootDocument=e,this.isRtl=t,this.container=null,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}return function g9e(n,e,t){e&&Uae(n.prototype,e),t&&Uae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setPosition",value:function(t,r){this.editorStyle.left="".concat(t,"px"),this.editorStyle.top="".concat(r,"px")}},{key:"setSize",value:function(t,r){if(t&&r){var i=this.getInputElement();i.style.width="".concat(t,"px"),i.style.height="".concat(r,"px")}}},{key:"getSize",value:function(){return{width:cs(this.getInputElement()),height:na(this.getInputElement())}}},{key:"resetSize",value:function(){var t=this.getInputElement();t.style.width="",t.style.height=""}},{key:"setReadOnlyState",value:function(t){this.getInputElement().readOnly=t}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.hidden||(this.editorStyle.display="none"),this.hidden=!0}},{key:"isVisible",value:function(){return"block"===this.editorStyle.display}},{key:"setValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t||"";this.getInputElement().value=r}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return this.rootDocument.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var t=this.rootDocument.createElement("div"),r=this.rootDocument.createElement("textarea");return t.style.display="none",this.container=this.rootDocument.createElement("div"),this.container.setAttribute("dir",this.isRtl?"rtl":"ltr"),Rn(this.container,n.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),Rn(t,n.CLASS_EDITOR),Rn(r,n.CLASS_INPUT),t.appendChild(r),this.container.appendChild(t),t}},{key:"getInputElement",value:function(){return this.editor.querySelector(".".concat(n.CLASS_INPUT))}},{key:"destroy",value:function(){var t=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,t&&t.removeChild(this.container)}}],[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}]),n}();var Qi="---------";function FI(n){return Ci(n,"htSeparator")}function HI(n){return Ci(n,"htDisabled")}function BI(n){return Ci(n,"htSelectionDisabled")}function cw(n){var e=n.getSelected();return!e||e[0]<0?null:e}function dw(n,e){var t={};return tt(n,function(r){r.forAll(function(i,o){i>=0&&o>=0&&(t[i]||(t[i]=[]),t[i][o]=e(i,o))})}),t}function vy(n,e,t,r,i){tt(n,function(o){o.forAll(function(s,a){s>=0&&a>=0&&function x9e(n,e,t,r,i,o){var s=i(n,e),a=r;s.className&&(a="vertical"===t?function M9e(n,e){if(-1!==n.indexOf(e))return n;var t=n.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","");return"".concat(t," ").concat(e)}(s.className,r):function S9e(n,e){if(-1!==n.indexOf(e))return n;var t=n.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","");return"".concat(t," ").concat(e)}(s.className,r)),o(n,e,"className",a)}(s,a,e,t,r,i)})})}function hp(n,e){var t=!1;return Array.isArray(n)&&tt(n,function(r){return r.forAll(function(i,o){if(i>=0&&o>=0&&e(i,o))return t=!0,!1}),t}),t}function jm(n){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(n)}function jae(n,e){for(var t=n.slice(0);0<t.length&&t[0].name===e;)t.shift();return t}function E9e(n,e){var t=n.slice(0);return t.reverse(),(t=jae(t,e)).reverse(),t}function T9e(n){var e=[];return tt(n,function(t,r){r>0?e[e.length-1].name!==t.name&&e.push(t):e.push(t)}),e}function Wae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Yae=function(){function n(e){(function D9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.wasLastActionShow=!0,this.showDebounced=null,this.hidingTimer=null,this.updateDelay(e)}return function A9e(n,e,t){e&&Wae(n.prototype,e),t&&Wae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"hide",value:function(){var t=this;this.wasLastActionShow=!1,this.hidingTimer=setTimeout(function(){!1===t.wasLastActionShow&&t.runLocalHooks("hide")},250)}},{key:"show",value:function(t){this.wasLastActionShow=!0,this.showDebounced(t)}},{key:"cancelHiding",value:function(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}},{key:"updateDelay",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;this.showDebounced=vee(function(i){t.wasLastActionShow&&t.runLocalHooks("show",i.from.row,i.from.col)},r)}},{key:"destroy",value:function(){this.clearLocalHooks()}}]),n}();ys(Yae,Ec);const L9e=Yae;function ZY(n){return(ZY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Gae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hw(){return hw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=N9e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},hw.apply(this,arguments)}function N9e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Wm(n)););return n}function JY(n,e){return(JY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function B9e(n,e){if(e&&("object"===ZY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $ae(n)}function $ae(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Wm(n){return(Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var QY="comments",VI=new WeakMap,fp="comment",vx="value",zI="readOnly",U9e=function(n){!function F9e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&JY(n,e)}(t,n);var e=function H9e(n){var e=function V9e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Wm(n);if(e){var o=Wm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return B9e(this,i)}}(t);function t(r){var i;return function P9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).editor=null,i.displaySwitch=null,i.eventManager=null,i.range={},i.preventEditorAutoSwitch=!1,VI.set($ae(i),{tempEditorDimensions:{},cellBelowCursor:null}),i}return function I9e(n,e,t){e&&Gae(n.prototype,e),t&&Gae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[QY]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.editor||(this.editor=new y9e(this.hot.rootDocument,this.hot.isRtl())),this.eventManager||(this.eventManager=new ra(this)),this.displaySwitch||(this.displaySwitch=new L9e(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",function(o){return i.addToContextMenu(o)}),this.addHook("afterRenderer",function(o,s,a,u,c,h){return i.onAfterRenderer(o,h)}),this.addHook("afterScrollHorizontally",function(){return i.hide()}),this.addHook("afterScrollVertically",function(){return i.hide()}),this.addHook("afterBeginEditing",function(){return i.hide()}),this.displaySwitch.addLocalHook("hide",function(){return i.hide()}),this.displaySwitch.addLocalHook("show",function(o,s){return i.showAtCell(o,s)}),this.registerListeners(),hw(Wm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),hw(Wm(t.prototype),"updatePlugin",this).call(this),this.displaySwitch.updateDelay(this.getDisplayDelaySetting())}},{key:"disablePlugin",value:function(){hw(Wm(t.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var i=this,o=this.hot.rootDocument;this.eventManager.addEventListener(o,"mouseover",function(s){return i.onMouseOver(s)}),this.eventManager.addEventListener(o,"mousedown",function(s){return i.onMouseDown(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(){return i.onEditorBlur()}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(s){return i.onEditorMouseDown(s)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(s){return i.onEditorMouseUp(s)})}},{key:"setRange",value:function(i){this.range=i}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(i){var o=Ob(i.target,"TD","TBODY");return!!(o&&Ci(o,"htCommentCell")&&Ob(o,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(i){return this.editor.getInputElement()===i.target}},{key:"setComment",value:function(i){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var o=this.editor.getValue(),s="";null!=i?s=i:null!=o&&(s=o),this.updateCommentMeta(this.range.from.row,this.range.from.col,qY({},vx,s)),this.hot.render()}},{key:"setCommentAtCell",value:function(i,o,s){this.setRange({from:this.hot._createCellCoords(i,o)}),this.setComment(s)}},{key:"removeComment",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,fp),i&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(i,o){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setRange({from:this.hot._createCellCoords(i,o)}),this.removeComment(s)}},{key:"getComment",value:function(){return this.getCommentMeta(this.range.from.row,this.range.from.col,vx)}},{key:"getCommentAtCell",value:function(i,o){return this.getCommentMeta(i,o,vx)}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var i=this.range.from,o=i.row,s=i.col;if(o<0||o>this.hot.countSourceRows()-1||s<0||s>this.hot.countSourceCols()-1)return!1;var a=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.editor.setValue(a[fp]?a[fp][vx]:""),this.editor.show(),this.refreshEditor(!0),!0}},{key:"showAtCell",value:function(i,o){return this.setRange({from:this.hot._createCellCoords(i,o)}),this.show()}},{key:"hide",value:function(){this.editor.hide()}},{key:"refreshEditor",value:function(){var i,o,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s||this.range.from&&this.editor.isVisible()){var a=this.hot,u=a.rowIndexMapper,c=a.columnIndexMapper,h=this.range.from,p=h.row,g=h.col,y=u.getRenderableFromVisualIndex(p),w=c.getRenderableFromVisualIndex(g),S=null===y;null===y&&(y=u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(p,-1))),null===w&&(w=c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(g,-1)));var C=null===y,P=null===w;y=null!==(i=y)&&void 0!==i?i:0,w=null!==(o=w)&&void 0!==o?o:0;var B=this.hot,z=B.rootWindow,j=B.view._wt,X=j.wtTable,ie=X.getCell({row:y,col:w}),me=this.getCommentMeta(p,g,"style");me?this.editor.setSize(me.width,me.height):this.editor.resetSize();var re=P?0:X.getStretchedColumnWidth(w),pe=S&&!C?na(ie):0,we=ie.getBoundingClientRect(),Le=we.left,ot=we.top,lt=we.width,je=we.height,bt=this.editor.getSize(),ye=bt.width,Ae=bt.height,Ye=this.hot.rootWindow,Je=Ye.innerWidth,wt=Ye.innerHeight,Z=this.hot.rootDocument.documentElement,Q=Le+z.scrollX+re,fe=ot+z.scrollY+pe;this.hot.isRtl()&&(Q-=ye+re),this.hot.isLtr()&&Le+lt+ye>Je?Q=Le+z.scrollX-ye-1:this.hot.isRtl()&&Q<-(Z.scrollWidth-Z.clientWidth)&&(Q=Le+z.scrollX+re+1),ot+Ae>wt&&(fe-=Ae-je+1),this.editor.setPosition(Q,fe),this.editor.setReadOnlyState(this.getCommentMeta(p,g,zI))}}},{key:"checkSelectionCommentsConsistency",value:function(){var i=this.hot.getSelectedRangeLast();if(!i)return!1;var o=!1,s=i.getTopStartCorner();return this.getCommentMeta(s.row,s.col,vx)&&(o=!0),o}},{key:"updateCommentMeta",value:function(i,o,s){var u,a=this.hot.getCellMeta(i,o)[fp];a?OL(u=zu(a),s):u=s,this.hot.setCellMeta(i,o,fp,u)}},{key:"getCommentMeta",value:function(i,o,s){var a=this.hot.getCellMeta(i,o);if(a[fp])return a[fp][s]}},{key:"onMouseDown",value:function(i){if(this.hot.view&&this.hot.view._wt&&!this.preventEditorAutoSwitch&&!this.targetIsCommentTextArea(i)){var o=Ob(i.target,"TD","TBODY"),s=null;o&&(s=this.hot.getCoords(o)),(!o||this.range.from&&s&&(this.range.from.row!==s.row||this.range.from.col!==s.col))&&this.hide()}}},{key:"onMouseOver",value:function(i){var o=VI.get(this),s=this.hot.rootDocument;if(!(this.preventEditorAutoSwitch||this.editor.isFocused()||Ci(i.target,"wtBorder")||o.cellBelowCursor===i.target)&&this.editor)if(o.cellBelowCursor=s.elementFromPoint(i.clientX,i.clientY),this.targetIsCellWithComment(i)){var a=this.hot._createCellRange(this.hot.getCoords(i.target));this.displaySwitch.show(a)}else kb(i.target,s)&&!this.targetIsCommentTextArea(i)&&this.displaySwitch.hide()}},{key:"onMouseUp",value:function(){this.preventEditorAutoSwitch=!1}},{key:"onAfterRenderer",value:function(i,o){o[fp]&&o[fp][vx]&&Rn(i,o.commentedCellClassName)}},{key:"onEditorBlur",value:function(){this.setComment()}},{key:"onEditorMouseDown",value:function(i){VI.get(this).tempEditorDimensions={width:cs(i.target),height:na(i.target)}}},{key:"onEditorMouseUp",value:function(i){var o=VI.get(this),s=cs(i.target),a=na(i.target);(s!==o.tempEditorDimensions.width+1||a!==o.tempEditorDimensions.height+2)&&this.updateCommentMeta(this.range.from.row,this.range.from.col,qY({},"style",{width:s,height:a}))}},{key:"onContextMenuAddComment",value:function(){var i=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,this.displaySwitch.cancelHiding(),this.setRange({from:i.highlight}),this.show(),this.hot.deselectCell(),this.editor.focus()}},{key:"onContextMenuRemoveComment",value:function(){var i=this,o=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,o.forAll(function(s,a){s>=0&&a>=0&&i.removeCommentAtCell(s,a,!1)}),this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(){var i=this,o=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,o.forAll(function(s,a){if(s>=0&&a>=0){var u=!!i.getCommentMeta(s,a,zI);i.updateCommentMeta(s,a,qY({},zI,!u))}})}},{key:"addToContextMenu",value:function(i){var o=this,s=function(){return o.hot.rowIndexMapper.getRenderableIndexesLength()>0&&o.hot.columnIndexMapper.getRenderableIndexesLength()>0};i.items.push({name:"---------"},{key:"commentsAddEdit",name:function(){return o.checkSelectionCommentsConsistency()?o.hot.getTranslatedPhrase(hj):o.hot.getTranslatedPhrase(dj)},callback:function(){return o.onContextMenuAddComment()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner())}},{key:"commentsRemove",name:function(){return this.getTranslatedPhrase(fj)},callback:function(){return o.onContextMenuRemoveComment()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner())}},{key:"commentsReadOnly",name:function(){var u=this,c=this.getTranslatedPhrase(pj);return hp(this.getSelectedRangeLast(),function(p,g){var y=u.getCellMeta(p,g)[fp];if(y&&(y=y[zI]),y)return!0})&&(c=jm(c)),c},callback:function(){return o.onContextMenuMakeReadOnly()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner()&&o.checkSelectionCommentsConsistency())}})}},{key:"getDisplayDelaySetting",value:function(){var i=this.hot.getSettings()[QY];if(Yi(i))return i.displayDelay}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),this.displaySwitch&&this.displaySwitch.destroy(),hw(Wm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return QY}},{key:"PLUGIN_PRIORITY",get:function(){return 60}}]),t}(Zo);function Kae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function G9e(n,e){var t;return tt(e,function(r){var i=r.key?r.key.split(":"):null;if(Array.isArray(i)&&i[1]===n)return t=r,!1}),t}const Zae=function(){function n(e){(function j9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.commands={},this.commonCallback=null}return function W9e(n,e,t){e&&Kae(n.prototype,e),t&&Kae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerCommand",value:function(t,r){this.commands[t]=r}},{key:"setCommonCallback",value:function(t){this.commonCallback=t}},{key:"execute",value:function(t){for(var r=this,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a=t.split(":"),u=a[0],c=2===a.length?a[1]:null,h=this.commands[u];if(!h)throw new Error("Menu command '".concat(u,"' not exists."));if(c&&h.submenu&&(h=G9e(c,h.submenu.items)),!0!==h.disabled&&("function"!=typeof h.disabled||!0!==h.disabled.call(this.hot))&&!Ns(h,"submenu")){var p=[];"function"==typeof h.callback&&p.push(h.callback),"function"==typeof this.commonCallback&&p.push(this.commonCallback),o.unshift(a.join(":")),tt(p,function(g){return g.apply(r.hot,o)})}}}]),n}();var sh="alignment",UI="clear_column",W1="col_left",Y1="col_right",G1="make_read_only",jI="redo";function qae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var $1="remove_col";function Jae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Wu,WI="remove_row",YI="row_above",GI="row_below",X1="no_items",$I="undo";function md(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Qae=[YI,GI,W1,Y1,UI,WI,$1,$I,jI,G1,sh,Qi,X1],ele=(md(Wu={},Qi,function _9e(){return{name:Qi}}),md(Wu,X1,function f7e(){return{key:X1,name:function(){return this.getTranslatedPhrase(XU)},disabled:!0,isCommand:!1}}),md(Wu,YI,function d7e(){return{key:YI,name:function(){return this.getTranslatedPhrase(KU)},callback:function(e,t){var r=this.selection.isSelectedByCorner(),i=0;r||(i=t[Math.max(t.length-1,0)].start.row),this.alter("insert_row",i,1,"ContextMenu.rowAbove"),r&&this.selectAll()},disabled:function(){return!cw(this)||(this.selection.isSelectedByCorner()?0===this.countRows():this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}}),md(Wu,GI,function h7e(){return{key:GI,name:function(){return this.getTranslatedPhrase(ZU)},callback:function(e,t){var r=this.selection.isSelectedByCorner(),i=0;if(r)i=this.countRows();else{var o,s=t[Math.max(t.length-1,0)],a=null==s||null===(o=s.end)||void 0===o?void 0:o.row;i=fr(a)?a+1:0}this.alter("insert_row",i,1,"ContextMenu.rowBelow"),r&&this.selectAll()},disabled:function(){return!cw(this)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}}),md(Wu,W1,function K9e(){return{key:W1,name:function(){return this.getTranslatedPhrase(qU)},callback:function(){var e=this.selection.isSelectedByCorner(),t=this.isRtl()?this.countCols():0;if(!e){var r=this.getSelectedRangeLast();if(fr(r)){var o=r.getTopLeftCorner().col;t=this.isRtl()?o+1:o}}this.alter("insert_col",t,1,"ContextMenu.columnLeft"),e&&this.selectAll()},disabled:function(){return!this.isColumnModificationAllowed()||!cw(this)||(this.selection.isSelectedByCorner()?0===this.countCols():this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols)},hidden:function(){return!this.getSettings().allowInsertColumn}}}),md(Wu,Y1,function Z9e(){return{key:Y1,name:function(){return this.getTranslatedPhrase(JU)},callback:function(){var e=this.selection.isSelectedByCorner(),t=this.isRtl()?0:this.countCols();if(!e){var r=this.getSelectedRangeLast();if(fr(r)){var o=r.getTopRightCorner().col;t=this.isRtl()?o:o+1}}this.alter("insert_col",t,1,"ContextMenu.columnRight"),e&&this.selectAll()},disabled:function(){return!this.isColumnModificationAllowed()||!cw(this)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols)},hidden:function(){return!this.getSettings().allowInsertColumn}}}),md(Wu,UI,function X9e(){return{key:UI,name:function(){return this.getTranslatedPhrase(ij)},callback:function(e,t){var r=t[0].start.col,i=t[0].end.col;this.countRows()&&this.populateFromArray(0,r,[[null]],Math.max(t[0].start.row,t[0].end.row),i,"ContextMenu.clearColumn")},disabled:function(){return!cw(this)||!this.selection.isSelectedByColumnHeader()}}}),md(Wu,WI,function c7e(){return{key:WI,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var r=function o7e(n,e){return function u7e(n){if(Array.isArray(n))return n}(n)||function l7e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function a7e(n,e){if(n){if("string"==typeof n)return Jae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jae(n,e)}}(n,e)||function s7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e[0],3);r[0]-r[2]!=0&&(t=1)}return this.getTranslatedPhrase(QU,t)},callback:function(){this.alter("remove_row",function LBe(n){var e=ex(n);if(0===e||1===e)return[];var t=D1(e),r=new Set;return tt(n,function(s){var u=Cre(t(s),3),h=u[2],p=Math.max(u[0],0);tt(Array.from(new Array(h-p+1),function(y,w){return p+w}),function(y){r.has(y)||r.add(y)})}),Ua(Array.from(r).sort(function(s,a){return s-a}),function(s,a,u,c){return 0!==u&&a===c[u-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s},[])}(this.getSelected()),1,"ContextMenu.removeRow")},disabled:function(){if(!cw(this))return!0;var t=this.countRows();return this.selection.isSelectedByCorner()?0===t:this.selection.isSelectedByColumnHeader()||0===t},hidden:function(){return!this.getSettings().allowRemoveRow}}}),md(Wu,$1,function i7e(){return{key:$1,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var r=function Q9e(n,e){return function r7e(n){if(Array.isArray(n))return n}(n)||function n7e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function t7e(n,e){if(n){if("string"==typeof n)return qae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qae(n,e)}}(n,e)||function e7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e[0],4);r[1]-r[3]!=0&&(t=1)}return this.getTranslatedPhrase(ej,t)},callback:function(){this.alter("remove_col",function kBe(n){var e=ex(n);if(0===e||1===e)return[];var t=D1(e),r=new Set;return tt(n,function(s){var u=Cre(t(s),4),h=u[3],p=Math.max(u[1],0);tt(Array.from(new Array(h-p+1),function(y,w){return p+w}),function(y){r.has(y)||r.add(y)})}),Ua(Array.from(r).sort(function(s,a){return s-a}),function(s,a,u,c){return 0!==u&&a===c[u-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s},[])}(this.getSelected()),null,"ContextMenu.removeColumn")},disabled:function(){if(!this.isColumnModificationAllowed())return!0;if(!cw(this))return!0;var t=this.countCols();return this.selection.isSelectedByCorner()?0===t:this.selection.isSelectedByRowHeader()||0===t},hidden:function(){return!this.getSettings().allowRemoveColumn}}}),md(Wu,$I,function p7e(){return{key:$I,name:function(){return this.getTranslatedPhrase(tj)},callback:function(){this.undo()},hidden:function(){var e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}),md(Wu,jI,function J9e(){return{key:jI,name:function(){return this.getTranslatedPhrase(nj)},callback:function(){this.redo()},hidden:function(){var e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}),md(Wu,G1,function q9e(){return{key:G1,name:function(){var e=this,t=this.getTranslatedPhrase(rj);return hp(this.getSelectedRange(),function(i,o){return e.getCellMeta(i,o).readOnly})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=hp(t,function(i,o){return e.getCellMeta(i,o).readOnly});tt(t,function(i){i.forAll(function(o,s){o>=0&&s>=0&&e.setCellMeta(o,s,"readOnly",!r)})}),this.render()},disabled:function(){return!(!this.selection.isSelectedByCorner()&&0!==this.countRows()&&0!==this.countCols()&&this.getSelectedRange()&&0!==this.getSelectedRange().length)}}}),md(Wu,sh,function $9e(){return{key:sh,name:function(){return this.getTranslatedPhrase(mj)},disabled:function(){return 0===this.countRows()||0===this.countCols()||!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:"".concat(sh,":left"),name:function(){var e=this,t=this.getTranslatedPhrase(gj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htLeft"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=dw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htLeft";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(sh,":center"),name:function(){var e=this,t=this.getTranslatedPhrase(vj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htCenter"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=dw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htCenter";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(sh,":right"),name:function(){var e=this,t=this.getTranslatedPhrase(yj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htRight"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=dw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htRight";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(sh,":justify"),name:function(){var e=this,t=this.getTranslatedPhrase(_j);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htJustify"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=dw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htJustify";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{name:Qi},{key:"".concat(sh,":top"),name:function(){var e=this,t=this.getTranslatedPhrase(bj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htTop"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=dw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htTop";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(sh,":middle"),name:function(){var e=this,t=this.getTranslatedPhrase(wj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htMiddle"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=dw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htMiddle";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(sh,":bottom"),name:function(){var e=this,t=this.getTranslatedPhrase(Mj);return hp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htBottom"))return!0})&&(t=jm(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=dw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htBottom";this.runHooks("beforeCellAlignment",r,t,i,o),vy(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1}]}}}),Wu);function tle(){var n={};return io(ele,function(e,t){n[t]=e()}),n}function m7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function y7e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=n;return i&&i.items?i=i.items:Array.isArray(i)||(i=e),Yi(i)?io(i,function(o,s){var a=t["string"==typeof o?o:s];a||(a=o),Yi(o)?ta(a,o):"string"==typeof a&&(a={name:a}),void 0===a.key&&(a.key=s),r.push(a)}):tt(i,function(o,s){var a=t[o];!a&&Qae.indexOf(o)>=0||(a||(a={name:o,key:"".concat(s)}),Yi(o)&&ta(a,o),void 0===a.key&&(a.key=s),r.push(a))}),r}const rle=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;m7e(this,n),this.hot=e,this.predefinedItems=tle(),this.defaultOrderPattern=t}return function g7e(n,e,t){e&&nle(n.prototype,e),t&&nle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setPredefinedItems",value:function(t){var r=this,i={};this.defaultOrderPattern.length=0,io(t,function(o,s){var a="";o.name===Qi?(i[Qi]=o,a=Qi):isNaN(parseInt(s,10))?(o.key=void 0===o.key?s:o.key,i[s]=o,a=o.key):(i[o.key]=o,a=o.key),r.defaultOrderPattern.push(a)}),this.predefinedItems=i}},{key:"getItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return y7e(t,this.defaultOrderPattern,this.predefinedItems)}}]),n}();function ile(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const M7e=function(){function n(e,t){!function _7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var o,s,a,u,c,h,r=r1(t),i=jS(t);this.rootWindow=t,this.type=this.getSourceType(e),"literal"===this.type?(o=parseInt(e.top,10),a=parseInt(e.left,10),c=e.height||0,h=e.width||0,s=o,u=a,o+=r,a+=i):"event"===this.type&&(o=parseInt(e.pageY,10),a=parseInt(e.pageX,10),c=e.target.clientHeight,h=e.target.clientWidth,s=o-r,u=a-i),this.top=o,this.topRelative=s,this.left=a,this.leftRelative=u,this.scrollTop=r,this.scrollLeft=i,this.cellHeight=c,this.cellWidth=h}return function b7e(n,e,t){e&&ile(n.prototype,e),t&&ile(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSourceType",value:function(t){var r="literal";return t instanceof Event&&(r="event"),r}},{key:"fitsAbove",value:function(t){return this.topRelative>=t.offsetHeight}},{key:"fitsBelow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+t.offsetHeight<=r}},{key:"fitsOnRight",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=r}},{key:"fitsOnLeft",value:function(t){return this.leftRelative>=t.offsetWidth}}]),n}();function ole(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function sle(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ole(Object(t),!0).forEach(function(r){S7e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ole(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function S7e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ale(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var cle=function(){function n(e,t){(function x7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.options=t||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:215,container:this.hot.rootDocument.documentElement},this.eventManager=new ra(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}return function C7e(n,e,t){e&&ale(n.prototype,e),t&&ale(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerEvents",value:function(){for(var t=this,r=this.hot.rootWindow;r;)this.eventManager.addEventListener(r.document,"mousedown",function(i){return t.onDocumentMouseDown(i)}),this.eventManager.addEventListener(r.document,"contextmenu",function(i){return t.onDocumentContextMenu(i)}),r=kL(r)}},{key:"setMenuItems",value:function(t){this.menuItems=t}},{key:"getSelectedItem",value:function(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}},{key:"hasSelectedItem",value:function(){return Array.isArray(this.hotMenu.getSelectedLast())}},{key:"setOffset",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.offset[t]=r}},{key:"isSubMenu",value:function(){return null!==this.parentMenu}},{key:"open",value:function(){var t=this;this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";var r=vee(function(y){return t.openSubMenu(y)},300),i=this.options.minWidth||215,o=!1,s=Jd(this.menuItems,function(y){return y.key===X1&&(o=!0),function C9e(n,e){return!n.hidden||!("function"==typeof n.hidden&&n.hidden.call(e))}(y,t.hot)});if(s.length<1&&!o)s.push(tle()[X1]);else if(0===s.length)return;s=function R9e(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qi,t=n.slice(0);return T9e(t=E9e(t=jae(t,e),e))}(s,Qi);var a=!1,u={data:s,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth:function(w){return fr(w)&&w<i?i:w},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,maxCols:1,columns:[{data:"name",renderer:function(w,S,C,P,B,z){return t.menuItemRenderer(w,S,C,P,B,z)}}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",afterOnCellMouseOver:function(w,S){t.isAllSubMenusClosed()?r(S.row):t.openSubMenu(S.row)},rowHeights:function(w){return s[w].name===Qi?1:23},afterOnCellContextMenu:function(w){w.preventDefault(),XQ()&&a&&t.hasSelectedItem()&&t.close(!0)},beforeOnCellMouseUp:function(w){t.hasSelectedItem()&&(a=!t.isCommandPassive(t.getSelectedItem()),t.executeCommand(w))},afterOnCellMouseUp:function(w){(!XQ()||!Fb(w))&&a&&t.hasSelectedItem()&&(np()||$Q()?setTimeout(function(){return t.close(!0)},325):t.close(!0))},afterUnlisten:function(){!t.hasSelectedItem()&&t.isOpened()&&t.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new P4(this.container,u),this.hotMenu.addHook("afterInit",function(){return t.onAfterInit()}),this.hotMenu.addHook("afterSelection",function(){return t.onAfterSelection.apply(t,arguments)}),this.hotMenu.init(),this.hotMenu.listen();var c=this.hotMenu.getShortcutManager(),h=c.addContext("menu"),g=sle(sle({},{group:"menu"}),{},{runOnlyIf:function(w){return!1===VL(w.target)||!1===t.container.contains(w.target)}});c.setActiveContextName("menu"),h.addShortcuts([{keys:[["Escape"]],callback:function(){t.keyEvent=!0,t.close(),t.keyEvent=!1}},{keys:[["ArrowDown"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.selectNextCell(w[0],w[1]):t.selectFirstCell(),t.keyEvent=!1}},{keys:[["ArrowUp"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.selectPrevCell(w[0],w[1]):t.selectLastCell(),t.keyEvent=!1}},{keys:[["ArrowRight"]],callback:function(){var w=t.hotMenu.getSelectedLast();if(t.keyEvent=!0,w){var S=t.openSubMenu(w[0]);S&&S.selectFirstCell()}t.keyEvent=!1}},{keys:[["ArrowLeft"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w&&t.isSubMenu()&&(t.close(),t.parentMenu&&t.parentMenu.hotMenu.listen()),t.keyEvent=!1}},{keys:[["Enter"]],callback:function(w){var S=t.hotMenu.getSelectedLast();t.keyEvent=!0,t.hotMenu.getSourceDataAtRow(S[0]).submenu||(t.executeCommand(w),t.close(!0)),t.keyEvent=!1}},{keys:[["PageUp"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.hotMenu.selection.transformStart(-t.hotMenu.countVisibleRows(),0):t.selectFirstCell(),t.keyEvent=!1}},{keys:[["PageDown"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.hotMenu.selection.transformStart(t.hotMenu.countVisibleRows(),0):t.selectLastCell(),t.keyEvent=!1}}],g),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!this.isOpened()||(t&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))}},{key:"openSubMenu",value:function(t){if(!this.hotMenu)return!1;var r=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!r||!function w9e(n){return Ci(n,"htSubmenu")}(r))return!1;var i=this.hotMenu.getSourceDataAtRow(t),o=new n(this.hot,{parent:this,name:i.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return o.setMenuItems(i.submenu.items),o.open(),o.setPosition(r.getBoundingClientRect()),this.hotSubMenus[i.key]=o,o}},{key:"closeSubMenu",value:function(t){var r=this.hotMenu.getSourceDataAtRow(t),i=this.hotSubMenus[r.key];i&&(i.destroy(),delete this.hotSubMenus[r.key])}},{key:"closeAllSubMenus",value:function(){var t=this;tt(this.hotMenu.getData(),function(r,i){return t.closeSubMenu(i)})}},{key:"isAllSubMenusClosed",value:function(){return 0===Object.keys(this.hotSubMenus).length}},{key:"destroy",value:function(){var t=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),t&&t.removeChild(this.container)}},{key:"isOpened",value:function(){return null!==this.hotMenu}},{key:"executeCommand",value:function(t){if(this.isOpened()&&this.hasSelectedItem()){var r=this.getSelectedItem();if(this.runLocalHooks("select",r,t),!this.isCommandPassive(r)){var i=this.hot.getSelectedRange(),o=i?function b9e(n){return Ji(n,function(e){return{start:e.getTopStartCorner(),end:e.getBottomEndCorner()}})}(i):[];this.runLocalHooks("executeCommand",r.key,o,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",r.key,o,t)}}}},{key:"isCommandPassive",value:function(t){var r=t.isCommand,i=t.name,o=t.disabled,s=t.submenu,a=!0===o||"function"==typeof o&&!0===o.call(this.hot);return!1===r||i===Qi||!0===a||s}},{key:"setPosition",value:function(t){var r=new M7e(t,this.container.ownerDocument.defaultView);this.options.keepInViewport?(r.fitsBelow(this.container)?this.setPositionBelowCursor(r):r.fitsAbove(this.container)?this.setPositionAboveCursor(r):this.setPositionBelowCursor(r),this.hot.isLtr()?this.setHorizontalPositionForLtr(r):this.setHorizontalPositionForRtl(r)):(this.setPositionBelowCursor(r),this.setPositionOnRightOfCursor(r))}},{key:"setHorizontalPositionForRtl",value:function(t){t.fitsOnLeft(this.container)?this.setPositionOnLeftOfCursor(t):this.setPositionOnRightOfCursor(t)}},{key:"setHorizontalPositionForLtr",value:function(t){t.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(t):this.setPositionOnLeftOfCursor(t)}},{key:"setPositionAboveCursor",value:function(t){var r=this.offset.above+t.top-this.container.offsetHeight;this.isSubMenu()&&(r=t.top+t.cellHeight-this.container.offsetHeight+3),this.container.style.top="".concat(r,"px")}},{key:"setPositionBelowCursor",value:function(t){var r=this.offset.below+t.top+1;this.isSubMenu()&&(r=t.top-1),this.container.style.top="".concat(r,"px")}},{key:"setPositionOnRightOfCursor",value:function(t){var r=t.left;if(this.isSubMenu()){var i=this.parentMenu.container.getBoundingClientRect();r+=t.cellWidth+i.right-(t.left+t.cellWidth)}else r+=this.offset.right;this.container.style.left="".concat(r,"px")}},{key:"setPositionOnLeftOfCursor",value:function(t){var r=this.offset.left+t.left-this.container.offsetWidth;if(this.isSubMenu()){var i=this.parentMenu.container.getBoundingClientRect();r-=t.left-i.left}this.container.style.left="".concat(r,"px")}},{key:"selectFirstCell",value:function(){var t=this.hotMenu.getCell(0,0);FI(t)||HI(t)||BI(t)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var t=this.hotMenu.countRows()-1,r=this.hotMenu.getCell(t,0);FI(r)||HI(r)||BI(r)?this.selectPrevCell(t,0):(this.hotMenu.selectCell(t,0,void 0,void 0,!1),this.hotMenu.scrollViewportTo(t,0,!0,!1))}},{key:"selectNextCell",value:function(t,r){var i=t+1,o=i<this.hotMenu.countRows()?this.hotMenu.getCell(i,r):null;!o||(FI(o)||HI(o)||BI(o)?this.selectNextCell(i,r):this.hotMenu.selectCell(i,r))}},{key:"selectPrevCell",value:function(t,r){var i=t-1,o=i>=0?this.hotMenu.getCell(i,r):null;!o||(FI(o)||HI(o)||BI(o)?this.selectPrevCell(i,r):this.hotMenu.selectCell(i,r))}},{key:"menuItemRenderer",value:function(t,r,i,o,s,a){var P,u=this,c=t.getSourceDataAtRow(i),h=this.hot.rootDocument.createElement("div"),w=function(P){return P.disableSelection},S=a;"function"==typeof S&&(S=S.call(this.hot)),af(r),Rn(h,"htItemWrapper"),r.appendChild(h),P=c,new RegExp(Qi,"i").test(P.name)?Rn(r,"htSeparator"):"function"==typeof c.renderer?(Rn(r,"htCustomMenuRenderer"),r.appendChild(c.renderer(t,h,i,o,s,S))):Pb(h,S),function(P){return!0===P.disabled||"function"==typeof P.disabled&&!0===P.disabled.call(u.hot)}(c)?(Rn(r,"htDisabled"),this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()})):w(c)?(Rn(r,"htSelectionDisabled"),this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()})):function(P){return Ns(P,"submenu")}(c)?(Rn(r,"htSubmenu"),w(c)?this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(r,"mouseenter",function(){return t.selectCell(i,o,void 0,void 0,!1,!1)})):(Bi(r,["htSubmenu","htDisabled"]),w(c)?this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(r,"mouseenter",function(){return t.selectCell(i,o,void 0,void 0,!1,!1)}))}},{key:"createContainer",value:function(){var o,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this.options.container.ownerDocument,i=t;return i&&(xs(i)&&(i=null===(i=i.call(this.hot))||Fs(i)?"":i.toString()),i=i.replace(/[^A-z0-9]/g,"_"),i="".concat(this.options.className,"Sub_").concat(i),o=r.querySelector(".".concat(this.options.className,".").concat(i))),o||(Rn(o=r.createElement("div"),"htMenu ".concat(this.options.className)),i&&Rn(o,i),this.options.container.appendChild(o)),o}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onAfterInit",value:function(){var t=this.hotMenu.view._wt.wtTable,r=this.hotMenu.getSettings().data,i=t.hider.style,o=t.holder.style,s=parseInt(i.width,10),a=Ua(r,function(u,c){return u+(c.name===Qi?1:26)},0);o.width="".concat(s+3,"px"),o.height="".concat(a+3,"px"),i.height=o.height}},{key:"onAfterSelection",value:function(t,r,i,o,s){!1===this.keyEvent&&(s.value=!0)}},{key:"onDocumentMouseDown",value:function(t){!this.isOpened()||(this.options.standalone&&this.hotMenu&&!kb(t.target,this.hotMenu.rootElement)||(this.isAllSubMenusClosed()||this.isSubMenu())&&!kb(t.target,".htMenu"))&&this.close(!0)}},{key:"onDocumentContextMenu",value:function(t){!this.isOpened()||Ci(t.target,"htCore")&&kb(t.target,this.hotMenu.rootElement)&&t.preventDefault()}}]),n}();ys(cle,Ec);const eG=cle;function tG(n){return(tG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function dle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function fw(){return fw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=D7e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},fw.apply(this,arguments)}function D7e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Ym(n)););return n}function nG(n,e){return(nG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function k7e(n,e){if(e&&("object"===tG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hle(n)}function hle(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ym(n){return(Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var XI="contextMenu";xr.getSingleton().register("afterContextMenuDefaultOptions"),xr.getSingleton().register("beforeContextMenuShow"),xr.getSingleton().register("afterContextMenuShow"),xr.getSingleton().register("afterContextMenuHide"),xr.getSingleton().register("afterContextMenuExecute");var fle=function(n){!function A7e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&nG(n,e)}(t,n);var e=function O7e(n){var e=function L7e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Ym(n);if(e){var o=Ym(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return k7e(this,i)}}(t);function t(r){var i;return function T7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ra(hle(i)),i.commandExecutor=new Zae(i.hot),i.itemsFactory=null,i.menu=null,i}return function R7e(n,e,t){e&&dle(n.prototype,e),t&&dle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[XI]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[XI];"function"==typeof o.callback&&this.commandExecutor.setCommonCallback(o.callback),this.menu=new eG(this.hot,{className:"htContextMenu",keepInViewport:!0,container:o.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",function(){return i.onMenuBeforeOpen()}),this.menu.addLocalHook("afterOpen",function(){return i.onMenuAfterOpen()}),this.menu.addLocalHook("afterClose",function(){return i.onMenuAfterClose()}),this.menu.addLocalHook("executeCommand",function(){for(var s,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return(s=i.executeCommand).call.apply(s,[i].concat(u))}),this.addHook("afterOnCellContextMenu",function(s){return i.onAfterOnCellContextMenu(s)}),fw(Ym(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),fw(Ym(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),fw(Ym(t.prototype),"disablePlugin",this).call(this)}},{key:"open",value:function(i){if(this.menu&&(this.prepareMenuItems(),this.menu.open(),this.menu.isOpened())){var o=0,s=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var u=this.hot.rootWindow.frameElement.getBoundingClientRect(),h=u.left;o=u.top-r1(i.view),s=h-jS(i.view)}else o=-1*r1(this.menu.hotMenu.rootWindow),s=-1*jS(this.menu.hotMenu.rootWindow);this.menu.setPosition({top:parseInt(i.pageY,10)+o,left:parseInt(i.pageX,10)+s})}}},{key:"close",value:function(){!this.menu||(this.menu.close(),this.itemsFactory=null)}},{key:"executeCommand",value:function(i){var o;null===this.itemsFactory&&this.prepareMenuItems();for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=this.commandExecutor).execute.apply(o,[i].concat(a))}},{key:"prepareMenuItems",value:function(){var i=this;this.itemsFactory=new rle(this.hot,t.DEFAULT_ITEMS);var o=this.hot.getSettings()[XI],s={items:this.itemsFactory.getItems(o)};this.hot.runHooks("afterContextMenuDefaultOptions",s),this.itemsFactory.setPredefinedItems(s.items);var a=this.itemsFactory.getItems(o);this.hot.runHooks("beforeContextMenuSetItems",a),this.menu.setMenuItems(a),tt(a,function(u){return i.commandExecutor.registerCommand(u.key,u)})}},{key:"onAfterOnCellContextMenu",value:function(i){var o=this.hot.getSettings(),s=o.rowHeaders,a=o.colHeaders,c=i.target;this.close(),!Ci(c,"handsontableInput")&&(i.preventDefault(),i.stopPropagation(),(s||a||function u(h){return"TD"===h.nodeName||"TD"===h.parentNode.nodeName}(c)||Ci(c,"current")&&Ci(c,"wtBorder"))&&this.open(i))}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeContextMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),fw(Ym(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return XI}},{key:"PLUGIN_PRIORITY",get:function(){return 70}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[YI,GI,Qi,W1,Y1,Qi,WI,$1,Qi,$I,jI,Qi,G1,Qi,sh]}}]),t}(Zo);function ple(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}fle.SEPARATOR={name:Qi};var B7e=function(){function n(){(function F7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.data={}}return function H7e(n,e,t){e&&ple(n.prototype,e),t&&ple(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setData",value:function(t,r){this.data[t]=r}},{key:"getData",value:function(t){return this.data[t]||void 0}}]),n}();function mle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function V7e(n,e,t){return e&&mle(n.prototype,e),t&&mle(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var U7e=V7e(function n(){(function z7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.clipboardData=new B7e});function gle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var rG=function(){function n(e){(function j7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootDocument=e.defaultView?e:e.ownerDocument,this.mainElement=null,this.eventManager=new ra(this),this.listenersCount=new WeakSet,this.container=e}return function W7e(n,e,t){e&&gle(n.prototype,e),t&&gle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"useSecondaryElement",value:function(){var t=function $7e(n){var e=ZI.get(n);if(e)return e.parentElement||n.appendChild(e),e;var r=(n.defaultView?n:n.ownerDocument).createElement("textarea");return ZI.set(n,r),r.setAttribute("data-hot-input",""),r.className="HandsontableCopyPaste",r.tabIndex=-1,r.autocomplete="off",r.wrap="hard",r.value=" ",n.appendChild(r),r}(this.container);this.listenersCount.has(t)||(this.listenersCount.add(t),vle(this.eventManager,t,this)),this.mainElement=t}},{key:"setFocusableElement",value:function(t){this.listenersCount.has(t)||(this.listenersCount.add(t),vle(this.eventManager,t,this)),this.mainElement=t}},{key:"getFocusableElement",value:function(){return this.mainElement}},{key:"focus",value:function(){this.mainElement.value=" ",np()||function ROe(n){oee(n.ownerDocument.activeElement)||n.select()}(this.mainElement)}}]),n}();ys(rG,Ec);var KI=new WeakMap,iG=function(e,t){return function(r){return t.runLocalHooks(e,r)}};function vle(n,e,t){n.addEventListener(e,"copy",iG("copy",t)),n.addEventListener(e,"cut",iG("cut",t)),n.addEventListener(e,"paste",iG("paste",t))}var ZI=new WeakMap;function yle(n){if(n instanceof rG){var e=KI.get(n.container);if((e=isNaN(e)?0:e)>0&&(e-=1),function G7e(n){n.eventManager.clear()}(n),e<=0){e=0;var t=ZI.get(n.container);t&&t.parentNode&&(t.parentNode.removeChild(t),ZI.delete(n.container)),n.mainElement=null}KI.set(n.container,e)}}function _le(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function qI(n){return(qI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ble(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function pw(){return pw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=t$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},pw.apply(this,arguments)}function t$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Gm(n)););return n}function oG(n,e){return(oG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function i$e(n,e){if(e&&("object"===qI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wle(n)}function wle(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Gm(n){return(Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("afterCopyLimit"),xr.getSingleton().register("modifyCopyableRange"),xr.getSingleton().register("beforeCut"),xr.getSingleton().register("afterCut"),xr.getSingleton().register("beforePaste"),xr.getSingleton().register("afterPaste"),xr.getSingleton().register("beforeCopy"),xr.getSingleton().register("afterCopy");var JI="copyPaste",a$e=["fragmentSelection"],mw=new WeakMap,Mle=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join(""),c$e=function(n){!function n$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oG(n,e)}(t,n);var e=function r$e(n){var e=function o$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Gm(n);if(e){var o=Gm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return i$e(this,i)}}(t);function t(r){var i;return function Q7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).columnsLimit=1/0,i.copyableRanges=[],i.focusableElement=void 0,i.pasteMode="overwrite",i.rowsLimit=1/0,i.uiContainer=i.hot.rootDocument.body,mw.set(wle(i),{isTriggeredByCopy:!1,isTriggeredByCut:!1,isBeginEditing:!1,isFragmentSelectionEnabled:!1}),i}return function e$e(n,e,t){e&&ble(n.prototype,e),t&&ble(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[JI]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings(),s=o[JI],a=o.fragmentSelection;mw.get(this).isFragmentSelectionEnabled=!!a,"object"===qI(s)&&(this.pasteMode=s.pasteMode||this.pasteMode,this.rowsLimit=isNaN(s.rowsLimit)?this.rowsLimit:s.rowsLimit,this.columnsLimit=isNaN(s.columnsLimit)?this.columnsLimit:s.columnsLimit,this.uiContainer=s.uiContainer||this.uiContainer),this.addHook("afterContextMenuDefaultOptions",function(c){return i.onAfterContextMenuDefaultOptions(c)}),this.addHook("afterOnCellMouseUp",function(){return i.onAfterOnCellMouseUp()}),this.addHook("afterSelectionEnd",function(){return i.onAfterSelectionEnd()}),this.addHook("beforeKeyDown",function(){return i.onBeforeKeyDown()}),this.focusableElement=function Y7e(n){var e=new rG(n),t=KI.get(n);return t=isNaN(t)?0:t,KI.set(n,t+1),e}(this.uiContainer),this.focusableElement.addLocalHook("copy",function(c){return i.onCopy(c)}).addLocalHook("cut",function(c){return i.onCut(c)}).addLocalHook("paste",function(c){return i.onPaste(c)}),pw(Gm(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.getOrCreateFocusableElement(),pw(Gm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.focusableElement&&yle(this.focusableElement),pw(Gm(t.prototype),"disablePlugin",this).call(this)}},{key:"copy",value:function(){mw.get(this).isTriggeredByCopy=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("copy")}},{key:"cut",value:function(){mw.get(this).isTriggeredByCut=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("cut")}},{key:"getRangedCopyableData",value:function(i){var o=this,s=[],a=[],u=[];return tt(i,function(c){Vr(c.startRow,c.endRow,function(h){-1===a.indexOf(h)&&a.push(h)}),Vr(c.startCol,c.endCol,function(h){-1===u.indexOf(h)&&u.push(h)})}),tt(a,function(c){var h=[];tt(u,function(p){h.push(o.hot.getCopyableData(c,p))}),s.push(h)}),A1(s)}},{key:"getRangedData",value:function(i){var o=this,s=[],a=[],u=[];return tt(i,function(c){Vr(c.startRow,c.endRow,function(h){-1===a.indexOf(h)&&a.push(h)}),Vr(c.startCol,c.endCol,function(h){-1===u.indexOf(h)&&u.push(h)})}),tt(a,function(c){var h=[];tt(u,function(p){h.push(o.hot.getCopyableData(c,p))}),s.push(h)}),s}},{key:"paste",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if(i||o){var s=new U7e;i&&s.clipboardData.setData("text/plain",i),o&&s.clipboardData.setData("text/html",o),this.getOrCreateFocusableElement(),this.onPaste(s)}}},{key:"setCopyableText",value:function(){var i=this.hot.getSelectedRangeLast();if(i){var o=i.getTopStartCorner(),s=i.getBottomEndCorner(),a=o.row,u=o.col,c=s.row,h=s.col,p=Math.min(c,a+this.rowsLimit-1),g=Math.min(h,u+this.columnsLimit-1);this.copyableRanges.length=0,this.copyableRanges.push({startRow:a,startCol:u,endRow:p,endCol:g}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges),(c!==p||h!==g)&&this.hot.runHooks("afterCopyLimit",c-a+1,h-u+1,this.rowsLimit,this.columnsLimit)}}},{key:"getOrCreateFocusableElement",value:function(){var i=this.hot.getActiveEditor(),o=i?i.TEXTAREA:void 0;o?this.focusableElement.setFocusableElement(o):this.focusableElement.useSecondaryElement()}},{key:"isEditorOpened",value:function(){var i=this.hot.getActiveEditor();return i&&i.isOpened()}},{key:"populateValues",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.hot.getSelectedRangeLast();if(i.length){for(var s=i.length,a=i[0].length,u=[],c=o.getTopStartCorner(),h=c.row,p=c.col,g=o.getBottomEndCorner(),y=g.row,w=g.col,S=h,C=p,P=h,B=p;u.length<s||S<=y;){var z=this.hot.getCellMeta(S,p),j=z.skipRowOnPaste,X=z.visualRow;if(S=X+1,!0!==j){P=X,C=p;for(var ie=[],me=u.length%s;ie.length<a||C<=w;){var re=this.hot.getCellMeta(h,C),pe=re.skipColumnOnPaste,we=re.visualCol;if(C=we+1,!0!==pe){B=we;var Le=ie.length%a;ie.push(i[me][Le])}}u.push(ie)}}return this.hot.populateFromArray(h,p,u,void 0,void 0,"CopyPaste.paste",this.pasteMode),[h,p,P,B]}}},{key:"onCopy",value:function(i){var o=mw.get(this);if((this.hot.isListening()||o.isTriggeredByCopy)&&!this.isEditorOpened()){this.setCopyableText(),o.isTriggeredByCopy=!1;var s=this.getRangedData(this.copyableRanges);if(this.hot.runHooks("beforeCopy",s,this.copyableRanges)){var u=A1(s);if(i&&i.clipboardData){var c=Lee(s);i.clipboardData.setData("text/plain",u),i.clipboardData.setData("text/html",[Mle,c].join(""))}else"undefined"==typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",u);this.hot.runHooks("afterCopy",s,this.copyableRanges)}i.preventDefault()}}},{key:"onCut",value:function(i){var o=mw.get(this);if((this.hot.isListening()||o.isTriggeredByCut)&&!this.isEditorOpened()){this.setCopyableText(),o.isTriggeredByCut=!1;var s=this.getRangedData(this.copyableRanges);if(this.hot.runHooks("beforeCut",s,this.copyableRanges)){var u=A1(s);if(i&&i.clipboardData){var c=Lee(s);i.clipboardData.setData("text/plain",u),i.clipboardData.setData("text/html",[Mle,c].join(""))}else"undefined"==typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",u);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",s,this.copyableRanges)}i.preventDefault()}}},{key:"onPaste",value:function(i){if(this.hot.isListening()&&!this.isEditorOpened()){var o;if(i&&i.preventDefault&&i.preventDefault(),i&&void 0!==i.clipboardData){var s=HV(i.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});if(s&&/(<table)|(<TABLE)/g.test(s)){var a=function mke(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,t={},r=e.createDocumentFragment(),i=e.createElement("div");r.appendChild(i);var o=n;if("string"==typeof o){var s=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,function(Q){var fe=Q.match(/<td\b[^>]*?>/g)[0],Me=Q.substring(fe.length,Q.lastIndexOf("<")).replace(/(<(?!br)([^>]+)>)/gi,"");return"".concat(fe).concat(Me).concat("</td>")});i.insertAdjacentHTML("afterbegin","".concat(s)),o=i.querySelector("table")}if(o&&pke(o)){var a=i.querySelector('meta[name$="enerator"]'),u=null!==o.querySelector("tbody th"),c=o.querySelector("tr"),h=c?Array.from(c.cells).reduce(function(Q,fe){return Q+fe.colSpan},0)-(u?1:0):0,p=o.tFoot&&Array.from(o.tFoot.rows)||[],g=[],y=!1,w=0,S=0;if(o.tHead){var C=Array.from(o.tHead.rows).filter(function(Q){var fe=null!==Q.querySelector("td");return fe&&g.push(Q),!fe});y=(w=C.length)>0,w>1?t.nestedHeaders=Array.from(C).reduce(function(Q,fe){var Me=Array.from(fe.cells).reduce(function(Te,Ge,vt){if(u&&0===vt)return Te;var Lt=Ge.colSpan,Ot=Ge.innerHTML;return Te.push(Lt>1?{label:Ot,colspan:Lt}:Ot),Te},[]);return Q.push(Me),Q},[]):y&&(t.colHeaders=Array.from(C[0].children).reduce(function(Q,fe,Me){return u&&0===Me||Q.push(fe.innerHTML),Q},[]))}g.length&&(t.fixedRowsTop=g.length),p.length&&(t.fixedRowsBottom=p.length);var P=[].concat(g,oz(Array.from(o.tBodies).reduce(function(Q,fe){return Q.push.apply(Q,oz(Array.from(fe.rows))),Q},[])),oz(p));S=P.length;for(var B=new Array(S),z=0;z<S;z++)B[z]=new Array(h);for(var j=[],X=[],ie=0;ie<S;ie++)for(var re=Array.from(P[ie].cells),pe=re.length,we=0;we<pe;we++){var Le=re[we],ot=Le.nodeName,lt=Le.innerHTML,je=Le.rowSpan,bt=Le.colSpan,ye=B[ie].findIndex(function(Q){return void 0===Q});if("TD"===ot){if(je>1||bt>1){for(var Ae=ie;Ae<ie+je;Ae++)if(Ae<S)for(var Ye=ye;Ye<ye+bt;Ye++)B[Ae][Ye]=null;var Je=Le.getAttribute("style");Je&&Je.includes("mso-ignore:colspan")||j.push({col:ye,row:ie,rowspan:je,colspan:bt})}var Z="";Z=a&&/excel/gi.test(a.content)?lt.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,"\r\n"):lt.replace(/<br(\s*|\/)>[\r\n]?/gim,"\r\n"),B[ie][ye]=Z.replace(fke,function(Q){return Oee[Q]})}else X.push(lt)}return j.length&&(t.mergeCells=j),X.length&&(t.rowHeaders=X),B.length&&(t.data=B),t}}(s,this.hot.rootDocument);o=a.data}else o=i.clipboardData.getData("text/plain")}else"undefined"==typeof ClipboardEvent&&void 0!==this.hot.rootWindow.clipboardData&&(o=this.hot.rootWindow.clipboardData.getData("Text"));if("string"==typeof o&&(o=function wVe(n){var e=[[""]];if(0===n.length)return e;for(var i,t=0,r=0;n.length>0&&i!==n.length;)if(i=n.length,n.match(Xre))n=n.replace(Xre,""),e[r][t+=1]="";else if(n.match($re))n=n.replace($re,""),t=0,e[r+=1]=[""];else{var o="";if(n.startsWith('"')){for(var s=0,a=!0;a;){var u=n.slice(0,1);'"'===u&&(s+=1),o+=u,(0===(n=n.slice(1)).length||n.match(/^[\t\r\n]/)&&s%2==0)&&(a=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,function(h){return new Array(Math.floor(h.length/2)).fill('"').join("")})}else{var c=n.match(bVe);n=n.slice((o=c?c[0]:"").length)}e[r][t]=o}return e}(o)),(!o||0!==o.length)&&!1!==this.hot.runHooks("beforePaste",o,this.copyableRanges)){var c=function X7e(n,e){return function J7e(n){if(Array.isArray(n))return n}(n)||function q7e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function Z7e(n,e){if(n){if("string"==typeof n)return _le(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _le(n,e)}}(n,e)||function K7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.populateValues(o),4),g=c[2],y=c[3];this.hot.selectCell(c[0],c[1],Math.min(this.hot.countRows()-1,g),Math.min(this.hot.countCols()-1,y)),this.hot.runHooks("afterPaste",o,this.copyableRanges)}}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:"---------"},function I7e(n){return{key:"copy",name:function(){return this.getTranslatedPhrase(oj)},callback:function(){n.copy()},disabled:function(){if(0===this.countRows()||0===this.countCols())return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this),function N7e(n){return{key:"cut",name:function(){return this.getTranslatedPhrase(sj)},callback:function(){n.cut()},disabled:function(){if(0===this.countRows()||0===this.countCols())return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this))}},{key:"onAfterOnCellMouseUp",value:function(){!this.hot.isListening()||this.isEditorOpened()||this.hot.getSettings().fragmentSelection||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}},{key:"onAfterSelectionEnd",value:function(){var o=mw.get(this).isFragmentSelectionEnabled;this.isEditorOpened()||(this.getOrCreateFocusableElement(),(!o||this.focusableElement.getFocusableElement()===this.hot.rootDocument.activeElement||!function xOe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.document,t="";return n.getSelection?t=n.getSelection().toString():e.selection&&"Control"!==e.selection.type&&(t=e.selection.createRange().text),t}())&&(this.setCopyableText(),this.focusableElement.focus()))}},{key:"onBeforeKeyDown",value:function(){if(this.hot.isListening()&&!this.isEditorOpened()){var i=this.hot.rootDocument.activeElement,o=this.hot.getActiveEditor();!o||i!==this.focusableElement.getFocusableElement()&&i!==o.select||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}}},{key:"destroy",value:function(){this.focusableElement&&(yle(this.focusableElement),this.focusableElement=null),pw(Gm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return JI}},{key:"SETTING_KEYS",get:function(){return[JI].concat(a$e)}},{key:"PLUGIN_PRIORITY",get:function(){return 80}}]),t}(Zo);function Sle(n,e){return"border_row".concat(n,"col").concat(e)}function sG(n){var e,t;return(fr(n.start)||fr(n.left))&&(n.start=null!==(e=n.start)&&void 0!==e?e:n.left),(fr(n.end)||fr(n.right))&&(n.end=null!==(t=n.end)&&void 0!==t?t:n.right),delete n.left,delete n.right,n}function Z1(n){return fr(n.start)&&(n.left=n.start),fr(n.end)&&(n.right=n.end),n}function aG(n,e){return{id:Sle(n,e),border:{width:1,color:"#000",cornerVisible:!1},row:n,col:e,top:{hide:!0},bottom:{hide:!0},start:{hide:!0},end:{hide:!0}}}function Xm(n,e){var t=!1;return tt(n.getSelectedRange(),function(r){r.forAll(function(i,o){if(!(i<0||o<0)){var s=n.getCellMeta(i,o).borders;if(s){if(!e)return t=!0,!1;if(!Ns(s[e],"hide")||!1===s[e].hide)return t=!0,!1}}})}),t}function QI(n){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(n)}var m$e=new Map([["left","start"],["right","end"]]);function v$e(n){return{key:"borders:top",name:function(){var t=this.getTranslatedPhrase(xj);return Xm(this,"top")&&(t=QI(t)),t},callback:function(t,r){var i=Xm(this,"top");n.prepareBorder(r,"top",i)}}}function y$e(n){var e=n.hot.isRtl()?"start":"end";return{key:"borders:right",name:function(){var r=this.getTranslatedPhrase(Cj);return Xm(this,e)&&(r=QI(r)),r},callback:function(r,i){var o=Xm(this,e);n.prepareBorder(i,e,o)}}}function _$e(n){return{key:"borders:bottom",name:function(){var t=this.getTranslatedPhrase(Ej);return Xm(this,"bottom")&&(t=QI(t)),t},callback:function(t,r){var i=Xm(this,"bottom");n.prepareBorder(r,"bottom",i)}}}function b$e(n){var e=n.hot.isRtl()?"end":"start";return{key:"borders:left",name:function(){var r=this.getTranslatedPhrase(Tj);return Xm(this,e)&&(r=QI(r)),r},callback:function(r,i){var o=Xm(this,e);n.prepareBorder(i,e,o)}}}function w$e(n){return{key:"borders:no_borders",name:function(){return this.getTranslatedPhrase(Rj)},callback:function(t,r){n.prepareBorder(r,"noBorders")},disabled:function(){return!Xm(this)}}}function lG(n){return(lG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xle(n,e){return function C$e(n){if(Array.isArray(n))return n}(n)||function x$e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function S$e(n,e){if(n){if("string"==typeof n)return Cle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cle(n,e)}}(n,e)||function M$e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function E$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ele(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function gw(){return gw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=R$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},gw.apply(this,arguments)}function R$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Km(n)););return n}function uG(n,e){return(uG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function O$e(n,e){if(e&&("object"===lG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tle(n)}function Tle(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Km(n){return(Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function L$e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var eN="customBorders",I$e=function(n){!function D$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&uG(n,e)}(t,n);var e=function A$e(n){var e=function k$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Km(n);if(e){var o=Km(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return O$e(this,i)}}(t);function t(){var r;E$e(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return L$e(Tle(r=e.call.apply(e,[this].concat(o))),"savedBorders",[]),r}return function T$e(n,e,t){e&&Ele(n.prototype,e),t&&Ele(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[eN]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(o){return i.onAfterContextMenuDefaultOptions(o)}),this.addHook("init",function(){return i.onAfterInit()}),gw(Km(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hideBorders(),gw(Km(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),gw(Km(t.prototype),"updatePlugin",this).call(this)}},{key:"setBorders",value:function(i,o){var s=this,a=["top","bottom","start","end"],u=null;o&&(this.checkSettingsCohesion([o]),a=Object.keys(o),u=sG(o));var h=D1(ex(i));tt(i,function(p){for(var y=xle(h(p),4),S=y[1],C=y[2],P=y[3],B=function(X){for(var ie=function(pe){tt(a,function(we){s.prepareBorderFromCustomAdded(X,pe,u,function g$e(n){var e;return null!==(e=m$e.get(n))&&void 0!==e?e:n}(we))})},me=S;me<=P;me+=1)ie(me)},z=y[0];z<=C;z+=1)B(z)}),this.hot.view.render()}},{key:"getBorders",value:function(i){var o=this;if(!Array.isArray(i))return this.savedBorders;var a=D1(ex(i)),u=[];return tt(i,function(c){for(var p=xle(a(c),4),y=p[1],w=p[2],S=p[3],C=function(z){for(var j=function(me){tt(o.savedBorders,function(re){re.row===z&&re.col===me&&u.push(Z1(re))})},X=y;X<=S;X+=1)j(X)},P=p[0];P<=w;P+=1)C(P)}),u}},{key:"clearBorders",value:function(i){var o=this;i?this.setBorders(i):(tt(this.savedBorders,function(s){o.clearBordersFromSelectionSettings(s.id),o.clearNullCellRange(),o.hot.removeCellMeta(s.row,s.col,"borders")}),this.savedBorders.length=0)}},{key:"insertBorderIntoSettings",value:function(i,o){this.checkSavedBorders(i)||this.savedBorders.push(i);var a=this.hot._createCellRange(this.hot._createCellCoords(i.row,i.col));this.checkCustomSelections(i,a,o)||this.hot.selection.highlight.addCustomSelection({border:i,visualCellRange:a})}},{key:"prepareBorderFromCustomAdded",value:function(i,o,s,a){var u=this.hot.countRows(),c=this.hot.countCols();if(!(i>=u||o>=c)){var h=aG(i,o);s&&(h=function h$e(n,e){return Ns(e,"border")&&e.border&&(n.border=e.border),Ns(e,"top")&&fr(e.top)&&(e.top?(Yi(e.top)||(e.top={width:1,color:"#000"}),n.top=e.top):(e.top={hide:!0},n.top=e.top)),Ns(e,"bottom")&&fr(e.bottom)&&(e.bottom?(Yi(e.bottom)||(e.bottom={width:1,color:"#000"}),n.bottom=e.bottom):(e.bottom={hide:!0},n.bottom=e.bottom)),Ns(e,"start")&&fr(e.start)&&(e.start?(Yi(e.start)||(e.start={width:1,color:"#000"}),n.start=e.start):(e.start={hide:!0},n.start=e.start)),Ns(e,"end")&&fr(e.end)&&(e.end?(Yi(e.end)||(e.end={width:1,color:"#000"}),n.end=e.end):(e.end={hide:!0},n.end=e.end)),n}(h,s),tt(this.hot.selection.highlight.customSelections,function(p){if(h.id===p.settings.id)return Object.assign(p.settings,s),h.id=p.settings.id,h.top=p.settings.top,h.bottom=p.settings.bottom,h.start=p.settings.start,h.end=p.settings.end,!1})),this.hot.setCellMeta(i,o,"borders",Z1(h)),this.insertBorderIntoSettings(h,a)}}},{key:"prepareBorderFromCustomAddedRange",value:function(i,o){var s=this,a=Math.min(i.to.row,this.hot.countRows()-1),u=Math.min(i.to.col,this.hot.countCols()-1);Vr(i.from.row,a,function(c){Vr(i.from.col,u,function(h){var p=aG(c,h),g=0;c===i.from.row&&Ns(o,"top")&&(g+=1,p.top=o.top),c===i.to.row&&Ns(o,"bottom")&&(g+=1,p.bottom=o.bottom),h===i.from.col&&Ns(o,"start")&&(g+=1,p.start=o.start),h===i.to.col&&Ns(o,"end")&&(g+=1,p.end=o.end),g>0&&(s.hot.setCellMeta(c,h,"borders",Z1(p)),s.insertBorderIntoSettings(p))})})}},{key:"removeAllBorders",value:function(i,o){var s=Sle(i,o);this.spliceBorder(s),this.clearBordersFromSelectionSettings(s),this.clearNullCellRange(),this.hot.removeCellMeta(i,o,"borders")}},{key:"setBorder",value:function(i,o,s,a){var u=this.hot.getCellMeta(i,o).borders;u=u&&void 0!==u.border?sG(u):aG(i,o),a?(u[s]={hide:!0},4===this.countHide(u)?this.removeAllBorders(i,o):(this.checkCustomSelectionsFromContextMenu(u,s,a)||this.insertBorderIntoSettings(u),this.hot.setCellMeta(i,o,"borders",Z1(u)))):(u[s]={width:1,color:"#000"},this.checkCustomSelectionsFromContextMenu(u,s,a)||this.insertBorderIntoSettings(u),this.hot.setCellMeta(i,o,"borders",Z1(u)))}},{key:"prepareBorder",value:function(i,o,s){var a=this;tt(i,function(u){var c=u.start,h=u.end;if(c.row===h.row&&c.col===h.col)"noBorders"===o?a.removeAllBorders(c.row,c.col):a.setBorder(c.row,c.col,o,s);else switch(o){case"noBorders":Vr(c.col,h.col,function(p){Vr(c.row,h.row,function(g){a.removeAllBorders(g,p)})});break;case"top":Vr(c.col,h.col,function(p){a.setBorder(c.row,p,o,s)});break;case"bottom":Vr(c.col,h.col,function(p){a.setBorder(h.row,p,o,s)});break;case"start":Vr(c.row,h.row,function(p){a.setBorder(p,c.col,o,s)});break;case"end":Vr(c.row,h.row,function(p){a.setBorder(p,h.col,o,s)})}})}},{key:"createCustomBorders",value:function(i){var o=this;tt(i,function(s){var a=sG(s);s.range?o.prepareBorderFromCustomAddedRange(s.range,a):o.prepareBorderFromCustomAdded(s.row,s.col,a)})}},{key:"countHide",value:function(i){return Ua([i.top,i.bottom,i.start,i.end],function(h,p){var g=h;return p&&p.hide&&(g+=1),g},0)}},{key:"clearBordersFromSelectionSettings",value:function(i){var o=Ji(this.hot.selection.highlight.customSelections,function(s){return s.settings.id}).indexOf(i);o>-1&&this.hot.selection.highlight.customSelections[o].clear()}},{key:"clearNullCellRange",value:function(){var i=this;tt(this.hot.selection.highlight.customSelections,function(o,s){if(null===o.cellRange)return i.hot.selection.highlight.customSelections[s].destroy(),i.hot.selection.highlight.customSelections.splice(s,1),!1})}},{key:"hideBorders",value:function(){var i=this;tt(this.savedBorders,function(o){i.clearBordersFromSelectionSettings(o.id),i.clearNullCellRange()})}},{key:"spliceBorder",value:function(i){var o=Ji(this.savedBorders,function(s){return s.id}).indexOf(i);o>-1&&this.savedBorders.splice(o,1)}},{key:"checkSavedBorders",value:function(i){var o=this,s=!1;return 4===this.countHide(i)?(this.spliceBorder(i.id),s=!0):tt(this.savedBorders,function(u,c){if(i.id===u.id)return o.savedBorders[c]=i,s=!0,!1}),s}},{key:"checkCustomSelectionsFromContextMenu",value:function(i,o,s){var a=!1;return tt(this.hot.selection.highlight.customSelections,function(u){if(i.id===u.settings.id)return io(u.instanceBorders,function(c){c.toggleHiddenClass(o,s)}),a=!0,!1}),a}},{key:"checkCustomSelections",value:function(i,o,s){var a=this.countHide(i),u=!1;return 4===a?(this.removeAllBorders(i.row,i.col),u=!0):tt(this.hot.selection.highlight.customSelections,function(c){if(i.id===c.settings.id)return c.visualCellRange=o,c.commit(),s&&io(c.instanceBorders,function(h){h.changeBorderStyle(s,i)}),u=!0,!1}),u}},{key:"changeBorderSettings",value:function(){var i=this.hot.getSettings()[eN];if(Array.isArray(i)){var o=zu(i);this.checkSettingsCohesion(o),o.length||(this.savedBorders=o),this.createCustomBorders(o)}else void 0!==i&&this.createCustomBorders(this.savedBorders)}},{key:"checkSettingsCohesion",value:function(i){var o=function f$e(n){return n.some(function(e){return fr(e.left)||fr(e.right)})}(i),s=function p$e(n){return n.some(function(e){return fr(e.start)||fr(e.end)})}(i);if(o&&s)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&o)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}},{key:"onAfterContextMenuDefaultOptions",value:function(i){!this.hot.getSettings()[eN]||i.items.push({name:"---------"},{key:"borders",name:function(){return this.getTranslatedPhrase(Sj)},disabled:function(){return this.selection.isSelectedByCorner()},submenu:{items:[v$e(this),y$e(this),_$e(this),b$e(this),w$e(this)]}})}},{key:"onAfterInit",value:function(){this.changeBorderSettings()}},{key:"destroy",value:function(){gw(Km(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return eN}},{key:"PLUGIN_PRIORITY",get:function(){return 90}}]),t}(Zo);function cG(n){return(cG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Rle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function vw(){return vw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=H$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},vw.apply(this,arguments)}function H$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Zm(n)););return n}function dG(n,e){return(dG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function z$e(n,e){if(e&&("object"===cG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dle(n)}function Dle(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Zm(n){return(Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Ale="dragToScroll",W$e=function(n){!function B$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dG(n,e)}(t,n);var e=function V$e(n){var e=function U$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Zm(n);if(e){var o=Zm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return z$e(this,i)}}(t);function t(r){var i;return function N$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ra(Dle(i)),i.boundaries=null,i.callback=null,i.listening=!1,i}return function F$e(n,e,t){e&&Rle(n.prototype,e),t&&Rle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Ale]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterOnCellMouseDown",function(o){return i.setupListening(o)}),this.addHook("afterOnCellCornerMouseDown",function(o){return i.setupListening(o)}),this.registerEvents(),vw(Zm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),vw(Zm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.unregisterEvents(),vw(Zm(t.prototype),"disablePlugin",this).call(this)}},{key:"setBoundaries",value:function(i){this.boundaries=i}},{key:"setCallback",value:function(i){this.callback=i}},{key:"check",value:function(i,o){var s=0,a=0;o<this.boundaries.top?a=o-this.boundaries.top:o>this.boundaries.bottom&&(a=o-this.boundaries.bottom),i<this.boundaries.left?s=i-this.boundaries.left:i>this.boundaries.right&&(s=i-this.boundaries.right),this.callback(s,a)}},{key:"listen",value:function(){this.listening=!0}},{key:"unlisten",value:function(){this.listening=!1}},{key:"isListening",value:function(){return this.listening}},{key:"registerEvents",value:function(){for(var i=this,s=this.hot.rootWindow;s;)this.eventManager.addEventListener(s.document,"contextmenu",function(){return i.unlisten()}),this.eventManager.addEventListener(s.document,"mouseup",function(){return i.unlisten()}),this.eventManager.addEventListener(s.document,"mousemove",function(a){return i.onMouseMove(a)}),s=kL(s)}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"setupListening",value:function(i){if(!Fb(i)){var o=this.hot.view._wt.wtTable.holder;o!==this.hot.rootWindow&&(this.setBoundaries(o.getBoundingClientRect()),this.setCallback(function(s,a){s<0?o.scrollLeft-=50:s>0&&(o.scrollLeft+=50),a<0?o.scrollTop-=20:a>0&&(o.scrollTop+=20)}),this.listen())}}},{key:"onMouseMove",value:function(i){!this.isListening()||this.check(i.clientX,i.clientY)}},{key:"destroy",value:function(){vw(Zm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Ale}},{key:"PLUGIN_PRIORITY",get:function(){return 100}}]),t}(Zo);function hG(n){return(hG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ole(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function yw(){return yw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=$$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},yw.apply(this,arguments)}function $$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=qm(n)););return n}function fG(n,e){return(fG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Z$e(n,e){if(e&&("object"===hG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kle(n)}function kle(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qm(n){return(qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("afterDropdownMenuDefaultOptions"),xr.getSingleton().register("beforeDropdownMenuShow"),xr.getSingleton().register("afterDropdownMenuShow"),xr.getSingleton().register("afterDropdownMenuHide"),xr.getSingleton().register("afterDropdownMenuExecute");var pG="dropdownMenu",mG="changeType",Lle=function(n){!function X$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&fG(n,e)}(t,n);var e=function K$e(n){var e=function q$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=qm(n);if(e){var o=qm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Z$e(this,i)}}(t);function t(r){var i;return function Y$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ra(kle(i)),i.commandExecutor=new Zae(i.hot),i.itemsFactory=null,i.menu=null,i.hot.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),i}return function G$e(n,e,t){e&&Ole(n.prototype,e),t&&Ole(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[pG]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){this.itemsFactory=new rle(this.hot,t.DEFAULT_ITEMS);var o=this.hot.getSettings()[pG],s={items:this.itemsFactory.getItems(o)};this.registerEvents(),"function"==typeof o.callback&&this.commandExecutor.setCommonCallback(o.callback),yw(qm(t.prototype),"enablePlugin",this).call(this),this.callOnPluginsReady(function(){i.hot.runHooks("afterDropdownMenuDefaultOptions",s),i.itemsFactory.setPredefinedItems(s.items);var a=i.itemsFactory.getItems(o);i.menu&&i.menu.destroy(),i.menu=new eG(i.hot,{className:"htDropdownMenu",keepInViewport:!0,container:o.uiContainer||i.hot.rootDocument.body}),i.hot.runHooks("beforeDropdownMenuSetItems",a),i.menu.setMenuItems(a),i.menu.addLocalHook("beforeOpen",function(){return i.onMenuBeforeOpen()}),i.menu.addLocalHook("afterOpen",function(){return i.onMenuAfterOpen()}),i.menu.addLocalHook("afterClose",function(){return i.onMenuAfterClose()}),i.menu.addLocalHook("executeCommand",function(){for(var u,c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];return(u=i.executeCommand).call.apply(u,[i].concat(h))}),tt(a,function(u){return i.commandExecutor.registerCommand(u.key,u)})})}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),yw(qm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&this.menu.destroy(),yw(qm(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var i=this;this.eventManager.addEventListener(this.hot.rootElement,"click",function(o){return i.onTableClick(o)})}},{key:"open",value:function(i){!this.menu||(this.menu.open(),i.width&&this.menu.setOffset("left",i.width),this.menu.setPosition(i))}},{key:"close",value:function(){!this.menu||this.menu.close()}},{key:"executeCommand",value:function(i){for(var o,s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=this.commandExecutor).execute.apply(o,[i].concat(a))}},{key:"setListening",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.menu.isOpened()&&(i?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}},{key:"onTableClick",value:function(i){if(i.stopPropagation(),Ci(i.target,mG)&&!this.menu.isOpened()){var o=0,s=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var u=this.hot.rootWindow.frameElement.getBoundingClientRect();o=u.top,s=u.left}var p=i.target.getBoundingClientRect();this.open({left:p.left+s,top:p.top+i.target.offsetHeight+3+o,width:p.width,height:p.height})}}},{key:"onAfterGetColHeader",value:function(i,o){var s=o.parentNode;if(s){var a=s.parentNode.childNodes,u=Array.prototype.indexOf.call(a,s);if(!(i<0||u!==a.length-1)){var c=o.querySelector(".".concat(mG));if(!this.enabled||!c){if(!this.enabled)return void(c&&c.parentNode.removeChild(c));var h=this.hot.rootDocument.createElement("button");h.className=mG,h.type="button",h.onclick=function(){return!1},o.firstChild.insertBefore(h,o.firstChild.firstChild)}}}}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeDropdownMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterDropdownMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),yw(qm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return pG}},{key:"PLUGIN_PRIORITY",get:function(){return 230}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[W1,Y1,Qi,$1,Qi,UI,Qi,G1,Qi,sh]}}]),t}(Zo);function Ple(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ile(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}Lle.SEPARATOR={name:Qi};const aXe=function(){function n(e){(function iXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.options={}}return function oXe(n,e,t){e&&Ile(n.prototype,e),t&&Ile(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"getData",value:function(){var t=this,r=this._getDataRange(),o=r.startCol,a=r.endCol,u=this.options,c=[];return Vr(r.startRow,r.endRow,function(h){var p=[];!u.exportHiddenRows&&t._isHiddenRow(h)||(Vr(o,a,function(g){!u.exportHiddenColumns&&t._isHiddenColumn(g)||p.push(t.hot.getDataAtCell(h,g))}),c.push(p))}),c}},{key:"getRowHeaders",value:function(){var t=this,r=[];if(this.options.rowHeaders){var i=this._getDataRange(),o=i.startRow,s=i.endRow,a=this.hot.getRowHeader();Vr(o,s,function(u){!t.options.exportHiddenRows&&t._isHiddenRow(u)||r.push(a[u])})}return r}},{key:"getColumnHeaders",value:function(){var t=this,r=[];if(this.options.columnHeaders){var i=this._getDataRange(),o=i.startCol,s=i.endCol,a=this.hot.getColHeader();Vr(o,s,function(u){!t.options.exportHiddenColumns&&t._isHiddenColumn(u)||r.push(a[u])})}return r}},{key:"_getDataRange",value:function(){var t=this.hot.countCols()-1,r=this.hot.countRows()-1,i=function Q$e(n,e){return function rXe(n){if(Array.isArray(n))return n}(n)||function nXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function tXe(n,e){if(n){if("string"==typeof n)return Ple(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ple(n,e)}}(n,e)||function eXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.options.range,4),o=i[0],s=void 0===o?0:o,a=i[1],u=void 0===a?0:a,c=i[2],h=void 0===c?r:c,p=i[3],g=void 0===p?t:p;return{startRow:s=Math.max(s,0),startCol:u=Math.max(u,0),endRow:h=Math.min(h,r),endCol:g=Math.min(g,t)}}},{key:"_isHiddenRow",value:function(t){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(t))}},{key:"_isHiddenColumn",value:function(t){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(t))}}]),n}();function Nle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const dXe=function(){function n(e,t){(function lXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataProvider=e,this.options=this._mergeOptions(t),this.dataProvider.setOptions(this.options)}return function uXe(n,e,t){e&&Nle(n.prototype,e),t&&Nle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"_mergeOptions",value:function(t){var r=xc(this.constructor.DEFAULT_OPTIONS),i=new Date;return r=ta(xc(n.DEFAULT_OPTIONS),r),(r=ta(r,t)).filename=JQ(r.filename,{YYYY:i.getFullYear(),MM:"".concat(i.getMonth()+1).padStart(2,"0"),DD:"".concat(i.getDate()).padStart(2,"0")}),r}}],[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}}]),n}();function gG(n){return(gG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Fle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function vG(n,e){return(vG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function gXe(n,e){if(e&&("object"===gG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function vXe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function tN(n){return(tN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var _Xe=String.fromCharCode(13),bXe=String.fromCharCode(34),wXe=String.fromCharCode(10),yG=function xXe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}({},"csv",function(n){!function pXe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&vG(n,e)}(t,n);var e=function mXe(n){var e=function yXe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=tN(n);if(e){var o=tN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gXe(this,i)}}(t);function t(){return hXe(this,t),e.apply(this,arguments)}return function fXe(n,e,t){e&&Fle(n.prototype,e),t&&Fle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"export",value:function(){var i=this,o=this.options,s=this.dataProvider.getData(),a=this.dataProvider.getColumnHeaders(),u=a.length>0,c=this.dataProvider.getRowHeaders(),h=c.length>0,p=o.bom?String.fromCharCode(65279):"";return u&&(a=Ji(a,function(g){return i._escapeCell(g,!0)}),h&&(p+=o.columnDelimiter),p+=a.join(o.columnDelimiter),p+=o.rowDelimiter),tt(s,function(g,y){y>0&&(p+=o.rowDelimiter),h&&(p+=i._escapeCell(c[y])+o.columnDelimiter),p+=g.map(function(w){return i._escapeCell(w)}).join(o.columnDelimiter)}),p}},{key:"_escapeCell",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=Sa(i);return""!==s&&(o||s.indexOf(_Xe)>=0||s.indexOf(bXe)>=0||s.indexOf(wXe)>=0||s.indexOf(this.options.columnDelimiter)>=0)&&(s=s.replace(new RegExp('"',"g"),'""'),s='"'.concat(s,'"')),s}}],[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:"\r\n"}}}]),t}(dXe));function EXe(n,e,t){return"function"==typeof yG[n]?new yG[n](e,t):null}function _G(n){return(_G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function TXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Hle(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function bG(n,e){return(bG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function OXe(n,e){if(e&&("object"===_G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function kXe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function nN(n){return(nN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var NXe=function(n){!function DXe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&bG(n,e)}(t,n);var e=function AXe(n){var e=function LXe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=nN(n);if(e){var o=nN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return OXe(this,i)}}(t);function t(){return TXe(this,t),e.apply(this,arguments)}return function RXe(n,e,t){e&&Hle(n.prototype,e),t&&Hle(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!0}},{key:"exportAsString",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createTypeFormatter(i,o).export()}},{key:"exportAsBlob",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createBlob(this._createTypeFormatter(i,o))}},{key:"downloadFile",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.hot,a=s.rootDocument,u=s.rootWindow,c=this._createTypeFormatter(i,o),h=this._createBlob(c),p=u.URL||u.webkitURL,g=a.createElement("a"),y="".concat(c.options.filename,".").concat(c.options.fileExtension);if(void 0!==g.download){var w=p.createObjectURL(h);g.style.display="none",g.setAttribute("href",w),g.setAttribute("download",y),a.body.appendChild(g),g.dispatchEvent(new MouseEvent("click")),a.body.removeChild(g),setTimeout(function(){p.revokeObjectURL(w)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(h,y)}},{key:"_createTypeFormatter",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!yG[i])throw new Error('Export format type "'.concat(i,'" is not supported.'));return EXe(i,new aXe(this.hot),o)}},{key:"_createBlob",value:function(i){var o=null;return"undefined"!=typeof Blob&&(o=new Blob([i.export()],{type:"".concat(i.options.mimeType,";charset=").concat(i.options.encoding)})),o}}],[{key:"PLUGIN_KEY",get:function(){return"exportFile"}},{key:"PLUGIN_PRIORITY",get:function(){return 240}}]),t}(Zo);function Ble(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Vle=function(){function n(e,t){var r=t.id,i=t.stateless,o=void 0===i||i;(function FXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.id=r,this.elements=[],this.hidden=!1,this.stateId="Filters.component.".concat(this.id),this.state=o?null:this.hot.columnIndexMapper.registerMap(this.stateId,new EP)}return function HXe(n,e,t){e&&Ble(n.prototype,e),t&&Ble(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"reset",value:function(){tt(this.elements,function(t){return t.reset()})}},{key:"hide",value:function(){this.hidden=!0}},{key:"show",value:function(){this.hidden=!1}},{key:"isHidden",value:function(){return null===this.hot||this.hidden}},{key:"restoreState",value:function(t){this.state&&this.setState(this.state.getValueAtIndex(t))}},{key:"setState",value:function(){throw new Error("The state setting logic is not implemented")}},{key:"saveState",value:function(t){this.state&&this.state.setValueAtIndex(t,this.getState())}},{key:"getState",value:function(){throw new Error("The state gathering logic is not implemented")}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),tt(this.elements,function(t){return t.destroy()}),this.state=null,this.elements=null,this.hot=null}}]),n}();ys(Vle,Ec);const rN=Vle;var q1={};function yy(n,e){if(!q1[n])throw Error('Filter condition "'.concat(n,'" does not exist.'));var t=q1[n],r=t.condition,i=t.descriptor,o=e;return i.inputValuesDecorator&&(o=i.inputValuesDecorator(o)),function(s){return r.apply(s.meta.instance,[].concat([s],[o]))}}function _w(n){if(!q1[n])throw Error('Filter condition "'.concat(n,'" does not exist.'));return q1[n].descriptor}function xa(n,e,t){t.key=n,q1[n]={condition:e,descriptor:t}}var Rl="none";xa(Rl,function BXe(){return!0},{name:PP,inputsCount:0,showOperators:!1});var J1="empty";xa(J1,function VXe(n){return cl(n.value)},{name:Ij,inputsCount:0,showOperators:!0});var iN="not_empty";function zle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}xa(iN,function zXe(n,e){return!yy(J1,e)(n)},{name:Nj,inputsCount:0,showOperators:!0});var Q1="eq";xa(Q1,function $Xe(n,e){var r=function UXe(n,e){return function GXe(n){if(Array.isArray(n))return n}(n)||function YXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function WXe(n,e){if(n){if("string"==typeof n)return zle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zle(n,e)}}(n,e)||function jXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return Sa(n.value).toLocaleLowerCase(n.meta.locale)===Sa(r)},{name:Fj,inputsCount:1,showOperators:!0});var oN="neq";function Ule(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Wle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Gle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Xle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Zle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}xa(oN,function XXe(n,e){return!yy(Q1,e)(n)},{name:Hj,inputsCount:1,showOperators:!0}),xa("gt",function eKe(n,e){var i=function KXe(n,e){return function QXe(n){if(Array.isArray(n))return n}(n)||function JXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function qXe(n,e){if(n){if("string"==typeof n)return Ule(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ule(n,e)}}(n,e)||function ZXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value>i},{name:jj,inputsCount:1,showOperators:!0}),xa("gte",function sKe(n,e){var i=function tKe(n,e){return function oKe(n){if(Array.isArray(n))return n}(n)||function iKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function rKe(n,e){if(n){if("string"==typeof n)return Wle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wle(n,e)}}(n,e)||function nKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value>=i},{name:Wj,inputsCount:1,showOperators:!0}),xa("lt",function hKe(n,e){var i=function aKe(n,e){return function dKe(n){if(Array.isArray(n))return n}(n)||function cKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function uKe(n,e){if(n){if("string"==typeof n)return Gle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gle(n,e)}}(n,e)||function lKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value<i},{name:Yj,inputsCount:1,showOperators:!0}),xa("lte",function yKe(n,e){var i=function fKe(n,e){return function vKe(n){if(Array.isArray(n))return n}(n)||function gKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function mKe(n,e){if(n){if("string"==typeof n)return Xle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xle(n,e)}}(n,e)||function pKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value<=i},{name:Gj,inputsCount:1,showOperators:!0});var wG="date_after";function qle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}xa(wG,function xKe(n,e){var r=function _Ke(n,e){return function SKe(n){if(Array.isArray(n))return n}(n)||function MKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function wKe(n,e){if(n){if("string"==typeof n)return Zle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zle(n,e)}}(n,e)||function bKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0],i=as(n.value,n.meta.dateFormat),o=as(r,n.meta.dateFormat);return!(!i.isValid()||!o.isValid())&&i.diff(o)>=0},{name:Kj,inputsCount:1,showOperators:!0});var MG="date_before";function Jle(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}xa(MG,function AKe(n,e){var r=function CKe(n,e){return function DKe(n){if(Array.isArray(n))return n}(n)||function RKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function TKe(n,e){if(n){if("string"==typeof n)return qle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qle(n,e)}}(n,e)||function EKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0],i=as(n.value,n.meta.dateFormat),o=as(r,n.meta.dateFormat);return!(!i.isValid()||!o.isValid())&&i.diff(o)<=0},{name:Zj,inputsCount:1,showOperators:!0});var sN="between";xa(sN,function NKe(n,e){var t=function OKe(n,e){return function IKe(n){if(Array.isArray(n))return n}(n)||function PKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function LKe(n,e){if(n){if("string"==typeof n)return Jle(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jle(n,e)}}(n,e)||function kKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),o=t[0],s=t[1];if("numeric"===n.meta.type){var a=parseFloat(o,10),u=parseFloat(s,10);o=Math.min(a,u),s=Math.max(a,u)}else if("date"===n.meta.type){var c=yy(MG,[s]),h=yy(wG,[o]);return c(n)&&h(n)}return n.value>=o&&n.value<=s},{name:$j,inputsCount:2,showOperators:!0});var Qle="not_between";function eue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}xa(Qle,function FKe(n,e){return!yy(sN,e)(n)},{name:Xj,inputsCount:2,showOperators:!0});var tue="begins_with";function nue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function iue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}xa(tue,function jKe(n,e){var r=function HKe(n,e){return function UKe(n){if(Array.isArray(n))return n}(n)||function zKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function VKe(n,e){if(n){if("string"==typeof n)return eue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eue(n,e)}}(n,e)||function BKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return Sa(n.value).toLocaleLowerCase(n.meta.locale).startsWith(Sa(r))},{name:Bj,inputsCount:1,showOperators:!0}),b(3487),xa("ends_with",function KKe(n,e){var r=function WKe(n,e){return function XKe(n){if(Array.isArray(n))return n}(n)||function $Ke(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function GKe(n,e){if(n){if("string"==typeof n)return nue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nue(n,e)}}(n,e)||function YKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return Sa(n.value).toLocaleLowerCase(n.meta.locale).endsWith(Sa(r))},{name:Vj,inputsCount:1,showOperators:!0});var SG="contains";xa(SG,function tZe(n,e){var r=function ZKe(n,e){return function eZe(n){if(Array.isArray(n))return n}(n)||function QKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function JKe(n,e){if(n){if("string"==typeof n)return iue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return iue(n,e)}}(n,e)||function qKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return Sa(n.value).toLocaleLowerCase(n.meta.locale).indexOf(Sa(r))>=0},{name:zj,inputsCount:1,showOperators:!0});var oue="not_contains";xa(oue,function nZe(n,e){return!yy(SG,e)(n)},{name:Uj,inputsCount:1,showOperators:!0});var sue="date_tomorrow";xa(sue,function rZe(n){var e=as(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(as().subtract(-1,"days").startOf("day"),"d")},{name:Jj,inputsCount:0});var aue="date_today";xa(aue,function iZe(n){var e=as(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(as().startOf("day"),"d")},{name:qj,inputsCount:0});var eR,lue="date_yesterday";function xG(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}xa(lue,function oZe(n){var e=as(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(as().subtract(1,"days").startOf("day"),"d")},{name:Qj,inputsCount:0});var cue=(xG(eR={},"numeric",[Rl,Qi,J1,iN,Qi,Q1,oN,Qi,"gt","gte","lt","lte",sN,Qle]),xG(eR,"text",[Rl,Qi,J1,iN,Qi,Q1,oN,Qi,tue,"ends_with",Qi,SG,oue]),xG(eR,"date",[Rl,Qi,J1,iN,Qi,Q1,oN,Qi,MG,wG,sN,Qi,sue,aue,lue]),eR);function due(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var CG="built",EG="building",hue=["click","input","keydown","keypress","keyup","focus","blur","change"],fue=function(){function n(e,t){(function uZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.eventManager=new ra(this),this.options=ta(n.DEFAULTS,t),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName),this.buildState=null}return function cZe(n,e,t){e&&due(n.prototype,e),t&&due(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setValue",value:function(t){this.options.value=t,this.update()}},{key:"getValue",value:function(){return this.options.value}},{key:"element",get:function(){return this.buildState===EG?this._element:this.buildState===CG?(this.update(),this._element):(this.buildState=EG,this.build(),this.buildState=CG,this._element)}},{key:"isBuilt",value:function(){return this.buildState===CG}},{key:"translateIfPossible",value:function(t){return"string"==typeof t&&t.startsWith(Uu)?this.hot.getTranslatedPhrase(t):t}},{key:"build",value:function(){var t=this,r=function(s,a){t.eventManager.addEventListener(s,a,function(u){return t.runLocalHooks(a,u,t)})};if(this.buildState||(this.buildState=EG),this.options.className&&Rn(this._element,this.options.className),this.options.children.length)tt(this.options.children,function(o){return t._element.appendChild(o.element)});else if(this.options.wrapIt){var i=this.hot.rootDocument.createElement(this.options.tagName);io(this.options,function(o,s){void 0!==i[s]&&"className"!==s&&"tagName"!==s&&"children"!==s&&(i[s]=t.translateIfPossible(o))}),this._element.appendChild(i),tt(hue,function(o){return r(i,o)})}else tt(hue,function(o){return r(t._element,o)})}},{key:"update",value:function(){}},{key:"reset",value:function(){this.options.value="",this.update()}},{key:"show",value:function(){this.element.style.display=""}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"focus",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}}],[{key:"DEFAULTS",get:function(){return xc({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}}]),n}();ys(fue,Ec);const _y=fue;function TG(n){return(TG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function aN(){return aN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=fZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},aN.apply(this,arguments)}function fZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=yx(n)););return n}function RG(n,e){return(RG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function gZe(n,e){if(e&&("object"===TG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mue(n)}function mue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function yx(n){return(yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var lN=new WeakMap;const _x=function(n){!function pZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&RG(n,e)}(t,n);var e=function mZe(n){var e=function vZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=yx(n);if(e){var o=yx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gZe(this,i)}}(t);function t(r,i){var o;return function dZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,ta(t.DEFAULTS,i)),lN.set(mue(o),{}),o.registerHooks(),o}return function hZe(n,e,t){e&&pue(n.prototype,e),t&&pue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.addLocalHook("click",function(){return i.onClick()}),this.addLocalHook("keyup",function(o){return i.onKeyup(o)})}},{key:"build",value:function(){aN(yx(t.prototype),"build",this).call(this);var i=lN.get(this),o=this.hot.rootDocument.createElement("div");i.input=this._element.firstChild,Rn(this._element,"htUIInput"),Rn(o,"htUIInputIcon"),this._element.appendChild(o),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var i=lN.get(this).input;i.type=this.options.type,i.placeholder=this.translateIfPossible(this.options.placeholder),i.value=this.translateIfPossible(this.options.value)}}},{key:"focus",value:function(){this.isBuilt()&&lN.get(this).input.focus()}},{key:"onClick",value:function(){}},{key:"onKeyup",value:function(i){this.options.value=i.target.value}}],[{key:"DEFAULTS",get:function(){return xc({placeholder:"",type:"text",tagName:"input"})}}]),t}(_y);function DG(n){return(DG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function gue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function bx(){return bx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=wZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},bx.apply(this,arguments)}function wZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=by(n)););return n}function AG(n,e){return(AG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function xZe(n,e){if(e&&("object"===DG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vue(n)}function vue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function by(n){return(by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var uN=new WeakMap;const yue=function(n){!function MZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&AG(n,e)}(t,n);var e=function SZe(n){var e=function CZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=by(n);if(e){var o=by(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xZe(this,i)}}(t);function t(r,i){var o;return function _Ze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,ta(t.DEFAULTS,i)),uN.set(vue(o),{}),o.menu=null,o.items=[],o.registerHooks(),o}return function bZe(n,e,t){e&&gue(n.prototype,e),t&&gue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.addLocalHook("click",function(){return i.onClick()})}},{key:"setItems",value:function(i){this.items=this.translateNames(i),this.menu&&this.menu.setMenuItems(this.items)}},{key:"translateNames",value:function(i){var o=this;return tt(i,function(s){s.name=o.translateIfPossible(s.name)}),i}},{key:"build",value:function(){var i=this;bx(by(t.prototype),"build",this).call(this),this.menu=new eG(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer}),this.menu.setMenuItems(this.items);var o=new _y(this.hot,{className:"htUISelectCaption"}),s=new _y(this.hot,{className:"htUISelectDropdown"}),a=uN.get(this);a.caption=o,a.captionElement=o.element,a.dropdown=s,tt([o,s],function(u){return i._element.appendChild(u.element)}),this.menu.addLocalHook("select",function(u){return i.onMenuSelect(u)}),this.menu.addLocalHook("afterClose",function(){return i.onMenuClosed()}),this.update()}},{key:"update",value:function(){var i;this.isBuilt()&&(i=this.options.value?this.options.value.name:this.menu.hot.getTranslatedPhrase(PP),uN.get(this).captionElement.textContent=i,bx(by(t.prototype),"update",this).call(this))}},{key:"openOptions",value:function(){var i=this.element.getBoundingClientRect();this.menu&&(this.menu.open(),this.menu.setPosition({left:this.hot.isLtr()?i.left-5:i.left-31,top:i.top-1,width:i.width,height:i.height}))}},{key:"closeOptions",value:function(){this.menu&&this.menu.close()}},{key:"onMenuSelect",value:function(i){i.name!==Qi&&(this.options.value=i,this.update(),this.runLocalHooks("select",this.options.value))}},{key:"onMenuClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onClick",value:function(){this.openOptions()}},{key:"destroy",value:function(){this.menu&&(this.menu.destroy(),this.menu=null);var i=uN.get(this),o=i.caption,s=i.dropdown;o&&o.destroy(),s&&s.destroy(),bx(by(t.prototype),"destroy",this).call(this)}}],[{key:"DEFAULTS",get:function(){return xc({className:"htUISelect",wrapIt:!1})}}]),t}(_y);function OG(n){return(OG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _ue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function cN(){return cN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=DZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},cN.apply(this,arguments)}function DZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=wx(n)););return n}function kG(n,e){return(kG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function kZe(n,e){if(e&&("object"===OG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function LZe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function wx(n){return(wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const LG=function(n){!function AZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&kG(n,e)}(t,n);var e=function OZe(n){var e=function PZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=wx(n);if(e){var o=wx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kZe(this,i)}}(t);function t(r,i){var o;return function TZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.addSeparator=i.addSeparator,o.elements.push(new yue(o.hot,{menuContainer:i.menuContainer})),o.elements.push(new _x(o.hot,{placeholder:u4})),o.elements.push(new _x(o.hot,{placeholder:c4})),o.registerHooks(),o}return function RZe(n,e,t){e&&_ue(n.prototype,e),t&&_ue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.getSelectElement().addLocalHook("select",function(o){return i.onConditionSelect(o)}),this.getSelectElement().addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),tt(this.getInputElements(),function(o){o.addLocalHook("keydown",function(s){return i.onInputKeyDown(s)})})}},{key:"setState",value:function(i){var o=this;if(this.reset(),i){var s=xc(i.command);s.name.startsWith(ia)&&(s.name=this.hot.getTranslatedPhrase(s.name)),this.getSelectElement().setValue(s),tt(i.args,function(a,u){if(u>s.inputsCount-1)return!1;var c=o.getInputElement(u);c.setValue(a),c[s.inputsCount>u?"show":"hide"](),u||setTimeout(function(){return c.focus()},10)})}}},{key:"getState",value:function(){var i=this.getSelectElement().getValue()||_w(Rl),o=[];return tt(this.getInputElements(),function(s,a){i.inputsCount>a&&o.push(s.getValue())}),{command:i,args:o}}},{key:"updateState",value:function(i,o){var s=_w(i?i.name:Rl);this.state.setValueAtIndex(o,{command:s,args:i?i.args:[]}),i||tt(this.getInputElements(),function(a){return a.setValue(null)})}},{key:"getSelectElement",value:function(){return this.elements.filter(function(i){return i instanceof yue})[0]}},{key:"getInputElement",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getInputElements()[i]}},{key:"getInputElements",value:function(){return this.elements.filter(function(i){return i instanceof _x})}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a,u,c,h,p){Rn(a.parentNode,"htFiltersMenuCondition"),i.addSeparator&&Rn(a.parentNode,"border");var g=i.hot.rootDocument.createElement("div");return Rn(g,"htFiltersMenuLabel"),g.textContent=p,a.appendChild(g),a.parentNode.hasAttribute("ghost-table")||tt(i.elements,function(y){return a.appendChild(y.element)}),a}}}},{key:"reset",value:function(){var i=this.hot.getPlugin("filters").getSelectedColumn(),o=[_w(Rl)];if(null!==i){var s=i.visualIndex;o=function lZe(n){var e=[],t=n;return cue[t]||(t="text"),tt(cue[t],function(r){var i;i=r===Qi?{name:Qi}:xc(_w(r)),e.push(i)}),e}(this.hot.getDataType(0,s,this.hot.countRows(),s))}tt(this.getInputElements(),function(a){return a.hide()}),this.getSelectElement().setItems(o),cN(wx(t.prototype),"reset",this).call(this),this.getSelectElement().setValue(o[0])}},{key:"onConditionSelect",value:function(i){tt(this.getInputElements(),function(o,s){o[i.inputsCount>s?"show":"hide"](),0===s&&setTimeout(function(){return o.focus()},10)}),this.runLocalHooks("change",i)}},{key:"onSelectUIClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onInputKeyDown",value:function(i){u1(i.keyCode,"ENTER")?(this.runLocalHooks("accept"),rp(i)):u1(i.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),rp(i))}}]),t}(rN);var tR={};function NZe(n){if(!tR[n])throw Error('Operation with id "'.concat(n,'" does not exist.'));var e=tR[n].func;return function(t,r){return e(t,r)}}function FZe(n){return tR[n].name}function PG(n,e,t){tR[n]={name:e,func:t}}var wy="conjunction";PG(wy,n4,function BZe(n,e){return n.every(function(t){return t.func(e)})});var dN="disjunction";PG(dN,IP,function zZe(n,e){return n.some(function(t){return t.func(e)})});var IG="disjunctionWithExtraCondition";function NG(n){return(NG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function bue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hN(){return hN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=GZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},hN.apply(this,arguments)}function GZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Mx(n)););return n}function FG(n,e){return(FG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function KZe(n,e){if(e&&("object"===NG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wue(n)}function wue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Mx(n){return(Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}PG(IG,IP,function jZe(n,e){if(n.length<3)throw Error("Operation doesn't work on less then three conditions.");return n.slice(0,n.length-1).some(function(t){return t.func(e)})&&n[n.length-1].func(e)});var fN=new WeakMap;const Mue=function(n){!function $Ze(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&FG(n,e)}(t,n);var e=function XZe(n){var e=function ZZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Mx(n);if(e){var o=Mx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return KZe(this,i)}}(t);function t(r,i){var o;return function WZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,ta(t.DEFAULTS,i)),fN.set(wue(o),{}),o}return function YZe(n,e,t){e&&bue(n.prototype,e),t&&bue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){hN(Mx(t.prototype),"build",this).call(this);var i=fN.get(this);i.input=this._element.firstChild;var o=this.hot.rootDocument.createElement("label");o.textContent=this.translateIfPossible(this.options.label.textContent),o.htmlFor=this.translateIfPossible(this.options.label.htmlFor),i.label=o,this._element.appendChild(o),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var i=fN.get(this);i.input.checked=this.options.checked,i.label.textContent=this.translateIfPossible(this.options.label.textContent)}}},{key:"isChecked",value:function(){return this.options.checked}},{key:"setChecked",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.checked=i,this.update()}},{key:"focus",value:function(){this.isBuilt()&&fN.get(this).input.focus()}}],[{key:"DEFAULTS",get:function(){return xc({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}}]),t}(_y);function HG(n){return(HG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Sue;function xue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function BG(n,e){return(BG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function rqe(n,e){if(e&&("object"===HG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function iqe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function pN(n){return(pN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const aqe=function(n){!function tqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&BG(n,e)}(t,n);var e=function nqe(n){var e=function oqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=pN(n);if(e){var o=pN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return rqe(this,i)}}(t);function t(r,i){var o;return function QZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.buildOperatorsElement(),o}return function eqe(n,e,t){e&&xue(n.prototype,e),t&&xue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a){return Rn(a.parentNode,"htFiltersMenuOperators"),a.parentNode.hasAttribute("ghost-table")||tt(i.elements,function(u){return a.appendChild(u.element)}),a}}}},{key:"buildOperatorsElement",value:function(){var i=this,o=[wy,dN];tt(o,function(s){var a=new Mue(i.hot,{name:"operator",label:{htmlFor:s,textContent:FZe(s)},value:s,checked:s===o[0],id:s});a.addLocalHook("change",function(u){return i.onRadioInputChange(u)}),i.elements.push(a)})}},{key:"setChecked",value:function(i){if(this.elements.length<i)throw Error(ds(Sue||(Sue=function JZe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Radio button with index "," doesn't exist."])),i));tt(this.elements,function(o,s){o.setChecked(s===i)})}},{key:"getActiveOperationId",value:function(){var i=this.elements.find(function(o){return o instanceof Mue&&o.isChecked()});return i?i.getValue():wy}},{key:"getState",value:function(){return this.getActiveOperationId()}},{key:"setState",value:function(i){this.reset(),i&&this.getActiveOperationId()!==i&&tt(this.elements,function(o){o.setChecked(o.getValue()===i)})}},{key:"updateState",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wy,o=arguments.length>1?arguments[1]:void 0,s=i;s===IG&&(s=dN),this.state.setValueAtIndex(o,s)}},{key:"reset",value:function(){this.setChecked(0)}},{key:"onRadioInputChange",value:function(i){this.setState(i.target.value)}}]),t}(rN);function uqe(n,e){var t=n;return""===t&&(t="(".concat(e,")")),t}!function QAe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};BS||(BS="object"===("undefined"==typeof Intl?"undefined":LV(Intl))?new Intl.Collator(n,e).compare:"function"==typeof String.prototype.localeCompare?function(r,i){return"".concat(r).localeCompare(i)}:function(r,i){return r===i?0:r>i?-1:1})}();var VG=new Set([1]).has(1),cqe=VG&&"function"==typeof Array.from;function nR(n){var e=n;return VG&&(e=new Set(e)),function(t){return VG?e.has(t):!!~e.indexOf(t)}}function Eue(n){return null==n?"":n}function zG(n){var e=n;return(e=cqe?Array.from(new Set(e)):zQ(e)).sort(function(t,r){return"number"==typeof t&&"number"==typeof r?t-r:t===r?0:t>r?1:-1})}function Tue(n,e,t,r){var s,i=[],o=n===e;return o||(s=nR(e)),tt(n,function(a){var u=!1;(o||s(a))&&(u=!0);var c={checked:u,value:a,visualValue:uqe(a,t)};r&&r(c),i.push(c)}),i}function UG(n){return(UG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Rue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function mN(){return mN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=fqe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},mN.apply(this,arguments)}function fqe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Sx(n)););return n}function jG(n,e){return(jG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function gqe(n,e){if(e&&("object"===UG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Due(n)}function Due(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Sx(n){return(Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}b(2337);var WG=new WeakMap;const Aue=function(n){!function pqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&jG(n,e)}(t,n);var e=function mqe(n){var e=function vqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Sx(n);if(e){var o=Sx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gqe(this,i)}}(t);function t(r,i){var o;return function dqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,ta(t.DEFAULTS,i)),WG.set(Due(o),{}),o}return function hqe(n,e,t){e&&Rue(n.prototype,e),t&&Rue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){mN(Sx(t.prototype),"build",this).call(this),WG.get(this).link=this._element.firstChild}},{key:"update",value:function(){!this.isBuilt()||(WG.get(this).link.textContent=this.translateIfPossible(this.options.textContent))}}],[{key:"DEFAULTS",get:function(){return xc({href:"#",tagName:"a"})}}]),t}(_y);function YG(n){return(YG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Oue(n){return function Mqe(n){if(Array.isArray(n))return GG(n)}(n)||function wqe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function bqe(n,e){if(n){if("string"==typeof n)return GG(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return GG(n,e)}}(n)||function _qe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GG(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function kue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function xx(){return xx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Cqe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xx.apply(this,arguments)}function Cqe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=My(n)););return n}function $G(n,e){return($G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Rqe(n,e){if(e&&("object"===YG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Lue(n)}function Lue(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function My(n){return(My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Aqe=new WeakMap;const Pue=function(n){!function Eqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&$G(n,e)}(t,n);var e=function Tqe(n){var e=function Dqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=My(n);if(e){var o=My(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Rqe(this,i)}}(t);function t(r,i){var o;return function Sqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,ta(t.DEFAULTS,i)),Aqe.set(Lue(o),{}),o.searchInput=new _x(o.hot,{placeholder:l4,className:"htUIMultipleSelectSearch"}),o.selectAllUI=new Aue(o.hot,{textContent:r4,className:"htUISelectAll"}),o.clearAllUI=new Aue(o.hot,{textContent:o4,className:"htUIClearAll"}),o.items=[],o.itemsBox=null,o.registerHooks(),o}return function xqe(n,e,t){e&&kue(n.prototype,e),t&&kue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.searchInput.addLocalHook("keydown",function(o){return i.onInputKeyDown(o)}),this.searchInput.addLocalHook("input",function(o){return i.onInput(o)}),this.selectAllUI.addLocalHook("click",function(o){return i.onSelectAllClick(o)}),this.clearAllUI.addLocalHook("click",function(o){return i.onClearAllClick(o)})}},{key:"setItems",value:function(i){this.items=i,this.itemsBox&&this.itemsBox.loadData(this.items)}},{key:"setLocale",value:function(i){this.locale=i}},{key:"getLocale",value:function(){return this.locale}},{key:"getItems",value:function(){return Oue(this.items)}},{key:"getValue",value:function(){return function Pqe(n){var e=[];return tt(n,function(t){t.checked&&e.push(t.value)}),e}(this.items)}},{key:"isSelectedAllValues",value:function(){return this.items.length===this.getValue().length}},{key:"build",value:function(){var i=this;xx(My(t.prototype),"build",this).call(this);var o=this.hot.rootDocument,s=o.createElement("div"),a=new _y(this.hot,{className:"htUISelectionControls",children:[this.selectAllUI,this.clearAllUI]});this._element.appendChild(this.searchInput.element),this._element.appendChild(a.element),this._element.appendChild(s);var u=function(h){i._element&&(i.itemsBox&&i.itemsBox.destroy(),Rn(h,"htUIMultipleSelectHot"),i.itemsBox=new i.hot.constructor(h,{data:i.items,columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:function(w,S,C,P,B,z){w.title=z.instance.getDataAtRowProp(S,z.label.property)},maxCols:1,autoWrapCol:!0,height:110,colWidths:function(){return i.itemsBox.container.scrollWidth-El(o)},copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:i.hot.isRtl()?"rtl":"ltr"}),i.itemsBox.init(),i.itemsBox.getShortcutManager().getContext("grid").addShortcut({keys:[["Escape"]],callback:function(w){i.runLocalHooks("keydown",w,i)},group:"multipleSelect.itemBox"}))};u(s),setTimeout(function(){return u(s)},100)}},{key:"reset",value:function(){this.searchInput.reset(),this.selectAllUI.reset(),this.clearAllUI.reset()}},{key:"update",value:function(){!this.isBuilt()||(this.itemsBox.loadData(function Lqe(n,e){var t=nR(e);return Ji(n,function(r){return r.checked=t(r.value),r})}(this.items,this.options.value)),xx(My(t.prototype),"update",this).call(this))}},{key:"destroy",value:function(){this.itemsBox&&this.itemsBox.destroy(),this.searchInput.destroy(),this.clearAllUI.destroy(),this.selectAllUI.destroy(),this.searchInput=null,this.clearAllUI=null,this.selectAllUI=null,this.itemsBox=null,this.items=null,xx(My(t.prototype),"destroy",this).call(this)}},{key:"onInput",value:function(i){var a,o=this,s=i.target.value.toLocaleLowerCase(this.getLocale());a=""===s?Oue(this.items):Jd(this.items,function(u){return"".concat(u.value).toLocaleLowerCase(o.getLocale()).indexOf(s)>=0}),this.itemsBox.loadData(a)}},{key:"onInputKeyDown",value:function(i){this.runLocalHooks("keydown",i,this),yee(u1,i.keyCode)("ARROW_DOWN|TAB")&&!this.itemsBox.isListening()&&(rp(i),this.itemsBox.listen(),this.itemsBox.selectCell(0,0))}},{key:"onSelectAllClick",value:function(i){var o=[];i.preventDefault(),tt(this.itemsBox.getSourceData(),function(s,a){s.checked=!0,o.push(wne(s,a)[0])}),this.itemsBox.setSourceDataAtCell(o)}},{key:"onClearAllClick",value:function(i){var o=[];i.preventDefault(),tt(this.itemsBox.getSourceData(),function(s,a){s.checked=!1,o.push(wne(s,a)[0])}),this.itemsBox.setSourceDataAtCell(o)}}],[{key:"DEFAULTS",get:function(){return xc({className:"htUIMultipleSelect",value:[]})}}]),t}(_y);function Iue(n,e){return function Hqe(n){if(Array.isArray(n))return n}(n)||function Fqe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function Nqe(n,e){if(n){if("string"==typeof n)return Nue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nue(n,e)}}(n,e)||function Iqe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var bw="by_value";function XG(n){return(XG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Fue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Hue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function gN(){return gN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=$qe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},gN.apply(this,arguments)}function $qe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Cx(n)););return n}function KG(n,e){return(KG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Zqe(n,e){if(e&&("object"===XG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function qqe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Cx(n){return(Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xa(bw,function Bqe(n,e){return(0,Iue(e,1)[0])(n.value)},{name:"By value",inputsCount:0,inputValuesDecorator:function(e){return[nR(Iue(e,1)[0])]},showOperators:!1});const eJe=function(n){!function Xqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&KG(n,e)}(t,n);var e=function Kqe(n){var e=function Jqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Cx(n);if(e){var o=Cx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Zqe(this,i)}}(t);function t(r,i){var o;return function Yqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.elements.push(new Pue(o.hot)),o.registerHooks(),o}return function Gqe(n,e,t){e&&Hue(n.prototype,e),t&&Hue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.getMultipleSelectElement().addLocalHook("keydown",function(o){return i.onInputKeyDown(o)})}},{key:"setState",value:function(i){if(this.reset(),i&&i.command.key===bw){var o=this.getMultipleSelectElement();o.setItems(i.itemsSnapshot),o.setValue(i.args[0]),o.setLocale(i.locale)}}},{key:"getState",value:function(){var i=this.getMultipleSelectElement(),o=i.getItems();return{command:{key:i.isSelectedAllValues()||!o.length?Rl:bw},args:[i.getValue()],itemsSnapshot:o}}},{key:"updateState",value:function(i){var o=this,s=function(u,c,h,p,g){var S=function Vqe(n,e){return function Wqe(n){if(Array.isArray(n))return n}(n)||function jqe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function Uqe(n,e){if(n){if("string"==typeof n)return Fue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fue(n,e)}}(n,e)||function zqe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Jd(c,function(ie){return ie.name===bw}),1)[0],C={},P=o.hot.getTranslatedPhrase(NP);if(S){var B=zG(Ji(p(u,g),function(ie){return ie.value}));h&&(S.args[0]=h);var z=[],j=Tue(B,S.args[0],P,function(ie){ie.checked&&z.push(ie.value)});C.locale=o.hot.getCellMeta(0,i.editedConditionStack.column).locale,C.args=[z],C.command=_w(bw),C.itemsSnapshot=j}else C.args=[],C.command=_w(Rl);o.state.setValueAtIndex(u,C)};s(i.editedConditionStack.column,i.editedConditionStack.conditions,i.conditionArgsChange,i.filteredRowsFactory),i.dependentConditionStacks.length&&s(i.dependentConditionStacks[0].column,i.dependentConditionStacks[0].conditions,i.conditionArgsChange,i.filteredRowsFactory,i.editedConditionStack)}},{key:"getMultipleSelectElement",value:function(){return this.elements.filter(function(i){return i instanceof Pue})[0]}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a,u,c,h,p){Rn(a.parentNode,"htFiltersMenuValue");var g=i.hot.rootDocument.createElement("div");return Rn(g,"htFiltersMenuLabel"),g.textContent=p,a.appendChild(g),a.parentNode.hasAttribute("ghost-table")||tt(i.elements,function(y){return a.appendChild(y.element)}),a}}}},{key:"reset",value:function(){var i=this.hot.getTranslatedPhrase(NP),o=zG(this._getColumnVisibleValues()),s=Tue(o,o,i);this.getMultipleSelectElement().setItems(s),gN(Cx(t.prototype),"reset",this).call(this),this.getMultipleSelectElement().setValue(o);var a=this.hot.getPlugin("filters").getSelectedColumn();null!==a&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}},{key:"onInputKeyDown",value:function(i){u1(i.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),rp(i))}},{key:"_getColumnVisibleValues",value:function(){var i=this.hot.getPlugin("filters").getSelectedColumn();return null===i?[]:Ji(this.hot.getDataAtCol(i.visualIndex),function(o){return Eue(o)})}}]),t}(rN);function ZG(n){return(ZG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Bue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function qG(n,e){return(qG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function oJe(n,e){if(e&&("object"===ZG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function sJe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function vN(n){return(vN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const uJe=function(n){!function rJe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&qG(n,e)}(t,n);var e=function iJe(n){var e=function aJe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=vN(n);if(e){var o=vN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return oJe(this,i)}}(t);function t(r,i){var o;return function tJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!0})).name=i.name,o.elements.push(new _x(o.hot,{type:"button",value:s4,className:"htUIButton htUIButtonOK",identifier:t.BUTTON_OK})),o.elements.push(new _x(o.hot,{type:"button",value:a4,className:"htUIButton htUIButtonCancel",identifier:t.BUTTON_CANCEL})),o.registerHooks(),o}return function nJe(n,e,t){e&&Bue(n.prototype,e),t&&Bue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;tt(this.elements,function(o){o.addLocalHook("click",function(s,a){return i.onButtonClick(s,a)})})}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a){return Rn(a.parentNode,"htFiltersMenuActionBar"),a.parentNode.hasAttribute("ghost-table")||tt(i.elements,function(u){return a.appendChild(u.element)}),a}}}},{key:"accept",value:function(){this.runLocalHooks("accept")}},{key:"cancel",value:function(){this.runLocalHooks("cancel")}},{key:"onButtonClick",value:function(i,o){o.options.identifier===t.BUTTON_OK?this.accept():this.cancel()}}],[{key:"BUTTON_OK",get:function(){return"ok"}},{key:"BUTTON_CANCEL",get:function(){return"cancel"}}]),t}(rN);var Vue,zue;function Uue(n,e){return function fJe(n){if(Array.isArray(n))return n}(n)||function hJe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function dJe(n,e){if(n){if("string"==typeof n)return jue(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jue(n,e)}}(n,e)||function cJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jue(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Wue(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function pJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Yue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Gue="ConditionCollection.filteringStates",$ue=function(){function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];pJe(this,n),this.hot=e,this.isMapRegistrable=t,this.filteringStates=new EP,!0===this.isMapRegistrable?this.hot.columnIndexMapper.registerMap(Gue,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}return function mJe(n,e,t){e&&Yue(n.prototype,e),t&&Yue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"isEmpty",value:function(){return 0===this.getFilteredColumns().length}},{key:"isMatch",value:function(t,r){var i,o=this.filteringStates.getValueAtIndex(r),s=null!==(i=null==o?void 0:o.conditions)&&void 0!==i?i:[];return this.isMatchInConditions(s,t,null==o?void 0:o.operation)}},{key:"isMatchInConditions",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wy;return!t.length||NZe(i)(t,r)}},{key:"addCondition",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wy,o=arguments.length>3?arguments[3]:void 0,s=this.hot.getCellMeta(0,t).locale,a=Ji(r.args,function(p){return"string"==typeof p?p.toLocaleLowerCase(s):p}),u=r.name||r.command.key;this.runLocalHooks("beforeAdd",t);var c=this.getOperation(t);if(c){if(c!==i)throw Error(ds(Vue||(Vue=Wue(["The column of index "," has been already applied with a `","` \n        filter operation. Use `removeConditions` to clear the current conditions and then add new ones. \n        Mind that you cannot mix different types of operations (for instance, if you use `conjunction`, \n        use it consequently for a particular column)."],["The column of index "," has been already applied with a \\`","\\`\\x20\n        filter operation. Use \\`removeConditions\\` to clear the current conditions and then add new ones.\\x20\n        Mind that you cannot mix different types of operations (for instance, if you use \\`conjunction\\`,\\x20\n        use it consequently for a particular column)."])),t,c))}else if(Fs(tR[i]))throw new Error(ds(zue||(zue=Wue(["Unexpected operation named `","`. Possible ones are \n        `disjunction` and `conjunction`."],["Unexpected operation named \\`","\\`. Possible ones are\\x20\n        \\`disjunction\\` and \\`conjunction\\`."])),i));var h=this.getConditions(t);0===h.length?this.filteringStates.setValueAtIndex(t,{operation:i,conditions:[{name:u,args:a,func:yy(u,a)}]},o):h.push({name:u,args:a,func:yy(u,a)}),this.runLocalHooks("afterAdd",t)}},{key:"getConditions",value:function(t){var r,i;return null!==(r=null===(i=this.filteringStates.getValueAtIndex(t))||void 0===i?void 0:i.conditions)&&void 0!==r?r:[]}},{key:"getOperation",value:function(t){var r;return null===(r=this.filteringStates.getValueAtIndex(t))||void 0===r?void 0:r.operation}},{key:"getFilteredColumns",value:function(){return this.filteringStates.getEntries().map(function(t){return Uue(t,1)[0]})}},{key:"getColumnStackPosition",value:function(t){return this.getFilteredColumns().indexOf(t)}},{key:"exportAllConditions",value:function(){return Ua(this.filteringStates.getEntries(),function(t,r){var i=Uue(r,2),s=i[1];return t.push({column:i[0],operation:s.operation,conditions:Ji(s.conditions,function(c){return{name:c.name,args:c.args}})}),t},[])}},{key:"importAllConditions",value:function(t){var r=this;this.clean(),tt(t,function(i){tt(i.conditions,function(o){return r.addCondition(i.column,o)})})}},{key:"removeConditions",value:function(t){this.runLocalHooks("beforeRemove",t),this.filteringStates.clearValue(t),this.runLocalHooks("afterRemove",t)}},{key:"clean",value:function(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}},{key:"hasConditions",value:function(t,r){var i=this.getConditions(t);return r?i.some(function(o){return o.name===r}):i.length>0}},{key:"destroy",value:function(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(Gue),this.filteringStates=null,this.clearLocalHooks()}}]),n}();ys($ue,Ec);const Xue=$ue;function gJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Kue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Zue=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return[]};gJe(this,n),this.conditionCollection=e,this.columnDataFactory=t}return function vJe(n,e,t){e&&Kue(n.prototype,e),t&&Kue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"filter",value:function(){var t=this,r=[];return tt(this.conditionCollection.getFilteredColumns(),function(i,o){var s=t.columnDataFactory(i);o&&(s=t._getIntersectData(s,r)),r=t.filterByColumn(i,s)}),r}},{key:"filterByColumn",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=[];return tt(i,function(s){void 0!==s&&r.conditionCollection.isMatch(s,t)&&o.push(s)}),o}},{key:"_getIntersectData",value:function(t,r){var i=[];return tt(r,function(o){var s=o.meta.visualRow;void 0!==t[s]&&(i[s]=t[s])}),i}}]),n}();function _Je(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function que(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Jue=function(){function n(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]};_Je(this,n),this.hot=e,this.conditionCollection=t,this.columnDataFactory=i,this.changes=[],this.grouping=!1,this.latestEditedColumnPosition=-1,this.latestOrderStack=[],this.conditionCollection.addLocalHook("beforeRemove",function(o){return r._onConditionBeforeModify(o)}),this.conditionCollection.addLocalHook("afterRemove",function(o){return r.updateStatesAtColumn(o)}),this.conditionCollection.addLocalHook("afterAdd",function(o){return r.updateStatesAtColumn(o)}),this.conditionCollection.addLocalHook("beforeClean",function(){return r._onConditionBeforeClean()}),this.conditionCollection.addLocalHook("afterClean",function(){return r._onConditionAfterClean()})}return function bJe(n,e,t){e&&que(n.prototype,e),t&&que(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"groupChanges",value:function(){this.grouping=!0}},{key:"flush",value:function(){var t=this;this.grouping=!1,tt(this.changes,function(r){t.updateStatesAtColumn(r)}),this.changes.length=0}},{key:"_onConditionBeforeModify",value:function(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}},{key:"updateStatesAtColumn",value:function(t,r){var i=this;if(this.grouping)-1===this.changes.indexOf(t)&&this.changes.push(t);else{var o=this.conditionCollection.exportAllConditions(),s=this.conditionCollection.getColumnStackPosition(t);-1===s&&(s=this.latestEditedColumnPosition);var a=o.slice(0,s),u=o.slice(s);u.length&&u[0].column===t&&u.shift();var c=function IOe(n){var e=n.length;return function t(r){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var u=r.concat(s);return u.length>=e?n.apply(this,u):t(u)}}([])}(function(p,g){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],w=new Xue(i.hot,!1),S=[].concat(p,y);w.importAllConditions(S);var C=i.columnDataFactory(g),B=nR(Ji(w.isEmpty()?C:new Zue(w,function(z){return i.columnDataFactory(z)}).filter(),function(z){return z.meta.visualRow}));return w.destroy(),Jd(C,function(z){return B(z.meta.visualRow)})})(a),h=[].concat(this.conditionCollection.getConditions(t));this.runLocalHooks("update",{editedConditionStack:{column:t,conditions:h},dependentConditionStacks:u,filteredRowsFactory:c,conditionArgsChange:r})}}},{key:"_onConditionBeforeClean",value:function(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}},{key:"_onConditionAfterClean",value:function(){var t=this;tt(this.latestOrderStack,function(r){t.updateStatesAtColumn(r)})}},{key:"destroy",value:function(){var t=this;this.clearLocalHooks(),io(this,function(r,i){t[i]=null})}}]),n}();ys(Jue,Ec);const wJe=Jue;function JG(n){return(JG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Que;function ece(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ex(){return Ex="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=AJe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ex.apply(this,arguments)}function AJe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Sy(n)););return n}function QG(n,e){return(QG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function LJe(n,e){if(e&&("object"===JG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nce(n)}function nce(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Sy(n){return(Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var NJe=function(n){!function OJe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&QG(n,e)}(t,n);var e=function kJe(n){var e=function PJe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Sy(n);if(e){var o=Sy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return LJe(this,i)}}(t);function t(r){var i;return function RJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ra(nce(i)),i.dropdownMenuPlugin=null,i.conditionCollection=null,i.conditionUpdateObserver=null,i.components=new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]]),i.lastSelectedColumn=null,i.filtersRowsMap=null,i.hot.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),i}return function DJe(n,e,t){e&&tce(n.prototype,e),t&&tce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().filters}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new M1),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");var o=this.hot.getSettings().dropdownMenu,s=o&&o.uiContainer||this.hot.rootDocument.body,a=function(y){return y.addLocalHook("accept",function(){return i.onActionBarSubmit("accept")}),y.addLocalHook("cancel",function(){return i.onActionBarSubmit("cancel")}),y.addLocalHook("change",function(w){return i.onComponentChange(y,w)}),y};if(!this.components.get("filter_by_condition")){var h=new LG(this.hot,{id:"filter_by_condition",name:function(){return"".concat(i.hot.getTranslatedPhrase(e4),":")},addSeparator:!1,menuContainer:s});h.addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),this.components.set("filter_by_condition",a(h))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new aqe(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){var p=new LG(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:s});p.addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),this.components.set("filter_by_condition2",a(p))}this.components.get("filter_by_value")||this.components.set("filter_by_value",a(new eJe(this.hot,{id:"filter_by_value",name:function(){return"".concat(i.hot.getTranslatedPhrase(t4),":")}}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",a(new uJe(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new Xue(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new wJe(this.hot,this.conditionCollection,function(g){return i.getDataMapAtColumn(g)}),this.conditionUpdateObserver.addLocalHook("update",function(g){return i.updateComponents(g)})),this.components.forEach(function(g){return g.show()}),this.addHook("beforeDropdownMenuSetItems",function(g){return i.onBeforeDropdownMenuSetItems(g)}),this.addHook("afterDropdownMenuDefaultOptions",function(g){return i.onAfterDropdownMenuDefaultOptions(g)}),this.addHook("afterDropdownMenuShow",function(){return i.onAfterDropdownMenuShow()}),this.addHook("afterDropdownMenuHide",function(){return i.onAfterDropdownMenuHide()}),this.addHook("afterChange",function(g){return i.onAfterChange(g)}),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),Ex(Sy(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var o,i=this;this.enabled&&(null!==(o=this.dropdownMenuPlugin)&&void 0!==o&&o.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach(function(s,a){s.destroy(),i.components.set(a,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)),Ex(Sy(t.prototype),"disablePlugin",this).call(this)}},{key:"addCondition",value:function(i,o,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wy,u=this.hot.toPhysicalColumn(i);this.conditionCollection.addCondition(u,{command:{key:o},args:s},a)}},{key:"removeConditions",value:function(i){var o=this.hot.toPhysicalColumn(i);this.conditionCollection.removeConditions(o)}},{key:"clearConditions",value:function(i){if(void 0===i)this.conditionCollection.clean();else{var o=this.hot.toPhysicalColumn(i);this.conditionCollection.removeConditions(o)}}},{key:"filter",value:function(){var i=this,o=this._createDataFilter(),s=!this.conditionCollection.isEmpty(),a=[],u=this.conditionCollection.exportAllConditions();if(!1!==this.hot.runHooks("beforeFilter",u))if(s){var h=[];this.hot.batchExecution(function(){i.filtersRowsMap.clear();var p=nR(a=Ji(o.filter(),function(g){return g.meta.visualRow}));Vr(i.hot.countSourceRows()-1,function(g){p(g)||h.push(g)}),tt(h,function(g){i.filtersRowsMap.setValueAtIndex(g,!0)})},!0),a.length||this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",u),this.hot.view.adjustElementsSize(!0),this.hot.render(),this.clearColumnSelection()}},{key:"getSelectedColumn",value:function(){var i,o=null===(i=this.hot.getSelectedRangeLast())||void 0===i?void 0:i.highlight;return o?{visualIndex:o.col,physicalIndex:this.hot.toPhysicalColumn(o.col)}:null}},{key:"clearColumnSelection",value:function(){var i=this.getSelectedColumn();null!==i&&this.hot.selectCell(0,i.visualIndex)}},{key:"getDataMapAtColumn",value:function(i){var o=this,s=this.hot.toVisualColumn(i),a=[];return tt(this.hot.getSourceDataAtCol(s),function(u,c){var h,p=o.hot.getCellMeta(c,s),g=p.row,y=p.col,w=p.visualCol,S=p.visualRow,C=p.type,P=p.instance,B=p.dateFormat,z=p.locale,j=null!==(h=o.hot.getDataAtCell(o.hot.toVisualRow(c),s))&&void 0!==h?h:u;a.push({meta:{row:g,col:y,visualCol:w,visualRow:S,type:C,instance:P,dateFormat:B,locale:z},value:Eue(j)})}),a}},{key:"onAfterChange",value:function(i){var o=this;i&&tt(i,function(s){var a=function SJe(n,e){return function TJe(n){if(Array.isArray(n))return n}(n)||function EJe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function CJe(n,e){if(n){if("string"==typeof n)return ece(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ece(n,e)}}(n,e)||function xJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2),c=o.hot.propToCol(a[1]);o.conditionCollection.hasConditions(c)&&o.updateValueComponentCondition(c)})}},{key:"updateValueComponentCondition",value:function(i){var s=zG(this.hot.getDataAtCol(i));this.conditionUpdateObserver.updateStatesAtColumn(i,s)}},{key:"restoreComponents",value:function(i){var o,s=null===(o=this.getSelectedColumn())||void 0===o?void 0:o.physicalIndex;i.forEach(function(a){a.isHidden()||a.restoreState(s)}),this.updateDependentComponentsVisibility()}},{key:"onAfterDropdownMenuShow",value:function(){this.restoreComponents(Array.from(this.components.values()))}},{key:"onAfterDropdownMenuHide",value:function(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}},{key:"onBeforeDropdownMenuSetItems",value:function(){var i=this;this.dropdownMenuPlugin&&this.dropdownMenuPlugin.menu.addLocalHook("afterOpen",function(){i.dropdownMenuPlugin.menu.hotMenu.updateSettings({hiddenRows:!0})})}},{key:"onAfterDropdownMenuDefaultOptions",value:function(i){i.items.push({name:Qi}),this.components.forEach(function(o){i.items.push(o.getMenuItemDescriptor())})}},{key:"getOperationBasedOnArguments",value:function(i,o,s,a){var u=i;return u===dN&&o.command.key!==Rl&&s.command.key!==Rl&&a.command.key!==Rl?u=IG:a.command.key!==Rl&&(o.command.key===Rl||s.command.key===Rl)&&(u=wy),u}},{key:"onActionBarSubmit",value:function(i){var o;if("accept"===i){var a,s=this.getSelectedColumn();if(null===s)return void(null===(a=this.dropdownMenuPlugin)||void 0===a||a.close());var u=s.physicalIndex,c=this.components.get("filter_by_condition").getState(),h=this.components.get("filter_by_condition2").getState(),p=this.components.get("filter_by_value").getState(),g=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),c,h,p);this.conditionUpdateObserver.groupChanges();var y=this.conditionCollection.getColumnStackPosition(u);-1===y&&(y=void 0),this.conditionCollection.removeConditions(u),c.command.key!==Rl&&(this.conditionCollection.addCondition(u,c,g,y),h.command.key!==Rl&&this.conditionCollection.addCondition(u,h,g,y)),p.command.key!==Rl&&this.conditionCollection.addCondition(u,p,g,y),this.conditionUpdateObserver.flush(),this.components.forEach(function(w){return w.saveState(u)}),this.filtersRowsMap.clear(),this.filter()}null===(o=this.dropdownMenuPlugin)||void 0===o||o.close()}},{key:"onComponentChange",value:function(i,o){this.updateDependentComponentsVisibility(),i.constructor===LG&&!o.inputsCount&&this.setListeningDropdownMenu()}},{key:"onSelectUIClosed",value:function(){this.setListeningDropdownMenu()}},{key:"setListeningDropdownMenu",value:function(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}},{key:"updateDependentComponentsVisibility",value:function(){var s=this.components.get("filter_by_condition").getState().command,a=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];s.showOperators?this.showComponents.apply(this,a):this.hideComponents.apply(this,a)}},{key:"onAfterGetColHeader",value:function(i,o){var s=this.hot.toPhysicalColumn(i);this.enabled&&this.conditionCollection.hasConditions(s)?Rn(o,"htFiltersActive"):Bi(o,"htFiltersActive")}},{key:"_createDataFilter",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.conditionCollection;return new Zue(o,function(s){return i.getDataMapAtColumn(s)})}},{key:"updateComponents",value:function(i){var o;if(null!==(o=this.dropdownMenuPlugin)&&void 0!==o&&o.enabled){var s=i.editedConditionStack,a=s.conditions,u=s.column,c=a.filter(function(g){return g.name===bw}),h=a.filter(function(g){return g.name!==bw});if(c.length>=2||h.length>=3)Cs(ds(Que||(Que=function MJe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The filter conditions have been applied properly, but couldn\u2019t be displayed visually. \n        The overall amount of conditions exceed the capability of the dropdown menu. \n        For more details see the documentation."],["The filter conditions have been applied properly, but couldn\u2019t be displayed visually.\\x20\n        The overall amount of conditions exceed the capability of the dropdown menu.\\x20\n        For more details see the documentation."]))));else{var p=this.conditionCollection.getOperation(u);this.components.get("filter_by_condition").updateState(h[0],u),this.components.get("filter_by_condition2").updateState(h[1],u),this.components.get("filter_operators").updateState(p,u),this.components.get("filter_by_value").updateState(i)}}}},{key:"getIndexesOfComponents",value:function(){var i=[];if(!this.dropdownMenuPlugin)return i;for(var o=this.dropdownMenuPlugin.menu,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return tt(a,function(c){tt(o.menuItems,function(h,p){h.key===c.getMenuItemDescriptor().key&&i.push(p)})}),i}},{key:"changeComponentsVisibility",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.dropdownMenuPlugin){for(var o=this.dropdownMenuPlugin.menu,s=o.hotMenu,a=s.getPlugin("hiddenRows"),u=arguments.length,c=new Array(u>1?u-1:0),h=1;h<u;h++)c[h-1]=arguments[h];var p=this.getIndexesOfComponents.apply(this,c);i?a.showRows(p):a.hideRows(p),s.render()}}},{key:"hideComponents",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.changeComponentsVisibility.apply(this,[!1].concat(o))}},{key:"showComponents",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.changeComponentsVisibility.apply(this,[!0].concat(o))}},{key:"destroy",value:function(){var i=this;this.enabled&&(this.components.forEach(function(o,s){null!==o&&(o.destroy(),i.components.set(s,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),Ex(Sy(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return"filters"}},{key:"PLUGIN_PRIORITY",get:function(){return 250}},{key:"PLUGIN_DEPS",get:function(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}}]),t}(Zo);function ice(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rR(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ice(Object(t),!0).forEach(function(r){FJe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ice(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FJe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var oce="internal-use-in-handsontable",HJe={licenseKey:oce,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!0,nullDate:{year:1899,month:12,day:31},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function sce(n){var e,t;return{maxColumns:n.maxColumns,maxRows:n.maxRows,language:null===(e=n[Yu])||void 0===e||null===(t=e.language)||void 0===t?void 0:t.langCode}}function ace(n){return Object.keys(n).reduce(function(e,t){return"hyperformula"!==t&&(e[t]=n[t]),e},{})}function e5(n){return(e5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function yN(){var n="engine_relationship",e=Qd(Yu);return e.hasItem(n)||e.register(n,new Map),e.getItem(n)}function t5(){var n="shared_engine_usage",e=Qd(Yu);return e.hasItem(n)||e.register(n,new Map),e.getItem(n)}function lce(n){var e,t=yN(),r=0===t.size?[]:Array.from(null!==(e=t.get(n))&&void 0!==e?e:[]);return new Map(r.map(function(i){return[i.getPlugin("formulas").sheetId,i]}))}function uce(n,e){if(n){var t=yN(),r=t.get(n),i=t5(),o=i.get(n);r&&r.includes(e)&&(r.splice(r.indexOf(e),1),0===r.length&&t.delete(n)),o&&o.includes(e.guid)&&(o.splice(o.indexOf(e.guid),1),0===o.length&&(i.delete(n),n.destroy()))}}function GJe(n,e){return(Fs(e)||!n.doesSheetExist(e))&&(e=n.addSheet(e)),e}function cce(n){return"string"==typeof n&&"'"===n.charAt(0)&&"="===n.charAt(1)}function dce(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hce(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?dce(Object(t),!0).forEach(function(r){_N(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dce(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iR(n){return(iR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Tx(n,e){return function eQe(n){if(Array.isArray(n))return n}(n)||function QJe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||fce(n,e)||function JJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fce(n,e){if(n){if("string"==typeof n)return n5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n5(n,e)}}function n5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tQe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ww(){return ww="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=rQe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ww.apply(this,arguments)}function rQe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Jm(n)););return n}function r5(n,e){return(r5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function sQe(n,e){if(e&&("object"===iR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mw(n)}function Mw(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jm(n){return(Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function _N(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o5(n,e,t){(function lQe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Rx(n,e,t){return function uQe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,mce(n,e,"set"),t),t}function Dx(n,e){return function cQe(n,e){return e.get?e.get.call(n):e.value}(n,mce(n,e,"get"))}function mce(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Yu="formulas";xr.getSingleton().register("afterNamedExpressionAdded"),xr.getSingleton().register("afterNamedExpressionRemoved"),xr.getSingleton().register("afterSheetAdded"),xr.getSingleton().register("afterSheetRemoved"),xr.getSingleton().register("afterSheetRenamed"),xr.getSingleton().register("afterFormulasValuesUpdate");var Ax=function(e){return"UndoRedo.undo"===e||"UndoRedo.redo"===e||"auto"===e},Sw=new WeakMap,s5=new WeakMap,oR=new WeakMap,hQe=function(n){!function iQe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&r5(n,e)}(t,n);var e=function oQe(n){var e=function aQe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Jm(n);if(e){var o=Jm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return sQe(this,i)}}(t);function t(){var r;tQe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o5(Mw(r=e.call.apply(e,[this].concat(o))),Sw,{writable:!0,value:!1}),o5(Mw(r),s5,{writable:!0,value:!1}),o5(Mw(r),oR,{writable:!0,value:[["valuesUpdated",function(){var a;return(a=r).onEngineValuesUpdated.apply(a,arguments)}],["namedExpressionAdded",function(){var a;return(a=r).onEngineNamedExpressionsAdded.apply(a,arguments)}],["namedExpressionRemoved",function(){var a;return(a=r).onEngineNamedExpressionsRemoved.apply(a,arguments)}],["sheetAdded",function(){var a;return(a=r).onEngineSheetAdded.apply(a,arguments)}],["sheetRenamed",function(){var a;return(a=r).onEngineSheetRenamed.apply(a,arguments)}],["sheetRemoved",function(){var a;return(a=r).onEngineSheetRemoved.apply(a,arguments)}]]}),_N(Mw(r),"staticRegister",Qd("formulas")),_N(Mw(r),"engine",null),_N(Mw(r),"sheetName",null),r}return function nQe(n,e,t){e&&pce(n.prototype,e),t&&pce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"sheetId",get:function(){return null===this.sheetName?null:this.engine.getSheetId(this.sheetName)}},{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Yu]}},{key:"enablePlugin",value:function(){var i,o=this;if(!this.enabled){if(this.engine=null!==(i=function zJe(n){var i,e=n.getSettings(),t=e[Yu],r=null==t?void 0:t.engine;if(!0===t||Fs(r))return null;if("function"==typeof r.hyperformula||"function"==typeof r)return function UJe(n,e,t){var r=e[Yu],i=function BJe(n){var e,t=n[Yu],r=ace(null!=t&&null!==(e=t.engine)&&void 0!==e&&e.hyperformula?t.engine:{}),i=sce(n);return rR(rR(rR({},HJe),r),i)}(e),o=yN(),s=t5();(function jJe(n,e){e&&e.forEach(function(t){var r=t.name,i=t.plugin,o=t.translations;try{n.registerFunction(r,i,o)}catch(s){Cs(s.message)}})})(n,r.functions),function WJe(n,e){if(e){var t=e.langCode;try{n.registerLanguage(t,e)}catch(r){Cs(r.message)}}}(n,r.language);var a=n.buildEmpty(i);return o.set(a,[t]),s.set(a,[t.guid]),function YJe(n,e){e&&(n.suspendEvaluation(),e.forEach(function(t){var r=t.name,i=t.expression,o=t.scope,s=t.options;try{n.addNamedExpression(r,i,o,s)}catch(a){Cs(a.message)}}),n.resumeEvaluation())}(a,r.namedExpressions),a.on("sheetAdded",function(){a.rebuildAndRecalculate()}),a.on("sheetRemoved",function(){a.rebuildAndRecalculate()}),a}(null!==(i=r.hyperformula)&&void 0!==i?i:r,e,n);if("object"===e5(r)&&Fs(r.hyperformula)){var o=yN(),s=t5().get(r);return o.has(r)||o.set(r,[]),o.get(r).push(n),s&&s.push(n.guid),r.getConfig().licenseKey||r.updateConfig({licenseKey:oce}),r}return null}(this.hot))&&void 0!==i?i:this.engine,!this.engine)return void Cs("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");if(null!==this.sheetName&&!this.engine.doesSheetExist(this.sheetName)){var s=this.addSheet(this.sheetName,this.hot.getSourceDataArray());!1!==s&&(this.sheetName=s)}this.addHook("beforeLoadData",function(){return o.onBeforeLoadData.apply(o,arguments)}),this.addHook("afterLoadData",function(){return o.onAfterLoadData.apply(o,arguments)}),this.addHook("modifyData",function(){return o.onModifyData.apply(o,arguments)}),this.addHook("modifySourceData",function(){return o.onModifySourceData.apply(o,arguments)}),this.addHook("beforeValidate",function(){return o.onBeforeValidate.apply(o,arguments)}),this.addHook("afterSetSourceDataAtCell",function(){return o.onAfterSetSourceDataAtCell.apply(o,arguments)}),this.addHook("afterSetDataAtCell",function(){return o.onAfterSetDataAtCell.apply(o,arguments)}),this.addHook("afterSetDataAtRowProp",function(){return o.onAfterSetDataAtCell.apply(o,arguments)}),this.addHook("beforeCreateRow",function(){return o.onBeforeCreateRow.apply(o,arguments)}),this.addHook("beforeCreateCol",function(){return o.onBeforeCreateCol.apply(o,arguments)}),this.addHook("afterCreateRow",function(){return o.onAfterCreateRow.apply(o,arguments)}),this.addHook("afterCreateCol",function(){return o.onAfterCreateCol.apply(o,arguments)}),this.addHook("beforeRemoveRow",function(){return o.onBeforeRemoveRow.apply(o,arguments)}),this.addHook("beforeRemoveCol",function(){return o.onBeforeRemoveCol.apply(o,arguments)}),this.addHook("afterRemoveRow",function(){return o.onAfterRemoveRow.apply(o,arguments)}),this.addHook("afterRemoveCol",function(){return o.onAfterRemoveCol.apply(o,arguments)}),this.addHook("beforeUndo",function(a){"row_move"!==(null==a?void 0:a.actionType)&&o.engine.undo()}),this.addHook("beforeRedo",function(a){"row_move"!==(null==a?void 0:a.actionType)&&o.engine.redo()}),this.addHook("afterDetachChild",function(){return o.onAfterDetachChild.apply(o,arguments)}),this.addHook("beforeAutofill",function(){return o.onBeforeAutofill.apply(o,arguments)}),Dx(this,oR).forEach(function(a){var u=Tx(a,2);return o.engine.on(u[0],u[1])}),ww(Jm(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var i=this;Dx(this,oR).forEach(function(o){var s=Tx(o,2);return i.engine.off(s[0],s[1])}),uce(this.engine,this.hot),this.engine=null,ww(Jm(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(i){this.engine.updateConfig(function VJe(n){var e,t=n[Yu],r=ace(null!=t&&null!==(e=t.engine)&&void 0!==e&&e.hyperformula?t.engine:{}),i=sce(n);return rR(rR({},r),i)}(this.hot.getSettings()));var o=this.hot.getSettings()[Yu];if(fr(o)&&fr(o.sheetName)&&o.sheetName!==this.sheetName&&this.switchSheet(o.sheetName),!i.data&&null===this.sheetName){var s=this.hot.getSettings()[Yu].sheetName;s&&this.engine.doesSheetExist(s)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(null!=s?s:void 0,this.hot.getSourceDataArray())}ww(Jm(t.prototype),"updatePlugin",this).call(this,i)}},{key:"destroy",value:function(){var i=this;Dx(this,oR).forEach(function(o){var s,a=Tx(o,2);return null===(s=i.engine)||void 0===s?void 0:s.off(a[0],a[1])}),Rx(this,oR,null),uce(this.engine,this.hot),this.engine=null,ww(Jm(t.prototype),"destroy",this).call(this)}},{key:"getPhysicalIndexPosition",value:function(i,o,s,a,u){return!u&&i>=s?a+(i-s):o}},{key:"toPhysicalRowPosition",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPhysicalIndexPosition(i,this.hot.toPhysicalRow(i),this.hot.countRows(),this.hot.countSourceRows(),o)}},{key:"toPhysicalColumnPosition",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPhysicalIndexPosition(i,this.hot.toPhysicalColumn(i),this.hot.countCols(),this.hot.countSourceCols(),o)}},{key:"addSheet",value:function(i,o){if(fr(o)&&!function rFe(n){return!!(Array.isArray(n)&&n.length&&n.every(function(e){return Array.isArray(e)}))}(o))return Cs("The provided data should be an array of arrays."),!1;if(null!=i&&this.engine.doesSheetExist(i))return Cs("Sheet with the provided name already exists."),!1;try{var s=this.engine.addSheet(null!=i?i:void 0);return o&&this.engine.setSheetContent(this.engine.getSheetId(s),o),s}catch(a){return Cs(a.message),!1}}},{key:"switchSheet",value:function(i){if(this.engine.doesSheetExist(i)){this.sheetName=i;var o=this.engine.getSheetSerialized(this.sheetId);o.length>0&&this.hot.loadData(o,"".concat(km(Yu),".switchSheet"))}else JV("The sheet named `".concat(i,"` does not exist, switch aborted."))}},{key:"getCellType",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId,a=this.hot.toPhysicalRow(i),u=this.hot.toPhysicalColumn(o);return null!==a&&null!==u?this.engine.getCellType({sheet:s,row:a,col:u}):"EMPTY"}},{key:"isFormulaCellType",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId,a=this.hot.toPhysicalRow(i),u=this.hot.toPhysicalColumn(o);return null!==a&&null!==u&&this.engine.doesCellHaveFormula({sheet:s,row:a,col:u})}},{key:"renderDependentSheets",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Set;i.forEach(function(u){var c,h=null==u||null===(c=u.address)||void 0===c?void 0:c.sheet;void 0!==h&&(a.has(h)||a.add(h))}),lce(this.engine).forEach(function(u,c){var h;(s||c!==o.sheetId)&&a.has(c)&&(u.render(),null===(h=u.view)||void 0===h||h.adjustElementsSize())})}},{key:"validateDependentCells",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=function(h){var p,g=null!==(p=null==h?void 0:h.address)&&void 0!==p?p:{},y=g.row,w=g.col,S=g.sheet;return fr(S)?"".concat(S,":").concat(y,"x").concat(w):""},u=new Set(s.map(function(c){return a(c)}));i.forEach(function(c){var h,p,g=null!==(h=c.address)&&void 0!==h?h:{},y=g.row,w=g.col,S=fr(y)?o.hot.toVisualRow(y):null,C=fr(w)?o.hot.toVisualColumn(w):null;if(null!==S&&null!==C){var P=null==c||null===(p=c.address)||void 0===p?void 0:p.sheet,B=a(c);if(void 0!==P&&!u.has(B)){var z=lce(o.engine).get(P);if(!z)return;z.validateCell(z.getDataAtCell(S,C),z.getCellMeta(S,C),function(){})}}})}},{key:"syncChangeWithEngine",value:function(i,o,s){var a={row:this.toPhysicalRowPosition(i),col:this.toPhysicalColumnPosition(o),sheet:this.sheetId};if(this.engine.isItPossibleToSetCellContents(a))return this.engine.setCellContents(a,s);Cs("Not possible to set cell data at ".concat(JSON.stringify(a)))}},{key:"onBeforeValidate",value:function(i,o,s){var a=this.hot.propToCol(s);if(this.isFormulaCellType(o,a)){var u={row:this.hot.toPhysicalRow(o),col:this.hot.toPhysicalColumn(a),sheet:this.sheetId},c=this.engine.getCellValue(u);return"object"===iR(c)&&null!==c?c.value:c}return i}},{key:"onBeforeAutofill",value:function(i,o,s){var a=this,u=function(g){return hce(hce({},g),{},{sheet:a.sheetId})},c={start:u(o.getTopStartCorner()),end:u(o.getBottomEndCorner())},h={start:u(s.getTopStartCorner()),end:u(s.getBottomEndCorner())};return!1!==this.engine.isItPossibleToSetCellContents(h)&&this.engine.getFillRangeData(c,h)}},{key:"onBeforeLoadData",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";s.includes(km(Yu))||Rx(this,s5,Fs(this.hot.getSettings().data))}},{key:"onAfterLoadData",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!s.includes(km(Yu)))if(this.sheetName=GJe(this.engine,this.hot.getSettings()[Yu].sheetName),Dx(this,s5))this.switchSheet(this.sheetName);else{var a=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,a)){Rx(this,Sw,!0);var u=this.engine.setSheetContent(this.sheetId,this.hot.getSourceDataArray());this.renderDependentSheets(u),Rx(this,Sw,!1)}}}},{key:"onModifyData",value:function(i,o,s,a){if("get"===a&&!Dx(this,Sw)&&null!==this.sheetName&&this.engine.doesSheetExist(this.sheetName)){var u=this.hot.toVisualRow(i);if(!this.isFormulaCellType(u,o)&&"ARRAY"!==this.getCellType(u,o))return void(cce(s.value)&&(s.value=function $Je(n){return cce(n)?n.substr(1):n}(s.value)));var p={row:i,col:this.toPhysicalColumnPosition(o),sheet:this.sheetId},g=this.engine.getCellValue(p),y="object"===iR(g)&&null!==g?g.value:g;s.value=y}}},{key:"onModifySourceData",value:function(i,o,s,a){if("get"===a&&!Dx(this,Sw)&&null!==this.sheetName&&this.engine.doesSheetExist(this.sheetName)){var u=this.hot.toVisualRow(i),c=this.hot.propToCol(o);if(!this.isFormulaCellType(u,c)&&"ARRAY"!==this.getCellType(u,c))return;var g=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(0!==g.width||0!==g.height){var y={row:i,col:this.toPhysicalColumnPosition(c),sheet:this.sheetId};s.value=this.engine.getCellSerialized(y)}}}},{key:"onAfterSetDataAtCell",value:function(i,o){var s=this;if(!Ax(o)){var a=[],u=[],c=this.engine.batch(function(){i.forEach(function(h){var p=Tx(h,4),g=p[0],w=p[3],S=s.hot.propToCol(p[1]),C=s.hot.toPhysicalRow(g),P=s.hot.toPhysicalColumn(S),B={row:C,col:P,sheet:s.sheetId};null!==C&&null!==P?s.syncChangeWithEngine(g,S,w):a.push([g,S,w]),u.push({address:B})})});a.length&&this.hot.addHookOnce("afterChange",function(){var h=s.engine.batch(function(){a.forEach(function(p){var g=Tx(p,3);s.syncChangeWithEngine(g[0],g[1],g[2])})});s.renderDependentSheets(h,!0)}),this.renderDependentSheets(c),this.validateDependentCells(c,u)}}},{key:"onAfterSetSourceDataAtCell",value:function(i,o){var s=this;if(!Ax(o)){var a=[],u=[];i.forEach(function(c){var h=Tx(c,4),p=h[0],y=h[3],w=s.hot.propToCol(h[1]);if(eh(w)){var S={row:p,col:s.toPhysicalColumnPosition(w),sheet:s.sheetId};if(!s.engine.isItPossibleToSetCellContents(S))return void Cs("Not possible to set source cell data at ".concat(JSON.stringify(S)));u.push({address:S}),a.push.apply(a,function XJe(n){return function qJe(n){if(Array.isArray(n))return n5(n)}(n)||function ZJe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||fce(n)||function KJe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s.engine.setCellContents(S,y)))}}),this.renderDependentSheets(a),this.validateDependentCells(a,u)}}},{key:"onBeforeCreateRow",value:function(i,o){if(null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[this.toPhysicalRowPosition(i),o]))return!1}},{key:"onBeforeCreateCol",value:function(i,o){if(null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[this.toPhysicalColumnPosition(i),o]))return!1}},{key:"onBeforeRemoveRow",value:function(i,o,s){var a=this;return!1!==s.every(function(c){return a.engine.isItPossibleToRemoveRows(a.sheetId,[c,1])})&&void 0}},{key:"onBeforeRemoveCol",value:function(i,o,s){var a=this;return!1!==s.every(function(c){return a.engine.isItPossibleToRemoveColumns(a.sheetId,[c,1])})&&void 0}},{key:"onAfterCreateRow",value:function(i,o,s){if(!Ax(s)){var a=this.engine.addRows(this.sheetId,[this.toPhysicalRowPosition(i),o]);this.renderDependentSheets(a)}}},{key:"onAfterCreateCol",value:function(i,o,s){if(!Ax(s)){var a=this.engine.addColumns(this.sheetId,[this.toPhysicalColumnPosition(i),o]);this.renderDependentSheets(a)}}},{key:"onAfterRemoveRow",value:function(i,o,s,a){var u=this;if(!Ax(a)){var c=s.sort().reverse(),h=this.engine.batch(function(){c.forEach(function(p){u.engine.removeRows(u.sheetId,[p,1])})});this.renderDependentSheets(h)}}},{key:"onAfterRemoveCol",value:function(i,o,s,a){var u=this;if(!Ax(a)){var c=s.sort().reverse(),h=this.engine.batch(function(){c.forEach(function(p){u.engine.removeColumns(u.sheetId,[p,1])})});this.renderDependentSheets(h)}}},{key:"onAfterDetachChild",value:function(i,o,s){var a,u=this;Rx(this,Sw,!0);var c=this.hot.getSourceDataArray(s,0,s+((null===(a=o.__children)||void 0===a?void 0:a.length)||0),this.hot.countSourceCols());Rx(this,Sw,!1),c.forEach(function(h,p){h.forEach(function(g,y){u.engine.setCellContents({col:y,row:s+p,sheet:u.sheetId},[[g]])})})}},{key:"onEngineValuesUpdated",value:function(i){this.hot.runHooks("afterFormulasValuesUpdate",i)}},{key:"onEngineNamedExpressionsAdded",value:function(i,o){this.hot.runHooks("afterNamedExpressionAdded",i,o)}},{key:"onEngineNamedExpressionsRemoved",value:function(i,o){this.hot.runHooks("afterNamedExpressionRemoved",i,o)}},{key:"onEngineSheetAdded",value:function(i){this.hot.runHooks("afterSheetAdded",i)}},{key:"onEngineSheetRenamed",value:function(i,o){this.hot.runHooks("afterSheetRenamed",i,o)}},{key:"onEngineSheetRemoved",value:function(i,o){this.hot.runHooks("afterSheetRemoved",i,o)}}],[{key:"PLUGIN_KEY",get:function(){return Yu}},{key:"PLUGIN_PRIORITY",get:function(){return 260}}]),t}(Zo);function vce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function bN(n){return function MQe(n){if(Array.isArray(n))return a5(n)}(n)||function wQe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function bQe(n,e){if(n){if("string"==typeof n)return a5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a5(n,e)}}(n)||function _Qe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function l5(n){return(l5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xQe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function xw(){return xw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=EQe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xw.apply(this,arguments)}function EQe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Qm(n)););return n}function u5(n,e){return(u5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function DQe(n,e){if(e&&("object"===l5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c5(n)}function c5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qm(n){return(Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function _ce(n,e,t){(function OQe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function gd(n,e){return function kQe(n,e){return e.get?e.get.call(n):e.value}(n,bce(n,e,"get"))}function sR(n,e,t){return function LQe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,bce(n,e,"set"),t),t}function bce(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}xr.getSingleton().register("beforeHideColumns"),xr.getSingleton().register("afterHideColumns"),xr.getSingleton().register("beforeUnhideColumns"),xr.getSingleton().register("afterUnhideColumns");var d5="hiddenColumns",pp=new WeakMap,mp=new WeakMap,IQe=function(n){!function TQe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&u5(n,e)}(t,n);var e=function RQe(n){var e=function AQe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Qm(n);if(e){var o=Qm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return DQe(this,i)}}(t);function t(){var r;xQe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return _ce(c5(r=e.call.apply(e,[this].concat(o))),pp,{writable:!0,value:{}}),_ce(c5(r),mp,{writable:!0,value:null}),r}return function CQe(n,e,t){e&&yce(n.prototype,e),t&&yce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[d5]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[d5];Yi(o)&&(sR(this,pp,o),Fs(o.copyPasteEnabled)&&(o.copyPasteEnabled=!0)),sR(this,mp,new CP),gd(this,mp).addLocalHook("init",function(){return i.onMapInit()}),this.hot.columnIndexMapper.registerMap(this.pluginName,gd(this,mp)),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(s,a,u){return i.onAfterGetCellMeta(s,a,u)}),this.addHook("modifyColWidth",function(s,a){return i.onModifyColWidth(s,a)}),this.addHook("afterGetColHeader",function(){return i.onAfterGetColHeader.apply(i,arguments)}),this.addHook("modifyCopyableRange",function(s){return i.onModifyCopyableRange(s)}),xw(Qm(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),xw(Qm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),sR(this,pp,{}),xw(Qm(t.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showColumns",value:function(i){var o=this,s=this.getHiddenColumns(),a=this.isValidConfig(i),u=s,c=gd(this,mp).getValues().slice(),h=i.length>0;a&&h&&(tt(i.map(function(y){return o.hot.toPhysicalColumn(y)}),function(y){c[y]=!1}),u=Ua(c,function(y,w,S){return w&&y.push(o.hot.toVisualColumn(S)),y},[])),!1!==this.hot.runHooks("beforeUnhideColumns",s,u,a&&h)&&(a&&h&&gd(this,mp).setValues(c),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",s,u,a&&h,a&&u.length<s.length))}},{key:"showColumn",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.showColumns(o)}},{key:"hideColumns",value:function(i){var o=this,s=this.getHiddenColumns(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeHideColumns",s,u,a)&&(a&&this.hot.batchExecution(function(){tt(i,function(h){gd(o,mp).setValueAtIndex(o.hot.toPhysicalColumn(h),!0)})},!0),this.hot.runHooks("afterHideColumns",s,u,a,a&&u.length>s.length))}},{key:"hideColumn",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.hideColumns(o)}},{key:"getHiddenColumns",value:function(){var i=this;return Ji(gd(this,mp).getHiddenIndexes(),function(o){return i.hot.toVisualColumn(o)})}},{key:"isHidden",value:function(i){return gd(this,mp).getValueAtIndex(this.hot.toPhysicalColumn(i))||!1}},{key:"isValidConfig",value:function(i){var o=this.hot.countCols();return!!(Array.isArray(i)&&i.length>0)&&i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"resetCellsMeta",value:function(){tt(this.hot.getCellsMeta(),function(i){i&&(i.skipColumnOnPaste=!1)})}},{key:"onModifyColWidth",value:function(i,o){return this.isHidden(o)?0:gd(this,pp).indicators&&(this.isHidden(o+1)||this.isHidden(o-1))&&"number"==typeof i&&this.hot.hasColHeaders()?i+15:void 0}},{key:"onAfterGetCellMeta",value:function(i,o,s){if(!1===gd(this,pp).copyPasteEnabled&&this.isHidden(o)&&(s.skipColumnOnPaste=!0),this.isHidden(o-1))s.className=s.className||"",-1===s.className.indexOf("afterHiddenColumn")&&(s.className+=" afterHiddenColumn");else if(s.className){var a=s.className.split(" ");if(a.length>0){var u=a.indexOf("afterHiddenColumn");u>-1&&a.splice(u,1),s.className=a.join(" ")}}}},{key:"onModifyCopyableRange",value:function(i){var o=this;if(gd(this,pp).copyPasteEnabled)return i;var s=[],a=function(c,h,p,g){s.push({startRow:c,endRow:h,startCol:p,endCol:g})};return tt(i,function(u){var c=!0,h=0;Vr(u.startCol,u.endCol,function(p){o.isHidden(p)?(c||a(u.startRow,u.endRow,h,p-1),c=!0):(c&&(h=p),p===u.endCol&&a(u.startRow,u.endRow,h,p),c=!1)})}),s}},{key:"onAfterGetColHeader",value:function(i,o){if(gd(this,pp).indicators&&!(i<0)){var s=[];i>=1&&this.isHidden(i-1)&&s.push("afterHiddenColumn"),i<this.hot.countCols()-1&&this.isHidden(i+1)&&s.push("beforeHiddenColumn"),Rn(o,s)}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:Qi},function yQe(n){return{key:"hidden_columns_hide",name:function(){var t=this.getSelectedLast(),r=0;if(Array.isArray(t)){var i=function fQe(n,e){return function vQe(n){if(Array.isArray(n))return n}(n)||function gQe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function mQe(n,e){if(n){if("string"==typeof n)return vce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vce(n,e)}}(n,e)||function pQe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,4);i[1]-i[3]!=0&&(r=1)}return this.getTranslatedPhrase(Oj,r)},callback:function(){for(var t=this.getSelectedRangeLast(),r=t.from,i=t.to,o=Math.max(Math.min(r.col,i.col),0),s=Math.max(r.col,i.col),a=[],u=o;u<=s;u+=1)a.push(u);n.hideColumns(a);var h=this.columnIndexMapper.getNearestNotHiddenIndex(a[a.length-1],1,!0);Number.isInteger(h)&&h>=0?this.selectColumns(h):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}(this),function SQe(n){var e=[];return{key:"hidden_columns_show",name:function(){return this.getTranslatedPhrase(kj,e.length>1?1:0)},callback:function(){var r,i;if(0!==e.length){var o=e[0],s=e[e.length-1];o=null!==(r=this.columnIndexMapper.getNearestNotHiddenIndex(o-1,-1))&&void 0!==r?r:0,s=null!==(i=this.columnIndexMapper.getNearestNotHiddenIndex(s+1,1))&&void 0!==i?i:this.countCols()-1,n.showColumns(e),this.render(),this.view.adjustElementsSize(!0),s-o+1===this.countCols()||this.selectColumns(o,s)}},disabled:!1,hidden:function(){var r=this,i=Ji(n.getHiddenColumns(),function(B){return r.toPhysicalColumn(B)});if(!this.selection.isSelectedByColumnHeader()&&!this.selection.isSelectedByCorner()||i.length<1)return!0;e.length=0;var o=this.getSelectedRangeLast(),s=o.getTopStartCorner().col,a=o.getBottomEndCorner().col,u=this.columnIndexMapper,c=u.getRenderableFromVisualIndex(s),h=u.getRenderableFromVisualIndex(a),p=u.getNotTrimmedIndexes(),g=[];if(s!==a){if(a-s+1>h-c+1){var S=p.slice(s,a+1);g.push.apply(g,bN(S.filter(function(B){return i.includes(B)})))}}else if(0===c&&c<s)g.push.apply(g,bN(p.slice(0,s)));else if(null===c)g.push.apply(g,bN(p.slice(0,this.countCols())));else{var C=this.countCols()-1;h===u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(C,-1))&&C>a&&g.push.apply(g,bN(p.slice(a+1)))}return tt(g,function(B){e.push(r.toVisualColumn(B))}),0===e.length}}}(this))}},{key:"onMapInit",value:function(){Array.isArray(gd(this,pp).columns)&&this.hideColumns(gd(this,pp).columns)}},{key:"destroy",value:function(){sR(this,pp,null),sR(this,mp,null),xw(Qm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return d5}},{key:"PLUGIN_PRIORITY",get:function(){return 310}}]),t}(Zo);function wce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function wN(n){return function YQe(n){if(Array.isArray(n))return h5(n)}(n)||function WQe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function jQe(n,e){if(n){if("string"==typeof n)return h5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h5(n,e)}}(n)||function UQe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function f5(n){return(f5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function $Qe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Mce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Cw(){return Cw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=KQe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Cw.apply(this,arguments)}function KQe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=eg(n)););return n}function p5(n,e){return(p5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function JQe(n,e){if(e&&("object"===f5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m5(n)}function m5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function eg(n){return(eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Sce(n,e,t){(function eet(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function ah(n,e){return function tet(n,e){return e.get?e.get.call(n):e.value}(n,xce(n,e,"get"))}function aR(n,e,t){return function net(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,xce(n,e,"set"),t),t}function xce(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}xr.getSingleton().register("beforeHideRows"),xr.getSingleton().register("afterHideRows"),xr.getSingleton().register("beforeUnhideRows"),xr.getSingleton().register("afterUnhideRows");var g5="hiddenRows",tg=new WeakMap,gp=new WeakMap,iet=function(n){!function ZQe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&p5(n,e)}(t,n);var e=function qQe(n){var e=function QQe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=eg(n);if(e){var o=eg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return JQe(this,i)}}(t);function t(){var r;$Qe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Sce(m5(r=e.call.apply(e,[this].concat(o))),tg,{writable:!0,value:{}}),Sce(m5(r),gp,{writable:!0,value:null}),r}return function XQe(n,e,t){e&&Mce(n.prototype,e),t&&Mce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[g5]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[g5];Yi(o)&&(aR(this,tg,o),Fs(o.copyPasteEnabled)&&(o.copyPasteEnabled=!0)),aR(this,gp,new CP),ah(this,gp).addLocalHook("init",function(){return i.onMapInit()}),this.hot.rowIndexMapper.registerMap(this.pluginName,ah(this,gp)),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(s,a,u){return i.onAfterGetCellMeta(s,a,u)}),this.addHook("modifyRowHeight",function(s,a){return i.onModifyRowHeight(s,a)}),this.addHook("afterGetRowHeader",function(){return i.onAfterGetRowHeader.apply(i,arguments)}),this.addHook("modifyCopyableRange",function(s){return i.onModifyCopyableRange(s)}),Cw(eg(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Cw(eg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),aR(this,tg,{}),Cw(eg(t.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showRows",value:function(i){var o=this,s=this.getHiddenRows(),a=this.isValidConfig(i),u=s,c=ah(this,gp).getValues().slice(),h=i.length>0;a&&h&&(tt(i.map(function(y){return o.hot.toPhysicalRow(y)}),function(y){c[y]=!1}),u=Ua(c,function(y,w,S){return w&&y.push(o.hot.toVisualRow(S)),y},[])),!1!==this.hot.runHooks("beforeUnhideRows",s,u,a&&h)&&(a&&h&&ah(this,gp).setValues(c),this.hot.runHooks("afterUnhideRows",s,u,a&&h,a&&u.length<s.length))}},{key:"showRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.showRows(o)}},{key:"hideRows",value:function(i){var o=this,s=this.getHiddenRows(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeHideRows",s,u,a)&&(a&&this.hot.batchExecution(function(){tt(i,function(h){ah(o,gp).setValueAtIndex(o.hot.toPhysicalRow(h),!0)})},!0),this.hot.runHooks("afterHideRows",s,u,a,a&&u.length>s.length))}},{key:"hideRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.hideRows(o)}},{key:"getHiddenRows",value:function(){var i=this;return Ji(ah(this,gp).getHiddenIndexes(),function(o){return i.hot.toVisualRow(o)})}},{key:"isHidden",value:function(i){return ah(this,gp).getValueAtIndex(this.hot.toPhysicalRow(i))||!1}},{key:"isValidConfig",value:function(i){var o=this.hot.countRows();return!!(Array.isArray(i)&&i.length>0)&&i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"resetCellsMeta",value:function(){tt(this.hot.getCellsMeta(),function(i){i&&(i.skipRowOnPaste=!1)})}},{key:"onModifyRowHeight",value:function(i,o){return this.isHidden(o)?0:i}},{key:"onAfterGetCellMeta",value:function(i,o,s){if(!1===ah(this,tg).copyPasteEnabled&&this.isHidden(i)&&(s.skipRowOnPaste=!0),this.isHidden(i-1))s.className=s.className||"",-1===s.className.indexOf("afterHiddenRow")&&(s.className+=" afterHiddenRow");else if(s.className){var a=s.className.split(" ");if(a.length>0){var u=a.indexOf("afterHiddenRow");u>-1&&a.splice(u,1),s.className=a.join(" ")}}}},{key:"onModifyCopyableRange",value:function(i){var o=this;if(ah(this,tg).copyPasteEnabled)return i;var s=[],a=function(c,h,p,g){s.push({startRow:c,endRow:h,startCol:p,endCol:g})};return tt(i,function(u){var c=!0,h=0;Vr(u.startRow,u.endRow,function(p){o.isHidden(p)?(c||a(h,p-1,u.startCol,u.endCol),c=!0):(c&&(h=p),p===u.endRow&&a(h,p,u.startCol,u.endCol),c=!1)})}),s}},{key:"onAfterGetRowHeader",value:function(i,o){if(ah(this,tg).indicators&&!(i<0)){var s=[];i>=1&&this.isHidden(i-1)&&s.push("afterHiddenRow"),i<this.hot.countRows()-1&&this.isHidden(i+1)&&s.push("beforeHiddenRow"),Rn(o,s)}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:Qi},function zQe(n){return{key:"hidden_rows_hide",name:function(){var t=this.getSelectedLast(),r=0;if(Array.isArray(t)){var i=function NQe(n,e){return function VQe(n){if(Array.isArray(n))return n}(n)||function BQe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function HQe(n,e){if(n){if("string"==typeof n)return wce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wce(n,e)}}(n,e)||function FQe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,3);i[0]-i[2]!=0&&(r=1)}return this.getTranslatedPhrase(Lj,r)},callback:function(){for(var t=this.getSelectedRangeLast(),r=t.from,i=t.to,o=Math.max(Math.min(r.row,i.row),0),s=Math.max(r.row,i.row),a=[],u=o;u<=s;u+=1)a.push(u);n.hideRows(a);var h=this.rowIndexMapper.getNearestNotHiddenIndex(a[a.length-1],1,!0);Number.isInteger(h)&&h>=0?this.selectRows(h):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}(this),function GQe(n){var e=[];return{key:"hidden_rows_show",name:function(){return this.getTranslatedPhrase(Pj,e.length>1?1:0)},callback:function(){var r,i;if(0!==e.length){var o=e[0],s=e[e.length-1];o=null!==(r=this.rowIndexMapper.getNearestNotHiddenIndex(o-1,-1))&&void 0!==r?r:0,s=null!==(i=this.rowIndexMapper.getNearestNotHiddenIndex(s+1,1))&&void 0!==i?i:this.countRows()-1,n.showRows(e),this.render(),this.view.adjustElementsSize(!0),s-o+1===this.countRows()||this.selectRows(o,s)}},disabled:!1,hidden:function(){var r=this,i=Ji(n.getHiddenRows(),function(B){return r.toPhysicalRow(B)});if(!this.selection.isSelectedByRowHeader()&&!this.selection.isSelectedByCorner()||i.length<1)return!0;e.length=0;var o=this.getSelectedRangeLast(),s=o.getTopStartCorner().row,a=o.getBottomEndCorner().row,u=this.rowIndexMapper,c=u.getRenderableFromVisualIndex(s),h=u.getRenderableFromVisualIndex(a),p=u.getNotTrimmedIndexes(),g=[];if(s!==a){if(a-s+1>h-c+1){var S=p.slice(s,a+1);g.push.apply(g,wN(S.filter(function(B){return i.includes(B)})))}}else if(0===c&&c<s)g.push.apply(g,wN(p.slice(0,s)));else if(null===c)g.push.apply(g,wN(p.slice(0,this.countRows())));else{var C=this.countRows()-1;h===u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(C,-1))&&C>a&&g.push.apply(g,wN(p.slice(a+1)))}return tt(g,function(B){e.push(r.toVisualRow(B))}),0===e.length}}}(this))}},{key:"onMapInit",value:function(){Array.isArray(ah(this,tg).rows)&&this.hideRows(ah(this,tg).rows)}},{key:"destroy",value:function(){aR(this,tg,null),aR(this,gp,null),Cw(eg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return g5}},{key:"PLUGIN_PRIORITY",get:function(){return 320}}]),t}(Zo);function Cce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ece(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function v5(n){return(v5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Tce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ox(){return Ox="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=bet(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ox.apply(this,arguments)}function bet(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=xy(n)););return n}function y5(n,e){return(y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function xet(n,e){if(e&&("object"===v5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rce(n)}function Rce(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function xy(n){return(xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("beforeColumnFreeze"),xr.getSingleton().register("afterColumnFreeze"),xr.getSingleton().register("beforeColumnUnfreeze"),xr.getSingleton().register("afterColumnUnfreeze");var Dce="manualColumnFreeze",lR=new WeakMap,Tet=function(n){!function wet(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&y5(n,e)}(t,n);var e=function Met(n){var e=function Cet(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=xy(n);if(e){var o=xy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xet(this,i)}}(t);function t(r){var i;return function yet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),lR.set(Rce(i),{afterFirstUse:!1}),i}return function _et(n,e,t){e&&Tce(n.prototype,e),t&&Tce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Dce]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(o){return i.addContextMenuEntry(o)}),this.addHook("beforeColumnMove",function(o,s){return i.onBeforeColumnMove(o,s)}),Ox(xy(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){lR.get(this).afterFirstUse=!1,Ox(xy(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Ox(xy(t.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(i){var o=lR.get(this),s=this.hot.getSettings(),a=s.fixedColumnsStart<this.hot.countCols()&&i>s.fixedColumnsStart-1;o.afterFirstUse||(o.afterFirstUse=!0),!1!==this.hot.runHooks("beforeColumnFreeze",i,a)&&(a&&(this.hot.columnIndexMapper.moveIndexes(i,s.fixedColumnsStart),s._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",i,a))}},{key:"unfreezeColumn",value:function(i){var o=lR.get(this),s=this.hot.getSettings(),a=s.fixedColumnsStart>0&&i<=s.fixedColumnsStart-1;o.afterFirstUse||(o.afterFirstUse=!0),!1!==this.hot.runHooks("beforeColumnUnfreeze",i,a)&&(a&&(s._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(i,s.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",i,a))}},{key:"addContextMenuEntry",value:function(i){i.items.push({name:"---------"},function det(n){return{key:"freeze_column",name:function(){return this.getTranslatedPhrase(aj)},callback:function(t,r){var i=function oet(n,e){return function cet(n){if(Array.isArray(n))return n}(n)||function uet(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function aet(n,e){if(n){if("string"==typeof n)return Cce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cce(n,e)}}(n,e)||function set(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,1);n.freezeColumn(i[0].start.col),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),r=!1;return(void 0===t||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(r=!0),r}}}(this),function vet(n){return{key:"unfreeze_column",name:function(){return this.getTranslatedPhrase(lj)},callback:function(t,r){var i=function het(n,e){return function get(n){if(Array.isArray(n))return n}(n)||function met(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function pet(n,e){if(n){if("string"==typeof n)return Ece(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ece(n,e)}}(n,e)||function fet(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,1);n.unfreezeColumn(i[0].start.col),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),r=!1;return(void 0===t||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col>=this.getSettings().fixedColumnsStart)&&(r=!0),r}}}(this))}},{key:"onBeforeColumnMove",value:function(i,o){if(lR.get(this).afterFirstUse){var a=this.hot.getSettings().fixedColumnsStart;if(o<a||i.some(function(u){return u<a}))return!1}}}],[{key:"PLUGIN_KEY",get:function(){return Dce}},{key:"PLUGIN_PRIORITY",get:function(){return 110}}]),t}(Zo);function Ace(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var kx="px";const Lce=function(){function n(e){(function Ret(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this._element=null,this.state=0,this.inlineProperty=e.isRtl()?"right":"left"}return function Det(n,e,t){e&&Ace(n.prototype,e),t&&Ace(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){0===this.state&&(this._element=this.hot.rootDocument.createElement("div"),this.state=1)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,r){eh(t)&&(this._element.style.top=t+kx),eh(r)&&(this._element.style[this.inlineProperty]=r+kx)}},{key:"getPosition",value:function(){var t=this._element.style;return{top:t.top?parseInt(t.top,10):0,start:t[this.inlineProperty]?parseInt(t[this.inlineProperty],10):0}}},{key:"setSize",value:function(t,r){eh(t)&&(this._element.style.width=t+kx),eh(r)&&(this._element.style.height=r+kx)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,r){eh(t)&&(this._element.style.marginTop=t+kx),eh(r)&&(this._element.style["margin".concat(km(this.inlineProperty))]=r+kx)}},{key:"getOffset",value:function(){var t=this._element.style,r="margin".concat(km(this.inlineProperty));return{top:t.marginTop?parseInt(t.marginTop,10):0,start:t[r]?parseInt(t[r],10):0}}}]),n}();function b5(n){return(b5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Oet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Pce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function MN(){return MN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Let(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},MN.apply(this,arguments)}function Let(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Lx(n)););return n}function w5(n,e){return(w5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Net(n,e){if(e&&("object"===b5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Fet(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Lx(n){return(Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const zet=function(n){!function Pet(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&w5(n,e)}(t,n);var e=function Iet(n){var e=function Het(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Lx(n);if(e){var o=Lx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Net(this,i)}}(t);function t(){return Oet(this,t),e.apply(this,arguments)}return function ket(n,e,t){e&&Pce(n.prototype,e),t&&Pce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){MN(Lx(t.prototype),"build",this).call(this),Rn(this._element,"ht__manualColumnMove--backlight")}}]),t}(Lce);function M5(n){return(M5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Uet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ice(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function SN(){return SN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Wet(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},SN.apply(this,arguments)}function Wet(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Px(n)););return n}function S5(n,e){return(S5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $et(n,e){if(e&&("object"===M5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Xet(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Px(n){return(Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const Jet=function(n){!function Yet(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&S5(n,e)}(t,n);var e=function Get(n){var e=function Ket(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Px(n);if(e){var o=Px(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $et(this,i)}}(t);function t(){return Uet(this,t),e.apply(this,arguments)}return function jet(n,e,t){e&&Ice(n.prototype,e),t&&Ice(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){SN(Px(t.prototype),"build",this).call(this),Rn(this._element,"ht__manualColumnMove--guideline")}}]),t}(Lce);function x5(n){return(x5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Nce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ew(){return Ew="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=ttt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ew.apply(this,arguments)}function ttt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ng(n)););return n}function C5(n,e){return(C5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function itt(n,e){if(e&&("object"===x5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E5(n)}function E5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ng(n){return(ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("beforeColumnMove"),xr.getSingleton().register("afterColumnMove");var T5="manualColumnMove",Cy=new WeakMap,Fce="ht__manualColumnMove",xN="show-ui",R5="on-moving--columns",D5="after-selection--columns",att=function(n){!function ntt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&C5(n,e)}(t,n);var e=function rtt(n){var e=function ott(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ng(n);if(e){var o=ng(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return itt(this,i)}}(t);function t(r){var i;return function Qet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),Cy.set(E5(i),{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0},cachedDropIndex:void 0}),i.eventManager=new ra(E5(i)),i.backlight=new zet(r),i.guideline=new Jet(r),i}return function ett(n,e,t){e&&Nce(n.prototype,e),t&&Nce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[T5]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterScrollVertically",function(){return i.onAfterScrollVertically()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.buildPluginUI(),this.registerEvents(),Rn(this.hot.rootElement,Fce),Ew(ng(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),Ew(ng(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Bi(this.hot.rootElement,Fce),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),Ew(ng(t.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(i,o){return this.moveColumns([i],o)}},{key:"moveColumns",value:function(i,o){var s=Cy.get(this),a=s.cachedDropIndex,u=this.isMovePossible(i,o),c=this.hot.runHooks("beforeColumnMove",i,o,a,u);if(s.cachedDropIndex=void 0,!1!==c){u&&this.hot.columnIndexMapper.moveIndexes(i,o);var h=u&&this.isColumnOrderChanged(i,o);return this.hot.runHooks("afterColumnMove",i,o,a,u,h),h}}},{key:"dragColumn",value:function(i,o){return this.dragColumns([i],o)}},{key:"dragColumns",value:function(i,o){var s=this.countFinalIndex(i,o);return Cy.get(this).cachedDropIndex=o,this.moveColumns(i,s)}},{key:"isMovePossible",value:function(i,o){var s=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),a=i.length+o>s,u=o<0,c=i.some(function(p){return p<0}),h=i.some(function(p){return p>=s});return!(a||u||c||h)}},{key:"isColumnOrderChanged",value:function(i,o){return i.some(function(s,a){return s-a!==o})}},{key:"countFinalIndex",value:function(i,o){var s=Ua(i,function(a,u){return u<o&&(a+=1),a},0);return o-s}},{key:"getColumnsWidth",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=0,u=i;u<=o;u+=1){var c=s.getRenderableFromVisualIndex(u);u<0?a+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:null!==c&&(a+=this.hot.view._wt.wtTable.getStretchedColumnWidth(c)||0)}return a}},{key:"moveBySettingsOrLoad",value:function(){var i=this.hot.getSettings()[T5];if(Array.isArray(i))this.moveColumns(i,0);else if(void 0!==i){var o=this.persistentStateLoad();o.length&&this.moveColumns(o,0)}}},{key:"isFixedColumnsStart",value:function(i){return i<this.hot.getSettings().fixedColumnsStart}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var i={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",i),i.value?i.value:[]}},{key:"prepareColumnsToMoving",value:function(i,o){var s=[];return Vr(i,o,function(a){s.push(a)}),s}},{key:"refreshPositions",value:function(){var i=Cy.get(this),o=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(i.hoveredColumn)&&o>0&&this.hot.scrollViewportTo(void 0,this.hot.columnIndexMapper.getNearestNotHiddenIndex(o-1,-1));var s=this.hot.view._wt.wtTable,a=this.hot.view._wt.wtOverlays.scrollableElement,u="number"==typeof a.scrollX?a.scrollX:a.scrollLeft,c=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,i.hoveredColumn-1),h=s.hider.offsetWidth,p=s.TBODY.offsetLeft,g=this.backlight.getOffset().start,y=this.backlight.getSize().width,w=0,S=0;if(this.hot.isRtl()){var C=this.hot.rootWindow,P=cs(this.hot.rootElement);S=C.innerWidth-i.target.eventPageX-(C.innerWidth-i.rootElementOffset-P)-(void 0===a.scrollX?u:0)}else S=i.target.eventPageX-(i.rootElementOffset-(void 0===a.scrollX?u:0));i.hasRowHeaders&&(w=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(i.hoveredColumn)&&(c+=u),c+=w,i.hoveredColumn<0?i.target.col=i.fixedColumnsStart>0?0:o>0?o-1:o:i.target.TD.offsetWidth/2+c<=S?(i.target.col=(i.hoveredColumn>=i.countCols?i.countCols-1:i.hoveredColumn)+1,c+=i.target.TD.offsetWidth):i.target.col=i.hoveredColumn;var j=S,X=c;S+y+g>=h?j=h-y-g:S+g<p+w&&(j=p+w+Math.abs(g)),c>=h-1?X=h-1:0===X?X=1:void 0!==a.scrollX&&i.hoveredColumn<i.fixedColumnsStart&&(X-=i.rootElementOffset<=a.scrollX?i.rootElementOffset:0),this.backlight.setPosition(null,j),this.guideline.setPosition(null,X)}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){var u=this.hot.view._wt.wtTable,c=this.hot.selection.isSelectedByColumnHeader(),h=this.hot.getSelectedRangeLast(),p=Cy.get(this),g=Ci(i.target,"sortAction");if(!h||!c||p.pressed||0!==i.button||g)return p.pressed=!1,p.columnsToMove.length=0,void Bi(this.hot.rootElement,[R5,xN]);var y=this.guideline.isBuilt()&&!this.guideline.isAppended(),w=this.backlight.isBuilt()&&!this.backlight.isAppended();y&&w&&(this.guideline.appendTo(u.hider),this.backlight.appendTo(u.hider));var S=h.from,C=h.to,P=Math.min(S.col,C.col),B=Math.max(S.col,C.col);if(o.row<0&&o.col>=P&&o.col<=B){a.column=!0,p.pressed=!0,p.target.eventPageX=i.pageX,p.target.eventOffsetX=i.offsetX,p.hoveredColumn=o.col,p.target.TD=s,p.target.col=o.col,p.columnsToMove=this.prepareColumnsToMoving(P,B),p.hasRowHeaders=!!this.hot.getSettings().rowHeaders,p.countCols=this.hot.countCols(),p.fixedColumnsStart=this.hot.getSettings().fixedColumnsStart,p.rootElementOffset=ja(this.hot.rootElement).left;var z=p.hasRowHeaders?-1:0,j=u.holder.scrollTop+u.getColumnHeaderHeight(0)+1,X=o.col<p.fixedColumnsStart,ie=Math.abs(this.hot.view._wt.wtOverlays.inlineStartOverlay.getScrollPosition()),me=Math.abs(i.offsetX-(this.hot.isRtl()?i.target.offsetWidth:0)),re=this.getColumnsWidth(P,o.col-1)+me,pe=this.getColumnsWidth(z,P-1)+(X?ie:0)+re;this.backlight.setPosition(j,pe),this.backlight.setSize(this.getColumnsWidth(P,B),u.hider.offsetHeight-j),this.backlight.setOffset(null,-re),Rn(this.hot.rootElement,R5)}else Bi(this.hot.rootElement,D5),p.pressed=!1,p.columnsToMove.length=0}},{key:"onMouseMove",value:function(i){var o=Cy.get(this);if(o.pressed){if(i.target===this.backlight.element){var s=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(s)})}o.target.eventPageX=i.pageX,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u=this.hot.getSelectedRangeLast(),c=Cy.get(this);!u||!c.pressed||(c.columnsToMove.indexOf(o.col)>-1?Bi(this.hot.rootElement,xN):Rn(this.hot.rootElement,xN),a.row=!0,a.column=!0,a.cell=!0,c.hoveredColumn=o.col,c.target.TD=s)}},{key:"onMouseUp",value:function(){var i=Cy.get(this),o=i.target.col,s=i.columnsToMove.length;if(i.hoveredColumn=void 0,i.pressed=!1,i.backlightWidth=0,Bi(this.hot.rootElement,[R5,xN,D5]),this.hot.selection.isSelectedByColumnHeader()&&Rn(this.hot.rootElement,D5),!(s<1||void 0===o)){var u=this.hot.toPhysicalColumn(i.columnsToMove[0]),c=this.dragColumns(i.columnsToMove,o);if(i.columnsToMove.length=0,!0===c){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var h=this.hot.toVisualColumn(u);this.hot.selectColumns(h,h+s-1)}}}},{key:"onAfterScrollVertically",value:function(){var i=this.hot.view._wt.wtTable,a=i.getColumnHeaderHeight(0)+1+i.holder.scrollTop;this.backlight.setPosition(a),this.backlight.setSize(null,i.hider.offsetHeight-a)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),Ew(ng(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return T5}},{key:"PLUGIN_PRIORITY",get:function(){return 120}}]),t}(Zo);function A5(n){return(A5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Hce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Tw(){return Tw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=ctt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Tw.apply(this,arguments)}function ctt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=rg(n)););return n}function O5(n,e){return(O5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ftt(n,e){if(e&&("object"===A5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return k5(n)}function k5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rg(n){return(rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var CN="manualColumnResize",Bce="manualColumnWidths",L5=new WeakMap,gtt=function(n){!function dtt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&O5(n,e)}(t,n);var e=function htt(n){var e=function ptt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=rg(n);if(e){var o=rg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ftt(this,i)}}(t);function t(r){var i;!function ltt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,r)).hot.rootDocument;return i.currentTH=null,i.currentCol=null,i.selectedCols=[],i.currentWidth=null,i.newSize=null,i.startY=null,i.startWidth=null,i.startOffset=null,i.handle=o.createElement("DIV"),i.guide=o.createElement("DIV"),i.eventManager=new ra(k5(i)),i.pressed=null,i.dblclick=0,i.autoresizeTimeout=null,i.columnWidthsMap=void 0,L5.set(k5(i),{config:void 0}),Rn(i.handle,"manualColumnResizer"),Rn(i.guide,"manualColumnResizerGuide"),i}return function utt(n,e,t){e&&Hce(n.prototype,e),t&&Hce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"inlineDir",get:function(){return this.hot.isRtl()?"right":"left"}},{key:"isEnabled",value:function(){return this.hot.getSettings()[CN]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.columnWidthsMap=new iy,this.columnWidthsMap.addLocalHook("init",function(){return i.onMapInit()}),this.hot.columnIndexMapper.registerMap(this.pluginName,this.columnWidthsMap),this.addHook("modifyColWidth",function(o,s){return i.onModifyColWidth(o,s)}),this.addHook("beforeStretchingColumnWidth",function(o,s){return i.onBeforeStretchingColumnWidth(o,s)}),this.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)}),this.bindEvents(),Tw(rg(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Tw(rg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){L5.get(this).config=this.columnWidthsMap.getValues(),this.hot.columnIndexMapper.unregisterMap(this.pluginName),Tw(rg(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave",Bce,this.columnWidthsMap.getValues())}},{key:"loadManualColumnWidths",value:function(){var i={};return this.hot.runHooks("persistentStateLoad",Bce,i),i.value}},{key:"setManualSize",value:function(i,o){var s=Math.max(o,20),a=this.hot.toPhysicalColumn(i);return this.columnWidthsMap.setValueAtIndex(a,s),s}},{key:"clearManualSize",value:function(i){var o=this.hot.toPhysicalColumn(i);this.columnWidthsMap.setValueAtIndex(o,null)}},{key:"onMapInit",value:function(){var i=this,o=L5.get(this),s=this.hot.getSettings()[CN],a=this.loadManualColumnWidths();void 0!==a?this.hot.batchExecution(function(){a.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0):Array.isArray(s)?(this.hot.batchExecution(function(){s.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0),o.config=s):!0===s&&Array.isArray(o.config)&&this.hot.batchExecution(function(){o.config.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0)}},{key:"setupHandlePosition",value:function(i){var o=this;if(i.parentNode){this.currentTH=i;var s=this.hot.view._wt,a=s.wtTable.getCoords(this.currentTH),u=a.col;if(!(u<0)){var g,c=na(this.currentTH),h=this.currentTH.getBoundingClientRect();u<s.getSetting("fixedColumnsStart")&&(g=s.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,a.row,a.col)),g||(g=s.wtOverlays.topOverlay.getRelativeCellPosition(this.currentTH,a.row,a.col)),this.currentCol=this.hot.columnIndexMapper.getVisualFromRenderableIndex(u),this.selectedCols=[];var y=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();this.hot.selection.isSelected()&&y&&tt(this.hot.getSelectedRange(),function(S){Vr(S.getTopStartCorner().col,S.getBottomEndCorner().col,function(B){o.selectedCols.includes(B)||o.selectedCols.push(B)})}),this.selectedCols.includes(this.currentCol)||(this.selectedCols=[this.currentCol]),this.startOffset=g.start-6,this.startWidth=parseInt(h.width,10),this.handle.style.top="".concat(g.top,"px"),this.handle.style[this.inlineDir]="".concat(this.startOffset+this.startWidth,"px"),this.handle.style.height="".concat(c,"px"),this.hot.rootElement.appendChild(this.handle)}}}},{key:"refreshHandlePosition",value:function(){this.handle.style[this.inlineDir]="".concat(this.startOffset+this.currentWidth,"px")}},{key:"setupGuidePosition",value:function(){var i=parseInt(na(this.handle),10),o=parseInt(this.handle.style.top,10)+i,s=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);Rn(this.handle,"active"),Rn(this.guide,"active"),this.guide.style.top="".concat(o,"px"),this.refreshGuidePosition(),this.guide.style.height="".concat(s-i,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style[this.inlineDir]=this.handle.style[this.inlineDir]}},{key:"hideHandleAndGuide",value:function(){Bi(this.handle,"active"),Bi(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(i){return!!Ob(i,["THEAD"],this.hot.rootElement)}},{key:"getClosestTHParent",value:function(i){return"TABLE"!==i.tagName?"TH"===i.tagName?i:this.getClosestTHParent(i.parentNode):null}},{key:"onMouseOver",value:function(i){if(!see(i.target)&&this.checkIfColumnHeader(i.target)){var o=this.getClosestTHParent(i.target);if(!o)return;var s=o.getAttribute("colspan");o&&(null===s||"1"===s)&&(this.pressed||this.setupHandlePosition(o))}}},{key:"afterMouseDownTimeout",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,h){var p=i.hot.runHooks("beforeColumnResize",i.newSize,c,!0);void 0!==p&&(i.newSize=p),"all"===i.hot.getSettings().stretchH?i.clearManualSize(c):i.setManualSize(c,i.newSize),i.saveManualColumnWidths(),i.hot.runHooks("afterColumnResize",i.newSize,c,!0),h&&o()};this.dblclick>=2&&(this.selectedCols.length>1?(tt(this.selectedCols,function(u){s(u)}),o()):tt(this.selectedCols,function(u){s(u,!0)})),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(i){var o=this;Ci(i.target,"manualColumnResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return o.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startX=i.pageX,this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(i){var o=this;if(this.pressed){var s=(i.pageX-this.startX)*this.hot.getDirectionFactor();this.currentWidth=this.startWidth+s,tt(this.selectedCols,function(a){o.newSize=o.setManualSize(a,o.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition()}}},{key:"onMouseUp",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,h){i.hot.runHooks("beforeColumnResize",i.newSize,c,!1),h&&o(),i.saveManualColumnWidths(),i.hot.runHooks("afterColumnResize",i.newSize,c,!1)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startWidth&&(this.selectedCols.length>1?(tt(this.selectedCols,function(u){s(u)}),o()):tt(this.selectedCols,function(u){s(u,!0)})),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var i=this,o=this.hot,s=o.rootWindow,a=o.rootElement;this.eventManager.addEventListener(a,"mouseover",function(u){return i.onMouseOver(u)}),this.eventManager.addEventListener(a,"mousedown",function(u){return i.onMouseDown(u)}),this.eventManager.addEventListener(s,"mousemove",function(u){return i.onMouseMove(u)}),this.eventManager.addEventListener(s,"mouseup",function(){return i.onMouseUp()})}},{key:"onModifyColWidth",value:function(i,o){var s=i;if(this.enabled){var a=this.hot.toPhysicalColumn(o),u=this.columnWidthsMap.getValueAtIndex(a);this.hot.getSettings()[CN]&&u&&(s=u)}return s}},{key:"onBeforeStretchingColumnWidth",value:function(i,o){var s=this.columnWidthsMap.getValueAtIndex(o);return null===s&&(s=i),s}},{key:"onBeforeColumnResize",value:function(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}},{key:"destroy",value:function(){Tw(rg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return CN}},{key:"PLUGIN_PRIORITY",get:function(){return 130}}]),t}(Zo);function Vce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Ix="px";const jce=function(){function n(e){(function vtt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this._element=null,this.state=0}return function ytt(n,e,t){e&&Vce(n.prototype,e),t&&Vce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){0===this.state&&(this._element=this.hot.rootDocument.createElement("div"),this.state=1)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,r){void 0!==t&&(this._element.style.top=t+Ix),void 0!==r&&(this._element.style.left=r+Ix)}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,r){t&&(this._element.style.width=t+Ix),r&&(this._element.style.height=r+Ix)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,r){t&&(this._element.style.marginTop=t+Ix),r&&(this._element.style.marginLeft=r+Ix)}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),n}();function I5(n){return(I5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function btt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Wce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function EN(){return EN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Mtt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},EN.apply(this,arguments)}function Mtt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Nx(n)););return n}function N5(n,e){return(N5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Ctt(n,e){if(e&&("object"===I5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Ett(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Nx(n){return(Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const Att=function(n){!function Stt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&N5(n,e)}(t,n);var e=function xtt(n){var e=function Ttt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Nx(n);if(e){var o=Nx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ctt(this,i)}}(t);function t(){return btt(this,t),e.apply(this,arguments)}return function wtt(n,e,t){e&&Wce(n.prototype,e),t&&Wce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){EN(Nx(t.prototype),"build",this).call(this),Rn(this._element,"ht__manualRowMove--backlight")}}]),t}(jce);function F5(n){return(F5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ott(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Yce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function TN(){return TN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Ltt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},TN.apply(this,arguments)}function Ltt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Fx(n)););return n}function H5(n,e){return(H5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Ntt(n,e){if(e&&("object"===F5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Ftt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Fx(n){return(Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const ztt=function(n){!function Ptt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&H5(n,e)}(t,n);var e=function Itt(n){var e=function Htt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Fx(n);if(e){var o=Fx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ntt(this,i)}}(t);function t(){return Ott(this,t),e.apply(this,arguments)}return function ktt(n,e,t){e&&Yce(n.prototype,e),t&&Yce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){TN(Fx(t.prototype),"build",this).call(this),Rn(this._element,"ht__manualRowMove--guideline")}}]),t}(jce);function B5(n){return(B5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Gce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Rw(){return Rw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Wtt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Rw.apply(this,arguments)}function Wtt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ig(n)););return n}function V5(n,e){return(V5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $tt(n,e){if(e&&("object"===B5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return z5(n)}function z5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ig(n){return(ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("beforeRowMove"),xr.getSingleton().register("afterRowMove");var U5="manualRowMove",Ey=new WeakMap,$ce="ht__manualRowMove",RN="show-ui",j5="on-moving--rows",W5="after-selection--rows",Ztt=function(n){!function Ytt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&V5(n,e)}(t,n);var e=function Gtt(n){var e=function Xtt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ig(n);if(e){var o=ig(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $tt(this,i)}}(t);function t(r){var i;return function Utt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),Ey.set(z5(i),{rowsToMove:[],pressed:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0},cachedDropIndex:void 0}),i.eventManager=new ra(z5(i)),i.backlight=new Att(r),i.guideline=new ztt(r),i}return function jtt(n,e,t){e&&Gce(n.prototype,e),t&&Gce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[U5]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterScrollHorizontally",function(){return i.onAfterScrollHorizontally()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.buildPluginUI(),this.registerEvents(),Rn(this.hot.rootElement,$ce),Rw(ig(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),Rw(ig(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Bi(this.hot.rootElement,$ce),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),Rw(ig(t.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(i,o){return this.moveRows([i],o)}},{key:"moveRows",value:function(i,o){var s=Ey.get(this),a=s.cachedDropIndex,u=this.isMovePossible(i,o),c=this.hot.runHooks("beforeRowMove",i,o,a,u);if(s.cachedDropIndex=void 0,!1!==c){u&&this.hot.rowIndexMapper.moveIndexes(i,o);var h=u&&this.isRowOrderChanged(i,o);return this.hot.runHooks("afterRowMove",i,o,a,u,h),h}}},{key:"dragRow",value:function(i,o){return this.dragRows([i],o)}},{key:"dragRows",value:function(i,o){var s=this.countFinalIndex(i,o);return Ey.get(this).cachedDropIndex=o,this.moveRows(i,s)}},{key:"isMovePossible",value:function(i,o){var s=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),a=i.length+o>s,u=o<0,c=i.some(function(p){return p<0}),h=i.some(function(p){return p>=s});return!(a||u||c||h)}},{key:"isRowOrderChanged",value:function(i,o){return i.some(function(s,a){return s-a!==o})}},{key:"countFinalIndex",value:function(i,o){var s=Ua(i,function(a,u){return u<o&&(a+=1),a},0);return o-s}},{key:"getRowsHeight",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=0,u=i;u<=o;u++){var c=s.getRenderableFromVisualIndex(u);null!==c&&(a+=this.hot.view._wt.wtTable.getRowHeight(c)||23)}return a}},{key:"moveBySettingsOrLoad",value:function(){var i=this.hot.getSettings()[U5];if(Array.isArray(i))this.moveRows(i,0);else if(void 0!==i){var o=this.persistentStateLoad();o.length&&this.moveRows(o,0)}}},{key:"isFixedRowTop",value:function(i){return i<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(i){return i>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var i={};return this.hot.runHooks("persistentStateLoad","manualRowMove",i),i.value?i.value:[]}},{key:"prepareRowsToMoving",value:function(){var i=this.hot.getSelectedRangeLast(),o=[];if(!i)return o;var s=i.from,a=i.to;return Vr(Math.min(s.row,a.row),Math.max(s.row,a.row),function(h){o.push(h)}),o}},{key:"refreshPositions",value:function(){var i=Ey.get(this),o=i.target.coords,s=this.hot.view.getFirstFullyVisibleRow(),a=this.hot.view.getLastFullyVisibleRow(),u=this.hot.countRows();this.isFixedRowTop(o.row)&&s>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(s-1,-1)),this.isFixedRowBottom(o.row)&&a<u&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(a+1,1),void 0,!0);var c=this.hot.view._wt.wtTable,h=i.target.TD,p=ja(this.hot.rootElement),g=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,o.row-1),y=i.target.eventPageY-p.top+c.holder.scrollTop,w=c.hider.offsetHeight,S=c.TBODY.offsetTop,C=this.backlight.getOffset().top,P=this.backlight.getSize().height;this.isFixedRowTop(o.row)&&(g+=c.holder.scrollTop),o.row<0?i.target.row=s>0?s-1:s:h.offsetHeight/2+g<=y?(i.target.row=o.row+1,g+=0===o.row?h.offsetHeight-1:h.offsetHeight):i.target.row=o.row;var B=y,z=g;y+P+C>=w?B=w-P-C:y+C<S&&(B=S+Math.abs(C)),g>=w-1&&(z=w-1),this.backlight.setPosition(B),this.guideline.setPosition(z)}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){var u=this.hot.view._wt,c=u.wtTable,h=u.wtViewport,p=this.hot.selection.isSelectedByRowHeader(),g=this.hot.getSelectedRangeLast(),y=Ey.get(this);if(!g||!p||y.pressed||0!==i.button)return y.pressed=!1,y.rowsToMove.length=0,void Bi(this.hot.rootElement,[j5,RN]);var w=this.guideline.isBuilt()&&!this.guideline.isAppended(),S=this.backlight.isBuilt()&&!this.backlight.isAppended();w&&S&&(this.guideline.appendTo(c.hider),this.backlight.appendTo(c.hider));var C=g.from,P=g.to,B=Math.min(C.row,P.row),z=Math.max(C.row,P.row);if(o.col<0&&o.row>=B&&o.row<=z){a.row=!0,y.pressed=!0,y.target.eventPageY=i.pageY,y.target.coords=o,y.target.TD=s,y.rowsToMove=this.prepareRowsToMoving();var j=c.holder.scrollLeft+h.getRowHeaderWidth();this.backlight.setPosition(null,j),this.backlight.setSize(c.hider.offsetWidth-j,this.getRowsHeight(B,z)),this.backlight.setOffset(-1*(this.getRowsHeight(B,o.row-1)+i.offsetY),null),Rn(this.hot.rootElement,j5),this.refreshPositions()}else Bi(this.hot.rootElement,W5),y.pressed=!1,y.rowsToMove.length=0}},{key:"onMouseMove",value:function(i){var o=Ey.get(this);if(o.pressed){if(i.target===this.backlight.element){var s=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,s)})}o.target.eventPageY=i.pageY,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u=this.hot.getSelectedRangeLast(),c=Ey.get(this);!u||!c.pressed||(c.rowsToMove.indexOf(o.row)>-1?Bi(this.hot.rootElement,RN):Rn(this.hot.rootElement,RN),a.row=!0,a.column=!0,a.cell=!0,c.target.coords=o,c.target.TD=s)}},{key:"onMouseUp",value:function(){var i=Ey.get(this),o=i.target.row,s=i.rowsToMove.length;if(i.pressed=!1,i.backlightHeight=0,Bi(this.hot.rootElement,[j5,RN,W5]),this.hot.selection.isSelectedByRowHeader()&&Rn(this.hot.rootElement,W5),!(s<1||void 0===o)){var u=this.hot.toPhysicalRow(i.rowsToMove[0]),c=this.dragRows(i.rowsToMove,o);if(i.rowsToMove.length=0,!0===c){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var h=this.hot.toVisualRow(u);this.hot.selectRows(h,h+s-1)}}}},{key:"onAfterScrollHorizontally",value:function(){var i=this.hot.view._wt.wtTable,a=this.hot.view._wt.wtViewport.getRowHeaderWidth()+i.holder.scrollLeft;this.backlight.setPosition(null,a),this.backlight.setSize(i.hider.offsetWidth-a)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),Rw(ig(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return U5}},{key:"PLUGIN_PRIORITY",get:function(){return 140}}]),t}(Zo);function Y5(n){return(Y5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Xce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Dw(){return Dw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Qtt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Dw.apply(this,arguments)}function Qtt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=og(n)););return n}function G5(n,e){return(G5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function nnt(n,e){if(e&&("object"===Y5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $5(n)}function $5(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function og(n){return(og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Zce,qce,Jce,Qce,DN="manualRowResize",Kce="manualRowHeights",X5=new WeakMap,ont=function(n){!function ent(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&G5(n,e)}(t,n);var e=function tnt(n){var e=function rnt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=og(n);if(e){var o=og(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return nnt(this,i)}}(t);function t(r){var i;!function qtt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,r)).hot.rootDocument;return i.currentTH=null,i.currentRow=null,i.selectedRows=[],i.currentHeight=null,i.newSize=null,i.startY=null,i.startHeight=null,i.startOffset=null,i.handle=o.createElement("DIV"),i.guide=o.createElement("DIV"),i.eventManager=new ra($5(i)),i.pressed=null,i.dblclick=0,i.autoresizeTimeout=null,i.rowHeightsMap=void 0,X5.set($5(i),{config:void 0}),Rn(i.handle,"manualRowResizer"),Rn(i.guide,"manualRowResizerGuide"),i}return function Jtt(n,e,t){e&&Xce(n.prototype,e),t&&Xce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"inlineDir",get:function(){return this.hot.isRtl()?"right":"left"}},{key:"isEnabled",value:function(){return this.hot.getSettings()[DN]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.rowHeightsMap=new iy,this.rowHeightsMap.addLocalHook("init",function(){return i.onMapInit()}),this.hot.rowIndexMapper.registerMap(this.pluginName,this.rowHeightsMap),this.addHook("modifyRowHeight",function(o,s){return i.onModifyRowHeight(o,s)}),this.bindEvents(),Dw(og(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Dw(og(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){X5.get(this).config=this.rowHeightsMap.getValues(),this.hot.rowIndexMapper.unregisterMap(this.pluginName),Dw(og(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave",Kce,this.rowHeightsMap.getValues())}},{key:"loadManualRowHeights",value:function(){var i={};return this.hot.runHooks("persistentStateLoad",Kce,i),i.value}},{key:"setManualSize",value:function(i,o){var s=this.hot.toPhysicalRow(i),a=Math.max(o,ane.DEFAULT_HEIGHT);return this.rowHeightsMap.setValueAtIndex(s,a),a}},{key:"setupHandlePosition",value:function(i){var o=this;this.currentTH=i;var s=this.hot.view,a=s._wt,u=a.wtTable.getCoords(this.currentTH),c=u.row;if(!(c<0)){var w,h=cs(this.currentTH),p=this.currentTH.getBoundingClientRect(),g=c<a.getSetting("fixedRowsTop"),y=c>=s.countNotHiddenRowIndexes(0,1)-a.getSetting("fixedRowsBottom");g?w=a.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col):y&&(w=a.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col)),w||(w=a.wtOverlays.inlineStartOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col)),this.currentRow=this.hot.rowIndexMapper.getVisualFromRenderableIndex(c),this.selectedRows=[];var S=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();this.hot.selection.isSelected()&&S&&tt(this.hot.getSelectedRange(),function(P){Vr(P.getTopStartCorner().row,P.getBottomStartCorner().row,function(j){o.selectedRows.includes(j)||o.selectedRows.push(j)})}),this.selectedRows.includes(this.currentRow)||(this.selectedRows=[this.currentRow]),this.startOffset=w.top-6,this.startHeight=parseInt(p.height,10),this.handle.style.top="".concat(this.startOffset+this.startHeight,"px"),this.handle.style[this.inlineDir]="".concat(w.start,"px"),this.handle.style.width="".concat(h,"px"),this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top="".concat(this.startOffset+this.currentHeight,"px")}},{key:"setupGuidePosition",value:function(){var i=parseInt(cs(this.handle),10),o=parseInt(this.handle.style[this.inlineDir],10)+i,s=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);Rn(this.handle,"active"),Rn(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style[this.inlineDir]="".concat(o,"px"),this.guide.style.width="".concat(s-i,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){Bi(this.handle,"active"),Bi(this.guide,"active")}},{key:"checkIfRowHeader",value:function(i){var o,s;return Ob(i,["TH"],this.hot.rootElement)&&"TBODY"===(null===(o=i.parentNode)||void 0===o||null===(s=o.parentNode)||void 0===s?void 0:s.tagName)}},{key:"getClosestTHParent",value:function(i){return"TABLE"!==i.tagName?"TH"===i.tagName?i:this.getClosestTHParent(i.parentNode):null}},{key:"getActualRowHeight",value:function(i){var o=this.hot.view._wt.wtTable.getRowHeight(i);return void 0!==o&&this.newSize<o?o:this.newSize}},{key:"onMouseOver",value:function(i){if(!see(i.target)&&this.checkIfRowHeader(i.target)){var o=this.getClosestTHParent(i.target);o&&(this.pressed||this.setupHandlePosition(o))}}},{key:"afterMouseDownTimeout",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,h){var p=i.hot.runHooks("beforeRowResize",i.getActualRowHeight(c),c,!0);void 0!==p&&(i.newSize=p),i.setManualSize(c,i.newSize),i.hot.runHooks("afterRowResize",i.getActualRowHeight(c),c,!0),h&&o()};this.dblclick>=2&&(this.selectedRows.length>1?(tt(this.selectedRows,function(u){s(u)}),o()):tt(this.selectedRows,function(u){s(u,!0)})),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(i){var o=this;Ci(i.target,"manualRowResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return o.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startY=i.pageY,this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(i){var o=this;this.pressed&&(this.currentHeight=this.startHeight+(i.pageY-this.startY),tt(this.selectedRows,function(s){o.newSize=o.setManualSize(s,o.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,h){i.hot.runHooks("beforeRowResize",i.getActualRowHeight(c),c,!1),h&&o(),i.saveManualRowHeights(),i.hot.runHooks("afterRowResize",i.getActualRowHeight(c),c,!1)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startHeight&&(this.selectedRows.length>1?(tt(this.selectedRows,function(u){s(u)}),o()):tt(this.selectedRows,function(u){s(u,!0)})),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var i=this,o=this.hot,s=o.rootElement,a=o.rootWindow;this.eventManager.addEventListener(s,"mouseover",function(u){return i.onMouseOver(u)}),this.eventManager.addEventListener(s,"mousedown",function(u){return i.onMouseDown(u)}),this.eventManager.addEventListener(a,"mousemove",function(u){return i.onMouseMove(u)}),this.eventManager.addEventListener(a,"mouseup",function(){return i.onMouseUp()})}},{key:"onModifyRowHeight",value:function(i,o){var s=i;if(this.enabled){var a=this.hot.toPhysicalRow(o),u=this.rowHeightsMap.getValueAtIndex(a);this.hot.getSettings()[DN]&&u&&(s=u)}return s}},{key:"onMapInit",value:function(){var i=this,o=X5.get(this),s=this.hot.getSettings()[DN],a=this.loadManualRowHeights();this.hot.batchExecution(function(){void 0!==a?a.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)}):Array.isArray(s)?(s.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)}),o.config=s):!0===s&&Array.isArray(o.config)&&o.config.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)})},!0)}},{key:"destroy",value:function(){Dw(og(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return DN}},{key:"PLUGIN_PRIORITY",get:function(){return 30}}]),t}(Zo);function AN(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function ede(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const vp=function(){function n(e,t,r,i,o,s){(function snt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.row=e,this.col=t,this.rowspan=r,this.colspan=i,this.removed=!1,this.cellCoordsFactory=o,this.cellRangeFactory=s}return function ant(n,e,t){e&&ede(n.prototype,e),t&&ede(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"normalize",value:function(t){var r=t.countRows(),i=t.countCols();this.row<0?this.row=0:this.row>r-1&&(this.row=r-1),this.col<0?this.col=0:this.col>i-1&&(this.col=i-1),this.row+this.rowspan>r-1&&(this.rowspan=r-this.row),this.col+this.colspan>i-1&&(this.colspan=i-this.col)}},{key:"includes",value:function(t,r){return this.row<=t&&this.col<=r&&this.row+this.rowspan-1>=t&&this.col+this.colspan-1>=r}},{key:"includesHorizontally",value:function(t){return this.col<=t&&this.col+this.colspan-1>=t}},{key:"includesVertically",value:function(t){return this.row<=t&&this.row+this.rowspan-1>=t}},{key:"shift",value:function(t,r){var i=t[0]||t[1],o=r+Math.abs(t[0]||t[1])-1,s=t[0]?"colspan":"rowspan",a=t[0]?"col":"row",u=Math.min(r,o),c=Math.max(r,o),h=this[a],p=this[a]+this[s]-1;if(h>=r&&(this[a]+=i),i>0)r<=p&&r>h&&(this[s]+=i);else if(i<0){if(u<=h&&c>=p)return this.removed=!0,!1;if(h>=u&&h<=c){var g=c-h+1,y=Math.abs(i)-g;this[a]-=y+i,this[s]-=g}else h<=u&&p>=c?this[s]+=i:h<=u&&p>=u&&p<c&&(this[s]-=p-u+1)}return!0}},{key:"isFarther",value:function(t,r){return!t||("down"===r?t.row+t.rowspan-1<this.row+this.rowspan-1:"up"===r?t.row>this.row:"right"===r?t.col+t.colspan-1<this.col+this.colspan-1:"left"===r?t.col>this.col:null)}},{key:"getLastRow",value:function(){return this.row+this.rowspan-1}},{key:"getLastColumn",value:function(){return this.col+this.colspan-1}},{key:"getRange",value:function(){return this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))}}],[{key:"NEGATIVE_VALUES_WARNING",value:function(t){return ds(Zce||(Zce=AN(["The merged cell declared with {row: ",", col: ",", \n      rowspan: ",", colspan: ","} contains negative values, which is \n      not supported. It will not be added to the collection."],["The merged cell declared with {row: ",", col: ",",\\x20\n      rowspan: ",", colspan: ","} contains negative values, which is\\x20\n      not supported. It will not be added to the collection."])),t.row,t.col,t.rowspan,t.colspan)}},{key:"IS_OUT_OF_BOUNDS_WARNING",value:function(t){return ds(qce||(qce=AN(["The merged cell declared at [",", ","] is positioned \n      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup."],["The merged cell declared at [",", ","] is positioned\\x20\n      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup."])),t.row,t.col)}},{key:"IS_SINGLE_CELL",value:function(t){return ds(Jce||(Jce=AN(["The merged cell declared at [",", ",'] has both "rowspan" \n      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has both "rowspan"\\x20\n      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'])),t.row,t.col)}},{key:"ZERO_SPAN_WARNING",value:function(t){return ds(Qce||(Qce=AN(["The merged cell declared at [",", ",'] has "rowspan" \n      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has "rowspan"\\x20\n      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.'])),t.row,t.col)}},{key:"containsNegativeValues",value:function(t){return t.row<0||t.col<0||t.rowspan<0||t.colspan<0}},{key:"isSingleCell",value:function(t){return 1===t.colspan&&1===t.rowspan}},{key:"containsZeroSpan",value:function(t){return 0===t.colspan||0===t.rowspan}},{key:"isOutOfBounds",value:function(t,r,i){return t.row<0||t.col<0||t.row>=r||t.row+t.rowspan-1>=r||t.col>=i||t.col+t.colspan-1>=i}}]),n}();function K5(n,e,t,r){e?e.row===t&&e.col===r?(n.setAttribute("rowspan",e.rowspan.toString()),n.setAttribute("colspan",e.colspan.toString())):(n.removeAttribute("rowspan"),n.removeAttribute("colspan"),n.style.display="none"):(n.removeAttribute("rowspan"),n.removeAttribute("colspan"),n.style.display="")}var tde;function nde(n){return function fnt(n){if(Array.isArray(n))return Z5(n)}(n)||function hnt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function dnt(n,e){if(n){if("string"==typeof n)return Z5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z5(n,e)}}(n)||function cnt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function rde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const vnt=function(){function n(e){(function pnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.mergedCells=[],this.hot=e.hot}return function mnt(n,e,t){e&&rde(n.prototype,e),t&&rde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"get",value:function(t,r){var o=!1;return tt(this.mergedCells,function(s){return!(s.row<=t&&s.row+s.rowspan-1>=t&&s.col<=r&&s.col+s.colspan-1>=r&&(o=s,1))}),o}},{key:"getByRange",value:function(t){var i=!1;return tt(this.mergedCells,function(o){return!(o.row<=t.from.row&&o.row+o.rowspan-1>=t.to.row&&o.col<=t.from.col&&o.col+o.colspan-1>=t.to.col)||(i=o)}),i}},{key:"getWithinRange",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.mergedCells,s=[],a=t;if(!a.includesRange){var u=this.hot._createCellCoords(a.from.row,a.from.col),c=this.hot._createCellCoords(a.to.row,a.to.col);a=this.hot._createCellRange(u,u,c)}return tt(o,function(h){var p=r.hot._createCellCoords(h.row,h.col),g=r.hot._createCellCoords(h.row+h.rowspan-1,h.col+h.colspan-1),y=r.hot._createCellRange(p,p,g);i?a.overlaps(y)&&s.push(h):a.includesRange(y)&&s.push(h)}),!!s.length&&s}},{key:"add",value:function(t){var r=this.mergedCells,i=t.row,o=t.col,u=new vp(i,o,t.rowspan,t.colspan,this.hot._createCellCoords,this.hot._createCellRange),c=this.get(i,o),h=this.isOverlapping(u);return c||h?(Cs(n.IS_OVERLAPPING_WARNING(u)),!1):(this.hot&&u.normalize(this.hot),r.push(u),u)}},{key:"remove",value:function(t,r){var i=this.mergedCells,o=this.get(t,r),s=o?this.mergedCells.indexOf(o):-1;return!(!o||-1===s)&&(i.splice(s,1),o)}},{key:"clear",value:function(){var t=this,i=[],o=[];tt(this.mergedCells,function(s){var a=t.hot.getCell(s.row,s.col);a&&i.push([a,t.get(s.row,s.col),s.row,s.col])}),this.mergedCells.length=0,tt(i,function(s,a){Vr(0,s.rowspan-1,function(u){Vr(0,s.colspan-1,function(c){if(0!==c||0!==u){var h=t.hot.getCell(s.row+u,s.col+c);h&&o.push([h,null,null,null])}})}),i[a][1]=null}),tt(i,function(s){K5.apply(void 0,nde(s))}),tt(o,function(s){K5.apply(void 0,nde(s))})}},{key:"isOverlapping",value:function(t){var r=this,i=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(t.row,t.col),this.hot._createCellCoords(t.row+t.rowspan-1,t.col+t.colspan-1)),o=!1;return tt(this.mergedCells,function(s){return!r.hot._createCellRange(r.hot._createCellCoords(0,0),r.hot._createCellCoords(s.row,s.col),r.hot._createCellCoords(s.row+s.rowspan-1,s.col+s.colspan-1)).overlaps(i)||(o=!0,!1)}),o}},{key:"isFirstRenderableMergedCell",value:function(t,r){var i=this.get(t,r);return i&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1)===t&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1)===r}},{key:"getFirstRenderableCoords",value:function(t,r){var i=this.get(t,r);if(!i||this.isFirstRenderableMergedCell(t,r))return this.hot._createCellCoords(t,r);var o=this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1),s=this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1);return this.hot._createCellCoords(o,s)}},{key:"shiftCollections",value:function(t,r,i){var o=this,s=[0,0];switch(t){case"right":s[0]+=i;break;case"left":s[0]-=i;break;case"down":s[1]+=i;break;case"up":s[1]-=i}tt(this.mergedCells,function(a){a.shift(s,r)}),uz(this.mergedCells.length-1,0,function(a){var u=o.mergedCells[a];u&&u.removed&&o.mergedCells.splice(o.mergedCells.indexOf(u),1)})}}],[{key:"IS_OVERLAPPING_WARNING",value:function(t){return ds(tde||(tde=function unt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The merged cell declared at [",", ","], overlaps \n      with the other declared merged cell. The overlapping merged cell was not added to the table, please \n      fix your setup."],["The merged cell declared at [",", ","], overlaps\\x20\n      with the other declared merged cell. The overlapping merged cell was not added to the table, please\\x20\n      fix your setup."])),t.row,t.col)}}]),n}();function Aw(n,e){return function wnt(n){if(Array.isArray(n))return n}(n)||function bnt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function _nt(n,e){if(n){if("string"==typeof n)return ide(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ide(n,e)}}(n,e)||function ynt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ide(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ode(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Cnt=function(){function n(e){(function Mnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection,this.currentFillData=null}return function Snt(n,e,t){e&&ode(n.prototype,e),t&&ode(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"correctSelectionAreaSize",value:function(t){if(t[0]===t[2]&&t[1]===t[3]){var r=this.mergedCellsCollection.get(t[0],t[1]);r&&(t[2]=t[0]+r.rowspan-1,t[3]=t[1]+r.colspan-1)}}},{key:"getDirection",value:function(t,r){return r[0]===t[0]&&r[1]===t[1]&&r[3]===t[3]?"down":r[2]===t[2]&&r[1]===t[1]&&r[3]===t[3]?"up":r[1]===t[1]&&r[2]===t[2]?"right":"left"}},{key:"snapDragArea",value:function(t,r,i,o){var s=r.slice(0),a=this.getAutofillSize(t,r,i),u=Aw(t,4),c=u[0],h=u[1],p=u[2],g=u[3],w=["up","down"].indexOf(i)>-1?p-c+1:g-h+1,C=a-Math.floor(a/w)*w,P=this.getFarthestCollection(t,r,i,o);if(P)if("down"===i){var B=P.row+P.rowspan-c-C;s[2]+B>=this.plugin.hot.countRows()?s[2]-=C:s[2]+=C?B:0}else if("right"===i){var j=P.col+P.colspan-h-C;s[3]+j>=this.plugin.hot.countCols()?s[3]-=C:s[3]+=C?j:0}else if("up"===i){var ie=p-C-P.row+1;s[0]+ie<0?s[0]+=C:s[0]-=C?ie:0}else if("left"===i){var re=g-C-P.col+1;s[1]+re<0?s[1]+=C:s[1]-=C?re:0}return this.updateCurrentFillCache({baseArea:t,dragDirection:i,foundMergedCells:o,fillSize:a,dragArea:s,cycleLength:w}),s}},{key:"updateCurrentFillCache",value:function(t){this.currentFillData||(this.currentFillData={}),ta(this.currentFillData,t)}},{key:"getAutofillSize",value:function(t,r,i){var o=Aw(t,4),s=o[0],a=o[1],u=o[2],c=o[3],h=Aw(r,4),p=h[0],g=h[1],y=h[2],w=h[3];switch(i){case"up":return s-p;case"down":return y-u;case"left":return a-g;case"right":return w-c;default:return null}}},{key:"getDragArea",value:function(t,r,i){var o=Aw(t,4),s=o[0],a=o[1],u=o[2],c=o[3],h=Aw(r,4),p=h[0],g=h[1],y=h[2],w=h[3];switch(i){case"up":return[p,g,s-1,c];case"down":return[u+1,a,y,c];case"left":return[p,g,u,a-1];case"right":return[s,c+1,y,w];default:return null}}},{key:"getFarthestCollection",value:function(t,r,i,o){var s=Aw(t,4),a=s[0],u=s[1],c=s[2],h=s[3],p=["up","down"].indexOf(i)>-1,g=p?c:h,y=p?a:u,w=this.getAutofillSize(t,r,i),S=p?c-a+1:h-u+1,P=w-Math.floor(w/S)*S,B=null,z=null,j=null;switch(i){case"up":B="includesVertically",j=g-P+1;break;case"left":B="includesHorizontally",j=g-P+1;break;case"down":B="includesVertically",j=y+P-1;break;case"right":B="includesHorizontally",j=y+P-1}return tt(o,function(X){X[B](j)&&X.isFarther(z,i)&&(z=X)}),z}},{key:"recreateAfterDataPopulation",value:function(t){if(this.currentFillData){var r=this.getRangeFromChanges(t),i=this.currentFillData.foundMergedCells,o=this.currentFillData.dragDirection,s=function(g,y){switch(o){case"up":return g.row-y>=r.from.row;case"down":return g.row+g.rowspan-1+y<=r.to.row;case"left":return g.col-y>=r.from.column;case"right":return g.col+g.colspan-1+y<=r.to.column;default:return null}},a=0,u=null,c=1;do{for(var h=0;h<i.length;h+=1){if(s(u=i[h],a=c*this.currentFillData.cycleLength))switch(o){case"up":this.plugin.mergedCellsCollection.add({row:u.row-a,rowspan:u.rowspan,col:u.col,colspan:u.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:u.row+a,rowspan:u.rowspan,col:u.col,colspan:u.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:u.row,rowspan:u.rowspan,col:u.col-a,colspan:u.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:u.row,rowspan:u.rowspan,col:u.col+a,colspan:u.colspan})}h===i.length-1&&(c+=1)}}while(s(u,a));this.currentFillData=null,this.plugin.hot.render()}}},{key:"getRangeFromChanges",value:function(t){var r=this,i={min:null,max:null},o={min:null,max:null};return tt(t,function(s){var a=s[0],u=r.plugin.hot.propToCol(s[1]);(null===i.min||a<i.min)&&(i.min=a),(null===i.max||a>i.max)&&(i.max=a),(null===o.min||u<o.min)&&(o.min=u),(null===o.max||u>o.max)&&(o.max=u)}),{from:{row:i.min,column:o.min},to:{row:i.max,column:o.max}}}},{key:"dragAreaOverlapsCollections",value:function(t,r,i){var s=Aw(this.getDragArea(t,r,i),4),c=s[2],h=s[3],p=this.plugin.hot._createCellCoords(s[0],s[1]),g=this.plugin.hot._createCellCoords(c,h),y=this.plugin.hot._createCellRange(p,p,g);return!!this.mergedCellsCollection.getWithinRange(y,!0)}}]),n}();function sde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const Dnt=function(){function n(e){(function Ent(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=e.hot,this.fullySelectedMergedCellClassName="fullySelectedMergedCell"}return function Tnt(n,e,t){e&&sde(n.prototype,e),t&&sde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"snapDelta",value:function(t,r,i){var o=r.to,a=o.col+t.col;t.row?this.jumpOverMergedCell(t,i,o.row+t.row):t.col&&this.jumpOverMergedCell(t,i,a)}},{key:"jumpOverMergedCell",value:function(t,r,i){var o=t.row||t.col,s=null,a=null,u=null;t.row?(s=r.includesVertically(i),a=r.row,u=r.getLastRow()):t.col&&(s=r.includesHorizontally(i),a=r.col,u=r.getLastColumn()),0!==o&&(o>0?s&&i!==a&&(o+=u-i+1):s&&i!==u&&(o-=i-a+1),t.row?t.row=o:t.col&&(t.col=o))}},{key:"getUpdatedSelectionRange",value:function(t,r){return this.hot._createCellRange(t.highlight,t.from,this.hot._createCellCoords(t.to.row+r.row,t.to.col+r.col))}},{key:"getSelectedMergedCellClassName",value:function(t,r,i,o){var s=Math.min(i[0],i[2]),a=Math.min(i[1],i[3]),u=Math.max(i[0],i[2]),c=Math.max(i[1],i[3]);if(void 0!==o&&this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(t,r)){var p=this.plugin.mergedCellsCollection.get(t,r);if(p){var g=p.getLastRow(),y=p.getLastColumn();if(s<=p.row&&a<=p.col&&u>=g&&c>=y)return"".concat(this.fullySelectedMergedCellClassName,"-").concat(o);if(this.plugin.selectionCalculations.isMergeCellFullySelected(p,this.plugin.hot.getSelectedRange()))return"".concat(this.fullySelectedMergedCellClassName,"-multiple")}}}},{key:"isMergeCellFullySelected",value:function(t,r){var i=[];if(!r||!t)return!1;for(var o=0;o<t.rowspan;o+=1)for(var s=0;s<t.colspan;s+=1)i.push(this.hot._createCellCoords(t.row+o,t.col+s));for(var a=0;a<i.length;a+=1){for(var u=[],c=0;c<r.length;c+=1)u[c]=r[c].includes(i[a]);if(!u.includes(!0))return!1}return!0}},{key:"getSelectedMergedCellClassNameToRemove",value:function(){for(var t=[],r=0;r<=7;r+=1)t.push("".concat(this.fullySelectedMergedCellClassName,"-").concat(r));return t.push("".concat(this.fullySelectedMergedCellClassName,"-multiple")),t}}]),n}();function q5(n){return(q5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ade(n,e){return function Lnt(n){if(Array.isArray(n))return n}(n)||function knt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||ude(n,e)||function Ont(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lde(n){return function Nnt(n){if(Array.isArray(n))return J5(n)}(n)||function Int(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||ude(n)||function Pnt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ude(n,e){if(n){if("string"==typeof n)return J5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return J5(n,e)}}function J5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function cde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Hx(){return Hx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Bnt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Hx.apply(this,arguments)}function Bnt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Ty(n)););return n}function Q5(n,e){return(Q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Unt(n,e){if(e&&("object"===q5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dde(n)}function dde(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ty(n){return(Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("beforeMergeCells"),xr.getSingleton().register("afterMergeCells"),xr.getSingleton().register("beforeUnmergeCells"),xr.getSingleton().register("afterUnmergeCells");var gde,uR="mergeCells",hde=new WeakMap,fde=uR,Ynt=function(n){!function Vnt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Q5(n,e)}(t,n);var e=function znt(n){var e=function jnt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Ty(n);if(e){var o=Ty(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Unt(this,i)}}(t);function t(r){var i;return function Fnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),hde.set(dde(i),{lastDesiredCoords:null}),i.mergedCellsCollection=null,i.autofillCalculations=null,i.selectionCalculations=null,i}return function Hnt(n,e,t){e&&cde(n.prototype,e),t&&cde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[uR]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.mergedCellsCollection=new vnt(this),this.autofillCalculations=new Cnt(this),this.selectionCalculations=new Dnt(this),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("modifyTransformStart",function(){return i.onModifyTransformStart.apply(i,arguments)}),this.addHook("afterModifyTransformStart",function(){return i.onAfterModifyTransformStart.apply(i,arguments)}),this.addHook("modifyTransformEnd",function(){return i.onModifyTransformEnd.apply(i,arguments)}),this.addHook("modifyGetCellCoords",function(){return i.onModifyGetCellCoords.apply(i,arguments)}),this.addHook("beforeSetRangeStart",function(){return i.onBeforeSetRangeStart.apply(i,arguments)}),this.addHook("beforeSetRangeStartOnly",function(){return i.onBeforeSetRangeStart.apply(i,arguments)}),this.addHook("beforeSetRangeEnd",function(){return i.onBeforeSetRangeEnd.apply(i,arguments)}),this.addHook("afterIsMultipleSelection",function(){return i.onAfterIsMultipleSelection.apply(i,arguments)}),this.addHook("afterRenderer",function(){return i.onAfterRenderer.apply(i,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return i.addMergeActionsToContextMenu.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(){return i.onAfterGetCellMeta.apply(i,arguments)}),this.addHook("afterViewportRowCalculatorOverride",function(){return i.onAfterViewportRowCalculatorOverride.apply(i,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return i.onAfterViewportColumnCalculatorOverride.apply(i,arguments)}),this.addHook("modifyAutofillRange",function(){return i.onModifyAutofillRange.apply(i,arguments)}),this.addHook("afterCreateCol",function(){return i.onAfterCreateCol.apply(i,arguments)}),this.addHook("afterRemoveCol",function(){return i.onAfterRemoveCol.apply(i,arguments)}),this.addHook("afterCreateRow",function(){return i.onAfterCreateRow.apply(i,arguments)}),this.addHook("afterRemoveRow",function(){return i.onAfterRemoveRow.apply(i,arguments)}),this.addHook("afterChange",function(){return i.onAfterChange.apply(i,arguments)}),this.addHook("beforeDrawBorders",function(){return i.onBeforeDrawAreaBorders.apply(i,arguments)}),this.addHook("afterDrawSelection",function(){return i.onAfterDrawSelection.apply(i,arguments)}),this.addHook("beforeRemoveCellClassNames",function(){return i.onBeforeRemoveCellClassNames.apply(i,arguments)}),this.addHook("beforeUndoStackChange",function(o,s){if("MergeCells"===s)return!1}),this.registerShortcuts(),Hx(Ty(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),Hx(Ty(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var i=this.hot.getSettings()[uR];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(i),Hx(Ty(t.prototype),"updatePlugin",this).call(this)}},{key:"validateSetting",value:function(i){var o=!0;return!!i&&(vp.containsNegativeValues(i)?(Cs(vp.NEGATIVE_VALUES_WARNING(i)),o=!1):vp.isOutOfBounds(i,this.hot.countRows(),this.hot.countCols())?(Cs(vp.IS_OUT_OF_BOUNDS_WARNING(i)),o=!1):vp.isSingleCell(i)?(Cs(vp.IS_SINGLE_CELL(i)),o=!1):vp.containsZeroSpan(i)&&(Cs(vp.ZERO_SPAN_WARNING(i)),o=!1),o)}},{key:"generateFromSettings",value:function(i){var o=this;if(Array.isArray(i)){var s,a=[];tt(i,function(c){if(o.validateSetting(c)){var h=o.hot._createCellCoords(c.row,c.col),p=o.hot._createCellCoords(c.row+c.rowspan-1,c.col+c.colspan-1),g=o.hot._createCellRange(h,h,p);a.push(o.mergeRange(g,!0,!0))}}),a=a.filter(function(c){return!0!==c});var u=this.getBulkCollectionData(a);(s=this.hot).populateFromArray.apply(s,lde(u))}}},{key:"getBulkCollectionData",value:function(i){var o,s=this.getBulkCollectionDataRange(i),u=(o=this.hot).getData.apply(o,lde(s)).splice(0);return tt(i,function(c){var h=ade(c,3),p=h[0],g=h[1];tt(h[2],function(w,S){tt(w,function(C,P){u[p-s[0]+S][g-s[1]+P]=C})})}),[s[0],s[1],u]}},{key:"getBulkCollectionDataRange",value:function(i){var o=[0,0],s=[0,0],a=null,u=null,c=null;return tt(i,function(h){a=h[0],u=h[1],c=h[2],o[0]=Math.min(a,o[0]),o[1]=Math.min(u,o[1]),s[0]=Math.max(a+c.length-1,s[0]),s[1]=Math.max(u+c[0].length-1,s[1])}),[].concat(o,s)}},{key:"clearCollections",value:function(){this.mergedCellsCollection.clear()}},{key:"canMergeRange",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!o||this.validateSetting(i)}},{key:"toggleMergeOnSelection",value:function(){var i=this.hot.getSelectedRangeLast();if(i){i.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");var o=i.from,s=i.to;this.toggleMerge(i),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"mergeSelection",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(i){i.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");var o=i.from,s=i.to;this.unmergeRange(i,!0),this.mergeRange(i),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"unmergeSelection",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(i){var o=i.from,s=i.to;this.unmergeRange(i,!0),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"mergeRange",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=i.getTopStartCorner(),c=i.getBottomEndCorner(),h={row:u.row,col:u.col,rowspan:c.row-u.row+1,colspan:c.col-u.col+1},p=[],g=null;if(!this.canMergeRange(h,s))return!1;this.hot.runHooks("beforeMergeCells",i,s),Vr(0,h.rowspan-1,function(w){Vr(0,h.colspan-1,function(S){var C=null;p[w]||(p[w]=[]),0===w&&0===S?C=o.hot.getDataAtCell(h.row,h.col):o.hot.setCellMeta(h.row+w,h.col+S,"hidden",!0),p[w][S]=C})}),this.hot.setCellMeta(h.row,h.col,"spanned",!0);var y=this.mergedCellsCollection.add(h);return!y||(a?g=[h.row,h.col,p]:this.hot.populateFromArray(h.row,h.col,p,void 0,void 0,this.pluginName),this.hot.runHooks("afterMergeCells",i,h,s),g)}},{key:"unmergeRange",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.mergedCellsCollection.getWithinRange(i);!a||(this.hot.runHooks("beforeUnmergeCells",i,s),tt(a,function(u){o.mergedCellsCollection.remove(u.row,u.col),Vr(0,u.rowspan-1,function(c){Vr(0,u.colspan-1,function(h){o.hot.removeCellMeta(u.row+c,u.col+h,"hidden")})}),o.hot.removeCellMeta(u.row,u.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",i,s),this.hot.render())}},{key:"toggleMerge",value:function(i){var o=this.mergedCellsCollection.get(i.from.row,i.from.col);o.row===i.from.row&&o.col===i.from.col&&o.row+o.rowspan-1===i.to.row&&o.col+o.colspan-1===i.to.col?this.unmergeRange(i):this.mergeSelection(i)}},{key:"merge",value:function(i,o,s,a){var u=this.hot._createCellCoords(i,o),c=this.hot._createCellCoords(s,a);this.mergeRange(this.hot._createCellRange(u,u,c))}},{key:"unmerge",value:function(i,o,s,a){var u=this.hot._createCellCoords(i,o),c=this.hot._createCellCoords(s,a);this.unmergeRange(this.hot._createCellRange(u,u,c))}},{key:"onAfterInit",value:function(){this.generateFromSettings(this.hot.getSettings()[uR]),this.hot.render()}},{key:"registerShortcuts",value:function(){var i=this;this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:function(){i.toggleMerge(i.hot.getSelectedRangeLast()),i.hot.render()},runOnlyIf:function(u){return!u.altKey},group:fde})}},{key:"unregisterShortcuts",value:function(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(fde)}},{key:"onAfterIsMultipleSelection",value:function(i){if(i)for(var o=this.mergedCellsCollection.mergedCells,s=this.hot.getSelectedRangeLast(),a=0;a<o.length;a+=1)if(s.from.row===o[a].row&&s.from.col===o[a].col&&s.to.row===o[a].row+o[a].rowspan-1&&s.to.col===o[a].col+o[a].colspan-1)return!1;return i}},{key:"onModifyTransformStart",value:function(i){var u,o=hde.get(this),s=this.hot.getSelectedRangeLast(),a={row:i.row,col:i.col},c=this.hot._createCellCoords(s.highlight.row,s.highlight.col),h=this.mergedCellsCollection.get(c.row,c.col);if(o.lastDesiredCoords||(o.lastDesiredCoords=this.hot._createCellCoords(null,null)),h){var p=this.hot._createCellCoords(h.row,h.col),g=this.hot._createCellCoords(h.row+h.rowspan-1,h.col+h.colspan-1);this.hot._createCellRange(p,p,g).includes(o.lastDesiredCoords)||(o.lastDesiredCoords=this.hot._createCellCoords(null,null)),a.row=o.lastDesiredCoords.row?o.lastDesiredCoords.row-c.row:a.row,a.col=o.lastDesiredCoords.col?o.lastDesiredCoords.col-c.col:a.col,i.row>0?a.row=h.row+h.rowspan-1-c.row+i.row:i.row<0&&(a.row=c.row-h.row+i.row),i.col>0?a.col=h.col+h.colspan-1-c.col+i.col:i.col<0&&(a.col=c.col-h.col+i.col)}u=this.hot._createCellCoords(s.highlight.row+a.row,s.highlight.col+a.col);var w=this.mergedCellsCollection.get(u.row,u.col);if(w){var S=this.mergedCellsCollection.getFirstRenderableCoords(w.row,w.col);o.lastDesiredCoords=u,a={row:S.row-c.row,col:S.col-c.col}}0!==a.row&&(i.row=a.row),0!==a.col&&(i.col=a.col)}},{key:"onModifyTransformEnd",value:function(i){var o=this,s=this.hot.getSelectedRangeLast(),a=xc(i),u=this.selectionCalculations.getUpdatedSelectionRange(s,i),c=xc(a),h=this.mergedCellsCollection.getWithinRange(u,!0);do{c=xc(a),this.selectionCalculations.getUpdatedSelectionRange(s,a),tt(h,function(p){o.selectionCalculations.snapDelta(a,s,p)})}while(a.row!==c.row||a.col!==c.col);i.row=a.row,i.col=a.col}},{key:"onModifyGetCellCoords",value:function(i,o){if(!(i<0||o<0)){var s=this.mergedCellsCollection.get(i,o);if(s){var a=s.row,u=s.col;return[a,u,a+s.rowspan-1,u+s.colspan-1]}}}},{key:"addMergeActionsToContextMenu",value:function(i){i.items.push({name:"---------"},function Ant(n){return{key:"mergeCells",name:function(){var t=this.getSelectedLast();if(t){var r=n.mergedCellsCollection.get(t[0],t[1]);if(r.row===t[0]&&r.col===t[1]&&r.row+r.rowspan-1===t[2]&&r.col+r.colspan-1===t[3])return this.getTranslatedPhrase(cj)}return this.getTranslatedPhrase(uj)},callback:function(){n.toggleMergeOnSelection()},disabled:function(){var t=this.getSelectedLast();return!t||vp.isSingleCell({row:t[0],col:t[1],rowspan:t[2]-t[0]+1,colspan:t[3]-t[1]+1})||this.selection.isSelectedByCorner()},hidden:!1}}(this))}},{key:"onAfterRenderer",value:function(i,o,s){var a=this.mergedCellsCollection.get(o,s),u=Yi(a)?xc(a):void 0;if(Yi(u)){var c=this.hot,h=c.rowIndexMapper,p=c.columnIndexMapper,P=ade(this.translateMergedCellToRenderable(u.row,u.rowspan,u.col,u.colspan),2),z=P[1],ie=P[0]-h.getRenderableFromVisualIndex(o)+1,me=z-p.getRenderableFromVisualIndex(s)+1;u.row=h.getNearestNotHiddenIndex(u.row,1),u.col=p.getNearestNotHiddenIndex(u.col,1),u.rowspan=Math.min(u.rowspan,ie),u.colspan=Math.min(u.colspan,me)}K5(i,u,o,s)}},{key:"onBeforeSetRangeStart",value:function(i){if(this.mergedCellsCollection.isFirstRenderableMergedCell(i.row,i.col)){var o=this.mergedCellsCollection.get(i.row,i.col),s=[o.row,o.col];i.row=s[0],i.col=s[1]}}},{key:"onBeforeSetRangeEnd",value:function(i){var o=this.hot.getSelectedRangeLast();o.highlight=this.hot._createCellCoords(o.highlight.row,o.highlight.col),o.to=i;var s=!1;if(!this.hot.selection.isSelectedByColumnHeader()&&!this.hot.selection.isSelectedByRowHeader())do{s=!1;for(var a=0;a<this.mergedCellsCollection.mergedCells.length;a+=1){var c=this.mergedCellsCollection.mergedCells[a].getRange();o.expandByRange(c)&&(i.row=o.to.row,i.col=o.to.col,s=!0)}}while(s)}},{key:"onAfterGetCellMeta",value:function(i,o,s){var a=this.mergedCellsCollection.get(i,o);a&&(a.row!==i||a.col!==o?s.copyable=!1:(s.rowspan=a.rowspan,s.colspan=a.colspan))}},{key:"onAfterViewportRowCalculatorOverride",value:function(i){var o=this.hot.countCols();this.modifyViewportRowStart(i,o),this.modifyViewportRowEnd(i,o)}},{key:"modifyViewportRowStart",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=s.getVisualFromRenderableIndex(i.startRow),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(a,u);if(Yi(c)){var h=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.row,1));if(h<i.startRow)return i.startRow=h,void this.modifyViewportRowStart(i,o)}}}},{key:"modifyViewportRowEnd",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=s.getVisualFromRenderableIndex(i.endRow),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(a,u);if(Yi(c)){var p=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.row+c.rowspan-1,-1));if(p>i.endRow)return i.endRow=p,void this.modifyViewportRowEnd(i,o)}}}},{key:"onAfterViewportColumnCalculatorOverride",value:function(i){var o=this.hot.countRows();this.modifyViewportColumnStart(i,o),this.modifyViewportColumnEnd(i,o)}},{key:"modifyViewportColumnStart",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=s.getVisualFromRenderableIndex(i.startColumn),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(u,a);if(Yi(c)){var h=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.col,1));if(h<i.startColumn)return i.startColumn=h,void this.modifyViewportColumnStart(i,o)}}}},{key:"modifyViewportColumnEnd",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=s.getVisualFromRenderableIndex(i.endColumn),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(u,a);if(Yi(c)){var p=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.col+c.colspan-1,-1));if(p>i.endColumn)return i.endColumn=p,void this.modifyViewportColumnEnd(i,o)}}}},{key:"translateMergedCellToRenderable",value:function(i,o,s,a){var p,g,u=this.hot,c=u.rowIndexMapper,h=u.columnIndexMapper;return p=0===o?c.getNearestNotHiddenIndex(i,1):c.getNearestNotHiddenIndex(i+o-1,-1),g=0===a?h.getNearestNotHiddenIndex(s,1):h.getNearestNotHiddenIndex(s+a-1,-1),[i>=0?c.getRenderableFromVisualIndex(p):i,s>=0?h.getRenderableFromVisualIndex(g):s]}},{key:"onModifyAutofillRange",value:function(i,o){this.autofillCalculations.correctSelectionAreaSize(o);var s=this.autofillCalculations.getDirection(o,i),a=i;if(this.autofillCalculations.dragAreaOverlapsCollections(o,a,s))return o;var u=this.mergedCellsCollection.getWithinRange({from:{row:o[0],col:o[1]},to:{row:o[2],col:o[3]}});return u&&(a=this.autofillCalculations.snapDragArea(o,a,s,u)),a}},{key:"onAfterCreateCol",value:function(i,o){this.mergedCellsCollection.shiftCollections("right",i,o)}},{key:"onAfterRemoveCol",value:function(i,o){this.mergedCellsCollection.shiftCollections("left",i,o)}},{key:"onAfterCreateRow",value:function(i,o,s){"auto"!==s&&this.mergedCellsCollection.shiftCollections("down",i,o)}},{key:"onAfterRemoveRow",value:function(i,o){this.mergedCellsCollection.shiftCollections("up",i,o)}},{key:"onAfterChange",value:function(i,o){"Autofill.fill"===o&&this.autofillCalculations.recreateAfterDataPopulation(i)}},{key:"onBeforeDrawAreaBorders",value:function(i,o){if(o&&"area"===o){var s=this.hot.getSelectedRangeLast();tt(this.mergedCellsCollection.getWithinRange(s),function(u){s.getBottomEndCorner().row===u.getLastRow()&&s.getBottomEndCorner().col===u.getLastColumn()&&(i[2]=u.row,i[3]=u.col)})}}},{key:"onAfterModifyTransformStart",value:function(i,o,s){if(this.enabled){var a=this.mergedCellsCollection.get(i.row,i.col);if(a){var u=o>0,c=o<0,h=s<0,p=s>0,g=a.row+a.rowspan-1==this.hot.countRows()-1,y=0===a.row,w=a.col+a.colspan-1==this.hot.countCols()-1;(u&&g||c&&y||p&&w||h&&0===a.col)&&(i.row=a.row,i.col=a.col)}}}},{key:"onAfterDrawSelection",value:function(i,o,s,a){if(s)return this.selectionCalculations.getSelectedMergedCellClassName(i,o,s,a)}},{key:"onBeforeRemoveCellClassNames",value:function(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}}],[{key:"PLUGIN_KEY",get:function(){return uR}},{key:"PLUGIN_PRIORITY",get:function(){return 150}}]),t}(Zo);function pde(n){return function Knt(n){if(Array.isArray(n))return n}(n)||function Xnt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function $nt(n,e){if(n){if("string"==typeof n)return mde(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mde(n,e)}}(n)||function Gnt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mde(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vde(){Cs(ds(gde||(gde=function qnt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Plugins `columnSorting` and `multiColumnSorting` should not be enabled simultaneously. \n    Only `multiColumnSorting` will work."],["Plugins \\`columnSorting\\` and \\`multiColumnSorting\\` should not be enabled simultaneously. \n    Only \\`multiColumnSorting\\` will work."]))))}function Jnt(n,e,t){var r=[];return!1===t||n.isColumnSorted(e)&&n.getNumberOfSortedColumns()>1&&r.push("".concat("sort","-").concat(n.getIndexOfColumnInSortQueue(e)+1)),r}function Qnt(n){var e=n.className.split(" "),t=new RegExp("^".concat("sort","-[0-9]{1,2}$"));return e.filter(function(r){return t.test(r)})}function e6(n){return(e6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _de(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function vd(){return vd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=nrt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},vd.apply(this,arguments)}function nrt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Gu(n)););return n}function t6(n,e){return(t6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ort(n,e){if(e&&("object"===e6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function srt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Gu(n){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var n6="multiColumnSorting",bde="columnSorting";Dae(n6,function Znt(n,e){return function(t,r){var o=pde(t).slice(1),a=pde(r).slice(1);return function u(c){var h=n[c],p=e[c],g=o[c],y=a[c],w=p.multiColumnSorting,C=(w.compareFunctionFactory?w.compareFunctionFactory:Aae(p.type))(h,p,w)(g,y);if(0===C){var P=c+1;if(void 0!==e[P])return u(P)}return C}(0)}});var crt=function(n){!function rrt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&t6(n,e)}(t,n);var e=function irt(n){var e=function art(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Gu(n);if(e){var o=Gu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ort(this,i)}}(t);function t(r){var i;return function ert(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).pluginKey=n6,i}return function trt(n,e,t){e&&_de(n.prototype,e),t&&_de(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return vd(Gu(t.prototype),"isEnabled",this).call(this)}},{key:"enablePlugin",value:function(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[bde]&&vde(),vd(Gu(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){vd(Gu(t.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(i){vd(Gu(t.prototype),"sort",this).call(this,i)}},{key:"clearSort",value:function(){vd(Gu(t.prototype),"clearSort",this).call(this)}},{key:"isSorted",value:function(){return vd(Gu(t.prototype),"isSorted",this).call(this)}},{key:"getSortConfig",value:function(i){return vd(Gu(t.prototype),"getSortConfig",this).call(this,i)}},{key:"setSortConfig",value:function(i){vd(Gu(t.prototype),"setSortConfig",this).call(this,i)}},{key:"getNormalizedSortConfigs",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(i)?i:[i]}},{key:"updateHeaderClasses",value:function(i){for(var o,s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=vd(Gu(t.prototype),"updateHeaderClasses",this)).call.apply(o,[this,i].concat(a)),Bi(i,Qnt(i)),!1!==this.enabled&&Rn(i,Jnt.apply(void 0,a))}},{key:"onUpdateSettings",value:function(i){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[bde]&&vde(),vd(Gu(t.prototype),"onUpdateSettings",this).call(this,i)}},{key:"onAfterOnCellMouseDown",value:function(i,o){!1!==VY(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(o.col),this.sort(this.getNextSortConfig(o.col,"append"))):this.sort(this.getColumnNextConfig(o.col)))}}],[{key:"PLUGIN_KEY",get:function(){return n6}},{key:"PLUGIN_PRIORITY",get:function(){return 170}}]),t}(Hae);function r6(n){return(r6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function wde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ON(){return ON="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=frt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ON.apply(this,arguments)}function frt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Bx(n)););return n}function i6(n,e){return(i6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function grt(n,e){if(e&&("object"===r6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function vrt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Bx(n){return(Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var wrt=function(n){!function prt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&i6(n,e)}(t,n);var e=function mrt(n){var e=function yrt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Bx(n);if(e){var o=Bx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return grt(this,i)}}(t);function t(r){var i;return function drt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).dragged=[],i.eventManager=null,i.lastSetCell=null,i}return function hrt(n,e,t){e&&wde(n.prototype,e),t&&wde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return np()}},{key:"enablePlugin",value:function(){this.enabled||(this.eventManager||(this.eventManager=new ra(this)),this.registerListeners(),ON(Bx(t.prototype),"enablePlugin",this).call(this))}},{key:"registerListeners",value:function(){var i=this,o=this,s=this.hot.rootElement;function a(u){if(1===o.dragged.length)return o.dragged.splice(0,o.dragged.length),!0;var c=o.dragged.indexOf(u);if(-1===c)return!1;0===c?o.dragged=o.dragged.slice(0,1):1===c&&(o.dragged=o.dragged.slice(-1))}this.eventManager.addEventListener(s,"touchstart",function(u){var c;return Ci(u.target,"topSelectionHandle-HitArea")?(c=o.hot.getSelectedRangeLast(),o.dragged.push("top"),o.touchStartRange={width:c.getWidth(),height:c.getHeight(),direction:c.getDirection()},u.preventDefault(),!1):Ci(u.target,"bottomSelectionHandle-HitArea")?(c=o.hot.getSelectedRangeLast(),o.dragged.push("bottom"),o.touchStartRange={width:c.getWidth(),height:c.getHeight(),direction:c.getDirection()},u.preventDefault(),!1):void 0}),this.eventManager.addEventListener(s,"touchend",function(u){return Ci(u.target,"topSelectionHandle-HitArea")?(a.call(o,"top"),o.touchStartRange=void 0,u.preventDefault(),!1):Ci(u.target,"bottomSelectionHandle-HitArea")?(a.call(o,"bottom"),o.touchStartRange=void 0,u.preventDefault(),!1):void 0}),this.eventManager.addEventListener(s,"touchmove",function(u){var h,p,g,y,w,S;if(0!==o.dragged.length){var C=i.hot.rootDocument.elementFromPoint(u.touches[0].clientX,u.touches[0].clientY);!C||C===o.lastSetCell||(("TD"===C.nodeName||"TH"===C.nodeName)&&(-1===(h=o.hot.getCoords(C)).col&&(h.col=0),g=(p=o.hot.getSelectedRangeLast()).getWidth(),y=p.getHeight(),w=p.getDirection(),1===g&&1===y&&o.hot.selection.setRangeEnd(h),null!==(S=o.getCurrentRangeCoords(p,h,o.touchStartRange.direction,w,o.dragged[0])).start&&o.hot.selection.setRangeStart(S.start),o.hot.selection.setRangeEnd(S.end),o.lastSetCell=C),u.preventDefault())}})}},{key:"getCurrentRangeCoords",value:function(i,o,s,a,u){var c=i.getTopStartCorner(),h=i.getBottomEndCorner(),p=i.getBottomStartCorner(),g=i.getTopEndCorner(),y={start:null,end:null};switch(s){case"NE-SW":switch(a){case"NE-SW":case"NW-SE":y="top"===u?{start:this.hot._createCellCoords(o.row,i.highlight.col),end:this.hot._createCellCoords(p.row,o.col)}:{start:this.hot._createCellCoords(i.highlight.row,o.col),end:this.hot._createCellCoords(o.row,c.col)};break;case"SE-NW":"bottom"===u&&(y={start:this.hot._createCellCoords(h.row,o.col),end:this.hot._createCellCoords(o.row,c.col)})}break;case"NW-SE":switch(a){case"NE-SW":"top"===u?y={start:o,end:p}:y.end=o;break;case"NW-SE":"top"===u?y={start:o,end:h}:y.end=o;break;case"SE-NW":"top"===u?y={start:o,end:c}:y.end=o;break;case"SW-NE":"top"===u?y={start:o,end:g}:y.end=o}break;case"SW-NE":switch(a){case"NW-SE":y="bottom"===u?{start:this.hot._createCellCoords(o.row,c.col),end:this.hot._createCellCoords(p.row,o.col)}:{start:this.hot._createCellCoords(c.row,o.col),end:this.hot._createCellCoords(o.row,h.col)};break;case"SW-NE":y="top"===u?{start:this.hot._createCellCoords(i.highlight.row,o.col),end:this.hot._createCellCoords(o.row,h.col)}:{start:this.hot._createCellCoords(o.row,c.col),end:this.hot._createCellCoords(c.row,o.col)};break;case"SE-NW":"bottom"===u?y={start:this.hot._createCellCoords(o.row,g.col),end:this.hot._createCellCoords(c.row,o.col)}:"top"===u&&(y={start:p,end:o})}break;case"SE-NW":switch(a){case"NW-SE":case"NE-SW":case"SW-NE":"top"===u&&(y.end=o);break;case"SE-NW":"top"===u?y.end=o:y={start:o,end:c}}}return y}},{key:"isDragged",value:function(){return this.dragged.length>0}}],[{key:"PLUGIN_KEY",get:function(){return"multipleSelectionHandles"}},{key:"PLUGIN_PRIORITY",get:function(){return 160}}]),t}(Zo);function o6(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.label,t=void 0===e?"":e,r=n.colspan,i=void 0===r?1:r,o=n.origColspan,s=void 0===o?1:o,a=n.collapsible,u=void 0!==a&&a,c=n.crossHiddenColumns,h=void 0===c?[]:c,p=n.isCollapsed,g=void 0!==p&&p,y=n.isHidden,w=void 0!==y&&y,S=n.isRoot,C=void 0!==S&&S,P=n.isPlaceholder,B=void 0!==P&&P;return{label:t,colspan:i,origColspan:s,collapsible:u,isCollapsed:g,crossHiddenColumns:h,isHidden:w,isRoot:C,isPlaceholder:B}}function Sde(n){return function Crt(n){if(Array.isArray(n))return s6(n)}(n)||function xrt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Srt(n,e){if(n){if("string"==typeof n)return s6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s6(n,e)}}(n)||function Mrt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ert(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,t=[];if(0===e)return t;tt(n,function(i){var o=[],s=0;t.push(o),tt(i,function(a){var u=o6();if(Yi(a)){var h=a.colspan;u.label=Sa(a.label),"number"==typeof h&&h>1&&(u.colspan=h,u.origColspan=h)}else u.label=Sa(a);var p=!1;if((s+=u.origColspan)>=e&&(u.colspan=u.origColspan-(s-e),u.origColspan=u.colspan,p=!0),o.push(u),u.colspan>1)for(var g=0;g<u.colspan-1;g++)o.push({label:"",isPlaceholder:!0});return!p})});var r=Math.max.apply(Math,Sde(Ji(t,function(i){return i.length})));return tt(t,function(i){if(i.length<r){var o=Ji(new Array(r-i.length),function(){return o6()});i.splice.apply(i,[i.length,0].concat(Sde(o)))}}),t}var Trt=["row","col"];function xde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Drt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function a6(n,e,t){(function Prt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function hf(n,e){return function Irt(n,e){return e.get?e.get.call(n):e.value}(n,Ede(n,e,"get"))}function cR(n,e,t){return function Nrt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Ede(n,e,"set"),t),t}function Ede(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Tde=["label","collapsible"],sg=new WeakMap,Ow=new WeakMap,l6=new WeakMap,Frt=function(){function n(){(function krt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),a6(this,sg,{writable:!0,value:[]}),a6(this,Ow,{writable:!0,value:0}),a6(this,l6,{writable:!0,value:1/0})}return function Lrt(n,e,t){e&&Cde(n.prototype,e),t&&Cde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setColumnsLimit",value:function(t){cR(this,l6,t)}},{key:"setData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];cR(this,sg,Ert(t,hf(this,l6))),cR(this,Ow,hf(this,sg).length)}},{key:"getData",value:function(){return hf(this,sg)}},{key:"mergeWith",value:function(t){var r=this;tt(t,function(i){var o=i.row,s=i.col,a=function Art(n,e){if(null==n)return{};var r,i,t=function Ort(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(i,Trt),u=r.getHeaderSettings(o,s);null!==u&&ta(u,a,Tde)})}},{key:"map",value:function(t){tt(hf(this,sg),function(r){tt(r,function(i){var o=t(function Rrt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?xde(Object(t),!0).forEach(function(r){Drt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({},i));Yi(o)&&ta(i,o,Tde)})})}},{key:"getHeaderSettings",value:function(t,r){var i;if(t>=hf(this,Ow)||t<0)return null;var o=hf(this,sg)[t];return r>=o.length?null:null!==(i=o[r])&&void 0!==i?i:null}},{key:"getHeadersSettings",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=[];if(t>=hf(this,Ow)||t<0)return o;for(var s=hf(this,sg)[t],a=0,u=r;u<s.length;u++){var c=s[u];if(c.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(a+=c.colspan,o.push(c),c.colspan>1&&(u+=c.colspan-1),a===i)break;if(a>i)throw new Error("The last column settings cannot overlap the other header layers")}return o}},{key:"getLayersCount",value:function(){return hf(this,Ow)}},{key:"getColumnsCount",value:function(){return hf(this,Ow)>0?hf(this,sg)[0].length:0}},{key:"clear",value:function(){cR(this,sg,[]),cR(this,Ow,0)}}]),n}();function Rde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Dde(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Rde(Object(t),!0).forEach(function(r){kN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ade(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function kN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Pde=new Map([["DF-pre-order",function Ode(n,e){for(var t=n.call(e,this),r=0;r<this.childs.length;r++){if(!1===t)return!1;t=Ode.call(this.childs[r],n,e)}return t}],["DF-post-order",function kde(n,e){for(var t=0;t<this.childs.length;t++)if(!1===kde.call(this.childs[t],n,e))return!1;return n.call(e,this)}],["BF",function $rt(n,e){var t=[this];!function r(){if(0!==t.length){var i=t.shift();t.push.apply(t,function Vrt(n){return function Wrt(n){if(Array.isArray(n))return u6(n)}(n)||function jrt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Urt(n,e){if(n){if("string"==typeof n)return u6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u6(n,e)}}(n)||function zrt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.childs)),!1!==n.call(e,i)&&r()}}()}]]),Ide=function(){function n(e){(function Hrt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),kN(this,"data",{}),kN(this,"parent",null),kN(this,"childs",[]),this.data=e}return function Brt(n,e,t){e&&Ade(n.prototype,e),t&&Ade(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addChild",value:function(t){t.parent=this,this.childs.push(t)}},{key:"cloneTree",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,r=new n(Dde({},t.data)),i=0;i<t.childs.length;i++)r.addChild(this.cloneTree(t.childs[i]));return r}},{key:"replaceTreeWith",value:function(t){this.data=Dde({},t.data),this.childs=[];for(var r=0;r<t.childs.length;r++)this.addChild(t.childs[r])}},{key:"walkDown",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BF";if(!Pde.has(r))throw new Error('Traversal strategy "'.concat(r,'" does not exist'));Pde.get(r).call(this,t,this)}},{key:"walkUp",value:function(t){var r=this;!function o(s){!1!==t.call(r,s)&&null!==s.parent&&o(s.parent)}(this)}}]),n}();function Nde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fde(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Nde(Object(t),!0).forEach(function(r){Krt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Nde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Krt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Hde(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Bde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function c6(n,e,t){(function rit(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function $u(n,e){return function iit(n,e){return e.get?e.get.call(n):e.value}(n,Vde(n,e,"get"))}function Vde(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Ude,jde,Vx=new WeakMap,kw=new WeakMap,zx=new WeakMap,ait=function(){function n(e){(function tit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),c6(this,Vx,{writable:!0,value:new Map}),c6(this,kw,{writable:!0,value:new Map}),c6(this,zx,{writable:!0,value:null}),function oit(n,e,t){return function sit(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Vde(n,e,"set"),t),t}(this,zx,e)}return function nit(n,e,t){e&&Bde(n.prototype,e),t&&Bde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getRoots",value:function(){return Array.from($u(this,Vx).values())}},{key:"getRootByColumn",value:function(t){var r;return $u(this,kw).has(t)&&(r=$u(this,Vx).get($u(this,kw).get(t))),r}},{key:"getNode",value:function(t,r){var i=this.getRootByColumn(r);if(i){var a,o=r-$u(this,kw).get(r),s=0;return i.walkDown(function(u){var c=u.data,h=c.origColspan;if(t===c.headerLevel){if(o>=s&&o<=s+h-1)return a=u,!1;s+=h}}),a}}},{key:"rebuildTreeIndex",value:function(){var t=this,r=0;$u(this,kw).clear(),tt($u(this,Vx),function(i){for(var s=function Zrt(n,e){return function eit(n){if(Array.isArray(n))return n}(n)||function Qrt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||function Jrt(n,e){if(n){if("string"==typeof n)return Hde(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hde(n,e)}}(n,e)||function qrt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i,2)[1].data.colspan,a=r;a<r+s;a++)$u(t,kw).set(a,r);r+=s})}},{key:"buildTree",value:function(){this.clear();for(var t=$u(this,zx).getColumnsCount(),r=0;r<t;){var i=$u(this,zx).getHeaderSettings(0,r),o=new Ide;$u(this,Vx).set(r,o),this.buildLeaves(o,r,0,i.origColspan),r+=i.origColspan}this.rebuildTreeIndex()}},{key:"buildLeaves",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=$u(this,zx).getHeadersSettings(i,r,s);i+=1,tt(a,function(u){var h,c=Fde(Fde({},u),{},{headerLevel:i-1,columnIndex:r});1===i?(t.data=c,h=t):(h=new Ide(c),t.addChild(h)),i<$u(o,zx).getLayersCount()&&o.buildLeaves(h,r,i,u.origColspan),r+=u.origColspan})}},{key:"clear",value:function(){$u(this,Vx).clear(),$u(this,kw).clear()}}]),n}();function zde(n,e){n.walkDown(function(t){var r=t.data,i=t.childs;if(!r.isHidden&&(e(r.columnIndex),0===i.length))for(var o=1;o<r.colspan;o++)e(r.columnIndex+o)})}function LN(n,e){var t=n.childs;if(0!==t.length)return t[0].data[e]}function PN(n){return LN(n,"origColspan")===n.data.origColspan}function d6(n){var e=n.data,t=n.childs;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};if(PN(n))return d6(t[0]);e.isCollapsed=!1;var i=t.slice(1),o=new Set,s=0;if(i.length>0)tt(i,function(p){p.replaceTreeWith(p.data.clonedTree),p.data.clonedTree=null,s+=p.data.colspan,zde(p,function(y){o.add(y)})});else{var u=e.origColspan,c=e.columnIndex;s=u-e.colspan;for(var h=1;h<u;h++)o.add(c+h)}return n.walkUp(function(p){var g=p.data;g.colspan+=s,g.colspan>=g.origColspan?(g.colspan=g.origColspan,g.isCollapsed=!1):PN(p)&&(g.isCollapsed=LN(p,"isCollapsed"))}),{rollbackModification:function(){return h6(n)},affectedColumns:Array.from(o),colspanCompensation:s}}function h6(n){var e,t=n.data,r=n.childs;if(t.isCollapsed||t.isHidden||t.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};if(PN(n))return h6(r[0]);t.isCollapsed=!0;var o=r.slice(1),s=new Set;if(o.length>0)tt(o,function(g){zde(g,function(y){s.add(y)}),g.data.clonedTree=g.cloneTree(),g.walkDown(function(y){y.data.isHidden=!0})});else for(var a=t.origColspan,u=t.columnIndex,c=1;c<a;c++)s.add(u+c);var p=t.colspan-(null!==(e=LN(n,"colspan"))&&void 0!==e?e:1);return n.walkUp(function(g){var y=g.data;y.colspan-=p,y.colspan<=1?(y.colspan=1,y.isCollapsed=!0):PN(g)&&(y.isCollapsed=LN(g,"isCollapsed"))}),{rollbackModification:function(){return d6(n)},affectedColumns:Array.from(s),colspanCompensation:p}}var Wde=new Map([["collapse",h6],["expand",d6],["hide-column",function uit(n,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(n.childs.length>0)throw new Error(ds(Ude||(Ude=function lit(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The passed node is not the last node on the tree. Only for \nthe last node, the hide column modification can be applied."],["The passed node is not the last node on the tree. Only for\\x20\nthe last node, the hide column modification can be applied."]))));if(!n.data.crossHiddenColumns.includes(e)){var r=!1;n.walkUp(function(i){if(i.data.collapsible)return r=!0,!1}),!r&&n.walkUp(function(i){var o=i.data;o.crossHiddenColumns.push(e),o.colspan>1?o.colspan-=1:o.isHidden=!0})}}],["show-column",function dit(n,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(n.childs.length>0)throw new Error(ds(jde||(jde=function cit(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The passed node is not the last node on the tree. Only for \nthe last node, the show column modification can be applied."],["The passed node is not the last node on the tree. Only for\\x20\nthe last node, the show column modification can be applied."]))));if(n.data.crossHiddenColumns.includes(e)){var r=!1;n.walkUp(function(i){if(i.data.collapsible)return r=!0,!1}),!r&&n.walkUp(function(i){var o=i.data;o.crossHiddenColumns.splice(o.crossHiddenColumns.indexOf(e),1),!o.isHidden&&o.colspan<o.origColspan&&(o.colspan+=1),o.isHidden=!1})}}]]),fit=["crossHiddenColumns"];function IN(n){var e=[];return tt(n,function(t){t.walkDown(function(r){for(var i=r.data,o=i.origColspan,s=i.columnIndex,u=i.crossHiddenColumns,c=function vit(n,e){var t;return Array.isArray(n[e])?t=n[e]:n[e]=t=[],t}(e,i.headerLevel),h=!1,p=s;p<s+o;p++)if(u.includes(p)||h)c.push({label:"",isPlaceholder:!0});else{var y=git(i);y.isRoot=!0,c.push(y),h=!0}})}),e}function git(n){return function pit(n,e){if(null==n)return{};var r,i,t=function mit(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(o6(n),fit)}var yit=["row"];function Yde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Gde(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Yde(Object(t),!0).forEach(function(r){_it(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _it(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $de(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function f6(n,e,t){(function xit(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function dR(n,e,t){return function Cit(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Xde(n,e,"set"),t),t}function fa(n,e){return function Eit(n,e){return e.get?e.get.call(n):e.value}(n,Xde(n,e,"get"))}function Xde(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var yp=new WeakMap,yd=new WeakMap,Lw=new WeakMap,Tit=function(){function n(){(function Mit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),f6(this,yp,{writable:!0,value:new Frt}),f6(this,yd,{writable:!0,value:new ait(fa(this,yp))}),f6(this,Lw,{writable:!0,value:[[]]})}return function Sit(n,e,t){e&&$de(n.prototype,e),t&&$de(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setState",value:function(t){fa(this,yp).setData(t);var r=!1;try{fa(this,yd).buildTree()}catch(i){fa(this,yd).clear(),fa(this,yp).clear(),r=!0}return dR(this,Lw,IN(fa(this,yd).getRoots())),r}},{key:"setColumnsLimit",value:function(t){fa(this,yp).setColumnsLimit(t)}},{key:"mergeStateWith",value:function(t){var r=this,i=Ji(t,function(o){var s=o.row,a=function bit(n,e){if(null==n)return{};var r,i,t=function wit(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(o,yit);return Gde({row:s<0?r.rowCoordsToLevel(s):s},a)});fa(this,yp).mergeWith(i),fa(this,yd).buildTree(),dR(this,Lw,IN(fa(this,yd).getRoots()))}},{key:"mapState",value:function(t){fa(this,yp).map(t),fa(this,yd).buildTree(),dR(this,Lw,IN(fa(this,yd).getRoots()))}},{key:"mapNodes",value:function(t){return Ua(fa(this,yd).getRoots(),function(r,i){return i.walkDown(function(o){var s=t(o.data);void 0!==s&&r.push(s)}),r},[])}},{key:"triggerNodeModification",value:function(t,r,i){r<0&&(r=this.rowCoordsToLevel(r));var s,o=fa(this,yd).getNode(r,i);return o&&(s=function hit(n,e,t){if(!Wde.has(n))throw new Error('The node modifier action ("'.concat(n,'") does not exist.'));return Wde.get(n)(e,t)}(t,o,i),dR(this,Lw,IN(fa(this,yd).getRoots()))),s}},{key:"triggerColumnModification",value:function(t,r){return this.triggerNodeModification(t,-1,r)}},{key:"rowCoordsToLevel",value:function(t){var r=Math.max(this.getLayersCount(),1),i=r-1;return Math.min(Math.max(t+r,0),i)}},{key:"levelToRowCoords",value:function(t){var r=Math.max(this.getLayersCount(),1);return Math.min(Math.max(t-r,-r),-1)}},{key:"getHeaderSettings",value:function(t,r){var i,o;return t<0&&(t=this.rowCoordsToLevel(t)),t>=this.getLayersCount()?null:null!==(i=null===(o=fa(this,Lw)[t])||void 0===o?void 0:o[r])&&void 0!==i?i:null}},{key:"getHeaderTreeNodeData",value:function(t,r){t<0&&(t=this.rowCoordsToLevel(t));var i=fa(this,yd).getNode(t,r);return i?Gde({},i.data):null}},{key:"findLeftMostColumnIndex",value:function(t,r){var i;if((null!==(i=this.getHeaderSettings(t,r))&&void 0!==i?i:{isRoot:!0}).isRoot)return r;for(var a=r-1;a>=0;){var u;if((null!==(u=this.getHeaderSettings(t,a))&&void 0!==u?u:{isRoot:!0}).isRoot)break;a-=1}return a}},{key:"getLayersCount",value:function(){return fa(this,yp).getLayersCount()}},{key:"getColumnsCount",value:function(){return fa(this,yp).getColumnsCount()}},{key:"clear",value:function(){dR(this,Lw,[]),fa(this,yp).clear(),fa(this,yd).clear()}}]),n}();function Kde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hR(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Oit=function(){function n(e,t){(function Rit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),hR(this,"hot",void 0),hR(this,"nestedHeaderSettingsGetter",void 0),hR(this,"layersCount",0),hR(this,"container",void 0),hR(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=t,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}return function Dit(n,e,t){e&&Kde(n.prototype,e),t&&Kde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setLayersCount",value:function(t){return this.layersCount=t,this}},{key:"getWidth",value:function(t){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(t))}},{key:"buildWidthsMap",value:function(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);var t=this.container.querySelectorAll("tr:last-of-type th"),r=t.length;this.widthsMap.clear();for(var i=0;i<r;i++){var o=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i),s=this.hot.toPhysicalColumn(o);this.widthsMap.setValueAtIndex(s,t[i].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}},{key:"_buildGhostTable",value:function(t){for(var r=this.hot,i=r.rootDocument,o=r.columnIndexMapper,s=i.createDocumentFragment(),a=i.createElement("table"),u=!!this.hot.getSettings().dropdownMenu,c=o.getRenderableIndexesLength(),h=0;h<this.layersCount;h++){for(var p=i.createElement("tr"),g=0;g<c;g++){var y=o.getVisualFromRenderableIndex(g);null===y&&(y=g);var w=i.createElement("th"),S=this.nestedHeaderSettingsGetter(h,y);if(S&&(!S.isPlaceholder||S.isHidden)){var C=S.label;u&&(C+='<button class="changeType"></button>'),Pb(w,C),w.colSpan=S.colspan,p.appendChild(w)}}a.appendChild(p)}s.appendChild(a),t.appendChild(s)}},{key:"clear",value:function(){this.widthsMap.clear(),this.container=null}}]),n}();function p6(n){return(p6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Zde,qde;function Jde(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function kit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Qde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Pw(){return Pw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Pit(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Pw.apply(this,arguments)}function Pit(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ag(n)););return n}function m6(n,e){return(m6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Fit(n,e){if(e&&("object"===p6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fR(n)}function fR(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ag(n){return(ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function ehe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function the(n,e,t){(function Bit(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function NN(n,e,t){return function Vit(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,nhe(n,e,"set"),t),t}function Wa(n,e){return function zit(n,e){return e.get?e.get.call(n):e.value}(n,nhe(n,e,"get"))}function nhe(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var rhe="nestedHeaders",Dl=new WeakMap,Ry=new WeakMap,jit=function(n){!function Iit(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&m6(n,e)}(t,n);var e=function Nit(n){var e=function Hit(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ag(n);if(e){var o=ag(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Fit(this,i)}}(t);function t(){var r;kit(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return the(fR(r=e.call.apply(e,[this].concat(o))),Dl,{writable:!0,value:new Tit}),the(fR(r),Ry,{writable:!0,value:null}),ehe(fR(r),"ghostTable",new Oit(r.hot,function(a,u){return r.getHeaderSettings(a,u)})),ehe(fR(r),"detectedOverlappedHeaders",!1),r}return function Lit(n,e,t){e&&Qde(n.prototype,e),t&&Qde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[rhe]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var s=this.hot.getSettings().nestedHeaders;(!Array.isArray(s)||!Array.isArray(s[0]))&&Cs(ds(Zde||(Zde=Jde(["Your Nested Headers plugin configuration is invalid. The settings has to be \n                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]"],["Your Nested Headers plugin configuration is invalid. The settings has to be\\x20\n                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]"])))),this.addHook("init",function(){return i.onInit()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("afterOnCellMouseDown",function(){return i.onAfterOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterGetColumnHeaderRenderers",function(a){return i.onAfterGetColumnHeaderRenderers(a)}),this.addHook("modifyColWidth",function(){return i.onModifyColWidth.apply(i,arguments)}),this.addHook("beforeHighlightingColumnHeader",function(){return i.onBeforeHighlightingColumnHeader.apply(i,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return i.onAfterViewportColumnCalculatorOverride.apply(i,arguments)}),Pw(ag(t.prototype),"enablePlugin",this).call(this),this.updatePlugin()}}},{key:"updatePlugin",value:function(){var i=this;if(this.hot.view){var s=this.hot.getSettings().nestedHeaders;Wa(this,Dl).setColumnsLimit(this.hot.countCols()),Array.isArray(s)&&(this.detectedOverlappedHeaders=Wa(this,Dl).setState(s)),this.detectedOverlappedHeaders&&Cs(ds(qde||(qde=Jde(["Your Nested Headers plugin setup contains overlapping headers. This kind of configuration \n                        is currently not supported."],["Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\\x20\n                        is currently not supported."])))),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach(function(a,u){var c=!0===a?"hide-column":"show-column";Wa(i,Dl).triggerColumnModification(c,u)}),!Wa(this,Ry)&&this.enabled&&NN(this,Ry,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(function(a){a.forEach(function(u){var h=u.index;if("replace"===u.op){var g=!0===u.newValue?"hide-column":"show-column";Wa(i,Dl).triggerColumnModification(g,h)}}),i.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),Pw(ag(t.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.clearColspans(),Wa(this,Dl).clear(),Wa(this,Ry).unsubscribe(),NN(this,Ry,null),this.ghostTable.clear(),Pw(ag(t.prototype),"disablePlugin",this).call(this)}},{key:"getStateManager",value:function(){return Wa(this,Dl)}},{key:"getLayersCount",value:function(){return Wa(this,Dl).getLayersCount()}},{key:"getHeaderSettings",value:function(i,o){return Wa(this,Dl).getHeaderSettings(i,o)}},{key:"clearColspans",value:function(){if(this.hot.view)for(var i=this.hot.view._wt,o=i.getSetting("columnHeaders").length,s=i.wtTable.THEAD,a=i.wtOverlays.topOverlay.clone.wtTable.THEAD,u=i.wtOverlays.topInlineStartCornerOverlay?i.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,c=0;c<o;c++){var h=s.childNodes[c];if(!h)break;for(var p=a.childNodes[c],g=u?u.childNodes[c]:null,y=0,w=h.childNodes.length;y<w;y++)h.childNodes[y].removeAttribute("colspan"),Bi(h.childNodes[y],"hiddenHeader"),p&&p.childNodes[y]&&(p.childNodes[y].removeAttribute("colspan"),Bi(p.childNodes[y],"hiddenHeader")),u&&g&&g.childNodes[y]&&(g.childNodes[y].removeAttribute("colspan"),Bi(g.childNodes[y],"hiddenHeader"))}}},{key:"headerRendererFactory",value:function(i){var o=this,s=this.hot.view._wt.getSetting("fixedColumnsStart");return function(a,u){var c,h=o.hot,p=h.rootDocument,y=h.view,w=h.columnIndexMapper.getVisualFromRenderableIndex(a);null===w&&(w=a),u.removeAttribute("colspan"),Bi(u,"hiddenHeader");var S=null!==(c=Wa(o,Dl).getHeaderSettings(i,w))&&void 0!==c?c:{label:""},C=S.colspan,P=S.label;if(S.isPlaceholder||S.isHidden)Rn(u,"hiddenHeader");else if(C>1){var j,X,ie=y._wt.wtOverlays,me=null===(j=ie.topInlineStartCornerOverlay)||void 0===j?void 0:j.clone.wtTable.THEAD.contains(u),re=null===(X=ie.inlineStartOverlay)||void 0===X?void 0:X.clone.wtTable.THEAD.contains(u),pe=me||re?Math.min(C,s-a):C;pe>1&&u.setAttribute("colspan",pe)}var we=p.createElement("div"),Le=p.createElement("span");Rn(we,"relative"),Rn(Le,"colHeader"),Pb(Le,P),we.appendChild(Le),af(u),u.appendChild(we),o.hot.runHooks("afterGetColHeader",w,u)}}},{key:"onBeforeHighlightingColumnHeader",value:function(i,o,s){var a=Wa(this,Dl).getHeaderTreeNodeData(o,i);if(!a)return i;var u=s.classNames,c=s.columnCursor,h=s.selectionType,p=s.selectionWidth,g=Wa(this,Dl).getHeaderSettings(o,i),y=g.isRoot;if(h===T1){if(!y)return a.columnIndex}else h===HP&&(g.colspan>p-c||!y)&&(u.length=0);return i}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){this._getHeaderTreeNodeDataByCoords(o)&&(a.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(i,o){var s=this._getHeaderTreeNodeDataByCoords(o);if(s){var a=this.hot.selection,u=a.isSelected()?a.getSelectedRange().current():null,c=[],h=s.columnIndex,p=s.origColspan,g=!a.inInSelection(o);i.shiftKey&&u?o.col<u.from.col?c.push(u.getTopEndCorner().col,h,o.row):c.push(o.col>u.from.col?u.getTopStartCorner().col:h,h+p-1,o.row):(qV(i)||Fb(i)&&g)&&c.push(h,h+p-1,o.row),a.selectColumns.apply(a,c)}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u;if(this.hot.view.isMouseDown()){var c=this._getHeaderTreeNodeDataByCoords(o);if(c){var h=c.columnIndex,p=c.origColspan,g=this.hot.getSelectedRangeLast(),y=g.getTopStartCorner(),w=g.getBottomEndCorner(),S=g.from;a.column=!0,a.cell=!0;var C=[];o.col<S.col?C.push(w.col,h):C.push(o.col>S.col?y.col:h,h+p-1),(u=this.hot).selectColumns.apply(u,C)}}}},{key:"onAfterGetColumnHeaderRenderers",value:function(i){if(i){i.length=0;for(var o=0;o<Wa(this,Dl).getLayersCount();o++)i.push(this.headerRendererFactory(o))}}},{key:"onAfterViewportColumnCalculatorOverride",value:function(i){for(var o=Wa(this,Dl).getLayersCount(),s=i.startColumn,a=!!o,u=0;u<o;u++){var c=Wa(this,Dl).findLeftMostColumnIndex(u,i.startColumn),h=this.hot.columnIndexMapper.getRenderableFromVisualIndex(c);if(c>=0&&(a=!1),eh(h)&&h<i.startColumn){s=h;break}}i.startColumn=a?Wa(this,Dl).getHeaderTreeNodeData(0,s).columnIndex:s}},{key:"onModifyColWidth",value:function(i,o){var s=this.ghostTable.getWidth(o);return i>s?i:s}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(i,o){o||this.updatePlugin()}},{key:"destroy",value:function(){NN(this,Dl,null),null!==Wa(this,Ry)&&(Wa(this,Ry).unsubscribe(),NN(this,Ry,null)),Pw(ag(t.prototype),"destroy",this).call(this)}},{key:"_getHeaderTreeNodeDataByCoords",value:function(i){if(!(i.row>=0||i.col<0))return Wa(this,Dl).getHeaderTreeNodeData(i.row,i.col)}}],[{key:"PLUGIN_KEY",get:function(){return rhe}},{key:"PLUGIN_PRIORITY",get:function(){return 280}}]),t}(Zo);function ihe(n){return function $it(n){if(Array.isArray(n))return g6(n)}(n)||function Git(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Yit(n,e){if(n){if("string"==typeof n)return g6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g6(n,e)}}(n)||function Wit(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function v6(n){return(v6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ohe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const qit=function(){function n(e,t){(function Xit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=t,this.data=null,this.plugin=e,this.parentReference=new WeakMap,this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}}return function Kit(n,e,t){e&&ohe(n.prototype,e),t&&ohe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setData",value:function(t){this.data=t}},{key:"getData",value:function(){return this.data}},{key:"getRawSourceData",value:function(){var t;return this.plugin.disableCoreAPIModifiers(),t=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),t}},{key:"updateWithData",value:function(t){this.setData(t),this.rewriteCache()}},{key:"rewriteCache",value:function(){var t=this;this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Vr(0,this.data.length-1,function(r){t.cacheNode(t.data[r],0,null)})}},{key:"cacheNode",value:function(t,r,i){var o=this;this.cache.levels[r]||(this.cache.levels[r]=[],this.cache.levelCount+=1),this.cache.levels[r].push(t),this.cache.rows.push(t),this.cache.nodeInfo.set(t,{parent:i,row:this.cache.rows.length-1,level:r}),this.hasChildren(t)&&tt(t.__children,function(s){o.cacheNode(s,r+1,t)})}},{key:"getDataObject",value:function(t){return null==t?null:this.cache.rows[t]}},{key:"readTreeNodes",value:function(t,r,i,o){var s=this,a=!1,u=r;if(isNaN(u)&&u.end)return u;var c=t;return c||(c={__children:this.data},a=!0,u-=1),null!=i&&u===i?{result:c,end:!0}:null!=o&&c===o?{result:u,end:!0}:(u+=1,c.__children&&tt(c.__children,function(h){if(s.parentReference.set(h,a?null:c),u=s.readTreeNodes(h,u,i,o),isNaN(u)&&u.end)return!1}),u)}},{key:"mockParent",value:function(){var t=this.mockNode();return t.__children=this.data,t}},{key:"mockNode",value:function(){var t={};return io(this.data[0],function(r,i){t[i]=null}),t}},{key:"getRowIndex",value:function(t){return null==t?null:this.cache.nodeInfo.get(t).row}},{key:"getRowIndexWithinParent",value:function(t){var r;r=isNaN(t)?t:this.getDataObject(t);var i=this.getRowParent(t);return null==i?this.data.indexOf(r):i.__children.indexOf(r)}},{key:"countAllRows",value:function(){return this.countChildren({__children:this.data})}},{key:"countChildren",value:function(t){var r=this,i=0,o=t;return isNaN(o)||(o=this.getDataObject(o)),o&&o.__children?(tt(o.__children,function(s){i+=1,s.__children&&(i+=r.countChildren(s))}),i):0}},{key:"getRowParent",value:function(t){var r;return r=isNaN(t)?t:this.getDataObject(t),this.getRowObjectParent(r)}},{key:"getRowObjectParent",value:function(t){return t&&"object"===v6(t)?this.cache.nodeInfo.get(t).parent:null}},{key:"getRowLevel",value:function(t){var r;return(r=isNaN(t)?t:this.getDataObject(t))?this.getRowObjectLevel(r):null}},{key:"getRowObjectLevel",value:function(t){return null==t?null:this.cache.nodeInfo.get(t).level}},{key:"hasChildren",value:function(t){var r=t;return isNaN(r)||(r=this.getDataObject(r)),!(!r.__children||!r.__children.length)}},{key:"isChild",value:function(t){return null!==this.getRowParent(t)}},{key:"getChild",value:function(t,r){var i;return(null===(i=t.__children)||void 0===i?void 0:i[r])||null}},{key:"isRowHighestLevel",value:function(t){return!this.isChild(t)}},{key:"isParent",value:function(t){var r,i=t;return isNaN(i)||(i=this.getDataObject(i)),i&&!!i.__children&&0!==(null===(r=i.__children)||void 0===r?void 0:r.length)}},{key:"addChild",value:function(t,r){var i=r;this.hot.runHooks("beforeAddChild",t,i);var o=null;t&&(o=this.getRowIndex(t)),this.hot.runHooks("beforeCreateRow",o+this.countChildren(t)+1,1);var s=t;t||(s=this.mockParent()),s.__children||(s.__children=[]),i||(i=this.mockNode()),s.__children.push(i),this.rewriteCache();var a=this.getRowIndex(i);this.hot.rowIndexMapper.insertIndexes(a,1),this.hot.runHooks("afterCreateRow",a,1),this.hot.runHooks("afterAddChild",t,i)}},{key:"addChildAtIndex",value:function(t,r,i){var s,o=i;if(o||(o=this.mockNode()),this.hot.runHooks("beforeAddChild",t,o,r),t){var u=this.getRowIndex(t)+r+1;this.hot.runHooks("beforeCreateRow",u,1),t.__children.splice(r,null,o),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(t),"__children",t.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(u,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",u,1),s=u}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row",r,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),s=this.getRowIndex(this.data[r]);o=this.getDataObject(s),this.hot.runHooks("afterAddChild",t,o,r)}},{key:"addSibling",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"below",i=this.translateTrimmedRow(t),o=this.getRowParent(i),s=this.getRowIndexWithinParent(i);switch(r){case"below":this.addChildAtIndex(o,s+1,null);break;case"above":this.addChildAtIndex(o,s,null)}}},{key:"detachFromParent",value:function(t){var r=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=null,s=[];Array.isArray(t)?(Vr(t[0],t[2],function(P){var B=r.translateTrimmedRow(P);s.push(r.getDataObject(B))}),Vr(0,s.length-2,function(P){r.detachFromParent(s[P],!1)}),o=s[s.length-1]):o=t;var a=this.getRowIndex(o),u=this.countChildren(o),c=this.getRowIndexWithinParent(o),h=this.getRowParent(o),p=this.getRowParent(h),g=this.getRowIndex(p),y=null;if(this.hot.runHooks("beforeDetachChild",h,o),null!=c){var w=Array.from(new Array(a+u+1).keys()).splice(-1*(u+1));if(this.hot.runHooks("beforeRemoveRow",a,u+1,w,this.plugin.pluginName),h.__children.splice(c,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",a,u+1,w,this.plugin.pluginName),p){y=g+this.countChildren(p);var S=this.getChild(p,this.countChildren(p)-1),C=this.getRowIndex(S);this.hot.runHooks("beforeCreateRow",C+1,u+1,this.plugin.pluginName),p.__children.push(o)}else y=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",y-2,u+1,this.plugin.pluginName),this.data.push(o)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",y-2,u+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",h,o,this.getRowIndex(o)),i&&this.hot.render()}},{key:"filterData",value:function(t,r,i){var o=this,s=[];tt(i,function(a){s.push(o.getDataObject(a))}),tt(s,function(a){var u=o.getRowIndexWithinParent(a),c=o.getRowParent(a);null===c?o.data.splice(u,1):c.__children.splice(u,1)}),this.rewriteCache()}},{key:"spliceData",value:function(t,r,i){var o=this.getDataObject(t-1),s=null,a=t;if(o&&o.__children&&0===o.__children.length?(s=o,a=0):t<this.countAllRows()&&(s=this.getRowParent(t),a=this.getRowIndexWithinParent(t)),s)if(i){var u;(u=s.__children).splice.apply(u,[a,r].concat(ihe(i)))}else s.__children.splice(a,r);else if(i){var c;(c=this.data).splice.apply(c,[a,r].concat(ihe(i)))}else this.data.splice(a,r);this.rewriteCache()}},{key:"syncRowWithRawSource",value:function(t){var r=t,i=null;do{null!==(i=this.getRowParent(i))&&(r=i)}while(null!==i);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(r),"__children",r.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}},{key:"moveRow",value:function(t,r,i,o){var s=r===this.hot.countRows(),a=this.getRowParent(t),u=this.getRowIndexWithinParent(t),c=a.__children.slice(u,u+1),h=t>r,p=this.getRowParent(s?r-1:r);null==p&&(p=this.getRowParent(r-1)),null==p&&(p=this.getDataObject(r-1)),p?p.__children||(p.__children=[]):(p=this.getDataObject(r)).__children=[];var g=s||i||o?p.__children.length:this.getRowIndexWithinParent(r),y=a===p;p.__children.splice(g,0,c[0]),a.__children.splice(u+(h&&y?1:0),1),this.syncRowWithRawSource(a),y||this.syncRowWithRawSource(p)}},{key:"translateTrimmedRow",value:function(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(t):t}},{key:"untranslateTrimmedRow",value:function(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(t):t}}]),n}();function she(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Jit(n,e,t){return e&&she(n.prototype,e),t&&she(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}const y6=Jit(function n(e,t){(function Qit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=t,this.plugin=e});function _6(n){return(_6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ahe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function b6(n,e){return(b6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function oot(n,e){if(e&&("object"===_6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function sot(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function FN(n){return(FN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const lhe=function(n){!function rot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&b6(n,e)}(t,n);var e=function iot(n){var e=function aot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=FN(n);if(e){var o=FN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return oot(this,i)}}(t);function t(r,i){var o;return function tot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,i)).dataManager=o.plugin.dataManager,o.collapsingUI=o.plugin.collapsingUI,o.rowHeaderWidthCache=null,o}return function not(n,e,t){e&&ahe(n.prototype,e),t&&ahe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"appendLevelIndicators",value:function(i,o){var s=this.hot.toPhysicalRow(i),a=this.dataManager.getRowLevel(s),u=this.dataManager.getDataObject(s),c=o.getElementsByTagName("DIV")[0],h=c.querySelector("span.rowHeader");if(tt(c.querySelectorAll('[class^="ht_nesting"]'),function(S){S&&c.removeChild(S)}),Rn(o,t.CSS_CLASSES.indicatorContainer),a){var g=this.hot.rootDocument,y=h.cloneNode(!0);c.innerHTML="",Vr(0,a-1,function(){var S=g.createElement("SPAN");Rn(S,t.CSS_CLASSES.emptyIndicator),c.appendChild(S)}),c.appendChild(y)}if(this.dataManager.hasChildren(u)){var w=this.hot.rootDocument.createElement("DIV");Rn(o,t.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(s)?Rn(w,"".concat(t.CSS_CLASSES.button," ").concat(t.CSS_CLASSES.expandButton)):Rn(w,"".concat(t.CSS_CLASSES.button," ").concat(t.CSS_CLASSES.collapseButton)),c.appendChild(w)}}},{key:"updateRowHeaderWidth",value:function(i){var o=i;o||(o=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*o+25),this.hot.render()}}],[{key:"CSS_CLASSES",get:function(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}}]),t}(y6);function w6(n){return(w6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function uhe(n){return function hot(n){if(Array.isArray(n))return M6(n)}(n)||function dot(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function cot(n,e){if(n){if("string"==typeof n)return M6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M6(n,e)}}(n)||function uot(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function che(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function S6(n,e){return(S6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function vot(n,e){if(e&&("object"===w6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function yot(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function HN(n){return(HN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const wot=function(n){!function mot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&S6(n,e)}(t,n);var e=function got(n){var e=function _ot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=HN(n);if(e){var o=HN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vot(this,i)}}(t);function t(r,i){var o;return function fot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,i)).dataManager=o.plugin.dataManager,o.collapsedRows=[],o.collapsedRowsStash={stash:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.lastCollapsedRows=o.collapsedRows.slice(0),o.expandMultipleChildren(o.lastCollapsedRows,a)},shiftStash:function(a,u){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null==u&&(u=1/0),tt(o.lastCollapsedRows,function(h,p){h>=a&&h<u&&(o.lastCollapsedRows[p]=h+c)})},applyStash:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.collapseMultipleChildren(o.lastCollapsedRows,a),o.lastCollapsedRows=void 0},trimStash:function(a,u){Vr(a,a+u-1,function(c){var h=o.lastCollapsedRows.indexOf(c);h>-1&&o.lastCollapsedRows.splice(h,1)})}},o}return function pot(n,e,t){e&&che(n.prototype,e),t&&che(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"collapseChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[],c=null,h=null,p=null;return isNaN(i)?h=this.dataManager.getRowIndex(c=i):(c=this.dataManager.getDataObject(i),h=i),this.dataManager.hasChildren(c)&&tt(c.__children,function(g){u.push(o.dataManager.getRowIndex(g))}),p=this.collapseRows(u,!0,!1),a&&this.trimRows(p),s&&this.renderAndAdjust(),-1===this.collapsedRows.indexOf(h)&&this.collapsedRows.push(h),p}},{key:"collapseMultipleChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[];tt(i,function(c){u.push.apply(u,uhe(o.collapseChildren(c,!1,!1)))}),a&&this.trimRows(u),s&&this.renderAndAdjust()}},{key:"collapseRow",value:function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.collapseRows([i],o)}},{key:"collapseRows",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=[];return tt(i,function(c){u.push(c),s&&o.collapseChildRows(c,u)}),a&&this.trimRows(u),u}},{key:"collapseChildRows",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(i)){var c=this.dataManager.getDataObject(i);tt(c.__children,function(h){var p=o.dataManager.getRowIndex(h);s.push(p),o.collapseChildRows(p,s)})}u&&this.trimRows(s)}},{key:"expandRow",value:function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.expandRows([i],o)}},{key:"expandRows",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=[];return tt(i,function(c){u.push(c),s&&o.expandChildRows(c,u)}),a&&this.untrimRows(u),u}},{key:"expandChildRows",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(i)){var c=this.dataManager.getDataObject(i);tt(c.__children,function(h){if(!o.isAnyParentCollapsed(h)){var p=o.dataManager.getRowIndex(h);s.push(p),o.expandChildRows(p,s)}})}u&&this.untrimRows(s)}},{key:"expandChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[],c=null,h=null,p=null;return isNaN(i)?(c=i,h=this.dataManager.getRowIndex(i)):(c=this.dataManager.getDataObject(i),h=i),this.collapsedRows.splice(this.collapsedRows.indexOf(h),1),this.dataManager.hasChildren(c)&&tt(c.__children,function(g){var y=o.dataManager.getRowIndex(g);u.push(y)}),p=this.expandRows(u,!0,!1),a&&this.untrimRows(p),s&&this.renderAndAdjust(),p}},{key:"expandMultipleChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[];tt(i,function(c){u.push.apply(u,uhe(o.expandChildren(c,!1,!1)))}),a&&this.untrimRows(u),s&&this.renderAndAdjust()}},{key:"collapseAll",value:function(){var i=this,o=this.dataManager.getData(),s=[];tt(o,function(a){i.dataManager.hasChildren(a)&&s.push(a)}),this.collapseMultipleChildren(s),this.renderAndAdjust()}},{key:"expandAll",value:function(){var i=this,o=this.dataManager.getData(),s=[];tt(o,function(a){i.dataManager.hasChildren(a)&&s.push(a)}),this.expandMultipleChildren(s),this.renderAndAdjust()}},{key:"trimRows",value:function(i){var o=this;this.hot.batchExecution(function(){tt(i,function(s){o.plugin.collapsedRowsMap.setValueAtIndex(s,!0)})},!0)}},{key:"untrimRows",value:function(i){var o=this;this.hot.batchExecution(function(){tt(i,function(s){o.plugin.collapsedRowsMap.setValueAtIndex(s,!1)})},!0)}},{key:"areChildrenCollapsed",value:function(i){var o=this,s=isNaN(i)?i:this.dataManager.getDataObject(i),a=!0;return null===s&&(s={__children:this.dataManager.data}),this.dataManager.hasChildren(s)&&tt(s.__children,function(u){var c=o.dataManager.getRowIndex(u);if(!o.plugin.collapsedRowsMap.getValueAtIndex(c))return a=!1,!1}),a}},{key:"isAnyParentCollapsed",value:function(i){for(var o=i;null!==o;){o=this.dataManager.getRowParent(o);var s=this.dataManager.getRowIndex(o);if(this.collapsedRows.indexOf(s)>-1)return!0}return!1}},{key:"toggleState",value:function(i,o){if(!(o.col>=0)){var s=this.translateTrimmedRow(o.row);Ci(i.target,lhe.CSS_CLASSES.button)&&(this.areChildrenCollapsed(s)?this.expandChildren(s):this.collapseChildren(s),rp(i))}}},{key:"translateTrimmedRow",value:function(i){return this.hot.toPhysicalRow(i)}},{key:"untranslateTrimmedRow",value:function(i){return this.hot.toVisualRow(i)}},{key:"renderAndAdjust",value:function(){this.hot.render(),this.hot.view.adjustElementsSize()}}]),t}(y6);function x6(n){return(x6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function dhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function C6(n,e){return(C6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Eot(n,e){if(e&&("object"===x6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hhe(n)}function hhe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function BN(n){return(BN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var fhe=new WeakMap;const Dot=function(n){!function xot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&C6(n,e)}(t,n);var e=function Cot(n){var e=function Tot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=BN(n);if(e){var o=BN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Eot(this,i)}}(t);function t(r,i){var o;return function Mot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,i),fhe.set(hhe(o),{row_above:function(a,u){o.dataManager.addSibling(u[u.length-1].start.row,"above")},row_below:function(a,u){o.dataManager.addSibling(u[u.length-1].start.row,"below")}}),o.dataManager=o.plugin.dataManager,o}return function Sot(n,e,t){e&&dhe(n.prototype,e),t&&dhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"appendOptions",value:function(i){var o=this,s=[{key:"add_child",name:function(){return this.getTranslatedPhrase(Dj)},callback:function(){var u=o.dataManager.translateTrimmedRow(o.hot.getSelectedLast()[0]),c=o.dataManager.getDataObject(u);o.dataManager.addChild(c)},disabled:function(){var u=o.hot.getSelectedLast();return!u||u[0]<0||o.hot.selection.isSelectedByColumnHeader()||o.hot.countRows()>=o.hot.getSettings().maxRows}},{key:"detach_from_parent",name:function(){return this.getTranslatedPhrase(Aj)},callback:function(){o.dataManager.detachFromParent(o.hot.getSelectedLast())},disabled:function(){var u=o.hot.getSelectedLast(),c=o.dataManager.translateTrimmedRow(u[0]);return!o.dataManager.getRowParent(c)||!u||u[0]<0||o.hot.selection.isSelectedByColumnHeader()||o.hot.countRows()>=o.hot.getSettings().maxRows}},{name:"---------"}];return Vr(0,i.items.length-1,function(a){if(0===a)return tt(s,function(u,c){i.items.splice(a+c,0,u)}),!1}),this.modifyRowInsertingOptions(i)}},{key:"modifyRowInsertingOptions",value:function(i){var o=fhe.get(this);return Vr(0,i.items.length-1,function(s){var a=o[i.items[s].key];null!=a&&(i.items[s].callback=a)}),i}}]),t}(y6);var phe;function mhe(n){return function Lot(n){if(Array.isArray(n))return E6(n)}(n)||function kot(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Oot(n,e){if(n){if("string"==typeof n)return E6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E6(n,e)}}(n)||function Aot(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ghe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Fot=function(){function n(e){(function Iot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}return function Not(n,e,t){e&&ghe(n.prototype,e),t&&ghe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"onBeforeRowMove",value:function(t,r,i,o){var s=this;if(this.displayAPICompatibilityWarning({rows:t,finalIndex:r,dropIndex:i,movePossible:o}))return!1;this.movedToCollapsed=!1;var u=i===this.hot.countRows(),c=u?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(i),h=!0,p=t.map(function(C){if(!h)return!1;var P=s.dataManager.translateTrimmedRow(C);return h=s.shouldAllowMoving(P,c),P}),g=-1===p.indexOf(c);if(!h||!g)return!1;var y=this.getBaseParent(p),w=this.getTargetParent(u,c),S=y===w;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(w),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(p,c,S),this.moveRows(p,c,w),this.dataManager.rewriteCache(),this.moveCellsMeta(p,c),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",t,r,i,o,o&&this.isRowOrderChanged(t,r)),this.hot.render(),this.selectCells(t,i),!1}},{key:"displayAPICompatibilityWarning",value:function(t){var r=t.rows,i=t.finalIndex,o=t.dropIndex,s=t.movePossible,a=!1;return Fs(o)&&(Cs(ds(phe||(phe=function Pot(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows \n      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead."],["Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\\x20\n      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead."])))),this.hot.runHooks("afterRowMove",r,i,o,s,!1),a=!0),a}},{key:"shouldAllowMoving",value:function(t,r){return!(this.dataManager.isParent(t)||this.dataManager.isRowHighestLevel(t)||t===r||0===r)}},{key:"getBaseParent",value:function(t){return this.dataManager.getRowParent(t[0])}},{key:"getTargetParent",value:function(t,r){var i=this.dataManager.getRowParent(t?r-1:r);return null==i&&(i=this.dataManager.getRowParent(r-1)),i}},{key:"shiftCollapsibleParentsLocations",value:function(t,r,i){i||(Math.max.apply(Math,mhe(t))<=r?this.collapsingUI.collapsedRowsStash.shiftStash(t[0],r,-1*t.length):this.collapsingUI.collapsedRowsStash.shiftStash(r,t[0],t.length))}},{key:"moveRows",value:function(t,r,i){var o=this,s=r===this.dataManager.getRowIndex(i)+this.dataManager.countChildren(i)+1;this.hot.batchRender(function(){t.forEach(function(a){o.dataManager.moveRow(a,r,o.movedToCollapsed,s)})})}},{key:"moveCellsMeta",value:function(t,r){var o,i=this,s=[],a=Math.max.apply(Math,mhe(t))<r;t.forEach(function(u){s.push(i.hot.getCellMetaAtRow(u))}),this.hot.spliceCellsMeta(t[0],t.length),(o=this.hot).spliceCellsMeta.apply(o,[r-(a?s.length:0),0].concat(s))}},{key:"selectCells",value:function(t,r){var u,i=t.length,o=0,s=0,a=null;if(this.movedToCollapsed){var c;c=this.dataManager.translateTrimmedRow(t[i-1]<r?r-i:r);var h=this.dataManager.getRowParent(null===c?this.hot.countSourceRows()-1:c-1),p=this.dataManager.getRowIndex(h);s=o=this.dataManager.untranslateTrimmedRow(p)}else t[i-1]<r?o=(s=r-1)-i+1:s=(o=r)+i-1;a=this.hot.selection,u=this.hot.countCols()-1,a.setRangeStart(this.hot._createCellCoords(o,0)),a.setRangeEnd(this.hot._createCellCoords(s,u),!0)}},{key:"isRowOrderChanged",value:function(t,r){return t.some(function(i,o){return i-o!==r})}}]),n}();function T6(n){return(T6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function R6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Iw(){return Iw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Yot(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Iw.apply(this,arguments)}function Yot(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=lg(n)););return n}function D6(n,e){return(D6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Xot(n,e){if(e&&("object"===T6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return yhe(n)}function yhe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lg(n){return(lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var A6="nestedRows",ug=new WeakMap,Jot=function(n){!function Got(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&D6(n,e)}(t,n);var e=function $ot(n){var e=function Kot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=lg(n);if(e){var o=lg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Xot(this,i)}}(t);function t(r){var i;return function jot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).dataManager=null,i.headersUI=null,i.collapsedRowsMap=null,ug.set(yhe(i),{movedToCollapsed:!1,skipRender:null,skipCoreAPIModifiers:!1}),i}return function Wot(n,e,t){e&&vhe(n.prototype,e),t&&vhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[A6]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new M1),this.dataManager=new qit(this,this.hot),this.collapsingUI=new wot(this,this.hot),this.headersUI=new lhe(this,this.hot),this.contextMenuUI=new Dot(this,this.hot),this.rowMoveController=new Fot(this),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("beforeViewRender",function(){return i.onBeforeViewRender.apply(i,arguments)}),this.addHook("modifyRowData",function(){return i.onModifyRowData.apply(i,arguments)}),this.addHook("modifySourceLength",function(){return i.onModifySourceLength.apply(i,arguments)}),this.addHook("beforeDataSplice",function(){return i.onBeforeDataSplice.apply(i,arguments)}),this.addHook("filterData",function(){return i.onFilterData.apply(i,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetRowHeader",function(){return i.onAfterGetRowHeader.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeRemoveRow",function(){return i.onBeforeRemoveRow.apply(i,arguments)}),this.addHook("afterRemoveRow",function(){return i.onAfterRemoveRow.apply(i,arguments)}),this.addHook("beforeAddChild",function(){return i.onBeforeAddChild.apply(i,arguments)}),this.addHook("afterAddChild",function(){return i.onAfterAddChild.apply(i,arguments)}),this.addHook("beforeDetachChild",function(){return i.onBeforeDetachChild.apply(i,arguments)}),this.addHook("afterDetachChild",function(){return i.onAfterDetachChild.apply(i,arguments)}),this.addHook("modifyRowHeaderWidth",function(){return i.onModifyRowHeaderWidth.apply(i,arguments)}),this.addHook("afterCreateRow",function(){return i.onAfterCreateRow.apply(i,arguments)}),this.addHook("beforeRowMove",function(){return i.onBeforeRowMove.apply(i,arguments)}),this.addHook("beforeLoadData",function(o){return i.onBeforeLoadData(o)}),Iw(lg(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),Iw(lg(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin();var i=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(i),Iw(lg(t.prototype),"updatePlugin",this).call(this)}},{key:"onBeforeRowMove",value:function(i,o,s,a){return this.rowMoveController.onBeforeRowMove(i,o,s,a)}},{key:"disableCoreAPIModifiers",value:function(){ug.get(this).skipCoreAPIModifiers=!0}},{key:"enableCoreAPIModifiers",value:function(){ug.get(this).skipCoreAPIModifiers=!1}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s){this.collapsingUI.toggleState(i,o,s)}},{key:"onModifyRowData",value:function(i){if(!ug.get(this).skipCoreAPIModifiers)return this.dataManager.getDataObject(i)}},{key:"onModifySourceLength",value:function(){if(!ug.get(this).skipCoreAPIModifiers)return this.dataManager.countAllRows()}},{key:"onBeforeDataSplice",value:function(i,o,s){return!(!ug.get(this).skipCoreAPIModifiers&&!this.dataManager.isRowHighestLevel(i)&&(this.dataManager.spliceData(i,o,s),1))}},{key:"onFilterData",value:function(i,o,s){var a=ug.get(this);return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(s[0],o),this.collapsingUI.collapsedRowsStash.shiftStash(s[0],null,-1*o),this.dataManager.filterData(i,o,s),a.skipRender=!0,this.dataManager.getData().slice()}},{key:"onAfterContextMenuDefaultOptions",value:function(i){return this.contextMenuUI.appendOptions(i)}},{key:"onAfterGetRowHeader",value:function(i,o){this.headersUI.appendLevelIndicators(i,o)}},{key:"onModifyRowHeaderWidth",value:function(i){return this.headersUI.rowHeaderWidthCache||i}},{key:"onAfterRemoveRow",value:function(i,o,s,a){var u=this;if(a!==this.pluginName){var c=ug.get(this);setTimeout(function(){c.skipRender=null,u.headersUI.updateRowHeaderWidth(),u.collapsingUI.collapsedRowsStash.applyStash()},0)}}},{key:"onBeforeRemoveRow",value:function(i,o,s){var a=this,u=Array.from(s.reduce(function(c,h){if(a.dataManager.isParent(h)){var p=a.dataManager.getDataObject(h).__children;return c.add(h),Array.isArray(p)&&p.forEach(function(g){return c.add(a.dataManager.getRowIndex(g))}),c}return c.add(h)},new Set));s.length=0,s.push.apply(s,u)}},{key:"onBeforeAddChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterAddChild",value:function(i,o){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(o)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onBeforeDetachChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterDetachChild",value:function(i,o,s){this.collapsingUI.collapsedRowsStash.shiftStash(s,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onAfterCreateRow",value:function(){this.dataManager.rewriteCache()}},{key:"onAfterInit",value:function(){var i=Math.max.apply(Math,function Hot(n){return function Uot(n){if(Array.isArray(n))return R6(n)}(n)||function zot(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Vot(n,e){if(n){if("string"==typeof n)return R6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return R6(n,e)}}(n)||function Bot(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.dataManager.cache.levels));i>0&&this.headersUI.updateRowHeaderWidth(i)}},{key:"onBeforeViewRender",value:function(i,o){ug.get(this).skipRender&&(o.skipRender=!0)}},{key:"destroy",value:function(){Iw(lg(t.prototype),"destroy",this).call(this)}},{key:"onBeforeLoadData",value:function(i){if(!function iFe(n){return!!(Array.isArray(n)&&n.length&&n.every(function(e){return"object"===vU(e)&&!Array.isArray(e)&&null!==e}))}(i))return JV("The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled."),this.hot.getSettings()[A6]=!1,void this.disablePlugin();this.dataManager.setData(i),this.dataManager.rewriteCache()}}],[{key:"PLUGIN_KEY",get:function(){return A6}},{key:"PLUGIN_PRIORITY",get:function(){return 300}}]),t}(Zo);function Qot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _he(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}const nst=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;Qot(this,n),this.rootWindow=t,this.prefix=e,this.savedKeys=[],this.loadSavedKeys()}return function est(n,e,t){e&&_he(n.prototype,e),t&&_he(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"saveValue",value:function(t,r){this.rootWindow.localStorage.setItem("".concat(this.prefix,"_").concat(t),JSON.stringify(r)),-1===this.savedKeys.indexOf(t)&&(this.savedKeys.push(t),this.saveSavedKeys())}},{key:"loadValue",value:function(t,r){var i=void 0===t?r:t,o=this.rootWindow.localStorage.getItem("".concat(this.prefix,"_").concat(i));return null===o?void 0:JSON.parse(o)}},{key:"reset",value:function(t){this.rootWindow.localStorage.removeItem("".concat(this.prefix,"_").concat(t))}},{key:"resetAll",value:function(){var t=this;tt(this.savedKeys,function(r,i){t.rootWindow.localStorage.removeItem("".concat(t.prefix,"_").concat(t.savedKeys[i]))}),this.clearSavedKeys()}},{key:"loadSavedKeys",value:function(){var t=this.rootWindow.localStorage.getItem("".concat(this.prefix,"__persistentStateKeys")),r="string"==typeof t?JSON.parse(t):void 0;this.savedKeys=r||[]}},{key:"saveSavedKeys",value:function(){this.rootWindow.localStorage.setItem("".concat(this.prefix,"__persistentStateKeys"),JSON.stringify(this.savedKeys))}},{key:"clearSavedKeys",value:function(){this.savedKeys.length=0,this.saveSavedKeys()}}]),n}();function O6(n){return(O6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function bhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Nw(){return Nw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=ost(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Nw.apply(this,arguments)}function ost(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=cg(n)););return n}function k6(n,e){return(k6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function lst(n,e){if(e&&("object"===O6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function ust(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function cg(n){return(cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}xr.getSingleton().register("persistentStateSave"),xr.getSingleton().register("persistentStateLoad"),xr.getSingleton().register("persistentStateReset");var whe="persistentState",hst=function(n){!function sst(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&k6(n,e)}(t,n);var e=function ast(n){var e=function cst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=cg(n);if(e){var o=cg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return lst(this,i)}}(t);function t(r){var i;return function rst(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).storage=void 0,i}return function ist(n,e,t){e&&bhe(n.prototype,e),t&&bhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[whe]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.storage||(this.storage=new nst(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",function(o,s){return i.saveValue(o,s)}),this.addHook("persistentStateLoad",function(o,s){return i.loadValue(o,s)}),this.addHook("persistentStateReset",function(){return i.resetValue()}),Nw(cg(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.storage=void 0,Nw(cg(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Nw(cg(t.prototype),"updatePlugin",this).call(this)}},{key:"loadValue",value:function(i,o){o.value=this.storage.loadValue(i)}},{key:"saveValue",value:function(i,o){this.storage.saveValue(i,o)}},{key:"resetValue",value:function(i){void 0===i?this.storage.resetAll():this.storage.reset(i)}},{key:"destroy",value:function(){Nw(cg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return whe}},{key:"PLUGIN_PRIORITY",get:function(){return 0}}]),t}(Zo);function L6(n){return(L6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function P6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Mhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Fw(){return Fw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=bst(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Fw.apply(this,arguments)}function bst(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=dg(n)););return n}function I6(n,e){return(I6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Sst(n,e){if(e&&("object"===L6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function xst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function dg(n){return(dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var N6="search",Rst=function(e,t,r,i,o){e.getCellMeta(t,r).isSearchResult=o},Dst=function(e,t,r){return!(Fs(e)||null===e||!e.toLocaleLowerCase||0===e.length||Fs(t)||null===t)&&-1!==t.toString().toLocaleLowerCase(r.locale).indexOf(e.toLocaleLowerCase(r.locale))},Ast=function(n){!function wst(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&I6(n,e)}(t,n);var e=function Mst(n){var e=function Cst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=dg(n);if(e){var o=dg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Sst(this,i)}}(t);function t(r){var i;return function yst(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).callback=Rst,i.queryMethod=Dst,i.searchResultClass="htSearchResult",i}return function _st(n,e,t){e&&Mhe(n.prototype,e),t&&Mhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[N6]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[N6];this.updatePluginSettings(o),this.addHook("beforeRenderer",function(){return i.onBeforeRenderer.apply(i,arguments)}),Fw(dg(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var i=this,o=function(){return i.onBeforeRenderer.apply(i,arguments)};this.hot.addHook("beforeRenderer",o),this.hot.addHookOnce("afterViewRender",function(){i.hot.removeHook("beforeRenderer",o)}),Fw(dg(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Fw(dg(t.prototype),"updatePlugin",this).call(this)}},{key:"query",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCallback(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getQueryMethod(),u=this.hot.countRows(),c=this.hot.countCols(),h=[],p=this.hot;return Vr(0,u-1,function(g){Vr(0,c-1,function(y){var w=o.hot.getDataAtCell(g,y),S=o.hot.getCellMeta(g,y),C=S.search.callback||s,B=(S.search.queryMethod||a)(i,w,S);B&&h.push({row:g,col:y,data:w}),C&&C(p,g,y,w,B)})}),h}},{key:"getCallback",value:function(){return this.callback}},{key:"setCallback",value:function(i){this.callback=i}},{key:"getQueryMethod",value:function(){return this.queryMethod}},{key:"setQueryMethod",value:function(i){this.queryMethod=i}},{key:"getSearchResultClass",value:function(){return this.searchResultClass}},{key:"setSearchResultClass",value:function(i){this.searchResultClass=i}},{key:"updatePluginSettings",value:function(i){Yi(i)&&(i.searchResultClass&&this.setSearchResultClass(i.searchResultClass),i.queryMethod&&this.setQueryMethod(i.queryMethod),i.callback&&this.setCallback(i.callback))}},{key:"onBeforeRenderer",value:function(i,o,s,a,u,c){var g,h=c.className||[],p=[];"string"==typeof h?p=h.split(" "):(g=p).push.apply(g,function fst(n){return function vst(n){if(Array.isArray(n))return P6(n)}(n)||function gst(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function mst(n,e){if(n){if("string"==typeof n)return P6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return P6(n,e)}}(n)||function pst(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(h)),this.isEnabled()&&c.isSearchResult?p.includes(this.searchResultClass)||p.push("".concat(this.searchResultClass)):p.includes(this.searchResultClass)&&p.splice(p.indexOf(this.searchResultClass),1),c.className=p.join(" ")}},{key:"destroy",value:function(){Fw(dg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return N6}},{key:"PLUGIN_PRIORITY",get:function(){return 190}}]),t}(Zo);function F6(n){return(F6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function She(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ux(){return Ux="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Lst(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ux.apply(this,arguments)}function Lst(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Dy(n)););return n}function H6(n,e){return(H6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Nst(n,e){if(e&&("object"===F6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Fst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Dy(n){return(Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var zst=function(n){!function Pst(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&H6(n,e)}(t,n);var e=function Ist(n){var e=function Hst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Dy(n);if(e){var o=Dy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Nst(this,i)}}(t);function t(r){var i;return function Ost(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).scrollbars=[],i.clones=[],i.lockedCollection=!1,i.freezeOverlays=!1,i}return function kst(n,e,t){e&&She(n.prototype,e),t&&She(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return HQ()}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterViewRender",function(){return i.onAfterViewRender()}),this.registerEvents(),Ux(Dy(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,Ux(Dy(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Ux(Dy(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var i=this;this.addHook("beforeTouchScroll",function(){return i.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return i.onAfterMomentumScroll()})}},{key:"onAfterViewRender",value:function(){if(!this.lockedCollection){var i=this.hot.view._wt.wtOverlays,o=i.topOverlay,s=i.bottomOverlay,a=i.inlineStartOverlay,u=i.topInlineStartCornerOverlay,c=i.bottomInlineStartCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(o),s.clone&&this.scrollbars.push(s),this.scrollbars.push(a),u&&this.scrollbars.push(u),c&&c.clone&&this.scrollbars.push(c),this.clones=[],o.needFullRender&&this.clones.push(o.clone.wtTable.holder.parentNode),s.needFullRender&&this.clones.push(s.clone.wtTable.holder.parentNode),a.needFullRender&&this.clones.push(a.clone.wtTable.holder.parentNode),u&&this.clones.push(u.clone.wtTable.holder.parentNode),c&&c.clone&&this.clones.push(c.clone.wtTable.holder.parentNode)}}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,tt(this.clones,function(i){Rn(i,"hide-tween")})}},{key:"onAfterMomentumScroll",value:function(){var i=this;this.freezeOverlays=!1,tt(this.clones,function(o){Bi(o,"hide-tween"),Rn(o,"show-tween")}),this.hot._registerTimeout(function(){tt(i.clones,function(o){Bi(o,"show-tween")})},400),tt(this.scrollbars,function(o){o.refresh(),o.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}}],[{key:"PLUGIN_KEY",get:function(){return"touchScroll"}},{key:"PLUGIN_PRIORITY",get:function(){return 200}},{key:"SETTING_KEYS",get:function(){return!0}}]),t}(Zo);function B6(n){return(B6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Hw(){return Hw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Wst(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Hw.apply(this,arguments)}function Wst(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=hg(n)););return n}function V6(n,e){return(V6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $st(n,e){if(e&&("object"===B6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Xst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function hg(n){return(hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var VN="trimRows",qst=function(n){!function Yst(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&V6(n,e)}(t,n);var e=function Gst(n){var e=function Kst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=hg(n);if(e){var o=hg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $st(this,i)}}(t);function t(r){var i;return function Ust(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).trimmedRowsMap=null,i}return function jst(n,e,t){e&&xhe(n.prototype,e),t&&xhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[VN]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new M1),this.trimmedRowsMap.addLocalHook("init",function(){return i.onMapInit()}),Hw(hg(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){var i=this,o=this.hot.getSettings()[VN];Array.isArray(o)&&this.hot.batchExecution(function(){i.trimmedRowsMap.clear(),tt(o,function(s){i.trimmedRowsMap.setValueAtIndex(s,!0)})},!0),Hw(hg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("trimRows"),Hw(hg(t.prototype),"disablePlugin",this).call(this)}},{key:"getTrimmedRows",value:function(){return this.trimmedRowsMap.getTrimmedIndexes()}},{key:"trimRows",value:function(i){var o=this,s=this.getTrimmedRows(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeTrimRow",s,u,a)&&(a&&this.hot.batchExecution(function(){tt(i,function(h){o.trimmedRowsMap.setValueAtIndex(h,!0)})},!0),this.hot.runHooks("afterTrimRow",s,u,a,a&&u.length>s.length))}},{key:"trimRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.trimRows(o)}},{key:"untrimRows",value:function(i){var o=this.getTrimmedRows(),s=this.isValidConfig(i),a=o,u=this.trimmedRowsMap.getValues().slice(),c=i.length>0;s&&c&&(tt(i,function(p){u[p]=!1}),a=Ua(u,function(p,g,y){return g&&p.push(y),p},[])),!1!==this.hot.runHooks("beforeUntrimRow",o,a,s&&c)&&(s&&c&&this.trimmedRowsMap.setValues(u),this.hot.runHooks("afterUntrimRow",o,a,s&&c,s&&a.length<o.length))}},{key:"untrimRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.untrimRows(o)}},{key:"isTrimmed",value:function(i){return this.trimmedRowsMap.getValueAtIndex(i)||!1}},{key:"untrimAll",value:function(){this.untrimRows(this.getTrimmedRows())}},{key:"isValidConfig",value:function(i){var o=this.hot.countSourceRows();return i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"onMapInit",value:function(){var i=this,o=this.hot.getSettings()[VN];Array.isArray(o)&&this.hot.batchExecution(function(){tt(o,function(s){i.trimmedRowsMap.setValueAtIndex(s,!0)})},!0)}},{key:"destroy",value:function(){Hw(hg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return VN}},{key:"PLUGIN_PRIORITY",get:function(){return 330}}]),t}(Zo);function z6(n){return(z6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Che(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ehe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function The(n,e,t){return e&&Ehe(n.prototype,e),t&&Ehe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Rhe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&U6(n,e)}function U6(n,e){return(U6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Dhe(n){var e=function eat(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=zN(n);if(e){var o=zN(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Jst(this,i)}}function Jst(n,e){if(e&&("object"===z6(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Qst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function zN(n){return(zN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Ahe(n,e){return function aat(n){if(Array.isArray(n))return n}(n)||function sat(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,a,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(u){o=!0,a=u}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw a}}return r}}(n,e)||Ohe(n,e)||function oat(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ohe(n,e){if(n){if("string"==typeof n)return j6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j6(n,e)}}function j6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _r(n){var e=this;this.instance=n,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,n.addHook("afterChange",function(t,r){var i=this,o=t&&t.length;o&&t.find(function(u){var c=Ahe(u,4);return c[2]!==c[3]})&&e.done(function(){var c=t.reduce(function(p,g){return p.push(function tat(n){return function iat(n){if(Array.isArray(n))return j6(n)}(n)||function rat(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Ohe(n)||function nat(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g)),p},[]);tt(c,function(p){p[1]=n.propToCol(p[1])});var h=o>1?i.getSelected():[[c[0][0],c[0][1]]];return new _r.ChangeAction(c,h)},r)}),n.addHook("afterCreateRow",function(t,r,i){e.done(function(){return new _r.CreateRowAction(t,r)},i)}),n.addHook("beforeRemoveRow",function(t,r,i,o){e.done(function(){var u=e.instance.getSourceDataArray(),c=(u.length+t)%u.length,h=n.toPhysicalRow(c),p=zu(u.slice(h,h+r));return new _r.RemoveRowAction(c,p,n.getSettings().fixedRowsBottom,n.getSettings().fixedRowsTop)},o)}),n.addHook("afterCreateCol",function(t,r,i){e.done(function(){return new _r.CreateColumnAction(t,r)},i)}),n.addHook("beforeRemoveCol",function(t,r,i,o){e.done(function(){var u=e.instance.getSourceDataArray(),c=(e.instance.countCols()+t)%e.instance.countCols(),h=[],p=[],g=[];Vr(u.length-1,function(S){var C=[],P=u[S];Vr(c,c+(r-1),function(B){C.push(P[n.toPhysicalColumn(B)])}),h.push(C)}),Vr(r-1,function(S){g.push(n.toPhysicalColumn(c+S))}),Array.isArray(n.getSettings().colHeaders)&&Vr(r-1,function(S){p.push(n.getSettings().colHeaders[n.toPhysicalColumn(c+S)]||null)});var y=n.columnIndexMapper.getIndexesSequence(),w=n.rowIndexMapper.getIndexesSequence();return new _r.RemoveColumnAction(c,g,h,p,y,w,n.getSettings().fixedColumnsStart)},o)}),n.addHook("beforeCellAlignment",function(t,r,i,o){e.done(function(){return new _r.CellAlignmentAction(t,r,i,o)})}),n.addHook("beforeFilter",function(t){e.done(function(){return new _r.FiltersAction(t)})}),n.addHook("beforeRowMove",function(t,r){!1!==t&&e.done(function(){return new _r.RowMoveAction(t,r)})}),n.addHook("beforeMergeCells",function(t,r){r||e.done(function(){return new _r.MergeCellsAction(n,t)})}),n.addHook("afterUnmergeCells",function(t,r){r||e.done(function(){return new _r.UnmergeCellsAction(n,t)})}),n.addHook("afterInit",function(){e.init()})}function Lhe(n,e){if("loadData"===e)return this.undoRedo.clear()}_r.prototype.done=function(n,e){if(!this.ignoreNewActions&&"UndoRedo.undo"!==e&&"UndoRedo.redo"!==e&&"auto"!==e){var r=this.doneActions.slice();if(!1!==this.instance.runHooks("beforeUndoStackChange",r,e)){var o=n(),s=this.undoneActions.slice();this.doneActions.push(o),this.instance.runHooks("afterUndoStackChange",r,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",s),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",s,this.undoneActions.slice())}}},_r.prototype.undo=function(){if(this.isUndoAvailable()){var n=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",n);var e=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",n,this.doneActions.slice());var t=zu(e);if(!1===this.instance.runHooks("beforeUndo",t))return;this.ignoreNewActions=!0;var i=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),e.undo(this.instance,function(){i.ignoreNewActions=!1,i.undoneActions.push(e)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",t)}},_r.prototype.redo=function(){if(this.isRedoAvailable()){var n=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",n);var e=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",n,this.undoneActions.slice());var t=zu(e);if(!1===this.instance.runHooks("beforeRedo",t))return;this.ignoreNewActions=!0;var i=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),e.redo(this.instance,function(){i.ignoreNewActions=!1,i.doneActions.push(e)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",t)}},_r.prototype.isUndoAvailable=function(){return this.doneActions.length>0},_r.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},_r.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},_r.prototype.isEnabled=function(){return this.enabled},_r.prototype.enable=function(){if(!this.isEnabled()){var n=this.instance;this.enabled=!0,function dat(n){n.undo=function(){return n.undoRedo.undo()},n.redo=function(){return n.undoRedo.redo()},n.isUndoAvailable=function(){return n.undoRedo.isUndoAvailable()},n.isRedoAvailable=function(){return n.undoRedo.isRedoAvailable()},n.clearUndo=function(){return n.undoRedo.clear()}}(n),this.registerShortcuts(),n.addHook("afterChange",Lhe)}},_r.prototype.disable=function(){if(this.isEnabled()){var n=this.instance;this.enabled=!1,function hat(n){delete n.undo,delete n.redo,delete n.isUndoAvailable,delete n.isRedoAvailable,delete n.clearUndo}(n),this.unregisterShortcuts(),n.removeHook("afterChange",Lhe)}},_r.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null},(_r.Action=function(){}).prototype.undo=function(){},_r.Action.prototype.redo=function(){},Qv(_r.ChangeAction=function(n,e){this.changes=n,this.selected=e,this.actionType="change"},_r.Action),_r.ChangeAction.prototype.undo=function(n,e){for(var t=zu(this.changes),r=n.countEmptyRows(!0),i=n.countEmptyCols(!0),o=0,s=t.length;o<s;o++)t[o].splice(3,1);n.addHookOnce("afterChange",e),n.setDataAtCell(t,null,null,"UndoRedo.undo");for(var a=0,u=t.length;a<u;a++){var c=Ahe(t[a],2),h=c[0],p=c[1];n.getSettings().minSpareRows&&h+1+n.getSettings().minSpareRows===n.countRows()&&r===n.getSettings().minSpareRows&&(n.alter("remove_row",parseInt(h+1,10),n.getSettings().minSpareRows),n.undoRedo.doneActions.pop()),n.getSettings().minSpareCols&&p+1+n.getSettings().minSpareCols===n.countCols()&&i===n.getSettings().minSpareCols&&(n.alter("remove_col",parseInt(p+1,10),n.getSettings().minSpareCols),n.undoRedo.doneActions.pop())}n.selectCells(this.selected,!1,!1)},_r.ChangeAction.prototype.redo=function(n,e){for(var t=zu(this.changes),r=0,i=t.length;r<i;r++)t[r].splice(2,1);n.addHookOnce("afterChange",e),n.setDataAtCell(t,null,null,"UndoRedo.redo"),this.selected&&n.selectCells(this.selected,!1,!1)},Qv(_r.CreateRowAction=function(n,e){this.index=n,this.amount=e,this.actionType="insert_row"},_r.Action),_r.CreateRowAction.prototype.undo=function(n,e){var t=n.countRows(),r=n.getSettings().minSpareRows;this.index>=t&&this.index-r<t&&(this.index-=r),n.addHookOnce("afterRemoveRow",e),n.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},_r.CreateRowAction.prototype.redo=function(n,e){n.addHookOnce("afterCreateRow",e),n.alter("insert_row",this.index,this.amount,"UndoRedo.redo")},Qv(_r.RemoveRowAction=function(n,e,t,r){this.index=n,this.data=e,this.actionType="remove_row",this.fixedRowsBottom=t,this.fixedRowsTop=r},_r.Action),_r.RemoveRowAction.prototype.undo=function(n,e){var t=n.getSettings();t.fixedRowsBottom=this.fixedRowsBottom,t.fixedRowsTop=this.fixedRowsTop,n.alter("insert_row",this.index,this.data.length,"UndoRedo.undo"),n.addHookOnce("afterViewRender",e),n.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")},_r.RemoveRowAction.prototype.redo=function(n,e){n.addHookOnce("afterRemoveRow",e),n.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},Qv(_r.CreateColumnAction=function(n,e){this.index=n,this.amount=e,this.actionType="insert_col"},_r.Action),_r.CreateColumnAction.prototype.undo=function(n,e){n.addHookOnce("afterRemoveCol",e),n.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},_r.CreateColumnAction.prototype.redo=function(n,e){n.addHookOnce("afterCreateCol",e),n.alter("insert_col",this.index,this.amount,"UndoRedo.redo")},Qv(_r.RemoveColumnAction=function(n,e,t,r,i,o,s){this.index=n,this.indexes=e,this.data=t,this.amount=this.data[0].length,this.headers=r,this.columnPositions=i.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s},_r.Action),_r.RemoveColumnAction.prototype.undo=function(n,e){var t=this;n.getSettings().fixedColumnsStart=this.fixedColumnsStart;for(var i=this.indexes.slice(0).sort(),o=function(g,y,w){return w[t.indexes.indexOf(i[y])]},s=this.data.length,a=[],u=0;u<s;u++)a.push(Ji(this.data[u],o));var c=Ji(this.headers,o),h=[];n.alter("insert_col",this.indexes[0],this.indexes.length,"UndoRedo.undo"),tt(n.getSourceDataArray(),function(p,g){tt(i,function(y,w){p[y]=a[g][w],h.push([g,y,p[y]])})}),n.setSourceDataAtCell(h,void 0,void 0,"UndoRedo.undo"),n.columnIndexMapper.insertIndexes(i[0],i.length),void 0!==this.headers&&tt(c,function(p,g){n.getSettings().colHeaders[i[g]]=p}),n.batchExecution(function(){n.rowIndexMapper.setIndexesSequence(t.rowPositions),n.columnIndexMapper.setIndexesSequence(t.columnPositions)},!0),n.addHookOnce("afterViewRender",e),n.render()},_r.RemoveColumnAction.prototype.redo=function(n,e){n.addHookOnce("afterRemoveCol",e),n.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},(_r.CellAlignmentAction=function(n,e,t,r){this.stateBefore=n,this.range=e,this.type=t,this.alignment=r}).prototype.undo=function(n,e){var t=this;tt(this.range,function(r){r.forAll(function(i,o){i>=0&&o>=0&&n.setCellMeta(i,o,"className",t.stateBefore[i][o]||" htLeft")})}),n.addHookOnce("afterViewRender",e),n.render()},_r.CellAlignmentAction.prototype.redo=function(n,e){vy(this.range,this.type,this.alignment,function(t,r){return n.getCellMeta(t,r)},function(t,r,i,o){return n.setCellMeta(t,r,i,o)}),n.addHookOnce("afterViewRender",e),n.render()},Qv(_r.FiltersAction=function(n){this.conditionsStack=n,this.actionType="filter"},_r.Action),_r.FiltersAction.prototype.undo=function(n,e){var t=n.getPlugin("filters");n.addHookOnce("afterViewRender",e),t.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),t.filter()},_r.FiltersAction.prototype.redo=function(n,e){var t=n.getPlugin("filters");n.addHookOnce("afterViewRender",e),t.conditionCollection.importAllConditions(this.conditionsStack),t.filter()},_r.MergeCellsAction=function(n){Rhe(t,n);var e=Dhe(t);function t(r,i){var o;Che(this,t),(o=e.call(this)).cellRange=i;var s=o.cellRange.getTopStartCorner(),a=o.cellRange.getBottomEndCorner();return o.rangeData=r.getData(s.row,s.col,a.row,a.col),o}return The(t,[{key:"undo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.unmergeRange(this.cellRange,!0);var a=this.cellRange.getTopStartCorner();i.populateFromArray(a.row,a.col,this.rangeData,void 0,void 0,"MergeCells")}},{key:"redo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.mergeRange(this.cellRange)}}]),t}(_r.Action),_r.UnmergeCellsAction=function(n){Rhe(t,n);var e=Dhe(t);function t(r,i){var o;return Che(this,t),(o=e.call(this)).cellRange=i,o}return The(t,[{key:"undo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.mergeRange(this.cellRange,!0)}},{key:"redo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.unmergeRange(this.cellRange,!0),i.render()}}]),t}(_r.Action),Qv(_r.RowMoveAction=function(n,e){this.rows=n.slice(),this.finalIndex=e,this.actionType="row_move"},_r.Action),_r.RowMoveAction.prototype.undo=function(n,e){var t=this,r=n.getPlugin("manualRowMove"),i=[].concat(this.rows),o=i.filter(function(h){return h>t.finalIndex}),s=i.filter(function(h){return h<=t.finalIndex}),a=o.sort(function(h,p){return p-h}).concat(s.sort(function(h,p){return h-p}));n.addHookOnce("afterViewRender",e);for(var u=0;u<a.length;u+=1){var c=n.toVisualRow(a[u]);r.moveRow(c,a[u])}n.render(),n.deselectCell(),n.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)},_r.RowMoveAction.prototype.redo=function(n,e){var t=n.getPlugin("manualRowMove");n.addHookOnce("afterViewRender",e),t.moveRows(this.rows.slice(),this.finalIndex),n.render(),n.deselectCell(),n.selectRows(this.finalIndex,this.finalIndex+this.rows.length-1)},_r.prototype.init=function(){var n=this.instance.getSettings().undo,e=void 0===n||n;this.instance.undoRedo||(this.instance.undoRedo=this),e?this.instance.undoRedo.enable():this.instance.undoRedo.disable()},_r.prototype.registerShortcuts=function(){var n=this;this.instance.getShortcutManager().getContext("grid").addShortcuts([{keys:[["Control/Meta","z"]],callback:function(){n.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:function(){n.redo()}}],{runOnlyIf:function(s){return!s.altKey},group:"undoRedo"})},_r.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup("undoRedo")};var pR=xr.getSingleton();pR.add("afterUpdateSettings",function(){var n;null===(n=this.getPlugin("undoRedo"))||void 0===n||n.init()}),pR.register("beforeUndo"),pR.register("afterUndo"),pR.register("beforeRedo"),pR.register("afterRedo"),_r.PLUGIN_KEY="undoRedo",_r.SETTING_KEYS=!0;const fat=_r;let vat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[q_,Co,pT,pT,Co]}),n})(),Rat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[q_,Co,Co]}),n})(),Dat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[zK,Co,Co]}),n})(),Nhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[q_,Co,W3,Co]}),n})(),Fhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({}),n})(),Pat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({providers:[RMe],imports:[Fhe,Nhe,Co,Fhe,Nhe]}),n})(),Kat=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[J3]}),n})(),hlt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[Kat,Co,Co]}),n})(),plt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n}),n.\u0275inj=ti({imports:[rZ,Co,cT,Co]}),n})();!function mat(){(function UYe(){cd(tx),cd(GW),cd(yse),cd(Sse),cd(QW),cd(zW),cd(Ese),cd(Rse),cd(kYe),cd(Xb),cd(kse)})(),function nGe(){Lm(lx),Lm(k1),Lm(uY),Lm(lY),Lm(dY),Lm(hY),Lm(ly),Lm(fY)}(),function cGe(){p1(OI),p1(pY),p1(mY),p1(gY)}(),function TGe(){ap(hGe),ap(pGe),ap(gGe),ap(yGe),ap(bGe),ap(MGe),ap(xGe),ap(fie),ap(EGe)}(),function pat(){Wo(d5e),Wo(P5e),Wo(Z5e),Wo(F6e),Wo(t8e),Wo(Hae),Wo(p9e),Wo(U9e),Wo(fle),Wo(c$e),Wo(I$e),Wo(W$e),Wo(Lle),Wo(NXe),Wo(NJe),Wo(hQe),Wo(IQe),Wo(iet),Wo(Tet),Wo(att),Wo(gtt),Wo(Ztt),Wo(ont),Wo(Ynt),Wo(crt),Wo(wrt),Wo(jit),Wo(Jot),Wo(hst),Wo(Ast),Wo(zst),Wo(qst),Wo(fat)}()}();let mlt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fi({type:n,bootstrap:[vje]}),n.\u0275inj=ti({providers:[_K],imports:[A$,IUe,NUe,Qbe,tAe,Oze,vat,gAe,DAe,tSe,IAe,mje,Rat,Dat,Pat,hlt,KMe,plt,jAe,gWe,ZUe]}),n})();(function ege(){O7=!1})(),hye().bootstrapModule(mlt).catch(n=>console.error(n))},4722:function(ee,ce,b){"use strict";var G,O=this&&this.__extends||(G=function(ne,ae){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,he){le.__proto__=he}||function(le,he){for(var $ in he)Object.prototype.hasOwnProperty.call(he,$)&&(le[$]=he[$])})(ne,ae)},function(ne,ae){if("function"!=typeof ae&&null!==ae)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function le(){this.constructor=ne}G(ne,ae),ne.prototype=null===ae?Object.create(ae):(le.prototype=ae.prototype,new le)});Object.defineProperty(ce,"__esModule",{value:!0}),ce.OrbitControls=void 0;var M=b(3643),R={type:"change"},A={type:"start"},I={type:"end"},N=1e-6,W=function(G){function ne(ae,le,he){var $=G.call(this)||this;return $.object=ae,$.domElement=void 0!==le?le:document,$.window=void 0!==he?he:window,$.enabled=!0,$.target=new M.Vector3,$.minDistance=0,$.maxDistance=1/0,$.minZoom=0,$.maxZoom=1/0,$.minPolarAngle=0,$.maxPolarAngle=Math.PI,$.minAzimuthAngle=-1/0,$.maxAzimuthAngle=1/0,$.enableDamping=!1,$.dampingFactor=.25,$.enableZoom=!0,$.zoomSpeed=1,$.enableRotate=!0,$.rotateSpeed=1,$.enablePan=!0,$.keyPanSpeed=7,$.autoRotate=!1,$.autoRotateSpeed=2,$.enableKeys=!0,$.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},$.mouseButtons={ORBIT:M.MOUSE.LEFT,ZOOM:M.MOUSE.MIDDLE,PAN:M.MOUSE.RIGHT},$.target0=$.target.clone(),$.position0=$.object.position.clone(),$.zoom0=$.object.zoom,$.updateOffset=new M.Vector3,$.updateQuat=(new M.Quaternion).setFromUnitVectors(ae.up,new M.Vector3(0,1,0)),$.updateQuatInverse=$.updateQuat.clone().invert(),$.updateLastPosition=new M.Vector3,$.updateLastQuaternion=new M.Quaternion,$.state=-1,$.scale=1,$.spherical=new M.Spherical,$.sphericalDelta=new M.Spherical,$.panOffset=new M.Vector3,$.zoomChanged=!1,$.rotateStart=new M.Vector2,$.rotateEnd=new M.Vector2,$.rotateDelta=new M.Vector2,$.panStart=new M.Vector2,$.panEnd=new M.Vector2,$.panDelta=new M.Vector2,$.dollyStart=new M.Vector2,$.dollyEnd=new M.Vector2,$.dollyDelta=new M.Vector2,$.panLeftV=new M.Vector3,$.panUpV=new M.Vector3,$.panInternalOffset=new M.Vector3,$.onMouseDown=function(de){if(!1!==$.enabled){if(de.preventDefault(),de.button===$.mouseButtons.ORBIT){if(!1===$.enableRotate)return;$.rotateStart.set(de.clientX,de.clientY),$.state=0}else if(de.button===$.mouseButtons.ZOOM){if(!1===$.enableZoom)return;$.dollyStart.set(de.clientX,de.clientY),$.state=1}else if(de.button===$.mouseButtons.PAN){if(!1===$.enablePan)return;$.panStart.set(de.clientX,de.clientY),$.state=2}-1!==$.state&&(document.addEventListener("mousemove",$.onMouseMove,!1),document.addEventListener("mouseup",$.onMouseUp,!1),$.dispatchEvent(A))}},$.onMouseMove=function(de){if(!1!==$.enabled)if(de.preventDefault(),0===$.state){if(!1===$.enableRotate)return;$.rotateEnd.set(de.clientX,de.clientY),$.rotateDelta.subVectors($.rotateEnd,$.rotateStart);var be=$.domElement===document?$.domElement.body:$.domElement;$.rotateLeft(2*Math.PI*$.rotateDelta.x/be.clientWidth*$.rotateSpeed),$.rotateUp(2*Math.PI*$.rotateDelta.y/be.clientHeight*$.rotateSpeed),$.rotateStart.copy($.rotateEnd),$.update()}else if(1===$.state){if(!1===$.enableZoom)return;$.dollyEnd.set(de.clientX,de.clientY),$.dollyDelta.subVectors($.dollyEnd,$.dollyStart),$.dollyDelta.y>0?$.dollyIn($.getZoomScale()):$.dollyDelta.y<0&&$.dollyOut($.getZoomScale()),$.dollyStart.copy($.dollyEnd),$.update()}else if(2===$.state){if(!1===$.enablePan)return;$.panEnd.set(de.clientX,de.clientY),$.panDelta.subVectors($.panEnd,$.panStart),$.pan($.panDelta.x,$.panDelta.y),$.panStart.copy($.panEnd),$.update()}},$.onMouseUp=function(de){!1!==$.enabled&&(document.removeEventListener("mousemove",$.onMouseMove,!1),document.removeEventListener("mouseup",$.onMouseUp,!1),$.dispatchEvent(I),$.state=-1)},$.onMouseWheel=function(de){!1===$.enabled||!1===$.enableZoom||-1!==$.state&&0!==$.state||(de.preventDefault(),de.stopPropagation(),de.deltaY<0?$.dollyOut($.getZoomScale()):de.deltaY>0&&$.dollyIn($.getZoomScale()),$.update(),$.dispatchEvent(A),$.dispatchEvent(I))},$.onKeyDown=function(de){if(!1!==$.enabled&&!1!==$.enableKeys&&!1!==$.enablePan)switch(de.keyCode){case $.keys.UP:$.pan(0,$.keyPanSpeed),$.update();break;case $.keys.BOTTOM:$.pan(0,-$.keyPanSpeed),$.update();break;case $.keys.LEFT:$.pan($.keyPanSpeed,0),$.update();break;case $.keys.RIGHT:$.pan(-$.keyPanSpeed,0),$.update()}},$.onTouchStart=function(de){if(!1!==$.enabled){switch(de.touches.length){case 1:if(!1===$.enableRotate)return;$.rotateStart.set(de.touches[0].pageX,de.touches[0].pageY),$.state=3;break;case 2:if(!1===$.enableZoom)return;var be=de.touches[0].pageX-de.touches[1].pageX,Ie=de.touches[0].pageY-de.touches[1].pageY,Re=Math.sqrt(be*be+Ie*Ie);$.dollyStart.set(0,Re),$.state=4;break;case 3:if(!1===$.enablePan)return;$.panStart.set(de.touches[0].pageX,de.touches[0].pageY),$.state=5;break;default:$.state=-1}-1!==$.state&&$.dispatchEvent(A)}},$.onTouchMove=function(de){if(!1!==$.enabled)switch(de.preventDefault(),de.stopPropagation(),de.touches.length){case 1:if(!1===$.enableRotate||3!==$.state)return;$.rotateEnd.set(de.touches[0].pageX,de.touches[0].pageY),$.rotateDelta.subVectors($.rotateEnd,$.rotateStart);var be=$.domElement===document?$.domElement.body:$.domElement;$.rotateLeft(2*Math.PI*$.rotateDelta.x/be.clientWidth*$.rotateSpeed),$.rotateUp(2*Math.PI*$.rotateDelta.y/be.clientHeight*$.rotateSpeed),$.rotateStart.copy($.rotateEnd),$.update();break;case 2:if(!1===$.enableZoom||4!==$.state)return;var Ie=de.touches[0].pageX-de.touches[1].pageX,Re=de.touches[0].pageY-de.touches[1].pageY,ze=Math.sqrt(Ie*Ie+Re*Re);$.dollyEnd.set(0,ze),$.dollyDelta.subVectors($.dollyEnd,$.dollyStart),$.dollyDelta.y>0?$.dollyOut($.getZoomScale()):$.dollyDelta.y<0&&$.dollyIn($.getZoomScale()),$.dollyStart.copy($.dollyEnd),$.update();break;case 3:if(!1===$.enablePan||5!==$.state)return;$.panEnd.set(de.touches[0].pageX,de.touches[0].pageY),$.panDelta.subVectors($.panEnd,$.panStart),$.pan($.panDelta.x,$.panDelta.y),$.panStart.copy($.panEnd),$.update();break;default:$.state=-1}},$.onTouchEnd=function(de){!1!==$.enabled&&($.dispatchEvent(I),$.state=-1)},$.onContextMenu=function(de){de.preventDefault()},$.domElement.addEventListener("contextmenu",$.onContextMenu,!1),$.domElement.addEventListener("mousedown",$.onMouseDown,!1),$.domElement.addEventListener("wheel",$.onMouseWheel,!1),$.domElement.addEventListener("touchstart",$.onTouchStart,!1),$.domElement.addEventListener("touchend",$.onTouchEnd,!1),$.domElement.addEventListener("touchmove",$.onTouchMove,!1),$.window.addEventListener("keydown",$.onKeyDown,!1),$.update(),$}return O(ne,G),ne.prototype.update=function(){var ae=this.object.position;return this.updateOffset.copy(ae).sub(this.target),this.updateOffset.applyQuaternion(this.updateQuat),this.spherical.setFromVector3(this.updateOffset),this.autoRotate&&-1===this.state&&this.rotateLeft(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),this.updateOffset.setFromSpherical(this.spherical),this.updateOffset.applyQuaternion(this.updateQuatInverse),ae.copy(this.target).add(this.updateOffset),this.object.lookAt(this.target),!0===this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.panOffset.set(0,0,0),!!(this.zoomChanged||this.updateLastPosition.distanceToSquared(this.object.position)>N||8*(1-this.updateLastQuaternion.dot(this.object.quaternion))>N)&&(this.dispatchEvent(R),this.updateLastPosition.copy(this.object.position),this.updateLastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0)},ne.prototype.panLeft=function(ae,le){this.panLeftV.setFromMatrixColumn(le,0),this.panLeftV.multiplyScalar(-ae),this.panOffset.add(this.panLeftV)},ne.prototype.panUp=function(ae,le){this.panUpV.setFromMatrixColumn(le,1),this.panUpV.multiplyScalar(ae),this.panOffset.add(this.panUpV)},ne.prototype.pan=function(ae,le){var he=this.domElement===document?this.domElement.body:this.domElement;if(this._checkPerspectiveCamera(this.object)){this.panInternalOffset.copy(this.object.position).sub(this.target);var de=this.panInternalOffset.length();de*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*ae*de/he.clientHeight,this.object.matrix),this.panUp(2*le*de/he.clientHeight,this.object.matrix)}else this._checkOrthographicCamera(this.object)?(this.panLeft(ae*(this.object.right-this.object.left)/this.object.zoom/he.clientWidth,this.object.matrix),this.panUp(le*(this.object.top-this.object.bottom)/this.object.zoom/he.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)},ne.prototype.dollyIn=function(ae){this._checkPerspectiveCamera(this.object)?this.scale/=ae:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*ae)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},ne.prototype.dollyOut=function(ae){this._checkPerspectiveCamera(this.object)?this.scale*=ae:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/ae)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},ne.prototype.getAutoRotationAngle=function(){return 2*Math.PI/60/60*this.autoRotateSpeed},ne.prototype.getZoomScale=function(){return Math.pow(.95,this.zoomSpeed)},ne.prototype.rotateLeft=function(ae){this.sphericalDelta.theta-=ae},ne.prototype.rotateUp=function(ae){this.sphericalDelta.phi-=ae},ne.prototype.getPolarAngle=function(){return this.spherical.phi},ne.prototype.getAzimuthalAngle=function(){return this.spherical.theta},ne.prototype.dispose=function(){this.domElement.removeEventListener("contextmenu",this.onContextMenu,!1),this.domElement.removeEventListener("mousedown",this.onMouseDown,!1),this.domElement.removeEventListener("wheel",this.onMouseWheel,!1),this.domElement.removeEventListener("touchstart",this.onTouchStart,!1),this.domElement.removeEventListener("touchend",this.onTouchEnd,!1),this.domElement.removeEventListener("touchmove",this.onTouchMove,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.window.removeEventListener("keydown",this.onKeyDown,!1)},ne.prototype.reset=function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(R),this.update(),this.state=-1},ne.prototype.saveState=function(){this.target0.copy(this.target),this.position0.copy(this.object.position),(this._checkOrthographicCamera(this.object)||this._checkPerspectiveCamera(this.object))&&(this.zoom0=this.object.zoom)},Object.defineProperty(ne.prototype,"center",{get:function(){return console.warn("Three.OrbitControls: .center has been renamed to .target"),this.target},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"noZoom",{get:function(){return console.warn("Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(ae){console.warn("Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!ae},enumerable:!1,configurable:!0}),ne.prototype._checkPerspectiveCamera=function(ae){return ae.isPerspectiveCamera},ne.prototype._checkOrthographicCamera=function(ae){return ae.isOrthographicCamera},ne}(M.EventDispatcher);ce.OrbitControls=W},3643:(ee,ce,b)=>{"use strict";b.r(ce),b.d(ce,{ACESFilmicToneMapping:()=>Qe,AddEquation:()=>dt,AddOperation:()=>vi,AdditiveAnimationBlendMode:()=>Ep,AdditiveBlending:()=>it,AlphaFormat:()=>dh,AlwaysDepth:()=>Jn,AlwaysStencilFunc:()=>nc,AmbientLight:()=>nM,AmbientLightProbe:()=>gF,AnimationClip:()=>T_,AnimationLoader:()=>sF,AnimationMixer:()=>lM,AnimationObjectGroup:()=>vE,AnimationUtils:()=>vs,ArcCurve:()=>oE,ArrayCamera:()=>jg,ArrowHelper:()=>uA,Audio:()=>N_,AudioAnalyser:()=>KD,AudioContext:()=>GD,AudioListener:()=>$D,AudioLoader:()=>pF,AxesHelper:()=>pM,AxisHelper:()=>_v,BackSide:()=>$,BasicDepthPacking:()=>Sd,BasicShadowMap:()=>G,BinaryTextureLoader:()=>xv,Bone:()=>Yp,BooleanKeyframeTrack:()=>If,BoundingBoxHelper:()=>bv,Box2:()=>dv,Box3:()=>zs,Box3Helper:()=>RF,BoxBufferGeometry:()=>Wc,BoxGeometry:()=>Wc,BoxHelper:()=>fM,BufferAttribute:()=>Kr,BufferGeometry:()=>Br,BufferGeometryLoader:()=>BD,ByteType:()=>To,Cache:()=>Er,Camera:()=>Vo,CameraHelper:()=>TF,CanvasRenderer:()=>Ev,CanvasTexture:()=>bD,CatmullRomCurve3:()=>kD,CineonToneMapping:()=>He,CircleBufferGeometry:()=>C0,CircleGeometry:()=>C0,ClampToEdgeWrapping:()=>dn,Clock:()=>_F,Color:()=>dr,ColorKeyframeTrack:()=>nE,CompressedTexture:()=>x0,CompressedTextureLoader:()=>G0,ConeBufferGeometry:()=>E0,ConeGeometry:()=>E0,CubeCamera:()=>Rg,CubeReflectionMapping:()=>qe,CubeRefractionMapping:()=>Xe,CubeTexture:()=>Th,CubeTextureLoader:()=>DD,CubeUVReflectionMapping:()=>mt,CubeUVRefractionMapping:()=>Ct,CubicBezierCurve:()=>K0,CubicBezierCurve3:()=>aE,CubicInterpolant:()=>j0,CullFaceBack:()=>I,CullFaceFront:()=>N,CullFaceFrontBack:()=>W,CullFaceNone:()=>A,Curve:()=>bl,CurvePath:()=>lE,CustomBlending:()=>Ke,CustomToneMapping:()=>St,CylinderBufferGeometry:()=>qg,CylinderGeometry:()=>qg,Cylindrical:()=>eA,DataTexture:()=>Yc,DataTexture2DArray:()=>o0,DataTexture3D:()=>Vg,DataTextureLoader:()=>iE,DataUtils:()=>V8,DecrementStencilOp:()=>_R,DecrementWrapStencilOp:()=>Oo,DefaultLoadingManager:()=>rE,DepthFormat:()=>Ro,DepthStencilFormat:()=>wo,DepthTexture:()=>YC,DirectionalLight:()=>FD,DirectionalLightHelper:()=>EF,DiscreteInterpolant:()=>ou,DodecahedronBufferGeometry:()=>T0,DodecahedronGeometry:()=>T0,DoubleSide:()=>de,DstAlphaFactor:()=>ht,DstColorFactor:()=>$t,DynamicBufferAttribute:()=>OE,DynamicCopyUsage:()=>Xx,DynamicDrawUsage:()=>Pc,DynamicReadUsage:()=>Uw,EdgesGeometry:()=>GC,EdgesHelper:()=>wv,EllipseCurve:()=>Ms,EqualDepth:()=>Hn,EqualStencilFunc:()=>Ui,EquirectangularReflectionMapping:()=>Ze,EquirectangularRefractionMapping:()=>_t,Euler:()=>bf,EventDispatcher:()=>ji,ExtrudeBufferGeometry:()=>Nd,ExtrudeGeometry:()=>Nd,FaceColors:()=>IF,FileLoader:()=>Du,FlatShading:()=>be,Float16BufferAttribute:()=>Pp,Float32Attribute:()=>Ko,Float32BufferAttribute:()=>yr,Float64Attribute:()=>yv,Float64BufferAttribute:()=>pn,FloatType:()=>Yl,Fog:()=>Pd,FogExp2:()=>u_,Font:()=>jD,FontLoader:()=>fF,FrontSide:()=>he,Frustum:()=>Od,GLBufferAttribute:()=>_E,GLSL1:()=>Ln,GLSL3:()=>Ra,GammaEncoding:()=>zi,GreaterDepth:()=>Dn,GreaterEqualDepth:()=>Mr,GreaterEqualStencilFunc:()=>zw,GreaterStencilFunc:()=>Rp,GridHelper:()=>xE,Group:()=>Wp,HalfFloatType:()=>fs,HemisphereLight:()=>uE,HemisphereLightHelper:()=>aA,HemisphereLightProbe:()=>mF,IcosahedronBufferGeometry:()=>y_,IcosahedronGeometry:()=>y_,ImageBitmapLoader:()=>zD,ImageLoader:()=>$0,ImageUtils:()=>rc,ImmediateRenderObject:()=>cM,IncrementStencilOp:()=>Gx,IncrementWrapStencilOp:()=>_u,InstancedBufferAttribute:()=>dE,InstancedBufferGeometry:()=>Qp,InstancedInterleavedBuffer:()=>B_,InstancedMesh:()=>b0,Int16Attribute:()=>wl,Int16BufferAttribute:()=>kp,Int32Attribute:()=>wM,Int32BufferAttribute:()=>Lp,Int8Attribute:()=>UF,Int8BufferAttribute:()=>ii,IntType:()=>Wl,InterleavedBuffer:()=>nu,InterleavedBufferAttribute:()=>hc,Interpolant:()=>iu,InterpolateDiscrete:()=>yh,InterpolateLinear:()=>Ks,InterpolateSmooth:()=>Vi,InvertStencilOp:()=>bh,JSONLoader:()=>fA,KeepStencilOp:()=>Xa,KeyframeTrack:()=>qc,LOD:()=>g0,LatheBufferGeometry:()=>F0,LatheGeometry:()=>F0,Layers:()=>Gw,LensFlare:()=>mA,LessDepth:()=>Wn,LessEqualDepth:()=>Yn,LessEqualStencilFunc:()=>bg,LessStencilFunc:()=>vf,Light:()=>Au,LightProbe:()=>Ff,Line:()=>Xc,Line3:()=>tA,LineBasicMaterial:()=>ka,LineCurve:()=>A_,LineCurve3:()=>ND,LineDashedMaterial:()=>TD,LineLoop:()=>M0,LinePieces:()=>AE,LineSegments:()=>tl,LineStrip:()=>LF,LinearEncoding:()=>yn,LinearFilter:()=>Li,LinearInterpolant:()=>x_,LinearMipMapLinearFilter:()=>aa,LinearMipMapNearestFilter:()=>jl,LinearMipmapLinearFilter:()=>Xi,LinearMipmapNearestFilter:()=>fu,LinearToneMapping:()=>ur,Loader:()=>Gs,LoaderUtils:()=>I_,LoadingManager:()=>Y0,LogLuvEncoding:()=>bs,LoopOnce:()=>Xl,LoopPingPong:()=>Cp,LoopRepeat:()=>xp,LuminanceAlphaFormat:()=>bo,LuminanceFormat:()=>dl,MOUSE:()=>E,Material:()=>Bo,MaterialLoader:()=>rM,Math:()=>Dr,MathUtils:()=>Dr,Matrix3:()=>Ds,Matrix4:()=>Hr,MaxEquation:()=>Ft,Mesh:()=>un,MeshBasicMaterial:()=>Vc,MeshDepthMaterial:()=>h0,MeshDistanceMaterial:()=>f0,MeshFaceMaterial:()=>FF,MeshLambertMaterial:()=>S_,MeshMatcapMaterial:()=>U0,MeshNormalMaterial:()=>z0,MeshPhongMaterial:()=>V0,MeshPhysicalMaterial:()=>Hh,MeshStandardMaterial:()=>Bd,MeshToonMaterial:()=>tE,MinEquation:()=>Pt,MirroredRepeatWrapping:()=>xn,MixOperation:()=>gi,MultiMaterial:()=>HF,MultiplyBlending:()=>Oe,MultiplyOperation:()=>Gr,NearestFilter:()=>Un,NearestMipMapLinearFilter:()=>hi,NearestMipMapNearestFilter:()=>si,NearestMipmapLinearFilter:()=>li,NearestMipmapNearestFilter:()=>br,NeverDepth:()=>Ht,NeverStencilFunc:()=>Vw,NoBlending:()=>Re,NoColors:()=>PF,NoToneMapping:()=>di,NormalAnimationBlendMode:()=>fn,NormalBlending:()=>ze,NotEqualDepth:()=>nn,NotEqualStencilFunc:()=>Py,NumberKeyframeTrack:()=>C_,Object3D:()=>Xr,ObjectLoader:()=>dF,ObjectSpaceNormalMap:()=>Jo,OctahedronBufferGeometry:()=>H0,OctahedronGeometry:()=>H0,OneFactor:()=>Kt,OneMinusDstAlphaFactor:()=>Rt,OneMinusDstColorFactor:()=>bn,OneMinusSrcAlphaFactor:()=>ge,OneMinusSrcColorFactor:()=>It,OrthographicCamera:()=>ov,PCFShadowMap:()=>ne,PCFSoftShadowMap:()=>ae,PMREMGenerator:()=>z8,ParametricBufferGeometry:()=>Fd,ParametricGeometry:()=>Fd,Particle:()=>bM,ParticleBasicMaterial:()=>U_,ParticleSystem:()=>im,ParticleSystemMaterial:()=>VF,Path:()=>qp,PerspectiveCamera:()=>rs,Plane:()=>Ql,PlaneBufferGeometry:()=>tu,PlaneGeometry:()=>tu,PlaneHelper:()=>DF,PointCloud:()=>BF,PointCloudMaterial:()=>j8,PointLight:()=>P_,PointLightHelper:()=>xF,Points:()=>Zg,PointsMaterial:()=>Lh,PolarGridHelper:()=>CF,PolyhedronBufferGeometry:()=>Ph,PolyhedronGeometry:()=>Ph,PositionalAudio:()=>XD,PropertyBinding:()=>rl,PropertyMixer:()=>oM,QuadraticBezierCurve:()=>Z0,QuadraticBezierCurve3:()=>q0,Quaternion:()=>Sr,QuaternionKeyframeTrack:()=>tv,QuaternionLinearInterpolant:()=>W0,REVISION:()=>M,RGBADepthPacking:()=>Tp,RGBAFormat:()=>$o,RGBAIntegerFormat:()=>$a,RGBA_ASTC_10x10_Format:()=>Mp,RGBA_ASTC_10x5_Format:()=>Zi,RGBA_ASTC_10x6_Format:()=>Ur,RGBA_ASTC_10x8_Format:()=>kc,RGBA_ASTC_12x10_Format:()=>on,RGBA_ASTC_12x12_Format:()=>fl,RGBA_ASTC_4x4_Format:()=>Oc,RGBA_ASTC_5x4_Format:()=>gh,RGBA_ASTC_5x5_Format:()=>tc,RGBA_ASTC_6x5_Format:()=>eo,RGBA_ASTC_6x6_Format:()=>Gl,RGBA_ASTC_8x5_Format:()=>Ao,RGBA_ASTC_8x6_Format:()=>vh,RGBA_ASTC_8x8_Format:()=>wp,RGBA_BPTC_Format:()=>qr,RGBA_ETC2_EAC_Format:()=>qo,RGBA_PVRTC_2BPPV1_Format:()=>ec,RGBA_PVRTC_4BPPV1_Format:()=>gu,RGBA_S3TC_DXT1_Format:()=>fh,RGBA_S3TC_DXT3_Format:()=>mu,RGBA_S3TC_DXT5_Format:()=>Do,RGBDEncoding:()=>cr,RGBEEncoding:()=>_s,RGBEFormat:()=>Yo,RGBFormat:()=>Ju,RGBIntegerFormat:()=>Ga,RGBM16Encoding:()=>Md,RGBM7Encoding:()=>ps,RGB_ETC1_Format:()=>mh,RGB_ETC2_Format:()=>mf,RGB_PVRTC_2BPPV1_Format:()=>ph,RGB_PVRTC_4BPPV1_Format:()=>Qu,RGB_S3TC_DXT1_Format:()=>hh,RGFormat:()=>Ei,RGIntegerFormat:()=>Hs,RawShaderMaterial:()=>Hd,Ray:()=>Cd,Raycaster:()=>JD,RectAreaLight:()=>HD,RedFormat:()=>Xo,RedIntegerFormat:()=>hl,ReinhardToneMapping:()=>_e,RepeatWrapping:()=>qt,ReplaceStencilOp:()=>yu,ReverseSubtractEquation:()=>yt,RingBufferGeometry:()=>B0,RingGeometry:()=>B0,SRGB8_ALPHA8_ASTC_10x10_Format:()=>wd,SRGB8_ALPHA8_ASTC_10x5_Format:()=>vg,SRGB8_ALPHA8_ASTC_10x6_Format:()=>Ll,SRGB8_ALPHA8_ASTC_10x8_Format:()=>Ly,SRGB8_ALPHA8_ASTC_12x10_Format:()=>Sp,SRGB8_ALPHA8_ASTC_12x12_Format:()=>yg,SRGB8_ALPHA8_ASTC_4x4_Format:()=>Ni,SRGB8_ALPHA8_ASTC_5x4_Format:()=>bd,SRGB8_ALPHA8_ASTC_5x5_Format:()=>vu,SRGB8_ALPHA8_ASTC_6x5_Format:()=>Rs,SRGB8_ALPHA8_ASTC_6x6_Format:()=>$l,SRGB8_ALPHA8_ASTC_8x5_Format:()=>Ea,SRGB8_ALPHA8_ASTC_8x6_Format:()=>gg,SRGB8_ALPHA8_ASTC_8x8_Format:()=>gf,Scene:()=>_i,SceneUtils:()=>pA,ShaderChunk:()=>to,ShaderLib:()=>dc,ShaderMaterial:()=>Os,ShadowMaterial:()=>M_,Shape:()=>Jp,ShapeBufferGeometry:()=>Jg,ShapeGeometry:()=>Jg,ShapePath:()=>UD,ShapeUtils:()=>Fh,ShortType:()=>hs,Skeleton:()=>f_,SkeletonHelper:()=>rA,SkinnedMesh:()=>h_,SmoothShading:()=>Ie,Sphere:()=>xd,SphereBufferGeometry:()=>Qg,SphereGeometry:()=>Qg,Spherical:()=>SF,SphericalHarmonics3:()=>sv,SplineCurve:()=>J0,SpotLight:()=>Ou,SpotLightHelper:()=>wE,Sprite:()=>FC,SpriteMaterial:()=>fc,SrcAlphaFactor:()=>Fe,SrcAlphaSaturateFactor:()=>Sn,SrcColorFactor:()=>Zt,StaticCopyUsage:()=>fi,StaticDrawUsage:()=>Kl,StaticReadUsage:()=>$x,StereoCamera:()=>H8,StreamCopyUsage:()=>jw,StreamDrawUsage:()=>Si,StreamReadUsage:()=>Iy,StringKeyframeTrack:()=>Nf,SubtractEquation:()=>rt,SubtractiveBlending:()=>We,TOUCH:()=>R,TangentSpaceNormalMap:()=>Bs,TetrahedronBufferGeometry:()=>ev,TetrahedronGeometry:()=>ev,TextBufferGeometry:()=>__,TextGeometry:()=>__,Texture:()=>uo,TextureLoader:()=>R_,TorusBufferGeometry:()=>Kp,TorusGeometry:()=>Kp,TorusKnotBufferGeometry:()=>Zp,TorusKnotGeometry:()=>Zp,Triangle:()=>Qo,TriangleFanDrawMode:()=>Et,TriangleStripDrawMode:()=>Pr,TrianglesDrawMode:()=>ti,TubeBufferGeometry:()=>b_,TubeGeometry:()=>b_,UVMapping:()=>ct,Uint16Attribute:()=>om,Uint16BufferAttribute:()=>Ch,Uint32Attribute:()=>mc,Uint32BufferAttribute:()=>Ad,Uint8Attribute:()=>jd,Uint8BufferAttribute:()=>Sf,Uint8ClampedAttribute:()=>j_,Uint8ClampedBufferAttribute:()=>Cg,Uniform:()=>H_,UniformsLib:()=>ir,UniformsUtils:()=>Yy,UnsignedByteType:()=>la,UnsignedInt248Type:()=>nr,UnsignedIntType:()=>pu,UnsignedShort4444Type:()=>mg,UnsignedShort5551Type:()=>Ac,UnsignedShort565Type:()=>Ca,UnsignedShortType:()=>Ki,VSMShadowMap:()=>le,Vector2:()=>_n,Vector3:()=>Ee,Vector4:()=>Ti,VectorKeyframeTrack:()=>E_,Vertex:()=>zF,VertexColors:()=>NF,VideoTexture:()=>_D,WebGL1Renderer:()=>Lf,WebGLCubeRenderTarget:()=>Dg,WebGLMultisampleRenderTarget:()=>yi,WebGLRenderTarget:()=>Qn,WebGLRenderTargetCube:()=>Cv,WebGLRenderer:()=>es,WebGLUtils:()=>lD,WireframeGeometry:()=>w_,WireframeHelper:()=>Mv,WrapAroundEnding:()=>_h,XHRLoader:()=>Sv,ZeroCurvatureEnding:()=>Ta,ZeroFactor:()=>Gt,ZeroSlopeEnding:()=>Lc,ZeroStencilOp:()=>_g,sRGBEncoding:()=>er});var O=b(1670);const M="126",E={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},R={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},A=0,I=1,N=2,W=3,G=0,ne=1,ae=2,le=3,he=0,$=1,de=2,be=1,Ie=2,Re=0,ze=1,it=2,We=3,Oe=4,Ke=5,dt=100,rt=101,yt=102,Pt=103,Ft=104,Gt=200,Kt=201,Zt=202,It=203,Fe=204,ge=205,ht=206,Rt=207,$t=208,bn=209,Sn=210,Ht=0,Jn=1,Wn=2,Yn=3,Hn=4,Mr=5,Dn=6,nn=7,Gr=0,gi=1,vi=2,di=0,ur=1,_e=2,He=3,Qe=4,St=5,ct=300,qe=301,Xe=302,Ze=303,_t=304,mt=306,Ct=307,qt=1e3,dn=1001,xn=1002,Un=1003,br=1004,si=1004,li=1005,hi=1005,Li=1006,fu=1007,jl=1007,Xi=1008,aa=1008,la=1009,To=1010,hs=1011,Ki=1012,Wl=1013,pu=1014,Yl=1015,fs=1016,mg=1017,Ac=1018,Ca=1019,nr=1020,dh=1021,Ju=1022,$o=1023,dl=1024,bo=1025,Yo=$o,Ro=1026,wo=1027,Xo=1028,hl=1029,Ei=1030,Hs=1031,Ga=1032,$a=1033,hh=33776,fh=33777,mu=33778,Do=33779,Qu=35840,ph=35841,gu=35842,ec=35843,mh=36196,mf=37492,qo=37496,Oc=37808,gh=37809,tc=37810,eo=37811,Gl=37812,Ao=37813,vh=37814,wp=37815,Zi=37816,Ur=37817,kc=37818,Mp=37819,on=37820,fl=37821,qr=36492,Ni=37840,bd=37841,vu=37842,Rs=37843,$l=37844,Ea=37845,gg=37846,gf=37847,vg=37848,Ll=37849,Ly=37850,wd=37851,Sp=37852,yg=37853,Xl=2200,xp=2201,Cp=2202,yh=2300,Ks=2301,Vi=2302,Ta=2400,Lc=2401,_h=2402,fn=2500,Ep=2501,ti=0,Pr=1,Et=2,yn=3e3,er=3001,zi=3007,_s=3002,bs=3003,ps=3004,Md=3005,cr=3006,Sd=3200,Tp=3201,Bs=0,Jo=1,_g=0,Xa=7680,yu=7681,Gx=7682,_R=7683,_u=34055,Oo=34056,bh=5386,Vw=512,vf=513,Ui=514,bg=515,Rp=516,Py=517,zw=518,nc=519,Kl=35044,Pc=35048,Si=35040,$x=35045,Uw=35049,Iy=35041,fi=35046,Xx=35050,jw=35042,Ln="100",Ra="300 es";function ji(){}Object.assign(ji.prototype,{addEventListener:function(f,l){void 0===this._listeners&&(this._listeners={});const d=this._listeners;void 0===d[f]&&(d[f]=[]),-1===d[f].indexOf(l)&&d[f].push(l)},hasEventListener:function(f,l){if(void 0===this._listeners)return!1;const d=this._listeners;return void 0!==d[f]&&-1!==d[f].indexOf(l)},removeEventListener:function(f,l){if(void 0===this._listeners)return;const m=this._listeners[f];if(void 0!==m){const v=m.indexOf(l);-1!==v&&m.splice(v,1)}},dispatchEvent:function(f){if(void 0===this._listeners)return;const d=this._listeners[f.type];if(void 0!==d){f.target=this;const m=d.slice(0);for(let v=0,_=m.length;v<_;v++)m[v].call(this,f)}}});const ko=[];for(let f=0;f<256;f++)ko[f]=(f<16?"0":"")+f.toString(16);let ms=1234567;const Dr={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const f=4294967295*Math.random()|0,l=4294967295*Math.random()|0,d=4294967295*Math.random()|0,m=4294967295*Math.random()|0;return(ko[255&f]+ko[f>>8&255]+ko[f>>16&255]+ko[f>>24&255]+"-"+ko[255&l]+ko[l>>8&255]+"-"+ko[l>>16&15|64]+ko[l>>24&255]+"-"+ko[63&d|128]+ko[d>>8&255]+"-"+ko[d>>16&255]+ko[d>>24&255]+ko[255&m]+ko[m>>8&255]+ko[m>>16&255]+ko[m>>24&255]).toUpperCase()},clamp:function(f,l,d){return Math.max(l,Math.min(d,f))},euclideanModulo:function(f,l){return(f%l+l)%l},mapLinear:function(f,l,d,m,v){return m+(f-l)*(v-m)/(d-l)},lerp:function(f,l,d){return(1-d)*f+d*l},damp:function(f,l,d,m){return Dr.lerp(f,l,1-Math.exp(-d*m))},pingpong:function(f,l=1){return l-Math.abs(Dr.euclideanModulo(f,2*l)-l)},smoothstep:function(f,l,d){return f<=l?0:f>=d?1:(f=(f-l)/(d-l))*f*(3-2*f)},smootherstep:function(f,l,d){return f<=l?0:f>=d?1:(f=(f-l)/(d-l))*f*f*(f*(6*f-15)+10)},randInt:function(f,l){return f+Math.floor(Math.random()*(l-f+1))},randFloat:function(f,l){return f+Math.random()*(l-f)},randFloatSpread:function(f){return f*(.5-Math.random())},seededRandom:function(f){return void 0!==f&&(ms=f%2147483647),ms=16807*ms%2147483647,(ms-1)/2147483646},degToRad:function(f){return f*Dr.DEG2RAD},radToDeg:function(f){return f*Dr.RAD2DEG},isPowerOfTwo:function(f){return 0==(f&f-1)&&0!==f},ceilPowerOfTwo:function(f){return Math.pow(2,Math.ceil(Math.log(f)/Math.LN2))},floorPowerOfTwo:function(f){return Math.pow(2,Math.floor(Math.log(f)/Math.LN2))},setQuaternionFromProperEuler:function(f,l,d,m,v){const _=Math.cos,x=Math.sin,D=_(d/2),L=x(d/2),k=_((l+m)/2),U=x((l+m)/2),H=_((l-m)/2),V=x((l-m)/2),Y=_((m-l)/2),J=x((m-l)/2);switch(v){case"XYX":f.set(D*U,L*H,L*V,D*k);break;case"YZY":f.set(L*V,D*U,L*H,D*k);break;case"ZXZ":f.set(L*H,L*V,D*U,D*k);break;case"XZX":f.set(D*U,L*J,L*Y,D*k);break;case"YXY":f.set(L*Y,D*U,L*J,D*k);break;case"ZYZ":f.set(L*J,L*Y,D*U,D*k);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+v)}}};class _n{constructor(l=0,d=0){this.x=l,this.y=d}get width(){return this.x}set width(l){this.x=l}get height(){return this.y}set height(l){this.y=l}set(l,d){return this.x=l,this.y=d,this}setScalar(l){return this.x=l,this.y=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y)}copy(l){return this.x=l.x,this.y=l.y,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this)}addScalar(l){return this.x+=l,this.y+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this)}subScalar(l){return this.x-=l,this.y-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this}multiply(l){return this.x*=l.x,this.y*=l.y,this}multiplyScalar(l){return this.x*=l,this.y*=l,this}divide(l){return this.x/=l.x,this.y/=l.y,this}divideScalar(l){return this.multiplyScalar(1/l)}applyMatrix3(l){const d=this.x,m=this.y,v=l.elements;return this.x=v[0]*d+v[3]*m+v[6],this.y=v[1]*d+v[4]*m+v[7],this}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(l){return this.x*l.x+this.y*l.y}cross(l){return this.x*l.y-this.y*l.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(l){return Math.sqrt(this.distanceToSquared(l))}distanceToSquared(l){const d=this.x-l.x,m=this.y-l.y;return d*d+m*m}manhattanDistanceTo(l){return Math.abs(this.x-l.x)+Math.abs(this.y-l.y)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this}equals(l){return l.x===this.x&&l.y===this.y}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this}rotateAround(l,d){const m=Math.cos(d),v=Math.sin(d),_=this.x-l.x,x=this.y-l.y;return this.x=_*m-x*v+l.x,this.y=_*v+x*m+l.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}_n.prototype.isVector2=!0;class Ds{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(l,d,m,v,_,x,D,L,k){const U=this.elements;return U[0]=l,U[1]=v,U[2]=D,U[3]=d,U[4]=_,U[5]=L,U[6]=m,U[7]=x,U[8]=k,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(l){const d=this.elements,m=l.elements;return d[0]=m[0],d[1]=m[1],d[2]=m[2],d[3]=m[3],d[4]=m[4],d[5]=m[5],d[6]=m[6],d[7]=m[7],d[8]=m[8],this}extractBasis(l,d,m){return l.setFromMatrix3Column(this,0),d.setFromMatrix3Column(this,1),m.setFromMatrix3Column(this,2),this}setFromMatrix4(l){const d=l.elements;return this.set(d[0],d[4],d[8],d[1],d[5],d[9],d[2],d[6],d[10]),this}multiply(l){return this.multiplyMatrices(this,l)}premultiply(l){return this.multiplyMatrices(l,this)}multiplyMatrices(l,d){const m=l.elements,v=d.elements,_=this.elements,x=m[0],D=m[3],L=m[6],k=m[1],U=m[4],H=m[7],V=m[2],Y=m[5],J=m[8],te=v[0],se=v[3],oe=v[6],K=v[1],De=v[4],Ce=v[7],Ve=v[2],Se=v[5],nt=v[8];return _[0]=x*te+D*K+L*Ve,_[3]=x*se+D*De+L*Se,_[6]=x*oe+D*Ce+L*nt,_[1]=k*te+U*K+H*Ve,_[4]=k*se+U*De+H*Se,_[7]=k*oe+U*Ce+H*nt,_[2]=V*te+Y*K+J*Ve,_[5]=V*se+Y*De+J*Se,_[8]=V*oe+Y*Ce+J*nt,this}multiplyScalar(l){const d=this.elements;return d[0]*=l,d[3]*=l,d[6]*=l,d[1]*=l,d[4]*=l,d[7]*=l,d[2]*=l,d[5]*=l,d[8]*=l,this}determinant(){const l=this.elements,d=l[0],m=l[1],v=l[2],_=l[3],x=l[4],D=l[5],L=l[6],k=l[7],U=l[8];return d*x*U-d*D*k-m*_*U+m*D*L+v*_*k-v*x*L}invert(){const l=this.elements,d=l[0],m=l[1],v=l[2],_=l[3],x=l[4],D=l[5],L=l[6],k=l[7],U=l[8],H=U*x-D*k,V=D*L-U*_,Y=k*_-x*L,J=d*H+m*V+v*Y;if(0===J)return this.set(0,0,0,0,0,0,0,0,0);const te=1/J;return l[0]=H*te,l[1]=(v*k-U*m)*te,l[2]=(D*m-v*x)*te,l[3]=V*te,l[4]=(U*d-v*L)*te,l[5]=(v*_-D*d)*te,l[6]=Y*te,l[7]=(m*L-k*d)*te,l[8]=(x*d-m*_)*te,this}transpose(){let l;const d=this.elements;return l=d[1],d[1]=d[3],d[3]=l,l=d[2],d[2]=d[6],d[6]=l,l=d[5],d[5]=d[7],d[7]=l,this}getNormalMatrix(l){return this.setFromMatrix4(l).invert().transpose()}transposeIntoArray(l){const d=this.elements;return l[0]=d[0],l[1]=d[3],l[2]=d[6],l[3]=d[1],l[4]=d[4],l[5]=d[7],l[6]=d[2],l[7]=d[5],l[8]=d[8],this}setUvTransform(l,d,m,v,_,x,D){const L=Math.cos(_),k=Math.sin(_);return this.set(m*L,m*k,-m*(L*x+k*D)+x+l,-v*k,v*L,-v*(-k*x+L*D)+D+d,0,0,1),this}scale(l,d){const m=this.elements;return m[0]*=l,m[3]*=l,m[6]*=l,m[1]*=d,m[4]*=d,m[7]*=d,this}rotate(l){const d=Math.cos(l),m=Math.sin(l),v=this.elements,_=v[0],x=v[3],D=v[6],L=v[1],k=v[4],U=v[7];return v[0]=d*_+m*L,v[3]=d*x+m*k,v[6]=d*D+m*U,v[1]=-m*_+d*L,v[4]=-m*x+d*k,v[7]=-m*D+d*U,this}translate(l,d){const m=this.elements;return m[0]+=l*m[2],m[3]+=l*m[5],m[6]+=l*m[8],m[1]+=d*m[2],m[4]+=d*m[5],m[7]+=d*m[8],this}equals(l){const d=this.elements,m=l.elements;for(let v=0;v<9;v++)if(d[v]!==m[v])return!1;return!0}fromArray(l,d=0){for(let m=0;m<9;m++)this.elements[m]=l[m+d];return this}toArray(l=[],d=0){const m=this.elements;return l[d]=m[0],l[d+1]=m[1],l[d+2]=m[2],l[d+3]=m[3],l[d+4]=m[4],l[d+5]=m[5],l[d+6]=m[6],l[d+7]=m[7],l[d+8]=m[8],l}clone(){return(new this.constructor).fromArray(this.elements)}}let Zl;Ds.prototype.isMatrix3=!0;const rc={getDataURL:function(f){if(/^data:/i.test(f.src)||"undefined"==typeof HTMLCanvasElement)return f.src;let l;if(f instanceof HTMLCanvasElement)l=f;else{void 0===Zl&&(Zl=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Zl.width=f.width,Zl.height=f.height;const d=Zl.getContext("2d");f instanceof ImageData?d.putImageData(f,0,0):d.drawImage(f,0,0,f.width,f.height),l=Zl}return l.width>2048||l.height>2048?l.toDataURL("image/jpeg",.6):l.toDataURL("image/png")}};let wh=0;class uo extends ji{constructor(l=uo.DEFAULT_IMAGE,d=uo.DEFAULT_MAPPING,m=dn,v=dn,_=Li,x=Xi,D=$o,L=la,k=1,U=yn){super(),Object.defineProperty(this,"id",{value:wh++}),this.uuid=Dr.generateUUID(),this.name="",this.image=l,this.mipmaps=[],this.mapping=d,this.wrapS=m,this.wrapT=v,this.magFilter=_,this.minFilter=x,this.anisotropy=k,this.format=D,this.internalFormat=null,this.type=L,this.offset=new _n(0,0),this.repeat=new _n(1,1),this.center=new _n(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ds,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=U,this.version=0,this.onUpdate=null}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(l){return this.name=l.name,this.image=l.image,this.mipmaps=l.mipmaps.slice(0),this.mapping=l.mapping,this.wrapS=l.wrapS,this.wrapT=l.wrapT,this.magFilter=l.magFilter,this.minFilter=l.minFilter,this.anisotropy=l.anisotropy,this.format=l.format,this.internalFormat=l.internalFormat,this.type=l.type,this.offset.copy(l.offset),this.repeat.copy(l.repeat),this.center.copy(l.center),this.rotation=l.rotation,this.matrixAutoUpdate=l.matrixAutoUpdate,this.matrix.copy(l.matrix),this.generateMipmaps=l.generateMipmaps,this.premultiplyAlpha=l.premultiplyAlpha,this.flipY=l.flipY,this.unpackAlignment=l.unpackAlignment,this.encoding=l.encoding,this}toJSON(l){const d=void 0===l||"string"==typeof l;if(!d&&void 0!==l.textures[this.uuid])return l.textures[this.uuid];const m={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const v=this.image;if(void 0===v.uuid&&(v.uuid=Dr.generateUUID()),!d&&void 0===l.images[v.uuid]){let _;if(Array.isArray(v)){_=[];for(let x=0,D=v.length;x<D;x++)_.push(Ny(v[x].isDataTexture?v[x].image:v[x]))}else _=Ny(v);l.images[v.uuid]={uuid:v.uuid,url:_}}m.image=v.uuid}return d||(l.textures[this.uuid]=m),m}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(l){if(this.mapping!==ct)return l;if(l.applyMatrix3(this.matrix),l.x<0||l.x>1)switch(this.wrapS){case qt:l.x=l.x-Math.floor(l.x);break;case dn:l.x=l.x<0?0:1;break;case xn:l.x=1===Math.abs(Math.floor(l.x)%2)?Math.ceil(l.x)-l.x:l.x-Math.floor(l.x)}if(l.y<0||l.y>1)switch(this.wrapT){case qt:l.y=l.y-Math.floor(l.y);break;case dn:l.y=l.y<0?0:1;break;case xn:l.y=1===Math.abs(Math.floor(l.y)%2)?Math.ceil(l.y)-l.y:l.y-Math.floor(l.y)}return this.flipY&&(l.y=1-l.y),l}set needsUpdate(l){!0===l&&this.version++}}function Ny(f){return"undefined"!=typeof HTMLImageElement&&f instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&f instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&f instanceof ImageBitmap?rc.getDataURL(f):f.data?{data:Array.prototype.slice.call(f.data),width:f.width,height:f.height,type:f.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}uo.DEFAULT_IMAGE=void 0,uo.DEFAULT_MAPPING=ct,uo.prototype.isTexture=!0;class Ti{constructor(l=0,d=0,m=0,v=1){this.x=l,this.y=d,this.z=m,this.w=v}get width(){return this.z}set width(l){this.z=l}get height(){return this.w}set height(l){this.w=l}set(l,d,m,v){return this.x=l,this.y=d,this.z=m,this.w=v,this}setScalar(l){return this.x=l,this.y=l,this.z=l,this.w=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setZ(l){return this.z=l,this}setW(l){return this.w=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;case 2:this.z=d;break;case 3:this.w=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(l){return this.x=l.x,this.y=l.y,this.z=l.z,this.w=void 0!==l.w?l.w:1,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this.z+=l.z,this.w+=l.w,this)}addScalar(l){return this.x+=l,this.y+=l,this.z+=l,this.w+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this.z=l.z+d.z,this.w=l.w+d.w,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this.z+=l.z*d,this.w+=l.w*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this.z-=l.z,this.w-=l.w,this)}subScalar(l){return this.x-=l,this.y-=l,this.z-=l,this.w-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this.z=l.z-d.z,this.w=l.w-d.w,this}multiply(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z,this.w*=l.w,this}multiplyScalar(l){return this.x*=l,this.y*=l,this.z*=l,this.w*=l,this}applyMatrix4(l){const d=this.x,m=this.y,v=this.z,_=this.w,x=l.elements;return this.x=x[0]*d+x[4]*m+x[8]*v+x[12]*_,this.y=x[1]*d+x[5]*m+x[9]*v+x[13]*_,this.z=x[2]*d+x[6]*m+x[10]*v+x[14]*_,this.w=x[3]*d+x[7]*m+x[11]*v+x[15]*_,this}divideScalar(l){return this.multiplyScalar(1/l)}setAxisAngleFromQuaternion(l){this.w=2*Math.acos(l.w);const d=Math.sqrt(1-l.w*l.w);return d<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=l.x/d,this.y=l.y/d,this.z=l.z/d),this}setAxisAngleFromRotationMatrix(l){let d,m,v,_;const L=l.elements,k=L[0],U=L[4],H=L[8],V=L[1],Y=L[5],J=L[9],te=L[2],se=L[6],oe=L[10];if(Math.abs(U-V)<.01&&Math.abs(H-te)<.01&&Math.abs(J-se)<.01){if(Math.abs(U+V)<.1&&Math.abs(H+te)<.1&&Math.abs(J+se)<.1&&Math.abs(k+Y+oe-3)<.1)return this.set(1,0,0,0),this;d=Math.PI;const De=(k+1)/2,Ce=(Y+1)/2,Ve=(oe+1)/2,Se=(U+V)/4,nt=(H+te)/4,Dt=(J+se)/4;return De>Ce&&De>Ve?De<.01?(m=0,v=.707106781,_=.707106781):(m=Math.sqrt(De),v=Se/m,_=nt/m):Ce>Ve?Ce<.01?(m=.707106781,v=0,_=.707106781):(v=Math.sqrt(Ce),m=Se/v,_=Dt/v):Ve<.01?(m=.707106781,v=.707106781,_=0):(_=Math.sqrt(Ve),m=nt/_,v=Dt/_),this.set(m,v,_,d),this}let K=Math.sqrt((se-J)*(se-J)+(H-te)*(H-te)+(V-U)*(V-U));return Math.abs(K)<.001&&(K=1),this.x=(se-J)/K,this.y=(H-te)/K,this.z=(V-U)/K,this.w=Math.acos((k+Y+oe-1)/2),this}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this.w=Math.min(this.w,l.w),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this.w=Math.max(this.w,l.w),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this.z=Math.max(l.z,Math.min(d.z,this.z)),this.w=Math.max(l.w,Math.min(d.w,this.w)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this.z=Math.max(l,Math.min(d,this.z)),this.w=Math.max(l,Math.min(d,this.w)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(l){return this.x*l.x+this.y*l.y+this.z*l.z+this.w*l.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this.z+=(l.z-this.z)*d,this.w+=(l.w-this.w)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this.z=l.z+(d.z-l.z)*m,this.w=l.w+(d.w-l.w)*m,this}equals(l){return l.x===this.x&&l.y===this.y&&l.z===this.z&&l.w===this.w}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this.z=l[d+2],this.w=l[d+3],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l[d+2]=this.z,l[d+3]=this.w,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this.z=l.getZ(d),this.w=l.getW(d),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}Ti.prototype.isVector4=!0;class Qn extends ji{constructor(l,d,m){super(),this.width=l,this.height=d,this.depth=1,this.scissor=new Ti(0,0,l,d),this.scissorTest=!1,this.viewport=new Ti(0,0,l,d),this.texture=new uo(void 0,(m=m||{}).mapping,m.wrapS,m.wrapT,m.magFilter,m.minFilter,m.format,m.type,m.anisotropy,m.encoding),this.texture.image={},this.texture.image.width=l,this.texture.image.height=d,this.texture.image.depth=1,this.texture.generateMipmaps=void 0!==m.generateMipmaps&&m.generateMipmaps,this.texture.minFilter=void 0!==m.minFilter?m.minFilter:Li,this.depthBuffer=void 0===m.depthBuffer||m.depthBuffer,this.stencilBuffer=void 0!==m.stencilBuffer&&m.stencilBuffer,this.depthTexture=void 0!==m.depthTexture?m.depthTexture:null}setTexture(l){l.image={width:this.width,height:this.height,depth:this.depth},this.texture=l}setSize(l,d,m=1){(this.width!==l||this.height!==d||this.depth!==m)&&(this.width=l,this.height=d,this.depth=m,this.texture.image.width=l,this.texture.image.height=d,this.texture.image.depth=m,this.dispose()),this.viewport.set(0,0,l,d),this.scissor.set(0,0,l,d)}clone(){return(new this.constructor).copy(this)}copy(l){return this.width=l.width,this.height=l.height,this.depth=l.depth,this.viewport.copy(l.viewport),this.texture=l.texture.clone(),this.depthBuffer=l.depthBuffer,this.stencilBuffer=l.stencilBuffer,this.depthTexture=l.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Qn.prototype.isWebGLRenderTarget=!0;class yi extends Qn{constructor(l,d,m){super(l,d,m),this.samples=4}copy(l){return super.copy.call(this,l),this.samples=l.samples,this}}yi.prototype.isWebGLMultisampleRenderTarget=!0;class Sr{constructor(l=0,d=0,m=0,v=1){this._x=l,this._y=d,this._z=m,this._w=v}static slerp(l,d,m,v){return m.copy(l).slerp(d,v)}static slerpFlat(l,d,m,v,_,x,D){let L=m[v+0],k=m[v+1],U=m[v+2],H=m[v+3];const V=_[x+0],Y=_[x+1],J=_[x+2],te=_[x+3];if(0===D)return l[d+0]=L,l[d+1]=k,l[d+2]=U,void(l[d+3]=H);if(1===D)return l[d+0]=V,l[d+1]=Y,l[d+2]=J,void(l[d+3]=te);if(H!==te||L!==V||k!==Y||U!==J){let se=1-D;const oe=L*V+k*Y+U*J+H*te,K=oe>=0?1:-1,De=1-oe*oe;if(De>Number.EPSILON){const Ve=Math.sqrt(De),Se=Math.atan2(Ve,oe*K);se=Math.sin(se*Se)/Ve,D=Math.sin(D*Se)/Ve}const Ce=D*K;if(L=L*se+V*Ce,k=k*se+Y*Ce,U=U*se+J*Ce,H=H*se+te*Ce,se===1-D){const Ve=1/Math.sqrt(L*L+k*k+U*U+H*H);L*=Ve,k*=Ve,U*=Ve,H*=Ve}}l[d]=L,l[d+1]=k,l[d+2]=U,l[d+3]=H}static multiplyQuaternionsFlat(l,d,m,v,_,x){const D=m[v],L=m[v+1],k=m[v+2],U=m[v+3],H=_[x],V=_[x+1],Y=_[x+2],J=_[x+3];return l[d]=D*J+U*H+L*Y-k*V,l[d+1]=L*J+U*V+k*H-D*Y,l[d+2]=k*J+U*Y+D*V-L*H,l[d+3]=U*J-D*H-L*V-k*Y,l}get x(){return this._x}set x(l){this._x=l,this._onChangeCallback()}get y(){return this._y}set y(l){this._y=l,this._onChangeCallback()}get z(){return this._z}set z(l){this._z=l,this._onChangeCallback()}get w(){return this._w}set w(l){this._w=l,this._onChangeCallback()}set(l,d,m,v){return this._x=l,this._y=d,this._z=m,this._w=v,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(l){return this._x=l.x,this._y=l.y,this._z=l.z,this._w=l.w,this._onChangeCallback(),this}setFromEuler(l,d){if(!l||!l.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const m=l._x,v=l._y,_=l._z,x=l._order,D=Math.cos,L=Math.sin,k=D(m/2),U=D(v/2),H=D(_/2),V=L(m/2),Y=L(v/2),J=L(_/2);switch(x){case"XYZ":this._x=V*U*H+k*Y*J,this._y=k*Y*H-V*U*J,this._z=k*U*J+V*Y*H,this._w=k*U*H-V*Y*J;break;case"YXZ":this._x=V*U*H+k*Y*J,this._y=k*Y*H-V*U*J,this._z=k*U*J-V*Y*H,this._w=k*U*H+V*Y*J;break;case"ZXY":this._x=V*U*H-k*Y*J,this._y=k*Y*H+V*U*J,this._z=k*U*J+V*Y*H,this._w=k*U*H-V*Y*J;break;case"ZYX":this._x=V*U*H-k*Y*J,this._y=k*Y*H+V*U*J,this._z=k*U*J-V*Y*H,this._w=k*U*H+V*Y*J;break;case"YZX":this._x=V*U*H+k*Y*J,this._y=k*Y*H+V*U*J,this._z=k*U*J-V*Y*H,this._w=k*U*H-V*Y*J;break;case"XZY":this._x=V*U*H-k*Y*J,this._y=k*Y*H-V*U*J,this._z=k*U*J+V*Y*H,this._w=k*U*H+V*Y*J;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+x)}return!1!==d&&this._onChangeCallback(),this}setFromAxisAngle(l,d){const m=d/2,v=Math.sin(m);return this._x=l.x*v,this._y=l.y*v,this._z=l.z*v,this._w=Math.cos(m),this._onChangeCallback(),this}setFromRotationMatrix(l){const d=l.elements,m=d[0],v=d[4],_=d[8],x=d[1],D=d[5],L=d[9],k=d[2],U=d[6],H=d[10],V=m+D+H;if(V>0){const Y=.5/Math.sqrt(V+1);this._w=.25/Y,this._x=(U-L)*Y,this._y=(_-k)*Y,this._z=(x-v)*Y}else if(m>D&&m>H){const Y=2*Math.sqrt(1+m-D-H);this._w=(U-L)/Y,this._x=.25*Y,this._y=(v+x)/Y,this._z=(_+k)/Y}else if(D>H){const Y=2*Math.sqrt(1+D-m-H);this._w=(_-k)/Y,this._x=(v+x)/Y,this._y=.25*Y,this._z=(L+U)/Y}else{const Y=2*Math.sqrt(1+H-m-D);this._w=(x-v)/Y,this._x=(_+k)/Y,this._y=(L+U)/Y,this._z=.25*Y}return this._onChangeCallback(),this}setFromUnitVectors(l,d){let v=l.dot(d)+1;return v<1e-6?(v=0,Math.abs(l.x)>Math.abs(l.z)?(this._x=-l.y,this._y=l.x,this._z=0,this._w=v):(this._x=0,this._y=-l.z,this._z=l.y,this._w=v)):(this._x=l.y*d.z-l.z*d.y,this._y=l.z*d.x-l.x*d.z,this._z=l.x*d.y-l.y*d.x,this._w=v),this.normalize()}angleTo(l){return 2*Math.acos(Math.abs(Dr.clamp(this.dot(l),-1,1)))}rotateTowards(l,d){const m=this.angleTo(l);if(0===m)return this;const v=Math.min(1,d/m);return this.slerp(l,v),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(l){return this._x*l._x+this._y*l._y+this._z*l._z+this._w*l._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let l=this.length();return 0===l?(this._x=0,this._y=0,this._z=0,this._w=1):(l=1/l,this._x=this._x*l,this._y=this._y*l,this._z=this._z*l,this._w=this._w*l),this._onChangeCallback(),this}multiply(l,d){return void 0!==d?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(l,d)):this.multiplyQuaternions(this,l)}premultiply(l){return this.multiplyQuaternions(l,this)}multiplyQuaternions(l,d){const m=l._x,v=l._y,_=l._z,x=l._w,D=d._x,L=d._y,k=d._z,U=d._w;return this._x=m*U+x*D+v*k-_*L,this._y=v*U+x*L+_*D-m*k,this._z=_*U+x*k+m*L-v*D,this._w=x*U-m*D-v*L-_*k,this._onChangeCallback(),this}slerp(l,d){if(0===d)return this;if(1===d)return this.copy(l);const m=this._x,v=this._y,_=this._z,x=this._w;let D=x*l._w+m*l._x+v*l._y+_*l._z;if(D<0?(this._w=-l._w,this._x=-l._x,this._y=-l._y,this._z=-l._z,D=-D):this.copy(l),D>=1)return this._w=x,this._x=m,this._y=v,this._z=_,this;const L=1-D*D;if(L<=Number.EPSILON){const Y=1-d;return this._w=Y*x+d*this._w,this._x=Y*m+d*this._x,this._y=Y*v+d*this._y,this._z=Y*_+d*this._z,this.normalize(),this._onChangeCallback(),this}const k=Math.sqrt(L),U=Math.atan2(k,D),H=Math.sin((1-d)*U)/k,V=Math.sin(d*U)/k;return this._w=x*H+this._w*V,this._x=m*H+this._x*V,this._y=v*H+this._y*V,this._z=_*H+this._z*V,this._onChangeCallback(),this}equals(l){return l._x===this._x&&l._y===this._y&&l._z===this._z&&l._w===this._w}fromArray(l,d=0){return this._x=l[d],this._y=l[d+1],this._z=l[d+2],this._w=l[d+3],this._onChangeCallback(),this}toArray(l=[],d=0){return l[d]=this._x,l[d+1]=this._y,l[d+2]=this._z,l[d+3]=this._w,l}fromBufferAttribute(l,d){return this._x=l.getX(d),this._y=l.getY(d),this._z=l.getZ(d),this._w=l.getW(d),this}_onChange(l){return this._onChangeCallback=l,this}_onChangeCallback(){}}Sr.prototype.isQuaternion=!0;class Ee{constructor(l=0,d=0,m=0){this.x=l,this.y=d,this.z=m}set(l,d,m){return void 0===m&&(m=this.z),this.x=l,this.y=d,this.z=m,this}setScalar(l){return this.x=l,this.y=l,this.z=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setZ(l){return this.z=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;case 2:this.z=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(l){return this.x=l.x,this.y=l.y,this.z=l.z,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this.z+=l.z,this)}addScalar(l){return this.x+=l,this.y+=l,this.z+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this.z=l.z+d.z,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this.z+=l.z*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this.z-=l.z,this)}subScalar(l){return this.x-=l,this.y-=l,this.z-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this.z=l.z-d.z,this}multiply(l,d){return void 0!==d?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(l,d)):(this.x*=l.x,this.y*=l.y,this.z*=l.z,this)}multiplyScalar(l){return this.x*=l,this.y*=l,this.z*=l,this}multiplyVectors(l,d){return this.x=l.x*d.x,this.y=l.y*d.y,this.z=l.z*d.z,this}applyEuler(l){return l&&l.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Vs.setFromEuler(l))}applyAxisAngle(l,d){return this.applyQuaternion(Vs.setFromAxisAngle(l,d))}applyMatrix3(l){const d=this.x,m=this.y,v=this.z,_=l.elements;return this.x=_[0]*d+_[3]*m+_[6]*v,this.y=_[1]*d+_[4]*m+_[7]*v,this.z=_[2]*d+_[5]*m+_[8]*v,this}applyNormalMatrix(l){return this.applyMatrix3(l).normalize()}applyMatrix4(l){const d=this.x,m=this.y,v=this.z,_=l.elements,x=1/(_[3]*d+_[7]*m+_[11]*v+_[15]);return this.x=(_[0]*d+_[4]*m+_[8]*v+_[12])*x,this.y=(_[1]*d+_[5]*m+_[9]*v+_[13])*x,this.z=(_[2]*d+_[6]*m+_[10]*v+_[14])*x,this}applyQuaternion(l){const d=this.x,m=this.y,v=this.z,_=l.x,x=l.y,D=l.z,L=l.w,k=L*d+x*v-D*m,U=L*m+D*d-_*v,H=L*v+_*m-x*d,V=-_*d-x*m-D*v;return this.x=k*L+V*-_+U*-D-H*-x,this.y=U*L+V*-x+H*-_-k*-D,this.z=H*L+V*-D+k*-x-U*-_,this}project(l){return this.applyMatrix4(l.matrixWorldInverse).applyMatrix4(l.projectionMatrix)}unproject(l){return this.applyMatrix4(l.projectionMatrixInverse).applyMatrix4(l.matrixWorld)}transformDirection(l){const d=this.x,m=this.y,v=this.z,_=l.elements;return this.x=_[0]*d+_[4]*m+_[8]*v,this.y=_[1]*d+_[5]*m+_[9]*v,this.z=_[2]*d+_[6]*m+_[10]*v,this.normalize()}divide(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z,this}divideScalar(l){return this.multiplyScalar(1/l)}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this.z=Math.max(l.z,Math.min(d.z,this.z)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this.z=Math.max(l,Math.min(d,this.z)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(l){return this.x*l.x+this.y*l.y+this.z*l.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this.z+=(l.z-this.z)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this.z=l.z+(d.z-l.z)*m,this}cross(l,d){return void 0!==d?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(l,d)):this.crossVectors(this,l)}crossVectors(l,d){const m=l.x,v=l.y,_=l.z,x=d.x,D=d.y,L=d.z;return this.x=v*L-_*D,this.y=_*x-m*L,this.z=m*D-v*x,this}projectOnVector(l){const d=l.lengthSq();if(0===d)return this.set(0,0,0);const m=l.dot(this)/d;return this.copy(l).multiplyScalar(m)}projectOnPlane(l){return Ic.copy(this).projectOnVector(l),this.sub(Ic)}reflect(l){return this.sub(Ic.copy(l).multiplyScalar(2*this.dot(l)))}angleTo(l){const d=Math.sqrt(this.lengthSq()*l.lengthSq());if(0===d)return Math.PI/2;const m=this.dot(l)/d;return Math.acos(Dr.clamp(m,-1,1))}distanceTo(l){return Math.sqrt(this.distanceToSquared(l))}distanceToSquared(l){const d=this.x-l.x,m=this.y-l.y,v=this.z-l.z;return d*d+m*m+v*v}manhattanDistanceTo(l){return Math.abs(this.x-l.x)+Math.abs(this.y-l.y)+Math.abs(this.z-l.z)}setFromSpherical(l){return this.setFromSphericalCoords(l.radius,l.phi,l.theta)}setFromSphericalCoords(l,d,m){const v=Math.sin(d)*l;return this.x=v*Math.sin(m),this.y=Math.cos(d)*l,this.z=v*Math.cos(m),this}setFromCylindrical(l){return this.setFromCylindricalCoords(l.radius,l.theta,l.y)}setFromCylindricalCoords(l,d,m){return this.x=l*Math.sin(d),this.y=m,this.z=l*Math.cos(d),this}setFromMatrixPosition(l){const d=l.elements;return this.x=d[12],this.y=d[13],this.z=d[14],this}setFromMatrixScale(l){const d=this.setFromMatrixColumn(l,0).length(),m=this.setFromMatrixColumn(l,1).length(),v=this.setFromMatrixColumn(l,2).length();return this.x=d,this.y=m,this.z=v,this}setFromMatrixColumn(l,d){return this.fromArray(l.elements,4*d)}setFromMatrix3Column(l,d){return this.fromArray(l.elements,3*d)}equals(l){return l.x===this.x&&l.y===this.y&&l.z===this.z}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this.z=l[d+2],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l[d+2]=this.z,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this.z=l.getZ(d),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}Ee.prototype.isVector3=!0;const Ic=new Ee,Vs=new Sr;class zs{constructor(l=new Ee(1/0,1/0,1/0),d=new Ee(-1/0,-1/0,-1/0)){this.min=l,this.max=d}set(l,d){return this.min.copy(l),this.max.copy(d),this}setFromArray(l){let d=1/0,m=1/0,v=1/0,_=-1/0,x=-1/0,D=-1/0;for(let L=0,k=l.length;L<k;L+=3){const U=l[L],H=l[L+1],V=l[L+2];U<d&&(d=U),H<m&&(m=H),V<v&&(v=V),U>_&&(_=U),H>x&&(x=H),V>D&&(D=V)}return this.min.set(d,m,v),this.max.set(_,x,D),this}setFromBufferAttribute(l){let d=1/0,m=1/0,v=1/0,_=-1/0,x=-1/0,D=-1/0;for(let L=0,k=l.count;L<k;L++){const U=l.getX(L),H=l.getY(L),V=l.getZ(L);U<d&&(d=U),H<m&&(m=H),V<v&&(v=V),U>_&&(_=U),H>x&&(x=H),V>D&&(D=V)}return this.min.set(d,m,v),this.max.set(_,x,D),this}setFromPoints(l){this.makeEmpty();for(let d=0,m=l.length;d<m;d++)this.expandByPoint(l[d]);return this}setFromCenterAndSize(l,d){const m=Nc.copy(d).multiplyScalar(.5);return this.min.copy(l).sub(m),this.max.copy(l).add(m),this}setFromObject(l){return this.makeEmpty(),this.expandByObject(l)}clone(){return(new this.constructor).copy(this)}copy(l){return this.min.copy(l.min),this.max.copy(l.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(l){return void 0===l&&(console.warn("THREE.Box3: .getCenter() target is now required"),l=new Ee),this.isEmpty()?l.set(0,0,0):l.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(l){return void 0===l&&(console.warn("THREE.Box3: .getSize() target is now required"),l=new Ee),this.isEmpty()?l.set(0,0,0):l.subVectors(this.max,this.min)}expandByPoint(l){return this.min.min(l),this.max.max(l),this}expandByVector(l){return this.min.sub(l),this.max.add(l),this}expandByScalar(l){return this.min.addScalar(-l),this.max.addScalar(l),this}expandByObject(l){l.updateWorldMatrix(!1,!1);const d=l.geometry;void 0!==d&&(null===d.boundingBox&&d.computeBoundingBox(),ql.copy(d.boundingBox),ql.applyMatrix4(l.matrixWorld),this.union(ql));const m=l.children;for(let v=0,_=m.length;v<_;v++)this.expandByObject(m[v]);return this}containsPoint(l){return!(l.x<this.min.x||l.x>this.max.x||l.y<this.min.y||l.y>this.max.y||l.z<this.min.z||l.z>this.max.z)}containsBox(l){return this.min.x<=l.min.x&&l.max.x<=this.max.x&&this.min.y<=l.min.y&&l.max.y<=this.max.y&&this.min.z<=l.min.z&&l.max.z<=this.max.z}getParameter(l,d){return void 0===d&&(console.warn("THREE.Box3: .getParameter() target is now required"),d=new Ee),d.set((l.x-this.min.x)/(this.max.x-this.min.x),(l.y-this.min.y)/(this.max.y-this.min.y),(l.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(l){return!(l.max.x<this.min.x||l.min.x>this.max.x||l.max.y<this.min.y||l.min.y>this.max.y||l.max.z<this.min.z||l.min.z>this.max.z)}intersectsSphere(l){return this.clampPoint(l.center,Nc),Nc.distanceToSquared(l.center)<=l.radius*l.radius}intersectsPlane(l){let d,m;return l.normal.x>0?(d=l.normal.x*this.min.x,m=l.normal.x*this.max.x):(d=l.normal.x*this.max.x,m=l.normal.x*this.min.x),l.normal.y>0?(d+=l.normal.y*this.min.y,m+=l.normal.y*this.max.y):(d+=l.normal.y*this.max.y,m+=l.normal.y*this.min.y),l.normal.z>0?(d+=l.normal.z*this.min.z,m+=l.normal.z*this.max.z):(d+=l.normal.z*this.max.z,m+=l.normal.z*this.min.z),d<=-l.constant&&m>=-l.constant}intersectsTriangle(l){if(this.isEmpty())return!1;this.getCenter(Hc),ic.subVectors(this.max,Hc),pi.subVectors(l.a,Hc),Fc.subVectors(l.b,Hc),bu.subVectors(l.c,Hc),Pl.subVectors(Fc,pi),ma.subVectors(bu,Fc),ls.subVectors(pi,bu);let d=[0,-Pl.z,Pl.y,0,-ma.z,ma.y,0,-ls.z,ls.y,Pl.z,0,-Pl.x,ma.z,0,-ma.x,ls.z,0,-ls.x,-Pl.y,Pl.x,0,-ma.y,ma.x,0,-ls.y,ls.x,0];return!(!yf(d,pi,Fc,bu,ic)||(d=[1,0,0,0,1,0,0,0,1],!yf(d,pi,Fc,bu,ic)))&&(pl.crossVectors(Pl,ma),d=[pl.x,pl.y,pl.z],yf(d,pi,Fc,bu,ic))}clampPoint(l,d){return void 0===d&&(console.warn("THREE.Box3: .clampPoint() target is now required"),d=new Ee),d.copy(l).clamp(this.min,this.max)}distanceToPoint(l){return Nc.copy(l).clamp(this.min,this.max).sub(l).length()}getBoundingSphere(l){return void 0===l&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(l.center),l.radius=.5*this.getSize(Nc).length(),l}intersect(l){return this.min.max(l.min),this.max.min(l.max),this.isEmpty()&&this.makeEmpty(),this}union(l){return this.min.min(l.min),this.max.max(l.max),this}applyMatrix4(l){return this.isEmpty()||(No[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(l),No[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(l),No[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(l),No[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(l),No[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(l),No[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(l),No[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(l),No[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(l),this.setFromPoints(No)),this}translate(l){return this.min.add(l),this.max.add(l),this}equals(l){return l.min.equals(this.min)&&l.max.equals(this.max)}}zs.prototype.isBox3=!0;const No=[new Ee,new Ee,new Ee,new Ee,new Ee,new Ee,new Ee,new Ee],Nc=new Ee,ql=new zs,pi=new Ee,Fc=new Ee,bu=new Ee,Pl=new Ee,ma=new Ee,ls=new Ee,Hc=new Ee,ic=new Ee,pl=new Ee,ml=new Ee;function yf(f,l,d,m,v){for(let _=0,x=f.length-3;_<=x;_+=3){ml.fromArray(f,_);const D=v.x*Math.abs(ml.x)+v.y*Math.abs(ml.y)+v.z*Math.abs(ml.z),L=l.dot(ml),k=d.dot(ml),U=m.dot(ml);if(Math.max(-Math.max(L,k,U),Math.min(L,k,U))>D)return!1}return!0}const Go=new zs;class xd{constructor(l=new Ee,d=-1){this.center=l,this.radius=d}set(l,d){return this.center.copy(l),this.radius=d,this}setFromPoints(l,d){const m=this.center;void 0!==d?m.copy(d):Go.setFromPoints(l).getCenter(m);let v=0;for(let _=0,x=l.length;_<x;_++)v=Math.max(v,m.distanceToSquared(l[_]));return this.radius=Math.sqrt(v),this}copy(l){return this.center.copy(l.center),this.radius=l.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(l){return l.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(l){return l.distanceTo(this.center)-this.radius}intersectsSphere(l){const d=this.radius+l.radius;return l.center.distanceToSquared(this.center)<=d*d}intersectsBox(l){return l.intersectsSphere(this)}intersectsPlane(l){return Math.abs(l.distanceToPoint(this.center))<=this.radius}clampPoint(l,d){const m=this.center.distanceToSquared(l);return void 0===d&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),d=new Ee),d.copy(l),m>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center)),d}getBoundingBox(l){return void 0===l&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),l=new zs),this.isEmpty()?(l.makeEmpty(),l):(l.set(this.center,this.center),l.expandByScalar(this.radius),l)}applyMatrix4(l){return this.center.applyMatrix4(l),this.radius=this.radius*l.getMaxScaleOnAxis(),this}translate(l){return this.center.add(l),this}equals(l){return l.center.equals(this.center)&&l.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Bc=new Ee,Da=new Ee,gl=new Ee,oc=new Ee,_f=new Ee,Mh=new Ee,Il=new Ee;class Cd{constructor(l=new Ee,d=new Ee(0,0,-1)){this.origin=l,this.direction=d}set(l,d){return this.origin.copy(l),this.direction.copy(d),this}copy(l){return this.origin.copy(l.origin),this.direction.copy(l.direction),this}at(l,d){return void 0===d&&(console.warn("THREE.Ray: .at() target is now required"),d=new Ee),d.copy(this.direction).multiplyScalar(l).add(this.origin)}lookAt(l){return this.direction.copy(l).sub(this.origin).normalize(),this}recast(l){return this.origin.copy(this.at(l,Bc)),this}closestPointToPoint(l,d){void 0===d&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),d=new Ee),d.subVectors(l,this.origin);const m=d.dot(this.direction);return m<0?d.copy(this.origin):d.copy(this.direction).multiplyScalar(m).add(this.origin)}distanceToPoint(l){return Math.sqrt(this.distanceSqToPoint(l))}distanceSqToPoint(l){const d=Bc.subVectors(l,this.origin).dot(this.direction);return d<0?this.origin.distanceToSquared(l):(Bc.copy(this.direction).multiplyScalar(d).add(this.origin),Bc.distanceToSquared(l))}distanceSqToSegment(l,d,m,v){Da.copy(l).add(d).multiplyScalar(.5),gl.copy(d).sub(l).normalize(),oc.copy(this.origin).sub(Da);const _=.5*l.distanceTo(d),x=-this.direction.dot(gl),D=oc.dot(this.direction),L=-oc.dot(gl),k=oc.lengthSq(),U=Math.abs(1-x*x);let H,V,Y,J;if(U>0)if(H=x*L-D,V=x*D-L,J=_*U,H>=0)if(V>=-J)if(V<=J){const te=1/U;H*=te,V*=te,Y=H*(H+x*V+2*D)+V*(x*H+V+2*L)+k}else V=_,H=Math.max(0,-(x*V+D)),Y=-H*H+V*(V+2*L)+k;else V=-_,H=Math.max(0,-(x*V+D)),Y=-H*H+V*(V+2*L)+k;else V<=-J?(H=Math.max(0,-(-x*_+D)),V=H>0?-_:Math.min(Math.max(-_,-L),_),Y=-H*H+V*(V+2*L)+k):V<=J?(H=0,V=Math.min(Math.max(-_,-L),_),Y=V*(V+2*L)+k):(H=Math.max(0,-(x*_+D)),V=H>0?_:Math.min(Math.max(-_,-L),_),Y=-H*H+V*(V+2*L)+k);else V=x>0?-_:_,H=Math.max(0,-(x*V+D)),Y=-H*H+V*(V+2*L)+k;return m&&m.copy(this.direction).multiplyScalar(H).add(this.origin),v&&v.copy(gl).multiplyScalar(V).add(Da),Y}intersectSphere(l,d){Bc.subVectors(l.center,this.origin);const m=Bc.dot(this.direction),v=Bc.dot(Bc)-m*m,_=l.radius*l.radius;if(v>_)return null;const x=Math.sqrt(_-v),D=m-x,L=m+x;return D<0&&L<0?null:this.at(D<0?L:D,d)}intersectsSphere(l){return this.distanceSqToPoint(l.center)<=l.radius*l.radius}distanceToPlane(l){const d=l.normal.dot(this.direction);if(0===d)return 0===l.distanceToPoint(this.origin)?0:null;const m=-(this.origin.dot(l.normal)+l.constant)/d;return m>=0?m:null}intersectPlane(l,d){const m=this.distanceToPlane(l);return null===m?null:this.at(m,d)}intersectsPlane(l){const d=l.distanceToPoint(this.origin);return 0===d||l.normal.dot(this.direction)*d<0}intersectBox(l,d){let m,v,_,x,D,L;const k=1/this.direction.x,U=1/this.direction.y,H=1/this.direction.z,V=this.origin;return k>=0?(m=(l.min.x-V.x)*k,v=(l.max.x-V.x)*k):(m=(l.max.x-V.x)*k,v=(l.min.x-V.x)*k),U>=0?(_=(l.min.y-V.y)*U,x=(l.max.y-V.y)*U):(_=(l.max.y-V.y)*U,x=(l.min.y-V.y)*U),m>x||_>v||((_>m||m!=m)&&(m=_),(x<v||v!=v)&&(v=x),H>=0?(D=(l.min.z-V.z)*H,L=(l.max.z-V.z)*H):(D=(l.max.z-V.z)*H,L=(l.min.z-V.z)*H),m>L||D>v)||((D>m||m!=m)&&(m=D),(L<v||v!=v)&&(v=L),v<0)?null:this.at(m>=0?m:v,d)}intersectsBox(l){return null!==this.intersectBox(l,Bc)}intersectTriangle(l,d,m,v,_){_f.subVectors(d,l),Mh.subVectors(m,l),Il.crossVectors(_f,Mh);let D,x=this.direction.dot(Il);if(x>0){if(v)return null;D=1}else{if(!(x<0))return null;D=-1,x=-x}oc.subVectors(this.origin,l);const L=D*this.direction.dot(Mh.crossVectors(oc,Mh));if(L<0)return null;const k=D*this.direction.dot(_f.cross(oc));if(k<0||L+k>x)return null;const U=-D*oc.dot(Il);return U<0?null:this.at(U/x,_)}applyMatrix4(l){return this.origin.applyMatrix4(l),this.direction.transformDirection(l),this}equals(l){return l.origin.equals(this.origin)&&l.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Hr{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(l,d,m,v,_,x,D,L,k,U,H,V,Y,J,te,se){const oe=this.elements;return oe[0]=l,oe[4]=d,oe[8]=m,oe[12]=v,oe[1]=_,oe[5]=x,oe[9]=D,oe[13]=L,oe[2]=k,oe[6]=U,oe[10]=H,oe[14]=V,oe[3]=Y,oe[7]=J,oe[11]=te,oe[15]=se,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Hr).fromArray(this.elements)}copy(l){const d=this.elements,m=l.elements;return d[0]=m[0],d[1]=m[1],d[2]=m[2],d[3]=m[3],d[4]=m[4],d[5]=m[5],d[6]=m[6],d[7]=m[7],d[8]=m[8],d[9]=m[9],d[10]=m[10],d[11]=m[11],d[12]=m[12],d[13]=m[13],d[14]=m[14],d[15]=m[15],this}copyPosition(l){const d=this.elements,m=l.elements;return d[12]=m[12],d[13]=m[13],d[14]=m[14],this}setFromMatrix3(l){const d=l.elements;return this.set(d[0],d[3],d[6],0,d[1],d[4],d[7],0,d[2],d[5],d[8],0,0,0,0,1),this}extractBasis(l,d,m){return l.setFromMatrixColumn(this,0),d.setFromMatrixColumn(this,1),m.setFromMatrixColumn(this,2),this}makeBasis(l,d,m){return this.set(l.x,d.x,m.x,0,l.y,d.y,m.y,0,l.z,d.z,m.z,0,0,0,0,1),this}extractRotation(l){const d=this.elements,m=l.elements,v=1/Sh.setFromMatrixColumn(l,0).length(),_=1/Sh.setFromMatrixColumn(l,1).length(),x=1/Sh.setFromMatrixColumn(l,2).length();return d[0]=m[0]*v,d[1]=m[1]*v,d[2]=m[2]*v,d[3]=0,d[4]=m[4]*_,d[5]=m[5]*_,d[6]=m[6]*_,d[7]=0,d[8]=m[8]*x,d[9]=m[9]*x,d[10]=m[10]*x,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,this}makeRotationFromEuler(l){l&&l.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const d=this.elements,m=l.x,v=l.y,_=l.z,x=Math.cos(m),D=Math.sin(m),L=Math.cos(v),k=Math.sin(v),U=Math.cos(_),H=Math.sin(_);if("XYZ"===l.order){const V=x*U,Y=x*H,J=D*U,te=D*H;d[0]=L*U,d[4]=-L*H,d[8]=k,d[1]=Y+J*k,d[5]=V-te*k,d[9]=-D*L,d[2]=te-V*k,d[6]=J+Y*k,d[10]=x*L}else if("YXZ"===l.order){const V=L*U,Y=L*H,J=k*U,te=k*H;d[0]=V+te*D,d[4]=J*D-Y,d[8]=x*k,d[1]=x*H,d[5]=x*U,d[9]=-D,d[2]=Y*D-J,d[6]=te+V*D,d[10]=x*L}else if("ZXY"===l.order){const V=L*U,Y=L*H,J=k*U,te=k*H;d[0]=V-te*D,d[4]=-x*H,d[8]=J+Y*D,d[1]=Y+J*D,d[5]=x*U,d[9]=te-V*D,d[2]=-x*k,d[6]=D,d[10]=x*L}else if("ZYX"===l.order){const V=x*U,Y=x*H,J=D*U,te=D*H;d[0]=L*U,d[4]=J*k-Y,d[8]=V*k+te,d[1]=L*H,d[5]=te*k+V,d[9]=Y*k-J,d[2]=-k,d[6]=D*L,d[10]=x*L}else if("YZX"===l.order){const V=x*L,Y=x*k,J=D*L,te=D*k;d[0]=L*U,d[4]=te-V*H,d[8]=J*H+Y,d[1]=H,d[5]=x*U,d[9]=-D*U,d[2]=-k*U,d[6]=Y*H+J,d[10]=V-te*H}else if("XZY"===l.order){const V=x*L,Y=x*k,J=D*L,te=D*k;d[0]=L*U,d[4]=-H,d[8]=k*U,d[1]=V*H+te,d[5]=x*U,d[9]=Y*H-J,d[2]=J*H-Y,d[6]=D*U,d[10]=te*H+V}return d[3]=0,d[7]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,this}makeRotationFromQuaternion(l){return this.compose(bR,l,sc)}lookAt(l,d,m){const v=this.elements;return Jl.subVectors(l,d),0===Jl.lengthSq()&&(Jl.z=1),Jl.normalize(),Nl.crossVectors(m,Jl),0===Nl.lengthSq()&&(1===Math.abs(m.z)?Jl.x+=1e-4:Jl.z+=1e-4,Jl.normalize(),Nl.crossVectors(m,Jl)),Nl.normalize(),wg.crossVectors(Jl,Nl),v[0]=Nl.x,v[4]=wg.x,v[8]=Jl.x,v[1]=Nl.y,v[5]=wg.y,v[9]=Jl.y,v[2]=Nl.z,v[6]=wg.z,v[10]=Jl.z,this}multiply(l,d){return void 0!==d?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(l,d)):this.multiplyMatrices(this,l)}premultiply(l){return this.multiplyMatrices(l,this)}multiplyMatrices(l,d){const m=l.elements,v=d.elements,_=this.elements,x=m[0],D=m[4],L=m[8],k=m[12],U=m[1],H=m[5],V=m[9],Y=m[13],J=m[2],te=m[6],se=m[10],oe=m[14],K=m[3],De=m[7],Ce=m[11],Ve=m[15],Se=v[0],nt=v[4],Dt=v[8],Mt=v[12],at=v[1],jt=v[5],en=v[9],Ut=v[13],Tt=v[2],Wt=v[6],Yt=v[10],zn=v[14],$n=v[3],Kn=v[7],Ir=v[11],Tr=v[15];return _[0]=x*Se+D*at+L*Tt+k*$n,_[4]=x*nt+D*jt+L*Wt+k*Kn,_[8]=x*Dt+D*en+L*Yt+k*Ir,_[12]=x*Mt+D*Ut+L*zn+k*Tr,_[1]=U*Se+H*at+V*Tt+Y*$n,_[5]=U*nt+H*jt+V*Wt+Y*Kn,_[9]=U*Dt+H*en+V*Yt+Y*Ir,_[13]=U*Mt+H*Ut+V*zn+Y*Tr,_[2]=J*Se+te*at+se*Tt+oe*$n,_[6]=J*nt+te*jt+se*Wt+oe*Kn,_[10]=J*Dt+te*en+se*Yt+oe*Ir,_[14]=J*Mt+te*Ut+se*zn+oe*Tr,_[3]=K*Se+De*at+Ce*Tt+Ve*$n,_[7]=K*nt+De*jt+Ce*Wt+Ve*Kn,_[11]=K*Dt+De*en+Ce*Yt+Ve*Ir,_[15]=K*Mt+De*Ut+Ce*zn+Ve*Tr,this}multiplyScalar(l){const d=this.elements;return d[0]*=l,d[4]*=l,d[8]*=l,d[12]*=l,d[1]*=l,d[5]*=l,d[9]*=l,d[13]*=l,d[2]*=l,d[6]*=l,d[10]*=l,d[14]*=l,d[3]*=l,d[7]*=l,d[11]*=l,d[15]*=l,this}determinant(){const l=this.elements,d=l[0],m=l[4],v=l[8],_=l[12],x=l[1],D=l[5],L=l[9],k=l[13],U=l[2],H=l[6],V=l[10],Y=l[14];return l[3]*(+_*L*H-v*k*H-_*D*V+m*k*V+v*D*Y-m*L*Y)+l[7]*(+d*L*Y-d*k*V+_*x*V-v*x*Y+v*k*U-_*L*U)+l[11]*(+d*k*H-d*D*Y-_*x*H+m*x*Y+_*D*U-m*k*U)+l[15]*(-v*D*U-d*L*H+d*D*V+v*x*H-m*x*V+m*L*U)}transpose(){const l=this.elements;let d;return d=l[1],l[1]=l[4],l[4]=d,d=l[2],l[2]=l[8],l[8]=d,d=l[6],l[6]=l[9],l[9]=d,d=l[3],l[3]=l[12],l[12]=d,d=l[7],l[7]=l[13],l[13]=d,d=l[11],l[11]=l[14],l[14]=d,this}setPosition(l,d,m){const v=this.elements;return l.isVector3?(v[12]=l.x,v[13]=l.y,v[14]=l.z):(v[12]=l,v[13]=d,v[14]=m),this}invert(){const l=this.elements,d=l[0],m=l[1],v=l[2],_=l[3],x=l[4],D=l[5],L=l[6],k=l[7],U=l[8],H=l[9],V=l[10],Y=l[11],J=l[12],te=l[13],se=l[14],oe=l[15],K=H*se*k-te*V*k+te*L*Y-D*se*Y-H*L*oe+D*V*oe,De=J*V*k-U*se*k-J*L*Y+x*se*Y+U*L*oe-x*V*oe,Ce=U*te*k-J*H*k+J*D*Y-x*te*Y-U*D*oe+x*H*oe,Ve=J*H*L-U*te*L-J*D*V+x*te*V+U*D*se-x*H*se,Se=d*K+m*De+v*Ce+_*Ve;if(0===Se)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const nt=1/Se;return l[0]=K*nt,l[1]=(te*V*_-H*se*_-te*v*Y+m*se*Y+H*v*oe-m*V*oe)*nt,l[2]=(D*se*_-te*L*_+te*v*k-m*se*k-D*v*oe+m*L*oe)*nt,l[3]=(H*L*_-D*V*_-H*v*k+m*V*k+D*v*Y-m*L*Y)*nt,l[4]=De*nt,l[5]=(U*se*_-J*V*_+J*v*Y-d*se*Y-U*v*oe+d*V*oe)*nt,l[6]=(J*L*_-x*se*_-J*v*k+d*se*k+x*v*oe-d*L*oe)*nt,l[7]=(x*V*_-U*L*_+U*v*k-d*V*k-x*v*Y+d*L*Y)*nt,l[8]=Ce*nt,l[9]=(J*H*_-U*te*_-J*m*Y+d*te*Y+U*m*oe-d*H*oe)*nt,l[10]=(x*te*_-J*D*_+J*m*k-d*te*k-x*m*oe+d*D*oe)*nt,l[11]=(U*D*_-x*H*_-U*m*k+d*H*k+x*m*Y-d*D*Y)*nt,l[12]=Ve*nt,l[13]=(U*te*v-J*H*v+J*m*V-d*te*V-U*m*se+d*H*se)*nt,l[14]=(J*D*v-x*te*v-J*m*L+d*te*L+x*m*se-d*D*se)*nt,l[15]=(x*H*v-U*D*v+U*m*L-d*H*L-x*m*V+d*D*V)*nt,this}scale(l){const d=this.elements,m=l.x,v=l.y,_=l.z;return d[0]*=m,d[4]*=v,d[8]*=_,d[1]*=m,d[5]*=v,d[9]*=_,d[2]*=m,d[6]*=v,d[10]*=_,d[3]*=m,d[7]*=v,d[11]*=_,this}getMaxScaleOnAxis(){const l=this.elements;return Math.sqrt(Math.max(l[0]*l[0]+l[1]*l[1]+l[2]*l[2],l[4]*l[4]+l[5]*l[5]+l[6]*l[6],l[8]*l[8]+l[9]*l[9]+l[10]*l[10]))}makeTranslation(l,d,m){return this.set(1,0,0,l,0,1,0,d,0,0,1,m,0,0,0,1),this}makeRotationX(l){const d=Math.cos(l),m=Math.sin(l);return this.set(1,0,0,0,0,d,-m,0,0,m,d,0,0,0,0,1),this}makeRotationY(l){const d=Math.cos(l),m=Math.sin(l);return this.set(d,0,m,0,0,1,0,0,-m,0,d,0,0,0,0,1),this}makeRotationZ(l){const d=Math.cos(l),m=Math.sin(l);return this.set(d,-m,0,0,m,d,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(l,d){const m=Math.cos(d),v=Math.sin(d),_=1-m,x=l.x,D=l.y,L=l.z,k=_*x,U=_*D;return this.set(k*x+m,k*D-v*L,k*L+v*D,0,k*D+v*L,U*D+m,U*L-v*x,0,k*L-v*D,U*L+v*x,_*L*L+m,0,0,0,0,1),this}makeScale(l,d,m){return this.set(l,0,0,0,0,d,0,0,0,0,m,0,0,0,0,1),this}makeShear(l,d,m){return this.set(1,d,m,0,l,1,m,0,l,d,1,0,0,0,0,1),this}compose(l,d,m){const v=this.elements,_=d._x,x=d._y,D=d._z,L=d._w,k=_+_,U=x+x,H=D+D,V=_*k,Y=_*U,J=_*H,te=x*U,se=x*H,oe=D*H,K=L*k,De=L*U,Ce=L*H,Ve=m.x,Se=m.y,nt=m.z;return v[0]=(1-(te+oe))*Ve,v[1]=(Y+Ce)*Ve,v[2]=(J-De)*Ve,v[3]=0,v[4]=(Y-Ce)*Se,v[5]=(1-(V+oe))*Se,v[6]=(se+K)*Se,v[7]=0,v[8]=(J+De)*nt,v[9]=(se-K)*nt,v[10]=(1-(V+te))*nt,v[11]=0,v[12]=l.x,v[13]=l.y,v[14]=l.z,v[15]=1,this}decompose(l,d,m){const v=this.elements;let _=Sh.set(v[0],v[1],v[2]).length();const x=Sh.set(v[4],v[5],v[6]).length(),D=Sh.set(v[8],v[9],v[10]).length();this.determinant()<0&&(_=-_),l.x=v[12],l.y=v[13],l.z=v[14],wu.copy(this);const k=1/_,U=1/x,H=1/D;return wu.elements[0]*=k,wu.elements[1]*=k,wu.elements[2]*=k,wu.elements[4]*=U,wu.elements[5]*=U,wu.elements[6]*=U,wu.elements[8]*=H,wu.elements[9]*=H,wu.elements[10]*=H,d.setFromRotationMatrix(wu),m.x=_,m.y=x,m.z=D,this}makePerspective(l,d,m,v,_,x){void 0===x&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const D=this.elements,k=2*_/(m-v),U=(d+l)/(d-l),H=(m+v)/(m-v),V=-(x+_)/(x-_),Y=-2*x*_/(x-_);return D[0]=2*_/(d-l),D[4]=0,D[8]=U,D[12]=0,D[1]=0,D[5]=k,D[9]=H,D[13]=0,D[2]=0,D[6]=0,D[10]=V,D[14]=Y,D[3]=0,D[7]=0,D[11]=-1,D[15]=0,this}makeOrthographic(l,d,m,v,_,x){const D=this.elements,L=1/(d-l),k=1/(m-v),U=1/(x-_),H=(d+l)*L,V=(m+v)*k,Y=(x+_)*U;return D[0]=2*L,D[4]=0,D[8]=0,D[12]=-H,D[1]=0,D[5]=2*k,D[9]=0,D[13]=-V,D[2]=0,D[6]=0,D[10]=-2*U,D[14]=-Y,D[3]=0,D[7]=0,D[11]=0,D[15]=1,this}equals(l){const d=this.elements,m=l.elements;for(let v=0;v<16;v++)if(d[v]!==m[v])return!1;return!0}fromArray(l,d=0){for(let m=0;m<16;m++)this.elements[m]=l[m+d];return this}toArray(l=[],d=0){const m=this.elements;return l[d]=m[0],l[d+1]=m[1],l[d+2]=m[2],l[d+3]=m[3],l[d+4]=m[4],l[d+5]=m[5],l[d+6]=m[6],l[d+7]=m[7],l[d+8]=m[8],l[d+9]=m[9],l[d+10]=m[10],l[d+11]=m[11],l[d+12]=m[12],l[d+13]=m[13],l[d+14]=m[14],l[d+15]=m[15],l}}Hr.prototype.isMatrix4=!0;const Sh=new Ee,wu=new Hr,bR=new Ee(0,0,0),sc=new Ee(1,1,1),Nl=new Ee,wg=new Ee,Jl=new Ee,Ww=new Hr,Yw=new Sr;class bf{constructor(l=0,d=0,m=0,v=bf.DefaultOrder){this._x=l,this._y=d,this._z=m,this._order=v}get x(){return this._x}set x(l){this._x=l,this._onChangeCallback()}get y(){return this._y}set y(l){this._y=l,this._onChangeCallback()}get z(){return this._z}set z(l){this._z=l,this._onChangeCallback()}get order(){return this._order}set order(l){this._order=l,this._onChangeCallback()}set(l,d,m,v){return this._x=l,this._y=d,this._z=m,this._order=v||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(l){return this._x=l._x,this._y=l._y,this._z=l._z,this._order=l._order,this._onChangeCallback(),this}setFromRotationMatrix(l,d,m){const v=Dr.clamp,_=l.elements,x=_[0],D=_[4],L=_[8],k=_[1],U=_[5],H=_[9],V=_[2],Y=_[6],J=_[10];switch(d=d||this._order){case"XYZ":this._y=Math.asin(v(L,-1,1)),Math.abs(L)<.9999999?(this._x=Math.atan2(-H,J),this._z=Math.atan2(-D,x)):(this._x=Math.atan2(Y,U),this._z=0);break;case"YXZ":this._x=Math.asin(-v(H,-1,1)),Math.abs(H)<.9999999?(this._y=Math.atan2(L,J),this._z=Math.atan2(k,U)):(this._y=Math.atan2(-V,x),this._z=0);break;case"ZXY":this._x=Math.asin(v(Y,-1,1)),Math.abs(Y)<.9999999?(this._y=Math.atan2(-V,J),this._z=Math.atan2(-D,U)):(this._y=0,this._z=Math.atan2(k,x));break;case"ZYX":this._y=Math.asin(-v(V,-1,1)),Math.abs(V)<.9999999?(this._x=Math.atan2(Y,J),this._z=Math.atan2(k,x)):(this._x=0,this._z=Math.atan2(-D,U));break;case"YZX":this._z=Math.asin(v(k,-1,1)),Math.abs(k)<.9999999?(this._x=Math.atan2(-H,U),this._y=Math.atan2(-V,x)):(this._x=0,this._y=Math.atan2(L,J));break;case"XZY":this._z=Math.asin(-v(D,-1,1)),Math.abs(D)<.9999999?(this._x=Math.atan2(Y,U),this._y=Math.atan2(L,x)):(this._x=Math.atan2(-H,J),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+d)}return this._order=d,!1!==m&&this._onChangeCallback(),this}setFromQuaternion(l,d,m){return Ww.makeRotationFromQuaternion(l),this.setFromRotationMatrix(Ww,d,m)}setFromVector3(l,d){return this.set(l.x,l.y,l.z,d||this._order)}reorder(l){return Yw.setFromEuler(this),this.setFromQuaternion(Yw,l)}equals(l){return l._x===this._x&&l._y===this._y&&l._z===this._z&&l._order===this._order}fromArray(l){return this._x=l[0],this._y=l[1],this._z=l[2],void 0!==l[3]&&(this._order=l[3]),this._onChangeCallback(),this}toArray(l=[],d=0){return l[d]=this._x,l[d+1]=this._y,l[d+2]=this._z,l[d+3]=this._order,l}toVector3(l){return l?l.set(this._x,this._y,this._z):new Ee(this._x,this._y,this._z)}_onChange(l){return this._onChangeCallback=l,this}_onChangeCallback(){}}bf.prototype.isEuler=!0,bf.DefaultOrder="XYZ",bf.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Gw{constructor(){this.mask=1}set(l){this.mask=1<<l|0}enable(l){this.mask|=1<<l|0}enableAll(){this.mask=-1}toggle(l){this.mask^=1<<l|0}disable(l){this.mask&=~(1<<l|0)}disableAll(){this.mask=0}test(l){return 0!=(this.mask&l.mask)}}let Kx=0;const Zx=new Ee,Dp=new Sr,Ed=new Hr,Fy=new Ee,wf=new Ee,Hy=new Ee,wR=new Sr,qx=new Ee(1,0,0),Jx=new Ee(0,1,0),Td=new Ee(0,0,1),Qx={type:"added"},Us={type:"removed"};function Xr(){Object.defineProperty(this,"id",{value:Kx++}),this.uuid=Dr.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Xr.DefaultUp.clone();const f=new Ee,l=new bf,d=new Sr,m=new Ee(1,1,1);l._onChange(function v(){d.setFromEuler(l,!1)}),d._onChange(function _(){l.setFromQuaternion(d,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:f},rotation:{configurable:!0,enumerable:!0,value:l},quaternion:{configurable:!0,enumerable:!0,value:d},scale:{configurable:!0,enumerable:!0,value:m},modelViewMatrix:{value:new Hr},normalMatrix:{value:new Ds}}),this.matrix=new Hr,this.matrixWorld=new Hr,this.matrixAutoUpdate=Xr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Gw,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Xr.DefaultUp=new Ee(0,1,0),Xr.DefaultMatrixAutoUpdate=!0,Xr.prototype=Object.assign(Object.create(ji.prototype),{constructor:Xr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(f){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(f),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(f){return this.quaternion.premultiply(f),this},setRotationFromAxisAngle:function(f,l){this.quaternion.setFromAxisAngle(f,l)},setRotationFromEuler:function(f){this.quaternion.setFromEuler(f,!0)},setRotationFromMatrix:function(f){this.quaternion.setFromRotationMatrix(f)},setRotationFromQuaternion:function(f){this.quaternion.copy(f)},rotateOnAxis:function(f,l){return Dp.setFromAxisAngle(f,l),this.quaternion.multiply(Dp),this},rotateOnWorldAxis:function(f,l){return Dp.setFromAxisAngle(f,l),this.quaternion.premultiply(Dp),this},rotateX:function(f){return this.rotateOnAxis(qx,f)},rotateY:function(f){return this.rotateOnAxis(Jx,f)},rotateZ:function(f){return this.rotateOnAxis(Td,f)},translateOnAxis:function(f,l){return Zx.copy(f).applyQuaternion(this.quaternion),this.position.add(Zx.multiplyScalar(l)),this},translateX:function(f){return this.translateOnAxis(qx,f)},translateY:function(f){return this.translateOnAxis(Jx,f)},translateZ:function(f){return this.translateOnAxis(Td,f)},localToWorld:function(f){return f.applyMatrix4(this.matrixWorld)},worldToLocal:function(f){return f.applyMatrix4(Ed.copy(this.matrixWorld).invert())},lookAt:function(f,l,d){f.isVector3?Fy.copy(f):Fy.set(f,l,d);const m=this.parent;this.updateWorldMatrix(!0,!1),wf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ed.lookAt(wf,Fy,this.up):Ed.lookAt(Fy,wf,this.up),this.quaternion.setFromRotationMatrix(Ed),m&&(Ed.extractRotation(m.matrixWorld),Dp.setFromRotationMatrix(Ed),this.quaternion.premultiply(Dp.invert()))},add:function(f){if(arguments.length>1){for(let l=0;l<arguments.length;l++)this.add(arguments[l]);return this}return f===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",f),this):(f&&f.isObject3D?(null!==f.parent&&f.parent.remove(f),f.parent=this,this.children.push(f),f.dispatchEvent(Qx)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",f),this)},remove:function(f){if(arguments.length>1){for(let d=0;d<arguments.length;d++)this.remove(arguments[d]);return this}const l=this.children.indexOf(f);return-1!==l&&(f.parent=null,this.children.splice(l,1),f.dispatchEvent(Us)),this},clear:function(){for(let f=0;f<this.children.length;f++){const l=this.children[f];l.parent=null,l.dispatchEvent(Us)}return this.children.length=0,this},attach:function(f){return this.updateWorldMatrix(!0,!1),Ed.copy(this.matrixWorld).invert(),null!==f.parent&&(f.parent.updateWorldMatrix(!0,!1),Ed.multiply(f.parent.matrixWorld)),f.applyMatrix4(Ed),this.add(f),f.updateWorldMatrix(!1,!0),this},getObjectById:function(f){return this.getObjectByProperty("id",f)},getObjectByName:function(f){return this.getObjectByProperty("name",f)},getObjectByProperty:function(f,l){if(this[f]===l)return this;for(let d=0,m=this.children.length;d<m;d++){const _=this.children[d].getObjectByProperty(f,l);if(void 0!==_)return _}},getWorldPosition:function(f){return void 0===f&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),f=new Ee),this.updateWorldMatrix(!0,!1),f.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(f){return void 0===f&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),f=new Sr),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(wf,f,Hy),f},getWorldScale:function(f){return void 0===f&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),f=new Ee),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(wf,wR,f),f},getWorldDirection:function(f){void 0===f&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),f=new Ee),this.updateWorldMatrix(!0,!1);const l=this.matrixWorld.elements;return f.set(l[8],l[9],l[10]).normalize()},raycast:function(){},traverse:function(f){f(this);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].traverse(f)},traverseVisible:function(f){if(!1===this.visible)return;f(this);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].traverseVisible(f)},traverseAncestors:function(f){const l=this.parent;null!==l&&(f(l),l.traverseAncestors(f))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(f){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||f)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,f=!0);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].updateMatrixWorld(f)},updateWorldMatrix:function(f,l){const d=this.parent;if(!0===f&&null!==d&&d.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===l){const m=this.children;for(let v=0,_=m.length;v<_;v++)m[v].updateWorldMatrix(!1,!0)}},toJSON:function(f){const l=void 0===f||"string"==typeof f,d={};l&&(f={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},d.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const m={};function v(x,D){return void 0===x[D.uuid]&&(x[D.uuid]=D.toJSON(f)),D.uuid}if(m.uuid=this.uuid,m.type=this.type,""!==this.name&&(m.name=this.name),!0===this.castShadow&&(m.castShadow=!0),!0===this.receiveShadow&&(m.receiveShadow=!0),!1===this.visible&&(m.visible=!1),!1===this.frustumCulled&&(m.frustumCulled=!1),0!==this.renderOrder&&(m.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(m.userData=this.userData),m.layers=this.layers.mask,m.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(m.matrixAutoUpdate=!1),this.isInstancedMesh&&(m.type="InstancedMesh",m.count=this.count,m.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){m.geometry=v(f.geometries,this.geometry);const x=this.geometry.parameters;if(void 0!==x&&void 0!==x.shapes){const D=x.shapes;if(Array.isArray(D))for(let L=0,k=D.length;L<k;L++)v(f.shapes,D[L]);else v(f.shapes,D)}}if(this.isSkinnedMesh&&(m.bindMode=this.bindMode,m.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(v(f.skeletons,this.skeleton),m.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const x=[];for(let D=0,L=this.material.length;D<L;D++)x.push(v(f.materials,this.material[D]));m.material=x}else m.material=v(f.materials,this.material);if(this.children.length>0){m.children=[];for(let x=0;x<this.children.length;x++)m.children.push(this.children[x].toJSON(f).object)}if(this.animations.length>0){m.animations=[];for(let x=0;x<this.animations.length;x++)m.animations.push(v(f.animations,this.animations[x]))}if(l){const x=_(f.geometries),D=_(f.materials),L=_(f.textures),k=_(f.images),U=_(f.shapes),H=_(f.skeletons),V=_(f.animations);x.length>0&&(d.geometries=x),D.length>0&&(d.materials=D),L.length>0&&(d.textures=L),k.length>0&&(d.images=k),U.length>0&&(d.shapes=U),H.length>0&&(d.skeletons=H),V.length>0&&(d.animations=V)}return d.object=m,d;function _(x){const D=[];for(const L in x){const k=x[L];delete k.metadata,D.push(k)}return D}},clone:function(f){return(new this.constructor).copy(this,f)},copy:function(f,l=!0){if(this.name=f.name,this.up.copy(f.up),this.position.copy(f.position),this.rotation.order=f.rotation.order,this.quaternion.copy(f.quaternion),this.scale.copy(f.scale),this.matrix.copy(f.matrix),this.matrixWorld.copy(f.matrixWorld),this.matrixAutoUpdate=f.matrixAutoUpdate,this.matrixWorldNeedsUpdate=f.matrixWorldNeedsUpdate,this.layers.mask=f.layers.mask,this.visible=f.visible,this.castShadow=f.castShadow,this.receiveShadow=f.receiveShadow,this.frustumCulled=f.frustumCulled,this.renderOrder=f.renderOrder,this.userData=JSON.parse(JSON.stringify(f.userData)),!0===l)for(let d=0;d<f.children.length;d++)this.add(f.children[d].clone());return this}});const By=new Ee,Mg=new Ee,$w=new Ds;class Ql{constructor(l=new Ee(1,0,0),d=0){this.normal=l,this.constant=d}set(l,d){return this.normal.copy(l),this.constant=d,this}setComponents(l,d,m,v){return this.normal.set(l,d,m),this.constant=v,this}setFromNormalAndCoplanarPoint(l,d){return this.normal.copy(l),this.constant=-d.dot(this.normal),this}setFromCoplanarPoints(l,d,m){const v=By.subVectors(m,d).cross(Mg.subVectors(l,d)).normalize();return this.setFromNormalAndCoplanarPoint(v,l),this}copy(l){return this.normal.copy(l.normal),this.constant=l.constant,this}normalize(){const l=1/this.normal.length();return this.normal.multiplyScalar(l),this.constant*=l,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(l){return this.normal.dot(l)+this.constant}distanceToSphere(l){return this.distanceToPoint(l.center)-l.radius}projectPoint(l,d){return void 0===d&&(console.warn("THREE.Plane: .projectPoint() target is now required"),d=new Ee),d.copy(this.normal).multiplyScalar(-this.distanceToPoint(l)).add(l)}intersectLine(l,d){void 0===d&&(console.warn("THREE.Plane: .intersectLine() target is now required"),d=new Ee);const m=l.delta(By),v=this.normal.dot(m);if(0===v)return 0===this.distanceToPoint(l.start)?d.copy(l.start):void 0;const _=-(l.start.dot(this.normal)+this.constant)/v;return _<0||_>1?void 0:d.copy(m).multiplyScalar(_).add(l.start)}intersectsLine(l){const d=this.distanceToPoint(l.start),m=this.distanceToPoint(l.end);return d<0&&m>0||m<0&&d>0}intersectsBox(l){return l.intersectsPlane(this)}intersectsSphere(l){return l.intersectsPlane(this)}coplanarPoint(l){return void 0===l&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),l=new Ee),l.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(l,d){const m=d||$w.getNormalMatrix(l),v=this.coplanarPoint(By).applyMatrix4(l),_=this.normal.applyMatrix3(m).normalize();return this.constant=-v.dot(_),this}translate(l){return this.constant-=l.dot(this.normal),this}equals(l){return l.normal.equals(this.normal)&&l.constant===this.constant}clone(){return(new this.constructor).copy(this)}}Ql.prototype.isPlane=!0;const Mu=new Ee,Su=new Ee,Vy=new Ee,js=new Ee,Rd=new Ee,Mf=new Ee,Ap=new Ee,Sg=new Ee,zy=new Ee,ns=new Ee;class Qo{constructor(l=new Ee,d=new Ee,m=new Ee){this.a=l,this.b=d,this.c=m}static getNormal(l,d,m,v){void 0===v&&(console.warn("THREE.Triangle: .getNormal() target is now required"),v=new Ee),v.subVectors(m,d),Mu.subVectors(l,d),v.cross(Mu);const _=v.lengthSq();return _>0?v.multiplyScalar(1/Math.sqrt(_)):v.set(0,0,0)}static getBarycoord(l,d,m,v,_){Mu.subVectors(v,d),Su.subVectors(m,d),Vy.subVectors(l,d);const x=Mu.dot(Mu),D=Mu.dot(Su),L=Mu.dot(Vy),k=Su.dot(Su),U=Su.dot(Vy),H=x*k-D*D;if(void 0===_&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),_=new Ee),0===H)return _.set(-2,-1,-1);const V=1/H,Y=(k*L-D*U)*V,J=(x*U-D*L)*V;return _.set(1-Y-J,J,Y)}static containsPoint(l,d,m,v){return this.getBarycoord(l,d,m,v,js),js.x>=0&&js.y>=0&&js.x+js.y<=1}static getUV(l,d,m,v,_,x,D,L){return this.getBarycoord(l,d,m,v,js),L.set(0,0),L.addScaledVector(_,js.x),L.addScaledVector(x,js.y),L.addScaledVector(D,js.z),L}static isFrontFacing(l,d,m,v){return Mu.subVectors(m,d),Su.subVectors(l,d),Mu.cross(Su).dot(v)<0}set(l,d,m){return this.a.copy(l),this.b.copy(d),this.c.copy(m),this}setFromPointsAndIndices(l,d,m,v){return this.a.copy(l[d]),this.b.copy(l[m]),this.c.copy(l[v]),this}clone(){return(new this.constructor).copy(this)}copy(l){return this.a.copy(l.a),this.b.copy(l.b),this.c.copy(l.c),this}getArea(){return Mu.subVectors(this.c,this.b),Su.subVectors(this.a,this.b),.5*Mu.cross(Su).length()}getMidpoint(l){return void 0===l&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),l=new Ee),l.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(l){return Qo.getNormal(this.a,this.b,this.c,l)}getPlane(l){return void 0===l&&(console.warn("THREE.Triangle: .getPlane() target is now required"),l=new Ql),l.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(l,d){return Qo.getBarycoord(l,this.a,this.b,this.c,d)}getUV(l,d,m,v,_){return Qo.getUV(l,this.a,this.b,this.c,d,m,v,_)}containsPoint(l){return Qo.containsPoint(l,this.a,this.b,this.c)}isFrontFacing(l){return Qo.isFrontFacing(this.a,this.b,this.c,l)}intersectsBox(l){return l.intersectsTriangle(this)}closestPointToPoint(l,d){void 0===d&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),d=new Ee);const m=this.a,v=this.b,_=this.c;let x,D;Rd.subVectors(v,m),Mf.subVectors(_,m),Sg.subVectors(l,m);const L=Rd.dot(Sg),k=Mf.dot(Sg);if(L<=0&&k<=0)return d.copy(m);zy.subVectors(l,v);const U=Rd.dot(zy),H=Mf.dot(zy);if(U>=0&&H<=U)return d.copy(v);const V=L*H-U*k;if(V<=0&&L>=0&&U<=0)return x=L/(L-U),d.copy(m).addScaledVector(Rd,x);ns.subVectors(l,_);const Y=Rd.dot(ns),J=Mf.dot(ns);if(J>=0&&Y<=J)return d.copy(_);const te=Y*k-L*J;if(te<=0&&k>=0&&J<=0)return D=k/(k-J),d.copy(m).addScaledVector(Mf,D);const se=U*J-Y*H;if(se<=0&&H-U>=0&&Y-J>=0)return Ap.subVectors(_,v),D=(H-U)/(H-U+(Y-J)),d.copy(v).addScaledVector(Ap,D);const oe=1/(se+te+V);return x=te*oe,D=V*oe,d.copy(m).addScaledVector(Rd,x).addScaledVector(Mf,D)}equals(l){return l.a.equals(this.a)&&l.b.equals(this.b)&&l.c.equals(this.c)}}let Uy=0;function Bo(){Object.defineProperty(this,"id",{value:Uy++}),this.uuid=Dr.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=ze,this.side=he,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Fe,this.blendDst=ge,this.blendEquation=dt,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Yn,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=nc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Xa,this.stencilZFail=Xa,this.stencilZPass=Xa,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Bo.prototype=Object.assign(Object.create(ji.prototype),{constructor:Bo,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(f){if(void 0!==f)for(const l in f){const d=f[l];if(void 0===d){console.warn("THREE.Material: '"+l+"' parameter is undefined.");continue}if("shading"===l){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=d===be;continue}const m=this[l];void 0!==m?m&&m.isColor?m.set(d):m&&m.isVector3&&d&&d.isVector3?m.copy(d):this[l]=d:console.warn("THREE."+this.type+": '"+l+"' is not a property of this material.")}},toJSON:function(f){const l=void 0===f||"string"==typeof f;l&&(f={textures:{},images:{}});const d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function m(v){const _=[];for(const x in v){const D=v[x];delete D.metadata,_.push(D)}return _}if(d.uuid=this.uuid,d.type=this.type,""!==this.name&&(d.name=this.name),this.color&&this.color.isColor&&(d.color=this.color.getHex()),void 0!==this.roughness&&(d.roughness=this.roughness),void 0!==this.metalness&&(d.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(d.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(d.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex()),void 0!==this.shininess&&(d.shininess=this.shininess),void 0!==this.clearcoat&&(d.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(d.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(d.clearcoatMap=this.clearcoatMap.toJSON(f).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(d.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(f).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(d.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(f).uuid,d.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(d.map=this.map.toJSON(f).uuid),this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(f).uuid),this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(f).uuid),this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(f).uuid,d.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(f).uuid,d.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(f).uuid,d.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(f).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(f).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(f).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(f).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(f).uuid),this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(f).uuid),this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(f).uuid,d.reflectivity=this.reflectivity,d.refractionRatio=this.refractionRatio,void 0!==this.combine&&(d.combine=this.combine),void 0!==this.envMapIntensity&&(d.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(f).uuid),void 0!==this.size&&(d.size=this.size),void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation),this.blending!==ze&&(d.blending=this.blending),this.side!==he&&(d.side=this.side),this.vertexColors&&(d.vertexColors=!0),this.opacity<1&&(d.opacity=this.opacity),!0===this.transparent&&(d.transparent=this.transparent),d.depthFunc=this.depthFunc,d.depthTest=this.depthTest,d.depthWrite=this.depthWrite,d.stencilWrite=this.stencilWrite,d.stencilWriteMask=this.stencilWriteMask,d.stencilFunc=this.stencilFunc,d.stencilRef=this.stencilRef,d.stencilFuncMask=this.stencilFuncMask,d.stencilFail=this.stencilFail,d.stencilZFail=this.stencilZFail,d.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(d.rotation=this.rotation),!0===this.polygonOffset&&(d.polygonOffset=!0),0!==this.polygonOffsetFactor&&(d.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(d.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(d.linewidth=this.linewidth),void 0!==this.dashSize&&(d.dashSize=this.dashSize),void 0!==this.gapSize&&(d.gapSize=this.gapSize),void 0!==this.scale&&(d.scale=this.scale),!0===this.dithering&&(d.dithering=!0),this.alphaTest>0&&(d.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(d.wireframe=this.wireframe),this.wireframeLinewidth>1&&(d.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(d.morphTargets=!0),!0===this.morphNormals&&(d.morphNormals=!0),!0===this.skinning&&(d.skinning=!0),!0===this.flatShading&&(d.flatShading=this.flatShading),!1===this.visible&&(d.visible=!1),!1===this.toneMapped&&(d.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData),l){const v=m(f.textures),_=m(f.images);v.length>0&&(d.textures=v),_.length>0&&(d.images=_)}return d},clone:function(){return(new this.constructor).copy(this)},copy:function(f){this.name=f.name,this.fog=f.fog,this.blending=f.blending,this.side=f.side,this.vertexColors=f.vertexColors,this.opacity=f.opacity,this.transparent=f.transparent,this.blendSrc=f.blendSrc,this.blendDst=f.blendDst,this.blendEquation=f.blendEquation,this.blendSrcAlpha=f.blendSrcAlpha,this.blendDstAlpha=f.blendDstAlpha,this.blendEquationAlpha=f.blendEquationAlpha,this.depthFunc=f.depthFunc,this.depthTest=f.depthTest,this.depthWrite=f.depthWrite,this.stencilWriteMask=f.stencilWriteMask,this.stencilFunc=f.stencilFunc,this.stencilRef=f.stencilRef,this.stencilFuncMask=f.stencilFuncMask,this.stencilFail=f.stencilFail,this.stencilZFail=f.stencilZFail,this.stencilZPass=f.stencilZPass,this.stencilWrite=f.stencilWrite;const l=f.clippingPlanes;let d=null;if(null!==l){const m=l.length;d=new Array(m);for(let v=0;v!==m;++v)d[v]=l[v].clone()}return this.clippingPlanes=d,this.clipIntersection=f.clipIntersection,this.clipShadows=f.clipShadows,this.shadowSide=f.shadowSide,this.colorWrite=f.colorWrite,this.precision=f.precision,this.polygonOffset=f.polygonOffset,this.polygonOffsetFactor=f.polygonOffsetFactor,this.polygonOffsetUnits=f.polygonOffsetUnits,this.dithering=f.dithering,this.alphaTest=f.alphaTest,this.premultipliedAlpha=f.premultipliedAlpha,this.visible=f.visible,this.toneMapped=f.toneMapped,this.userData=JSON.parse(JSON.stringify(f.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Bo.prototype,"needsUpdate",{set:function(f){!0===f&&this.version++}});const ua={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},eu={h:0,s:0,l:0},xh={h:0,s:0,l:0};function Dd(f,l,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?f+6*(l-f)*d:d<.5?l:d<2/3?f+6*(l-f)*(2/3-d):f}function Ka(f){return f<.04045?.0773993808*f:Math.pow(.9478672986*f+.0521327014,2.4)}function xg(f){return f<.0031308?12.92*f:1.055*Math.pow(f,.41666)-.055}let dr=(()=>{class f{constructor(d,m,v){return void 0===m&&void 0===v?this.set(d):this.setRGB(d,m,v)}set(d){return d&&d.isColor?this.copy(d):"number"==typeof d?this.setHex(d):"string"==typeof d&&this.setStyle(d),this}setScalar(d){return this.r=d,this.g=d,this.b=d,this}setHex(d){return d=Math.floor(d),this.r=(d>>16&255)/255,this.g=(d>>8&255)/255,this.b=(255&d)/255,this}setRGB(d,m,v){return this.r=d,this.g=m,this.b=v,this}setHSL(d,m,v){if(d=Dr.euclideanModulo(d,1),m=Dr.clamp(m,0,1),v=Dr.clamp(v,0,1),0===m)this.r=this.g=this.b=v;else{const _=v<=.5?v*(1+m):v+m-v*m,x=2*v-_;this.r=Dd(x,_,d+1/3),this.g=Dd(x,_,d),this.b=Dd(x,_,d-1/3)}return this}setStyle(d){function m(_){void 0!==_&&parseFloat(_)<1&&console.warn("THREE.Color: Alpha component of "+d+" will be ignored.")}let v;if(v=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(d)){let _;const D=v[2];switch(v[1]){case"rgb":case"rgba":if(_=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D))return this.r=Math.min(255,parseInt(_[1],10))/255,this.g=Math.min(255,parseInt(_[2],10))/255,this.b=Math.min(255,parseInt(_[3],10))/255,m(_[4]),this;if(_=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D))return this.r=Math.min(100,parseInt(_[1],10))/100,this.g=Math.min(100,parseInt(_[2],10))/100,this.b=Math.min(100,parseInt(_[3],10))/100,m(_[4]),this;break;case"hsl":case"hsla":if(_=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D)){const L=parseFloat(_[1])/360,k=parseInt(_[2],10)/100,U=parseInt(_[3],10)/100;return m(_[4]),this.setHSL(L,k,U)}}}else if(v=/^\#([A-Fa-f\d]+)$/.exec(d)){const _=v[1],x=_.length;if(3===x)return this.r=parseInt(_.charAt(0)+_.charAt(0),16)/255,this.g=parseInt(_.charAt(1)+_.charAt(1),16)/255,this.b=parseInt(_.charAt(2)+_.charAt(2),16)/255,this;if(6===x)return this.r=parseInt(_.charAt(0)+_.charAt(1),16)/255,this.g=parseInt(_.charAt(2)+_.charAt(3),16)/255,this.b=parseInt(_.charAt(4)+_.charAt(5),16)/255,this}return d&&d.length>0?this.setColorName(d):this}setColorName(d){const m=ua[d];return void 0!==m?this.setHex(m):console.warn("THREE.Color: Unknown color "+d),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(d){return this.r=d.r,this.g=d.g,this.b=d.b,this}copyGammaToLinear(d,m=2){return this.r=Math.pow(d.r,m),this.g=Math.pow(d.g,m),this.b=Math.pow(d.b,m),this}copyLinearToGamma(d,m=2){const v=m>0?1/m:1;return this.r=Math.pow(d.r,v),this.g=Math.pow(d.g,v),this.b=Math.pow(d.b,v),this}convertGammaToLinear(d){return this.copyGammaToLinear(this,d),this}convertLinearToGamma(d){return this.copyLinearToGamma(this,d),this}copySRGBToLinear(d){return this.r=Ka(d.r),this.g=Ka(d.g),this.b=Ka(d.b),this}copyLinearToSRGB(d){return this.r=xg(d.r),this.g=xg(d.g),this.b=xg(d.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(d){void 0===d&&(console.warn("THREE.Color: .getHSL() target is now required"),d={h:0,s:0,l:0});const m=this.r,v=this.g,_=this.b,x=Math.max(m,v,_),D=Math.min(m,v,_);let L,k;const U=(D+x)/2;if(D===x)L=0,k=0;else{const H=x-D;switch(k=U<=.5?H/(x+D):H/(2-x-D),x){case m:L=(v-_)/H+(v<_?6:0);break;case v:L=(_-m)/H+2;break;case _:L=(m-v)/H+4}L/=6}return d.h=L,d.s=k,d.l=U,d}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(d,m,v){return this.getHSL(eu),eu.h+=d,eu.s+=m,eu.l+=v,this.setHSL(eu.h,eu.s,eu.l),this}add(d){return this.r+=d.r,this.g+=d.g,this.b+=d.b,this}addColors(d,m){return this.r=d.r+m.r,this.g=d.g+m.g,this.b=d.b+m.b,this}addScalar(d){return this.r+=d,this.g+=d,this.b+=d,this}sub(d){return this.r=Math.max(0,this.r-d.r),this.g=Math.max(0,this.g-d.g),this.b=Math.max(0,this.b-d.b),this}multiply(d){return this.r*=d.r,this.g*=d.g,this.b*=d.b,this}multiplyScalar(d){return this.r*=d,this.g*=d,this.b*=d,this}lerp(d,m){return this.r+=(d.r-this.r)*m,this.g+=(d.g-this.g)*m,this.b+=(d.b-this.b)*m,this}lerpColors(d,m,v){return this.r=d.r+(m.r-d.r)*v,this.g=d.g+(m.g-d.g)*v,this.b=d.b+(m.b-d.b)*v,this}lerpHSL(d,m){this.getHSL(eu),d.getHSL(xh);const v=Dr.lerp(eu.h,xh.h,m),_=Dr.lerp(eu.s,xh.s,m),x=Dr.lerp(eu.l,xh.l,m);return this.setHSL(v,_,x),this}equals(d){return d.r===this.r&&d.g===this.g&&d.b===this.b}fromArray(d,m=0){return this.r=d[m],this.g=d[m+1],this.b=d[m+2],this}toArray(d=[],m=0){return d[m]=this.r,d[m+1]=this.g,d[m+2]=this.b,d}fromBufferAttribute(d,m){return this.r=d.getX(m),this.g=d.getY(m),this.b=d.getZ(m),!0===d.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return f.NAMES=ua,f})();dr.prototype.isColor=!0,dr.prototype.r=1,dr.prototype.g=1,dr.prototype.b=1;class Vc extends Bo{constructor(l){super(),this.type="MeshBasicMaterial",this.color=new dr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gr,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this}}Vc.prototype.isMeshBasicMaterial=!0;const po=new Ee,Op=new _n;function Kr(f,l,d){if(Array.isArray(f))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=f,this.itemSize=l,this.count=void 0!==f?f.length/l:0,this.normalized=!0===d,this.usage=Kl,this.updateRange={offset:0,count:-1},this.version=0}function ii(f,l,d){Kr.call(this,new Int8Array(f),l,d)}function Sf(f,l,d){Kr.call(this,new Uint8Array(f),l,d)}function Cg(f,l,d){Kr.call(this,new Uint8ClampedArray(f),l,d)}function kp(f,l,d){Kr.call(this,new Int16Array(f),l,d)}function Ch(f,l,d){Kr.call(this,new Uint16Array(f),l,d)}function Lp(f,l,d){Kr.call(this,new Int32Array(f),l,d)}function Ad(f,l,d){Kr.call(this,new Uint32Array(f),l,d)}function Pp(f,l,d){Kr.call(this,new Uint16Array(f),l,d)}function yr(f,l,d){Kr.call(this,new Float32Array(f),l,d)}function pn(f,l,d){Kr.call(this,new Float64Array(f),l,d)}function oo(f){if(0===f.length)return-1/0;let l=f[0];for(let d=1,m=f.length;d<m;++d)f[d]>l&&(l=f[d]);return l}Object.defineProperty(Kr.prototype,"needsUpdate",{set:function(f){!0===f&&this.version++}}),Object.assign(Kr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(f){return this.usage=f,this},copy:function(f){return this.name=f.name,this.array=new f.array.constructor(f.array),this.itemSize=f.itemSize,this.count=f.count,this.normalized=f.normalized,this.usage=f.usage,this},copyAt:function(f,l,d){f*=this.itemSize,d*=l.itemSize;for(let m=0,v=this.itemSize;m<v;m++)this.array[f+m]=l.array[d+m];return this},copyArray:function(f){return this.array.set(f),this},copyColorsArray:function(f){const l=this.array;let d=0;for(let m=0,v=f.length;m<v;m++){let _=f[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",m),_=new dr),l[d++]=_.r,l[d++]=_.g,l[d++]=_.b}return this},copyVector2sArray:function(f){const l=this.array;let d=0;for(let m=0,v=f.length;m<v;m++){let _=f[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",m),_=new _n),l[d++]=_.x,l[d++]=_.y}return this},copyVector3sArray:function(f){const l=this.array;let d=0;for(let m=0,v=f.length;m<v;m++){let _=f[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",m),_=new Ee),l[d++]=_.x,l[d++]=_.y,l[d++]=_.z}return this},copyVector4sArray:function(f){const l=this.array;let d=0;for(let m=0,v=f.length;m<v;m++){let _=f[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",m),_=new Ti),l[d++]=_.x,l[d++]=_.y,l[d++]=_.z,l[d++]=_.w}return this},applyMatrix3:function(f){if(2===this.itemSize)for(let l=0,d=this.count;l<d;l++)Op.fromBufferAttribute(this,l),Op.applyMatrix3(f),this.setXY(l,Op.x,Op.y);else if(3===this.itemSize)for(let l=0,d=this.count;l<d;l++)po.fromBufferAttribute(this,l),po.applyMatrix3(f),this.setXYZ(l,po.x,po.y,po.z);return this},applyMatrix4:function(f){for(let l=0,d=this.count;l<d;l++)po.x=this.getX(l),po.y=this.getY(l),po.z=this.getZ(l),po.applyMatrix4(f),this.setXYZ(l,po.x,po.y,po.z);return this},applyNormalMatrix:function(f){for(let l=0,d=this.count;l<d;l++)po.x=this.getX(l),po.y=this.getY(l),po.z=this.getZ(l),po.applyNormalMatrix(f),this.setXYZ(l,po.x,po.y,po.z);return this},transformDirection:function(f){for(let l=0,d=this.count;l<d;l++)po.x=this.getX(l),po.y=this.getY(l),po.z=this.getZ(l),po.transformDirection(f),this.setXYZ(l,po.x,po.y,po.z);return this},set:function(f,l=0){return this.array.set(f,l),this},getX:function(f){return this.array[f*this.itemSize]},setX:function(f,l){return this.array[f*this.itemSize]=l,this},getY:function(f){return this.array[f*this.itemSize+1]},setY:function(f,l){return this.array[f*this.itemSize+1]=l,this},getZ:function(f){return this.array[f*this.itemSize+2]},setZ:function(f,l){return this.array[f*this.itemSize+2]=l,this},getW:function(f){return this.array[f*this.itemSize+3]},setW:function(f,l){return this.array[f*this.itemSize+3]=l,this},setXY:function(f,l,d){return this.array[0+(f*=this.itemSize)]=l,this.array[f+1]=d,this},setXYZ:function(f,l,d,m){return this.array[0+(f*=this.itemSize)]=l,this.array[f+1]=d,this.array[f+2]=m,this},setXYZW:function(f,l,d,m,v){return this.array[0+(f*=this.itemSize)]=l,this.array[f+1]=d,this.array[f+2]=m,this.array[f+3]=v,this},onUpload:function(f){return this.onUploadCallback=f,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(ii.prototype=Object.create(Kr.prototype)).constructor=ii,(Sf.prototype=Object.create(Kr.prototype)).constructor=Sf,(Cg.prototype=Object.create(Kr.prototype)).constructor=Cg,(kp.prototype=Object.create(Kr.prototype)).constructor=kp,(Ch.prototype=Object.create(Kr.prototype)).constructor=Ch,(Lp.prototype=Object.create(Kr.prototype)).constructor=Lp,(Ad.prototype=Object.create(Kr.prototype)).constructor=Ad,(Pp.prototype=Object.create(Kr.prototype)).constructor=Pp,Pp.prototype.isFloat16BufferAttribute=!0,(yr.prototype=Object.create(Kr.prototype)).constructor=yr,(pn.prototype=Object.create(Kr.prototype)).constructor=pn;const Za={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Zs(f,l){return new Za[f](l)}let qs=0;const Fl=new Hr,Eh=new Xr,qa=new Ee,Ja=new zs,zc=new zs,Ws=new Ee;function Br(){Object.defineProperty(this,"id",{value:qs++}),this.uuid=Dr.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Br.prototype=Object.assign(Object.create(ji.prototype),{constructor:Br,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(f){return this.index=Array.isArray(f)?new(oo(f)>65535?Ad:Ch)(f,1):f,this},getAttribute:function(f){return this.attributes[f]},setAttribute:function(f,l){return this.attributes[f]=l,this},deleteAttribute:function(f){return delete this.attributes[f],this},hasAttribute:function(f){return void 0!==this.attributes[f]},addGroup:function(f,l,d=0){this.groups.push({start:f,count:l,materialIndex:d})},clearGroups:function(){this.groups=[]},setDrawRange:function(f,l){this.drawRange.start=f,this.drawRange.count=l},applyMatrix4:function(f){const l=this.attributes.position;void 0!==l&&(l.applyMatrix4(f),l.needsUpdate=!0);const d=this.attributes.normal;if(void 0!==d){const v=(new Ds).getNormalMatrix(f);d.applyNormalMatrix(v),d.needsUpdate=!0}const m=this.attributes.tangent;return void 0!==m&&(m.transformDirection(f),m.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(f){return Fl.makeRotationX(f),this.applyMatrix4(Fl),this},rotateY:function(f){return Fl.makeRotationY(f),this.applyMatrix4(Fl),this},rotateZ:function(f){return Fl.makeRotationZ(f),this.applyMatrix4(Fl),this},translate:function(f,l,d){return Fl.makeTranslation(f,l,d),this.applyMatrix4(Fl),this},scale:function(f,l,d){return Fl.makeScale(f,l,d),this.applyMatrix4(Fl),this},lookAt:function(f){return Eh.lookAt(f),Eh.updateMatrix(),this.applyMatrix4(Eh.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(qa).negate(),this.translate(qa.x,qa.y,qa.z),this},setFromPoints:function(f){const l=[];for(let d=0,m=f.length;d<m;d++){const v=f[d];l.push(v.x,v.y,v.z||0)}return this.setAttribute("position",new yr(l,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new zs);const f=this.attributes.position,l=this.morphAttributes.position;if(f&&f.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Ee(-1/0,-1/0,-1/0),new Ee(1/0,1/0,1/0));if(void 0!==f){if(this.boundingBox.setFromBufferAttribute(f),l)for(let d=0,m=l.length;d<m;d++)Ja.setFromBufferAttribute(l[d]),this.morphTargetsRelative?(Ws.addVectors(this.boundingBox.min,Ja.min),this.boundingBox.expandByPoint(Ws),Ws.addVectors(this.boundingBox.max,Ja.max),this.boundingBox.expandByPoint(Ws)):(this.boundingBox.expandByPoint(Ja.min),this.boundingBox.expandByPoint(Ja.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new xd);const f=this.attributes.position,l=this.morphAttributes.position;if(f&&f.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Ee,1/0);if(f){const d=this.boundingSphere.center;if(Ja.setFromBufferAttribute(f),l)for(let v=0,_=l.length;v<_;v++)zc.setFromBufferAttribute(l[v]),this.morphTargetsRelative?(Ws.addVectors(Ja.min,zc.min),Ja.expandByPoint(Ws),Ws.addVectors(Ja.max,zc.max),Ja.expandByPoint(Ws)):(Ja.expandByPoint(zc.min),Ja.expandByPoint(zc.max));Ja.getCenter(d);let m=0;for(let v=0,_=f.count;v<_;v++)Ws.fromBufferAttribute(f,v),m=Math.max(m,d.distanceToSquared(Ws));if(l)for(let v=0,_=l.length;v<_;v++){const x=l[v],D=this.morphTargetsRelative;for(let L=0,k=x.count;L<k;L++)Ws.fromBufferAttribute(x,L),D&&(qa.fromBufferAttribute(f,L),Ws.add(qa)),m=Math.max(m,d.distanceToSquared(Ws))}this.boundingSphere.radius=Math.sqrt(m),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){const f=this.index,l=this.attributes;if(null===f||void 0===l.position||void 0===l.normal||void 0===l.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const d=f.array,m=l.position.array,v=l.normal.array,_=l.uv.array,x=m.length/3;void 0===l.tangent&&this.setAttribute("tangent",new Kr(new Float32Array(4*x),4));const D=l.tangent.array,L=[],k=[];for(let Mt=0;Mt<x;Mt++)L[Mt]=new Ee,k[Mt]=new Ee;const U=new Ee,H=new Ee,V=new Ee,Y=new _n,J=new _n,te=new _n,se=new Ee,oe=new Ee;function K(Mt,at,jt){U.fromArray(m,3*Mt),H.fromArray(m,3*at),V.fromArray(m,3*jt),Y.fromArray(_,2*Mt),J.fromArray(_,2*at),te.fromArray(_,2*jt),H.sub(U),V.sub(U),J.sub(Y),te.sub(Y);const en=1/(J.x*te.y-te.x*J.y);!isFinite(en)||(se.copy(H).multiplyScalar(te.y).addScaledVector(V,-J.y).multiplyScalar(en),oe.copy(V).multiplyScalar(J.x).addScaledVector(H,-te.x).multiplyScalar(en),L[Mt].add(se),L[at].add(se),L[jt].add(se),k[Mt].add(oe),k[at].add(oe),k[jt].add(oe))}let De=this.groups;0===De.length&&(De=[{start:0,count:d.length}]);for(let Mt=0,at=De.length;Mt<at;++Mt){const jt=De[Mt],en=jt.start;for(let Tt=en,Wt=en+jt.count;Tt<Wt;Tt+=3)K(d[Tt+0],d[Tt+1],d[Tt+2])}const Ce=new Ee,Ve=new Ee,Se=new Ee,nt=new Ee;function Dt(Mt){Se.fromArray(v,3*Mt),nt.copy(Se);const at=L[Mt];Ce.copy(at),Ce.sub(Se.multiplyScalar(Se.dot(at))).normalize(),Ve.crossVectors(nt,at);const en=Ve.dot(k[Mt])<0?-1:1;D[4*Mt]=Ce.x,D[4*Mt+1]=Ce.y,D[4*Mt+2]=Ce.z,D[4*Mt+3]=en}for(let Mt=0,at=De.length;Mt<at;++Mt){const jt=De[Mt],en=jt.start;for(let Tt=en,Wt=en+jt.count;Tt<Wt;Tt+=3)Dt(d[Tt+0]),Dt(d[Tt+1]),Dt(d[Tt+2])}},computeVertexNormals:function(){const f=this.index,l=this.getAttribute("position");if(void 0!==l){let d=this.getAttribute("normal");if(void 0===d)d=new Kr(new Float32Array(3*l.count),3),this.setAttribute("normal",d);else for(let H=0,V=d.count;H<V;H++)d.setXYZ(H,0,0,0);const m=new Ee,v=new Ee,_=new Ee,x=new Ee,D=new Ee,L=new Ee,k=new Ee,U=new Ee;if(f)for(let H=0,V=f.count;H<V;H+=3){const Y=f.getX(H+0),J=f.getX(H+1),te=f.getX(H+2);m.fromBufferAttribute(l,Y),v.fromBufferAttribute(l,J),_.fromBufferAttribute(l,te),k.subVectors(_,v),U.subVectors(m,v),k.cross(U),x.fromBufferAttribute(d,Y),D.fromBufferAttribute(d,J),L.fromBufferAttribute(d,te),x.add(k),D.add(k),L.add(k),d.setXYZ(Y,x.x,x.y,x.z),d.setXYZ(J,D.x,D.y,D.z),d.setXYZ(te,L.x,L.y,L.z)}else for(let H=0,V=l.count;H<V;H+=3)m.fromBufferAttribute(l,H+0),v.fromBufferAttribute(l,H+1),_.fromBufferAttribute(l,H+2),k.subVectors(_,v),U.subVectors(m,v),k.cross(U),d.setXYZ(H+0,k.x,k.y,k.z),d.setXYZ(H+1,k.x,k.y,k.z),d.setXYZ(H+2,k.x,k.y,k.z);this.normalizeNormals(),d.needsUpdate=!0}},merge:function(f,l){if(!f||!f.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",f);void 0===l&&(l=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const d=this.attributes;for(const m in d){if(void 0===f.attributes[m])continue;const _=d[m].array,x=f.attributes[m],D=x.array,L=x.itemSize*l,k=Math.min(D.length,_.length-L);for(let U=0,H=L;U<k;U++,H++)_[H]=D[U]}return this},normalizeNormals:function(){const f=this.attributes.normal;for(let l=0,d=f.count;l<d;l++)Ws.fromBufferAttribute(f,l),Ws.normalize(),f.setXYZ(l,Ws.x,Ws.y,Ws.z)},toNonIndexed:function(){function f(x,D){const L=x.array,k=x.itemSize,U=x.normalized,H=new L.constructor(D.length*k);let V=0,Y=0;for(let J=0,te=D.length;J<te;J++){V=D[J]*k;for(let se=0;se<k;se++)H[Y++]=L[V++]}return new Kr(H,k,U)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const l=new Br,d=this.index.array,m=this.attributes;for(const x in m){const L=f(m[x],d);l.setAttribute(x,L)}const v=this.morphAttributes;for(const x in v){const D=[],L=v[x];for(let k=0,U=L.length;k<U;k++){const V=f(L[k],d);D.push(V)}l.morphAttributes[x]=D}l.morphTargetsRelative=this.morphTargetsRelative;const _=this.groups;for(let x=0,D=_.length;x<D;x++){const L=_[x];l.addGroup(L.start,L.count,L.materialIndex)}return l},toJSON:function(){const f={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(f.uuid=this.uuid,f.type=this.type,""!==this.name&&(f.name=this.name),Object.keys(this.userData).length>0&&(f.userData=this.userData),void 0!==this.parameters){const D=this.parameters;for(const L in D)void 0!==D[L]&&(f[L]=D[L]);return f}f.data={attributes:{}};const l=this.index;null!==l&&(f.data.index={type:l.array.constructor.name,array:Array.prototype.slice.call(l.array)});const d=this.attributes;for(const D in d){const L=d[D],k=L.toJSON(f.data);""!==L.name&&(k.name=L.name),f.data.attributes[D]=k}const m={};let v=!1;for(const D in this.morphAttributes){const L=this.morphAttributes[D],k=[];for(let U=0,H=L.length;U<H;U++){const V=L[U],Y=V.toJSON(f.data);""!==V.name&&(Y.name=V.name),k.push(Y)}k.length>0&&(m[D]=k,v=!0)}v&&(f.data.morphAttributes=m,f.data.morphTargetsRelative=this.morphTargetsRelative);const _=this.groups;_.length>0&&(f.data.groups=JSON.parse(JSON.stringify(_)));const x=this.boundingSphere;return null!==x&&(f.data.boundingSphere={center:x.center.toArray(),radius:x.radius}),f},clone:function(){return(new Br).copy(this)},copy:function(f){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const l={};this.name=f.name;const d=f.index;null!==d&&this.setIndex(d.clone(l));const m=f.attributes;for(const L in m)this.setAttribute(L,m[L].clone(l));const v=f.morphAttributes;for(const L in v){const k=[],U=v[L];for(let H=0,V=U.length;H<V;H++)k.push(U[H].clone(l));this.morphAttributes[L]=k}this.morphTargetsRelative=f.morphTargetsRelative;const _=f.groups;for(let L=0,k=_.length;L<k;L++){const U=_[L];this.addGroup(U.start,U.count,U.materialIndex)}const x=f.boundingBox;null!==x&&(this.boundingBox=x.clone());const D=f.boundingSphere;return null!==D&&(this.boundingSphere=D.clone()),this.drawRange.start=f.drawRange.start,this.drawRange.count=f.drawRange.count,this.userData=f.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const eC=new Hr,Uc=new Cd,ga=new xd,Aa=new Ee,jc=new Ee,vl=new Ee,xu=new Ee,jy=new Ee,Ip=new Ee,Eg=new Ee,Tg=new Ee,xf=new Ee,Hl=new _n,Cf=new _n,Ef=new _n,Wy=new Ee,Np=new Ee;function un(f=new Br,l=new Vc){Xr.call(this),this.type="Mesh",this.geometry=f,this.material=l,this.updateMorphTargets()}function Fp(f,l,d,m,v,_,x,D,L,k,U,H){Aa.fromBufferAttribute(v,k),jc.fromBufferAttribute(v,U),vl.fromBufferAttribute(v,H);const V=f.morphTargetInfluences;if(l.morphTargets&&_&&V){Eg.set(0,0,0),Tg.set(0,0,0),xf.set(0,0,0);for(let J=0,te=_.length;J<te;J++){const se=V[J],oe=_[J];0!==se&&(xu.fromBufferAttribute(oe,k),jy.fromBufferAttribute(oe,U),Ip.fromBufferAttribute(oe,H),x?(Eg.addScaledVector(xu,se),Tg.addScaledVector(jy,se),xf.addScaledVector(Ip,se)):(Eg.addScaledVector(xu.sub(Aa),se),Tg.addScaledVector(jy.sub(jc),se),xf.addScaledVector(Ip.sub(vl),se)))}Aa.add(Eg),jc.add(Tg),vl.add(xf)}f.isSkinnedMesh&&l.skinning&&(f.boneTransform(k,Aa),f.boneTransform(U,jc),f.boneTransform(H,vl));const Y=function Xw(f,l,d,m,v,_,x,D){let L;if(L=l.side===$?m.intersectTriangle(x,_,v,!0,D):m.intersectTriangle(v,_,x,l.side!==de,D),null===L)return null;Np.copy(D),Np.applyMatrix4(f.matrixWorld);const k=d.ray.origin.distanceTo(Np);return k<d.near||k>d.far?null:{distance:k,point:Np.clone(),object:f}}(f,l,d,m,Aa,jc,vl,Wy);if(Y){D&&(Hl.fromBufferAttribute(D,k),Cf.fromBufferAttribute(D,U),Ef.fromBufferAttribute(D,H),Y.uv=Qo.getUV(Wy,Aa,jc,vl,Hl,Cf,Ef,new _n)),L&&(Hl.fromBufferAttribute(L,k),Cf.fromBufferAttribute(L,U),Ef.fromBufferAttribute(L,H),Y.uv2=Qo.getUV(Wy,Aa,jc,vl,Hl,Cf,Ef,new _n));const J={a:k,b:U,c:H,normal:new Ee,materialIndex:0};Qo.getNormal(Aa,jc,vl,J.normal),Y.face=J}return Y}un.prototype=Object.assign(Object.create(Xr.prototype),{constructor:un,isMesh:!0,copy:function(f){return Xr.prototype.copy.call(this,f),void 0!==f.morphTargetInfluences&&(this.morphTargetInfluences=f.morphTargetInfluences.slice()),void 0!==f.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},f.morphTargetDictionary)),this.material=f.material,this.geometry=f.geometry,this},updateMorphTargets:function(){const f=this.geometry;if(f.isBufferGeometry){const l=f.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let v=0,_=m.length;v<_;v++){const x=m[v].name||String(v);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=v}}}}else{const l=f.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(f,l){const d=this.geometry,m=this.material,v=this.matrixWorld;if(void 0===m||(null===d.boundingSphere&&d.computeBoundingSphere(),ga.copy(d.boundingSphere),ga.applyMatrix4(v),!1===f.ray.intersectsSphere(ga))||(eC.copy(v).invert(),Uc.copy(f.ray).applyMatrix4(eC),null!==d.boundingBox&&!1===Uc.intersectsBox(d.boundingBox)))return;let _;if(d.isBufferGeometry){const x=d.index,D=d.attributes.position,L=d.morphAttributes.position,k=d.morphTargetsRelative,U=d.attributes.uv,H=d.attributes.uv2,V=d.groups,Y=d.drawRange;if(null!==x)if(Array.isArray(m))for(let J=0,te=V.length;J<te;J++){const se=V[J],oe=m[se.materialIndex];for(let Ce=Math.max(se.start,Y.start),Ve=Math.min(se.start+se.count,Y.start+Y.count);Ce<Ve;Ce+=3){const Se=x.getX(Ce),nt=x.getX(Ce+1),Dt=x.getX(Ce+2);_=Fp(this,oe,f,Uc,D,L,k,U,H,Se,nt,Dt),_&&(_.faceIndex=Math.floor(Ce/3),_.face.materialIndex=se.materialIndex,l.push(_))}}else for(let se=Math.max(0,Y.start),oe=Math.min(x.count,Y.start+Y.count);se<oe;se+=3){const K=x.getX(se),De=x.getX(se+1),Ce=x.getX(se+2);_=Fp(this,m,f,Uc,D,L,k,U,H,K,De,Ce),_&&(_.faceIndex=Math.floor(se/3),l.push(_))}else if(void 0!==D)if(Array.isArray(m))for(let J=0,te=V.length;J<te;J++){const se=V[J],oe=m[se.materialIndex];for(let Ce=Math.max(se.start,Y.start),Ve=Math.min(se.start+se.count,Y.start+Y.count);Ce<Ve;Ce+=3)_=Fp(this,oe,f,Uc,D,L,k,U,H,Ce,Ce+1,Ce+2),_&&(_.faceIndex=Math.floor(Ce/3),_.face.materialIndex=se.materialIndex,l.push(_))}else for(let se=Math.max(0,Y.start),oe=Math.min(D.count,Y.start+Y.count);se<oe;se+=3)_=Fp(this,m,f,Uc,D,L,k,U,H,se,se+1,se+2),_&&(_.faceIndex=Math.floor(se/3),l.push(_))}else d.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});class Wc extends Br{constructor(l=1,d=1,m=1,v=1,_=1,x=1){super(),this.type="BoxGeometry",this.parameters={width:l,height:d,depth:m,widthSegments:v,heightSegments:_,depthSegments:x};const D=this;v=Math.floor(v),_=Math.floor(_),x=Math.floor(x);const L=[],k=[],U=[],H=[];let V=0,Y=0;function J(te,se,oe,K,De,Ce,Ve,Se,nt,Dt,Mt){const at=Ce/nt,jt=Ve/Dt,en=Ce/2,Ut=Ve/2,Tt=Se/2,Wt=nt+1,Yt=Dt+1;let zn=0,$n=0;const Kn=new Ee;for(let Ir=0;Ir<Yt;Ir++){const Tr=Ir*jt-Ut;for(let no=0;no<Wt;no++)Kn[te]=(no*at-en)*K,Kn[se]=Tr*De,Kn[oe]=Tt,k.push(Kn.x,Kn.y,Kn.z),Kn[te]=0,Kn[se]=0,Kn[oe]=Se>0?1:-1,U.push(Kn.x,Kn.y,Kn.z),H.push(no/nt),H.push(1-Ir/Dt),zn+=1}for(let Ir=0;Ir<Dt;Ir++)for(let Tr=0;Tr<nt;Tr++){const bi=V+Tr+Wt*(Ir+1),ts=V+(Tr+1)+Wt*(Ir+1),Lo=V+(Tr+1)+Wt*Ir;L.push(V+Tr+Wt*Ir,bi,Lo),L.push(bi,ts,Lo),$n+=6}D.addGroup(Y,$n,Mt),Y+=$n,V+=zn}J("z","y","x",-1,-1,m,d,l,x,_,0),J("z","y","x",1,-1,m,d,-l,x,_,1),J("x","z","y",1,1,l,m,d,v,x,2),J("x","z","y",1,-1,l,m,-d,v,x,3),J("x","y","z",1,-1,l,d,m,v,_,4),J("x","y","z",-1,-1,l,d,-m,v,_,5),this.setIndex(L),this.setAttribute("position",new yr(k,3)),this.setAttribute("normal",new yr(U,3)),this.setAttribute("uv",new yr(H,2))}}function Wi(f){const l={};for(const d in f){l[d]={};for(const m in f[d]){const v=f[d][m];l[d][m]=v&&(v.isColor||v.isMatrix3||v.isMatrix4||v.isVector2||v.isVector3||v.isVector4||v.isTexture||v.isQuaternion)?v.clone():Array.isArray(v)?v.slice():v}}return l}function As(f){const l={};for(let d=0;d<f.length;d++){const m=Wi(f[d]);for(const v in m)l[v]=m[v]}return l}const Yy={clone:Wi,merge:As};function Os(f){Bo.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==f&&(void 0!==f.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(f))}function Vo(){Xr.call(this),this.type="Camera",this.matrixWorldInverse=new Hr,this.projectionMatrix=new Hr,this.projectionMatrixInverse=new Hr}function rs(f=50,l=1,d=.1,m=2e3){Vo.call(this),this.type="PerspectiveCamera",this.fov=f,this.zoom=1,this.near=d,this.far=m,this.focus=10,this.aspect=l,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}(Os.prototype=Object.create(Bo.prototype)).constructor=Os,Os.prototype.isShaderMaterial=!0,Os.prototype.copy=function(f){return Bo.prototype.copy.call(this,f),this.fragmentShader=f.fragmentShader,this.vertexShader=f.vertexShader,this.uniforms=Wi(f.uniforms),this.defines=Object.assign({},f.defines),this.wireframe=f.wireframe,this.wireframeLinewidth=f.wireframeLinewidth,this.lights=f.lights,this.clipping=f.clipping,this.skinning=f.skinning,this.morphTargets=f.morphTargets,this.morphNormals=f.morphNormals,this.extensions=Object.assign({},f.extensions),this.glslVersion=f.glslVersion,this},Os.prototype.toJSON=function(f){const l=Bo.prototype.toJSON.call(this,f);l.glslVersion=this.glslVersion,l.uniforms={};for(const m in this.uniforms){const _=this.uniforms[m].value;l.uniforms[m]=_&&_.isTexture?{type:"t",value:_.toJSON(f).uuid}:_&&_.isColor?{type:"c",value:_.getHex()}:_&&_.isVector2?{type:"v2",value:_.toArray()}:_&&_.isVector3?{type:"v3",value:_.toArray()}:_&&_.isVector4?{type:"v4",value:_.toArray()}:_&&_.isMatrix3?{type:"m3",value:_.toArray()}:_&&_.isMatrix4?{type:"m4",value:_.toArray()}:{value:_}}Object.keys(this.defines).length>0&&(l.defines=this.defines),l.vertexShader=this.vertexShader,l.fragmentShader=this.fragmentShader;const d={};for(const m in this.extensions)!0===this.extensions[m]&&(d[m]=!0);return Object.keys(d).length>0&&(l.extensions=d),l},Vo.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Vo,isCamera:!0,copy:function(f,l){return Xr.prototype.copy.call(this,f,l),this.matrixWorldInverse.copy(f.matrixWorldInverse),this.projectionMatrix.copy(f.projectionMatrix),this.projectionMatrixInverse.copy(f.projectionMatrixInverse),this},getWorldDirection:function(f){void 0===f&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),f=new Ee),this.updateWorldMatrix(!0,!1);const l=this.matrixWorld.elements;return f.set(-l[8],-l[9],-l[10]).normalize()},updateMatrixWorld:function(f){Xr.prototype.updateMatrixWorld.call(this,f),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(f,l){Xr.prototype.updateWorldMatrix.call(this,f,l),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),rs.prototype=Object.assign(Object.create(Vo.prototype),{constructor:rs,isPerspectiveCamera:!0,copy:function(f,l){return Vo.prototype.copy.call(this,f,l),this.fov=f.fov,this.zoom=f.zoom,this.near=f.near,this.far=f.far,this.focus=f.focus,this.aspect=f.aspect,this.view=null===f.view?null:Object.assign({},f.view),this.filmGauge=f.filmGauge,this.filmOffset=f.filmOffset,this},setFocalLength:function(f){const l=.5*this.getFilmHeight()/f;this.fov=2*Dr.RAD2DEG*Math.atan(l),this.updateProjectionMatrix()},getFocalLength:function(){const f=Math.tan(.5*Dr.DEG2RAD*this.fov);return.5*this.getFilmHeight()/f},getEffectiveFOV:function(){return 2*Dr.RAD2DEG*Math.atan(Math.tan(.5*Dr.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(f,l,d,m,v,_){this.aspect=f/l,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=f,this.view.fullHeight=l,this.view.offsetX=d,this.view.offsetY=m,this.view.width=v,this.view.height=_,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const f=this.near;let l=f*Math.tan(.5*Dr.DEG2RAD*this.fov)/this.zoom,d=2*l,m=this.aspect*d,v=-.5*m;const _=this.view;if(null!==this.view&&this.view.enabled){const D=_.fullWidth,L=_.fullHeight;v+=_.offsetX*m/D,l-=_.offsetY*d/L,m*=_.width/D,d*=_.height/L}const x=this.filmOffset;0!==x&&(v+=f*x/this.getFilmWidth()),this.projectionMatrix.makePerspective(v,v+m,l,l-d,f,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(f){const l=Xr.prototype.toJSON.call(this,f);return l.object.fov=this.fov,l.object.zoom=this.zoom,l.object.near=this.near,l.object.far=this.far,l.object.focus=this.focus,l.object.aspect=this.aspect,null!==this.view&&(l.object.view=Object.assign({},this.view)),l.object.filmGauge=this.filmGauge,l.object.filmOffset=this.filmOffset,l}});class Rg extends Xr{constructor(l,d,m){if(super(),this.type="CubeCamera",!0!==m.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=m;const v=new rs(90,1,l,d);v.layers=this.layers,v.up.set(0,-1,0),v.lookAt(new Ee(1,0,0)),this.add(v);const _=new rs(90,1,l,d);_.layers=this.layers,_.up.set(0,-1,0),_.lookAt(new Ee(-1,0,0)),this.add(_);const x=new rs(90,1,l,d);x.layers=this.layers,x.up.set(0,0,1),x.lookAt(new Ee(0,1,0)),this.add(x);const D=new rs(90,1,l,d);D.layers=this.layers,D.up.set(0,0,-1),D.lookAt(new Ee(0,-1,0)),this.add(D);const L=new rs(90,1,l,d);L.layers=this.layers,L.up.set(0,-1,0),L.lookAt(new Ee(0,0,1)),this.add(L);const k=new rs(90,1,l,d);k.layers=this.layers,k.up.set(0,-1,0),k.lookAt(new Ee(0,0,-1)),this.add(k)}update(l,d){null===this.parent&&this.updateMatrixWorld();const m=this.renderTarget,[v,_,x,D,L,k]=this.children,U=l.xr.enabled,H=l.getRenderTarget();l.xr.enabled=!1;const V=m.texture.generateMipmaps;m.texture.generateMipmaps=!1,l.setRenderTarget(m,0),l.render(d,v),l.setRenderTarget(m,1),l.render(d,_),l.setRenderTarget(m,2),l.render(d,x),l.setRenderTarget(m,3),l.render(d,D),l.setRenderTarget(m,4),l.render(d,L),m.texture.generateMipmaps=V,l.setRenderTarget(m,5),l.render(d,k),l.setRenderTarget(H),l.xr.enabled=U}}class Th extends uo{constructor(l,d,m,v,_,x,D,L,k,U){super(l=void 0!==l?l:[],d=void 0!==d?d:qe,m,v,_,x,D=void 0!==D?D:Ju,L,k,U),this._needsFlipEnvMap=!0,this.flipY=!1}get images(){return this.image}set images(l){this.image=l}}Th.prototype.isCubeTexture=!0;class Dg extends Qn{constructor(l,d,m){Number.isInteger(d)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),d=m),super(l,l,d),this.texture=new Th(void 0,(d=d||{}).mapping,d.wrapS,d.wrapT,d.magFilter,d.minFilter,d.format,d.type,d.anisotropy,d.encoding),this.texture.generateMipmaps=void 0!==d.generateMipmaps&&d.generateMipmaps,this.texture.minFilter=void 0!==d.minFilter?d.minFilter:Li,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(l,d){this.texture.type=d.type,this.texture.format=$o,this.texture.encoding=d.encoding,this.texture.generateMipmaps=d.generateMipmaps,this.texture.minFilter=d.minFilter,this.texture.magFilter=d.magFilter;const m_uniforms={tEquirect:{value:null}},m_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",m_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",v=new Wc(5,5,5),_=new Os({name:"CubemapFromEquirect",uniforms:Wi(m_uniforms),vertexShader:m_vertexShader,fragmentShader:m_fragmentShader,side:$,blending:Re});_.uniforms.tEquirect.value=d;const x=new un(v,_),D=d.minFilter;return d.minFilter===Xi&&(d.minFilter=Li),new Rg(1,10,this).update(l,x),d.minFilter=D,x.geometry.dispose(),x.material.dispose(),this}clear(l,d,m,v){const _=l.getRenderTarget();for(let x=0;x<6;x++)l.setRenderTarget(this,x),l.clear(d,m,v);l.setRenderTarget(_)}}Dg.prototype.isWebGLCubeRenderTarget=!0;class Yc extends uo{constructor(l,d,m,v,_,x,D,L,k,U,H,V){super(null,x,D,L,k,U,v,_,H,V),this.image={data:l||null,width:d||1,height:m||1},this.magFilter=void 0!==k?k:Un,this.minFilter=void 0!==U?U:Un,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Yc.prototype.isDataTexture=!0;const ac=new xd,Rh=new Ee;class Od{constructor(l=new Ql,d=new Ql,m=new Ql,v=new Ql,_=new Ql,x=new Ql){this.planes=[l,d,m,v,_,x]}set(l,d,m,v,_,x){const D=this.planes;return D[0].copy(l),D[1].copy(d),D[2].copy(m),D[3].copy(v),D[4].copy(_),D[5].copy(x),this}copy(l){const d=this.planes;for(let m=0;m<6;m++)d[m].copy(l.planes[m]);return this}setFromProjectionMatrix(l){const d=this.planes,m=l.elements,v=m[0],_=m[1],x=m[2],D=m[3],L=m[4],k=m[5],U=m[6],H=m[7],V=m[8],Y=m[9],J=m[10],te=m[11],se=m[12],oe=m[13],K=m[14],De=m[15];return d[0].setComponents(D-v,H-L,te-V,De-se).normalize(),d[1].setComponents(D+v,H+L,te+V,De+se).normalize(),d[2].setComponents(D+_,H+k,te+Y,De+oe).normalize(),d[3].setComponents(D-_,H-k,te-Y,De-oe).normalize(),d[4].setComponents(D-x,H-U,te-J,De-K).normalize(),d[5].setComponents(D+x,H+U,te+J,De+K).normalize(),this}intersectsObject(l){const d=l.geometry;return null===d.boundingSphere&&d.computeBoundingSphere(),ac.copy(d.boundingSphere).applyMatrix4(l.matrixWorld),this.intersectsSphere(ac)}intersectsSprite(l){return ac.center.set(0,0,0),ac.radius=.7071067811865476,ac.applyMatrix4(l.matrixWorld),this.intersectsSphere(ac)}intersectsSphere(l){const d=this.planes,m=l.center,v=-l.radius;for(let _=0;_<6;_++)if(d[_].distanceToPoint(m)<v)return!1;return!0}intersectsBox(l){const d=this.planes;for(let m=0;m<6;m++){const v=d[m];if(Rh.x=v.normal.x>0?l.max.x:l.min.x,Rh.y=v.normal.y>0?l.max.y:l.min.y,Rh.z=v.normal.z>0?l.max.z:l.min.z,v.distanceToPoint(Rh)<0)return!1}return!0}containsPoint(l){const d=this.planes;for(let m=0;m<6;m++)if(d[m].distanceToPoint(l)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Hp(){let f=null,l=!1,d=null,m=null;function v(_,x){d(_,x),m=f.requestAnimationFrame(v)}return{start:function(){!0!==l&&null!==d&&(m=f.requestAnimationFrame(v),l=!0)},stop:function(){f.cancelAnimationFrame(m),l=!1},setAnimationLoop:function(_){d=_},setContext:function(_){f=_}}}function tC(f,l){const d=l.isWebGL2,m=new WeakMap;return{get:function x(k){return k.isInterleavedBufferAttribute&&(k=k.data),m.get(k)},remove:function D(k){k.isInterleavedBufferAttribute&&(k=k.data);const U=m.get(k);U&&(f.deleteBuffer(U.buffer),m.delete(k))},update:function L(k,U){if(k.isGLBufferAttribute){const V=m.get(k);return void((!V||V.version<k.version)&&m.set(k,{buffer:k.buffer,type:k.type,bytesPerElement:k.elementSize,version:k.version}))}k.isInterleavedBufferAttribute&&(k=k.data);const H=m.get(k);void 0===H?m.set(k,function v(k,U){const H=k.array,V=k.usage,Y=f.createBuffer();f.bindBuffer(U,Y),f.bufferData(U,H,V),k.onUploadCallback();let J=5126;return H instanceof Float32Array?J=5126:H instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):H instanceof Uint16Array?k.isFloat16BufferAttribute?d?J=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):J=5123:H instanceof Int16Array?J=5122:H instanceof Uint32Array?J=5125:H instanceof Int32Array?J=5124:H instanceof Int8Array?J=5120:H instanceof Uint8Array&&(J=5121),{buffer:Y,type:J,bytesPerElement:H.BYTES_PER_ELEMENT,version:k.version}}(k,U)):H.version<k.version&&(function _(k,U,H){const V=U.array,Y=U.updateRange;f.bindBuffer(H,k),-1===Y.count?f.bufferSubData(H,0,V):(d?f.bufferSubData(H,Y.offset*V.BYTES_PER_ELEMENT,V,Y.offset,Y.count):f.bufferSubData(H,Y.offset*V.BYTES_PER_ELEMENT,V.subarray(Y.offset,Y.offset+Y.count)),Y.count=-1)}(H.buffer,k,U),H.version=k.version)}}}class tu extends Br{constructor(l=1,d=1,m=1,v=1){super(),this.type="PlaneGeometry",this.parameters={width:l,height:d,widthSegments:m,heightSegments:v};const _=l/2,x=d/2,D=Math.floor(m),L=Math.floor(v),k=D+1,U=L+1,H=l/D,V=d/L,Y=[],J=[],te=[],se=[];for(let oe=0;oe<U;oe++){const K=oe*V-x;for(let De=0;De<k;De++)J.push(De*H-_,-K,0),te.push(0,0,1),se.push(De/D),se.push(1-oe/L)}for(let oe=0;oe<L;oe++)for(let K=0;K<D;K++){const Ce=K+k*(oe+1),Ve=K+1+k*(oe+1),Se=K+1+k*oe;Y.push(K+k*oe,Ce,Se),Y.push(Ce,Ve,Se)}this.setIndex(Y),this.setAttribute("position",new yr(J,3)),this.setAttribute("normal",new yr(te,3)),this.setAttribute("uv",new yr(se,2))}}const to={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},ir={common:{diffuse:{value:new dr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ds},uv2Transform:{value:new Ds},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new _n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new dr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new dr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Ds}},sprite:{diffuse:{value:new dr(15658734)},opacity:{value:1},center:{value:new _n(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Ds}}},dc={basic:{uniforms:As([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.fog]),vertexShader:to.meshbasic_vert,fragmentShader:to.meshbasic_frag},lambert:{uniforms:As([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.fog,ir.lights,{emissive:{value:new dr(0)}}]),vertexShader:to.meshlambert_vert,fragmentShader:to.meshlambert_frag},phong:{uniforms:As([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.fog,ir.lights,{emissive:{value:new dr(0)},specular:{value:new dr(1118481)},shininess:{value:30}}]),vertexShader:to.meshphong_vert,fragmentShader:to.meshphong_frag},standard:{uniforms:As([ir.common,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.roughnessmap,ir.metalnessmap,ir.fog,ir.lights,{emissive:{value:new dr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:to.meshphysical_vert,fragmentShader:to.meshphysical_frag},toon:{uniforms:As([ir.common,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.gradientmap,ir.fog,ir.lights,{emissive:{value:new dr(0)}}]),vertexShader:to.meshtoon_vert,fragmentShader:to.meshtoon_frag},matcap:{uniforms:As([ir.common,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.fog,{matcap:{value:null}}]),vertexShader:to.meshmatcap_vert,fragmentShader:to.meshmatcap_frag},points:{uniforms:As([ir.points,ir.fog]),vertexShader:to.points_vert,fragmentShader:to.points_frag},dashed:{uniforms:As([ir.common,ir.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:to.linedashed_vert,fragmentShader:to.linedashed_frag},depth:{uniforms:As([ir.common,ir.displacementmap]),vertexShader:to.depth_vert,fragmentShader:to.depth_frag},normal:{uniforms:As([ir.common,ir.bumpmap,ir.normalmap,ir.displacementmap,{opacity:{value:1}}]),vertexShader:to.normal_vert,fragmentShader:to.normal_frag},sprite:{uniforms:As([ir.sprite,ir.fog]),vertexShader:to.sprite_vert,fragmentShader:to.sprite_frag},background:{uniforms:{uvTransform:{value:new Ds},t2D:{value:null}},vertexShader:to.background_vert,fragmentShader:to.background_frag},cube:{uniforms:As([ir.envmap,{opacity:{value:1}}]),vertexShader:to.cube_vert,fragmentShader:to.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:to.equirect_vert,fragmentShader:to.equirect_frag},distanceRGBA:{uniforms:As([ir.common,ir.displacementmap,{referencePosition:{value:new Ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:to.distanceRGBA_vert,fragmentShader:to.distanceRGBA_frag},shadow:{uniforms:As([ir.lights,ir.fog,{color:{value:new dr(0)},opacity:{value:1}}]),vertexShader:to.shadow_vert,fragmentShader:to.shadow_frag}};function _2(f,l,d,m,v){const _=new dr(0);let D,L,x=0,k=null,U=0,H=null;function Y(J,te){d.buffers.color.setClear(J.r,J.g,J.b,te,v)}return{getClearColor:function(){return _},setClearColor:function(J,te=1){_.set(J),x=te,Y(_,x)},getClearAlpha:function(){return x},setClearAlpha:function(J){x=J,Y(_,x)},render:function V(J,te,se,oe){let K=!0===te.isScene?te.background:null;K&&K.isTexture&&(K=l.get(K));const De=f.xr,Ce=De.getSession&&De.getSession();Ce&&"additive"===Ce.environmentBlendMode&&(K=null),null===K?Y(_,x):K&&K.isColor&&(Y(K,1),oe=!0),(f.autoClear||oe)&&f.clear(f.autoClearColor,f.autoClearDepth,f.autoClearStencil),K&&(K.isCubeTexture||K.isWebGLCubeRenderTarget||K.mapping===mt)?(void 0===L&&(L=new un(new Wc(1,1,1),new Os({name:"BackgroundCubeMaterial",uniforms:Wi(dc.cube.uniforms),vertexShader:dc.cube.vertexShader,fragmentShader:dc.cube.fragmentShader,side:$,depthTest:!1,depthWrite:!1,fog:!1})),L.geometry.deleteAttribute("normal"),L.geometry.deleteAttribute("uv"),L.onBeforeRender=function(Ve,Se,nt){this.matrixWorld.copyPosition(nt.matrixWorld)},Object.defineProperty(L.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),m.update(L)),K.isWebGLCubeRenderTarget&&(K=K.texture),L.material.uniforms.envMap.value=K,L.material.uniforms.flipEnvMap.value=K.isCubeTexture&&K._needsFlipEnvMap?-1:1,(k!==K||U!==K.version||H!==f.toneMapping)&&(L.material.needsUpdate=!0,k=K,U=K.version,H=f.toneMapping),J.unshift(L,L.geometry,L.material,0,0,null)):K&&K.isTexture&&(void 0===D&&(D=new un(new tu(2,2),new Os({name:"BackgroundMaterial",uniforms:Wi(dc.background.uniforms),vertexShader:dc.background.vertexShader,fragmentShader:dc.background.fragmentShader,side:he,depthTest:!1,depthWrite:!1,fog:!1})),D.geometry.deleteAttribute("normal"),Object.defineProperty(D.material,"map",{get:function(){return this.uniforms.t2D.value}}),m.update(D)),D.material.uniforms.t2D.value=K,!0===K.matrixAutoUpdate&&K.updateMatrix(),D.material.uniforms.uvTransform.value.copy(K.matrix),(k!==K||U!==K.version||H!==f.toneMapping)&&(D.material.needsUpdate=!0,k=K,U=K.version,H=f.toneMapping),J.unshift(D,D.geometry,D.material,0,0,null))}}}function x8(f,l,d,m){const v=f.getParameter(34921),_=m.isWebGL2?null:l.get("OES_vertex_array_object"),x=m.isWebGL2||null!==_,D={},L=te(null);let k=L;function V(Ut){return m.isWebGL2?f.bindVertexArray(Ut):_.bindVertexArrayOES(Ut)}function Y(Ut){return m.isWebGL2?f.deleteVertexArray(Ut):_.deleteVertexArrayOES(Ut)}function te(Ut){const Tt=[],Wt=[],Yt=[];for(let zn=0;zn<v;zn++)Tt[zn]=0,Wt[zn]=0,Yt[zn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Tt,enabledAttributes:Wt,attributeDivisors:Yt,object:Ut,attributes:{},index:null}}function K(){const Ut=k.newAttributes;for(let Tt=0,Wt=Ut.length;Tt<Wt;Tt++)Ut[Tt]=0}function De(Ut){Ce(Ut,0)}function Ce(Ut,Tt){const Yt=k.enabledAttributes,zn=k.attributeDivisors;k.newAttributes[Ut]=1,0===Yt[Ut]&&(f.enableVertexAttribArray(Ut),Yt[Ut]=1),zn[Ut]!==Tt&&((m.isWebGL2?f:l.get("ANGLE_instanced_arrays"))[m.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Ut,Tt),zn[Ut]=Tt)}function Ve(){const Ut=k.newAttributes,Tt=k.enabledAttributes;for(let Wt=0,Yt=Tt.length;Wt<Yt;Wt++)Tt[Wt]!==Ut[Wt]&&(f.disableVertexAttribArray(Wt),Tt[Wt]=0)}function Se(Ut,Tt,Wt,Yt,zn,$n){!0!==m.isWebGL2||5124!==Wt&&5125!==Wt?f.vertexAttribPointer(Ut,Tt,Wt,Yt,zn,$n):f.vertexAttribIPointer(Ut,Tt,Wt,zn,$n)}function jt(){en(),k!==L&&(k=L,V(k.object))}function en(){L.geometry=null,L.program=null,L.wireframe=!1}return{setup:function U(Ut,Tt,Wt,Yt,zn){let $n=!1;if(x){const Kn=function J(Ut,Tt,Wt){const Yt=!0===Wt.wireframe;let zn=D[Ut.id];void 0===zn&&(zn={},D[Ut.id]=zn);let $n=zn[Tt.id];void 0===$n&&($n={},zn[Tt.id]=$n);let Kn=$n[Yt];return void 0===Kn&&(Kn=te(function H(){return m.isWebGL2?f.createVertexArray():_.createVertexArrayOES()}()),$n[Yt]=Kn),Kn}(Yt,Wt,Tt);k!==Kn&&(k=Kn,V(k.object)),$n=function se(Ut,Tt){const Wt=k.attributes,Yt=Ut.attributes;let zn=0;for(const $n in Yt){const Kn=Wt[$n],Ir=Yt[$n];if(void 0===Kn||Kn.attribute!==Ir||Kn.data!==Ir.data)return!0;zn++}return k.attributesNum!==zn||k.index!==Tt}(Yt,zn),$n&&function oe(Ut,Tt){const Wt={},Yt=Ut.attributes;let zn=0;for(const $n in Yt){const Kn=Yt[$n],Ir={};Ir.attribute=Kn,Kn.data&&(Ir.data=Kn.data),Wt[$n]=Ir,zn++}k.attributes=Wt,k.attributesNum=zn,k.index=Tt}(Yt,zn)}else{const Kn=!0===Tt.wireframe;(k.geometry!==Yt.id||k.program!==Wt.id||k.wireframe!==Kn)&&(k.geometry=Yt.id,k.program=Wt.id,k.wireframe=Kn,$n=!0)}!0===Ut.isInstancedMesh&&($n=!0),null!==zn&&d.update(zn,34963),$n&&(function nt(Ut,Tt,Wt,Yt){if(!1===m.isWebGL2&&(Ut.isInstancedMesh||Yt.isInstancedBufferGeometry)&&null===l.get("ANGLE_instanced_arrays"))return;K();const zn=Yt.attributes,$n=Wt.getAttributes(),Kn=Tt.defaultAttributeValues;for(const Ir in $n){const Tr=$n[Ir];if(Tr>=0){const no=zn[Ir];if(void 0!==no){const bi=no.normalized,ts=no.itemSize,Lo=d.get(no);if(void 0===Lo)continue;const gn=Lo.buffer,us=Lo.type,Mo=Lo.bytesPerElement;if(no.isInterleavedBufferAttribute){const Po=no.data,xi=Po.stride,Uo=no.offset;Po&&Po.isInstancedInterleavedBuffer?(Ce(Tr,Po.meshPerAttribute),void 0===Yt._maxInstanceCount&&(Yt._maxInstanceCount=Po.meshPerAttribute*Po.count)):De(Tr),f.bindBuffer(34962,gn),Se(Tr,ts,us,bi,xi*Mo,Uo*Mo)}else no.isInstancedBufferAttribute?(Ce(Tr,no.meshPerAttribute),void 0===Yt._maxInstanceCount&&(Yt._maxInstanceCount=no.meshPerAttribute*no.count)):De(Tr),f.bindBuffer(34962,gn),Se(Tr,ts,us,bi,0,0)}else if("instanceMatrix"===Ir){const bi=d.get(Ut.instanceMatrix);if(void 0===bi)continue;const ts=bi.buffer,Lo=bi.type;Ce(Tr+0,1),Ce(Tr+1,1),Ce(Tr+2,1),Ce(Tr+3,1),f.bindBuffer(34962,ts),f.vertexAttribPointer(Tr+0,4,Lo,!1,64,0),f.vertexAttribPointer(Tr+1,4,Lo,!1,64,16),f.vertexAttribPointer(Tr+2,4,Lo,!1,64,32),f.vertexAttribPointer(Tr+3,4,Lo,!1,64,48)}else if("instanceColor"===Ir){const bi=d.get(Ut.instanceColor);if(void 0===bi)continue;const ts=bi.buffer,Lo=bi.type;Ce(Tr,1),f.bindBuffer(34962,ts),f.vertexAttribPointer(Tr,3,Lo,!1,12,0)}else if(void 0!==Kn){const bi=Kn[Ir];if(void 0!==bi)switch(bi.length){case 2:f.vertexAttrib2fv(Tr,bi);break;case 3:f.vertexAttrib3fv(Tr,bi);break;case 4:f.vertexAttrib4fv(Tr,bi);break;default:f.vertexAttrib1fv(Tr,bi)}}}}Ve()}(Ut,Tt,Wt,Yt),null!==zn&&f.bindBuffer(34963,d.get(zn).buffer))},reset:jt,resetDefaultState:en,dispose:function Dt(){jt();for(const Ut in D){const Tt=D[Ut];for(const Wt in Tt){const Yt=Tt[Wt];for(const zn in Yt)Y(Yt[zn].object),delete Yt[zn];delete Tt[Wt]}delete D[Ut]}},releaseStatesOfGeometry:function Mt(Ut){if(void 0===D[Ut.id])return;const Tt=D[Ut.id];for(const Wt in Tt){const Yt=Tt[Wt];for(const zn in Yt)Y(Yt[zn].object),delete Yt[zn];delete Tt[Wt]}delete D[Ut.id]},releaseStatesOfProgram:function at(Ut){for(const Tt in D){const Wt=D[Tt];if(void 0===Wt[Ut.id])continue;const Yt=Wt[Ut.id];for(const zn in Yt)Y(Yt[zn].object),delete Yt[zn];delete Wt[Ut.id]}},initAttributes:K,enableAttribute:De,disableUnusedAttributes:Ve}}function b2(f,l,d,m){const v=m.isWebGL2;let _;this.setMode=function x(k){_=k},this.render=function D(k,U){f.drawArrays(_,k,U),d.update(U,_,1)},this.renderInstances=function L(k,U,H){if(0===H)return;let V,Y;if(v)V=f,Y="drawArraysInstanced";else if(V=l.get("ANGLE_instanced_arrays"),Y="drawArraysInstancedANGLE",null===V)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");V[Y](_,k,U,H),d.update(U,_,H)}}function w2(f,l,d){let m;function _(Se){if("highp"===Se){if(f.getShaderPrecisionFormat(35633,36338).precision>0&&f.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Se="mediump"}return"mediump"===Se&&f.getShaderPrecisionFormat(35633,36337).precision>0&&f.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const x="undefined"!=typeof WebGL2RenderingContext&&f instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&f instanceof WebGL2ComputeRenderingContext;let D=void 0!==d.precision?d.precision:"highp";const L=_(D);L!==D&&(console.warn("THREE.WebGLRenderer:",D,"not supported, using",L,"instead."),D=L);const k=!0===d.logarithmicDepthBuffer,U=f.getParameter(34930),H=f.getParameter(35660),V=f.getParameter(3379),Y=f.getParameter(34076),J=f.getParameter(34921),te=f.getParameter(36347),se=f.getParameter(36348),oe=f.getParameter(36349),K=H>0,De=x||l.has("OES_texture_float");return{isWebGL2:x,getMaxAnisotropy:function v(){if(void 0!==m)return m;if(!0===l.has("EXT_texture_filter_anisotropic")){const Se=l.get("EXT_texture_filter_anisotropic");m=f.getParameter(Se.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else m=0;return m},getMaxPrecision:_,precision:D,logarithmicDepthBuffer:k,maxTextures:U,maxVertexTextures:H,maxTextureSize:V,maxCubemapSize:Y,maxAttributes:J,maxVertexUniforms:te,maxVaryings:se,maxFragmentUniforms:oe,vertexTextures:K,floatFragmentTextures:De,floatVertexTextures:K&&De,maxSamples:x?f.getParameter(36183):0}}function M2(f){const l=this;let d=null,m=0,v=!1,_=!1;const x=new Ql,D=new Ds,L={value:null,needsUpdate:!1};function k(){L.value!==d&&(L.value=d,L.needsUpdate=m>0),l.numPlanes=m,l.numIntersection=0}function U(H,V,Y,J){const te=null!==H?H.length:0;let se=null;if(0!==te){if(se=L.value,!0!==J||null===se){const oe=Y+4*te,K=V.matrixWorldInverse;D.getNormalMatrix(K),(null===se||se.length<oe)&&(se=new Float32Array(oe));for(let De=0,Ce=Y;De!==te;++De,Ce+=4)x.copy(H[De]).applyMatrix4(K,D),x.normal.toArray(se,Ce),se[Ce+3]=x.constant}L.value=se,L.needsUpdate=!0}return l.numPlanes=te,l.numIntersection=0,se}this.uniform=L,this.numPlanes=0,this.numIntersection=0,this.init=function(H,V,Y){const J=0!==H.length||V||0!==m||v;return v=V,d=U(H,Y,0),m=H.length,J},this.beginShadows=function(){_=!0,U(null)},this.endShadows=function(){_=!1,k()},this.setState=function(H,V,Y){const J=H.clippingPlanes,te=H.clipIntersection,se=H.clipShadows,oe=f.get(H);if(!v||null===J||0===J.length||_&&!se)_?U(null):k();else{const K=_?0:m,De=4*K;let Ce=oe.clippingState||null;L.value=Ce,Ce=U(J,V,De,Y);for(let Ve=0;Ve!==De;++Ve)Ce[Ve]=d[Ve];oe.clippingState=Ce,this.numIntersection=te?this.numPlanes:0,this.numPlanes+=K}}}function r0(f){let l=new WeakMap;function d(x,D){return D===Ze?x.mapping=qe:D===_t&&(x.mapping=Xe),x}function v(x){const D=x.target;D.removeEventListener("dispose",v);const L=l.get(D);void 0!==L&&(l.delete(D),L.dispose())}return{get:function m(x){if(x&&x.isTexture){const D=x.mapping;if(D===Ze||D===_t){if(l.has(x))return d(l.get(x).texture,x.mapping);{const L=x.image;if(L&&L.height>0){const k=f.getRenderTarget(),U=new Dg(L.height/2);return U.fromEquirectangularTexture(f,x),l.set(x,U),f.setRenderTarget(k),x.addEventListener("dispose",v),d(U.texture,x.mapping)}return null}}}return x},dispose:function _(){l=new WeakMap}}}function NR(f){const l={};function d(m){if(void 0!==l[m])return l[m];let v;switch(m){case"WEBGL_depth_texture":v=f.getExtension("WEBGL_depth_texture")||f.getExtension("MOZ_WEBGL_depth_texture")||f.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":v=f.getExtension("EXT_texture_filter_anisotropic")||f.getExtension("MOZ_EXT_texture_filter_anisotropic")||f.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":v=f.getExtension("WEBGL_compressed_texture_s3tc")||f.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||f.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":v=f.getExtension("WEBGL_compressed_texture_pvrtc")||f.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:v=f.getExtension(m)}return l[m]=v,v}return{has:function(m){return null!==d(m)},init:function(m){m.isWebGL2?d("EXT_color_buffer_float"):(d("WEBGL_depth_texture"),d("OES_texture_float"),d("OES_texture_half_float"),d("OES_texture_half_float_linear"),d("OES_standard_derivatives"),d("OES_element_index_uint"),d("OES_vertex_array_object"),d("ANGLE_instanced_arrays")),d("OES_texture_float_linear"),d("EXT_color_buffer_half_float")},get:function(m){const v=d(m);return null===v&&console.warn("THREE.WebGLRenderer: "+m+" extension not supported."),v}}}function S2(f,l,d,m){const v={},_=new WeakMap;function x(H){const V=H.target;null!==V.index&&l.remove(V.index);for(const J in V.attributes)l.remove(V.attributes[J]);V.removeEventListener("dispose",x),delete v[V.id];const Y=_.get(V);Y&&(l.remove(Y),_.delete(V)),m.releaseStatesOfGeometry(V),!0===V.isInstancedBufferGeometry&&delete V._maxInstanceCount,d.memory.geometries--}function k(H){const V=[],Y=H.index,J=H.attributes.position;let te=0;if(null!==Y){const K=Y.array;te=Y.version;for(let De=0,Ce=K.length;De<Ce;De+=3){const Ve=K[De+0],Se=K[De+1],nt=K[De+2];V.push(Ve,Se,Se,nt,nt,Ve)}}else{te=J.version;for(let De=0,Ce=J.array.length/3-1;De<Ce;De+=3){const Ve=De+0,Se=De+1,nt=De+2;V.push(Ve,Se,Se,nt,nt,Ve)}}const se=new(oo(V)>65535?Ad:Ch)(V,1);se.version=te;const oe=_.get(H);oe&&l.remove(oe),_.set(H,se)}return{get:function D(H,V){return!0===v[V.id]||(V.addEventListener("dispose",x),v[V.id]=!0,d.memory.geometries++),V},update:function L(H){const V=H.attributes;for(const J in V)l.update(V[J],34962);const Y=H.morphAttributes;for(const J in Y){const te=Y[J];for(let se=0,oe=te.length;se<oe;se++)l.update(te[se],34962)}},getWireframeAttribute:function U(H){const V=_.get(H);if(V){const Y=H.index;null!==Y&&V.version<Y.version&&k(H)}else k(H);return _.get(H)}}}function FR(f,l,d,m){const v=m.isWebGL2;let _,D,L;this.setMode=function x(V){_=V},this.setIndex=function k(V){D=V.type,L=V.bytesPerElement},this.render=function U(V,Y){f.drawElements(_,Y,D,V*L),d.update(Y,_,1)},this.renderInstances=function H(V,Y,J){if(0===J)return;let te,se;if(v)te=f,se="drawElementsInstanced";else if(te=l.get("ANGLE_instanced_arrays"),se="drawElementsInstancedANGLE",null===te)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");te[se](_,Y,D,V*L,J),d.update(Y,_,J)}}function C8(f){const d={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:d,programs:null,autoReset:!0,reset:function v(){d.frame++,d.calls=0,d.triangles=0,d.points=0,d.lines=0},update:function m(_,x,D){switch(d.calls++,x){case 4:d.triangles+=D*(_/3);break;case 1:d.lines+=D*(_/2);break;case 3:d.lines+=D*(_-1);break;case 2:d.lines+=D*_;break;case 0:d.points+=D*_;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",x)}}}}function HR(f,l){return f[0]-l[0]}function E8(f,l){return Math.abs(l[1])-Math.abs(f[1])}function vC(f){const l={},d=new Float32Array(8),m=[];for(let _=0;_<8;_++)m[_]=[_,0];return{update:function v(_,x,D,L){const k=_.morphTargetInfluences,U=void 0===k?0:k.length;let H=l[x.id];if(void 0===H){H=[];for(let se=0;se<U;se++)H[se]=[se,0];l[x.id]=H}for(let se=0;se<U;se++){const oe=H[se];oe[0]=se,oe[1]=k[se]}H.sort(E8);for(let se=0;se<8;se++)se<U&&H[se][1]?(m[se][0]=H[se][0],m[se][1]=H[se][1]):(m[se][0]=Number.MAX_SAFE_INTEGER,m[se][1]=0);m.sort(HR);const V=D.morphTargets&&x.morphAttributes.position,Y=D.morphNormals&&x.morphAttributes.normal;let J=0;for(let se=0;se<8;se++){const oe=m[se],K=oe[0],De=oe[1];K!==Number.MAX_SAFE_INTEGER&&De?(V&&x.getAttribute("morphTarget"+se)!==V[K]&&x.setAttribute("morphTarget"+se,V[K]),Y&&x.getAttribute("morphNormal"+se)!==Y[K]&&x.setAttribute("morphNormal"+se,Y[K]),d[se]=De,J+=De):(V&&!0===x.hasAttribute("morphTarget"+se)&&x.deleteAttribute("morphTarget"+se),Y&&!0===x.hasAttribute("morphNormal"+se)&&x.deleteAttribute("morphNormal"+se),d[se]=0)}const te=x.morphTargetsRelative?1:1-J;L.getUniforms().setValue(f,"morphTargetBaseInfluence",te),L.getUniforms().setValue(f,"morphTargetInfluences",d)}}}function x2(f,l,d,m){let v=new WeakMap;function D(L){const k=L.target;k.removeEventListener("dispose",D),d.remove(k.instanceMatrix),null!==k.instanceColor&&d.remove(k.instanceColor)}return{update:function _(L){const k=m.render.frame,H=l.get(L,L.geometry);return v.get(H)!==k&&(l.update(H),v.set(H,k)),L.isInstancedMesh&&(!1===L.hasEventListener("dispose",D)&&L.addEventListener("dispose",D),d.update(L.instanceMatrix,34962),null!==L.instanceColor&&d.update(L.instanceColor,34962)),H},dispose:function x(){v=new WeakMap}}}dc.physical={uniforms:As([dc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new _n(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new dr(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:to.meshphysical_vert,fragmentShader:to.meshphysical_frag};class o0 extends uo{constructor(l=null,d=1,m=1,v=1){super(null),this.image={data:l,width:d,height:m,depth:v},this.magFilter=Un,this.minFilter=Un,this.wrapR=dn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}o0.prototype.isDataTexture2DArray=!0;class Vg extends uo{constructor(l=null,d=1,m=1,v=1){super(null),this.image={data:l,width:d,height:m,depth:v},this.magFilter=Un,this.minFilter=Un,this.wrapR=dn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}Vg.prototype.isDataTexture3D=!0;const s0=new uo,zg=new o0,C2=new Vg,BR=new Th,E2=[],i_=[],a0=new Float32Array(16),yC=new Float32Array(9),_C=new Float32Array(4);function Up(f,l,d){const m=f[0];if(m<=0||m>0)return f;const v=l*d;let _=E2[v];if(void 0===_&&(_=new Float32Array(v),E2[v]=_),0!==l){m.toArray(_,0);for(let x=1,D=0;x!==l;++x)D+=d,f[x].toArray(_,D)}return _}function Oa(f,l){if(f.length!==l.length)return!1;for(let d=0,m=f.length;d<m;d++)if(f[d]!==l[d])return!1;return!0}function Tu(f,l){for(let d=0,m=l.length;d<m;d++)f[d]=l[d]}function VR(f,l){let d=i_[l];void 0===d&&(d=new Int32Array(l),i_[l]=d);for(let m=0;m!==l;++m)d[m]=f.allocateTextureUnit();return d}function T2(f,l){const d=this.cache;d[0]!==l&&(f.uniform1f(this.addr,l),d[0]=l)}function R2(f,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y)&&(f.uniform2f(this.addr,l.x,l.y),d[0]=l.x,d[1]=l.y);else{if(Oa(d,l))return;f.uniform2fv(this.addr,l),Tu(d,l)}}function D2(f,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y||d[2]!==l.z)&&(f.uniform3f(this.addr,l.x,l.y,l.z),d[0]=l.x,d[1]=l.y,d[2]=l.z);else if(void 0!==l.r)(d[0]!==l.r||d[1]!==l.g||d[2]!==l.b)&&(f.uniform3f(this.addr,l.r,l.g,l.b),d[0]=l.r,d[1]=l.g,d[2]=l.b);else{if(Oa(d,l))return;f.uniform3fv(this.addr,l),Tu(d,l)}}function Ru(f,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y||d[2]!==l.z||d[3]!==l.w)&&(f.uniform4f(this.addr,l.x,l.y,l.z,l.w),d[0]=l.x,d[1]=l.y,d[2]=l.z,d[3]=l.w);else{if(Oa(d,l))return;f.uniform4fv(this.addr,l),Tu(d,l)}}function kd(f,l){const d=this.cache,m=l.elements;if(void 0===m){if(Oa(d,l))return;f.uniformMatrix2fv(this.addr,!1,l),Tu(d,l)}else{if(Oa(d,m))return;_C.set(m),f.uniformMatrix2fv(this.addr,!1,_C),Tu(d,m)}}function A2(f,l){const d=this.cache,m=l.elements;if(void 0===m){if(Oa(d,l))return;f.uniformMatrix3fv(this.addr,!1,l),Tu(d,l)}else{if(Oa(d,m))return;yC.set(m),f.uniformMatrix3fv(this.addr,!1,yC),Tu(d,m)}}function O2(f,l){const d=this.cache,m=l.elements;if(void 0===m){if(Oa(d,l))return;f.uniformMatrix4fv(this.addr,!1,l),Tu(d,l)}else{if(Oa(d,m))return;a0.set(m),f.uniformMatrix4fv(this.addr,!1,a0),Tu(d,m)}}function k2(f,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(f.uniform1i(this.addr,v),m[0]=v),d.safeSetTexture2D(l||s0,v)}function L2(f,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(f.uniform1i(this.addr,v),m[0]=v),d.setTexture2DArray(l||zg,v)}function P2(f,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(f.uniform1i(this.addr,v),m[0]=v),d.setTexture3D(l||C2,v)}function I2(f,l,d){const m=this.cache,v=d.allocateTextureUnit();m[0]!==v&&(f.uniform1i(this.addr,v),m[0]=v),d.safeSetTextureCube(l||BR,v)}function zR(f,l){const d=this.cache;d[0]!==l&&(f.uniform1i(this.addr,l),d[0]=l)}function N2(f,l){const d=this.cache;Oa(d,l)||(f.uniform2iv(this.addr,l),Tu(d,l))}function F2(f,l){const d=this.cache;Oa(d,l)||(f.uniform3iv(this.addr,l),Tu(d,l))}function H2(f,l){const d=this.cache;Oa(d,l)||(f.uniform4iv(this.addr,l),Tu(d,l))}function B2(f,l){const d=this.cache;d[0]!==l&&(f.uniform1ui(this.addr,l),d[0]=l)}function V2(f,l){f.uniform1fv(this.addr,l)}function o_(f,l){f.uniform1iv(this.addr,l)}function UR(f,l){f.uniform2iv(this.addr,l)}function Ld(f,l){f.uniform3iv(this.addr,l)}function s_(f,l){f.uniform4iv(this.addr,l)}function jR(f,l){const d=Up(l,this.size,2);f.uniform2fv(this.addr,d)}function WR(f,l){const d=Up(l,this.size,3);f.uniform3fv(this.addr,d)}function YR(f,l){const d=Up(l,this.size,4);f.uniform4fv(this.addr,d)}function R8(f,l){const d=Up(l,this.size,4);f.uniformMatrix2fv(this.addr,!1,d)}function D8(f,l){const d=Up(l,this.size,9);f.uniformMatrix3fv(this.addr,!1,d)}function A8(f,l){const d=Up(l,this.size,16);f.uniformMatrix4fv(this.addr,!1,d)}function bC(f,l,d){const m=l.length,v=VR(d,m);f.uniform1iv(this.addr,v);for(let _=0;_!==m;++_)d.safeSetTexture2D(l[_]||s0,v[_])}function wC(f,l,d){const m=l.length,v=VR(d,m);f.uniform1iv(this.addr,v);for(let _=0;_!==m;++_)d.safeSetTextureCube(l[_]||BR,v[_])}function O8(f,l,d){this.id=f,this.addr=d,this.cache=[],this.setValue=function T8(f){switch(f){case 5126:return T2;case 35664:return R2;case 35665:return D2;case 35666:return Ru;case 35674:return kd;case 35675:return A2;case 35676:return O2;case 5124:case 35670:return zR;case 35667:case 35671:return N2;case 35668:case 35672:return F2;case 35669:case 35673:return H2;case 5125:return B2;case 35678:case 36198:case 36298:case 36306:case 35682:return k2;case 35679:case 36299:case 36307:return P2;case 35680:case 36300:case 36308:case 36293:return I2;case 36289:case 36303:case 36311:case 36292:return L2}}(l.type)}function z2(f,l,d){this.id=f,this.addr=d,this.cache=[],this.size=l.size,this.setValue=function MC(f){switch(f){case 5126:return V2;case 35664:return jR;case 35665:return WR;case 35666:return YR;case 35674:return R8;case 35675:return D8;case 35676:return A8;case 5124:case 35670:return o_;case 35667:case 35671:return UR;case 35668:case 35672:return Ld;case 35669:case 35673:return s_;case 35678:case 36198:case 36298:case 36306:case 35682:return bC;case 35680:case 36300:case 36308:case 36293:return wC}}(l.type)}function SC(f){this.id=f,this.seq=[],this.map={}}z2.prototype.updateCache=function(f){const l=this.cache;f instanceof Float32Array&&l.length!==f.length&&(this.cache=new Float32Array(f.length)),Tu(l,f)},SC.prototype.setValue=function(f,l,d){const m=this.seq;for(let v=0,_=m.length;v!==_;++v){const x=m[v];x.setValue(f,l[x.id],d)}};const xC=/(\w+)(\])?(\[|\.)?/g;function GR(f,l){f.seq.push(l),f.map[l.id]=l}function U2(f,l,d){const m=f.name,v=m.length;for(xC.lastIndex=0;;){const _=xC.exec(m),x=xC.lastIndex;let D=_[1];const k=_[3];if("]"===_[2]&&(D|=0),void 0===k||"["===k&&x+2===v){GR(d,void 0===k?new O8(D,f,l):new z2(D,f,l));break}{let H=d.map[D];void 0===H&&(H=new SC(D),GR(d,H)),d=H}}}function Of(f,l){this.seq=[],this.map={};const d=f.getProgramParameter(l,35718);for(let m=0;m<d;++m){const v=f.getActiveUniform(l,m);U2(v,f.getUniformLocation(l,v.name),this)}}function CC(f,l,d){const m=f.createShader(l);return f.shaderSource(m,d),f.compileShader(m),m}Of.prototype.setValue=function(f,l,d,m){const v=this.map[l];void 0!==v&&v.setValue(f,d,m)},Of.prototype.setOptional=function(f,l,d){const m=l[d];void 0!==m&&this.setValue(f,d,m)},Of.upload=function(f,l,d,m){for(let v=0,_=l.length;v!==_;++v){const x=l[v],D=d[x.id];!1!==D.needsUpdate&&x.setValue(f,D.value,m)}},Of.seqWithValue=function(f,l){const d=[];for(let m=0,v=f.length;m!==v;++m){const _=f[m];_.id in l&&d.push(_)}return d};let l0=0;function u0(f){switch(f){case yn:return["Linear","( value )"];case er:return["sRGB","( value )"];case _s:return["RGBE","( value )"];case ps:return["RGBM","( value, 7.0 )"];case Md:return["RGBM","( value, 16.0 )"];case cr:return["RGBD","( value, 256.0 )"];case zi:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case bs:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",f),["Linear","( value )"]}}function XR(f,l,d){const m=f.getShaderParameter(l,35713),v=f.getShaderInfoLog(l).trim();return m&&""===v?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+d+"\n"+v+function $R(f){const l=f.split("\n");for(let d=0;d<l.length;d++)l[d]=d+1+": "+l[d];return l.join("\n")}(f.getShaderSource(l))}function mo(f,l){const d=u0(l);return"vec4 "+f+"( vec4 value ) { return "+d[0]+"ToLinear"+d[1]+"; }"}function j2(f,l){const d=u0(l);return"vec4 "+f+"( vec4 value ) { return LinearTo"+d[0]+d[1]+"; }"}function W2(f,l){let d;switch(l){case ur:d="Linear";break;case _e:d="Reinhard";break;case He:d="OptimizedCineon";break;case Qe:d="ACESFilmic";break;case St:d="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",l),d="Linear"}return"vec3 "+f+"( vec3 color ) { return "+d+"ToneMapping( color ); }"}function a_(f){return""!==f}function ZR(f,l){return f.replace(/NUM_DIR_LIGHTS/g,l.numDirLights).replace(/NUM_SPOT_LIGHTS/g,l.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,l.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,l.numPointLights).replace(/NUM_HEMI_LIGHTS/g,l.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,l.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,l.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,l.numPointLightShadows)}function qR(f,l){return f.replace(/NUM_CLIPPING_PLANES/g,l.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,l.numClippingPlanes-l.numClipIntersection)}const G2=/^[ \t]*#include +<([\w\d./]+)>/gm;function JR(f){return f.replace(G2,k8)}function k8(f,l){const d=to[l];if(void 0===d)throw new Error("Can not resolve #include <"+l+">");return JR(d)}const l_=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,TC=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function RC(f){return f.replace(TC,DC).replace(l_,QR)}function QR(f,l,d,m){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),DC(0,l,d,m)}function DC(f,l,d,m){let v="";for(let _=parseInt(l);_<parseInt(d);_++)v+=m.replace(/\[\s*i\s*\]/g,"[ "+_+" ]").replace(/UNROLLED_LOOP_INDEX/g,_);return v}function eD(f){let l="precision "+f.precision+" float;\nprecision "+f.precision+" int;";return"highp"===f.precision?l+="\n#define HIGH_PRECISION":"mediump"===f.precision?l+="\n#define MEDIUM_PRECISION":"lowp"===f.precision&&(l+="\n#define LOW_PRECISION"),l}function $2(f,l,d,m){const v=f.getContext(),_=d.defines;let x=d.vertexShader,D=d.fragmentShader;const L=function tD(f){let l="SHADOWMAP_TYPE_BASIC";return f.shadowMapType===ne?l="SHADOWMAP_TYPE_PCF":f.shadowMapType===ae?l="SHADOWMAP_TYPE_PCF_SOFT":f.shadowMapType===le&&(l="SHADOWMAP_TYPE_VSM"),l}(d),k=function nD(f){let l="ENVMAP_TYPE_CUBE";if(f.envMap)switch(f.envMapMode){case qe:case Xe:l="ENVMAP_TYPE_CUBE";break;case mt:case Ct:l="ENVMAP_TYPE_CUBE_UV"}return l}(d),U=function AC(f){let l="ENVMAP_MODE_REFLECTION";if(f.envMap)switch(f.envMapMode){case Xe:case Ct:l="ENVMAP_MODE_REFRACTION"}return l}(d),H=function L8(f){let l="ENVMAP_BLENDING_NONE";if(f.envMap)switch(f.combine){case Gr:l="ENVMAP_BLENDING_MULTIPLY";break;case gi:l="ENVMAP_BLENDING_MIX";break;case vi:l="ENVMAP_BLENDING_ADD"}return l}(d),V=f.gammaFactor>0?f.gammaFactor:1,Y=d.isWebGL2?"":function EC(f){return[f.extensionDerivatives||f.envMapCubeUV||f.bumpMap||f.tangentSpaceNormalMap||f.clearcoatNormalMap||f.flatShading||"physical"===f.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(f.extensionFragDepth||f.logarithmicDepthBuffer)&&f.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",f.extensionDrawBuffers&&f.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(f.extensionShaderTextureLOD||f.envMap)&&f.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(a_).join("\n")}(d),J=function KR(f){const l=[];for(const d in f){const m=f[d];!1!==m&&l.push("#define "+d+" "+m)}return l.join("\n")}(_),te=v.createProgram();let se,oe,K=d.glslVersion?"#version "+d.glslVersion+"\n":"";d.isRawShaderMaterial?(se=[J].filter(a_).join("\n"),se.length>0&&(se+="\n"),oe=[Y,J].filter(a_).join("\n"),oe.length>0&&(oe+="\n")):(se=[eD(d),"#define SHADER_NAME "+d.shaderName,J,d.instancing?"#define USE_INSTANCING":"",d.instancingColor?"#define USE_INSTANCING_COLOR":"",d.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+V,"#define MAX_BONES "+d.maxBones,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+U:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.displacementMap&&d.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors?"#define USE_COLOR":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.flatShading?"#define FLAT_SHADED":"",d.skinning?"#define USE_SKINNING":"",d.useVertexTexture?"#define BONE_TEXTURE":"",d.morphTargets?"#define USE_MORPHTARGETS":"",d.morphNormals&&!1===d.flatShading?"#define USE_MORPHNORMALS":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+L:"",d.sizeAttenuation?"#define USE_SIZEATTENUATION":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(a_).join("\n"),oe=[Y,eD(d),"#define SHADER_NAME "+d.shaderName,J,d.alphaTest?"#define ALPHATEST "+d.alphaTest+(d.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+V,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.matcap?"#define USE_MATCAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+k:"",d.envMap?"#define "+U:"",d.envMap?"#define "+H:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.sheen?"#define USE_SHEEN":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors||d.instancingColor?"#define USE_COLOR":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.gradientMap?"#define USE_GRADIENTMAP":"",d.flatShading?"#define FLAT_SHADED":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+L:"",d.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",d.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(d.extensionShaderTextureLOD||d.envMap)&&d.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",d.toneMapping!==di?"#define TONE_MAPPING":"",d.toneMapping!==di?to.tonemapping_pars_fragment:"",d.toneMapping!==di?W2("toneMapping",d.toneMapping):"",d.dithering?"#define DITHERING":"",to.encodings_pars_fragment,d.map?mo("mapTexelToLinear",d.mapEncoding):"",d.matcap?mo("matcapTexelToLinear",d.matcapEncoding):"",d.envMap?mo("envMapTexelToLinear",d.envMapEncoding):"",d.emissiveMap?mo("emissiveMapTexelToLinear",d.emissiveMapEncoding):"",d.lightMap?mo("lightMapTexelToLinear",d.lightMapEncoding):"",j2("linearToOutputTexel",d.outputEncoding),d.depthPacking?"#define DEPTH_PACKING "+d.depthPacking:"","\n"].filter(a_).join("\n")),x=JR(x),x=ZR(x,d),x=qR(x,d),D=JR(D),D=ZR(D,d),D=qR(D,d),x=RC(x),D=RC(D),d.isWebGL2&&!0!==d.isRawShaderMaterial&&(K="#version 300 es\n",se=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+se,oe=["#define varying in",d.glslVersion===Ra?"":"out highp vec4 pc_fragColor;",d.glslVersion===Ra?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+oe);const Ce=K+oe+D,Ve=CC(v,35633,K+se+x),Se=CC(v,35632,Ce);if(v.attachShader(te,Ve),v.attachShader(te,Se),void 0!==d.index0AttributeName?v.bindAttribLocation(te,0,d.index0AttributeName):!0===d.morphTargets&&v.bindAttribLocation(te,0,"position"),v.linkProgram(te),f.debug.checkShaderErrors){const Mt=v.getProgramInfoLog(te).trim(),at=v.getShaderInfoLog(Ve).trim(),jt=v.getShaderInfoLog(Se).trim();let en=!0,Ut=!0;if(!1===v.getProgramParameter(te,35714)){en=!1;const Tt=XR(v,Ve,"vertex"),Wt=XR(v,Se,"fragment");console.error("THREE.WebGLProgram: shader error: ",v.getError(),"35715",v.getProgramParameter(te,35715),"gl.getProgramInfoLog",Mt,Tt,Wt)}else""!==Mt?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",Mt):(""===at||""===jt)&&(Ut=!1);Ut&&(this.diagnostics={runnable:en,programLog:Mt,vertexShader:{log:at,prefix:se},fragmentShader:{log:jt,prefix:oe}})}let nt,Dt;return v.deleteShader(Ve),v.deleteShader(Se),this.getUniforms=function(){return void 0===nt&&(nt=new Of(v,te)),nt},this.getAttributes=function(){return void 0===Dt&&(Dt=function Y2(f,l){const d={},m=f.getProgramParameter(l,35721);for(let v=0;v<m;v++){const x=f.getActiveAttrib(l,v).name;d[x]=f.getAttribLocation(l,x)}return d}(v,te)),Dt},this.destroy=function(){m.releaseStatesOfProgram(this),v.deleteProgram(te),this.program=void 0},this.name=d.shaderName,this.id=l0++,this.cacheKey=l,this.usedTimes=1,this.program=te,this.vertexShader=Ve,this.fragmentShader=Se,this}function OC(f,l,d,m,v,_){const x=[],D=m.isWebGL2,L=m.logarithmicDepthBuffer,k=m.floatVertexTextures,U=m.maxVertexUniforms,H=m.vertexTextures;let V=m.precision;const Y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},J=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function se(Se){let nt;return Se&&Se.isTexture?nt=Se.encoding:Se&&Se.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),nt=Se.texture.encoding):nt=yn,nt}return{getParameters:function oe(Se,nt,Dt,Mt,at){const jt=Mt.fog,Ut=l.get(Se.envMap||(Se.isMeshStandardMaterial?Mt.environment:null)),Tt=Y[Se.type],Wt=at.isSkinnedMesh?function te(Se){const Dt=Se.skeleton.bones;if(k)return 1024;{const at=Math.floor((U-20)/4),jt=Math.min(at,Dt.length);return jt<Dt.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Dt.length+" bones. This GPU supports "+jt+"."),0):jt}}(at):0;let Yt,zn;if(null!==Se.precision&&(V=m.getMaxPrecision(Se.precision),V!==Se.precision&&console.warn("THREE.WebGLProgram.getParameters:",Se.precision,"not supported, using",V,"instead.")),Tt){const Ir=dc[Tt];Yt=Ir.vertexShader,zn=Ir.fragmentShader}else Yt=Se.vertexShader,zn=Se.fragmentShader;const $n=f.getRenderTarget();return{isWebGL2:D,shaderID:Tt,shaderName:Se.type,vertexShader:Yt,fragmentShader:zn,defines:Se.defines,isRawShaderMaterial:!0===Se.isRawShaderMaterial,glslVersion:Se.glslVersion,precision:V,instancing:!0===at.isInstancedMesh,instancingColor:!0===at.isInstancedMesh&&null!==at.instanceColor,supportsVertexTextures:H,outputEncoding:null!==$n?se($n.texture):f.outputEncoding,map:!!Se.map,mapEncoding:se(Se.map),matcap:!!Se.matcap,matcapEncoding:se(Se.matcap),envMap:!!Ut,envMapMode:Ut&&Ut.mapping,envMapEncoding:se(Ut),envMapCubeUV:!!Ut&&(Ut.mapping===mt||Ut.mapping===Ct),lightMap:!!Se.lightMap,lightMapEncoding:se(Se.lightMap),aoMap:!!Se.aoMap,emissiveMap:!!Se.emissiveMap,emissiveMapEncoding:se(Se.emissiveMap),bumpMap:!!Se.bumpMap,normalMap:!!Se.normalMap,objectSpaceNormalMap:Se.normalMapType===Jo,tangentSpaceNormalMap:Se.normalMapType===Bs,clearcoatMap:!!Se.clearcoatMap,clearcoatRoughnessMap:!!Se.clearcoatRoughnessMap,clearcoatNormalMap:!!Se.clearcoatNormalMap,displacementMap:!!Se.displacementMap,roughnessMap:!!Se.roughnessMap,metalnessMap:!!Se.metalnessMap,specularMap:!!Se.specularMap,alphaMap:!!Se.alphaMap,gradientMap:!!Se.gradientMap,sheen:!!Se.sheen,transmissionMap:!!Se.transmissionMap,combine:Se.combine,vertexTangents:Se.normalMap&&Se.vertexTangents,vertexColors:Se.vertexColors,vertexUvs:!!(Se.map||Se.bumpMap||Se.normalMap||Se.specularMap||Se.alphaMap||Se.emissiveMap||Se.roughnessMap||Se.metalnessMap||Se.clearcoatMap||Se.clearcoatRoughnessMap||Se.clearcoatNormalMap||Se.displacementMap||Se.transmissionMap),uvsVertexOnly:!(Se.map||Se.bumpMap||Se.normalMap||Se.specularMap||Se.alphaMap||Se.emissiveMap||Se.roughnessMap||Se.metalnessMap||Se.clearcoatNormalMap||Se.transmissionMap||!Se.displacementMap),fog:!!jt,useFog:Se.fog,fogExp2:jt&&jt.isFogExp2,flatShading:!!Se.flatShading,sizeAttenuation:Se.sizeAttenuation,logarithmicDepthBuffer:L,skinning:Se.skinning&&Wt>0,maxBones:Wt,useVertexTexture:k,morphTargets:Se.morphTargets,morphNormals:Se.morphNormals,maxMorphTargets:f.maxMorphTargets,maxMorphNormals:f.maxMorphNormals,numDirLights:nt.directional.length,numPointLights:nt.point.length,numSpotLights:nt.spot.length,numRectAreaLights:nt.rectArea.length,numHemiLights:nt.hemi.length,numDirLightShadows:nt.directionalShadowMap.length,numPointLightShadows:nt.pointShadowMap.length,numSpotLightShadows:nt.spotShadowMap.length,numClippingPlanes:_.numPlanes,numClipIntersection:_.numIntersection,dithering:Se.dithering,shadowMapEnabled:f.shadowMap.enabled&&Dt.length>0,shadowMapType:f.shadowMap.type,toneMapping:Se.toneMapped?f.toneMapping:di,physicallyCorrectLights:f.physicallyCorrectLights,premultipliedAlpha:Se.premultipliedAlpha,alphaTest:Se.alphaTest,doubleSided:Se.side===de,flipSided:Se.side===$,depthPacking:void 0!==Se.depthPacking&&Se.depthPacking,index0AttributeName:Se.index0AttributeName,extensionDerivatives:Se.extensions&&Se.extensions.derivatives,extensionFragDepth:Se.extensions&&Se.extensions.fragDepth,extensionDrawBuffers:Se.extensions&&Se.extensions.drawBuffers,extensionShaderTextureLOD:Se.extensions&&Se.extensions.shaderTextureLOD,rendererExtensionFragDepth:D||d.has("EXT_frag_depth"),rendererExtensionDrawBuffers:D||d.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:D||d.has("EXT_shader_texture_lod"),customProgramCacheKey:Se.customProgramCacheKey()}},getProgramCacheKey:function K(Se){const nt=[];if(Se.shaderID?nt.push(Se.shaderID):(nt.push(Se.fragmentShader),nt.push(Se.vertexShader)),void 0!==Se.defines)for(const Dt in Se.defines)nt.push(Dt),nt.push(Se.defines[Dt]);if(!1===Se.isRawShaderMaterial){for(let Dt=0;Dt<J.length;Dt++)nt.push(Se[J[Dt]]);nt.push(f.outputEncoding),nt.push(f.gammaFactor)}return nt.push(Se.customProgramCacheKey),nt.join()},getUniforms:function De(Se){const nt=Y[Se.type];let Dt;return Dt=nt?Yy.clone(dc[nt].uniforms):Se.uniforms,Dt},acquireProgram:function Ce(Se,nt){let Dt;for(let Mt=0,at=x.length;Mt<at;Mt++){const jt=x[Mt];if(jt.cacheKey===nt){Dt=jt,++Dt.usedTimes;break}}return void 0===Dt&&(Dt=new $2(f,nt,Se,v),x.push(Dt)),Dt},releaseProgram:function Ve(Se){if(0==--Se.usedTimes){const nt=x.indexOf(Se);x[nt]=x[x.length-1],x.pop(),Se.destroy()}},programs:x}}function rD(){let f=new WeakMap;return{get:function l(_){let x=f.get(_);return void 0===x&&(x={},f.set(_,x)),x},remove:function d(_){f.delete(_)},update:function m(_,x,D){f.get(_)[x]=D},dispose:function v(){f=new WeakMap}}}function iD(f,l){return f.groupOrder!==l.groupOrder?f.groupOrder-l.groupOrder:f.renderOrder!==l.renderOrder?f.renderOrder-l.renderOrder:f.program!==l.program?f.program.id-l.program.id:f.material.id!==l.material.id?f.material.id-l.material.id:f.z!==l.z?f.z-l.z:f.id-l.id}function jp(f,l){return f.groupOrder!==l.groupOrder?f.groupOrder-l.groupOrder:f.renderOrder!==l.renderOrder?f.renderOrder-l.renderOrder:f.z!==l.z?l.z-f.z:f.id-l.id}function oD(f){const l=[];let d=0;const m=[],v=[],_={id:-1};function D(V,Y,J,te,se,oe){let K=l[d];const De=f.get(J);return void 0===K?(K={id:V.id,object:V,geometry:Y,material:J,program:De.program||_,groupOrder:te,renderOrder:V.renderOrder,z:se,group:oe},l[d]=K):(K.id=V.id,K.object=V,K.geometry=Y,K.material=J,K.program=De.program||_,K.groupOrder=te,K.renderOrder=V.renderOrder,K.z=se,K.group=oe),d++,K}return{opaque:m,transparent:v,init:function x(){d=0,m.length=0,v.length=0},push:function L(V,Y,J,te,se,oe){const K=D(V,Y,J,te,se,oe);(!0===J.transparent?v:m).push(K)},unshift:function k(V,Y,J,te,se,oe){const K=D(V,Y,J,te,se,oe);(!0===J.transparent?v:m).unshift(K)},finish:function H(){for(let V=d,Y=l.length;V<Y;V++){const J=l[V];if(null===J.id)break;J.id=null,J.object=null,J.geometry=null,J.material=null,J.program=null,J.group=null}},sort:function U(V,Y){m.length>1&&m.sort(V||iD),v.length>1&&v.sort(Y||jp)}}}function kC(f){let l=new WeakMap;return{get:function d(v,_){let x;return!1===l.has(v)?(x=new oD(f),l.set(v,[x])):_>=l.get(v).length?(x=new oD(f),l.get(v).push(x)):x=l.get(v)[_],x},dispose:function m(){l=new WeakMap}}}function c0(){const f={};return{get:function(l){if(void 0!==f[l.id])return f[l.id];let d;switch(l.type){case"DirectionalLight":d={direction:new Ee,color:new dr};break;case"SpotLight":d={position:new Ee,direction:new Ee,color:new dr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":d={position:new Ee,color:new dr,distance:0,decay:0};break;case"HemisphereLight":d={direction:new Ee,skyColor:new dr,groundColor:new dr};break;case"RectAreaLight":d={color:new dr,position:new Ee,halfWidth:new Ee,halfHeight:new Ee}}return f[l.id]=d,d}}}let LC=0;function d0(f,l){return(l.castShadow?1:0)-(f.castShadow?1:0)}function kf(f,l){const d=new c0,m=function X2(){const f={};return{get:function(l){if(void 0!==f[l.id])return f[l.id];let d;switch(l.type){case"DirectionalLight":case"SpotLight":d={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _n};break;case"PointLight":d={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _n,shadowCameraNear:1,shadowCameraFar:1e3}}return f[l.id]=d,d}}}(),v={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let U=0;U<9;U++)v.probe.push(new Ee);const _=new Ee,x=new Hr,D=new Hr;return{setup:function L(U){let H=0,V=0,Y=0;for(let nt=0;nt<9;nt++)v.probe[nt].set(0,0,0);let J=0,te=0,se=0,oe=0,K=0,De=0,Ce=0,Ve=0;U.sort(d0);for(let nt=0,Dt=U.length;nt<Dt;nt++){const Mt=U[nt],at=Mt.color,jt=Mt.intensity,en=Mt.distance,Ut=Mt.shadow&&Mt.shadow.map?Mt.shadow.map.texture:null;if(Mt.isAmbientLight)H+=at.r*jt,V+=at.g*jt,Y+=at.b*jt;else if(Mt.isLightProbe)for(let Tt=0;Tt<9;Tt++)v.probe[Tt].addScaledVector(Mt.sh.coefficients[Tt],jt);else if(Mt.isDirectionalLight){const Tt=d.get(Mt);if(Tt.color.copy(Mt.color).multiplyScalar(Mt.intensity),Mt.castShadow){const Wt=Mt.shadow,Yt=m.get(Mt);Yt.shadowBias=Wt.bias,Yt.shadowNormalBias=Wt.normalBias,Yt.shadowRadius=Wt.radius,Yt.shadowMapSize=Wt.mapSize,v.directionalShadow[J]=Yt,v.directionalShadowMap[J]=Ut,v.directionalShadowMatrix[J]=Mt.shadow.matrix,De++}v.directional[J]=Tt,J++}else if(Mt.isSpotLight){const Tt=d.get(Mt);if(Tt.position.setFromMatrixPosition(Mt.matrixWorld),Tt.color.copy(at).multiplyScalar(jt),Tt.distance=en,Tt.coneCos=Math.cos(Mt.angle),Tt.penumbraCos=Math.cos(Mt.angle*(1-Mt.penumbra)),Tt.decay=Mt.decay,Mt.castShadow){const Wt=Mt.shadow,Yt=m.get(Mt);Yt.shadowBias=Wt.bias,Yt.shadowNormalBias=Wt.normalBias,Yt.shadowRadius=Wt.radius,Yt.shadowMapSize=Wt.mapSize,v.spotShadow[se]=Yt,v.spotShadowMap[se]=Ut,v.spotShadowMatrix[se]=Mt.shadow.matrix,Ve++}v.spot[se]=Tt,se++}else if(Mt.isRectAreaLight){const Tt=d.get(Mt);Tt.color.copy(at).multiplyScalar(jt),Tt.halfWidth.set(.5*Mt.width,0,0),Tt.halfHeight.set(0,.5*Mt.height,0),v.rectArea[oe]=Tt,oe++}else if(Mt.isPointLight){const Tt=d.get(Mt);if(Tt.color.copy(Mt.color).multiplyScalar(Mt.intensity),Tt.distance=Mt.distance,Tt.decay=Mt.decay,Mt.castShadow){const Wt=Mt.shadow,Yt=m.get(Mt);Yt.shadowBias=Wt.bias,Yt.shadowNormalBias=Wt.normalBias,Yt.shadowRadius=Wt.radius,Yt.shadowMapSize=Wt.mapSize,Yt.shadowCameraNear=Wt.camera.near,Yt.shadowCameraFar=Wt.camera.far,v.pointShadow[te]=Yt,v.pointShadowMap[te]=Ut,v.pointShadowMatrix[te]=Mt.shadow.matrix,Ce++}v.point[te]=Tt,te++}else if(Mt.isHemisphereLight){const Tt=d.get(Mt);Tt.skyColor.copy(Mt.color).multiplyScalar(jt),Tt.groundColor.copy(Mt.groundColor).multiplyScalar(jt),v.hemi[K]=Tt,K++}}oe>0&&(l.isWebGL2||!0===f.has("OES_texture_float_linear")?(v.rectAreaLTC1=ir.LTC_FLOAT_1,v.rectAreaLTC2=ir.LTC_FLOAT_2):!0===f.has("OES_texture_half_float_linear")?(v.rectAreaLTC1=ir.LTC_HALF_1,v.rectAreaLTC2=ir.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),v.ambient[0]=H,v.ambient[1]=V,v.ambient[2]=Y;const Se=v.hash;(Se.directionalLength!==J||Se.pointLength!==te||Se.spotLength!==se||Se.rectAreaLength!==oe||Se.hemiLength!==K||Se.numDirectionalShadows!==De||Se.numPointShadows!==Ce||Se.numSpotShadows!==Ve)&&(v.directional.length=J,v.spot.length=se,v.rectArea.length=oe,v.point.length=te,v.hemi.length=K,v.directionalShadow.length=De,v.directionalShadowMap.length=De,v.pointShadow.length=Ce,v.pointShadowMap.length=Ce,v.spotShadow.length=Ve,v.spotShadowMap.length=Ve,v.directionalShadowMatrix.length=De,v.pointShadowMatrix.length=Ce,v.spotShadowMatrix.length=Ve,Se.directionalLength=J,Se.pointLength=te,Se.spotLength=se,Se.rectAreaLength=oe,Se.hemiLength=K,Se.numDirectionalShadows=De,Se.numPointShadows=Ce,Se.numSpotShadows=Ve,v.version=LC++)},setupView:function k(U,H){let V=0,Y=0,J=0,te=0,se=0;const oe=H.matrixWorldInverse;for(let K=0,De=U.length;K<De;K++){const Ce=U[K];if(Ce.isDirectionalLight){const Ve=v.directional[V];Ve.direction.setFromMatrixPosition(Ce.matrixWorld),_.setFromMatrixPosition(Ce.target.matrixWorld),Ve.direction.sub(_),Ve.direction.transformDirection(oe),V++}else if(Ce.isSpotLight){const Ve=v.spot[J];Ve.position.setFromMatrixPosition(Ce.matrixWorld),Ve.position.applyMatrix4(oe),Ve.direction.setFromMatrixPosition(Ce.matrixWorld),_.setFromMatrixPosition(Ce.target.matrixWorld),Ve.direction.sub(_),Ve.direction.transformDirection(oe),J++}else if(Ce.isRectAreaLight){const Ve=v.rectArea[te];Ve.position.setFromMatrixPosition(Ce.matrixWorld),Ve.position.applyMatrix4(oe),D.identity(),x.copy(Ce.matrixWorld),x.premultiply(oe),D.extractRotation(x),Ve.halfWidth.set(.5*Ce.width,0,0),Ve.halfHeight.set(0,.5*Ce.height,0),Ve.halfWidth.applyMatrix4(D),Ve.halfHeight.applyMatrix4(D),te++}else if(Ce.isPointLight){const Ve=v.point[Y];Ve.position.setFromMatrixPosition(Ce.matrixWorld),Ve.position.applyMatrix4(oe),Y++}else if(Ce.isHemisphereLight){const Ve=v.hemi[se];Ve.direction.setFromMatrixPosition(Ce.matrixWorld),Ve.direction.transformDirection(oe),Ve.direction.normalize(),se++}}},state:v}}function PC(f,l){const d=new kf(f,l),m=[],v=[];return{init:function _(){m.length=0,v.length=0},state:{lightsArray:m,shadowsArray:v,lights:d},setupLights:function L(){d.setup(m)},setupLightsView:function k(H){d.setupView(m,H)},pushLight:function x(H){m.push(H)},pushShadow:function D(H){v.push(H)}}}function IC(f,l){let d=new WeakMap;return{get:function m(_,x=0){let D;return!1===d.has(_)?(D=new PC(f,l),d.set(_,[D])):x>=d.get(_).length?(D=new PC(f,l),d.get(_).push(D)):D=d.get(_)[x],D},dispose:function v(){d=new WeakMap}}}class h0 extends Bo{constructor(l){super(),this.type="MeshDepthMaterial",this.depthPacking=Sd,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(l)}copy(l){return super.copy(l),this.depthPacking=l.depthPacking,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.map=l.map,this.alphaMap=l.alphaMap,this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this}}h0.prototype.isMeshDepthMaterial=!0;class f0 extends Bo{constructor(l){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Ee,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(l)}copy(l){return super.copy(l),this.referencePosition.copy(l.referencePosition),this.nearDistance=l.nearDistance,this.farDistance=l.farDistance,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.map=l.map,this.alphaMap=l.alphaMap,this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this}}function aD(f,l,d){let m=new Od;const v=new _n,_=new _n,x=new Ti,D=[],L=[],k={},U={0:$,1:he,2:de},H=new Os({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new _n},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),V=H.clone();V.defines.HORIZONTAL_PASS=1;const Y=new Br;Y.setAttribute("position",new Kr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const J=new un(Y,H),te=this;function se(Ve,Se){const nt=l.update(J);H.uniforms.shadow_pass.value=Ve.map.texture,H.uniforms.resolution.value=Ve.mapSize,H.uniforms.radius.value=Ve.radius,f.setRenderTarget(Ve.mapPass),f.clear(),f.renderBufferDirect(Se,null,nt,H,J,null),V.uniforms.shadow_pass.value=Ve.mapPass.texture,V.uniforms.resolution.value=Ve.mapSize,V.uniforms.radius.value=Ve.radius,f.setRenderTarget(Ve.map),f.clear(),f.renderBufferDirect(Se,null,nt,V,J,null)}function oe(Ve,Se,nt){const Dt=Ve<<0|Se<<1|nt<<2;let Mt=D[Dt];return void 0===Mt&&(Mt=new h0({depthPacking:Tp,morphTargets:Ve,skinning:Se}),D[Dt]=Mt),Mt}function K(Ve,Se,nt){const Dt=Ve<<0|Se<<1|nt<<2;let Mt=L[Dt];return void 0===Mt&&(Mt=new f0({morphTargets:Ve,skinning:Se}),L[Dt]=Mt),Mt}function De(Ve,Se,nt,Dt,Mt,at,jt){let en=null,Ut=oe,Tt=Ve.customDepthMaterial;if(!0===Dt.isPointLight&&(Ut=K,Tt=Ve.customDistanceMaterial),void 0===Tt){let Wt=!1;!0===nt.morphTargets&&(Wt=Se.morphAttributes&&Se.morphAttributes.position&&Se.morphAttributes.position.length>0);let Yt=!1;!0===Ve.isSkinnedMesh&&(!0===nt.skinning?Yt=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",Ve)),en=Ut(Wt,Yt,!0===Ve.isInstancedMesh)}else en=Tt;if(f.localClippingEnabled&&!0===nt.clipShadows&&0!==nt.clippingPlanes.length){const Wt=en.uuid,Yt=nt.uuid;let zn=k[Wt];void 0===zn&&(zn={},k[Wt]=zn);let $n=zn[Yt];void 0===$n&&($n=en.clone(),zn[Yt]=$n),en=$n}return en.visible=nt.visible,en.wireframe=nt.wireframe,en.side=jt===le?null!==nt.shadowSide?nt.shadowSide:nt.side:null!==nt.shadowSide?nt.shadowSide:U[nt.side],en.clipShadows=nt.clipShadows,en.clippingPlanes=nt.clippingPlanes,en.clipIntersection=nt.clipIntersection,en.wireframeLinewidth=nt.wireframeLinewidth,en.linewidth=nt.linewidth,!0===Dt.isPointLight&&!0===en.isMeshDistanceMaterial&&(en.referencePosition.setFromMatrixPosition(Dt.matrixWorld),en.nearDistance=Mt,en.farDistance=at),en}function Ce(Ve,Se,nt,Dt,Mt){if(!1===Ve.visible)return;if(Ve.layers.test(Se.layers)&&(Ve.isMesh||Ve.isLine||Ve.isPoints)&&(Ve.castShadow||Ve.receiveShadow&&Mt===le)&&(!Ve.frustumCulled||m.intersectsObject(Ve))){Ve.modelViewMatrix.multiplyMatrices(nt.matrixWorldInverse,Ve.matrixWorld);const en=l.update(Ve),Ut=Ve.material;if(Array.isArray(Ut)){const Tt=en.groups;for(let Wt=0,Yt=Tt.length;Wt<Yt;Wt++){const zn=Tt[Wt],$n=Ut[zn.materialIndex];if($n&&$n.visible){const Kn=De(Ve,en,$n,Dt,nt.near,nt.far,Mt);f.renderBufferDirect(nt,null,en,Kn,Ve,zn)}}}else if(Ut.visible){const Tt=De(Ve,en,Ut,Dt,nt.near,nt.far,Mt);f.renderBufferDirect(nt,null,en,Tt,Ve,null)}}const jt=Ve.children;for(let en=0,Ut=jt.length;en<Ut;en++)Ce(jt[en],Se,nt,Dt,Mt)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ne,this.render=function(Ve,Se,nt){if(!1===te.enabled||!1===te.autoUpdate&&!1===te.needsUpdate||0===Ve.length)return;const Dt=f.getRenderTarget(),Mt=f.getActiveCubeFace(),at=f.getActiveMipmapLevel(),jt=f.state;jt.setBlending(Re),jt.buffers.color.setClear(1,1,1,1),jt.buffers.depth.setTest(!0),jt.setScissorTest(!1);for(let en=0,Ut=Ve.length;en<Ut;en++){const Tt=Ve[en],Wt=Tt.shadow;if(void 0===Wt){console.warn("THREE.WebGLShadowMap:",Tt,"has no shadow.");continue}if(!1===Wt.autoUpdate&&!1===Wt.needsUpdate)continue;v.copy(Wt.mapSize);const Yt=Wt.getFrameExtents();if(v.multiply(Yt),_.copy(Wt.mapSize),(v.x>d||v.y>d)&&(v.x>d&&(_.x=Math.floor(d/Yt.x),v.x=_.x*Yt.x,Wt.mapSize.x=_.x),v.y>d&&(_.y=Math.floor(d/Yt.y),v.y=_.y*Yt.y,Wt.mapSize.y=_.y)),null===Wt.map&&!Wt.isPointLightShadow&&this.type===le){const $n={minFilter:Li,magFilter:Li,format:$o};Wt.map=new Qn(v.x,v.y,$n),Wt.map.texture.name=Tt.name+".shadowMap",Wt.mapPass=new Qn(v.x,v.y,$n),Wt.camera.updateProjectionMatrix()}null===Wt.map&&(Wt.map=new Qn(v.x,v.y,{minFilter:Un,magFilter:Un,format:$o}),Wt.map.texture.name=Tt.name+".shadowMap",Wt.camera.updateProjectionMatrix()),f.setRenderTarget(Wt.map),f.clear();const zn=Wt.getViewportCount();for(let $n=0;$n<zn;$n++){const Kn=Wt.getViewport($n);x.set(_.x*Kn.x,_.y*Kn.y,_.x*Kn.z,_.y*Kn.w),jt.viewport(x),Wt.updateMatrices(Tt,$n),m=Wt.getFrustum(),Ce(Se,nt,Wt.camera,Tt,this.type)}!Wt.isPointLightShadow&&this.type===le&&se(Wt,nt),Wt.needsUpdate=!1}te.needsUpdate=!1,f.setRenderTarget(Dt,Mt,at)}}function K2(f,l,d){const m=d.isWebGL2,D=new function v(){let xt=!1;const Gn=new Ti;let rr=null;const Ar=new Ti(0,0,0,0);return{setMask:function(jn){rr!==jn&&!xt&&(f.colorMask(jn,jn,jn,jn),rr=jn)},setLocked:function(jn){xt=jn},setClear:function(jn,Qr,oi,$r,ni){!0===ni&&(jn*=$r,Qr*=$r,oi*=$r),Gn.set(jn,Qr,oi,$r),!1===Ar.equals(Gn)&&(f.clearColor(jn,Qr,oi,$r),Ar.copy(Gn))},reset:function(){xt=!1,rr=null,Ar.set(-1,0,0,0)}}},L=new function _(){let xt=!1,Gn=null,rr=null,Ar=null;return{setTest:function(jn){jn?Ir(2929):Tr(2929)},setMask:function(jn){Gn!==jn&&!xt&&(f.depthMask(jn),Gn=jn)},setFunc:function(jn){if(rr!==jn){if(jn)switch(jn){case Ht:f.depthFunc(512);break;case Jn:f.depthFunc(519);break;case Wn:f.depthFunc(513);break;case Yn:f.depthFunc(515);break;case Hn:f.depthFunc(514);break;case Mr:f.depthFunc(518);break;case Dn:f.depthFunc(516);break;case nn:f.depthFunc(517);break;default:f.depthFunc(515)}else f.depthFunc(515);rr=jn}},setLocked:function(jn){xt=jn},setClear:function(jn){Ar!==jn&&(f.clearDepth(jn),Ar=jn)},reset:function(){xt=!1,Gn=null,rr=null,Ar=null}}},k=new function x(){let xt=!1,Gn=null,rr=null,Ar=null,jn=null,Qr=null,oi=null,$r=null,ni=null;return{setTest:function(Nr){xt||(Nr?Ir(2960):Tr(2960))},setMask:function(Nr){Gn!==Nr&&!xt&&(f.stencilMask(Nr),Gn=Nr)},setFunc:function(Nr,Fi,Ls){(rr!==Nr||Ar!==Fi||jn!==Ls)&&(f.stencilFunc(Nr,Fi,Ls),rr=Nr,Ar=Fi,jn=Ls)},setOp:function(Nr,Fi,Ls){(Qr!==Nr||oi!==Fi||$r!==Ls)&&(f.stencilOp(Nr,Fi,Ls),Qr=Nr,oi=Fi,$r=Ls)},setLocked:function(Nr){xt=Nr},setClear:function(Nr){ni!==Nr&&(f.clearStencil(Nr),ni=Nr)},reset:function(){xt=!1,Gn=null,rr=null,Ar=null,jn=null,Qr=null,oi=null,$r=null,ni=null}}};let U={},H=null,V=!1,Y=null,J=null,te=null,se=null,oe=null,K=null,De=null,Ce=!1,Ve=null,Se=null,nt=null,Dt=null,Mt=null;const at=f.getParameter(35661);let jt=!1,en=0;const Ut=f.getParameter(7938);-1!==Ut.indexOf("WebGL")?(en=parseFloat(/^WebGL (\d)/.exec(Ut)[1]),jt=en>=1):-1!==Ut.indexOf("OpenGL ES")&&(en=parseFloat(/^OpenGL ES (\d)/.exec(Ut)[1]),jt=en>=2);let Tt=null,Wt={};const Yt=new Ti,zn=new Ti;function $n(xt,Gn,rr){const Ar=new Uint8Array(4),jn=f.createTexture();f.bindTexture(xt,jn),f.texParameteri(xt,10241,9728),f.texParameteri(xt,10240,9728);for(let Qr=0;Qr<rr;Qr++)f.texImage2D(Gn+Qr,0,6408,1,1,0,6408,5121,Ar);return jn}const Kn={};function Ir(xt){!0!==U[xt]&&(f.enable(xt),U[xt]=!0)}function Tr(xt){!1!==U[xt]&&(f.disable(xt),U[xt]=!1)}Kn[3553]=$n(3553,3553,1),Kn[34067]=$n(34067,34069,6),D.setClear(0,0,0,1),L.setClear(1),k.setClear(0),Ir(2929),L.setFunc(Yn),us(!1),Mo(I),Ir(2884),Lo(Re);const bi={[dt]:32774,[rt]:32778,[yt]:32779};if(m)bi[Pt]=32775,bi[Ft]=32776;else{const xt=l.get("EXT_blend_minmax");null!==xt&&(bi[Pt]=xt.MIN_EXT,bi[Ft]=xt.MAX_EXT)}const ts={[Gt]:0,[Kt]:1,[Zt]:768,[Fe]:770,[Sn]:776,[$t]:774,[ht]:772,[It]:769,[ge]:771,[bn]:775,[Rt]:773};function Lo(xt,Gn,rr,Ar,jn,Qr,oi,$r){if(xt!==Re){if(!1===V&&(Ir(3042),V=!0),xt===Ke)jn=jn||Gn,Qr=Qr||rr,oi=oi||Ar,(Gn!==J||jn!==oe)&&(f.blendEquationSeparate(bi[Gn],bi[jn]),J=Gn,oe=jn),(rr!==te||Ar!==se||Qr!==K||oi!==De)&&(f.blendFuncSeparate(ts[rr],ts[Ar],ts[Qr],ts[oi]),te=rr,se=Ar,K=Qr,De=oi),Y=xt,Ce=null;else if(xt!==Y||$r!==Ce){if((J!==dt||oe!==dt)&&(f.blendEquation(32774),J=dt,oe=dt),$r)switch(xt){case ze:f.blendFuncSeparate(1,771,1,771);break;case it:f.blendFunc(1,1);break;case We:f.blendFuncSeparate(0,0,769,771);break;case Oe:f.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",xt)}else switch(xt){case ze:f.blendFuncSeparate(770,771,1,771);break;case it:f.blendFunc(770,1);break;case We:f.blendFunc(0,769);break;case Oe:f.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",xt)}te=null,se=null,K=null,De=null,Y=xt,Ce=$r}}else!0===V&&(Tr(3042),V=!1)}function us(xt){Ve!==xt&&(f.frontFace(xt?2304:2305),Ve=xt)}function Mo(xt){xt!==A?(Ir(2884),xt!==Se&&f.cullFace(xt===I?1029:xt===N?1028:1032)):Tr(2884),Se=xt}function xi(xt,Gn,rr){xt?(Ir(32823),(Dt!==Gn||Mt!==rr)&&(f.polygonOffset(Gn,rr),Dt=Gn,Mt=rr)):Tr(32823)}function Fn(xt){void 0===xt&&(xt=33984+at-1),Tt!==xt&&(f.activeTexture(xt),Tt=xt)}return{buffers:{color:D,depth:L,stencil:k},enable:Ir,disable:Tr,useProgram:function no(xt){return H!==xt&&(f.useProgram(xt),H=xt,!0)},setBlending:Lo,setMaterial:function gn(xt,Gn){xt.side===de?Tr(2884):Ir(2884);let rr=xt.side===$;Gn&&(rr=!rr),us(rr),xt.blending===ze&&!1===xt.transparent?Lo(Re):Lo(xt.blending,xt.blendEquation,xt.blendSrc,xt.blendDst,xt.blendEquationAlpha,xt.blendSrcAlpha,xt.blendDstAlpha,xt.premultipliedAlpha),L.setFunc(xt.depthFunc),L.setTest(xt.depthTest),L.setMask(xt.depthWrite),D.setMask(xt.colorWrite);const Ar=xt.stencilWrite;k.setTest(Ar),Ar&&(k.setMask(xt.stencilWriteMask),k.setFunc(xt.stencilFunc,xt.stencilRef,xt.stencilFuncMask),k.setOp(xt.stencilFail,xt.stencilZFail,xt.stencilZPass)),xi(xt.polygonOffset,xt.polygonOffsetFactor,xt.polygonOffsetUnits)},setFlipSided:us,setCullFace:Mo,setLineWidth:function Po(xt){xt!==nt&&(jt&&f.lineWidth(xt),nt=xt)},setPolygonOffset:xi,setScissorTest:function Uo(xt){xt?Ir(3089):Tr(3089)},activeTexture:Fn,bindTexture:function Zn(xt,Gn){null===Tt&&Fn();let rr=Wt[Tt];void 0===rr&&(rr={type:void 0,texture:void 0},Wt[Tt]=rr),(rr.type!==xt||rr.texture!==Gn)&&(f.bindTexture(xt,Gn||Kn[xt]),rr.type=xt,rr.texture=Gn)},unbindTexture:function or(){const xt=Wt[Tt];void 0!==xt&&void 0!==xt.type&&(f.bindTexture(xt.type,null),xt.type=void 0,xt.texture=void 0)},compressedTexImage2D:function hr(){try{f.compressedTexImage2D.apply(f,arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}},texImage2D:function Cr(){try{f.texImage2D.apply(f,arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}},texImage3D:function et(){try{f.texImage3D.apply(f,arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}},scissor:function $e(xt){!1===Yt.equals(xt)&&(f.scissor(xt.x,xt.y,xt.z,xt.w),Yt.copy(xt))},viewport:function wn(xt){!1===zn.equals(xt)&&(f.viewport(xt.x,xt.y,xt.z,xt.w),zn.copy(xt))},reset:function kn(){f.disable(3042),f.disable(2884),f.disable(2929),f.disable(32823),f.disable(3089),f.disable(2960),f.blendEquation(32774),f.blendFunc(1,0),f.blendFuncSeparate(1,0,1,0),f.colorMask(!0,!0,!0,!0),f.clearColor(0,0,0,0),f.depthMask(!0),f.depthFunc(513),f.clearDepth(1),f.stencilMask(4294967295),f.stencilFunc(519,0,4294967295),f.stencilOp(7680,7680,7680),f.clearStencil(0),f.cullFace(1029),f.frontFace(2305),f.polygonOffset(0,0),f.activeTexture(33984),f.useProgram(null),f.lineWidth(1),f.scissor(0,0,f.canvas.width,f.canvas.height),f.viewport(0,0,f.canvas.width,f.canvas.height),U={},Tt=null,Wt={},H=null,V=!1,Y=null,J=null,te=null,se=null,oe=null,K=null,De=null,Ce=!1,Ve=null,Se=null,nt=null,Dt=null,Mt=null,D.reset(),L.reset(),k.reset()}}}function Z2(f,l,d,m,v,_,x){const D=v.isWebGL2,L=v.maxTextures,k=v.maxCubemapSize,U=v.maxTextureSize,H=v.maxSamples,V=new WeakMap;let Y,J=!1;try{J="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(et){}function te(et,$e){return J?new OffscreenCanvas(et,$e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function se(et,$e,wn,kn){let xt=1;if((et.width>kn||et.height>kn)&&(xt=kn/Math.max(et.width,et.height)),xt<1||!0===$e){if("undefined"!=typeof HTMLImageElement&&et instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&et instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&et instanceof ImageBitmap){const Gn=$e?Dr.floorPowerOfTwo:Math.floor,rr=Gn(xt*et.width),Ar=Gn(xt*et.height);void 0===Y&&(Y=te(rr,Ar));const jn=wn?te(rr,Ar):Y;return jn.width=rr,jn.height=Ar,jn.getContext("2d").drawImage(et,0,0,rr,Ar),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+et.width+"x"+et.height+") to ("+rr+"x"+Ar+")."),jn}return"data"in et&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+et.width+"x"+et.height+")."),et}return et}function oe(et){return Dr.isPowerOfTwo(et.width)&&Dr.isPowerOfTwo(et.height)}function De(et,$e){return et.generateMipmaps&&$e&&et.minFilter!==Un&&et.minFilter!==Li}function Ce(et,$e,wn,kn){f.generateMipmap(et),m.get($e).__maxMipLevel=Math.log2(Math.max(wn,kn))}function Ve(et,$e,wn){if(!1===D)return $e;if(null!==et){if(void 0!==f[et])return f[et];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+et+"'")}let kn=$e;return 6403===$e&&(5126===wn&&(kn=33326),5131===wn&&(kn=33325),5121===wn&&(kn=33321)),6407===$e&&(5126===wn&&(kn=34837),5131===wn&&(kn=34843),5121===wn&&(kn=32849)),6408===$e&&(5126===wn&&(kn=34836),5131===wn&&(kn=34842),5121===wn&&(kn=32856)),(33325===kn||33326===kn||34842===kn||34836===kn)&&l.get("EXT_color_buffer_float"),kn}function Se(et){return et===Un||et===br||et===li?9728:9729}function nt(et){const $e=et.target;$e.removeEventListener("dispose",nt),function Mt(et){const $e=m.get(et);void 0!==$e.__webglInit&&(f.deleteTexture($e.__webglTexture),m.remove(et))}($e),$e.isVideoTexture&&V.delete($e),x.memory.textures--}function Dt(et){const $e=et.target;$e.removeEventListener("dispose",Dt),function at(et){const $e=et.texture,wn=m.get(et),kn=m.get($e);if(et){if(void 0!==kn.__webglTexture&&f.deleteTexture(kn.__webglTexture),et.depthTexture&&et.depthTexture.dispose(),et.isWebGLCubeRenderTarget)for(let xt=0;xt<6;xt++)f.deleteFramebuffer(wn.__webglFramebuffer[xt]),wn.__webglDepthbuffer&&f.deleteRenderbuffer(wn.__webglDepthbuffer[xt]);else f.deleteFramebuffer(wn.__webglFramebuffer),wn.__webglDepthbuffer&&f.deleteRenderbuffer(wn.__webglDepthbuffer),wn.__webglMultisampledFramebuffer&&f.deleteFramebuffer(wn.__webglMultisampledFramebuffer),wn.__webglColorRenderbuffer&&f.deleteRenderbuffer(wn.__webglColorRenderbuffer),wn.__webglDepthRenderbuffer&&f.deleteRenderbuffer(wn.__webglDepthRenderbuffer);m.remove($e),m.remove(et)}}($e),x.memory.textures--}let jt=0;function Tt(et,$e){const wn=m.get(et);if(et.isVideoTexture&&function Fn(et){const $e=x.render.frame;V.get(et)!==$e&&(V.set(et,$e),et.update())}(et),et.version>0&&wn.__version!==et.version){const kn=et.image;if(void 0===kn)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==kn.complete)return void no(wn,et,$e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}d.activeTexture(33984+$e),d.bindTexture(3553,wn.__webglTexture)}function zn(et,$e){const wn=m.get(et);et.version>0&&wn.__version!==et.version?function bi(et,$e,wn){if(6!==$e.image.length)return;Tr(et,$e),d.activeTexture(33984+wn),d.bindTexture(34067,et.__webglTexture),f.pixelStorei(37440,$e.flipY),f.pixelStorei(37441,$e.premultiplyAlpha),f.pixelStorei(3317,$e.unpackAlignment),f.pixelStorei(37443,0);const kn=$e&&($e.isCompressedTexture||$e.image[0].isCompressedTexture),xt=$e.image[0]&&$e.image[0].isDataTexture,Gn=[];for(let ni=0;ni<6;ni++)Gn[ni]=kn||xt?xt?$e.image[ni].image:$e.image[ni]:se($e.image[ni],!1,!0,k);const rr=Gn[0],Ar=oe(rr)||D,jn=_.convert($e.format),Qr=_.convert($e.type),oi=Ve($e.internalFormat,jn,Qr);let $r;if(Ir(34067,$e,Ar),kn){for(let ni=0;ni<6;ni++){$r=Gn[ni].mipmaps;for(let Nr=0;Nr<$r.length;Nr++){const Fi=$r[Nr];$e.format!==$o&&$e.format!==Ju?null!==jn?d.compressedTexImage2D(34069+ni,Nr,oi,Fi.width,Fi.height,0,Fi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):d.texImage2D(34069+ni,Nr,oi,Fi.width,Fi.height,0,jn,Qr,Fi.data)}}et.__maxMipLevel=$r.length-1}else{$r=$e.mipmaps;for(let ni=0;ni<6;ni++)if(xt){d.texImage2D(34069+ni,0,oi,Gn[ni].width,Gn[ni].height,0,jn,Qr,Gn[ni].data);for(let Nr=0;Nr<$r.length;Nr++){const Ls=$r[Nr].image[ni].image;d.texImage2D(34069+ni,Nr+1,oi,Ls.width,Ls.height,0,jn,Qr,Ls.data)}}else{d.texImage2D(34069+ni,0,oi,jn,Qr,Gn[ni]);for(let Nr=0;Nr<$r.length;Nr++)d.texImage2D(34069+ni,Nr+1,oi,jn,Qr,$r[Nr].image[ni])}et.__maxMipLevel=$r.length}De($e,Ar)&&Ce(34067,$e,rr.width,rr.height),et.__version=$e.version,$e.onUpdate&&$e.onUpdate($e)}(wn,et,$e):(d.activeTexture(33984+$e),d.bindTexture(34067,wn.__webglTexture))}const $n={[qt]:10497,[dn]:33071,[xn]:33648},Kn={[Un]:9728,[br]:9984,[li]:9986,[Li]:9729,[fu]:9985,[Xi]:9987};function Ir(et,$e,wn){if(wn?(f.texParameteri(et,10242,$n[$e.wrapS]),f.texParameteri(et,10243,$n[$e.wrapT]),(32879===et||35866===et)&&f.texParameteri(et,32882,$n[$e.wrapR]),f.texParameteri(et,10240,Kn[$e.magFilter]),f.texParameteri(et,10241,Kn[$e.minFilter])):(f.texParameteri(et,10242,33071),f.texParameteri(et,10243,33071),(32879===et||35866===et)&&f.texParameteri(et,32882,33071),($e.wrapS!==dn||$e.wrapT!==dn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),f.texParameteri(et,10240,Se($e.magFilter)),f.texParameteri(et,10241,Se($e.minFilter)),$e.minFilter!==Un&&$e.minFilter!==Li&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===l.has("EXT_texture_filter_anisotropic")){const kn=l.get("EXT_texture_filter_anisotropic");if($e.type===Yl&&!1===l.has("OES_texture_float_linear")||!1===D&&$e.type===fs&&!1===l.has("OES_texture_half_float_linear"))return;($e.anisotropy>1||m.get($e).__currentAnisotropy)&&(f.texParameterf(et,kn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($e.anisotropy,v.getMaxAnisotropy())),m.get($e).__currentAnisotropy=$e.anisotropy)}}function Tr(et,$e){void 0===et.__webglInit&&(et.__webglInit=!0,$e.addEventListener("dispose",nt),et.__webglTexture=f.createTexture(),x.memory.textures++)}function no(et,$e,wn){let kn=3553;$e.isDataTexture2DArray&&(kn=35866),$e.isDataTexture3D&&(kn=32879),Tr(et,$e),d.activeTexture(33984+wn),d.bindTexture(kn,et.__webglTexture),f.pixelStorei(37440,$e.flipY),f.pixelStorei(37441,$e.premultiplyAlpha),f.pixelStorei(3317,$e.unpackAlignment),f.pixelStorei(37443,0);const xt=function K(et){return!D&&(et.wrapS!==dn||et.wrapT!==dn||et.minFilter!==Un&&et.minFilter!==Li)}($e)&&!1===oe($e.image),Gn=se($e.image,xt,!1,U),rr=oe(Gn)||D,Ar=_.convert($e.format);let oi,jn=_.convert($e.type),Qr=Ve($e.internalFormat,Ar,jn);Ir(kn,$e,rr);const $r=$e.mipmaps;if($e.isDepthTexture)Qr=6402,D?Qr=$e.type===Yl?36012:$e.type===pu?33190:$e.type===nr?35056:33189:$e.type===Yl&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),$e.format===Ro&&6402===Qr&&$e.type!==Ki&&$e.type!==pu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),$e.type=Ki,jn=_.convert($e.type)),$e.format===wo&&6402===Qr&&(Qr=34041,$e.type!==nr&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),$e.type=nr,jn=_.convert($e.type))),d.texImage2D(3553,0,Qr,Gn.width,Gn.height,0,Ar,jn,null);else if($e.isDataTexture)if($r.length>0&&rr){for(let ni=0,Nr=$r.length;ni<Nr;ni++)oi=$r[ni],d.texImage2D(3553,ni,Qr,oi.width,oi.height,0,Ar,jn,oi.data);$e.generateMipmaps=!1,et.__maxMipLevel=$r.length-1}else d.texImage2D(3553,0,Qr,Gn.width,Gn.height,0,Ar,jn,Gn.data),et.__maxMipLevel=0;else if($e.isCompressedTexture){for(let ni=0,Nr=$r.length;ni<Nr;ni++)oi=$r[ni],$e.format!==$o&&$e.format!==Ju?null!==Ar?d.compressedTexImage2D(3553,ni,Qr,oi.width,oi.height,0,oi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):d.texImage2D(3553,ni,Qr,oi.width,oi.height,0,Ar,jn,oi.data);et.__maxMipLevel=$r.length-1}else if($e.isDataTexture2DArray)d.texImage3D(35866,0,Qr,Gn.width,Gn.height,Gn.depth,0,Ar,jn,Gn.data),et.__maxMipLevel=0;else if($e.isDataTexture3D)d.texImage3D(32879,0,Qr,Gn.width,Gn.height,Gn.depth,0,Ar,jn,Gn.data),et.__maxMipLevel=0;else if($r.length>0&&rr){for(let ni=0,Nr=$r.length;ni<Nr;ni++)oi=$r[ni],d.texImage2D(3553,ni,Qr,Ar,jn,oi);$e.generateMipmaps=!1,et.__maxMipLevel=$r.length-1}else d.texImage2D(3553,0,Qr,Ar,jn,Gn),et.__maxMipLevel=0;De($e,rr)&&Ce(kn,$e,Gn.width,Gn.height),et.__version=$e.version,$e.onUpdate&&$e.onUpdate($e)}function ts(et,$e,wn,kn){const xt=$e.texture,Gn=_.convert(xt.format),rr=_.convert(xt.type),Ar=Ve(xt.internalFormat,Gn,rr);32879===kn||35866===kn?d.texImage3D(kn,0,Ar,$e.width,$e.height,$e.depth,0,Gn,rr,null):d.texImage2D(kn,0,Ar,$e.width,$e.height,0,Gn,rr,null),f.bindFramebuffer(36160,et),f.framebufferTexture2D(36160,wn,kn,m.get(xt).__webglTexture,0),f.bindFramebuffer(36160,null)}function Lo(et,$e,wn){if(f.bindRenderbuffer(36161,et),$e.depthBuffer&&!$e.stencilBuffer){let kn=33189;if(wn){const xt=$e.depthTexture;xt&&xt.isDepthTexture&&(xt.type===Yl?kn=36012:xt.type===pu&&(kn=33190));const Gn=Uo($e);f.renderbufferStorageMultisample(36161,Gn,kn,$e.width,$e.height)}else f.renderbufferStorage(36161,kn,$e.width,$e.height);f.framebufferRenderbuffer(36160,36096,36161,et)}else if($e.depthBuffer&&$e.stencilBuffer){if(wn){const kn=Uo($e);f.renderbufferStorageMultisample(36161,kn,35056,$e.width,$e.height)}else f.renderbufferStorage(36161,34041,$e.width,$e.height);f.framebufferRenderbuffer(36160,33306,36161,et)}else{const kn=$e.texture,xt=_.convert(kn.format),Gn=_.convert(kn.type),rr=Ve(kn.internalFormat,xt,Gn);if(wn){const Ar=Uo($e);f.renderbufferStorageMultisample(36161,Ar,rr,$e.width,$e.height)}else f.renderbufferStorage(36161,rr,$e.width,$e.height)}f.bindRenderbuffer(36161,null)}function Uo(et){return D&&et.isWebGLMultisampleRenderTarget?Math.min(H,et.samples):0}let Zn=!1,or=!1;this.allocateTextureUnit=function Ut(){const et=jt;return et>=L&&console.warn("THREE.WebGLTextures: Trying to use "+et+" texture units while this GPU supports only "+L),jt+=1,et},this.resetTextureUnits=function en(){jt=0},this.setTexture2D=Tt,this.setTexture2DArray=function Wt(et,$e){const wn=m.get(et);et.version>0&&wn.__version!==et.version?no(wn,et,$e):(d.activeTexture(33984+$e),d.bindTexture(35866,wn.__webglTexture))},this.setTexture3D=function Yt(et,$e){const wn=m.get(et);et.version>0&&wn.__version!==et.version?no(wn,et,$e):(d.activeTexture(33984+$e),d.bindTexture(32879,wn.__webglTexture))},this.setTextureCube=zn,this.setupRenderTarget=function Mo(et){const $e=et.texture,wn=m.get(et),kn=m.get($e);et.addEventListener("dispose",Dt),kn.__webglTexture=f.createTexture(),x.memory.textures++;const xt=!0===et.isWebGLCubeRenderTarget,Gn=!0===et.isWebGLMultisampleRenderTarget,rr=$e.isDataTexture3D||$e.isDataTexture2DArray,Ar=oe(et)||D;if(D&&$e.format===Ju&&($e.type===Yl||$e.type===fs)&&($e.format=$o,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),xt){wn.__webglFramebuffer=[];for(let jn=0;jn<6;jn++)wn.__webglFramebuffer[jn]=f.createFramebuffer()}else if(wn.__webglFramebuffer=f.createFramebuffer(),Gn)if(D){wn.__webglMultisampledFramebuffer=f.createFramebuffer(),wn.__webglColorRenderbuffer=f.createRenderbuffer(),f.bindRenderbuffer(36161,wn.__webglColorRenderbuffer);const jn=_.convert($e.format),Qr=_.convert($e.type),oi=Ve($e.internalFormat,jn,Qr),$r=Uo(et);f.renderbufferStorageMultisample(36161,$r,oi,et.width,et.height),f.bindFramebuffer(36160,wn.__webglMultisampledFramebuffer),f.framebufferRenderbuffer(36160,36064,36161,wn.__webglColorRenderbuffer),f.bindRenderbuffer(36161,null),et.depthBuffer&&(wn.__webglDepthRenderbuffer=f.createRenderbuffer(),Lo(wn.__webglDepthRenderbuffer,et,!0)),f.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(xt){d.bindTexture(34067,kn.__webglTexture),Ir(34067,$e,Ar);for(let jn=0;jn<6;jn++)ts(wn.__webglFramebuffer[jn],et,36064,34069+jn);De($e,Ar)&&Ce(34067,$e,et.width,et.height),d.bindTexture(34067,null)}else{let jn=3553;rr&&(D?jn=$e.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),d.bindTexture(jn,kn.__webglTexture),Ir(jn,$e,Ar),ts(wn.__webglFramebuffer,et,36064,jn),De($e,Ar)&&Ce(3553,$e,et.width,et.height),d.bindTexture(3553,null)}et.depthBuffer&&function us(et){const $e=m.get(et),wn=!0===et.isWebGLCubeRenderTarget;if(et.depthTexture){if(wn)throw new Error("target.depthTexture not supported in Cube render targets");!function gn(et,$e){if($e&&$e.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(f.bindFramebuffer(36160,et),!$e.depthTexture||!$e.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!m.get($e.depthTexture).__webglTexture||$e.depthTexture.image.width!==$e.width||$e.depthTexture.image.height!==$e.height)&&($e.depthTexture.image.width=$e.width,$e.depthTexture.image.height=$e.height,$e.depthTexture.needsUpdate=!0),Tt($e.depthTexture,0);const kn=m.get($e.depthTexture).__webglTexture;if($e.depthTexture.format===Ro)f.framebufferTexture2D(36160,36096,3553,kn,0);else{if($e.depthTexture.format!==wo)throw new Error("Unknown depthTexture format");f.framebufferTexture2D(36160,33306,3553,kn,0)}}($e.__webglFramebuffer,et)}else if(wn){$e.__webglDepthbuffer=[];for(let kn=0;kn<6;kn++)f.bindFramebuffer(36160,$e.__webglFramebuffer[kn]),$e.__webglDepthbuffer[kn]=f.createRenderbuffer(),Lo($e.__webglDepthbuffer[kn],et,!1)}else f.bindFramebuffer(36160,$e.__webglFramebuffer),$e.__webglDepthbuffer=f.createRenderbuffer(),Lo($e.__webglDepthbuffer,et,!1);f.bindFramebuffer(36160,null)}(et)},this.updateRenderTargetMipmap=function Po(et){const $e=et.texture;if(De($e,oe(et)||D)){const kn=et.isWebGLCubeRenderTarget?34067:3553,xt=m.get($e).__webglTexture;d.bindTexture(kn,xt),Ce(kn,$e,et.width,et.height),d.bindTexture(kn,null)}},this.updateMultisampleRenderTarget=function xi(et){if(et.isWebGLMultisampleRenderTarget)if(D){const $e=m.get(et);f.bindFramebuffer(36008,$e.__webglMultisampledFramebuffer),f.bindFramebuffer(36009,$e.__webglFramebuffer);const wn=et.width,kn=et.height;let xt=16384;et.depthBuffer&&(xt|=256),et.stencilBuffer&&(xt|=1024),f.blitFramebuffer(0,0,wn,kn,0,0,wn,kn,xt,9728),f.bindFramebuffer(36160,$e.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function hr(et,$e){et&&et.isWebGLRenderTarget&&(!1===Zn&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Zn=!0),et=et.texture),Tt(et,$e)},this.safeSetTextureCube=function Cr(et,$e){et&&et.isWebGLCubeRenderTarget&&(!1===or&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),or=!0),et=et.texture),zn(et,$e)}}function lD(f,l,d){const m=d.isWebGL2;return{convert:function v(_){let x;if(_===la)return 5121;if(_===mg)return 32819;if(_===Ac)return 32820;if(_===Ca)return 33635;if(_===To)return 5120;if(_===hs)return 5122;if(_===Ki)return 5123;if(_===Wl)return 5124;if(_===pu)return 5125;if(_===Yl)return 5126;if(_===fs)return m?5131:(x=l.get("OES_texture_half_float"),null!==x?x.HALF_FLOAT_OES:null);if(_===dh)return 6406;if(_===Ju)return 6407;if(_===$o)return 6408;if(_===dl)return 6409;if(_===bo)return 6410;if(_===Ro)return 6402;if(_===wo)return 34041;if(_===Xo)return 6403;if(_===hl)return 36244;if(_===Ei)return 33319;if(_===Hs)return 33320;if(_===Ga)return 36248;if(_===$a)return 36249;if(_===hh||_===fh||_===mu||_===Do){if(x=l.get("WEBGL_compressed_texture_s3tc"),null===x)return null;if(_===hh)return x.COMPRESSED_RGB_S3TC_DXT1_EXT;if(_===fh)return x.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(_===mu)return x.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(_===Do)return x.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(_===Qu||_===ph||_===gu||_===ec){if(x=l.get("WEBGL_compressed_texture_pvrtc"),null===x)return null;if(_===Qu)return x.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(_===ph)return x.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(_===gu)return x.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(_===ec)return x.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(_===mh)return x=l.get("WEBGL_compressed_texture_etc1"),null!==x?x.COMPRESSED_RGB_ETC1_WEBGL:null;if((_===mf||_===qo)&&(x=l.get("WEBGL_compressed_texture_etc"),null!==x)){if(_===mf)return x.COMPRESSED_RGB8_ETC2;if(_===qo)return x.COMPRESSED_RGBA8_ETC2_EAC}return _===Oc||_===gh||_===tc||_===eo||_===Gl||_===Ao||_===vh||_===wp||_===Zi||_===Ur||_===kc||_===Mp||_===on||_===fl||_===Ni||_===bd||_===vu||_===Rs||_===$l||_===Ea||_===gg||_===gf||_===vg||_===Ll||_===Ly||_===wd||_===Sp||_===yg?(x=l.get("WEBGL_compressed_texture_astc"),null!==x?_:null):_===qr?(x=l.get("EXT_texture_compression_bptc"),null!==x?_:null):_===nr?m?34042:(x=l.get("WEBGL_depth_texture"),null!==x?x.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function jg(f=[]){rs.call(this),this.cameras=f}f0.prototype.isMeshDistanceMaterial=!0,jg.prototype=Object.assign(Object.create(rs.prototype),{constructor:jg,isArrayCamera:!0});class Wp extends Xr{constructor(){super(),this.type="Group"}}function Wg(){this._targetRay=null,this._grip=null,this._hand=null}function uD(f,l){const d=this;let m=null,v=1,_=null,x="local-floor",D=null;const L=[],k=new Map,U=new rs;U.layers.enable(1),U.viewport=new Ti;const H=new rs;H.layers.enable(2),H.viewport=new Ti;const V=[U,H],Y=new jg;Y.layers.enable(1),Y.layers.enable(2);let J=null,te=null;function se(at){const jt=k.get(at.inputSource);jt&&jt.dispatchEvent({type:at.type,data:at.inputSource})}function oe(){k.forEach(function(at,jt){at.disconnect(jt)}),k.clear(),J=null,te=null,f.setFramebuffer(null),f.setRenderTarget(f.getRenderTarget()),Mt.stop(),d.isPresenting=!1,d.dispatchEvent({type:"sessionend"})}function K(at){const jt=m.inputSources;for(let en=0;en<L.length;en++)k.set(jt[en],L[en]);for(let en=0;en<at.removed.length;en++){const Ut=at.removed[en],Tt=k.get(Ut);Tt&&(Tt.dispatchEvent({type:"disconnected",data:Ut}),k.delete(Ut))}for(let en=0;en<at.added.length;en++){const Ut=at.added[en],Tt=k.get(Ut);Tt&&Tt.dispatchEvent({type:"connected",data:Ut})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(at){let jt=L[at];return void 0===jt&&(jt=new Wg,L[at]=jt),jt.getTargetRaySpace()},this.getControllerGrip=function(at){let jt=L[at];return void 0===jt&&(jt=new Wg,L[at]=jt),jt.getGripSpace()},this.getHand=function(at){let jt=L[at];return void 0===jt&&(jt=new Wg,L[at]=jt),jt.getHandSpace()},this.setFramebufferScaleFactor=function(at){v=at,!0===d.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(at){x=at,!0===d.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return _},this.getSession=function(){return m},this.setSession=function(){var at=(0,O.Z)(function*(jt){if(m=jt,null!==m){m.addEventListener("select",se),m.addEventListener("selectstart",se),m.addEventListener("selectend",se),m.addEventListener("squeeze",se),m.addEventListener("squeezestart",se),m.addEventListener("squeezeend",se),m.addEventListener("end",oe),m.addEventListener("inputsourceschange",K);const en=l.getContextAttributes();!0!==en.xrCompatible&&(yield l.makeXRCompatible());const Tt=new XRWebGLLayer(m,l,{antialias:en.antialias,alpha:en.alpha,depth:en.depth,stencil:en.stencil,framebufferScaleFactor:v});m.updateRenderState({baseLayer:Tt}),_=yield m.requestReferenceSpace(x),Mt.setContext(m),Mt.start(),d.isPresenting=!0,d.dispatchEvent({type:"sessionstart"})}});return function(jt){return at.apply(this,arguments)}}();const De=new Ee,Ce=new Ee;function Se(at,jt){null===jt?at.matrixWorld.copy(at.matrix):at.matrixWorld.multiplyMatrices(jt.matrixWorld,at.matrix),at.matrixWorldInverse.copy(at.matrixWorld).invert()}this.getCamera=function(at){Y.near=H.near=U.near=at.near,Y.far=H.far=U.far=at.far,(J!==Y.near||te!==Y.far)&&(m.updateRenderState({depthNear:Y.near,depthFar:Y.far}),J=Y.near,te=Y.far);const jt=at.parent,en=Y.cameras;Se(Y,jt);for(let Tt=0;Tt<en.length;Tt++)Se(en[Tt],jt);at.matrixWorld.copy(Y.matrixWorld),at.matrix.copy(Y.matrix),at.matrix.decompose(at.position,at.quaternion,at.scale);const Ut=at.children;for(let Tt=0,Wt=Ut.length;Tt<Wt;Tt++)Ut[Tt].updateMatrixWorld(!0);return 2===en.length?function Ve(at,jt,en){De.setFromMatrixPosition(jt.matrixWorld),Ce.setFromMatrixPosition(en.matrixWorld);const Ut=De.distanceTo(Ce),Tt=jt.projectionMatrix.elements,Wt=en.projectionMatrix.elements,Yt=Tt[14]/(Tt[10]-1),zn=Tt[14]/(Tt[10]+1),$n=(Tt[9]+1)/Tt[5],Kn=(Tt[9]-1)/Tt[5],Ir=(Tt[8]-1)/Tt[0],Tr=(Wt[8]+1)/Wt[0],no=Yt*Ir,bi=Yt*Tr,ts=Ut/(-Ir+Tr),Lo=ts*-Ir;jt.matrixWorld.decompose(at.position,at.quaternion,at.scale),at.translateX(Lo),at.translateZ(ts),at.matrixWorld.compose(at.position,at.quaternion,at.scale),at.matrixWorldInverse.copy(at.matrixWorld).invert();const gn=Yt+ts,us=zn+ts;at.projectionMatrix.makePerspective(no-Lo,bi+(Ut-Lo),$n*zn/us*gn,Kn*zn/us*gn,gn,us)}(Y,U,H):Y.projectionMatrix.copy(U.projectionMatrix),Y};let nt=null;const Mt=new Hp;Mt.setAnimationLoop(function Dt(at,jt){if(D=jt.getViewerPose(_),null!==D){const Ut=D.views,Tt=m.renderState.baseLayer;f.setFramebuffer(Tt.framebuffer);let Wt=!1;Ut.length!==Y.cameras.length&&(Y.cameras.length=0,Wt=!0);for(let Yt=0;Yt<Ut.length;Yt++){const zn=Ut[Yt],$n=Tt.getViewport(zn),Kn=V[Yt];Kn.matrix.fromArray(zn.transform.matrix),Kn.projectionMatrix.fromArray(zn.projectionMatrix),Kn.viewport.set($n.x,$n.y,$n.width,$n.height),0===Yt&&Y.matrix.copy(Kn.matrix),!0===Wt&&Y.cameras.push(Kn)}}const en=m.inputSources;for(let Ut=0;Ut<L.length;Ut++)L[Ut].update(en[Ut],jt,_);nt&&nt(at,jt)}),this.setAnimationLoop=function(at){nt=at},this.dispose=function(){}}function cD(f){function m(oe,K){oe.opacity.value=K.opacity,K.color&&oe.diffuse.value.copy(K.color),K.emissive&&oe.emissive.value.copy(K.emissive).multiplyScalar(K.emissiveIntensity),K.map&&(oe.map.value=K.map),K.alphaMap&&(oe.alphaMap.value=K.alphaMap),K.specularMap&&(oe.specularMap.value=K.specularMap);const De=f.get(K).envMap;if(De){oe.envMap.value=De,oe.flipEnvMap.value=De.isCubeTexture&&De._needsFlipEnvMap?-1:1,oe.reflectivity.value=K.reflectivity,oe.refractionRatio.value=K.refractionRatio;const Se=f.get(De).__maxMipLevel;void 0!==Se&&(oe.maxMipLevel.value=Se)}let Ce,Ve;K.lightMap&&(oe.lightMap.value=K.lightMap,oe.lightMapIntensity.value=K.lightMapIntensity),K.aoMap&&(oe.aoMap.value=K.aoMap,oe.aoMapIntensity.value=K.aoMapIntensity),K.map?Ce=K.map:K.specularMap?Ce=K.specularMap:K.displacementMap?Ce=K.displacementMap:K.normalMap?Ce=K.normalMap:K.bumpMap?Ce=K.bumpMap:K.roughnessMap?Ce=K.roughnessMap:K.metalnessMap?Ce=K.metalnessMap:K.alphaMap?Ce=K.alphaMap:K.emissiveMap?Ce=K.emissiveMap:K.clearcoatMap?Ce=K.clearcoatMap:K.clearcoatNormalMap?Ce=K.clearcoatNormalMap:K.clearcoatRoughnessMap&&(Ce=K.clearcoatRoughnessMap),void 0!==Ce&&(Ce.isWebGLRenderTarget&&(Ce=Ce.texture),!0===Ce.matrixAutoUpdate&&Ce.updateMatrix(),oe.uvTransform.value.copy(Ce.matrix)),K.aoMap?Ve=K.aoMap:K.lightMap&&(Ve=K.lightMap),void 0!==Ve&&(Ve.isWebGLRenderTarget&&(Ve=Ve.texture),!0===Ve.matrixAutoUpdate&&Ve.updateMatrix(),oe.uv2Transform.value.copy(Ve.matrix))}function H(oe,K){oe.roughness.value=K.roughness,oe.metalness.value=K.metalness,K.roughnessMap&&(oe.roughnessMap.value=K.roughnessMap),K.metalnessMap&&(oe.metalnessMap.value=K.metalnessMap),K.emissiveMap&&(oe.emissiveMap.value=K.emissiveMap),K.bumpMap&&(oe.bumpMap.value=K.bumpMap,oe.bumpScale.value=K.bumpScale,K.side===$&&(oe.bumpScale.value*=-1)),K.normalMap&&(oe.normalMap.value=K.normalMap,oe.normalScale.value.copy(K.normalScale),K.side===$&&oe.normalScale.value.negate()),K.displacementMap&&(oe.displacementMap.value=K.displacementMap,oe.displacementScale.value=K.displacementScale,oe.displacementBias.value=K.displacementBias),f.get(K).envMap&&(oe.envMapIntensity.value=K.envMapIntensity)}return{refreshFogUniforms:function l(oe,K){oe.fogColor.value.copy(K.color),K.isFog?(oe.fogNear.value=K.near,oe.fogFar.value=K.far):K.isFogExp2&&(oe.fogDensity.value=K.density)},refreshMaterialUniforms:function d(oe,K,De,Ce){K.isMeshBasicMaterial?m(oe,K):K.isMeshLambertMaterial?(m(oe,K),function L(oe,K){K.emissiveMap&&(oe.emissiveMap.value=K.emissiveMap)}(oe,K)):K.isMeshToonMaterial?(m(oe,K),function U(oe,K){K.gradientMap&&(oe.gradientMap.value=K.gradientMap),K.emissiveMap&&(oe.emissiveMap.value=K.emissiveMap),K.bumpMap&&(oe.bumpMap.value=K.bumpMap,oe.bumpScale.value=K.bumpScale,K.side===$&&(oe.bumpScale.value*=-1)),K.normalMap&&(oe.normalMap.value=K.normalMap,oe.normalScale.value.copy(K.normalScale),K.side===$&&oe.normalScale.value.negate()),K.displacementMap&&(oe.displacementMap.value=K.displacementMap,oe.displacementScale.value=K.displacementScale,oe.displacementBias.value=K.displacementBias)}(oe,K)):K.isMeshPhongMaterial?(m(oe,K),function k(oe,K){oe.specular.value.copy(K.specular),oe.shininess.value=Math.max(K.shininess,1e-4),K.emissiveMap&&(oe.emissiveMap.value=K.emissiveMap),K.bumpMap&&(oe.bumpMap.value=K.bumpMap,oe.bumpScale.value=K.bumpScale,K.side===$&&(oe.bumpScale.value*=-1)),K.normalMap&&(oe.normalMap.value=K.normalMap,oe.normalScale.value.copy(K.normalScale),K.side===$&&oe.normalScale.value.negate()),K.displacementMap&&(oe.displacementMap.value=K.displacementMap,oe.displacementScale.value=K.displacementScale,oe.displacementBias.value=K.displacementBias)}(oe,K)):K.isMeshStandardMaterial?(m(oe,K),K.isMeshPhysicalMaterial?function V(oe,K){H(oe,K),oe.reflectivity.value=K.reflectivity,oe.clearcoat.value=K.clearcoat,oe.clearcoatRoughness.value=K.clearcoatRoughness,K.sheen&&oe.sheen.value.copy(K.sheen),K.clearcoatMap&&(oe.clearcoatMap.value=K.clearcoatMap),K.clearcoatRoughnessMap&&(oe.clearcoatRoughnessMap.value=K.clearcoatRoughnessMap),K.clearcoatNormalMap&&(oe.clearcoatNormalScale.value.copy(K.clearcoatNormalScale),oe.clearcoatNormalMap.value=K.clearcoatNormalMap,K.side===$&&oe.clearcoatNormalScale.value.negate()),oe.transmission.value=K.transmission,K.transmissionMap&&(oe.transmissionMap.value=K.transmissionMap)}(oe,K):H(oe,K)):K.isMeshMatcapMaterial?(m(oe,K),function Y(oe,K){K.matcap&&(oe.matcap.value=K.matcap),K.bumpMap&&(oe.bumpMap.value=K.bumpMap,oe.bumpScale.value=K.bumpScale,K.side===$&&(oe.bumpScale.value*=-1)),K.normalMap&&(oe.normalMap.value=K.normalMap,oe.normalScale.value.copy(K.normalScale),K.side===$&&oe.normalScale.value.negate()),K.displacementMap&&(oe.displacementMap.value=K.displacementMap,oe.displacementScale.value=K.displacementScale,oe.displacementBias.value=K.displacementBias)}(oe,K)):K.isMeshDepthMaterial?(m(oe,K),function J(oe,K){K.displacementMap&&(oe.displacementMap.value=K.displacementMap,oe.displacementScale.value=K.displacementScale,oe.displacementBias.value=K.displacementBias)}(oe,K)):K.isMeshDistanceMaterial?(m(oe,K),function te(oe,K){K.displacementMap&&(oe.displacementMap.value=K.displacementMap,oe.displacementScale.value=K.displacementScale,oe.displacementBias.value=K.displacementBias),oe.referencePosition.value.copy(K.referencePosition),oe.nearDistance.value=K.nearDistance,oe.farDistance.value=K.farDistance}(oe,K)):K.isMeshNormalMaterial?(m(oe,K),function se(oe,K){K.bumpMap&&(oe.bumpMap.value=K.bumpMap,oe.bumpScale.value=K.bumpScale,K.side===$&&(oe.bumpScale.value*=-1)),K.normalMap&&(oe.normalMap.value=K.normalMap,oe.normalScale.value.copy(K.normalScale),K.side===$&&oe.normalScale.value.negate()),K.displacementMap&&(oe.displacementMap.value=K.displacementMap,oe.displacementScale.value=K.displacementScale,oe.displacementBias.value=K.displacementBias)}(oe,K)):K.isLineBasicMaterial?(function v(oe,K){oe.diffuse.value.copy(K.color),oe.opacity.value=K.opacity}(oe,K),K.isLineDashedMaterial&&function _(oe,K){oe.dashSize.value=K.dashSize,oe.totalSize.value=K.dashSize+K.gapSize,oe.scale.value=K.scale}(oe,K)):K.isPointsMaterial?function x(oe,K,De,Ce){let Ve;oe.diffuse.value.copy(K.color),oe.opacity.value=K.opacity,oe.size.value=K.size*De,oe.scale.value=.5*Ce,K.map&&(oe.map.value=K.map),K.alphaMap&&(oe.alphaMap.value=K.alphaMap),K.map?Ve=K.map:K.alphaMap&&(Ve=K.alphaMap),void 0!==Ve&&(!0===Ve.matrixAutoUpdate&&Ve.updateMatrix(),oe.uvTransform.value.copy(Ve.matrix))}(oe,K,De,Ce):K.isSpriteMaterial?function D(oe,K){let De;oe.diffuse.value.copy(K.color),oe.opacity.value=K.opacity,oe.rotation.value=K.rotation,K.map&&(oe.map.value=K.map),K.alphaMap&&(oe.alphaMap.value=K.alphaMap),K.map?De=K.map:K.alphaMap&&(De=K.alphaMap),void 0!==De&&(!0===De.matrixAutoUpdate&&De.updateMatrix(),oe.uvTransform.value.copy(De.matrix))}(oe,K):K.isShadowMaterial?(oe.color.value.copy(K.color),oe.opacity.value=K.opacity):K.isShaderMaterial&&(K.uniformsNeedUpdate=!1)}}}function es(f){const l=void 0!==(f=f||{}).canvas?f.canvas:function P8(){const f=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return f.style.display="block",f}(),d=void 0!==f.context?f.context:null,m=void 0!==f.alpha&&f.alpha,v=void 0===f.depth||f.depth,_=void 0===f.stencil||f.stencil,x=void 0!==f.antialias&&f.antialias,D=void 0===f.premultipliedAlpha||f.premultipliedAlpha,L=void 0!==f.preserveDrawingBuffer&&f.preserveDrawingBuffer,k=void 0!==f.powerPreference?f.powerPreference:"default",U=void 0!==f.failIfMajorPerformanceCaveat&&f.failIfMajorPerformanceCaveat;let H=null,V=null;const Y=[],J=[];this.domElement=l,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=yn,this.physicallyCorrectLights=!1,this.toneMapping=di,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const te=this;let se=!1,oe=null,K=0,De=0,Ce=null,Ve=null,Se=-1,nt=null;const Dt=new Ti,Mt=new Ti;let at=null,jt=l.width,en=l.height,Ut=1,Tt=null,Wt=null;const Yt=new Ti(0,0,jt,en),zn=new Ti(0,0,jt,en);let $n=!1;const Kn=new Od;let Ir=!1,Tr=!1;const no=new Hr,bi=new Ee,ts={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Lo(){return null===Ce?Ut:1}let Mo,Po,xi,Uo,Fn,Zn,or,hr,Cr,et,$e,wn,kn,xt,Gn,rr,Ar,jn,Qr,oi,$r,gn=d;function us(Ue,rn){for(let Jt=0;Jt<Ue.length;Jt++){const sr=l.getContext(Ue[Jt],rn);if(null!==sr)return sr}return null}try{const Ue={alpha:m,depth:v,stencil:_,antialias:x,premultipliedAlpha:D,preserveDrawingBuffer:L,powerPreference:k,failIfMajorPerformanceCaveat:U};if(l.addEventListener("webglcontextlost",Ls,!1),l.addEventListener("webglcontextrestored",gA,!1),null===gn){const rn=["webgl2","webgl","experimental-webgl"];if(!0===te.isWebGL1Renderer&&rn.shift(),gn=us(rn,Ue),null===gn)throw us(rn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===gn.getShaderPrecisionFormat&&(gn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ue){throw console.error("THREE.WebGLRenderer: "+Ue.message),Ue}function ni(){Mo=new NR(gn),Po=new w2(gn,Mo,f),Mo.init(Po),oi=new lD(gn,Mo,Po),xi=new K2(gn,Mo,Po),xi.scissor(Mt.copy(zn).multiplyScalar(Ut).floor()),xi.viewport(Dt.copy(Yt).multiplyScalar(Ut).floor()),Uo=new C8(gn),Fn=new rD,Zn=new Z2(gn,Mo,xi,Fn,Po,oi,Uo),or=new r0(te),hr=new tC(gn,Po),$r=new x8(gn,Mo,hr,Po),Cr=new S2(gn,hr,Uo,$r),et=new x2(gn,Cr,hr,Uo),Ar=new vC(gn),Gn=new M2(Fn),$e=new OC(te,or,Mo,Po,$r,Gn),wn=new cD(Fn),kn=new kC(Fn),xt=new IC(Mo,Po),rr=new _2(te,or,xi,et,D),jn=new b2(gn,Mo,Uo,Po),Qr=new FR(gn,Mo,Uo,Po),Uo.programs=$e.programs,te.capabilities=Po,te.extensions=Mo,te.properties=Fn,te.renderLists=kn,te.state=xi,te.info=Uo}ni();const Nr=new uD(te,gn);this.xr=Nr;const Fi=new aD(te,et,Po.maxTextureSize);function Ls(Ue){Ue.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),se=!0}function gA(){console.log("THREE.WebGLRenderer: Context Restored."),se=!1,ni()}function vA(Ue){const rn=Ue.target;rn.removeEventListener("dispose",vA),function Wd(Ue){gc(Ue),Fn.remove(Ue)}(rn)}function gc(Ue){const rn=Fn.get(Ue).program;void 0!==rn&&$e.releaseProgram(rn)}this.shadowMap=Fi,this.getContext=function(){return gn},this.getContextAttributes=function(){return gn.getContextAttributes()},this.forceContextLoss=function(){const Ue=Mo.get("WEBGL_lose_context");Ue&&Ue.loseContext()},this.forceContextRestore=function(){const Ue=Mo.get("WEBGL_lose_context");Ue&&Ue.restoreContext()},this.getPixelRatio=function(){return Ut},this.setPixelRatio=function(Ue){void 0!==Ue&&(Ut=Ue,this.setSize(jt,en,!1))},this.getSize=function(Ue){return void 0===Ue&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Ue=new _n),Ue.set(jt,en)},this.setSize=function(Ue,rn,Jt){Nr.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(jt=Ue,en=rn,l.width=Math.floor(Ue*Ut),l.height=Math.floor(rn*Ut),!1!==Jt&&(l.style.width=Ue+"px",l.style.height=rn+"px"),this.setViewport(0,0,Ue,rn))},this.getDrawingBufferSize=function(Ue){return void 0===Ue&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Ue=new _n),Ue.set(jt*Ut,en*Ut).floor()},this.setDrawingBufferSize=function(Ue,rn,Jt){jt=Ue,en=rn,Ut=Jt,l.width=Math.floor(Ue*Jt),l.height=Math.floor(rn*Jt),this.setViewport(0,0,Ue,rn)},this.getCurrentViewport=function(Ue){return void 0===Ue&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Ue=new Ti),Ue.copy(Dt)},this.getViewport=function(Ue){return Ue.copy(Yt)},this.setViewport=function(Ue,rn,Jt,sn){Ue.isVector4?Yt.set(Ue.x,Ue.y,Ue.z,Ue.w):Yt.set(Ue,rn,Jt,sn),xi.viewport(Dt.copy(Yt).multiplyScalar(Ut).floor())},this.getScissor=function(Ue){return Ue.copy(zn)},this.setScissor=function(Ue,rn,Jt,sn){Ue.isVector4?zn.set(Ue.x,Ue.y,Ue.z,Ue.w):zn.set(Ue,rn,Jt,sn),xi.scissor(Mt.copy(zn).multiplyScalar(Ut).floor())},this.getScissorTest=function(){return $n},this.setScissorTest=function(Ue){xi.setScissorTest($n=Ue)},this.setOpaqueSort=function(Ue){Tt=Ue},this.setTransparentSort=function(Ue){Wt=Ue},this.getClearColor=function(Ue){return void 0===Ue&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),Ue=new dr),Ue.copy(rr.getClearColor())},this.setClearColor=function(){rr.setClearColor.apply(rr,arguments)},this.getClearAlpha=function(){return rr.getClearAlpha()},this.setClearAlpha=function(){rr.setClearAlpha.apply(rr,arguments)},this.clear=function(Ue,rn,Jt){let sn=0;(void 0===Ue||Ue)&&(sn|=16384),(void 0===rn||rn)&&(sn|=256),(void 0===Jt||Jt)&&(sn|=1024),gn.clear(sn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){l.removeEventListener("webglcontextlost",Ls,!1),l.removeEventListener("webglcontextrestored",gA,!1),kn.dispose(),xt.dispose(),Fn.dispose(),or.dispose(),et.dispose(),$r.dispose(),Nr.dispose(),W_.stop()},this.renderBufferImmediate=function(Ue,rn){$r.initAttributes();const Jt=Fn.get(Ue);Ue.hasPositions&&!Jt.position&&(Jt.position=gn.createBuffer()),Ue.hasNormals&&!Jt.normal&&(Jt.normal=gn.createBuffer()),Ue.hasUvs&&!Jt.uv&&(Jt.uv=gn.createBuffer()),Ue.hasColors&&!Jt.color&&(Jt.color=gn.createBuffer());const sn=rn.getAttributes();Ue.hasPositions&&(gn.bindBuffer(34962,Jt.position),gn.bufferData(34962,Ue.positionArray,35048),$r.enableAttribute(sn.position),gn.vertexAttribPointer(sn.position,3,5126,!1,0,0)),Ue.hasNormals&&(gn.bindBuffer(34962,Jt.normal),gn.bufferData(34962,Ue.normalArray,35048),$r.enableAttribute(sn.normal),gn.vertexAttribPointer(sn.normal,3,5126,!1,0,0)),Ue.hasUvs&&(gn.bindBuffer(34962,Jt.uv),gn.bufferData(34962,Ue.uvArray,35048),$r.enableAttribute(sn.uv),gn.vertexAttribPointer(sn.uv,2,5126,!1,0,0)),Ue.hasColors&&(gn.bindBuffer(34962,Jt.color),gn.bufferData(34962,Ue.colorArray,35048),$r.enableAttribute(sn.color),gn.vertexAttribPointer(sn.color,3,5126,!1,0,0)),$r.disableUnusedAttributes(),gn.drawArrays(4,0,Ue.count),Ue.count=0},this.renderBufferDirect=function(Ue,rn,Jt,sn,sr,so){null===rn&&(rn=ts);const Cn=sr.isMesh&&sr.matrixWorld.determinant()<0,Di=Tv(Ue,rn,sn,sr);xi.setMaterial(sn,Cn);let jr=Jt.index;const Ps=Jt.attributes.position;if(null===jr){if(void 0===Ps||0===Ps.count)return}else if(0===jr.count)return;let is=1;!0===sn.wireframe&&(jr=Cr.getWireframeAttribute(Jt),is=2),(sn.morphTargets||sn.morphNormals)&&Ar.update(sr,Jt,sn,Di),$r.setup(sr,sn,Di,Jt,jr);let Ai,jo=jn;null!==jr&&(Ai=hr.get(jr),jo=Qr,jo.setIndex(Ai));const vc=null!==jr?jr.count:Ps.count,os=Jt.drawRange.start*is,Yd=Jt.drawRange.count*is,ya=null!==so?so.start*is:0,kE=null!==so?so.count*is:1/0,lu=Math.max(os,ya),Y_=Math.min(vc,os+Yd,ya+kE)-1,Rv=Math.max(0,Y_-lu+1);if(0!==Rv){if(sr.isMesh)!0===sn.wireframe?(xi.setLineWidth(sn.wireframeLinewidth*Lo()),jo.setMode(1)):jo.setMode(4);else if(sr.isLine){let G_=sn.linewidth;void 0===G_&&(G_=1),xi.setLineWidth(G_*Lo()),jo.setMode(sr.isLineSegments?1:sr.isLineLoop?2:3)}else sr.isPoints?jo.setMode(0):sr.isSprite&&jo.setMode(4);if(sr.isInstancedMesh)jo.renderInstances(lu,Rv,sr.count);else if(Jt.isInstancedBufferGeometry){const G_=Math.min(Jt.instanceCount,Jt._maxInstanceCount);jo.renderInstances(lu,Rv,G_)}else jo.render(lu,Rv)}},this.compile=function(Ue,rn){V=xt.get(Ue),V.init(),Ue.traverseVisible(function(sn){sn.isLight&&sn.layers.test(rn.layers)&&(V.pushLight(sn),sn.castShadow&&V.pushShadow(sn))}),V.setupLights();const Jt=new WeakMap;Ue.traverse(function(sn){const sr=sn.material;if(sr)if(Array.isArray(sr))for(let so=0;so<sr.length;so++){const Cn=sr[so];!1===Jt.has(Cn)&&(nd(Cn,Ue,sn),Jt.set(Cn))}else!1===Jt.has(sr)&&(nd(sr,Ue,sn),Jt.set(sr))})};let MM=null;const W_=new Hp;function _A(Ue,rn,Jt,sn){if(!1===Ue.visible)return;if(Ue.layers.test(rn.layers))if(Ue.isGroup)Jt=Ue.renderOrder;else if(Ue.isLOD)!0===Ue.autoUpdate&&Ue.update(rn);else if(Ue.isLight)V.pushLight(Ue),Ue.castShadow&&V.pushShadow(Ue);else if(Ue.isSprite){if(!Ue.frustumCulled||Kn.intersectsSprite(Ue)){sn&&bi.setFromMatrixPosition(Ue.matrixWorld).applyMatrix4(no);const Cn=et.update(Ue),Di=Ue.material;Di.visible&&H.push(Ue,Cn,Di,Jt,bi.z,null)}}else if(Ue.isImmediateRenderObject)sn&&bi.setFromMatrixPosition(Ue.matrixWorld).applyMatrix4(no),H.push(Ue,null,Ue.material,Jt,bi.z,null);else if((Ue.isMesh||Ue.isLine||Ue.isPoints)&&(Ue.isSkinnedMesh&&Ue.skeleton.frame!==Uo.render.frame&&(Ue.skeleton.update(),Ue.skeleton.frame=Uo.render.frame),!Ue.frustumCulled||Kn.intersectsObject(Ue))){sn&&bi.setFromMatrixPosition(Ue.matrixWorld).applyMatrix4(no);const Cn=et.update(Ue),Di=Ue.material;if(Array.isArray(Di)){const jr=Cn.groups;for(let Ps=0,is=jr.length;Ps<is;Ps++){const Ai=jr[Ps],jo=Di[Ai.materialIndex];jo&&jo.visible&&H.push(Ue,Cn,jo,Jt,bi.z,Ai)}}else Di.visible&&H.push(Ue,Cn,Di,Jt,bi.z,null)}const so=Ue.children;for(let Cn=0,Di=so.length;Cn<Di;Cn++)_A(so[Cn],rn,Jt,sn)}function bA(Ue,rn,Jt){const sn=!0===rn.isScene?rn.overrideMaterial:null;for(let sr=0,so=Ue.length;sr<so;sr++){const Cn=Ue[sr],Di=Cn.object,jr=Cn.geometry,Ps=null===sn?Cn.material:sn,is=Cn.group;if(Jt.isArrayCamera){const Ai=Jt.cameras;for(let jo=0,vc=Ai.length;jo<vc;jo++){const os=Ai[jo];Di.layers.test(os.layers)&&(xi.viewport(Dt.copy(os.viewport)),V.setupLightsView(os),wA(Di,rn,os,jr,Ps,is))}}else wA(Di,rn,Jt,jr,Ps,is)}}function wA(Ue,rn,Jt,sn,sr,so){if(Ue.onBeforeRender(te,rn,Jt,sn,sr,so),Ue.modelViewMatrix.multiplyMatrices(Jt.matrixWorldInverse,Ue.matrixWorld),Ue.normalMatrix.getNormalMatrix(Ue.modelViewMatrix),Ue.isImmediateRenderObject){const Cn=Tv(Jt,rn,sr,Ue);xi.setMaterial(sr),$r.reset(),function td(Ue,rn){Ue.render(function(Jt){te.renderBufferImmediate(Jt,rn)})}(Ue,Cn)}else te.renderBufferDirect(Jt,rn,sn,sr,Ue,so);Ue.onAfterRender(te,rn,Jt,sn,sr,so)}function nd(Ue,rn,Jt){!0!==rn.isScene&&(rn=ts);const sn=Fn.get(Ue),sr=V.state.lights,Cn=sr.state.version,Di=$e.getParameters(Ue,sr.state,V.state.shadowsArray,rn,Jt),jr=$e.getProgramCacheKey(Di);let Ps=sn.program,is=!0;if(sn.environment=Ue.isMeshStandardMaterial?rn.environment:null,sn.fog=rn.fog,sn.envMap=or.get(Ue.envMap||sn.environment),void 0===Ps)Ue.addEventListener("dispose",vA);else if(Ps.cacheKey!==jr)gc(Ue);else if(sn.lightsStateVersion!==Cn)is=!1;else{if(void 0!==Di.shaderID)return;is=!1}is&&(Di.uniforms=$e.getUniforms(Ue),Ue.onBeforeCompile(Di,te),Ps=$e.acquireProgram(Di,jr),sn.program=Ps,sn.uniforms=Di.uniforms,sn.outputEncoding=Di.outputEncoding);const Ai=sn.uniforms;(!Ue.isShaderMaterial&&!Ue.isRawShaderMaterial||!0===Ue.clipping)&&(sn.numClippingPlanes=Gn.numPlanes,sn.numIntersection=Gn.numIntersection,Ai.clippingPlanes=Gn.uniform),sn.needsLights=function MA(Ue){return Ue.isMeshLambertMaterial||Ue.isMeshToonMaterial||Ue.isMeshPhongMaterial||Ue.isMeshStandardMaterial||Ue.isShadowMaterial||Ue.isShaderMaterial&&!0===Ue.lights}(Ue),sn.lightsStateVersion=Cn,sn.needsLights&&(Ai.ambientLightColor.value=sr.state.ambient,Ai.lightProbe.value=sr.state.probe,Ai.directionalLights.value=sr.state.directional,Ai.directionalLightShadows.value=sr.state.directionalShadow,Ai.spotLights.value=sr.state.spot,Ai.spotLightShadows.value=sr.state.spotShadow,Ai.rectAreaLights.value=sr.state.rectArea,Ai.ltc_1.value=sr.state.rectAreaLTC1,Ai.ltc_2.value=sr.state.rectAreaLTC2,Ai.pointLights.value=sr.state.point,Ai.pointLightShadows.value=sr.state.pointShadow,Ai.hemisphereLights.value=sr.state.hemi,Ai.directionalShadowMap.value=sr.state.directionalShadowMap,Ai.directionalShadowMatrix.value=sr.state.directionalShadowMatrix,Ai.spotShadowMap.value=sr.state.spotShadowMap,Ai.spotShadowMatrix.value=sr.state.spotShadowMatrix,Ai.pointShadowMap.value=sr.state.pointShadowMap,Ai.pointShadowMatrix.value=sr.state.pointShadowMatrix);const jo=sn.program.getUniforms(),vc=Of.seqWithValue(jo.seq,Ai);sn.uniformsList=vc}function Tv(Ue,rn,Jt,sn){!0!==rn.isScene&&(rn=ts),Zn.resetTextureUnits();const sr=rn.fog,so=Jt.isMeshStandardMaterial?rn.environment:null,Cn=null===Ce?te.outputEncoding:Ce.texture.encoding,Di=or.get(Jt.envMap||so),jr=Fn.get(Jt),Ps=V.state.lights;!0!==Ir||!0!==Tr&&Ue===nt||Gn.setState(Jt,Ue,Ue===nt&&Jt.id===Se),Jt.version===jr.__version?(Jt.fog&&jr.fog!==sr||jr.environment!==so||jr.needsLights&&jr.lightsStateVersion!==Ps.state.version||void 0!==jr.numClippingPlanes&&(jr.numClippingPlanes!==Gn.numPlanes||jr.numIntersection!==Gn.numIntersection)||jr.outputEncoding!==Cn||jr.envMap!==Di)&&nd(Jt,rn,sn):(nd(Jt,rn,sn),jr.__version=Jt.version);let is=!1,Ai=!1,jo=!1;const vc=jr.program,os=vc.getUniforms(),Yd=jr.uniforms;if(xi.useProgram(vc.program)&&(is=!0,Ai=!0,jo=!0),Jt.id!==Se&&(Se=Jt.id,Ai=!0),is||nt!==Ue){if(os.setValue(gn,"projectionMatrix",Ue.projectionMatrix),Po.logarithmicDepthBuffer&&os.setValue(gn,"logDepthBufFC",2/(Math.log(Ue.far+1)/Math.LN2)),nt!==Ue&&(nt=Ue,Ai=!0,jo=!0),Jt.isShaderMaterial||Jt.isMeshPhongMaterial||Jt.isMeshToonMaterial||Jt.isMeshStandardMaterial||Jt.envMap){const ya=os.map.cameraPosition;void 0!==ya&&ya.setValue(gn,bi.setFromMatrixPosition(Ue.matrixWorld))}(Jt.isMeshPhongMaterial||Jt.isMeshToonMaterial||Jt.isMeshLambertMaterial||Jt.isMeshBasicMaterial||Jt.isMeshStandardMaterial||Jt.isShaderMaterial)&&os.setValue(gn,"isOrthographic",!0===Ue.isOrthographicCamera),(Jt.isMeshPhongMaterial||Jt.isMeshToonMaterial||Jt.isMeshLambertMaterial||Jt.isMeshBasicMaterial||Jt.isMeshStandardMaterial||Jt.isShaderMaterial||Jt.isShadowMaterial||Jt.skinning)&&os.setValue(gn,"viewMatrix",Ue.matrixWorldInverse)}if(Jt.skinning){os.setOptional(gn,sn,"bindMatrix"),os.setOptional(gn,sn,"bindMatrixInverse");const ya=sn.skeleton;if(ya){const kE=ya.bones;if(Po.floatVertexTextures){if(null===ya.boneTexture){let lu=Math.sqrt(4*kE.length);lu=Dr.ceilPowerOfTwo(lu),lu=Math.max(lu,4);const Y_=new Float32Array(lu*lu*4);Y_.set(ya.boneMatrices);const Rv=new Yc(Y_,lu,lu,$o,Yl);ya.boneMatrices=Y_,ya.boneTexture=Rv,ya.boneTextureSize=lu}os.setValue(gn,"boneTexture",ya.boneTexture,Zn),os.setValue(gn,"boneTextureSize",ya.boneTextureSize)}else os.setOptional(gn,ya,"boneMatrices")}}return(Ai||jr.receiveShadow!==sn.receiveShadow)&&(jr.receiveShadow=sn.receiveShadow,os.setValue(gn,"receiveShadow",sn.receiveShadow)),Ai&&(os.setValue(gn,"toneMappingExposure",te.toneMappingExposure),jr.needsLights&&function jF(Ue,rn){Ue.ambientLightColor.needsUpdate=rn,Ue.lightProbe.needsUpdate=rn,Ue.directionalLights.needsUpdate=rn,Ue.directionalLightShadows.needsUpdate=rn,Ue.pointLights.needsUpdate=rn,Ue.pointLightShadows.needsUpdate=rn,Ue.spotLights.needsUpdate=rn,Ue.spotLightShadows.needsUpdate=rn,Ue.rectAreaLights.needsUpdate=rn,Ue.hemisphereLights.needsUpdate=rn}(Yd,jo),sr&&Jt.fog&&wn.refreshFogUniforms(Yd,sr),wn.refreshMaterialUniforms(Yd,Jt,Ut,en),Of.upload(gn,jr.uniformsList,Yd,Zn)),Jt.isShaderMaterial&&!0===Jt.uniformsNeedUpdate&&(Of.upload(gn,jr.uniformsList,Yd,Zn),Jt.uniformsNeedUpdate=!1),Jt.isSpriteMaterial&&os.setValue(gn,"center",sn.center),os.setValue(gn,"modelViewMatrix",sn.modelViewMatrix),os.setValue(gn,"normalMatrix",sn.normalMatrix),os.setValue(gn,"modelMatrix",sn.matrixWorld),vc}W_.setAnimationLoop(function yA(Ue){Nr.isPresenting||MM&&MM(Ue)}),"undefined"!=typeof window&&W_.setContext(window),this.setAnimationLoop=function(Ue){MM=Ue,Nr.setAnimationLoop(Ue),null===Ue?W_.stop():W_.start()},this.render=function(Ue,rn){let Jt,sn;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Jt=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),sn=arguments[3]),void 0!==rn&&!0!==rn.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===se)return;$r.resetDefaultState(),Se=-1,nt=null,!0===Ue.autoUpdate&&Ue.updateMatrixWorld(),null===rn.parent&&rn.updateMatrixWorld(),!0===Nr.enabled&&!0===Nr.isPresenting&&(rn=Nr.getCamera(rn)),!0===Ue.isScene&&Ue.onBeforeRender(te,Ue,rn,Jt||Ce),V=xt.get(Ue,J.length),V.init(),J.push(V),no.multiplyMatrices(rn.projectionMatrix,rn.matrixWorldInverse),Kn.setFromProjectionMatrix(no),Tr=this.localClippingEnabled,Ir=Gn.init(this.clippingPlanes,Tr,rn),H=kn.get(Ue,Y.length),H.init(),Y.push(H),_A(Ue,rn,0,te.sortObjects),H.finish(),!0===te.sortObjects&&H.sort(Tt,Wt),!0===Ir&&Gn.beginShadows();const sr=V.state.shadowsArray;Fi.render(sr,Ue,rn),V.setupLights(),V.setupLightsView(rn),!0===Ir&&Gn.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==Jt&&this.setRenderTarget(Jt),rr.render(H,Ue,rn,sn);const so=H.opaque,Cn=H.transparent;so.length>0&&bA(so,Ue,rn),Cn.length>0&&bA(Cn,Ue,rn),!0===Ue.isScene&&Ue.onAfterRender(te,Ue,rn),null!==Ce&&(Zn.updateRenderTargetMipmap(Ce),Zn.updateMultisampleRenderTarget(Ce)),xi.buffers.depth.setTest(!0),xi.buffers.depth.setMask(!0),xi.buffers.color.setMask(!0),xi.setPolygonOffset(!1),J.pop(),V=J.length>0?J[J.length-1]:null,Y.pop(),H=Y.length>0?Y[Y.length-1]:null},this.setFramebuffer=function(Ue){oe!==Ue&&null===Ce&&gn.bindFramebuffer(36160,Ue),oe=Ue},this.getActiveCubeFace=function(){return K},this.getActiveMipmapLevel=function(){return De},this.getRenderTarget=function(){return Ce},this.setRenderTarget=function(Ue,rn=0,Jt=0){Ce=Ue,K=rn,De=Jt,Ue&&void 0===Fn.get(Ue).__webglFramebuffer&&Zn.setupRenderTarget(Ue);let sn=oe,sr=!1,so=!1;if(Ue){const Cn=Ue.texture;(Cn.isDataTexture3D||Cn.isDataTexture2DArray)&&(so=!0);const Di=Fn.get(Ue).__webglFramebuffer;Ue.isWebGLCubeRenderTarget?(sn=Di[rn],sr=!0):sn=Ue.isWebGLMultisampleRenderTarget?Fn.get(Ue).__webglMultisampledFramebuffer:Di,Dt.copy(Ue.viewport),Mt.copy(Ue.scissor),at=Ue.scissorTest}else Dt.copy(Yt).multiplyScalar(Ut).floor(),Mt.copy(zn).multiplyScalar(Ut).floor(),at=$n;if(Ve!==sn&&(gn.bindFramebuffer(36160,sn),Ve=sn),xi.viewport(Dt),xi.scissor(Mt),xi.setScissorTest(at),sr){const Cn=Fn.get(Ue.texture);gn.framebufferTexture2D(36160,36064,34069+rn,Cn.__webglTexture,Jt)}else if(so){const Cn=Fn.get(Ue.texture);gn.framebufferTextureLayer(36160,36064,Cn.__webglTexture,Jt||0,rn||0)}},this.readRenderTargetPixels=function(Ue,rn,Jt,sn,sr,so,Cn){if(!Ue||!Ue.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Di=Fn.get(Ue).__webglFramebuffer;if(Ue.isWebGLCubeRenderTarget&&void 0!==Cn&&(Di=Di[Cn]),Di){let jr=!1;Di!==Ve&&(gn.bindFramebuffer(36160,Di),jr=!0);try{const Ps=Ue.texture,is=Ps.format,Ai=Ps.type;if(is!==$o&&oi.convert(is)!==gn.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const jo=Ai===fs&&(Mo.has("EXT_color_buffer_half_float")||Po.isWebGL2&&Mo.has("EXT_color_buffer_float"));if(!(Ai===la||oi.convert(Ai)===gn.getParameter(35738)||Ai===Yl&&(Po.isWebGL2||Mo.has("OES_texture_float")||Mo.has("WEBGL_color_buffer_float"))||jo))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===gn.checkFramebufferStatus(36160)?rn>=0&&rn<=Ue.width-sn&&Jt>=0&&Jt<=Ue.height-sr&&gn.readPixels(rn,Jt,sn,sr,oi.convert(is),oi.convert(Ai),so):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{jr&&gn.bindFramebuffer(36160,Ve)}}},this.copyFramebufferToTexture=function(Ue,rn,Jt=0){const sn=Math.pow(2,-Jt),sr=Math.floor(rn.image.width*sn),so=Math.floor(rn.image.height*sn),Cn=oi.convert(rn.format);Zn.setTexture2D(rn,0),gn.copyTexImage2D(3553,Jt,Cn,Ue.x,Ue.y,sr,so,0),xi.unbindTexture()},this.copyTextureToTexture=function(Ue,rn,Jt,sn=0){const sr=rn.image.width,so=rn.image.height,Cn=oi.convert(Jt.format),Di=oi.convert(Jt.type);Zn.setTexture2D(Jt,0),gn.pixelStorei(37440,Jt.flipY),gn.pixelStorei(37441,Jt.premultiplyAlpha),gn.pixelStorei(3317,Jt.unpackAlignment),rn.isDataTexture?gn.texSubImage2D(3553,sn,Ue.x,Ue.y,sr,so,Cn,Di,rn.image.data):rn.isCompressedTexture?gn.compressedTexSubImage2D(3553,sn,Ue.x,Ue.y,rn.mipmaps[0].width,rn.mipmaps[0].height,Cn,rn.mipmaps[0].data):gn.texSubImage2D(3553,sn,Ue.x,Ue.y,Cn,Di,rn.image),0===sn&&Jt.generateMipmaps&&gn.generateMipmap(3553),xi.unbindTexture()},this.copyTextureToTexture3D=function(Ue,rn,Jt,sn,sr=0){if(te.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const{width:so,height:Cn,data:Di}=Jt.image,jr=oi.convert(sn.format),Ps=oi.convert(sn.type);let is;if(sn.isDataTexture3D)Zn.setTexture3D(sn,0),is=32879;else{if(!sn.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Zn.setTexture2DArray(sn,0),is=35866}gn.pixelStorei(37440,sn.flipY),gn.pixelStorei(37441,sn.premultiplyAlpha),gn.pixelStorei(3317,sn.unpackAlignment);const Ai=gn.getParameter(3314),jo=gn.getParameter(32878),vc=gn.getParameter(3316),os=gn.getParameter(3315),Yd=gn.getParameter(32877);gn.pixelStorei(3314,so),gn.pixelStorei(32878,Cn),gn.pixelStorei(3316,Ue.min.x),gn.pixelStorei(3315,Ue.min.y),gn.pixelStorei(32877,Ue.min.z),gn.texSubImage3D(is,sr,rn.x,rn.y,rn.z,Ue.max.x-Ue.min.x+1,Ue.max.y-Ue.min.y+1,Ue.max.z-Ue.min.z+1,jr,Ps,Di),gn.pixelStorei(3314,Ai),gn.pixelStorei(32878,jo),gn.pixelStorei(3316,vc),gn.pixelStorei(3315,os),gn.pixelStorei(32877,Yd),0===sr&&sn.generateMipmaps&&gn.generateMipmap(is),xi.unbindTexture()},this.initTexture=function(Ue){Zn.setTexture2D(Ue,0),xi.unbindTexture()},this.resetState=function(){xi.reset(),$r.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Wp.prototype.isGroup=!0,Object.assign(Wg.prototype,{constructor:Wg,getHandSpace:function(){return null===this._hand&&(this._hand=new Wp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Wp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Wp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(f){return null!==this._targetRay&&this._targetRay.dispatchEvent(f),null!==this._grip&&this._grip.dispatchEvent(f),null!==this._hand&&this._hand.dispatchEvent(f),this},disconnect:function(f){return this.dispatchEvent({type:"disconnected",data:f}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(f,l,d){let m=null,v=null,_=null;const x=this._targetRay,D=this._grip,L=this._hand;if(f&&"visible-blurred"!==l.session.visibilityState)if(L&&f.hand){_=!0;for(const J of f.hand.values()){const te=l.getJointPose(J,d);if(void 0===L.joints[J.jointName]){const oe=new Wp;oe.matrixAutoUpdate=!1,oe.visible=!1,L.joints[J.jointName]=oe,L.add(oe)}const se=L.joints[J.jointName];null!==te&&(se.matrix.fromArray(te.transform.matrix),se.matrix.decompose(se.position,se.rotation,se.scale),se.jointRadius=te.radius),se.visible=null!==te}const H=L.joints["index-finger-tip"].position.distanceTo(L.joints["thumb-tip"].position),V=.02,Y=.005;L.inputState.pinching&&H>V+Y?(L.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:f.handedness,target:this})):!L.inputState.pinching&&H<=V-Y&&(L.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:f.handedness,target:this}))}else null!==x&&(m=l.getPose(f.targetRaySpace,d),null!==m&&(x.matrix.fromArray(m.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale))),null!==D&&f.gripSpace&&(v=l.getPose(f.gripSpace,d),null!==v&&(D.matrix.fromArray(v.transform.matrix),D.matrix.decompose(D.position,D.rotation,D.scale)));return null!==x&&(x.visible=null!==m),null!==D&&(D.visible=null!==v),null!==L&&(L.visible=null!==_),this}}),Object.assign(uD.prototype,ji.prototype);class Lf extends es{}Lf.prototype.isWebGL1Renderer=!0;class u_{constructor(l,d){this.name="",this.color=new dr(l),this.density=void 0!==d?d:25e-5}clone(){return new u_(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}u_.prototype.isFogExp2=!0;class Pd{constructor(l,d,m){this.name="",this.color=new dr(l),this.near=void 0!==d?d:1,this.far=void 0!==m?m:1e3}clone(){return new Pd(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Pd.prototype.isFog=!0;class _i extends Xr{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(l,d){return super.copy(l,d),null!==l.background&&(this.background=l.background.clone()),null!==l.environment&&(this.environment=l.environment.clone()),null!==l.fog&&(this.fog=l.fog.clone()),null!==l.overrideMaterial&&(this.overrideMaterial=l.overrideMaterial.clone()),this.autoUpdate=l.autoUpdate,this.matrixAutoUpdate=l.matrixAutoUpdate,this}toJSON(l){const d=super.toJSON(l);return null!==this.background&&(d.object.background=this.background.toJSON(l)),null!==this.environment&&(d.object.environment=this.environment.toJSON(l)),null!==this.fog&&(d.object.fog=this.fog.toJSON()),d}}function nu(f,l){this.array=f,this.stride=l,this.count=void 0!==f?f.length/l:0,this.usage=Kl,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Dr.generateUUID()}_i.prototype.isScene=!0,Object.defineProperty(nu.prototype,"needsUpdate",{set:function(f){!0===f&&this.version++}}),Object.assign(nu.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(f){return this.usage=f,this},copy:function(f){return this.array=new f.array.constructor(f.array),this.count=f.count,this.stride=f.stride,this.usage=f.usage,this},copyAt:function(f,l,d){f*=this.stride,d*=l.stride;for(let m=0,v=this.stride;m<v;m++)this.array[f+m]=l.array[d+m];return this},set:function(f,l=0){return this.array.set(f,l),this},clone:function(f){void 0===f.arrayBuffers&&(f.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Dr.generateUUID()),void 0===f.arrayBuffers[this.array.buffer._uuid]&&(f.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const d=new nu(new this.array.constructor(f.arrayBuffers[this.array.buffer._uuid]),this.stride);return d.setUsage(this.usage),d},onUpload:function(f){return this.onUploadCallback=f,this},toJSON:function(f){return void 0===f.arrayBuffers&&(f.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Dr.generateUUID()),void 0===f.arrayBuffers[this.array.buffer._uuid]&&(f.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const Yg=new Ee;function hc(f,l,d,m){this.name="",this.data=f,this.itemSize=l,this.offset=d,this.normalized=!0===m}Object.defineProperties(hc.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(f){this.data.needsUpdate=f}}}),Object.assign(hc.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(f){for(let l=0,d=this.data.count;l<d;l++)Yg.x=this.getX(l),Yg.y=this.getY(l),Yg.z=this.getZ(l),Yg.applyMatrix4(f),this.setXYZ(l,Yg.x,Yg.y,Yg.z);return this},setX:function(f,l){return this.data.array[f*this.data.stride+this.offset]=l,this},setY:function(f,l){return this.data.array[f*this.data.stride+this.offset+1]=l,this},setZ:function(f,l){return this.data.array[f*this.data.stride+this.offset+2]=l,this},setW:function(f,l){return this.data.array[f*this.data.stride+this.offset+3]=l,this},getX:function(f){return this.data.array[f*this.data.stride+this.offset]},getY:function(f){return this.data.array[f*this.data.stride+this.offset+1]},getZ:function(f){return this.data.array[f*this.data.stride+this.offset+2]},getW:function(f){return this.data.array[f*this.data.stride+this.offset+3]},setXY:function(f,l,d){return this.data.array[(f=f*this.data.stride+this.offset)+0]=l,this.data.array[f+1]=d,this},setXYZ:function(f,l,d,m){return this.data.array[(f=f*this.data.stride+this.offset)+0]=l,this.data.array[f+1]=d,this.data.array[f+2]=m,this},setXYZW:function(f,l,d,m,v){return this.data.array[(f=f*this.data.stride+this.offset)+0]=l,this.data.array[f+1]=d,this.data.array[f+2]=m,this.data.array[f+3]=v,this},clone:function(f){if(void 0===f){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const l=[];for(let d=0;d<this.count;d++){const m=d*this.data.stride+this.offset;for(let v=0;v<this.itemSize;v++)l.push(this.data.array[m+v])}return new Kr(new this.array.constructor(l),this.itemSize,this.normalized)}return void 0===f.interleavedBuffers&&(f.interleavedBuffers={}),void 0===f.interleavedBuffers[this.data.uuid]&&(f.interleavedBuffers[this.data.uuid]=this.data.clone(f)),new hc(f.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(f){if(void 0===f){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const l=[];for(let d=0;d<this.count;d++){const m=d*this.data.stride+this.offset;for(let v=0;v<this.itemSize;v++)l.push(this.data.array[m+v])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:l,normalized:this.normalized}}return void 0===f.interleavedBuffers&&(f.interleavedBuffers={}),void 0===f.interleavedBuffers[this.data.uuid]&&(f.interleavedBuffers[this.data.uuid]=this.data.toJSON(f)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});class fc extends Bo{constructor(l){super(),this.type="SpriteMaterial",this.color=new dr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.alphaMap=l.alphaMap,this.rotation=l.rotation,this.sizeAttenuation=l.sizeAttenuation,this}}let Gg;fc.prototype.isSpriteMaterial=!0;const c_=new Ee,pc=new Ee,$g=new Ee,Pf=new _n,d_=new _n,dD=new Hr,Xg=new Ee,p0=new Ee,NC=new Ee,m0=new _n,hD=new _n,q2=new _n;class FC extends Xr{constructor(l){if(super(),this.type="Sprite",void 0===Gg){Gg=new Br;const m=new nu(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Gg.setIndex([0,1,2,0,2,3]),Gg.setAttribute("position",new hc(m,3,0,!1)),Gg.setAttribute("uv",new hc(m,2,3,!1))}this.geometry=Gg,this.material=void 0!==l?l:new fc,this.center=new _n(.5,.5)}raycast(l,d){null===l.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),pc.setFromMatrixScale(this.matrixWorld),dD.copy(l.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(l.camera.matrixWorldInverse,this.matrixWorld),$g.setFromMatrixPosition(this.modelViewMatrix),l.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&pc.multiplyScalar(-$g.z);const m=this.material.rotation;let v,_;0!==m&&(_=Math.cos(m),v=Math.sin(m));const x=this.center;HC(Xg.set(-.5,-.5,0),$g,x,pc,v,_),HC(p0.set(.5,-.5,0),$g,x,pc,v,_),HC(NC.set(.5,.5,0),$g,x,pc,v,_),m0.set(0,0),hD.set(1,0),q2.set(1,1);let D=l.ray.intersectTriangle(Xg,p0,NC,!1,c_);if(null===D&&(HC(p0.set(-.5,.5,0),$g,x,pc,v,_),hD.set(0,1),D=l.ray.intersectTriangle(Xg,NC,p0,!1,c_),null===D))return;const L=l.ray.origin.distanceTo(c_);L<l.near||L>l.far||d.push({distance:L,point:c_.clone(),uv:Qo.getUV(c_,Xg,p0,NC,m0,hD,q2,new _n),face:null,object:this})}copy(l){return super.copy(l),void 0!==l.center&&this.center.copy(l.center),this.material=l.material,this}}function HC(f,l,d,m,v,_){Pf.subVectors(f,d).addScalar(.5).multiply(m),void 0!==v?(d_.x=_*Pf.x-v*Pf.y,d_.y=v*Pf.x+_*Pf.y):d_.copy(Pf),f.copy(l),f.x+=d_.x,f.y+=d_.y,f.applyMatrix4(dD)}FC.prototype.isSprite=!0;const BC=new Ee,fD=new Ee;class g0 extends Xr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(l){super.copy(l,!1);const d=l.levels;for(let m=0,v=d.length;m<v;m++){const _=d[m];this.addLevel(_.object.clone(),_.distance)}return this.autoUpdate=l.autoUpdate,this}addLevel(l,d=0){d=Math.abs(d);const m=this.levels;let v;for(v=0;v<m.length&&!(d<m[v].distance);v++);return m.splice(v,0,{distance:d,object:l}),this.add(l),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(l){const d=this.levels;if(d.length>0){let m,v;for(m=1,v=d.length;m<v&&!(l<d[m].distance);m++);return d[m-1].object}return null}raycast(l,d){if(this.levels.length>0){BC.setFromMatrixPosition(this.matrixWorld);const v=l.ray.origin.distanceTo(BC);this.getObjectForDistance(v).raycast(l,d)}}update(l){const d=this.levels;if(d.length>1){BC.setFromMatrixPosition(l.matrixWorld),fD.setFromMatrixPosition(this.matrixWorld);const m=BC.distanceTo(fD)/l.zoom;let v,_;for(d[0].object.visible=!0,v=1,_=d.length;v<_&&m>=d[v].distance;v++)d[v-1].object.visible=!1,d[v].object.visible=!0;for(this._currentLevel=v-1;v<_;v++)d[v].object.visible=!1}}toJSON(l){const d=super.toJSON(l);!1===this.autoUpdate&&(d.object.autoUpdate=!1),d.object.levels=[];const m=this.levels;for(let v=0,_=m.length;v<_;v++){const x=m[v];d.object.levels.push({object:x.object.uuid,distance:x.distance})}return d}}const v0=new Ee,VC=new Ti,zC=new Ti,pD=new Ee,y0=new Hr;function h_(f,l){un.call(this,f,l),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Hr,this.bindMatrixInverse=new Hr}function Yp(){Xr.call(this),this.type="Bone"}h_.prototype=Object.assign(Object.create(un.prototype),{constructor:h_,isSkinnedMesh:!0,copy:function(f){return un.prototype.copy.call(this,f),this.bindMode=f.bindMode,this.bindMatrix.copy(f.bindMatrix),this.bindMatrixInverse.copy(f.bindMatrixInverse),this.skeleton=f.skeleton,this},bind:function(f,l){this.skeleton=f,void 0===l&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),l=this.matrixWorld),this.bindMatrix.copy(l),this.bindMatrixInverse.copy(l).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const f=new Ti,l=this.geometry.attributes.skinWeight;for(let d=0,m=l.count;d<m;d++){f.x=l.getX(d),f.y=l.getY(d),f.z=l.getZ(d),f.w=l.getW(d);const v=1/f.manhattanLength();v!==1/0?f.multiplyScalar(v):f.set(1,0,0,0),l.setXYZW(d,f.x,f.y,f.z,f.w)}},updateMatrixWorld:function(f){un.prototype.updateMatrixWorld.call(this,f),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(f,l){const d=this.skeleton,m=this.geometry;VC.fromBufferAttribute(m.attributes.skinIndex,f),zC.fromBufferAttribute(m.attributes.skinWeight,f),v0.fromBufferAttribute(m.attributes.position,f).applyMatrix4(this.bindMatrix),l.set(0,0,0);for(let v=0;v<4;v++){const _=zC.getComponent(v);if(0!==_){const x=VC.getComponent(v);y0.multiplyMatrices(d.bones[x].matrixWorld,d.boneInverses[x]),l.addScaledVector(pD.copy(v0).applyMatrix4(y0),_)}}return l.applyMatrix4(this.bindMatrixInverse)}}),Yp.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Yp,isBone:!0});const Id=new Hr,J2=new Hr;class f_{constructor(l=[],d=[]){this.uuid=Dr.generateUUID(),this.bones=l.slice(0),this.boneInverses=d,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const l=this.bones,d=this.boneInverses;if(this.boneMatrices=new Float32Array(16*l.length),0===d.length)this.calculateInverses();else if(l.length!==d.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let m=0,v=this.bones.length;m<v;m++)this.boneInverses.push(new Hr)}}calculateInverses(){this.boneInverses.length=0;for(let l=0,d=this.bones.length;l<d;l++){const m=new Hr;this.bones[l]&&m.copy(this.bones[l].matrixWorld).invert(),this.boneInverses.push(m)}}pose(){for(let l=0,d=this.bones.length;l<d;l++){const m=this.bones[l];m&&m.matrixWorld.copy(this.boneInverses[l]).invert()}for(let l=0,d=this.bones.length;l<d;l++){const m=this.bones[l];m&&(m.parent&&m.parent.isBone?(m.matrix.copy(m.parent.matrixWorld).invert(),m.matrix.multiply(m.matrixWorld)):m.matrix.copy(m.matrixWorld),m.matrix.decompose(m.position,m.quaternion,m.scale))}}update(){const l=this.bones,d=this.boneInverses,m=this.boneMatrices,v=this.boneTexture;for(let _=0,x=l.length;_<x;_++)Id.multiplyMatrices(l[_]?l[_].matrixWorld:J2,d[_]),Id.toArray(m,16*_);null!==v&&(v.needsUpdate=!0)}clone(){return new f_(this.bones,this.boneInverses)}getBoneByName(l){for(let d=0,m=this.bones.length;d<m;d++){const v=this.bones[d];if(v.name===l)return v}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(l,d){this.uuid=l.uuid;for(let m=0,v=l.bones.length;m<v;m++){const _=l.bones[m];let x=d[_];void 0===x&&(console.warn("THREE.Skeleton: No bone found with UUID:",_),x=new Yp),this.bones.push(x),this.boneInverses.push((new Hr).fromArray(l.boneInverses[m]))}return this.init(),this}toJSON(){const l={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};l.uuid=this.uuid;const d=this.bones,m=this.boneInverses;for(let v=0,_=d.length;v<_;v++)l.bones.push(d[v].uuid),l.boneInverses.push(m[v].toArray());return l}}const mD=new Hr,UC=new Hr,_0=[],p_=new un;function b0(f,l,d){un.call(this,f,l),this.instanceMatrix=new Kr(new Float32Array(16*d),16),this.instanceColor=null,this.count=d,this.frustumCulled=!1}b0.prototype=Object.assign(Object.create(un.prototype),{constructor:b0,isInstancedMesh:!0,copy:function(f){return un.prototype.copy.call(this,f),this.instanceMatrix.copy(f.instanceMatrix),null!==f.instanceColor&&(this.instanceColor=f.instanceColor.clone()),this.count=f.count,this},getColorAt:function(f,l){l.fromArray(this.instanceColor.array,3*f)},getMatrixAt:function(f,l){l.fromArray(this.instanceMatrix.array,16*f)},raycast:function(f,l){const d=this.matrixWorld,m=this.count;if(p_.geometry=this.geometry,p_.material=this.material,void 0!==p_.material)for(let v=0;v<m;v++){this.getMatrixAt(v,mD),UC.multiplyMatrices(d,mD),p_.matrixWorld=UC,p_.raycast(f,_0);for(let _=0,x=_0.length;_<x;_++){const D=_0[_];D.instanceId=v,D.object=this,l.push(D)}_0.length=0}},setColorAt:function(f,l){null===this.instanceColor&&(this.instanceColor=new Kr(new Float32Array(3*this.count),3)),l.toArray(this.instanceColor.array,3*f)},setMatrixAt:function(f,l){l.toArray(this.instanceMatrix.array,16*f)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});class ka extends Bo{constructor(l){super(),this.type="LineBasicMaterial",this.color=new dr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.linewidth=l.linewidth,this.linecap=l.linecap,this.linejoin=l.linejoin,this.morphTargets=l.morphTargets,this}}ka.prototype.isLineBasicMaterial=!0;const w0=new Ee,gD=new Ee,vD=new Hr,jC=new Cd,m_=new xd;function Xc(f=new Br,l=new ka){Xr.call(this),this.type="Line",this.geometry=f,this.material=l,this.updateMorphTargets()}Xc.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Xc,isLine:!0,copy:function(f){return Xr.prototype.copy.call(this,f),this.material=f.material,this.geometry=f.geometry,this},computeLineDistances:function(){const f=this.geometry;if(f.isBufferGeometry)if(null===f.index){const l=f.attributes.position,d=[0];for(let m=1,v=l.count;m<v;m++)w0.fromBufferAttribute(l,m-1),gD.fromBufferAttribute(l,m),d[m]=d[m-1],d[m]+=w0.distanceTo(gD);f.setAttribute("lineDistance",new yr(d,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else f.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(f,l){const d=this.geometry,m=this.matrixWorld,v=f.params.Line.threshold;if(null===d.boundingSphere&&d.computeBoundingSphere(),m_.copy(d.boundingSphere),m_.applyMatrix4(m),m_.radius+=v,!1===f.ray.intersectsSphere(m_))return;vD.copy(m).invert(),jC.copy(f.ray).applyMatrix4(vD);const _=v/((this.scale.x+this.scale.y+this.scale.z)/3),x=_*_,D=new Ee,L=new Ee,k=new Ee,U=new Ee,H=this.isLineSegments?2:1;if(d.isBufferGeometry){const V=d.index,J=d.attributes.position;if(null!==V){const te=V.array;for(let se=0,oe=te.length-1;se<oe;se+=H){const De=te[se+1];if(D.fromBufferAttribute(J,te[se]),L.fromBufferAttribute(J,De),jC.distanceSqToSegment(D,L,U,k)>x)continue;U.applyMatrix4(this.matrixWorld);const Ve=f.ray.origin.distanceTo(U);Ve<f.near||Ve>f.far||l.push({distance:Ve,point:k.clone().applyMatrix4(this.matrixWorld),index:se,face:null,faceIndex:null,object:this})}}else for(let te=0,se=J.count-1;te<se;te+=H){if(D.fromBufferAttribute(J,te),L.fromBufferAttribute(J,te+1),jC.distanceSqToSegment(D,L,U,k)>x)continue;U.applyMatrix4(this.matrixWorld);const K=f.ray.origin.distanceTo(U);K<f.near||K>f.far||l.push({distance:K,point:k.clone().applyMatrix4(this.matrixWorld),index:te,face:null,faceIndex:null,object:this})}}else d.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const f=this.geometry;if(f.isBufferGeometry){const l=f.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let v=0,_=m.length;v<_;v++){const x=m[v].name||String(v);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=v}}}}else{const l=f.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const yD=new Ee,yl=new Ee;function tl(f,l){Xc.call(this,f,l),this.type="LineSegments"}tl.prototype=Object.assign(Object.create(Xc.prototype),{constructor:tl,isLineSegments:!0,computeLineDistances:function(){const f=this.geometry;if(f.isBufferGeometry)if(null===f.index){const l=f.attributes.position,d=[];for(let m=0,v=l.count;m<v;m+=2)yD.fromBufferAttribute(l,m),yl.fromBufferAttribute(l,m+1),d[m]=0===m?0:d[m-1],d[m+1]=d[m]+yD.distanceTo(yl);f.setAttribute("lineDistance",new yr(d,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else f.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}});class M0 extends Xc{constructor(l,d){super(l,d),this.type="LineLoop"}}M0.prototype.isLineLoop=!0;class Lh extends Bo{constructor(l){super(),this.type="PointsMaterial",this.color=new dr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.alphaMap=l.alphaMap,this.size=l.size,this.sizeAttenuation=l.sizeAttenuation,this.morphTargets=l.morphTargets,this}}Lh.prototype.isPointsMaterial=!0;const nl=new Hr,Gp=new Cd,Kg=new xd,S0=new Ee;function Zg(f=new Br,l=new Lh){Xr.call(this),this.type="Points",this.geometry=f,this.material=l,this.updateMorphTargets()}function WC(f,l,d,m,v,_,x){const D=Gp.distanceSqToPoint(f);if(D<d){const L=new Ee;Gp.closestPointToPoint(f,L),L.applyMatrix4(m);const k=v.ray.origin.distanceTo(L);if(k<v.near||k>v.far)return;_.push({distance:k,distanceToRay:Math.sqrt(D),point:L,index:l,face:null,object:x})}}Zg.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Zg,isPoints:!0,copy:function(f){return Xr.prototype.copy.call(this,f),this.material=f.material,this.geometry=f.geometry,this},raycast:function(f,l){const d=this.geometry,m=this.matrixWorld,v=f.params.Points.threshold;if(null===d.boundingSphere&&d.computeBoundingSphere(),Kg.copy(d.boundingSphere),Kg.applyMatrix4(m),Kg.radius+=v,!1===f.ray.intersectsSphere(Kg))return;nl.copy(m).invert(),Gp.copy(f.ray).applyMatrix4(nl);const _=v/((this.scale.x+this.scale.y+this.scale.z)/3),x=_*_;if(d.isBufferGeometry){const D=d.index,k=d.attributes.position;if(null!==D){const U=D.array;for(let H=0,V=U.length;H<V;H++){const Y=U[H];S0.fromBufferAttribute(k,Y),WC(S0,Y,x,m,f,l,this)}}else for(let U=0,H=k.count;U<H;U++)S0.fromBufferAttribute(k,U),WC(S0,U,x,m,f,l,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const f=this.geometry;if(f.isBufferGeometry){const l=f.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let v=0,_=m.length;v<_;v++){const x=m[v].name||String(v);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=v}}}}else{const l=f.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});class _D extends uo{constructor(l,d,m,v,_,x,D,L,k){super(l,d,m,v,_,x,D,L,k),this.format=void 0!==D?D:Ju,this.minFilter=void 0!==x?x:Li,this.magFilter=void 0!==_?_:Li,this.generateMipmaps=!1;const U=this;"requestVideoFrameCallback"in l&&l.requestVideoFrameCallback(function H(){U.needsUpdate=!0,l.requestVideoFrameCallback(H)})}clone(){return new this.constructor(this.image).copy(this)}update(){const l=this.image;"requestVideoFrameCallback"in l==0&&l.readyState>=l.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}_D.prototype.isVideoTexture=!0;class x0 extends uo{constructor(l,d,m,v,_,x,D,L,k,U,H,V){super(null,x,D,L,k,U,v,_,H,V),this.image={width:d,height:m},this.mipmaps=l,this.flipY=!1,this.generateMipmaps=!1}}x0.prototype.isCompressedTexture=!0;class bD extends uo{constructor(l,d,m,v,_,x,D,L,k){super(l,d,m,v,_,x,D,L,k),this.needsUpdate=!0}}bD.prototype.isCanvasTexture=!0;class YC extends uo{constructor(l,d,m,v,_,x,D,L,k,U){if((U=void 0!==U?U:Ro)!==Ro&&U!==wo)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===m&&U===Ro&&(m=Ki),void 0===m&&U===wo&&(m=nr),super(null,v,_,x,D,L,U,m,k),this.image={width:l,height:d},this.magFilter=void 0!==D?D:Un,this.minFilter=void 0!==L?L:Un,this.flipY=!1,this.generateMipmaps=!1}}YC.prototype.isDepthTexture=!0;class C0 extends Br{constructor(l=1,d=8,m=0,v=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:l,segments:d,thetaStart:m,thetaLength:v},d=Math.max(3,d);const _=[],x=[],D=[],L=[],k=new Ee,U=new _n;x.push(0,0,0),D.push(0,0,1),L.push(.5,.5);for(let H=0,V=3;H<=d;H++,V+=3){const Y=m+H/d*v;k.x=l*Math.cos(Y),k.y=l*Math.sin(Y),x.push(k.x,k.y,k.z),D.push(0,0,1),U.x=(x[V]/l+1)/2,U.y=(x[V+1]/l+1)/2,L.push(U.x,U.y)}for(let H=1;H<=d;H++)_.push(H,H+1,0);this.setIndex(_),this.setAttribute("position",new yr(x,3)),this.setAttribute("normal",new yr(D,3)),this.setAttribute("uv",new yr(L,2))}}class qg extends Br{constructor(l=1,d=1,m=1,v=8,_=1,x=!1,D=0,L=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:l,radiusBottom:d,height:m,radialSegments:v,heightSegments:_,openEnded:x,thetaStart:D,thetaLength:L};const k=this;v=Math.floor(v),_=Math.floor(_);const U=[],H=[],V=[],Y=[];let J=0;const te=[],se=m/2;let oe=0;function De(Ce){const Ve=J,Se=new _n,nt=new Ee;let Dt=0;const Mt=!0===Ce?l:d,at=!0===Ce?1:-1;for(let en=1;en<=v;en++)H.push(0,se*at,0),V.push(0,at,0),Y.push(.5,.5),J++;const jt=J;for(let en=0;en<=v;en++){const Tt=en/v*L+D,Wt=Math.cos(Tt),Yt=Math.sin(Tt);nt.x=Mt*Yt,nt.y=se*at,nt.z=Mt*Wt,H.push(nt.x,nt.y,nt.z),V.push(0,at,0),Se.x=.5*Wt+.5,Se.y=.5*Yt*at+.5,Y.push(Se.x,Se.y),J++}for(let en=0;en<v;en++){const Ut=Ve+en,Tt=jt+en;!0===Ce?U.push(Tt,Tt+1,Ut):U.push(Tt+1,Tt,Ut),Dt+=3}k.addGroup(oe,Dt,!0===Ce?1:2),oe+=Dt}(function K(){const Ce=new Ee,Ve=new Ee;let Se=0;const nt=(d-l)/m;for(let Dt=0;Dt<=_;Dt++){const Mt=[],at=Dt/_,jt=at*(d-l)+l;for(let en=0;en<=v;en++){const Ut=en/v,Tt=Ut*L+D,Wt=Math.sin(Tt),Yt=Math.cos(Tt);Ve.x=jt*Wt,Ve.y=-at*m+se,Ve.z=jt*Yt,H.push(Ve.x,Ve.y,Ve.z),Ce.set(Wt,nt,Yt).normalize(),V.push(Ce.x,Ce.y,Ce.z),Y.push(Ut,1-at),Mt.push(J++)}te.push(Mt)}for(let Dt=0;Dt<v;Dt++)for(let Mt=0;Mt<_;Mt++){const jt=te[Mt+1][Dt],en=te[Mt+1][Dt+1],Ut=te[Mt][Dt+1];U.push(te[Mt][Dt],jt,Ut),U.push(jt,en,Ut),Se+=6}k.addGroup(oe,Se,0),oe+=Se})(),!1===x&&(l>0&&De(!0),d>0&&De(!1)),this.setIndex(U),this.setAttribute("position",new yr(H,3)),this.setAttribute("normal",new yr(V,3)),this.setAttribute("uv",new yr(Y,2))}}class E0 extends qg{constructor(l=1,d=1,m=8,v=1,_=!1,x=0,D=2*Math.PI){super(0,l,d,m,v,_,x,D),this.type="ConeGeometry",this.parameters={radius:l,height:d,radialSegments:m,heightSegments:v,openEnded:_,thetaStart:x,thetaLength:D}}}class Ph extends Br{constructor(l,d,m=1,v=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:l,indices:d,radius:m,detail:v};const _=[],x=[];function L(K,De,Ce,Ve){const Se=Ve+1,nt=[];for(let Dt=0;Dt<=Se;Dt++){nt[Dt]=[];const Mt=K.clone().lerp(Ce,Dt/Se),at=De.clone().lerp(Ce,Dt/Se),jt=Se-Dt;for(let en=0;en<=jt;en++)nt[Dt][en]=0===en&&Dt===Se?Mt:Mt.clone().lerp(at,en/jt)}for(let Dt=0;Dt<Se;Dt++)for(let Mt=0;Mt<2*(Se-Dt)-1;Mt++){const at=Math.floor(Mt/2);Mt%2==0?(V(nt[Dt][at+1]),V(nt[Dt+1][at]),V(nt[Dt][at])):(V(nt[Dt][at+1]),V(nt[Dt+1][at+1]),V(nt[Dt+1][at]))}}function V(K){_.push(K.x,K.y,K.z)}function Y(K,De){const Ce=3*K;De.x=l[Ce+0],De.y=l[Ce+1],De.z=l[Ce+2]}function te(K,De,Ce,Ve){Ve<0&&1===K.x&&(x[De]=K.x-1),0===Ce.x&&0===Ce.z&&(x[De]=Ve/2/Math.PI+.5)}function se(K){return Math.atan2(K.z,-K.x)}function oe(K){return Math.atan2(-K.y,Math.sqrt(K.x*K.x+K.z*K.z))}(function D(K){const De=new Ee,Ce=new Ee,Ve=new Ee;for(let Se=0;Se<d.length;Se+=3)Y(d[Se+0],De),Y(d[Se+1],Ce),Y(d[Se+2],Ve),L(De,Ce,Ve,K)})(v),function k(K){const De=new Ee;for(let Ce=0;Ce<_.length;Ce+=3)De.x=_[Ce+0],De.y=_[Ce+1],De.z=_[Ce+2],De.normalize().multiplyScalar(K),_[Ce+0]=De.x,_[Ce+1]=De.y,_[Ce+2]=De.z}(m),function U(){const K=new Ee;for(let De=0;De<_.length;De+=3){K.x=_[De+0],K.y=_[De+1],K.z=_[De+2];const Ce=se(K)/2/Math.PI+.5,Ve=oe(K)/Math.PI+.5;x.push(Ce,1-Ve)}(function J(){const K=new Ee,De=new Ee,Ce=new Ee,Ve=new Ee,Se=new _n,nt=new _n,Dt=new _n;for(let Mt=0,at=0;Mt<_.length;Mt+=9,at+=6){K.set(_[Mt+0],_[Mt+1],_[Mt+2]),De.set(_[Mt+3],_[Mt+4],_[Mt+5]),Ce.set(_[Mt+6],_[Mt+7],_[Mt+8]),Se.set(x[at+0],x[at+1]),nt.set(x[at+2],x[at+3]),Dt.set(x[at+4],x[at+5]),Ve.copy(K).add(De).add(Ce).divideScalar(3);const jt=se(Ve);te(Se,at+0,K,jt),te(nt,at+2,De,jt),te(Dt,at+4,Ce,jt)}})(),function H(){for(let K=0;K<x.length;K+=6){const De=x[K+0],Ce=x[K+2],Ve=x[K+4],Se=Math.max(De,Ce,Ve),nt=Math.min(De,Ce,Ve);Se>.9&&nt<.1&&(De<.2&&(x[K+0]+=1),Ce<.2&&(x[K+2]+=1),Ve<.2&&(x[K+4]+=1))}}()}(),this.setAttribute("position",new yr(_,3)),this.setAttribute("normal",new yr(_.slice(),3)),this.setAttribute("uv",new yr(x,2)),0===v?this.computeVertexNormals():this.normalizeNormals()}}class T0 extends Ph{constructor(l=1,d=0){const m=(1+Math.sqrt(5))/2,v=1/m;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-v,-m,0,-v,m,0,v,-m,0,v,m,-v,-m,0,-v,m,0,v,-m,0,v,m,0,-m,0,-v,m,0,-v,-m,0,v,m,0,v],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],l,d),this.type="DodecahedronGeometry",this.parameters={radius:l,detail:d}}}const R0=new Ee,Ih=new Ee,Kc=new Ee,D0=new Qo;class GC extends Br{constructor(l,d){if(super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:d},d=void 0!==d?d:1,!0===l.isGeometry)return void console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const v=Math.pow(10,4),_=Math.cos(Dr.DEG2RAD*d),x=l.getIndex(),D=l.getAttribute("position"),L=x?x.count:D.count,k=[0,0,0],U=["a","b","c"],H=new Array(3),V={},Y=[];for(let J=0;J<L;J+=3){x?(k[0]=x.getX(J),k[1]=x.getX(J+1),k[2]=x.getX(J+2)):(k[0]=J,k[1]=J+1,k[2]=J+2);const{a:te,b:se,c:oe}=D0;if(te.fromBufferAttribute(D,k[0]),se.fromBufferAttribute(D,k[1]),oe.fromBufferAttribute(D,k[2]),D0.getNormal(Kc),H[0]=`${Math.round(te.x*v)},${Math.round(te.y*v)},${Math.round(te.z*v)}`,H[1]=`${Math.round(se.x*v)},${Math.round(se.y*v)},${Math.round(se.z*v)}`,H[2]=`${Math.round(oe.x*v)},${Math.round(oe.y*v)},${Math.round(oe.z*v)}`,H[0]!==H[1]&&H[1]!==H[2]&&H[2]!==H[0])for(let K=0;K<3;K++){const De=(K+1)%3,Ce=H[K],Ve=H[De],Se=D0[U[K]],nt=D0[U[De]],Dt=`${Ce}_${Ve}`,Mt=`${Ve}_${Ce}`;Mt in V&&V[Mt]?(Kc.dot(V[Mt].normal)<=_&&(Y.push(Se.x,Se.y,Se.z),Y.push(nt.x,nt.y,nt.z)),V[Mt]=null):Dt in V||(V[Dt]={index0:k[K],index1:k[De],normal:Kc.clone()})}}for(const J in V)if(V[J]){const{index0:te,index1:se}=V[J];R0.fromBufferAttribute(D,te),Ih.fromBufferAttribute(D,se),Y.push(R0.x,R0.y,R0.z),Y.push(Ih.x,Ih.y,Ih.z)}this.setAttribute("position",new yr(Y,3))}}function Q2(f,l,d,m,v){let _,x;if(v===function QC(f,l,d,m){let v=0;for(let _=l,x=d-m;_<d;_+=m)v+=(f[x]-f[_])*(f[_+1]+f[x+1]),x=_;return v}(f,l,d,m)>0)for(_=l;_<d;_+=m)x=JC(_,f[_],f[_+1],x);else for(_=d-m;_>=l;_-=m)x=JC(_,f[_],f[_+1],x);return x&&k0(x,x.next)&&($p(x),x=x.next),x}function Nh(f,l){if(!f)return f;l||(l=f);let m,d=f;do{if(m=!1,d.steiner||!k0(d,d.next)&&0!==ws(d.prev,d,d.next))d=d.next;else{if($p(d),d=l=d.prev,d===d.next)break;m=!0}}while(m||d!==l);return l}function A0(f,l,d,m,v,_,x){if(!f)return;!x&&_&&function KC(f,l,d,m){let v=f;do{null===v.z&&(v.z=O0(v.x,v.y,l,d,m)),v.prevZ=v.prev,v.nextZ=v.next,v=v.next}while(v!==f);v.prevZ.nextZ=null,v.prevZ=null,function ZC(f){let l,d,m,v,_,x,D,L,k=1;do{for(d=f,f=null,_=null,x=0;d;){for(x++,m=d,D=0,l=0;l<k&&(D++,m=m.nextZ,m);l++);for(L=k;D>0||L>0&&m;)0!==D&&(0===L||!m||d.z<=m.z)?(v=d,d=d.nextZ,D--):(v=m,m=m.nextZ,L--),_?_.nextZ=v:f=v,v.prevZ=_,_=v;d=m}_.nextZ=null,k*=2}while(x>1)}(v)}(f,m,v,_);let L,k,D=f;for(;f.prev!==f.next;)if(L=f.prev,k=f.next,_?$C(f,m,v,_):ru(f))l.push(L.i/d),l.push(f.i/d),l.push(k.i/d),$p(f),f=k.next,D=k.next;else if((f=k)===D){x?1===x?A0(f=XC(Nh(f),l,d),l,d,m,v,_,2):2===x&&eF(f,l,d,m,v,_):A0(Nh(f),l,d,m,v,_,1);break}}function ru(f){const l=f.prev,d=f,m=f.next;if(ws(l,d,m)>=0)return!1;let v=f.next.next;for(;v!==f.prev;){if(Zc(l.x,l.y,d.x,d.y,m.x,m.y,v.x,v.y)&&ws(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function $C(f,l,d,m){const v=f.prev,_=f,x=f.next;if(ws(v,_,x)>=0)return!1;const k=v.x>_.x?v.x>x.x?v.x:x.x:_.x>x.x?_.x:x.x,U=v.y>_.y?v.y>x.y?v.y:x.y:_.y>x.y?_.y:x.y,H=O0(v.x<_.x?v.x<x.x?v.x:x.x:_.x<x.x?_.x:x.x,v.y<_.y?v.y<x.y?v.y:x.y:_.y<x.y?_.y:x.y,l,d,m),V=O0(k,U,l,d,m);let Y=f.prevZ,J=f.nextZ;for(;Y&&Y.z>=H&&J&&J.z<=V;){if(Y!==f.prev&&Y!==f.next&&Zc(v.x,v.y,_.x,_.y,x.x,x.y,Y.x,Y.y)&&ws(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,J!==f.prev&&J!==f.next&&Zc(v.x,v.y,_.x,_.y,x.x,x.y,J.x,J.y)&&ws(J.prev,J,J.next)>=0))return!1;J=J.nextZ}for(;Y&&Y.z>=H;){if(Y!==f.prev&&Y!==f.next&&Zc(v.x,v.y,_.x,_.y,x.x,x.y,Y.x,Y.y)&&ws(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;J&&J.z<=V;){if(J!==f.prev&&J!==f.next&&Zc(v.x,v.y,_.x,_.y,x.x,x.y,J.x,J.y)&&ws(J.prev,J,J.next)>=0)return!1;J=J.nextZ}return!0}function XC(f,l,d){let m=f;do{const v=m.prev,_=m.next.next;!k0(v,_)&&L0(v,m,m.next,_)&&v_(v,_)&&v_(_,v)&&(l.push(v.i/d),l.push(m.i/d),l.push(_.i/d),$p(m),$p(m.next),m=f=_),m=m.next}while(m!==f);return Nh(m)}function eF(f,l,d,m,v,_){let x=f;do{let D=x.next.next;for(;D!==x.prev;){if(x.i!==D.i&&qC(x,D)){let L=SD(x,D);return x=Nh(x,x.next),L=Nh(L,L.next),A0(x,l,d,m,v,_),void A0(L,l,d,m,v,_)}D=D.next}x=x.next}while(x!==f)}function tF(f,l){return f.x-l.x}function g_(f,l){if(l=function nF(f,l){let d=l;const m=f.x,v=f.y;let x,_=-1/0;do{if(v<=d.y&&v>=d.next.y&&d.next.y!==d.y){const V=d.x+(v-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(V<=m&&V>_){if(_=V,V===m){if(v===d.y)return d;if(v===d.next.y)return d.next}x=d.x<d.next.x?d:d.next}}d=d.next}while(d!==l);if(!x)return null;if(m===_)return x;const D=x,L=x.x,k=x.y;let H,U=1/0;d=x;do{m>=d.x&&d.x>=L&&m!==d.x&&Zc(v<k?m:_,v,L,k,v<k?_:m,v,d.x,d.y)&&(H=Math.abs(v-d.y)/(m-d.x),v_(d,f)&&(H<U||H===U&&(d.x>x.x||d.x===x.x&&MD(x,d)))&&(x=d,U=H)),d=d.next}while(d!==D);return x}(f,l),l){const d=SD(l,f);Nh(l,l.next),Nh(d,d.next)}}function MD(f,l){return ws(f.prev,f,l.prev)<0&&ws(l.next,f,f.next)<0}function O0(f,l,d,m,v){return(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f=32767*(f-d)*v)|f<<8))|f<<4))|f<<2))|f<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=32767*(l-m)*v)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function N8(f){let l=f,d=f;do{(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next}while(l!==f);return d}function Zc(f,l,d,m,v,_,x,D){return(v-x)*(l-D)-(f-x)*(_-D)>=0&&(f-x)*(m-D)-(d-x)*(l-D)>=0&&(d-x)*(_-D)-(v-x)*(m-D)>=0}function qC(f,l){return f.next.i!==l.i&&f.prev.i!==l.i&&!function rF(f,l){let d=f;do{if(d.i!==f.i&&d.next.i!==f.i&&d.i!==l.i&&d.next.i!==l.i&&L0(d,d.next,f,l))return!0;d=d.next}while(d!==f);return!1}(f,l)&&(v_(f,l)&&v_(l,f)&&function iF(f,l){let d=f,m=!1;const v=(f.x+l.x)/2,_=(f.y+l.y)/2;do{d.y>_!=d.next.y>_&&d.next.y!==d.y&&v<(d.next.x-d.x)*(_-d.y)/(d.next.y-d.y)+d.x&&(m=!m),d=d.next}while(d!==f);return m}(f,l)&&(ws(f.prev,f,l.prev)||ws(f,l.prev,l))||k0(f,l)&&ws(f.prev,f,f.next)>0&&ws(l.prev,l,l.next)>0)}function ws(f,l,d){return(l.y-f.y)*(d.x-l.x)-(l.x-f.x)*(d.y-l.y)}function k0(f,l){return f.x===l.x&&f.y===l.y}function L0(f,l,d,m){const v=I0(ws(f,l,d)),_=I0(ws(f,l,m)),x=I0(ws(d,m,f)),D=I0(ws(d,m,l));return!!(v!==_&&x!==D||0===v&&P0(f,d,l)||0===_&&P0(f,m,l)||0===x&&P0(d,f,m)||0===D&&P0(d,l,m))}function P0(f,l,d){return l.x<=Math.max(f.x,d.x)&&l.x>=Math.min(f.x,d.x)&&l.y<=Math.max(f.y,d.y)&&l.y>=Math.min(f.y,d.y)}function I0(f){return f>0?1:f<0?-1:0}function v_(f,l){return ws(f.prev,f,f.next)<0?ws(f,l,f.next)>=0&&ws(f,f.prev,l)>=0:ws(f,l,f.prev)<0||ws(f,f.next,l)<0}function SD(f,l){const d=new N0(f.i,f.x,f.y),m=new N0(l.i,l.x,l.y),v=f.next,_=l.prev;return f.next=l,l.prev=f,d.next=v,v.prev=d,m.next=d,d.prev=m,_.next=m,m.prev=_,m}function JC(f,l,d,m){const v=new N0(f,l,d);return m?(v.next=m.next,v.prev=m,m.next.prev=v,m.next=v):(v.prev=v,v.next=v),v}function $p(f){f.next.prev=f.prev,f.prev.next=f.next,f.prevZ&&(f.prevZ.nextZ=f.nextZ),f.nextZ&&(f.nextZ.prevZ=f.prevZ)}function N0(f,l,d){this.i=f,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Fh={area:function(f){const l=f.length;let d=0;for(let m=l-1,v=0;v<l;m=v++)d+=f[m].x*f[v].y-f[v].x*f[m].y;return.5*d},isClockWise:function(f){return Fh.area(f)<0},triangulateShape:function(f,l){const d=[],m=[],v=[];xD(f),eE(d,f);let _=f.length;l.forEach(xD);for(let D=0;D<l.length;D++)m.push(_),_+=l[D].length,eE(d,l[D]);const x=function(f,l,d){d=d||2;const m=l&&l.length,v=m?l[0]*d:f.length;let _=Q2(f,0,v,d,!0);const x=[];if(!_||_.next===_.prev)return x;let D,L,k,U,H,V,Y;if(m&&(_=function wD(f,l,d,m){const v=[];let _,x,D,L,k;for(_=0,x=l.length;_<x;_++)D=l[_]*m,L=_<x-1?l[_+1]*m:f.length,k=Q2(f,D,L,m,!1),k===k.next&&(k.steiner=!0),v.push(N8(k));for(v.sort(tF),_=0;_<v.length;_++)g_(v[_],d),d=Nh(d,d.next);return d}(f,l,_,d)),f.length>80*d){D=k=f[0],L=U=f[1];for(let J=d;J<v;J+=d)H=f[J],V=f[J+1],H<D&&(D=H),V<L&&(L=V),H>k&&(k=H),V>U&&(U=V);Y=Math.max(k-D,U-L),Y=0!==Y?1/Y:0}return A0(_,x,d,D,L,Y),x}(d,m);for(let D=0;D<x.length;D+=3)v.push(x.slice(D,D+3));return v}};function xD(f){const l=f.length;l>2&&f[l-1].equals(f[0])&&f.pop()}function eE(f,l){for(let d=0;d<l.length;d++)f.push(l[d].x),f.push(l[d].y)}class Nd extends Br{constructor(l,d){super(),this.type="ExtrudeGeometry",this.parameters={shapes:l,options:d},l=Array.isArray(l)?l:[l];const m=this,v=[],_=[];for(let D=0,L=l.length;D<L;D++)x(l[D]);function x(D){const L=[],k=void 0!==d.curveSegments?d.curveSegments:12,U=void 0!==d.steps?d.steps:1;let H=void 0!==d.depth?d.depth:100,V=void 0===d.bevelEnabled||d.bevelEnabled,Y=void 0!==d.bevelThickness?d.bevelThickness:6,J=void 0!==d.bevelSize?d.bevelSize:Y-2,te=void 0!==d.bevelOffset?d.bevelOffset:0,se=void 0!==d.bevelSegments?d.bevelSegments:3;const oe=d.extrudePath,K=void 0!==d.UVGenerator?d.UVGenerator:Xp;void 0!==d.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),H=d.amount);let De,Ve,Se,nt,Dt,Ce=!1;oe&&(De=oe.getSpacedPoints(U),Ce=!0,V=!1,Ve=oe.computeFrenetFrames(U,!1),Se=new Ee,nt=new Ee,Dt=new Ee),V||(se=0,Y=0,J=0,te=0);const Mt=D.extractPoints(k);let at=Mt.shape;const jt=Mt.holes;if(!Fh.isClockWise(at)){at=at.reverse();for(let Fn=0,Zn=jt.length;Fn<Zn;Fn++){const or=jt[Fn];Fh.isClockWise(or)&&(jt[Fn]=or.reverse())}}const Ut=Fh.triangulateShape(at,jt),Tt=at;for(let Fn=0,Zn=jt.length;Fn<Zn;Fn++)at=at.concat(jt[Fn]);function Wt(Fn,Zn,or){return Zn||console.error("THREE.ExtrudeGeometry: vec does not exist"),Zn.clone().multiplyScalar(or).add(Fn)}const Yt=at.length,zn=Ut.length;function $n(Fn,Zn,or){let hr,Cr,et;const $e=Fn.x-Zn.x,wn=Fn.y-Zn.y,kn=or.x-Fn.x,xt=or.y-Fn.y,Gn=$e*$e+wn*wn;if(Math.abs($e*xt-wn*kn)>Number.EPSILON){const Ar=Math.sqrt(Gn),jn=Math.sqrt(kn*kn+xt*xt),Qr=Zn.x-wn/Ar,oi=Zn.y+$e/Ar,Nr=((or.x-xt/jn-Qr)*xt-(or.y+kn/jn-oi)*kn)/($e*xt-wn*kn);hr=Qr+$e*Nr-Fn.x,Cr=oi+wn*Nr-Fn.y;const Fi=hr*hr+Cr*Cr;if(Fi<=2)return new _n(hr,Cr);et=Math.sqrt(Fi/2)}else{let Ar=!1;$e>Number.EPSILON?kn>Number.EPSILON&&(Ar=!0):$e<-Number.EPSILON?kn<-Number.EPSILON&&(Ar=!0):Math.sign(wn)===Math.sign(xt)&&(Ar=!0),Ar?(hr=-wn,Cr=$e,et=Math.sqrt(Gn)):(hr=$e,Cr=wn,et=Math.sqrt(Gn/2))}return new _n(hr/et,Cr/et)}const Kn=[];for(let Fn=0,Zn=Tt.length,or=Zn-1,hr=Fn+1;Fn<Zn;Fn++,or++,hr++)or===Zn&&(or=0),hr===Zn&&(hr=0),Kn[Fn]=$n(Tt[Fn],Tt[or],Tt[hr]);const Ir=[];let Tr,no=Kn.concat();for(let Fn=0,Zn=jt.length;Fn<Zn;Fn++){const or=jt[Fn];Tr=[];for(let hr=0,Cr=or.length,et=Cr-1,$e=hr+1;hr<Cr;hr++,et++,$e++)et===Cr&&(et=0),$e===Cr&&($e=0),Tr[hr]=$n(or[hr],or[et],or[$e]);Ir.push(Tr),no=no.concat(Tr)}for(let Fn=0;Fn<se;Fn++){const Zn=Fn/se,or=Y*Math.cos(Zn*Math.PI/2),hr=J*Math.sin(Zn*Math.PI/2)+te;for(let Cr=0,et=Tt.length;Cr<et;Cr++){const $e=Wt(Tt[Cr],Kn[Cr],hr);us($e.x,$e.y,-or)}for(let Cr=0,et=jt.length;Cr<et;Cr++){const $e=jt[Cr];Tr=Ir[Cr];for(let wn=0,kn=$e.length;wn<kn;wn++){const xt=Wt($e[wn],Tr[wn],hr);us(xt.x,xt.y,-or)}}}const bi=J+te;for(let Fn=0;Fn<Yt;Fn++){const Zn=V?Wt(at[Fn],no[Fn],bi):at[Fn];Ce?(nt.copy(Ve.normals[0]).multiplyScalar(Zn.x),Se.copy(Ve.binormals[0]).multiplyScalar(Zn.y),Dt.copy(De[0]).add(nt).add(Se),us(Dt.x,Dt.y,Dt.z)):us(Zn.x,Zn.y,0)}for(let Fn=1;Fn<=U;Fn++)for(let Zn=0;Zn<Yt;Zn++){const or=V?Wt(at[Zn],no[Zn],bi):at[Zn];Ce?(nt.copy(Ve.normals[Fn]).multiplyScalar(or.x),Se.copy(Ve.binormals[Fn]).multiplyScalar(or.y),Dt.copy(De[Fn]).add(nt).add(Se),us(Dt.x,Dt.y,Dt.z)):us(or.x,or.y,H/U*Fn)}for(let Fn=se-1;Fn>=0;Fn--){const Zn=Fn/se,or=Y*Math.cos(Zn*Math.PI/2),hr=J*Math.sin(Zn*Math.PI/2)+te;for(let Cr=0,et=Tt.length;Cr<et;Cr++){const $e=Wt(Tt[Cr],Kn[Cr],hr);us($e.x,$e.y,H+or)}for(let Cr=0,et=jt.length;Cr<et;Cr++){const $e=jt[Cr];Tr=Ir[Cr];for(let wn=0,kn=$e.length;wn<kn;wn++){const xt=Wt($e[wn],Tr[wn],hr);Ce?us(xt.x,xt.y+De[U-1].y,De[U-1].x+or):us(xt.x,xt.y,H+or)}}}function gn(Fn,Zn){let or=Fn.length;for(;--or>=0;){const hr=or;let Cr=or-1;Cr<0&&(Cr=Fn.length-1);for(let et=0,$e=U+2*se;et<$e;et++){const wn=Yt*et,kn=Yt*(et+1);Po(Zn+hr+wn,Zn+Cr+wn,Zn+Cr+kn,Zn+hr+kn)}}}function us(Fn,Zn,or){L.push(Fn),L.push(Zn),L.push(or)}function Mo(Fn,Zn,or){xi(Fn),xi(Zn),xi(or);const hr=v.length/3,Cr=K.generateTopUV(m,v,hr-3,hr-2,hr-1);Uo(Cr[0]),Uo(Cr[1]),Uo(Cr[2])}function Po(Fn,Zn,or,hr){xi(Fn),xi(Zn),xi(hr),xi(Zn),xi(or),xi(hr);const Cr=v.length/3,et=K.generateSideWallUV(m,v,Cr-6,Cr-3,Cr-2,Cr-1);Uo(et[0]),Uo(et[1]),Uo(et[3]),Uo(et[1]),Uo(et[2]),Uo(et[3])}function xi(Fn){v.push(L[3*Fn+0]),v.push(L[3*Fn+1]),v.push(L[3*Fn+2])}function Uo(Fn){_.push(Fn.x),_.push(Fn.y)}(function ts(){const Fn=v.length/3;if(V){let Zn=0,or=Yt*Zn;for(let hr=0;hr<zn;hr++){const Cr=Ut[hr];Mo(Cr[2]+or,Cr[1]+or,Cr[0]+or)}Zn=U+2*se,or=Yt*Zn;for(let hr=0;hr<zn;hr++){const Cr=Ut[hr];Mo(Cr[0]+or,Cr[1]+or,Cr[2]+or)}}else{for(let Zn=0;Zn<zn;Zn++){const or=Ut[Zn];Mo(or[2],or[1],or[0])}for(let Zn=0;Zn<zn;Zn++){const or=Ut[Zn];Mo(or[0]+Yt*U,or[1]+Yt*U,or[2]+Yt*U)}}m.addGroup(Fn,v.length/3-Fn,0)})(),function Lo(){const Fn=v.length/3;let Zn=0;gn(Tt,Zn),Zn+=Tt.length;for(let or=0,hr=jt.length;or<hr;or++){const Cr=jt[or];gn(Cr,Zn),Zn+=Cr.length}m.addGroup(Fn,v.length/3-Fn,1)}()}this.setAttribute("position",new yr(v,3)),this.setAttribute("uv",new yr(_,2)),this.computeVertexNormals()}toJSON(){const l=Br.prototype.toJSON.call(this);return function CD(f,l,d){if(d.shapes=[],Array.isArray(f))for(let m=0,v=f.length;m<v;m++)d.shapes.push(f[m].uuid);else d.shapes.push(f.uuid);return void 0!==l.extrudePath&&(d.options.extrudePath=l.extrudePath.toJSON()),d}(this.parameters.shapes,this.parameters.options,l)}}const Xp={generateTopUV:function(f,l,d,m,v){const D=l[3*m],L=l[3*m+1],k=l[3*v],U=l[3*v+1];return[new _n(l[3*d],l[3*d+1]),new _n(D,L),new _n(k,U)]},generateSideWallUV:function(f,l,d,m,v,_){const x=l[3*d],D=l[3*d+1],L=l[3*d+2],k=l[3*m],U=l[3*m+1],H=l[3*m+2],V=l[3*v],Y=l[3*v+1],J=l[3*v+2],te=l[3*_],se=l[3*_+1],oe=l[3*_+2];return Math.abs(D-U)<.01?[new _n(x,1-L),new _n(k,1-H),new _n(V,1-J),new _n(te,1-oe)]:[new _n(D,1-L),new _n(U,1-H),new _n(Y,1-J),new _n(se,1-oe)]}};class y_ extends Ph{constructor(l=1,d=0){const m=(1+Math.sqrt(5))/2;super([-1,m,0,1,m,0,-1,-m,0,1,-m,0,0,-1,m,0,1,m,0,-1,-m,0,1,-m,m,0,-1,m,0,1,-m,0,-1,-m,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],l,d),this.type="IcosahedronGeometry",this.parameters={radius:l,detail:d}}}class F0 extends Br{constructor(l,d=12,m=0,v=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:l,segments:d,phiStart:m,phiLength:v},d=Math.floor(d),v=Dr.clamp(v,0,2*Math.PI);const _=[],x=[],D=[],L=1/d,k=new Ee,U=new _n;for(let H=0;H<=d;H++){const V=m+H*L*v,Y=Math.sin(V),J=Math.cos(V);for(let te=0;te<=l.length-1;te++)k.x=l[te].x*Y,k.y=l[te].y,k.z=l[te].x*J,x.push(k.x,k.y,k.z),U.x=H/d,U.y=te/(l.length-1),D.push(U.x,U.y)}for(let H=0;H<d;H++)for(let V=0;V<l.length-1;V++){const Y=V+H*l.length,te=Y+l.length,se=Y+l.length+1,oe=Y+1;_.push(Y,te,oe),_.push(te,se,oe)}if(this.setIndex(_),this.setAttribute("position",new yr(x,3)),this.setAttribute("uv",new yr(D,2)),this.computeVertexNormals(),v===2*Math.PI){const H=this.attributes.normal.array,V=new Ee,Y=new Ee,J=new Ee,te=d*l.length*3;for(let se=0,oe=0;se<l.length;se++,oe+=3)V.x=H[oe+0],V.y=H[oe+1],V.z=H[oe+2],Y.x=H[te+oe+0],Y.y=H[te+oe+1],Y.z=H[te+oe+2],J.addVectors(V,Y).normalize(),H[oe+0]=H[te+oe+0]=J.x,H[oe+1]=H[te+oe+1]=J.y,H[oe+2]=H[te+oe+2]=J.z}}}class H0 extends Ph{constructor(l=1,d=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],l,d),this.type="OctahedronGeometry",this.parameters={radius:l,detail:d}}}function Fd(f,l,d){Br.call(this),this.type="ParametricGeometry",this.parameters={func:f,slices:l,stacks:d};const m=[],v=[],_=[],x=[],D=1e-5,L=new Ee,k=new Ee,U=new Ee,H=new Ee,V=new Ee;f.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const Y=l+1;for(let J=0;J<=d;J++){const te=J/d;for(let se=0;se<=l;se++){const oe=se/l;f(oe,te,k),v.push(k.x,k.y,k.z),oe-D>=0?(f(oe-D,te,U),H.subVectors(k,U)):(f(oe+D,te,U),H.subVectors(U,k)),te-D>=0?(f(oe,te-D,U),V.subVectors(k,U)):(f(oe,te+D,U),V.subVectors(U,k)),L.crossVectors(H,V).normalize(),_.push(L.x,L.y,L.z),x.push(oe,te)}}for(let J=0;J<d;J++)for(let te=0;te<l;te++){const oe=J*Y+te+1,K=(J+1)*Y+te+1,De=(J+1)*Y+te;m.push(J*Y+te,oe,De),m.push(oe,K,De)}this.setIndex(m),this.setAttribute("position",new yr(v,3)),this.setAttribute("normal",new yr(_,3)),this.setAttribute("uv",new yr(x,2))}(Fd.prototype=Object.create(Br.prototype)).constructor=Fd;class B0 extends Br{constructor(l=.5,d=1,m=8,v=1,_=0,x=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:l,outerRadius:d,thetaSegments:m,phiSegments:v,thetaStart:_,thetaLength:x},m=Math.max(3,m);const D=[],L=[],k=[],U=[];let H=l;const V=(d-l)/(v=Math.max(1,v)),Y=new Ee,J=new _n;for(let te=0;te<=v;te++){for(let se=0;se<=m;se++){const oe=_+se/m*x;Y.x=H*Math.cos(oe),Y.y=H*Math.sin(oe),L.push(Y.x,Y.y,Y.z),k.push(0,0,1),J.x=(Y.x/d+1)/2,J.y=(Y.y/d+1)/2,U.push(J.x,J.y)}H+=V}for(let te=0;te<v;te++){const se=te*(m+1);for(let oe=0;oe<m;oe++){const K=oe+se,Ce=K+m+1,Ve=K+m+2,Se=K+1;D.push(K,Ce,Se),D.push(Ce,Ve,Se)}}this.setIndex(D),this.setAttribute("position",new yr(L,3)),this.setAttribute("normal",new yr(k,3)),this.setAttribute("uv",new yr(U,2))}}class Jg extends Br{constructor(l,d=12){super(),this.type="ShapeGeometry",this.parameters={shapes:l,curveSegments:d};const m=[],v=[],_=[],x=[];let D=0,L=0;if(!1===Array.isArray(l))k(l);else for(let U=0;U<l.length;U++)k(l[U]),this.addGroup(D,L,U),D+=L,L=0;function k(U){const H=v.length/3,V=U.extractPoints(d);let Y=V.shape;const J=V.holes;!1===Fh.isClockWise(Y)&&(Y=Y.reverse());for(let se=0,oe=J.length;se<oe;se++){const K=J[se];!0===Fh.isClockWise(K)&&(J[se]=K.reverse())}const te=Fh.triangulateShape(Y,J);for(let se=0,oe=J.length;se<oe;se++)Y=Y.concat(J[se]);for(let se=0,oe=Y.length;se<oe;se++){const K=Y[se];v.push(K.x,K.y,0),_.push(0,0,1),x.push(K.x,K.y)}for(let se=0,oe=te.length;se<oe;se++){const K=te[se];m.push(K[0]+H,K[1]+H,K[2]+H),L+=3}}this.setIndex(m),this.setAttribute("position",new yr(v,3)),this.setAttribute("normal",new yr(_,3)),this.setAttribute("uv",new yr(x,2))}toJSON(){const l=Br.prototype.toJSON.call(this);return function ED(f,l){if(l.shapes=[],Array.isArray(f))for(let d=0,m=f.length;d<m;d++)l.shapes.push(f[d].uuid);else l.shapes.push(f.uuid);return l}(this.parameters.shapes,l)}}class Qg extends Br{constructor(l=1,d=8,m=6,v=0,_=2*Math.PI,x=0,D=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:l,widthSegments:d,heightSegments:m,phiStart:v,phiLength:_,thetaStart:x,thetaLength:D},d=Math.max(3,Math.floor(d)),m=Math.max(2,Math.floor(m));const L=Math.min(x+D,Math.PI);let k=0;const U=[],H=new Ee,V=new Ee,Y=[],J=[],te=[],se=[];for(let oe=0;oe<=m;oe++){const K=[],De=oe/m;let Ce=0;0==oe&&0==x?Ce=.5/d:oe==m&&L==Math.PI&&(Ce=-.5/d);for(let Ve=0;Ve<=d;Ve++){const Se=Ve/d;H.x=-l*Math.cos(v+Se*_)*Math.sin(x+De*D),H.y=l*Math.cos(x+De*D),H.z=l*Math.sin(v+Se*_)*Math.sin(x+De*D),J.push(H.x,H.y,H.z),V.copy(H).normalize(),te.push(V.x,V.y,V.z),se.push(Se+Ce,1-De),K.push(k++)}U.push(K)}for(let oe=0;oe<m;oe++)for(let K=0;K<d;K++){const De=U[oe][K+1],Ce=U[oe][K],Ve=U[oe+1][K],Se=U[oe+1][K+1];(0!==oe||x>0)&&Y.push(De,Ce,Se),(oe!==m-1||L<Math.PI)&&Y.push(Ce,Ve,Se)}this.setIndex(Y),this.setAttribute("position",new yr(J,3)),this.setAttribute("normal",new yr(te,3)),this.setAttribute("uv",new yr(se,2))}}class ev extends Ph{constructor(l=1,d=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],l,d),this.type="TetrahedronGeometry",this.parameters={radius:l,detail:d}}}class __ extends Nd{constructor(l,d={}){const m=d.font;if(!m||!m.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Br;const v=m.generateShapes(l,d.size);d.depth=void 0!==d.height?d.height:50,void 0===d.bevelThickness&&(d.bevelThickness=10),void 0===d.bevelSize&&(d.bevelSize=8),void 0===d.bevelEnabled&&(d.bevelEnabled=!1),super(v,d),this.type="TextGeometry"}}class Kp extends Br{constructor(l=1,d=.4,m=8,v=6,_=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:l,tube:d,radialSegments:m,tubularSegments:v,arc:_},m=Math.floor(m),v=Math.floor(v);const x=[],D=[],L=[],k=[],U=new Ee,H=new Ee,V=new Ee;for(let Y=0;Y<=m;Y++)for(let J=0;J<=v;J++){const te=J/v*_,se=Y/m*Math.PI*2;H.x=(l+d*Math.cos(se))*Math.cos(te),H.y=(l+d*Math.cos(se))*Math.sin(te),H.z=d*Math.sin(se),D.push(H.x,H.y,H.z),U.x=l*Math.cos(te),U.y=l*Math.sin(te),V.subVectors(H,U).normalize(),L.push(V.x,V.y,V.z),k.push(J/v),k.push(Y/m)}for(let Y=1;Y<=m;Y++)for(let J=1;J<=v;J++){const se=(v+1)*(Y-1)+J-1,oe=(v+1)*(Y-1)+J,K=(v+1)*Y+J;x.push((v+1)*Y+J-1,se,K),x.push(se,oe,K)}this.setIndex(x),this.setAttribute("position",new yr(D,3)),this.setAttribute("normal",new yr(L,3)),this.setAttribute("uv",new yr(k,2))}}class Zp extends Br{constructor(l=1,d=.4,m=64,v=8,_=2,x=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:l,tube:d,tubularSegments:m,radialSegments:v,p:_,q:x},m=Math.floor(m),v=Math.floor(v);const D=[],L=[],k=[],U=[],H=new Ee,V=new Ee,Y=new Ee,J=new Ee,te=new Ee,se=new Ee,oe=new Ee;for(let De=0;De<=m;++De){const Ce=De/m*_*Math.PI*2;K(Ce,_,x,l,Y),K(Ce+.01,_,x,l,J),se.subVectors(J,Y),oe.addVectors(J,Y),te.crossVectors(se,oe),oe.crossVectors(te,se),te.normalize(),oe.normalize();for(let Ve=0;Ve<=v;++Ve){const Se=Ve/v*Math.PI*2,nt=-d*Math.cos(Se),Dt=d*Math.sin(Se);H.x=Y.x+(nt*oe.x+Dt*te.x),H.y=Y.y+(nt*oe.y+Dt*te.y),H.z=Y.z+(nt*oe.z+Dt*te.z),L.push(H.x,H.y,H.z),V.subVectors(H,Y).normalize(),k.push(V.x,V.y,V.z),U.push(De/m),U.push(Ve/v)}}for(let De=1;De<=m;De++)for(let Ce=1;Ce<=v;Ce++){const Se=(v+1)*De+(Ce-1),nt=(v+1)*De+Ce,Dt=(v+1)*(De-1)+Ce;D.push((v+1)*(De-1)+(Ce-1),Se,Dt),D.push(Se,nt,Dt)}function K(De,Ce,Ve,Se,nt){const Dt=Math.cos(De),Mt=Math.sin(De),at=Ve/Ce*De,jt=Math.cos(at);nt.x=Se*(2+jt)*.5*Dt,nt.y=Se*(2+jt)*Mt*.5,nt.z=Se*Math.sin(at)*.5}this.setIndex(D),this.setAttribute("position",new yr(L,3)),this.setAttribute("normal",new yr(k,3)),this.setAttribute("uv",new yr(U,2))}}class b_ extends Br{constructor(l,d=64,m=1,v=8,_=!1){super(),this.type="TubeGeometry",this.parameters={path:l,tubularSegments:d,radius:m,radialSegments:v,closed:_};const x=l.computeFrenetFrames(d,_);this.tangents=x.tangents,this.normals=x.normals,this.binormals=x.binormals;const D=new Ee,L=new Ee,k=new _n;let U=new Ee;const H=[],V=[],Y=[],J=[];function se(De){U=l.getPointAt(De/d,U);const Ce=x.normals[De],Ve=x.binormals[De];for(let Se=0;Se<=v;Se++){const nt=Se/v*Math.PI*2,Dt=Math.sin(nt),Mt=-Math.cos(nt);L.x=Mt*Ce.x+Dt*Ve.x,L.y=Mt*Ce.y+Dt*Ve.y,L.z=Mt*Ce.z+Dt*Ve.z,L.normalize(),V.push(L.x,L.y,L.z),D.x=U.x+m*L.x,D.y=U.y+m*L.y,D.z=U.z+m*L.z,H.push(D.x,D.y,D.z)}}(function te(){for(let De=0;De<d;De++)se(De);se(!1===_?d:0),function K(){for(let De=0;De<=d;De++)for(let Ce=0;Ce<=v;Ce++)k.x=De/d,k.y=Ce/v,Y.push(k.x,k.y)}(),function oe(){for(let De=1;De<=d;De++)for(let Ce=1;Ce<=v;Ce++){const Se=(v+1)*De+(Ce-1),nt=(v+1)*De+Ce,Dt=(v+1)*(De-1)+Ce;J.push((v+1)*(De-1)+(Ce-1),Se,Dt),J.push(Se,nt,Dt)}}()})(),this.setIndex(J),this.setAttribute("position",new yr(H,3)),this.setAttribute("normal",new yr(V,3)),this.setAttribute("uv",new yr(Y,2))}toJSON(){const l=Br.prototype.toJSON.call(this);return l.path=this.parameters.path.toJSON(),l}}class w_ extends Br{constructor(l){if(super(),this.type="WireframeGeometry",!0===l.isGeometry)return void console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const d=[],m=[0,0],v={},_=new Ee;if(null!==l.index){const x=l.attributes.position,D=l.index;let L=l.groups;0===L.length&&(L=[{start:0,count:D.count,materialIndex:0}]);for(let k=0,U=L.length;k<U;++k){const H=L[k],V=H.start;for(let J=V,te=V+H.count;J<te;J+=3)for(let se=0;se<3;se++){const oe=D.getX(J+se),K=D.getX(J+(se+1)%3);m[0]=Math.min(oe,K),m[1]=Math.max(oe,K);const De=m[0]+","+m[1];void 0===v[De]&&(v[De]={index1:m[0],index2:m[1]})}}for(const k in v){const U=v[k];_.fromBufferAttribute(x,U.index1),d.push(_.x,_.y,_.z),_.fromBufferAttribute(x,U.index2),d.push(_.x,_.y,_.z)}}else{const x=l.attributes.position;for(let D=0,L=x.count/3;D<L;D++)for(let k=0;k<3;k++)_.fromBufferAttribute(x,3*D+k),d.push(_.x,_.y,_.z),_.fromBufferAttribute(x,3*D+(k+1)%3),d.push(_.x,_.y,_.z)}this.setAttribute("position",new yr(d,3))}}var _l=Object.freeze({__proto__:null,BoxGeometry:Wc,BoxBufferGeometry:Wc,CircleGeometry:C0,CircleBufferGeometry:C0,ConeGeometry:E0,ConeBufferGeometry:E0,CylinderGeometry:qg,CylinderBufferGeometry:qg,DodecahedronGeometry:T0,DodecahedronBufferGeometry:T0,EdgesGeometry:GC,ExtrudeGeometry:Nd,ExtrudeBufferGeometry:Nd,IcosahedronGeometry:y_,IcosahedronBufferGeometry:y_,LatheGeometry:F0,LatheBufferGeometry:F0,OctahedronGeometry:H0,OctahedronBufferGeometry:H0,ParametricGeometry:Fd,ParametricBufferGeometry:Fd,PlaneGeometry:tu,PlaneBufferGeometry:tu,PolyhedronGeometry:Ph,PolyhedronBufferGeometry:Ph,RingGeometry:B0,RingBufferGeometry:B0,ShapeGeometry:Jg,ShapeBufferGeometry:Jg,SphereGeometry:Qg,SphereBufferGeometry:Qg,TetrahedronGeometry:ev,TetrahedronBufferGeometry:ev,TextGeometry:__,TextBufferGeometry:__,TorusGeometry:Kp,TorusBufferGeometry:Kp,TorusKnotGeometry:Zp,TorusKnotBufferGeometry:Zp,TubeGeometry:b_,TubeBufferGeometry:b_,WireframeGeometry:w_});class M_ extends Bo{constructor(l){super(),this.type="ShadowMaterial",this.color=new dr(0),this.transparent=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this}}M_.prototype.isShadowMaterial=!0;class Hd extends Os{constructor(l){super(l),this.type="RawShaderMaterial"}}function Bd(f){Bo.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new dr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bs,this.normalScale=new _n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(f)}function Hh(f){Bd.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _n(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(l){this.reflectivity=Dr.clamp(2.5*(l-1)/(l+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(f)}Hd.prototype.isRawShaderMaterial=!0,(Bd.prototype=Object.create(Bo.prototype)).constructor=Bd,Bd.prototype.isMeshStandardMaterial=!0,Bd.prototype.copy=function(f){return Bo.prototype.copy.call(this,f),this.defines={STANDARD:""},this.color.copy(f.color),this.roughness=f.roughness,this.metalness=f.metalness,this.map=f.map,this.lightMap=f.lightMap,this.lightMapIntensity=f.lightMapIntensity,this.aoMap=f.aoMap,this.aoMapIntensity=f.aoMapIntensity,this.emissive.copy(f.emissive),this.emissiveMap=f.emissiveMap,this.emissiveIntensity=f.emissiveIntensity,this.bumpMap=f.bumpMap,this.bumpScale=f.bumpScale,this.normalMap=f.normalMap,this.normalMapType=f.normalMapType,this.normalScale.copy(f.normalScale),this.displacementMap=f.displacementMap,this.displacementScale=f.displacementScale,this.displacementBias=f.displacementBias,this.roughnessMap=f.roughnessMap,this.metalnessMap=f.metalnessMap,this.alphaMap=f.alphaMap,this.envMap=f.envMap,this.envMapIntensity=f.envMapIntensity,this.refractionRatio=f.refractionRatio,this.wireframe=f.wireframe,this.wireframeLinewidth=f.wireframeLinewidth,this.wireframeLinecap=f.wireframeLinecap,this.wireframeLinejoin=f.wireframeLinejoin,this.skinning=f.skinning,this.morphTargets=f.morphTargets,this.morphNormals=f.morphNormals,this.flatShading=f.flatShading,this.vertexTangents=f.vertexTangents,this},(Hh.prototype=Object.create(Bd.prototype)).constructor=Hh,Hh.prototype.isMeshPhysicalMaterial=!0,Hh.prototype.copy=function(f){return Bd.prototype.copy.call(this,f),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=f.clearcoat,this.clearcoatMap=f.clearcoatMap,this.clearcoatRoughness=f.clearcoatRoughness,this.clearcoatRoughnessMap=f.clearcoatRoughnessMap,this.clearcoatNormalMap=f.clearcoatNormalMap,this.clearcoatNormalScale.copy(f.clearcoatNormalScale),this.reflectivity=f.reflectivity,this.sheen=f.sheen?(this.sheen||new dr).copy(f.sheen):null,this.transmission=f.transmission,this.transmissionMap=f.transmissionMap,this};class V0 extends Bo{constructor(l){super(),this.type="MeshPhongMaterial",this.color=new dr(16777215),this.specular=new dr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bs,this.normalScale=new _n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gr,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.specular.copy(l.specular),this.shininess=l.shininess,this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}V0.prototype.isMeshPhongMaterial=!0;class tE extends Bo{constructor(l){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new dr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bs,this.normalScale=new _n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.gradientMap=l.gradientMap,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.alphaMap=l.alphaMap,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this}}tE.prototype.isMeshToonMaterial=!0;class z0 extends Bo{constructor(l){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bs,this.normalScale=new _n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}z0.prototype.isMeshNormalMaterial=!0;class S_ extends Bo{constructor(l){super(),this.type="MeshLambertMaterial",this.color=new dr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gr,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this}}S_.prototype.isMeshLambertMaterial=!0;class U0 extends Bo{constructor(l){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new dr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bs,this.normalScale=new _n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.defines={MATCAP:""},this.color.copy(l.color),this.matcap=l.matcap,this.map=l.map,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.alphaMap=l.alphaMap,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}U0.prototype.isMeshMatcapMaterial=!0;class TD extends ka{constructor(l){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(l)}copy(l){return super.copy(l),this.scale=l.scale,this.dashSize=l.dashSize,this.gapSize=l.gapSize,this}}TD.prototype.isLineDashedMaterial=!0;var RD=Object.freeze({__proto__:null,ShadowMaterial:M_,SpriteMaterial:fc,RawShaderMaterial:Hd,ShaderMaterial:Os,PointsMaterial:Lh,MeshPhysicalMaterial:Hh,MeshStandardMaterial:Bd,MeshPhongMaterial:V0,MeshToonMaterial:tE,MeshNormalMaterial:z0,MeshLambertMaterial:S_,MeshDepthMaterial:h0,MeshDistanceMaterial:f0,MeshBasicMaterial:Vc,MeshMatcapMaterial:U0,LineDashedMaterial:TD,LineBasicMaterial:ka,Material:Bo});const vs={arraySlice:function(f,l,d){return vs.isTypedArray(f)?new f.constructor(f.subarray(l,void 0!==d?d:f.length)):f.slice(l,d)},convertArray:function(f,l,d){return!f||!d&&f.constructor===l?f:"number"==typeof l.BYTES_PER_ELEMENT?new l(f):Array.prototype.slice.call(f)},isTypedArray:function(f){return ArrayBuffer.isView(f)&&!(f instanceof DataView)},getKeyframeOrder:function(f){const d=f.length,m=new Array(d);for(let v=0;v!==d;++v)m[v]=v;return m.sort(function l(v,_){return f[v]-f[_]}),m},sortedArray:function(f,l,d){const m=f.length,v=new f.constructor(m);for(let _=0,x=0;x!==m;++_){const D=d[_]*l;for(let L=0;L!==l;++L)v[x++]=f[D+L]}return v},flattenJSON:function(f,l,d,m){let v=1,_=f[0];for(;void 0!==_&&void 0===_[m];)_=f[v++];if(void 0===_)return;let x=_[m];if(void 0!==x)if(Array.isArray(x))do{x=_[m],void 0!==x&&(l.push(_.time),d.push.apply(d,x)),_=f[v++]}while(void 0!==_);else if(void 0!==x.toArray)do{x=_[m],void 0!==x&&(l.push(_.time),x.toArray(d,d.length)),_=f[v++]}while(void 0!==_);else do{x=_[m],void 0!==x&&(l.push(_.time),d.push(x)),_=f[v++]}while(void 0!==_)},subclip:function(f,l,d,m,v=30){const _=f.clone();_.name=l;const x=[];for(let L=0;L<_.tracks.length;++L){const k=_.tracks[L],U=k.getValueSize(),H=[],V=[];for(let Y=0;Y<k.times.length;++Y){const J=k.times[Y]*v;if(!(J<d||J>=m)){H.push(k.times[Y]);for(let te=0;te<U;++te)V.push(k.values[Y*U+te])}}0!==H.length&&(k.times=vs.convertArray(H,k.times.constructor),k.values=vs.convertArray(V,k.values.constructor),x.push(k))}_.tracks=x;let D=1/0;for(let L=0;L<_.tracks.length;++L)D>_.tracks[L].times[0]&&(D=_.tracks[L].times[0]);for(let L=0;L<_.tracks.length;++L)_.tracks[L].shift(-1*D);return _.resetDuration(),_},makeClipAdditive:function(f,l=0,d=f,m=30){m<=0&&(m=30);const v=d.tracks.length,_=l/m;for(let x=0;x<v;++x){const D=d.tracks[x],L=D.ValueTypeName;if("bool"===L||"string"===L)continue;const k=f.tracks.find(function(oe){return oe.name===D.name&&oe.ValueTypeName===L});if(void 0===k)continue;let U=0;const H=D.getValueSize();D.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(U=H/3);let V=0;const Y=k.getValueSize();k.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(V=Y/3);const J=D.times.length-1;let te;if(_<=D.times[0])te=vs.arraySlice(D.values,U,H-U);else if(_>=D.times[J]){const oe=J*H+U;te=vs.arraySlice(D.values,oe,oe+H-U)}else{const oe=D.createInterpolant(),K=U,De=H-U;oe.evaluate(_),te=vs.arraySlice(oe.resultBuffer,K,De)}"quaternion"===L&&(new Sr).fromArray(te).normalize().conjugate().toArray(te);const se=k.times.length;for(let oe=0;oe<se;++oe){const K=oe*Y+V;if("quaternion"===L)Sr.multiplyQuaternionsFlat(k.values,K,te,0,k.values,K);else{const De=Y-2*V;for(let Ce=0;Ce<De;++Ce)k.values[K+Ce]-=te[Ce]}}}return f.blendMode=Ep,f}};function iu(f,l,d,m){this.parameterPositions=f,this._cachedIndex=0,this.resultBuffer=void 0!==m?m:new l.constructor(d),this.sampleValues=l,this.valueSize=d}function j0(f,l,d,m){iu.call(this,f,l,d,m),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function x_(f,l,d,m){iu.call(this,f,l,d,m)}function ou(f,l,d,m){iu.call(this,f,l,d,m)}Object.assign(iu.prototype,{evaluate:function(f){const l=this.parameterPositions;let d=this._cachedIndex,m=l[d],v=l[d-1];e:{t:{let _;n:{r:if(!(f<m)){for(let x=d+2;;){if(void 0===m){if(f<v)break r;return d=l.length,this._cachedIndex=d,this.afterEnd_(d-1,f,v)}if(d===x)break;if(v=m,m=l[++d],f<m)break t}_=l.length;break n}if(f>=v)break e;{const x=l[1];f<x&&(d=2,v=x);for(let D=d-2;;){if(void 0===v)return this._cachedIndex=0,this.beforeStart_(0,f,m);if(d===D)break;if(m=v,v=l[--d-1],f>=v)break t}_=d,d=0}}for(;d<_;){const x=d+_>>>1;f<l[x]?_=x:d=x+1}if(m=l[d],v=l[d-1],void 0===v)return this._cachedIndex=0,this.beforeStart_(0,f,m);if(void 0===m)return d=l.length,this._cachedIndex=d,this.afterEnd_(d-1,v,f)}this._cachedIndex=d,this.intervalChanged_(d,v,m)}return this.interpolate_(d,v,f,m)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(f){const l=this.resultBuffer,d=this.sampleValues,m=this.valueSize,v=f*m;for(let _=0;_!==m;++_)l[_]=d[v+_];return l},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(iu.prototype,{beforeStart_:iu.prototype.copySampleValue_,afterEnd_:iu.prototype.copySampleValue_}),j0.prototype=Object.assign(Object.create(iu.prototype),{constructor:j0,DefaultSettings_:{endingStart:Ta,endingEnd:Ta},intervalChanged_:function(f,l,d){const m=this.parameterPositions;let v=f-2,_=f+1,x=m[v],D=m[_];if(void 0===x)switch(this.getSettings_().endingStart){case Lc:v=f,x=2*l-d;break;case _h:v=m.length-2,x=l+m[v]-m[v+1];break;default:v=f,x=d}if(void 0===D)switch(this.getSettings_().endingEnd){case Lc:_=f,D=2*d-l;break;case _h:_=1,D=d+m[1]-m[0];break;default:_=f-1,D=l}const L=.5*(d-l),k=this.valueSize;this._weightPrev=L/(l-x),this._weightNext=L/(D-d),this._offsetPrev=v*k,this._offsetNext=_*k},interpolate_:function(f,l,d,m){const v=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=f*x,L=D-x,k=this._offsetPrev,U=this._offsetNext,H=this._weightPrev,V=this._weightNext,Y=(d-l)/(m-l),J=Y*Y,te=J*Y,se=-H*te+2*H*J-H*Y,oe=(1+H)*te+(-1.5-2*H)*J+(-.5+H)*Y+1,K=(-1-V)*te+(1.5+V)*J+.5*Y,De=V*te-V*J;for(let Ce=0;Ce!==x;++Ce)v[Ce]=se*_[k+Ce]+oe*_[L+Ce]+K*_[D+Ce]+De*_[U+Ce];return v}}),x_.prototype=Object.assign(Object.create(iu.prototype),{constructor:x_,interpolate_:function(f,l,d,m){const v=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=f*x,L=D-x,k=(d-l)/(m-l),U=1-k;for(let H=0;H!==x;++H)v[H]=_[L+H]*U+_[D+H]*k;return v}}),ou.prototype=Object.assign(Object.create(iu.prototype),{constructor:ou,interpolate_:function(f){return this.copySampleValue_(f-1)}});class qc{constructor(l,d,m,v){if(void 0===l)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===d||0===d.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+l);this.name=l,this.times=vs.convertArray(d,this.TimeBufferType),this.values=vs.convertArray(m,this.ValueBufferType),this.setInterpolation(v||this.DefaultInterpolation)}static toJSON(l){const d=l.constructor;let m;if(d.toJSON!==this.toJSON)m=d.toJSON(l);else{m={name:l.name,times:vs.convertArray(l.times,Array),values:vs.convertArray(l.values,Array)};const v=l.getInterpolation();v!==l.DefaultInterpolation&&(m.interpolation=v)}return m.type=l.ValueTypeName,m}InterpolantFactoryMethodDiscrete(l){return new ou(this.times,this.values,this.getValueSize(),l)}InterpolantFactoryMethodLinear(l){return new x_(this.times,this.values,this.getValueSize(),l)}InterpolantFactoryMethodSmooth(l){return new j0(this.times,this.values,this.getValueSize(),l)}setInterpolation(l){let d;switch(l){case yh:d=this.InterpolantFactoryMethodDiscrete;break;case Ks:d=this.InterpolantFactoryMethodLinear;break;case Vi:d=this.InterpolantFactoryMethodSmooth}if(void 0===d){const m="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(l===this.DefaultInterpolation)throw new Error(m);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",m),this}return this.createInterpolant=d,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return yh;case this.InterpolantFactoryMethodLinear:return Ks;case this.InterpolantFactoryMethodSmooth:return Vi}}getValueSize(){return this.values.length/this.times.length}shift(l){if(0!==l){const d=this.times;for(let m=0,v=d.length;m!==v;++m)d[m]+=l}return this}scale(l){if(1!==l){const d=this.times;for(let m=0,v=d.length;m!==v;++m)d[m]*=l}return this}trim(l,d){const m=this.times,v=m.length;let _=0,x=v-1;for(;_!==v&&m[_]<l;)++_;for(;-1!==x&&m[x]>d;)--x;if(++x,0!==_||x!==v){_>=x&&(x=Math.max(x,1),_=x-1);const D=this.getValueSize();this.times=vs.arraySlice(m,_,x),this.values=vs.arraySlice(this.values,_*D,x*D)}return this}validate(){let l=!0;const d=this.getValueSize();d-Math.floor(d)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),l=!1);const m=this.times,v=this.values,_=m.length;0===_&&(console.error("THREE.KeyframeTrack: Track is empty.",this),l=!1);let x=null;for(let D=0;D!==_;D++){const L=m[D];if("number"==typeof L&&isNaN(L)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,D,L),l=!1;break}if(null!==x&&x>L){console.error("THREE.KeyframeTrack: Out of order keys.",this,D,L,x),l=!1;break}x=L}if(void 0!==v&&vs.isTypedArray(v))for(let D=0,L=v.length;D!==L;++D){const k=v[D];if(isNaN(k)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,D,k),l=!1;break}}return l}optimize(){const l=vs.arraySlice(this.times),d=vs.arraySlice(this.values),m=this.getValueSize(),v=this.getInterpolation()===Vi,_=l.length-1;let x=1;for(let D=1;D<_;++D){let L=!1;const k=l[D];if(k!==l[D+1]&&(1!==D||k!==l[0]))if(v)L=!0;else{const H=D*m,V=H-m,Y=H+m;for(let J=0;J!==m;++J){const te=d[H+J];if(te!==d[V+J]||te!==d[Y+J]){L=!0;break}}}if(L){if(D!==x){l[x]=l[D];const H=D*m,V=x*m;for(let Y=0;Y!==m;++Y)d[V+Y]=d[H+Y]}++x}}if(_>0){l[x]=l[_];for(let D=_*m,L=x*m,k=0;k!==m;++k)d[L+k]=d[D+k];++x}return x!==l.length?(this.times=vs.arraySlice(l,0,x),this.values=vs.arraySlice(d,0,x*m)):(this.times=l,this.values=d),this}clone(){const l=vs.arraySlice(this.times,0),d=vs.arraySlice(this.values,0),v=new(0,this.constructor)(this.name,l,d);return v.createInterpolant=this.createInterpolant,v}}qc.prototype.TimeBufferType=Float32Array,qc.prototype.ValueBufferType=Float32Array,qc.prototype.DefaultInterpolation=Ks;class If extends qc{}If.prototype.ValueTypeName="bool",If.prototype.ValueBufferType=Array,If.prototype.DefaultInterpolation=yh,If.prototype.InterpolantFactoryMethodLinear=void 0,If.prototype.InterpolantFactoryMethodSmooth=void 0;class nE extends qc{}nE.prototype.ValueTypeName="color";class C_ extends qc{}function W0(f,l,d,m){iu.call(this,f,l,d,m)}C_.prototype.ValueTypeName="number",W0.prototype=Object.assign(Object.create(iu.prototype),{constructor:W0,interpolate_:function(f,l,d,m){const v=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=(d-l)/(m-l);let L=f*x;for(let k=L+x;L!==k;L+=4)Sr.slerpFlat(v,0,_,L-x,_,L,D);return v}});class tv extends qc{InterpolantFactoryMethodLinear(l){return new W0(this.times,this.values,this.getValueSize(),l)}}tv.prototype.ValueTypeName="quaternion",tv.prototype.DefaultInterpolation=Ks,tv.prototype.InterpolantFactoryMethodSmooth=void 0;class Nf extends qc{}Nf.prototype.ValueTypeName="string",Nf.prototype.ValueBufferType=Array,Nf.prototype.DefaultInterpolation=yh,Nf.prototype.InterpolantFactoryMethodLinear=void 0,Nf.prototype.InterpolantFactoryMethodSmooth=void 0;class E_ extends qc{}E_.prototype.ValueTypeName="vector";class T_{constructor(l,d=-1,m,v=fn){this.name=l,this.tracks=m,this.duration=d,this.blendMode=v,this.uuid=Dr.generateUUID(),this.duration<0&&this.resetDuration()}static parse(l){const d=[],m=l.tracks,v=1/(l.fps||1);for(let x=0,D=m.length;x!==D;++x)d.push(Ri(m[x]).scale(v));const _=new this(l.name,l.duration,d,l.blendMode);return _.uuid=l.uuid,_}static toJSON(l){const d=[],m=l.tracks,v={name:l.name,duration:l.duration,tracks:d,uuid:l.uuid,blendMode:l.blendMode};for(let _=0,x=m.length;_!==x;++_)d.push(qc.toJSON(m[_]));return v}static CreateFromMorphTargetSequence(l,d,m,v){const _=d.length,x=[];for(let D=0;D<_;D++){let L=[],k=[];L.push((D+_-1)%_,D,(D+1)%_),k.push(0,1,0);const U=vs.getKeyframeOrder(L);L=vs.sortedArray(L,1,U),k=vs.sortedArray(k,1,U),!v&&0===L[0]&&(L.push(_),k.push(k[0])),x.push(new C_(".morphTargetInfluences["+d[D].name+"]",L,k).scale(1/m))}return new this(l,-1,x)}static findByName(l,d){let m=l;if(!Array.isArray(l)){const v=l;m=v.geometry&&v.geometry.animations||v.animations}for(let v=0;v<m.length;v++)if(m[v].name===d)return m[v];return null}static CreateClipsFromMorphTargetSequences(l,d,m){const v={},_=/^([\w-]*?)([\d]+)$/;for(let D=0,L=l.length;D<L;D++){const k=l[D],U=k.name.match(_);if(U&&U.length>1){const H=U[1];let V=v[H];V||(v[H]=V=[]),V.push(k)}}const x=[];for(const D in v)x.push(this.CreateFromMorphTargetSequence(D,v[D],d,m));return x}static parseAnimation(l,d){if(!l)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const m=function(H,V,Y,J,te){if(0!==Y.length){const se=[],oe=[];vs.flattenJSON(Y,se,oe,J),0!==se.length&&te.push(new H(V,se,oe))}},v=[],_=l.name||"default",x=l.fps||30,D=l.blendMode;let L=l.length||-1;const k=l.hierarchy||[];for(let H=0;H<k.length;H++){const V=k[H].keys;if(V&&0!==V.length)if(V[0].morphTargets){const Y={};let J;for(J=0;J<V.length;J++)if(V[J].morphTargets)for(let te=0;te<V[J].morphTargets.length;te++)Y[V[J].morphTargets[te]]=-1;for(const te in Y){const se=[],oe=[];for(let K=0;K!==V[J].morphTargets.length;++K){const De=V[J];se.push(De.time),oe.push(De.morphTarget===te?1:0)}v.push(new C_(".morphTargetInfluence["+te+"]",se,oe))}L=Y.length*(x||1)}else{const Y=".bones["+d[H].name+"]";m(E_,Y+".position",V,"pos",v),m(tv,Y+".quaternion",V,"rot",v),m(E_,Y+".scale",V,"scl",v)}}return 0===v.length?null:new this(_,L,v,D)}resetDuration(){let d=0;for(let m=0,v=this.tracks.length;m!==v;++m){const _=this.tracks[m];d=Math.max(d,_.times[_.times.length-1])}return this.duration=d,this}trim(){for(let l=0;l<this.tracks.length;l++)this.tracks[l].trim(0,this.duration);return this}validate(){let l=!0;for(let d=0;d<this.tracks.length;d++)l=l&&this.tracks[d].validate();return l}optimize(){for(let l=0;l<this.tracks.length;l++)this.tracks[l].optimize();return this}clone(){const l=[];for(let d=0;d<this.tracks.length;d++)l.push(this.tracks[d].clone());return new this.constructor(this.name,this.duration,l,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ri(f){if(void 0===f.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const l=function oF(f){switch(f.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return C_;case"vector":case"vector2":case"vector3":case"vector4":return E_;case"color":return nE;case"quaternion":return tv;case"bool":case"boolean":return If;case"string":return Nf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+f)}(f.type);if(void 0===f.times){const d=[],m=[];vs.flattenJSON(f.keys,d,m,"value"),f.times=d,f.values=m}return void 0!==l.parse?l.parse(f):new l(f.name,f.times,f.values,f.interpolation)}const Er={enabled:!1,files:{},add:function(f,l){!1!==this.enabled&&(this.files[f]=l)},get:function(f){if(!1!==this.enabled)return this.files[f]},remove:function(f){delete this.files[f]},clear:function(){this.files={}}};function Y0(f,l,d){const m=this;let D,v=!1,_=0,x=0;const L=[];this.onStart=void 0,this.onLoad=f,this.onProgress=l,this.onError=d,this.itemStart=function(k){x++,!1===v&&void 0!==m.onStart&&m.onStart(k,_,x),v=!0},this.itemEnd=function(k){_++,void 0!==m.onProgress&&m.onProgress(k,_,x),_===x&&(v=!1,void 0!==m.onLoad&&m.onLoad())},this.itemError=function(k){void 0!==m.onError&&m.onError(k)},this.resolveURL=function(k){return D?D(k):k},this.setURLModifier=function(k){return D=k,this},this.addHandler=function(k,U){return L.push(k,U),this},this.removeHandler=function(k){const U=L.indexOf(k);return-1!==U&&L.splice(U,2),this},this.getHandler=function(k){for(let U=0,H=L.length;U<H;U+=2){const V=L[U],Y=L[U+1];if(V.global&&(V.lastIndex=0),V.test(k))return Y}return null}}const rE=new Y0;function Gs(f){this.manager=void 0!==f?f:rE,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Gs.prototype,{load:function(){},loadAsync:function(f,l){const d=this;return new Promise(function(m,v){d.load(f,m,l,v)})},parse:function(){},setCrossOrigin:function(f){return this.crossOrigin=f,this},setWithCredentials:function(f){return this.withCredentials=f,this},setPath:function(f){return this.path=f,this},setResourcePath:function(f){return this.resourcePath=f,this},setRequestHeader:function(f){return this.requestHeader=f,this}});const Jc={};function Du(f){Gs.call(this,f)}Du.prototype=Object.assign(Object.create(Gs.prototype),{constructor:Du,load:function(f,l,d,m){void 0===f&&(f=""),void 0!==this.path&&(f=this.path+f),f=this.manager.resolveURL(f);const v=this,_=Er.get(f);if(void 0!==_)return v.manager.itemStart(f),setTimeout(function(){l&&l(_),v.manager.itemEnd(f)},0),_;if(void 0!==Jc[f])return void Jc[f].push({onLoad:l,onProgress:d,onError:m});const D=f.match(/^data:(.*?)(;base64)?,(.*)$/);let L;if(D){const k=D[1],U=!!D[2];let H=D[3];H=decodeURIComponent(H),U&&(H=atob(H));try{let V;const Y=(this.responseType||"").toLowerCase();switch(Y){case"arraybuffer":case"blob":const J=new Uint8Array(H.length);for(let se=0;se<H.length;se++)J[se]=H.charCodeAt(se);V="blob"===Y?new Blob([J.buffer],{type:k}):J.buffer;break;case"document":V=(new DOMParser).parseFromString(H,k);break;case"json":V=JSON.parse(H);break;default:V=H}setTimeout(function(){l&&l(V),v.manager.itemEnd(f)},0)}catch(V){setTimeout(function(){m&&m(V),v.manager.itemError(f),v.manager.itemEnd(f)},0)}}else{Jc[f]=[],Jc[f].push({onLoad:l,onProgress:d,onError:m}),L=new XMLHttpRequest,L.open("GET",f,!0),L.addEventListener("load",function(k){const U=this.response,H=Jc[f];if(delete Jc[f],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Er.add(f,U);for(let V=0,Y=H.length;V<Y;V++){const J=H[V];J.onLoad&&J.onLoad(U)}v.manager.itemEnd(f)}else{for(let V=0,Y=H.length;V<Y;V++){const J=H[V];J.onError&&J.onError(k)}v.manager.itemError(f),v.manager.itemEnd(f)}},!1),L.addEventListener("progress",function(k){const U=Jc[f];for(let H=0,V=U.length;H<V;H++){const Y=U[H];Y.onProgress&&Y.onProgress(k)}},!1),L.addEventListener("error",function(k){const U=Jc[f];delete Jc[f];for(let H=0,V=U.length;H<V;H++){const Y=U[H];Y.onError&&Y.onError(k)}v.manager.itemError(f),v.manager.itemEnd(f)},!1),L.addEventListener("abort",function(k){const U=Jc[f];delete Jc[f];for(let H=0,V=U.length;H<V;H++){const Y=U[H];Y.onError&&Y.onError(k)}v.manager.itemError(f),v.manager.itemEnd(f)},!1),void 0!==this.responseType&&(L.responseType=this.responseType),void 0!==this.withCredentials&&(L.withCredentials=this.withCredentials),L.overrideMimeType&&L.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const k in this.requestHeader)L.setRequestHeader(k,this.requestHeader[k]);L.send(null)}return v.manager.itemStart(f),L},setResponseType:function(f){return this.responseType=f,this},setMimeType:function(f){return this.mimeType=f,this}});class sF extends Gs{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Du(this.manager);x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(L){v?v(L):console.error(L),_.manager.itemError(l)}},m,v)}parse(l){const d=[];for(let m=0;m<l.length;m++){const v=T_.parse(l[m]);d.push(v)}return d}}function G0(f){Gs.call(this,f)}G0.prototype=Object.assign(Object.create(Gs.prototype),{constructor:G0,load:function(f,l,d,m){const v=this,_=[],x=new x0,D=new Du(this.manager);D.setPath(this.path),D.setResponseType("arraybuffer"),D.setRequestHeader(this.requestHeader),D.setWithCredentials(v.withCredentials);let L=0;function k(U){D.load(f[U],function(H){const V=v.parse(H,!0);_[U]={width:V.width,height:V.height,format:V.format,mipmaps:V.mipmaps},L+=1,6===L&&(1===V.mipmapCount&&(x.minFilter=Li),x.image=_,x.format=V.format,x.needsUpdate=!0,l&&l(x))},d,m)}if(Array.isArray(f))for(let U=0,H=f.length;U<H;++U)k(U);else D.load(f,function(U){const H=v.parse(U,!0);if(H.isCubemap){const V=H.mipmaps.length/H.mipmapCount;for(let Y=0;Y<V;Y++){_[Y]={mipmaps:[]};for(let J=0;J<H.mipmapCount;J++)_[Y].mipmaps.push(H.mipmaps[Y*H.mipmapCount+J]),_[Y].format=H.format,_[Y].width=H.width,_[Y].height=H.height}x.image=_}else x.image.width=H.width,x.image.height=H.height,x.mipmaps=H.mipmaps;1===H.mipmapCount&&(x.minFilter=Li),x.format=H.format,x.needsUpdate=!0,l&&l(x)},d,m);return x}});class $0 extends Gs{constructor(l){super(l)}load(l,d,m,v){void 0!==this.path&&(l=this.path+l),l=this.manager.resolveURL(l);const _=this,x=Er.get(l);if(void 0!==x)return _.manager.itemStart(l),setTimeout(function(){d&&d(x),_.manager.itemEnd(l)},0),x;const D=document.createElementNS("http://www.w3.org/1999/xhtml","img");function L(){D.removeEventListener("load",L,!1),D.removeEventListener("error",k,!1),Er.add(l,this),d&&d(this),_.manager.itemEnd(l)}function k(U){D.removeEventListener("load",L,!1),D.removeEventListener("error",k,!1),v&&v(U),_.manager.itemError(l),_.manager.itemEnd(l)}return D.addEventListener("load",L,!1),D.addEventListener("error",k,!1),"data:"!==l.substr(0,5)&&void 0!==this.crossOrigin&&(D.crossOrigin=this.crossOrigin),_.manager.itemStart(l),D.src=l,D}}class DD extends Gs{constructor(l){super(l)}load(l,d,m,v){const _=new Th,x=new $0(this.manager);x.setCrossOrigin(this.crossOrigin),x.setPath(this.path);let D=0;function L(k){x.load(l[k],function(U){_.images[k]=U,D++,6===D&&(_.needsUpdate=!0,d&&d(_))},void 0,v)}for(let k=0;k<l.length;++k)L(k);return _}}function iE(f){Gs.call(this,f)}function R_(f){Gs.call(this,f)}function bl(){this.type="Curve",this.arcLengthDivisions=200}iE.prototype=Object.assign(Object.create(Gs.prototype),{constructor:iE,load:function(f,l,d,m){const v=this,_=new Yc,x=new Du(this.manager);return x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setPath(this.path),x.setWithCredentials(v.withCredentials),x.load(f,function(D){const L=v.parse(D);!L||(void 0!==L.image?_.image=L.image:void 0!==L.data&&(_.image.width=L.width,_.image.height=L.height,_.image.data=L.data),_.wrapS=void 0!==L.wrapS?L.wrapS:dn,_.wrapT=void 0!==L.wrapT?L.wrapT:dn,_.magFilter=void 0!==L.magFilter?L.magFilter:Li,_.minFilter=void 0!==L.minFilter?L.minFilter:Li,_.anisotropy=void 0!==L.anisotropy?L.anisotropy:1,void 0!==L.encoding&&(_.encoding=L.encoding),void 0!==L.flipY&&(_.flipY=L.flipY),void 0!==L.format&&(_.format=L.format),void 0!==L.type&&(_.type=L.type),void 0!==L.mipmaps&&(_.mipmaps=L.mipmaps,_.minFilter=Xi),1===L.mipmapCount&&(_.minFilter=Li),_.needsUpdate=!0,l&&l(_,L))},d,m),_}}),R_.prototype=Object.assign(Object.create(Gs.prototype),{constructor:R_,load:function(f,l,d,m){const v=new uo,_=new $0(this.manager);return _.setCrossOrigin(this.crossOrigin),_.setPath(this.path),_.load(f,function(x){v.image=x;const D=f.search(/\.jpe?g($|\?)/i)>0||0===f.search(/^data\:image\/jpeg/);v.format=D?Ju:$o,v.needsUpdate=!0,void 0!==l&&l(v)},d,m),v}}),Object.assign(bl.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(f,l){const d=this.getUtoTmapping(f);return this.getPoint(d,l)},getPoints:function(f=5){const l=[];for(let d=0;d<=f;d++)l.push(this.getPoint(d/f));return l},getSpacedPoints:function(f=5){const l=[];for(let d=0;d<=f;d++)l.push(this.getPointAt(d/f));return l},getLength:function(){const f=this.getLengths();return f[f.length-1]},getLengths:function(f){if(void 0===f&&(f=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===f+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const l=[];let d,m=this.getPoint(0),v=0;l.push(0);for(let _=1;_<=f;_++)d=this.getPoint(_/f),v+=d.distanceTo(m),l.push(v),m=d;return this.cacheArcLengths=l,l},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(f,l){const d=this.getLengths();let m=0;const v=d.length;let _;_=l||f*d[v-1];let L,x=0,D=v-1;for(;x<=D;)if(m=Math.floor(x+(D-x)/2),L=d[m]-_,L<0)x=m+1;else{if(!(L>0)){D=m;break}D=m-1}if(m=D,d[m]===_)return m/(v-1);const k=d[m];return(m+(_-k)/(d[m+1]-k))/(v-1)},getTangent:function(f,l){let m=f-1e-4,v=f+1e-4;m<0&&(m=0),v>1&&(v=1);const _=this.getPoint(m),x=this.getPoint(v),D=l||(_.isVector2?new _n:new Ee);return D.copy(x).sub(_).normalize(),D},getTangentAt:function(f,l){const d=this.getUtoTmapping(f);return this.getTangent(d,l)},computeFrenetFrames:function(f,l){const d=new Ee,m=[],v=[],_=[],x=new Ee,D=new Hr;for(let V=0;V<=f;V++)m[V]=this.getTangentAt(V/f,new Ee),m[V].normalize();v[0]=new Ee,_[0]=new Ee;let L=Number.MAX_VALUE;const k=Math.abs(m[0].x),U=Math.abs(m[0].y),H=Math.abs(m[0].z);k<=L&&(L=k,d.set(1,0,0)),U<=L&&(L=U,d.set(0,1,0)),H<=L&&d.set(0,0,1),x.crossVectors(m[0],d).normalize(),v[0].crossVectors(m[0],x),_[0].crossVectors(m[0],v[0]);for(let V=1;V<=f;V++){if(v[V]=v[V-1].clone(),_[V]=_[V-1].clone(),x.crossVectors(m[V-1],m[V]),x.length()>Number.EPSILON){x.normalize();const Y=Math.acos(Dr.clamp(m[V-1].dot(m[V]),-1,1));v[V].applyMatrix4(D.makeRotationAxis(x,Y))}_[V].crossVectors(m[V],v[V])}if(!0===l){let V=Math.acos(Dr.clamp(v[0].dot(v[f]),-1,1));V/=f,m[0].dot(x.crossVectors(v[0],v[f]))>0&&(V=-V);for(let Y=1;Y<=f;Y++)v[Y].applyMatrix4(D.makeRotationAxis(m[Y],V*Y)),_[Y].crossVectors(m[Y],v[Y])}return{tangents:m,normals:v,binormals:_}},clone:function(){return(new this.constructor).copy(this)},copy:function(f){return this.arcLengthDivisions=f.arcLengthDivisions,this},toJSON:function(){const f={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return f.arcLengthDivisions=this.arcLengthDivisions,f.type=this.type,f},fromJSON:function(f){return this.arcLengthDivisions=f.arcLengthDivisions,this}});class Ms extends bl{constructor(l=0,d=0,m=1,v=1,_=0,x=2*Math.PI,D=!1,L=0){super(),this.type="EllipseCurve",this.aX=l,this.aY=d,this.xRadius=m,this.yRadius=v,this.aStartAngle=_,this.aEndAngle=x,this.aClockwise=D,this.aRotation=L}getPoint(l,d){const m=d||new _n,v=2*Math.PI;let _=this.aEndAngle-this.aStartAngle;const x=Math.abs(_)<Number.EPSILON;for(;_<0;)_+=v;for(;_>v;)_-=v;_<Number.EPSILON&&(_=x?0:v),!0===this.aClockwise&&!x&&(_===v?_=-v:_-=v);const D=this.aStartAngle+l*_;let L=this.aX+this.xRadius*Math.cos(D),k=this.aY+this.yRadius*Math.sin(D);if(0!==this.aRotation){const U=Math.cos(this.aRotation),H=Math.sin(this.aRotation),V=L-this.aX,Y=k-this.aY;L=V*U-Y*H+this.aX,k=V*H+Y*U+this.aY}return m.set(L,k)}copy(l){return super.copy(l),this.aX=l.aX,this.aY=l.aY,this.xRadius=l.xRadius,this.yRadius=l.yRadius,this.aStartAngle=l.aStartAngle,this.aEndAngle=l.aEndAngle,this.aClockwise=l.aClockwise,this.aRotation=l.aRotation,this}toJSON(){const l=super.toJSON();return l.aX=this.aX,l.aY=this.aY,l.xRadius=this.xRadius,l.yRadius=this.yRadius,l.aStartAngle=this.aStartAngle,l.aEndAngle=this.aEndAngle,l.aClockwise=this.aClockwise,l.aRotation=this.aRotation,l}fromJSON(l){return super.fromJSON(l),this.aX=l.aX,this.aY=l.aY,this.xRadius=l.xRadius,this.yRadius=l.yRadius,this.aStartAngle=l.aStartAngle,this.aEndAngle=l.aEndAngle,this.aClockwise=l.aClockwise,this.aRotation=l.aRotation,this}}Ms.prototype.isEllipseCurve=!0;class oE extends Ms{constructor(l,d,m,v,_,x){super(l,d,m,m,v,_,x),this.type="ArcCurve"}}function D_(){let f=0,l=0,d=0,m=0;function v(_,x,D,L){f=_,l=D,d=-3*_+3*x-2*D-L,m=2*_-2*x+D+L}return{initCatmullRom:function(_,x,D,L,k){v(x,D,k*(D-_),k*(L-x))},initNonuniformCatmullRom:function(_,x,D,L,k,U,H){let V=(x-_)/k-(D-_)/(k+U)+(D-x)/U,Y=(D-x)/U-(L-x)/(U+H)+(L-D)/H;V*=U,Y*=U,v(x,D,V,Y)},calc:function(_){const x=_*_;return f+l*_+d*x+m*(x*_)}}}oE.prototype.isArcCurve=!0;const nv=new Ee,sE=new D_,AD=new D_,OD=new D_;class kD extends bl{constructor(l=[],d=!1,m="centripetal",v=.5){super(),this.type="CatmullRomCurve3",this.points=l,this.closed=d,this.curveType=m,this.tension=v}getPoint(l,d=new Ee){const m=d,v=this.points,_=v.length,x=(_-(this.closed?0:1))*l;let k,U,D=Math.floor(x),L=x-D;this.closed?D+=D>0?0:(Math.floor(Math.abs(D)/_)+1)*_:0===L&&D===_-1&&(D=_-2,L=1),this.closed||D>0?k=v[(D-1)%_]:(nv.subVectors(v[0],v[1]).add(v[0]),k=nv);const H=v[D%_],V=v[(D+1)%_];if(this.closed||D+2<_?U=v[(D+2)%_]:(nv.subVectors(v[_-1],v[_-2]).add(v[_-1]),U=nv),"centripetal"===this.curveType||"chordal"===this.curveType){const Y="chordal"===this.curveType?.5:.25;let J=Math.pow(k.distanceToSquared(H),Y),te=Math.pow(H.distanceToSquared(V),Y),se=Math.pow(V.distanceToSquared(U),Y);te<1e-4&&(te=1),J<1e-4&&(J=te),se<1e-4&&(se=te),sE.initNonuniformCatmullRom(k.x,H.x,V.x,U.x,J,te,se),AD.initNonuniformCatmullRom(k.y,H.y,V.y,U.y,J,te,se),OD.initNonuniformCatmullRom(k.z,H.z,V.z,U.z,J,te,se)}else"catmullrom"===this.curveType&&(sE.initCatmullRom(k.x,H.x,V.x,U.x,this.tension),AD.initCatmullRom(k.y,H.y,V.y,U.y,this.tension),OD.initCatmullRom(k.z,H.z,V.z,U.z,this.tension));return m.set(sE.calc(L),AD.calc(L),OD.calc(L)),m}copy(l){super.copy(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++)this.points.push(l.points[d].clone());return this.closed=l.closed,this.curveType=l.curveType,this.tension=l.tension,this}toJSON(){const l=super.toJSON();l.points=[];for(let d=0,m=this.points.length;d<m;d++)l.points.push(this.points[d].toArray());return l.closed=this.closed,l.curveType=this.curveType,l.tension=this.tension,l}fromJSON(l){super.fromJSON(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++){const v=l.points[d];this.points.push((new Ee).fromArray(v))}return this.closed=l.closed,this.curveType=l.curveType,this.tension=l.tension,this}}function LD(f,l,d,m,v){const _=.5*(m-l),x=.5*(v-d),D=f*f;return(2*d-2*m+_+x)*(f*D)+(-3*d+3*m-2*_-x)*D+_*f+d}function Vd(f,l,d,m){return function PD(f,l){const d=1-f;return d*d*l}(f,l)+function F8(f,l){return 2*(1-f)*f*l}(f,d)+function aF(f,l){return f*f*l}(f,m)}function rv(f,l,d,m,v){return function lF(f,l){const d=1-f;return d*d*d*l}(f,l)+function ID(f,l){const d=1-f;return 3*d*d*f*l}(f,d)+function X0(f,l){return 3*(1-f)*f*f*l}(f,m)+function uF(f,l){return f*f*f*l}(f,v)}kD.prototype.isCatmullRomCurve3=!0;class K0 extends bl{constructor(l=new _n,d=new _n,m=new _n,v=new _n){super(),this.type="CubicBezierCurve",this.v0=l,this.v1=d,this.v2=m,this.v3=v}getPoint(l,d=new _n){const m=d,v=this.v0,_=this.v1,x=this.v2,D=this.v3;return m.set(rv(l,v.x,_.x,x.x,D.x),rv(l,v.y,_.y,x.y,D.y)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this.v3.copy(l.v3),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l.v3=this.v3.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this.v3.fromArray(l.v3),this}}K0.prototype.isCubicBezierCurve=!0;class aE extends bl{constructor(l=new Ee,d=new Ee,m=new Ee,v=new Ee){super(),this.type="CubicBezierCurve3",this.v0=l,this.v1=d,this.v2=m,this.v3=v}getPoint(l,d=new Ee){const m=d,v=this.v0,_=this.v1,x=this.v2,D=this.v3;return m.set(rv(l,v.x,_.x,x.x,D.x),rv(l,v.y,_.y,x.y,D.y),rv(l,v.z,_.z,x.z,D.z)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this.v3.copy(l.v3),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l.v3=this.v3.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this.v3.fromArray(l.v3),this}}aE.prototype.isCubicBezierCurve3=!0;class A_ extends bl{constructor(l=new _n,d=new _n){super(),this.type="LineCurve",this.v1=l,this.v2=d}getPoint(l,d=new _n){const m=d;return 1===l?m.copy(this.v2):(m.copy(this.v2).sub(this.v1),m.multiplyScalar(l).add(this.v1)),m}getPointAt(l,d){return this.getPoint(l,d)}getTangent(l,d){const m=d||new _n;return m.copy(this.v2).sub(this.v1).normalize(),m}copy(l){return super.copy(l),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}A_.prototype.isLineCurve=!0;class ND extends bl{constructor(l=new Ee,d=new Ee){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=l,this.v2=d}getPoint(l,d=new Ee){const m=d;return 1===l?m.copy(this.v2):(m.copy(this.v2).sub(this.v1),m.multiplyScalar(l).add(this.v1)),m}getPointAt(l,d){return this.getPoint(l,d)}copy(l){return super.copy(l),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}class Z0 extends bl{constructor(l=new _n,d=new _n,m=new _n){super(),this.type="QuadraticBezierCurve",this.v0=l,this.v1=d,this.v2=m}getPoint(l,d=new _n){const m=d,v=this.v0,_=this.v1,x=this.v2;return m.set(Vd(l,v.x,_.x,x.x),Vd(l,v.y,_.y,x.y)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}Z0.prototype.isQuadraticBezierCurve=!0;class q0 extends bl{constructor(l=new Ee,d=new Ee,m=new Ee){super(),this.type="QuadraticBezierCurve3",this.v0=l,this.v1=d,this.v2=m}getPoint(l,d=new Ee){const m=d,v=this.v0,_=this.v1,x=this.v2;return m.set(Vd(l,v.x,_.x,x.x),Vd(l,v.y,_.y,x.y),Vd(l,v.z,_.z,x.z)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}q0.prototype.isQuadraticBezierCurve3=!0;class J0 extends bl{constructor(l=[]){super(),this.type="SplineCurve",this.points=l}getPoint(l,d=new _n){const m=d,v=this.points,_=(v.length-1)*l,x=Math.floor(_),D=_-x,L=v[0===x?x:x-1],k=v[x],U=v[x>v.length-2?v.length-1:x+1],H=v[x>v.length-3?v.length-1:x+2];return m.set(LD(D,L.x,k.x,U.x,H.x),LD(D,L.y,k.y,U.y,H.y)),m}copy(l){super.copy(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++)this.points.push(l.points[d].clone());return this}toJSON(){const l=super.toJSON();l.points=[];for(let d=0,m=this.points.length;d<m;d++)l.points.push(this.points[d].toArray());return l}fromJSON(l){super.fromJSON(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++){const v=l.points[d];this.points.push((new _n).fromArray(v))}return this}}J0.prototype.isSplineCurve=!0;var Q0=Object.freeze({__proto__:null,ArcCurve:oE,CatmullRomCurve3:kD,CubicBezierCurve:K0,CubicBezierCurve3:aE,EllipseCurve:Ms,LineCurve:A_,LineCurve3:ND,QuadraticBezierCurve:Z0,QuadraticBezierCurve3:q0,SplineCurve:J0});class lE extends bl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(l){this.curves.push(l)}closePath(){const l=this.curves[0].getPoint(0),d=this.curves[this.curves.length-1].getPoint(1);l.equals(d)||this.curves.push(new A_(d,l))}getPoint(l){const d=l*this.getLength(),m=this.getCurveLengths();let v=0;for(;v<m.length;){if(m[v]>=d){const _=m[v]-d,x=this.curves[v],D=x.getLength();return x.getPointAt(0===D?0:1-_/D)}v++}return null}getLength(){const l=this.getCurveLengths();return l[l.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const l=[];let d=0;for(let m=0,v=this.curves.length;m<v;m++)d+=this.curves[m].getLength(),l.push(d);return this.cacheLengths=l,l}getSpacedPoints(l=40){const d=[];for(let m=0;m<=l;m++)d.push(this.getPoint(m/l));return this.autoClose&&d.push(d[0]),d}getPoints(l=12){const d=[];let m;for(let v=0,_=this.curves;v<_.length;v++){const x=_[v],L=x.getPoints(x&&x.isEllipseCurve?2*l:x&&(x.isLineCurve||x.isLineCurve3)?1:x&&x.isSplineCurve?l*x.points.length:l);for(let k=0;k<L.length;k++){const U=L[k];m&&m.equals(U)||(d.push(U),m=U)}}return this.autoClose&&d.length>1&&!d[d.length-1].equals(d[0])&&d.push(d[0]),d}copy(l){super.copy(l),this.curves=[];for(let d=0,m=l.curves.length;d<m;d++)this.curves.push(l.curves[d].clone());return this.autoClose=l.autoClose,this}toJSON(){const l=super.toJSON();l.autoClose=this.autoClose,l.curves=[];for(let d=0,m=this.curves.length;d<m;d++)l.curves.push(this.curves[d].toJSON());return l}fromJSON(l){super.fromJSON(l),this.autoClose=l.autoClose,this.curves=[];for(let d=0,m=l.curves.length;d<m;d++){const v=l.curves[d];this.curves.push((new Q0[v.type]).fromJSON(v))}return this}}class qp extends lE{constructor(l){super(),this.type="Path",this.currentPoint=new _n,l&&this.setFromPoints(l)}setFromPoints(l){this.moveTo(l[0].x,l[0].y);for(let d=1,m=l.length;d<m;d++)this.lineTo(l[d].x,l[d].y);return this}moveTo(l,d){return this.currentPoint.set(l,d),this}lineTo(l,d){const m=new A_(this.currentPoint.clone(),new _n(l,d));return this.curves.push(m),this.currentPoint.set(l,d),this}quadraticCurveTo(l,d,m,v){const _=new Z0(this.currentPoint.clone(),new _n(l,d),new _n(m,v));return this.curves.push(_),this.currentPoint.set(m,v),this}bezierCurveTo(l,d,m,v,_,x){const D=new K0(this.currentPoint.clone(),new _n(l,d),new _n(m,v),new _n(_,x));return this.curves.push(D),this.currentPoint.set(_,x),this}splineThru(l){const d=[this.currentPoint.clone()].concat(l),m=new J0(d);return this.curves.push(m),this.currentPoint.copy(l[l.length-1]),this}arc(l,d,m,v,_,x){return this.absarc(l+this.currentPoint.x,d+this.currentPoint.y,m,v,_,x),this}absarc(l,d,m,v,_,x){return this.absellipse(l,d,m,m,v,_,x),this}ellipse(l,d,m,v,_,x,D,L){return this.absellipse(l+this.currentPoint.x,d+this.currentPoint.y,m,v,_,x,D,L),this}absellipse(l,d,m,v,_,x,D,L){const k=new Ms(l,d,m,v,_,x,D,L);if(this.curves.length>0){const H=k.getPoint(0);H.equals(this.currentPoint)||this.lineTo(H.x,H.y)}this.curves.push(k);const U=k.getPoint(1);return this.currentPoint.copy(U),this}copy(l){return super.copy(l),this.currentPoint.copy(l.currentPoint),this}toJSON(){const l=super.toJSON();return l.currentPoint=this.currentPoint.toArray(),l}fromJSON(l){return super.fromJSON(l),this.currentPoint.fromArray(l.currentPoint),this}}class Jp extends qp{constructor(l){super(l),this.uuid=Dr.generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(l){const d=[];for(let m=0,v=this.holes.length;m<v;m++)d[m]=this.holes[m].getPoints(l);return d}extractPoints(l){return{shape:this.getPoints(l),holes:this.getPointsHoles(l)}}copy(l){super.copy(l),this.holes=[];for(let d=0,m=l.holes.length;d<m;d++)this.holes.push(l.holes[d].clone());return this}toJSON(){const l=super.toJSON();l.uuid=this.uuid,l.holes=[];for(let d=0,m=this.holes.length;d<m;d++)l.holes.push(this.holes[d].toJSON());return l}fromJSON(l){super.fromJSON(l),this.uuid=l.uuid,this.holes=[];for(let d=0,m=l.holes.length;d<m;d++){const v=l.holes[d];this.holes.push((new qp).fromJSON(v))}return this}}class Au extends Xr{constructor(l,d=1){super(),this.type="Light",this.color=new dr(l),this.intensity=d}copy(l){return super.copy(l),this.color.copy(l.color),this.intensity=l.intensity,this}toJSON(l){const d=super.toJSON(l);return d.object.color=this.color.getHex(),d.object.intensity=this.intensity,void 0!==this.groundColor&&(d.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(d.object.distance=this.distance),void 0!==this.angle&&(d.object.angle=this.angle),void 0!==this.decay&&(d.object.decay=this.decay),void 0!==this.penumbra&&(d.object.penumbra=this.penumbra),void 0!==this.shadow&&(d.object.shadow=this.shadow.toJSON()),d}}Au.prototype.isLight=!0;class uE extends Au{constructor(l,d,m){super(l,m),this.type="HemisphereLight",this.position.copy(Xr.DefaultUp),this.updateMatrix(),this.groundColor=new dr(d)}copy(l){return Au.prototype.copy.call(this,l),this.groundColor.copy(l.groundColor),this}}uE.prototype.isHemisphereLight=!0;const cF=new Hr,ke=new Ee,iv=new Ee;class eM{constructor(l){this.camera=l,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new _n(512,512),this.map=null,this.mapPass=null,this.matrix=new Hr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Od,this._frameExtents=new _n(1,1),this._viewportCount=1,this._viewports=[new Ti(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(l){const d=this.camera,m=this.matrix;ke.setFromMatrixPosition(l.matrixWorld),d.position.copy(ke),iv.setFromMatrixPosition(l.target.matrixWorld),d.lookAt(iv),d.updateMatrixWorld(),cF.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cF),m.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),m.multiply(d.projectionMatrix),m.multiply(d.matrixWorldInverse)}getViewport(l){return this._viewports[l]}getFrameExtents(){return this._frameExtents}copy(l){return this.camera=l.camera.clone(),this.bias=l.bias,this.radius=l.radius,this.mapSize.copy(l.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const l={};return 0!==this.bias&&(l.bias=this.bias),0!==this.normalBias&&(l.normalBias=this.normalBias),1!==this.radius&&(l.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(l.mapSize=this.mapSize.toArray()),l.camera=this.camera.toJSON(!1).object,delete l.camera.matrix,l}}class O_ extends eM{constructor(){super(new rs(50,1,.5,500)),this.focus=1}updateMatrices(l){const d=this.camera,m=2*Dr.RAD2DEG*l.angle*this.focus,v=this.mapSize.width/this.mapSize.height,_=l.distance||d.far;(m!==d.fov||v!==d.aspect||_!==d.far)&&(d.fov=m,d.aspect=v,d.far=_,d.updateProjectionMatrix()),super.updateMatrices(l)}}O_.prototype.isSpotLightShadow=!0;class Ou extends Au{constructor(l,d,m=0,v=Math.PI/3,_=0,x=1){super(l,d),this.type="SpotLight",this.position.copy(Xr.DefaultUp),this.updateMatrix(),this.target=new Xr,this.distance=m,this.angle=v,this.penumbra=_,this.decay=x,this.shadow=new O_}get power(){return this.intensity*Math.PI}set power(l){this.intensity=l/Math.PI}copy(l){return super.copy(l),this.distance=l.distance,this.angle=l.angle,this.penumbra=l.penumbra,this.decay=l.decay,this.target=l.target.clone(),this.shadow=l.shadow.clone(),this}}Ou.prototype.isSpotLight=!0;const cE=new Hr,k_=new Ee,L_=new Ee;class zd extends eM{constructor(){super(new rs(90,1,.5,500)),this._frameExtents=new _n(4,2),this._viewportCount=6,this._viewports=[new Ti(2,1,1,1),new Ti(0,1,1,1),new Ti(3,1,1,1),new Ti(1,1,1,1),new Ti(3,0,1,1),new Ti(1,0,1,1)],this._cubeDirections=[new Ee(1,0,0),new Ee(-1,0,0),new Ee(0,0,1),new Ee(0,0,-1),new Ee(0,1,0),new Ee(0,-1,0)],this._cubeUps=[new Ee(0,1,0),new Ee(0,1,0),new Ee(0,1,0),new Ee(0,1,0),new Ee(0,0,1),new Ee(0,0,-1)]}updateMatrices(l,d=0){const m=this.camera,v=this.matrix;k_.setFromMatrixPosition(l.matrixWorld),m.position.copy(k_),L_.copy(m.position),L_.add(this._cubeDirections[d]),m.up.copy(this._cubeUps[d]),m.lookAt(L_),m.updateMatrixWorld(),v.makeTranslation(-k_.x,-k_.y,-k_.z),cE.multiplyMatrices(m.projectionMatrix,m.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cE)}}zd.prototype.isPointLightShadow=!0;class P_ extends Au{constructor(l,d,m=0,v=1){super(l,d),this.type="PointLight",this.distance=m,this.decay=v,this.shadow=new zd}get power(){return 4*this.intensity*Math.PI}set power(l){this.intensity=l/(4*Math.PI)}copy(l){return super.copy(l),this.distance=l.distance,this.decay=l.decay,this.shadow=l.shadow.clone(),this}}P_.prototype.isPointLight=!0;class ov extends Vo{constructor(l=-1,d=1,m=1,v=-1,_=.1,x=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=l,this.right=d,this.top=m,this.bottom=v,this.near=_,this.far=x,this.updateProjectionMatrix()}copy(l,d){return super.copy(l,d),this.left=l.left,this.right=l.right,this.top=l.top,this.bottom=l.bottom,this.near=l.near,this.far=l.far,this.zoom=l.zoom,this.view=null===l.view?null:Object.assign({},l.view),this}setViewOffset(l,d,m,v,_,x){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=l,this.view.fullHeight=d,this.view.offsetX=m,this.view.offsetY=v,this.view.width=_,this.view.height=x,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const l=(this.right-this.left)/(2*this.zoom),d=(this.top-this.bottom)/(2*this.zoom),m=(this.right+this.left)/2,v=(this.top+this.bottom)/2;let _=m-l,x=m+l,D=v+d,L=v-d;if(null!==this.view&&this.view.enabled){const k=(this.right-this.left)/this.view.fullWidth/this.zoom,U=(this.top-this.bottom)/this.view.fullHeight/this.zoom;_+=k*this.view.offsetX,x=_+k*this.view.width,D-=U*this.view.offsetY,L=D-U*this.view.height}this.projectionMatrix.makeOrthographic(_,x,D,L,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(l){const d=Xr.prototype.toJSON.call(this,l);return d.object.zoom=this.zoom,d.object.left=this.left,d.object.right=this.right,d.object.top=this.top,d.object.bottom=this.bottom,d.object.near=this.near,d.object.far=this.far,null!==this.view&&(d.object.view=Object.assign({},this.view)),d}}ov.prototype.isOrthographicCamera=!0;class tM extends eM{constructor(){super(new ov(-5,5,5,-5,.5,500))}}tM.prototype.isDirectionalLightShadow=!0;class FD extends Au{constructor(l,d){super(l,d),this.type="DirectionalLight",this.position.copy(Xr.DefaultUp),this.updateMatrix(),this.target=new Xr,this.shadow=new tM}copy(l){return super.copy(l),this.target=l.target.clone(),this.shadow=l.shadow.clone(),this}}FD.prototype.isDirectionalLight=!0;class nM extends Au{constructor(l,d){super(l,d),this.type="AmbientLight"}}nM.prototype.isAmbientLight=!0;class HD extends Au{constructor(l,d,m=10,v=10){super(l,d),this.type="RectAreaLight",this.width=m,this.height=v}copy(l){return super.copy(l),this.width=l.width,this.height=l.height,this}toJSON(l){const d=super.toJSON(l);return d.object.width=this.width,d.object.height=this.height,d}}HD.prototype.isRectAreaLight=!0;class sv{constructor(){this.coefficients=[];for(let l=0;l<9;l++)this.coefficients.push(new Ee)}set(l){for(let d=0;d<9;d++)this.coefficients[d].copy(l[d]);return this}zero(){for(let l=0;l<9;l++)this.coefficients[l].set(0,0,0);return this}getAt(l,d){const m=l.x,v=l.y,_=l.z,x=this.coefficients;return d.copy(x[0]).multiplyScalar(.282095),d.addScaledVector(x[1],.488603*v),d.addScaledVector(x[2],.488603*_),d.addScaledVector(x[3],.488603*m),d.addScaledVector(x[4],m*v*1.092548),d.addScaledVector(x[5],v*_*1.092548),d.addScaledVector(x[6],.315392*(3*_*_-1)),d.addScaledVector(x[7],m*_*1.092548),d.addScaledVector(x[8],.546274*(m*m-v*v)),d}getIrradianceAt(l,d){const m=l.x,v=l.y,_=l.z,x=this.coefficients;return d.copy(x[0]).multiplyScalar(.886227),d.addScaledVector(x[1],1.023328*v),d.addScaledVector(x[2],1.023328*_),d.addScaledVector(x[3],1.023328*m),d.addScaledVector(x[4],.858086*m*v),d.addScaledVector(x[5],.858086*v*_),d.addScaledVector(x[6],.743125*_*_-.247708),d.addScaledVector(x[7],.858086*m*_),d.addScaledVector(x[8],.429043*(m*m-v*v)),d}add(l){for(let d=0;d<9;d++)this.coefficients[d].add(l.coefficients[d]);return this}addScaledSH(l,d){for(let m=0;m<9;m++)this.coefficients[m].addScaledVector(l.coefficients[m],d);return this}scale(l){for(let d=0;d<9;d++)this.coefficients[d].multiplyScalar(l);return this}lerp(l,d){for(let m=0;m<9;m++)this.coefficients[m].lerp(l.coefficients[m],d);return this}equals(l){for(let d=0;d<9;d++)if(!this.coefficients[d].equals(l.coefficients[d]))return!1;return!0}copy(l){return this.set(l.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(l,d=0){const m=this.coefficients;for(let v=0;v<9;v++)m[v].fromArray(l,d+3*v);return this}toArray(l=[],d=0){const m=this.coefficients;for(let v=0;v<9;v++)m[v].toArray(l,d+3*v);return l}static getBasisAt(l,d){const m=l.x,v=l.y,_=l.z;d[0]=.282095,d[1]=.488603*v,d[2]=.488603*_,d[3]=.488603*m,d[4]=1.092548*m*v,d[5]=1.092548*v*_,d[6]=.315392*(3*_*_-1),d[7]=1.092548*m*_,d[8]=.546274*(m*m-v*v)}}sv.prototype.isSphericalHarmonics3=!0;class Ff extends Au{constructor(l=new sv,d=1){super(void 0,d),this.sh=l}copy(l){return super.copy(l),this.sh.copy(l.sh),this}fromJSON(l){return this.intensity=l.intensity,this.sh.fromArray(l.sh),this}toJSON(l){const d=super.toJSON(l);return d.object.sh=this.sh.toArray(),d}}Ff.prototype.isLightProbe=!0;class rM extends Gs{constructor(l){super(l),this.textures={}}load(l,d,m,v){const _=this,x=new Du(_.manager);x.setPath(_.path),x.setRequestHeader(_.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(L){v?v(L):console.error(L),_.manager.itemError(l)}},m,v)}parse(l){const d=this.textures;function m(_){return void 0===d[_]&&console.warn("THREE.MaterialLoader: Undefined texture",_),d[_]}const v=new RD[l.type];if(void 0!==l.uuid&&(v.uuid=l.uuid),void 0!==l.name&&(v.name=l.name),void 0!==l.color&&void 0!==v.color&&v.color.setHex(l.color),void 0!==l.roughness&&(v.roughness=l.roughness),void 0!==l.metalness&&(v.metalness=l.metalness),void 0!==l.sheen&&(v.sheen=(new dr).setHex(l.sheen)),void 0!==l.emissive&&void 0!==v.emissive&&v.emissive.setHex(l.emissive),void 0!==l.specular&&void 0!==v.specular&&v.specular.setHex(l.specular),void 0!==l.shininess&&(v.shininess=l.shininess),void 0!==l.clearcoat&&(v.clearcoat=l.clearcoat),void 0!==l.clearcoatRoughness&&(v.clearcoatRoughness=l.clearcoatRoughness),void 0!==l.fog&&(v.fog=l.fog),void 0!==l.flatShading&&(v.flatShading=l.flatShading),void 0!==l.blending&&(v.blending=l.blending),void 0!==l.combine&&(v.combine=l.combine),void 0!==l.side&&(v.side=l.side),void 0!==l.opacity&&(v.opacity=l.opacity),void 0!==l.transparent&&(v.transparent=l.transparent),void 0!==l.alphaTest&&(v.alphaTest=l.alphaTest),void 0!==l.depthTest&&(v.depthTest=l.depthTest),void 0!==l.depthWrite&&(v.depthWrite=l.depthWrite),void 0!==l.colorWrite&&(v.colorWrite=l.colorWrite),void 0!==l.stencilWrite&&(v.stencilWrite=l.stencilWrite),void 0!==l.stencilWriteMask&&(v.stencilWriteMask=l.stencilWriteMask),void 0!==l.stencilFunc&&(v.stencilFunc=l.stencilFunc),void 0!==l.stencilRef&&(v.stencilRef=l.stencilRef),void 0!==l.stencilFuncMask&&(v.stencilFuncMask=l.stencilFuncMask),void 0!==l.stencilFail&&(v.stencilFail=l.stencilFail),void 0!==l.stencilZFail&&(v.stencilZFail=l.stencilZFail),void 0!==l.stencilZPass&&(v.stencilZPass=l.stencilZPass),void 0!==l.wireframe&&(v.wireframe=l.wireframe),void 0!==l.wireframeLinewidth&&(v.wireframeLinewidth=l.wireframeLinewidth),void 0!==l.wireframeLinecap&&(v.wireframeLinecap=l.wireframeLinecap),void 0!==l.wireframeLinejoin&&(v.wireframeLinejoin=l.wireframeLinejoin),void 0!==l.rotation&&(v.rotation=l.rotation),1!==l.linewidth&&(v.linewidth=l.linewidth),void 0!==l.dashSize&&(v.dashSize=l.dashSize),void 0!==l.gapSize&&(v.gapSize=l.gapSize),void 0!==l.scale&&(v.scale=l.scale),void 0!==l.polygonOffset&&(v.polygonOffset=l.polygonOffset),void 0!==l.polygonOffsetFactor&&(v.polygonOffsetFactor=l.polygonOffsetFactor),void 0!==l.polygonOffsetUnits&&(v.polygonOffsetUnits=l.polygonOffsetUnits),void 0!==l.skinning&&(v.skinning=l.skinning),void 0!==l.morphTargets&&(v.morphTargets=l.morphTargets),void 0!==l.morphNormals&&(v.morphNormals=l.morphNormals),void 0!==l.dithering&&(v.dithering=l.dithering),void 0!==l.vertexTangents&&(v.vertexTangents=l.vertexTangents),void 0!==l.visible&&(v.visible=l.visible),void 0!==l.toneMapped&&(v.toneMapped=l.toneMapped),void 0!==l.userData&&(v.userData=l.userData),void 0!==l.vertexColors&&(v.vertexColors="number"==typeof l.vertexColors?l.vertexColors>0:l.vertexColors),void 0!==l.uniforms)for(const _ in l.uniforms){const x=l.uniforms[_];switch(v.uniforms[_]={},x.type){case"t":v.uniforms[_].value=m(x.value);break;case"c":v.uniforms[_].value=(new dr).setHex(x.value);break;case"v2":v.uniforms[_].value=(new _n).fromArray(x.value);break;case"v3":v.uniforms[_].value=(new Ee).fromArray(x.value);break;case"v4":v.uniforms[_].value=(new Ti).fromArray(x.value);break;case"m3":v.uniforms[_].value=(new Ds).fromArray(x.value);break;case"m4":v.uniforms[_].value=(new Hr).fromArray(x.value);break;default:v.uniforms[_].value=x.value}}if(void 0!==l.defines&&(v.defines=l.defines),void 0!==l.vertexShader&&(v.vertexShader=l.vertexShader),void 0!==l.fragmentShader&&(v.fragmentShader=l.fragmentShader),void 0!==l.extensions)for(const _ in l.extensions)v.extensions[_]=l.extensions[_];if(void 0!==l.shading&&(v.flatShading=1===l.shading),void 0!==l.size&&(v.size=l.size),void 0!==l.sizeAttenuation&&(v.sizeAttenuation=l.sizeAttenuation),void 0!==l.map&&(v.map=m(l.map)),void 0!==l.matcap&&(v.matcap=m(l.matcap)),void 0!==l.alphaMap&&(v.alphaMap=m(l.alphaMap)),void 0!==l.bumpMap&&(v.bumpMap=m(l.bumpMap)),void 0!==l.bumpScale&&(v.bumpScale=l.bumpScale),void 0!==l.normalMap&&(v.normalMap=m(l.normalMap)),void 0!==l.normalMapType&&(v.normalMapType=l.normalMapType),void 0!==l.normalScale){let _=l.normalScale;!1===Array.isArray(_)&&(_=[_,_]),v.normalScale=(new _n).fromArray(_)}return void 0!==l.displacementMap&&(v.displacementMap=m(l.displacementMap)),void 0!==l.displacementScale&&(v.displacementScale=l.displacementScale),void 0!==l.displacementBias&&(v.displacementBias=l.displacementBias),void 0!==l.roughnessMap&&(v.roughnessMap=m(l.roughnessMap)),void 0!==l.metalnessMap&&(v.metalnessMap=m(l.metalnessMap)),void 0!==l.emissiveMap&&(v.emissiveMap=m(l.emissiveMap)),void 0!==l.emissiveIntensity&&(v.emissiveIntensity=l.emissiveIntensity),void 0!==l.specularMap&&(v.specularMap=m(l.specularMap)),void 0!==l.envMap&&(v.envMap=m(l.envMap)),void 0!==l.envMapIntensity&&(v.envMapIntensity=l.envMapIntensity),void 0!==l.reflectivity&&(v.reflectivity=l.reflectivity),void 0!==l.refractionRatio&&(v.refractionRatio=l.refractionRatio),void 0!==l.lightMap&&(v.lightMap=m(l.lightMap)),void 0!==l.lightMapIntensity&&(v.lightMapIntensity=l.lightMapIntensity),void 0!==l.aoMap&&(v.aoMap=m(l.aoMap)),void 0!==l.aoMapIntensity&&(v.aoMapIntensity=l.aoMapIntensity),void 0!==l.gradientMap&&(v.gradientMap=m(l.gradientMap)),void 0!==l.clearcoatMap&&(v.clearcoatMap=m(l.clearcoatMap)),void 0!==l.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap=m(l.clearcoatRoughnessMap)),void 0!==l.clearcoatNormalMap&&(v.clearcoatNormalMap=m(l.clearcoatNormalMap)),void 0!==l.clearcoatNormalScale&&(v.clearcoatNormalScale=(new _n).fromArray(l.clearcoatNormalScale)),void 0!==l.transmission&&(v.transmission=l.transmission),void 0!==l.transmissionMap&&(v.transmissionMap=m(l.transmissionMap)),v}setTextures(l){return this.textures=l,this}}const I_={decodeText:function(f){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(f);let l="";for(let d=0,m=f.length;d<m;d++)l+=String.fromCharCode(f[d]);try{return decodeURIComponent(escape(l))}catch(d){return l}},extractUrlBase:function(f){const l=f.lastIndexOf("/");return-1===l?"./":f.substr(0,l+1)}};function Qp(){Br.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function dE(f,l,d,m){"number"==typeof d&&(m=d,d=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Kr.call(this,f,l,d),this.meshPerAttribute=m||1}Qp.prototype=Object.assign(Object.create(Br.prototype),{constructor:Qp,isInstancedBufferGeometry:!0,copy:function(f){return Br.prototype.copy.call(this,f),this.instanceCount=f.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const f=Br.prototype.toJSON.call(this);return f.instanceCount=this.instanceCount,f.isInstancedBufferGeometry=!0,f}}),dE.prototype=Object.assign(Object.create(Kr.prototype),{constructor:dE,isInstancedBufferAttribute:!0,copy:function(f){return Kr.prototype.copy.call(this,f),this.meshPerAttribute=f.meshPerAttribute,this},toJSON:function(){const f=Kr.prototype.toJSON.call(this);return f.meshPerAttribute=this.meshPerAttribute,f.isInstancedBufferAttribute=!0,f}});class BD extends Gs{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Du(_.manager);x.setPath(_.path),x.setRequestHeader(_.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(L){v?v(L):console.error(L),_.manager.itemError(l)}},m,v)}parse(l){const d={},m={};function v(Y,J){if(void 0!==d[J])return d[J];const se=Y.interleavedBuffers[J],oe=function _(Y,J){if(void 0!==m[J])return m[J];const oe=new Uint32Array(Y.arrayBuffers[J]).buffer;return m[J]=oe,oe}(Y,se.buffer),De=new nu(Zs(se.type,oe),se.stride);return De.uuid=se.uuid,d[J]=De,De}const x=l.isInstancedBufferGeometry?new Qp:new Br,D=l.data.index;if(void 0!==D){const Y=Zs(D.type,D.array);x.setIndex(new Kr(Y,1))}const L=l.data.attributes;for(const Y in L){const J=L[Y];let te;if(J.isInterleavedBufferAttribute)te=new hc(v(l.data,J.data),J.itemSize,J.offset,J.normalized);else{const se=Zs(J.type,J.array);te=new(J.isInstancedBufferAttribute?dE:Kr)(se,J.itemSize,J.normalized)}void 0!==J.name&&(te.name=J.name),x.setAttribute(Y,te)}const k=l.data.morphAttributes;if(k)for(const Y in k){const J=k[Y],te=[];for(let se=0,oe=J.length;se<oe;se++){const K=J[se];let De;De=K.isInterleavedBufferAttribute?new hc(v(l.data,K.data),K.itemSize,K.offset,K.normalized):new Kr(Zs(K.type,K.array),K.itemSize,K.normalized),void 0!==K.name&&(De.name=K.name),te.push(De)}x.morphAttributes[Y]=te}l.data.morphTargetsRelative&&(x.morphTargetsRelative=!0);const H=l.data.groups||l.data.drawcalls||l.data.offsets;if(void 0!==H)for(let Y=0,J=H.length;Y!==J;++Y){const te=H[Y];x.addGroup(te.start,te.count,te.materialIndex)}const V=l.data.boundingSphere;if(void 0!==V){const Y=new Ee;void 0!==V.center&&Y.fromArray(V.center),x.boundingSphere=new xd(Y,V.radius)}return l.name&&(x.name=l.name),l.userData&&(x.userData=l.userData),x}}class dF extends Gs{constructor(l){super(l)}load(l,d,m,v){const _=this,x=""===this.path?I_.extractUrlBase(l):this.path;this.resourcePath=this.resourcePath||x;const D=new Du(this.manager);D.setPath(this.path),D.setRequestHeader(this.requestHeader),D.setWithCredentials(this.withCredentials),D.load(l,function(L){let k=null;try{k=JSON.parse(L)}catch(H){return void 0!==v&&v(H),void console.error("THREE:ObjectLoader: Can't parse "+l+".",H.message)}const U=k.metadata;void 0!==U&&void 0!==U.type&&"geometry"!==U.type.toLowerCase()?_.parse(k,d):console.error("THREE.ObjectLoader: Can't load "+l)},m,v)}parse(l,d){const m=this.parseAnimations(l.animations),v=this.parseShapes(l.shapes),_=this.parseGeometries(l.geometries,v),x=this.parseImages(l.images,function(){void 0!==d&&d(k)}),D=this.parseTextures(l.textures,x),L=this.parseMaterials(l.materials,D),k=this.parseObject(l.object,_,L,m),U=this.parseSkeletons(l.skeletons,k);if(this.bindSkeletons(k,U),void 0!==d){let H=!1;for(const V in x)if(x[V]instanceof HTMLImageElement){H=!0;break}!1===H&&d(k)}return k}parseShapes(l){const d={};if(void 0!==l)for(let m=0,v=l.length;m<v;m++){const _=(new Jp).fromJSON(l[m]);d[_.uuid]=_}return d}parseSkeletons(l,d){const m={},v={};if(d.traverse(function(_){_.isBone&&(v[_.uuid]=_)}),void 0!==l)for(let _=0,x=l.length;_<x;_++){const D=(new f_).fromJSON(l[_],v);m[D.uuid]=D}return m}parseGeometries(l,d){const m={};let v;if(void 0!==l){const _=new BD;for(let x=0,D=l.length;x<D;x++){let L;const k=l[x];switch(k.type){case"PlaneGeometry":case"PlaneBufferGeometry":L=new _l[k.type](k.width,k.height,k.widthSegments,k.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":L=new _l[k.type](k.width,k.height,k.depth,k.widthSegments,k.heightSegments,k.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":L=new _l[k.type](k.radius,k.segments,k.thetaStart,k.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":L=new _l[k.type](k.radiusTop,k.radiusBottom,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":L=new _l[k.type](k.radius,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":L=new _l[k.type](k.radius,k.widthSegments,k.heightSegments,k.phiStart,k.phiLength,k.thetaStart,k.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":L=new _l[k.type](k.radius,k.detail);break;case"RingGeometry":case"RingBufferGeometry":L=new _l[k.type](k.innerRadius,k.outerRadius,k.thetaSegments,k.phiSegments,k.thetaStart,k.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":L=new _l[k.type](k.radius,k.tube,k.radialSegments,k.tubularSegments,k.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":L=new _l[k.type](k.radius,k.tube,k.tubularSegments,k.radialSegments,k.p,k.q);break;case"TubeGeometry":case"TubeBufferGeometry":L=new _l[k.type]((new Q0[k.path.type]).fromJSON(k.path),k.tubularSegments,k.radius,k.radialSegments,k.closed);break;case"LatheGeometry":case"LatheBufferGeometry":L=new _l[k.type](k.points,k.segments,k.phiStart,k.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":L=new _l[k.type](k.vertices,k.indices,k.radius,k.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":v=[];for(let H=0,V=k.shapes.length;H<V;H++)v.push(d[k.shapes[H]]);L=new _l[k.type](v,k.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":v=[];for(let H=0,V=k.shapes.length;H<V;H++)v.push(d[k.shapes[H]]);const U=k.options.extrudePath;void 0!==U&&(k.options.extrudePath=(new Q0[U.type]).fromJSON(U)),L=new _l[k.type](v,k.options);break;case"BufferGeometry":case"InstancedBufferGeometry":L=_.parse(k);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+k.type+'"');continue}L.uuid=k.uuid,void 0!==k.name&&(L.name=k.name),!0===L.isBufferGeometry&&void 0!==k.userData&&(L.userData=k.userData),m[k.uuid]=L}}return m}parseMaterials(l,d){const m={},v={};if(void 0!==l){const _=new rM;_.setTextures(d);for(let x=0,D=l.length;x<D;x++){const L=l[x];if("MultiMaterial"===L.type){const k=[];for(let U=0;U<L.materials.length;U++){const H=L.materials[U];void 0===m[H.uuid]&&(m[H.uuid]=_.parse(H)),k.push(m[H.uuid])}v[L.uuid]=k}else void 0===m[L.uuid]&&(m[L.uuid]=_.parse(L)),v[L.uuid]=m[L.uuid]}}return v}parseAnimations(l){const d={};if(void 0!==l)for(let m=0;m<l.length;m++){const _=T_.parse(l[m]);d[_.uuid]=_}return d}parseImages(l,d){const m=this,v={};let _;function D(L){if("string"==typeof L){const k=L;return function x(L){return m.manager.itemStart(L),_.load(L,function(){m.manager.itemEnd(L)},void 0,function(){m.manager.itemError(L),m.manager.itemEnd(L)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k)?k:m.resourcePath+k)}return L.data?{data:Zs(L.type,L.data),width:L.width,height:L.height}:null}if(void 0!==l&&l.length>0){const L=new Y0(d);_=new $0(L),_.setCrossOrigin(this.crossOrigin);for(let k=0,U=l.length;k<U;k++){const H=l[k],V=H.url;if(Array.isArray(V)){v[H.uuid]=[];for(let Y=0,J=V.length;Y<J;Y++){const se=D(V[Y]);null!==se&&(se instanceof HTMLImageElement?v[H.uuid].push(se):v[H.uuid].push(new Yc(se.data,se.width,se.height)))}}else{const Y=D(H.url);null!==Y&&(v[H.uuid]=Y)}}}return v}parseTextures(l,d){function m(_,x){return"number"==typeof _?_:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",_),x[_])}const v={};if(void 0!==l)for(let _=0,x=l.length;_<x;_++){const D=l[_];let L;void 0===D.image&&console.warn('THREE.ObjectLoader: No "image" specified for',D.uuid),void 0===d[D.image]&&console.warn("THREE.ObjectLoader: Undefined image",D.image);const k=d[D.image];Array.isArray(k)?(L=new Th(k),6===k.length&&(L.needsUpdate=!0)):(L=k&&k.data?new Yc(k.data,k.width,k.height):new uo(k),k&&(L.needsUpdate=!0)),L.uuid=D.uuid,void 0!==D.name&&(L.name=D.name),void 0!==D.mapping&&(L.mapping=m(D.mapping,hF)),void 0!==D.offset&&L.offset.fromArray(D.offset),void 0!==D.repeat&&L.repeat.fromArray(D.repeat),void 0!==D.center&&L.center.fromArray(D.center),void 0!==D.rotation&&(L.rotation=D.rotation),void 0!==D.wrap&&(L.wrapS=m(D.wrap[0],VD),L.wrapT=m(D.wrap[1],VD)),void 0!==D.format&&(L.format=D.format),void 0!==D.type&&(L.type=D.type),void 0!==D.encoding&&(L.encoding=D.encoding),void 0!==D.minFilter&&(L.minFilter=m(D.minFilter,hE)),void 0!==D.magFilter&&(L.magFilter=m(D.magFilter,hE)),void 0!==D.anisotropy&&(L.anisotropy=D.anisotropy),void 0!==D.flipY&&(L.flipY=D.flipY),void 0!==D.premultiplyAlpha&&(L.premultiplyAlpha=D.premultiplyAlpha),void 0!==D.unpackAlignment&&(L.unpackAlignment=D.unpackAlignment),v[D.uuid]=L}return v}parseObject(l,d,m,v){let _,L,k;function x(U){return void 0===d[U]&&console.warn("THREE.ObjectLoader: Undefined geometry",U),d[U]}function D(U){if(void 0!==U){if(Array.isArray(U)){const H=[];for(let V=0,Y=U.length;V<Y;V++){const J=U[V];void 0===m[J]&&console.warn("THREE.ObjectLoader: Undefined material",J),H.push(m[J])}return H}return void 0===m[U]&&console.warn("THREE.ObjectLoader: Undefined material",U),m[U]}}switch(l.type){case"Scene":_=new _i,void 0!==l.background&&Number.isInteger(l.background)&&(_.background=new dr(l.background)),void 0!==l.fog&&("Fog"===l.fog.type?_.fog=new Pd(l.fog.color,l.fog.near,l.fog.far):"FogExp2"===l.fog.type&&(_.fog=new u_(l.fog.color,l.fog.density)));break;case"PerspectiveCamera":_=new rs(l.fov,l.aspect,l.near,l.far),void 0!==l.focus&&(_.focus=l.focus),void 0!==l.zoom&&(_.zoom=l.zoom),void 0!==l.filmGauge&&(_.filmGauge=l.filmGauge),void 0!==l.filmOffset&&(_.filmOffset=l.filmOffset),void 0!==l.view&&(_.view=Object.assign({},l.view));break;case"OrthographicCamera":_=new ov(l.left,l.right,l.top,l.bottom,l.near,l.far),void 0!==l.zoom&&(_.zoom=l.zoom),void 0!==l.view&&(_.view=Object.assign({},l.view));break;case"AmbientLight":_=new nM(l.color,l.intensity);break;case"DirectionalLight":_=new FD(l.color,l.intensity);break;case"PointLight":_=new P_(l.color,l.intensity,l.distance,l.decay);break;case"RectAreaLight":_=new HD(l.color,l.intensity,l.width,l.height);break;case"SpotLight":_=new Ou(l.color,l.intensity,l.distance,l.angle,l.penumbra,l.decay);break;case"HemisphereLight":_=new uE(l.color,l.groundColor,l.intensity);break;case"LightProbe":_=(new Ff).fromJSON(l);break;case"SkinnedMesh":L=x(l.geometry),k=D(l.material),_=new h_(L,k),void 0!==l.bindMode&&(_.bindMode=l.bindMode),void 0!==l.bindMatrix&&_.bindMatrix.fromArray(l.bindMatrix),void 0!==l.skeleton&&(_.skeleton=l.skeleton);break;case"Mesh":L=x(l.geometry),k=D(l.material),_=new un(L,k);break;case"InstancedMesh":L=x(l.geometry),k=D(l.material);const H=l.instanceMatrix;_=new b0(L,k,l.count),_.instanceMatrix=new Kr(new Float32Array(H.array),16);break;case"LOD":_=new g0;break;case"Line":_=new Xc(x(l.geometry),D(l.material));break;case"LineLoop":_=new M0(x(l.geometry),D(l.material));break;case"LineSegments":_=new tl(x(l.geometry),D(l.material));break;case"PointCloud":case"Points":_=new Zg(x(l.geometry),D(l.material));break;case"Sprite":_=new FC(D(l.material));break;case"Group":_=new Wp;break;case"Bone":_=new Yp;break;default:_=new Xr}if(_.uuid=l.uuid,void 0!==l.name&&(_.name=l.name),void 0!==l.matrix?(_.matrix.fromArray(l.matrix),void 0!==l.matrixAutoUpdate&&(_.matrixAutoUpdate=l.matrixAutoUpdate),_.matrixAutoUpdate&&_.matrix.decompose(_.position,_.quaternion,_.scale)):(void 0!==l.position&&_.position.fromArray(l.position),void 0!==l.rotation&&_.rotation.fromArray(l.rotation),void 0!==l.quaternion&&_.quaternion.fromArray(l.quaternion),void 0!==l.scale&&_.scale.fromArray(l.scale)),void 0!==l.castShadow&&(_.castShadow=l.castShadow),void 0!==l.receiveShadow&&(_.receiveShadow=l.receiveShadow),l.shadow&&(void 0!==l.shadow.bias&&(_.shadow.bias=l.shadow.bias),void 0!==l.shadow.normalBias&&(_.shadow.normalBias=l.shadow.normalBias),void 0!==l.shadow.radius&&(_.shadow.radius=l.shadow.radius),void 0!==l.shadow.mapSize&&_.shadow.mapSize.fromArray(l.shadow.mapSize),void 0!==l.shadow.camera&&(_.shadow.camera=this.parseObject(l.shadow.camera))),void 0!==l.visible&&(_.visible=l.visible),void 0!==l.frustumCulled&&(_.frustumCulled=l.frustumCulled),void 0!==l.renderOrder&&(_.renderOrder=l.renderOrder),void 0!==l.userData&&(_.userData=l.userData),void 0!==l.layers&&(_.layers.mask=l.layers),void 0!==l.children){const U=l.children;for(let H=0;H<U.length;H++)_.add(this.parseObject(U[H],d,m,v))}if(void 0!==l.animations){const U=l.animations;for(let H=0;H<U.length;H++)_.animations.push(v[U[H]])}if("LOD"===l.type){void 0!==l.autoUpdate&&(_.autoUpdate=l.autoUpdate);const U=l.levels;for(let H=0;H<U.length;H++){const V=U[H],Y=_.getObjectByProperty("uuid",V.object);void 0!==Y&&_.addLevel(Y,V.distance)}}return _}bindSkeletons(l,d){0!==Object.keys(d).length&&l.traverse(function(m){if(!0===m.isSkinnedMesh&&void 0!==m.skeleton){const v=d[m.skeleton];void 0===v?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",m.skeleton):m.bind(v,m.bindMatrix)}})}setTexturePath(l){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(l)}}const hF={UVMapping:ct,CubeReflectionMapping:qe,CubeRefractionMapping:Xe,EquirectangularReflectionMapping:Ze,EquirectangularRefractionMapping:_t,CubeUVReflectionMapping:mt,CubeUVRefractionMapping:Ct},VD={RepeatWrapping:qt,ClampToEdgeWrapping:dn,MirroredRepeatWrapping:xn},hE={NearestFilter:Un,NearestMipmapNearestFilter:br,NearestMipmapLinearFilter:li,LinearFilter:Li,LinearMipmapNearestFilter:fu,LinearMipmapLinearFilter:Xi};function zD(f){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Gs.call(this,f),this.options={premultiplyAlpha:"none"}}zD.prototype=Object.assign(Object.create(Gs.prototype),{constructor:zD,isImageBitmapLoader:!0,setOptions:function(l){return this.options=l,this},load:function(f,l,d,m){void 0===f&&(f=""),void 0!==this.path&&(f=this.path+f),f=this.manager.resolveURL(f);const v=this,_=Er.get(f);if(void 0!==_)return v.manager.itemStart(f),setTimeout(function(){l&&l(_),v.manager.itemEnd(f)},0),_;const x={};x.credentials="anonymous"===this.crossOrigin?"same-origin":"include",x.headers=this.requestHeader,fetch(f,x).then(function(D){return D.blob()}).then(function(D){return createImageBitmap(D,Object.assign(v.options,{colorSpaceConversion:"none"}))}).then(function(D){Er.add(f,D),l&&l(D),v.manager.itemEnd(f)}).catch(function(D){m&&m(D),v.manager.itemError(f),v.manager.itemEnd(f)}),v.manager.itemStart(f)}});class UD{constructor(){this.type="ShapePath",this.color=new dr,this.subPaths=[],this.currentPath=null}moveTo(l,d){return this.currentPath=new qp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(l,d),this}lineTo(l,d){return this.currentPath.lineTo(l,d),this}quadraticCurveTo(l,d,m,v){return this.currentPath.quadraticCurveTo(l,d,m,v),this}bezierCurveTo(l,d,m,v,_,x){return this.currentPath.bezierCurveTo(l,d,m,v,_,x),this}splineThru(l){return this.currentPath.splineThru(l),this}toShapes(l,d){function m(K){const De=[];for(let Ce=0,Ve=K.length;Ce<Ve;Ce++){const Se=K[Ce],nt=new Jp;nt.curves=Se.curves,De.push(nt)}return De}function v(K,De){const Ce=De.length;let Ve=!1;for(let Se=Ce-1,nt=0;nt<Ce;Se=nt++){let Dt=De[Se],Mt=De[nt],at=Mt.x-Dt.x,jt=Mt.y-Dt.y;if(Math.abs(jt)>Number.EPSILON){if(jt<0&&(Dt=De[nt],at=-at,Mt=De[Se],jt=-jt),K.y<Dt.y||K.y>Mt.y)continue;if(K.y===Dt.y){if(K.x===Dt.x)return!0}else{const en=jt*(K.x-Dt.x)-at*(K.y-Dt.y);if(0===en)return!0;if(en<0)continue;Ve=!Ve}}else{if(K.y!==Dt.y)continue;if(Mt.x<=K.x&&K.x<=Dt.x||Dt.x<=K.x&&K.x<=Mt.x)return!0}}return Ve}const _=Fh.isClockWise,x=this.subPaths;if(0===x.length)return[];if(!0===d)return m(x);let D,L,k;const U=[];if(1===x.length)return L=x[0],k=new Jp,k.curves=L.curves,U.push(k),U;let H=!_(x[0].getPoints());H=l?!H:H;const V=[],Y=[];let se,oe,J=[],te=0;Y[te]=void 0,J[te]=[];for(let K=0,De=x.length;K<De;K++)L=x[K],se=L.getPoints(),D=_(se),D=l?!D:D,D?(!H&&Y[te]&&te++,Y[te]={s:new Jp,p:se},Y[te].s.curves=L.curves,H&&te++,J[te]=[]):J[te].push({h:L,p:se[0]});if(!Y[0])return m(x);if(Y.length>1){let K=!1;const De=[];for(let Ce=0,Ve=Y.length;Ce<Ve;Ce++)V[Ce]=[];for(let Ce=0,Ve=Y.length;Ce<Ve;Ce++){const Se=J[Ce];for(let nt=0;nt<Se.length;nt++){const Dt=Se[nt];let Mt=!0;for(let at=0;at<Y.length;at++)v(Dt.p,Y[at].p)&&(Ce!==at&&De.push({froms:Ce,tos:at,hole:nt}),Mt?(Mt=!1,V[at].push(Dt)):K=!0);Mt&&V[Ce].push(Dt)}}De.length>0&&(K||(J=V))}for(let K=0,De=Y.length;K<De;K++){k=Y[K].s,U.push(k),oe=J[K];for(let Ce=0,Ve=oe.length;Ce<Ve;Ce++)k.holes.push(oe[Ce].h)}return U}}class jD{constructor(l){this.type="Font",this.data=l}generateShapes(l,d=100){const m=[],v=function WD(f,l,d){const m=Array.from(f),v=l/d.resolution,_=(d.boundingBox.yMax-d.boundingBox.yMin+d.underlineThickness)*v,x=[];let D=0,L=0;for(let k=0;k<m.length;k++){const U=m[k];if("\n"===U)D=0,L-=_;else{const H=YD(U,v,D,L,d);D+=H.offsetX,x.push(H.path)}}return x}(l,d,this.data);for(let _=0,x=v.length;_<x;_++)Array.prototype.push.apply(m,v[_].toShapes());return m}}function YD(f,l,d,m,v){const _=v.glyphs[f]||v.glyphs["?"];if(!_)return void console.error('THREE.Font: character "'+f+'" does not exists in font family '+v.familyName+".");const x=new UD;let D,L,k,U,H,V,Y,J;if(_.o){const te=_._cachedOutline||(_._cachedOutline=_.o.split(" "));for(let se=0,oe=te.length;se<oe;)switch(te[se++]){case"m":D=te[se++]*l+d,L=te[se++]*l+m,x.moveTo(D,L);break;case"l":D=te[se++]*l+d,L=te[se++]*l+m,x.lineTo(D,L);break;case"q":k=te[se++]*l+d,U=te[se++]*l+m,H=te[se++]*l+d,V=te[se++]*l+m,x.quadraticCurveTo(H,V,k,U);break;case"b":k=te[se++]*l+d,U=te[se++]*l+m,H=te[se++]*l+d,V=te[se++]*l+m,Y=te[se++]*l+d,J=te[se++]*l+m,x.bezierCurveTo(H,V,Y,J,k,U)}}return{offsetX:_.ha*l,path:x}}jD.prototype.isFont=!0;class fF extends Gs{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Du(this.manager);x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){let L;try{L=JSON.parse(D)}catch(U){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),L=JSON.parse(D.substring(65,D.length-2))}const k=_.parse(L);d&&d(k)},m,v)}parse(l){return new jD(l)}}let av;const GD={getContext:function(){return void 0===av&&(av=new(window.AudioContext||window.webkitAudioContext)),av},setContext:function(f){av=f}};class pF extends Gs{constructor(l){super(l)}load(l,d,m,v){const _=this,x=new Du(this.manager);x.setResponseType("arraybuffer"),x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(l,function(D){try{const L=D.slice(0);GD.getContext().decodeAudioData(L,function(U){d(U)})}catch(L){v?v(L):console.error(L),_.manager.itemError(l)}},m,v)}}class mF extends Ff{constructor(l,d,m=1){super(void 0,m);const v=(new dr).set(l),_=(new dr).set(d),x=new Ee(v.r,v.g,v.b),D=new Ee(_.r,_.g,_.b),L=Math.sqrt(Math.PI),k=L*Math.sqrt(.75);this.sh.coefficients[0].copy(x).add(D).multiplyScalar(L),this.sh.coefficients[1].copy(x).sub(D).multiplyScalar(k)}}mF.prototype.isHemisphereLightProbe=!0;class gF extends Ff{constructor(l,d=1){super(void 0,d);const m=(new dr).set(l);this.sh.coefficients[0].set(m.r,m.g,m.b).multiplyScalar(2*Math.sqrt(Math.PI))}}gF.prototype.isAmbientLightProbe=!0;const vF=new Hr,yF=new Hr;class H8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new rs,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new rs,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(l){const d=this._cache;if(d.focus!==l.focus||d.fov!==l.fov||d.aspect!==l.aspect*this.aspect||d.near!==l.near||d.far!==l.far||d.zoom!==l.zoom||d.eyeSep!==this.eyeSep){d.focus=l.focus,d.fov=l.fov,d.aspect=l.aspect*this.aspect,d.near=l.near,d.far=l.far,d.zoom=l.zoom,d.eyeSep=this.eyeSep;const v=l.projectionMatrix.clone(),_=d.eyeSep/2,x=_*d.near/d.focus,D=d.near*Math.tan(Dr.DEG2RAD*d.fov*.5)/d.zoom;let L,k;yF.elements[12]=-_,vF.elements[12]=_,L=-D*d.aspect+x,k=D*d.aspect+x,v.elements[0]=2*d.near/(k-L),v.elements[8]=(k+L)/(k-L),this.cameraL.projectionMatrix.copy(v),L=-D*d.aspect-x,k=D*d.aspect-x,v.elements[0]=2*d.near/(k-L),v.elements[8]=(k+L)/(k-L),this.cameraR.projectionMatrix.copy(v)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(yF),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(vF)}}class _F{constructor(l){this.autoStart=void 0===l||l,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=bF(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let l=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const d=bF();l=(d-this.oldTime)/1e3,this.oldTime=d,this.elapsedTime+=l}return l}}function bF(){return("undefined"==typeof performance?Date:performance).now()}const lv=new Ee,Bh=new Sr,fE=new Ee,em=new Ee;class $D extends Xr{constructor(){super(),this.type="AudioListener",this.context=GD.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new _F}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(l){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=l,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(l){return this.gain.gain.setTargetAtTime(l,this.context.currentTime,.01),this}updateMatrixWorld(l){super.updateMatrixWorld(l);const d=this.context.listener,m=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(lv,Bh,fE),em.set(0,0,-1).applyQuaternion(Bh),d.positionX){const v=this.context.currentTime+this.timeDelta;d.positionX.linearRampToValueAtTime(lv.x,v),d.positionY.linearRampToValueAtTime(lv.y,v),d.positionZ.linearRampToValueAtTime(lv.z,v),d.forwardX.linearRampToValueAtTime(em.x,v),d.forwardY.linearRampToValueAtTime(em.y,v),d.forwardZ.linearRampToValueAtTime(em.z,v),d.upX.linearRampToValueAtTime(m.x,v),d.upY.linearRampToValueAtTime(m.y,v),d.upZ.linearRampToValueAtTime(m.z,v)}else d.setPosition(lv.x,lv.y,lv.z),d.setOrientation(em.x,em.y,em.z,m.x,m.y,m.z)}}class N_ extends Xr{constructor(l){super(),this.type="Audio",this.listener=l,this.context=l.context,this.gain=this.context.createGain(),this.gain.connect(l.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(l){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=l,this.connect(),this}setMediaElementSource(l){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(l),this.connect(),this}setMediaStreamSource(l){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(l),this.connect(),this}setBuffer(l){return this.buffer=l,this.sourceType="buffer",this.autoplay&&this.play(),this}play(l=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+l;const d=this.context.createBufferSource();return d.buffer=this.buffer,d.loop=this.loop,d.loopStart=this.loopStart,d.loopEnd=this.loopEnd,d.onended=this.onEnded.bind(this),d.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=d,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let l=1,d=this.filters.length;l<d;l++)this.filters[l-1].connect(this.filters[l]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let l=1,d=this.filters.length;l<d;l++)this.filters[l-1].disconnect(this.filters[l]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(l){return l||(l=[]),!0===this._connected?(this.disconnect(),this.filters=l.slice(),this.connect()):this.filters=l.slice(),this}setDetune(l){if(this.detune=l,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(l){return this.setFilters(l?[l]:[])}setPlaybackRate(l){if(!1!==this.hasPlaybackControl)return this.playbackRate=l,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(l){if(!1!==this.hasPlaybackControl)return this.loop=l,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(l){return this.loopStart=l,this}setLoopEnd(l){return this.loopEnd=l,this}getVolume(){return this.gain.gain.value}setVolume(l){return this.gain.gain.setTargetAtTime(l,this.context.currentTime,.01),this}}const Hf=new Ee,iM=new Sr,wF=new Ee,su=new Ee;class XD extends N_{constructor(l){super(l),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(l){return this.panner.refDistance=l,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(l){return this.panner.rolloffFactor=l,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(l){return this.panner.distanceModel=l,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(l){return this.panner.maxDistance=l,this}setDirectionalCone(l,d,m){return this.panner.coneInnerAngle=l,this.panner.coneOuterAngle=d,this.panner.coneOuterGain=m,this}updateMatrixWorld(l){if(super.updateMatrixWorld(l),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Hf,iM,wF),su.set(0,0,1).applyQuaternion(iM);const d=this.panner;if(d.positionX){const m=this.context.currentTime+this.listener.timeDelta;d.positionX.linearRampToValueAtTime(Hf.x,m),d.positionY.linearRampToValueAtTime(Hf.y,m),d.positionZ.linearRampToValueAtTime(Hf.z,m),d.orientationX.linearRampToValueAtTime(su.x,m),d.orientationY.linearRampToValueAtTime(su.y,m),d.orientationZ.linearRampToValueAtTime(su.z,m)}else d.setPosition(Hf.x,Hf.y,Hf.z),d.setOrientation(su.x,su.y,su.z)}}class KD{constructor(l,d=2048){this.analyser=l.context.createAnalyser(),this.analyser.fftSize=d,this.data=new Uint8Array(this.analyser.frequencyBinCount),l.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let l=0;const d=this.getFrequencyData();for(let m=0;m<d.length;m++)l+=d[m];return l/d.length}}class oM{constructor(l,d,m){let v,_,x;switch(this.binding=l,this.valueSize=m,d){case"quaternion":v=this._slerp,_=this._slerpAdditive,x=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*m),this._workIndex=5;break;case"string":case"bool":v=this._select,_=this._select,x=this._setAdditiveIdentityOther,this.buffer=new Array(5*m);break;default:v=this._lerp,_=this._lerpAdditive,x=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*m)}this._mixBufferRegion=v,this._mixBufferRegionAdditive=_,this._setIdentity=x,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(l,d){const m=this.buffer,v=this.valueSize,_=l*v+v;let x=this.cumulativeWeight;if(0===x){for(let D=0;D!==v;++D)m[_+D]=m[D];x=d}else x+=d,this._mixBufferRegion(m,_,0,d/x,v);this.cumulativeWeight=x}accumulateAdditive(l){const d=this.buffer,m=this.valueSize,v=m*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(d,v,0,l,m),this.cumulativeWeightAdditive+=l}apply(l){const d=this.valueSize,m=this.buffer,v=l*d+d,_=this.cumulativeWeight,x=this.cumulativeWeightAdditive,D=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,_<1&&this._mixBufferRegion(m,v,d*this._origIndex,1-_,d),x>0&&this._mixBufferRegionAdditive(m,v,this._addIndex*d,1,d);for(let L=d,k=d+d;L!==k;++L)if(m[L]!==m[L+d]){D.setValue(m,v);break}}saveOriginalState(){const d=this.buffer,m=this.valueSize,v=m*this._origIndex;this.binding.getValue(d,v);for(let _=m,x=v;_!==x;++_)d[_]=d[v+_%m];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const l=this._addIndex*this.valueSize,d=l+this.valueSize;for(let m=l;m<d;m++)this.buffer[m]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const l=this._origIndex*this.valueSize,d=this._addIndex*this.valueSize;for(let m=0;m<this.valueSize;m++)this.buffer[d+m]=this.buffer[l+m]}_select(l,d,m,v,_){if(v>=.5)for(let x=0;x!==_;++x)l[d+x]=l[m+x]}_slerp(l,d,m,v){Sr.slerpFlat(l,d,l,d,l,m,v)}_slerpAdditive(l,d,m,v,_){const x=this._workIndex*_;Sr.multiplyQuaternionsFlat(l,x,l,d,l,m),Sr.slerpFlat(l,d,l,d,l,x,v)}_lerp(l,d,m,v,_){const x=1-v;for(let D=0;D!==_;++D){const L=d+D;l[L]=l[L]*x+l[m+D]*v}}_lerpAdditive(l,d,m,v,_){for(let x=0;x!==_;++x){const D=d+x;l[D]=l[D]+l[m+x]*v}}}const pE="\\[\\]\\.:\\/",ZD=new RegExp("["+pE+"]","g"),mE="[^"+pE+"]",MF="[^"+pE.replace("\\.","")+"]",sM=/((?:WC+[\/:])*)/.source.replace("WC",mE),uv=/(WCOD+)?/.source.replace("WCOD",MF),gE=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",mE),cv=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",mE),aM=new RegExp("^"+sM+uv+gE+cv+"$"),F_=["material","materials","bones"];function qD(f,l,d){const m=d||rl.parseTrackName(l);this._targetGroup=f,this._bindings=f.subscribe_(l,m)}function rl(f,l,d){this.path=l,this.parsedPath=d||rl.parseTrackName(l),this.node=rl.findNode(f,this.parsedPath.nodeName)||f,this.rootNode=f}Object.assign(qD.prototype,{getValue:function(f,l){this.bind();const m=this._bindings[this._targetGroup.nCachedObjects_];void 0!==m&&m.getValue(f,l)},setValue:function(f,l){const d=this._bindings;for(let m=this._targetGroup.nCachedObjects_,v=d.length;m!==v;++m)d[m].setValue(f,l)},bind:function(){const f=this._bindings;for(let l=this._targetGroup.nCachedObjects_,d=f.length;l!==d;++l)f[l].bind()},unbind:function(){const f=this._bindings;for(let l=this._targetGroup.nCachedObjects_,d=f.length;l!==d;++l)f[l].unbind()}}),Object.assign(rl,{Composite:qD,create:function(f,l,d){return f&&f.isAnimationObjectGroup?new rl.Composite(f,l,d):new rl(f,l,d)},sanitizeNodeName:function(f){return f.replace(/\s/g,"_").replace(ZD,"")},parseTrackName:function(f){const l=aM.exec(f);if(!l)throw new Error("PropertyBinding: Cannot parse trackName: "+f);const d={nodeName:l[2],objectName:l[3],objectIndex:l[4],propertyName:l[5],propertyIndex:l[6]},m=d.nodeName&&d.nodeName.lastIndexOf(".");if(void 0!==m&&-1!==m){const v=d.nodeName.substring(m+1);-1!==F_.indexOf(v)&&(d.nodeName=d.nodeName.substring(0,m),d.objectName=v)}if(null===d.propertyName||0===d.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+f);return d},findNode:function(f,l){if(!l||""===l||"."===l||-1===l||l===f.name||l===f.uuid)return f;if(f.skeleton){const d=f.skeleton.getBoneByName(l);if(void 0!==d)return d}if(f.children){const d=function(v){for(let _=0;_<v.length;_++){const x=v[_];if(x.name===l||x.uuid===l)return x;const D=d(x.children);if(D)return D}return null},m=d(f.children);if(m)return m}return null}}),Object.assign(rl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(l,d){l[d]=this.node[this.propertyName]},function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)l[d++]=m[v]},function(l,d){l[d]=this.resolvedProperty[this.propertyIndex]},function(l,d){this.resolvedProperty.toArray(l,d)}],SetterByBindingTypeAndVersioning:[[function(l,d){this.targetObject[this.propertyName]=l[d]},function(l,d){this.targetObject[this.propertyName]=l[d],this.targetObject.needsUpdate=!0},function(l,d){this.targetObject[this.propertyName]=l[d],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)m[v]=l[d++]},function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)m[v]=l[d++];this.targetObject.needsUpdate=!0},function(l,d){const m=this.resolvedProperty;for(let v=0,_=m.length;v!==_;++v)m[v]=l[d++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){this.resolvedProperty[this.propertyIndex]=l[d]},function(l,d){this.resolvedProperty[this.propertyIndex]=l[d],this.targetObject.needsUpdate=!0},function(l,d){this.resolvedProperty[this.propertyIndex]=l[d],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){this.resolvedProperty.fromArray(l,d)},function(l,d){this.resolvedProperty.fromArray(l,d),this.targetObject.needsUpdate=!0},function(l,d){this.resolvedProperty.fromArray(l,d),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(l,d){this.bind(),this.getValue(l,d)},setValue:function(l,d){this.bind(),this.setValue(l,d)},bind:function(){let f=this.node;const l=this.parsedPath,d=l.objectName,m=l.propertyName;let v=l.propertyIndex;if(f||(f=rl.findNode(this.rootNode,l.nodeName)||this.rootNode,this.node=f),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!f)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(d){let L=l.objectIndex;switch(d){case"materials":if(!f.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!f.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);f=f.material.materials;break;case"bones":if(!f.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);f=f.skeleton.bones;for(let k=0;k<f.length;k++)if(f[k].name===L){L=k;break}break;default:if(void 0===f[d])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);f=f[d]}if(void 0!==L){if(void 0===f[L])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,f);f=f[L]}}const _=f[m];if(void 0===_)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+l.nodeName+"."+m+" but it wasn't found.",f);let x=this.Versioning.None;this.targetObject=f,void 0!==f.needsUpdate?x=this.Versioning.NeedsUpdate:void 0!==f.matrixWorldNeedsUpdate&&(x=this.Versioning.MatrixWorldNeedsUpdate);let D=this.BindingType.Direct;if(void 0!==v){if("morphTargetInfluences"===m){if(!f.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!f.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!f.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==f.morphTargetDictionary[v]&&(v=f.morphTargetDictionary[v])}D=this.BindingType.ArrayElement,this.resolvedProperty=_,this.propertyIndex=v}else void 0!==_.fromArray&&void 0!==_.toArray?(D=this.BindingType.HasFromToArray,this.resolvedProperty=_):Array.isArray(_)?(D=this.BindingType.EntireArray,this.resolvedProperty=_):this.propertyName=m;this.getValue=this.GetterByBindingType[D],this.setValue=this.SetterByBindingTypeAndVersioning[D][x]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(rl.prototype,{_getValue_unbound:rl.prototype.getValue,_setValue_unbound:rl.prototype.setValue});class vE{constructor(){this.uuid=Dr.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const l={};this._indicesByUUID=l;for(let m=0,v=arguments.length;m!==v;++m)l[arguments[m].uuid]=m;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const d=this;this.stats={objects:{get total(){return d._objects.length},get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}add(){const l=this._objects,d=this._indicesByUUID,m=this._paths,v=this._parsedPaths,_=this._bindings,x=_.length;let D,L=l.length,k=this.nCachedObjects_;for(let U=0,H=arguments.length;U!==H;++U){const V=arguments[U],Y=V.uuid;let J=d[Y];if(void 0===J){J=L++,d[Y]=J,l.push(V);for(let te=0,se=x;te!==se;++te)_[te].push(new rl(V,m[te],v[te]))}else if(J<k){D=l[J];const te=--k,se=l[te];d[se.uuid]=J,l[J]=se,d[Y]=te,l[te]=V;for(let oe=0,K=x;oe!==K;++oe){const De=_[oe];let Ve=De[J];De[J]=De[te],void 0===Ve&&(Ve=new rl(V,m[oe],v[oe])),De[te]=Ve}}else l[J]!==D&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=k}remove(){const l=this._objects,d=this._indicesByUUID,m=this._bindings,v=m.length;let _=this.nCachedObjects_;for(let x=0,D=arguments.length;x!==D;++x){const L=arguments[x],k=L.uuid,U=d[k];if(void 0!==U&&U>=_){const H=_++,V=l[H];d[V.uuid]=U,l[U]=V,d[k]=H,l[H]=L;for(let Y=0,J=v;Y!==J;++Y){const te=m[Y],oe=te[U];te[U]=te[H],te[H]=oe}}}this.nCachedObjects_=_}uncache(){const l=this._objects,d=this._indicesByUUID,m=this._bindings,v=m.length;let _=this.nCachedObjects_,x=l.length;for(let D=0,L=arguments.length;D!==L;++D){const U=arguments[D].uuid,H=d[U];if(void 0!==H)if(delete d[U],H<_){const V=--_,Y=l[V],J=--x,te=l[J];d[Y.uuid]=H,l[H]=Y,d[te.uuid]=V,l[V]=te,l.pop();for(let se=0,oe=v;se!==oe;++se){const K=m[se],Ce=K[J];K[H]=K[V],K[V]=Ce,K.pop()}}else{const V=--x,Y=l[V];V>0&&(d[Y.uuid]=H),l[H]=Y,l.pop();for(let J=0,te=v;J!==te;++J){const se=m[J];se[H]=se[V],se.pop()}}}this.nCachedObjects_=_}subscribe_(l,d){const m=this._bindingsIndicesByPath;let v=m[l];const _=this._bindings;if(void 0!==v)return _[v];const x=this._paths,D=this._parsedPaths,L=this._objects,U=this.nCachedObjects_,H=new Array(L.length);v=_.length,m[l]=v,x.push(l),D.push(d),_.push(H);for(let V=U,Y=L.length;V!==Y;++V)H[V]=new rl(L[V],l,d);return H}unsubscribe_(l){const d=this._bindingsIndicesByPath,m=d[l];if(void 0!==m){const v=this._paths,_=this._parsedPaths,x=this._bindings,D=x.length-1,L=x[D];d[l[D]]=m,x[m]=L,x.pop(),_[m]=_[D],_.pop(),v[m]=v[D],v.pop()}}}vE.prototype.isAnimationObjectGroup=!0;class yE{constructor(l,d,m=null,v=d.blendMode){this._mixer=l,this._clip=d,this._localRoot=m,this.blendMode=v;const _=d.tracks,x=_.length,D=new Array(x),L={endingStart:Ta,endingEnd:Ta};for(let k=0;k!==x;++k){const U=_[k].createInterpolant(null);D[k]=U,U.settings=L}this._interpolantSettings=L,this._interpolants=D,this._propertyBindings=new Array(x),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xp,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(l){return this._startTime=l,this}setLoop(l,d){return this.loop=l,this.repetitions=d,this}setEffectiveWeight(l){return this.weight=l,this._effectiveWeight=this.enabled?l:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(l){return this._scheduleFading(l,0,1)}fadeOut(l){return this._scheduleFading(l,1,0)}crossFadeFrom(l,d,m){if(l.fadeOut(d),this.fadeIn(d),m){const v=this._clip.duration,_=l._clip.duration,D=v/_;l.warp(1,_/v,d),this.warp(D,1,d)}return this}crossFadeTo(l,d,m){return l.crossFadeFrom(this,d,m)}stopFading(){const l=this._weightInterpolant;return null!==l&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(l)),this}setEffectiveTimeScale(l){return this.timeScale=l,this._effectiveTimeScale=this.paused?0:l,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(l){return this.timeScale=this._clip.duration/l,this.stopWarping()}syncWith(l){return this.time=l.time,this.timeScale=l.timeScale,this.stopWarping()}halt(l){return this.warp(this._effectiveTimeScale,0,l)}warp(l,d,m){const v=this._mixer,_=v.time,x=this.timeScale;let D=this._timeScaleInterpolant;null===D&&(D=v._lendControlInterpolant(),this._timeScaleInterpolant=D);const L=D.parameterPositions,k=D.sampleValues;return L[0]=_,L[1]=_+m,k[0]=l/x,k[1]=d/x,this}stopWarping(){const l=this._timeScaleInterpolant;return null!==l&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(l)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(l,d,m,v){if(!this.enabled)return void this._updateWeight(l);const _=this._startTime;if(null!==_){const L=(l-_)*m;if(L<0||0===m)return;this._startTime=null,d=m*L}d*=this._updateTimeScale(l);const x=this._updateTime(d),D=this._updateWeight(l);if(D>0){const L=this._interpolants,k=this._propertyBindings;if(this.blendMode===Ep)for(let U=0,H=L.length;U!==H;++U)L[U].evaluate(x),k[U].accumulateAdditive(D);else for(let U=0,H=L.length;U!==H;++U)L[U].evaluate(x),k[U].accumulate(v,D)}}_updateWeight(l){let d=0;if(this.enabled){d=this.weight;const m=this._weightInterpolant;if(null!==m){const v=m.evaluate(l)[0];d*=v,l>m.parameterPositions[1]&&(this.stopFading(),0===v&&(this.enabled=!1))}}return this._effectiveWeight=d,d}_updateTimeScale(l){let d=0;if(!this.paused){d=this.timeScale;const m=this._timeScaleInterpolant;null!==m&&(d*=m.evaluate(l)[0],l>m.parameterPositions[1]&&(this.stopWarping(),0===d?this.paused=!0:this.timeScale=d))}return this._effectiveTimeScale=d,d}_updateTime(l){const d=this._clip.duration,m=this.loop;let v=this.time+l,_=this._loopCount;const x=m===Cp;if(0===l)return-1===_?v:x&&1==(1&_)?d-v:v;if(m===Xl){-1===_&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(v>=d)v=d;else{if(!(v<0)){this.time=v;break e}v=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=v,this._mixer.dispatchEvent({type:"finished",action:this,direction:l<0?-1:1})}}else{if(-1===_&&(l>=0?(_=0,this._setEndings(!0,0===this.repetitions,x)):this._setEndings(0===this.repetitions,!0,x)),v>=d||v<0){const D=Math.floor(v/d);v-=d*D,_+=Math.abs(D);const L=this.repetitions-_;if(L<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,v=l>0?d:0,this.time=v,this._mixer.dispatchEvent({type:"finished",action:this,direction:l>0?1:-1});else{if(1===L){const k=l<0;this._setEndings(k,!k,x)}else this._setEndings(!1,!1,x);this._loopCount=_,this.time=v,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:D})}}else this.time=v;if(x&&1==(1&_))return d-v}return v}_setEndings(l,d,m){const v=this._interpolantSettings;m?(v.endingStart=Lc,v.endingEnd=Lc):(v.endingStart=l?this.zeroSlopeAtStart?Lc:Ta:_h,v.endingEnd=d?this.zeroSlopeAtEnd?Lc:Ta:_h)}_scheduleFading(l,d,m){const v=this._mixer,_=v.time;let x=this._weightInterpolant;null===x&&(x=v._lendControlInterpolant(),this._weightInterpolant=x);const D=x.parameterPositions,L=x.sampleValues;return D[0]=_,L[0]=d,D[1]=_+l,L[1]=m,this}}class lM extends ji{constructor(l){super(),this._root=l,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(l,d){const m=l._localRoot||this._root,v=l._clip.tracks,_=v.length,x=l._propertyBindings,D=l._interpolants,L=m.uuid,k=this._bindingsByRootAndName;let U=k[L];void 0===U&&(U={},k[L]=U);for(let H=0;H!==_;++H){const V=v[H],Y=V.name;let J=U[Y];if(void 0!==J)x[H]=J;else{if(J=x[H],void 0!==J){null===J._cacheIndex&&(++J.referenceCount,this._addInactiveBinding(J,L,Y));continue}J=new oM(rl.create(m,Y,d&&d._propertyBindings[H].binding.parsedPath),V.ValueTypeName,V.getValueSize()),++J.referenceCount,this._addInactiveBinding(J,L,Y),x[H]=J}D[H].resultBuffer=J.buffer}}_activateAction(l){if(!this._isActiveAction(l)){if(null===l._cacheIndex){const m=(l._localRoot||this._root).uuid,v=l._clip.uuid,_=this._actionsByClip[v];this._bindAction(l,_&&_.knownActions[0]),this._addInactiveAction(l,v,m)}const d=l._propertyBindings;for(let m=0,v=d.length;m!==v;++m){const _=d[m];0==_.useCount++&&(this._lendBinding(_),_.saveOriginalState())}this._lendAction(l)}}_deactivateAction(l){if(this._isActiveAction(l)){const d=l._propertyBindings;for(let m=0,v=d.length;m!==v;++m){const _=d[m];0==--_.useCount&&(_.restoreOriginalState(),this._takeBackBinding(_))}this._takeBackAction(l)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const l=this;this.stats={actions:{get total(){return l._actions.length},get inUse(){return l._nActiveActions}},bindings:{get total(){return l._bindings.length},get inUse(){return l._nActiveBindings}},controlInterpolants:{get total(){return l._controlInterpolants.length},get inUse(){return l._nActiveControlInterpolants}}}}_isActiveAction(l){const d=l._cacheIndex;return null!==d&&d<this._nActiveActions}_addInactiveAction(l,d,m){const v=this._actions,_=this._actionsByClip;let x=_[d];if(void 0===x)x={knownActions:[l],actionByRoot:{}},l._byClipCacheIndex=0,_[d]=x;else{const D=x.knownActions;l._byClipCacheIndex=D.length,D.push(l)}l._cacheIndex=v.length,v.push(l),x.actionByRoot[m]=l}_removeInactiveAction(l){const d=this._actions,m=d[d.length-1],v=l._cacheIndex;m._cacheIndex=v,d[v]=m,d.pop(),l._cacheIndex=null;const _=l._clip.uuid,x=this._actionsByClip,D=x[_],L=D.knownActions,k=L[L.length-1],U=l._byClipCacheIndex;k._byClipCacheIndex=U,L[U]=k,L.pop(),l._byClipCacheIndex=null,delete D.actionByRoot[(l._localRoot||this._root).uuid],0===L.length&&delete x[_],this._removeInactiveBindingsForAction(l)}_removeInactiveBindingsForAction(l){const d=l._propertyBindings;for(let m=0,v=d.length;m!==v;++m){const _=d[m];0==--_.referenceCount&&this._removeInactiveBinding(_)}}_lendAction(l){const d=this._actions,m=l._cacheIndex,v=this._nActiveActions++,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_takeBackAction(l){const d=this._actions,m=l._cacheIndex,v=--this._nActiveActions,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_addInactiveBinding(l,d,m){const v=this._bindingsByRootAndName,_=this._bindings;let x=v[d];void 0===x&&(x={},v[d]=x),x[m]=l,l._cacheIndex=_.length,_.push(l)}_removeInactiveBinding(l){const d=this._bindings,m=l.binding,v=m.rootNode.uuid,_=m.path,x=this._bindingsByRootAndName,D=x[v],L=d[d.length-1],k=l._cacheIndex;L._cacheIndex=k,d[k]=L,d.pop(),delete D[_],0===Object.keys(D).length&&delete x[v]}_lendBinding(l){const d=this._bindings,m=l._cacheIndex,v=this._nActiveBindings++,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_takeBackBinding(l){const d=this._bindings,m=l._cacheIndex,v=--this._nActiveBindings,_=d[v];l._cacheIndex=v,d[v]=l,_._cacheIndex=m,d[m]=_}_lendControlInterpolant(){const l=this._controlInterpolants,d=this._nActiveControlInterpolants++;let m=l[d];return void 0===m&&(m=new x_(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),m.__cacheIndex=d,l[d]=m),m}_takeBackControlInterpolant(l){const d=this._controlInterpolants,m=l.__cacheIndex,v=--this._nActiveControlInterpolants,_=d[v];l.__cacheIndex=v,d[v]=l,_.__cacheIndex=m,d[m]=_}clipAction(l,d,m){const v=d||this._root,_=v.uuid;let x="string"==typeof l?T_.findByName(v,l):l;const D=null!==x?x.uuid:l,L=this._actionsByClip[D];let k=null;if(void 0===m&&(m=null!==x?x.blendMode:fn),void 0!==L){const H=L.actionByRoot[_];if(void 0!==H&&H.blendMode===m)return H;k=L.knownActions[0],null===x&&(x=k._clip)}if(null===x)return null;const U=new yE(this,x,d,m);return this._bindAction(U,k),this._addInactiveAction(U,D,_),U}existingAction(l,d){const m=d||this._root,v=m.uuid,_="string"==typeof l?T_.findByName(m,l):l,D=this._actionsByClip[_?_.uuid:l];return void 0!==D&&D.actionByRoot[v]||null}stopAllAction(){const l=this._actions;for(let m=this._nActiveActions-1;m>=0;--m)l[m].stop();return this}update(l){const d=this._actions,m=this._nActiveActions,v=this.time+=l*=this.timeScale,_=Math.sign(l),x=this._accuIndex^=1;for(let k=0;k!==m;++k)d[k]._update(v,l,_,x);const D=this._bindings,L=this._nActiveBindings;for(let k=0;k!==L;++k)D[k].apply(x);return this}setTime(l){this.time=0;for(let d=0;d<this._actions.length;d++)this._actions[d].time=0;return this.update(l)}getRoot(){return this._root}uncacheClip(l){const d=this._actions,m=l.uuid,v=this._actionsByClip,_=v[m];if(void 0!==_){const x=_.knownActions;for(let D=0,L=x.length;D!==L;++D){const k=x[D];this._deactivateAction(k);const U=k._cacheIndex,H=d[d.length-1];k._cacheIndex=null,k._byClipCacheIndex=null,H._cacheIndex=U,d[U]=H,d.pop(),this._removeInactiveBindingsForAction(k)}delete v[m]}}uncacheRoot(l){const d=l.uuid,m=this._actionsByClip;for(const x in m){const L=m[x].actionByRoot[d];void 0!==L&&(this._deactivateAction(L),this._removeInactiveAction(L))}const _=this._bindingsByRootAndName[d];if(void 0!==_)for(const x in _){const D=_[x];D.restoreOriginalState(),this._removeInactiveBinding(D)}}uncacheAction(l,d){const m=this.existingAction(l,d);null!==m&&(this._deactivateAction(m),this._removeInactiveAction(m))}}lM.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class H_{constructor(l){"string"==typeof l&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),l=arguments[1]),this.value=l}clone(){return new H_(void 0===this.value.clone?this.value:this.value.clone())}}function B_(f,l,d){nu.call(this,f,l),this.meshPerAttribute=d||1}function _E(f,l,d,m,v){this.buffer=f,this.type=l,this.itemSize=d,this.elementSize=m,this.count=v,this.version=0}function JD(f,l,d=0,m=1/0){this.ray=new Cd(f,l),this.near=d,this.far=m,this.camera=null,this.layers=new Gw,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function QD(f,l){return f.distance-l.distance}function uM(f,l,d,m){if(f.layers.test(l.layers)&&f.raycast(l,d),!0===m){const v=f.children;for(let _=0,x=v.length;_<x;_++)uM(v[_],l,d,!0)}}B_.prototype=Object.assign(Object.create(nu.prototype),{constructor:B_,isInstancedInterleavedBuffer:!0,copy:function(f){return nu.prototype.copy.call(this,f),this.meshPerAttribute=f.meshPerAttribute,this},clone:function(f){const l=nu.prototype.clone.call(this,f);return l.meshPerAttribute=this.meshPerAttribute,l},toJSON:function(f){const l=nu.prototype.toJSON.call(this,f);return l.isInstancedInterleavedBuffer=!0,l.meshPerAttribute=this.meshPerAttribute,l}}),Object.defineProperty(_E.prototype,"needsUpdate",{set:function(f){!0===f&&this.version++}}),Object.assign(_E.prototype,{isGLBufferAttribute:!0,setBuffer:function(f){return this.buffer=f,this},setType:function(f,l){return this.type=f,this.elementSize=l,this},setItemSize:function(f){return this.itemSize=f,this},setCount:function(f){return this.count=f,this}}),Object.assign(JD.prototype,{set:function(f,l){this.ray.set(f,l)},setFromCamera:function(f,l){l&&l.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(l.matrixWorld),this.ray.direction.set(f.x,f.y,.5).unproject(l).sub(this.ray.origin).normalize(),this.camera=l):l&&l.isOrthographicCamera?(this.ray.origin.set(f.x,f.y,(l.near+l.far)/(l.near-l.far)).unproject(l),this.ray.direction.set(0,0,-1).transformDirection(l.matrixWorld),this.camera=l):console.error("THREE.Raycaster: Unsupported camera type: "+l.type)},intersectObject:function(f,l=!1,d=[]){return uM(f,this,d,l),d.sort(QD),d},intersectObjects:function(f,l=!1,d=[]){for(let m=0,v=f.length;m<v;m++)uM(f[m],this,d,l);return d.sort(QD),d}});class SF{constructor(l=1,d=0,m=0){return this.radius=l,this.phi=d,this.theta=m,this}set(l,d,m){return this.radius=l,this.phi=d,this.theta=m,this}copy(l){return this.radius=l.radius,this.phi=l.phi,this.theta=l.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(l){return this.setFromCartesianCoords(l.x,l.y,l.z)}setFromCartesianCoords(l,d,m){return this.radius=Math.sqrt(l*l+d*d+m*m),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(l,m),this.phi=Math.acos(Dr.clamp(d/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class eA{constructor(l=1,d=0,m=0){return this.radius=l,this.theta=d,this.y=m,this}set(l,d,m){return this.radius=l,this.theta=d,this.y=m,this}copy(l){return this.radius=l.radius,this.theta=l.theta,this.y=l.y,this}setFromVector3(l){return this.setFromCartesianCoords(l.x,l.y,l.z)}setFromCartesianCoords(l,d,m){return this.radius=Math.sqrt(l*l+m*m),this.theta=Math.atan2(l,m),this.y=d,this}clone(){return(new this.constructor).copy(this)}}const bE=new _n;class dv{constructor(l=new _n(1/0,1/0),d=new _n(-1/0,-1/0)){this.min=l,this.max=d}set(l,d){return this.min.copy(l),this.max.copy(d),this}setFromPoints(l){this.makeEmpty();for(let d=0,m=l.length;d<m;d++)this.expandByPoint(l[d]);return this}setFromCenterAndSize(l,d){const m=bE.copy(d).multiplyScalar(.5);return this.min.copy(l).sub(m),this.max.copy(l).add(m),this}clone(){return(new this.constructor).copy(this)}copy(l){return this.min.copy(l.min),this.max.copy(l.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(l){return void 0===l&&(console.warn("THREE.Box2: .getCenter() target is now required"),l=new _n),this.isEmpty()?l.set(0,0):l.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(l){return void 0===l&&(console.warn("THREE.Box2: .getSize() target is now required"),l=new _n),this.isEmpty()?l.set(0,0):l.subVectors(this.max,this.min)}expandByPoint(l){return this.min.min(l),this.max.max(l),this}expandByVector(l){return this.min.sub(l),this.max.add(l),this}expandByScalar(l){return this.min.addScalar(-l),this.max.addScalar(l),this}containsPoint(l){return!(l.x<this.min.x||l.x>this.max.x||l.y<this.min.y||l.y>this.max.y)}containsBox(l){return this.min.x<=l.min.x&&l.max.x<=this.max.x&&this.min.y<=l.min.y&&l.max.y<=this.max.y}getParameter(l,d){return void 0===d&&(console.warn("THREE.Box2: .getParameter() target is now required"),d=new _n),d.set((l.x-this.min.x)/(this.max.x-this.min.x),(l.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(l){return!(l.max.x<this.min.x||l.min.x>this.max.x||l.max.y<this.min.y||l.min.y>this.max.y)}clampPoint(l,d){return void 0===d&&(console.warn("THREE.Box2: .clampPoint() target is now required"),d=new _n),d.copy(l).clamp(this.min,this.max)}distanceToPoint(l){return bE.copy(l).clamp(this.min,this.max).sub(l).length()}intersect(l){return this.min.max(l.min),this.max.min(l.max),this}union(l){return this.min.min(l.min),this.max.max(l.max),this}translate(l){return this.min.add(l),this.max.add(l),this}equals(l){return l.min.equals(this.min)&&l.max.equals(this.max)}}dv.prototype.isBox2=!0;const au=new Ee,V_=new Ee;class tA{constructor(l=new Ee,d=new Ee){this.start=l,this.end=d}set(l,d){return this.start.copy(l),this.end.copy(d),this}copy(l){return this.start.copy(l.start),this.end.copy(l.end),this}getCenter(l){return void 0===l&&(console.warn("THREE.Line3: .getCenter() target is now required"),l=new Ee),l.addVectors(this.start,this.end).multiplyScalar(.5)}delta(l){return void 0===l&&(console.warn("THREE.Line3: .delta() target is now required"),l=new Ee),l.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(l,d){return void 0===d&&(console.warn("THREE.Line3: .at() target is now required"),d=new Ee),this.delta(d).multiplyScalar(l).add(this.start)}closestPointToPointParameter(l,d){au.subVectors(l,this.start),V_.subVectors(this.end,this.start);const m=V_.dot(V_);let _=V_.dot(au)/m;return d&&(_=Dr.clamp(_,0,1)),_}closestPointToPoint(l,d,m){const v=this.closestPointToPointParameter(l,d);return void 0===m&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),m=new Ee),this.delta(m).multiplyScalar(v).add(this.start)}applyMatrix4(l){return this.start.applyMatrix4(l),this.end.applyMatrix4(l),this}equals(l){return l.start.equals(this.start)&&l.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}function cM(f){Xr.call(this),this.material=f,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}(cM.prototype=Object.create(Xr.prototype)).constructor=cM,cM.prototype.isImmediateRenderObject=!0;const nA=new Ee;class wE extends Xr{constructor(l,d){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=d;const m=new Br,v=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let x=0,D=1,L=32;x<L;x++,D++){const k=x/L*Math.PI*2,U=D/L*Math.PI*2;v.push(Math.cos(k),Math.sin(k),1,Math.cos(U),Math.sin(U),1)}m.setAttribute("position",new yr(v,3));const _=new ka({fog:!1,toneMapped:!1});this.cone=new tl(m,_),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const l=this.light.distance?this.light.distance:1e3,d=l*Math.tan(this.light.angle);this.cone.scale.set(d,d,l),nA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(nA),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Vh=new Ee,dM=new Hr,ME=new Hr;class rA extends tl{constructor(l){const d=SE(l),m=new Br,v=[],_=[],x=new dr(0,0,1),D=new dr(0,1,0);for(let k=0;k<d.length;k++){const U=d[k];U.parent&&U.parent.isBone&&(v.push(0,0,0),v.push(0,0,0),_.push(x.r,x.g,x.b),_.push(D.r,D.g,D.b))}m.setAttribute("position",new yr(v,3)),m.setAttribute("color",new yr(_,3)),super(m,new ka({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=l,this.bones=d,this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(l){const d=this.bones,m=this.geometry,v=m.getAttribute("position");ME.copy(this.root.matrixWorld).invert();for(let _=0,x=0;_<d.length;_++){const D=d[_];D.parent&&D.parent.isBone&&(dM.multiplyMatrices(ME,D.matrixWorld),Vh.setFromMatrixPosition(dM),v.setXYZ(x,Vh.x,Vh.y,Vh.z),dM.multiplyMatrices(ME,D.parent.matrixWorld),Vh.setFromMatrixPosition(dM),v.setXYZ(x+1,Vh.x,Vh.y,Vh.z),x+=2)}m.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(l)}}function SE(f){const l=[];f&&f.isBone&&l.push(f);for(let d=0;d<f.children.length;d++)l.push.apply(l,SE(f.children[d]));return l}class xF extends un{constructor(l,d,m){super(new Qg(d,4,2),new Vc({wireframe:!0,fog:!1,toneMapped:!1})),this.light=l,this.light.updateMatrixWorld(),this.color=m,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const iA=new Ee,oA=new dr,sA=new dr;class aA extends Xr{constructor(l,d,m){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=m;const v=new H0(d);v.rotateY(.5*Math.PI),this.material=new Vc({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const _=v.getAttribute("position"),x=new Float32Array(3*_.count);v.setAttribute("color",new Kr(x,3)),this.add(new un(v,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const l=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const d=l.geometry.getAttribute("color");oA.copy(this.light.color),sA.copy(this.light.groundColor);for(let m=0,v=d.count;m<v;m++){const _=m<v/2?oA:sA;d.setXYZ(m,_.r,_.g,_.b)}d.needsUpdate=!0}l.lookAt(iA.setFromMatrixPosition(this.light.matrixWorld).negate())}}class xE extends tl{constructor(l=10,d=10,m=4473924,v=8947848){m=new dr(m),v=new dr(v);const _=d/2,x=l/d,D=l/2,L=[],k=[];for(let V=0,Y=0,J=-D;V<=d;V++,J+=x){L.push(-D,0,J,D,0,J),L.push(J,0,-D,J,0,D);const te=V===_?m:v;te.toArray(k,Y),Y+=3,te.toArray(k,Y),Y+=3,te.toArray(k,Y),Y+=3,te.toArray(k,Y),Y+=3}const U=new Br;U.setAttribute("position",new yr(L,3)),U.setAttribute("color",new yr(k,3)),super(U,new ka({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}class CF extends tl{constructor(l=10,d=16,m=8,v=64,_=4473924,x=8947848){_=new dr(_),x=new dr(x);const D=[],L=[];for(let H=0;H<=d;H++){const V=H/d*(2*Math.PI),Y=Math.sin(V)*l,J=Math.cos(V)*l;D.push(0,0,0),D.push(Y,0,J);const te=1&H?_:x;L.push(te.r,te.g,te.b),L.push(te.r,te.g,te.b)}for(let H=0;H<=m;H++){const V=1&H?_:x,Y=l-l/m*H;for(let J=0;J<v;J++){let te=J/v*(2*Math.PI),se=Math.sin(te)*Y,oe=Math.cos(te)*Y;D.push(se,0,oe),L.push(V.r,V.g,V.b),te=(J+1)/v*(2*Math.PI),se=Math.sin(te)*Y,oe=Math.cos(te)*Y,D.push(se,0,oe),L.push(V.r,V.g,V.b)}}const k=new Br;k.setAttribute("position",new yr(D,3)),k.setAttribute("color",new yr(L,3)),super(k,new ka({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}}const Qc=new Ee,hv=new Ee,lA=new Ee;class EF extends Xr{constructor(l,d,m){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=m,void 0===d&&(d=1);let v=new Br;v.setAttribute("position",new yr([-d,d,0,d,d,0,d,-d,0,-d,-d,0,-d,d,0],3));const _=new ka({fog:!1,toneMapped:!1});this.lightPlane=new Xc(v,_),this.add(this.lightPlane),v=new Br,v.setAttribute("position",new yr([0,0,0,0,0,1],3)),this.targetLine=new Xc(v,_),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){Qc.setFromMatrixPosition(this.light.matrixWorld),hv.setFromMatrixPosition(this.light.target.matrixWorld),lA.subVectors(hv,Qc),this.lightPlane.lookAt(hv),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(hv),this.targetLine.scale.z=lA.length()}}const CE=new Ee,ks=new Vo;class TF extends tl{constructor(l){const d=new Br,m=new ka({color:16777215,vertexColors:!0,toneMapped:!1}),v=[],_=[],x={},D=new dr(16755200),L=new dr(16711680),k=new dr(43775),U=new dr(16777215),H=new dr(3355443);function V(J,te,se){Y(J,se),Y(te,se)}function Y(J,te){v.push(0,0,0),_.push(te.r,te.g,te.b),void 0===x[J]&&(x[J]=[]),x[J].push(v.length/3-1)}V("n1","n2",D),V("n2","n4",D),V("n4","n3",D),V("n3","n1",D),V("f1","f2",D),V("f2","f4",D),V("f4","f3",D),V("f3","f1",D),V("n1","f1",D),V("n2","f2",D),V("n3","f3",D),V("n4","f4",D),V("p","n1",L),V("p","n2",L),V("p","n3",L),V("p","n4",L),V("u1","u2",k),V("u2","u3",k),V("u3","u1",k),V("c","t",U),V("p","c",H),V("cn1","cn2",H),V("cn3","cn4",H),V("cf1","cf2",H),V("cf3","cf4",H),d.setAttribute("position",new yr(v,3)),d.setAttribute("color",new yr(_,3)),super(d,m),this.type="CameraHelper",this.camera=l,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=x,this.update()}update(){const l=this.geometry,d=this.pointMap;ks.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Js("c",d,l,ks,0,0,-1),Js("t",d,l,ks,0,0,1),Js("n1",d,l,ks,-1,-1,-1),Js("n2",d,l,ks,1,-1,-1),Js("n3",d,l,ks,-1,1,-1),Js("n4",d,l,ks,1,1,-1),Js("f1",d,l,ks,-1,-1,1),Js("f2",d,l,ks,1,-1,1),Js("f3",d,l,ks,-1,1,1),Js("f4",d,l,ks,1,1,1),Js("u1",d,l,ks,.7,1.1,-1),Js("u2",d,l,ks,-.7,1.1,-1),Js("u3",d,l,ks,0,2,-1),Js("cf1",d,l,ks,-1,0,1),Js("cf2",d,l,ks,1,0,1),Js("cf3",d,l,ks,0,-1,1),Js("cf4",d,l,ks,0,1,1),Js("cn1",d,l,ks,-1,0,-1),Js("cn2",d,l,ks,1,0,-1),Js("cn3",d,l,ks,0,-1,-1),Js("cn4",d,l,ks,0,1,-1),l.getAttribute("position").needsUpdate=!0}}function Js(f,l,d,m,v,_,x){CE.set(v,_,x).unproject(m);const D=l[f];if(void 0!==D){const L=d.getAttribute("position");for(let k=0,U=D.length;k<U;k++)L.setXYZ(D[k],CE.x,CE.y,CE.z)}}const hM=new zs;class fM extends tl{constructor(l,d=16776960){const m=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),v=new Float32Array(24),_=new Br;_.setIndex(new Kr(m,1)),_.setAttribute("position",new Kr(v,3)),super(_,new ka({color:d,toneMapped:!1})),this.object=l,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(l){if(void 0!==l&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&hM.setFromObject(this.object),hM.isEmpty())return;const d=hM.min,m=hM.max,v=this.geometry.attributes.position,_=v.array;_[0]=m.x,_[1]=m.y,_[2]=m.z,_[3]=d.x,_[4]=m.y,_[5]=m.z,_[6]=d.x,_[7]=d.y,_[8]=m.z,_[9]=m.x,_[10]=d.y,_[11]=m.z,_[12]=m.x,_[13]=m.y,_[14]=d.z,_[15]=d.x,_[16]=m.y,_[17]=d.z,_[18]=d.x,_[19]=d.y,_[20]=d.z,_[21]=m.x,_[22]=d.y,_[23]=d.z,v.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(l){return this.object=l,this.update(),this}copy(l){return tl.prototype.copy.call(this,l),this.object=l.object,this}}class RF extends tl{constructor(l,d=16776960){const m=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),_=new Br;_.setIndex(new Kr(m,1)),_.setAttribute("position",new yr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(_,new ka({color:d,toneMapped:!1})),this.box=l,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(l){const d=this.box;d.isEmpty()||(d.getCenter(this.position),d.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(l))}}class DF extends Xc{constructor(l,d=1,m=16776960){const v=m,x=new Br;x.setAttribute("position",new yr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),x.computeBoundingSphere(),super(x,new ka({color:v,toneMapped:!1})),this.type="PlaneHelper",this.plane=l,this.size=d;const L=new Br;L.setAttribute("position",new yr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),L.computeBoundingSphere(),this.add(new un(L,new Vc({color:v,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(l){let d=-this.plane.constant;Math.abs(d)<1e-8&&(d=1e-8),this.scale.set(.5*this.size,.5*this.size,d),this.children[0].material.side=d<0?$:he,this.lookAt(this.plane.normal),super.updateMatrixWorld(l)}}const z_=new Ee;let fv,EE;class uA extends Xr{constructor(l=new Ee(0,0,1),d=new Ee(0,0,0),m=1,v=16776960,_=.2*m,x=.2*_){super(),this.type="ArrowHelper",void 0===fv&&(fv=new Br,fv.setAttribute("position",new yr([0,0,0,0,1,0],3)),EE=new qg(0,.5,1,5,1),EE.translate(0,-.5,0)),this.position.copy(d),this.line=new Xc(fv,new ka({color:v,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new un(EE,new Vc({color:v,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(l),this.setLength(m,_,x)}setDirection(l){if(l.y>.99999)this.quaternion.set(0,0,0,1);else if(l.y<-.99999)this.quaternion.set(1,0,0,0);else{z_.set(l.z,0,-l.x).normalize();const d=Math.acos(l.y);this.quaternion.setFromAxisAngle(z_,d)}}setLength(l,d=.2*l,m=.2*d){this.line.scale.set(1,Math.max(1e-4,l-d),1),this.line.updateMatrix(),this.cone.scale.set(m,d,m),this.cone.position.y=l,this.cone.updateMatrix()}setColor(l){this.line.material.color.set(l),this.cone.material.color.set(l)}copy(l){return super.copy(l,!1),this.line.copy(l.line),this.cone.copy(l.cone),this}}class pM extends tl{constructor(l=1){const d=[0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,l],v=new Br;v.setAttribute("position",new yr(d,3)),v.setAttribute("color",new yr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(v,new ka({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}}const TE=new Float32Array(1),B8=new Int32Array(TE.buffer),V8={toHalfFloat:function(f){TE[0]=f;const l=B8[0];let d=l>>16&32768,m=l>>12&2047;const v=l>>23&255;return v<103?d:v>142?(d|=31744,d|=(255==v?0:1)&&8388607&l,d):v<113?(m|=2048,d|=(m>>114-v)+(m>>113-v&1),d):(d|=v-112<<10|m>>1,d+=1&m,d)}},Ud=Math.pow(2,8),RE=[.125,.215,.35,.446,.526,.582],DE=5+RE.length,ed={[yn]:0,[er]:1,[_s]:2,[ps]:3,[Md]:4,[cr]:5,[zi]:6},zh=new Vc({side:$,depthWrite:!1,depthTest:!1}),Uh=new un(new Wc,zh),pv=new ov,{_lodPlanes:Vf,_sizeLods:mv,_sigmas:mM}=U8(),gM=new dr;let vM=null;const rm=(1+Math.sqrt(5))/2,gv=1/rm,vv=[new Ee(1,1,1),new Ee(-1,1,1),new Ee(1,1,-1),new Ee(-1,1,-1),new Ee(0,rm,gv),new Ee(0,rm,-gv),new Ee(gv,0,rm),new Ee(-gv,0,rm),new Ee(rm,gv,0),new Ee(-rm,gv,0)];function cA(f){const l=Math.max(f.r,f.g,f.b),d=Math.min(Math.max(Math.ceil(Math.log2(l)),-128),127);return f.multiplyScalar(Math.pow(2,-d)),(d+128)/255}class z8{constructor(l){this._renderer=l,this._pingPongRenderTarget=null,this._blurMaterial=function OF(f){const l=new Float32Array(f),d=new Ee(0,1,0);return new Hd({name:"SphericalGaussianBlur",defines:{n:f},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:l},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:d},inputEncoding:{value:ed[yn]},outputEncoding:{value:ed[yn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:Re,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(l,d=0,m=.1,v=100){vM=this._renderer.getRenderTarget();const _=this._allocateTargets();return this._sceneToCubeUV(l,m,v,_),d>0&&this._blur(_,0,0,d),this._applyPMREM(_),this._cleanup(_),_}fromEquirectangular(l){return this._fromTexture(l)}fromCubemap(l){return this._fromTexture(l)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=kF(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=hA(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let l=0;l<Vf.length;l++)Vf[l].dispose()}_cleanup(l){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(vM),l.scissorTest=!1,yM(l,0,0,l.width,l.height)}_fromTexture(l){vM=this._renderer.getRenderTarget();const d=this._allocateTargets(l);return this._textureToCubeUV(l,d),this._applyPMREM(d),this._cleanup(d),d}_allocateTargets(l){const d={magFilter:Un,minFilter:Un,generateMipmaps:!1,type:la,format:Yo,encoding:(f=l,void 0===f||f.type!==la||f.encoding!==yn&&f.encoding!==er&&f.encoding!==zi?_s:l.encoding),depthBuffer:!1},m=dA(d);var f;return m.depthBuffer=!l,this._pingPongRenderTarget=dA(d),m}_compileMaterial(l){const d=new un(Vf[0],l);this._renderer.compile(d,pv)}_sceneToCubeUV(l,d,m,v){const D=new rs(90,1,d,m),L=[1,-1,1,1,1,1],k=[1,1,1,-1,-1,-1],U=this._renderer,H=U.autoClear,V=U.outputEncoding,Y=U.toneMapping;U.getClearColor(gM),U.toneMapping=di,U.outputEncoding=yn,U.autoClear=!1;let J=!1;const te=l.background;if(te){if(te.isColor){zh.color.copy(te).convertSRGBToLinear(),l.background=null;const se=cA(zh.color);zh.opacity=se,J=!0}}else{zh.color.copy(gM).convertSRGBToLinear();const se=cA(zh.color);zh.opacity=se,J=!0}for(let se=0;se<6;se++){const oe=se%3;0==oe?(D.up.set(0,L[se],0),D.lookAt(k[se],0,0)):1==oe?(D.up.set(0,0,L[se]),D.lookAt(0,k[se],0)):(D.up.set(0,L[se],0),D.lookAt(0,0,k[se])),yM(v,oe*Ud,se>2?Ud:0,Ud,Ud),U.setRenderTarget(v),J&&U.render(Uh,D),U.render(l,D)}U.toneMapping=Y,U.outputEncoding=V,U.autoClear=H}_textureToCubeUV(l,d){const m=this._renderer;l.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=kF()):null==this._equirectShader&&(this._equirectShader=hA());const v=l.isCubeTexture?this._cubemapShader:this._equirectShader,_=new un(Vf[0],v),x=v.uniforms;x.envMap.value=l,l.isCubeTexture||x.texelSize.value.set(1/l.image.width,1/l.image.height),x.inputEncoding.value=ed[l.encoding],x.outputEncoding.value=ed[d.texture.encoding],yM(d,0,0,3*Ud,2*Ud),m.setRenderTarget(d),m.render(_,pv)}_applyPMREM(l){const d=this._renderer,m=d.autoClear;d.autoClear=!1;for(let v=1;v<DE;v++){const _=Math.sqrt(mM[v]*mM[v]-mM[v-1]*mM[v-1]);this._blur(l,v-1,v,_,vv[(v-1)%vv.length])}d.autoClear=m}_blur(l,d,m,v,_){const x=this._pingPongRenderTarget;this._halfBlur(l,x,d,m,v,"latitudinal",_),this._halfBlur(x,l,m,m,v,"longitudinal",_)}_halfBlur(l,d,m,v,_,x,D){const L=this._renderer,k=this._blurMaterial;"latitudinal"!==x&&"longitudinal"!==x&&console.error("blur direction must be either latitudinal or longitudinal!");const H=new un(Vf[v],k),V=k.uniforms,Y=mv[m]-1,J=isFinite(_)?Math.PI/(2*Y):2*Math.PI/39,te=_/J,se=isFinite(_)?1+Math.floor(3*te):20;se>20&&console.warn(`sigmaRadians, ${_}, is too large and will clip, as it requested ${se} samples when the maximum is set to 20`);const oe=[];let K=0;for(let Se=0;Se<20;++Se){const nt=Se/te,Dt=Math.exp(-nt*nt/2);oe.push(Dt),0==Se?K+=Dt:Se<se&&(K+=2*Dt)}for(let Se=0;Se<oe.length;Se++)oe[Se]=oe[Se]/K;V.envMap.value=l.texture,V.samples.value=se,V.weights.value=oe,V.latitudinal.value="latitudinal"===x,D&&(V.poleAxis.value=D),V.dTheta.value=J,V.mipInt.value=8-m,V.inputEncoding.value=ed[l.texture.encoding],V.outputEncoding.value=ed[l.texture.encoding];const De=mv[v];yM(d,3*Math.max(0,Ud-2*De),(0===v?0:2*Ud)+2*De*(v>4?v-8+4:0),3*De,2*De),L.setRenderTarget(d),L.render(H,pv)}}function U8(){const f=[],l=[],d=[];let m=8;for(let v=0;v<DE;v++){const _=Math.pow(2,m);l.push(_);let x=1/_;v>4?x=RE[v-8+4-1]:0==v&&(x=0),d.push(x);const D=1/(_-1),L=-D/2,k=1+D/2,U=[L,L,k,L,k,k,L,L,k,k,L,k],H=6,V=6,Y=3,J=2,te=1,se=new Float32Array(Y*V*H),oe=new Float32Array(J*V*H),K=new Float32Array(te*V*H);for(let Ce=0;Ce<H;Ce++){const Ve=Ce%3*2/3-1,Se=Ce>2?0:-1;se.set([Ve,Se,0,Ve+2/3,Se,0,Ve+2/3,Se+1,0,Ve,Se,0,Ve+2/3,Se+1,0,Ve,Se+1,0],Y*V*Ce),oe.set(U,J*V*Ce),K.set([Ce,Ce,Ce,Ce,Ce,Ce],te*V*Ce)}const De=new Br;De.setAttribute("position",new Kr(se,Y)),De.setAttribute("uv",new Kr(oe,J)),De.setAttribute("faceIndex",new Kr(K,te)),f.push(De),m>4&&m--}return{_lodPlanes:f,_sizeLods:l,_sigmas:d}}function dA(f){const l=new Qn(3*Ud,3*Ud,f);return l.texture.mapping=mt,l.texture.name="PMREM.cubeUv",l.scissorTest=!0,l}function yM(f,l,d,m,v){f.viewport.set(l,d,m,v),f.scissor.set(l,d,m,v)}function hA(){const f=new _n(1,1);return new Hd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:f},inputEncoding:{value:ed[yn]},outputEncoding:{value:ed[yn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:Re,depthTest:!1,depthWrite:!1})}function kF(){return new Hd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:ed[yn]},outputEncoding:{value:ed[yn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:Re,depthTest:!1,depthWrite:!1})}const LF=0,AE=1,PF=0,IF=1,NF=2;function FF(f){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),f}function HF(f=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),f.isMultiMaterial=!0,f.materials=f,f.clone=function(){return f.slice()},f}function BF(f,l){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Zg(f,l)}function bM(f){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new FC(f)}function im(f,l){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Zg(f,l)}function j8(f){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Lh(f)}function U_(f){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Lh(f)}function VF(f){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Lh(f)}function zF(f,l,d){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ee(f,l,d)}function OE(f,l){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Kr(f,l).setUsage(Pc)}function UF(f,l){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ii(f,l)}function jd(f,l){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Sf(f,l)}function j_(f,l){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Cg(f,l)}function wl(f,l){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new kp(f,l)}function om(f,l){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ch(f,l)}function wM(f,l){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Lp(f,l)}function mc(f,l){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Ad(f,l)}function Ko(f,l){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new yr(f,l)}function yv(f,l){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new pn(f,l)}function _v(f){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new pM(f)}function bv(f,l){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new fM(f,l)}function wv(f,l){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new tl(new GC(f.geometry),new ka({color:void 0!==l?l:16777215}))}function Mv(f,l){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new tl(new w_(f.geometry),new ka({color:void 0!==l?l:16777215}))}function Sv(f){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Du(f)}function xv(f){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new iE(f)}function Cv(f,l,d){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Dg(f,d)}function Ev(){console.error("THREE.CanvasRenderer has been removed")}function fA(){console.error("THREE.JSONLoader has been removed.")}bl.create=function(f,l){return console.log("THREE.Curve.create() has been deprecated"),f.prototype=Object.create(bl.prototype),f.prototype.constructor=f,f.prototype.getPoint=l,f},qp.prototype.fromPoints=function(f){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(f)},xE.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},rA.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Gs.prototype.extractUrlBase=function(f){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),I_.extractUrlBase(f)},Gs.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},dv.prototype.center=function(f){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(f)},dv.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},dv.prototype.isIntersectionBox=function(f){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(f)},dv.prototype.size=function(f){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(f)},zs.prototype.center=function(f){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(f)},zs.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},zs.prototype.isIntersectionBox=function(f){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(f)},zs.prototype.isIntersectionSphere=function(f){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(f)},zs.prototype.size=function(f){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(f)},xd.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Od.prototype.setFromMatrix=function(f){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(f)},tA.prototype.center=function(f){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(f)},Dr.random16=function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},Dr.nearestPowerOfTwo=function(f){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Dr.floorPowerOfTwo(f)},Dr.nextPowerOfTwo=function(f){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Dr.ceilPowerOfTwo(f)},Ds.prototype.flattenToArrayOffset=function(f,l){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(f,l)},Ds.prototype.multiplyVector3=function(f){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),f.applyMatrix3(this)},Ds.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Ds.prototype.applyToBufferAttribute=function(f){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),f.applyMatrix3(this)},Ds.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Ds.prototype.getInverse=function(f){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(f).invert()},Hr.prototype.extractPosition=function(f){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(f)},Hr.prototype.flattenToArrayOffset=function(f,l){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(f,l)},Hr.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Ee).setFromMatrixColumn(this,3)},Hr.prototype.setRotationFromQuaternion=function(f){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(f)},Hr.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Hr.prototype.multiplyVector3=function(f){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),f.applyMatrix4(this)},Hr.prototype.multiplyVector4=function(f){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),f.applyMatrix4(this)},Hr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Hr.prototype.rotateAxis=function(f){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),f.transformDirection(this)},Hr.prototype.crossVector=function(f){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),f.applyMatrix4(this)},Hr.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Hr.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Hr.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Hr.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Hr.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Hr.prototype.applyToBufferAttribute=function(f){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),f.applyMatrix4(this)},Hr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Hr.prototype.makeFrustum=function(f,l,d,m,v,_){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(f,l,m,d,v,_)},Hr.prototype.getInverse=function(f){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(f).invert()},Ql.prototype.isIntersectionLine=function(f){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(f)},Sr.prototype.multiplyVector3=function(f){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),f.applyQuaternion(this)},Sr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Cd.prototype.isIntersectionBox=function(f){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(f)},Cd.prototype.isIntersectionPlane=function(f){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(f)},Cd.prototype.isIntersectionSphere=function(f){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(f)},Qo.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Qo.prototype.barycoordFromPoint=function(f,l){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(f,l)},Qo.prototype.midpoint=function(f){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(f)},Qo.prototypenormal=function(f){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(f)},Qo.prototype.plane=function(f){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(f)},Qo.barycoordFromPoint=function(f,l,d,m,v){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Qo.getBarycoord(f,l,d,m,v)},Qo.normal=function(f,l,d,m){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Qo.getNormal(f,l,d,m)},Jp.prototype.extractAllPoints=function(f){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(f)},Jp.prototype.extrude=function(f){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Nd(this,f)},Jp.prototype.makeGeometry=function(f){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Jg(this,f)},_n.prototype.fromAttribute=function(f,l,d){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(f,l,d)},_n.prototype.distanceToManhattan=function(f){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(f)},_n.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ee.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Ee.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Ee.prototype.getPositionFromMatrix=function(f){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(f)},Ee.prototype.getScaleFromMatrix=function(f){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(f)},Ee.prototype.getColumnFromMatrix=function(f,l){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(l,f)},Ee.prototype.applyProjection=function(f){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(f)},Ee.prototype.fromAttribute=function(f,l,d){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(f,l,d)},Ee.prototype.distanceToManhattan=function(f){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(f)},Ee.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ti.prototype.fromAttribute=function(f,l,d){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(f,l,d)},Ti.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Xr.prototype.getChildByName=function(f){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(f)},Xr.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Xr.prototype.translate=function(f,l){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(l,f)},Xr.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Xr.prototype.applyMatrix=function(f){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(f)},Object.defineProperties(Xr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(f){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=f}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),un.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(un.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),ti},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(g0.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(f_.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),h_.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(bl.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(f){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=f}}),rs.prototype.setLens=function(f,l){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==l&&(this.filmGauge=l),this.setFocalLength(f)},Object.defineProperties(Au.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(f){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=f}},shadowCameraLeft:{set:function(f){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=f}},shadowCameraRight:{set:function(f){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=f}},shadowCameraTop:{set:function(f){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=f}},shadowCameraBottom:{set:function(f){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=f}},shadowCameraNear:{set:function(f){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=f}},shadowCameraFar:{set:function(f){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=f}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(f){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=f}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(f){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=f}},shadowMapHeight:{set:function(f){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=f}}}),Object.defineProperties(Kr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Pc},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Pc)}}}),Kr.prototype.setDynamic=function(f){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===f?Pc:Kl),this},Kr.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Kr.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Br.prototype.addIndex=function(f){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(f)},Br.prototype.addAttribute=function(f,l){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),l&&l.isBufferAttribute||l&&l.isInterleavedBufferAttribute?"index"===f?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(l),this):this.setAttribute(f,l):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(f,new Kr(arguments[1],arguments[2])))},Br.prototype.addDrawCall=function(f,l,d){void 0!==d&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(f,l)},Br.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Br.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Br.prototype.removeAttribute=function(f){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(f)},Br.prototype.applyMatrix=function(f){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(f)},Object.defineProperties(Br.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Qp.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(f){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=f}}}),Object.defineProperties(JD.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(f){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=f}}}),Object.defineProperties(nu.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Pc},set:function(f){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(f)}}}),nu.prototype.setDynamic=function(f){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===f?Pc:Kl),this},nu.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Nd.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Nd.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Nd.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},_i.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Object.defineProperties(H_.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Bo.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new dr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(f){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=f===be}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(f){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=f}}}),Object.defineProperties(V0.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Hh.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(f){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=f}}}),Object.defineProperties(Os.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(f){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=f}}}),es.prototype.clearTarget=function(f,l,d,m){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(f),this.clear(l,d,m)},es.prototype.animate=function(f){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(f)},es.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},es.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},es.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},es.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},es.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},es.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},es.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},es.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},es.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},es.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},es.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},es.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},es.prototype.enableScissorTest=function(f){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(f)},es.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},es.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},es.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},es.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},es.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},es.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},es.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},es.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},es.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},es.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(es.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(f){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=f}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(f){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=f}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(f){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===f?er:yn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(aD.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Qn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(f){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=f}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(f){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=f}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(f){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=f}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(f){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=f}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(f){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=f}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(f){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=f}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(f){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=f}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(f){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=f}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(f){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=f}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(f){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=f}}}),Object.defineProperties(N_.prototype,{load:{value:function(f){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const l=this;return(new pF).load(f,function(m){l.setBuffer(m)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),KD.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Rg.prototype.updateCubeMap=function(f,l){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(f,l)},Rg.prototype.clear=function(f,l,d,m){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(f,l,d,m)},rc.crossOrigin=void 0,rc.loadTexture=function(f,l,d,m){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const v=new R_;v.setCrossOrigin(this.crossOrigin);const _=v.load(f,d,void 0,m);return l&&(_.mapping=l),_},rc.loadTextureCube=function(f,l,d,m){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const v=new DD;v.setCrossOrigin(this.crossOrigin);const _=v.load(f,d,void 0,m);return l&&(_.mapping=l),_},rc.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},rc.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const pA={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function mA(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:M}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=M)},8120:function(ee){ee.exports=function(){"use strict";function ce(qe){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Xe){return typeof Xe}:function(Xe){return Xe&&"function"==typeof Symbol&&Xe.constructor===Symbol&&Xe!==Symbol.prototype?"symbol":typeof Xe})(qe)}function b(qe,Xe){return(b=Object.setPrototypeOf||function(_t,mt){return _t.__proto__=mt,_t})(qe,Xe)}function O(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(qe){return!1}}function M(qe,Xe,Ze){return(M=O()?Reflect.construct:function(mt,Ct,qt){var dn=[null];dn.push.apply(dn,Ct);var Un=new(Function.bind.apply(mt,dn));return qt&&b(Un,qt.prototype),Un}).apply(null,arguments)}function E(qe){return function R(qe){if(Array.isArray(qe))return N(qe)}(qe)||function A(qe){if("undefined"!=typeof Symbol&&null!=qe[Symbol.iterator]||null!=qe["@@iterator"])return Array.from(qe)}(qe)||function I(qe,Xe){if(qe){if("string"==typeof qe)return N(qe,Xe);var Ze=Object.prototype.toString.call(qe).slice(8,-1);if("Object"===Ze&&qe.constructor&&(Ze=qe.constructor.name),"Map"===Ze||"Set"===Ze)return Array.from(qe);if("Arguments"===Ze||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze))return N(qe,Xe)}}(qe)||function W(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(qe,Xe){(null==Xe||Xe>qe.length)&&(Xe=qe.length);for(var Ze=0,_t=new Array(Xe);Ze<Xe;Ze++)_t[Ze]=qe[Ze];return _t}var G=Object.hasOwnProperty,ne=Object.setPrototypeOf,ae=Object.isFrozen,le=Object.getPrototypeOf,he=Object.getOwnPropertyDescriptor,$=Object.freeze,de=Object.seal,be=Object.create,Ie="undefined"!=typeof Reflect&&Reflect,Re=Ie.apply,ze=Ie.construct;Re||(Re=function(Xe,Ze,_t){return Xe.apply(Ze,_t)}),$||($=function(Xe){return Xe}),de||(de=function(Xe){return Xe}),ze||(ze=function(Xe,Ze){return M(Xe,E(Ze))});var it=Kt(Array.prototype.forEach),We=Kt(Array.prototype.pop),Oe=Kt(Array.prototype.push),Ke=Kt(String.prototype.toLowerCase),dt=Kt(String.prototype.match),rt=Kt(String.prototype.replace),yt=Kt(String.prototype.indexOf),Pt=Kt(String.prototype.trim),Ft=Kt(RegExp.prototype.test),Gt=function Zt(qe){return function(){for(var Xe=arguments.length,Ze=new Array(Xe),_t=0;_t<Xe;_t++)Ze[_t]=arguments[_t];return ze(qe,Ze)}}(TypeError);function Kt(qe){return function(Xe){for(var Ze=arguments.length,_t=new Array(Ze>1?Ze-1:0),mt=1;mt<Ze;mt++)_t[mt-1]=arguments[mt];return Re(qe,Xe,_t)}}function It(qe,Xe,Ze){Ze=Ze||Ke,ne&&ne(qe,null);for(var _t=Xe.length;_t--;){var mt=Xe[_t];if("string"==typeof mt){var Ct=Ze(mt);Ct!==mt&&(ae(Xe)||(Xe[_t]=Ct),mt=Ct)}qe[mt]=!0}return qe}function Fe(qe){var Ze,Xe=be(null);for(Ze in qe)Re(G,qe,[Ze])&&(Xe[Ze]=qe[Ze]);return Xe}function ge(qe,Xe){for(;null!==qe;){var Ze=he(qe,Xe);if(Ze){if(Ze.get)return Kt(Ze.get);if("function"==typeof Ze.value)return Kt(Ze.value)}qe=le(qe)}return function _t(mt){return console.warn("fallback value for",mt),null}}var ht=$(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Rt=$(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$t=$(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bn=$(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Sn=$(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ht=$(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jn=$(["#text"]),Wn=$(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Yn=$(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Hn=$(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Mr=$(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Dn=de(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nn=de(/<%[\w\W]*|[\w\W]*%>/gm),Gr=de(/^data-[\-\w.\u00B7-\uFFFF]/),gi=de(/^aria-[\-\w]+$/),vi=de(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),di=de(/^(?:\w+script|data):/i),ur=de(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_e=de(/^html$/i),He=function(){return"undefined"==typeof window?null:window},Qe=function(Xe,Ze){if("object"!==ce(Xe)||"function"!=typeof Xe.createPolicy)return null;var _t=null,mt="data-tt-policy-suffix";Ze.currentScript&&Ze.currentScript.hasAttribute(mt)&&(_t=Ze.currentScript.getAttribute(mt));var Ct="dompurify"+(_t?"#"+_t:"");try{return Xe.createPolicy(Ct,{createHTML:function(dn){return dn},createScriptURL:function(dn){return dn}})}catch(qt){return console.warn("TrustedTypes policy "+Ct+" could not be created."),null}};return function St(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He(),Xe=function(Et){return St(Et)};if(Xe.version="2.4.0",Xe.removed=[],!qe||!qe.document||9!==qe.document.nodeType)return Xe.isSupported=!1,Xe;var Ze=qe.document,_t=qe.document,mt=qe.DocumentFragment,Ct=qe.HTMLTemplateElement,qt=qe.Node,dn=qe.Element,xn=qe.NodeFilter,Un=qe.NamedNodeMap,br=void 0===Un?qe.NamedNodeMap||qe.MozNamedAttrMap:Un,si=qe.HTMLFormElement,li=qe.DOMParser,hi=qe.trustedTypes,Li=dn.prototype,fu=ge(Li,"cloneNode"),jl=ge(Li,"nextSibling"),Xi=ge(Li,"childNodes"),aa=ge(Li,"parentNode");if("function"==typeof Ct){var la=_t.createElement("template");la.content&&la.content.ownerDocument&&(_t=la.content.ownerDocument)}var To=Qe(hi,Ze),hs=To?To.createHTML(""):"",Wl=_t.implementation,pu=_t.createNodeIterator,Yl=_t.createDocumentFragment,fs=_t.getElementsByTagName,mg=Ze.importNode,Ac={};try{Ac=Fe(_t).documentMode?_t.documentMode:{}}catch(Pr){}var Ca={};Xe.isSupported="function"==typeof aa&&Wl&&void 0!==Wl.createHTMLDocument&&9!==Ac;var Ni,Rs,nr=Dn,dh=nn,Ju=Gr,$o=gi,dl=di,bo=ur,Yo=vi,Ro=null,wo=It({},[].concat(E(ht),E(Rt),E($t),E(Sn),E(Jn))),Xo=null,hl=It({},[].concat(E(Wn),E(Yn),E(Hn),E(Mr))),Ei=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Hs=null,Ga=null,$a=!0,hh=!0,fh=!1,mu=!1,Do=!1,Qu=!1,ph=!1,gu=!1,ec=!1,mh=!1,mf=!0,qo=!1,Oc="user-content-",gh=!0,tc=!1,eo={},Gl=null,Ao=It({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),vh=null,wp=It({},["audio","video","img","source","image","track"]),Zi=null,Ur=It({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),kc="http://www.w3.org/1998/Math/MathML",Mp="http://www.w3.org/2000/svg",on="http://www.w3.org/1999/xhtml",fl=on,qr=!1,bd=["application/xhtml+xml","text/html"],vu="text/html",$l=null,Ea=_t.createElement("form"),gg=function(Et){return Et instanceof RegExp||Et instanceof Function},gf=function(Et){$l&&$l===Et||((!Et||"object"!==ce(Et))&&(Et={}),Et=Fe(Et),Ni=Ni=-1===bd.indexOf(Et.PARSER_MEDIA_TYPE)?vu:Et.PARSER_MEDIA_TYPE,Rs="application/xhtml+xml"===Ni?function(yn){return yn}:Ke,Ro="ALLOWED_TAGS"in Et?It({},Et.ALLOWED_TAGS,Rs):wo,Xo="ALLOWED_ATTR"in Et?It({},Et.ALLOWED_ATTR,Rs):hl,Zi="ADD_URI_SAFE_ATTR"in Et?It(Fe(Ur),Et.ADD_URI_SAFE_ATTR,Rs):Ur,vh="ADD_DATA_URI_TAGS"in Et?It(Fe(wp),Et.ADD_DATA_URI_TAGS,Rs):wp,Gl="FORBID_CONTENTS"in Et?It({},Et.FORBID_CONTENTS,Rs):Ao,Hs="FORBID_TAGS"in Et?It({},Et.FORBID_TAGS,Rs):{},Ga="FORBID_ATTR"in Et?It({},Et.FORBID_ATTR,Rs):{},eo="USE_PROFILES"in Et&&Et.USE_PROFILES,$a=!1!==Et.ALLOW_ARIA_ATTR,hh=!1!==Et.ALLOW_DATA_ATTR,fh=Et.ALLOW_UNKNOWN_PROTOCOLS||!1,mu=Et.SAFE_FOR_TEMPLATES||!1,Do=Et.WHOLE_DOCUMENT||!1,gu=Et.RETURN_DOM||!1,ec=Et.RETURN_DOM_FRAGMENT||!1,mh=Et.RETURN_TRUSTED_TYPE||!1,ph=Et.FORCE_BODY||!1,mf=!1!==Et.SANITIZE_DOM,qo=Et.SANITIZE_NAMED_PROPS||!1,gh=!1!==Et.KEEP_CONTENT,tc=Et.IN_PLACE||!1,Yo=Et.ALLOWED_URI_REGEXP||Yo,fl=Et.NAMESPACE||on,Et.CUSTOM_ELEMENT_HANDLING&&gg(Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ei.tagNameCheck=Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&gg(Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ei.attributeNameCheck=Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ei.allowCustomizedBuiltInElements=Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),mu&&(hh=!1),ec&&(gu=!0),eo&&(Ro=It({},E(Jn)),Xo=[],!0===eo.html&&(It(Ro,ht),It(Xo,Wn)),!0===eo.svg&&(It(Ro,Rt),It(Xo,Yn),It(Xo,Mr)),!0===eo.svgFilters&&(It(Ro,$t),It(Xo,Yn),It(Xo,Mr)),!0===eo.mathMl&&(It(Ro,Sn),It(Xo,Hn),It(Xo,Mr))),Et.ADD_TAGS&&(Ro===wo&&(Ro=Fe(Ro)),It(Ro,Et.ADD_TAGS,Rs)),Et.ADD_ATTR&&(Xo===hl&&(Xo=Fe(Xo)),It(Xo,Et.ADD_ATTR,Rs)),Et.ADD_URI_SAFE_ATTR&&It(Zi,Et.ADD_URI_SAFE_ATTR,Rs),Et.FORBID_CONTENTS&&(Gl===Ao&&(Gl=Fe(Gl)),It(Gl,Et.FORBID_CONTENTS,Rs)),gh&&(Ro["#text"]=!0),Do&&It(Ro,["html","head","body"]),Ro.table&&(It(Ro,["tbody"]),delete Hs.tbody),$&&$(Et),$l=Et)},vg=It({},["mi","mo","mn","ms","mtext"]),Ll=It({},["foreignobject","desc","title","annotation-xml"]),Ly=It({},["title","style","font","a","script"]),wd=It({},Rt);It(wd,$t),It(wd,bn);var Sp=It({},Sn);It(Sp,Ht);var yg=function(Et){var yn=aa(Et);(!yn||!yn.tagName)&&(yn={namespaceURI:on,tagName:"template"});var er=Ke(Et.tagName),zi=Ke(yn.tagName);return Et.namespaceURI===Mp?yn.namespaceURI===on?"svg"===er:yn.namespaceURI===kc?"svg"===er&&("annotation-xml"===zi||vg[zi]):Boolean(wd[er]):Et.namespaceURI===kc?yn.namespaceURI===on?"math"===er:yn.namespaceURI===Mp?"math"===er&&Ll[zi]:Boolean(Sp[er]):Et.namespaceURI===on&&!(yn.namespaceURI===Mp&&!Ll[zi]||yn.namespaceURI===kc&&!vg[zi])&&!Sp[er]&&(Ly[er]||!wd[er])},Xl=function(Et){Oe(Xe.removed,{element:Et});try{Et.parentNode.removeChild(Et)}catch(yn){try{Et.outerHTML=hs}catch(er){Et.remove()}}},xp=function(Et,yn){try{Oe(Xe.removed,{attribute:yn.getAttributeNode(Et),from:yn})}catch(er){Oe(Xe.removed,{attribute:null,from:yn})}if(yn.removeAttribute(Et),"is"===Et&&!Xo[Et])if(gu||ec)try{Xl(yn)}catch(er){}else try{yn.setAttribute(Et,"")}catch(er){}},Cp=function(Et){var yn,er;if(ph)Et="<remove></remove>"+Et;else{var zi=dt(Et,/^[\r\n\t ]+/);er=zi&&zi[0]}"application/xhtml+xml"===Ni&&(Et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Et+"</body></html>");var _s=To?To.createHTML(Et):Et;if(fl===on)try{yn=(new li).parseFromString(_s,Ni)}catch(ps){}if(!yn||!yn.documentElement){yn=Wl.createDocument(fl,"template",null);try{yn.documentElement.innerHTML=qr?"":_s}catch(ps){}}var bs=yn.body||yn.documentElement;return Et&&er&&bs.insertBefore(_t.createTextNode(er),bs.childNodes[0]||null),fl===on?fs.call(yn,Do?"html":"body")[0]:Do?yn.documentElement:bs},yh=function(Et){return pu.call(Et.ownerDocument||Et,Et,xn.SHOW_ELEMENT|xn.SHOW_COMMENT|xn.SHOW_TEXT,null,!1)},Ks=function(Et){return Et instanceof si&&("string"!=typeof Et.nodeName||"string"!=typeof Et.textContent||"function"!=typeof Et.removeChild||!(Et.attributes instanceof br)||"function"!=typeof Et.removeAttribute||"function"!=typeof Et.setAttribute||"string"!=typeof Et.namespaceURI||"function"!=typeof Et.insertBefore)},Vi=function(Et){return"object"===ce(qt)?Et instanceof qt:Et&&"object"===ce(Et)&&"number"==typeof Et.nodeType&&"string"==typeof Et.nodeName},Ta=function(Et,yn,er){!Ca[Et]||it(Ca[Et],function(zi){zi.call(Xe,yn,er,$l)})},Lc=function(Et){var yn;if(Ta("beforeSanitizeElements",Et,null),Ks(Et)||Ft(/[\u0080-\uFFFF]/,Et.nodeName))return Xl(Et),!0;var er=Rs(Et.nodeName);if(Ta("uponSanitizeElement",Et,{tagName:er,allowedTags:Ro}),Et.hasChildNodes()&&!Vi(Et.firstElementChild)&&(!Vi(Et.content)||!Vi(Et.content.firstElementChild))&&Ft(/<[/\w]/g,Et.innerHTML)&&Ft(/<[/\w]/g,Et.textContent)||"select"===er&&Ft(/<template/i,Et.innerHTML))return Xl(Et),!0;if(!Ro[er]||Hs[er]){if(!Hs[er]&&fn(er)&&(Ei.tagNameCheck instanceof RegExp&&Ft(Ei.tagNameCheck,er)||Ei.tagNameCheck instanceof Function&&Ei.tagNameCheck(er)))return!1;if(gh&&!Gl[er]){var zi=aa(Et)||Et.parentNode,_s=Xi(Et)||Et.childNodes;if(_s&&zi)for(var ps=_s.length-1;ps>=0;--ps)zi.insertBefore(fu(_s[ps],!0),jl(Et))}return Xl(Et),!0}return Et instanceof dn&&!yg(Et)||("noscript"===er||"noembed"===er)&&Ft(/<\/no(script|embed)/i,Et.innerHTML)?(Xl(Et),!0):(mu&&3===Et.nodeType&&(yn=rt(yn=Et.textContent,nr," "),yn=rt(yn,dh," "),Et.textContent!==yn&&(Oe(Xe.removed,{element:Et.cloneNode()}),Et.textContent=yn)),Ta("afterSanitizeElements",Et,null),!1)},_h=function(Et,yn,er){if(mf&&("id"===yn||"name"===yn)&&(er in _t||er in Ea))return!1;if((!hh||Ga[yn]||!Ft(Ju,yn))&&(!$a||!Ft($o,yn)))if(!Xo[yn]||Ga[yn]){if(!(fn(Et)&&(Ei.tagNameCheck instanceof RegExp&&Ft(Ei.tagNameCheck,Et)||Ei.tagNameCheck instanceof Function&&Ei.tagNameCheck(Et))&&(Ei.attributeNameCheck instanceof RegExp&&Ft(Ei.attributeNameCheck,yn)||Ei.attributeNameCheck instanceof Function&&Ei.attributeNameCheck(yn))||"is"===yn&&Ei.allowCustomizedBuiltInElements&&(Ei.tagNameCheck instanceof RegExp&&Ft(Ei.tagNameCheck,er)||Ei.tagNameCheck instanceof Function&&Ei.tagNameCheck(er))))return!1}else if(!Zi[yn]&&!Ft(Yo,rt(er,bo,""))&&("src"!==yn&&"xlink:href"!==yn&&"href"!==yn||"script"===Et||0!==yt(er,"data:")||!vh[Et])&&(!fh||Ft(dl,rt(er,bo,"")))&&er)return!1;return!0},fn=function(Et){return Et.indexOf("-")>0},Ep=function(Et){var yn,er,zi,_s;Ta("beforeSanitizeAttributes",Et,null);var bs=Et.attributes;if(bs){var ps={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Xo};for(_s=bs.length;_s--;){var cr=(yn=bs[_s]).name,Sd=yn.namespaceURI;if(er="value"===cr?yn.value:Pt(yn.value),zi=Rs(cr),ps.attrName=zi,ps.attrValue=er,ps.keepAttr=!0,ps.forceKeepAttr=void 0,Ta("uponSanitizeAttribute",Et,ps),er=ps.attrValue,!ps.forceKeepAttr&&(xp(cr,Et),ps.keepAttr)){if(Ft(/\/>/i,er)){xp(cr,Et);continue}mu&&(er=rt(er,nr," "),er=rt(er,dh," "));var Tp=Rs(Et.nodeName);if(_h(Tp,zi,er)){if(qo&&("id"===zi||"name"===zi)&&(xp(cr,Et),er=Oc+er),To&&"object"===ce(hi)&&"function"==typeof hi.getAttributeType&&!Sd)switch(hi.getAttributeType(Tp,zi)){case"TrustedHTML":er=To.createHTML(er);break;case"TrustedScriptURL":er=To.createScriptURL(er)}try{Sd?Et.setAttributeNS(Sd,cr,er):Et.setAttribute(cr,er),We(Xe.removed)}catch(Bs){}}}}Ta("afterSanitizeAttributes",Et,null)}},ti=function Pr(Et){var yn,er=yh(Et);for(Ta("beforeSanitizeShadowDOM",Et,null);yn=er.nextNode();)Ta("uponSanitizeShadowNode",yn,null),!Lc(yn)&&(yn.content instanceof mt&&Pr(yn.content),Ep(yn));Ta("afterSanitizeShadowDOM",Et,null)};return Xe.sanitize=function(Pr){var yn,er,zi,_s,bs,Et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((qr=!Pr)&&(Pr="\x3c!--\x3e"),"string"!=typeof Pr&&!Vi(Pr)){if("function"!=typeof Pr.toString)throw Gt("toString is not a function");if("string"!=typeof(Pr=Pr.toString()))throw Gt("dirty is not a string, aborting")}if(!Xe.isSupported){if("object"===ce(qe.toStaticHTML)||"function"==typeof qe.toStaticHTML){if("string"==typeof Pr)return qe.toStaticHTML(Pr);if(Vi(Pr))return qe.toStaticHTML(Pr.outerHTML)}return Pr}if(Qu||gf(Et),Xe.removed=[],"string"==typeof Pr&&(tc=!1),tc){if(Pr.nodeName){var ps=Rs(Pr.nodeName);if(!Ro[ps]||Hs[ps])throw Gt("root node is forbidden and cannot be sanitized in-place")}}else if(Pr instanceof qt)1===(er=(yn=Cp("\x3c!----\x3e")).ownerDocument.importNode(Pr,!0)).nodeType&&"BODY"===er.nodeName||"HTML"===er.nodeName?yn=er:yn.appendChild(er);else{if(!gu&&!mu&&!Do&&-1===Pr.indexOf("<"))return To&&mh?To.createHTML(Pr):Pr;if(!(yn=Cp(Pr)))return gu?null:mh?hs:""}yn&&ph&&Xl(yn.firstChild);for(var Md=yh(tc?Pr:yn);zi=Md.nextNode();)3===zi.nodeType&&zi===_s||Lc(zi)||(zi.content instanceof mt&&ti(zi.content),Ep(zi),_s=zi);if(_s=null,tc)return Pr;if(gu){if(ec)for(bs=Yl.call(yn.ownerDocument);yn.firstChild;)bs.appendChild(yn.firstChild);else bs=yn;return Xo.shadowroot&&(bs=mg.call(Ze,bs,!0)),bs}var cr=Do?yn.outerHTML:yn.innerHTML;return Do&&Ro["!doctype"]&&yn.ownerDocument&&yn.ownerDocument.doctype&&yn.ownerDocument.doctype.name&&Ft(_e,yn.ownerDocument.doctype.name)&&(cr="<!DOCTYPE "+yn.ownerDocument.doctype.name+">\n"+cr),mu&&(cr=rt(cr,nr," "),cr=rt(cr,dh," ")),To&&mh?To.createHTML(cr):cr},Xe.setConfig=function(Pr){gf(Pr),Qu=!0},Xe.clearConfig=function(){$l=null,Qu=!1},Xe.isValidAttribute=function(Pr,Et,yn){$l||gf({});var er=Rs(Pr),zi=Rs(Et);return _h(er,zi,yn)},Xe.addHook=function(Pr,Et){"function"==typeof Et&&(Ca[Pr]=Ca[Pr]||[],Oe(Ca[Pr],Et))},Xe.removeHook=function(Pr){if(Ca[Pr])return We(Ca[Pr])},Xe.removeHooks=function(Pr){Ca[Pr]&&(Ca[Pr]=[])},Xe.removeAllHooks=function(){Ca={}},Xe}()}()},5226:function(ee,ce){var M;void 0!==(M=function(){"use strict";function R(ne,ae,le){var he=new XMLHttpRequest;he.open("GET",ne),he.responseType="blob",he.onload=function(){G(he.response,ae,le)},he.onerror=function(){console.error("could not download file")},he.send()}function A(ne){var ae=new XMLHttpRequest;ae.open("HEAD",ne,!1);try{ae.send()}catch(le){}return 200<=ae.status&&299>=ae.status}function I(ne){try{ne.dispatchEvent(new MouseEvent("click"))}catch(le){var ae=document.createEvent("MouseEvents");ae.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ne.dispatchEvent(ae)}}var N="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,W=N.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),G=N.saveAs||("object"!=typeof window||window!==N?function(){}:"download"in HTMLAnchorElement.prototype&&!W?function(ne,ae,le){var he=N.URL||N.webkitURL,$=document.createElement("a");$.download=ae=ae||ne.name||"download",$.rel="noopener","string"==typeof ne?($.href=ne,$.origin===location.origin?I($):A($.href)?R(ne,ae,le):I($,$.target="_blank")):($.href=he.createObjectURL(ne),setTimeout(function(){he.revokeObjectURL($.href)},4e4),setTimeout(function(){I($)},0))}:"msSaveOrOpenBlob"in navigator?function(ne,ae,le){if(ae=ae||ne.name||"download","string"!=typeof ne)navigator.msSaveOrOpenBlob(function E(ne,ae){return void 0===ae?ae={autoBom:!1}:"object"!=typeof ae&&(console.warn("Deprecated: Expected third argument to be a object"),ae={autoBom:!ae}),ae.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ne.type)?new Blob(["\ufeff",ne],{type:ne.type}):ne}(ne,le),ae);else if(A(ne))R(ne,ae,le);else{var he=document.createElement("a");he.href=ne,he.target="_blank",setTimeout(function(){I(he)})}}:function(ne,ae,le,he){if((he=he||open("","_blank"))&&(he.document.title=he.document.body.innerText="downloading..."),"string"==typeof ne)return R(ne,ae,le);var $="application/octet-stream"===ne.type,de=/constructor/i.test(N.HTMLElement)||N.safari,be=/CriOS\/[\d]+/.test(navigator.userAgent);if((be||$&&de||W)&&"undefined"!=typeof FileReader){var Ie=new FileReader;Ie.onloadend=function(){var it=Ie.result;it=be?it:it.replace(/^data:[^;]*;/,"data:attachment/file;"),he?he.location.href=it:location=it,he=null},Ie.readAsDataURL(ne)}else{var Re=N.URL||N.webkitURL,ze=Re.createObjectURL(ne);he?he.location=ze:location.href=ze,he=null,setTimeout(function(){Re.revokeObjectURL(ze)},4e4)}});N.saveAs=G.saveAs=G,ee.exports=G}.apply(ce,[]))&&(ee.exports=M)},8685:function(ee,ce,b){!function(O){"use strict";O.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(E){return/^nm$/i.test(E)},meridiem:function(E,R,A){return E<12?A?"vm":"VM":A?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(E){return E+(1===E||8===E||E>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},4312:function(ee,ce,b){!function(O){"use strict";var M=function(N){return 0===N?0:1===N?1:2===N?2:N%100>=3&&N%100<=10?3:N%100>=11?4:5},E={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},R=function(N){return function(W,G,ne,ae){var le=M(W),he=E[N][M(W)];return 2===le&&(he=he[G?0:1]),he.replace(/%d/i,W)}},A=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];O.defineLocale("ar-dz",{months:A,monthsShort:A,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(N){return"\u0645"===N},meridiem:function(N,W,G){return N<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:R("s"),ss:R("s"),m:R("m"),mm:R("m"),h:R("h"),hh:R("h"),d:R("d"),dd:R("d"),M:R("M"),MM:R("M"),y:R("y"),yy:R("y")},postformat:function(N){return N.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(b(6908))},2614:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(b(6908))},8630:function(ee,ce,b){!function(O){"use strict";var M={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},E=function(W){return 0===W?0:1===W?1:2===W?2:W%100>=3&&W%100<=10?3:W%100>=11?4:5},R={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},A=function(W){return function(G,ne,ae,le){var he=E(G),$=R[W][E(G)];return 2===he&&($=$[ne?0:1]),$.replace(/%d/i,G)}},I=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];O.defineLocale("ar-ly",{months:I,monthsShort:I,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(W){return"\u0645"===W},meridiem:function(W,G,ne){return W<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:A("s"),ss:A("s"),m:A("m"),mm:A("m"),h:A("h"),hh:A("h"),d:A("d"),dd:A("d"),M:A("M"),MM:A("M"),y:A("y"),yy:A("y")},preparse:function(W){return W.replace(/\u060c/g,",")},postformat:function(W){return W.replace(/\d/g,function(G){return M[G]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},8674:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(b(6908))},9032:function(ee,ce,b){!function(O){"use strict";var M={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},E={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};O.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(A){return"\u0645"===A},meridiem:function(A,I,N){return A<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(A){return A.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(I){return E[I]}).replace(/\u060c/g,",")},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(b(6908))},4730:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(b(6908))},254:function(ee,ce,b){!function(O){"use strict";var M={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},E={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},R=function(G){return 0===G?0:1===G?1:2===G?2:G%100>=3&&G%100<=10?3:G%100>=11?4:5},A={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},I=function(G){return function(ne,ae,le,he){var $=R(ne),de=A[G][R(ne)];return 2===$&&(de=de[ae?0:1]),de.replace(/%d/i,ne)}},N=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];O.defineLocale("ar",{months:N,monthsShort:N,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(G){return"\u0645"===G},meridiem:function(G,ne,ae){return G<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:I("s"),ss:I("s"),m:I("m"),mm:I("m"),h:I("h"),hh:I("h"),d:I("d"),dd:I("d"),M:I("M"),MM:I("M"),y:I("y"),yy:I("y")},preparse:function(G){return G.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(ne){return E[ne]}).replace(/\u060c/g,",")},postformat:function(G){return G.replace(/\d/g,function(ne){return M[ne]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},3052:function(ee,ce,b){!function(O){"use strict";var M={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};O.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(R){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(R)},meridiem:function(R,A,I){return R<4?"gec\u0259":R<12?"s\u0259h\u0259r":R<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(R){if(0===R)return R+"-\u0131nc\u0131";var A=R%10;return R+(M[A]||M[R%100-A]||M[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},150:function(ee,ce,b){!function(O){"use strict";function E(A,I,N){return"m"===N?I?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===N?I?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":A+" "+function M(A,I){var N=A.split("_");return I%10==1&&I%100!=11?N[0]:I%10>=2&&I%10<=4&&(I%100<10||I%100>=20)?N[1]:N[2]}({ss:I?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:I?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:I?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[N],+A)}O.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:E,mm:E,h:E,hh:E,d:"\u0434\u0437\u0435\u043d\u044c",dd:E,M:"\u043c\u0435\u0441\u044f\u0446",MM:E,y:"\u0433\u043e\u0434",yy:E},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(A){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(A)},meridiem:function(A,I,N){return A<4?"\u043d\u043e\u0447\u044b":A<12?"\u0440\u0430\u043d\u0456\u0446\u044b":A<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(A,I){switch(I){case"M":case"d":case"DDD":case"w":case"W":return A%10!=2&&A%10!=3||A%100==12||A%100==13?A+"-\u044b":A+"-\u0456";case"D":return A+"-\u0433\u0430";default:return A}},week:{dow:1,doy:7}})}(b(6908))},3069:function(ee,ce,b){!function(O){"use strict";O.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(E){var R=E%10,A=E%100;return 0===E?E+"-\u0435\u0432":0===A?E+"-\u0435\u043d":A>10&&A<20?E+"-\u0442\u0438":1===R?E+"-\u0432\u0438":2===R?E+"-\u0440\u0438":7===R||8===R?E+"-\u043c\u0438":E+"-\u0442\u0438"},week:{dow:1,doy:7}})}(b(6908))},3466:function(ee,ce,b){!function(O){"use strict";O.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(b(6908))},557:function(ee,ce,b){!function(O){"use strict";var M={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},E={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};O.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(A){return A.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(I){return E[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u09b0\u09be\u09a4"===I?A<4?A:A+12:"\u09ad\u09cb\u09b0"===I||"\u09b8\u0995\u09be\u09b2"===I?A:"\u09a6\u09c1\u09aa\u09c1\u09b0"===I?A>=3?A:A+12:"\u09ac\u09bf\u0995\u09be\u09b2"===I||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===I?A+12:void 0},meridiem:function(A,I,N){return A<4?"\u09b0\u09be\u09a4":A<6?"\u09ad\u09cb\u09b0":A<12?"\u09b8\u0995\u09be\u09b2":A<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":A<18?"\u09ac\u09bf\u0995\u09be\u09b2":A<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(b(6908))},8516:function(ee,ce,b){!function(O){"use strict";var M={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},E={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};O.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(A){return A.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(I){return E[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u09b0\u09be\u09a4"===I&&A>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===I&&A<5||"\u09ac\u09bf\u0995\u09be\u09b2"===I?A+12:A},meridiem:function(A,I,N){return A<4?"\u09b0\u09be\u09a4":A<10?"\u09b8\u0995\u09be\u09b2":A<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":A<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(b(6908))},6273:function(ee,ce,b){!function(O){"use strict";var M={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},E={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};O.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(A){return A.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(I){return E[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===I&&A>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===I&&A<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===I?A+12:A},meridiem:function(A,I,N){return A<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":A<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":A<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":A<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(b(6908))},9588:function(ee,ce,b){!function(O){"use strict";function M(de,be,Ie){return de+" "+function A(de,be){return 2===be?function I(de){var be={m:"v",b:"v",d:"z"};return void 0===be[de.charAt(0)]?de:be[de.charAt(0)]+de.substring(1)}(de):de}({mm:"munutenn",MM:"miz",dd:"devezh"}[Ie],de)}function R(de){return de>9?R(de%10):de}var N=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],W=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,he=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];O.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:he,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:he,monthsRegex:W,monthsShortRegex:W,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:N,longMonthsParse:N,shortMonthsParse:N,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:M,h:"un eur",hh:"%d eur",d:"un devezh",dd:M,M:"ur miz",MM:M,y:"ur bloaz",yy:function E(de){switch(R(de)){case 1:case 3:case 4:case 5:case 9:return de+" bloaz";default:return de+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(de){return de+(1===de?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(de){return"g.m."===de},meridiem:function(de,be,Ie){return de<12?"a.m.":"g.m."}})}(b(6908))},9815:function(ee,ce,b){!function(O){"use strict";function M(R,A,I){var N=R+" ";switch(I){case"ss":return N+(1===R?"sekunda":2===R||3===R||4===R?"sekunde":"sekundi");case"m":return A?"jedna minuta":"jedne minute";case"mm":return N+(1===R?"minuta":2===R||3===R||4===R?"minute":"minuta");case"h":return A?"jedan sat":"jednog sata";case"hh":return N+(1===R?"sat":2===R||3===R||4===R?"sata":"sati");case"dd":return N+(1===R?"dan":"dana");case"MM":return N+(1===R?"mjesec":2===R||3===R||4===R?"mjeseca":"mjeseci");case"yy":return N+(1===R?"godina":2===R||3===R||4===R?"godine":"godina")}}O.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:M,m:M,mm:M,h:M,hh:M,d:"dan",dd:M,M:"mjesec",MM:M,y:"godinu",yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},3331:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(E,R){var A=1===E?"r":2===E?"n":3===E?"r":4===E?"t":"\xe8";return("w"===R||"W"===R)&&(A="a"),E+A},week:{dow:1,doy:4}})}(b(6908))},1320:function(ee,ce,b){!function(O){"use strict";var M={format:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),standalone:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_")},E="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),R=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],A=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function I(G){return G>1&&G<5&&1!=~~(G/10)}function N(G,ne,ae,le){var he=G+" ";switch(ae){case"s":return ne||le?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return ne||le?he+(I(G)?"sekundy":"sekund"):he+"sekundami";case"m":return ne?"minuta":le?"minutu":"minutou";case"mm":return ne||le?he+(I(G)?"minuty":"minut"):he+"minutami";case"h":return ne?"hodina":le?"hodinu":"hodinou";case"hh":return ne||le?he+(I(G)?"hodiny":"hodin"):he+"hodinami";case"d":return ne||le?"den":"dnem";case"dd":return ne||le?he+(I(G)?"dny":"dn\xed"):he+"dny";case"M":return ne||le?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return ne||le?he+(I(G)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):he+"m\u011bs\xedci";case"y":return ne||le?"rok":"rokem";case"yy":return ne||le?he+(I(G)?"roky":"let"):he+"lety"}}O.defineLocale("cs",{months:M,monthsShort:E,monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:N,ss:N,m:N,mm:N,h:N,hh:N,d:N,dd:N,M:N,MM:N,y:N,yy:N},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2219:function(ee,ce,b){!function(O){"use strict";O.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(E){return E+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(E)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(E)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(b(6908))},8266:function(ee,ce,b){!function(O){"use strict";O.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(E){var A="";return E>20?A=40===E||50===E||60===E||80===E||100===E?"fed":"ain":E>0&&(A=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][E]),E+A},week:{dow:1,doy:4}})}(b(6908))},6427:function(ee,ce,b){!function(O){"use strict";O.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2871:function(ee,ce,b){!function(O){"use strict";function M(R,A,I,N){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[R+" Tage",R+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[R+" Monate",R+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[R+" Jahre",R+" Jahren"]};return A?W[I][0]:W[I][1]}O.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:M,mm:"%d Minuten",h:M,hh:"%d Stunden",d:M,dd:M,w:M,ww:"%d Wochen",M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2994:function(ee,ce,b){!function(O){"use strict";function M(R,A,I,N){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[R+" Tage",R+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[R+" Monate",R+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[R+" Jahre",R+" Jahren"]};return A?W[I][0]:W[I][1]}O.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:M,mm:"%d Minuten",h:M,hh:"%d Stunden",d:M,dd:M,w:M,ww:"%d Wochen",M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},7435:function(ee,ce,b){!function(O){"use strict";function M(R,A,I,N){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[R+" Tage",R+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[R+" Monate",R+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[R+" Jahre",R+" Jahren"]};return A?W[I][0]:W[I][1]}O.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:M,mm:"%d Minuten",h:M,hh:"%d Stunden",d:M,dd:M,w:M,ww:"%d Wochen",M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2357:function(ee,ce,b){!function(O){"use strict";var M=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],E=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];O.defineLocale("dv",{months:M,monthsShort:M,weekdays:E,weekdaysShort:E,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(A){return"\u0789\u078a"===A},meridiem:function(A,I,N){return A<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(b(6908))},5649:function(ee,ce,b){!function(O){"use strict";O.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(R,A){return R?"string"==typeof A&&/D/.test(A.substring(0,A.indexOf("MMMM")))?this._monthsGenitiveEl[R.month()]:this._monthsNominativeEl[R.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(R,A,I){return R>11?I?"\u03bc\u03bc":"\u039c\u039c":I?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(R){return"\u03bc"===(R+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){return 6===this.day()?"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT":"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"},sameElse:"L"},calendar:function(R,A){var I=this._calendarEl[R],N=A&&A.hours();return function M(R){return"undefined"!=typeof Function&&R instanceof Function||"[object Function]"===Object.prototype.toString.call(R)}(I)&&(I=I.apply(A)),I.replace("{}",N%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(b(6908))},9961:function(ee,ce,b){!function(O){"use strict";O.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(E){var R=E%10;return E+(1==~~(E%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:0,doy:4}})}(b(6908))},9878:function(ee,ce,b){!function(O){"use strict";O.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(E){var R=E%10;return E+(1==~~(E%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")}})}(b(6908))},3924:function(ee,ce,b){!function(O){"use strict";O.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(E){var R=E%10;return E+(1==~~(E%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},864:function(ee,ce,b){!function(O){"use strict";O.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(E){var R=E%10;return E+(1==~~(E%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},1579:function(ee,ce,b){!function(O){"use strict";O.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(E){var R=E%10;return E+(1==~~(E%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")}})}(b(6908))},940:function(ee,ce,b){!function(O){"use strict";O.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(E){var R=E%10;return E+(1==~~(E%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:0,doy:6}})}(b(6908))},6181:function(ee,ce,b){!function(O){"use strict";O.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(E){var R=E%10;return E+(1==~~(E%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},4301:function(ee,ce,b){!function(O){"use strict";O.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(E){var R=E%10;return E+(1==~~(E%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},5291:function(ee,ce,b){!function(O){"use strict";O.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(E){return"p"===E.charAt(0).toLowerCase()},meridiem:function(E,R,A){return E>11?A?"p.t.m.":"P.T.M.":A?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(b(6908))},3764:function(ee,ce,b){!function(O){"use strict";var M="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),E="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;O.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?E[N.month()]:M[N.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},2584:function(ee,ce,b){!function(O){"use strict";var M="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),E="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;O.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?E[N.month()]:M[N.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(b(6908))},3425:function(ee,ce,b){!function(O){"use strict";var M="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),E="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;O.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?E[N.month()]:M[N.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(b(6908))},4529:function(ee,ce,b){!function(O){"use strict";var M="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),E="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),R=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;O.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?E[N.month()]:M[N.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(b(6908))},5203:function(ee,ce,b){!function(O){"use strict";function M(R,A,I,N){var W={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[R+"sekundi",R+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[R+" minuti",R+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[R+" tunni",R+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[R+" kuu",R+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[R+" aasta",R+" aastat"]};return A?W[I][2]?W[I][2]:W[I][1]:N?W[I][0]:W[I][1]}O.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:M,ss:M,m:M,mm:M,h:M,hh:M,d:M,dd:"%d p\xe4eva",M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},678:function(ee,ce,b){!function(O){"use strict";O.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},3483:function(ee,ce,b){!function(O){"use strict";var M={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},E={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};O.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(A){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(A)},meridiem:function(A,I,N){return A<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/[\u06f0-\u06f9]/g,function(I){return E[I]}).replace(/\u060c/g,",")},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(b(6908))},6262:function(ee,ce,b){!function(O){"use strict";var M="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),E=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",M[7],M[8],M[9]];function R(N,W,G,ne){var ae="";switch(G){case"s":return ne?"muutaman sekunnin":"muutama sekunti";case"ss":ae=ne?"sekunnin":"sekuntia";break;case"m":return ne?"minuutin":"minuutti";case"mm":ae=ne?"minuutin":"minuuttia";break;case"h":return ne?"tunnin":"tunti";case"hh":ae=ne?"tunnin":"tuntia";break;case"d":return ne?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":ae=ne?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return ne?"kuukauden":"kuukausi";case"MM":ae=ne?"kuukauden":"kuukautta";break;case"y":return ne?"vuoden":"vuosi";case"yy":ae=ne?"vuoden":"vuotta"}return function A(N,W){return N<10?W?E[N]:M[N]:N}(N,ne)+" "+ae}O.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2521:function(ee,ce,b){!function(O){"use strict";O.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(E){return E},week:{dow:1,doy:4}})}(b(6908))},4555:function(ee,ce,b){!function(O){"use strict";O.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8239:function(ee,ce,b){!function(O){"use strict";O.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(E,R){switch(R){default:case"M":case"Q":case"D":case"DDD":case"d":return E+(1===E?"er":"e");case"w":case"W":return E+(1===E?"re":"e")}}})}(b(6908))},1702:function(ee,ce,b){!function(O){"use strict";O.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(E,R){switch(R){default:case"M":case"Q":case"D":case"DDD":case"d":return E+(1===E?"er":"e");case"w":case"W":return E+(1===E?"re":"e")}},week:{dow:1,doy:4}})}(b(6908))},3131:function(ee,ce,b){!function(O){"use strict";var R=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,A=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];O.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:R,monthsShortRegex:R,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:A,longMonthsParse:A,shortMonthsParse:A,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(N,W){switch(W){case"D":return N+(1===N?"er":"");default:case"M":case"Q":case"DDD":case"d":return N+(1===N?"er":"e");case"w":case"W":return N+(1===N?"re":"e")}},week:{dow:1,doy:4}})}(b(6908))},267:function(ee,ce,b){!function(O){"use strict";var M="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),E="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");O.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(A,I){return A?/-MMM-/.test(I)?E[A.month()]:M[A.month()]:M},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(A){return A+(1===A||8===A||A>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},3821:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(W){return W+(1===W?"d":W%10==2?"na":"mh")},week:{dow:1,doy:4}})}(b(6908))},1753:function(ee,ce,b){!function(O){"use strict";O.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(W){return W+(1===W?"d":W%10==2?"na":"mh")},week:{dow:1,doy:4}})}(b(6908))},4074:function(ee,ce,b){!function(O){"use strict";O.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(E){return 0===E.indexOf("un")?"n"+E:"en "+E},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},2762:function(ee,ce,b){!function(O){"use strict";function M(R,A,I,N){var W={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[R+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",R+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[R+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",R+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[R+" \u0935\u0930\u093e\u0902\u0928\u0940",R+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[R+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",R+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[R+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",R+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[R+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",R+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return N?W[I][0]:W[I][1]}O.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:M,ss:M,m:M,mm:M,h:M,hh:M,d:M,dd:M,M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(R,A){return"D"===A?R+"\u0935\u0947\u0930":R},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(R,A){return 12===R&&(R=0),"\u0930\u093e\u0924\u0940"===A?R<4?R:R+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===A?R:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===A?R>12?R:R+12:"\u0938\u093e\u0902\u091c\u0947"===A?R+12:void 0},meridiem:function(R,A,I){return R<4?"\u0930\u093e\u0924\u0940":R<12?"\u0938\u0915\u093e\u0933\u0940\u0902":R<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":R<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(b(6908))},5969:function(ee,ce,b){!function(O){"use strict";function M(R,A,I,N){var W={s:["thoddea sekondamni","thodde sekond"],ss:[R+" sekondamni",R+" sekond"],m:["eka mintan","ek minut"],mm:[R+" mintamni",R+" mintam"],h:["eka voran","ek vor"],hh:[R+" voramni",R+" voram"],d:["eka disan","ek dis"],dd:[R+" disamni",R+" dis"],M:["eka mhoinean","ek mhoino"],MM:[R+" mhoineamni",R+" mhoine"],y:["eka vorsan","ek voros"],yy:[R+" vorsamni",R+" vorsam"]};return N?W[I][0]:W[I][1]}O.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:M,ss:M,m:M,mm:M,h:M,hh:M,d:M,dd:M,M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(R,A){return"D"===A?R+"er":R},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(R,A){return 12===R&&(R=0),"rati"===A?R<4?R:R+12:"sokallim"===A?R:"donparam"===A?R>12?R:R+12:"sanje"===A?R+12:void 0},meridiem:function(R,A,I){return R<4?"rati":R<12?"sokallim":R<16?"donparam":R<20?"sanje":"rati"}})}(b(6908))},2809:function(ee,ce,b){!function(O){"use strict";var M={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},E={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};O.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(A){return A.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(I){return E[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u0ab0\u0abe\u0aa4"===I?A<4?A:A+12:"\u0ab8\u0ab5\u0abe\u0ab0"===I?A:"\u0aac\u0aaa\u0acb\u0ab0"===I?A>=10?A:A+12:"\u0ab8\u0abe\u0a82\u0a9c"===I?A+12:void 0},meridiem:function(A,I,N){return A<4?"\u0ab0\u0abe\u0aa4":A<10?"\u0ab8\u0ab5\u0abe\u0ab0":A<17?"\u0aac\u0aaa\u0acb\u0ab0":A<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(b(6908))},5402:function(ee,ce,b){!function(O){"use strict";O.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(E){return 2===E?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":E+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(E){return 2===E?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":E+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(E){return 2===E?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":E+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(E){return 2===E?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":E%10==0&&10!==E?E+" \u05e9\u05e0\u05d4":E+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(E){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(E)},meridiem:function(E,R,A){return E<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":E<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":E<12?A?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":E<18?A?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(b(6908))},315:function(ee,ce,b){!function(O){"use strict";var M={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},E={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},R=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];O.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:R,longMonthsParse:R,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(N){return N.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(W){return E[W]})},postformat:function(N){return N.replace(/\d/g,function(W){return M[W]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(N,W){return 12===N&&(N=0),"\u0930\u093e\u0924"===W?N<4?N:N+12:"\u0938\u0941\u092c\u0939"===W?N:"\u0926\u094b\u092a\u0939\u0930"===W?N>=10?N:N+12:"\u0936\u093e\u092e"===W?N+12:void 0},meridiem:function(N,W,G){return N<4?"\u0930\u093e\u0924":N<10?"\u0938\u0941\u092c\u0939":N<17?"\u0926\u094b\u092a\u0939\u0930":N<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(b(6908))},410:function(ee,ce,b){!function(O){"use strict";function M(R,A,I){var N=R+" ";switch(I){case"ss":return N+(1===R?"sekunda":2===R||3===R||4===R?"sekunde":"sekundi");case"m":return A?"jedna minuta":"jedne minute";case"mm":return N+(1===R?"minuta":2===R||3===R||4===R?"minute":"minuta");case"h":return A?"jedan sat":"jednog sata";case"hh":return N+(1===R?"sat":2===R||3===R||4===R?"sata":"sati");case"dd":return N+(1===R?"dan":"dana");case"MM":return N+(1===R?"mjesec":2===R||3===R||4===R?"mjeseca":"mjeseci");case"yy":return N+(1===R?"godina":2===R||3===R||4===R?"godine":"godina")}}O.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:M,m:M,mm:M,h:M,hh:M,d:"dan",dd:M,M:"mjesec",MM:M,y:"godinu",yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8288:function(ee,ce,b){!function(O){"use strict";var M="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function E(I,N,W,G){var ne=I;switch(W){case"s":return G||N?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return ne+(G||N)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(G||N?" perc":" perce");case"mm":return ne+(G||N?" perc":" perce");case"h":return"egy"+(G||N?" \xf3ra":" \xf3r\xe1ja");case"hh":return ne+(G||N?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(G||N?" nap":" napja");case"dd":return ne+(G||N?" nap":" napja");case"M":return"egy"+(G||N?" h\xf3nap":" h\xf3napja");case"MM":return ne+(G||N?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(G||N?" \xe9v":" \xe9ve");case"yy":return ne+(G||N?" \xe9v":" \xe9ve")}return""}function R(I){return(I?"":"[m\xfalt] ")+"["+M[this.day()]+"] LT[-kor]"}O.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(I){return"u"===I.charAt(1).toLowerCase()},meridiem:function(I,N,W){return I<12?!0===W?"de":"DE":!0===W?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return R.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return R.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:E,ss:E,m:E,mm:E,h:E,hh:E,d:E,dd:E,M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},7928:function(ee,ce,b){!function(O){"use strict";O.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(E){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(E)},meridiem:function(E){return E<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":E<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":E<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(E,R){switch(R){case"DDD":case"w":case"W":case"DDDo":return 1===E?E+"-\u056b\u0576":E+"-\u0580\u0564";default:return E}},week:{dow:1,doy:7}})}(b(6908))},1334:function(ee,ce,b){!function(O){"use strict";O.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(E,R){return 12===E&&(E=0),"pagi"===R?E:"siang"===R?E>=11?E:E+12:"sore"===R||"malam"===R?E+12:void 0},meridiem:function(E,R,A){return E<11?"pagi":E<15?"siang":E<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(b(6908))},6959:function(ee,ce,b){!function(O){"use strict";function M(A){return A%100==11||A%10!=1}function E(A,I,N,W){var G=A+" ";switch(N){case"s":return I||W?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return M(A)?G+(I||W?"sek\xfandur":"sek\xfandum"):G+"sek\xfanda";case"m":return I?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return M(A)?G+(I||W?"m\xedn\xfatur":"m\xedn\xfatum"):I?G+"m\xedn\xfata":G+"m\xedn\xfatu";case"hh":return M(A)?G+(I||W?"klukkustundir":"klukkustundum"):G+"klukkustund";case"d":return I?"dagur":W?"dag":"degi";case"dd":return M(A)?I?G+"dagar":G+(W?"daga":"d\xf6gum"):I?G+"dagur":G+(W?"dag":"degi");case"M":return I?"m\xe1nu\xf0ur":W?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return M(A)?I?G+"m\xe1nu\xf0ir":G+(W?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):I?G+"m\xe1nu\xf0ur":G+(W?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return I||W?"\xe1r":"\xe1ri";case"yy":return M(A)?G+(I||W?"\xe1r":"\xe1rum"):G+(I||W?"\xe1r":"\xe1ri")}}O.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:E,ss:E,m:E,mm:E,h:"klukkustund",hh:E,d:E,dd:E,M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1124:function(ee,ce,b){!function(O){"use strict";O.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(E){return(/^[0-9].+$/.test(E)?"tra":"in")+" "+E},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},4864:function(ee,ce,b){!function(O){"use strict";O.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},6141:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(E,R){return"\u5143"===R[1]?1:parseInt(R[1]||E,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(E){return"\u5348\u5f8c"===E},meridiem:function(E,R,A){return E<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(E){return E.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(E){return this.week()!==E.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(E,R){switch(R){case"y":return 1===E?"\u5143\u5e74":E+"\u5e74";case"d":case"D":case"DDD":return E+"\u65e5";default:return E}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(b(6908))},9187:function(ee,ce,b){!function(O){"use strict";O.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(E,R){return 12===E&&(E=0),"enjing"===R?E:"siyang"===R?E>=11?E:E+12:"sonten"===R||"ndalu"===R?E+12:void 0},meridiem:function(E,R,A){return E<11?"enjing":E<15?"siyang":E<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(b(6908))},2136:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(E){return E.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(R,A,I){return"\u10d8"===I?A+"\u10e8\u10d8":A+I+"\u10e8\u10d8"})},past:function(E){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(E)?E.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(E)?E.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):E},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(E){return 0===E?E:1===E?E+"-\u10da\u10d8":E<20||E<=100&&E%20==0||E%100==0?"\u10db\u10d4-"+E:E+"-\u10d4"},week:{dow:1,doy:7}})}(b(6908))},4332:function(ee,ce,b){!function(O){"use strict";var M={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};O.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(R){return R+(M[R]||M[R%10]||M[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},8607:function(ee,ce,b){!function(O){"use strict";var M={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},E={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};O.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(A){return"\u179b\u17d2\u1784\u17b6\u1785"===A},meridiem:function(A,I,N){return A<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(A){return A.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(I){return E[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]})},week:{dow:1,doy:4}})}(b(6908))},4305:function(ee,ce,b){!function(O){"use strict";var M={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},E={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};O.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(A){return A.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(I){return E[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===I?A<4?A:A+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===I?A:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===I?A>=10?A:A+12:"\u0cb8\u0c82\u0c9c\u0cc6"===I?A+12:void 0},meridiem:function(A,I,N){return A<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":A<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":A<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":A<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(A){return A+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(b(6908))},234:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(E,R){switch(R){case"d":case"D":case"DDD":return E+"\uc77c";case"M":return E+"\uc6d4";case"w":case"W":return E+"\uc8fc";default:return E}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(E){return"\uc624\ud6c4"===E},meridiem:function(E,R,A){return E<12?"\uc624\uc804":"\uc624\ud6c4"}})}(b(6908))},6003:function(ee,ce,b){!function(O){"use strict";var M={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},E={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},R=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];O.defineLocale("ku",{months:R,monthsShort:R,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(I){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(I)},meridiem:function(I,N,W){return I<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(I){return I.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(N){return E[N]}).replace(/\u060c/g,",")},postformat:function(I){return I.replace(/\d/g,function(N){return M[N]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},5061:function(ee,ce,b){!function(O){"use strict";var M={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};O.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(R){return R+(M[R]||M[R%10]||M[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},2786:function(ee,ce,b){!function(O){"use strict";function M(N,W,G,ne){var ae={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return W?ae[G][0]:ae[G][1]}function A(N){if(N=parseInt(N,10),isNaN(N))return!1;if(N<0)return!0;if(N<10)return 4<=N&&N<=7;if(N<100){var W=N%10;return A(0===W?N/10:W)}if(N<1e4){for(;N>=10;)N/=10;return A(N)}return A(N/=1e3)}O.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function E(N){return A(N.substr(0,N.indexOf(" ")))?"a "+N:"an "+N},past:function R(N){return A(N.substr(0,N.indexOf(" ")))?"viru "+N:"virun "+N},s:"e puer Sekonnen",ss:"%d Sekonnen",m:M,mm:"%d Minutten",h:M,hh:"%d Stonnen",d:M,dd:"%d Deeg",M,MM:"%d M\xe9int",y:M,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},6183:function(ee,ce,b){!function(O){"use strict";O.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(E){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===E},meridiem:function(E,R,A){return E<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(E){return"\u0e97\u0eb5\u0ec8"+E}})}(b(6908))},29:function(ee,ce,b){!function(O){"use strict";var M={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function R(G,ne,ae,le){return ne?I(ae)[0]:le?I(ae)[1]:I(ae)[2]}function A(G){return G%10==0||G>10&&G<20}function I(G){return M[G].split("_")}function N(G,ne,ae,le){var he=G+" ";return 1===G?he+R(0,ne,ae[0],le):ne?he+(A(G)?I(ae)[1]:I(ae)[0]):le?he+I(ae)[1]:he+(A(G)?I(ae)[1]:I(ae)[2])}O.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function E(G,ne,ae,le){return ne?"kelios sekund\u0117s":le?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:N,m:R,mm:N,h:R,hh:N,d:R,dd:N,M:R,MM:N,y:R,yy:N},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(G){return G+"-oji"},week:{dow:1,doy:4}})}(b(6908))},4169:function(ee,ce,b){!function(O){"use strict";var M={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function E(W,G,ne){return ne?G%10==1&&G%100!=11?W[2]:W[3]:G%10==1&&G%100!=11?W[0]:W[1]}function R(W,G,ne){return W+" "+E(M[ne],W,G)}function A(W,G,ne){return E(M[ne],W,G)}O.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function I(W,G){return G?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:R,m:A,mm:R,h:A,hh:R,d:A,dd:R,M:A,MM:R,y:A,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8577:function(ee,ce,b){!function(O){"use strict";var M={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(R,A){return 1===R?A[0]:R>=2&&R<=4?A[1]:A[2]},translate:function(R,A,I){var N=M.words[I];return 1===I.length?A?N[0]:N[1]:R+" "+M.correctGrammaticalCase(R,N)}};O.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:M.translate,m:M.translate,mm:M.translate,h:M.translate,hh:M.translate,d:"dan",dd:M.translate,M:"mjesec",MM:M.translate,y:"godinu",yy:M.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8177:function(ee,ce,b){!function(O){"use strict";O.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},337:function(ee,ce,b){!function(O){"use strict";O.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(E){var R=E%10,A=E%100;return 0===E?E+"-\u0435\u0432":0===A?E+"-\u0435\u043d":A>10&&A<20?E+"-\u0442\u0438":1===R?E+"-\u0432\u0438":2===R?E+"-\u0440\u0438":7===R||8===R?E+"-\u043c\u0438":E+"-\u0442\u0438"},week:{dow:1,doy:7}})}(b(6908))},5260:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(E,R){return 12===E&&(E=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===R&&E>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===R||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===R?E+12:E},meridiem:function(E,R,A){return E<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":E<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":E<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":E<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(b(6908))},2325:function(ee,ce,b){!function(O){"use strict";function M(R,A,I,N){switch(I){case"s":return A?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return R+(A?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return R+(A?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return R+(A?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return R+(A?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return R+(A?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return R+(A?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return R}}O.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(R){return"\u04ae\u0425"===R},meridiem:function(R,A,I){return R<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:M,ss:M,m:M,mm:M,h:M,hh:M,d:M,dd:M,M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(R,A){switch(A){case"d":case"D":case"DDD":return R+" \u04e9\u0434\u04e9\u0440";default:return R}}})}(b(6908))},4695:function(ee,ce,b){!function(O){"use strict";var M={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},E={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function R(I,N,W,G){var ne="";if(N)switch(W){case"s":ne="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":ne="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":ne="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":ne="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":ne="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":ne="%d \u0924\u093e\u0938";break;case"d":ne="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":ne="%d \u0926\u093f\u0935\u0938";break;case"M":ne="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":ne="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":ne="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":ne="%d \u0935\u0930\u094d\u0937\u0947"}else switch(W){case"s":ne="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":ne="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":ne="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":ne="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":ne="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":ne="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":ne="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":ne="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":ne="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":ne="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":ne="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":ne="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return ne.replace(/%d/i,I)}O.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},preparse:function(I){return I.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(N){return E[N]})},postformat:function(I){return I.replace(/\d/g,function(N){return M[N]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(I,N){return 12===I&&(I=0),"\u092a\u0939\u093e\u091f\u0947"===N||"\u0938\u0915\u093e\u0933\u0940"===N?I:"\u0926\u0941\u092a\u093e\u0930\u0940"===N||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===N||"\u0930\u093e\u0924\u094d\u0930\u0940"===N?I>=12?I:I+12:void 0},meridiem:function(I,N,W){return I>=0&&I<6?"\u092a\u0939\u093e\u091f\u0947":I<12?"\u0938\u0915\u093e\u0933\u0940":I<17?"\u0926\u0941\u092a\u093e\u0930\u0940":I<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(b(6908))},7151:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(E,R){return 12===E&&(E=0),"pagi"===R?E:"tengahari"===R?E>=11?E:E+12:"petang"===R||"malam"===R?E+12:void 0},meridiem:function(E,R,A){return E<11?"pagi":E<15?"tengahari":E<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(b(6908))},5334:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(E,R){return 12===E&&(E=0),"pagi"===R?E:"tengahari"===R?E>=11?E:E+12:"petang"===R||"malam"===R?E+12:void 0},meridiem:function(E,R,A){return E<11?"pagi":E<15?"tengahari":E<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(b(6908))},3570:function(ee,ce,b){!function(O){"use strict";O.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},7963:function(ee,ce,b){!function(O){"use strict";var M={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},E={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};O.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(A){return A.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(I){return E[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]})},week:{dow:1,doy:4}})}(b(6908))},8028:function(ee,ce,b){!function(O){"use strict";O.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},6638:function(ee,ce,b){!function(O){"use strict";var M={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},E={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};O.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(A){return A.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(I){return E[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u0930\u093e\u0924\u093f"===I?A<4?A:A+12:"\u092c\u093f\u0939\u093e\u0928"===I?A:"\u0926\u093f\u0909\u0901\u0938\u094b"===I?A>=10?A:A+12:"\u0938\u093e\u0901\u091d"===I?A+12:void 0},meridiem:function(A,I,N){return A<3?"\u0930\u093e\u0924\u093f":A<12?"\u092c\u093f\u0939\u093e\u0928":A<16?"\u0926\u093f\u0909\u0901\u0938\u094b":A<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(b(6908))},6782:function(ee,ce,b){!function(O){"use strict";var M="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),E="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),R=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],A=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;O.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?E[N.month()]:M[N.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(N){return N+(1===N||8===N||N>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},302:function(ee,ce,b){!function(O){"use strict";var M="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),E="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),R=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],A=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;O.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?E[N.month()]:M[N.month()]:M},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(N){return N+(1===N||8===N||N>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},3501:function(ee,ce,b){!function(O){"use strict";O.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},563:function(ee,ce,b){!function(O){"use strict";O.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(E,R){var A=1===E?"r":2===E?"n":3===E?"r":4===E?"t":"\xe8";return("w"===R||"W"===R)&&(A="a"),E+A},week:{dow:1,doy:4}})}(b(6908))},869:function(ee,ce,b){!function(O){"use strict";var M={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},E={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};O.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(A){return A.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(I){return E[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u0a30\u0a3e\u0a24"===I?A<4?A:A+12:"\u0a38\u0a35\u0a47\u0a30"===I?A:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===I?A>=10?A:A+12:"\u0a38\u0a3c\u0a3e\u0a2e"===I?A+12:void 0},meridiem:function(A,I,N){return A<4?"\u0a30\u0a3e\u0a24":A<10?"\u0a38\u0a35\u0a47\u0a30":A<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":A<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(b(6908))},5302:function(ee,ce,b){!function(O){"use strict";var M="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),E="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),R=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function A(W){return W%10<5&&W%10>1&&~~(W/10)%10!=1}function I(W,G,ne){var ae=W+" ";switch(ne){case"ss":return ae+(A(W)?"sekundy":"sekund");case"m":return G?"minuta":"minut\u0119";case"mm":return ae+(A(W)?"minuty":"minut");case"h":return G?"godzina":"godzin\u0119";case"hh":return ae+(A(W)?"godziny":"godzin");case"ww":return ae+(A(W)?"tygodnie":"tygodni");case"MM":return ae+(A(W)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return ae+(A(W)?"lata":"lat")}}O.defineLocale("pl",{months:function(W,G){return W?/D MMMM/.test(G)?E[W.month()]:M[W.month()]:M},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:R,longMonthsParse:R,shortMonthsParse:R,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:I,m:I,mm:I,h:I,hh:I,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:I,M:"miesi\u0105c",MM:I,y:"rok",yy:I},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},4884:function(ee,ce,b){!function(O){"use strict";O.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(b(6908))},9687:function(ee,ce,b){!function(O){"use strict";O.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},9107:function(ee,ce,b){!function(O){"use strict";function M(R,A,I){var W=" ";return(R%100>=20||R>=100&&R%100==0)&&(W=" de "),R+W+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[I]}O.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:M,m:"un minut",mm:M,h:"o or\u0103",hh:M,d:"o zi",dd:M,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:M,M:"o lun\u0103",MM:M,y:"un an",yy:M},week:{dow:1,doy:7}})}(b(6908))},3627:function(ee,ce,b){!function(O){"use strict";function E(I,N,W){return"m"===W?N?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":I+" "+function M(I,N){var W=I.split("_");return N%10==1&&N%100!=11?W[0]:N%10>=2&&N%10<=4&&(N%100<10||N%100>=20)?W[1]:W[2]}({ss:N?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:N?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[W],+I)}var R=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];O.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:R,longMonthsParse:R,shortMonthsParse:R,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(I){if(I.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(I){if(I.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:E,m:E,mm:E,h:"\u0447\u0430\u0441",hh:E,d:"\u0434\u0435\u043d\u044c",dd:E,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:E,M:"\u043c\u0435\u0441\u044f\u0446",MM:E,y:"\u0433\u043e\u0434",yy:E},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(I){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(I)},meridiem:function(I,N,W){return I<4?"\u043d\u043e\u0447\u0438":I<12?"\u0443\u0442\u0440\u0430":I<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(I,N){switch(N){case"M":case"d":case"DDD":return I+"-\u0439";case"D":return I+"-\u0433\u043e";case"w":case"W":return I+"-\u044f";default:return I}},week:{dow:1,doy:4}})}(b(6908))},355:function(ee,ce,b){!function(O){"use strict";var M=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],E=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];O.defineLocale("sd",{months:M,monthsShort:M,weekdays:E,weekdaysShort:E,weekdaysMin:E,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(A){return"\u0634\u0627\u0645"===A},meridiem:function(A,I,N){return A<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(b(6908))},3427:function(ee,ce,b){!function(O){"use strict";O.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1848:function(ee,ce,b){!function(O){"use strict";O.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(E){return E+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(E){return"\u0db4.\u0dc0."===E||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===E},meridiem:function(E,R,A){return E>11?A?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":A?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(b(6908))},4590:function(ee,ce,b){!function(O){"use strict";var M="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),E="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function R(N){return N>1&&N<5}function A(N,W,G,ne){var ae=N+" ";switch(G){case"s":return W||ne?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return W||ne?ae+(R(N)?"sekundy":"sek\xfand"):ae+"sekundami";case"m":return W?"min\xfata":ne?"min\xfatu":"min\xfatou";case"mm":return W||ne?ae+(R(N)?"min\xfaty":"min\xfat"):ae+"min\xfatami";case"h":return W?"hodina":ne?"hodinu":"hodinou";case"hh":return W||ne?ae+(R(N)?"hodiny":"hod\xedn"):ae+"hodinami";case"d":return W||ne?"de\u0148":"d\u0148om";case"dd":return W||ne?ae+(R(N)?"dni":"dn\xed"):ae+"d\u0148ami";case"M":return W||ne?"mesiac":"mesiacom";case"MM":return W||ne?ae+(R(N)?"mesiace":"mesiacov"):ae+"mesiacmi";case"y":return W||ne?"rok":"rokom";case"yy":return W||ne?ae+(R(N)?"roky":"rokov"):ae+"rokmi"}}O.defineLocale("sk",{months:M,monthsShort:E,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:case 4:case 5:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},184:function(ee,ce,b){!function(O){"use strict";function M(R,A,I,N){var W=R+" ";switch(I){case"s":return A||N?"nekaj sekund":"nekaj sekundami";case"ss":return W+(1===R?A?"sekundo":"sekundi":2===R?A||N?"sekundi":"sekundah":R<5?A||N?"sekunde":"sekundah":"sekund");case"m":return A?"ena minuta":"eno minuto";case"mm":return W+(1===R?A?"minuta":"minuto":2===R?A||N?"minuti":"minutama":R<5?A||N?"minute":"minutami":A||N?"minut":"minutami");case"h":return A?"ena ura":"eno uro";case"hh":return W+(1===R?A?"ura":"uro":2===R?A||N?"uri":"urama":R<5?A||N?"ure":"urami":A||N?"ur":"urami");case"d":return A||N?"en dan":"enim dnem";case"dd":return W+(1===R?A||N?"dan":"dnem":2===R?A||N?"dni":"dnevoma":A||N?"dni":"dnevi");case"M":return A||N?"en mesec":"enim mesecem";case"MM":return W+(1===R?A||N?"mesec":"mesecem":2===R?A||N?"meseca":"mesecema":R<5?A||N?"mesece":"meseci":A||N?"mesecev":"meseci");case"y":return A||N?"eno leto":"enim letom";case"yy":return W+(1===R?A||N?"leto":"letom":2===R?A||N?"leti":"letoma":R<5?A||N?"leta":"leti":A||N?"let":"leti")}}O.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:M,ss:M,m:M,mm:M,h:M,hh:M,d:M,dd:M,M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},6361:function(ee,ce,b){!function(O){"use strict";O.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(E){return"M"===E.charAt(0)},meridiem:function(E,R,A){return E<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1287:function(ee,ce,b){!function(O){"use strict";var M={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(R,A){return R%10>=1&&R%10<=4&&(R%100<10||R%100>=20)?R%10==1?A[0]:A[1]:A[2]},translate:function(R,A,I,N){var G,W=M.words[I];return 1===I.length?"y"===I&&A?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":N||A?W[0]:W[1]:(G=M.correctGrammaticalCase(R,W),"yy"===I&&A&&"\u0433\u043e\u0434\u0438\u043d\u0443"===G?R+" \u0433\u043e\u0434\u0438\u043d\u0430":R+" "+G)}};O.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:M.translate,m:M.translate,mm:M.translate,h:M.translate,hh:M.translate,d:M.translate,dd:M.translate,M:M.translate,MM:M.translate,y:M.translate,yy:M.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8965:function(ee,ce,b){!function(O){"use strict";var M={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(R,A){return R%10>=1&&R%10<=4&&(R%100<10||R%100>=20)?R%10==1?A[0]:A[1]:A[2]},translate:function(R,A,I,N){var G,W=M.words[I];return 1===I.length?"y"===I&&A?"jedna godina":N||A?W[0]:W[1]:(G=M.correctGrammaticalCase(R,W),"yy"===I&&A&&"godinu"===G?R+" godina":R+" "+G)}};O.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:M.translate,m:M.translate,mm:M.translate,h:M.translate,hh:M.translate,d:M.translate,dd:M.translate,M:M.translate,MM:M.translate,y:M.translate,yy:M.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},6346:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(E,R,A){return E<11?"ekuseni":E<15?"emini":E<19?"entsambama":"ebusuku"},meridiemHour:function(E,R){return 12===E&&(E=0),"ekuseni"===R?E:"emini"===R?E>=11?E:E+12:"entsambama"===R||"ebusuku"===R?0===E?0:E+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(b(6908))},451:function(ee,ce,b){!function(O){"use strict";O.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(E){var R=E%10;return E+(1==~~(E%100/10)?":e":1===R||2===R?":a":":e")},week:{dow:1,doy:4}})}(b(6908))},7558:function(ee,ce,b){!function(O){"use strict";O.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(b(6908))},1356:function(ee,ce,b){!function(O){"use strict";var M={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},E={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};O.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(A){return A+"\u0bb5\u0ba4\u0bc1"},preparse:function(A){return A.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(I){return E[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return M[I]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(A,I,N){return A<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":A<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":A<10?" \u0b95\u0bbe\u0bb2\u0bc8":A<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":A<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":A<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(A,I){return 12===A&&(A=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===I?A<2?A:A+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===I||"\u0b95\u0bbe\u0bb2\u0bc8"===I||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===I&&A>=10?A:A+12},week:{dow:0,doy:6}})}(b(6908))},3693:function(ee,ce,b){!function(O){"use strict";O.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(E,R){return 12===E&&(E=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===R?E<4?E:E+12:"\u0c09\u0c26\u0c2f\u0c02"===R?E:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===R?E>=10?E:E+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===R?E+12:void 0},meridiem:function(E,R,A){return E<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":E<10?"\u0c09\u0c26\u0c2f\u0c02":E<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":E<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(b(6908))},1243:function(ee,ce,b){!function(O){"use strict";O.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(E){var R=E%10;return E+(1==~~(E%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},2500:function(ee,ce,b){!function(O){"use strict";var M={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};O.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(R,A){return 12===R&&(R=0),"\u0448\u0430\u0431"===A?R<4?R:R+12:"\u0441\u0443\u0431\u04b3"===A?R:"\u0440\u04ef\u0437"===A?R>=11?R:R+12:"\u0431\u0435\u0433\u043e\u04b3"===A?R+12:void 0},meridiem:function(R,A,I){return R<4?"\u0448\u0430\u0431":R<11?"\u0441\u0443\u0431\u04b3":R<16?"\u0440\u04ef\u0437":R<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(R){return R+(M[R]||M[R%10]||M[R>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},5768:function(ee,ce,b){!function(O){"use strict";O.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(E){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===E},meridiem:function(E,R,A){return E<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(b(6908))},7761:function(ee,ce,b){!function(O){"use strict";var M={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};O.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(R,A){switch(A){case"d":case"D":case"Do":case"DD":return R;default:if(0===R)return R+"'unjy";var I=R%10;return R+(M[I]||M[R%100-I]||M[R>=100?100:null])}},week:{dow:1,doy:7}})}(b(6908))},5780:function(ee,ce,b){!function(O){"use strict";O.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(E){return E},week:{dow:1,doy:4}})}(b(6908))},9590:function(ee,ce,b){!function(O){"use strict";var M="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function A(W,G,ne,ae){var le=function I(W){var G=Math.floor(W%1e3/100),ne=Math.floor(W%100/10),ae=W%10,le="";return G>0&&(le+=M[G]+"vatlh"),ne>0&&(le+=(""!==le?" ":"")+M[ne]+"maH"),ae>0&&(le+=(""!==le?" ":"")+M[ae]),""===le?"pagh":le}(W);switch(ne){case"ss":return le+" lup";case"mm":return le+" tup";case"hh":return le+" rep";case"dd":return le+" jaj";case"MM":return le+" jar";case"yy":return le+" DIS"}}O.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function E(W){var G=W;return-1!==W.indexOf("jaj")?G.slice(0,-3)+"leS":-1!==W.indexOf("jar")?G.slice(0,-3)+"waQ":-1!==W.indexOf("DIS")?G.slice(0,-3)+"nem":G+" pIq"},past:function R(W){var G=W;return-1!==W.indexOf("jaj")?G.slice(0,-3)+"Hu\u2019":-1!==W.indexOf("jar")?G.slice(0,-3)+"wen":-1!==W.indexOf("DIS")?G.slice(0,-3)+"ben":G+" ret"},s:"puS lup",ss:A,m:"wa\u2019 tup",mm:A,h:"wa\u2019 rep",hh:A,d:"wa\u2019 jaj",dd:A,M:"wa\u2019 jar",MM:A,y:"wa\u2019 DIS",yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},3807:function(ee,ce,b){!function(O){"use strict";var M={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};O.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(R,A,I){return R<12?I?"\xf6\xf6":"\xd6\xd6":I?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(R){return"\xf6s"===R||"\xd6S"===R},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(R,A){switch(A){case"d":case"D":case"Do":case"DD":return R;default:if(0===R)return R+"'\u0131nc\u0131";var I=R%10;return R+(M[I]||M[R%100-I]||M[R>=100?100:null])}},week:{dow:1,doy:7}})}(b(6908))},3857:function(ee,ce,b){!function(O){"use strict";function E(R,A,I,N){var W={s:["viensas secunds","'iensas secunds"],ss:[R+" secunds",R+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[R+" m\xeduts",R+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[R+" \xfeoras",R+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[R+" ziuas",R+" ziuas"],M:["'n mes","'iens mes"],MM:[R+" mesen",R+" mesen"],y:["'n ar","'iens ar"],yy:[R+" ars",R+" ars"]};return N||A?W[I][0]:W[I][1]}O.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(R){return"d'o"===R.toLowerCase()},meridiem:function(R,A,I){return R>11?I?"d'o":"D'O":I?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:E,ss:E,m:E,mm:E,h:E,hh:E,d:E,dd:E,M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8806:function(ee,ce,b){!function(O){"use strict";O.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(b(6908))},654:function(ee,ce,b){!function(O){"use strict";O.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(b(6908))},845:function(ee,ce,b){!function(O){"use strict";O.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(E,R){return 12===E&&(E=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===R||"\u0633\u06d5\u06be\u06d5\u0631"===R||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===R?E:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===R||"\u0643\u06d5\u0686"===R?E+12:E>=11?E:E+12},meridiem:function(E,R,A){var I=100*E+R;return I<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":I<900?"\u0633\u06d5\u06be\u06d5\u0631":I<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":I<1230?"\u0686\u06c8\u0634":I<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(E,R){switch(R){case"d":case"D":case"DDD":return E+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return E+"-\u06be\u06d5\u067e\u062a\u06d5";default:return E}},preparse:function(E){return E.replace(/\u060c/g,",")},postformat:function(E){return E.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(b(6908))},9232:function(ee,ce,b){!function(O){"use strict";function E(N,W,G){return"m"===G?W?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===G?W?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":N+" "+function M(N,W){var G=N.split("_");return W%10==1&&W%100!=11?G[0]:W%10>=2&&W%10<=4&&(W%100<10||W%100>=20)?G[1]:G[2]}({ss:W?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:W?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:W?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[G],+N)}function A(N){return function(){return N+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}O.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function R(N,W){var G={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===N?G.nominative.slice(1,7).concat(G.nominative.slice(0,1)):N?G[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(W)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(W)?"genitive":"nominative"][N.day()]:G.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:A("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:A("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:A("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:A("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return A("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return A("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:E,m:E,mm:E,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:E,d:"\u0434\u0435\u043d\u044c",dd:E,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:E,y:"\u0440\u0456\u043a",yy:E},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(N){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(N)},meridiem:function(N,W,G){return N<4?"\u043d\u043e\u0447\u0456":N<12?"\u0440\u0430\u043d\u043a\u0443":N<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(N,W){switch(W){case"M":case"d":case"DDD":case"w":case"W":return N+"-\u0439";case"D":return N+"-\u0433\u043e";default:return N}},week:{dow:1,doy:7}})}(b(6908))},7052:function(ee,ce,b){!function(O){"use strict";var M=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],E=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];O.defineLocale("ur",{months:M,monthsShort:M,weekdays:E,weekdaysShort:E,weekdaysMin:E,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(A){return"\u0634\u0627\u0645"===A},meridiem:function(A,I,N){return A<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(b(6908))},2233:function(ee,ce,b){!function(O){"use strict";O.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(b(6908))},7967:function(ee,ce,b){!function(O){"use strict";O.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(b(6908))},8615:function(ee,ce,b){!function(O){"use strict";O.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(E){return/^ch$/i.test(E)},meridiem:function(E,R,A){return E<12?A?"sa":"SA":A?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(E){return E},week:{dow:1,doy:4}})}(b(6908))},2320:function(ee,ce,b){!function(O){"use strict";O.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(E){var R=E%10;return E+(1==~~(E%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},1313:function(ee,ce,b){!function(O){"use strict";O.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(b(6908))},4490:function(ee,ce,b){!function(O){"use strict";O.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(E,R){return 12===E&&(E=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?E:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?E+12:E>=11?E:E+12},meridiem:function(E,R,A){var I=100*E+R;return I<600?"\u51cc\u6668":I<900?"\u65e9\u4e0a":I<1130?"\u4e0a\u5348":I<1230?"\u4e2d\u5348":I<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(E){return E.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(E){return this.week()!==E.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(E,R){switch(R){case"d":case"D":case"DDD":return E+"\u65e5";case"M":return E+"\u6708";case"w":case"W":return E+"\u5468";default:return E}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(b(6908))},5910:function(ee,ce,b){!function(O){"use strict";O.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(E,R){return 12===E&&(E=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?E:"\u4e2d\u5348"===R?E>=11?E:E+12:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?E+12:void 0},meridiem:function(E,R,A){var I=100*E+R;return I<600?"\u51cc\u6668":I<900?"\u65e9\u4e0a":I<1200?"\u4e0a\u5348":1200===I?"\u4e2d\u5348":I<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(E,R){switch(R){case"d":case"D":case"DDD":return E+"\u65e5";case"M":return E+"\u6708";case"w":case"W":return E+"\u9031";default:return E}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},8262:function(ee,ce,b){!function(O){"use strict";O.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(E,R){return 12===E&&(E=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?E:"\u4e2d\u5348"===R?E>=11?E:E+12:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?E+12:void 0},meridiem:function(E,R,A){var I=100*E+R;return I<600?"\u51cc\u6668":I<900?"\u65e9\u4e0a":I<1130?"\u4e0a\u5348":I<1230?"\u4e2d\u5348":I<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(E,R){switch(R){case"d":case"D":case"DDD":return E+"\u65e5";case"M":return E+"\u6708";case"w":case"W":return E+"\u9031";default:return E}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},4223:function(ee,ce,b){!function(O){"use strict";O.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(E,R){return 12===E&&(E=0),"\u51cc\u6668"===R||"\u65e9\u4e0a"===R||"\u4e0a\u5348"===R?E:"\u4e2d\u5348"===R?E>=11?E:E+12:"\u4e0b\u5348"===R||"\u665a\u4e0a"===R?E+12:void 0},meridiem:function(E,R,A){var I=100*E+R;return I<600?"\u51cc\u6668":I<900?"\u65e9\u4e0a":I<1130?"\u4e0a\u5348":I<1230?"\u4e2d\u5348":I<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(E,R){switch(R){case"d":case"D":case"DDD":return E+"\u65e5";case"M":return E+"\u6708";case"w":case"W":return E+"\u9031";default:return E}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},6908:function(ee,ce,b){(ee=b.nmd(ee)).exports=function(){"use strict";var O,be;function M(){return O.apply(null,arguments)}function R(T){return T instanceof Array||"[object Array]"===Object.prototype.toString.call(T)}function A(T){return null!=T&&"[object Object]"===Object.prototype.toString.call(T)}function I(T,F){return Object.prototype.hasOwnProperty.call(T,F)}function N(T){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(T).length;var F;for(F in T)if(I(T,F))return!1;return!0}function W(T){return void 0===T}function G(T){return"number"==typeof T||"[object Number]"===Object.prototype.toString.call(T)}function ne(T){return T instanceof Date||"[object Date]"===Object.prototype.toString.call(T)}function ae(T,F){var ue,q=[],ve=T.length;for(ue=0;ue<ve;++ue)q.push(F(T[ue],ue));return q}function le(T,F){for(var q in F)I(F,q)&&(T[q]=F[q]);return I(F,"toString")&&(T.toString=F.toString),I(F,"valueOf")&&(T.valueOf=F.valueOf),T}function he(T,F,q,ue){return yi(T,F,q,ue,!0).utc()}function de(T){return null==T._pf&&(T._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),T._pf}function Ie(T){if(null==T._isValid){var F=de(T),q=be.call(F.parsedDateParts,function(ve){return null!=ve}),ue=!isNaN(T._d.getTime())&&F.overflow<0&&!F.empty&&!F.invalidEra&&!F.invalidMonth&&!F.invalidWeekday&&!F.weekdayMismatch&&!F.nullInput&&!F.invalidFormat&&!F.userInvalidated&&(!F.meridiem||F.meridiem&&q);if(T._strict&&(ue=ue&&0===F.charsLeftOver&&0===F.unusedTokens.length&&void 0===F.bigHour),null!=Object.isFrozen&&Object.isFrozen(T))return ue;T._isValid=ue}return T._isValid}function Re(T){var F=he(NaN);return null!=T?le(de(F),T):de(F).userInvalidated=!0,F}be=Array.prototype.some?Array.prototype.some:function(T){var ue,F=Object(this),q=F.length>>>0;for(ue=0;ue<q;ue++)if(ue in F&&T.call(this,F[ue],ue,F))return!0;return!1};var ze=M.momentProperties=[],it=!1;function We(T,F){var q,ue,ve,ft=ze.length;if(W(F._isAMomentObject)||(T._isAMomentObject=F._isAMomentObject),W(F._i)||(T._i=F._i),W(F._f)||(T._f=F._f),W(F._l)||(T._l=F._l),W(F._strict)||(T._strict=F._strict),W(F._tzm)||(T._tzm=F._tzm),W(F._isUTC)||(T._isUTC=F._isUTC),W(F._offset)||(T._offset=F._offset),W(F._pf)||(T._pf=de(F)),W(F._locale)||(T._locale=F._locale),ft>0)for(q=0;q<ft;q++)W(ve=F[ue=ze[q]])||(T[ue]=ve);return T}function Oe(T){We(this,T),this._d=new Date(null!=T._d?T._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===it&&(it=!0,M.updateOffset(this),it=!1)}function Ke(T){return T instanceof Oe||null!=T&&null!=T._isAMomentObject}function dt(T){!1===M.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+T)}function rt(T,F){var q=!0;return le(function(){if(null!=M.deprecationHandler&&M.deprecationHandler(null,T),q){var ve,ft,Qt,ue=[],Yr=arguments.length;for(ft=0;ft<Yr;ft++){if(ve="","object"==typeof arguments[ft]){for(Qt in ve+="\n["+ft+"] ",arguments[0])I(arguments[0],Qt)&&(ve+=Qt+": "+arguments[0][Qt]+", ");ve=ve.slice(0,-2)}else ve=arguments[ft];ue.push(ve)}dt(T+"\nArguments: "+Array.prototype.slice.call(ue).join("")+"\n"+(new Error).stack),q=!1}return F.apply(this,arguments)},F)}var It,yt={};function Pt(T,F){null!=M.deprecationHandler&&M.deprecationHandler(T,F),yt[T]||(dt(F),yt[T]=!0)}function Ft(T){return"undefined"!=typeof Function&&T instanceof Function||"[object Function]"===Object.prototype.toString.call(T)}function Kt(T,F){var ue,q=le({},T);for(ue in F)I(F,ue)&&(A(T[ue])&&A(F[ue])?(q[ue]={},le(q[ue],T[ue]),le(q[ue],F[ue])):null!=F[ue]?q[ue]=F[ue]:delete q[ue]);for(ue in T)I(T,ue)&&!I(F,ue)&&A(T[ue])&&(q[ue]=le({},q[ue]));return q}function Zt(T){null!=T&&this.set(T)}M.suppressDeprecationWarnings=!1,M.deprecationHandler=null,It=Object.keys?Object.keys:function(T){var F,q=[];for(F in T)I(T,F)&&q.push(F);return q};function ht(T,F,q){var ue=""+Math.abs(T);return(T>=0?q?"+":"":"-")+Math.pow(10,Math.max(0,F-ue.length)).toString().substr(1)+ue}var Rt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$t=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,bn={},Sn={};function Ht(T,F,q,ue){var ve=ue;"string"==typeof ue&&(ve=function(){return this[ue]()}),T&&(Sn[T]=ve),F&&(Sn[F[0]]=function(){return ht(ve.apply(this,arguments),F[1],F[2])}),q&&(Sn[q]=function(){return this.localeData().ordinal(ve.apply(this,arguments),T)})}function Jn(T){return T.match(/\[[\s\S]/)?T.replace(/^\[|\]$/g,""):T.replace(/\\/g,"")}function Yn(T,F){return T.isValid()?(F=Hn(F,T.localeData()),bn[F]=bn[F]||function Wn(T){var q,ue,F=T.match(Rt);for(q=0,ue=F.length;q<ue;q++)F[q]=Sn[F[q]]?Sn[F[q]]:Jn(F[q]);return function(ve){var Qt,ft="";for(Qt=0;Qt<ue;Qt++)ft+=Ft(F[Qt])?F[Qt].call(ve,T):F[Qt];return ft}}(F),bn[F](T)):T.localeData().invalidDate()}function Hn(T,F){var q=5;function ue(ve){return F.longDateFormat(ve)||ve}for($t.lastIndex=0;q>=0&&$t.test(T);)T=T.replace($t,ue),$t.lastIndex=0,q-=1;return T}var Qe={};function St(T,F){var q=T.toLowerCase();Qe[q]=Qe[q+"s"]=Qe[F]=T}function ct(T){return"string"==typeof T?Qe[T]||Qe[T.toLowerCase()]:void 0}function qe(T){var q,ue,F={};for(ue in T)I(T,ue)&&(q=ct(ue))&&(F[q]=T[ue]);return F}var Xe={};function Ze(T,F){Xe[T]=F}function mt(T){return T%4==0&&T%100!=0||T%400==0}function Ct(T){return T<0?Math.ceil(T)||0:Math.floor(T)}function qt(T){var F=+T,q=0;return 0!==F&&isFinite(F)&&(q=Ct(F)),q}function dn(T,F){return function(q){return null!=q?(Un(this,T,q),M.updateOffset(this,F),this):xn(this,T)}}function xn(T,F){return T.isValid()?T._d["get"+(T._isUTC?"UTC":"")+F]():NaN}function Un(T,F,q){T.isValid()&&!isNaN(q)&&("FullYear"===F&&mt(T.year())&&1===T.month()&&29===T.date()?(q=qt(q),T._d["set"+(T._isUTC?"UTC":"")+F](q,T.month(),Qu(q,T.month()))):T._d["set"+(T._isUTC?"UTC":"")+F](q))}var Ca,li=/\d/,hi=/\d\d/,Li=/\d{3}/,fu=/\d{4}/,jl=/[+-]?\d{6}/,Xi=/\d\d?/,aa=/\d\d\d\d?/,la=/\d\d\d\d\d\d?/,To=/\d{1,3}/,hs=/\d{1,4}/,Ki=/[+-]?\d{1,6}/,Wl=/\d+/,pu=/[+-]?\d+/,Yl=/Z|[+-]\d\d:?\d\d/gi,fs=/Z|[+-]\d\d(?::?\d\d)?/gi,Ac=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function nr(T,F,q){Ca[T]=Ft(F)?F:function(ue,ve){return ue&&q?q:F}}function dh(T,F){return I(Ca,T)?Ca[T](F._strict,F._locale):new RegExp(function Ju(T){return $o(T.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(F,q,ue,ve,ft){return q||ue||ve||ft}))}(T))}function $o(T){return T.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Ca={};var dl={};function bo(T,F){var q,ve,ue=F;for("string"==typeof T&&(T=[T]),G(F)&&(ue=function(ft,Qt){Qt[F]=qt(ft)}),ve=T.length,q=0;q<ve;q++)dl[T[q]]=ue}function Yo(T,F){bo(T,function(q,ue,ve,ft){ve._w=ve._w||{},F(q,ve._w,ve,ft)})}function Ro(T,F,q){null!=F&&I(dl,T)&&dl[T](F,q._a,q,T)}var Do;function Qu(T,F){if(isNaN(T)||isNaN(F))return NaN;var q=function mu(T,F){return(T%F+F)%F}(F,12);return T+=(F-q)/12,1===q?mt(T)?29:28:31-q%7%2}Do=Array.prototype.indexOf?Array.prototype.indexOf:function(T){var F;for(F=0;F<this.length;++F)if(this[F]===T)return F;return-1},Ht("M",["MM",2],"Mo",function(){return this.month()+1}),Ht("MMM",0,0,function(T){return this.localeData().monthsShort(this,T)}),Ht("MMMM",0,0,function(T){return this.localeData().months(this,T)}),St("month","M"),Ze("month",8),nr("M",Xi),nr("MM",Xi,hi),nr("MMM",function(T,F){return F.monthsShortRegex(T)}),nr("MMMM",function(T,F){return F.monthsRegex(T)}),bo(["M","MM"],function(T,F){F[1]=qt(T)-1}),bo(["MMM","MMMM"],function(T,F,q,ue){var ve=q._locale.monthsParse(T,ue,q._strict);null!=ve?F[1]=ve:de(q).invalidMonth=T});var ph="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gu="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ec=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,mh=Ac,mf=Ac;function gh(T,F,q){var ue,ve,ft,Qt=T.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],ue=0;ue<12;++ue)ft=he([2e3,ue]),this._shortMonthsParse[ue]=this.monthsShort(ft,"").toLocaleLowerCase(),this._longMonthsParse[ue]=this.months(ft,"").toLocaleLowerCase();return q?"MMM"===F?-1!==(ve=Do.call(this._shortMonthsParse,Qt))?ve:null:-1!==(ve=Do.call(this._longMonthsParse,Qt))?ve:null:"MMM"===F?-1!==(ve=Do.call(this._shortMonthsParse,Qt))||-1!==(ve=Do.call(this._longMonthsParse,Qt))?ve:null:-1!==(ve=Do.call(this._longMonthsParse,Qt))||-1!==(ve=Do.call(this._shortMonthsParse,Qt))?ve:null}function eo(T,F){var q;if(!T.isValid())return T;if("string"==typeof F)if(/^\d+$/.test(F))F=qt(F);else if(!G(F=T.localeData().monthsParse(F)))return T;return q=Math.min(T.date(),Qu(T.year(),F)),T._d["set"+(T._isUTC?"UTC":"")+"Month"](F,q),T}function Gl(T){return null!=T?(eo(this,T),M.updateOffset(this,!0),this):xn(this,"Month")}function Zi(){function T(Qt,Yr){return Yr.length-Qt.length}var ve,ft,F=[],q=[],ue=[];for(ve=0;ve<12;ve++)ft=he([2e3,ve]),F.push(this.monthsShort(ft,"")),q.push(this.months(ft,"")),ue.push(this.months(ft,"")),ue.push(this.monthsShort(ft,""));for(F.sort(T),q.sort(T),ue.sort(T),ve=0;ve<12;ve++)F[ve]=$o(F[ve]),q[ve]=$o(q[ve]);for(ve=0;ve<24;ve++)ue[ve]=$o(ue[ve]);this._monthsRegex=new RegExp("^("+ue.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+q.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+F.join("|")+")","i")}function Ur(T){return mt(T)?366:365}Ht("Y",0,0,function(){var T=this.year();return T<=9999?ht(T,4):"+"+T}),Ht(0,["YY",2],0,function(){return this.year()%100}),Ht(0,["YYYY",4],0,"year"),Ht(0,["YYYYY",5],0,"year"),Ht(0,["YYYYYY",6,!0],0,"year"),St("year","y"),Ze("year",1),nr("Y",pu),nr("YY",Xi,hi),nr("YYYY",hs,fu),nr("YYYYY",Ki,jl),nr("YYYYYY",Ki,jl),bo(["YYYYY","YYYYYY"],0),bo("YYYY",function(T,F){F[0]=2===T.length?M.parseTwoDigitYear(T):qt(T)}),bo("YY",function(T,F){F[0]=M.parseTwoDigitYear(T)}),bo("Y",function(T,F){F[0]=parseInt(T,10)}),M.parseTwoDigitYear=function(T){return qt(T)+(qt(T)>68?1900:2e3)};var kc=dn("FullYear",!0);function on(T,F,q,ue,ve,ft,Qt){var Yr;return T<100&&T>=0?(Yr=new Date(T+400,F,q,ue,ve,ft,Qt),isFinite(Yr.getFullYear())&&Yr.setFullYear(T)):Yr=new Date(T,F,q,ue,ve,ft,Qt),Yr}function fl(T){var F,q;return T<100&&T>=0?((q=Array.prototype.slice.call(arguments))[0]=T+400,F=new Date(Date.UTC.apply(null,q)),isFinite(F.getUTCFullYear())&&F.setUTCFullYear(T)):F=new Date(Date.UTC.apply(null,arguments)),F}function qr(T,F,q){var ue=7+F-q;return-(7+fl(T,0,ue).getUTCDay()-F)%7+ue-1}function Ni(T,F,q,ue,ve){var Pi,zo,Yr=1+7*(F-1)+(7+q-ue)%7+qr(T,ue,ve);return Yr<=0?zo=Ur(Pi=T-1)+Yr:Yr>Ur(T)?(Pi=T+1,zo=Yr-Ur(T)):(Pi=T,zo=Yr),{year:Pi,dayOfYear:zo}}function bd(T,F,q){var ft,Qt,ue=qr(T.year(),F,q),ve=Math.floor((T.dayOfYear()-ue-1)/7)+1;return ve<1?ft=ve+vu(Qt=T.year()-1,F,q):ve>vu(T.year(),F,q)?(ft=ve-vu(T.year(),F,q),Qt=T.year()+1):(Qt=T.year(),ft=ve),{week:ft,year:Qt}}function vu(T,F,q){var ue=qr(T,F,q),ve=qr(T+1,F,q);return(Ur(T)-ue+ve)/7}Ht("w",["ww",2],"wo","week"),Ht("W",["WW",2],"Wo","isoWeek"),St("week","w"),St("isoWeek","W"),Ze("week",5),Ze("isoWeek",5),nr("w",Xi),nr("ww",Xi,hi),nr("W",Xi),nr("WW",Xi,hi),Yo(["w","ww","W","WW"],function(T,F,q,ue){F[ue.substr(0,1)]=qt(T)});function wd(T,F){return T.slice(F,7).concat(T.slice(0,F))}Ht("d",0,"do","day"),Ht("dd",0,0,function(T){return this.localeData().weekdaysMin(this,T)}),Ht("ddd",0,0,function(T){return this.localeData().weekdaysShort(this,T)}),Ht("dddd",0,0,function(T){return this.localeData().weekdays(this,T)}),Ht("e",0,0,"weekday"),Ht("E",0,0,"isoWeekday"),St("day","d"),St("weekday","e"),St("isoWeekday","E"),Ze("day",11),Ze("weekday",11),Ze("isoWeekday",11),nr("d",Xi),nr("e",Xi),nr("E",Xi),nr("dd",function(T,F){return F.weekdaysMinRegex(T)}),nr("ddd",function(T,F){return F.weekdaysShortRegex(T)}),nr("dddd",function(T,F){return F.weekdaysRegex(T)}),Yo(["dd","ddd","dddd"],function(T,F,q,ue){var ve=q._locale.weekdaysParse(T,ue,q._strict);null!=ve?F.d=ve:de(q).invalidWeekday=T}),Yo(["d","e","E"],function(T,F,q,ue){F[ue]=qt(T)});var Sp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yg="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xl="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xp=Ac,Cp=Ac,yh=Ac;function Lc(T,F,q){var ue,ve,ft,Qt=T.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],ue=0;ue<7;++ue)ft=he([2e3,1]).day(ue),this._minWeekdaysParse[ue]=this.weekdaysMin(ft,"").toLocaleLowerCase(),this._shortWeekdaysParse[ue]=this.weekdaysShort(ft,"").toLocaleLowerCase(),this._weekdaysParse[ue]=this.weekdays(ft,"").toLocaleLowerCase();return q?"dddd"===F?-1!==(ve=Do.call(this._weekdaysParse,Qt))?ve:null:"ddd"===F?-1!==(ve=Do.call(this._shortWeekdaysParse,Qt))?ve:null:-1!==(ve=Do.call(this._minWeekdaysParse,Qt))?ve:null:"dddd"===F?-1!==(ve=Do.call(this._weekdaysParse,Qt))||-1!==(ve=Do.call(this._shortWeekdaysParse,Qt))||-1!==(ve=Do.call(this._minWeekdaysParse,Qt))?ve:null:"ddd"===F?-1!==(ve=Do.call(this._shortWeekdaysParse,Qt))||-1!==(ve=Do.call(this._weekdaysParse,Qt))||-1!==(ve=Do.call(this._minWeekdaysParse,Qt))?ve:null:-1!==(ve=Do.call(this._minWeekdaysParse,Qt))||-1!==(ve=Do.call(this._weekdaysParse,Qt))||-1!==(ve=Do.call(this._shortWeekdaysParse,Qt))?ve:null}function er(){function T(Ys,$c){return $c.length-Ys.length}var ft,Qt,Yr,Pi,zo,F=[],q=[],ue=[],ve=[];for(ft=0;ft<7;ft++)Qt=he([2e3,1]).day(ft),Yr=$o(this.weekdaysMin(Qt,"")),Pi=$o(this.weekdaysShort(Qt,"")),zo=$o(this.weekdays(Qt,"")),F.push(Yr),q.push(Pi),ue.push(zo),ve.push(Yr),ve.push(Pi),ve.push(zo);F.sort(T),q.sort(T),ue.sort(T),ve.sort(T),this._weekdaysRegex=new RegExp("^("+ve.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+ue.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+q.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+F.join("|")+")","i")}function zi(){return this.hours()%12||12}function bs(T,F){Ht(T,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),F)})}function ps(T,F){return F._meridiemParse}Ht("H",["HH",2],0,"hour"),Ht("h",["hh",2],0,zi),Ht("k",["kk",2],0,function _s(){return this.hours()||24}),Ht("hmm",0,0,function(){return""+zi.apply(this)+ht(this.minutes(),2)}),Ht("hmmss",0,0,function(){return""+zi.apply(this)+ht(this.minutes(),2)+ht(this.seconds(),2)}),Ht("Hmm",0,0,function(){return""+this.hours()+ht(this.minutes(),2)}),Ht("Hmmss",0,0,function(){return""+this.hours()+ht(this.minutes(),2)+ht(this.seconds(),2)}),bs("a",!0),bs("A",!1),St("hour","h"),Ze("hour",13),nr("a",ps),nr("A",ps),nr("H",Xi),nr("h",Xi),nr("k",Xi),nr("HH",Xi,hi),nr("hh",Xi,hi),nr("kk",Xi,hi),nr("hmm",aa),nr("hmmss",la),nr("Hmm",aa),nr("Hmmss",la),bo(["H","HH"],3),bo(["k","kk"],function(T,F,q){var ue=qt(T);F[3]=24===ue?0:ue}),bo(["a","A"],function(T,F,q){q._isPm=q._locale.isPM(T),q._meridiem=T}),bo(["h","hh"],function(T,F,q){F[3]=qt(T),de(q).bigHour=!0}),bo("hmm",function(T,F,q){var ue=T.length-2;F[3]=qt(T.substr(0,ue)),F[4]=qt(T.substr(ue)),de(q).bigHour=!0}),bo("hmmss",function(T,F,q){var ue=T.length-4,ve=T.length-2;F[3]=qt(T.substr(0,ue)),F[4]=qt(T.substr(ue,2)),F[5]=qt(T.substr(ve)),de(q).bigHour=!0}),bo("Hmm",function(T,F,q){var ue=T.length-2;F[3]=qt(T.substr(0,ue)),F[4]=qt(T.substr(ue))}),bo("Hmmss",function(T,F,q){var ue=T.length-4,ve=T.length-2;F[3]=qt(T.substr(0,ue)),F[4]=qt(T.substr(ue,2)),F[5]=qt(T.substr(ve))});var Sd=dn("Hours",!0);var Xa,Bs={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ph,monthsShort:gu,week:{dow:0,doy:6},weekdays:Sp,weekdaysMin:Xl,weekdaysShort:yg,meridiemParse:/[ap]\.?m?\.?/i},Jo={},_g={};function yu(T,F){var q,ue=Math.min(T.length,F.length);for(q=0;q<ue;q+=1)if(T[q]!==F[q])return q;return ue}function Gx(T){return T&&T.toLowerCase().replace("_","-")}function Oo(T){var F=null;if(void 0===Jo[T]&&ee&&ee.exports&&function _u(T){return null!=T.match("^[^/\\\\]*$")}(T))try{F=Xa._abbr,b(6700)("./"+T),bh(F)}catch(ue){Jo[T]=null}return Jo[T]}function bh(T,F){var q;return T&&((q=W(F)?Ui(T):Vw(T,F))?Xa=q:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+T+" not found. Did you forget to load it?")),Xa._abbr}function Vw(T,F){if(null!==F){var q,ue=Bs;if(F.abbr=T,null!=Jo[T])Pt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),ue=Jo[T]._config;else if(null!=F.parentLocale)if(null!=Jo[F.parentLocale])ue=Jo[F.parentLocale]._config;else{if(null==(q=Oo(F.parentLocale)))return _g[F.parentLocale]||(_g[F.parentLocale]=[]),_g[F.parentLocale].push({name:T,config:F}),null;ue=q._config}return Jo[T]=new Zt(Kt(ue,F)),_g[T]&&_g[T].forEach(function(ve){Vw(ve.name,ve.config)}),bh(T),Jo[T]}return delete Jo[T],null}function Ui(T){var F;if(T&&T._locale&&T._locale._abbr&&(T=T._locale._abbr),!T)return Xa;if(!R(T)){if(F=Oo(T))return F;T=[T]}return function _R(T){for(var q,ue,ve,ft,F=0;F<T.length;){for(q=(ft=Gx(T[F]).split("-")).length,ue=(ue=Gx(T[F+1]))?ue.split("-"):null;q>0;){if(ve=Oo(ft.slice(0,q).join("-")))return ve;if(ue&&ue.length>=q&&yu(ft,ue)>=q-1)break;q--}F++}return Xa}(T)}function Rp(T){var F,q=T._a;return q&&-2===de(T).overflow&&(F=q[1]<0||q[1]>11?1:q[2]<1||q[2]>Qu(q[0],q[1])?2:q[3]<0||q[3]>24||24===q[3]&&(0!==q[4]||0!==q[5]||0!==q[6])?3:q[4]<0||q[4]>59?4:q[5]<0||q[5]>59?5:q[6]<0||q[6]>999?6:-1,de(T)._overflowDayOfYear&&(F<0||F>2)&&(F=2),de(T)._overflowWeeks&&-1===F&&(F=7),de(T)._overflowWeekday&&-1===F&&(F=8),de(T).overflow=F),T}var Py=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zw=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nc=/Z|[+-]\d\d(?::?\d\d)?/,Kl=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Pc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Si=/^\/?Date\((-?\d+)/i,$x=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Uw={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Iy(T){var F,q,ft,Qt,Yr,Pi,ue=T._i,ve=Py.exec(ue)||zw.exec(ue),zo=Kl.length,Ys=Pc.length;if(ve){for(de(T).iso=!0,F=0,q=zo;F<q;F++)if(Kl[F][1].exec(ve[1])){Qt=Kl[F][0],ft=!1!==Kl[F][2];break}if(null==Qt)return void(T._isValid=!1);if(ve[3]){for(F=0,q=Ys;F<q;F++)if(Pc[F][1].exec(ve[3])){Yr=(ve[2]||" ")+Pc[F][0];break}if(null==Yr)return void(T._isValid=!1)}if(!ft&&null!=Yr)return void(T._isValid=!1);if(ve[4]){if(!nc.exec(ve[4]))return void(T._isValid=!1);Pi="Z"}T._f=Qt+(Yr||"")+(Pi||""),Zl(T)}else T._isValid=!1}function Xx(T){var F=parseInt(T,10);return F<=49?2e3+F:F<=999?1900+F:F}function ji(T){var q,F=$x.exec(function jw(T){return T.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(T._i));if(F){if(q=function fi(T,F,q,ue,ve,ft){var Qt=[Xx(T),gu.indexOf(F),parseInt(q,10),parseInt(ue,10),parseInt(ve,10)];return ft&&Qt.push(parseInt(ft,10)),Qt}(F[4],F[3],F[2],F[5],F[6],F[7]),!function Ln(T,F,q){return!T||yg.indexOf(T)===new Date(F[0],F[1],F[2]).getDay()||(de(q).weekdayMismatch=!0,q._isValid=!1,!1)}(F[1],q,T))return;T._a=q,T._tzm=function Ra(T,F,q){if(T)return Uw[T];if(F)return 0;var ue=parseInt(q,10),ve=ue%100;return(ue-ve)/100*60+ve}(F[8],F[9],F[10]),T._d=fl.apply(null,T._a),T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),de(T).rfc2822=!0}else T._isValid=!1}function ms(T,F,q){return null!=T?T:null!=F?F:q}function _n(T){var F,q,ve,ft,Qt,ue=[];if(!T._d){for(ve=function Dr(T){var F=new Date(M.now());return T._useUTC?[F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate()]:[F.getFullYear(),F.getMonth(),F.getDate()]}(T),T._w&&null==T._a[2]&&null==T._a[1]&&function Ds(T){var F,q,ue,ve,ft,Qt,Yr,Pi,zo;null!=(F=T._w).GG||null!=F.W||null!=F.E?(ft=1,Qt=4,q=ms(F.GG,T._a[0],bd(Sr(),1,4).year),ue=ms(F.W,1),((ve=ms(F.E,1))<1||ve>7)&&(Pi=!0)):(ft=T._locale._week.dow,Qt=T._locale._week.doy,zo=bd(Sr(),ft,Qt),q=ms(F.gg,T._a[0],zo.year),ue=ms(F.w,zo.week),null!=F.d?((ve=F.d)<0||ve>6)&&(Pi=!0):null!=F.e?(ve=F.e+ft,(F.e<0||F.e>6)&&(Pi=!0)):ve=ft),ue<1||ue>vu(q,ft,Qt)?de(T)._overflowWeeks=!0:null!=Pi?de(T)._overflowWeekday=!0:(Yr=Ni(q,ue,ve,ft,Qt),T._a[0]=Yr.year,T._dayOfYear=Yr.dayOfYear)}(T),null!=T._dayOfYear&&(Qt=ms(T._a[0],ve[0]),(T._dayOfYear>Ur(Qt)||0===T._dayOfYear)&&(de(T)._overflowDayOfYear=!0),q=fl(Qt,0,T._dayOfYear),T._a[1]=q.getUTCMonth(),T._a[2]=q.getUTCDate()),F=0;F<3&&null==T._a[F];++F)T._a[F]=ue[F]=ve[F];for(;F<7;F++)T._a[F]=ue[F]=null==T._a[F]?2===F?1:0:T._a[F];24===T._a[3]&&0===T._a[4]&&0===T._a[5]&&0===T._a[6]&&(T._nextDay=!0,T._a[3]=0),T._d=(T._useUTC?fl:on).apply(null,ue),ft=T._useUTC?T._d.getUTCDay():T._d.getDay(),null!=T._tzm&&T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),T._nextDay&&(T._a[3]=24),T._w&&void 0!==T._w.d&&T._w.d!==ft&&(de(T).weekdayMismatch=!0)}}function Zl(T){if(T._f!==M.ISO_8601)if(T._f!==M.RFC_2822){T._a=[],de(T).empty=!0;var q,ue,ve,ft,Qt,zo,Ys,F=""+T._i,Yr=F.length,Pi=0;for(Ys=(ve=Hn(T._f,T._locale).match(Rt)||[]).length,q=0;q<Ys;q++)(ue=(F.match(dh(ft=ve[q],T))||[])[0])&&((Qt=F.substr(0,F.indexOf(ue))).length>0&&de(T).unusedInput.push(Qt),F=F.slice(F.indexOf(ue)+ue.length),Pi+=ue.length),Sn[ft]?(ue?de(T).empty=!1:de(T).unusedTokens.push(ft),Ro(ft,ue,T)):T._strict&&!ue&&de(T).unusedTokens.push(ft);de(T).charsLeftOver=Yr-Pi,F.length>0&&de(T).unusedInput.push(F),T._a[3]<=12&&!0===de(T).bigHour&&T._a[3]>0&&(de(T).bigHour=void 0),de(T).parsedDateParts=T._a.slice(0),de(T).meridiem=T._meridiem,T._a[3]=function rc(T,F,q){var ue;return null==q?F:null!=T.meridiemHour?T.meridiemHour(F,q):(null!=T.isPM&&((ue=T.isPM(q))&&F<12&&(F+=12),!ue&&12===F&&(F=0)),F)}(T._locale,T._a[3],T._meridiem),null!==(zo=de(T).era)&&(T._a[0]=T._locale.erasConvertYear(zo,T._a[0])),_n(T),Rp(T)}else ji(T);else Iy(T)}function Ti(T){var F=T._i,q=T._f;return T._locale=T._locale||Ui(T._l),null===F||void 0===q&&""===F?Re({nullInput:!0}):("string"==typeof F&&(T._i=F=T._locale.preparse(F)),Ke(F)?new Oe(Rp(F)):(ne(F)?T._d=F:R(q)?function wh(T){var F,q,ue,ve,ft,Qt,Yr=!1,Pi=T._f.length;if(0===Pi)return de(T).invalidFormat=!0,void(T._d=new Date(NaN));for(ve=0;ve<Pi;ve++)ft=0,Qt=!1,F=We({},T),null!=T._useUTC&&(F._useUTC=T._useUTC),F._f=T._f[ve],Zl(F),Ie(F)&&(Qt=!0),ft+=de(F).charsLeftOver,ft+=10*de(F).unusedTokens.length,de(F).score=ft,Yr?ft<ue&&(ue=ft,q=F):(null==ue||ft<ue||Qt)&&(ue=ft,q=F,Qt&&(Yr=!0));le(T,q||F)}(T):q?Zl(T):function Qn(T){var F=T._i;W(F)?T._d=new Date(M.now()):ne(F)?T._d=new Date(F.valueOf()):"string"==typeof F?function ko(T){var F=Si.exec(T._i);null===F?(Iy(T),!1===T._isValid&&(delete T._isValid,ji(T),!1===T._isValid&&(delete T._isValid,T._strict?T._isValid=!1:M.createFromInputFallback(T)))):T._d=new Date(+F[1])}(T):R(F)?(T._a=ae(F.slice(0),function(q){return parseInt(q,10)}),_n(T)):A(F)?function uo(T){if(!T._d){var F=qe(T._i);T._a=ae([F.year,F.month,void 0===F.day?F.date:F.day,F.hour,F.minute,F.second,F.millisecond],function(ue){return ue&&parseInt(ue,10)}),_n(T)}}(T):G(F)?T._d=new Date(F):M.createFromInputFallback(T)}(T),Ie(T)||(T._d=null),T))}function yi(T,F,q,ue,ve){var ft={};return(!0===F||!1===F)&&(ue=F,F=void 0),(!0===q||!1===q)&&(ue=q,q=void 0),(A(T)&&N(T)||R(T)&&0===T.length)&&(T=void 0),ft._isAMomentObject=!0,ft._useUTC=ft._isUTC=ve,ft._l=q,ft._i=T,ft._f=F,ft._strict=ue,function Ny(T){var F=new Oe(Rp(Ti(T)));return F._nextDay&&(F.add(1,"d"),F._nextDay=void 0),F}(ft)}function Sr(T,F,q,ue){return yi(T,F,q,ue,!1)}M.createFromInputFallback=rt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(T){T._d=new Date(T._i+(T._useUTC?" UTC":""))}),M.ISO_8601=function(){},M.RFC_2822=function(){};var Ee=rt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=Sr.apply(null,arguments);return this.isValid()&&T.isValid()?T<this?this:T:Re()}),Ic=rt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=Sr.apply(null,arguments);return this.isValid()&&T.isValid()?T>this?this:T:Re()});function Vs(T,F){var q,ue;if(1===F.length&&R(F[0])&&(F=F[0]),!F.length)return Sr();for(q=F[0],ue=1;ue<F.length;++ue)(!F[ue].isValid()||F[ue][T](q))&&(q=F[ue]);return q}var ql=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pl(T){var F=qe(T),q=F.year||0,ue=F.quarter||0,ve=F.month||0,ft=F.week||F.isoWeek||0,Qt=F.day||0,Yr=F.hour||0,Pi=F.minute||0,zo=F.second||0,Ys=F.millisecond||0;this._isValid=function pi(T){var F,ue,q=!1,ve=ql.length;for(F in T)if(I(T,F)&&(-1===Do.call(ql,F)||null!=T[F]&&isNaN(T[F])))return!1;for(ue=0;ue<ve;++ue)if(T[ql[ue]]){if(q)return!1;parseFloat(T[ql[ue]])!==qt(T[ql[ue]])&&(q=!0)}return!0}(F),this._milliseconds=+Ys+1e3*zo+6e4*Pi+1e3*Yr*60*60,this._days=+Qt+7*ft,this._months=+ve+3*ue+12*q,this._data={},this._locale=Ui(),this._bubble()}function ma(T){return T instanceof Pl}function ls(T){return T<0?-1*Math.round(-1*T):Math.round(T)}function ic(T,F){Ht(T,0,0,function(){var q=this.utcOffset(),ue="+";return q<0&&(q=-q,ue="-"),ue+ht(~~(q/60),2)+F+ht(~~q%60,2)})}ic("Z",":"),ic("ZZ",""),nr("Z",fs),nr("ZZ",fs),bo(["Z","ZZ"],function(T,F,q){q._useUTC=!0,q._tzm=ml(fs,T)});var pl=/([\+\-]|\d\d)/gi;function ml(T,F){var ve,ft,q=(F||"").match(T);return null===q?null:0===(ft=60*(ve=((q[q.length-1]||[])+"").match(pl)||["-",0,0])[1]+qt(ve[2]))?0:"+"===ve[0]?ft:-ft}function yf(T,F){var q,ue;return F._isUTC?(q=F.clone(),ue=(Ke(T)||ne(T)?T.valueOf():Sr(T).valueOf())-q.valueOf(),q._d.setTime(q._d.valueOf()+ue),M.updateOffset(q,!1),q):Sr(T).local()}function Go(T){return-Math.round(T._d.getTimezoneOffset())}function Sh(){return!!this.isValid()&&this._isUTC&&0===this._offset}M.updateOffset=function(){};var wu=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,bR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function sc(T,F){var ve,ft,Qt,q=T,ue=null;return ma(T)?q={ms:T._milliseconds,d:T._days,M:T._months}:G(T)||!isNaN(+T)?(q={},F?q[F]=+T:q.milliseconds=+T):(ue=wu.exec(T))?(ve="-"===ue[1]?-1:1,q={y:0,d:qt(ue[2])*ve,h:qt(ue[3])*ve,m:qt(ue[4])*ve,s:qt(ue[5])*ve,ms:qt(ls(1e3*ue[6]))*ve}):(ue=bR.exec(T))?q={y:Nl(ue[2],ve="-"===ue[1]?-1:1),M:Nl(ue[3],ve),w:Nl(ue[4],ve),d:Nl(ue[5],ve),h:Nl(ue[6],ve),m:Nl(ue[7],ve),s:Nl(ue[8],ve)}:null==q?q={}:"object"==typeof q&&("from"in q||"to"in q)&&(Qt=function Jl(T,F){var q;return T.isValid()&&F.isValid()?(F=yf(F,T),T.isBefore(F)?q=wg(T,F):((q=wg(F,T)).milliseconds=-q.milliseconds,q.months=-q.months),q):{milliseconds:0,months:0}}(Sr(q.from),Sr(q.to)),(q={}).ms=Qt.milliseconds,q.M=Qt.months),ft=new Pl(q),ma(T)&&I(T,"_locale")&&(ft._locale=T._locale),ma(T)&&I(T,"_isValid")&&(ft._isValid=T._isValid),ft}function Nl(T,F){var q=T&&parseFloat(T.replace(",","."));return(isNaN(q)?0:q)*F}function wg(T,F){var q={};return q.months=F.month()-T.month()+12*(F.year()-T.year()),T.clone().add(q.months,"M").isAfter(F)&&--q.months,q.milliseconds=+F-+T.clone().add(q.months,"M"),q}function Ww(T,F){return function(q,ue){var ft;return null!==ue&&!isNaN(+ue)&&(Pt(F,"moment()."+F+"(period, number) is deprecated. Please use moment()."+F+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ft=q,q=ue,ue=ft),Yw(this,sc(q,ue),T),this}}function Yw(T,F,q,ue){var ve=F._milliseconds,ft=ls(F._days),Qt=ls(F._months);!T.isValid()||(ue=null==ue||ue,Qt&&eo(T,xn(T,"Month")+Qt*q),ft&&Un(T,"Date",xn(T,"Date")+ft*q),ve&&T._d.setTime(T._d.valueOf()+ve*q),ue&&M.updateOffset(T,ft||Qt))}sc.fn=Pl.prototype,sc.invalid=function bu(){return sc(NaN)};var bf=Ww(1,"add"),Gw=Ww(-1,"subtract");function Kx(T){return"string"==typeof T||T instanceof String}function Zx(T){return Ke(T)||ne(T)||Kx(T)||G(T)||function Ed(T){var F=R(T),q=!1;return F&&(q=0===T.filter(function(ue){return!G(ue)&&Kx(T)}).length),F&&q}(T)||function Dp(T){var ve,F=A(T)&&!N(T),q=!1,ue=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Qt=ue.length;for(ve=0;ve<Qt;ve+=1)q=q||I(T,ue[ve]);return F&&q}(T)||null==T}function Fy(T){var ve,F=A(T)&&!N(T),q=!1,ue=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(ve=0;ve<ue.length;ve+=1)q=q||I(T,ue[ve]);return F&&q}function Mg(T,F){if(T.date()<F.date())return-Mg(F,T);var q=12*(F.year()-T.year())+(F.month()-T.month()),ue=T.clone().add(q,"months");return-(q+(F-ue<0?(F-ue)/(ue-T.clone().add(q-1,"months")):(F-ue)/(T.clone().add(q+1,"months")-ue)))||0}function Ap(T){var F;return void 0===T?this._locale._abbr:(null!=(F=Ui(T))&&(this._locale=F),this)}M.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",M.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Sg=rt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(T){return void 0===T?this.localeData():this.locale(T)});function zy(){return this._locale}var Qo=6e4,Uy=60*Qo,Bo=3506328*Uy;function ua(T,F){return(T%F+F)%F}function eu(T,F,q){return T<100&&T>=0?new Date(T+400,F,q)-Bo:new Date(T,F,q).valueOf()}function xh(T,F,q){return T<100&&T>=0?Date.UTC(T+400,F,q)-Bo:Date.UTC(T,F,q)}function Fl(T,F){return F.erasAbbrRegex(T)}function zc(){var ve,ft,T=[],F=[],q=[],ue=[],Qt=this.eras();for(ve=0,ft=Qt.length;ve<ft;++ve)F.push($o(Qt[ve].name)),T.push($o(Qt[ve].abbr)),q.push($o(Qt[ve].narrow)),ue.push($o(Qt[ve].name)),ue.push($o(Qt[ve].abbr)),ue.push($o(Qt[ve].narrow));this._erasRegex=new RegExp("^("+ue.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+F.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+T.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+q.join("|")+")","i")}function Ws(T,F){Ht(0,[T,T.length],0,F)}function vl(T,F,q,ue,ve){var ft;return null==T?bd(this,ue,ve).year:(F>(ft=vu(T,ue,ve))&&(F=ft),xu.call(this,T,F,q,ue,ve))}function xu(T,F,q,ue,ve){var ft=Ni(T,F,q,ue,ve),Qt=fl(ft.year,0,ft.dayOfYear);return this.year(Qt.getUTCFullYear()),this.month(Qt.getUTCMonth()),this.date(Qt.getUTCDate()),this}Ht("N",0,0,"eraAbbr"),Ht("NN",0,0,"eraAbbr"),Ht("NNN",0,0,"eraAbbr"),Ht("NNNN",0,0,"eraName"),Ht("NNNNN",0,0,"eraNarrow"),Ht("y",["y",1],"yo","eraYear"),Ht("y",["yy",2],0,"eraYear"),Ht("y",["yyy",3],0,"eraYear"),Ht("y",["yyyy",4],0,"eraYear"),nr("N",Fl),nr("NN",Fl),nr("NNN",Fl),nr("NNNN",function Eh(T,F){return F.erasNameRegex(T)}),nr("NNNNN",function qa(T,F){return F.erasNarrowRegex(T)}),bo(["N","NN","NNN","NNNN","NNNNN"],function(T,F,q,ue){var ve=q._locale.erasParse(T,ue,q._strict);ve?de(q).era=ve:de(q).invalidEra=T}),nr("y",Wl),nr("yy",Wl),nr("yyy",Wl),nr("yyyy",Wl),nr("yo",function Ja(T,F){return F._eraYearOrdinalRegex||Wl}),bo(["y","yy","yyy","yyyy"],0),bo(["yo"],function(T,F,q,ue){var ve;q._locale._eraYearOrdinalRegex&&(ve=T.match(q._locale._eraYearOrdinalRegex)),F[0]=q._locale.eraYearOrdinalParse?q._locale.eraYearOrdinalParse(T,ve):parseInt(T,10)}),Ht(0,["gg",2],0,function(){return this.weekYear()%100}),Ht(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ws("gggg","weekYear"),Ws("ggggg","weekYear"),Ws("GGGG","isoWeekYear"),Ws("GGGGG","isoWeekYear"),St("weekYear","gg"),St("isoWeekYear","GG"),Ze("weekYear",1),Ze("isoWeekYear",1),nr("G",pu),nr("g",pu),nr("GG",Xi,hi),nr("gg",Xi,hi),nr("GGGG",hs,fu),nr("gggg",hs,fu),nr("GGGGG",Ki,jl),nr("ggggg",Ki,jl),Yo(["gggg","ggggg","GGGG","GGGGG"],function(T,F,q,ue){F[ue.substr(0,2)]=qt(T)}),Yo(["gg","GG"],function(T,F,q,ue){F[ue]=M.parseTwoDigitYear(T)}),Ht("Q",0,"Qo","quarter"),St("quarter","Q"),Ze("quarter",7),nr("Q",li),bo("Q",function(T,F){F[1]=3*(qt(T)-1)}),Ht("D",["DD",2],"Do","date"),St("date","D"),Ze("date",9),nr("D",Xi),nr("DD",Xi,hi),nr("Do",function(T,F){return T?F._dayOfMonthOrdinalParse||F._ordinalParse:F._dayOfMonthOrdinalParseLenient}),bo(["D","DD"],2),bo("Do",function(T,F){F[2]=qt(T.match(Xi)[0])});var Ip=dn("Date",!0);Ht("DDD",["DDDD",3],"DDDo","dayOfYear"),St("dayOfYear","DDD"),Ze("dayOfYear",4),nr("DDD",To),nr("DDDD",Li),bo(["DDD","DDDD"],function(T,F,q){q._dayOfYear=qt(T)}),Ht("m",["mm",2],0,"minute"),St("minute","m"),Ze("minute",14),nr("m",Xi),nr("mm",Xi,hi),bo(["m","mm"],4);var Tg=dn("Minutes",!1);Ht("s",["ss",2],0,"second"),St("second","s"),Ze("second",15),nr("s",Xi),nr("ss",Xi,hi),bo(["s","ss"],5);var Hl,Cf,xf=dn("Seconds",!1);for(Ht("S",0,0,function(){return~~(this.millisecond()/100)}),Ht(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ht(0,["SSS",3],0,"millisecond"),Ht(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Ht(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Ht(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Ht(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Ht(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Ht(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),St("millisecond","ms"),Ze("millisecond",16),nr("S",To,li),nr("SS",To,hi),nr("SSS",To,Li),Hl="SSSS";Hl.length<=9;Hl+="S")nr(Hl,Wl);function Ef(T,F){F[6]=qt(1e3*("0."+T))}for(Hl="S";Hl.length<=9;Hl+="S")bo(Hl,Ef);Cf=dn("Milliseconds",!1),Ht("z",0,0,"zoneAbbr"),Ht("zz",0,0,"zoneName");var un=Oe.prototype;function Wc(T){return T}un.add=bf,un.calendar=function Hy(T,F){1===arguments.length&&(arguments[0]?Zx(arguments[0])?(T=arguments[0],F=void 0):Fy(arguments[0])&&(F=arguments[0],T=void 0):(T=void 0,F=void 0));var q=T||Sr(),ue=yf(q,this).startOf("day"),ve=M.calendarFormat(this,ue)||"sameElse",ft=F&&(Ft(F[ve])?F[ve].call(this,q):F[ve]);return this.format(ft||this.localeData().calendar(ve,this,Sr(q)))},un.clone=function wR(){return new Oe(this)},un.diff=function By(T,F,q){var ue,ve,ft;if(!this.isValid())return NaN;if(!(ue=yf(T,this)).isValid())return NaN;switch(ve=6e4*(ue.utcOffset()-this.utcOffset()),F=ct(F)){case"year":ft=Mg(this,ue)/12;break;case"month":ft=Mg(this,ue);break;case"quarter":ft=Mg(this,ue)/3;break;case"second":ft=(this-ue)/1e3;break;case"minute":ft=(this-ue)/6e4;break;case"hour":ft=(this-ue)/36e5;break;case"day":ft=(this-ue-ve)/864e5;break;case"week":ft=(this-ue-ve)/6048e5;break;default:ft=this-ue}return q?ft:Ct(ft)},un.endOf=function Ka(T){var F,q;if(void 0===(T=ct(T))||"millisecond"===T||!this.isValid())return this;switch(q=this._isUTC?xh:eu,T){case"year":F=q(this.year()+1,0,1)-1;break;case"quarter":F=q(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":F=q(this.year(),this.month()+1,1)-1;break;case"week":F=q(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":F=q(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":F=q(this.year(),this.month(),this.date()+1)-1;break;case"hour":F=this._d.valueOf(),F+=Uy-ua(F+(this._isUTC?0:this.utcOffset()*Qo),Uy)-1;break;case"minute":F=this._d.valueOf(),F+=Qo-ua(F,Qo)-1;break;case"second":F=this._d.valueOf(),F+=1e3-ua(F,1e3)-1}return this._d.setTime(F),M.updateOffset(this,!0),this},un.format=function Su(T){T||(T=this.isUtc()?M.defaultFormatUtc:M.defaultFormat);var F=Yn(this,T);return this.localeData().postformat(F)},un.from=function Vy(T,F){return this.isValid()&&(Ke(T)&&T.isValid()||Sr(T).isValid())?sc({to:this,from:T}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()},un.fromNow=function js(T){return this.from(Sr(),T)},un.to=function Rd(T,F){return this.isValid()&&(Ke(T)&&T.isValid()||Sr(T).isValid())?sc({from:this,to:T}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()},un.toNow=function Mf(T){return this.to(Sr(),T)},un.get=function br(T){return Ft(this[T=ct(T)])?this[T]():this},un.invalidAt=function Cg(){return de(this).overflow},un.isAfter=function qx(T,F){var q=Ke(T)?T:Sr(T);return!(!this.isValid()||!q.isValid())&&("millisecond"===(F=ct(F)||"millisecond")?this.valueOf()>q.valueOf():q.valueOf()<this.clone().startOf(F).valueOf())},un.isBefore=function Jx(T,F){var q=Ke(T)?T:Sr(T);return!(!this.isValid()||!q.isValid())&&("millisecond"===(F=ct(F)||"millisecond")?this.valueOf()<q.valueOf():this.clone().endOf(F).valueOf()<q.valueOf())},un.isBetween=function Td(T,F,q,ue){var ve=Ke(T)?T:Sr(T),ft=Ke(F)?F:Sr(F);return!!(this.isValid()&&ve.isValid()&&ft.isValid())&&("("===(ue=ue||"()")[0]?this.isAfter(ve,q):!this.isBefore(ve,q))&&(")"===ue[1]?this.isBefore(ft,q):!this.isAfter(ft,q))},un.isSame=function Qx(T,F){var ue,q=Ke(T)?T:Sr(T);return!(!this.isValid()||!q.isValid())&&("millisecond"===(F=ct(F)||"millisecond")?this.valueOf()===q.valueOf():(ue=q.valueOf(),this.clone().startOf(F).valueOf()<=ue&&ue<=this.clone().endOf(F).valueOf()))},un.isSameOrAfter=function Us(T,F){return this.isSame(T,F)||this.isAfter(T,F)},un.isSameOrBefore=function Xr(T,F){return this.isSame(T,F)||this.isBefore(T,F)},un.isValid=function ii(){return Ie(this)},un.lang=Sg,un.locale=Ap,un.localeData=zy,un.max=Ic,un.min=Ee,un.parsingFlags=function Sf(){return le({},de(this))},un.set=function si(T,F){if("object"==typeof T){var ue,q=function _t(T){var q,F=[];for(q in T)I(T,q)&&F.push({unit:q,priority:Xe[q]});return F.sort(function(ue,ve){return ue.priority-ve.priority}),F}(T=qe(T)),ve=q.length;for(ue=0;ue<ve;ue++)this[q[ue].unit](T[q[ue].unit])}else if(Ft(this[T=ct(T)]))return this[T](F);return this},un.startOf=function Dd(T){var F,q;if(void 0===(T=ct(T))||"millisecond"===T||!this.isValid())return this;switch(q=this._isUTC?xh:eu,T){case"year":F=q(this.year(),0,1);break;case"quarter":F=q(this.year(),this.month()-this.month()%3,1);break;case"month":F=q(this.year(),this.month(),1);break;case"week":F=q(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":F=q(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":F=q(this.year(),this.month(),this.date());break;case"hour":F=this._d.valueOf(),F-=ua(F+(this._isUTC?0:this.utcOffset()*Qo),Uy);break;case"minute":F=this._d.valueOf(),F-=ua(F,Qo);break;case"second":F=this._d.valueOf(),F-=ua(F,1e3)}return this._d.setTime(F),M.updateOffset(this,!0),this},un.subtract=Gw,un.toArray=function po(){var T=this;return[T.year(),T.month(),T.date(),T.hour(),T.minute(),T.second(),T.millisecond()]},un.toObject=function Op(){var T=this;return{years:T.year(),months:T.month(),date:T.date(),hours:T.hours(),minutes:T.minutes(),seconds:T.seconds(),milliseconds:T.milliseconds()}},un.toDate=function Vc(){return new Date(this.valueOf())},un.toISOString=function Ql(T){if(!this.isValid())return null;var F=!0!==T,q=F?this.clone().utc():this;return q.year()<0||q.year()>9999?Yn(q,F?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ft(Date.prototype.toISOString)?F?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Yn(q,"Z")):Yn(q,F?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},un.inspect=function Mu(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var q,ue,T="moment",F="";return this.isLocal()||(T=0===this.utcOffset()?"moment.utc":"moment.parseZone",F="Z"),q="["+T+'("]',ue=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(q+ue+"-MM-DD[T]HH:mm:ss.SSS"+F+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(un[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),un.toJSON=function Kr(){return this.isValid()?this.toISOString():null},un.toString=function $w(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},un.unix=function dr(){return Math.floor(this.valueOf()/1e3)},un.valueOf=function xg(){return this._d.valueOf()-6e4*(this._offset||0)},un.creationData=function kp(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},un.eraName=function Pp(){var T,F,q,ue=this.localeData().eras();for(T=0,F=ue.length;T<F;++T)if(q=this.clone().startOf("day").valueOf(),ue[T].since<=q&&q<=ue[T].until||ue[T].until<=q&&q<=ue[T].since)return ue[T].name;return""},un.eraNarrow=function yr(){var T,F,q,ue=this.localeData().eras();for(T=0,F=ue.length;T<F;++T)if(q=this.clone().startOf("day").valueOf(),ue[T].since<=q&&q<=ue[T].until||ue[T].until<=q&&q<=ue[T].since)return ue[T].narrow;return""},un.eraAbbr=function pn(){var T,F,q,ue=this.localeData().eras();for(T=0,F=ue.length;T<F;++T)if(q=this.clone().startOf("day").valueOf(),ue[T].since<=q&&q<=ue[T].until||ue[T].until<=q&&q<=ue[T].since)return ue[T].abbr;return""},un.eraYear=function oo(){var T,F,q,ue,ve=this.localeData().eras();for(T=0,F=ve.length;T<F;++T)if(q=ve[T].since<=ve[T].until?1:-1,ue=this.clone().startOf("day").valueOf(),ve[T].since<=ue&&ue<=ve[T].until||ve[T].until<=ue&&ue<=ve[T].since)return(this.year()-M(ve[T].since).year())*q+ve[T].offset;return this.year()},un.year=kc,un.isLeapYear=function Mp(){return mt(this.year())},un.weekYear=function Br(T){return vl.call(this,T,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},un.isoWeekYear=function eC(T){return vl.call(this,T,this.isoWeek(),this.isoWeekday(),1,4)},un.quarter=un.quarters=function jy(T){return null==T?Math.ceil((this.month()+1)/3):this.month(3*(T-1)+this.month()%3)},un.month=Gl,un.daysInMonth=function Ao(){return Qu(this.year(),this.month())},un.week=un.weeks=function gf(T){var F=this.localeData().week(this);return null==T?F:this.add(7*(T-F),"d")},un.isoWeek=un.isoWeeks=function vg(T){var F=bd(this,1,4).week;return null==T?F:this.add(7*(T-F),"d")},un.weeksInYear=function Aa(){var T=this.localeData()._week;return vu(this.year(),T.dow,T.doy)},un.weeksInWeekYear=function jc(){var T=this.localeData()._week;return vu(this.weekYear(),T.dow,T.doy)},un.isoWeeksInYear=function Uc(){return vu(this.year(),1,4)},un.isoWeeksInISOWeekYear=function ga(){return vu(this.isoWeekYear(),1,4)},un.date=Ip,un.day=un.days=function fn(T){if(!this.isValid())return null!=T?this:NaN;var F=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=T?(T=function Ll(T,F){return"string"!=typeof T?T:isNaN(T)?"number"==typeof(T=F.weekdaysParse(T))?T:null:parseInt(T,10)}(T,this.localeData()),this.add(T-F,"d")):F},un.weekday=function Ep(T){if(!this.isValid())return null!=T?this:NaN;var F=(this.day()+7-this.localeData()._week.dow)%7;return null==T?F:this.add(T-F,"d")},un.isoWeekday=function ti(T){if(!this.isValid())return null!=T?this:NaN;if(null!=T){var F=function Ly(T,F){return"string"==typeof T?F.weekdaysParse(T)%7||7:isNaN(T)?null:T}(T,this.localeData());return this.day(this.day()%7?F:F-7)}return this.day()||7},un.dayOfYear=function Eg(T){var F=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==T?F:this.add(T-F,"d")},un.hour=un.hours=Sd,un.minute=un.minutes=Tg,un.second=un.seconds=xf,un.millisecond=un.milliseconds=Cf,un.utcOffset=function xd(T,F,q){var ve,ue=this._offset||0;if(!this.isValid())return null!=T?this:NaN;if(null!=T){if("string"==typeof T){if(null===(T=ml(fs,T)))return this}else Math.abs(T)<16&&!q&&(T*=60);return!this._isUTC&&F&&(ve=Go(this)),this._offset=T,this._isUTC=!0,null!=ve&&this.add(ve,"m"),ue!==T&&(!F||this._changeInProgress?Yw(this,sc(T-ue,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,M.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?ue:Go(this)},un.utc=function Da(T){return this.utcOffset(0,T)},un.local=function gl(T){return this._isUTC&&(this.utcOffset(0,T),this._isUTC=!1,T&&this.subtract(Go(this),"m")),this},un.parseZone=function oc(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var T=ml(Yl,this._i);null!=T?this.utcOffset(T):this.utcOffset(0,!0)}return this},un.hasAlignedHourOffset=function _f(T){return!!this.isValid()&&(T=T?Sr(T).utcOffset():0,(this.utcOffset()-T)%60==0)},un.isDST=function Mh(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},un.isLocal=function Cd(){return!!this.isValid()&&!this._isUTC},un.isUtcOffset=function Hr(){return!!this.isValid()&&this._isUTC},un.isUtc=Sh,un.isUTC=Sh,un.zoneAbbr=function Wy(){return this._isUTC?"UTC":""},un.zoneName=function Np(){return this._isUTC?"Coordinated Universal Time":""},un.dates=rt("dates accessor is deprecated. Use date instead.",Ip),un.months=rt("months accessor is deprecated. Use month instead",Gl),un.years=rt("years accessor is deprecated. Use year instead",kc),un.zone=rt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function Bc(T,F){return null!=T?("string"!=typeof T&&(T=-T),this.utcOffset(T,F),this):-this.utcOffset()}),un.isDSTShifted=rt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function Il(){if(!W(this._isDSTShifted))return this._isDSTShifted;var F,T={};return We(T,this),(T=Ti(T))._a?(F=T._isUTC?he(T._a):Sr(T._a),this._isDSTShifted=this.isValid()&&function Hc(T,F,q){var Qt,ue=Math.min(T.length,F.length),ve=Math.abs(T.length-F.length),ft=0;for(Qt=0;Qt<ue;Qt++)(q&&T[Qt]!==F[Qt]||!q&&qt(T[Qt])!==qt(F[Qt]))&&ft++;return ft+ve}(T._a,F.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Wi=Zt.prototype;function As(T,F,q,ue){var ve=Ui(),ft=he().set(ue,F);return ve[q](ft,T)}function Yy(T,F,q){if(G(T)&&(F=T,T=void 0),T=T||"",null!=F)return As(T,F,q,"month");var ue,ve=[];for(ue=0;ue<12;ue++)ve[ue]=As(T,ue,q,"month");return ve}function Gy(T,F,q,ue){"boolean"==typeof T?(G(F)&&(q=F,F=void 0),F=F||""):(q=F=T,T=!1,G(F)&&(q=F,F=void 0),F=F||"");var Qt,ve=Ui(),ft=T?ve._week.dow:0,Yr=[];if(null!=q)return As(F,(q+ft)%7,ue,"day");for(Qt=0;Qt<7;Qt++)Yr[Qt]=As(F,(Qt+ft)%7,ue,"day");return Yr}Wi.calendar=function ge(T,F,q){var ue=this._calendar[T]||this._calendar.sameElse;return Ft(ue)?ue.call(F,q):ue},Wi.longDateFormat=function Dn(T){var F=this._longDateFormat[T],q=this._longDateFormat[T.toUpperCase()];return F||!q?F:(this._longDateFormat[T]=q.match(Rt).map(function(ue){return"MMMM"===ue||"MM"===ue||"DD"===ue||"dddd"===ue?ue.slice(1):ue}).join(""),this._longDateFormat[T])},Wi.invalidDate=function Gr(){return this._invalidDate},Wi.ordinal=function di(T){return this._ordinal.replace("%d",T)},Wi.preparse=Wc,Wi.postformat=Wc,Wi.relativeTime=function _e(T,F,q,ue){var ve=this._relativeTime[q];return Ft(ve)?ve(T,F,q,ue):ve.replace(/%d/i,T)},Wi.pastFuture=function He(T,F){var q=this._relativeTime[T>0?"future":"past"];return Ft(q)?q(F):q.replace(/%s/i,F)},Wi.set=function Gt(T){var F,q;for(q in T)I(T,q)&&(Ft(F=T[q])?this[q]=F:this["_"+q]=F);this._config=T,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Wi.eras=function Ch(T,F){var q,ue,ve,ft=this._eras||Ui("en")._eras;for(q=0,ue=ft.length;q<ue;++q)switch("string"==typeof ft[q].since&&(ve=M(ft[q].since).startOf("day"),ft[q].since=ve.valueOf()),typeof ft[q].until){case"undefined":ft[q].until=1/0;break;case"string":ve=M(ft[q].until).startOf("day").valueOf(),ft[q].until=ve.valueOf()}return ft},Wi.erasParse=function Lp(T,F,q){var ue,ve,Qt,Yr,Pi,ft=this.eras();for(T=T.toUpperCase(),ue=0,ve=ft.length;ue<ve;++ue)if(Qt=ft[ue].name.toUpperCase(),Yr=ft[ue].abbr.toUpperCase(),Pi=ft[ue].narrow.toUpperCase(),q)switch(F){case"N":case"NN":case"NNN":if(Yr===T)return ft[ue];break;case"NNNN":if(Qt===T)return ft[ue];break;case"NNNNN":if(Pi===T)return ft[ue]}else if([Qt,Yr,Pi].indexOf(T)>=0)return ft[ue]},Wi.erasConvertYear=function Ad(T,F){var q=T.since<=T.until?1:-1;return void 0===F?M(T.since).year():M(T.since).year()+(F-T.offset)*q},Wi.erasAbbrRegex=function Zs(T){return I(this,"_erasAbbrRegex")||zc.call(this),T?this._erasAbbrRegex:this._erasRegex},Wi.erasNameRegex=function Za(T){return I(this,"_erasNameRegex")||zc.call(this),T?this._erasNameRegex:this._erasRegex},Wi.erasNarrowRegex=function qs(T){return I(this,"_erasNarrowRegex")||zc.call(this),T?this._erasNarrowRegex:this._erasRegex},Wi.months=function qo(T,F){return T?R(this._months)?this._months[T.month()]:this._months[(this._months.isFormat||ec).test(F)?"format":"standalone"][T.month()]:R(this._months)?this._months:this._months.standalone},Wi.monthsShort=function Oc(T,F){return T?R(this._monthsShort)?this._monthsShort[T.month()]:this._monthsShort[ec.test(F)?"format":"standalone"][T.month()]:R(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Wi.monthsParse=function tc(T,F,q){var ue,ve,ft;if(this._monthsParseExact)return gh.call(this,T,F,q);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),ue=0;ue<12;ue++){if(ve=he([2e3,ue]),q&&!this._longMonthsParse[ue]&&(this._longMonthsParse[ue]=new RegExp("^"+this.months(ve,"").replace(".","")+"$","i"),this._shortMonthsParse[ue]=new RegExp("^"+this.monthsShort(ve,"").replace(".","")+"$","i")),!q&&!this._monthsParse[ue]&&(ft="^"+this.months(ve,"")+"|^"+this.monthsShort(ve,""),this._monthsParse[ue]=new RegExp(ft.replace(".",""),"i")),q&&"MMMM"===F&&this._longMonthsParse[ue].test(T))return ue;if(q&&"MMM"===F&&this._shortMonthsParse[ue].test(T))return ue;if(!q&&this._monthsParse[ue].test(T))return ue}},Wi.monthsRegex=function wp(T){return this._monthsParseExact?(I(this,"_monthsRegex")||Zi.call(this),T?this._monthsStrictRegex:this._monthsRegex):(I(this,"_monthsRegex")||(this._monthsRegex=mf),this._monthsStrictRegex&&T?this._monthsStrictRegex:this._monthsRegex)},Wi.monthsShortRegex=function vh(T){return this._monthsParseExact?(I(this,"_monthsRegex")||Zi.call(this),T?this._monthsShortStrictRegex:this._monthsShortRegex):(I(this,"_monthsShortRegex")||(this._monthsShortRegex=mh),this._monthsShortStrictRegex&&T?this._monthsShortStrictRegex:this._monthsShortRegex)},Wi.week=function Rs(T){return bd(T,this._week.dow,this._week.doy).week},Wi.firstDayOfYear=function gg(){return this._week.doy},Wi.firstDayOfWeek=function Ea(){return this._week.dow},Wi.weekdays=function Ks(T,F){var q=R(this._weekdays)?this._weekdays:this._weekdays[T&&!0!==T&&this._weekdays.isFormat.test(F)?"format":"standalone"];return!0===T?wd(q,this._week.dow):T?q[T.day()]:q},Wi.weekdaysMin=function Ta(T){return!0===T?wd(this._weekdaysMin,this._week.dow):T?this._weekdaysMin[T.day()]:this._weekdaysMin},Wi.weekdaysShort=function Vi(T){return!0===T?wd(this._weekdaysShort,this._week.dow):T?this._weekdaysShort[T.day()]:this._weekdaysShort},Wi.weekdaysParse=function _h(T,F,q){var ue,ve,ft;if(this._weekdaysParseExact)return Lc.call(this,T,F,q);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),ue=0;ue<7;ue++){if(ve=he([2e3,1]).day(ue),q&&!this._fullWeekdaysParse[ue]&&(this._fullWeekdaysParse[ue]=new RegExp("^"+this.weekdays(ve,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[ue]=new RegExp("^"+this.weekdaysShort(ve,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[ue]=new RegExp("^"+this.weekdaysMin(ve,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[ue]||(ft="^"+this.weekdays(ve,"")+"|^"+this.weekdaysShort(ve,"")+"|^"+this.weekdaysMin(ve,""),this._weekdaysParse[ue]=new RegExp(ft.replace(".",""),"i")),q&&"dddd"===F&&this._fullWeekdaysParse[ue].test(T))return ue;if(q&&"ddd"===F&&this._shortWeekdaysParse[ue].test(T))return ue;if(q&&"dd"===F&&this._minWeekdaysParse[ue].test(T))return ue;if(!q&&this._weekdaysParse[ue].test(T))return ue}},Wi.weekdaysRegex=function Pr(T){return this._weekdaysParseExact?(I(this,"_weekdaysRegex")||er.call(this),T?this._weekdaysStrictRegex:this._weekdaysRegex):(I(this,"_weekdaysRegex")||(this._weekdaysRegex=xp),this._weekdaysStrictRegex&&T?this._weekdaysStrictRegex:this._weekdaysRegex)},Wi.weekdaysShortRegex=function Et(T){return this._weekdaysParseExact?(I(this,"_weekdaysRegex")||er.call(this),T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(I(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Cp),this._weekdaysShortStrictRegex&&T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Wi.weekdaysMinRegex=function yn(T){return this._weekdaysParseExact?(I(this,"_weekdaysRegex")||er.call(this),T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(I(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yh),this._weekdaysMinStrictRegex&&T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Wi.isPM=function Md(T){return"p"===(T+"").toLowerCase().charAt(0)},Wi.meridiem=function Tp(T,F,q){return T>11?q?"pm":"PM":q?"am":"AM"},bh("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(T){var F=T%10;return T+(1===qt(T%100/10)?"th":1===F?"st":2===F?"nd":3===F?"rd":"th")}}),M.lang=rt("moment.lang is deprecated. Use moment.locale instead.",bh),M.langData=rt("moment.langData is deprecated. Use moment.localeData instead.",Ui);var el=Math.abs;function Th(T,F,q,ue){var ve=sc(F,q);return T._milliseconds+=ue*ve._milliseconds,T._days+=ue*ve._days,T._months+=ue*ve._months,T._bubble()}function ac(T){return T<0?Math.floor(T):Math.ceil(T)}function Od(T){return 4800*T/146097}function Hp(T){return 146097*T/4800}function Bl(T){return function(){return this.as(T)}}var nC=Bl("ms"),rC=Bl("s"),Bp=Bl("m"),$y=Bl("h"),iC=Bl("d"),oC=Bl("w"),MR=Bl("M"),SR=Bl("Q"),Ag=Bl("y");function lc(T){return function(){return this.isValid()?this._data[T]:NaN}}var qw=lc("milliseconds"),Jw=lc("seconds"),Rf=lc("minutes"),sC=lc("hours"),Df=lc("days"),Xy=lc("months"),Og=lc("years");var uc=Math.round,Dh={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function aC(T,F,q,ue,ve){return ve.relativeTime(F||1,!!q,T,ue)}var zp=Math.abs;function Gc(T){return(T>0)-(T<0)||+T}function Ah(){if(!this.isValid())return this.localeData().invalidDate();var ue,ve,ft,Qt,Pi,zo,Ys,$c,T=zp(this._milliseconds)/1e3,F=zp(this._days),q=zp(this._months),Yr=this.asSeconds();return Yr?(ue=Ct(T/60),ve=Ct(ue/60),T%=60,ue%=60,ft=Ct(q/12),q%=12,Qt=T?T.toFixed(3).replace(/\.?0+$/,""):"",Pi=Yr<0?"-":"",zo=Gc(this._months)!==Gc(Yr)?"-":"",Ys=Gc(this._days)!==Gc(Yr)?"-":"",$c=Gc(this._milliseconds)!==Gc(Yr)?"-":"",Pi+"P"+(ft?zo+ft+"Y":"")+(q?zo+q+"M":"")+(F?Ys+F+"D":"")+(ve||ue||T?"T":"")+(ve?$c+ve+"H":"")+(ue?$c+ue+"M":"")+(T?$c+Qt+"S":"")):"P0D"}var co=Pl.prototype;return co.isValid=function Fc(){return this._isValid},co.abs=function Rg(){var T=this._data;return this._milliseconds=el(this._milliseconds),this._days=el(this._days),this._months=el(this._months),T.milliseconds=el(T.milliseconds),T.seconds=el(T.seconds),T.minutes=el(T.minutes),T.hours=el(T.hours),T.months=el(T.months),T.years=el(T.years),this},co.add=function Dg(T,F){return Th(this,T,F,1)},co.subtract=function Yc(T,F){return Th(this,T,F,-1)},co.as=function tC(T){if(!this.isValid())return NaN;var F,q,ue=this._milliseconds;if("month"===(T=ct(T))||"quarter"===T||"year"===T)switch(F=this._days+ue/864e5,q=this._months+Od(F),T){case"month":return q;case"quarter":return q/3;case"year":return q/12}else switch(F=this._days+Math.round(Hp(this._months)),T){case"week":return F/7+ue/6048e5;case"day":return F+ue/864e5;case"hour":return 24*F+ue/36e5;case"minute":return 1440*F+ue/6e4;case"second":return 86400*F+ue/1e3;case"millisecond":return Math.floor(864e5*F)+ue;default:throw new Error("Unknown unit "+T)}},co.asMilliseconds=nC,co.asSeconds=rC,co.asMinutes=Bp,co.asHours=$y,co.asDays=iC,co.asWeeks=oC,co.asMonths=MR,co.asQuarters=SR,co.asYears=Ag,co.valueOf=function tu(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*qt(this._months/12):NaN},co._bubble=function Rh(){var ve,ft,Qt,Yr,Pi,T=this._milliseconds,F=this._days,q=this._months,ue=this._data;return T>=0&&F>=0&&q>=0||T<=0&&F<=0&&q<=0||(T+=864e5*ac(Hp(q)+F),F=0,q=0),ue.milliseconds=T%1e3,ve=Ct(T/1e3),ue.seconds=ve%60,ft=Ct(ve/60),ue.minutes=ft%60,Qt=Ct(ft/60),ue.hours=Qt%24,F+=Ct(Qt/24),q+=Pi=Ct(Od(F)),F-=ac(Hp(Pi)),Yr=Ct(q/12),q%=12,ue.days=F,ue.months=q,ue.years=Yr,this},co.clone=function Kw(){return sc(this)},co.get=function Zw(T){return T=ct(T),this.isValid()?this[T+"s"]():NaN},co.milliseconds=qw,co.seconds=Jw,co.minutes=Rf,co.hours=sC,co.days=Df,co.weeks=function xR(){return Ct(this.days()/7)},co.months=Xy,co.years=Og,co.humanize=function Ky(T,F){if(!this.isValid())return this.localeData().invalidDate();var ve,ft,q=!1,ue=Dh;return"object"==typeof T&&(F=T,T=!1),"boolean"==typeof T&&(q=T),"object"==typeof F&&(ue=Object.assign({},Dh,F),null!=F.s&&null==F.ss&&(ue.ss=F.s-1)),ft=function cc(T,F,q,ue){var ve=sc(T).abs(),ft=uc(ve.as("s")),Qt=uc(ve.as("m")),Yr=uc(ve.as("h")),Pi=uc(ve.as("d")),zo=uc(ve.as("M")),Ys=uc(ve.as("w")),$c=uc(ve.as("y")),Ii=ft<=q.ss&&["s",ft]||ft<q.s&&["ss",ft]||Qt<=1&&["m"]||Qt<q.m&&["mm",Qt]||Yr<=1&&["h"]||Yr<q.h&&["hh",Yr]||Pi<=1&&["d"]||Pi<q.d&&["dd",Pi];return null!=q.w&&(Ii=Ii||Ys<=1&&["w"]||Ys<q.w&&["ww",Ys]),(Ii=Ii||zo<=1&&["M"]||zo<q.M&&["MM",zo]||$c<=1&&["y"]||["yy",$c])[2]=F,Ii[3]=+T>0,Ii[4]=ue,aC.apply(null,Ii)}(this,!q,ue,ve=this.localeData()),q&&(ft=ve.pastFuture(+this,ft)),ve.postformat(ft)},co.toISOString=Ah,co.toString=Ah,co.toJSON=Ah,co.locale=Ap,co.localeData=zy,co.toIsoString=rt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ah),co.lang=Sg,Ht("X",0,0,"unix"),Ht("x",0,0,"valueOf"),nr("x",pu),nr("X",/[+-]?\d+(\.\d{1,3})?/),bo("X",function(T,F,q){q._d=new Date(1e3*parseFloat(T))}),bo("x",function(T,F,q){q._d=new Date(qt(T))}),M.version="2.29.4",function E(T){O=T}(Sr),M.fn=un,M.min=function zs(){return Vs("isBefore",[].slice.call(arguments,0))},M.max=function No(){return Vs("isAfter",[].slice.call(arguments,0))},M.now=function(){return Date.now?Date.now():+new Date},M.utc=he,M.unix=function Xw(T){return Sr(1e3*T)},M.months=function Qa(T,F){return Yy(T,F,"months")},M.isDate=ne,M.locale=bh,M.invalid=Re,M.duration=sc,M.isMoment=Ke,M.weekdays=function Vo(T,F,q){return Gy(T,F,q,"weekdays")},M.parseZone=function Fp(){return Sr.apply(null,arguments).parseZone()},M.localeData=Ui,M.isDuration=ma,M.monthsShort=function Os(T,F){return Yy(T,F,"monthsShort")},M.weekdaysMin=function Tf(T,F,q){return Gy(T,F,q,"weekdaysMin")},M.defineLocale=Vw,M.updateLocale=function vf(T,F){if(null!=F){var q,ue,ve=Bs;null!=Jo[T]&&null!=Jo[T].parentLocale?Jo[T].set(Kt(Jo[T]._config,F)):(null!=(ue=Oo(T))&&(ve=ue._config),F=Kt(ve,F),null==ue&&(F.abbr=T),(q=new Zt(F)).parentLocale=Jo[T],Jo[T]=q),bh(T)}else null!=Jo[T]&&(null!=Jo[T].parentLocale?(Jo[T]=Jo[T].parentLocale,T===bh()&&bh(T)):null!=Jo[T]&&delete Jo[T]);return Jo[T]},M.locales=function bg(){return It(Jo)},M.weekdaysShort=function rs(T,F,q){return Gy(T,F,q,"weekdaysShort")},M.normalizeUnits=ct,M.relativeTimeRounding=function lC(T){return void 0===T?uc:"function"==typeof T&&(uc=T,!0)},M.relativeTimeThreshold=function Vp(T,F){return void 0!==Dh[T]&&(void 0===F?Dh[T]:(Dh[T]=F,"s"===T&&(Dh.ss=F-1),!0))},M.calendarFormat=function wf(T,F){var q=T.diff(F,"days",!0);return q<-6?"sameElse":q<-1?"lastWeek":q<0?"lastDay":q<1?"sameDay":q<2?"nextDay":q<7?"nextWeek":"sameElse"},M.prototype=un,M.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},M}()},1046:ee=>{ee.exports=function ce(b,O,M){function E(I,N){if(!O[I]){if(!b[I]){if(R)return R(I,!0);var G=new Error("Cannot find module '"+I+"'");throw G.code="MODULE_NOT_FOUND",G}var ne=O[I]={exports:{}};b[I][0].call(ne.exports,function(ae){return E(b[I][1][ae]||ae)},ne,ne.exports,ce,b,O,M)}return O[I].exports}for(var R=void 0,A=0;A<M.length;A++)E(M[A]);return E}({1:[function(ce,b,O){!function(M){"use strict";var E,R=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,A=Math.ceil,I=Math.floor,N="[BigNumber Error] ",W=N+"Number primitive has more than 15 significant digits: ",G=1e14,ae=9007199254740991,le=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],he=1e7,$=1e9;function de(Oe){var Ke=0|Oe;return 0<Oe||Oe===Ke?Ke:Ke-1}function be(Oe){for(var Ke,dt,rt=1,yt=Oe.length,Pt=Oe[0]+"";rt<yt;){for(dt=14-(Ke=Oe[rt++]+"").length;dt--;Ke="0"+Ke);Pt+=Ke}for(yt=Pt.length;48===Pt.charCodeAt(--yt););return Pt.slice(0,yt+1||1)}function Ie(Oe,Ke){var dt,rt,yt=Oe.c,Pt=Ke.c,Ft=Oe.s,Gt=Ke.s,Kt=Oe.e,Zt=Ke.e;if(!Ft||!Gt)return null;if(rt=Pt&&!Pt[0],(dt=yt&&!yt[0])||rt)return dt?rt?0:-Gt:Ft;if(Ft!=Gt)return Ft;if(dt=Ft<0,rt=Kt==Zt,!yt||!Pt)return rt?0:!yt^dt?1:-1;if(!rt)return Zt<Kt^dt?1:-1;for(Gt=(Kt=yt.length)<(Zt=Pt.length)?Kt:Zt,Ft=0;Ft<Gt;Ft++)if(yt[Ft]!=Pt[Ft])return yt[Ft]>Pt[Ft]^dt?1:-1;return Kt==Zt?0:Zt<Kt^dt?1:-1}function Re(Oe,Ke,dt,rt){if(Oe<Ke||dt<Oe||Oe!==(Oe<0?A(Oe):I(Oe)))throw Error(N+(rt||"Argument")+("number"==typeof Oe?Oe<Ke||dt<Oe?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Oe))}function ze(Oe){var Ke=Oe.c.length-1;return de(Oe.e/14)==Ke&&Oe.c[Ke]%2!=0}function it(Oe,Ke){return(1<Oe.length?Oe.charAt(0)+"."+Oe.slice(1):Oe)+(Ke<0?"e":"e+")+Ke}function We(Oe,Ke,dt){var rt,yt;if(Ke<0){for(yt=dt+".";++Ke;yt+=dt);Oe=yt+Oe}else if(++Ke>(rt=Oe.length)){for(yt=dt,Ke-=rt;--Ke;yt+=dt);Oe+=yt}else Ke<rt&&(Oe=Oe.slice(0,Ke)+"."+Oe.slice(Ke));return Oe}(E=function Oe(Ke){var dt,rt,yt,Pt,Ft,Gt,Kt,Zt,It,Fe,ge=nn.prototype={constructor:nn,toString:null,valueOf:null},ht=new nn(1),Rt=20,$t=4,bn=-7,Sn=21,Ht=-1e7,Jn=1e7,Wn=!1,Yn=1,Hn=0,Mr={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},Dn="0123456789abcdefghijklmnopqrstuvwxyz";function nn(_e,He){var Qe,St,ct,qe,Xe,Ze,_t,mt,Ct=this;if(!(Ct instanceof nn))return new nn(_e,He);if(null==He){if(_e instanceof nn)return Ct.s=_e.s,Ct.e=_e.e,void(Ct.c=(_e=_e.c)?_e.slice():_e);if((Ze="number"==typeof _e)&&0*_e==0){if(Ct.s=1/_e<0?(_e=-_e,-1):1,_e===~~_e){for(qe=0,Xe=_e;10<=Xe;Xe/=10,qe++);return Ct.e=qe,void(Ct.c=[_e])}mt=String(_e)}else{if(mt=String(_e),!R.test(mt))return yt(Ct,mt,Ze);Ct.s=45==mt.charCodeAt(0)?(mt=mt.slice(1),-1):1}-1<(qe=mt.indexOf("."))&&(mt=mt.replace(".","")),0<(Xe=mt.search(/e/i))?(qe<0&&(qe=Xe),qe+=+mt.slice(Xe+1),mt=mt.substring(0,Xe)):qe<0&&(qe=mt.length)}else{if(Re(He,2,Dn.length,"Base"),mt=String(_e),10==He)return di(Ct=new nn(_e instanceof nn?_e:mt),Rt+Ct.e+1,$t);if(Ze="number"==typeof _e){if(0*_e!=0)return yt(Ct,mt,Ze,He);if(Ct.s=1/_e<0?(mt=mt.slice(1),-1):1,nn.DEBUG&&15<mt.replace(/^0\.0*|\./,"").length)throw Error(W+_e);Ze=!1}else Ct.s=45===mt.charCodeAt(0)?(mt=mt.slice(1),-1):1;for(Qe=Dn.slice(0,He),qe=Xe=0,_t=mt.length;Xe<_t;Xe++)if(Qe.indexOf(St=mt.charAt(Xe))<0){if("."==St){if(qe<Xe){qe=_t;continue}}else if(!ct&&(mt==mt.toUpperCase()&&(mt=mt.toLowerCase())||mt==mt.toLowerCase()&&(mt=mt.toUpperCase()))){ct=!0,Xe=-1,qe=0;continue}return yt(Ct,String(_e),Ze,He)}-1<(qe=(mt=rt(mt,He,10,Ct.s)).indexOf("."))?mt=mt.replace(".",""):qe=mt.length}for(Xe=0;48===mt.charCodeAt(Xe);Xe++);for(_t=mt.length;48===mt.charCodeAt(--_t););if(mt=mt.slice(Xe,++_t)){if(_t-=Xe,Ze&&nn.DEBUG&&15<_t&&(ae<_e||_e!==I(_e)))throw Error(W+Ct.s*_e);if(Jn<(qe=qe-Xe-1))Ct.c=Ct.e=null;else if(qe<Ht)Ct.c=[Ct.e=0];else{if(Ct.e=qe,Ct.c=[],Xe=(qe+1)%14,qe<0&&(Xe+=14),Xe<_t){for(Xe&&Ct.c.push(+mt.slice(0,Xe)),_t-=14;Xe<_t;)Ct.c.push(+mt.slice(Xe,Xe+=14));Xe=14-(mt=mt.slice(Xe)).length}else Xe-=_t;for(;Xe--;mt+="0");Ct.c.push(+mt)}}else Ct.c=[Ct.e=0]}function Gr(_e,He,Qe,St){var ct,qe,Xe,Ze,_t;if(null==Qe?Qe=$t:Re(Qe,0,8),!_e.c)return _e.toString();if(ct=_e.c[0],Xe=_e.e,null==He)_t=be(_e.c),_t=1==St||2==St&&(Xe<=bn||Sn<=Xe)?it(_t,Xe):We(_t,Xe,"0");else if(qe=(_e=di(new nn(_e),He,Qe)).e,Ze=(_t=be(_e.c)).length,1==St||2==St&&(He<=qe||qe<=bn)){for(;Ze<He;_t+="0",Ze++);_t=it(_t,qe)}else if(He-=Xe,_t=We(_t,qe,"0"),Ze<qe+1){if(0<--He)for(_t+=".";He--;_t+="0");}else if(0<(He+=qe-Ze))for(qe+1==Ze&&(_t+=".");He--;_t+="0");return _e.s<0&&ct?"-"+_t:_t}function gi(_e,He){for(var Qe,St=1,ct=new nn(_e[0]);St<_e.length;St++){if(!(Qe=new nn(_e[St])).s){ct=Qe;break}He.call(ct,Qe)&&(ct=Qe)}return ct}function vi(_e,He,Qe){for(var St=1,ct=He.length;!He[--ct];He.pop());for(ct=He[0];10<=ct;ct/=10,St++);return _e.c=(Qe=St+14*Qe-1)>Jn?_e.e=null:Qe<Ht?[_e.e=0]:(_e.e=Qe,He),_e}function di(_e,He,Qe,St){var ct,qe,Xe,Ze,_t,mt,Ct,qt=_e.c,dn=le;if(qt){e:{for(ct=1,Ze=qt[0];10<=Ze;Ze/=10,ct++);if((qe=He-ct)<0)qe+=14,Ct=(_t=qt[mt=0])/dn[ct-(Xe=He)-1]%10|0;else if((mt=A((qe+1)/14))>=qt.length){if(!St)break e;for(;qt.length<=mt;qt.push(0));_t=Ct=0,Xe=(qe%=14)-14+(ct=1)}else{for(_t=Ze=qt[mt],ct=1;10<=Ze;Ze/=10,ct++);Ct=(Xe=(qe%=14)-14+ct)<0?0:_t/dn[ct-Xe-1]%10|0}if(St=St||He<0||null!=qt[mt+1]||(Xe<0?_t:_t%dn[ct-Xe-1]),St=Qe<4?(Ct||St)&&(0==Qe||Qe==(_e.s<0?3:2)):5<Ct||5==Ct&&(4==Qe||St||6==Qe&&(0<qe?0<Xe?_t/dn[ct-Xe]:0:qt[mt-1])%10&1||Qe==(_e.s<0?8:7)),He<1||!qt[0])return qt.length=0,St?(qt[0]=dn[(14-(He-=_e.e+1)%14)%14],_e.e=-He||0):qt[0]=_e.e=0,_e;if(0==qe?(qt.length=mt,Ze=1,mt--):(qt.length=mt+1,Ze=dn[14-qe],qt[mt]=0<Xe?I(_t/dn[ct-Xe]%dn[Xe])*Ze:0),St)for(;;){if(0==mt){for(qe=1,Xe=qt[0];10<=Xe;Xe/=10,qe++);for(Xe=qt[0]+=Ze,Ze=1;10<=Xe;Xe/=10,Ze++);qe!=Ze&&(_e.e++,qt[0]==G&&(qt[0]=1));break}if(qt[mt]+=Ze,qt[mt]!=G)break;qt[mt--]=0,Ze=1}for(qe=qt.length;0===qt[--qe];qt.pop());}_e.e>Jn?_e.c=_e.e=null:_e.e<Ht&&(_e.c=[_e.e=0])}return _e}function ur(_e){var He,Qe=_e.e;return null===Qe?_e.toString():(He=be(_e.c),He=Qe<=bn||Sn<=Qe?it(He,Qe):We(He,Qe,"0"),_e.s<0?"-"+He:He)}return nn.clone=Oe,nn.ROUND_UP=0,nn.ROUND_DOWN=1,nn.ROUND_CEIL=2,nn.ROUND_FLOOR=3,nn.ROUND_HALF_UP=4,nn.ROUND_HALF_DOWN=5,nn.ROUND_HALF_EVEN=6,nn.ROUND_HALF_CEIL=7,nn.ROUND_HALF_FLOOR=8,nn.EUCLID=9,nn.config=nn.set=function(_e){var He,Qe;if(null!=_e){if("object"!=typeof _e)throw Error(N+"Object expected: "+_e);if(_e.hasOwnProperty(He="DECIMAL_PLACES")&&(Re(Qe=_e[He],0,$,He),Rt=Qe),_e.hasOwnProperty(He="ROUNDING_MODE")&&(Re(Qe=_e[He],0,8,He),$t=Qe),_e.hasOwnProperty(He="EXPONENTIAL_AT")&&((Qe=_e[He])&&Qe.pop?(Re(Qe[0],-$,0,He),Re(Qe[1],0,$,He),bn=Qe[0],Sn=Qe[1]):(Re(Qe,-$,$,He),bn=-(Sn=Qe<0?-Qe:Qe))),_e.hasOwnProperty(He="RANGE"))if((Qe=_e[He])&&Qe.pop)Re(Qe[0],-$,-1,He),Re(Qe[1],1,$,He),Ht=Qe[0],Jn=Qe[1];else{if(Re(Qe,-$,$,He),!Qe)throw Error(N+He+" cannot be zero: "+Qe);Ht=-(Jn=Qe<0?-Qe:Qe)}if(_e.hasOwnProperty(He="CRYPTO")){if((Qe=_e[He])!==!!Qe)throw Error(N+He+" not true or false: "+Qe);if(Qe){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Wn=!Qe,Error(N+"crypto unavailable");Wn=Qe}else Wn=Qe}if(_e.hasOwnProperty(He="MODULO_MODE")&&(Re(Qe=_e[He],0,9,He),Yn=Qe),_e.hasOwnProperty(He="POW_PRECISION")&&(Re(Qe=_e[He],0,$,He),Hn=Qe),_e.hasOwnProperty(He="FORMAT")){if("object"!=typeof(Qe=_e[He]))throw Error(N+He+" not an object: "+Qe);Mr=Qe}if(_e.hasOwnProperty(He="ALPHABET")){if("string"!=typeof(Qe=_e[He])||/^.$|[+-.\s]|(.).*\1/.test(Qe))throw Error(N+He+" invalid: "+Qe);Dn=Qe}}return{DECIMAL_PLACES:Rt,ROUNDING_MODE:$t,EXPONENTIAL_AT:[bn,Sn],RANGE:[Ht,Jn],CRYPTO:Wn,MODULO_MODE:Yn,POW_PRECISION:Hn,FORMAT:Mr,ALPHABET:Dn}},nn.isBigNumber=function(_e){return _e instanceof nn||_e&&!0===_e._isBigNumber||!1},nn.maximum=nn.max=function(){return gi(arguments,ge.lt)},nn.minimum=nn.min=function(){return gi(arguments,ge.gt)},nn.random=(Pt=9007199254740992,Ft=Math.random()*Pt&2097151?function(){return I(Math.random()*Pt)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(_e){var He,Qe,St,ct,qe,Xe=0,Ze=[],_t=new nn(ht);if(null==_e?_e=Rt:Re(_e,0,$),ct=A(_e/14),Wn)if(crypto.getRandomValues){for(He=crypto.getRandomValues(new Uint32Array(ct*=2));Xe<ct;)9e15<=(qe=131072*He[Xe]+(He[Xe+1]>>>11))?(Qe=crypto.getRandomValues(new Uint32Array(2)),He[Xe]=Qe[0],He[Xe+1]=Qe[1]):(Ze.push(qe%1e14),Xe+=2);Xe=ct/2}else{if(!crypto.randomBytes)throw Wn=!1,Error(N+"crypto unavailable");for(He=crypto.randomBytes(ct*=7);Xe<ct;)9e15<=(qe=281474976710656*(31&He[Xe])+1099511627776*He[Xe+1]+4294967296*He[Xe+2]+16777216*He[Xe+3]+(He[Xe+4]<<16)+(He[Xe+5]<<8)+He[Xe+6])?crypto.randomBytes(7).copy(He,Xe):(Ze.push(qe%1e14),Xe+=7);Xe=ct/7}if(!Wn)for(;Xe<ct;)(qe=Ft())<9e15&&(Ze[Xe++]=qe%1e14);for(_e%=14,(ct=Ze[--Xe])&&_e&&(Ze[Xe]=I(ct/(qe=le[14-_e]))*qe);0===Ze[Xe];Ze.pop(),Xe--);if(Xe<0)Ze=[St=0];else{for(St=-1;0===Ze[0];Ze.splice(0,1),St-=14);for(Xe=1,qe=Ze[0];10<=qe;qe/=10,Xe++);Xe<14&&(St-=14-Xe)}return _t.e=St,_t.c=Ze,_t}),nn.sum=function(){for(var _e=1,He=arguments,Qe=new nn(He[0]);_e<He.length;)Qe=Qe.plus(He[_e++]);return Qe},rt=function(){var _e="0123456789";function He(Qe,St,ct,qe){for(var Xe,Ze,_t=[0],mt=0,Ct=Qe.length;mt<Ct;){for(Ze=_t.length;Ze--;_t[Ze]*=St);for(_t[0]+=qe.indexOf(Qe.charAt(mt++)),Xe=0;Xe<_t.length;Xe++)_t[Xe]>ct-1&&(null==_t[Xe+1]&&(_t[Xe+1]=0),_t[Xe+1]+=_t[Xe]/ct|0,_t[Xe]%=ct)}return _t.reverse()}return function(Qe,St,ct,qe,Xe){var Ze,_t,mt,Ct,qt,dn,xn,Un,br=Qe.indexOf("."),si=Rt,li=$t;for(0<=br&&(Ct=Hn,Hn=0,Qe=Qe.replace(".",""),dn=(Un=new nn(St)).pow(Qe.length-br),Hn=Ct,Un.c=He(We(be(dn.c),dn.e,"0"),10,ct,_e),Un.e=Un.c.length),mt=Ct=(xn=He(Qe,St,ct,Xe?(Ze=Dn,_e):(Ze=_e,Dn))).length;0==xn[--Ct];xn.pop());if(!xn[0])return Ze.charAt(0);if(br<0?--mt:(dn.c=xn,dn.e=mt,dn.s=qe,xn=(dn=dt(dn,Un,si,li,ct)).c,qt=dn.r,mt=dn.e),br=xn[_t=mt+si+1],Ct=ct/2,qt=qt||_t<0||null!=xn[_t+1],qt=li<4?(null!=br||qt)&&(0==li||li==(dn.s<0?3:2)):Ct<br||br==Ct&&(4==li||qt||6==li&&1&xn[_t-1]||li==(dn.s<0?8:7)),_t<1||!xn[0])Qe=qt?We(Ze.charAt(1),-si,Ze.charAt(0)):Ze.charAt(0);else{if(xn.length=_t,qt)for(--ct;++xn[--_t]>ct;)xn[_t]=0,_t||(++mt,xn=[1].concat(xn));for(Ct=xn.length;!xn[--Ct];);for(br=0,Qe="";br<=Ct;Qe+=Ze.charAt(xn[br++]));Qe=We(Qe,mt,Ze.charAt(0))}return Qe}}(),dt=function(){function _e(St,ct,qe){var Xe,Ze,_t,mt,Ct=0,qt=St.length,dn=ct%he,xn=ct/he|0;for(St=St.slice();qt--;)Ct=((Ze=dn*(_t=St[qt]%he)+(Xe=xn*_t+(mt=St[qt]/he|0)*dn)%he*he+Ct)/qe|0)+(Xe/he|0)+xn*mt,St[qt]=Ze%qe;return Ct&&(St=[Ct].concat(St)),St}function He(St,ct,qe,Xe){var Ze,_t;if(qe!=Xe)_t=Xe<qe?1:-1;else for(Ze=_t=0;Ze<qe;Ze++)if(St[Ze]!=ct[Ze]){_t=St[Ze]>ct[Ze]?1:-1;break}return _t}function Qe(St,ct,qe,Xe){for(var Ze=0;qe--;)St[qe]-=Ze,St[qe]=(Ze=St[qe]<ct[qe]?1:0)*Xe+St[qe]-ct[qe];for(;!St[0]&&1<St.length;St.splice(0,1));}return function(St,ct,qe,Xe,Ze){var _t,mt,Ct,qt,dn,xn,Un,br,si,li,hi,Li,fu,jl,Xi,aa,la,To=St.s==ct.s?1:-1,hs=St.c,Ki=ct.c;if(!(hs&&hs[0]&&Ki&&Ki[0]))return new nn(St.s&&ct.s&&(hs?!Ki||hs[0]!=Ki[0]:Ki)?hs&&0==hs[0]||!Ki?0*To:To/0:NaN);for(si=(br=new nn(To)).c=[],To=qe+(mt=St.e-ct.e)+1,Ze||(Ze=G,mt=de(St.e/14)-de(ct.e/14),To=To/14|0),Ct=0;Ki[Ct]==(hs[Ct]||0);Ct++);if(Ki[Ct]>(hs[Ct]||0)&&mt--,To<0)si.push(1),qt=!0;else{for(jl=hs.length,aa=Ki.length,To+=2,1<(dn=I(Ze/(Ki[Ct=0]+1)))&&(Ki=_e(Ki,dn,Ze),hs=_e(hs,dn,Ze),aa=Ki.length,jl=hs.length),fu=aa,hi=(li=hs.slice(0,aa)).length;hi<aa;li[hi++]=0);la=Ki.slice(),la=[0].concat(la),Xi=Ki[0],Ki[1]>=Ze/2&&Xi++;do{if(dn=0,(_t=He(Ki,li,aa,hi))<0){if(Li=li[0],aa!=hi&&(Li=Li*Ze+(li[1]||0)),1<(dn=I(Li/Xi)))for(Ze<=dn&&(dn=Ze-1),Un=(xn=_e(Ki,dn,Ze)).length,hi=li.length;1==He(xn,li,Un,hi);)dn--,Qe(xn,aa<Un?la:Ki,Un,Ze),Un=xn.length,_t=1;else 0==dn&&(_t=dn=1),Un=(xn=Ki.slice()).length;if(Un<hi&&(xn=[0].concat(xn)),Qe(li,xn,hi,Ze),hi=li.length,-1==_t)for(;He(Ki,li,aa,hi)<1;)dn++,Qe(li,aa<hi?la:Ki,hi,Ze),hi=li.length}else 0===_t&&(dn++,li=[0]);si[Ct++]=dn,li[0]?li[hi++]=hs[fu]||0:(li=[hs[fu]],hi=1)}while((fu++<jl||null!=li[0])&&To--);qt=null!=li[0],si[0]||si.splice(0,1)}if(Ze==G){for(Ct=1,To=si[0];10<=To;To/=10,Ct++);di(br,qe+(br.e=Ct+14*mt-1)+1,Xe,qt)}else br.e=mt,br.r=+qt;return br}}(),Gt=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Kt=/^([^.]+)\.$/,Zt=/^\.([^.]+)$/,It=/^-?(Infinity|NaN)$/,Fe=/^\s*\+(?=[\w.])|^\s+|\s+$/g,yt=function(_e,He,Qe,St){var ct,qe=Qe?He:He.replace(Fe,"");if(It.test(qe))_e.s=isNaN(qe)?null:qe<0?-1:1,_e.c=_e.e=null;else{if(!Qe&&(qe=qe.replace(Gt,function(Xe,Ze,_t){return ct="x"==(_t=_t.toLowerCase())?16:"b"==_t?2:8,St&&St!=ct?Xe:Ze}),St&&(ct=St,qe=qe.replace(Kt,"$1").replace(Zt,"0.$1")),He!=qe))return new nn(qe,ct);if(nn.DEBUG)throw Error(N+"Not a"+(St?" base "+St:"")+" number: "+He);_e.c=_e.e=_e.s=null}},ge.absoluteValue=ge.abs=function(){var _e=new nn(this);return _e.s<0&&(_e.s=1),_e},ge.comparedTo=function(_e,He){return Ie(this,new nn(_e,He))},ge.decimalPlaces=ge.dp=function(_e,He){var Qe,St,ct;if(null!=_e)return Re(_e,0,$),null==He?He=$t:Re(He,0,8),di(new nn(this),_e+this.e+1,He);if(!(Qe=this.c))return null;if(St=14*((ct=Qe.length-1)-de(this.e/14)),ct=Qe[ct])for(;ct%10==0;ct/=10,St--);return St<0&&(St=0),St},ge.dividedBy=ge.div=function(_e,He){return dt(this,new nn(_e,He),Rt,$t)},ge.dividedToIntegerBy=ge.idiv=function(_e,He){return dt(this,new nn(_e,He),0,1)},ge.exponentiatedBy=ge.pow=function(_e,He){var Qe,St,ct,qe,Xe,Ze,_t,mt,Ct=this;if((_e=new nn(_e)).c&&!_e.isInteger())throw Error(N+"Exponent not an integer: "+ur(_e));if(null!=He&&(He=new nn(He)),Xe=14<_e.e,!Ct.c||!Ct.c[0]||1==Ct.c[0]&&!Ct.e&&1==Ct.c.length||!_e.c||!_e.c[0])return mt=new nn(Math.pow(+ur(Ct),Xe?2-ze(_e):+ur(_e))),He?mt.mod(He):mt;if(Ze=_e.s<0,He){if(He.c?!He.c[0]:!He.s)return new nn(NaN);(St=!Ze&&Ct.isInteger()&&He.isInteger())&&(Ct=Ct.mod(He))}else{if(9<_e.e&&(0<Ct.e||Ct.e<-1||(0==Ct.e?1<Ct.c[0]||Xe&&24e7<=Ct.c[1]:Ct.c[0]<8e13||Xe&&Ct.c[0]<=9999975e7)))return qe=Ct.s<0&&ze(_e)?-0:0,-1<Ct.e&&(qe=1/qe),new nn(Ze?1/qe:qe);Hn&&(qe=A(Hn/14+2))}for(_t=Xe?(Qe=new nn(.5),Ze&&(_e.s=1),ze(_e)):(ct=Math.abs(+ur(_e)))%2,mt=new nn(ht);;){if(_t){if(!(mt=mt.times(Ct)).c)break;qe?mt.c.length>qe&&(mt.c.length=qe):St&&(mt=mt.mod(He))}if(ct){if(0===(ct=I(ct/2)))break;_t=ct%2}else if(di(_e=_e.times(Qe),_e.e+1,1),14<_e.e)_t=ze(_e);else{if(0==(ct=+ur(_e)))break;_t=ct%2}Ct=Ct.times(Ct),qe?Ct.c&&Ct.c.length>qe&&(Ct.c.length=qe):St&&(Ct=Ct.mod(He))}return St?mt:(Ze&&(mt=ht.div(mt)),He?mt.mod(He):qe?di(mt,Hn,$t,void 0):mt)},ge.integerValue=function(_e){var He=new nn(this);return null==_e?_e=$t:Re(_e,0,8),di(He,He.e+1,_e)},ge.isEqualTo=ge.eq=function(_e,He){return 0===Ie(this,new nn(_e,He))},ge.isFinite=function(){return!!this.c},ge.isGreaterThan=ge.gt=function(_e,He){return 0<Ie(this,new nn(_e,He))},ge.isGreaterThanOrEqualTo=ge.gte=function(_e,He){return 1===(He=Ie(this,new nn(_e,He)))||0===He},ge.isInteger=function(){return!!this.c&&de(this.e/14)>this.c.length-2},ge.isLessThan=ge.lt=function(_e,He){return Ie(this,new nn(_e,He))<0},ge.isLessThanOrEqualTo=ge.lte=function(_e,He){return-1===(He=Ie(this,new nn(_e,He)))||0===He},ge.isNaN=function(){return!this.s},ge.isNegative=function(){return this.s<0},ge.isPositive=function(){return 0<this.s},ge.isZero=function(){return!!this.c&&0==this.c[0]},ge.minus=function(_e,He){var Qe,St,ct,qe,Xe=this,Ze=Xe.s;if(He=(_e=new nn(_e,He)).s,!Ze||!He)return new nn(NaN);if(Ze!=He)return _e.s=-He,Xe.plus(_e);var _t=Xe.e/14,mt=_e.e/14,Ct=Xe.c,qt=_e.c;if(!_t||!mt){if(!Ct||!qt)return Ct?(_e.s=-He,_e):new nn(qt?Xe:NaN);if(!Ct[0]||!qt[0])return qt[0]?(_e.s=-He,_e):new nn(Ct[0]?Xe:3==$t?-0:0)}if(_t=de(_t),mt=de(mt),Ct=Ct.slice(),Ze=_t-mt){for((ct=(qe=Ze<0)?(Ze=-Ze,Ct):(mt=_t,qt)).reverse(),He=Ze;He--;ct.push(0));ct.reverse()}else for(St=(qe=(Ze=Ct.length)<(He=qt.length))?Ze:He,Ze=He=0;He<St;He++)if(Ct[He]!=qt[He]){qe=Ct[He]<qt[He];break}if(qe&&(ct=Ct,Ct=qt,qt=ct,_e.s=-_e.s),0<(He=(St=qt.length)-(Qe=Ct.length)))for(;He--;Ct[Qe++]=0);for(He=G-1;Ze<St;){if(Ct[--St]<qt[St]){for(Qe=St;Qe&&!Ct[--Qe];Ct[Qe]=He);--Ct[Qe],Ct[St]+=G}Ct[St]-=qt[St]}for(;0==Ct[0];Ct.splice(0,1),--mt);return Ct[0]?vi(_e,Ct,mt):(_e.s=3==$t?-1:1,_e.c=[_e.e=0],_e)},ge.modulo=ge.mod=function(_e,He){var Qe,St,ct=this;return _e=new nn(_e,He),!ct.c||!_e.s||_e.c&&!_e.c[0]?new nn(NaN):!_e.c||ct.c&&!ct.c[0]?new nn(ct):(9==Yn?(St=_e.s,_e.s=1,Qe=dt(ct,_e,0,3),_e.s=St,Qe.s*=St):Qe=dt(ct,_e,0,Yn),(_e=ct.minus(Qe.times(_e))).c[0]||1!=Yn||(_e.s=ct.s),_e)},ge.multipliedBy=ge.times=function(_e,He){var Qe,St,ct,qe,Xe,Ze,_t,mt,Ct,qt,dn,xn,Un,br,si,li=this,hi=li.c,Li=(_e=new nn(_e,He)).c;if(!(hi&&Li&&hi[0]&&Li[0]))return!li.s||!_e.s||hi&&!hi[0]&&!Li||Li&&!Li[0]&&!hi?_e.c=_e.e=_e.s=null:(_e.s*=li.s,hi&&Li?(_e.c=[0],_e.e=0):_e.c=_e.e=null),_e;for(St=de(li.e/14)+de(_e.e/14),_e.s*=li.s,(_t=hi.length)<(qt=Li.length)&&(Un=hi,hi=Li,Li=Un,ct=_t,_t=qt,qt=ct),ct=_t+qt,Un=[];ct--;Un.push(0));for(br=G,si=he,ct=qt;0<=--ct;){for(Qe=0,dn=Li[ct]%si,xn=Li[ct]/si|0,qe=ct+(Xe=_t);ct<qe;)Qe=((mt=dn*(mt=hi[--Xe]%si)+(Ze=xn*mt+(Ct=hi[Xe]/si|0)*dn)%si*si+Un[qe]+Qe)/br|0)+(Ze/si|0)+xn*Ct,Un[qe--]=mt%br;Un[qe]=Qe}return Qe?++St:Un.splice(0,1),vi(_e,Un,St)},ge.negated=function(){var _e=new nn(this);return _e.s=-_e.s||null,_e},ge.plus=function(_e,He){var Qe,St=this,ct=St.s;if(He=(_e=new nn(_e,He)).s,!ct||!He)return new nn(NaN);if(ct!=He)return _e.s=-He,St.minus(_e);var qe=St.e/14,Xe=_e.e/14,Ze=St.c,_t=_e.c;if(!qe||!Xe){if(!Ze||!_t)return new nn(ct/0);if(!Ze[0]||!_t[0])return _t[0]?_e:new nn(Ze[0]?St:0*ct)}if(qe=de(qe),Xe=de(Xe),Ze=Ze.slice(),ct=qe-Xe){for((Qe=0<ct?(Xe=qe,_t):(ct=-ct,Ze)).reverse();ct--;Qe.push(0));Qe.reverse()}for((ct=Ze.length)-(He=_t.length)<0&&(Qe=_t,_t=Ze,Ze=Qe,He=ct),ct=0;He;)ct=(Ze[--He]=Ze[He]+_t[He]+ct)/G|0,Ze[He]=G===Ze[He]?0:Ze[He]%G;return ct&&(Ze=[ct].concat(Ze),++Xe),vi(_e,Ze,Xe)},ge.precision=ge.sd=function(_e,He){var Qe,St,ct;if(null!=_e&&_e!==!!_e)return Re(_e,1,$),null==He?He=$t:Re(He,0,8),di(new nn(this),_e,He);if(!(Qe=this.c))return null;if(St=14*(ct=Qe.length-1)+1,ct=Qe[ct]){for(;ct%10==0;ct/=10,St--);for(ct=Qe[0];10<=ct;ct/=10,St++);}return _e&&this.e+1>St&&(St=this.e+1),St},ge.shiftedBy=function(_e){return Re(_e,-ae,ae),this.times("1e"+_e)},ge.squareRoot=ge.sqrt=function(){var _e,He,Qe,St,ct,qe=this,Xe=qe.c,Ze=qe.s,_t=qe.e,mt=Rt+4,Ct=new nn("0.5");if(1!==Ze||!Xe||!Xe[0])return new nn(!Ze||Ze<0&&(!Xe||Xe[0])?NaN:Xe?qe:1/0);if((Qe=0==(Ze=Math.sqrt(+ur(qe)))||Ze==1/0?(((He=be(Xe)).length+_t)%2==0&&(He+="0"),Ze=Math.sqrt(+He),_t=de((_t+1)/2)-(_t<0||_t%2),new nn(He=Ze==1/0?"1e"+_t:(He=Ze.toExponential()).slice(0,He.indexOf("e")+1)+_t)):new nn(Ze+"")).c[0])for((Ze=(_t=Qe.e)+mt)<3&&(Ze=0);;)if(Qe=Ct.times((ct=Qe).plus(dt(qe,ct,mt,1))),be(ct.c).slice(0,Ze)===(He=be(Qe.c)).slice(0,Ze)){if(Qe.e<_t&&--Ze,"9999"!=(He=He.slice(Ze-3,Ze+1))&&(St||"4999"!=He)){+He&&(+He.slice(1)||"5"!=He.charAt(0))||(di(Qe,Qe.e+Rt+2,1),_e=!Qe.times(Qe).eq(qe));break}if(!St&&(di(ct,ct.e+Rt+2,0),ct.times(ct).eq(qe))){Qe=ct;break}mt+=4,Ze+=4,St=1}return di(Qe,Qe.e+Rt+1,$t,_e)},ge.toExponential=function(_e,He){return null!=_e&&(Re(_e,0,$),_e++),Gr(this,_e,He,1)},ge.toFixed=function(_e,He){return null!=_e&&(Re(_e,0,$),_e=_e+this.e+1),Gr(this,_e,He)},ge.toFormat=function(_e,He,Qe){var St;if(null==Qe)null!=_e&&He&&"object"==typeof He?(Qe=He,He=null):_e&&"object"==typeof _e?(Qe=_e,_e=He=null):Qe=Mr;else if("object"!=typeof Qe)throw Error(N+"Argument not an object: "+Qe);if(St=this.toFixed(_e,He),this.c){var ct,qe=St.split("."),Xe=+Qe.groupSize,Ze=+Qe.secondaryGroupSize,_t=Qe.groupSeparator||"",mt=qe[0],Ct=qe[1],qt=this.s<0,dn=qt?mt.slice(1):mt,xn=dn.length;if(Ze&&(ct=Xe,Xe=Ze,xn-=Ze=ct),0<Xe&&0<xn){for(mt=dn.substr(0,ct=xn%Xe||Xe);ct<xn;ct+=Xe)mt+=_t+dn.substr(ct,Xe);0<Ze&&(mt+=_t+dn.slice(ct)),qt&&(mt="-"+mt)}St=Ct?mt+(Qe.decimalSeparator||"")+((Ze=+Qe.fractionGroupSize)?Ct.replace(new RegExp("\\d{"+Ze+"}\\B","g"),"$&"+(Qe.fractionGroupSeparator||"")):Ct):mt}return(Qe.prefix||"")+St+(Qe.suffix||"")},ge.toFraction=function(_e){var He,Qe,St,ct,qe,Xe,Ze,_t,mt,Ct,qt,dn,xn=this,Un=xn.c;if(null!=_e&&(!(Ze=new nn(_e)).isInteger()&&(Ze.c||1!==Ze.s)||Ze.lt(ht)))throw Error(N+"Argument "+(Ze.isInteger()?"out of range: ":"not an integer: ")+ur(Ze));if(!Un)return new nn(xn);for(He=new nn(ht),mt=Qe=new nn(ht),St=_t=new nn(ht),dn=be(Un),qe=He.e=dn.length-xn.e-1,He.c[0]=le[(Xe=qe%14)<0?14+Xe:Xe],_e=!_e||0<Ze.comparedTo(He)?0<qe?He:mt:Ze,Xe=Jn,Jn=1/0,Ze=new nn(dn),_t.c[0]=0;Ct=dt(Ze,He,0,1),1!=(ct=Qe.plus(Ct.times(St))).comparedTo(_e);)Qe=St,St=ct,mt=_t.plus(Ct.times(ct=mt)),_t=ct,He=Ze.minus(Ct.times(ct=He)),Ze=ct;return ct=dt(_e.minus(Qe),St,0,1),_t=_t.plus(ct.times(mt)),Qe=Qe.plus(ct.times(St)),_t.s=mt.s=xn.s,qt=dt(mt,St,qe*=2,$t).minus(xn).abs().comparedTo(dt(_t,Qe,qe,$t).minus(xn).abs())<1?[mt,St]:[_t,Qe],Jn=Xe,qt},ge.toNumber=function(){return+ur(this)},ge.toPrecision=function(_e,He){return null!=_e&&Re(_e,1,$),Gr(this,_e,He,2)},ge.toString=function(_e){var He,Qe=this,St=Qe.s,ct=Qe.e;return null===ct?St?(He="Infinity",St<0&&(He="-"+He)):He="NaN":(He=null==_e?ct<=bn||Sn<=ct?it(be(Qe.c),ct):We(be(Qe.c),ct,"0"):10===_e?We(be((Qe=di(new nn(Qe),Rt+ct+1,$t)).c),Qe.e,"0"):(Re(_e,2,Dn.length,"Base"),rt(We(be(Qe.c),ct,"0"),10,_e,St,!0)),St<0&&Qe.c[0]&&(He="-"+He)),He},ge.valueOf=ge.toJSON=function(){return ur(this)},ge._isBigNumber=!0,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(ge[Symbol.toStringTag]="BigNumber",ge[Symbol.for("nodejs.util.inspect.custom")]=ge.valueOf),null!=Ke&&nn.set(Ke),nn}()).default=E.BigNumber=E,void 0!==b&&b.exports?b.exports=E:(M||(M="undefined"!=typeof self&&self?self:window),M.BigNumber=E)}(this)},{}],2:[function(ce,b,O){"use strict";b.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(M){var E=M%10;return 1==~~(M%100/10)?"th":1===E?"st":2===E?"nd":3===E?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(ce,b,O){"use strict";function M(de,be){return function(Ie){if(Array.isArray(Ie))return Ie}(de)||function(Ie,Re){var ze=[],it=!0,We=!1,Oe=void 0;try{for(var Ke,dt=Ie[Symbol.iterator]();!(it=(Ke=dt.next()).done)&&(ze.push(Ke.value),!Re||ze.length!==Re);it=!0);}catch(rt){We=!0,Oe=rt}finally{try{it||null==dt.return||dt.return()}finally{if(We)throw Oe}}return ze}(de,be)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E=ce("./globalState"),R=ce("./validating"),A=ce("./parsing"),I=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],N={general:{scale:1024,suffixes:I,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:I,marker:"d"}},W={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function G(de){var be=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Ie=2<arguments.length?arguments[2]:void 0;if("string"==typeof be&&(be=A.parseFormat(be)),!R.validateFormat(be))return"ERROR: invalid format";var Re=be.prefix||"",ze=be.postfix||"",it=function(We,Oe,Ke){switch(Oe.output){case"currency":return function(Dn,nn,Gr){var gi=Gr.currentCurrency(),vi=Object.assign({},W,nn),di=void 0,ur="",_e=!!vi.totalLength||!!vi.forceAverage||vi.average,He=nn.currencyPosition||gi.position,Qe=nn.currencySymbol||gi.symbol;vi.spaceSeparated&&(ur=" "),"infix"===He&&(di=ur+Qe+ur);var St=he({instance:Dn,providedFormat:nn,state:Gr,decimalSeparator:di});return"prefix"===He&&(St=Dn._value<0&&"sign"===vi.negative?"-".concat(ur).concat(Qe).concat(St.slice(1)):Qe+ur+St),He&&"postfix"!==He||(St=St+(ur=_e?"":ur)+Qe),St}(We,Oe=$(Oe,E.currentCurrencyDefaultFormat()),E);case"percent":return Oe=$(Oe,E.currentPercentageDefaultFormat()),Gr=E,vi=(nn=Oe).prefixSymbol,di=he({instance:Ke(100*We._value),providedFormat:nn,state:Gr}),ur=Object.assign({},W,nn),vi?"%".concat(ur.spaceSeparated?" ":"").concat(di):"".concat(di).concat(ur.spaceSeparated?" ":"","%");case"byte":return Oe=$(Oe,E.currentByteDefaultFormat()),$t=E,bn=Ke,Sn=(Rt=Oe).base||"binary",Yn=(Jn=ne(We._value,(Ht=N[Sn]).suffixes,Ht.scale)).suffix,Hn=he({instance:bn(Jn.value),providedFormat:Rt,state:$t,defaults:$t.currentByteDefaultFormat()}),Mr=$t.currentAbbreviations(),"".concat(Hn).concat(Mr.spaced?" ":"").concat(Yn);case"time":return Oe=$(Oe,E.currentTimeDefaultFormat()),Zt=We,It=Math.floor(Zt._value/60/60),Fe=Math.floor((Zt._value-60*It*60)/60),ge=Math.round(Zt._value-60*It*60-60*Fe),"".concat(It,":").concat(Fe<10?"0":"").concat(Fe,":").concat(ge<10?"0":"").concat(ge);case"ordinal":return dt=We,rt=Oe=$(Oe,E.currentOrdinalDefaultFormat()),Pt=(yt=E).currentOrdinal(),Ft=Object.assign({},W,rt),Gt=he({instance:dt,providedFormat:rt,state:yt}),Kt=Pt(dt._value),"".concat(Gt).concat(Ft.spaceSeparated?" ":"").concat(Kt);default:return he({instance:We,providedFormat:Oe,numbro:Ke})}var nn,Gr,vi,di,ur,dt,rt,yt,Pt,Ft,Gt,Kt,Zt,It,Fe,ge,Rt,$t,bn,Sn,Ht,Jn,Yn,Hn,Mr}(de,be,Ie);return(it=Re+it)+ze}function ne(de,be,Ie){var Re=be[0],ze=Math.abs(de);if(Ie<=ze){for(var it=1;it<be.length;++it){var We=Math.pow(Ie,it),Oe=Math.pow(Ie,it+1);if(We<=ze&&ze<Oe){Re=be[it],de/=We;break}}Re===be[0]&&(de/=Math.pow(Ie,be.length-1),Re=be[be.length-1])}return{value:de,suffix:Re}}function ae(de){for(var be="",Ie=0;Ie<de;Ie++)be+="0";return be}function he(de){var be=de.instance,Ie=de.providedFormat,Re=de.state,ze=void 0===Re?E:Re,it=de.decimalSeparator,We=de.defaults,Oe=void 0===We?ze.currentDefaults():We,Ke=be._value;if(0===Ke&&ze.hasZeroFormat())return ze.getZeroFormat();if(!isFinite(Ke))return Ke.toString();var dt,rt,yt,Pt,Ft,Kt,Zt,It=Object.assign({},W,Oe,Ie),Fe=It.totalLength,ge=Fe?0:It.characteristic,ht=It.optionalCharacteristic,Rt=It.forceAverage,$t=!!Fe||!!Rt||It.average,bn=Fe?-1:$t&&void 0===Ie.mantissa?0:It.mantissa,Sn=!Fe&&(void 0===Ie.optionalMantissa?-1===bn:It.optionalMantissa),Ht=It.trimMantissa,Jn=It.thousandSeparated,Wn=It.spaceSeparated,Yn=It.negative,Hn=It.forceSign,Mr=It.exponential,Dn="";if($t){var nn=function(_e){var He=_e.value,Qe=_e.forceAverage,St=_e.abbreviations,ct=_e.spaceSeparated,qe=void 0!==ct&&ct,Xe=_e.totalLength,Ze=void 0===Xe?0:Xe,_t="",mt=Math.abs(He),Ct=-1;if(mt>=Math.pow(10,12)&&!Qe||"trillion"===Qe?(_t=St.trillion,He/=Math.pow(10,12)):mt<Math.pow(10,12)&&mt>=Math.pow(10,9)&&!Qe||"billion"===Qe?(_t=St.billion,He/=Math.pow(10,9)):mt<Math.pow(10,9)&&mt>=Math.pow(10,6)&&!Qe||"million"===Qe?(_t=St.million,He/=Math.pow(10,6)):(mt<Math.pow(10,6)&&mt>=Math.pow(10,3)&&!Qe||"thousand"===Qe)&&(_t=St.thousand,He/=Math.pow(10,3)),_t&&(_t=(qe?" ":"")+_t),Ze){var qt=He.toString().split(".")[0];Ct=Math.max(Ze-qt.length,0)}return{value:He,abbreviation:_t,mantissaPrecision:Ct}}({value:Ke,forceAverage:Rt,abbreviations:ze.currentAbbreviations(),spaceSeparated:Wn,totalLength:Fe});Ke=nn.value,Dn+=nn.abbreviation,Fe&&(bn=nn.mantissaPrecision)}if(Mr){var Gr=(rt=(dt={value:Ke,characteristicPrecision:ge}).value,Pt=void 0===(yt=dt.characteristicPrecision)?0:yt,Kt=(Ft=M(rt.toExponential().split("e"),2))[1],Zt=+Ft[0],Pt&&1<Pt&&(Zt*=Math.pow(10,Pt-1),Kt=0<=(Kt=+Kt-(Pt-1))?"+".concat(Kt):Kt),{value:Zt,abbreviation:"e".concat(Kt)});Ke=Gr.value,Dn=Gr.abbreviation+Dn}var gi,vi,di,ur=function(_e,He,Qe,St,ct){if(-1===St)return _e;var qe=function le(de,be){return-1!==de.toString().indexOf("e")?function(Ie,Re){var ze=Ie.toString(),it=M(ze.split("e"),2),Oe=it[1],Ke=M(it[0].split("."),2),dt=Ke[0],rt=Ke[1],yt=void 0===rt?"":rt;if(0<+Oe)ze=dt+yt+ae(Oe-yt.length);else{var Pt=".";Pt=+dt<0?"-0".concat(Pt):"0".concat(Pt);var Ft=(ae(-Oe-1)+Math.abs(dt)+yt).substr(0,Re);Ft.length<Re&&(Ft+=ae(Re-Ft.length)),ze=Pt+Ft}return 0<+Oe&&0<Re&&(ze+=".".concat(ae(Re))),ze}(de,be):(Math.round(+"".concat(de,"e+").concat(be))/Math.pow(10,be)).toFixed(be)}(He,St),Xe=M(qe.toString().split("."),2),Ze=Xe[0],_t=Xe[1],mt=void 0===_t?"":_t;if(mt.match(/^0+$/)&&(Qe||ct))return Ze;var Ct=mt.match(/0+$/);return ct&&Ct?"".concat(Ze,".").concat(mt.toString().slice(0,Ct.index)):qe.toString()}(Ke.toString(),Ke,Sn,bn,Ht);return ur=function(_e,He,Qe,St,ct){var qe=St.currentDelimiters(),Xe=qe.thousands;ct=ct||qe.decimal;var Ze=qe.thousandsSize||3,_t=_e.toString(),mt=_t.split(".")[0],Ct=_t.split(".")[1];return Qe&&(He<0&&(mt=mt.slice(1)),function(qt,dn){for(var xn=[],Un=0,br=qt;0<br;br--)Un===dn&&(xn.unshift(br),Un=0),Un++;return xn}(mt.length,Ze).forEach(function(qt,dn){mt=mt.slice(0,qt+dn)+Xe+mt.slice(qt+dn)}),He<0&&(mt="-".concat(mt))),Ct?mt+ct+Ct:mt}(ur=function(_e,He,Qe,St){var ct=_e,qe=M(ct.toString().split("."),2),Xe=qe[0],Ze=qe[1];if(Xe.match(/^-?0$/)&&Qe)return Ze?"".concat(Xe.replace("0",""),".").concat(Ze):Xe.replace("0","");if(Xe.length<St)for(var _t=St-Xe.length,mt=0;mt<_t;mt++)ct="0".concat(ct);return ct.toString()}(ur,0,ht,ge),Ke,Jn,ze,it),($t||Mr)&&(ur+=Dn),(Hn||Ke<0)&&(gi=ur,di=Yn,ur=0===(vi=Ke)?gi:0==+gi?gi.replace("-",""):0<vi?"+".concat(gi):"sign"===di?gi:"(".concat(gi.replace("-",""),")")),ur}function $(de,be){if(!de)return be;var Ie=Object.keys(de);return 1===Ie.length&&"output"===Ie[0]?be:de}b.exports=function(de){return{format:function(){for(var be=arguments.length,Ie=new Array(be),Re=0;Re<be;Re++)Ie[Re]=arguments[Re];return G.apply(void 0,Ie.concat([de]))},getByteUnit:function(){for(var be=arguments.length,Ie=new Array(be),Re=0;Re<be;Re++)Ie[Re]=arguments[Re];return function(ze){var it=N.general;return ne(ze._value,it.suffixes,it.scale).suffix}.apply(void 0,Ie.concat([de]))},getBinaryByteUnit:function(){for(var be=arguments.length,Ie=new Array(be),Re=0;Re<be;Re++)Ie[Re]=arguments[Re];return function(ze){var it=N.binary;return ne(ze._value,it.suffixes,it.scale).suffix}.apply(void 0,Ie.concat([de]))},getDecimalByteUnit:function(){for(var be=arguments.length,Ie=new Array(be),Re=0;Re<be;Re++)Ie[Re]=arguments[Re];return function(ze){var it=N.decimal;return ne(ze._value,it.suffixes,it.scale).suffix}.apply(void 0,Ie.concat([de]))},formatOrDefault:$}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(ce,b,O){"use strict";var M=ce("./en-US"),E=ce("./validating"),R=ce("./parsing"),A={},I=void 0,N={},W=null,G={};function ne(le){I=le}function ae(){return N[I]}A.languages=function(){return Object.assign({},N)},A.currentLanguage=function(){return I},A.currentCurrency=function(){return ae().currency},A.currentAbbreviations=function(){return ae().abbreviations},A.currentDelimiters=function(){return ae().delimiters},A.currentOrdinal=function(){return ae().ordinal},A.currentDefaults=function(){return Object.assign({},ae().defaults,G)},A.currentOrdinalDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().ordinalFormat)},A.currentByteDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().byteFormat)},A.currentPercentageDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().percentageFormat)},A.currentCurrencyDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().currencyFormat)},A.currentTimeDefaultFormat=function(){return Object.assign({},A.currentDefaults(),ae().timeFormat)},A.setDefaults=function(le){le=R.parseFormat(le),E.validateFormat(le)&&(G=le)},A.getZeroFormat=function(){return W},A.setZeroFormat=function(le){return W="string"==typeof le?le:null},A.hasZeroFormat=function(){return null!==W},A.languageData=function(le){if(le){if(N[le])return N[le];throw new Error('Unknown tag "'.concat(le,'"'))}return ae()},A.registerLanguage=function(le){var he=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!E.validateLanguage(le))throw new Error("Invalid language data");N[le.languageTag]=le,he&&ne(le.languageTag)},A.setLanguage=function(le){var he=1<arguments.length&&void 0!==arguments[1]?arguments[1]:M.languageTag;if(!N[le]){var $=le.split("-")[0],de=Object.keys(N).find(function(be){return be.split("-")[0]===$});return N[de]?void ne(de):void ne(he)}ne(le)},A.registerLanguage(M),I=M.languageTag,b.exports=A},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(ce,b,O){"use strict";b.exports=function(M){return{loadLanguagesInNode:function(E){return R=M,void E.forEach(function(A){var I=void 0;try{I=ce("../languages/".concat(A))}catch(N){console.error('Unable to load "'.concat(A,'". No matching language file found.'))}I&&R.registerLanguage(I)});var R}}}},{}],6:[function(ce,b,O){"use strict";var M=ce("bignumber.js");function E(R,A,I){var N=new M(R._value),W=A;return I.isNumbro(A)&&(W=A._value),W=new M(W),R._value=N.minus(W).toNumber(),R}b.exports=function(R){return{add:function(A,I){return W=I,G=R,ne=new M((N=A)._value),ae=W,G.isNumbro(W)&&(ae=W._value),ae=new M(ae),N._value=ne.plus(ae).toNumber(),N;var N,W,G,ne,ae},subtract:function(A,I){return E(A,I,R)},multiply:function(A,I){return W=I,G=R,ne=new M((N=A)._value),ae=W,G.isNumbro(W)&&(ae=W._value),ae=new M(ae),N._value=ne.times(ae).toNumber(),N;var N,W,G,ne,ae},divide:function(A,I){return W=I,G=R,ne=new M((N=A)._value),ae=W,G.isNumbro(W)&&(ae=W._value),ae=new M(ae),N._value=ne.dividedBy(ae).toNumber(),N;var N,W,G,ne,ae},set:function(A,I){return N=A,G=W=I,R.isNumbro(W)&&(G=W._value),N._value=G,N;var N,W,G},difference:function(A,I){return N=I,E(G=(W=R)(A._value),N,W),Math.abs(G._value);var N,W,G}}}},{"bignumber.js":1}],7:[function(ce,b,O){"use strict";function M(he,$){for(var de=0;de<$.length;de++){var be=$[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(he,be.key,be)}}var E=ce("./globalState"),R=ce("./validating"),A=ce("./loading")(le),I=ce("./unformatting"),N=ce("./formatting")(le),W=ce("./manipulating")(le),G=ce("./parsing"),ne=function(){function he(Ie){(function(Re,ze){if(!(Re instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,he),this._value=Ie}var $,de;return $=he,(de=[{key:"clone",value:function(){return le(this._value)}},{key:"format",value:function(){return N.format(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"formatCurrency",value:function(Ie){return"string"==typeof Ie&&(Ie=G.parseFormat(Ie)),(Ie=N.formatOrDefault(Ie,E.currentCurrencyDefaultFormat())).output="currency",N.format(this,Ie)}},{key:"formatTime",value:function(){var Ie=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Ie.output="time",N.format(this,Ie)}},{key:"binaryByteUnits",value:function(){return N.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return N.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return N.getByteUnit(this)}},{key:"difference",value:function(Ie){return W.difference(this,Ie)}},{key:"add",value:function(Ie){return W.add(this,Ie)}},{key:"subtract",value:function(Ie){return W.subtract(this,Ie)}},{key:"multiply",value:function(Ie){return W.multiply(this,Ie)}},{key:"divide",value:function(Ie){return W.divide(this,Ie)}},{key:"set",value:function(Ie){return W.set(this,ae(Ie))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&M($.prototype,de),he}();function ae(he){var $=he;return le.isNumbro(he)?$=he._value:"string"==typeof he?$=le.unformat(he):isNaN(he)&&($=NaN),$}function le(he){return new ne(ae(he))}le.version="2.1.2",le.isNumbro=function(he){return he instanceof ne},le.language=E.currentLanguage,le.registerLanguage=E.registerLanguage,le.setLanguage=E.setLanguage,le.languages=E.languages,le.languageData=E.languageData,le.zeroFormat=E.setZeroFormat,le.defaultFormat=E.currentDefaults,le.setDefaults=E.setDefaults,le.defaultCurrencyFormat=E.currentCurrencyDefaultFormat,le.validate=R.validate,le.loadLanguagesInNode=A.loadLanguagesInNode,le.unformat=I.unformat,b.exports=le},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(ce,b,O){"use strict";b.exports={parseFormat:function(M){var E,R,A,I,N,W,G,ne,ae,le,he,$,de,be,Ie,Re,ze,it,We,Oe,Ke=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof M?M:(R=Ke,N=Ke,function(dt,rt){if(-1===dt.indexOf("$")){if(-1===dt.indexOf("%"))return-1!==dt.indexOf("bd")?(rt.output="byte",rt.base="general"):-1!==dt.indexOf("b")?(rt.output="byte",rt.base="binary"):-1!==dt.indexOf("d")?(rt.output="byte",rt.base="decimal"):-1===dt.indexOf(":")?-1!==dt.indexOf("o")&&(rt.output="ordinal"):rt.output="time";rt.output="percent"}else rt.output="currency"}(M=(W=(I=M=(A=(E=M).match(/^{([^}]*)}/))?(R.prefix=A[1],E.slice(A[0].length)):E).match(/{([^}]*)}$/))?(N.postfix=W[1],I.slice(0,-W[0].length)):I,Ke),G=Ke,(ne=M.match(/[1-9]+[0-9]*/))&&(G.totalLength=+ne[0]),ae=Ke,(le=M.split(".")[0].match(/0+/))&&(ae.characteristic=le[0].length),function(dt,rt){if(-1!==dt.indexOf(".")){var yt=dt.split(".")[0];rt.optionalCharacteristic=-1===yt.indexOf("0")}}(M,Ke),he=Ke,-1!==M.indexOf("a")&&(he.average=!0),de=Ke,-1!==($=M).indexOf("K")?de.forceAverage="thousand":-1!==$.indexOf("M")?de.forceAverage="million":-1!==$.indexOf("B")?de.forceAverage="billion":-1!==$.indexOf("T")&&(de.forceAverage="trillion"),function(dt,rt){var yt=dt.split(".")[1];if(yt){var Pt=yt.match(/0+/);Pt&&(rt.mantissa=Pt[0].length)}}(M,Ke),Ie=Ke,(be=M).match(/\[\.]/)?Ie.optionalMantissa=!0:be.match(/\./)&&(Ie.optionalMantissa=!1),Re=Ke,-1!==M.indexOf(",")&&(Re.thousandSeparated=!0),ze=Ke,-1!==M.indexOf(" ")&&(ze.spaceSeparated=!0),We=Ke,(it=M).match(/^\+?\([^)]*\)$/)&&(We.negative="parenthesis"),it.match(/^\+?-/)&&(We.negative="sign"),Oe=Ke,M.match(/^\+/)&&(Oe.forceSign=!0),Ke)}}},{}],9:[function(ce,b,O){"use strict";var M=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function E(A){return A.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}b.exports={unformat:function(A,I){var N,ne=ce("./globalState"),ae=ne.currentDelimiters(),le=ne.currentCurrency().symbol,he=ne.currentOrdinal(),$=ne.getZeroFormat(),de=ne.currentAbbreviations(),be=void 0;if("string"==typeof A)be=function(Ie,Re){if(!Ie.indexOf(":")||":"===Re.thousands)return!1;var ze=Ie.split(":");if(3!==ze.length)return!1;var We=+ze[1],Oe=+ze[2];return!isNaN(+ze[0])&&!isNaN(We)&&!isNaN(Oe)}(A,ae)?+(N=A.split(":"))[2]+60*+N[1]+3600*+N[0]:function R(A,I){var N=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",W=3<arguments.length?arguments[3]:void 0,G=4<arguments.length?arguments[4]:void 0,ne=5<arguments.length?arguments[5]:void 0,ae=6<arguments.length?arguments[6]:void 0;if(""!==A)return A===G?0:function le(he,$){var de=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",be=3<arguments.length?arguments[3]:void 0,Ie=4<arguments.length?arguments[4]:void 0,Re=5<arguments.length?arguments[5]:void 0,ze=6<arguments.length?arguments[6]:void 0;if(!isNaN(+he))return+he;var it="",We=he.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(We!==he)return-1*le(We,$,de,be,Ie,Re,ze);for(var Oe=0;Oe<M.length;Oe++){var Ke=M[Oe];if((it=he.replace(Ke.key,""))!==he)return le(it,$,de,be,Ie,Re,ze)*Ke.factor}if((it=he.replace("%",""))!==he)return le(it,$,de,be,Ie,Re,ze)/100;var dt=parseFloat(he);if(!isNaN(dt)){var rt=be(dt);if(rt&&"."!==rt&&(it=he.replace(new RegExp("".concat(E(rt),"$")),""))!==he)return le(it,$,de,be,Ie,Re,ze);var yt={};Object.keys(Re).forEach(function(Fe){yt[Re[Fe]]=Fe});for(var Pt=Object.keys(yt).sort().reverse(),Ft=Pt.length,Gt=0;Gt<Ft;Gt++){var Kt=Pt[Gt],Zt=yt[Kt];if((it=he.replace(Kt,""))!==he){var It=void 0;switch(Zt){case"thousand":It=Math.pow(10,3);break;case"million":It=Math.pow(10,6);break;case"billion":It=Math.pow(10,9);break;case"trillion":It=Math.pow(10,12)}return le(it,$,de,be,Ie,Re,ze)*It}}}}(function(le,he){var de=le.replace(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"","");return(de=de.replace(new RegExp("([0-9])".concat(E(he.thousands),"([0-9])"),"g"),"$1$2")).replace(he.decimal,".")}(A,I,N),I,N,W,G,ne,ae)}(A,ae,le,he,$,de,I);else{if("number"!=typeof A)return;be=A}if(void 0!==be)return be}}},{"./globalState":4}],10:[function(ce,b,O){"use strict";function M(ae){return function(le){if(Array.isArray(le)){for(var he=0,$=new Array(le.length);he<le.length;he++)$[he]=le[he];return $}}(ae)||function(le){if(Symbol.iterator in Object(le)||"[object Arguments]"===Object.prototype.toString.call(le))return Array.from(le)}(ae)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(ae){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(le){return typeof le}:function(le){return le&&"function"==typeof Symbol&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le})(ae)}var R=ce("./unformatting"),A=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,I={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(ae,le){return"byte"===le.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(ae){return"byte"===ae.output}},characteristic:{type:"number",restriction:function(ae){return 0<=ae},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(ae){return 0<=ae},message:"value must be positive"},{restriction:function(ae,le){return!le.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(ae){return 0<=ae},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(ae,le){return"percent"===le.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},N={languageTag:{type:"string",mandatory:!0,restriction:function(ae){return ae.match(A)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function W(ae){return!!R.unformat(ae)}function G(ae,le,he){var $=3<arguments.length&&void 0!==arguments[3]&&arguments[3],de=Object.keys(ae).map(function(be){if(!le[be])return console.error("".concat(he," Invalid key: ").concat(be)),!1;var Ie=ae[be],Re=le[be];if("string"==typeof Re&&(Re={type:Re}),"format"===Re.type){if(!G(Ie,I,"[Validate ".concat(be,"]"),!0))return!1}else if(E(Ie)!==Re.type)return console.error("".concat(he," ").concat(be,' type mismatched: "').concat(Re.type,'" expected, "').concat(E(Ie),'" provided')),!1;if(Re.restrictions&&Re.restrictions.length)for(var ze=Re.restrictions.length,it=0;it<ze;it++){var We=Re.restrictions[it],Ke=We.message;if(!(0,We.restriction)(Ie,ae))return console.error("".concat(he," ").concat(be," invalid value: ").concat(Ke)),!1}return Re.restriction&&!Re.restriction(Ie,ae)?(console.error("".concat(he," ").concat(be," invalid value: ").concat(Re.message)),!1):Re.validValues&&-1===Re.validValues.indexOf(Ie)?(console.error("".concat(he," ").concat(be," invalid value: must be among ").concat(JSON.stringify(Re.validValues),', "').concat(Ie,'" provided')),!1):!(Re.children&&!G(Ie,Re.children,"[Validate ".concat(be,"]")))});return $||de.push.apply(de,M(Object.keys(le).map(function(be){var Ie=le[be];if("string"==typeof Ie&&(Ie={type:Ie}),Ie.mandatory){var Re=Ie.mandatory;if("function"==typeof Re&&(Re=Re(ae)),Re&&void 0===ae[be])return console.error("".concat(he,' Missing mandatory key "').concat(be,'"')),!1}return!0}))),de.reduce(function(be,Ie){return be&&Ie},!0)}function ne(ae){return G(ae,I,"[Validate format]")}b.exports={validate:function(ae,le){var he=W(ae),$=ne(le);return he&&$},validateFormat:ne,validateInput:W,validateLanguage:function(ae){return G(ae,N,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)},8183:function(ee,ce,b){!function(O,M){"use strict";var E;try{E=b(6908)}catch(R){}ee.exports=function(O){var M="function"==typeof O,E=!!window.addEventListener,R=window.document,A=window.setTimeout,I=function(Fe,ge,ht,Rt){E?Fe.addEventListener(ge,ht,!!Rt):Fe.attachEvent("on"+ge,ht)},N=function(Fe,ge,ht,Rt){E?Fe.removeEventListener(ge,ht,!!Rt):Fe.detachEvent("on"+ge,ht)},G=function(Fe,ge){return-1!==(" "+Fe.className+" ").indexOf(" "+ge+" ")},ne=function(Fe,ge){G(Fe,ge)||(Fe.className=""===Fe.className?ge:Fe.className+" "+ge)},ae=function(Fe,ge){Fe.className=function(Fe){return Fe.trim?Fe.trim():Fe.replace(/^\s+|\s+$/g,"")}((" "+Fe.className+" ").replace(" "+ge+" "," "))},le=function(Fe){return/Array/.test(Object.prototype.toString.call(Fe))},he=function(Fe){return/Date/.test(Object.prototype.toString.call(Fe))&&!isNaN(Fe.getTime())},$=function(Fe){var ge=Fe.getDay();return 0===ge||6===ge},de=function(Fe){return Fe%4==0&&Fe%100!=0||Fe%400==0},be=function(Fe,ge){return[31,de(Fe)?29:28,31,30,31,30,31,31,30,31,30,31][ge]},Ie=function(Fe){he(Fe)&&Fe.setHours(0,0,0,0)},Re=function(Fe,ge){return Fe.getTime()===ge.getTime()},ze=function(Fe,ge,ht){var Rt,$t;for(Rt in ge)($t=void 0!==Fe[Rt])&&"object"==typeof ge[Rt]&&null!==ge[Rt]&&void 0===ge[Rt].nodeName?he(ge[Rt])?ht&&(Fe[Rt]=new Date(ge[Rt].getTime())):le(ge[Rt])?ht&&(Fe[Rt]=ge[Rt].slice(0)):Fe[Rt]=ze({},ge[Rt],ht):(ht||!$t)&&(Fe[Rt]=ge[Rt]);return Fe},it=function(Fe,ge,ht){var Rt;R.createEvent?((Rt=R.createEvent("HTMLEvents")).initEvent(ge,!0,!1),Rt=ze(Rt,ht),Fe.dispatchEvent(Rt)):R.createEventObject&&(Rt=R.createEventObject(),Rt=ze(Rt,ht),Fe.fireEvent("on"+ge,Rt))},We=function(Fe){return Fe.month<0&&(Fe.year-=Math.ceil(Math.abs(Fe.month)/12),Fe.month+=12),Fe.month>11&&(Fe.year+=Math.floor(Math.abs(Fe.month)/12),Fe.month-=12),Fe},Oe={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},Ke=function(Fe,ge,ht){for(ge+=Fe.firstDay;ge>=7;)ge-=7;return ht?Fe.i18n.weekdaysShort[ge]:Fe.i18n.weekdays[ge]},dt=function(Fe){var ge=[],ht="false";if(Fe.isEmpty){if(!Fe.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';ge.push("is-outside-current-month"),Fe.enableSelectionDaysInNextAndPreviousMonths||ge.push("is-selection-disabled")}return Fe.isDisabled&&ge.push("is-disabled"),Fe.isToday&&ge.push("is-today"),Fe.isSelected&&(ge.push("is-selected"),ht="true"),Fe.hasEvent&&ge.push("has-event"),Fe.isInRange&&ge.push("is-inrange"),Fe.isStartRange&&ge.push("is-startrange"),Fe.isEndRange&&ge.push("is-endrange"),'<td data-day="'+Fe.day+'" class="'+ge.join(" ")+'" aria-selected="'+ht+'"><button class="pika-button pika-day" type="button" data-pika-year="'+Fe.year+'" data-pika-month="'+Fe.month+'" data-pika-day="'+Fe.day+'">'+Fe.day+"</button></td>"},yt=function(Fe,ge,ht,Rt){var $t=new Date(ht,ge,Fe);return'<td class="pika-week">'+(M?O($t).isoWeek():function(Fe,ge){Fe.setHours(0,0,0,0);var ht=Fe.getDate(),Rt=Fe.getDay(),$t=ge,bn=$t-1,Ht=function(Mr){return(Mr+7-1)%7};Fe.setDate(ht+bn-Ht(Rt));var Jn=new Date(Fe.getFullYear(),0,$t),Yn=(Fe.getTime()-Jn.getTime())/864e5;return 1+Math.round((Yn-bn+Ht(Jn.getDay()))/7)}($t,Rt))+"</td>"},Pt=function(Fe,ge,ht,Rt){return'<tr class="pika-row'+(ht?" pick-whole-week":"")+(Rt?" is-selected":"")+'">'+(ge?Fe.reverse():Fe).join("")+"</tr>"},Kt=function(Fe,ge,ht,Rt,$t,bn){var Sn,Ht,Jn,Dn,nn,Wn=Fe._o,Yn=ht===Wn.minYear,Hn=ht===Wn.maxYear,Mr='<div id="'+bn+'" class="pika-title" role="heading" aria-live="assertive">',Gr=!0,gi=!0;for(Jn=[],Sn=0;Sn<12;Sn++)Jn.push('<option value="'+(ht===$t?Sn-ge:12+Sn-ge)+'"'+(Sn===Rt?' selected="selected"':"")+(Yn&&Sn<Wn.minMonth||Hn&&Sn>Wn.maxMonth?' disabled="disabled"':"")+">"+Wn.i18n.months[Sn]+"</option>");for(Dn='<div class="pika-label">'+Wn.i18n.months[Rt]+'<select class="pika-select pika-select-month" tabindex="-1">'+Jn.join("")+"</select></div>",le(Wn.yearRange)?(Sn=Wn.yearRange[0],Ht=Wn.yearRange[1]+1):(Sn=ht-Wn.yearRange,Ht=1+ht+Wn.yearRange),Jn=[];Sn<Ht&&Sn<=Wn.maxYear;Sn++)Sn>=Wn.minYear&&Jn.push('<option value="'+Sn+'"'+(Sn===ht?' selected="selected"':"")+">"+Sn+"</option>");return nn='<div class="pika-label">'+ht+Wn.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+Jn.join("")+"</select></div>",Mr+=Wn.showMonthAfterYear?nn+Dn:Dn+nn,Yn&&(0===Rt||Wn.minMonth>=Rt)&&(Gr=!1),Hn&&(11===Rt||Wn.maxMonth<=Rt)&&(gi=!1),0===ge&&(Mr+='<button class="pika-prev'+(Gr?"":" is-disabled")+'" type="button">'+Wn.i18n.previousMonth+"</button>"),ge===Fe._o.numberOfMonths-1&&(Mr+='<button class="pika-next'+(gi?"":" is-disabled")+'" type="button">'+Wn.i18n.nextMonth+"</button>"),Mr+"</div>"},Zt=function(Fe,ge,ht){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+ht+'">'+function(Fe){var ge,ht=[];for(Fe.showWeekNumber&&ht.push("<th></th>"),ge=0;ge<7;ge++)ht.push('<th scope="col"><abbr title="'+Ke(Fe,ge)+'">'+Ke(Fe,ge,!0)+"</abbr></th>");return"<thead><tr>"+(Fe.isRTL?ht.reverse():ht).join("")+"</tr></thead>"}(Fe)+function(Fe){return"<tbody>"+Fe.join("")+"</tbody>"}(ge)+"</table>"},It=function(Fe){var ge=this,ht=ge.config(Fe);ge._onMouseDown=function($t){if(ge._v){var bn=($t=$t||window.event).target||$t.srcElement;if(bn)if(G(bn,"is-disabled")||(!G(bn,"pika-button")||G(bn,"is-empty")||G(bn.parentNode,"is-disabled")?G(bn,"pika-prev")?ge.prevMonth():G(bn,"pika-next")&&ge.nextMonth():(ge.setDate(new Date(bn.getAttribute("data-pika-year"),bn.getAttribute("data-pika-month"),bn.getAttribute("data-pika-day"))),ht.bound&&A(function(){ge.hide(),ht.blurFieldOnSelect&&ht.field&&ht.field.blur()},100))),G(bn,"pika-select"))ge._c=!0;else{if(!$t.preventDefault)return $t.returnValue=!1,!1;$t.preventDefault()}}},ge._onChange=function($t){var bn=($t=$t||window.event).target||$t.srcElement;!bn||(G(bn,"pika-select-month")?ge.gotoMonth(bn.value):G(bn,"pika-select-year")&&ge.gotoYear(bn.value))},ge._onKeyChange=function($t){if($t=$t||window.event,ge.isVisible())switch($t.keyCode){case 13:case 27:ht.field&&ht.field.blur();break;case 37:ge.adjustDate("subtract",1);break;case 38:ge.adjustDate("subtract",7);break;case 39:ge.adjustDate("add",1);break;case 40:ge.adjustDate("add",7);break;case 8:case 46:ge.setDate(null)}},ge._parseFieldValue=function(){if(ht.parse)return ht.parse(ht.field.value,ht.format);if(M){var $t=O(ht.field.value,ht.format,ht.formatStrict);return $t&&$t.isValid()?$t.toDate():null}return new Date(Date.parse(ht.field.value))},ge._onInputChange=function($t){var bn;$t.firedBy!==ge&&(bn=ge._parseFieldValue(),he(bn)&&ge.setDate(bn),ge._v||ge.show())},ge._onInputFocus=function(){ge.show()},ge._onInputClick=function(){ge.show()},ge._onInputBlur=function(){var $t=R.activeElement;do{if(G($t,"pika-single"))return}while($t=$t.parentNode);ge._c||(ge._b=A(function(){ge.hide()},50)),ge._c=!1},ge._onClick=function($t){var bn=($t=$t||window.event).target||$t.srcElement,Sn=bn;if(bn){!E&&G(bn,"pika-select")&&(bn.onchange||(bn.setAttribute("onchange","return;"),I(bn,"change",ge._onChange)));do{if(G(Sn,"pika-single")||Sn===ht.trigger)return}while(Sn=Sn.parentNode);ge._v&&bn!==ht.trigger&&Sn!==ht.trigger&&ge.hide()}},ge.el=R.createElement("div"),ge.el.className="pika-single"+(ht.isRTL?" is-rtl":"")+(ht.theme?" "+ht.theme:""),I(ge.el,"mousedown",ge._onMouseDown,!0),I(ge.el,"touchend",ge._onMouseDown,!0),I(ge.el,"change",ge._onChange),ht.keyboardInput&&I(R,"keydown",ge._onKeyChange),ht.field&&(ht.container?ht.container.appendChild(ge.el):ht.bound?R.body.appendChild(ge.el):ht.field.parentNode.insertBefore(ge.el,ht.field.nextSibling),I(ht.field,"change",ge._onInputChange),ht.defaultDate||(ht.defaultDate=ge._parseFieldValue(),ht.setDefaultDate=!0));var Rt=ht.defaultDate;he(Rt)?ht.setDefaultDate?ge.setDate(Rt,!0):ge.gotoDate(Rt):ge.gotoDate(new Date),ht.bound?(this.hide(),ge.el.className+=" is-bound",I(ht.trigger,"click",ge._onInputClick),I(ht.trigger,"focus",ge._onInputFocus),I(ht.trigger,"blur",ge._onInputBlur)):this.show()};return It.prototype={config:function(Fe){this._o||(this._o=ze({},Oe,!0));var ge=ze(this._o,Fe,!0);ge.isRTL=!!ge.isRTL,ge.field=ge.field&&ge.field.nodeName?ge.field:null,ge.theme="string"==typeof ge.theme&&ge.theme?ge.theme:null,ge.bound=!!(void 0!==ge.bound?ge.field&&ge.bound:ge.field),ge.trigger=ge.trigger&&ge.trigger.nodeName?ge.trigger:ge.field,ge.disableWeekends=!!ge.disableWeekends,ge.disableDayFn="function"==typeof ge.disableDayFn?ge.disableDayFn:null;var ht=parseInt(ge.numberOfMonths,10)||1;if(ge.numberOfMonths=ht>4?4:ht,he(ge.minDate)||(ge.minDate=!1),he(ge.maxDate)||(ge.maxDate=!1),ge.minDate&&ge.maxDate&&ge.maxDate<ge.minDate&&(ge.maxDate=ge.minDate=!1),ge.minDate&&this.setMinDate(ge.minDate),ge.maxDate&&this.setMaxDate(ge.maxDate),le(ge.yearRange)){var Rt=(new Date).getFullYear()-10;ge.yearRange[0]=parseInt(ge.yearRange[0],10)||Rt,ge.yearRange[1]=parseInt(ge.yearRange[1],10)||Rt}else ge.yearRange=Math.abs(parseInt(ge.yearRange,10))||Oe.yearRange,ge.yearRange>100&&(ge.yearRange=100);return ge},toString:function(Fe){return Fe=Fe||this._o.format,he(this._d)?this._o.toString?this._o.toString(this._d,Fe):M?O(this._d).format(Fe):this._d.toDateString():""},getMoment:function(){return M?O(this._d):null},setMoment:function(Fe,ge){M&&O.isMoment(Fe)&&this.setDate(Fe.toDate(),ge)},getDate:function(){return he(this._d)?new Date(this._d.getTime()):null},setDate:function(Fe,ge){if(!Fe)return this._d=null,this._o.field&&(this._o.field.value="",it(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof Fe&&(Fe=new Date(Date.parse(Fe))),he(Fe)){var ht=this._o.minDate,Rt=this._o.maxDate;he(ht)&&Fe<ht?Fe=ht:he(Rt)&&Fe>Rt&&(Fe=Rt),this._d=new Date(Fe.getTime()),Ie(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),it(this._o.field,"change",{firedBy:this})),!ge&&"function"==typeof this._o.onSelect&&this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(Fe){var ge=!0;if(he(Fe)){if(this.calendars){var ht=new Date(this.calendars[0].year,this.calendars[0].month,1),Rt=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),$t=Fe.getTime();Rt.setMonth(Rt.getMonth()+1),Rt.setDate(Rt.getDate()-1),ge=$t<ht.getTime()||Rt.getTime()<$t}ge&&(this.calendars=[{month:Fe.getMonth(),year:Fe.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(Fe,ge){var $t,ht=this.getDate()||new Date,Rt=24*parseInt(ge)*60*60*1e3;"add"===Fe?$t=new Date(ht.valueOf()+Rt):"subtract"===Fe&&($t=new Date(ht.valueOf()-Rt)),this.setDate($t)},adjustCalendars:function(){this.calendars[0]=We(this.calendars[0]);for(var Fe=1;Fe<this._o.numberOfMonths;Fe++)this.calendars[Fe]=We({month:this.calendars[0].month+Fe,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(Fe){isNaN(Fe)||(this.calendars[0].month=parseInt(Fe,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(Fe){isNaN(Fe)||(this.calendars[0].year=parseInt(Fe,10),this.adjustCalendars())},setMinDate:function(Fe){Fe instanceof Date?(Ie(Fe),this._o.minDate=Fe,this._o.minYear=Fe.getFullYear(),this._o.minMonth=Fe.getMonth()):(this._o.minDate=Oe.minDate,this._o.minYear=Oe.minYear,this._o.minMonth=Oe.minMonth,this._o.startRange=Oe.startRange),this.draw()},setMaxDate:function(Fe){Fe instanceof Date?(Ie(Fe),this._o.maxDate=Fe,this._o.maxYear=Fe.getFullYear(),this._o.maxMonth=Fe.getMonth()):(this._o.maxDate=Oe.maxDate,this._o.maxYear=Oe.maxYear,this._o.maxMonth=Oe.maxMonth,this._o.endRange=Oe.endRange),this.draw()},setStartRange:function(Fe){this._o.startRange=Fe},setEndRange:function(Fe){this._o.endRange=Fe},draw:function(Fe){if(this._v||Fe){var Ht,ge=this._o,ht=ge.minYear,Rt=ge.maxYear,$t=ge.minMonth,bn=ge.maxMonth,Sn="";this._y<=ht&&(this._y=ht,!isNaN($t)&&this._m<$t&&(this._m=$t)),this._y>=Rt&&(this._y=Rt,!isNaN(bn)&&this._m>bn&&(this._m=bn));for(var Jn=0;Jn<ge.numberOfMonths;Jn++)Ht="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),Sn+='<div class="pika-lendar">'+Kt(this,Jn,this.calendars[Jn].year,this.calendars[Jn].month,this.calendars[0].year,Ht)+this.render(this.calendars[Jn].year,this.calendars[Jn].month,Ht)+"</div>";this.el.innerHTML=Sn,ge.bound&&"hidden"!==ge.field.type&&A(function(){ge.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),ge.bound&&ge.field.setAttribute("aria-label",ge.ariaLabel)}},adjustPosition:function(){var Fe,ge,ht,Rt,$t,bn,Sn,Ht,Jn,Wn,Yn,Hn;if(!this._o.container){if(this.el.style.position="absolute",ge=Fe=this._o.trigger,ht=this.el.offsetWidth,Rt=this.el.offsetHeight,$t=window.innerWidth||R.documentElement.clientWidth,bn=window.innerHeight||R.documentElement.clientHeight,Sn=window.pageYOffset||R.body.scrollTop||R.documentElement.scrollTop,Yn=!0,Hn=!0,"function"==typeof Fe.getBoundingClientRect)Ht=(Wn=Fe.getBoundingClientRect()).left+window.pageXOffset,Jn=Wn.bottom+window.pageYOffset;else for(Ht=ge.offsetLeft,Jn=ge.offsetTop+ge.offsetHeight;ge=ge.offsetParent;)Ht+=ge.offsetLeft,Jn+=ge.offsetTop;(this._o.reposition&&Ht+ht>$t||this._o.position.indexOf("right")>-1&&Ht-ht+Fe.offsetWidth>0)&&(Ht=Ht-ht+Fe.offsetWidth,Yn=!1),(this._o.reposition&&Jn+Rt>bn+Sn||this._o.position.indexOf("top")>-1&&Jn-Rt-Fe.offsetHeight>0)&&(Jn=Jn-Rt-Fe.offsetHeight,Hn=!1),this.el.style.left=Ht+"px",this.el.style.top=Jn+"px",ne(this.el,Yn?"left-aligned":"right-aligned"),ne(this.el,Hn?"bottom-aligned":"top-aligned"),ae(this.el,Yn?"right-aligned":"left-aligned"),ae(this.el,Hn?"top-aligned":"bottom-aligned")}},render:function(Fe,ge,ht){var Rt=this._o,$t=new Date,bn=be(Fe,ge),Sn=new Date(Fe,ge,1).getDay(),Ht=[],Jn=[];Ie($t),Rt.firstDay>0&&(Sn-=Rt.firstDay)<0&&(Sn+=7);for(var Wn=0===ge?11:ge-1,Yn=11===ge?0:ge+1,Hn=0===ge?Fe-1:Fe,Mr=11===ge?Fe+1:Fe,Dn=be(Hn,Wn),nn=bn+Sn,Gr=nn;Gr>7;)Gr-=7;nn+=7-Gr;for(var gi=!1,vi=0,di=0;vi<nn;vi++){var ur=new Date(Fe,ge,vi-Sn+1),_e=!!he(this._d)&&Re(ur,this._d),He=Re(ur,$t),Qe=-1!==Rt.events.indexOf(ur.toDateString()),St=vi<Sn||vi>=bn+Sn,ct=vi-Sn+1,qe=ge,Xe=Fe,Ze=Rt.startRange&&Re(Rt.startRange,ur),_t=Rt.endRange&&Re(Rt.endRange,ur),mt=Rt.startRange&&Rt.endRange&&Rt.startRange<ur&&ur<Rt.endRange,Ct=Rt.minDate&&ur<Rt.minDate||Rt.maxDate&&ur>Rt.maxDate||Rt.disableWeekends&&$(ur)||Rt.disableDayFn&&Rt.disableDayFn(ur);St&&(vi<Sn?(ct=Dn+ct,qe=Wn,Xe=Hn):(ct-=bn,qe=Yn,Xe=Mr)),Rt.pickWholeWeek&&_e&&(gi=!0),Jn.push(dt({day:ct,month:qe,year:Xe,hasEvent:Qe,isSelected:_e,isToday:He,isDisabled:Ct,isEmpty:St,isStartRange:Ze,isEndRange:_t,isInRange:mt,showDaysInNextAndPreviousMonths:Rt.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:Rt.enableSelectionDaysInNextAndPreviousMonths})),7==++di&&(Rt.showWeekNumber&&Jn.unshift(yt(vi-Sn,ge,Fe,Rt.firstWeekOfYearMinDays)),Ht.push(Pt(Jn,Rt.isRTL,Rt.pickWholeWeek,gi)),Jn=[],di=0,gi=!1)}return Zt(Rt,Ht,ht)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),ae(this.el,"is-hidden"),this._o.bound&&(I(R,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var Fe=this._v;!1!==Fe&&(this._o.bound&&N(R,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),ne(this.el,"is-hidden"),this._v=!1,void 0!==Fe&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var Fe=this._o;this.hide(),N(this.el,"mousedown",this._onMouseDown,!0),N(this.el,"touchend",this._onMouseDown,!0),N(this.el,"change",this._onChange),Fe.keyboardInput&&N(R,"keydown",this._onKeyChange),Fe.field&&(N(Fe.field,"change",this._onInputChange),Fe.bound&&(N(Fe.trigger,"click",this._onInputClick),N(Fe.trigger,"focus",this._onInputFocus),N(Fe.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},It}(E)}()},3770:ee=>{window,ee.exports=function(ce){var b={};function O(M){if(b[M])return b[M].exports;var E=b[M]={i:M,l:!1,exports:{}};return ce[M].call(E.exports,E,E.exports,O),E.l=!0,E.exports}return O.m=ce,O.c=b,O.d=function(M,E,R){O.o(M,E)||Object.defineProperty(M,E,{enumerable:!0,get:R})},O.r=function(M){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})},O.t=function(M,E){if(1&E&&(M=O(M)),8&E||4&E&&"object"==typeof M&&M&&M.__esModule)return M;var R=Object.create(null);if(O.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:M}),2&E&&"string"!=typeof M)for(var A in M)O.d(R,A,function(I){return M[I]}.bind(null,A));return R},O.n=function(M){var E=M&&M.__esModule?function(){return M.default}:function(){return M};return O.d(E,"a",E),E},O.o=function(M,E){return Object.prototype.hasOwnProperty.call(M,E)},O.p="",O(O.s=0)}({"./src/index.js":function(ce,b,O){"use strict";O.r(b),O("./src/sass/index.scss");var A=O("./src/js/init.js").default.init;"undefined"!=typeof window&&(window.printJS=A),b.default=A},"./src/js/browser.js":function(ce,b,O){"use strict";O.r(b);var M={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!M.isIE()&&!!window.StyleMedia},isChrome:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};b.default=M},"./src/js/functions.js":function(ce,b,O){"use strict";O.r(b),O.d(b,"addWrapper",function(){return A}),O.d(b,"capitalizePrint",function(){return I}),O.d(b,"collectStyles",function(){return N}),O.d(b,"addHeader",function(){return G}),O.d(b,"cleanUp",function(){return ne}),O.d(b,"isRawHTML",function(){return ae});var M=O("./src/js/modal.js"),E=O("./src/js/browser.js");function R(le){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(le)}function A(le,he){return'<div style="font-family:'+he.font+" !important; font-size: "+he.font_size+' !important; width:100%;">'+le+"</div>"}function I(le){return le.charAt(0).toUpperCase()+le.slice(1)}function N(le,he){for(var de="",be=(document.defaultView||window).getComputedStyle(le,""),Ie=0;Ie<be.length;Ie++)(-1!==he.targetStyles.indexOf("*")||-1!==he.targetStyle.indexOf(be[Ie])||W(he.targetStyles,be[Ie]))&&be.getPropertyValue(be[Ie])&&(de+=be[Ie]+":"+be.getPropertyValue(be[Ie])+";");return de+"max-width: "+he.maxWidth+"px !important; font-size: "+he.font_size+" !important;"}function W(le,he){for(var $=0;$<le.length;$++)if("object"===R(he)&&-1!==he.indexOf(le[$]))return!0;return!1}function G(le,he){var $=document.createElement("div");if(ae(he.header))$.innerHTML=he.header;else{var de=document.createElement("h1"),be=document.createTextNode(he.header);de.appendChild(be),de.setAttribute("style",he.headerStyle),$.appendChild(de)}le.insertBefore($,le.childNodes[0])}function ne(le){le.showModal&&M.default.close(),le.onLoadingEnd&&le.onLoadingEnd(),(le.showModal||le.onLoadingStart)&&window.URL.revokeObjectURL(le.printable);var he="mouseover";(E.default.isChrome()||E.default.isFirefox())&&(he="focus");window.addEventListener(he,function de(){window.removeEventListener(he,de),le.onPrintDialogClose();var be=document.getElementById(le.frameId);be&&be.remove()})}function ae(le){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(le)}},"./src/js/html.js":function(ce,b,O){"use strict";O.r(b);var M=O("./src/js/functions.js"),E=O("./src/js/print.js");function R(N){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(N)}function A(N,W){for(var G=N.cloneNode(),ne=Array.prototype.slice.call(N.childNodes),ae=0;ae<ne.length;ae++)if(-1===W.ignoreElements.indexOf(ne[ae].id)){var le=A(ne[ae],W);G.appendChild(le)}switch(W.scanStyles&&1===N.nodeType&&G.setAttribute("style",Object(M.collectStyles)(N,W)),N.tagName){case"SELECT":G.value=N.value;break;case"CANVAS":G.getContext("2d").drawImage(N,0,0)}return G}b.default={print:function(W,G){var ne=function I(N){return"object"===R(N)&&N&&(N instanceof HTMLElement||1===N.nodeType)}(W.printable)?W.printable:document.getElementById(W.printable);ne?(W.printableElement=A(ne,W),W.header&&Object(M.addHeader)(W.printableElement,W),E.default.send(W,G)):window.console.error("Invalid HTML element id: "+W.printable)}}},"./src/js/image.js":function(ce,b,O){"use strict";O.r(b);var M=O("./src/js/functions.js"),E=O("./src/js/print.js"),R=O("./src/js/browser.js");b.default={print:function(I,N){I.printable.constructor!==Array&&(I.printable=[I.printable]),I.printableElement=document.createElement("div"),I.printable.forEach(function(W){var G=document.createElement("img");G.setAttribute("style",I.imageStyle),G.src=W,R.default.isFirefox()&&(G.src=G.src);var ae=document.createElement("div");ae.appendChild(G),I.printableElement.appendChild(ae)}),I.header&&Object(M.addHeader)(I.printableElement,I),E.default.send(I,N)}}},"./src/js/init.js":function(ce,b,O){"use strict";O.r(b);var M=O("./src/js/browser.js"),E=O("./src/js/modal.js"),R=O("./src/js/pdf.js"),A=O("./src/js/html.js"),I=O("./src/js/raw-html.js"),N=O("./src/js/image.js"),W=O("./src/js/json.js");function G(ae){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(ae)}var ne=["pdf","html","image","json","raw-html"];b.default={init:function(){var le={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(ze){throw ze},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},he=arguments[0];if(void 0===he)throw new Error("printJS expects at least 1 attribute.");switch(G(he)){case"string":le.printable=encodeURI(he),le.fallbackPrintable=le.printable,le.type=arguments[1]||le.type;break;case"object":for(var $ in le.printable=he.printable,le.fallbackPrintable=void 0!==he.fallbackPrintable?he.fallbackPrintable:le.printable,le.fallbackPrintable=le.base64?"data:application/pdf;base64,".concat(le.fallbackPrintable):le.fallbackPrintable,le)"printable"===$||"fallbackPrintable"===$||(le[$]=void 0!==he[$]?he[$]:le[$]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+G(he))}if(!le.printable)throw new Error("Missing printable information.");if(!le.type||"string"!=typeof le.type||-1===ne.indexOf(le.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");le.showModal&&E.default.show(le),le.onLoadingStart&&le.onLoadingStart();var de=document.getElementById(le.frameId);de&&de.parentNode.removeChild(de);var be=document.createElement("iframe");switch(M.default.isFirefox()?be.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):be.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),be.setAttribute("id",le.frameId),"pdf"!==le.type&&(be.srcdoc="<html><head><title>"+le.documentTitle+"</title>",le.css&&(Array.isArray(le.css)||(le.css=[le.css]),le.css.forEach(function(Re){be.srcdoc+='<link rel="stylesheet" href="'+Re+'">'})),be.srcdoc+="</head><body></body></html>"),le.type){case"pdf":if(M.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer."),window.open(le.fallbackPrintable,"_blank").focus(),le.onIncompatibleBrowser()}catch(Re){le.onError(Re)}finally{le.showModal&&E.default.close(),le.onLoadingEnd&&le.onLoadingEnd()}else R.default.print(le,be);break;case"image":N.default.print(le,be);break;case"html":A.default.print(le,be);break;case"raw-html":I.default.print(le,be);break;case"json":W.default.print(le,be)}}}},"./src/js/json.js":function(ce,b,O){"use strict";O.r(b);var M=O("./src/js/functions.js"),E=O("./src/js/print.js");function R(I){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(I)}b.default={print:function(N,W){if("object"!==R(N.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof N.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!N.properties||!Array.isArray(N.properties))throw new Error("Invalid properties array for your JSON data.");N.properties=N.properties.map(function(G){return{field:"object"===R(G)?G.field:G,displayName:"object"===R(G)?G.displayName:G,columnSize:"object"===R(G)&&G.columnSize?G.columnSize+";":100/N.properties.length+"%;"}}),N.printableElement=document.createElement("div"),N.header&&Object(M.addHeader)(N.printableElement,N),N.printableElement.innerHTML+=function A(I){var N=I.printable,W=I.properties,G='<table style="border-collapse: collapse; width: 100%;">';I.repeatTableHeader&&(G+="<thead>"),G+="<tr>";for(var ne=0;ne<W.length;ne++)G+='<th style="width:'+W[ne].columnSize+";"+I.gridHeaderStyle+'">'+Object(M.capitalizePrint)(W[ne].displayName)+"</th>";G+="</tr>",I.repeatTableHeader&&(G+="</thead>"),G+="<tbody>";for(var ae=0;ae<N.length;ae++){G+="<tr>";for(var le=0;le<W.length;le++){var he=N[ae],$=W[le].field.split(".");if($.length>1)for(var de=0;de<$.length;de++)he=he[$[de]];else he=he[W[le].field];G+='<td style="width:'+W[le].columnSize+I.gridStyle+'">'+he+"</td>"}G+="</tr>"}return G+"</tbody></table>"}(N),E.default.send(N,W)}}},"./src/js/modal.js":function(ce,b,O){"use strict";O.r(b);var M={show:function(R){var I=document.createElement("div");I.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),I.setAttribute("id","printJS-Modal");var N=document.createElement("div");N.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var W=document.createElement("div");W.setAttribute("class","printClose"),W.setAttribute("id","printClose"),N.appendChild(W);var G=document.createElement("span");G.setAttribute("class","printSpinner"),N.appendChild(G);var ne=document.createTextNode(R.modalMessage);N.appendChild(ne),I.appendChild(N),document.getElementsByTagName("body")[0].appendChild(I),document.getElementById("printClose").addEventListener("click",function(){M.close()})},close:function(){var R=document.getElementById("printJS-Modal");R&&R.parentNode.removeChild(R)}};b.default=M},"./src/js/pdf.js":function(ce,b,O){"use strict";O.r(b);var M=O("./src/js/print.js"),E=O("./src/js/functions.js");function R(A,I,N){var W=new window.Blob([N],{type:"application/pdf"});W=window.URL.createObjectURL(W),I.setAttribute("src",W),M.default.send(A,I)}b.default={print:function(I,N){if(I.base64){var W=Uint8Array.from(atob(I.printable),function(ne){return ne.charCodeAt(0)});R(I,N,W)}else{I.printable=/^(blob|http|\/\/)/i.test(I.printable)?I.printable:window.location.origin+("/"!==I.printable.charAt(0)?"/"+I.printable:I.printable);var G=new window.XMLHttpRequest;G.responseType="arraybuffer",G.addEventListener("error",function(){Object(E.cleanUp)(I),I.onError(G.statusText,G)}),G.addEventListener("load",function(){if(-1===[200,201].indexOf(G.status))return Object(E.cleanUp)(I),void I.onError(G.statusText,G);R(I,N,G.response)}),G.open("GET",I.printable,!0),G.send()}}}},"./src/js/print.js":function(ce,b,O){"use strict";O.r(b);var M=O("./src/js/browser.js"),E=O("./src/js/functions.js");function A(W,G){try{if(W.focus(),M.default.isEdge()||M.default.isIE())try{W.contentWindow.document.execCommand("print",!1,null)}catch(ne){W.contentWindow.print()}else W.contentWindow.print()}catch(ne){G.onError(ne)}finally{M.default.isFirefox()&&(W.style.visibility="hidden",W.style.left="-1px"),Object(E.cleanUp)(G)}}function I(W){var G=W.map(function(ne){if(ne.src&&ne.src!==window.location.href)return function N(W){return new Promise(function(G){!function ae(){W&&void 0!==W.naturalWidth&&0!==W.naturalWidth&&W.complete?G():setTimeout(ae,500)}()})}(ne)});return Promise.all(G)}b.default={send:function(G,ne){document.getElementsByTagName("body")[0].appendChild(ne);var ae=document.getElementById(G.frameId);ae.onload=function(){if("pdf"!==G.type){var le=ae.contentWindow||ae.contentDocument;if(le.document&&(le=le.document),le.body.appendChild(G.printableElement),"pdf"!==G.type&&G.style){var he=document.createElement("style");he.innerHTML=G.style,le.head.appendChild(he)}var $=le.getElementsByTagName("img");$.length>0?I(Array.from($)).then(function(){return A(ae,G)}):A(ae,G)}else M.default.isFirefox()?setTimeout(function(){return A(ae,G)},1e3):A(ae,G)}}}},"./src/js/raw-html.js":function(ce,b,O){"use strict";O.r(b);var M=O("./src/js/print.js");b.default={print:function(R,A){R.printableElement=document.createElement("div"),R.printableElement.setAttribute("style","width:100%"),R.printableElement.innerHTML=R.printable,M.default.send(R,A)}}},"./src/sass/index.scss":function(ce,b,O){},0:function(ce,b,O){ce.exports=O("./src/index.js")}}).default},6700:(ee,ce,b)=>{var O={"./af":8685,"./af.js":8685,"./ar":254,"./ar-dz":4312,"./ar-dz.js":4312,"./ar-kw":2614,"./ar-kw.js":2614,"./ar-ly":8630,"./ar-ly.js":8630,"./ar-ma":8674,"./ar-ma.js":8674,"./ar-sa":9032,"./ar-sa.js":9032,"./ar-tn":4730,"./ar-tn.js":4730,"./ar.js":254,"./az":3052,"./az.js":3052,"./be":150,"./be.js":150,"./bg":3069,"./bg.js":3069,"./bm":3466,"./bm.js":3466,"./bn":8516,"./bn-bd":557,"./bn-bd.js":557,"./bn.js":8516,"./bo":6273,"./bo.js":6273,"./br":9588,"./br.js":9588,"./bs":9815,"./bs.js":9815,"./ca":3331,"./ca.js":3331,"./cs":1320,"./cs.js":1320,"./cv":2219,"./cv.js":2219,"./cy":8266,"./cy.js":8266,"./da":6427,"./da.js":6427,"./de":7435,"./de-at":2871,"./de-at.js":2871,"./de-ch":2994,"./de-ch.js":2994,"./de.js":7435,"./dv":2357,"./dv.js":2357,"./el":5649,"./el.js":5649,"./en-au":9961,"./en-au.js":9961,"./en-ca":9878,"./en-ca.js":9878,"./en-gb":3924,"./en-gb.js":3924,"./en-ie":864,"./en-ie.js":864,"./en-il":1579,"./en-il.js":1579,"./en-in":940,"./en-in.js":940,"./en-nz":6181,"./en-nz.js":6181,"./en-sg":4301,"./en-sg.js":4301,"./eo":5291,"./eo.js":5291,"./es":4529,"./es-do":3764,"./es-do.js":3764,"./es-mx":2584,"./es-mx.js":2584,"./es-us":3425,"./es-us.js":3425,"./es.js":4529,"./et":5203,"./et.js":5203,"./eu":678,"./eu.js":678,"./fa":3483,"./fa.js":3483,"./fi":6262,"./fi.js":6262,"./fil":2521,"./fil.js":2521,"./fo":4555,"./fo.js":4555,"./fr":3131,"./fr-ca":8239,"./fr-ca.js":8239,"./fr-ch":1702,"./fr-ch.js":1702,"./fr.js":3131,"./fy":267,"./fy.js":267,"./ga":3821,"./ga.js":3821,"./gd":1753,"./gd.js":1753,"./gl":4074,"./gl.js":4074,"./gom-deva":2762,"./gom-deva.js":2762,"./gom-latn":5969,"./gom-latn.js":5969,"./gu":2809,"./gu.js":2809,"./he":5402,"./he.js":5402,"./hi":315,"./hi.js":315,"./hr":410,"./hr.js":410,"./hu":8288,"./hu.js":8288,"./hy-am":7928,"./hy-am.js":7928,"./id":1334,"./id.js":1334,"./is":6959,"./is.js":6959,"./it":4864,"./it-ch":1124,"./it-ch.js":1124,"./it.js":4864,"./ja":6141,"./ja.js":6141,"./jv":9187,"./jv.js":9187,"./ka":2136,"./ka.js":2136,"./kk":4332,"./kk.js":4332,"./km":8607,"./km.js":8607,"./kn":4305,"./kn.js":4305,"./ko":234,"./ko.js":234,"./ku":6003,"./ku.js":6003,"./ky":5061,"./ky.js":5061,"./lb":2786,"./lb.js":2786,"./lo":6183,"./lo.js":6183,"./lt":29,"./lt.js":29,"./lv":4169,"./lv.js":4169,"./me":8577,"./me.js":8577,"./mi":8177,"./mi.js":8177,"./mk":337,"./mk.js":337,"./ml":5260,"./ml.js":5260,"./mn":2325,"./mn.js":2325,"./mr":4695,"./mr.js":4695,"./ms":5334,"./ms-my":7151,"./ms-my.js":7151,"./ms.js":5334,"./mt":3570,"./mt.js":3570,"./my":7963,"./my.js":7963,"./nb":8028,"./nb.js":8028,"./ne":6638,"./ne.js":6638,"./nl":302,"./nl-be":6782,"./nl-be.js":6782,"./nl.js":302,"./nn":3501,"./nn.js":3501,"./oc-lnc":563,"./oc-lnc.js":563,"./pa-in":869,"./pa-in.js":869,"./pl":5302,"./pl.js":5302,"./pt":9687,"./pt-br":4884,"./pt-br.js":4884,"./pt.js":9687,"./ro":9107,"./ro.js":9107,"./ru":3627,"./ru.js":3627,"./sd":355,"./sd.js":355,"./se":3427,"./se.js":3427,"./si":1848,"./si.js":1848,"./sk":4590,"./sk.js":4590,"./sl":184,"./sl.js":184,"./sq":6361,"./sq.js":6361,"./sr":8965,"./sr-cyrl":1287,"./sr-cyrl.js":1287,"./sr.js":8965,"./ss":6346,"./ss.js":6346,"./sv":451,"./sv.js":451,"./sw":7558,"./sw.js":7558,"./ta":1356,"./ta.js":1356,"./te":3693,"./te.js":3693,"./tet":1243,"./tet.js":1243,"./tg":2500,"./tg.js":2500,"./th":5768,"./th.js":5768,"./tk":7761,"./tk.js":7761,"./tl-ph":5780,"./tl-ph.js":5780,"./tlh":9590,"./tlh.js":9590,"./tr":3807,"./tr.js":3807,"./tzl":3857,"./tzl.js":3857,"./tzm":654,"./tzm-latn":8806,"./tzm-latn.js":8806,"./tzm.js":654,"./ug-cn":845,"./ug-cn.js":845,"./uk":9232,"./uk.js":9232,"./ur":7052,"./ur.js":7052,"./uz":7967,"./uz-latn":2233,"./uz-latn.js":2233,"./uz.js":7967,"./vi":8615,"./vi.js":8615,"./x-pseudo":2320,"./x-pseudo.js":2320,"./yo":1313,"./yo.js":1313,"./zh-cn":4490,"./zh-cn.js":4490,"./zh-hk":5910,"./zh-hk.js":5910,"./zh-mo":8262,"./zh-mo.js":8262,"./zh-tw":4223,"./zh-tw.js":4223};function M(R){var A=E(R);return b(A)}function E(R){if(!b.o(O,R)){var A=new Error("Cannot find module '"+R+"'");throw A.code="MODULE_NOT_FOUND",A}return O[R]}M.keys=function(){return Object.keys(O)},M.resolve=E,ee.exports=M,M.id=6700},9366:(ee,ce,b)=>{var O=b(4513),M=b(7366),E=TypeError;ee.exports=function(R){if(O(R))return R;throw E(M(R)+" is not a function")}},9493:(ee,ce,b)=>{var O=b(5200),M=b(7366),E=TypeError;ee.exports=function(R){if(O(R))return R;throw E(M(R)+" is not a constructor")}},8254:(ee,ce,b)=>{var O=b(4513),M=String,E=TypeError;ee.exports=function(R){if("object"==typeof R||O(R))return R;throw E("Can't set "+M(R)+" as a prototype")}},5834:(ee,ce,b)=>{var O=b(7014),M=b(1701),E=b(6607).f,R=O("unscopables"),A=Array.prototype;null==A[R]&&E(A,R,{configurable:!0,value:M(null)}),ee.exports=function(I){A[R][I]=!0}},5470:(ee,ce,b)=>{"use strict";var O=b(5940).charAt;ee.exports=function(M,E,R){return E+(R?O(M,E).length:1)}},8734:(ee,ce,b)=>{var O=b(846),M=TypeError;ee.exports=function(E,R){if(O(R,E))return E;throw M("Incorrect invocation")}},6583:(ee,ce,b)=>{var O=b(8886),M=String,E=TypeError;ee.exports=function(R){if(O(R))return R;throw E(M(R)+" is not an object")}},3588:(ee,ce,b)=>{var O=b(7944);ee.exports=O(function(){if("function"==typeof ArrayBuffer){var M=new ArrayBuffer(8);Object.isExtensible(M)&&Object.defineProperty(M,"a",{value:8})}})},3270:(ee,ce,b)=>{"use strict";var O=b(3784),M=b(8064),E=b(7951);ee.exports=function(A){for(var I=O(this),N=E(I),W=arguments.length,G=M(W>1?arguments[1]:void 0,N),ne=W>2?arguments[2]:void 0,ae=void 0===ne?N:M(ne,N);ae>G;)I[G++]=A;return I}},441:(ee,ce,b)=>{"use strict";var O=b(8657).forEach,E=b(1815)("forEach");ee.exports=E?[].forEach:function(A){return O(this,A,arguments.length>1?arguments[1]:void 0)}},2411:(ee,ce,b)=>{"use strict";var O=b(352),M=b(9836),E=b(3784),R=b(9271),A=b(7909),I=b(5200),N=b(7951),W=b(7182),G=b(6029),ne=b(6644),ae=Array;ee.exports=function(he){var $=E(he),de=I(this),be=arguments.length,Ie=be>1?arguments[1]:void 0,Re=void 0!==Ie;Re&&(Ie=O(Ie,be>2?arguments[2]:void 0));var We,Oe,Ke,dt,rt,yt,ze=ne($),it=0;if(!ze||this===ae&&A(ze))for(We=N($),Oe=de?new this(We):ae(We);We>it;it++)yt=Re?Ie($[it],it):$[it],W(Oe,it,yt);else for(rt=(dt=G($,ze)).next,Oe=de?new this:[];!(Ke=M(rt,dt)).done;it++)yt=Re?R(dt,Ie,[Ke.value,it],!0):Ke.value,W(Oe,it,yt);return Oe.length=it,Oe}},4273:(ee,ce,b)=>{var O=b(8436),M=b(8064),E=b(7951),R=function(A){return function(I,N,W){var le,G=O(I),ne=E(G),ae=M(W,ne);if(A&&N!=N){for(;ne>ae;)if((le=G[ae++])!=le)return!0}else for(;ne>ae;ae++)if((A||ae in G)&&G[ae]===N)return A||ae||0;return!A&&-1}};ee.exports={includes:R(!0),indexOf:R(!1)}},8657:(ee,ce,b)=>{var O=b(352),M=b(2006),E=b(2462),R=b(3784),A=b(7951),I=b(4275),N=M([].push),W=function(G){var ne=1==G,ae=2==G,le=3==G,he=4==G,$=6==G,de=7==G,be=5==G||$;return function(Ie,Re,ze,it){for(var Ft,Gt,We=R(Ie),Oe=E(We),Ke=O(Re,ze),dt=A(Oe),rt=0,yt=it||I,Pt=ne?yt(Ie,dt):ae||de?yt(Ie,0):void 0;dt>rt;rt++)if((be||rt in Oe)&&(Gt=Ke(Ft=Oe[rt],rt,We),G))if(ne)Pt[rt]=Gt;else if(Gt)switch(G){case 3:return!0;case 5:return Ft;case 6:return rt;case 2:N(Pt,Ft)}else switch(G){case 4:return!1;case 7:N(Pt,Ft)}return $?-1:le||he?he:Pt}};ee.exports={forEach:W(0),map:W(1),filter:W(2),some:W(3),every:W(4),find:W(5),findIndex:W(6),filterReject:W(7)}},28:(ee,ce,b)=>{"use strict";var O=b(5019),M=b(8436),E=b(2048),R=b(7951),A=b(1815),I=Math.min,N=[].lastIndexOf,W=!!N&&1/[1].lastIndexOf(1,-0)<0,G=A("lastIndexOf");ee.exports=W||!G?function(le){if(W)return O(N,this,arguments)||0;var he=M(this),$=R(he),de=$-1;for(arguments.length>1&&(de=I(de,E(arguments[1]))),de<0&&(de=$+de);de>=0;de--)if(de in he&&he[de]===le)return de||0;return-1}:N},1468:(ee,ce,b)=>{var O=b(7944),M=b(7014),E=b(9905),R=M("species");ee.exports=function(A){return E>=51||!O(function(){var I=[];return(I.constructor={})[R]=function(){return{foo:1}},1!==I[A](Boolean).foo})}},1815:(ee,ce,b)=>{"use strict";var O=b(7944);ee.exports=function(M,E){var R=[][M];return!!R&&O(function(){R.call(null,E||function(){return 1},1)})}},9906:(ee,ce,b)=>{var O=b(9366),M=b(3784),E=b(2462),R=b(7951),A=TypeError,I=function(N){return function(W,G,ne,ae){O(G);var le=M(W),he=E(le),$=R(le),de=N?$-1:0,be=N?-1:1;if(ne<2)for(;;){if(de in he){ae=he[de],de+=be;break}if(de+=be,N?de<0:$<=de)throw A("Reduce of empty array with no initial value")}for(;N?de>=0:$>de;de+=be)de in he&&(ae=G(ae,he[de],de,le));return ae}};ee.exports={left:I(!1),right:I(!0)}},6712:(ee,ce,b)=>{"use strict";var O=b(5601),M=b(8143),E=TypeError,R=Object.getOwnPropertyDescriptor,A=O&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(I){return I instanceof TypeError}}();ee.exports=A?function(I,N){if(M(I)&&!R(I,"length").writable)throw E("Cannot set read only .length");return I.length=N}:function(I,N){return I.length=N}},5005:(ee,ce,b)=>{var O=b(8064),M=b(7951),E=b(7182),R=Array,A=Math.max;ee.exports=function(I,N,W){for(var G=M(I),ne=O(N,G),ae=O(void 0===W?G:W,G),le=R(A(ae-ne,0)),he=0;ne<ae;ne++,he++)E(le,he,I[ne]);return le.length=he,le}},8439:(ee,ce,b)=>{var O=b(2006);ee.exports=O([].slice)},3142:(ee,ce,b)=>{var O=b(5005),M=Math.floor,E=function(I,N){var W=I.length,G=M(W/2);return W<8?R(I,N):A(I,E(O(I,0,G),N),E(O(I,G),N),N)},R=function(I,N){for(var ne,ae,W=I.length,G=1;G<W;){for(ae=G,ne=I[G];ae&&N(I[ae-1],ne)>0;)I[ae]=I[--ae];ae!==G++&&(I[ae]=ne)}return I},A=function(I,N,W,G){for(var ne=N.length,ae=W.length,le=0,he=0;le<ne||he<ae;)I[le+he]=le<ne&&he<ae?G(N[le],W[he])<=0?N[le++]:W[he++]:le<ne?N[le++]:W[he++];return I};ee.exports=E},6511:(ee,ce,b)=>{var O=b(8143),M=b(5200),E=b(8886),A=b(7014)("species"),I=Array;ee.exports=function(N){var W;return O(N)&&(M(W=N.constructor)&&(W===I||O(W.prototype))||E(W)&&null===(W=W[A]))&&(W=void 0),void 0===W?I:W}},4275:(ee,ce,b)=>{var O=b(6511);ee.exports=function(M,E){return new(O(M))(0===E?0:E)}},9271:(ee,ce,b)=>{var O=b(6583),M=b(9838);ee.exports=function(E,R,A,I){try{return I?R(O(A)[0],A[1]):R(A)}catch(N){M(E,"throw",N)}}},4430:(ee,ce,b)=>{var M=b(7014)("iterator"),E=!1;try{var R=0,A={next:function(){return{done:!!R++}},return:function(){E=!0}};A[M]=function(){return this},Array.from(A,function(){throw 2})}catch(I){}ee.exports=function(I,N){if(!N&&!E)return!1;var W=!1;try{var G={};G[M]=function(){return{next:function(){return{done:W=!0}}}},I(G)}catch(ne){}return W}},1401:(ee,ce,b)=>{var O=b(8331),M=O({}.toString),E=O("".slice);ee.exports=function(R){return E(M(R),8,-1)}},2212:(ee,ce,b)=>{var O=b(5706),M=b(4513),E=b(1401),A=b(7014)("toStringTag"),I=Object,N="Arguments"==E(function(){return arguments}());ee.exports=O?E:function(G){var ne,ae,le;return void 0===G?"Undefined":null===G?"Null":"string"==typeof(ae=function(G,ne){try{return G[ne]}catch(ae){}}(ne=I(G),A))?ae:N?E(ne):"Object"==(le=E(ne))&&M(ne.callee)?"Arguments":le}},3977:(ee,ce,b)=>{"use strict";var O=b(6607).f,M=b(1701),E=b(7125),R=b(352),A=b(8734),I=b(8702),N=b(9423),W=b(4971),G=b(4761),ne=b(4087),ae=b(5601),le=b(9346).fastKey,he=b(979),$=he.set,de=he.getterFor;ee.exports={getConstructor:function(be,Ie,Re,ze){var it=be(function(rt,yt){A(rt,We),$(rt,{type:Ie,index:M(null),first:void 0,last:void 0,size:0}),ae||(rt.size=0),I(yt)||N(yt,rt[ze],{that:rt,AS_ENTRIES:Re})}),We=it.prototype,Oe=de(Ie),Ke=function(rt,yt,Pt){var Kt,Zt,Ft=Oe(rt),Gt=dt(rt,yt);return Gt?Gt.value=Pt:(Ft.last=Gt={index:Zt=le(yt,!0),key:yt,value:Pt,previous:Kt=Ft.last,next:void 0,removed:!1},Ft.first||(Ft.first=Gt),Kt&&(Kt.next=Gt),ae?Ft.size++:rt.size++,"F"!==Zt&&(Ft.index[Zt]=Gt)),rt},dt=function(rt,yt){var Gt,Pt=Oe(rt),Ft=le(yt);if("F"!==Ft)return Pt.index[Ft];for(Gt=Pt.first;Gt;Gt=Gt.next)if(Gt.key==yt)return Gt};return E(We,{clear:function(){for(var Pt=Oe(this),Ft=Pt.index,Gt=Pt.first;Gt;)Gt.removed=!0,Gt.previous&&(Gt.previous=Gt.previous.next=void 0),delete Ft[Gt.index],Gt=Gt.next;Pt.first=Pt.last=void 0,ae?Pt.size=0:this.size=0},delete:function(rt){var Pt=Oe(this),Ft=dt(this,rt);if(Ft){var Gt=Ft.next,Kt=Ft.previous;delete Pt.index[Ft.index],Ft.removed=!0,Kt&&(Kt.next=Gt),Gt&&(Gt.previous=Kt),Pt.first==Ft&&(Pt.first=Gt),Pt.last==Ft&&(Pt.last=Kt),ae?Pt.size--:this.size--}return!!Ft},forEach:function(yt){for(var Gt,Pt=Oe(this),Ft=R(yt,arguments.length>1?arguments[1]:void 0);Gt=Gt?Gt.next:Pt.first;)for(Ft(Gt.value,Gt.key,this);Gt&&Gt.removed;)Gt=Gt.previous},has:function(yt){return!!dt(this,yt)}}),E(We,Re?{get:function(yt){var Pt=dt(this,yt);return Pt&&Pt.value},set:function(yt,Pt){return Ke(this,0===yt?0:yt,Pt)}}:{add:function(yt){return Ke(this,yt=0===yt?0:yt,yt)}}),ae&&O(We,"size",{get:function(){return Oe(this).size}}),it},setStrong:function(be,Ie,Re){var ze=Ie+" Iterator",it=de(Ie),We=de(ze);W(be,Ie,function(Oe,Ke){$(this,{type:ze,target:Oe,state:it(Oe),kind:Ke,last:void 0})},function(){for(var Oe=We(this),Ke=Oe.kind,dt=Oe.last;dt&&dt.removed;)dt=dt.previous;return Oe.target&&(Oe.last=dt=dt?dt.next:Oe.state.first)?G("keys"==Ke?dt.key:"values"==Ke?dt.value:[dt.key,dt.value],!1):(Oe.target=void 0,G(void 0,!0))},Re?"entries":"values",!Re,!0),ne(Ie)}}},1725:(ee,ce,b)=>{"use strict";var O=b(2006),M=b(7125),E=b(9346).getWeakData,R=b(8734),A=b(6583),I=b(8702),N=b(8886),W=b(9423),G=b(8657),ne=b(8578),ae=b(979),le=ae.set,he=ae.getterFor,$=G.find,de=G.findIndex,be=O([].splice),Ie=0,Re=function(We){return We.frozen||(We.frozen=new ze)},ze=function(){this.entries=[]},it=function(We,Oe){return $(We.entries,function(Ke){return Ke[0]===Oe})};ze.prototype={get:function(We){var Oe=it(this,We);if(Oe)return Oe[1]},has:function(We){return!!it(this,We)},set:function(We,Oe){var Ke=it(this,We);Ke?Ke[1]=Oe:this.entries.push([We,Oe])},delete:function(We){var Oe=de(this.entries,function(Ke){return Ke[0]===We});return~Oe&&be(this.entries,Oe,1),!!~Oe}},ee.exports={getConstructor:function(We,Oe,Ke,dt){var rt=We(function(Gt,Kt){R(Gt,yt),le(Gt,{type:Oe,id:Ie++,frozen:void 0}),I(Kt)||W(Kt,Gt[dt],{that:Gt,AS_ENTRIES:Ke})}),yt=rt.prototype,Pt=he(Oe),Ft=function(Gt,Kt,Zt){var It=Pt(Gt),Fe=E(A(Kt),!0);return!0===Fe?Re(It).set(Kt,Zt):Fe[It.id]=Zt,Gt};return M(yt,{delete:function(Gt){var Kt=Pt(this);if(!N(Gt))return!1;var Zt=E(Gt);return!0===Zt?Re(Kt).delete(Gt):Zt&&ne(Zt,Kt.id)&&delete Zt[Kt.id]},has:function(Kt){var Zt=Pt(this);if(!N(Kt))return!1;var It=E(Kt);return!0===It?Re(Zt).has(Kt):It&&ne(It,Zt.id)}}),M(yt,Ke?{get:function(Kt){var Zt=Pt(this);if(N(Kt)){var It=E(Kt);return!0===It?Re(Zt).get(Kt):It?It[Zt.id]:void 0}},set:function(Kt,Zt){return Ft(this,Kt,Zt)}}:{add:function(Kt){return Ft(this,Kt,!0)}}),rt}}},7126:(ee,ce,b)=>{"use strict";var O=b(664),M=b(4720),E=b(2006),R=b(9545),A=b(9047),I=b(9346),N=b(9423),W=b(8734),G=b(4513),ne=b(8702),ae=b(8886),le=b(7944),he=b(4430),$=b(5387),de=b(1072);ee.exports=function(be,Ie,Re){var ze=-1!==be.indexOf("Map"),it=-1!==be.indexOf("Weak"),We=ze?"set":"add",Oe=M[be],Ke=Oe&&Oe.prototype,dt=Oe,rt={},yt=function(Fe){var ge=E(Ke[Fe]);A(Ke,Fe,"add"==Fe?function(Rt){return ge(this,0===Rt?0:Rt),this}:"delete"==Fe?function(ht){return!(it&&!ae(ht))&&ge(this,0===ht?0:ht)}:"get"==Fe?function(Rt){return it&&!ae(Rt)?void 0:ge(this,0===Rt?0:Rt)}:"has"==Fe?function(Rt){return!(it&&!ae(Rt))&&ge(this,0===Rt?0:Rt)}:function(Rt,$t){return ge(this,0===Rt?0:Rt,$t),this})};if(R(be,!G(Oe)||!(it||Ke.forEach&&!le(function(){(new Oe).entries().next()}))))dt=Re.getConstructor(Ie,be,ze,We),I.enable();else if(R(be,!0)){var Ft=new dt,Gt=Ft[We](it?{}:-0,1)!=Ft,Kt=le(function(){Ft.has(1)}),Zt=he(function(Fe){new Oe(Fe)}),It=!it&&le(function(){for(var Fe=new Oe,ge=5;ge--;)Fe[We](ge,ge);return!Fe.has(-0)});Zt||((dt=Ie(function(Fe,ge){W(Fe,Ke);var ht=de(new Oe,Fe,dt);return ne(ge)||N(ge,ht[We],{that:ht,AS_ENTRIES:ze}),ht})).prototype=Ke,Ke.constructor=dt),(Kt||It)&&(yt("delete"),yt("has"),ze&&yt("get")),(It||Gt)&&yt(We),it&&Ke.clear&&delete Ke.clear}return rt[be]=dt,O({global:!0,constructor:!0,forced:dt!=Oe},rt),$(dt,be),it||Re.setStrong(dt,be,ze),dt}},1975:(ee,ce,b)=>{var O=b(8578),M=b(4432),E=b(313),R=b(6607);ee.exports=function(A,I,N){for(var W=M(I),G=R.f,ne=E.f,ae=0;ae<W.length;ae++){var le=W[ae];!O(A,le)&&(!N||!O(N,le))&&G(A,le,ne(I,le))}}},312:(ee,ce,b)=>{var M=b(7014)("match");ee.exports=function(E){var R=/./;try{"/./"[E](R)}catch(A){try{return R[M]=!1,"/./"[E](R)}catch(I){}}return!1}},8745:(ee,ce,b)=>{var O=b(7944);ee.exports=!O(function(){function M(){}return M.prototype.constructor=null,Object.getPrototypeOf(new M)!==M.prototype})},8772:(ee,ce,b)=>{var O=b(2006),M=b(1413),E=b(9005),R=/"/g,A=O("".replace);ee.exports=function(I,N,W,G){var ne=E(M(I)),ae="<"+N;return""!==W&&(ae+=" "+W+'="'+A(E(G),R,"&quot;")+'"'),ae+">"+ne+"</"+N+">"}},4761:ee=>{ee.exports=function(ce,b){return{value:ce,done:b}}},3779:(ee,ce,b)=>{var O=b(5601),M=b(6607),E=b(8808);ee.exports=O?function(R,A,I){return M.f(R,A,E(1,I))}:function(R,A,I){return R[A]=I,R}},8808:ee=>{ee.exports=function(ce,b){return{enumerable:!(1&ce),configurable:!(2&ce),writable:!(4&ce),value:b}}},7182:(ee,ce,b)=>{"use strict";var O=b(2637),M=b(6607),E=b(8808);ee.exports=function(R,A,I){var N=O(A);N in R?M.f(R,N,E(0,I)):R[N]=I}},9047:(ee,ce,b)=>{var O=b(4513),M=b(6607),E=b(6885),R=b(7907);ee.exports=function(A,I,N,W){W||(W={});var G=W.enumerable,ne=void 0!==W.name?W.name:I;if(O(N)&&E(N,ne,W),W.global)G?A[I]=N:R(I,N);else{try{W.unsafe?A[I]&&(G=!0):delete A[I]}catch(ae){}G?A[I]=N:M.f(A,I,{value:N,enumerable:!1,configurable:!W.nonConfigurable,writable:!W.nonWritable})}return A}},7125:(ee,ce,b)=>{var O=b(9047);ee.exports=function(M,E,R){for(var A in E)O(M,A,E[A],R);return M}},7907:(ee,ce,b)=>{var O=b(4720),M=Object.defineProperty;ee.exports=function(E,R){try{M(O,E,{value:R,configurable:!0,writable:!0})}catch(A){O[E]=R}return R}},8751:(ee,ce,b)=>{"use strict";var O=b(7366),M=TypeError;ee.exports=function(E,R){if(!delete E[R])throw M("Cannot delete property "+O(R)+" of "+O(E))}},5601:(ee,ce,b)=>{var O=b(7944);ee.exports=!O(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},2935:ee=>{var ce="object"==typeof document&&document.all;ee.exports={all:ce,IS_HTMLDDA:void 0===ce&&void 0!==ce}},7783:(ee,ce,b)=>{var O=b(4720),M=b(8886),E=O.document,R=M(E)&&M(E.createElement);ee.exports=function(A){return R?E.createElement(A):{}}},8194:ee=>{var ce=TypeError;ee.exports=function(O){if(O>9007199254740991)throw ce("Maximum allowed index exceeded");return O}},1331:ee=>{ee.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},4970:(ee,ce,b)=>{var M=b(7783)("span").classList,E=M&&M.constructor&&M.constructor.prototype;ee.exports=E===Object.prototype?void 0:E},8077:(ee,ce,b)=>{var M=b(8684).match(/firefox\/(\d+)/i);ee.exports=!!M&&+M[1]},4268:(ee,ce,b)=>{var O=b(8684);ee.exports=/MSIE|Trident/.test(O)},7001:(ee,ce,b)=>{var O=b(8684);ee.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(O)},2926:(ee,ce,b)=>{var O=b(1401),M=b(4720);ee.exports="process"==O(M.process)},8684:(ee,ce,b)=>{var O=b(2149);ee.exports=O("navigator","userAgent")||""},9905:(ee,ce,b)=>{var N,W,O=b(4720),M=b(8684),E=O.process,R=O.Deno,A=E&&E.versions||R&&R.version,I=A&&A.v8;I&&(W=(N=I.split("."))[0]>0&&N[0]<4?1:+(N[0]+N[1])),!W&&M&&(!(N=M.match(/Edge\/(\d+)/))||N[1]>=74)&&(N=M.match(/Chrome\/(\d+)/))&&(W=+N[1]),ee.exports=W},1349:(ee,ce,b)=>{var M=b(8684).match(/AppleWebKit\/(\d+)\./);ee.exports=!!M&&+M[1]},256:ee=>{ee.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},664:(ee,ce,b)=>{var O=b(4720),M=b(313).f,E=b(3779),R=b(9047),A=b(7907),I=b(1975),N=b(9545);ee.exports=function(W,G){var $,de,be,Ie,Re,ne=W.target,ae=W.global,le=W.stat;if($=ae?O:le?O[ne]||A(ne,{}):(O[ne]||{}).prototype)for(de in G){if(Ie=G[de],be=W.dontCallGetSet?(Re=M($,de))&&Re.value:$[de],!N(ae?de:ne+(le?".":"#")+de,W.forced)&&void 0!==be){if(typeof Ie==typeof be)continue;I(Ie,be)}(W.sham||be&&be.sham)&&E(Ie,"sham",!0),R($,de,Ie,W)}}},7944:ee=>{ee.exports=function(ce){try{return!!ce()}catch(b){return!0}}},5698:(ee,ce,b)=>{"use strict";b(8068);var O=b(2006),M=b(9047),E=b(8214),R=b(7944),A=b(7014),I=b(3779),N=A("species"),W=RegExp.prototype;ee.exports=function(G,ne,ae,le){var he=A(G),$=!R(function(){var Re={};return Re[he]=function(){return 7},7!=""[G](Re)}),de=$&&!R(function(){var Re=!1,ze=/a/;return"split"===G&&((ze={}).constructor={},ze.constructor[N]=function(){return ze},ze.flags="",ze[he]=/./[he]),ze.exec=function(){return Re=!0,null},ze[he](""),!Re});if(!$||!de||ae){var be=O(/./[he]),Ie=ne(he,""[G],function(Re,ze,it,We,Oe){var Ke=O(Re),dt=ze.exec;return dt===E||dt===W.exec?$&&!Oe?{done:!0,value:be(ze,it,We)}:{done:!0,value:Ke(it,ze,We)}:{done:!1}});M(String.prototype,G,Ie[0]),M(W,he,Ie[1])}le&&I(W[he],"sham",!0)}},2655:(ee,ce,b)=>{var O=b(7944);ee.exports=!O(function(){return Object.isExtensible(Object.preventExtensions({}))})},5019:(ee,ce,b)=>{var O=b(7181),M=Function.prototype,E=M.apply,R=M.call;ee.exports="object"==typeof Reflect&&Reflect.apply||(O?R.bind(E):function(){return R.apply(E,arguments)})},352:(ee,ce,b)=>{var O=b(2006),M=b(9366),E=b(7181),R=O(O.bind);ee.exports=function(A,I){return M(A),void 0===I?A:E?R(A,I):function(){return A.apply(I,arguments)}}},7181:(ee,ce,b)=>{var O=b(7944);ee.exports=!O(function(){var M=function(){}.bind();return"function"!=typeof M||M.hasOwnProperty("prototype")})},4697:(ee,ce,b)=>{"use strict";var O=b(2006),M=b(9366),E=b(8886),R=b(8578),A=b(8439),I=b(7181),N=Function,W=O([].concat),G=O([].join),ne={},ae=function(le,he,$){if(!R(ne,he)){for(var de=[],be=0;be<he;be++)de[be]="a["+be+"]";ne[he]=N("C,a","return new C("+G(de,",")+")")}return ne[he](le,$)};ee.exports=I?N.bind:function(he){var $=M(this),de=$.prototype,be=A(arguments,1),Ie=function(){var ze=W(be,A(arguments));return this instanceof Ie?ae($,ze.length,ze):$.apply(he,ze)};return E(de)&&(Ie.prototype=de),Ie}},9836:(ee,ce,b)=>{var O=b(7181),M=Function.prototype.call;ee.exports=O?M.bind(M):function(){return M.apply(M,arguments)}},2891:(ee,ce,b)=>{var O=b(5601),M=b(8578),E=Function.prototype,R=O&&Object.getOwnPropertyDescriptor,A=M(E,"name"),I=A&&"something"===function(){}.name,N=A&&(!O||O&&R(E,"name").configurable);ee.exports={EXISTS:A,PROPER:I,CONFIGURABLE:N}},8331:(ee,ce,b)=>{var O=b(7181),M=Function.prototype,E=M.call,R=O&&M.bind.bind(E,E);ee.exports=function(A){return O?R(A):function(){return E.apply(A,arguments)}}},2006:(ee,ce,b)=>{var O=b(1401),M=b(8331);ee.exports=function(E){if("Function"===O(E))return M(E)}},2149:(ee,ce,b)=>{var O=b(4720),M=b(4513),E=function(R){return M(R)?R:void 0};ee.exports=function(R,A){return arguments.length<2?E(O[R]):O[R]&&O[R][A]}},6644:(ee,ce,b)=>{var O=b(2212),M=b(2383),E=b(8702),R=b(8424),I=b(7014)("iterator");ee.exports=function(N){if(!E(N))return M(N,I)||M(N,"@@iterator")||R[O(N)]}},6029:(ee,ce,b)=>{var O=b(9836),M=b(9366),E=b(6583),R=b(7366),A=b(6644),I=TypeError;ee.exports=function(N,W){var G=arguments.length<2?A(N):W;if(M(G))return E(O(G,N));throw I(R(N)+" is not iterable")}},2383:(ee,ce,b)=>{var O=b(9366),M=b(8702);ee.exports=function(E,R){var A=E[R];return M(A)?void 0:O(A)}},3653:(ee,ce,b)=>{var O=b(2006),M=b(3784),E=Math.floor,R=O("".charAt),A=O("".replace),I=O("".slice),N=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,W=/\$([$&'`]|\d{1,2})/g;ee.exports=function(G,ne,ae,le,he,$){var de=ae+G.length,be=le.length,Ie=W;return void 0!==he&&(he=M(he),Ie=N),A($,Ie,function(Re,ze){var it;switch(R(ze,0)){case"$":return"$";case"&":return G;case"`":return I(ne,0,ae);case"'":return I(ne,de);case"<":it=he[I(ze,1,-1)];break;default:var We=+ze;if(0===We)return Re;if(We>be){var Oe=E(We/10);return 0===Oe?Re:Oe<=be?void 0===le[Oe-1]?R(ze,1):le[Oe-1]+R(ze,1):Re}it=le[We-1]}return void 0===it?"":it})}},4720:ee=>{var ce=function(b){return b&&b.Math==Math&&b};ee.exports=ce("object"==typeof globalThis&&globalThis)||ce("object"==typeof window&&window)||ce("object"==typeof self&&self)||ce("object"==typeof global&&global)||function(){return this}()||Function("return this")()},8578:(ee,ce,b)=>{var O=b(2006),M=b(3784),E=O({}.hasOwnProperty);ee.exports=Object.hasOwn||function(A,I){return E(M(A),I)}},7086:ee=>{ee.exports={}},4989:(ee,ce,b)=>{var O=b(2149);ee.exports=O("document","documentElement")},5873:(ee,ce,b)=>{var O=b(5601),M=b(7944),E=b(7783);ee.exports=!O&&!M(function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a})},2462:(ee,ce,b)=>{var O=b(2006),M=b(7944),E=b(1401),R=Object,A=O("".split);ee.exports=M(function(){return!R("z").propertyIsEnumerable(0)})?function(I){return"String"==E(I)?A(I,""):R(I)}:R},1072:(ee,ce,b)=>{var O=b(4513),M=b(8886),E=b(6736);ee.exports=function(R,A,I){var N,W;return E&&O(N=A.constructor)&&N!==I&&M(W=N.prototype)&&W!==I.prototype&&E(R,W),R}},6073:(ee,ce,b)=>{var O=b(2006),M=b(4513),E=b(5691),R=O(Function.toString);M(E.inspectSource)||(E.inspectSource=function(A){return R(A)}),ee.exports=E.inspectSource},9346:(ee,ce,b)=>{var O=b(664),M=b(2006),E=b(7086),R=b(8886),A=b(8578),I=b(6607).f,N=b(4283),W=b(3138),G=b(3892),ne=b(1387),ae=b(2655),le=!1,he=ne("meta"),$=0,de=function(We){I(We,he,{value:{objectID:"O"+$++,weakData:{}}})},it=ee.exports={enable:function(){it.enable=function(){},le=!0;var We=N.f,Oe=M([].splice),Ke={};Ke[he]=1,We(Ke).length&&(N.f=function(dt){for(var rt=We(dt),yt=0,Pt=rt.length;yt<Pt;yt++)if(rt[yt]===he){Oe(rt,yt,1);break}return rt},O({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:W.f}))},fastKey:function(We,Oe){if(!R(We))return"symbol"==typeof We?We:("string"==typeof We?"S":"P")+We;if(!A(We,he)){if(!G(We))return"F";if(!Oe)return"E";de(We)}return We[he].objectID},getWeakData:function(We,Oe){if(!A(We,he)){if(!G(We))return!0;if(!Oe)return!1;de(We)}return We[he].weakData},onFreeze:function(We){return ae&&le&&G(We)&&!A(We,he)&&de(We),We}};E[he]=!0},979:(ee,ce,b)=>{var le,he,$,O=b(2488),M=b(4720),E=b(8886),R=b(3779),A=b(8578),I=b(5691),N=b(9660),W=b(7086),G="Object already initialized",ne=M.TypeError;if(O||I.state){var Ie=I.state||(I.state=new(0,M.WeakMap));Ie.get=Ie.get,Ie.has=Ie.has,Ie.set=Ie.set,le=function(ze,it){if(Ie.has(ze))throw ne(G);return it.facade=ze,Ie.set(ze,it),it},he=function(ze){return Ie.get(ze)||{}},$=function(ze){return Ie.has(ze)}}else{var Re=N("state");W[Re]=!0,le=function(ze,it){if(A(ze,Re))throw ne(G);return it.facade=ze,R(ze,Re,it),it},he=function(ze){return A(ze,Re)?ze[Re]:{}},$=function(ze){return A(ze,Re)}}ee.exports={set:le,get:he,has:$,enforce:function(ze){return $(ze)?he(ze):le(ze,{})},getterFor:function(ze){return function(it){var We;if(!E(it)||(We=he(it)).type!==ze)throw ne("Incompatible receiver, "+ze+" required");return We}}}},7909:(ee,ce,b)=>{var O=b(7014),M=b(8424),E=O("iterator"),R=Array.prototype;ee.exports=function(A){return void 0!==A&&(M.Array===A||R[E]===A)}},8143:(ee,ce,b)=>{var O=b(1401);ee.exports=Array.isArray||function(E){return"Array"==O(E)}},4513:(ee,ce,b)=>{var O=b(2935),M=O.all;ee.exports=O.IS_HTMLDDA?function(E){return"function"==typeof E||E===M}:function(E){return"function"==typeof E}},5200:(ee,ce,b)=>{var O=b(2006),M=b(7944),E=b(4513),R=b(2212),A=b(2149),I=b(6073),N=function(){},W=[],G=A("Reflect","construct"),ne=/^\s*(?:class|function)\b/,ae=O(ne.exec),le=!ne.exec(N),he=function(be){if(!E(be))return!1;try{return G(N,W,be),!0}catch(Ie){return!1}},$=function(be){if(!E(be))return!1;switch(R(be)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return le||!!ae(ne,I(be))}catch(Ie){return!0}};$.sham=!0,ee.exports=!G||M(function(){var de;return he(he.call)||!he(Object)||!he(function(){de=!0})||de})?$:he},7859:(ee,ce,b)=>{var O=b(8578);ee.exports=function(M){return void 0!==M&&(O(M,"value")||O(M,"writable"))}},9545:(ee,ce,b)=>{var O=b(7944),M=b(4513),E=/#|\.prototype\./,R=function(G,ne){var ae=I[A(G)];return ae==W||ae!=N&&(M(ne)?O(ne):!!ne)},A=R.normalize=function(G){return String(G).replace(E,".").toLowerCase()},I=R.data={},N=R.NATIVE="N",W=R.POLYFILL="P";ee.exports=R},4904:(ee,ce,b)=>{var O=b(8886),M=Math.floor;ee.exports=Number.isInteger||function(R){return!O(R)&&isFinite(R)&&M(R)===R}},8702:ee=>{ee.exports=function(ce){return null==ce}},8886:(ee,ce,b)=>{var O=b(4513),M=b(2935),E=M.all;ee.exports=M.IS_HTMLDDA?function(R){return"object"==typeof R?null!==R:O(R)||R===E}:function(R){return"object"==typeof R?null!==R:O(R)}},2074:ee=>{ee.exports=!1},1185:(ee,ce,b)=>{var O=b(8886),M=b(1401),R=b(7014)("match");ee.exports=function(A){var I;return O(A)&&(void 0!==(I=A[R])?!!I:"RegExp"==M(A))}},2983:(ee,ce,b)=>{var O=b(2149),M=b(4513),E=b(846),R=b(6762),A=Object;ee.exports=R?function(I){return"symbol"==typeof I}:function(I){var N=O("Symbol");return M(N)&&E(N.prototype,A(I))}},9423:(ee,ce,b)=>{var O=b(352),M=b(9836),E=b(6583),R=b(7366),A=b(7909),I=b(7951),N=b(846),W=b(6029),G=b(6644),ne=b(9838),ae=TypeError,le=function($,de){this.stopped=$,this.result=de},he=le.prototype;ee.exports=function($,de,be){var Ke,dt,rt,yt,Pt,Ft,Gt,Re=!(!be||!be.AS_ENTRIES),ze=!(!be||!be.IS_RECORD),it=!(!be||!be.IS_ITERATOR),We=!(!be||!be.INTERRUPTED),Oe=O(de,be&&be.that),Kt=function(It){return Ke&&ne(Ke,"normal",It),new le(!0,It)},Zt=function(It){return Re?(E(It),We?Oe(It[0],It[1],Kt):Oe(It[0],It[1])):We?Oe(It,Kt):Oe(It)};if(ze)Ke=$.iterator;else if(it)Ke=$;else{if(!(dt=G($)))throw ae(R($)+" is not iterable");if(A(dt)){for(rt=0,yt=I($);yt>rt;rt++)if((Pt=Zt($[rt]))&&N(he,Pt))return Pt;return new le(!1)}Ke=W($,dt)}for(Ft=ze?$.next:Ke.next;!(Gt=M(Ft,Ke)).done;){try{Pt=Zt(Gt.value)}catch(It){ne(Ke,"throw",It)}if("object"==typeof Pt&&Pt&&N(he,Pt))return Pt}return new le(!1)}},9838:(ee,ce,b)=>{var O=b(9836),M=b(6583),E=b(2383);ee.exports=function(R,A,I){var N,W;M(R);try{if(!(N=E(R,"return"))){if("throw"===A)throw I;return I}N=O(N,R)}catch(G){W=!0,N=G}if("throw"===A)throw I;if(W)throw N;return M(N),I}},4020:(ee,ce,b)=>{"use strict";var O=b(2753).IteratorPrototype,M=b(1701),E=b(8808),R=b(5387),A=b(8424),I=function(){return this};ee.exports=function(N,W,G,ne){var ae=W+" Iterator";return N.prototype=M(O,{next:E(+!ne,G)}),R(N,ae,!1,!0),A[ae]=I,N}},4971:(ee,ce,b)=>{"use strict";var O=b(664),M=b(9836),E=b(2074),R=b(2891),A=b(4513),I=b(4020),N=b(5456),W=b(6736),G=b(5387),ne=b(3779),ae=b(9047),le=b(7014),he=b(8424),$=b(2753),de=R.PROPER,be=R.CONFIGURABLE,Ie=$.IteratorPrototype,Re=$.BUGGY_SAFARI_ITERATORS,ze=le("iterator"),We="values",Oe="entries",Ke=function(){return this};ee.exports=function(dt,rt,yt,Pt,Ft,Gt,Kt){I(yt,rt,Pt);var bn,Sn,Ht,Zt=function(Jn){if(Jn===Ft&&Rt)return Rt;if(!Re&&Jn in ge)return ge[Jn];switch(Jn){case"keys":case We:case Oe:return function(){return new yt(this,Jn)}}return function(){return new yt(this)}},It=rt+" Iterator",Fe=!1,ge=dt.prototype,ht=ge[ze]||ge["@@iterator"]||Ft&&ge[Ft],Rt=!Re&&ht||Zt(Ft),$t="Array"==rt&&ge.entries||ht;if($t&&(bn=N($t.call(new dt)))!==Object.prototype&&bn.next&&(!E&&N(bn)!==Ie&&(W?W(bn,Ie):A(bn[ze])||ae(bn,ze,Ke)),G(bn,It,!0,!0),E&&(he[It]=Ke)),de&&Ft==We&&ht&&ht.name!==We&&(!E&&be?ne(ge,"name",We):(Fe=!0,Rt=function(){return M(ht,this)})),Ft)if(Sn={values:Zt(We),keys:Gt?Rt:Zt("keys"),entries:Zt(Oe)},Kt)for(Ht in Sn)(Re||Fe||!(Ht in ge))&&ae(ge,Ht,Sn[Ht]);else O({target:rt,proto:!0,forced:Re||Fe},Sn);return(!E||Kt)&&ge[ze]!==Rt&&ae(ge,ze,Rt,{name:Ft}),he[rt]=Rt,Sn}},2753:(ee,ce,b)=>{"use strict";var ae,le,he,O=b(7944),M=b(4513),E=b(8886),R=b(1701),A=b(5456),I=b(9047),N=b(7014),W=b(2074),G=N("iterator"),ne=!1;[].keys&&("next"in(he=[].keys())?(le=A(A(he)))!==Object.prototype&&(ae=le):ne=!0),!E(ae)||O(function(){var de={};return ae[G].call(de)!==de})?ae={}:W&&(ae=R(ae)),M(ae[G])||I(ae,G,function(){return this}),ee.exports={IteratorPrototype:ae,BUGGY_SAFARI_ITERATORS:ne}},8424:ee=>{ee.exports={}},7951:(ee,ce,b)=>{var O=b(7832);ee.exports=function(M){return O(M.length)}},6885:(ee,ce,b)=>{var O=b(7944),M=b(4513),E=b(8578),R=b(5601),A=b(2891).CONFIGURABLE,I=b(6073),N=b(979),W=N.enforce,G=N.get,ne=Object.defineProperty,ae=R&&!O(function(){return 8!==ne(function(){},"length",{value:8}).length}),le=String(String).split("String"),he=ee.exports=function($,de,be){"Symbol("===String(de).slice(0,7)&&(de="["+String(de).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),be&&be.getter&&(de="get "+de),be&&be.setter&&(de="set "+de),(!E($,"name")||A&&$.name!==de)&&(R?ne($,"name",{value:de,configurable:!0}):$.name=de),ae&&be&&E(be,"arity")&&$.length!==be.arity&&ne($,"length",{value:be.arity});try{be&&E(be,"constructor")&&be.constructor?R&&ne($,"prototype",{writable:!1}):$.prototype&&($.prototype=void 0)}catch(Re){}var Ie=W($);return E(Ie,"source")||(Ie.source=le.join("string"==typeof de?de:"")),$};Function.prototype.toString=he(function(){return M(this)&&G(this).source||I(this)},"toString")},8168:ee=>{var ce=Math.ceil,b=Math.floor;ee.exports=Math.trunc||function(M){var E=+M;return(E>0?b:ce)(E)}},1679:(ee,ce,b)=>{var O=b(1185),M=TypeError;ee.exports=function(E){if(O(E))throw M("The method doesn't accept regular expressions");return E}},5274:(ee,ce,b)=>{"use strict";var O=b(5601),M=b(2006),E=b(9836),R=b(7944),A=b(5159),I=b(6095),N=b(6491),W=b(3784),G=b(2462),ne=Object.assign,ae=Object.defineProperty,le=M([].concat);ee.exports=!ne||R(function(){if(O&&1!==ne({b:1},ne(ae({},"a",{enumerable:!0,get:function(){ae(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var he={},$={},de=Symbol(),be="abcdefghijklmnopqrst";return he[de]=7,be.split("").forEach(function(Ie){$[Ie]=Ie}),7!=ne({},he)[de]||A(ne({},$)).join("")!=be})?function($,de){for(var be=W($),Ie=arguments.length,Re=1,ze=I.f,it=N.f;Ie>Re;)for(var rt,We=G(arguments[Re++]),Oe=ze?le(A(We),ze(We)):A(We),Ke=Oe.length,dt=0;Ke>dt;)rt=Oe[dt++],(!O||E(it,We,rt))&&(be[rt]=We[rt]);return be}:ne},1701:(ee,ce,b)=>{var Ie,O=b(6583),M=b(9106),E=b(256),R=b(7086),A=b(4989),I=b(7783),N=b(9660),ne="prototype",le=N("IE_PROTO"),he=function(){},$=function(ze){return"<script>"+ze+"<\/script>"},de=function(ze){ze.write($("")),ze.close();var it=ze.parentWindow.Object;return ze=null,it},Re=function(){try{Ie=new ActiveXObject("htmlfile")}catch(it){}Re="undefined"!=typeof document?document.domain&&Ie?de(Ie):function(){var We,ze=I("iframe");return ze.style.display="none",A.appendChild(ze),ze.src=String("javascript:"),(We=ze.contentWindow.document).open(),We.write($("document.F=Object")),We.close(),We.F}():de(Ie);for(var ze=E.length;ze--;)delete Re[ne][E[ze]];return Re()};R[le]=!0,ee.exports=Object.create||function(it,We){var Oe;return null!==it?(he[ne]=O(it),Oe=new he,he[ne]=null,Oe[le]=it):Oe=Re(),void 0===We?Oe:M.f(Oe,We)}},9106:(ee,ce,b)=>{var O=b(5601),M=b(401),E=b(6607),R=b(6583),A=b(8436),I=b(5159);ce.f=O&&!M?Object.defineProperties:function(W,G){R(W);for(var $,ne=A(G),ae=I(G),le=ae.length,he=0;le>he;)E.f(W,$=ae[he++],ne[$]);return W}},6607:(ee,ce,b)=>{var O=b(5601),M=b(5873),E=b(401),R=b(6583),A=b(2637),I=TypeError,N=Object.defineProperty,W=Object.getOwnPropertyDescriptor,G="enumerable",ne="configurable",ae="writable";ce.f=O?E?function(he,$,de){if(R(he),$=A($),R(de),"function"==typeof he&&"prototype"===$&&"value"in de&&ae in de&&!de[ae]){var be=W(he,$);be&&be[ae]&&(he[$]=de.value,de={configurable:ne in de?de[ne]:be[ne],enumerable:G in de?de[G]:be[G],writable:!1})}return N(he,$,de)}:N:function(he,$,de){if(R(he),$=A($),R(de),M)try{return N(he,$,de)}catch(be){}if("get"in de||"set"in de)throw I("Accessors not supported");return"value"in de&&(he[$]=de.value),he}},313:(ee,ce,b)=>{var O=b(5601),M=b(9836),E=b(6491),R=b(8808),A=b(8436),I=b(2637),N=b(8578),W=b(5873),G=Object.getOwnPropertyDescriptor;ce.f=O?G:function(ae,le){if(ae=A(ae),le=I(le),W)try{return G(ae,le)}catch(he){}if(N(ae,le))return R(!M(E.f,ae,le),ae[le])}},3138:(ee,ce,b)=>{var O=b(1401),M=b(8436),E=b(4283).f,R=b(5005),A="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ee.exports.f=function(W){return A&&"Window"==O(W)?function(N){try{return E(N)}catch(W){return R(A)}}(W):E(M(W))}},4283:(ee,ce,b)=>{var O=b(3187),E=b(256).concat("length","prototype");ce.f=Object.getOwnPropertyNames||function(A){return O(A,E)}},6095:(ee,ce)=>{ce.f=Object.getOwnPropertySymbols},5456:(ee,ce,b)=>{var O=b(8578),M=b(4513),E=b(3784),R=b(9660),A=b(8745),I=R("IE_PROTO"),N=Object,W=N.prototype;ee.exports=A?N.getPrototypeOf:function(G){var ne=E(G);if(O(ne,I))return ne[I];var ae=ne.constructor;return M(ae)&&ne instanceof ae?ae.prototype:ne instanceof N?W:null}},3892:(ee,ce,b)=>{var O=b(7944),M=b(8886),E=b(1401),R=b(3588),A=Object.isExtensible,I=O(function(){A(1)});ee.exports=I||R?function(W){return!(!M(W)||R&&"ArrayBuffer"==E(W))&&(!A||A(W))}:A},846:(ee,ce,b)=>{var O=b(2006);ee.exports=O({}.isPrototypeOf)},3187:(ee,ce,b)=>{var O=b(2006),M=b(8578),E=b(8436),R=b(4273).indexOf,A=b(7086),I=O([].push);ee.exports=function(N,W){var le,G=E(N),ne=0,ae=[];for(le in G)!M(A,le)&&M(G,le)&&I(ae,le);for(;W.length>ne;)M(G,le=W[ne++])&&(~R(ae,le)||I(ae,le));return ae}},5159:(ee,ce,b)=>{var O=b(3187),M=b(256);ee.exports=Object.keys||function(R){return O(R,M)}},6491:(ee,ce)=>{"use strict";var b={}.propertyIsEnumerable,O=Object.getOwnPropertyDescriptor,M=O&&!b.call({1:2},1);ce.f=M?function(R){var A=O(this,R);return!!A&&A.enumerable}:b},6736:(ee,ce,b)=>{var O=b(2006),M=b(6583),E=b(8254);ee.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var I,R=!1,A={};try{(I=O(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(A,[]),R=A instanceof Array}catch(N){}return function(W,G){return M(W),E(G),R?I(W,G):W.__proto__=G,W}}():void 0)},8307:(ee,ce,b)=>{var O=b(5601),M=b(2006),E=b(5159),R=b(8436),I=M(b(6491).f),N=M([].push),W=function(G){return function(ne){for(var be,ae=R(ne),le=E(ae),he=le.length,$=0,de=[];he>$;)be=le[$++],(!O||I(ae,be))&&N(de,G?[be,ae[be]]:ae[be]);return de}};ee.exports={entries:W(!0),values:W(!1)}},6482:(ee,ce,b)=>{"use strict";var O=b(5706),M=b(2212);ee.exports=O?{}.toString:function(){return"[object "+M(this)+"]"}},3409:(ee,ce,b)=>{var O=b(9836),M=b(4513),E=b(8886),R=TypeError;ee.exports=function(A,I){var N,W;if("string"===I&&M(N=A.toString)&&!E(W=O(N,A))||M(N=A.valueOf)&&!E(W=O(N,A))||"string"!==I&&M(N=A.toString)&&!E(W=O(N,A)))return W;throw R("Can't convert object to primitive value")}},4432:(ee,ce,b)=>{var O=b(2149),M=b(2006),E=b(4283),R=b(6095),A=b(6583),I=M([].concat);ee.exports=O("Reflect","ownKeys")||function(W){var G=E.f(A(W)),ne=R.f;return ne?I(G,ne(W)):G}},5388:(ee,ce,b)=>{var O=b(4720);ee.exports=O},6455:(ee,ce,b)=>{var O=b(6607).f;ee.exports=function(M,E,R){R in M||O(M,R,{configurable:!0,get:function(){return E[R]},set:function(A){E[R]=A}})}},8325:(ee,ce,b)=>{var O=b(9836),M=b(6583),E=b(4513),R=b(1401),A=b(8214),I=TypeError;ee.exports=function(N,W){var G=N.exec;if(E(G)){var ne=O(G,N,W);return null!==ne&&M(ne),ne}if("RegExp"===R(N))return O(A,N,W);throw I("RegExp#exec called on incompatible receiver")}},8214:(ee,ce,b)=>{"use strict";var Oe,Ke,O=b(9836),M=b(2006),E=b(9005),R=b(8167),A=b(1810),I=b(5443),N=b(1701),W=b(979).get,G=b(1005),ne=b(7633),ae=I("native-string-replace",String.prototype.replace),le=RegExp.prototype.exec,he=le,$=M("".charAt),de=M("".indexOf),be=M("".replace),Ie=M("".slice),Re=(Ke=/b*/g,O(le,Oe=/a/,"a"),O(le,Ke,"a"),0!==Oe.lastIndex||0!==Ke.lastIndex),ze=A.BROKEN_CARET,it=void 0!==/()??/.exec("")[1];(Re||it||ze||G||ne)&&(he=function(Ke){var Ft,Gt,Kt,Zt,It,Fe,ge,dt=this,rt=W(dt),yt=E(Ke),Pt=rt.raw;if(Pt)return Pt.lastIndex=dt.lastIndex,Ft=O(he,Pt,yt),dt.lastIndex=Pt.lastIndex,Ft;var ht=rt.groups,Rt=ze&&dt.sticky,$t=O(R,dt),bn=dt.source,Sn=0,Ht=yt;if(Rt&&($t=be($t,"y",""),-1===de($t,"g")&&($t+="g"),Ht=Ie(yt,dt.lastIndex),dt.lastIndex>0&&(!dt.multiline||dt.multiline&&"\n"!==$(yt,dt.lastIndex-1))&&(bn="(?: "+bn+")",Ht=" "+Ht,Sn++),Gt=new RegExp("^(?:"+bn+")",$t)),it&&(Gt=new RegExp("^"+bn+"$(?!\\s)",$t)),Re&&(Kt=dt.lastIndex),Zt=O(le,Rt?Gt:dt,Ht),Rt?Zt?(Zt.input=Ie(Zt.input,Sn),Zt[0]=Ie(Zt[0],Sn),Zt.index=dt.lastIndex,dt.lastIndex+=Zt[0].length):dt.lastIndex=0:Re&&Zt&&(dt.lastIndex=dt.global?Zt.index+Zt[0].length:Kt),it&&Zt&&Zt.length>1&&O(ae,Zt[0],Gt,function(){for(It=1;It<arguments.length-2;It++)void 0===arguments[It]&&(Zt[It]=void 0)}),Zt&&ht)for(Zt.groups=Fe=N(null),It=0;It<ht.length;It++)Fe[(ge=ht[It])[0]]=Zt[ge[1]];return Zt}),ee.exports=he},8167:(ee,ce,b)=>{"use strict";var O=b(6583);ee.exports=function(){var M=O(this),E="";return M.hasIndices&&(E+="d"),M.global&&(E+="g"),M.ignoreCase&&(E+="i"),M.multiline&&(E+="m"),M.dotAll&&(E+="s"),M.unicode&&(E+="u"),M.unicodeSets&&(E+="v"),M.sticky&&(E+="y"),E}},2791:(ee,ce,b)=>{var O=b(9836),M=b(8578),E=b(846),R=b(8167),A=RegExp.prototype;ee.exports=function(I){var N=I.flags;return void 0!==N||"flags"in A||M(I,"flags")||!E(A,I)?N:O(R,I)}},1810:(ee,ce,b)=>{var O=b(7944),E=b(4720).RegExp,R=O(function(){var N=E("a","y");return N.lastIndex=2,null!=N.exec("abcd")}),A=R||O(function(){return!E("a","y").sticky}),I=R||O(function(){var N=E("^r","gy");return N.lastIndex=2,null!=N.exec("str")});ee.exports={BROKEN_CARET:I,MISSED_STICKY:A,UNSUPPORTED_Y:R}},1005:(ee,ce,b)=>{var O=b(7944),E=b(4720).RegExp;ee.exports=O(function(){var R=E(".","s");return!(R.dotAll&&R.exec("\n")&&"s"===R.flags)})},7633:(ee,ce,b)=>{var O=b(7944),E=b(4720).RegExp;ee.exports=O(function(){var R=E("(?<a>b)","g");return"b"!==R.exec("b").groups.a||"bc"!=="b".replace(R,"$<a>c")})},1413:(ee,ce,b)=>{var O=b(8702),M=TypeError;ee.exports=function(E){if(O(E))throw M("Can't call method on "+E);return E}},1517:ee=>{ee.exports=Object.is||function(b,O){return b===O?0!==b||1/b==1/O:b!=b&&O!=O}},9780:(ee,ce,b)=>{var O=b(4720),M=b(5019),E=b(4513),R=b(8684),A=b(8439),I=b(5983),N=/MSIE .\./.test(R),W=O.Function,G=function(ne){return N?function(ae,le){var he=I(arguments.length,1)>2,$=E(ae)?ae:W(ae),de=he?A(arguments,2):void 0;return ne(he?function(){M($,this,de)}:$,le)}:ne};ee.exports={setTimeout:G(O.setTimeout),setInterval:G(O.setInterval)}},4087:(ee,ce,b)=>{"use strict";var O=b(2149),M=b(6607),E=b(7014),R=b(5601),A=E("species");ee.exports=function(I){var N=O(I);R&&N&&!N[A]&&(0,M.f)(N,A,{configurable:!0,get:function(){return this}})}},5387:(ee,ce,b)=>{var O=b(6607).f,M=b(8578),R=b(7014)("toStringTag");ee.exports=function(A,I,N){A&&!N&&(A=A.prototype),A&&!M(A,R)&&O(A,R,{configurable:!0,value:I})}},9660:(ee,ce,b)=>{var O=b(5443),M=b(1387),E=O("keys");ee.exports=function(R){return E[R]||(E[R]=M(R))}},5691:(ee,ce,b)=>{var O=b(4720),M=b(7907),E="__core-js_shared__",R=O[E]||M(E,{});ee.exports=R},5443:(ee,ce,b)=>{var O=b(2074),M=b(5691);(ee.exports=function(E,R){return M[E]||(M[E]=void 0!==R?R:{})})("versions",[]).push({version:"3.25.5",mode:O?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})},7347:(ee,ce,b)=>{var O=b(6583),M=b(9493),E=b(8702),A=b(7014)("species");ee.exports=function(I,N){var G,W=O(I).constructor;return void 0===W||E(G=O(W)[A])?N:M(G)}},1558:(ee,ce,b)=>{var O=b(7944);ee.exports=function(M){return O(function(){var E=""[M]('"');return E!==E.toLowerCase()||E.split('"').length>3})}},5940:(ee,ce,b)=>{var O=b(2006),M=b(2048),E=b(9005),R=b(1413),A=O("".charAt),I=O("".charCodeAt),N=O("".slice),W=function(G){return function(ne,ae){var de,be,le=E(R(ne)),he=M(ae),$=le.length;return he<0||he>=$?G?"":void 0:(de=I(le,he))<55296||de>56319||he+1===$||(be=I(le,he+1))<56320||be>57343?G?A(le,he):de:G?N(le,he,he+2):be-56320+(de-55296<<10)+65536}};ee.exports={codeAt:W(!1),charAt:W(!0)}},2666:(ee,ce,b)=>{var O=b(8684);ee.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(O)},8922:(ee,ce,b)=>{var O=b(2006),M=b(7832),E=b(9005),R=b(4437),A=b(1413),I=O(R),N=O("".slice),W=Math.ceil,G=function(ne){return function(ae,le,he){var Re,ze,$=E(A(ae)),de=M(le),be=$.length,Ie=void 0===he?" ":E(he);return de<=be||""==Ie?$:((ze=I(Ie,W((Re=de-be)/Ie.length))).length>Re&&(ze=N(ze,0,Re)),ne?$+ze:ze+$)}};ee.exports={start:G(!1),end:G(!0)}},4437:(ee,ce,b)=>{"use strict";var O=b(2048),M=b(9005),E=b(1413),R=RangeError;ee.exports=function(I){var N=M(E(this)),W="",G=O(I);if(G<0||G==1/0)throw R("Wrong number of repetitions");for(;G>0;(G>>>=1)&&(N+=N))1&G&&(W+=N);return W}},4304:(ee,ce,b)=>{var O=b(2891).PROPER,M=b(7944),E=b(2097);ee.exports=function(A){return M(function(){return!!E[A]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[A]()||O&&E[A].name!==A})}},9916:(ee,ce,b)=>{var O=b(2006),M=b(1413),E=b(9005),R=b(2097),A=O("".replace),I="["+R+"]",N=RegExp("^"+I+I+"*"),W=RegExp(I+I+"*$"),G=function(ne){return function(ae){var le=E(M(ae));return 1&ne&&(le=A(le,N,"")),2&ne&&(le=A(le,W,"")),le}};ee.exports={start:G(1),end:G(2),trim:G(3)}},1656:(ee,ce,b)=>{var O=b(9905),M=b(7944);ee.exports=!!Object.getOwnPropertySymbols&&!M(function(){var E=Symbol();return!String(E)||!(Object(E)instanceof Symbol)||!Symbol.sham&&O&&O<41})},5439:(ee,ce,b)=>{var O=b(9836),M=b(2149),E=b(7014),R=b(9047);ee.exports=function(){var A=M("Symbol"),I=A&&A.prototype,N=I&&I.valueOf,W=E("toPrimitive");I&&!I[W]&&R(I,W,function(G){return O(N,this)},{arity:1})}},348:(ee,ce,b)=>{var O=b(1656);ee.exports=O&&!!Symbol.for&&!!Symbol.keyFor},5484:(ee,ce,b)=>{var Ke,dt,rt,yt,O=b(4720),M=b(5019),E=b(352),R=b(4513),A=b(8578),I=b(7944),N=b(4989),W=b(8439),G=b(7783),ne=b(5983),ae=b(7001),le=b(2926),he=O.setImmediate,$=O.clearImmediate,de=O.process,be=O.Dispatch,Ie=O.Function,Re=O.MessageChannel,ze=O.String,it=0,We={},Oe="onreadystatechange";try{Ke=O.location}catch(Zt){}var Pt=function(Zt){if(A(We,Zt)){var It=We[Zt];delete We[Zt],It()}},Ft=function(Zt){return function(){Pt(Zt)}},Gt=function(Zt){Pt(Zt.data)},Kt=function(Zt){O.postMessage(ze(Zt),Ke.protocol+"//"+Ke.host)};(!he||!$)&&(he=function(It){ne(arguments.length,1);var Fe=R(It)?It:Ie(It),ge=W(arguments,1);return We[++it]=function(){M(Fe,void 0,ge)},dt(it),it},$=function(It){delete We[It]},le?dt=function(Zt){de.nextTick(Ft(Zt))}:be&&be.now?dt=function(Zt){be.now(Ft(Zt))}:Re&&!ae?(yt=(rt=new Re).port2,rt.port1.onmessage=Gt,dt=E(yt.postMessage,yt)):O.addEventListener&&R(O.postMessage)&&!O.importScripts&&Ke&&"file:"!==Ke.protocol&&!I(Kt)?(dt=Kt,O.addEventListener("message",Gt,!1)):dt=Oe in G("script")?function(Zt){N.appendChild(G("script"))[Oe]=function(){N.removeChild(this),Pt(Zt)}}:function(Zt){setTimeout(Ft(Zt),0)}),ee.exports={set:he,clear:$}},1506:(ee,ce,b)=>{var O=b(2006);ee.exports=O(1..valueOf)},8064:(ee,ce,b)=>{var O=b(2048),M=Math.max,E=Math.min;ee.exports=function(R,A){var I=O(R);return I<0?M(I+A,0):E(I,A)}},8436:(ee,ce,b)=>{var O=b(2462),M=b(1413);ee.exports=function(E){return O(M(E))}},2048:(ee,ce,b)=>{var O=b(8168);ee.exports=function(M){var E=+M;return E!=E||0===E?0:O(E)}},7832:(ee,ce,b)=>{var O=b(2048),M=Math.min;ee.exports=function(E){return E>0?M(O(E),9007199254740991):0}},3784:(ee,ce,b)=>{var O=b(1413),M=Object;ee.exports=function(E){return M(O(E))}},6281:(ee,ce,b)=>{var O=b(9836),M=b(8886),E=b(2983),R=b(2383),A=b(3409),I=b(7014),N=TypeError,W=I("toPrimitive");ee.exports=function(G,ne){if(!M(G)||E(G))return G;var le,ae=R(G,W);if(ae){if(void 0===ne&&(ne="default"),le=O(ae,G,ne),!M(le)||E(le))return le;throw N("Can't convert object to primitive value")}return void 0===ne&&(ne="number"),A(G,ne)}},2637:(ee,ce,b)=>{var O=b(6281),M=b(2983);ee.exports=function(E){var R=O(E,"string");return M(R)?R:R+""}},5706:(ee,ce,b)=>{var E={};E[b(7014)("toStringTag")]="z",ee.exports="[object z]"===String(E)},9005:(ee,ce,b)=>{var O=b(2212),M=String;ee.exports=function(E){if("Symbol"===O(E))throw TypeError("Cannot convert a Symbol value to a string");return M(E)}},7366:ee=>{var ce=String;ee.exports=function(b){try{return ce(b)}catch(O){return"Object"}}},1387:(ee,ce,b)=>{var O=b(2006),M=0,E=Math.random(),R=O(1..toString);ee.exports=function(A){return"Symbol("+(void 0===A?"":A)+")_"+R(++M+E,36)}},6762:(ee,ce,b)=>{var O=b(1656);ee.exports=O&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},401:(ee,ce,b)=>{var O=b(5601),M=b(7944);ee.exports=O&&M(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},5983:ee=>{var ce=TypeError;ee.exports=function(b,O){if(b<O)throw ce("Not enough arguments");return b}},2488:(ee,ce,b)=>{var O=b(4720),M=b(4513),E=O.WeakMap;ee.exports=M(E)&&/native code/.test(String(E))},8810:(ee,ce,b)=>{var O=b(5388),M=b(8578),E=b(8775),R=b(6607).f;ee.exports=function(A){var I=O.Symbol||(O.Symbol={});M(I,A)||R(I,A,{value:E.f(A)})}},8775:(ee,ce,b)=>{var O=b(7014);ce.f=O},7014:(ee,ce,b)=>{var O=b(4720),M=b(5443),E=b(8578),R=b(1387),A=b(1656),I=b(6762),N=M("wks"),W=O.Symbol,G=W&&W.for,ne=I?W:W&&W.withoutSetter||R;ee.exports=function(ae){if(!E(N,ae)||!A&&"string"!=typeof N[ae]){var le="Symbol."+ae;N[ae]=A&&E(W,ae)?W[ae]:I&&G?G(le):ne(le)}return N[ae]}},2097:ee=>{ee.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},2246:(ee,ce,b)=>{"use strict";var O=b(664),M=b(7944),E=b(8143),R=b(8886),A=b(3784),I=b(7951),N=b(8194),W=b(7182),G=b(4275),ne=b(1468),ae=b(7014),le=b(9905),he=ae("isConcatSpreadable"),$=le>=51||!M(function(){var Re=[];return Re[he]=!1,Re.concat()[0]!==Re}),de=ne("concat"),be=function(Re){if(!R(Re))return!1;var ze=Re[he];return void 0!==ze?!!ze:E(Re)};O({target:"Array",proto:!0,arity:1,forced:!$||!de},{concat:function(ze){var Ke,dt,rt,yt,Pt,it=A(this),We=G(it,0),Oe=0;for(Ke=-1,rt=arguments.length;Ke<rt;Ke++)if(be(Pt=-1===Ke?it:arguments[Ke]))for(yt=I(Pt),N(Oe+yt),dt=0;dt<yt;dt++,Oe++)dt in Pt&&W(We,Oe,Pt[dt]);else N(Oe+1),W(We,Oe++,Pt);return We.length=Oe,We}})},3912:(ee,ce,b)=>{var O=b(664),M=b(3270),E=b(5834);O({target:"Array",proto:!0},{fill:M}),E("fill")},3479:(ee,ce,b)=>{"use strict";var O=b(664),M=b(8657).filter;O({target:"Array",proto:!0,forced:!b(1468)("filter")},{filter:function(I){return M(this,I,arguments.length>1?arguments[1]:void 0)}})},4631:(ee,ce,b)=>{"use strict";var O=b(664),M=b(8657).findIndex,E=b(5834),R="findIndex",A=!0;R in[]&&Array(1)[R](function(){A=!1}),O({target:"Array",proto:!0,forced:A},{findIndex:function(N){return M(this,N,arguments.length>1?arguments[1]:void 0)}}),E(R)},7114:(ee,ce,b)=>{"use strict";var O=b(664),M=b(8657).find,E=b(5834),R="find",A=!0;R in[]&&Array(1)[R](function(){A=!1}),O({target:"Array",proto:!0,forced:A},{find:function(N){return M(this,N,arguments.length>1?arguments[1]:void 0)}}),E(R)},8621:(ee,ce,b)=>{var O=b(664),M=b(2411);O({target:"Array",stat:!0,forced:!b(4430)(function(A){Array.from(A)})},{from:M})},7059:(ee,ce,b)=>{"use strict";var O=b(664),M=b(4273).includes,E=b(7944),R=b(5834);O({target:"Array",proto:!0,forced:E(function(){return!Array(1).includes()})},{includes:function(N){return M(this,N,arguments.length>1?arguments[1]:void 0)}}),R("includes")},3382:(ee,ce,b)=>{"use strict";var O=b(664),M=b(2006),E=b(4273).indexOf,R=b(1815),A=M([].indexOf),I=!!A&&1/A([1],1,-0)<0,N=R("indexOf");O({target:"Array",proto:!0,forced:I||!N},{indexOf:function(G){var ne=arguments.length>1?arguments[1]:void 0;return I?A(this,G,ne)||0:E(this,G,ne)}})},4952:(ee,ce,b)=>{"use strict";var O=b(8436),M=b(5834),E=b(8424),R=b(979),A=b(6607).f,I=b(4971),N=b(4761),W=b(2074),G=b(5601),ne="Array Iterator",ae=R.set,le=R.getterFor(ne);ee.exports=I(Array,"Array",function($,de){ae(this,{type:ne,target:O($),index:0,kind:de})},function(){var $=le(this),de=$.target,be=$.kind,Ie=$.index++;return!de||Ie>=de.length?($.target=void 0,N(void 0,!0)):N("keys"==be?Ie:"values"==be?de[Ie]:[Ie,de[Ie]],!1)},"values");var he=E.Arguments=E.Array;if(M("keys"),M("values"),M("entries"),!W&&G&&"values"!==he.name)try{A(he,"name",{value:"values"})}catch($){}},6774:(ee,ce,b)=>{"use strict";var O=b(664),M=b(2006),E=b(2462),R=b(8436),A=b(1815),I=M([].join),N=E!=Object,W=A("join",",");O({target:"Array",proto:!0,forced:N||!W},{join:function(ne){return I(R(this),void 0===ne?",":ne)}})},1695:(ee,ce,b)=>{var O=b(664),M=b(28);O({target:"Array",proto:!0,forced:M!==[].lastIndexOf},{lastIndexOf:M})},262:(ee,ce,b)=>{"use strict";var O=b(664),M=b(8657).map;O({target:"Array",proto:!0,forced:!b(1468)("map")},{map:function(I){return M(this,I,arguments.length>1?arguments[1]:void 0)}})},149:(ee,ce,b)=>{"use strict";var O=b(664),M=b(9906).left,E=b(1815),R=b(9905),A=b(2926);O({target:"Array",proto:!0,forced:!E("reduce")||!A&&R>79&&R<83},{reduce:function(G){var ne=arguments.length;return M(this,G,ne,ne>1?arguments[1]:void 0)}})},5975:(ee,ce,b)=>{"use strict";var O=b(664),M=b(2006),E=b(8143),R=M([].reverse),A=[1,2];O({target:"Array",proto:!0,forced:String(A)===String(A.reverse())},{reverse:function(){return E(this)&&(this.length=this.length),R(this)}})},8561:(ee,ce,b)=>{"use strict";var O=b(664),M=b(8143),E=b(5200),R=b(8886),A=b(8064),I=b(7951),N=b(8436),W=b(7182),G=b(7014),ne=b(1468),ae=b(8439),le=ne("slice"),he=G("species"),$=Array,de=Math.max;O({target:"Array",proto:!0,forced:!le},{slice:function(Ie,Re){var Ke,dt,rt,ze=N(this),it=I(ze),We=A(Ie,it),Oe=A(void 0===Re?it:Re,it);if(M(ze)&&((E(Ke=ze.constructor)&&(Ke===$||M(Ke.prototype))||R(Ke)&&null===(Ke=Ke[he]))&&(Ke=void 0),Ke===$||void 0===Ke))return ae(ze,We,Oe);for(dt=new(void 0===Ke?$:Ke)(de(Oe-We,0)),rt=0;We<Oe;We++,rt++)We in ze&&W(dt,rt,ze[We]);return dt.length=rt,dt}})},6949:(ee,ce,b)=>{"use strict";var O=b(664),M=b(2006),E=b(9366),R=b(3784),A=b(7951),I=b(8751),N=b(9005),W=b(7944),G=b(3142),ne=b(1815),ae=b(8077),le=b(4268),he=b(9905),$=b(1349),de=[],be=M(de.sort),Ie=M(de.push),Re=W(function(){de.sort(void 0)}),ze=W(function(){de.sort(null)}),it=ne("sort"),We=!W(function(){if(he)return he<70;if(!(ae&&ae>3)){if(le)return!0;if($)return $<603;var rt,yt,Pt,Ft,dt="";for(rt=65;rt<76;rt++){switch(yt=String.fromCharCode(rt),rt){case 66:case 69:case 70:case 72:Pt=3;break;case 68:case 71:Pt=4;break;default:Pt=2}for(Ft=0;Ft<47;Ft++)de.push({k:yt+Ft,v:Pt})}for(de.sort(function(Gt,Kt){return Kt.v-Gt.v}),Ft=0;Ft<de.length;Ft++)yt=de[Ft].k.charAt(0),dt.charAt(dt.length-1)!==yt&&(dt+=yt);return"DGBEFHACIJK"!==dt}});O({target:"Array",proto:!0,forced:Re||!ze||!it||!We},{sort:function(rt){void 0!==rt&&E(rt);var yt=R(this);if(We)return void 0===rt?be(yt):be(yt,rt);var Gt,Kt,Pt=[],Ft=A(yt);for(Kt=0;Kt<Ft;Kt++)Kt in yt&&Ie(Pt,yt[Kt]);for(G(Pt,function(dt){return function(rt,yt){return void 0===yt?-1:void 0===rt?1:void 0!==dt?+dt(rt,yt)||0:N(rt)>N(yt)?1:-1}}(rt)),Gt=A(Pt),Kt=0;Kt<Gt;)yt[Kt]=Pt[Kt++];for(;Kt<Ft;)I(yt,Kt++);return yt}})},8193:(ee,ce,b)=>{"use strict";var O=b(664),M=b(3784),E=b(8064),R=b(2048),A=b(7951),I=b(6712),N=b(8194),W=b(4275),G=b(7182),ne=b(8751),le=b(1468)("splice"),he=Math.max,$=Math.min;O({target:"Array",proto:!0,forced:!le},{splice:function(be,Ie){var Oe,Ke,dt,rt,yt,Pt,Re=M(this),ze=A(Re),it=E(be,ze),We=arguments.length;for(0===We?Oe=Ke=0:1===We?(Oe=0,Ke=ze-it):(Oe=We-2,Ke=$(he(R(Ie),0),ze-it)),N(ze+Oe-Ke),dt=W(Re,Ke),rt=0;rt<Ke;rt++)(yt=it+rt)in Re&&G(dt,rt,Re[yt]);if(dt.length=Ke,Oe<Ke){for(rt=it;rt<ze-Ke;rt++)Pt=rt+Oe,(yt=rt+Ke)in Re?Re[Pt]=Re[yt]:ne(Re,Pt);for(rt=ze;rt>ze-Ke+Oe;rt--)ne(Re,rt-1)}else if(Oe>Ke)for(rt=ze-Ke;rt>it;rt--)Pt=rt+Oe-1,(yt=rt+Ke-1)in Re?Re[Pt]=Re[yt]:ne(Re,Pt);for(rt=0;rt<Oe;rt++)Re[rt+it]=arguments[rt+2];return I(Re,ze-Ke+Oe),dt}})},2096:(ee,ce,b)=>{var O=b(5601),M=b(2891).EXISTS,E=b(2006),R=b(6607).f,A=Function.prototype,I=E(A.toString),N=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,W=E(N.exec);O&&!M&&R(A,"name",{configurable:!0,get:function(){try{return W(N,I(this))[1]}catch(ne){return""}}})},4993:(ee,ce,b)=>{var O=b(664),M=b(2149),E=b(5019),R=b(9836),A=b(2006),I=b(7944),N=b(8143),W=b(4513),G=b(8886),ne=b(2983),ae=b(8439),le=b(1656),he=M("JSON","stringify"),$=A(/./.exec),de=A("".charAt),be=A("".charCodeAt),Ie=A("".replace),Re=A(1..toString),ze=/[\uD800-\uDFFF]/g,it=/^[\uD800-\uDBFF]$/,We=/^[\uDC00-\uDFFF]$/,Oe=!le||I(function(){var yt=M("Symbol")();return"[null]"!=he([yt])||"{}"!=he({a:yt})||"{}"!=he(Object(yt))}),Ke=I(function(){return'"\\udf06\\ud834"'!==he("\udf06\ud834")||'"\\udead"'!==he("\udead")}),dt=function(yt,Pt){var Ft=ae(arguments),Gt=Pt;if((G(Pt)||void 0!==yt)&&!ne(yt))return N(Pt)||(Pt=function(Kt,Zt){if(W(Gt)&&(Zt=R(Gt,this,Kt,Zt)),!ne(Zt))return Zt}),Ft[1]=Pt,E(he,null,Ft)},rt=function(yt,Pt,Ft){var Gt=de(Ft,Pt-1),Kt=de(Ft,Pt+1);return $(it,yt)&&!$(We,Kt)||$(We,yt)&&!$(it,Gt)?"\\u"+Re(be(yt,0),16):yt};he&&O({target:"JSON",stat:!0,arity:3,forced:Oe||Ke},{stringify:function(Pt,Ft,Gt){var Kt=ae(arguments),Zt=E(Oe?dt:he,null,Kt);return Ke&&"string"==typeof Zt?Ie(Zt,ze,rt):Zt}})},5927:(ee,ce,b)=>{"use strict";b(7126)("Map",function(E){return function(){return E(this,arguments.length?arguments[0]:void 0)}},b(3977))},4564:(ee,ce,b)=>{b(5927)},6522:(ee,ce,b)=>{"use strict";var O=b(5601),M=b(4720),E=b(2006),R=b(9545),A=b(9047),I=b(8578),N=b(1072),W=b(846),G=b(2983),ne=b(6281),ae=b(7944),le=b(4283).f,he=b(313).f,$=b(6607).f,de=b(1506),be=b(9916).trim,Ie="Number",Re=M[Ie],ze=Re.prototype,it=M.TypeError,We=E("".slice),Oe=E("".charCodeAt),Ke=function(Gt){var Kt=ne(Gt,"number");return"bigint"==typeof Kt?Kt:dt(Kt)},dt=function(Gt){var Zt,It,Fe,ge,ht,Rt,$t,bn,Kt=ne(Gt,"number");if(G(Kt))throw it("Cannot convert a Symbol value to a number");if("string"==typeof Kt&&Kt.length>2)if(Kt=be(Kt),43===(Zt=Oe(Kt,0))||45===Zt){if(88===(It=Oe(Kt,2))||120===It)return NaN}else if(48===Zt){switch(Oe(Kt,1)){case 66:case 98:Fe=2,ge=49;break;case 79:case 111:Fe=8,ge=55;break;default:return+Kt}for(Rt=(ht=We(Kt,2)).length,$t=0;$t<Rt;$t++)if((bn=Oe(ht,$t))<48||bn>ge)return NaN;return parseInt(ht,Fe)}return+Kt};if(R(Ie,!Re(" 0o1")||!Re("0b1")||Re("+0x1"))){for(var Ft,rt=function(Kt){var Zt=arguments.length<1?0:Re(Ke(Kt)),It=this;return W(ze,It)&&ae(function(){de(It)})?N(Object(Zt),It,rt):Zt},yt=O?le(Re):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pt=0;yt.length>Pt;Pt++)I(Re,Ft=yt[Pt])&&!I(rt,Ft)&&$(rt,Ft,he(Re,Ft));rt.prototype=ze,ze.constructor=rt,A(M,Ie,rt,{constructor:!0})}},5296:(ee,ce,b)=>{b(664)({target:"Number",stat:!0},{isInteger:b(4904)})},7528:(ee,ce,b)=>{"use strict";var O=b(664),M=b(2006),E=b(2048),R=b(1506),A=b(4437),I=b(7944),N=RangeError,W=String,G=Math.floor,ne=M(A),ae=M("".slice),le=M(1..toFixed),he=function(ze,it,We){return 0===it?We:it%2==1?he(ze,it-1,We*ze):he(ze*ze,it/2,We)},de=function(ze,it,We){for(var Oe=-1,Ke=We;++Oe<6;)ze[Oe]=(Ke+=it*ze[Oe])%1e7,Ke=G(Ke/1e7)},be=function(ze,it){for(var We=6,Oe=0;--We>=0;)ze[We]=G((Oe+=ze[We])/it),Oe=Oe%it*1e7},Ie=function(ze){for(var it=6,We="";--it>=0;)if(""!==We||0===it||0!==ze[it]){var Oe=W(ze[it]);We=""===We?Oe:We+ne("0",7-Oe.length)+Oe}return We};O({target:"Number",proto:!0,forced:I(function(){return"0.000"!==le(8e-5,3)||"1"!==le(.9,0)||"1.25"!==le(1.255,2)||"1000000000000000128"!==le(0xde0b6b3a7640080,0)})||!I(function(){le({})})},{toFixed:function(it){var yt,Pt,Ft,Gt,We=R(this),Oe=E(it),Ke=[0,0,0,0,0,0],dt="",rt="0";if(Oe<0||Oe>20)throw N("Incorrect fraction digits");if(We!=We)return"NaN";if(We<=-1e21||We>=1e21)return W(We);if(We<0&&(dt="-",We=-We),We>1e-21)if(yt=function(ze){for(var it=0,We=ze;We>=4096;)it+=12,We/=4096;for(;We>=2;)it+=1,We/=2;return it}(We*he(2,69,1))-69,Pt=yt<0?We*he(2,-yt,1):We/he(2,yt,1),Pt*=4503599627370496,(yt=52-yt)>0){for(de(Ke,0,Pt),Ft=Oe;Ft>=7;)de(Ke,1e7,0),Ft-=7;for(de(Ke,he(10,Ft,1),0),Ft=yt-1;Ft>=23;)be(Ke,1<<23),Ft-=23;be(Ke,1<<Ft),de(Ke,1,1),be(Ke,2),rt=Ie(Ke)}else de(Ke,0,Pt),de(Ke,1<<-yt,0),rt=Ie(Ke)+ne("0",Oe);return rt=Oe>0?dt+((Gt=rt.length)<=Oe?"0."+ne("0",Oe-Gt)+rt:ae(rt,0,Gt-Oe)+"."+ae(rt,Gt-Oe)):dt+rt}})},7204:(ee,ce,b)=>{var O=b(664),M=b(5274);O({target:"Object",stat:!0,arity:2,forced:Object.assign!==M},{assign:M})},508:(ee,ce,b)=>{var O=b(664),M=b(2655),E=b(7944),R=b(8886),A=b(9346).onFreeze,I=Object.freeze;O({target:"Object",stat:!0,forced:E(function(){I(1)}),sham:!M},{freeze:function(G){return I&&R(G)?I(A(G)):G}})},5379:(ee,ce,b)=>{var O=b(664),M=b(7944),E=b(8436),R=b(313).f,A=b(5601),I=M(function(){R(1)});O({target:"Object",stat:!0,forced:!A||I,sham:!A},{getOwnPropertyDescriptor:function(G,ne){return R(E(G),ne)}})},171:(ee,ce,b)=>{var O=b(664),M=b(5601),E=b(4432),R=b(8436),A=b(313),I=b(7182);O({target:"Object",stat:!0,sham:!M},{getOwnPropertyDescriptors:function(W){for(var $,de,G=R(W),ne=A.f,ae=E(G),le={},he=0;ae.length>he;)void 0!==(de=ne(G,$=ae[he++]))&&I(le,$,de);return le}})},5785:(ee,ce,b)=>{var O=b(664),M=b(1656),E=b(7944),R=b(6095),A=b(3784);O({target:"Object",stat:!0,forced:!M||E(function(){R.f(1)})},{getOwnPropertySymbols:function(W){var G=R.f;return G?G(A(W)):[]}})},7862:(ee,ce,b)=>{var O=b(664),M=b(7944),E=b(3784),R=b(5456),A=b(8745);O({target:"Object",stat:!0,forced:M(function(){R(1)}),sham:!A},{getPrototypeOf:function(W){return R(E(W))}})},6019:(ee,ce,b)=>{var O=b(664),M=b(3784),E=b(5159);O({target:"Object",stat:!0,forced:b(7944)(function(){E(1)})},{keys:function(N){return E(M(N))}})},5281:(ee,ce,b)=>{b(664)({target:"Object",stat:!0},{setPrototypeOf:b(6736)})},1681:(ee,ce,b)=>{var O=b(5706),M=b(9047),E=b(6482);O||M(Object.prototype,"toString",E,{unsafe:!0})},2885:(ee,ce,b)=>{var O=b(664),M=b(8307).values;O({target:"Object",stat:!0},{values:function(R){return M(R)}})},4448:(ee,ce,b)=>{var O=b(664),M=b(2149),E=b(5019),R=b(4697),A=b(9493),I=b(6583),N=b(8886),W=b(1701),G=b(7944),ne=M("Reflect","construct"),ae=Object.prototype,le=[].push,he=G(function(){function be(){}return!(ne(function(){},[],be)instanceof be)}),$=!G(function(){ne(function(){})}),de=he||$;O({target:"Reflect",stat:!0,forced:de,sham:de},{construct:function(Ie,Re){A(Ie),I(Re);var ze=arguments.length<3?Ie:A(arguments[2]);if($&&!he)return ne(Ie,Re,ze);if(Ie==ze){switch(Re.length){case 0:return new Ie;case 1:return new Ie(Re[0]);case 2:return new Ie(Re[0],Re[1]);case 3:return new Ie(Re[0],Re[1],Re[2]);case 4:return new Ie(Re[0],Re[1],Re[2],Re[3])}var it=[null];return E(le,it,Re),new(E(R,Ie,it))}var We=ze.prototype,Oe=W(N(We)?We:ae),Ke=E(Ie,Oe,Re);return N(Ke)?Ke:Oe}})},6590:(ee,ce,b)=>{var O=b(664),M=b(9836),E=b(8886),R=b(6583),A=b(7859),I=b(313),N=b(5456);O({target:"Reflect",stat:!0},{get:function W(G,ne){var le,he,ae=arguments.length<3?G:arguments[2];return R(G)===ae?G[ne]:(le=I.f(G,ne))?A(le)?le.value:void 0===le.get?void 0:M(le.get,ae):E(he=N(G))?W(he,ne,ae):void 0}})},4881:(ee,ce,b)=>{var O=b(5601),M=b(4720),E=b(2006),R=b(9545),A=b(1072),I=b(3779),N=b(4283).f,W=b(846),G=b(1185),ne=b(9005),ae=b(2791),le=b(1810),he=b(6455),$=b(9047),de=b(7944),be=b(8578),Ie=b(979).enforce,Re=b(4087),ze=b(7014),it=b(1005),We=b(7633),Oe=ze("match"),Ke=M.RegExp,dt=Ke.prototype,rt=M.SyntaxError,yt=E(dt.exec),Pt=E("".charAt),Ft=E("".replace),Gt=E("".indexOf),Kt=E("".slice),Zt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,It=/a/g,Fe=/a/g,ge=new Ke(It)!==It,ht=le.MISSED_STICKY,Rt=le.UNSUPPORTED_Y;if(R("RegExp",O&&(!ge||ht||it||We||de(function(){return Fe[Oe]=!1,Ke(It)!=It||Ke(Fe)==Fe||"/a/i"!=Ke(It,"i")})))){for(var Ht=function(Hn,Mr){var di,ur,_e,He,Qe,St,Dn=W(dt,this),nn=G(Hn),Gr=void 0===Mr,gi=[],vi=Hn;if(!Dn&&nn&&Gr&&Hn.constructor===Ht)return Hn;if((nn||W(dt,Hn))&&(Hn=Hn.source,Gr&&(Mr=ae(vi))),Hn=void 0===Hn?"":ne(Hn),Mr=void 0===Mr?"":ne(Mr),vi=Hn,it&&"dotAll"in It&&(ur=!!Mr&&Gt(Mr,"s")>-1)&&(Mr=Ft(Mr,/s/g,"")),di=Mr,ht&&"sticky"in It&&(_e=!!Mr&&Gt(Mr,"y")>-1)&&Rt&&(Mr=Ft(Mr,/y/g,"")),We&&(He=function(Yn){for(var _e,Hn=Yn.length,Mr=0,Dn="",nn=[],Gr={},gi=!1,vi=!1,di=0,ur="";Mr<=Hn;Mr++){if("\\"===(_e=Pt(Yn,Mr)))_e+=Pt(Yn,++Mr);else if("]"===_e)gi=!1;else if(!gi)switch(!0){case"["===_e:gi=!0;break;case"("===_e:yt(Zt,Kt(Yn,Mr+1))&&(Mr+=2,vi=!0),Dn+=_e,di++;continue;case">"===_e&&vi:if(""===ur||be(Gr,ur))throw new rt("Invalid capture group name");Gr[ur]=!0,nn[nn.length]=[ur,di],vi=!1,ur="";continue}vi?ur+=_e:Dn+=_e}return[Dn,nn]}(Hn),Hn=He[0],gi=He[1]),Qe=A(Ke(Hn,Mr),Dn?this:dt,Ht),(ur||_e||gi.length)&&(St=Ie(Qe),ur&&(St.dotAll=!0,St.raw=Ht(function(Yn){for(var Gr,Hn=Yn.length,Mr=0,Dn="",nn=!1;Mr<=Hn;Mr++)"\\"!==(Gr=Pt(Yn,Mr))?nn||"."!==Gr?("["===Gr?nn=!0:"]"===Gr&&(nn=!1),Dn+=Gr):Dn+="[\\s\\S]":Dn+=Gr+Pt(Yn,++Mr);return Dn}(Hn),di)),_e&&(St.sticky=!0),gi.length&&(St.groups=gi)),Hn!==vi)try{I(Qe,"source",""===vi?"(?:)":vi)}catch(ct){}return Qe},Jn=N(Ke),Wn=0;Jn.length>Wn;)he(Ht,Ke,Jn[Wn++]);dt.constructor=Ht,Ht.prototype=dt,$(M,"RegExp",Ht,{constructor:!0})}Re("RegExp")},8068:(ee,ce,b)=>{"use strict";var O=b(664),M=b(8214);O({target:"RegExp",proto:!0,forced:/./.exec!==M},{exec:M})},5167:(ee,ce,b)=>{"use strict";var O=b(2891).PROPER,M=b(9047),E=b(6583),R=b(9005),A=b(7944),I=b(2791),N="toString",G=RegExp.prototype[N];(A(function(){return"/a/b"!=G.call({source:"a",flags:"b"})})||O&&G.name!=N)&&M(RegExp.prototype,N,function(){var he=E(this);return"/"+R(he.source)+"/"+R(I(he))},{unsafe:!0})},4906:(ee,ce,b)=>{"use strict";b(7126)("Set",function(E){return function(){return E(this,arguments.length?arguments[0]:void 0)}},b(3977))},3954:(ee,ce,b)=>{b(4906)},8377:(ee,ce,b)=>{"use strict";var O=b(664),M=b(5940).codeAt;O({target:"String",proto:!0},{codePointAt:function(R){return M(this,R)}})},3487:(ee,ce,b)=>{"use strict";var de,O=b(664),M=b(2006),E=b(313).f,R=b(7832),A=b(9005),I=b(1679),N=b(1413),W=b(312),G=b(2074),ne=M("".endsWith),ae=M("".slice),le=Math.min,he=W("endsWith");O({target:"String",proto:!0,forced:!(!G&&!he&&(de=E(String.prototype,"endsWith"),de&&!de.writable)||he)},{endsWith:function(be){var Ie=A(N(this));I(be);var Re=arguments.length>1?arguments[1]:void 0,ze=Ie.length,it=void 0===Re?ze:le(R(Re),ze),We=A(be);return ne?ne(Ie,We,it):ae(Ie,it-We.length,it)===We}})},4176:(ee,ce,b)=>{"use strict";var O=b(664),M=b(2006),E=b(1679),R=b(1413),A=b(9005),I=b(312),N=M("".indexOf);O({target:"String",proto:!0,forced:!I("includes")},{includes:function(G){return!!~N(A(R(this)),A(E(G)),arguments.length>1?arguments[1]:void 0)}})},631:(ee,ce,b)=>{"use strict";var O=b(5940).charAt,M=b(9005),E=b(979),R=b(4971),A=b(4761),I="String Iterator",N=E.set,W=E.getterFor(I);R(String,"String",function(G){N(this,{type:I,string:M(G),index:0})},function(){var he,ne=W(this),ae=ne.string,le=ne.index;return le>=ae.length?A(void 0,!0):(he=O(ae,le),ne.index+=he.length,A(he,!1))})},2337:(ee,ce,b)=>{"use strict";var O=b(664),M=b(8772);O({target:"String",proto:!0,forced:b(1558)("link")},{link:function(A){return M(this,"a","href",A)}})},9394:(ee,ce,b)=>{"use strict";var O=b(9836),M=b(5698),E=b(6583),R=b(8702),A=b(7832),I=b(9005),N=b(1413),W=b(2383),G=b(5470),ne=b(8325);M("match",function(ae,le,he){return[function(de){var be=N(this),Ie=R(de)?void 0:W(de,ae);return Ie?O(Ie,de,be):new RegExp(de)[ae](I(be))},function($){var de=E(this),be=I($),Ie=he(le,de,be);if(Ie.done)return Ie.value;if(!de.global)return ne(de,be);var Re=de.unicode;de.lastIndex=0;for(var We,ze=[],it=0;null!==(We=ne(de,be));){var Oe=I(We[0]);ze[it]=Oe,""===Oe&&(de.lastIndex=G(be,A(de.lastIndex),Re)),it++}return 0===it?null:ze}]})},1100:(ee,ce,b)=>{"use strict";var O=b(664),M=b(8922).start;O({target:"String",proto:!0,forced:b(2666)},{padStart:function(A){return M(this,A,arguments.length>1?arguments[1]:void 0)}})},9401:(ee,ce,b)=>{"use strict";var O=b(5019),M=b(9836),E=b(2006),R=b(5698),A=b(7944),I=b(6583),N=b(4513),W=b(8702),G=b(2048),ne=b(7832),ae=b(9005),le=b(1413),he=b(5470),$=b(2383),de=b(3653),be=b(8325),Re=b(7014)("replace"),ze=Math.max,it=Math.min,We=E([].concat),Oe=E([].push),Ke=E("".indexOf),dt=E("".slice),rt=function(Gt){return void 0===Gt?Gt:String(Gt)},yt="$0"==="a".replace(/./,"$0"),Pt=!!/./[Re]&&""===/./[Re]("a","$0");R("replace",function(Gt,Kt,Zt){var It=Pt?"$":"$0";return[function(ge,ht){var Rt=le(this),$t=W(ge)?void 0:$(ge,Re);return $t?M($t,ge,Rt,ht):M(Kt,ae(Rt),ge,ht)},function(Fe,ge){var ht=I(this),Rt=ae(Fe);if("string"==typeof ge&&-1===Ke(ge,It)&&-1===Ke(ge,"$<")){var $t=Zt(Kt,ht,Rt,ge);if($t.done)return $t.value}var bn=N(ge);bn||(ge=ae(ge));var Sn=ht.global;if(Sn){var Ht=ht.unicode;ht.lastIndex=0}for(var Jn=[];;){var Wn=be(ht,Rt);if(null===Wn||(Oe(Jn,Wn),!Sn))break;""===ae(Wn[0])&&(ht.lastIndex=he(Rt,ne(ht.lastIndex),Ht))}for(var Hn="",Mr=0,Dn=0;Dn<Jn.length;Dn++){for(var nn=ae((Wn=Jn[Dn])[0]),Gr=ze(it(G(Wn.index),Rt.length),0),gi=[],vi=1;vi<Wn.length;vi++)Oe(gi,rt(Wn[vi]));var di=Wn.groups;if(bn){var ur=We([nn],gi,Gr,Rt);void 0!==di&&Oe(ur,di);var _e=ae(O(ge,void 0,ur))}else _e=de(nn,Rt,Gr,gi,di,ge);Gr>=Mr&&(Hn+=dt(Rt,Mr,Gr)+_e,Mr=Gr+nn.length)}return Hn+dt(Rt,Mr)}]},!!A(function(){var Gt=/./;return Gt.exec=function(){var Kt=[];return Kt.groups={a:"7"},Kt},"7"!=="".replace(Gt,"$<a>")})||!yt||Pt)},2024:(ee,ce,b)=>{"use strict";var O=b(9836),M=b(5698),E=b(6583),R=b(8702),A=b(1413),I=b(1517),N=b(9005),W=b(2383),G=b(8325);M("search",function(ne,ae,le){return[function($){var de=A(this),be=R($)?void 0:W($,ne);return be?O(be,$,de):new RegExp($)[ne](N(de))},function(he){var $=E(this),de=N(he),be=le(ae,$,de);if(be.done)return be.value;var Ie=$.lastIndex;I(Ie,0)||($.lastIndex=0);var Re=G($,de);return I($.lastIndex,Ie)||($.lastIndex=Ie),null===Re?-1:Re.index}]})},3035:(ee,ce,b)=>{"use strict";var O=b(5019),M=b(9836),E=b(2006),R=b(5698),A=b(6583),I=b(8702),N=b(1185),W=b(1413),G=b(7347),ne=b(5470),ae=b(7832),le=b(9005),he=b(2383),$=b(5005),de=b(8325),be=b(8214),Ie=b(1810),Re=b(7944),ze=Ie.UNSUPPORTED_Y,it=4294967295,We=Math.min,Oe=[].push,Ke=E(/./.exec),dt=E(Oe),rt=E("".slice);R("split",function(Pt,Ft,Gt){var Kt;return Kt="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(Zt,It){var Fe=le(W(this)),ge=void 0===It?it:It>>>0;if(0===ge)return[];if(void 0===Zt)return[Fe];if(!N(Zt))return M(Ft,Fe,Zt,ge);for(var Sn,Ht,Jn,ht=[],$t=0,bn=new RegExp(Zt.source,(Zt.ignoreCase?"i":"")+(Zt.multiline?"m":"")+(Zt.unicode?"u":"")+(Zt.sticky?"y":"")+"g");(Sn=M(be,bn,Fe))&&!((Ht=bn.lastIndex)>$t&&(dt(ht,rt(Fe,$t,Sn.index)),Sn.length>1&&Sn.index<Fe.length&&O(Oe,ht,$(Sn,1)),Jn=Sn[0].length,$t=Ht,ht.length>=ge));)bn.lastIndex===Sn.index&&bn.lastIndex++;return $t===Fe.length?(Jn||!Ke(bn,""))&&dt(ht,""):dt(ht,rt(Fe,$t)),ht.length>ge?$(ht,0,ge):ht}:"0".split(void 0,0).length?function(Zt,It){return void 0===Zt&&0===It?[]:M(Ft,this,Zt,It)}:Ft,[function(It,Fe){var ge=W(this),ht=I(It)?void 0:he(It,Pt);return ht?M(ht,It,ge,Fe):M(Kt,le(ge),It,Fe)},function(Zt,It){var Fe=A(this),ge=le(Zt),ht=Gt(Kt,Fe,ge,It,Kt!==Ft);if(ht.done)return ht.value;var Rt=G(Fe,RegExp),$t=Fe.unicode,Sn=new Rt(ze?"^(?:"+Fe.source+")":Fe,(Fe.ignoreCase?"i":"")+(Fe.multiline?"m":"")+(Fe.unicode?"u":"")+(ze?"g":"y")),Ht=void 0===It?it:It>>>0;if(0===Ht)return[];if(0===ge.length)return null===de(Sn,ge)?[ge]:[];for(var Jn=0,Wn=0,Yn=[];Wn<ge.length;){Sn.lastIndex=ze?0:Wn;var Mr,Hn=de(Sn,ze?rt(ge,Wn):ge);if(null===Hn||(Mr=We(ae(Sn.lastIndex+(ze?Wn:0)),ge.length))===Jn)Wn=ne(ge,Wn,$t);else{if(dt(Yn,rt(ge,Jn,Wn)),Yn.length===Ht)return Yn;for(var Dn=1;Dn<=Hn.length-1;Dn++)if(dt(Yn,Hn[Dn]),Yn.length===Ht)return Yn;Wn=Jn=Mr}}return dt(Yn,rt(ge,Jn)),Yn}]},!!Re(function(){var Pt=/(?:)/,Ft=Pt.exec;Pt.exec=function(){return Ft.apply(this,arguments)};var Gt="ab".split(Pt);return 2!==Gt.length||"a"!==Gt[0]||"b"!==Gt[1]}),ze)},9778:(ee,ce,b)=>{"use strict";var de,O=b(664),M=b(2006),E=b(313).f,R=b(7832),A=b(9005),I=b(1679),N=b(1413),W=b(312),G=b(2074),ne=M("".startsWith),ae=M("".slice),le=Math.min,he=W("startsWith");O({target:"String",proto:!0,forced:!(!G&&!he&&(de=E(String.prototype,"startsWith"),de&&!de.writable)||he)},{startsWith:function(be){var Ie=A(N(this));I(be);var Re=R(le(arguments.length>1?arguments[1]:void 0,Ie.length)),ze=A(be);return ne?ne(Ie,ze,Re):ae(Ie,Re,Re+ze.length)===ze}})},3388:(ee,ce,b)=>{"use strict";var O=b(664),M=b(9916).trim;O({target:"String",proto:!0,forced:b(4304)("trim")},{trim:function(){return M(this)}})},8202:(ee,ce,b)=>{"use strict";var O=b(664),M=b(4720),E=b(9836),R=b(2006),A=b(2074),I=b(5601),N=b(1656),W=b(7944),G=b(8578),ne=b(846),ae=b(6583),le=b(8436),he=b(2637),$=b(9005),de=b(8808),be=b(1701),Ie=b(5159),Re=b(4283),ze=b(3138),it=b(6095),We=b(313),Oe=b(6607),Ke=b(9106),dt=b(6491),rt=b(9047),yt=b(5443),Pt=b(9660),Ft=b(7086),Gt=b(1387),Kt=b(7014),Zt=b(8775),It=b(8810),Fe=b(5439),ge=b(5387),ht=b(979),Rt=b(8657).forEach,$t=Pt("hidden"),bn="Symbol",Sn="prototype",Ht=ht.set,Jn=ht.getterFor(bn),Wn=Object[Sn],Yn=M.Symbol,Hn=Yn&&Yn[Sn],Mr=M.TypeError,Dn=M.QObject,nn=We.f,Gr=Oe.f,gi=ze.f,vi=dt.f,di=R([].push),ur=yt("symbols"),_e=yt("op-symbols"),He=yt("wks"),Qe=!Dn||!Dn[Sn]||!Dn[Sn].findChild,St=I&&W(function(){return 7!=be(Gr({},"a",{get:function(){return Gr(this,"a",{value:7}).a}})).a})?function(dn,xn,Un){var br=nn(Wn,xn);br&&delete Wn[xn],Gr(dn,xn,Un),br&&dn!==Wn&&Gr(Wn,xn,br)}:Gr,ct=function(dn,xn){var Un=ur[dn]=be(Hn);return Ht(Un,{type:bn,tag:dn,description:xn}),I||(Un.description=xn),Un},qe=function(xn,Un,br){xn===Wn&&qe(_e,Un,br),ae(xn);var si=he(Un);return ae(br),G(ur,si)?(br.enumerable?(G(xn,$t)&&xn[$t][si]&&(xn[$t][si]=!1),br=be(br,{enumerable:de(0,!1)})):(G(xn,$t)||Gr(xn,$t,de(1,{})),xn[$t][si]=!0),St(xn,si,br)):Gr(xn,si,br)},Xe=function(xn,Un){ae(xn);var br=le(Un),si=Ie(br).concat(qt(br));return Rt(si,function(li){(!I||E(_t,br,li))&&qe(xn,li,br[li])}),xn},_t=function(xn){var Un=he(xn),br=E(vi,this,Un);return!(this===Wn&&G(ur,Un)&&!G(_e,Un))&&(!(br||!G(this,Un)||!G(ur,Un)||G(this,$t)&&this[$t][Un])||br)},mt=function(xn,Un){var br=le(xn),si=he(Un);if(br!==Wn||!G(ur,si)||G(_e,si)){var li=nn(br,si);return li&&G(ur,si)&&!(G(br,$t)&&br[$t][si])&&(li.enumerable=!0),li}},Ct=function(xn){var Un=gi(le(xn)),br=[];return Rt(Un,function(si){!G(ur,si)&&!G(Ft,si)&&di(br,si)}),br},qt=function(dn){var xn=dn===Wn,Un=gi(xn?_e:le(dn)),br=[];return Rt(Un,function(si){G(ur,si)&&(!xn||G(Wn,si))&&di(br,ur[si])}),br};N||(rt(Hn=(Yn=function(){if(ne(Hn,this))throw Mr("Symbol is not a constructor");var xn=arguments.length&&void 0!==arguments[0]?$(arguments[0]):void 0,Un=Gt(xn),br=function(si){this===Wn&&E(br,_e,si),G(this,$t)&&G(this[$t],Un)&&(this[$t][Un]=!1),St(this,Un,de(1,si))};return I&&Qe&&St(Wn,Un,{configurable:!0,set:br}),ct(Un,xn)})[Sn],"toString",function(){return Jn(this).tag}),rt(Yn,"withoutSetter",function(dn){return ct(Gt(dn),dn)}),dt.f=_t,Oe.f=qe,Ke.f=Xe,We.f=mt,Re.f=ze.f=Ct,it.f=qt,Zt.f=function(dn){return ct(Kt(dn),dn)},I&&(Gr(Hn,"description",{configurable:!0,get:function(){return Jn(this).description}}),A||rt(Wn,"propertyIsEnumerable",_t,{unsafe:!0}))),O({global:!0,constructor:!0,wrap:!0,forced:!N,sham:!N},{Symbol:Yn}),Rt(Ie(He),function(dn){It(dn)}),O({target:bn,stat:!0,forced:!N},{useSetter:function(){Qe=!0},useSimple:function(){Qe=!1}}),O({target:"Object",stat:!0,forced:!N,sham:!I},{create:function(xn,Un){return void 0===Un?be(xn):Xe(be(xn),Un)},defineProperty:qe,defineProperties:Xe,getOwnPropertyDescriptor:mt}),O({target:"Object",stat:!0,forced:!N},{getOwnPropertyNames:Ct}),Fe(),ge(Yn,bn),Ft[$t]=!0},2162:(ee,ce,b)=>{"use strict";var O=b(664),M=b(5601),E=b(4720),R=b(2006),A=b(8578),I=b(4513),N=b(846),W=b(9005),G=b(6607).f,ne=b(1975),ae=E.Symbol,le=ae&&ae.prototype;if(M&&I(ae)&&(!("description"in le)||void 0!==ae().description)){var he={},$=function(){var Oe=arguments.length<1||void 0===arguments[0]?void 0:W(arguments[0]),Ke=N(le,this)?new ae(Oe):void 0===Oe?ae():ae(Oe);return""===Oe&&(he[Ke]=!0),Ke};ne($,ae),$.prototype=le,le.constructor=$;var de="Symbol(test)"==String(ae("test")),be=R(le.valueOf),Ie=R(le.toString),Re=/^Symbol\((.*)\)[^)]+$/,ze=R("".replace),it=R("".slice);G(le,"description",{configurable:!0,get:function(){var Oe=be(this);if(A(he,Oe))return"";var Ke=Ie(Oe),dt=de?it(Ke,7,-1):ze(Ke,Re,"$1");return""===dt?void 0:dt}}),O({global:!0,constructor:!0,forced:!0},{Symbol:$})}},8774:(ee,ce,b)=>{var O=b(664),M=b(2149),E=b(8578),R=b(9005),A=b(5443),I=b(348),N=A("string-to-symbol-registry"),W=A("symbol-to-string-registry");O({target:"Symbol",stat:!0,forced:!I},{for:function(G){var ne=R(G);if(E(N,ne))return N[ne];var ae=M("Symbol")(ne);return N[ne]=ae,W[ae]=ne,ae}})},9117:(ee,ce,b)=>{b(8810)("iterator")},1044:(ee,ce,b)=>{b(8202),b(8774),b(7613),b(4993),b(5785)},7613:(ee,ce,b)=>{var O=b(664),M=b(8578),E=b(2983),R=b(7366),A=b(5443),I=b(348),N=A("symbol-to-string-registry");O({target:"Symbol",stat:!0,forced:!I},{keyFor:function(G){if(!E(G))throw TypeError(R(G)+" is not a symbol");if(M(N,G))return N[G]}})},5128:(ee,ce,b)=>{"use strict";var le,O=b(4720),M=b(2006),E=b(7125),R=b(9346),A=b(7126),I=b(1725),N=b(8886),W=b(3892),G=b(979).enforce,ne=b(2488),ae=!O.ActiveXObject&&"ActiveXObject"in O,he=function(it){return function(){return it(this,arguments.length?arguments[0]:void 0)}},$=A("WeakMap",he,I);if(ne&&ae){le=I.getConstructor(he,"WeakMap",!0),R.enable();var de=$.prototype,be=M(de.delete),Ie=M(de.has),Re=M(de.get),ze=M(de.set);E(de,{delete:function(it){if(N(it)&&!W(it)){var We=G(this);return We.frozen||(We.frozen=new le),be(this,it)||We.frozen.delete(it)}return be(this,it)},has:function(We){if(N(We)&&!W(We)){var Oe=G(this);return Oe.frozen||(Oe.frozen=new le),Ie(this,We)||Oe.frozen.has(We)}return Ie(this,We)},get:function(We){if(N(We)&&!W(We)){var Oe=G(this);return Oe.frozen||(Oe.frozen=new le),Ie(this,We)?Re(this,We):Oe.frozen.get(We)}return Re(this,We)},set:function(We,Oe){if(N(We)&&!W(We)){var Ke=G(this);Ke.frozen||(Ke.frozen=new le),Ie(this,We)?ze(this,We,Oe):Ke.frozen.set(We,Oe)}else ze(this,We,Oe);return this}})}},3902:(ee,ce,b)=>{b(5128)},7184:(ee,ce,b)=>{"use strict";b(7126)("WeakSet",function(E){return function(){return E(this,arguments.length?arguments[0]:void 0)}},b(1725))},1514:(ee,ce,b)=>{b(7184)},1606:(ee,ce,b)=>{var O=b(664),M=b(4720),E=b(5484).clear;O({global:!0,bind:!0,enumerable:!0,forced:M.clearImmediate!==E},{clearImmediate:E})},4018:(ee,ce,b)=>{var O=b(4720),M=b(1331),E=b(4970),R=b(441),A=b(3779),I=function(W){if(W&&W.forEach!==R)try{A(W,"forEach",R)}catch(G){W.forEach=R}};for(var N in M)M[N]&&I(O[N]&&O[N].prototype);I(E)},223:(ee,ce,b)=>{var O=b(4720),M=b(1331),E=b(4970),R=b(4952),A=b(3779),I=b(7014),N=I("iterator"),W=I("toStringTag"),G=R.values,ne=function(le,he){if(le){if(le[N]!==G)try{A(le,N,G)}catch(de){le[N]=G}if(le[W]||A(le,W,he),M[he])for(var $ in R)if(le[$]!==R[$])try{A(le,$,R[$])}catch(de){le[$]=R[$]}}};for(var ae in M)ne(O[ae]&&O[ae].prototype,ae);ne(E,"DOMTokenList")},1261:(ee,ce,b)=>{b(1606),b(2474)},2474:(ee,ce,b)=>{var O=b(664),M=b(4720),E=b(5484).set;O({global:!0,bind:!0,enumerable:!0,forced:M.setImmediate!==E},{setImmediate:E})},7050:(ee,ce,b)=>{var O=b(664),M=b(4720),E=b(9780).setInterval;O({global:!0,bind:!0,forced:M.setInterval!==E},{setInterval:E})},6248:(ee,ce,b)=>{var O=b(664),M=b(4720),E=b(9780).setTimeout;O({global:!0,bind:!0,forced:M.setTimeout!==E},{setTimeout:E})},9443:(ee,ce,b)=>{b(7050),b(6248)},1670:(ee,ce,b)=>{"use strict";function O(E,R,A,I,N,W,G){try{var ne=E[W](G),ae=ne.value}catch(le){return void A(le)}ne.done?R(ae):Promise.resolve(ae).then(I,N)}function M(E){return function(){var R=this,A=arguments;return new Promise(function(I,N){var W=E.apply(R,A);function G(ae){O(W,I,N,G,ne,"next",ae)}function ne(ae){O(W,I,N,G,ne,"throw",ae)}G(void 0)})}}b.d(ce,{Z:()=>M})}},ee=>{ee(ee.s=4053)}]);
//# sourceMappingURL=main.6d7f950e75b1a1bf.js.map